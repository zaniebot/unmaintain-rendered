<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ty does not work with uvx --with - astral-sh/ty #1304</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ty does not work with uvx --with</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1304">#1304</a>
        opened by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a>
        on 2025-10-04 00:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a></div>
            <div class="timeline-body">Summary
<p>Not sure if this is fixable on ty&#x27;s end, but trying to type check code using modules from <code>--with</code> does not work. It would be nice if it did for quick testing/runs.
Example:</p>
<pre><code>PS ~\python_projects&gt;echo &quot;from typing import reveal_type;import pytest;reveal_type(pytest.fail)&quot; &gt; issue.py
PS ~\python_projects&gt;uvx --with pytest ty check issue.py
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 1/1 files                                         
error[unresolved-import]: Cannot resolve imported module `pytest`
 --&gt; issue.py:1:39
  |
1 | from typing import reveal_type;import pytest;reveal_type(pytest.fail)
  |                                       ^^^^^^
  |
info: Searched in the following paths during module resolution:
info:   1. C:\...\python_projects (first-party code)
info:   2. vendored://stdlib (stdlib typeshed stubs vendored by ty)
info:   3. C:\...\python_projects\.venv\Lib\site-packages (site-packages)
info: make sure your Python environment is properly configured: https://docs.astral.sh/ty/modules/#python-environment
info: rule `unresolved-import` is enabled by default

info[revealed-type]: Revealed type
 --&gt; issue.py:1:58
  |
1 | from typing import reveal_type;import pytest;reveal_type(pytest.fail)
  |                                                          ^^^^^^^^^^^ `Unknown`
  |

Found 2 diagnostics
</code></pre>
<p>Also note that <code>~\python_projects</code> does not have a <code>.venv</code></p>
Version
<p>ty 0.0.1-alpha.21 (ef52a1940 2025-09-19)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-04 07:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:41 UTC
    </footer>
</body>
</html>
