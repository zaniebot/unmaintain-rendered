<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ty Cannot handle ** operator (dictionary unpacking) when the dictionary comes from the user. - astral-sh/ty #1099</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ty Cannot handle ** operator (dictionary unpacking) when the dictionary comes from the user.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1099">#1099</a>
        opened by <a href="https://github.com/boompig">@boompig</a>
        on 2025-08-26 18:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/boompig">@boompig</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>Example code:</p>
<pre><code class="language-python">import json
import logging
from dataclasses import dataclass

@dataclass
class MyClass:
      x: int

with open(&quot;file.json&quot;) as fp:
    d = json.load(fp)
    assert isinstance(d, dict)
    try:
        foo = MyClass(**d)
    except TypeError as err:
        logging.error(&quot;The input does not conform to my class. Stop.&quot;)
</code></pre>
<p>Not sure if this is a bug or what the correct way to ignore this error is.</p>
<h3>Output</h3>
<pre><code>error[missing-argument]: No argument provided for required parameter `x`
  --&gt; /tmp/foo.py:13:15
   |
11 |     assert isinstance(d, dict)
12 |     try:
13 |         foo = MyClass(**d)
   |               ^^^^^^^^^^^^
14 |     except TypeError as err:
15 |         logging.error(&quot;The input does not conform to my class. Stop.&quot;)
   |
info: rule `missing-argument` is enabled by default

Found 1 diagnostic
</code></pre>
<h3>Version</h3>
<p>ty 0.0.1-alpha.19 (e9cb838b3 2025-08-19)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @boompig on 2025-08-26 18:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-08-26 18:45</div>
            <div class="timeline-body"><p>Thank you for reporting this.</p>
<p>Please see https://github.com/astral-sh/ty/issues/247</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-08-26 18:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:20:33 UTC
    </footer>
</body>
</html>
