<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inlay Hints Variable Types Not Respected in VS Code - astral-sh/ty #2209</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Inlay Hints Variable Types Not Respected in VS Code</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2209">#2209</a>
        opened by <a href="https://github.com/agedburd">@agedburd</a>
        on 2025-12-24 20:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/agedburd">@agedburd</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The &quot;Inlay Hints: Variable Types&quot; setting for both User and Workspace are not respected in the VS Code extension.</p>
<p><img width="588" height="345" alt="Image" src="https://github.com/user-attachments/assets/43c0f4ac-8ae3-43ed-b787-4389cbd6fa65" /></p>
<p><img width="583" height="326" alt="Image" src="https://github.com/user-attachments/assets/9d503ae8-dc75-4489-a4ef-5a8f34e0ef69" /></p>
<p>VS Code version 1.107.1</p>
<p>Example code:</p>
<pre><code class="language-python">import pandas as pd
temp = {}
ref_df = pd.DataFrame.from_records(
    list(temp.values()),
    index=list(temp.keys()),
    columns=[&quot;start_date&quot;, &quot;end_date&quot;],
)
</code></pre>
<h3>Version</h3>
<p>ty 0.0.6</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-12-24 21:17</div>
            <div class="timeline-body"><p>This setting seems to be working when I tried to reproduce it locally. Could these inlay hints be coming from pylance?</p>
<p><img src="https://github.com/user-attachments/assets/8b5d3e71-0291-4ad1-abb4-67cf9afc122b" alt="Image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ntBre on 2025-12-24 21:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by @dhruvmanila on 2025-12-25 09:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/agedburd">@agedburd</a> on 2025-12-29 16:32</div>
            <div class="timeline-body"><p>I do have pylance installed, but have my language server set to None as per the editor integration page:</p>
<p><img width="349" height="133" alt="Image" src="https://github.com/user-attachments/assets/22513082-74a6-4681-a75f-8f11030547c9" /></p>
<p>The default for pylance, and my current setting, is to have variable type inlay hints off:</p>
<p><img width="883" height="452" alt="Image" src="https://github.com/user-attachments/assets/a97d0ceb-d771-4105-a3bd-dcfd5a40c48c" /></p>
<p>Updated to 0.0.8 and this is still occurring. It's definitely coming from ty or some unexpected interaction with ty.</p>
<p>https://github.com/user-attachments/assets/e466b5eb-a0fb-4d6d-bdf1-17b65693adec</p>
<p>https://github.com/user-attachments/assets/fcd04906-e04c-43a1-8254-f5e809914d7e</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/agedburd">@agedburd</a> on 2025-12-29 16:50</div>
            <div class="timeline-body"><p>I just realized I also had a ty dependency in my pyproject.toml that was causing the whole thing. Thank you for your time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @agedburd on 2025-12-29 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-29 16:54</div>
            <div class="timeline-body"><p>No worries. I'm glad you figured it out and thanks for letting us know that it's now working. Happy holidays</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:33 UTC
    </footer>
</body>
</html>
