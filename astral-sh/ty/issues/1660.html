<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>invalid-method-override - subclassing with kwargs - astral-sh/ty #1660</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>invalid-method-override - subclassing with kwargs</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1660">#1660</a>
        opened by <a href="https://github.com/brentonmcs">@brentonmcs</a>
        on 2025-11-27 21:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/brentonmcs">@brentonmcs</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi,</p>
<p>We have a base class that we subclass through our solution which has a method:</p>
<p><code>def transform(self, **child_data: pd.DataFrame) -&gt; pd.DataFrame:</code></p>
<p>Between alpha 27 and 28 this now reports this as invalid-method-override when we subclass as</p>
<p><code>def transform( self, query1 : pd.DataFrame, query2 : pd.DataFrame) -&gt; pd.DataFrame:</code></p>
<p>Is this expected?</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.28</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-11-27 22:23</div>
            <div class="timeline-body"><p>Hi! Yes, this is expected. The signature of <code>transform()</code> on your base class means that the method will accept arbitrary keyword arguments without erroring, but the signature of <code>transform()</code> on your subclass only accepts two possible keyword arguments (<code>query1</code> and <code>query2</code>). That means that there are many possible combinations of keyword arguments that would be permitted by the method on the base class but are not permitted by the method on the subclass, which is a violation of the Liskov Substitution Principle</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-11-27 22:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:04 UTC
    </footer>
</body>
</html>
