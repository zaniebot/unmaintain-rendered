<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go-to-definition not working within classes - astral-sh/ty #1295</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Go-to-definition not working within classes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1295">#1295</a>
        opened by <a href="https://github.com/mjscriba">@mjscriba</a>
        on 2025-10-01 14:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mjscriba">@mjscriba</a></div>
            <div class="timeline-body">Summary
<p>Version: ty 0.0.1-alpha.21
IDE: Zed</p>
<p>I can&#x27;t for the life of me get &#x27;go to definition&#x27; to work <em>within</em> classes. It works to external classes, and for functions, just not for <code>self</code> referenced classes.</p>
<p>Here&#x27;s a minimal reproduction case:</p>
<pre><code>class Test:
    def __init__():
        pass

    def first_method(self):
        pass

    def second_method(self):
        self.first_method()
</code></pre>
<p>Ctrl+click on <code>self.first_method()</code> in Zed (latest version) does nothing. The logs show this:</p>
<pre><code>// Send:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:943,&quot;method&quot;:&quot;textDocument/definition&quot;,&quot;params&quot;:{&quot;textDocument&quot;:{&quot;uri&quot;:&quot;file:///class_test.py&quot;},&quot;position&quot;:{&quot;line&quot;:7,&quot;character&quot;:14}}}

// Receive:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:943,&quot;result&quot;:[{&quot;originSelectionRange&quot;:{&quot;end&quot;:{&quot;character&quot;:20,&quot;line&quot;:7},&quot;start&quot;:{&quot;character&quot;:8,&quot;line&quot;:7}},&quot;targetRange&quot;:{&quot;end&quot;:{&quot;character&quot;:12,&quot;line&quot;:8},&quot;start&quot;:{&quot;character&quot;:4,&quot;line&quot;:7}},&quot;targetSelectionRange&quot;:{&quot;end&quot;:{&quot;character&quot;:20,&quot;line&quot;:7},&quot;start&quot;:{&quot;character&quot;:8,&quot;line&quot;:7}},&quot;targetUri&quot;:&quot;file:///class_test.py&quot;}]}

// Send:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:944,&quot;method&quot;:&quot;textDocument/definition&quot;,&quot;params&quot;:{&quot;textDocument&quot;:{&quot;uri&quot;:&quot;file:///class_test.py&quot;},&quot;position&quot;:{&quot;line&quot;:11,&quot;character&quot;:24}}}

// Receive:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:944,&quot;result&quot;:null}

// Send:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:945,&quot;method&quot;:&quot;textDocument/documentHighlight&quot;,&quot;params&quot;:{&quot;textDocument&quot;:{&quot;uri&quot;:&quot;file:///class_test.py&quot;},&quot;position&quot;:{&quot;line&quot;:12,&quot;character&quot;:0}}}

// Receive:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:945,&quot;result&quot;:null}

// Send:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:946,&quot;method&quot;:&quot;textDocument/documentHighlight&quot;,&quot;params&quot;:{&quot;textDocument&quot;:{&quot;uri&quot;:&quot;file:///class_test.py&quot;},&quot;position&quot;:{&quot;line&quot;:12,&quot;character&quot;:0}}}

// Receive:
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:946,&quot;result&quot;:null}
</code></pre>
Version
<p>ty 0.0.1-alpha.21</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-01 15:05</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
<p>This is a duplicate of #159. You can see #1283, and other similar issues in our tracker, for an explanation for why</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-01 15:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:40 UTC
    </footer>
</body>
</html>
