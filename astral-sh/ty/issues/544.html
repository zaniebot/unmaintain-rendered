<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>support typing.TypeAlias (PEP 613) - astral-sh/ty #544</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>support typing.TypeAlias (PEP 613)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/544">#544</a>
        opened by <a href="https://github.com/carljm">@carljm</a>
        on 2025-05-30 00:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/carljm">@carljm</a> on 2025-05-30 00:52</div>
            <div class="timeline-body"><p>If a name is annotated as <code>typing.TypeAlias</code>, the RHS should be evaluated as a type expression.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">typing semantics</span> added by @carljm on 2025-05-30 00:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-06-03 07:12</div>
            <div class="timeline-body"><p>A minor note here: Not that this needs to be a blocker, but if we implement this before fixing the recursive types problem, we'll have to move ~10 projects to &quot;bad.txt&quot; (<a href="https://github.com/astral-sh/ruff/pull/18214">ref</a>), and we probably have to expect more panics on user projects as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-06-03 07:28</div>
            <div class="timeline-body"><blockquote>
<p>A minor note here: Not that this needs to be a blocker, but if we implement this before fixing the recursive types problem, we'll have to move ~10 projects to &quot;bad.txt&quot; (<a href="https://github.com/astral-sh/ruff/pull/18214">ref</a>), and we probably have to expect more panics on user projects as well.</p>
</blockquote>
<p>I'm sort-of surprised that's &quot;all&quot;! Typeshed uses recursive type aliases for some very fundamental functions in the stdlib: https://github.com/astral-sh/ruff/blob/e2d96df50192803abe63cb0865b447c2552c2eff/crates/ty_vendored/vendor/typeshed/stdlib/builtins.pyi#L1533. I'm somewhat uneasy about implementing support for <code>TypeAlias</code> unless we're confident that we don't (and won't) panic on typeshed's annotations there.</p>
<p>(Even if we don't <em>currently</em> panic on that alias after support for <code>TypeAlias</code> has been added, is there a risk that there's another missing feature that means we don't understand that alias fully right now which, when implemented, suddenly causes us to start panicking?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Beta" by @carljm on 2025-06-11 00:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @carljm by @carljm on 2025-08-15 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "support typing.TypeAlias" to "support typing.TypeAlias (PEP 613)" by @AlexWaygood on 2025-10-06 15:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @ibraheemdev by @ibraheemdev on 2025-10-17 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @carljm by @MichaReiser on 2025-10-17 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @carljm by @carljm on 2025-10-30 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @ibraheemdev by @carljm on 2025-10-30 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-11-12 02:16</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/ruff/pull/21394 will mostly fix this, with the exception of recursive aliases (they don't panic, but the point of recursion becomes <code>Unknown</code>) ~~and stringified types on the RHS of a TypeAlias~~. Will fix those separately (the latter pre-beta, the former probably not.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-11-21 02:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-11-21 02:02</div>
            <div class="timeline-body"><p>Closing this issue. Full recursive type alias support is tracked in #1604</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:07 UTC
    </footer>
</body>
</html>
