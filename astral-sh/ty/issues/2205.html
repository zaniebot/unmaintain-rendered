<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve the developer experience of working on ty - astral-sh/ty #2205</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve the developer experience of working on ty</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2205">#2205</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2025-12-24 13:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-24 13:46</div>
            <div class="timeline-body"><p>We discussed in a recent ty planning meeting that it can sometimes feel a bit painful to work on ty right now as a developer. Things that we discussed which might help include:</p>
<ul>
<li>Improving the typing-conformance workflow. All lines in the typing-conformance test suite where a type checker <em>should</em> emit an error have an <code># E</code> comment next to them; a type checker is not expected to emit an error on any other lines. It should therefore not be too hard to improve this workflow so that it automatically tells you whether a diagnostic being added or going away is a good or bad change.</li>
<li>Make the ecosystem-analyzer and/or mypy_primer workflow more &quot;positive&quot;. If you've worked for several days on a PR, it can be a bit dispiriting to then be greeted with an overwhelming list of new diagnostics being emitted on the ecosystem that you have to dig through and analyze. It would be nice to also have more positive feedback, such as: &quot;You reduced the percentage of <code>@Todo</code> or <code>Unknown</code> types in the ecosystem by 37%, well done!&quot;.</li>
<li>Make the ecosystem reports easier to analyze:<ul>
<li>Could we run other type checkers on this code as well, and also have an indication in the report about whether our diagnostics are in line with those of other type checkers? It's often useful to know that other type checkers also emit an error on a certain line of code.</li>
<li>Fix https://github.com/astral-sh/ty/issues/1670</li>
</ul>
</li>
</ul>
<p>We didn't discuss it explicitly in the meeting, but I'd also add to this list:</p>
<ul>
<li>Reduce the number of generated files that it's necessary to check in when making a PR. We're adding/removing/renaming/redocumenting diagnostics at a very quick velocity right now. Having to run <code>cargo dev generate-all</code> increases the amount of time it takes to prepare a PR (I have to compile a whole different crate locally before submitting it), and it's hard to remember to do it, so you often end up filing the PR, then only remembering to run <code>cargo dev generate-all</code> when CI starts to fail. Generating the <code>rules.md</code> docs and the <code>ty.schema.json</code> file feel like they could be done as part of the release workflow on this repository, rather than having to be checked in as part of PRs to the Ruff repository? Alternatively, we could look at whether these files could be generated automatically behind the scenes when running <code>mdtest.py</code> or <code>cargo test -p ty_python_semantic</code>; then you wouldn't have to remember to execute a separate command before filing the PR.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @AlexWaygood on 2025-12-24 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @AlexWaygood on 2025-12-24 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-24 13:49</div>
            <div class="timeline-body"><blockquote>
<p>Alternatively, we could look at whether these files could be generated automatically behind the scenes when running mdtest.py or cargo test -p ty_python_semantic; then you wouldn't have to remember to execute a separate command before filing the PR.</p>
</blockquote>
<p>We could consider an ENV variable for people who prefer this YOLO mode (I don't)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-24 14:01</div>
            <div class="timeline-body"><p>Another advantage of only generating these files as part of the release workflow (rather than having to do it as part of PRs to the Ruff repo at all) is that it would make it much easier for people to submit drive-by docs contributions. In my experience, drive-by docs contributors often tend to edit the source directly from the GitHub UI; they might not even have Ruff cloned locally, let alone have Rust installed. I think most contributors don't expect that they'll need to run a regeneration script when editing the docs. Removing the need to run the regeneration script and commit the changes for every docs PR makes our repo much more friendly to that category of external contributors, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-12-24 21:06</div>
            <div class="timeline-body"><p>That would be good, the only reason I was able to contribute as much as I did to the Ruff docs is because making those drive-by PRs was very easy. I haven't looked at contributing to the ty docs yet, but if making even simple rule description changes requires having the project compiled I would not be able to contribute because of how long it takes for Ruff to compile.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:53:03 UTC
    </footer>
</body>
</html>
