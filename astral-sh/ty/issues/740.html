<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `type()`'s functional syntax - astral-sh/ty #740</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support `type()`'s functional syntax</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/740">#740</a>
        opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a>
        on 2025-07-01 13:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-07-01 13:31</div>
            <div class="timeline-body"><p>(First raised <a href="https://discord.com/channels/1039017663004942429/1279201882337705994/1389547211150331974">on Discord</a>.)</p>
<p>Currently ty doesn't understand <code>type()</code>'s functional syntax very well (playground):</p>
<pre><code class="language-python"># error: Object of type `type` is not assignable to `type[int]`
U32: type[int] = type('U32', (int,), {})
</code></pre>
<p>It understands <code>type(...)</code> returns a new type, but fails to take the bases into account.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">runtime semantics</span> added by @carljm on 2025-07-02 17:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Stable" by @carljm on 2025-11-12 23:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-12-26 22:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @charliermarsh by @charliermarsh on 2025-12-26 23:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-12-27 00:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/condemil">@condemil</a> on 2025-12-27 04:16</div>
            <div class="timeline-body"><p>Another example:</p>
<pre><code class="language-python">from unittest import TestCase

tests: list[type[TestCase]] = []
testCaseClass = type(&quot;Foo&quot;, (TestCase,), {})

# Argument to bound method `append` is incorrect: Expected `type[TestCase]`, found `type`
tests.append(testCaseClass)
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:51:35 UTC
    </footer>
</body>
</html>
