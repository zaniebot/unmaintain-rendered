<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change `Type::member` to return a `Result` and rename it to `try_member` - astral-sh/ty #194</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Change <code>Type::member</code> to return a <code>Result</code> and rename it to <code>try_member</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/194">#194</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-02-21 09:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body">Description
<p>Similar to <code>Type::try_call</code>, <code>try_iterate</code>, <code>try_bool</code>, ..., <code>member</code> should be renamed to <code>try_member</code> and return <code>Result</code>.</p>
<ul>
<li>I don&#x27;t think it should be <code>LookupResult</code>: Instead, it should be a result specific to <code>Type::member</code> because we may want to preserve additional error information for better diagnostics that isn&#x27;t relevant when doing other symbol lookups. But I might be wrong here</li>
<li>I don&#x27;t think <code>try_member</code> should return a <code>Symbol</code> because it behaves slightly different from all other type methods in that it doesn&#x27;t necessarily consider a possibly unbound symbol as an error (but it probably is one for most type checking code).</li>
</ul>
<p>We could offer helper methods to easily convert a <code>Result&lt;Type, MemberError&gt;</code> to a <code>Result&lt;Type, LookupError&gt;</code> or <code>Symbol</code> (e.g. implement <code>From</code> for <code>Result&lt;Type, LookupError&gt;</code> so that the <code>try</code> operator &quot;just works&quot;).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[red-knot] Change `Type::member` to return a `Result` and rename it to `try_member`&quot; to &quot;Change `Type::member` to return a `Result` and rename it to `try_member`&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-07 15:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-05-11 07:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Beta&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-06-11 00:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Stable&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-11-13 06:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:24:15 UTC
    </footer>
</body>
</html>
