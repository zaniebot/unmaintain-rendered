<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support finding dependencies in system Pythons that ty is installed into - astral-sh/ty #2068</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support finding dependencies in system Pythons that ty is installed into</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2068">#2068</a>
        opened by <a href="https://github.com/leet0rz">@leet0rz</a>
        on 2025-12-18 13:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/leet0rz">@leet0rz</a></div>
            <div class="timeline-body">Summary
<p>This is just neovim with ty LSP attached to the buffer and this error shows up:</p>
<p><img alt="Image" src="https://github.com/user-attachments/assets/e6c345d9-4f86-4132-96ab-33e3f971395d"></p>
<p>This does not happen with any of the other major LSPs, let me know if there is a fix for this.</p>
Version
<p>0.0.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-18 13:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-18 13:04</div>
            <div class="timeline-body"><p>Thank you for reporting this.</p>
<p>Have you seen <a href="https://docs.astral.sh/ty/reference/typing-faq/#why-cant-ty-resolve-my-imports">this FAQ entry</a>? (let us know if that is not enough to resolve your issue).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leet0rz">@leet0rz</a> on 2025-12-18 18:17</div>
            <div class="timeline-body"><blockquote>
<p>Thank you for reporting this.</p>
<p>Have you seen <a href="https://docs.astral.sh/ty/reference/typing-faq/#why-cant-ty-resolve-my-imports">this FAQ entry</a>? (let us know if that is not enough to resolve your issue).</p>
</blockquote>
<p>The libs are globally installed on the computer and sits in python313/lib/site-packages, these are not installed in any virtual env, these are global.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-18 18:26</div>
            <div class="timeline-body"><p>Is ty installed in the same system Python that these packages are installed in?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-18 18:27</div>
            <div class="timeline-body"><p>Can you tell us how you run ty, and maybe run it with <code>-v</code>, to see the search paths?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-18 18:29</div>
            <div class="timeline-body"><p>We don&#x27;t support automatically resolving imports from a non-virtual (global/system) environment. If you point us to a non-virtual environment using <code>--python</code>, we will resolve imports from that environment, but we&#x27;d encourage you to use a virtual environment instead. See <a href="https://github.com/astral-sh/ty/issues/684">astral-sh/ty#684</a> for some previous discussion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-18 18:31</div>
            <div class="timeline-body"><blockquote>
<p>If you point us to a non-virtual environment using <code>--python</code></p>
</blockquote>
<p>Or if ty itself is installed in a system Python, we should use that system Python environment</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leet0rz">@leet0rz</a> on 2025-12-18 19:38</div>
            <div class="timeline-body"><blockquote>
<p>Is ty installed in the same system Python that these packages are installed in?</p>
</blockquote>
<p>Yes, ty sits in <code>python313/scripts/ty</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leet0rz">@leet0rz</a> on 2025-12-18 19:40</div>
            <div class="timeline-body"><blockquote>
<p>Can you tell us how you run ty, and maybe run it with <code>-v</code>, to see the search paths?</p>
</blockquote>
<p>This is how I&#x27;ve configured it in neovim:</p>
<pre><code>vim.lsp.config(&quot;ty&quot;, {
    cmd = { &quot;ty&quot;, &quot;server&quot; },
    filetypes = { &quot;python&quot; },
    root_markers = { &quot;pyproject.toml&quot;, &quot;ruff.toml&quot;, &quot;.ruff.toml&quot;, &quot;.git&quot; },
})
</code></pre>
<p>should I add &quot;-v&quot; in the cmd there you mean? when I do <code>ty -v</code> I just get this:</p>
<pre><code>ty -v
error: unexpected argument &#x27;-v&#x27; found
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leet0rz">@leet0rz</a> on 2025-12-18 19:42</div>
            <div class="timeline-body"><blockquote>
<p>We don&#x27;t support automatically resolving imports from a non-virtual (global/system) environment. If you point us to a non-virtual environment using <code>--python</code>, we will resolve imports from that environment, but we&#x27;d encourage you to use a virtual environment instead. See <a href="https://github.com/astral-sh/ty/issues/684">#684</a> for some previous discussion.</p>
</blockquote>
<p>But that is not always going to be the case for every use case, not everyone is running virtual envs every time in every project, I highly recommend adding support for this as every other LSP has and does. Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 00:37</div>
            <div class="timeline-body"><p>I don&#x27;t think we&#x27;ve actually identified yet what the problem is here, because if ty is installed in a system Python, we should be able to see packages installed in that Python.</p>
<p>Are you able to reproduce the failed-imports problem running <code>ty check</code> on the command line, on the same code, from the same directory that your <code>root_markers</code> would cause nvim to pick as the project root? If so, adding <code>-v</code> to that <code>ty check</code> will generate some useful logs that might help us figure out what&#x27;s causing the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">imports</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 00:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-12-23 05:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-12-23 05:08</div>
            <div class="timeline-body"><blockquote>
<p>This is how I&#x27;ve configured it in neovim:</p>
<pre><code>vim.lsp.config(&quot;ty&quot;, {
    cmd = { &quot;ty&quot;, &quot;server&quot; },
    filetypes = { &quot;python&quot; },
    root_markers = { &quot;pyproject.toml&quot;, &quot;ruff.toml&quot;, &quot;.ruff.toml&quot;, &quot;.git&quot; },
})
</code></pre>
</blockquote>
<p>This suggests that <code>ty</code> executable should be available globally on <code>PATH</code>, can you confirm whether the <code>ty</code> that&#x27;s being run in Neovim is the same as <code>python313/scripts/ty</code>? Can you provide debug server logs? You can use the following config to enable debug logs and provide the content of <code>path/to/ty_server.log</code>:</p>
<pre><code>vim.lsp.config(&quot;ty&quot;, {
    cmd = { &quot;ty&quot;, &quot;server&quot; },
    filetypes = { &quot;python&quot; },
    root_markers = { &quot;pyproject.toml&quot;, &quot;ruff.toml&quot;, &quot;.ruff.toml&quot;, &quot;.git&quot; },
	init_options = {
	  logLevel = &#x27;debug&#x27;,
	  logFile = &#x27;path/to/ty_server.log&#x27;,
	},
})
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leet0rz">@leet0rz</a> on 2025-12-23 10:11</div>
            <div class="timeline-body"><blockquote>
<p>I don&#x27;t think we&#x27;ve actually identified yet what the problem is here, because if ty is installed in a system Python, we should be able to see packages installed in that Python.</p>
<p>Are you able to reproduce the failed-imports problem running <code>ty check</code> on the command line, on the same code, from the same directory that your <code>root_markers</code> would cause nvim to pick as the project root? If so, adding <code>-v</code> to that <code>ty check</code> will generate some useful logs that might help us figure out what&#x27;s causing the issue.</p>
</blockquote>
<pre><code>âœ—  ty check -v
INFO Defaulting to python-platform `win32`
INFO Python version: Python 3.14, platform: win32
INFO Indexed 1 file(s) in 0.008s
error[unresolved-import]: Cannot resolve imported module `requests`
 --&gt; prisjakt.py:1:8
  |
1 | import requests
  |        ^^^^^^^^
2 | import time
  |
info: Searched in the following paths during module resolution:
info:   1. D:\Aleksander2\Programming\Python\Projects\PriceTracker (first-party code)
info:   2. vendored://stdlib (stdlib typeshed stubs vendored by ty)
info: make sure your Python environment is properly configured: https://docs.astral.sh/ty/modules/#python-environment
info: rule `unresolved-import` is enabled by default

Found 1 diagnostic
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leet0rz">@leet0rz</a> on 2025-12-23 10:23</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>This is how I&#x27;ve configured it in neovim:
vim.lsp.config(&quot;ty&quot;, {
cmd = { &quot;ty&quot;, &quot;server&quot; },
filetypes = { &quot;python&quot; },
root_markers = { &quot;pyproject.toml&quot;, &quot;ruff.toml&quot;, &quot;.ruff.toml&quot;, &quot;.git&quot; },
})</p>
</blockquote>
<p>This suggests that <code>ty</code> executable should be available globally on <code>PATH</code>, can you confirm whether the <code>ty</code> that&#x27;s being run in Neovim is the same as <code>python313/scripts/ty</code>? Can you provide debug server logs? You can use the following config to enable debug logs and provide the content of <code>path/to/ty_server.log</code>:</p>
<p>vim.lsp.config(&quot;ty&quot;, {
cmd = { &quot;ty&quot;, &quot;server&quot; },
filetypes = { &quot;python&quot; },
root_markers = { &quot;pyproject.toml&quot;, &quot;ruff.toml&quot;, &quot;.ruff.toml&quot;, &quot;.git&quot; },
init_options = {
logLevel = &#x27;debug&#x27;,
logFile = &#x27;path/to/ty_server.log&#x27;,
},
})</p>
</blockquote>
<p>Yes, it is in fact global and it&#x27;s the same path. Here is the log:</p>
<pre><code>2025-12-23 11:21:59.568647500 DEBUG Initialization options: InitializationOptions {
    log_level: Some(
        Debug,
    ),
    log_file: Some(
        &quot;~/ty_server.log&quot;,
    ),
    options: ClientOptions {
        global: GlobalOptions {
            diagnostic_mode: None,
            experimental: None,
        },
        workspace: WorkspaceOptions {
            disable_language_services: None,
            inlay_hints: None,
            completions: None,
            python_extension: None,
        },
        unknown: {},
    },
}
2025-12-23 11:21:59.569368000 DEBUG Resolved client capabilities: [&quot;WORKSPACE_DIAGNOSTIC_REFRESH&quot;, &quot;INLAY_HINT_REFRESH&quot;, &quot;PULL_DIAGNOSTICS&quot;, &quot;TYPE_DEFINITION_LINK_SUPPORT&quot;, &quot;DEFINITION_LINK_SUPPORT&quot;, &quot;DECLARATION_LINK_SUPPORT&quot;, &quot;PREFER_MARKDOWN_IN_HOVER&quot;, &quot;MULTILINE_SEMANTIC_TOKENS&quot;, &quot;SIGNATURE_LABEL_OFFSET_SUPPORT&quot;, &quot;SIGNATURE_ACTIVE_PARAMETER_SUPPORT&quot;, &quot;HIERARCHICAL_DOCUMENT_SYMBOL_SUPPORT&quot;, &quot;WORK_DONE_PROGRESS&quot;, &quot;FILE_WATCHER_SUPPORT&quot;, &quot;RELATIVE_FILE_WATCHER_SUPPORT&quot;, &quot;DIAGNOSTIC_DYNAMIC_REGISTRATION&quot;, &quot;WORKSPACE_CONFIGURATION&quot;, &quot;DIAGNOSTIC_RELATED_INFORMATION&quot;]
2025-12-23 11:21:59.569483400  INFO Version: 0.0.3 (fadfe0966 2025-12-17)
2025-12-23 11:21:59.603224500  WARN No workspace(s) were provided during initialization. Using the current working directory from the fallback system as a default workspace: D:\Aleksander2\Programming\Python\Projects\PriceTracker
2025-12-23 11:21:59.603447700 DEBUG Requesting workspace configuration for workspaces
2025-12-23 11:21:59.603735400 DEBUG Deferring `textDocument/didOpen` notification until all workspaces are initialized
2025-12-23 11:21:59.605983500 DEBUG Deferring `textDocument/semanticTokens/range` request until all workspaces are initialized
2025-12-23 11:21:59.606362100 DEBUG client_response{id=0 method=&quot;workspace/configuration&quot;}: Received workspace configurations, initializing workspaces
2025-12-23 11:21:59.606392100 DEBUG client_response{id=0 method=&quot;workspace/configuration&quot;}: No workspace options provided for file:///D:/Aleksander2/Programming/Python/Projects/PriceTracker, using default options
2025-12-23 11:21:59.606429600 DEBUG Initializing workspace `file:///D:/Aleksander2/Programming/Python/Projects/PriceTracker`
2025-12-23 11:21:59.606457800 DEBUG Searching for a project in &#x27;D:\Aleksander2\Programming\Python\Projects\PriceTracker&#x27;
2025-12-23 11:21:59.606754000 DEBUG The ancestor directories contain no `pyproject.toml`. Falling back to a virtual project.
2025-12-23 11:21:59.606773900 DEBUG Searching for a user-level configuration at `C:\Users\waffle\AppData\Roaming\ty\ty.toml`
2025-12-23 11:21:59.607867200  INFO Defaulting to python-platform `win32`
2025-12-23 11:21:59.607886600 DEBUG Discovering virtual environment in `D:\Aleksander2\Programming\Python\Projects\PriceTracker`
2025-12-23 11:21:59.608112300 DEBUG Attempting to parse virtual environment metadata at &#x27;C:\Users\waffle\AppData\Local\Programs\Python\Python313\pyvenv.cfg&#x27;
2025-12-23 11:21:59.608154900 DEBUG Failed to discover ty&#x27;s environment: Invalid ty environment `C:\Users\waffle\AppData\Local\Programs\Python\Python313`: points to a broken venv with no pyvenv.cfg file
2025-12-23 11:21:59.608321300 DEBUG No virtual environment found
2025-12-23 11:21:59.608380000 DEBUG Including `.` in `environment.root`
2025-12-23 11:21:59.608403100 DEBUG Adding first-party search path `D:\Aleksander2\Programming\Python\Projects\PriceTracker`
2025-12-23 11:21:59.608436900 DEBUG Using vendored stdlib
2025-12-23 11:21:59.608766100  INFO Python version: Python 3.14, platform: win32
2025-12-23 11:21:59.609126800 DEBUG Adding new file root &#x27;D:\Aleksander2\Programming\Python\Projects\PriceTracker&#x27; of kind Project
2025-12-23 11:21:59.609183000 DEBUG Registering diagnostic capability with OpenFilesOnly diagnostic mode
2025-12-23 11:21:59.609227300 DEBUG Resolving dynamic module resolution paths
2025-12-23 11:21:59.609262800 DEBUG Processing deferred notification `textDocument/didOpen`
2025-12-23 11:21:59.611432800 DEBUG Skipping directory &#x27;D:\Aleksander2\Programming\Python\Projects\PriceTracker\.ruff_cache&#x27; because it is excluded by a default or `src.exclude` pattern
2025-12-23 11:21:59.618281200 DEBUG notification{method=&quot;textDocument/didOpen&quot;}:apply_changes: Adding file `D:\Aleksander2\Programming\Python\Projects\PriceTracker\prisjakt.py` to project `PriceTracker`
2025-12-23 11:21:59.618312900 DEBUG notification{method=&quot;textDocument/didOpen&quot;}: Opening file `D:\Aleksander2\Programming\Python\Projects\PriceTracker\prisjakt.py`
2025-12-23 11:21:59.618320300 DEBUG notification{method=&quot;textDocument/didOpen&quot;}: Take open project files
2025-12-23 11:21:59.618341500 DEBUG notification{method=&quot;textDocument/didOpen&quot;}:set_open_files{open_files={file(Id(1000))}}: Set open project files (count: 1)
2025-12-23 11:21:59.618351300 DEBUG Processing deferred request `textDocument/semanticTokens/range`
2025-12-23 11:21:59.618421400 DEBUG client_response{id=1 method=&quot;client/registerCapability&quot;}: Registered dynamic capabilities
2025-12-23 11:21:59.619527700 DEBUG request{id=2 method=&quot;textDocument/semanticTokens/range&quot;}: Module `requests` not found in search paths
2025-12-23 11:21:59.619838000 DEBUG request{id=2 method=&quot;textDocument/semanticTokens/range&quot;}: Module `requests` not found while looking in parent dirs (neither stub nor real module file)
2025-12-23 11:21:59.620444400 DEBUG Skipping directory &#x27;D:\Aleksander2\Programming\Python\Projects\PriceTracker\.ruff_cache&#x27; because it is excluded by a default or `src.exclude` pattern
2025-12-23 11:21:59.628932300  INFO request{id=3 method=&quot;textDocument/diagnostic&quot;}:check_file{file=File(System(&quot;D:\\Aleksander2\\Programming\\Python\\Projects\\PriceTracker\\prisjakt.py&quot;))}:Project::index_files{project=PriceTracker}: Indexed 1 file(s) in 0.010s
2025-12-23 11:21:59.629076600 DEBUG request{id=3 method=&quot;textDocument/diagnostic&quot;}:check_file{file=File(System(&quot;D:\\Aleksander2\\Programming\\Python\\Projects\\PriceTracker\\prisjakt.py&quot;))}: Checking file &#x27;D:\Aleksander2\Programming\Python\Projects\PriceTracker\prisjakt.py&#x27;
2025-12-23 11:21:59.666197200 DEBUG request{id=2 method=&quot;textDocument/semanticTokens/range&quot;}: Module `requests` not found while looking in parent dirs (neither stub nor real module file)
2025-12-23 11:21:59.666423800 DEBUG request{id=2 method=&quot;textDocument/semanticTokens/range&quot;}: Module `requests` not found while looking in parent dirs (neither stub nor real module file)
2025-12-23 11:22:02.389699000 DEBUG request{id=4 method=&quot;textDocument/semanticTokens/range&quot;}: Module `requests` not found while looking in parent dirs (neither stub nor real module file)
2025-12-23 11:22:02.389900900 DEBUG request{id=4 method=&quot;textDocument/semanticTokens/range&quot;}: Module `requests` not found while looking in parent dirs (neither stub nor real module file)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 20:40</div>
            <div class="timeline-body"><p>Thanks for the extra details! In both CLI and LSP it looks indeed like we are not discovering any third-party search paths at all. We look at <code>C:\Users\waffle\AppData\Local\Programs\Python\Python313</code> but reject it because it doesn&#x27;t have a <code>pyvenv.cfg</code>.</p>
<p>Looking at the code, it seems I was wrong that we support system Pythons if ty is installed into them. We return <code>true</code> from <code>SysPrefixPathOrigin::must_be_virtual_env</code> for <code>Self::SelfEnvironment</code>, and there&#x27;s a comment there explaining that we didn&#x27;t include support for this initially.</p>
<p>I think we definitely should support it, though -- using this issue to track that.</p>
<p>Thanks again @leet0rz !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Error on importing installed libs like requests/pyside6 etc.&quot; to &quot;Support finding dependencies in system Pythons that ty is installed into&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 20:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 20:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 20:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Stable&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 20:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lludriga">@lludriga</a> on 2025-12-26 19:43</div>
            <div class="timeline-body"><p>Looking forward to this for neovim integration in quarto documents, where I use the system python.</p>
<p>For now, I&#x27;m using the following configuration for the lsp in neovim:</p>
<pre><code>-- You need to:
-- uv init --script script.py
-- uv add --script script.py &#x27;dependency&#x27;
-- uv run script.py
-- For the environment to be created for the script
local function uv_script_interpreter(script_path)
    local result = vim.system(
        { &#x27;uv&#x27;, &#x27;python&#x27;, &#x27;find&#x27;, &#x27;--script&#x27;, script_path },
        { text = true }
    ):wait()
    if result.code == 0 then
        return vim.fn.trim(result.stdout)
    end
end

local function uv_interpreter(script_path)
    local result = vim.system(
        { &#x27;uv&#x27;, &#x27;python&#x27;, &#x27;find&#x27; },
        { text = true }
    ):wait()
    if result.code == 0 then
        return vim.fn.trim(result.stdout)
    end
end

return {
    cmd = { &quot;ty&quot;, &quot;server&quot; },
    filetypes = { &quot;python&quot; },
    root_markers = { &quot;ty.toml&quot;, &quot;pyproject.toml&quot;, &quot;setup.py&quot;, &quot;setup.cfg&quot;, &quot;requirements.txt&quot;, &quot;.git&quot; },
    settings = { -- settings needs to be initialized for before_init to change it
        ty = {
            configuration = {
                environment = {
                    python = nil,
                },
            },
        },
    },
    before_init = function(_, config)
        local script = vim.api.nvim_buf_get_name(0)
        local python = uv_script_interpreter(script)
        if not python then
            python = uv_interpreter(script)
        end
        config.settings.ty.configuration.environment.python = python
    end,
}
</code></pre>
<p>It detects the system python if not in a venv, or the scripts venv if it was already created, using <a href="https://github.com/astral-sh/ruff/pull/22053">#22053</a>.</p>
<p>It works for me but haven&#x27;t tested it much, use at your own risk :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/justinjhendrick">@justinjhendrick</a> on 2026-01-05 23:56</div>
            <div class="timeline-body"><p>If I&#x27;m understanding this issue correctly, then the quote from the docs (below) is inaccurate.</p>
<blockquote>
<p>Passing a path to a Python executable is supported, but passing a path to a dynamic executable (such as a shim) is not currently supported.
This option can be used to point to virtual or system Python environments.</p>
</blockquote>
<p>from https://docs.astral.sh/ty/reference/configuration/#python</p>
<p>Should those docs be updated to point here? Until this feature is implemented, or support for non-virtual environments is dropped?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2026-01-05 23:57</div>
            <div class="timeline-body"><p>I think that portion of the docs is accurate. Explicitly pointing to a system Python installation using the <code>python</code> configuration option (in config or via CLI) is supported. What isn&#x27;t supported currently is automatically using a system Python installation that ty itself is installed into.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/justinjhendrick">@justinjhendrick</a> on 2026-01-06 00:07</div>
            <div class="timeline-body"><p>Ah, I was incorrect. I see the distinction now, thanks for explaining.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amotl">@amotl</a> on 2026-01-07 22:03</div>
            <div class="timeline-body"><p>Hi. I don&#x27;t know if our observation fits here. Please hide/collapse this message when not. We&#x27;d like to invoke <code>ty</code> in a traditional CI/GHA environment where we are not using <code>uv</code> yet.</p>
<ul>
<li>GH-2384</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2026-01-07 22:35</div>
            <div class="timeline-body"><p>Unfortunately I think if you don&#x27;t know where your Python environment is, then really the only answers are either to put it in a place where you know where it is (i.e. use uv and/or a venv), or fix this issue in ty. We&#x27;ll try to get to it as soon as we can; pull requests welcome! I don&#x27;t think it should be too hard, the current code just explicitly excludes system environments. It might be as simple as removing that exclusion? @zanieb might know if there are other likely dragons.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:26:35 UTC
    </footer>
</body>
</html>
