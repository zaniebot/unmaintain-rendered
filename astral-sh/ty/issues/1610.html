<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improved hover rendering for parameters - astral-sh/ty #1610</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improved hover rendering for parameters</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1610">#1610</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-11-22 14:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><p>Pylance:</p>
<p>https://github.com/user-attachments/assets/96b44cc1-f27a-4344-b9a0-506153b1d71b</p>
<p>ty</p>
<p>https://github.com/user-attachments/assets/2e24e8bd-d349-4381-a04b-02860f29eb17</p>
<p>The missing padding around parameter documentation makes the documentation much harder to scan than Pylance's version. ty also doesn't provide any special highlighting for the versionchanged section at the bottom</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @MichaReiser on 2025-11-22 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Stable" by @MichaReiser on 2025-11-22 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gabriel-abn">@gabriel-abn</a> on 2025-11-23 19:15</div>
            <div class="timeline-body"><p>I dont know if this might be a bad thing to do while using docstrings or something, but Pylance also renders Markdown formatted snippets</p>
<p><img width="1002" height="667" alt="Image" src="https://github.com/user-attachments/assets/37a775b9-cc91-49f7-9a61-2c897b03e240" /></p>
<p>it would be nice to have it though</p>
<p>(if so we can move this suggestion to a separated issue)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-11-23 19:37</div>
            <div class="timeline-body"><p>We by-default handle markdown fine, although we might escape certain things like _underscoreitalics_ and codeblocks-by-indent.</p>
<p><img width="597" height="641" alt="Image" src="https://github.com/user-attachments/assets/f0db2cfc-2a0d-410a-bf92-5212cbff08b3" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-11-23 19:46</div>
            <div class="timeline-body"><p>Repro is just</p>
<pre><code>from logging import basicConfig
                    ^^^^^^^^^^^
</code></pre>
<p><img width="450" height="222" alt="Image" src="https://github.com/user-attachments/assets/d4aa59ef-d5d6-493c-a080-0ac66eb0aaf8" /></p>
<pre><code class="language-text">.. versionchanged:: 3.2
       Added the ``style`` parameter.

.. versionchanged:: 3.3
   Added the ``handlers`` parameter. A ``ValueError`` is now thrown for
   incompatible arguments (e.g. ``handlers`` specified together with
   ``filename``/``filemode``, or ``filename``/``filemode`` specified
   together with ``stream``, or ``handlers`` specified together with
   ``stream``.

.. versionchanged:: 3.8
   Added the ``force`` parameter.

.. versionchanged:: 3.9
   Added the ``encoding`` and ``errors`` parameters.
</code></pre>
<p><img width="432" height="255" alt="Image" src="https://github.com/user-attachments/assets/623eb9c3-8b39-4ef3-967b-7f37fabb8643" /></p>
<pre><code>A number of optional keyword arguments may be specified, which can alter
the default behaviour.

filename  Specifies that a FileHandler be created, using the specified
          filename, rather than a StreamHandler.
filemode  Specifies the mode to open the file, if filename is specified
          (if filemode is unspecified, it defaults to 'a').
format    Use the specified format string for the handler.
datefmt   Use the specified date/time format.
style     If a format string is specified, use this to specify the
          type of format string (possible values '%', '{', '$', for
          %-formatting, :meth:`str.format` and :class:`string.Template`
          - defaults to '%').
level     Set the root logger level to the specified level.
stream    Use the specified stream to initialize the StreamHandler. Note
          that this argument is incompatible with 'filename' - if both
          are present, 'stream' is ignored.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-11-23 20:00</div>
            <div class="timeline-body"><p>The former is clearly A Format With Special Syntax we can absolutely detect and handle.</p>
<p>The latter is so barely a format, it's impressive that they detect and render it non-trivially. I tried a simple heuristic about going from indentation to not but lines like this completely scupper it:</p>
<pre><code>format    Use the specified format string for the handler.
datefmt   Use the specified date/time format.
style     If a format string is specified, use this to specify the
</code></pre>
<p>The only clear heuristic is &quot;a single word followed by &gt;1 spaces&quot; (and then any subsequent indented lines are aligned to the post-spaces).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gabriel-abn">@gabriel-abn</a> on 2025-11-23 20:17</div>
            <div class="timeline-body"><p>Oh, sorry for the mistake... i just added it because i tested it myself and didn't work at all with a fresh start and nearly no special configurations</p>
<p><img width="1023" height="705" alt="Image" src="https://github.com/user-attachments/assets/fc00fb57-45ca-4d40-9e56-ec972cd0f63b" /></p>
<p>another test but only with a header line</p>
<p><img width="819" height="491" alt="Image" src="https://github.com/user-attachments/assets/822b335f-b0c3-4804-873b-e49398b3df51" /></p>
<p>my configs in <code>settings.json</code> are the following:</p>
<pre><code class="language-json">&quot;python.languageServer&quot;: &quot;None&quot;,
&quot;ty.experimental.autoImport&quot;: true,
&quot;ty.interpreter&quot;: [
		&quot;${workspaceFolder}/.venv/bin/python&quot;
	],
&quot;ty.experimental.rename&quot;: true,
</code></pre>
<p>is there anything that i need to configure to have the same result than yours?? or am i just missing something in my docstring??</p>
<p><strong>note</strong>: i use tabs instead of spaces</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-11-23 20:18</div>
            <div class="timeline-body"><p>The markdown rendering is bleeding edge, I think it's only available in-tree right now (will be in the next release in a few days).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:01 UTC
    </footer>
</body>
</html>
