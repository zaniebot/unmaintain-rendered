<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object of type 'property' has no attribute ClientV2 - astral-sh/ty #2110</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Object of type 'property' has no attribute ClientV2</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2110">#2110</a>
        opened by <a href="https://github.com/rsherwood-faa">@rsherwood-faa</a>
        on 2025-12-19 11:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rsherwood-faa">@rsherwood-faa</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<pre><code class="language-py">from acme import client

class ServerAccount:

    @property
    def client(self) -&gt; client.ClientV2:
        if not self._client:
            self._client = client.ClientV2(self.directory, net=self._client_net)
        
        return self._client
</code></pre>
<p>ty reports</p>
<pre><code>Object of type `property` has no attribute `ClientV2`
</code></pre>
<p>I am not sure if this is related to https://github.com/astral-sh/ty/issues/312, The code in that bug seems similar, but it looks like that issue has been closed,</p>
<p>I'm using ty 0.0.3 via the ty extension for Visual Studio Code (2025.74.0). It looks like 0.14.10 is the latest. Can I update ty outside of the extension to get the latest version inside the extension?</p>
<h3>Version</h3>
<p>I'm using ty 0.0.3 via the ty extension for Visual Studio Code (2025.74.0).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rsherwood-faa">@rsherwood-faa</a> on 2025-12-19 11:54</div>
            <div class="timeline-body"><p>Actually, I'm a little confused. The patch for https://github.com/astral-sh/ty/issues/312 Seems to have been addressed in https://github.com/astral-sh/ruff/pull/18121 , which was a PR against ruff. I feel like I'm missing something...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-19 12:01</div>
            <div class="timeline-body"><p>Sorry for the confusion. We share a lot of our foundational crates (parser, AST, several diagnostics-related crates) with Ruff, so ty's source code is all found in the Ruff repository. It makes it much easier for development. All ty issues should be reported on this tracker, though; you're in the right place :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rsherwood-faa">@rsherwood-faa</a> on 2025-12-19 12:08</div>
            <div class="timeline-body"><p>No errors reported for this code:</p>
<pre><code class="language-py">import acme.client

class ServerAccount:
    @property
    def client(self) -&gt; acme.client.ClientV2:
        if not self._client:
            self._client = acme.client.ClientV2(self.directory, net=self._client_net)
        
        return self._client
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rsherwood-faa">@rsherwood-faa</a> on 2025-12-19 12:10</div>
            <div class="timeline-body"><p>I also discovered that the extension will use a version of ty inside a uv environment if you install it, and will fall back to the bundled version, so I can confirm that the error appeared in ty 0.4.0 and the updated code passes typechecking in 0.4.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-19 12:18</div>
            <div class="timeline-body"><p>The problem here is that <code>client</code> is a property on <code>ServerAccount</code>, but you want to use the imported <code>client</code> in the type hint for <code>_client</code>. See https://github.com/astral-sh/ty/issues/1747 for a related discussion. The short version is that you'll probably want to rename that import (e.g. <code>from acme import client as acme_client</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @sharkdp on 2025-12-19 12:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">runtime semantics</span> added by @sharkdp on 2025-12-19 12:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rsherwood-faa">@rsherwood-faa</a> on 2025-12-19 12:32</div>
            <div class="timeline-body"><p>ðŸ¤¯
That makes sense, and thanks for sharing the link to the discussion. Hopefully this will help others with the same problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @rsherwood-faa on 2025-12-19 12:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:28 UTC
    </footer>
</body>
</html>
