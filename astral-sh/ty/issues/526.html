<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feature request: expose a consistent mechanism for python environment discovery - astral-sh/ty #526</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feature request: expose a consistent mechanism for python environment discovery</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/526">#526</a>
        opened by <a href="https://github.com/strangemonad">@strangemonad</a>
        on 2025-05-27 23:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/strangemonad">@strangemonad</a></div>
            <div class="timeline-body"><p>Sorry for the cross project issue spam but I'd like to attempt to plug https://github.com/astral-sh/uv/issues/2813 again.</p>
<p>At a high level, I think python venv and providing py-project context continues to be a large pain point for python dev. To be overly simplistic, the behavior I'd like is, given a path (file or dir) provide the best python project context and venv in a way that ty, uv, ruff and editors can all use consistent settings.</p>
<p>Currently, ty has a python path resolution scheme, uv needs to manage a venv and possible python downloads. Editors like vscode and zed rely on Python Environment Tool (PET) https://github.com/microsoft/python-environment-tools to list global python installs and other venvs if workspaces are also queried. Editors like zed further augment and wrap this python toolchain information https://github.com/zed-industries/zed/blob/506beafe1080aa1394be72d9c5794335b034213f/crates/languages/src/python.rs#L515</p>
<p>In practice, keeping all the various configs in sync means that things rarely &quot;just work&quot; ie it requires manual effort and care to configure the editor LSP to show the same errors as the type checker or linter invoked on the command like. Likewise, editor task definitions and terminal venv activation are often disconnected from the logic of <code>uv run ...</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-27 23:49</div>
            <div class="timeline-body"><p>I don't think this is in scope for ty, it will leverage uv for advanced Python discovery capabilities.</p>
<p>That said, it means uv will be getting more machine readable Python discovery output as you desire :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-05-27 23:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-27 23:50</div>
            <div class="timeline-body"><p>(I don't mean to discourage you, but I want to close this to keep the issue tracker actionable and I think the general desire here is captured by the uv issue already)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/strangemonad">@strangemonad</a> on 2025-05-28 02:11</div>
            <div class="timeline-body"><p>yep, fair to close :)  I had just noticed that ty had both documented behavior for and implemented some python path and module resolution so I figured I'd make sure this was still on the radar.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:20:01 UTC
    </footer>
</body>
</html>
