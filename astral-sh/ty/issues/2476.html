<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support docstrings on TypedDict fields - astral-sh/ty #2476</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support docstrings on TypedDict fields</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2476">#2476</a>
        opened by <a href="https://github.com/max-kamps">@max-kamps</a>
        on 2026-01-13 08:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-kamps">@max-kamps</a></div>
            <div class="timeline-body">Summary
<p>It&#x27;s possible to add docstrings to class fields like this:</p>
<pre><code>class Person:
    &quot;&quot;&quot;A person in the database&quot;&quot;&quot;

    name: str
    &quot;&quot;&quot;The person&#x27;s full legal name&quot;&quot;&quot;
    
    birth_year: int | tuple[int, int]
    &quot;&quot;&quot;The person&#x27;s year of birth, or a range if not known&quot;&quot;&quot;
</code></pre>
<p>Pyright also supports the same syntax for <code>TypedDict</code>s</p>
<p>Here is an example of a TypedDict with field docstrings:</p>
<pre><code>class HttpScope(TypedDict):
    &quot;&quot;&quot;ASGI scope for HTTP requests&quot;&quot;&quot;
    
    type: Literal[&quot;http&quot;]
    &quot;&quot;&quot;Scope type, always &quot;http&quot; for HTTP scopes&quot;&quot;&quot;
    
    version: str
    &quot;&quot;&quot;ASGI spec version the server supports&quot;&quot;&quot;
    
    spec_version: NotRequired[str]
    &quot;&quot;&quot;ASGI HTTP spec version the server supports. Default to &quot;2.0&quot; if not provided&quot;&quot;&quot;
</code></pre>
<p>Here, the docstrings should be shown if hovering over indexing operations involving a string literal. For example, in <code>scope[&quot;spec_version&quot;]</code> the docstring should be shown when hovering over any part of <code>[&quot;spec_version&quot;]</code>.</p>
<p>This also relates to #2189</p>
Version
<p>0.0.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Support docstrings on class / TypedDict fields&quot; to &quot;Support docstrings on TypedDict fields&quot; by <a href="https://github.com/max-kamps">@max-kamps</a> on 2026-01-13 08:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 08:07</div>
            <div class="timeline-body"><p>Hey, thanks for the report!</p>
<p>We support attribute docstrings, but I thought the convention was for these to come below the attribute rather than above the attribute â€” we currently only recognise them if they come below. I&#x27;m surprised that pyright also supports them if they come above the attribute declaration!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 08:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/max-kamps">@max-kamps</a> on 2026-01-13 08:10</div>
            <div class="timeline-body"><p>Sorry Alex, you&#x27;re totally right. I really messed up this issue ðŸ˜… Looks like this is 100% user error! Please disregard!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/max-kamps">@max-kamps</a> on 2026-01-13 08:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-13 08:11</div>
            <div class="timeline-body"><p>I don&#x27;t think Pyright supports docstrings before the attribute. See how it always shows the docstring from after the attribute</p>
<p><img alt="Image" src="https://github.com/user-attachments/assets/6c33765c-e57e-4ce2-b439-71521f5de9e4"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 08:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/max-kamps">@max-kamps</a> on 2026-01-13 08:13</div>
            <div class="timeline-body"><p>Just to make sure, does <code>ty</code> support docstrings on TypedDict fields? If not, it might be worth it to have an issue for that, specifically. (maybe a new clean one, or reopen this one)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 08:15</div>
            <div class="timeline-body"><blockquote>
<p>Just to make sure, does <code>ty</code> support docstrings on TypedDict fields? If not, it might be worth it to have an issue for that, specifically. (maybe a new clean one, or reopen this one)</p>
</blockquote>
<p>We support docstrings on class fields in general. It&#x27;s possible our special casing for TypedDicts gets in the way of that; not sure. I&#x27;d have to check whether that&#x27;s something that&#x27;s specifically supported</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 08:16</div>
            <div class="timeline-body"><p>A clean issue that specifically states the missing functionality (if there is some missing functionality) would be great @max-kamps, thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:27:06 UTC
    </footer>
</body>
</html>
