<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type checker incorrectly rejects Pydantic field aliases in constructors - astral-sh/ty #657</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Type checker incorrectly rejects Pydantic field aliases in constructors</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/657">#657</a>
        opened by <a href="https://github.com/davenpi">@davenpi</a>
        on 2025-06-14 14:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/davenpi">@davenpi</a> on 2025-06-14 14:35</div>
            <div class="timeline-body"><h2>Summary</h2>
<p><code>ty</code> reports <code>unknown-argument</code> errors when using Pydantic field aliases in model constructors, even when <code>validate_by_alias=True</code> is configured. This is valid Pydantic code that runs correctly at runtime.</p>
<h2>Minimal reproducible example</h2>
<pre><code class="language-python"># alias.py
from pydantic import BaseModel, ConfigDict, Field

class MyModel(BaseModel):
    model_config = ConfigDict(extra=&quot;allow&quot;, validate_by_alias=True, validate_by_name=True)

    full_name: str = Field(alias=&quot;fullName&quot;)
    age: int

# This works fine
m1 = MyModel(full_name=&quot;John David&quot;, age=30)

# This also works at runtime but ty reports an error
m2 = MyModel(fullName=&quot;John David&quot;, age=30)  # &lt;-- ty error here

print(m1)  # name='John David' age=30
print(m2)  # name='John David' age=30
</code></pre>
<h2>Run command (default settings)</h2>
<pre><code class="language-bash">uv run ty check alias.py
# or
ty check alias.py
</code></pre>
<h2>Expected behavior</h2>
<p>No type checking errors. Both constructor forms should be accepted when <code>validate_by_alias=True</code> is configured.</p>
<h2>Actual Behavior</h2>
<pre><code>error[unknown-argument]: Argument fullName does not match any known parameter
</code></pre>
<h2>Environment</h2>
<ul>
<li>ty version: 0.0.1-alpha.10 (15bae14c2 2025-06-13)</li>
<li>Pydantic version: 2.11.6</li>
<li>Python version: 3.12</li>
</ul>
<h2>Additional Context</h2>
<p>This pattern is common in Pydantic for handling JSON APIs that use camelCase while maintaining Pythonic snake_case field names internally.</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.10 (15bae14c2 2025-06-13)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-06-17 02:09</div>
            <div class="timeline-body"><p>This should be fixed by the &quot;support for dataclass fields&quot; item of https://github.com/astral-sh/ty/issues/111 -- I'll close it as a duplicate, since it's a known issue, but this is a useful example, thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-06-17 02:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maver1ck">@maver1ck</a> on 2025-09-02 18:48</div>
            <div class="timeline-body"><p>Hi @carljm
support for dataclass fields is checked as done, however this bug persists.
Any idea why ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-02 19:18</div>
            <div class="timeline-body"><p>I think this is now (still) blocked on https://github.com/astral-sh/ty/issues/1068</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @carljm on 2025-09-03 00:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-09-03 00:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PrettyWood">@PrettyWood</a> on 2025-09-03 12:52</div>
            <div class="timeline-body"><p>I'll work on it on Sunday</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-03 13:00</div>
            <div class="timeline-body"><blockquote>
<p>I'll work on it on Sunday</p>
</blockquote>
<p>That sounds great. Please note that the &quot;(still)&quot; in my comment just referred to the fact that it has always been blocked by missing <code>field_specifiers</code> support, despite status updates in #111. I didn't mean to imply any sort of &quot;delay&quot; or urgency.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:11 UTC
    </footer>
</body>
</html>
