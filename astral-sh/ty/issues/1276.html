<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot resolve imported module: `&lt;module import&gt;` ty 'unresolved-import' for packages installed in editable mode - astral-sh/ty #1276</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot resolve imported module: `&lt;module import&gt;` ty 'unresolved-import' for packages installed in editable mode</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1276">#1276</a>
        opened by <a href="https://github.com/sitar777">@sitar777</a>
        on 2025-09-29 13:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 13:14</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>ty does not resolve imports to packages installed in editable mode in VSCode Language Server.</p>
<p><code>pip install -e &lt;package_path&gt;</code></p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.21</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Cannot resolve imported module: `<module import>` ty 'unresolved-import' for packages installed in in editable mode" to "Cannot resolve imported module: `<module import>` ty 'unresolved-import' for packages installed in editable mode" by @sitar777 on 2025-09-29 13:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by @sharkdp on 2025-09-29 13:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">imports</span> added by @sharkdp on 2025-09-29 13:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-29 13:26</div>
            <div class="timeline-body"><p>Thank you for reporting this.</p>
<p>Can you please tell us more about your setup? Do you install into a virtual environment? How do you run ty?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 13:35</div>
            <div class="timeline-body"><p>Course!</p>
<p>It's VSCode extension</p>
<p>I have a venv. Basically it's a Django app with many subapps, that are installed using -e feature. I can't say for sure whats the problem with some of them but some packages are working okay, some are not. Every subapp is a different repo, but all of them are in the same folder of my workspace.</p>
<p>Let's we have a installed package &quot;something&quot;</p>
<p>So importing <code>something.subsomething</code> provoke this behavior. Even from the inside of that package. Also it looks like that the relative imports are working fine. Was excited to try your Language Server for VSCode as Pylance is so slow with large scale repos. But for the time being I can't :((</p>
<p>But I beleive I will see the day when it's gonna help me:))))))))</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 13:37</div>
            <div class="timeline-body"><p>Unfortunately I can't provide you with the setup as it is proprietary. But I will gladly answer questions and provide info that I can provide.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 13:46</div>
            <div class="timeline-body"><p>Maybe it's not -e flag that is not working</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 13:55</div>
            <div class="timeline-body"><p>Yep. Repoduced the problem on a pet project with FastAPI so it's not even Django and -e flag:</p>
<p>structure</p>
<pre><code>.
├── main.py
├── src
│   ├── api
│   │   ├── __init__.py
│   │   ├── models.py
│   │   └── rest.py
</code></pre>
<p>so in my <code>main.py</code> I have</p>
<pre><code>from src.api import rest_router
</code></pre>
<p>in <code>__init__.py</code></p>
<pre><code>from src.api.rest import router as rest_router

__all__ = [
    &quot;rest_router&quot;,
]
</code></pre>
<p>and I get Cannot resolve imported module <code>src.api</code> ty <a href="https://ty.dev/rules#unresolved-import">unresolved-import</a> in <code>main.py</code>
and the same issue in <code>__init__.py</code></p>
<p>The server is working alright and Pylance is able to resolve this with no problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 13:58</div>
            <div class="timeline-body"><p>@sharkdp Sorry for misinformation</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> removed by @sharkdp on 2025-09-29 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-29 14:13</div>
            <div class="timeline-body"><p>I can not reproduce this, neither with the command-line version, nor with the VS Code extensions:</p>
<pre><code>▶ tree
.
├── main.py
└── src
    └── api
        ├── __init__.py
        └── rest.py

3 directories, 3 files


▶ cat main.py                              
from src.api import rest_router


▶ cat src/api/__init__.py 
from src.api.rest import router as rest_router

__all__ = [
    &quot;rest_router&quot;,
]


▶ cat src/api/rest.py    
router = 1


▶ uvx ty --version
ty 0.0.1-alpha.21


▶ uvx ty check    
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 3/3 files
All checks passed!
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 14:22</div>
            <div class="timeline-body"><p>Try to move all of the code in a directory</p>
<pre><code>tree                                                                                                                              127 ↵
.
└── another_workdir
    ├── main.py
    └── src
        └── api
            ├── __init__.py
            └── rest.py
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-29 14:24</div>
            <div class="timeline-body"><p>Ohh, I see. I think you're looking for mono-repo support: https://github.com/astral-sh/ty/issues/819?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 14:25</div>
            <div class="timeline-body"><p><img width="1462" height="552" alt="Image" src="https://github.com/user-attachments/assets/d3d578bd-61b4-42de-b922-2d4c29278261" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 14:26</div>
            <div class="timeline-body"><blockquote>
<p>Ohh, I see. I think you're looking for mono-repo support: <a href="https://github.com/astral-sh/ty/issues/819">#819</a>?</p>
</blockquote>
<p>Looks like it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 14:30</div>
            <div class="timeline-body"><p>Interestingly VSCode is giving me errors while CLI does not</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-29 14:31</div>
            <div class="timeline-body"><p>If you open the subfolder in VS Code, it should also work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 14:36</div>
            <div class="timeline-body"><p>Yes it does but still in my django project I can't do this as I need all subfolders.
Maybe adding folders to workspace instead of using them as real dirs would work but it's gonna take so much time as theres a lot of subfolders... Well anyways thank you. For the time being it won't work for me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitar777">@sitar777</a> on 2025-09-29 14:39</div>
            <div class="timeline-body"><p>Will wait for mono-repo support:)</p>
<p>Actually the speed of Rust is why I use ruff in mono-repo. It's so much faster than Pylance. In big mono-repos I can see it, Pylance takes some seconds to lint and ruff is doing it immediately. ty language server is also gonna be very useful in this case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/faroukcharkas">@faroukcharkas</a> on 2025-09-29 17:43</div>
            <div class="timeline-body"><p>Having a similar issue except for module discovery. Opening the subfolder works great but as soon as I have it in a monorepo it becomes an issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-29 18:08</div>
            <div class="timeline-body"><p>Ok, let's move the discussion to #819</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-09-29 18:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:33 UTC
    </footer>
</body>
</html>
