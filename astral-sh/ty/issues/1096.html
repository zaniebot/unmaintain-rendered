<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>option to ignore all rules and opt-in only to specific ones - astral-sh/ty #1096</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>option to ignore all rules and opt-in only to specific ones</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1096">#1096</a>
        opened by <a href="https://github.com/vishds">@vishds</a>
        on 2025-08-25 14:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vishds">@vishds</a></div>
            <div class="timeline-body">Question
<p>I couldn&#x27;t find any option in the CLI to narrow down the rules that ty checks for, similar to <code>ruff check --select</code>.
I did notice that we can use ignore flag multiple times, but I&#x27;m trying to use <code>ty</code> to fix a specific issue in an old codebase with lot of type errors.</p>
Version
<p>ty 0.0.1-alpha.17</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/vishds">@vishds</a> on 2025-08-25 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-08-25 14:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-08-25 14:56</div>
            <div class="timeline-body"><p>I&#x27;m not the expert on the configuration(that&#x27;s @MichaReiser, and he is out for a few weeks), but as far as I can tell you&#x27;re right, we don&#x27;t currently have any way to ignore all rules by default and select just a few to enable.</p>
<p>I think this is a bit more dangerous in general with a type checker than it is with a linter, since in a type checker, rules are less independent of each other -- it&#x27;s often the case that one type error can cause cascading <code>Unknown</code> type that may then hide other errors. So looking at your codebase through the filter of only a single rule may hide other issues that would impact accurate detection of that single rule.</p>
<p>So I am not entirely sure what our plan is here, but I think it makes sense to keep this issue open to track the feature request.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-08-25 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">feature</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-08-25 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Selection of Rules&quot; to &quot;option to ignore all rules and opt-in only to specific ones&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-08-25 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-08-25 16:07</div>
            <div class="timeline-body"><p>Thanks for the report! I think this is a duplicate of <a href="https://github.com/astral-sh/ty/issues/174">astral-sh/ty#174</a> -- once that&#x27;s implemented you&#x27;ll be able to do <code>ty check --ignore=ALL --select=unresolved-reference</code>, etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-08-25 16:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vishds">@vishds</a> on 2025-08-26 13:10</div>
            <div class="timeline-body"><p>Thank you for your reply.</p>
<blockquote>
<p>So looking at your codebase through the filter of only a single rule may hide other issues that would impact accurate detection of that single rule.</p>
</blockquote>
<p>I&#x27;m curious about the implementation of <code>--ignore</code>. Does it suffer from the same issue ?
I tried reading the source code, but I couldn&#x27;t figure out whether the suppression happens at the output stage or the detection stage ðŸ˜….</p>
<p>In my case I parsed out the specific rules. So a filter at the output stage would suffice for me. But I do understand the issue with that implementation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-08-26 15:54</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m curious about the implementation of <code>--ignore</code>. Does it suffer from the same issue ?</p>
</blockquote>
<p>Yes, the issue is inherent to the nature of type checking. It doesn&#x27;t mean you can&#x27;t still ignore some rules if you want to, it just means you have to be aware that by ignoring a rule you may miss some problems. For an example, consider that you may want to detect <code>invalid-assignment</code>, but suppress <code>invalid-type-form</code>. The consequence is that we won&#x27;t tell you if you have <code>x: InvalidAnnotation = something</code>, because <code>InvalidAnnotation</code> would emit <code>invalid-type-form</code> and then we resolve the declared type of <code>x</code> to <code>Unknown</code>, meaning there won&#x27;t be any <code>invalid-assignment</code> on that assignment. This is what I mean about rules not always being independent of each other. (Some rules of course are more independent and suppressing them is less likely to cause silent cascading <code>Unknown</code>.)</p>
<blockquote>
<p>I couldn&#x27;t figure out whether the suppression happens at the output stage or the detection stage</p>
</blockquote>
<p>It&#x27;s at the detection stage, but it doesn&#x27;t really matter, since there isn&#x27;t significant processing between detection and output. The issue I&#x27;m talking about isn&#x27;t about how we handle diagnostics (we don&#x27;t have logic that explicitly suppresses one diagnostic in favor of another, or anything like that), it&#x27;s about the inherent nature of how type information flows through your program.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:24 UTC
    </footer>
</body>
</html>
