<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compatibility with GitHub CI python install action - astral-sh/ty #2533</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Compatibility with GitHub CI python install action</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2533">#2533</a>
        opened by <a href="https://github.com/BrianSipos">@BrianSipos</a>
        on 2026-01-16 14:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BrianSipos">@BrianSipos</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I am running GitHub CI jobs which have a Python distribution installed by <a href="https://github.com/marketplace/actions/setup-python">actions/setup-python</a>, which configures a few environment variables and adds the python executables to the job <code>PATH</code>.</p>
<p>If the job later runs <code>ty</code> without any custom environemnt, it will fail to detect python packages installed under the <code>setup-python</code> target. As a workaround, I can add a job step to explicitly define <code>PYTHONPATH</code> to use the target directories as below:</p>
<pre><code>    - name: Explicit PYTHONPATH
      run: echo &quot;PYTHONPATH=${PWD}:${Python3_ROOT_DIR}/lib/python3.12/site-packages&quot; &gt;&gt; $GITHUB_ENV
</code></pre>
<p>Maybe ty could use the python executable in normal path to derive an appropriate PYTHONPATH on its own. I thought that is what was happening already, but I suppose not because that explicit envar is currently needed.</p>
<h3>Version</h3>
<p>ty 0.0.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BrianSipos">@BrianSipos</a> on 2026-01-16 14:32</div>
            <div class="timeline-body"><p>This is a distinct issue from #1323 about Python path for Debian/Ubuntu hosts.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-16 15:01:30 UTC
    </footer>
</body>
</html>
