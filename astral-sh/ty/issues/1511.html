<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ty display Unknown type for generic templating function - astral-sh/ty #1511</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ty display Unknown type for generic templating function</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1511">#1511</a>
        opened by <a href="https://github.com/viplazylmht">@viplazylmht</a>
        on 2025-11-10 10:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/viplazylmht">@viplazylmht</a></div>
            <div class="timeline-body">Question
<p>I am writing a generic templating function, which takes in a class, and return an instance of the class.</p>
<pre><code>from typing import Type, TypeVar
T = TypeVar(&quot;T&quot;)

class Point:
  def __init__(self, x: int, y: int):
    self.x = x
    self.y = y
  def __repr__(self):
     return &quot;&lt;Point(x={}, y={})&quot;.format(self.x, self.y)

def instantiate(klass: Type[T], *args, **kwargs) -&gt; T:
    return klass(*args, **kwargs)

the_point = instantiate(Point, 1, 4)
</code></pre>
<p>I am expecting the type of the  <em>the_point</em> instance shown by ty is <strong>Point</strong>, but got <strong>Unknown</strong> instead.
<img alt="Image" src="https://github.com/user-attachments/assets/94748016-86c9-4adb-aac1-e036e60a181f"></p>
<p>Is there any way to modify my function or update the ty to make it work? please help!</p>
<p>https://play.ty.dev/5e414d13-e79b-421d-aff1-523a7c826790</p>
Version
<p>VS Code Extension (Version 2025.51.13022037)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/viplazylmht">@viplazylmht</a> on 2025-11-10 10:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-11-10 10:15</div>
            <div class="timeline-body"><p>Thank you for reporting this. This will be fixed by <a href="https://github.com/astral-sh/ty/issues/501">astral-sh/ty#501</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-11-10 10:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">generics</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-11-10 10:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:55 UTC
    </footer>
</body>
</html>
