<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQLAlchemy Extensions - Cannot resolve import module `sqlalchemy.ext.asyncio` - astral-sh/ty #1249</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>SQLAlchemy Extensions - Cannot resolve import module <code>sqlalchemy.ext.asyncio</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1249">#1249</a>
        opened by <a href="https://github.com/Josh-M42">@Josh-M42</a>
        on 2025-09-24 22:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Josh-M42">@Josh-M42</a></div>
            <div class="timeline-body">Summary
<p>Below is the error:</p>
<pre><code>error[unresolved-import]: Cannot resolve imported module `sqlalchemy.ext.asyncio`
  --&gt; app/services/proto_conversion.py:20:6
   |
18 | from google.protobuf import struct_pb2
19 | from sqlalchemy import and_, or_, select
20 | from sqlalchemy.ext.asyncio import AsyncSession
   |      ^^^^^^^^^^^^^^^^^^^^^^
21 | from sqlalchemy.orm import outerjoin
   |
info: Searched in the following paths during module resolution:
info:   1. /home/josh/projects/python_cms/backend (first-party code)
info:   2. vendored://stdlib (stdlib typeshed stubs vendored by ty)
info:   3. /home/josh/projects/python_cms/backend/.venv/lib/python3.13/site-packages (site-packages)
info: make sure your Python environment is properly configured: https://docs.astral.sh/ty/modules/#python-environment
info: rule `unresolved-import` is enabled by default
</code></pre>
<p>Below is the ls command showing the ext module is in sqlalchemy, as well as <code>sqlalchemy.ext.asyncio</code>.</p>
<pre><code>󰣇 projects/python_cms/backend   main  ✘!+? ❯ ls -a .venv/lib/python3.13/site-packages/sqlalchemy/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      backend 3.13.7  17:11 
.  ..  connectors  cyextension  dialects  engine  event  events.py  exc.py  ext  future  __init__.py  inspection.py  log.py  orm  pool  __pycache__  py.typed  schema.py  sql  testing  types.py  util
󰣇 projects/python_cms/backend   main  ✘!+? ❯ ls -a .venv/lib/python3.13/site-packages/sqlalchemy/ext                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   backend 3.13.7  17:11 
.  ..  associationproxy.py  asyncio  automap.py  baked.py  compiler.py  declarative  horizontal_shard.py  hybrid.py  indexable.py  __init__.py  instrumentation.py  mutable.py  mypy  orderinglist.py  __pycache__  serializer.py
</code></pre>
Version
<p>0.0.1-alpha.21</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-09-25 00:38</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
<p>Are you able to reproduce the issue in a clean project? I&#x27;m not able to reproduce it, with this sequence of commands:</p>
<pre><code>➜ mkdir sqla
➜ cd sqla
➜ uv init .
Initialized project `sqla` at `/Users/carlmeyer/projects/ruff-examples/sqla`

➜ uv add sqlalchemy
Using CPython 3.13.2
Creating virtual environment at: .venv
Resolved 4 packages in 107ms
Installed 2 packages in 7ms
 + sqlalchemy==2.0.43
 + typing-extensions==4.15.0

➜ echo &quot;from sqlalchemy.ext.asyncio import AsyncSession&quot; &gt; main.py

➜ cat main.py
from sqlalchemy.ext.asyncio import AsyncSession

➜ uvx ty check
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 1/1 files                                                                                                                                      All checks passed!
</code></pre>
<p>Without reproduction instructions, it will be hard to track down what&#x27;s happening here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">imports</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-09-25 00:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-09-25 00:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Josh-M42">@Josh-M42</a> on 2025-09-25 17:51</div>
            <div class="timeline-body"><p>@carljm Ah, it seems I&#x27;m unable to reproduce it in a clean project. Sorry! I&#x27;ll try and figure out what the issue is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Josh-M42">@Josh-M42</a> on 2025-09-25 17:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:36 UTC
    </footer>
</body>
</html>
