<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>goto-declaration to go to import instead of definition - astral-sh/ty #1991</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>goto-declaration to go to import instead of definition</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1991">#1991</a>
        opened by <a href="https://github.com/sirfz">@sirfz</a>
        on 2025-12-17 09:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sirfz">@sirfz</a></div>
            <div class="timeline-body"><p>Congrats on the Beta release!</p>
<p>This is a feature that existed forever in jedi since before LSPs existed and it&#x27;s something that I&#x27;ve been missing (A LOT tbh) since moving on with (based)pyright which don&#x27;t implement this LSP feature at all (iirc).</p>
<p>Basically, if I call goto-declaration (not goto-definition) on an imported class/object/etc, it would jump to the import statement in the same file instead of the source definition.</p>
<p>Pyrefly already added this feature after I mentioned it on HN, which was cool. Would be great to also have it in Ty if possible (it already works in Zuban, which is the successor of Jedi).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-17 09:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-18 09:08</div>
            <div class="timeline-body"><p>TypeScript does a slightly different distinction (at least in their non LSP based extension) but I liked having the option to jump to both.</p>
<p>I think what&#x27;s important is that clicking go to declaration on the imported name should still resolve to the declaration in the other file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Stable&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-18 09:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sirfz">@sirfz</a> on 2025-12-18 09:20</div>
            <div class="timeline-body"><p>From memory, I believe pyright doesn&#x27;t implement <code>textDocument/declaration</code> at all (I just used to get an error that it&#x27;s not provided by the lsp). The behavior as it is in zuban/pyrefly right now is to behave like <code>textDocument/definition</code> for anything within the same file (just jumps to where a variable/class is declared) but if it&#x27;s in a different file, it would jump to the import line which is very useful to check from were a class/function/constant is being imported.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:26:29 UTC
    </footer>
</body>
</html>
