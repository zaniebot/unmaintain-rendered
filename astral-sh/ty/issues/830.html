<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[panic] dependency graph cycle when querying PEP695TypeAliasType - astral-sh/ty #830</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[panic] dependency graph cycle when querying PEP695TypeAliasType</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/830">#830</a>
        opened by <a href="https://github.com/floriankapaun">@floriankapaun</a>
        on 2025-07-16 13:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/floriankapaun">@floriankapaun</a> on 2025-07-16 13:28</div>
            <div class="timeline-body"><pre><code>error[panic]: Panicked at /root/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/fc00eba/src/function/execute.rs:212:25 when checking `/workspace/.../foo.py`: `infer_scope_types(Id(1001)): execute: too many cycle iterations`
</code></pre>
<p><code>foo.py</code> for reproduction:</p>
<pre><code class="language-python">type ObjectWithDatetimes = list[&quot;ObjectWithDatetimes&quot;]
</code></pre>
<p>Info:</p>
<pre><code>info: Platform: linux x86_64
info: Args: [&quot;/home/rfa/.pyenv/versions/3.13.3/bin/ty&quot;, &quot;check&quot;, &quot;app/utils/datetime_utils.py&quot;]
info: Backtrace:
   0: &lt;unknown&gt;
   1: &lt;unknown&gt;
   2: &lt;unknown&gt;
   3: &lt;unknown&gt;
   4: &lt;unknown&gt;
   5: &lt;unknown&gt;
   6: &lt;unknown&gt;
   7: &lt;unknown&gt;
   8: &lt;unknown&gt;
   9: &lt;unknown&gt;
  10: &lt;unknown&gt;
  11: &lt;unknown&gt;
  12: &lt;unknown&gt;
  13: &lt;unknown&gt;
  14: &lt;unknown&gt;
  15: &lt;unknown&gt;
  16: &lt;unknown&gt;
  17: &lt;unknown&gt;
  18: &lt;unknown&gt;
  19: &lt;unknown&gt;
  20: &lt;unknown&gt;
  21: &lt;unknown&gt;
  22: &lt;unknown&gt;
  23: &lt;unknown&gt;
  24: &lt;unknown&gt;
  25: &lt;unknown&gt;
  26: &lt;unknown&gt;
  27: &lt;unknown&gt;
  28: &lt;unknown&gt;
  29: &lt;unknown&gt;
  30: &lt;unknown&gt;
  31: &lt;unknown&gt;
  32: &lt;unknown&gt;

info: query stacktrace:
   0: check_types(Id(c00))
             at crates/ty_python_semantic/src/types.rs:91
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/floriankapaun">@floriankapaun</a> on 2025-07-16 13:29</div>
            <div class="timeline-body"><p>duplicate of https://github.com/astral-sh/ty/issues/256</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @floriankapaun on 2025-07-16 13:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:18 UTC
    </footer>
</body>
</html>
