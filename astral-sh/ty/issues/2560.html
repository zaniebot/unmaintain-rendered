<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ty has poor type support for pydantic. - astral-sh/ty #2560</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ty has poor type support for pydantic.</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2560">#2560</a>
        opened by <a href="https://github.com/Airpy">@Airpy</a>
        on 2026-01-19 09:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Airpy">@Airpy</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>my pydantic model:</p>
<pre><code class="language-py">class CreateTestTaskRequest(BaseModel):
    model_config = ConfigDict(extra=&quot;forbid&quot;)

    project_id: str = Field(..., description=&quot;项目ID&quot;, alias=&quot;projectId&quot;)
    app_id: str = Field(..., description=&quot;应用ID&quot;, alias=&quot;appId&quot;)
    task_name: str = Field(..., description=&quot;测试任务&quot;, alias=&quot;taskName&quot;)
    device_type: int = Field(default=DeviceType.INSTANCE_ID.value, description=&quot;设备类型&quot;, alias=&quot;deviceType&quot;)
    device_id: str = Field(..., description=&quot;设备ID&quot;, alias=&quot;deviceId&quot;)
</code></pre>
<p>my test case</p>
<pre><code class="language-python">create_task_data = CreateTestTaskRequest(
                projectId=onetrack_config.onetrack_config.project_id,
                appId=onetrack_config.onetrack_config.app_id,
                task_name=task_name,
                device_type=device_type_value,
                deviceId=device_info[device_type],
            )
</code></pre>
<p>command line</p>
<pre><code class="language-bash">uvx ty check

error[unknown-argument]: Argument `task_name` does not match any known parameter
   --&gt; src/quality_genie/plugins/event_tracking/test.py:185:17
    |
183 |                 projectId=onetrack_config.onetrack_config.project_id,
184 |                 appId=onetrack_config.onetrack_config.app_id,
185 |                 task_name=task_name,
    |                 ^^^^^^^^^^^^^^^^^^^
186 |                 device_type=device_type_value,
187 |                 deviceId=device_info[device_type],
    |
info: rule `unknown-argument` is enabled by default
</code></pre>
<h3>Version</h3>
<p>&quot;ty==0.0.12&quot;,</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-19 09:30:40 UTC
    </footer>
</body>
</html>
