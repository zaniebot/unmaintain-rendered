<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LSP: pytest support - astral-sh/ty #1986</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>LSP: pytest support</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1986">#1986</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-12-17 08:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><ul>
<li>Code lense to run test</li>
<li>List tests in the test explorer</li>
<li>Fixtures support?</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Stable&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-17 08:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-17 08:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maxhully">@maxhully</a> on 2025-12-17 21:01</div>
            <div class="timeline-body"><p>Chiming in as a user: &quot;go to definition&quot; for pytest fixtures would be great. Thanks for building such an awesome tool!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/olzhasar">@olzhasar</a> on 2025-12-29 20:57</div>
            <div class="timeline-body"><p>Second fixtures support.
&quot;Go to definition&quot; alone would be amazing enough, but to make things even more incredible:</p>
<ul>
<li>Infering fixture types in tests based on their declaration, e.g.:</li>
</ul>
<pre><code>@pytest.fixture
def some_number() -&gt; int:
    return some_calculation()

def test_foo(some_number):  # -&gt; treat some_number as int in this test 
</code></pre>
<ul>
<li>Finding fixtures <a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#textDocument_references">references</a> - tests using specific fixture</li>
</ul>
<p>If implemented, this would mitigate the main pitfalls of <code>pytest</code>, at least for me :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qdewaghe">@qdewaghe</a> on 2026-01-01 01:51</div>
            <div class="timeline-body"><p>Some CodeLens support would be nice as well. I&#x27;d love for ty to support <a href="https://15r10nk.github.io/inline-snapshot/latest/">inline-snapshot</a> the same way rust-analyzer supports insta.</p>
<p><img alt="Image" src="https://github.com/user-attachments/assets/3d484080-af22-43a4-9210-734122fbef2d"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marovira">@marovira</a> on 2026-01-22 01:17</div>
            <div class="timeline-body"><p>I would also suggest (if it hasn&#x27;t been suggested already) to have autocompletion for fixtures.
For example, it would be nice if the following could be done:</p>
<pre><code>def test_foo(tmp_ ): # &lt;- Ty should suggest tmp_path here as a completion option.
</code></pre>
<p>For reference, I would suggest looking at Jedi, as that one has support for completions on pytest fixtures.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-22 02:12:08 UTC
    </footer>
</body>
</html>
