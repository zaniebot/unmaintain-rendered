<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ty extension: The ty language server exited with a panic - astral-sh/ty #1811</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ty extension: The ty language server exited with a panic</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1811">#1811</a>
        opened by <a href="https://github.com/daltunay">@daltunay</a>
        on 2025-12-08 22:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/daltunay">@daltunay</a></div>
            <div class="timeline-body"><p>First, thank you all for uv, ruff and ty!</p>
Summary
<p>While working with either Cursor or new <a href="https://antigravity.google/">Antigravity IDE</a>, I often get the following error:</p>
<blockquote>
<pre><code>The ty language server exited with a panic. See the logs for more details.
</code></pre>
</blockquote>
<p>I am not sure exactly what&#x27;s triggering it, but I feel like this happens while the agent is modifying files.</p>
<p>Here are the logs of the last time it happened to me:</p>
ty output - 1
<p>

<pre><code>2025-12-08 13:52:12.100145000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/pipeline.py` took more than 100ms (109.510792ms)
2025-12-08 13:52:15.179335000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/utils/edi/x12/utils/datetime.py` took more than 100ms (142.548792ms)
2025-12-08 13:53:07.532756000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:53:07.534350000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:53:07.564521000  INFO Indexed 3969 file(s) in 0.025s
2025-12-08 13:53:08.809034000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:53:08.812397000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:53:09.016086000  INFO Indexed 3969 file(s) in 0.083s
2025-12-08 13:53:13.982949000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:53:13.983778000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:53:14.006984000  INFO Indexed 3969 file(s) in 0.021s
2025-12-08 13:53:51.322352000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/invoice_manager/services/invoice_activity_event_service.py` took more than 100ms (194.254625ms)
2025-12-08 13:53:51.565877000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/users/migrations/0141_alter_billing_disputable_amount_cents_limit_squashed_0209_companysettings_isolated_data_alter_company_settings.py` took more than 100ms (137.03375ms)
2025-12-08 13:53:51.582140000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/utils/edi/x12/utils/datetime.py` took more than 100ms (168.828458ms)
2025-12-08 13:53:51.605898000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/common/factory_helpers.py` took more than 100ms (184.362833ms)
2025-12-08 13:54:03.909385000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:54:03.910012000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:54:03.935289000  INFO Indexed 3969 file(s) in 0.024s
2025-12-08 13:54:08.456916000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:54:08.458341000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:54:08.484814000  INFO Indexed 3969 file(s) in 0.025s
2025-12-08 13:54:39.585661000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/users/constants.py` took more than 100ms (3.480041542s)
2025-12-08 13:54:54.752225000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/pipeline.py` took more than 100ms (158.447083ms)
2025-12-08 13:55:11.960075000  WARN Ignoring request id=71673 method=textDocument/diagnostic because Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/pipeline.py is not open in the session
[Error - 1:55:11 PM] Request textDocument/diagnostic failed.
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/pipeline.py is not open in the session
  Code: -32602 
[Error - 1:55:11 PM] Document pull failed for text document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/pipeline.py
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/pipeline.py is not open in the session
  Code: -32602 
2025-12-08 13:55:19.917146000  WARN Ignoring request id=71690 method=textDocument/diagnostic because Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/create_pydantic_dataset.py is not open in the session
[Error - 1:55:19 PM] Request textDocument/diagnostic failed.
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/create_pydantic_dataset.py is not open in the session
  Code: -32602 
[Error - 1:55:19 PM] Document pull failed for text document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/create_pydantic_dataset.py
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/create_pydantic_dataset.py is not open in the session
  Code: -32602 
2025-12-08 13:55:21.174144000  WARN Ignoring request id=71692 method=textDocument/diagnostic because Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/__init__.py is not open in the session
[Error - 1:55:21 PM] Request textDocument/diagnostic failed.
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/__init__.py is not open in the session
  Code: -32602 
[Error - 1:55:21 PM] Document pull failed for text document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/__init__.py
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/__init__.py is not open in the session
  Code: -32602 
2025-12-08 13:55:23.279805000  WARN Ignoring request id=71694 method=textDocument/diagnostic because Document file:///Users/daltunay/GitHub/bc_core_api/ai/management/commands/evaluate_structured_parsing.py is not open in the session
[Error - 1:55:23 PM] Request textDocument/diagnostic failed.
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/management/commands/evaluate_structured_parsing.py is not open in the session
  Code: -32602 
[Error - 1:55:23 PM] Document pull failed for text document file:///Users/daltunay/GitHub/bc_core_api/ai/management/commands/evaluate_structured_parsing.py
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/management/commands/evaluate_structured_parsing.py is not open in the session
  Code: -32602 
2025-12-08 13:55:26.263357000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:55:26.263777000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:55:26.352881000  INFO Indexed 3969 file(s) in 0.088s
2025-12-08 13:55:31.261106000  INFO Defaulting to python-platform `darwin`
2025-12-08 13:55:31.261812000  INFO Python version: Python 3.11, platform: darwin
2025-12-08 13:55:31.279671000  INFO Indexed 3969 file(s) in 0.017s
2025-12-08 13:56:34.962746000  WARN Ignoring request id=71769 method=textDocument/diagnostic because Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/models.py is not open in the session
[Error - 1:56:34 PM] Request textDocument/diagnostic failed.
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/models.py is not open in the session
  Code: -32602 
[Error - 1:56:34 PM] Document pull failed for text document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/models.py
  Message: Document file:///Users/daltunay/GitHub/bc_core_api/ai/structured_invoice_parsing/evaluation/models.py is not open in the session
  Code: -32602 
2025-12-08 13:57:59.017986000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/invoices/parsers/edi_x12_parser.py` took more than 100ms (113.07975ms)
2025-12-08 13:58:01.158066000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:01.158171000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:03.452983000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:15.043033000  INFO Checking file `/Users/daltunay/GitHub/bc_core_api/users/constants.py` took more than 100ms (3.245766166s)
2025-12-08 13:58:43.670668000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:43.671229000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:46.195606000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:46.198208000 ERROR panicked at /Users/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/59aa107/src/function/backdate.rs:42:17:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
   0: __mh_execute_header
   1: __mh_execute_header
   2: __mh_execute_header
   3: __mh_execute_header
   4: __mh_execute_header
   5: __mh_execute_header
   6: __mh_execute_header
   7: __mh_execute_header
   8: __mh_execute_header
   9: __mh_execute_header
  10: __mh_execute_header
  11: __mh_execute_header
  12: __mh_execute_header
  13: __mh_execute_header
  14: __mh_execute_header
  15: __pthread_cond_wait

panicked at /Users/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/59aa107/src/function/backdate.rs:42:17:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
   0: __mh_execute_header
   1: __mh_execute_header
   2: __mh_execute_header
   3: __mh_execute_header
   4: __mh_execute_header
   5: __mh_execute_header
   6: __mh_execute_header
   7: __mh_execute_header
   8: __mh_execute_header
   9: __mh_execute_header
  10: __mh_execute_header
  11: __mh_execute_header
  12: __mh_execute_header
  13: __mh_execute_header
  14: __mh_execute_header
  15: __pthread_cond_wait

2025-12-08 13:58:46.220974000 ERROR An error occurred with request ID 71982: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
[Error - 1:58:46 PM] Request textDocument/diagnostic failed.
  Message: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
  Code: -32603 
[Error - 1:58:46 PM] Workspace diagnostic pull failed.
  Message: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
  Code: -32603 
2025-12-08 13:58:48.234624000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:48.235052000 ERROR panicked at /Users/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/59aa107/src/function/backdate.rs:42:17:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
   0: __mh_execute_header
   1: __mh_execute_header
   2: __mh_execute_header
   3: __mh_execute_header
   4: __mh_execute_header
   5: __mh_execute_header
   6: __mh_execute_header
   7: __mh_execute_header
   8: __mh_execute_header
   9: __mh_execute_header
  10: __mh_execute_header
  11: __mh_execute_header
  12: __mh_execute_header
  13: __mh_execute_header
  14: __mh_execute_header
  15: __pthread_cond_wait

panicked at /Users/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/59aa107/src/function/backdate.rs:42:17:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
   0: __mh_execute_header
   1: __mh_execute_header
   2: __mh_execute_header
   3: __mh_execute_header
   4: __mh_execute_header
   5: __mh_execute_header
   6: __mh_execute_header
   7: __mh_execute_header
   8: __mh_execute_header
   9: __mh_execute_header
  10: __mh_execute_header
  11: __mh_execute_header
  12: __mh_execute_header
  13: __mh_execute_header
  14: __mh_execute_header
  15: __pthread_cond_wait

2025-12-08 13:58:48.265699000 ERROR An error occurred with request ID 71983: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
[Error - 1:58:48 PM] Request textDocument/diagnostic failed.
  Message: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
  Code: -32603 
[Error - 1:58:48 PM] Workspace diagnostic pull failed.
  Message: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
  Code: -32603 
2025-12-08 13:58:50.276868000  WARN Propagating panic for cycle head that panicked in an earlier execution in that revision
2025-12-08 13:58:50.277268000 ERROR panicked at /Users/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/59aa107/src/function/backdate.rs:42:17:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
   0: __mh_execute_header
   1: __mh_execute_header
   2: __mh_execute_header
   3: __mh_execute_header
   4: __mh_execute_header
   5: __mh_execute_header
   6: __mh_execute_header
   7: __mh_execute_header
   8: __mh_execute_header
   9: __mh_execute_header
  10: __mh_execute_header
  11: __mh_execute_header
  12: __mh_execute_header
  13: __mh_execute_header
  14: __mh_execute_header
  15: __pthread_cond_wait

panicked at /Users/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/59aa107/src/function/backdate.rs:42:17:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
   0: __mh_execute_header
   1: __mh_execute_header
   2: __mh_execute_header
   3: __mh_execute_header
   4: __mh_execute_header
   5: __mh_execute_header
   6: __mh_execute_header
   7: __mh_execute_header
   8: __mh_execute_header
   9: __mh_execute_header
  10: __mh_execute_header
  11: __mh_execute_header
  12: __mh_execute_header
  13: __mh_execute_header
  14: __mh_execute_header
  15: __pthread_cond_wait

2025-12-08 13:58:50.306676000 ERROR An error occurred with request ID 71984: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
[Error - 1:58:50 PM] Request textDocument/diagnostic failed.
  Message: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
  Code: -32603 
[Error - 1:58:50 PM] Workspace diagnostic pull failed.
  Message: request handler panicked at:
assertion failed: old_memo.revisions.changed_at &lt;= revisions.changed_at
  Code: -32603 
</code></pre>
</p>
 

<p>Also while writing this and doing some code modifications, the language server crashed with another exception:</p>
ty output - 2
<p>

<pre><code>2025-12-08 14:07:57.417468000 ERROR An error occurred with request ID 72818: request handler panicked at crates/ruff_python_ast/src/token/tokens.rs:182:13:
Offset 1689 is inside a token range 1688..1692
run with `RUST_BACKTRACE=1` environment variable to display a backtrace

[Error - 2:07:57 PM] Request textDocument/codeAction failed.
  Message: request handler panicked at crates/ruff_python_ast/src/token/tokens.rs:182:13:
Offset 1689 is inside a token range 1688..1692
run with `RUST_BACKTRACE=1` environment variable to display a backtrace

  Code: -32603 
2025-12-08 14:07:57.751671000 ERROR An error occurred with request ID 72842: request handler panicked at crates/ruff_python_ast/src/token/tokens.rs:182:13:
Offset 1689 is inside a token range 1688..1692
run with `RUST_BACKTRACE=1` environment variable to display a backtrace

[Error - 2:07:57 PM] Request textDocument/codeAction failed.
  Message: request handler panicked at crates/ruff_python_ast/src/token/tokens.rs:182:13:
Offset 1689 is inside a token range 1688..1692
run with `RUST_BACKTRACE=1` environment variable to display a backtrace

  Code: -32603 
</code></pre>
</p>
 

<p>VS Code extension version: <code>2025.61.13371357</code>
ty version: <code>ty 0.0.1-alpha.32 (84a188116 2025-12-05)</code></p>
<p>I am also providing debug information if this can help:</p>
ty debug
<p>

<pre><code>Client capabilities: ResolvedClientCapabilities(
    WORKSPACE_DIAGNOSTIC_REFRESH | INLAY_HINT_REFRESH | PULL_DIAGNOSTICS | TYPE_DEFINITION_LINK_SUPPORT | DEFINITION_LINK_SUPPORT | DECLARATION_LINK_SUPPORT | PREFER_MARKDOWN_IN_HOVER | SIGNATURE_LABEL_OFFSET_SUPPORT | SIGNATURE_ACTIVE_PARAMETER_SUPPORT | HIERARCHICAL_DOCUMENT_SYMBOL_SUPPORT | WORK_DONE_PROGRESS | FILE_WATCHER_SUPPORT | RELATIVE_FILE_WATCHER_SUPPORT | DIAGNOSTIC_DYNAMIC_REGISTRATION | WORKSPACE_CONFIGURATION | RENAME_DYNAMIC_REGISTRATION | COMPLETION_ITEM_LABEL_DETAILS_SUPPORT,
)
Position encoding: UTF16
Global settings: GlobalSettings {
    diagnostic_mode: Workspace,
    experimental: ExperimentalSettings {
        rename: true,
        auto_import: true,
    },
}
Open text documents: 5

Workspace /Users/daltunay/GitHub/bc_core_api (file:///Users/daltunay/GitHub/bc_core_api)
Settings: WorkspaceSettings {
    disable_language_services: false,
    inlay_hints: InlayHintSettings {
        variable_types: true,
        call_argument_names: true,
    },
    overrides: Some(
        ProjectOptionsOverrides {
            config_file_override: None,
            fallback_python_version: Some(
                PythonVersion {
                    major: 3,
                    minor: 11,
                },
            ),
            fallback_python: Some(
                RelativePathBuf(
                    &quot;/Users/daltunay/GitHub/bc_core_api/.venv&quot;,
                ),
            ),
            options: Options {
                environment: None,
                src: None,
                rules: None,
                terminal: None,
                overrides: None,
            },
        },
    ),
}

Project at /Users/daltunay/GitHub/bc_core_api
Settings: Settings {
    rules: {
        &quot;ambiguous-protocol-member&quot;: Warning (Default),
        &quot;byte-string-type-annotation&quot;: Error (Default),
        &quot;call-non-callable&quot;: Error (Default),
        &quot;conflicting-argument-forms&quot;: Error (Default),
        &quot;conflicting-declarations&quot;: Error (Default),
        &quot;conflicting-metaclass&quot;: Error (Default),
        &quot;cyclic-class-definition&quot;: Error (Default),
        &quot;cyclic-type-alias-definition&quot;: Error (Default),
        &quot;deprecated&quot;: Warning (Default),
        &quot;duplicate-base&quot;: Error (Default),
        &quot;duplicate-kw-only&quot;: Error (Default),
        &quot;escape-character-in-forward-annotation&quot;: Error (Default),
        &quot;fstring-type-annotation&quot;: Error (Default),
        &quot;ignore-comment-unknown-rule&quot;: Warning (Default),
        &quot;implicit-concatenated-string-type-annotation&quot;: Error (Default),
        &quot;inconsistent-mro&quot;: Error (Default),
        &quot;index-out-of-bounds&quot;: Error (Default),
        &quot;instance-layout-conflict&quot;: Error (Default),
        &quot;invalid-argument-type&quot;: Error (Default),
        &quot;invalid-assignment&quot;: Error (Default),
        &quot;invalid-attribute-access&quot;: Error (Default),
        &quot;invalid-await&quot;: Error (Default),
        &quot;invalid-base&quot;: Error (Default),
        &quot;invalid-context-manager&quot;: Error (Default),
        &quot;invalid-declaration&quot;: Error (Default),
        &quot;invalid-exception-caught&quot;: Error (Default),
        &quot;invalid-explicit-override&quot;: Error (Default),
        &quot;invalid-generic-class&quot;: Error (Default),
        &quot;invalid-ignore-comment&quot;: Warning (Default),
        &quot;invalid-key&quot;: Error (Default),
        &quot;invalid-legacy-type-variable&quot;: Error (Default),
        &quot;invalid-metaclass&quot;: Error (Default),
        &quot;invalid-method-override&quot;: Error (Default),
        &quot;invalid-named-tuple&quot;: Error (Default),
        &quot;invalid-newtype&quot;: Error (Default),
        &quot;invalid-overload&quot;: Error (Default),
        &quot;invalid-parameter-default&quot;: Error (Default),
        &quot;invalid-paramspec&quot;: Error (Default),
        &quot;invalid-protocol&quot;: Error (Default),
        &quot;invalid-raise&quot;: Error (Default),
        &quot;invalid-return-type&quot;: Error (Default),
        &quot;invalid-super-argument&quot;: Error (Default),
        &quot;invalid-syntax-in-forward-annotation&quot;: Error (Default),
        &quot;invalid-type-alias-type&quot;: Error (Default),
        &quot;invalid-type-arguments&quot;: Error (Default),
        &quot;invalid-type-checking-constant&quot;: Error (Default),
        &quot;invalid-type-form&quot;: Error (Default),
        &quot;invalid-type-guard-call&quot;: Error (Default),
        &quot;invalid-type-guard-definition&quot;: Error (Default),
        &quot;invalid-type-variable-constraints&quot;: Error (Default),
        &quot;missing-argument&quot;: Error (Default),
        &quot;missing-typed-dict-key&quot;: Error (Default),
        &quot;no-matching-overload&quot;: Error (Default),
        &quot;non-subscriptable&quot;: Error (Default),
        &quot;not-iterable&quot;: Error (Default),
        &quot;override-of-final-method&quot;: Error (Default),
        &quot;parameter-already-assigned&quot;: Error (Default),
        &quot;positional-only-parameter-as-kwarg&quot;: Error (Default),
        &quot;possibly-missing-attribute&quot;: Warning (Default),
        &quot;possibly-missing-implicit-call&quot;: Warning (Default),
        &quot;possibly-missing-import&quot;: Warning (Default),
        &quot;raw-string-type-annotation&quot;: Error (Default),
        &quot;redundant-cast&quot;: Warning (Default),
        &quot;static-assert-error&quot;: Error (Default),
        &quot;subclass-of-final-class&quot;: Error (Default),
        &quot;super-call-in-named-tuple-method&quot;: Error (Default),
        &quot;too-many-positional-arguments&quot;: Error (Default),
        &quot;type-assertion-failure&quot;: Error (Default),
        &quot;unavailable-implicit-super-arguments&quot;: Error (Default),
        &quot;undefined-reveal&quot;: Warning (Default),
        &quot;unknown-argument&quot;: Error (Default),
        &quot;unresolved-attribute&quot;: Error (Default),
        &quot;unresolved-global&quot;: Warning (Default),
        &quot;unresolved-import&quot;: Error (Default),
        &quot;unresolved-reference&quot;: Error (Default),
        &quot;unsupported-base&quot;: Warning (Default),
        &quot;unsupported-bool-conversion&quot;: Error (Default),
        &quot;unsupported-operator&quot;: Error (Default),
        &quot;useless-overload-body&quot;: Warning (Default),
        &quot;zero-stepsize-in-slice&quot;: Error (Default),
    },
    terminal: TerminalSettings {
        output_format: Full,
        error_on_warning: false,
    },
    src: SrcSettings {
        respect_ignore_files: true,
        files: IncludeExcludeFilter {
            include: IncludeFilter(
                [
                    &quot;**&quot;,
                ],
                ..
            ),
            exclude: ExcludeFilter {
                ignore: Gitignore(
                    [
                        IgnoreGlob {
                            original: &quot;**/.bzr/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.direnv/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.eggs/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.git/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.git-rewrite/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.hg/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.mypy_cache/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.nox/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.pants.d/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.pytype/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.ruff_cache/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.svn/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.tox/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/.venv/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/__pypackages__/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/_build/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/buck-out/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/dist/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/node_modules/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                        IgnoreGlob {
                            original: &quot;**/venv/&quot;,
                            is_allow: false,
                            is_only_dir: true,
                        },
                    ],
                    ..
                ),
            },
        },
    },
    overrides: [],
}

Memory report:
=======SALSA STRUCTS=======
`Definition`                                       metadata=19.61MB  fields=27.45MB  count=490263
`File`                                             metadata=4.29MB   fields=12.68MB  count=66988
`IntersectionType`                                 metadata=5.12MB   fields=12.01MB  count=91349
`FunctionType`                                     metadata=2.17MB   fields=10.37MB  count=38676
`Type &lt; &#x27;db &gt;::class_member_with_policy_::interned_arguments` metadata=9.27MB   fields=7.94MB   count=165453
`Type &lt; &#x27;db &gt;::is_redundant_with_::interned_arguments` metadata=13.40MB  fields=7.66MB   count=239308
`Type &lt; &#x27;db &gt;::member_lookup_with_policy_::interned_arguments` metadata=8.52MB   fields=7.31MB   count=152200
`ClassLiteral &lt; &#x27;db &gt;::implicit_attribute_inner_::interned_arguments` metadata=9.14MB   fields=6.53MB   count=163135
`UnionType`                                        metadata=5.28MB   fields=5.74MB   count=94251
`Expression`                                       metadata=11.24MB  fields=5.62MB   count=234096
`CallableType`                                     metadata=1.37MB   fields=5.04MB   count=24542
`Type &lt; &#x27;db &gt;::apply_specialization_::interned_arguments` metadata=9.06MB   fields=3.88MB   count=161855
`Type &lt; &#x27;db &gt;::try_call_dunder_get_::interned_arguments` metadata=4.31MB   fields=3.69MB   count=76932
`Specialization`                                   metadata=3.38MB   fields=3.58MB   count=60409
`StringLiteralType`                                metadata=2.59MB   fields=2.56MB   count=46317
`FileModule`                                       metadata=1.84MB   fields=2.52MB   count=32775
`TupleType`                                        metadata=1.13MB   fields=1.65MB   count=20203
`OverloadLiteral`                                  metadata=1.31MB   fields=1.62MB   count=23408
`place_by_id::interned_arguments`                  metadata=3.73MB   fields=1.43MB   count=71739
`ScopeId`                                          metadata=2.50MB   fields=1.07MB   count=89254
`BoundMethodType`                                  metadata=2.03MB   fields=0.87MB   count=36313
`ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments` metadata=2.61MB   fields=0.75MB   count=46571
`GenericAlias`                                     metadata=2.60MB   fields=0.74MB   count=46362
`ClassLiteral`                                     metadata=0.49MB   fields=0.61MB   count=8681
`GenericContext`                                   metadata=0.36MB   fields=0.53MB   count=6343
`BoundTypeVarInstance`                             metadata=1.74MB   fields=0.50MB   count=31023
`ProtocolInterface`                                metadata=0.18MB   fields=0.40MB   count=3176
`code_generator_of_class::interned_arguments`      metadata=1.34MB   fields=0.38MB   count=23956
`ModuleLiteralType`                                metadata=0.94MB   fields=0.36MB   count=18042
`TypeVarInstance`                                  metadata=0.35MB   fields=0.30MB   count=6214
`Unpack`                                           metadata=0.26MB   fields=0.21MB   count=6460
`ModuleNameIngredient`                             metadata=0.20MB   fields=0.19MB   count=3567
`FunctionLiteral`                                  metadata=1.32MB   fields=0.19MB   count=23546
`StarImportPlaceholderPredicate`                   metadata=0.26MB   fields=0.18MB   count=9225
`TypeVarIdentity`                                  metadata=0.20MB   fields=0.15MB   count=3633
`ExpressionWithContext`                            metadata=0.28MB   fields=0.12MB   count=5053
`UnionTypeInstance`                                metadata=0.05MB   fields=0.08MB   count=849
`EnumLiteralType`                                  metadata=0.12MB   fields=0.08MB   count=2186
`Project`                                          metadata=0.00MB   fields=0.06MB   count=1
`PatternPredicate`                                 metadata=0.02MB   fields=0.05MB   count=561
`PropertyInstanceType`                             metadata=0.06MB   fields=0.03MB   count=1013
`lookup_dunder_new_inner::interned_arguments`      metadata=0.11MB   fields=0.03MB   count=2002
`BoundSuperType`                                   metadata=0.04MB   fields=0.02MB   count=717
`is_equivalent_to_object_inner::interned_arguments` metadata=0.09MB   fields=0.02MB   count=1676
`Program`                                          metadata=0.00MB   fields=0.02MB   count=1
`ClassLiteral &lt; &#x27;db &gt;::fields_::interned_arguments` metadata=0.03MB   fields=0.01MB   count=500
`FieldInstance`                                    metadata=0.01MB   fields=0.01MB   count=231
`InternedType`                                     metadata=0.01MB   fields=0.00MB   count=202
`BytesLiteralType`                                 metadata=0.00MB   fields=0.00MB   count=51
`TypeIsType`                                       metadata=0.00MB   fields=0.00MB   count=33
`NamespacePackage`                                 metadata=0.00MB   fields=0.00MB   count=40
`NewType`                                          metadata=0.00MB   fields=0.00MB   count=20
`DataclassParams`                                  metadata=0.00MB   fields=0.00MB   count=19
`ClassLiteral &lt; &#x27;db &gt;::variance_of_::interned_arguments` metadata=0.00MB   fields=0.00MB   count=44
`GenericAlias &lt; &#x27;db &gt;::variance_of_::interned_arguments` metadata=0.00MB   fields=0.00MB   count=19
`FileRoot`                                         metadata=0.00MB   fields=0.00MB   count=2
`DataclassTransformerParams`                       metadata=0.00MB   fields=0.00MB   count=5
`ManualPEP695TypeAliasType`                        metadata=0.00MB   fields=0.00MB   count=4
`DeprecatedInstance`                               metadata=0.00MB   fields=0.00MB   count=16
`SearchPathIngredient`                             metadata=0.00MB   fields=0.00MB   count=4
`ModuleResolveModeIngredient`                      metadata=0.00MB   fields=0.00MB   count=3
`list_modules::interned_arguments`                 metadata=0.00MB   fields=0.00MB   count=1
`module_type_symbols::interned_arguments`          metadata=0.00MB   fields=0.00MB   count=1
=======SALSA QUERIES=======
`semantic_index -&gt; ty_python_semantic::semantic_index::SemanticIndex&lt;&#x27;_&gt;`
    metadata=20.37MB  fields=425.36MB count=5349
`source_text -&gt; ruff_db::source::SourceText`
    metadata=1.51MB   fields=198.66MB count=23783
`FunctionType &lt; &#x27;db &gt;::signature_ -&gt; ty_python_semantic::types::signatures::CallableSignature&lt;&#x27;_&gt;`
    metadata=8.16MB   fields=88.11MB  count=31147
`infer_definition_types -&gt; ty_python_semantic::types::infer::DefinitionInference&lt;&#x27;_&gt;`
    metadata=85.00MB  fields=57.39MB  count=197488
`infer_scope_types -&gt; ty_python_semantic::types::infer::ScopeInference&lt;&#x27;_&gt;`
    metadata=24.64MB  fields=53.83MB  count=32740
`infer_expression_types_impl -&gt; ty_python_semantic::types::infer::ExpressionInference&lt;&#x27;_&gt;`
    metadata=76.21MB  fields=34.79MB  count=145105
`symbols_for_file_global_only -&gt; ty_ide::symbols::FlatSymbols`
    metadata=2.37MB   fields=11.56MB  count=22961
`check_file_impl -&gt; core::result::Result&lt;alloc::boxed::Box&lt;[ruff_db::diagnostic::Diagnostic]&gt;, ruff_db::diagnostic::Diagnostic&gt;`
    metadata=0.87MB   fields=6.69MB   count=3972
`ClassLiteral &lt; &#x27;db &gt;::try_mro_ -&gt; core::result::Result&lt;ty_python_semantic::types::mro::Mro&lt;&#x27;_&gt;, ty_python_semantic::types::mro::MroError&lt;&#x27;_&gt;&gt;`
    metadata=11.14MB  fields=6.45MB   count=46571
`Type &lt; &#x27;db &gt;::class_member_with_policy_ -&gt; ty_python_semantic::place::PlaceAndQualifiers&lt;&#x27;_&gt;`
    metadata=42.49MB  fields=5.29MB   count=165453
`ClassLiteral &lt; &#x27;db &gt;::implicit_attribute_inner_ -&gt; ty_python_semantic::types::member::Member&lt;&#x27;_&gt;`
    metadata=17.52MB  fields=5.22MB   count=163135
`Type &lt; &#x27;db &gt;::member_lookup_with_policy_ -&gt; ty_python_semantic::place::PlaceAndQualifiers&lt;&#x27;_&gt;`
    metadata=40.95MB  fields=4.87MB   count=152200
`line_index -&gt; ruff_source_file::line_index::LineIndex`
    metadata=0.20MB   fields=4.53MB   count=3774
`infer_deferred_types -&gt; ty_python_semantic::types::infer::DefinitionInference&lt;&#x27;_&gt;`
    metadata=4.28MB   fields=3.24MB   count=6090
`Type &lt; &#x27;db &gt;::apply_specialization_ -&gt; ty_python_semantic::types::Type&lt;&#x27;_&gt;`
    metadata=15.20MB  fields=2.59MB   count=161855
`place_by_id -&gt; ty_python_semantic::place::PlaceAndQualifiers&lt;&#x27;_&gt;`
    metadata=6.72MB   fields=2.30MB   count=71739
`all_narrowing_constraints_for_expression -&gt; core::option::Option&lt;std::collections::hash::map::HashMap&lt;ty_python_semantic::semantic_index::place::ScopedPlaceId, ty_python_semantic::types::Type&lt;&#x27;_&gt;, rustc_hash::FxBuildHasher&gt;&gt;`
    metadata=15.78MB  fields=2.05MB   count=25467
`Type &lt; &#x27;db &gt;::try_call_dunder_get_ -&gt; core::option::Option&lt;(ty_python_semantic::types::Type&lt;&#x27;_&gt;, ty_python_semantic::types::AttributeKind)&gt;`
    metadata=38.26MB  fields=1.85MB   count=76930
`FunctionType &lt; &#x27;db &gt;::last_definition_raw_signature_ -&gt; ty_python_semantic::types::signatures::Signature&lt;&#x27;_&gt;`
    metadata=1.26MB   fields=1.81MB   count=8729
`all_submodule_names_for_package -&gt; core::option::Option&lt;alloc::vec::Vec&lt;ty_python_semantic::module_resolver::module::Module&lt;&#x27;_&gt;&gt;&gt;`
    metadata=2.27MB   fields=1.32MB   count=32469
`overloads_and_implementation_inner -&gt; (alloc::boxed::Box&lt;[ty_python_semantic::types::function::OverloadLiteral&lt;&#x27;_&gt;]&gt;, core::option::Option&lt;ty_python_semantic::types::function::OverloadLiteral&lt;&#x27;_&gt;&gt;)`
    metadata=2.64MB   fields=1.23MB   count=22575
`FunctionType &lt; &#x27;db &gt;::last_definition_signature_ -&gt; ty_python_semantic::types::signatures::Signature&lt;&#x27;_&gt;`
    metadata=0.85MB   fields=1.05MB   count=4204
`all_negative_narrowing_constraints_for_expression -&gt; core::option::Option&lt;std::collections::hash::map::HashMap&lt;ty_python_semantic::semantic_index::place::ScopedPlaceId, ty_python_semantic::types::Type&lt;&#x27;_&gt;, rustc_hash::FxBuildHasher&gt;&gt;`
    metadata=4.42MB   fields=0.99MB   count=11360
`enum_metadata -&gt; core::option::Option&lt;ty_python_semantic::types::enums::EnumMetadata&lt;&#x27;_&gt;&gt;`
    metadata=3.33MB   fields=0.66MB   count=7450
`suppressions -&gt; ty_python_semantic::suppression::Suppressions`
    metadata=0.25MB   fields=0.59MB   count=3969
`infer_unpack_types -&gt; ty_python_semantic::types::unpacker::UnpackResult&lt;&#x27;_&gt;`
    metadata=1.02MB   fields=0.59MB   count=3255
`infer_expression_type_impl -&gt; ty_python_semantic::types::Type&lt;&#x27;_&gt;`
    metadata=2.97MB   fields=0.56MB   count=35279
`ClassLiteral &lt; &#x27;db &gt;::fields_ -&gt; indexmap::map::IndexMap&lt;ruff_python_ast::name::Name, ty_python_semantic::types::class::Field&lt;&#x27;_&gt;, core::hash::BuildHasherDefault&lt;rustc_hash::FxHasher&gt;&gt;`
    metadata=0.30MB   fields=0.44MB   count=500
`imported_modules -&gt; alloc::sync::Arc&lt;std::collections::hash::set::HashSet&lt;ty_python_semantic::module_name::ModuleName, rustc_hash::FxBuildHasher&gt;&gt;`
    metadata=0.19MB   fields=0.43MB   count=3649
`inferable_typevars_inner -&gt; std::collections::hash::set::HashSet&lt;ty_python_semantic::types::BoundTypeVarIdentity&lt;&#x27;_&gt;, rustc_hash::FxBuildHasher&gt;`
    metadata=0.25MB   fields=0.42MB   count=4741
`ClassLiteral &lt; &#x27;db &gt;::try_metaclass_ -&gt; core::result::Result&lt;(ty_python_semantic::types::Type&lt;&#x27;_&gt;, core::option::Option&lt;ty_python_semantic::types::function::DataclassTransformerParams&lt;&#x27;_&gt;&gt;), ty_python_semantic::types::class::MetaclassError&lt;&#x27;_&gt;&gt;`
    metadata=1.73MB   fields=0.38MB   count=7968
`parsed_module -&gt; ruff_db::parsed::ParsedModule`
    metadata=1.81MB   fields=0.38MB   count=23783
`code_generator_of_class -&gt; core::option::Option&lt;ty_python_semantic::types::class::CodeGeneratorKind&lt;&#x27;_&gt;&gt;`
    metadata=3.31MB   fields=0.29MB   count=23956
`ClassLiteral &lt; &#x27;db &gt;::explicit_bases_ -&gt; alloc::boxed::Box&lt;[ty_python_semantic::types::Type&lt;&#x27;_&gt;]&gt;`
    metadata=0.72MB   fields=0.26MB   count=8601
`Type &lt; &#x27;db &gt;::is_redundant_with_ -&gt; bool`
    metadata=23.96MB  fields=0.24MB   count=239308
`exported_names -&gt; alloc::boxed::Box&lt;[ruff_python_ast::name::Name]&gt;`
    metadata=0.02MB   fields=0.23MB   count=269
`use_def_map -&gt; alloc::sync::Arc&lt;ty_python_semantic::semantic_index::use_def::UseDefMap&lt;&#x27;_&gt;&gt;`
    metadata=0.62MB   fields=0.19MB   count=11843
`place_table -&gt; alloc::sync::Arc&lt;ty_python_semantic::semantic_index::place::PlaceTable&gt;`
    metadata=0.99MB   fields=0.17MB   count=19096
`ClassLiteral &lt; &#x27;db &gt;::decorators_ -&gt; alloc::boxed::Box&lt;[ty_python_semantic::types::Type&lt;&#x27;_&gt;]&gt;`
    metadata=0.55MB   fields=0.14MB   count=7511
`BoundMethodType &lt; &#x27;db &gt;::into_callable_type_ -&gt; ty_python_semantic::types::CallableType&lt;&#x27;_&gt;`
    metadata=1.53MB   fields=0.09MB   count=11607
`TupleType &lt; &#x27;db &gt;::to_class_type_ -&gt; ty_python_semantic::types::class::ClassType&lt;&#x27;_&gt;`
    metadata=1.96MB   fields=0.08MB   count=6342
`ClassLiteral &lt; &#x27;db &gt;::pep695_generic_context_ -&gt; core::option::Option&lt;ty_python_semantic::types::generics::GenericContext&lt;&#x27;_&gt;&gt;`
    metadata=0.69MB   fields=0.07MB   count=8598
`ClassLiteral &lt; &#x27;db &gt;::inherited_legacy_generic_context_ -&gt; core::option::Option&lt;ty_python_semantic::types::generics::GenericContext&lt;&#x27;_&gt;&gt;`
    metadata=0.67MB   fields=0.07MB   count=8322
`dunder_all_names -&gt; core::option::Option&lt;std::collections::hash::set::HashSet&lt;ruff_python_ast::name::Name, rustc_hash::FxBuildHasher&gt;&gt;`
    metadata=0.02MB   fields=0.06MB   count=173
`lookup_dunder_new_inner -&gt; core::option::Option&lt;ty_python_semantic::place::PlaceAndQualifiers&lt;&#x27;_&gt;&gt;`
    metadata=0.94MB   fields=0.06MB   count=2002
`symbols_for_file -&gt; ty_ide::symbols::FlatSymbols`
    metadata=0.00MB   fields=0.06MB   count=18
`resolve_module_query -&gt; core::option::Option&lt;ty_python_semantic::module_resolver::module::Module&lt;&#x27;_&gt;&gt;`
    metadata=1.72MB   fields=0.04MB   count=3567
`all_negative_narrowing_constraints_for_pattern -&gt; core::option::Option&lt;std::collections::hash::map::HashMap&lt;ty_python_semantic::semantic_index::place::ScopedPlaceId, ty_python_semantic::types::Type&lt;&#x27;_&gt;, rustc_hash::FxBuildHasher&gt;&gt;`
    metadata=0.08MB   fields=0.04MB   count=395
`all_narrowing_constraints_for_pattern -&gt; core::option::Option&lt;std::collections::hash::map::HashMap&lt;ty_python_semantic::semantic_index::place::ScopedPlaceId, ty_python_semantic::types::Type&lt;&#x27;_&gt;, rustc_hash::FxBuildHasher&gt;&gt;`
    metadata=0.29MB   fields=0.03MB   count=391
`file_settings -&gt; ty_project::metadata::settings::FileSettings`
    metadata=0.29MB   fields=0.03MB   count=3969
`global_scope -&gt; ty_python_semantic::semantic_index::scope::ScopeId&lt;&#x27;_&gt;`
    metadata=0.20MB   fields=0.03MB   count=3919
`static_expression_truthiness -&gt; ty_python_semantic::types::Truthiness`
    metadata=2.86MB   fields=0.03MB   count=30068
`cached_protocol_interface -&gt; ty_python_semantic::types::protocol_class::ProtocolInterface&lt;&#x27;_&gt;`
    metadata=0.81MB   fields=0.02MB   count=2617
`ClassLiteral &lt; &#x27;db &gt;::is_typed_dict_ -&gt; bool`
    metadata=0.98MB   fields=0.01MB   count=8476
`file_to_module -&gt; core::option::Option&lt;ty_python_semantic::module_resolver::module::Module&lt;&#x27;_&gt;&gt;`
    metadata=0.07MB   fields=0.01MB   count=631
`ClassLiteral &lt; &#x27;db &gt;::inheritance_cycle_ -&gt; core::option::Option&lt;ty_python_semantic::types::class::InheritanceCycle&gt;`
    metadata=0.74MB   fields=0.01MB   count=7402
`TypeVarInstance &lt; &#x27;db &gt;::lazy_bound_ -&gt; core::option::Option&lt;ty_python_semantic::types::TypeVarBoundOrConstraints&lt;&#x27;_&gt;&gt;`
    metadata=0.02MB   fields=0.00MB   count=199
`ClassType &lt; &#x27;db &gt;::into_callable_ -&gt; ty_python_semantic::types::CallableTypes&lt;&#x27;_&gt;`
    metadata=0.02MB   fields=0.00MB   count=70
`is_equivalent_to_object_inner -&gt; bool`
    metadata=0.50MB   fields=0.00MB   count=1676
`TypeVarInstance &lt; &#x27;db &gt;::lazy_default_ -&gt; core::option::Option&lt;ty_python_semantic::types::Type&lt;&#x27;_&gt;&gt;`
    metadata=0.01MB   fields=0.00MB   count=65
`module_type_symbols -&gt; smallvec::SmallVec&lt;[ruff_python_ast::name::Name; 8]&gt;`
    metadata=0.00MB   fields=0.00MB   count=1
`TypeVarInstance &lt; &#x27;db &gt;::lazy_constraints_ -&gt; core::option::Option&lt;ty_python_semantic::types::TypeVarBoundOrConstraints&lt;&#x27;_&gt;&gt;`
    metadata=0.00MB   fields=0.00MB   count=22
`dynamic_resolution_paths -&gt; alloc::vec::Vec&lt;ty_python_semantic::module_resolver::path::SearchPath&gt;`
    metadata=0.00MB   fields=0.00MB   count=3
`NewType &lt; &#x27;db &gt;::lazy_base_ -&gt; ty_python_semantic::types::newtype::NewTypeBase&lt;&#x27;_&gt;`
    metadata=0.00MB   fields=0.00MB   count=11
`list_modules_in -&gt; alloc::vec::Vec&lt;ty_python_semantic::module_resolver::module::Module&lt;&#x27;_&gt;&gt;`
    metadata=0.03MB   fields=0.00MB   count=4
`ClassLiteral &lt; &#x27;db &gt;::variance_of_ -&gt; ty_python_semantic::types::variance::TypeVarVariance`
    metadata=0.01MB   fields=0.00MB   count=44
`list_modules -&gt; alloc::vec::Vec&lt;ty_python_semantic::module_resolver::module::Module&lt;&#x27;_&gt;&gt;`
    metadata=0.00MB   fields=0.00MB   count=1
`GenericAlias &lt; &#x27;db &gt;::variance_of_ -&gt; ty_python_semantic::types::variance::TypeVarVariance`
    metadata=0.00MB   fields=0.00MB   count=19
=======SALSA SUMMARY=======
TOTAL MEMORY USAGE: 1679.69MB
    struct metadata = 134.94MB
    struct fields = 137.25MB
    memo metadata = 479.59MB
    memo fields = 927.91MB
</code></pre>
</p>
 

<p>It does not prevent me from using ty as it restarts right after the crash.</p>
<p>PS: this has been happening for as long as I remember using ty extension (~ 2 months I believe)</p>
Version
<p>ty 0.0.1-alpha.32 (84a188116 2025-12-05)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-09 11:17</div>
            <div class="timeline-body"><p>Thanks for the detailed report.</p>
<p>The first issue is the same as <a href="https://github.com/astral-sh/ty/issues/1565">astral-sh/ty#1565</a></p>
<p>I&#x27;m surprised by the second one as this is something that should have been fixed in 31 or 32 (don&#x27;t remember exactly. Any chance you could share the code of the file you were editing when the panic occurred (or the code around the byte offsets  1688..1692)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-09 11:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-09 11:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-09 11:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fatal</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-09 11:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-31 15:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-31 15:40</div>
            <div class="timeline-body"><p>Have you run into the second issue again? I&#x27;m asking because i haven&#x27;t been able to reproduce it</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:26:19 UTC
    </footer>
</body>
</html>
