<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python 3.14 availability via --python-version flag - astral-sh/ty #1320</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Python 3.14 availability via --python-version flag</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1320">#1320</a>
        opened by <a href="https://github.com/pkelaita">@pkelaita</a>
        on 2025-10-07 20:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pkelaita">@pkelaita</a> on 2025-10-07 20:07</div>
            <div class="timeline-body"><h3>Summary</h3>
<h4>Description of Issue</h4>
<p>Passing <code>3.14</code> into the <code>--python-version flag</code> (<code>uv run ty check some_dir/ --python-version 3.14</code>) results in the following error:</p>
<pre><code>error: invalid value '3.14' for '--python-version &lt;VERSION&gt;'
  [possible values: 3.7, 3.8, 3.9, 3.10, 3.11, 3.12, 3.13]
</code></pre>
<p>However, ty itself does support python 3.14. If you specify 3.14 in the pyproject.toml (i.e., <code>requires-python = &quot;&gt;=3.14&quot;</code>), running <code>uv run ty check some_dir/</code> with no version flag will correctly typecheck 3.14 features such as t-strings without throwing an error.</p>
<p>Thus, this seems to be an issue with the <code>--python-version</code> flag rather than with ty 3.14 compatibility itself. Importantly, this issue is only relevant in projects which must specify a version lower than 3.14 in the toml but still want to be able to typecheck certain subdirectories on 3.14 (e.g. in my case, the main package must be backwards-compatible to 3.9, but I'd like to use 3.14 features in external scripts directories).</p>
<p>I am using the latest versions of uv and ty:</p>
<ul>
<li><code>uv 0.8.24 (Homebrew 2025-10-07)</code></li>
<li><code>ty 0.0.1-alpha.21 (ef52a1940 2025-09-19)</code></li>
</ul>
<h4>Temporary Workaround</h4>
<p>After some trial and error, I've found that running the following command allows for 3.14-compatible inline usage:</p>
<pre><code>uv run ty check some_dir/ --config environment.python-version='&quot;3.14&quot;'
</code></pre>
<p>That said, it will be much cleaner to run this via the <code>--python-version</code> flag. Thanks! Love the astral ecosystem ðŸ’ª</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.21 (ef52a1940 2025-09-19)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-07 20:40</div>
            <div class="timeline-body"><p>Thanks! We actually landed support for this earlier today (in https://github.com/astral-sh/ruff/commit/88c0ce3e389a217dc596374f154e0c1e88b483ad), so it will be included in the next release</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-10-07 20:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:35 UTC
    </footer>
</body>
</html>
