<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Changing `src.exclude` and `src.include` doesn't reload the project files - astral-sh/ty #884</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Changing <code>src.exclude</code> and <code>src.include</code> doesn't reload the project files</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/884">#884</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-07-24 14:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-24 14:19</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I noticed this in VS Code. Diagnostics for files in <code>.github</code> didn't get cleared after I added <code>.github</code> to <code>src.exclude</code>. I'm not sure if it's related to workspace diagnostics. It does seem that the configuration is correctly reloaded.</p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MichaReiser on 2025-07-24 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @MichaReiser on 2025-07-24 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Beta" by @MichaReiser on 2025-08-15 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone "Beta" by @carljm on 2025-08-15 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "GA" by @carljm on 2025-08-15 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @BurntSushi on 2025-08-22 12:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-22 12:54</div>
            <div class="timeline-body"><p>I'm no longer able to reproduce this anymore. What I tried:</p>
<ul>
<li>added a <code>.github</code> folder</li>
<li>added a <code>.github/test.py</code> file with <code>print(a)</code></li>
<li>Added <code>.github</code> to <code>exclude</code></li>
</ul>
<p>I also opened langchain and added</p>
<pre><code class="language-toml">[tool.ty.src]
exclude = [&quot;scripts&quot;, &quot;.github&quot;, &quot;**/*.ipynb&quot;, &quot;docs&quot;, &quot;**/integration_template&quot;]

[tool.ty.environment]
root = [
    &quot;.&quot;,
    &quot;libs/core&quot;, 
    &quot;libs/langchain&quot;, 
    &quot;libs/text-splitters&quot;, 
    &quot;libs/standard-tests&quot;,
    &quot;libs/cli&quot;,
    &quot;libs/partners/openai&quot;,
    &quot;libs/partners/anthropic&quot;, 
    &quot;libs/partners/chroma&quot;,
    &quot;libs/partners/fireworks&quot;,
    &quot;libs/partners/groq&quot;,
    &quot;libs/partners/mistralai&quot;
]
</code></pre>
<p>which resolved all errors in the files in the <code>.github</code> folder</p>
<p>So much to fixing something today...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-08-22 12:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:40:13 UTC
    </footer>
</body>
</html>
