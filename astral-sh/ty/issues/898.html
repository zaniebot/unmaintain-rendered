<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Include class docstring in signature help for constructor calls - astral-sh/ty #898</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Include class docstring in signature help for constructor calls</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/898">#898</a>
        opened by <a href="https://github.com/UnboundVariable">@UnboundVariable</a>
        on 2025-07-26 18:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/UnboundVariable">@UnboundVariable</a></div>
            <div class="timeline-body"><p>The &quot;signature help&quot; language server feature currently includes the docstring for the target function or method, but it doesn&#x27;t have any special logic for constructor calls. It may be desirable to include the docstring for the class in addition to (or in place of)Â the docstring for the <code>__new__</code> or <code>__init__</code> method. I&#x27;ve left a TODO in the <code>signature_help.rs</code> module to revisit this based on user feedback.</p>
<p>Feedback from ty users would be helpful here. What would you like to see displayed in this case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-26 18:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-26 21:51</div>
            <div class="timeline-body"><p>Would definitely be interesting to hear others thoughts.</p>
<p>I think it&#x27;s most useful to show the actual function docstring that is being called (meta class <code>__call__</code>, <code>__new__</code> or <code>__init__</code>)</p>
<p>To me the class docstring isn&#x27;t relevant here and people often use it to show other information (attributes, methods)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AKuederle">@AKuederle</a> on 2025-08-05 16:27</div>
            <div class="timeline-body"><p>Really depends on the internal coding conventions. I work a lot with &quot;dataclass&quot; like classes. As the <code>__init__</code> does nothing besides setting parameters, we usually don&#x27;t add a docstring for it and have all documentation within the class docstring.</p>
<p>The only save way would be to provide both, or maybe to have a reasonable fallback to the class docstring, if the <code>__init__</code> does not provide one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Beta&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-15 07:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/Gankra">@Gankra</a> by <a href="https://github.com/Gankra">@Gankra</a> on 2025-08-19 12:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-08-20 21:15</div>
            <div class="timeline-body"><blockquote>
<p>The only save way would be to provide both, or maybe to have a reasonable fallback to the class docstring, if the <strong>init</strong> does not provide one.</p>
</blockquote>
<p>This is exactly the rule that I intuitively thought of too, so it&#x27;s what I&#x27;m working on implementing (and if it turns out we want to render both then that&#x27;s a small tweak to the implementation).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Gankra">@Gankra</a> on 2025-09-02 18:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:09 UTC
    </footer>
</body>
</html>
