<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignability of `type[T]` to union of callables - astral-sh/ty #1831</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Assignability of `type[T]` to union of callables</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1831">#1831</a>
        opened by <a href="https://github.com/carljm">@carljm</a>
        on 2025-12-10 00:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/carljm">@carljm</a> on 2025-12-10 00:36</div>
            <div class="timeline-body"><pre><code class="language-py">from typing import Callable, Any

def needs_a_callable(x: Callable[[Any], Any] | Callable[[Any, object], Any]): ...

class F:
    def __init__(self, arg) -&gt; None: ...

def f[T: F](x: T):
    needs_a_callable(type(x))
</code></pre>
<p>It looks like we might not be implementing assignability correctly for <code>type[T]</code> vs a <em>union</em> of callables?</p>
<p><em>Originally posted by @AlexWaygood in https://github.com/astral-sh/ruff/issues/21685#issuecomment-3591695954</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Stable" by @carljm on 2025-12-10 00:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2025-12-10 03:33</div>
            <div class="timeline-body"><p>Hmm.. this should have been fixed by https://github.com/astral-sh/ruff/pull/21740?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-10 03:42</div>
            <div class="timeline-body"><p>Oh feel free to close then -- I was just going off the discussion in the other PR, I don't think I even tested (I should have).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2025-12-10 04:48</div>
            <div class="timeline-body"><p>Yeah, this works fine now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2025-12-10 04:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:51 UTC
    </footer>
</body>
</html>
