<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot check files starting with @ by name - astral-sh/ty #1291</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot check files starting with @ by name</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1291">#1291</a>
        opened by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a>
        on 2025-10-01 00:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>If a file's name starts with <code>@</code> and you try to specify it on the command line, it will fail. Checking works fine if the file is gotten automatically, ie by checking <code>.</code></p>
<p>If the file name has no special characters after the <code>@</code>, ty will instead check all files in the folder as if no argument had been passed. (Notice how in both demos it says 4/4 files checked instead of 1/1)
If the file name has a special character after the <code>@</code>, checking will fail completely.</p>
<details>
<summary>
Powershell demo
</summary>

<pre><code class="language-powershell">PS ~\...\issue&gt;ls

    Directory: C:\...\issue

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a---           9/30/2025  4:44 PM              2 @!.py
-a---           9/30/2025  4:42 PM              2 @.py
-a---           9/30/2025  4:41 PM              2 @issue.py
-a---           9/30/2025  4:40 PM              2 issue.py

PS ~\...\issue&gt;uvx ty check &quot;issue.py&quot;
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 1/1 files                                         All checks passed!
PS ~\...\issue&gt;uvx ty check &quot;@issue.py&quot;
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 4/4 files                                         All checks passed!
PS ~\...\issue&gt;uvx ty check &quot;@.py&quot;
ty failed
  Cause: Failed to read CLI arguments from file
  Cause: failed to open file `.py`
  Cause: The system cannot find the file specified. (os error 2)
</code></pre>
</details>

<details>
<summary>
WSL demo
</summary>

<pre><code class="language-bash">user@DESKTOP-44VGRD0:~/issue$ ls
@.py  @issue.py  issue.py  issue@.py
user@DESKTOP-44VGRD0:~/issue$ uvx ty check issue.py
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 1/1 files                                         All checks passed!
user@DESKTOP-44VGRD0:~/issue$ uvx ty check @issue.py
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
Checking ------------------------------------------------------------ 4/4 files                                         All checks passed!
user@DESKTOP-44VGRD0:~/issue$ uvx ty check @.py
ty failed
  Cause: Failed to read CLI arguments from file
  Cause: failed to open file `.py`
  Cause: No such file or directory (os error 2)
</code></pre>
</details>

<h3>Version</h3>
<p>ty 0.0.1-alpha.21 (ef52a1940 2025-09-19)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-10-01 00:34</div>
            <div class="timeline-body"><p>This is intentional, since they are treated like fromfiles, like https://docs.python.org/3/library/argparse.html#fromfile-prefix-chars .
https://github.com/astral-sh/ruff/issues/20655#issuecomment-3354189610
Using <code>/@&lt;file name&gt;</code> works</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MeGaGiGaGon on 2025-10-01 00:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:20:44 UTC
    </footer>
</body>
</html>
