<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No argument errors reported when a class is used as a decorator - astral-sh/ty #2232</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No argument errors reported when a class is used as a decorator</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2232">#2232</a>
        opened by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a>
        on 2025-12-26 22:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Found this while messing around, if using a class as a decorator ty does not report any errors.
https://play.ty.dev/d188d05e-e59b-44f7-8085-f180fd667424</p>
<pre><code class="language-py">class A: ...

@A  # Should have a too-many-positional-arguments error
def foo(): ...

@int  # Should have a invalid-argument-type error
def bar(): ...
</code></pre>
<h3>Version</h3>
<p>ty 0.0.7 (cf82a04b5 2025-12-24) playground 9693375e1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Decorators with classes that use `__new__` do not raise argument errors" to "Decorators that use classes do not report argument errors" by @MeGaGiGaGon on 2025-12-26 22:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MeGaGiGaGon on 2025-12-26 23:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-26 23:33</div>
            <div class="timeline-body"><p>I don't think this is a duplicate of #143, actually. That issue is about decorators being applied to classes. These examples seem to be classes being <em>used as decorators</em>, which seems pretty distinct!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @AlexWaygood on 2025-12-26 23:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-12-26 23:36</div>
            <div class="timeline-body"><p>Oops, I didn't open the example</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Decorators that use classes do not report argument errors" to "No argument errors reported when a class is used as a decorator" by @AlexWaygood on 2025-12-26 23:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Stable" by @carljm on 2025-12-27 00:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2026-01-04 21:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2026-01-04 22:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2026-01-17 15:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-17 16:06:15 UTC
    </footer>
</body>
</html>
