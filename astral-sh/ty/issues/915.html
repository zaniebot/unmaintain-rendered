<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot resolve shared object python modules - astral-sh/ty #915</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot resolve shared object python modules</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/915">#915</a>
        opened by <a href="https://github.com/seysn">@seysn</a>
        on 2025-07-30 11:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/seysn">@seysn</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>We can reproduce this with <code>netifaces</code> package which only have a <code>netifaces.cpython-313-x86_64-linux-gnu.so</code> file inside <code>site-packages</code> :</p>
<pre><code># Adding requests to make sure it's not an environment issue
$ uv add requests netifaces

$ ls .venv/lib/python3.13/site-packages/
__pycache__                  charset_normalizer-3.4.2.dist-info         requests-2.32.4.dist-info
_virtualenv.pth              idna                                       urllib3
_virtualenv.py               idna-3.10.dist-info                        urllib3-2.5.0.dist-info
certifi                      netifaces-0.11.0.dist-info
certifi-2025.7.14.dist-info  netifaces.cpython-313-x86_64-linux-gnu.so
charset_normalizer           requests

$ cat main.py
import requests
import netifaces

print(netifaces.interfaces())
print(requests.get(&quot;http://httpbin.org/ip&quot;))

$ python main.py
['lo', 'enp0s31f6', 'wlp0s20f3', 'docker0']
&lt;Response [200]&gt;

$ ty check
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
error[unresolved-import]: Cannot resolve imported module `netifaces`
 --&gt; main.py:2:8
  |
1 | import requests
2 | import netifaces
  |        ^^^^^^^^^
3 |
4 | print(netifaces.interfaces())
  |
info: make sure your Python environment is properly configured: https://docs.astral.sh/ty/modules/#python-environment
info: rule `unresolved-import` is enabled by default

Found 1 diagnostic
</code></pre>
<p>As you can see, the script is working fine and requests is correctly found, but not netifaces.</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.16</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-07-30 12:01</div>
            <div class="timeline-body"><p>Thanks for the report. It looks like this might be a duplicate of https://github.com/astral-sh/ty/issues/487?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/seysn">@seysn</a> on 2025-07-30 12:11</div>
            <div class="timeline-body"><p>Ah yes I guess you are right, I didn't search with the right terms, sorry.</p>
<p>Also like <code>types-lxml</code> in this issue, there's <code>types-netifaces</code> which also solve this.</p>
<p>I'll close this issue to avoid duplicates, thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @seysn on 2025-07-30 12:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-07-30 12:12</div>
            <div class="timeline-body"><blockquote>
<p>Ah yes I guess you are right, I haven't search with the right terms, sorry.</p>
</blockquote>
<p>Oh, don't be sorry -- finding duplicates on GitHub is really difficult. The issue search is terrible :-)</p>
<p>Plus, we know it's really hard to know what terms to search for when it comes to type-checker issues</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:20:23 UTC
    </footer>
</body>
</html>
