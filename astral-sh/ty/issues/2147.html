<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve rendering of ReST directives in docstrings - astral-sh/ty #2147</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve rendering of ReST directives in docstrings</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2147">#2147</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2025-12-21 16:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>For example, the stdlib method <code>logging.Filterer.filter</code> has several ReST directives at the bottom of its docstring that tell you when the API was updated: https://github.com/astral-sh/ruff/blob/b4c2825afdd8c1010c3a5859521629d2d1e0a6df/crates/ty_vendored/vendor/typeshed/stdlib/logging/<strong>init</strong>.pyi#L136-L142. Pylance renders these as sentences that use English words:</p>
<p><img width="1450" height="246" alt="Image" src="https://github.com/user-attachments/assets/c5cecc68-adc0-4962-88bd-94cb66460024" /></p>
<hr />
<p>And Sphinx renders them similarly in <a href="https://docs.python.org/3/library/logging.html#logging.Filter">CPython's online HTML documentation</a>:</p>
<p><img width="1690" height="494" alt="Image" src="https://github.com/user-attachments/assets/158277e7-7b91-4973-9146-64c86687ba42" /></p>
<hr />
<p>But we currently just render these as &quot;<strong>versionchanged</strong>:: 3.2&quot;:</p>
<p><img width="964" height="648" alt="Image" src="https://github.com/user-attachments/assets/f6b92f6a-a5ea-4feb-aeb9-7827f245be17" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @AlexWaygood on 2025-12-21 16:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Stable" by @MichaReiser on 2025-12-21 20:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @Gankra on 2026-01-09 04:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2026-01-09 04:14</div>
            <div class="timeline-body"><p>This should be a nice and easy first contribution. We already parse out and find these keywords, someone just needs to write a simple mapping from known keywords to pretty phrases here:</p>
<p>https://github.com/astral-sh/ruff/blob/f9f7a6901bc78f7429c6b2393d747350ac704f33/crates/ty_ide/src/docstring.rs#L361</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AryanBagade">@AryanBagade</a> on 2026-01-11 23:23</div>
            <div class="timeline-body"><p>hey @Gankra can i work on it, been contributing to pyrefly owuld love to contribute here !!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2026-01-14 12:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-14 13:33:28 UTC
    </footer>
</body>
</html>
