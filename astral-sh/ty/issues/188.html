<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider making `source_text` return a `Result` - astral-sh/ty #188</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider making <code>source_text</code> return a <code>Result</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/188">#188</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-02-26 17:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><p>We may want to LRU source texts in the future. This introduces the risk that re-reading the source text after the cached text was claimed may fail, in which case the text ranges may no longer be trusted.</p>
<p>This is only a problem if we start evicting LRU cached results in the middle of a revision.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[red-knot] Consider making `source_text` return a `Result`&quot; to &quot;Consider making `source_text` return a `Result`&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-07 15:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-05-11 07:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-09 10:38</div>
            <div class="timeline-body"><p>source text isn&#x27;t as dominant in our memory profiles and enabling LRU might not give us much. I&#x27;ll close this for now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-09 10:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:24:15 UTC
    </footer>
</body>
</html>
