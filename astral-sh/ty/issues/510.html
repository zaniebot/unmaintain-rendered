<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will `ty` serve `ruff` diagnostics and other messages via a single language server? - astral-sh/ty #510</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Will `ty` serve `ruff` diagnostics and other messages via a single language server?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/510">#510</a>
        opened by <a href="https://github.com/jdtsmith">@jdtsmith</a>
        on 2025-05-25 15:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jdtsmith">@jdtsmith</a> on 2025-05-25 15:32</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Some editor tools cannot multiplex language servers, e.g. Emacs' native <code>eglot</code>.  Will it be possible for <code>ty</code> to serve <code>ruff</code> diagnostics and other LSP capabilities over the same server connection?  Speculating, but this might also allow for more refined LSP protocol support without any duplication of effort between the two tools.</p>
<h3>Version</h3>
<p>N/A</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @jdtsmith on 2025-05-25 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @AlexWaygood on 2025-05-25 15:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vikigenius">@vikigenius</a> on 2025-05-25 16:25</div>
            <div class="timeline-body"><p>Not really related but even with eglot, there has been talks to be able to do this via a dedicated multiplexer: See https://github.com/thefrontside/lspx</p>
<p>But I do agree with the duplication part. When you run multiple servers that don't really know about each other there are definitely some duplicate diagnostics and some conflicts. Less likely here since it's the same team, but there is always a chance</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-26 06:41</div>
            <div class="timeline-body"><p>Hi @jdtsmith</p>
<p>Initially, no. ty and Ruff are separate tools, and both have their own language server implementation. Our long-term goal is to unify the two tools, but there are some open questions about how we'll exactly do this.</p>
<blockquote>
<p>But I do agree with the duplication part. When you run multiple servers that don't really know about each other there are definitely some duplicate diagnostics and some conflicts. Less likely here since it's the same team, but there is always a chance</p>
</blockquote>
<p>This is also a problem with ty and ruff. There are some overlapping rules, and both tools show syntax errors by default. However, this can be worked around by disabling the overlapping rules or configuring the server to not show syntax errors.</p>
<p>In the meantime, you can use a generic LSP multiplexer, which should give you the same experience to what users get when using the ty and ruff VS Code extension.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jdtsmith">@jdtsmith</a> on 2025-05-26 14:53</div>
            <div class="timeline-body"><p>Glad to hear it's on the roadmap, thanks.  In the meantime, do you have a recommended multiplexer that works with <code>ty</code> and <code>ruff</code>?  The only ones I've seen are quite incomplete.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-26 15:09</div>
            <div class="timeline-body"><blockquote>
<p>Glad to hear it's on the roadmap, thanks. In the meantime, do you have a recommended multiplexer that works with ty and ruff? The only ones I've seen are quite incomplete.</p>
</blockquote>
<p>No, I don't have any experience with multiplexers (I only use zed/VS code myself)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mrzzmrzz">@mrzzmrzz</a> on 2025-06-02 05:20</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>Glad to hear it's on the roadmap, thanks. In the meantime, do you have a recommended multiplexer that works with ty and ruff? The only ones I've seen are quite incomplete.</p>
</blockquote>
<p>No, I don't have any experience with multiplexers (I only use zed/VS code myself)</p>
</blockquote>
<p>hey, MichaReiser. I noticed that when using the <a href="https://github.com/zed-extensions/ty">ty plugin</a> with the Zed editor, it seems that the editor does not display warning/error information like the ty plugin in VSCode. I'm wondering if this is normal? Or is there a new way to show such diagnostic information in the editor? (By the way, Ruff displays diagnostic information normally in Zed)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-02 07:04</div>
            <div class="timeline-body"><blockquote>
<p>hey, MichaReiser. I noticed that when using the <a href="https://github.com/zed-extensions/ty?rgh-link-date=2025-06-02T05%3A20%3A48.000Z">ty plugin</a> with the Zed editor, it seems that the editor does not display warning/error information like the ty plugin in VSCode. I'm wondering if this is normal? Or is there a new way to show such diagnostic information in the editor? (By the way, Ruff displays diagnostic information normally in Zed)</p>
</blockquote>
<p>This should be fixed with the next release which adds support for push diagnostics (which is how Zed retrieves diagnostics) in addition to pull diagnostics (which is what vs code uses)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mrzzmrzz">@mrzzmrzz</a> on 2025-06-02 07:12</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-08-15 12:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/annamontare">@annamontare</a> on 2025-10-05 17:49</div>
            <div class="timeline-body"><blockquote>
<p>This is also a problem with ty and ruff. There are some overlapping rules, and both tools show syntax errors by default. However, this can be worked around by disabling the overlapping rules or configuring the server to not show syntax errors.</p>
</blockquote>
<p>@MichaReiser you mentioned configuring the server to not show syntax errors, how do we go about doing that? I couldn't find a configuration item or rule in the docs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-05 18:06</div>
            <div class="timeline-body"><p>You can disable <a href="https://docs.astral.sh/ruff/editors/settings/#showsyntaxerrors">showSyntaxErrors</a> in Ruff. ty doesn't support this option yet</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/annamontare">@annamontare</a> on 2025-10-05 20:26</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:06 UTC
    </footer>
</body>
</html>
