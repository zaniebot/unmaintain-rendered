<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider allowing globs for `src.root` or `environment.extra-paths` - astral-sh/ty #179</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider allowing globs for <code>src.root</code> or <code>environment.extra-paths</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/179">#179</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-03-14 08:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-14 08:56</div>
            <div class="timeline-body"><p>Mono repos with multiple packages may need multiple src roots (see https://github.com/astral-sh/ruff/issues/16712)</p>
<p>We may want to change <code>src.root</code> to a list and allow globs and OR support globs in <code>extra-paths</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[red-knot] Consider allowing globs for `src.root` or `environment.extra-paths`" to "Consider allowing globs for `src.root` or `environment.extra-paths`" by @MichaReiser on 2025-05-07 15:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @AlexWaygood on 2025-05-11 07:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sarimak">@sarimak</a> on 2025-05-12 12:18</div>
            <div class="timeline-body"><p>And adjust the documentation accordingly, please -- currently it claims that <code>list[str]</code> is supported but it isn't:
https://github.com/astral-sh/ty/blob/main/docs/configuration.md#root vs.</p>
<pre><code>$ ty check
WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
ty failed
  Cause: .../pyproject.toml is not a valid `pyproject.toml`: TOML parse error at line 20, column 8
   |
20 | root = [&quot;./bases&quot;, &quot;./components&quot;]
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
invalid type: sequence, expected path string

  Cause: TOML parse error at line 20, column 8
   |
20 | root = [&quot;./bases&quot;, &quot;./components&quot;]
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
invalid type: sequence, expected path string
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-12 12:26</div>
            <div class="timeline-body"><p>Thanks. https://github.com/astral-sh/ruff/pull/18040 fixes the docs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-05-16 12:12</div>
            <div class="timeline-body"><p>#414 is another use case for this. The popular <code>pytest</code> test framework adds the <code>tests/</code> directory to the import search path, so if a pytest user wants to check their main source code (in say <code>src/</code>) and their tests, they would want multiple <code>src.root</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @MichaReiser by @MichaReiser on 2025-06-18 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-06-24 12:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:39:20 UTC
    </footer>
</body>
</html>
