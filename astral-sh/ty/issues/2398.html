<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Please support imports from zip - astral-sh/ty #2398</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Please support imports from zip</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2398">#2398</a>
        opened by <a href="https://github.com/mitya57">@mitya57</a>
        on 2026-01-08 15:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mitya57">@mitya57</a> on 2026-01-08 15:59</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Python has a feature of importing code from ZIP files.</p>
<p>Here is a recipe where Python can successfully import <code>foo</code> module from <code>foo.zip</code>:</p>
<pre><code class="language-bash">dmitry@l3:/tmp/playground$ mkdir foo
dmitry@l3:/tmp/playground$ echo 'a = 42' &gt; foo/__init__.py
dmitry@l3:/tmp/playground$ zip foo.zip foo/__init__.py
  adding: foo/__init__.py (stored 0%)
dmitry@l3:/tmp/playground$ rm -rf foo
dmitry@l3:/tmp/playground$ echo -e 'import foo\nprint(foo.a)' &gt; main.py
dmitry@l3:/tmp/playground$ PYTHONPATH=./foo.zip python3 ./main.py 
42
</code></pre>
<p>However, with the same <code>PYTHONPATH</code>, ty fails to resolve this import:</p>
<pre><code class="language-bash">dmitry@l3:/tmp/playground$ PYTHONPATH=./foo.zip ty check ./main.py 
error[unresolved-import]: Cannot resolve imported module `foo`
 --&gt; main.py:1:8
  |
1 | import foo
  |        ^^^
2 | print(foo.a)
  |
info: Searched in the following paths during module resolution:
info:   1. /tmp/playground (first-party code)
info:   2. vendored://stdlib (stdlib typeshed stubs vendored by ty)
info: make sure your Python environment is properly configured: https://docs.astral.sh/ty/modules/#python-environment
info: rule `unresolved-import` is enabled by default

Found 1 diagnostic
</code></pre>
<h3>Version</h3>
<p>ty 0.0.10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">imports</span> added by @AlexWaygood on 2026-01-08 16:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2026-01-08 16:04</div>
            <div class="timeline-body"><p>Thanks for the suggestion! Does any other type checker support this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @carljm on 2026-01-08 16:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mitya57">@mitya57</a> on 2026-01-08 16:09</div>
            <div class="timeline-body"><p>mypy doesn't work.</p>
<p>But pyright works:</p>
<pre><code class="language-bash">dmitry@l3:/tmp/playground$ pyright ./main.py 
/tmp/playground/main.py
  /tmp/playground/main.py:1:8 - error: Import &quot;foo&quot; could not be resolved (reportMissingImports)
1 error, 0 warnings, 0 informations
dmitry@l3:/tmp/playground$ PYTHONPATH=./foo.zip pyright ./main.py 
0 errors, 0 warnings, 0 informations
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:48:55 UTC
    </footer>
</body>
</html>
