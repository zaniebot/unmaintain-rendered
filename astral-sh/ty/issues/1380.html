<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `ClassVar` protocol members - astral-sh/ty #1380</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support `ClassVar` protocol members</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1380">#1380</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2025-10-17 09:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-17 09:56</div>
            <div class="timeline-body"><p>Consider the following two protocols:</p>
<pre><code class="language-py">from typing import Protocol, ClassVar

class P1(Protocol):
    x: int

class P2(Protocol):
    x: ClassVar[int]
</code></pre>
<p>In order for a type <code>N</code> to satisy <code>P1</code>'s interface, an <code>x</code> attribute needs to be readable with type <code>int</code> on instances of <code>N</code> and also writable with type <code>int</code> on instances of <code>N</code>. The <code>x</code> attribute does not need to be readable or writable on instances of <code>type[N]</code>.</p>
<p>In order for a type <code>N</code> to satsify <code>P2</code>'s interface, however, an <code>s</code> attribute needs to be readable with type <code>int</code> on instances of <code>N</code> <em>and</em> instances of <code>type[N]</code>. It does not need to be writable on instances of <code>N</code>, but it <em>does</em> need to be writable on instances of <code>type[N]</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">Protocols</span> added by @AlexWaygood on 2025-10-17 09:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @AlexWaygood by @AlexWaygood on 2025-10-17 09:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "GA" by @AlexWaygood on 2025-10-17 09:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:36 UTC
    </footer>
</body>
</html>
