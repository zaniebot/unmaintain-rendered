<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>turn off diagnostics/typecheck diagnostics - astral-sh/ty #1755</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>turn off diagnostics/typecheck diagnostics</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1755">#1755</a>
        opened by <a href="https://github.com/carlesoctav">@carlesoctav</a>
        on 2025-12-04 15:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carlesoctav">@carlesoctav</a></div>
            <div class="timeline-body">Question
<p>TLDR: I want the reverse of <a href="https://docs.astral.sh/ty/reference/editor-settings/#disablelanguageservices">disableLanguageServices</a></p>
<p>My setup mainly uses Pyright + Ruff, with Pyright diagnostics disabled. I don’t really rely on full type-checking and only want simple diagnostics from the Ruff linter. I mostly use Pyright as a “go-to-definition” engine. I want do the same with ty.</p>
<p>I’m trying to find a setting in ty that disables this while still keeping navigation features, but I couldn’t find anything equivalent.</p>
Version
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/carlesoctav">@carlesoctav</a> on 2025-12-04 15:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-04 15:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-04 15:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-04 15:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-04 15:23</div>
            <div class="timeline-body"><p>I think adding this as a configuration option (or having a drop down with <code>LSP</code>, <code>Diagnostics only</code>, and <code>Full</code>) makes sense.</p>
<p>An alternative is to allow users to easily deselect all rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Stable&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-04 15:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/echaya">@echaya</a> on 2025-12-05 12:50</div>
            <div class="timeline-body"><p>on nvim, it can be disabled by <code> client.server_capabilities.diagnosticProvider = true</code>  but would be the best i can be controlled within ty setting</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/futurisold">@futurisold</a> on 2025-12-19 09:09</div>
            <div class="timeline-body"><p>+1 for this. I&#x27;m having @carlesoctav&#x27;s setup too: pyright (no diag) + ruff. This feature feels mandatory and obvious, especially since many of us already use ruff.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-19 09:12</div>
            <div class="timeline-body"><blockquote>
<p>+1 for this. I&#x27;m having @carlesoctav&#x27;s setup too: pyright (no diag) + ruff. This feature feels mandatory and obvious, especially since many of us already use ruff.</p>
</blockquote>
<p>Note that ty and ruff show different diagnostics. There are some diagnostics like syntax errors that are surfaced by both tools, but you can disable them in ruff https://docs.astral.sh/ruff/editors/settings/#showsyntaxerrors</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/futurisold">@futurisold</a> on 2025-12-19 09:18</div>
            <div class="timeline-body"><p>I know, that is also true of pyright. In my case, I already have a configured ruff.toml with the rules I care about, and using ty comes down to the fact that it does not interfere at all with that setup. There is no point in having two tools. If ty provides unique diagnostics, they can become part of ruff, in my opinion, similar to how flake and others are integrated. What makes ty an exception to this rule?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-19 09:25</div>
            <div class="timeline-body"><blockquote>
<p>What makes ty an exception to this rule?</p>
</blockquote>
<p>It works fundamentally differently from Ruff because it supports multifile analysis. Integrating ty (or ruff into ty) is a big lift. We may do this in the future but decided against it to ship a type checker sooner.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/futurisold">@futurisold</a> on 2025-12-19 09:29</div>
            <div class="timeline-body"><p>That makes sense. Then I suppose the most convenient path forward is to give us an option to disable diagnostics.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-22 15:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samuelstevens">@samuelstevens</a> on 2026-01-05 19:41</div>
            <div class="timeline-body"><p>How do I configure this setting in pyproject.toml? I do not use Zed/nvim/VSCode</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2026-01-05 19:50</div>
            <div class="timeline-body"><blockquote>
<p>How do I configure this setting in pyproject.toml? I do not use Zed/nvim/VSCode</p>
</blockquote>
<p>I don&#x27;t think we currently have any way to do this. Can you say more about your use case? The use case here was to use ty as a &quot;go-to-definition&quot; engine via LSP in an editor, so the config option that we added is an LSP config option.</p>
<p>If your use case is the same, but you use ty LSP via a different editor, it should still be possible to send the <code>diagnosticMode: off</code> LSP option, but the details depend on how your editor configures LSP servers.</p>
<p>All that said, I think we should probably add this option as a ty config option also? So that a project can set a general policy that ty is used in editors, but not for type errors.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samuelstevens">@samuelstevens</a> on 2026-01-05 20:04</div>
            <div class="timeline-body"><p>I use Helix. Right now I configure servers with languages.toml</p>
<pre><code>[language-server.ruff]
command = &quot;uvx&quot;
args = [&quot;ruff&quot;, &quot;server&quot;, &quot;--preview&quot;]

[language-server.ty]
command = &quot;uvx&quot;
args= [&quot;ty&quot;, &quot;server&quot;]
config = { diagnosticMode = &quot;off&quot; }

[[language]]
name = &quot;python&quot;
language-servers = [&quot;ruff&quot;, &quot;ty&quot;]
auto-format = true

</code></pre>
<p>But I don&#x27;t see how to set <code>ty.diagnosticMode = &#x27;off&#x27;</code> in languages.toml. Maybe this is a question for the Helix maintainers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-05 20:19</div>
            <div class="timeline-body"><blockquote>
<p>All that said, I think we should probably add this option as a ty config option also? So that a project can set a general policy that ty is used in editors, but not for type errors.</p>
</blockquote>
<p>I&#x27;m not convinced by this. Many editors have their own way of shared configurations. E.g. you can have a json config file checked in for VS Code for the shared config. It&#x27;s also unclear to me what <code>ty check</code> is supposed to do if you disable diagnostics.</p>
<p>Looking at Ruff&#x27;s helix documentation, the configuration should look like this</p>
<pre><code>[language-server.ty.config]
diagnosticMode = &quot;off&quot;
</code></pre>
<p>or</p>
<pre><code>[language-server.ty.config.settings]
diagnosticMode = &quot;off&quot;
</code></pre>
<p>I&#x27;m not a 100% sure which one it is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samuelstevens">@samuelstevens</a> on 2026-01-05 21:44</div>
            <div class="timeline-body"><p>You&#x27;re correct, both</p>
<pre><code>[language-server.ty]
command = &quot;uvx&quot;
args= [&quot;ty&quot;, &quot;server&quot;]
config = { diagnosticMode = &quot;off&quot; }
</code></pre>
<p>and</p>
<pre><code>[language-server.ty.config]
diagnosticMode = &quot;off&quot;
</code></pre>
<p>work for me. Thanks for the help.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:26:15 UTC
    </footer>
</body>
</html>
