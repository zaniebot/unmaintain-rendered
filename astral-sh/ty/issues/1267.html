<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error output &quot;Searched in the following paths...&quot; is very long when using bazel - astral-sh/ty #1267</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Error output &quot;Searched in the following paths...&quot; is very long when using bazel</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1267">#1267</a>
        opened by <a href="https://github.com/jasonprado">@jasonprado</a>
        on 2025-09-27 01:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jasonprado">@jasonprado</a></div>
            <div class="timeline-body">Summary
<p>My bazel monorepo has hundreds of python dependencies and when a missing module import is detected the error output grows very, very long. Example:</p>
<pre><code>error[unresolved-import]: Cannot resolve imported module `deploy.cdk_stack`
  --&gt; services/some_app/some_file.py:10:6
   |
10 | from does.not.exist import SomeClass
   |      ^^^^^^^^^^^^^^^^
   |
info: Searched in the following paths during module resolution:
info:   1. /my-repo (first-party code)
info:   2. vendored://stdlib (stdlib typeshed stubs vendored by ty)
info:   3. /my-reppo/.venv/lib/python3.12/site-packages (site-packages)
info:   4. /home/my-user/.cache/bazel/_bazel_my-user/0b37e5958ef8909453aa6cc50b6ee420/execroot/_main/bazel-out/aarch64-fastbuild/bin/build_tools/python_tools/venv.runfiles (editable install)
...
[800 more bazel &quot;editable install&quot; locations]
</code></pre>
<p>This is a bit burdensome but it sure is explicit. I&#x27;m not sure the behavior I want; maybe a more verbose or less verbose mode? I think outputting all 800 paths is probably not valuable. Collapsing similar ones then giving me an invocation I could run to get the full list would be nice. And ty is so fast I wouldn&#x27;t mind running it again immediately.</p>
Version
<p>ty 0.0.1-alpha.21</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-09-27 01:50</div>
            <div class="timeline-body"><p>Yeah, I don&#x27;t think we were considering such environments when we added that diagnostic info ðŸ˜† Thanks for the report!</p>
<p>We should probably only output the full list in normal-verbosity if it&#x27;s below a certain length; otherwise we should elide the list and suggest increasing the verbosity if you want the full list?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-09-27 01:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-09-27 07:45</div>
            <div class="timeline-body"><p>Uff yeah, this doesn&#x27;t sound great. Truncating the list and showing more context when <code>-v</code> seems reasonable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;GA&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-09-27 07:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-16 11:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:37 UTC
    </footer>
</body>
</html>
