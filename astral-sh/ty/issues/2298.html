<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initial optimization pass at auto-import symbol extraction - astral-sh/ty #2298</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Initial optimization pass at auto-import symbol extraction</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2298">#2298</a>
        opened by <a href="https://github.com/liketoeatcheese">@liketoeatcheese</a>
        on 2026-01-01 22:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/liketoeatcheese">@liketoeatcheese</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi team,</p>
<p>Is there a feature to separate the extra path for the lsp autocompletion and the extra apth for lsp analysis?</p>
<p>Assuming the stub is abnormally large. Like currently I'm using it for unreal which has the stub that's 28MB large, it feels obvious with the slow response time (roughly 4-5 seconds). So I split the classes inside this stub into smaller chunks and was thinking to specify different paths like how vscode support for it. But realized later on that the option is not available in the config. Am I missing something or is this not supported? And if not, will it ever be?</p>
<p><img width="789" height="267" alt="Image" src="https://github.com/user-attachments/assets/43dff21c-caf3-4add-8279-90020b3b0f34" /></p>
<p><img width="1233" height="635" alt="Image" src="https://github.com/user-attachments/assets/af4dc1ab-9474-4776-bb4b-1439180be156" /></p>
<p>Here's my toml file currently:</p>
<pre><code class="language-toml">[environment]
extra-paths = [
    &quot;{{UnrealProjectPath}}/Intermediate/PythonStub&quot;
]
</code></pre>
<p>Proposing something like this:</p>
<pre><code class="language-toml">[environment]
analysis-extra-paths = [
    &quot;{{UnrealProjectPath}}/Intermediate/PythonStub&quot;
]
autocomplete-extra-paths = [
    &quot;{{UnrealProjectPath}}/Intermediate/PythonStub/splittedstub&quot;
]
</code></pre>
<h3>Version</h3>
<p>ty 0.0.8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @mtshiba on 2026-01-02 02:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-03 17:12</div>
            <div class="timeline-body"><p>Are the stubs publicly available (or the project)? My initial reaction to this feature request is that we should improve completion performance (which @BurntSushi plans to look into next) over adding a new option to work around it (it shouldn't be slow to compute completions for a file that never changes)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> removed by @MichaReiser on 2026-01-03 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">performance</span> added by @MichaReiser on 2026-01-03 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">completions</span> added by @MichaReiser on 2026-01-03 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Pre-stable 1" by @MichaReiser on 2026-01-03 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/liketoeatcheese">@liketoeatcheese</a> on 2026-01-04 08:49</div>
            <div class="timeline-body"><p>Yea I can provide the unreal.py stub since I don't think you guys have a game engine lying around.</p>
<p>I tried to upload it through github, file is 26mb, so a little bit over github 25mb limit. Can I email? Or should I split these into 2 files and you guys just merge them?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-04 16:43</div>
            <div class="timeline-body"><p>sharing it as two separate files or as a zip with two chunks is fine, as long as Unreal's licensing allows you to share the files publicly. If not, please feel free to send the files to me (micha at astral.sh) and I can make them available to the team.</p>
<p>Short term, I think you can use the <a href="https://docs.astral.sh/ty/reference/editor-settings/#configuration"><code>configuration</code></a> editor setting. It allows you to override settings that only apply in the editor. However, the same configuration will be used for completions and type checking (but the configuration can be different from what you use when running <code>ty check</code> on the command line)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/liketoeatcheese">@liketoeatcheese</a> on 2026-01-05 11:25</div>
            <div class="timeline-body"><p>Hi Micha, just sent you the file.</p>
<p>Yea for now I will just bite the bullet. ty is still way faster then other lsp so not too bad :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @BurntSushi on 2026-01-06 16:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Separate extra paths for autocomplete and separate extra path for analysis" to "Initial optimization pass at auto-import symbol extraction" by @BurntSushi on 2026-01-09 15:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:38 UTC
    </footer>
</body>
</html>
