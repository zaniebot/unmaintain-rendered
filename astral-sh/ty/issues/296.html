<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>distinguish &quot;doesn't exist&quot; from &quot;doesn't exist on this Python version&quot; - astral-sh/ty #296</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>distinguish &quot;doesn&#x27;t exist&quot; from &quot;doesn&#x27;t exist on this Python version&quot;</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/296">#296</a>
        opened by <a href="https://github.com/carljm">@carljm</a>
        on 2025-05-09 16:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a></div>
            <div class="timeline-body"><p>If a user has their Python version mis-configured, and gets an error like <code>module &#x27;datetime&#x27; has no attribute &#x27;UTC&#x27;</code>, it&#x27;s not necessarily obvious that the reason for this is that they are on the wrong Python version. It would be nice if we could offer an info context on the diagnostic saying &quot;it exists on other Python versions, but you are running with Python 3.9&quot;</p>
<p>We have basic support for this, but there&#x27;s more we could do. Quoting a comment below: We now:</p>
<ul>
<li>Report this precise info when you import a stdlib module we have VERSIONS info for (<a>18403</a>, <a href="https://github.com/astral-sh/ruff/pull/20908">20908</a>)</li>
<li>Mention what version you&#x27;re on when you fail to access an attribute on a stdlib module we believe <em>does</em> exist in <em>some</em> version/platform (<a href="https://github.com/astral-sh/ruff/pull/20909">20909</a>)</li>
</ul>
<p>We do not:</p>
<ul>
<li>Report on attributes of types, optional function arguments, etc.</li>
<li>Report the exact version(s) needed for attributes</li>
<li>Report the exact platform(s) needed for attributes (or mention the current platform)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by <a href="https://github.com/carljm">@carljm</a> on 2025-05-09 16:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-09 16:25</div>
            <div class="timeline-body"><p>Yeah, that would be awesome. But it might be somewhat involved to implement the detection.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Beta&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-07-25 14:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-08-15 15:22</div>
            <div class="timeline-body"><p>An easy initial step here would just be to always alert the user to their detected Python version, if an import from stdlib fails.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/Gankra">@Gankra</a> by <a href="https://github.com/Gankra">@Gankra</a> on 2025-08-20 13:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-10-16 14:27</div>
            <div class="timeline-body"><p>We now:</p>
<ul>
<li>Report this precise info when you import a stdlib module we have VERSIONS info for (<a>18403</a>, <a href="https://github.com/astral-sh/ruff/pull/20908">20908</a>)</li>
<li>Mention what version you&#x27;re on when you fail to access an attribute on a stdlib module we believe <em>does</em> exist in <em>some</em> version/platform (<a href="https://github.com/astral-sh/ruff/pull/20909">20909</a>)</li>
</ul>
<p>We do not:</p>
<ul>
<li>Report on attributes of types, optional function arguments, etc.</li>
<li>Report the exact version(s) needed for attributes</li>
<li>Report the exact platform(s) needed for attributes (or mention the current platform)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-10-16 14:29</div>
            <div class="timeline-body"><p>If we want to leave this open for further improvements, I think we can downgrade this to GA.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Beta&quot; by <a href="https://github.com/Gankra">@Gankra</a> on 2025-10-16 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;GA&quot; by <a href="https://github.com/Gankra">@Gankra</a> on 2025-10-16 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned <a href="https://github.com/Gankra">@Gankra</a> by <a href="https://github.com/Gankra">@Gankra</a> on 2025-10-17 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-11-13 00:00</div>
            <div class="timeline-body"><p>I think what we have here is good, I&#x27;m not sure it&#x27;s a priority to extend it before stable, given everything else we need to do? I haven&#x27;t seen users running into this since we added the basic stdlib support. Removing this from stable milestone entirely, but @AlexWaygood lmk if you&#x27;d like to argue to put it back as a P2.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Stable&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-11-13 00:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Z post-stable&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-11-14 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Z post-stable&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-11-18 16:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:24:25 UTC
    </footer>
</body>
</html>
