<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>asyncio.Task parameters are incorrect (because outdated typeshed) - astral-sh/ty #2299</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>asyncio.Task parameters are incorrect (because outdated typeshed)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2299">#2299</a>
        opened by <a href="https://github.com/kevinderuijter">@kevinderuijter</a>
        on 2026-01-02 00:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kevinderuijter">@kevinderuijter</a> on 2026-01-02 00:34</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Ty says: Argument <code>eager_start</code> does not match any known parameter of function <code>create_task</code>
However, the argument does exist but ty is looking at python 3.11 signature.</p>
<p>This bug can be reproduced in the UV playground.
The share button in <a href="https://play.ty.dev">https://play.ty.dev</a> doesn't work for me so the code is below.</p>
<pre><code class="language-py">import asyncio

async def connect():
    ...

async def main():
    # incorrect ty error about argument eager_start here.
    asyncio.create_task(connect(), eager_start=True)
</code></pre>
<p>See the tasks.pyi as the cause.</p>
<pre><code class="language-py">if sys.version_info &gt;= (3, 11):
    def create_task(coro: _CoroutineLike[_T], *, name: str | None = None, context: Context | None = None) -&gt; Task[_T]:
        &quot;&quot;&quot;Schedule the execution of a coroutine object in a spawn task.

        Return a Task object.
        &quot;&quot;&quot;

else:
    def create_task(coro: _CoroutineLike[_T], *, name: str | None = None) -&gt; Task[_T]:
        &quot;&quot;&quot;Schedule the execution of a coroutine object in a spawn task.

        Return a Task object.
        &quot;&quot;&quot;
</code></pre>
<p>eager_start has been available as a keyword argument since python 3.14: https://docs.python.org/3/library/asyncio-task.html#creating-tasks</p>
<h3>Version</h3>
<p>ty 0.0.8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Task parameters are incorrect (because python version is wrongly assumed)" to "asyncio.Task parameters are incorrect (because outdated typeshed)" by @kevinderuijter on 2026-01-02 00:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kevinderuijter">@kevinderuijter</a> on 2026-01-02 02:27</div>
            <div class="timeline-body"><p>Issue has to do with typeshed, not ty.
https://github.com/python/typeshed/issues/15210</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kevinderuijter on 2026-01-02 02:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:51:35 UTC
    </footer>
</body>
</html>
