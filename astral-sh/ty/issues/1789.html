<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Types and arguments are not being detected on polars DataFrames - astral-sh/ty #1789</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Types and arguments are not being detected on polars DataFrames</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1789">#1789</a>
        opened by <a href="https://github.com/theelderbeever">@theelderbeever</a>
        on 2025-12-05 23:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2025-12-05 23:01</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><code>basedpyright</code> correctly recognizes the type following the <code>join</code> as well as the incorrect argument being passed to the call.</p>
<p><img width="460" height="298" alt="Image" src="https://github.com/user-attachments/assets/164fdb02-d0f3-4313-b007-fdb1ac176aeb" /></p>
<p><code>ty</code>  loses the typing and doesn't alert on the incorrect keyword arg.
<img width="505" height="296" alt="Image" src="https://github.com/user-attachments/assets/f13f1815-cae3-49e4-b896-e8a3a16854dd" /></p>
<h3>Version</h3>
<p>0.0.1-alpha.32</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-05 23:15</div>
            <div class="timeline-body"><p>Hi, thanks for the report! This is https://github.com/astral-sh/ty/issues/1136. (<code>polars.DataFrame.join</code> is decorated with a <code>deprecate_renamed_parameter</code> decorator that currently causes us to lose its typing.)</p>
<p>Will close this as a duplicate, but we'll make sure this case also works when that issue is fixed.</p>
<p>(For future reference, bug reports with text code samples instead of screenshots are easier to reproduce and deal with! But I realize the screenshot gave you the inlay types, which was handy.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-12-05 23:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2025-12-08 20:20</div>
            <div class="timeline-body"><p>@carljm Apologies for not adding the code snippet directly but, yes the intent was to convey what the inlay hints showed.</p>
<pre><code class="language-python">import polars as pl

df1 = pl.DataFrame(
    {
        &quot;a&quot;: [1, 2, 3, None],
        &quot;b&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;z&quot;],
    }
)
df2 = pl.DataFrame(
    {
        &quot;a&quot;: [1, 2, 3, None],
        &quot;c&quot;: [&quot;albatross&quot;, &quot;bear&quot;, &quot;cougar&quot;, &quot;zebra&quot;],
    }
)

df3 = df1.join(df2, on=&quot;a&quot;, nulls_equal=True)
df4 = df1.join(df2, on=&quot;a&quot;, join_nulls=True)
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:50 UTC
    </footer>
</body>
</html>
