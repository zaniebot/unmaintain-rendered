<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`unused-ignore-comment`:  ignoring `# type:ignore` comments that are intended for mypy - astral-sh/ty #1830</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>unused-ignore-comment</code>:  ignoring <code># type:ignore</code> comments that are intended for mypy</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1830">#1830</a>
        opened by <a href="https://github.com/jorenham">@jorenham</a>
        on 2025-12-09 23:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jorenham">@jorenham</a> on 2025-12-09 23:37</div>
            <div class="timeline-body"><p>scipy-stubs supports both mypy and ty. It uses <code># type: ignore</code> comments for mypy, and <code># ty:ignore</code> for ty. When I enable <code>unused-ignore-comment</code>, ty reports many unused <code>Unused blanket </code>type:ignore<code> directive</code>, even though those are specifically meant for mypy, and only for mypy.
If I now turn on <code>unused-ignore-comment</code>, ty reports 95 &quot;Unused blanket <code>type: ignore</code> directive&quot;, and all of them are needed for mypy.</p>
<p>With Pyright I can avoid this problem by setting <code>enableTypeIgnoreComments=false</code>, which causes it to ignore all <code># type:ignore</code> comments in favor of <code># pyright:ignore</code>. Maybe something like that also be added to ty?</p>
<p>Alternatively, I suppose that you could whitelist all of mypy's error codes, but that wouldn't be ideal in case of non-unique ones (like <code>deprecated</code> if I remember correctly).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`unused-ignore-comment`:  ignoring `# type:ignore` comments for mypy compatibility" to "`unused-ignore-comment`:  ignoring `# type:ignore` comments that are intended for mypy" by @jorenham on 2025-12-09 23:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-12-09 23:39</div>
            <div class="timeline-body"><p>Yes, we intend to add this setting; see https://github.com/astral-sh/ty/issues/1422</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-12-09 23:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:41:26 UTC
    </footer>
</body>
</html>
