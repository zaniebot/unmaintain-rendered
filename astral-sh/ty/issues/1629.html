<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Issues Creating Aliases from Aliases for Generic Classes - astral-sh/ty #1629</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Issues Creating Aliases from Aliases for Generic Classes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1629">#1629</a>
        opened by <a href="https://github.com/RainSunGone">@RainSunGone</a>
        on 2025-11-25 10:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/RainSunGone">@RainSunGone</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Having issues when I have a class with multiple type arguments.
I can create some alias if I specify all the type arguments, however, if I leave one as a TypeVar then attempt to create a new alias from this alias, ty doesn't like it.
Mypy and my IDE seem happy with this approach.</p>
<pre><code>from typing import Generic, TypeVar

T = TypeVar(&quot;T&quot;)
U = TypeVar(&quot;U&quot;)


class MyClass(Generic[T, U]):
    pass


IntStrClass = MyClass[int, str]  # This is fine

V = TypeVar(&quot;V&quot;)
IntAnyClass = MyClass[int, V]
IntStrClass2 = IntAnyClass[str]  # This gets non-subscriptable error

W = TypeVar(&quot;W&quot;)
AnyStrClass = MyClass[W, str]
IntStrClass3 = AnyStrClass[int]  # This gets non-subscriptable error

</code></pre>
<p><a href="https://play.ty.dev/d3896822-6e8e-4904-a3df-65285f1b3ef4">Playground Link</a></p>
<p>All pyproject.toml settings are default and we're just running a simple <code>ty check</code>.</p>
<p>The obvious workaround is to just have every alias defined directly on MyClass, but it would be nice to allow this sugar as it helps minimize code. And we can use the &quot;partial aliases&quot; throughout the code where we do not know one of the Generic type arguments upfront.</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.26 (b225fd8b4 2025-11-10)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-11-25 10:47</div>
            <div class="timeline-body"><p>Thank you. Please see https://github.com/astral-sh/ty/issues/1596. This should be fixed by https://github.com/astral-sh/ruff/pull/21553</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-11-25 10:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-11-25 11:06</div>
            <div class="timeline-body"><blockquote>
<p>This should be fixed by <a href="https://github.com/astral-sh/ruff/pull/21553">astral-sh/ruff#21553</a></p>
</blockquote>
<p>Yes, I just confirmed that it will be.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-11-28 19:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:02 UTC
    </footer>
</body>
</html>
