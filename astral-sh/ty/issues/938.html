<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support of Literal in autocomplete - astral-sh/ty #938</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support of Literal in autocomplete</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/938">#938</a>
        opened by <a href="https://github.com/AKuederle">@AKuederle</a>
        on 2025-08-05 13:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AKuederle">@AKuederle</a></div>
            <div class="timeline-body"><p>It would be great, if the code suggestions could cover <code>Literal</code> and suggest only possible values for e.g. function arguments.</p>
<p>It would be even better, if it would be possible to support something like <code>Literal[&quot;option1&quot;, &quot;option2&quot;] | str</code> to allow for autocomplete of the <code>Literal</code> options without widening the type to <code>str</code>.
I often use annotations like this to indicate that the sensible values are <code>&quot;option1&quot;, &quot;option2&quot;</code>, but that the function theoretically supports any str.</p>
<p>At the moment ty &quot;correctly&quot; widens the type option to just <code>str</code>, as the literal values are subtypes of <code>str</code>. However, with that we loose autocomplete for the other options.</p>
<p>There is &quot;prior art&quot; on this hack in typescript: https://medium.com/@florian.schindler_47749/typescript-hacks-1-string-suggestions-58806363afeb</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-05 13:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-05 13:58</div>
            <div class="timeline-body"><p>CC: @BurntSushi</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-08-05 14:42</div>
            <div class="timeline-body"><p>Separate from the autocomplete support, this is another data point suggesting maybe we shouldn&#x27;t eagerly simplify user-authored union types.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">completions</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-09-30 15:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Z post-stable&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-14 08:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Z post-stable&quot; by <a href="https://github.com/carljm">@carljm</a> on 2025-11-18 16:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-03 18:34</div>
            <div class="timeline-body"><p>I just closed #2318 as a duplicate of this, but it has some nice examples of autocompletions that are supported by other language servers.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:12 UTC
    </footer>
</body>
</html>
