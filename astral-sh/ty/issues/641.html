<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TY hanging when checking files - astral-sh/ty #641</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>TY hanging when checking files</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/641">#641</a>
        opened by <a href="https://github.com/jad-haddad">@jad-haddad</a>
        on 2025-06-12 09:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jad-haddad">@jad-haddad</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hello,
I'm running <code>ty check</code> on my repo and it reaches a point where it hangs and nothing happens anymore</p>
<pre><code>Checking ------------------------------------------------------------ 221/227 files
</code></pre>
<p>and I tried waiting for 5 min, and still nothing, happened. I ran the command with verbose</p>
<pre><code>  2025-06-12T09:40:00.033674Z DEBUG ty_python_semantic::module_resolver::resolver: Module `pyarrow` not found in search paths
    at crates/ty_python_semantic/src/module_resolver/resolver.rs:43 on ThreadId(3)
    in ty_project::check_file with file=file(Id(c04))
    in ty_project::Project::check

  2025-06-12T09:40:00.046298Z DEBUG ty_python_semantic::module_resolver::resolver: Module `pymupdf._mupdf` not found in search paths
    at crates/ty_python_semantic/src/module_resolver/resolver.rs:43 on ThreadId(8)
    in ty_project::check_file with file=file(Id(c1d))
    in ty_project::Project::check

  2025-06-12T09:40:00.046354Z DEBUG ty_python_semantic::module_resolver::resolver: Module `_mupdf` not found in search paths
    at crates/ty_python_semantic/src/module_resolver/resolver.rs:43 on ThreadId(8)
    in ty_project::check_file with file=file(Id(c1d))
    in ty_project::Project::check

Checking ------------------------------------------------------------ 221/227 files
</code></pre>
<p>as for the settings, I don't have anything specified, so it is the default settings.</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.9 (2feba5eb2 2025-06-11)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">hang</span> added by @AlexWaygood on 2025-06-12 09:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-06-12 09:54</div>
            <div class="timeline-body"><p>Are you using pandas by any chance? If so, this might be the same issue as https://github.com/astral-sh/ty/issues/627</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jad-haddad">@jad-haddad</a> on 2025-06-12 10:02</div>
            <div class="timeline-body"><p>I do have some modules that use pandas yes (and ty worked fine checking them in previous alpha versions)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/flockoftravi">@flockoftravi</a> on 2025-06-12 17:02</div>
            <div class="timeline-body"><p>I am seeing this issue as well. It seems specific to 0.0.1a9 in my case, as reverting back to 0.0.1a8 resolves the hang.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pratt-fds">@pratt-fds</a> on 2025-06-13 09:40</div>
            <div class="timeline-body"><p>When the hang occurs, there is a significant memory leak. Version 0.0.1a8 does not have this error on my system</p>
<p>Ubuntu 24.04 running inside WSL2 on a Win11 system</p>
<p><img src="https://github.com/user-attachments/assets/3f1c0998-a124-47e3-bc6e-e048752b9b07" alt="Image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-06-13 09:47</div>
            <div class="timeline-body"><blockquote>
<p>When the hang occurs, there is a significant memory</p>
</blockquote>
<p>Interesting, yes. I observe the same thing on my <a href="https://github.com/astral-sh/ty/issues/627#issuecomment-2969761630">MRE here</a>:</p>
<p><img src="https://github.com/user-attachments/assets/4b643e17-3095-4960-bc91-4b82ff2bddaf" alt="Image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-06-13 19:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:20:08 UTC
    </footer>
</body>
</html>
