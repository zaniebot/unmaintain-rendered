<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Failed to load project for workspace - astral-sh/ty #2245</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Failed to load project for workspace</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/2245">#2245</a>
        opened by <a href="https://github.com/amirhosseindavoody">@amirhosseindavoody</a>
        on 2025-12-28 09:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/amirhosseindavoody">@amirhosseindavoody</a></div>
            <div class="timeline-body">Summary
<p>I am using <code>ty</code> extension on VScode with the following project settings</p>
<pre><code>        &quot;python.defaultInterpreterPath&quot;: &quot;${workspaceFolder}/.pixi/envs/py/bin/python&quot;,
        &quot;python.languageServer&quot;: &quot;None&quot;,
        &quot;ty.importStrategy&quot;: &quot;useBundled&quot;,
        &quot;ty.interpreter&quot;: [
            &quot;${workspaceFolder}/.pixi/envs/py/bin/python&quot;,
        ],
        &quot;ty.disableLanguageServices&quot;: false,
        &quot;ty.inlayHints.variableTypes&quot;: false,
</code></pre>
<p>The python and other depenencies is installed using <code>pixi</code> in the local directory.</p>
<p>The extension is not able to resolve the python environment.</p>
<p>As a note, the same settings used to work in a different vscode workspace, but it is giving me error here. I did a couple of reload windows and one of them seemed to work but it appeared again after some time.</p>
<p>My development environment is that I am connecting from windows to my WSL machine. I have latest VScode, Pixi and TY extension.</p>
<p>Here is the <code>ty</code> logs:</p>
<pre><code>2025-12-28 01:11:36.740 [info] Name: ty
2025-12-28 01:11:36.740 [info] Module: ty
2025-12-28 01:11:36.740 [info] Using interpreter: /home/amirhossein/mini-spice/.pixi/envs/py/bin/python
2025-12-28 01:11:38.260 [info] Initialization options: {}
2025-12-28 01:11:38.260 [info] Using bundled executable: /home/amirhossein/.vscode-server/extensions/astral-sh.ty-2025.76.0-linux-x64/bundled/libs/bin/ty
2025-12-28 01:11:38.265 [info] Found executable at /home/amirhossein/.vscode-server/extensions/astral-sh.ty-2025.76.0-linux-x64/bundled/libs/bin/ty
2025-12-28 01:11:38.265 [info] Server run command: /home/amirhossein/.vscode-server/extensions/astral-sh.ty-2025.76.0-linux-x64/bundled/libs/bin/ty server
2025-12-28 01:11:38.266 [info] Server: Start requested.
</code></pre>
<p>Here is the <code>ty Language Server</code> logs:</p>
<pre><code>2025-12-28 01:11:38.288542668  INFO Version: 0.0.6
2025-12-28 01:11:38.452715741  INFO Defaulting to python-platform `linux`
2025-12-28 01:11:38.452918854 ERROR Failed to create project for workspace `file:///home/amirhossein/mini-spice`: Failed to discover the site-packages directory: Invalid selected interpreter in your editor `/usr`: Could not find a `site-packages` directory for this Python installation/executable. Falling back to default settings
2025-12-28 01:11:38.453080736  INFO Defaulting to python-platform `linux`
2025-12-28 01:11:38.453421130  INFO Python version: Python 3.14, platform: linux
</code></pre>
Version
<p>0.0.6</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-29 10:43</div>
            <div class="timeline-body"><p>Hi.</p>
<p>I&#x27;m sorry you&#x27;re running into this and thanks for sharing all the logs. They&#x27;re very helfpul.</p>
<p>Can you double check what interpreter you&#x27;ve selected in VS Code and if it is correct. To do so, open the command pallete (Cmd+Shift+P), &quot;Python: Select interpreter&quot;, select the environment for this workspace.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-29 10:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-12-30 05:46</div>
            <div class="timeline-body"><p>(This might be unrelated but the only purpose for the <a href="https://docs.astral.sh/ty/reference/editor-settings/#interpreter"><code>ty.interpreter</code></a> is to provide the Python interpreter to use for finding the <code>ty</code> executable and it&#x27;s not the same as <a href="https://docs.astral.sh/ty/reference/configuration/#python"><code>ty.environment.python</code></a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amirhosseindavoody">@amirhosseindavoody</a> on 2025-12-30 06:45</div>
            <div class="timeline-body"><p>Thanks for the tip. Adding <code>ty.toml</code> file with the following content fixed the issue.</p>
<pre><code>[environment]
python = &quot;./.pixi/envs/py/bin/python&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/amirhosseindavoody">@amirhosseindavoody</a> on 2025-12-30 06:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amirhosseindavoody">@amirhosseindavoody</a> on 2025-12-30 06:47</div>
            <div class="timeline-body"><blockquote>
<p>Hi.</p>
<p>I&#x27;m sorry you&#x27;re running into this and thanks for sharing all the logs. They&#x27;re very helfpul.</p>
<p>Can you double check what interpreter you&#x27;ve selected in VS Code and if it is correct. To do so, open the command pallete (Cmd+Shift+P), &quot;Python: Select interpreter&quot;, select the environment for this workspace.</p>
</blockquote>
<p>Also, before adding the ty.toml file, I tried selecting the correct python Interpreter, but it didn&#x27;t help.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:26:48 UTC
    </footer>
</body>
</html>
