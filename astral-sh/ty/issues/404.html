<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for argument unpacking - astral-sh/ty #404</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support for argument unpacking</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/404">#404</a>
        opened by <a href="https://github.com/stfwn">@stfwn</a>
        on 2025-05-15 09:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/stfwn">@stfwn</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Thanks for making <code>ty</code>, it's very fast! :)</p>
<p>It would be great to have some level of support for argument unpacking. This seems pretty complex to me the more I think about it, but I thought it would be worth opening an issue for it anyway.</p>
<p>For example:</p>
<pre><code class="language-python">def foo(a: int) -&gt; None:
    pass


kwargs = {&quot;a&quot;: 1}
foo(**kwargs)

args = [1]
foo(*args)
</code></pre>
<p>Currently gives:</p>
<pre><code>error[missing-argument]: No argument provided for required parameter `a` of function `foo`
 --&gt; test.py:6:1
  |
5 | kwargs = {&quot;a&quot;: 1}
6 | foo(**kwargs)
  | ^^^^^^^^^^^^^
7 |
8 | args = [1]
  |
info: rule `missing-argument` is enabled by default

error[missing-argument]: No argument provided for required parameter `a` of function `foo`
 --&gt; test.py:9:1
  |
8 | args = [1]
9 | foo(*args)
  | ^^^^^^^^^^
  |
info: rule `missing-argument` is enabled by default

Found 2 diagnostics
</code></pre>
<p>Intuitively it might not be possible to support all cases of argument unpacking (who knows what's in a dict/iterable at any given time!). But for context, I ran into this when I was doing this common pattern:</p>
<pre><code>if __name__ == '__main__':
  parser = ...
  parser.add_argument(...)
  args = parser.parse_args()
  main(**vars(args))
</code></pre>
<p>And perhaps this pattern is a candidate to support as a special case.</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.2 (59c45cc60 2025-05-14)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-05-15 09:20</div>
            <div class="timeline-body"><p>Thank you for your report. Please see #247.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-05-15 09:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:19:53 UTC
    </footer>
</body>
</html>
