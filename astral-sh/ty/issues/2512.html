<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support generic functional NamedTuples/TypedDicts - astral-sh/ty #2512</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support generic functional NamedTuples/TypedDicts</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2512">#2512</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2026-01-15 12:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a></div>
            <div class="timeline-body"><p>Mypy supports defining generic functional <code>NamedTuple</code>s and <code>TypedDict</code>s. Ideally we would too:</p>
<pre><code class="language-py">from typing import NamedTuple, TypeVar, TypedDict

T = TypeVar(&quot;T&quot;)

GenericPoint = NamedTuple(&quot;GenericPoint&quot;, [(&quot;x&quot;, T), (&quot;y&quot;, T)])
GenericMovie = TypedDict(&quot;GenericMovie&quot;, {&quot;director&quot;: str, &quot;assistant producer&quot;: T})

def _(p: GenericPoint[int], m: GenericMovie[str]):
    reveal_type(p[0])  # int
    reveal_type(p[1])  # int
    reveal_type(p.x)  # int
    reveal_type(p.y)  # int
    
    reveal_type(m[&quot;assistant producer&quot;])  # str
</code></pre>
<p>This is not <em>very</em> important for <code>NamedTuple</code>s, because there's not really any reason to define <code>GenericPoint</code> using the functional syntax rather than using a <code>class</code> statement. It's more important for <code>TypedDict</code>s, however, because it's impossible to rewrite <code>GenericMovie</code> using a <code>class</code> statement: one of its keys is not a valid identifier.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @AlexWaygood by @AlexWaygood on 2026-01-15 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @AlexWaygood on 2026-01-15 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">typing semantics</span> added by @AlexWaygood on 2026-01-15 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">typeddict</span> added by @AlexWaygood on 2026-01-15 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">namedtuples</span> added by @AlexWaygood on 2026-01-15 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-15 12:18</div>
            <div class="timeline-body"><p>(We don't support functional TypedDicts at all yet, but I believe we will do soon!)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-15 12:44:18 UTC
    </footer>
</body>
</html>
