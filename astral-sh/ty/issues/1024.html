<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>server hangs after changing file - astral-sh/ty #1024</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>server hangs after changing file</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1024">#1024</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2025-08-17 04:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DetachHead">@DetachHead</a></div>
            <div class="timeline-body">Summary
<p>originally raised at <a href="https://github.com/astral-sh/ty/issues/601">astral-sh/ty#601</a>#issuecomment-3016471681 but opening a new issue because this is still occurring, but i think it&#x27;s a different issue since it happens on both windows and linux, and only seems to occur in one of the files in my project:</p>
<blockquote>
<p>this issue seems to be mostly fixed, but it seems to still occur in some cases. i&#x27;ve been trying for hours to narrow this down to a minimal repo, but i can&#x27;t figure it out unfortunately, so the steps to reproduce involve cloning my repo:</p>
<ol>
<li>clone https://github.com/DetachHead/pytest-robotframework/commit/360a3b3ad171d80f019fe4f26e17d313d4c63164</li>
<li>run <code>./pw uv sync</code></li>
<li>open <code>pytest_robotframework/__init__.py</code> in vscode</li>
<li>remove <a href="https://github.com/DetachHead/pytest-robotframework/blob/360a3b3ad171d80f019fe4f26e17d313d4c63164/pytest_robotframework/__init__.py#L272-L273">one of these <code># ty:ignore</code> comments</a> and notice that the error does not come back</li>
<li>restart the language server and see that the error comes back</li>
</ol>
</blockquote>
Version
<p>0.0.1-alpha.18</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-17 07:08</div>
            <div class="timeline-body"><p>Interesting: can you tell us more about what editor you&#x27;re using and what your settings are (do you use workspace diagnostics or diagnostics for open files only)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DetachHead">@DetachHead</a> on 2025-08-17 11:05</div>
            <div class="timeline-body"><p>i&#x27;m using vscode, here are the only settings i&#x27;ve changed:</p>
<pre><code>// .vscode/settings.json
{
    &quot;ty.disableLanguageServices&quot;: true // using basedpyright for now
}
</code></pre>
<pre><code># pyproject.toml

[tool.ty.rules]
division-by-zero = &quot;error&quot;
possibly-unresolved-reference = &quot;warn&quot;
unused-ignore-comment = &quot;warn&quot;
invalid-type-form = &quot;ignore&quot; # <a href="https://github.com/astral-sh/ty/issues/157">astral-sh/ty#157</a>

[tool.ty.environment]
python-platform = &quot;all&quot;

[tool.ty.terminal]
error-on-warning = true
</code></pre>
<p>the project i linked has the vscode config files committed if that helps: https://github.com/DetachHead/pytest-robotframework</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-08-17 22:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 06:45</div>
            <div class="timeline-body"><p>Thanks, I&#x27;ll take a look</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 08:02</div>
            <div class="timeline-body"><p>It seems the ty version is somewhat out of date. So I went ahead and updated it. I do observe a slightly different behavior than what you described (maybe I messed something up with the setup).</p>
<ul>
<li>ty runs one check successfully</li>
<li>Remove one of the two <code>ty: ignore</code></li>
<li>I can now see that ty takes 100% cpu usage and I suspect it hangs</li>
</ul>
<p>And these are the logs:</p>
<pre><code>pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd4)), revision: R5 } }
2025-08-18 10:05:27.383597000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a846)), revision: R5 } }
2025-08-18 10:05:27.383607000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e1)), revision: R5 } }
2025-08-18 10:05:27.383621000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd5)), revision: R5 } }
2025-08-18 10:05:27.383633000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a847)), revision: R5 } }
2025-08-18 10:05:27.383643000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e2)), revision: R5 } }
2025-08-18 10:05:27.383655000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd6)), revision: R5 } }
2025-08-18 10:05:27.383668000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a848)), revision: R5 } }
2025-08-18 10:05:27.383679000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e3)), revision: R5 } }
2025-08-18 10:05:27.383690000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd7)), revision: R5 } }
2025-08-18 10:05:27.383703000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a849)), revision: R5 } }
2025-08-18 10:05:27.383714000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e4)), revision: R5 } }
2025-08-18 10:05:27.383724000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd8)), revision: R5 } }
2025-08-18 10:05:27.383735000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a84a)), revision: R5 } }
2025-08-18 10:05:27.383748000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e5)), revision: R5 } }
2025-08-18 10:05:27.383759000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd9)), revision: R5 } }
2025-08-18 10:05:27.383770000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a84b)), revision: R5 } }
2025-08-18 10:05:27.383783000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e6)), revision: R5 } }
2025-08-18 10:05:27.383794000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcda)), revision: R5 } }
2025-08-18 10:05:27.383805000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: TupleType(Id(a84c)), revision: R5 } }
2025-08-18 10:05:27.383818000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: Specialization(Id(d8e7)), revision: R5 } }
2025-08-18 10:05:27.383829000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcdb)), revision: R5 } }
2025-08-18 10:05:27.383841000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ModuleNameIngredient(Id(5001)), revision: R5 } }
2025-08-18 10:05:27.383857000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: place_by_id::interned_arguments(Id(6401)), revision: R5 } }
2025-08-18 10:05:27.383872000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6cd1)), revision: R5 } }
2025-08-18 10:05:27.383888000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcc3)), revision: R5 } }
2025-08-18 10:05:27.383899000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce1)), revision: R5 } }
2025-08-18 10:05:27.383912000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd1)), revision: R5 } }
2025-08-18 10:05:27.383924000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce2)), revision: R5 } }
2025-08-18 10:05:27.383936000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd2)), revision: R5 } }
2025-08-18 10:05:27.383958000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce3)), revision: R5 } }
2025-08-18 10:05:27.383972000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd3)), revision: R5 } }
2025-08-18 10:05:27.383992000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce4)), revision: R5 } }
2025-08-18 10:05:27.384007000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd4)), revision: R5 } }
2025-08-18 10:05:27.384066000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce5)), revision: R5 } }
2025-08-18 10:05:27.384096000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd5)), revision: R5 } }
2025-08-18 10:05:27.384108000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce6)), revision: R5 } }
2025-08-18 10:05:27.384122000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd6)), revision: R5 } }
2025-08-18 10:05:27.384135000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce7)), revision: R5 } }
2025-08-18 10:05:27.384149000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd7)), revision: R5 } }
2025-08-18 10:05:27.384161000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce8)), revision: R5 } }
2025-08-18 10:05:27.384175000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd8)), revision: R5 } }
2025-08-18 10:05:27.384187000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6ce9)), revision: R5 } }
2025-08-18 10:05:27.384197000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcd9)), revision: R5 } }
2025-08-18 10:05:27.384207000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: ClassLiteral &lt; &#x27;db &gt;::try_mro_::interned_arguments(Id(6cea)), revision: R5 } }
2025-08-18 10:05:27.384218000 TRACE ty:worker:3 request{id=15 method=&quot;textDocument/inlayHint&quot;}:infer_scope_types{scope=Id(3c0c) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=8871..8874 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_scope_types{scope=Id(3c0b) file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_definition_types{range=9742..9746 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}:infer_expression_types{expression=Id(445f) range=9749..9798 file=File(System(&quot;/Users/micha/astral/pytest-robotframework/pytest_robotframework/__init__.py&quot;))}: ty_project::db: Salsa event: Event { thread_id: ThreadId(24), kind: DidValidateInternedValue { key: GenericAlias(Id(dcda)), revision: R5 } }
</code></pre>
<p>I&#x27;ve a longer log locally. It seems we keep validating the same values repeatedly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Beta&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 08:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;diagnostics on some files don&#x27;t update until the language server is restarted&quot; to &quot;server hangs after changing file&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 08:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">hang</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 08:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 08:59</div>
            <div class="timeline-body"><p>I can confirm that this is another salsa bug. The diagnostics update immediately if I comment out the <code>deep_verify_memo</code> and backdating code within <code>maybe_changed_after_cold</code> (which is the same as disabling reusing any results from a previous revision).</p>
<p>This will probably take me a while to narrow down because i first need to come up with a much simpler MRE (ideally a couple of lines, and i then still need to translate it into a standalone salsa repro)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 12:53</div>
            <div class="timeline-body"><p>A more minimal repro:</p>
<pre><code>from __future__ import annotations

from robot import result

result.Keyword(
    # pyright is only run when robot 7 is installed
    kwname=keyword_name2,  # pyright:ignore[reportCallIssue] # ty:ignore[unknown-argument]
    libname=self._module,  # pyright:ignore[reportCallIssue] # ty:ignore[unknown-argument]
    doc=doc,
    args=log_args,
    tags=self._tags,
)
</code></pre>
<p>I&#x27;m unable to reproduce this with the CLI (at least not consistently). This suggests that the request timing might be important (or multi threading, ugh)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-18 14:31</div>
            <div class="timeline-body"><p>I think this is the underlying issue <a href="https://github.com/salsa-rs/salsa/pull/981">salsa-rs/salsa#981</a></p>
<p>This probably requires something like <code>validate_same_iteration</code> but for <code>maybe_changed_after</code>? However, I need to consider this, and the challenge is that we don&#x27;t push queries to the query stack in <code>maybe_changed_after</code> because it&#x27;s expensive. But we could decide to do so only for queries that have a recovery function set</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-19 07:19</div>
            <div class="timeline-body"><p>This gets fixed by <a href="https://github.com/salsa-rs/salsa/pull/981">salsa-rs/salsa#981</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-20 07:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-20 07:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-20 08:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:25:19 UTC
    </footer>
</body>
</html>
