<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>numpy-array completion evaluation shows different results between macOS and linux - astral-sh/ty #1358</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>numpy-array completion evaluation shows different results between macOS and linux</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1358">#1358</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-10-15 08:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><p>When run on my linux desktop machine (or in CI)</p>
<pre><code>cargo r -q -p ty_completion_eval show-one numpy-array --index 1

array (*, 1/19)
array2string
array_equal
array_equiv
array_repr
array_split
array_str
asanyarray
asarray
asarray_chkfinite
ascontiguousarray
asfortranarray
broadcast_arrays
matrix_transpose
ndarray
recarray
__array_api_version__
__array_namespace_info__
_ArrayOrScalarCommon
-----
found 19 completions
</code></pre>
<p>with python 3.13.7</p>
<p>But there are no completions when run on my mac mini</p>
<pre><code>✦ ❯ cargo r -q -p ty_completion_eval show-one numpy-array --index 1

-----
found 0 completions
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @MichaReiser on 2025-10-15 08:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @MichaReiser on 2025-10-15 08:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">completions</span> added by @MichaReiser on 2025-10-15 08:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-15 08:48</div>
            <div class="timeline-body"><p>Okay, I think I figured out what the issue was. I had an activated VENV</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-10-15 08:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-15 08:53</div>
            <div class="timeline-body"><p>Fixed in https://github.com/astral-sh/ruff/pull/20807</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:20:48 UTC
    </footer>
</body>
</html>
