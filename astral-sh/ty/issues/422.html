<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`error[unresolved-attribute]: Type '&lt;module 'os'&gt;' has no attribute 'sys'` - but `os.sys.winver` is there - astral-sh/ty #422</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`error[unresolved-attribute]: Type '&lt;module 'os'&gt;' has no attribute 'sys'` - but `os.sys.winver` is there</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/422">#422</a>
        opened by <a href="https://github.com/gr7ffo">@gr7ffo</a>
        on 2025-05-16 11:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/gr7ffo">@gr7ffo</a> on 2025-05-16 11:12</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><code>ty check</code> leaves me with</p>
<pre><code>WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
error[unresolved-attribute]: Type `&lt;module 'os'&gt;` has no attribute `sys`
  --&gt; dtis-sgs2txt-helper.py:17:4
   |
16 | # Set local dev, Python 3.8 only runs on UT PC
17 | if os.sys.winver == '3.8':
   |    ^^^^^^
18 |     local = False
19 |     use_sgs2txt = True
   |
info: rule `unresolved-attribute` is enabled by default

Found 1 diagnostic
</code></pre>
<p>but <code>os.sys.winver</code> exists and is there, why than this <code>error[unresolved-attribute]</code>?</p>
<h3>Version</h3>
<p>ty 0.0.1-alpha.3 (144a26d44 2025-05-15)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "error[unresolved-attribute]: Type `<module 'os'>` has no attribute `sys` - but os.sys.winver is there" to "`error[unresolved-attribute]: Type `<module 'os'>` has no attribute `sys`` - but `os.sys.winver` is there" by @gr7ffo on 2025-05-16 11:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`error[unresolved-attribute]: Type `<module 'os'>` has no attribute `sys`` - but `os.sys.winver` is there" to "`error[unresolved-attribute]: Type '<module 'os'>' has no attribute 'sys'` - but `os.sys.winver` is there" by @gr7ffo on 2025-05-16 11:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danielhollas">@danielhollas</a> on 2025-05-16 11:16</div>
            <div class="timeline-body"><p>How exactly do you import os.sys?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-05-16 11:44</div>
            <div class="timeline-body"><p>I think <code>os.sys</code> can not (and should not?) be accessed. It's <a href="https://github.com/python/typeshed/blob/5785616f7a68f6923fd6032bcf9116e066a819b9/stdlib/os/__init__.pyi#L47">not re-exported</a> from <code>os</code> in typeshed. I understand that this is possible at runtime, but it's probably just a side-effect of the <code>sys</code>-import <a href="https://github.com/python/cpython/blob/1566c34dc76ec6139e6827fbab6d76e084a63d9d/Lib/os.py#L26">here</a>.</p>
<p>Is there an advantage to accessing it via <code>os</code>, or could you import <code>sys</code> directly?</p>
<p>Note that you might also need to <a href="https://github.com/astral-sh/ty/blob/main/docs/reference/configuration.md#python-platform">set the target platform</a> to <code>win32</code>, if you're not on Windows in the first place.</p>
<p>See <code>environment</code> settings here: https://play.ty.dev/a2fda34d-6277-467b-ab68-173499840d6a</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @sharkdp on 2025-05-16 11:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">imports</span> added by @sharkdp on 2025-05-16 11:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-05-16 12:04</div>
            <div class="timeline-body"><p>Mypy and pyright both also error on using <code>os.sys</code>. Mypy does provide a nice modified error message 'Module &quot;os&quot; does not explicitly export attribute &quot;sys&quot;', which we could consider adopting instead of just saying it doesn't exist.</p>
<p>Closing this issue since this is working as expected. If someone wants to open an issue for a distinct diagnostic message for this &quot;exists but not exported&quot; case, that would be fine. The awkward thing about that, as I see it, is that some typeshed non-re-exports really don't exist at runtime (they are just a typeshed implementation detail), while others (like <code>os.sys</code>) do really exist at runtime (they just aren't intended as part of the module's interface, and could disappear without warning in a future version of the module), and we have no way to tell the difference.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-05-16 12:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:03 UTC
    </footer>
</body>
</html>
