<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find all references in VS Code extension does not find call sites - astral-sh/ty #2362</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Find all references in VS Code extension does not find call sites</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/2362">#2362</a>
        opened by <a href="https://github.com/AdemFr">@AdemFr</a>
        on 2026-01-06 10:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AdemFr">@AdemFr</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Thanks for building Ty! Super excited about the project.
I set up ty using the cursor / vs code extension for the language server.</p>
<p>One of the critical use cases for type hints etc for me is finding / renaming all references of variables and attributes reliably.</p>
<p>This does not seem to work when searching for references based on the method argument across different files, but works when searching based on the call site or within the same file.</p>
<p><a href="https://play.ty.dev/9a3a5978-ecf8-4bd4-8a62-bd31a091bfa9">Playground Link</a></p>
<p>example_rename.py</p>
<pre><code class="language-py">from .example_rename_2 import ExampleClass

if __name__ == &quot;__main__&quot;:
    instance = ExampleClass(old_name=&quot;test&quot;)  # Find all references for old_name works here
    result = instance.method(&quot;world&quot;)

</code></pre>
<p>example_rename_2.py</p>
<pre><code class="language-py">class ExampleClass:
    def __init__(self, old_name: str) -&gt; None:    # Find all references for old_name only finds usages within file
        self.old_name = old_name

    def method(self, old_name: str) -&gt; str:
        return f&quot;Hello {old_name}&quot;
</code></pre>
<p><img width="772" height="182" alt="Image" src="https://github.com/user-attachments/assets/e034292e-b13a-40c3-98e5-88bed5e02fe9" /></p>
<p><img width="732" height="192" alt="Image" src="https://github.com/user-attachments/assets/e75a1cc1-e025-43d6-98cf-4c252eeb06ff" /></p>
<p><img width="2554" height="366" alt="Image" src="https://github.com/user-attachments/assets/6b74021a-2b36-4e44-916c-d0b2d4df069a" /></p>
<h3>Expected</h3>
<p>I would expect the same result, no matter where I search for references from. This also breaks renaming, when triggered from the class attribute, and will not rename call sites.</p>
<h3>Version</h3>
<p>0.0.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @AlexWaygood on 2026-01-06 11:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @dhruvmanila on 2026-01-06 15:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Pre-stable 1" by @MichaReiser on 2026-01-08 13:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:42 UTC
    </footer>
</body>
</html>
