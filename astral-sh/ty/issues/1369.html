<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truncate `Literal` type display in some situations - astral-sh/ty #1369</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Truncate <code>Literal</code> type display in some situations</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/1369">#1369</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2025-10-16 14:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-16 14:09</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>In https://github.com/astral-sh/ruff/pull/20730, we started truncating union type displays in some situations. I think we need to consider doing similarly for <code>Literal</code> types. Here's an example diagnostic on https://github.com/astral-sh/ruff/pull/20107:</p>
<pre><code>[error] invalid-argument-type - Argument to bound method `timeUnit` is incorrect: Expected `TimeUnitParams | Literal[&quot;yearquarter&quot;, &quot;yearquartermonth&quot;, &quot;yearmonth&quot;, &quot;yearmonthdate&quot;, &quot;yearmonthdatehours&quot;, &quot;yearmonthdatehoursminutes&quot;, &quot;yearmonthdatehoursminutesseconds&quot;, &quot;yearweek&quot;, &quot;yearweekday&quot;, &quot;yearweekdayhours&quot;, &quot;yearweekdayhoursminutes&quot;, &quot;yearweekdayhoursminutesseconds&quot;, &quot;yeardayofyear&quot;, &quot;quartermonth&quot;, &quot;monthdate&quot;, &quot;monthdatehours&quot;, &quot;monthdatehoursminutes&quot;, &quot;monthdatehoursminutesseconds&quot;, &quot;weekday&quot;, &quot;weekdayhours&quot;, &quot;weekdayhoursminutes&quot;, &quot;weekdayhoursminutesseconds&quot;, &quot;dayhours&quot;, &quot;dayhoursminutes&quot;, &quot;dayhoursminutesseconds&quot;, &quot;hoursminutes&quot;, &quot;hoursminutesseconds&quot;, &quot;minutesseconds&quot;, &quot;secondsmilliseconds&quot;, &quot;utcyearquarter&quot;, &quot;utcyearquartermonth&quot;, &quot;utcyearmonth&quot;, &quot;utcyearmonthdate&quot;, &quot;utcyearmonthdatehours&quot;, &quot;utcyearmonthdatehoursminutes&quot;, &quot;utcyearmonthdatehoursminutesseconds&quot;, &quot;utcyearweek&quot;, &quot;utcyearweekday&quot;, &quot;utcyearweekdayhours&quot;, &quot;utcyearweekdayhoursminutes&quot;, &quot;utcyearweekdayhoursminutesseconds&quot;, &quot;utcyeardayofyear&quot;, &quot;utcquartermonth&quot;, &quot;utcmonthdate&quot;, &quot;utcmonthdatehours&quot;, &quot;utcmonthdatehoursminutes&quot;, &quot;utcmonthdatehoursminutesseconds&quot;, &quot;utcweekday&quot;, &quot;utcweekdayhours&quot;, &quot;utcweekdayhoursminutes&quot;, &quot;utcweekdayhoursminutesseconds&quot;, &quot;utcdayhours&quot;, &quot;utcdayhoursminutes&quot;, &quot;utcdayhoursminutesseconds&quot;, &quot;utchoursminutes&quot;, &quot;utchoursminutesseconds&quot;, &quot;utcminutesseconds&quot;, &quot;utcsecondsmilliseconds&quot;, &quot;binnedyear&quot;, &quot;binnedyearquarter&quot;, &quot;binnedyearquartermonth&quot;, &quot;binnedyearmonth&quot;, &quot;binnedyearmonthdate&quot;, &quot;binnedyearmonthdatehours&quot;, &quot;binnedyearmonthdatehoursminutes&quot;, &quot;binnedyearmonthdatehoursminutesseconds&quot;, &quot;binnedyearweek&quot;, &quot;binnedyearweekday&quot;, &quot;binnedyearweekdayhours&quot;, &quot;binnedyearweekdayhoursminutes&quot;, &quot;binnedyearweekdayhoursminutesseconds&quot;, &quot;binnedyeardayofyear&quot;, &quot;binnedutcyear&quot;, &quot;binnedutcyearquarter&quot;, &quot;binnedutcyearquartermonth&quot;, &quot;binnedutcyearmonth&quot;, &quot;binnedutcyearmonthdate&quot;, &quot;binnedutcyearmonthdatehours&quot;, &quot;binnedutcyearmonthdatehoursminutes&quot;, &quot;binnedutcyearmonthdatehoursminutesseconds&quot;, &quot;binnedutcyearweek&quot;, &quot;binnedutcyearweekday&quot;, &quot;binnedutcyearweekdayhours&quot;, &quot;binnedutcyearweekdayhoursminutes&quot;, &quot;binnedutcyearweekdayhoursminutesseconds&quot;, &quot;binnedutcyeardayofyear&quot;, &quot;year&quot;, &quot;quarter&quot;, &quot;month&quot;, &quot;week&quot;, &quot;day&quot;, &quot;dayofyear&quot;, &quot;date&quot;, &quot;hours&quot;, &quot;minutes&quot;, &quot;seconds&quot;, &quot;milliseconds&quot;, &quot;utcyear&quot;, &quot;utcquarter&quot;, &quot;utcmonth&quot;, &quot;utcweek&quot;, &quot;utcday&quot;, &quot;utcdayofyear&quot;, &quot;utcdate&quot;, &quot;utchours&quot;, &quot;utcminutes&quot;, &quot;utcseconds&quot;, &quot;utcmilliseconds&quot;]`, found `Literal[&quot;invalid_value&quot;]`
</code></pre>
<p>A better display for that long <code>Literal</code> type would probably be something like</p>
<pre><code>Literal[&quot;yearquarter&quot;, &quot;yearquartermonth&quot;, &quot;yearmonth&quot;, &quot;yearmonthdate&quot;, &quot;yearmonthdatehours&quot;, ...omitted 103 elements]
</code></pre>
<p>@InvalidPathException, would you be interested in working on this, by any chance? Your last PR in this area was great :-)</p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @AlexWaygood on 2025-10-16 14:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by @AlexWaygood on 2025-10-16 14:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InvalidPathException">@InvalidPathException</a> on 2025-10-16 14:12</div>
            <div class="timeline-body"><p>I am interested and will have a look tomorrow, thanks for letting me know!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-16 14:12</div>
            <div class="timeline-body"><p>Awesome, thank you!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @InvalidPathException by @AlexWaygood on 2025-10-16 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-10-17 11:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:40:49 UTC
    </footer>
</body>
</html>
