<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lint for missing-module-source - astral-sh/ty #1577</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>lint for missing-module-source</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1577">#1577</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-11-17 13:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-17 13:21</div>
            <div class="timeline-body"><p>At least Pyrefly and Pyright both support linting for modules where the typing stubs can be found, but the runtime modules are missing:</p>
<blockquote>
<p>reportMissingModuleSource [boolean or string, optional]: Generate or suppress diagnostics for imports that have no corresponding source file. This happens when a type stub is found, but the module source file was not found, indicating that the code may fail at runtime when using this execution environment. Type checking will be done using the type stub. The default value for this setting is &quot;warning&quot;.
https://microsoft.github.io/pyright/#/configuration?id=type-check-diagnostics-settings</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">lint</span> added by @MichaReiser on 2025-11-17 13:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-11-17 17:07</div>
            <div class="timeline-body"><p>I agree that this is a useful lint that we should implement.</p>
<p>Ideally we would suppress the lint in stub files <code>if TYPE_CHECKING</code> blocks (the latter would require https://github.com/astral-sh/ty/issues/1553).</p>
<p>We should also consider whether we want it enabled by default or not. It's quite common (especially in CI) to type-check a project with only stubs installed, without runtime sources available -- the reason is that stubs are almost always pure-Python packages, which can be much faster and easier to install than packages with large C extensions. This lint might make sense as a disabled-by-default error code for users to explicitly opt into.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:11:42 UTC
    </footer>
</body>
</html>
