<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow to disable a specific rule for a whole file - astral-sh/ty #1891</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow to disable a specific rule for a whole file</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1891">#1891</a>
        opened by <a href="https://github.com/lypwig">@lypwig</a>
        on 2025-12-15 15:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lypwig">@lypwig</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>To disable a rule on a line, I could do:</p>
<pre><code class="language-py">foo() # ty: ignore[call-non-callable]
</code></pre>
<p>I can also disable type checking on the whole file by adding on the beginning of the file:</p>
<pre><code class="language-py"># type: ignore
</code></pre>
<p>It could be very practical allow a mix of both behaviors: disabling a specific rule for a whole file, by adding on the beginning of the file:</p>
<pre><code class="language-py"># ty: ignore[call-non-callable]
</code></pre>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-15 16:00</div>
            <div class="timeline-body"><p>I'd support adding this feature. Pyright has it, and I find it useful: https://microsoft.github.io/pyright/#/comments?id=file-level-type-controls</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @AlexWaygood on 2025-12-15 16:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">suppression</span> added by @AlexWaygood on 2025-12-15 16:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-15 16:55</div>
            <div class="timeline-body"><p>We probably want to align with Ruff that supports both block and <a href="https://docs.astral.sh/ruff/linter/#file-level">file-level</a> suppressions</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Stable" by @MichaReiser on 2025-12-15 16:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lypwig">@lypwig</a> on 2025-12-16 08:52</div>
            <div class="timeline-body"><p>Just in case, I also want to add that using the syntax <code># type: ignore[call-non-callable]</code> (or anything starting with <code># type: ignore</code>) at the beginning will disable Pyright, which is not a desirable behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nathanscain">@nathanscain</a> on 2025-12-30 02:21</div>
            <div class="timeline-body"><blockquote>
<p>We probably want to align with Ruff that supports both block and <a href="https://docs.astral.sh/ruff/linter/#file-level">file-level</a> suppressions</p>
</blockquote>
<p>chiming in to support block level suppressions particularly for single class constructions or function calls.</p>
<p>I prefer</p>
<pre><code># ty: ignore[missing-typed-dict-key]
return MyTypedDict(
    **another_typed_dict_instance,
    ...
)
</code></pre>
<p>over</p>
<pre><code class="language-python">return MyTypedDict(  # ty: ignore[missing-typed-dict-key]
    **another_typed_dict_instance,
    ...
)
</code></pre>
<p>also, I like</p>
<pre><code class="language-python"># ty: ignore[some-arg-rule]
function_name(
    a,
    b,
    c,
    ...
)
</code></pre>
<p>over</p>
<pre><code class="language-python">function_name(
    a,  # ty: ignore[some-arg-rule]
    b,  # ty: ignore[some-arg-rule]
    c,  # ty: ignore[some-arg-rule]
    ...
)
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:18 UTC
    </footer>
</body>
</html>
