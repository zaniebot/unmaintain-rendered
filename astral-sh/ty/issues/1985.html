<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wrong function argument inlay hint for overloaded function - astral-sh/ty #1985</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Wrong function argument inlay hint for overloaded function</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ty/issues/1985">#1985</a>
        opened by <a href="https://github.com/benruijl">@benruijl</a>
        on 2025-12-17 08:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/benruijl">@benruijl</a></div>
            <div class="timeline-body">Summary
<p>This small script gives a wrong type hint for the argument <code>x</code> and <code>y</code> which should be part of <code>*names</code> but are interpreted as the value for <code>name</code> and the <code>is_symmetric</code> argument of another overloaded variant:</p>
<pre><code>from typing import overload, Optional, Sequence

@overload
def S(name: str, is_symmetric: Optional[bool] = None) -&gt; str:
    pass

@overload
def S(*names: str, is_symmetric: Optional[bool] = None) -&gt; Sequence[str]:
    pass

def S():
    pass

b = S(&#x27;x&#x27;, &#x27;y&#x27;) # argument hints for the wrong overloaded variant, return type is correct
</code></pre>
<p><img alt="Wrong type hint" src="https://github.com/user-attachments/assets/c45523c8-e389-484d-8bb3-41a15d72fc90"></p>
<p>Here is the playground link:</p>
<p>https://play.ty.dev/0a5f6d13-1e2d-4fca-adef-80af38cf120f</p>
Version
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-17 08:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-17 08:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-12-17 08:42</div>
            <div class="timeline-body"><p>Thank you for reporting this!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Wrong function argument hint for overloaded function&quot; to &quot;Wrong function argument inlay hint for overloaded function&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-17 08:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Pre-stable 1&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-31 15:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:26:29 UTC
    </footer>
</body>
</html>
