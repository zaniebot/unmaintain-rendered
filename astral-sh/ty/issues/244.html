<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>complete expression type inference - astral-sh/ty #244</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>complete expression type inference</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ty/issues/244">#244</a>
        opened by <a href="https://github.com/carljm">@carljm</a>
        on 2024-08-05 22:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a></div>
            <div class="timeline-body"><ul>
<li>[x] number literal expression</li>
<li>[x] string literal expression</li>
<li>[x] bytes literal expression</li>
<li>[x] f-string expression</li>
<li>[x] ellipsis literal expression</li>
<li>[x] call expression</li>
<li>[x] unary expression</li>
<li>[x] binary expression</li>
<li>[x] boolean expression</li>
<li>[x] astral-sh/ruff#13618</li>
<li>[x] astral-sh/ruff#13689</li>
<li>[x] astral-sh/ruff#13853</li>
<li>[x] lambda expression</li>
<li>[ ] generator expression (blocked on generics)</li>
<li>[ ] list comprehension (blocked on generics)</li>
<li>[ ] dict comprehension (blocked on generics)</li>
<li>[ ] set comprehension (blocked on generics)</li>
<li>[ ] starred expression (should be done as part of args/kwargs support)</li>
<li>[ ] yield expression (part of async)</li>
<li>[ ] yield-from expression (part of async)</li>
<li>[ ] await expression (part of async)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @carljm on 2024-09-08 03:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mdbernard">@mdbernard</a> on 2024-09-16 07:08</div>
            <div class="timeline-body"><p>Could you please clarify why some of these are currently blocked, and what actions would be needed to unblock them?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-09-16 12:52</div>
            <div class="timeline-body"><blockquote>
<p>Could you please clarify why some of these are currently blocked, and what actions would be needed to unblock them?</p>
</blockquote>
<p>Hi! Thanks for the nudge. Some of these are actually no longer blocked, because we already did the blocking thing! I've updated the list accordingly.</p>
<p>Some items are blocked by settling on a representation for generic types and handling of type variables in inference. I'm hoping to get to this in the next few weeks.</p>
<p>Some others aren't really blocked but are part of a larger project (for example, adding support for async Python and awaitables.)</p>
<p>If there are any particular items you're interested in working on, let me know and I'm happy to discuss in more detail.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/TomerBin">@TomerBin</a> on 2024-09-25 05:34</div>
            <div class="timeline-body"><p>Boolean expression can now be checked off ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cake-monotone">@cake-monotone</a> on 2024-10-06 06:20</div>
            <div class="timeline-body"><p>Would it be okay if I worked on the lambda expression? It doesn't seem to have any major blocking issues, and I think it would be a good starting point for my first contribution to red-knot. Please let me know if you have any other suggestions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-07 16:22</div>
            <div class="timeline-body"><blockquote>
<p>Would it be okay if I worked on the lambda expression? It doesn't seem to have any major blocking issues, and I think it would be a good starting point for my first contribution to red-knot. Please let me know if you have any other suggestions.</p>
</blockquote>
<p>Thanks for your interest in contributing! Lambda expression inference would require adding a general <code>Callable</code> type, which we don't have yet, and is quite complex to implement; probably not a great first contribution. I think probably a good starter task would be fleshing out some missing support in unary/binary/compare expressions; see also https://github.com/astral-sh/ruff/issues/13618</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cake-monotone">@cake-monotone</a> on 2024-10-09 08:37</div>
            <div class="timeline-body"><blockquote>
<p>Thanks for your interest in contributing! Lambda expression inference would require adding a general <code>Callable</code> type, which we don't have yet, and is quite complex to implement; probably not a great first contribution. I think probably a good starter task would be fleshing out some missing support in unary/binary/compare expressions; see also astral-sh/ruff#13618</p>
</blockquote>
<p>Thank you for the helpful explanation! I’ll follow your suggestion and try working on the comparison task first :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/michelkluger">@michelkluger</a> on 2025-01-14 22:48</div>
            <div class="timeline-body"><blockquote>
<ul>
<li>[x]  number literal expression[x]  string literal expression[x]  bytes literal expression[x]  f-string expression[x]  ellipsis literal expression[x]  call expression[x]  unary expression[x]  binary expression[x]  boolean expression[x]  <a href="https://github.com/astral-sh/ruff/issues/13618">[red-knot] Compare expressions #13618</a>[x]  <a href="https://github.com/astral-sh/ruff/issues/13689">[red-knot] Infer subscript expression types #13689</a>[x]  <a href="https://github.com/astral-sh/ruff/issues/13853">[red-knot] Infer slice expression types #13853</a>[ ]  generator expression (blocked on generics)[ ]  list comprehension (blocked on generics)[ ]  dict comprehension (blocked on generics)[ ]  set comprehension (blocked on generics)[ ]  lambda expression (blocked on Callable type)[ ]  starred expression (should be done as part of args/kwargs support)[ ]  yield expression (part of async)[ ]  yield-from expression (part of async)[ ]  await expression (part of async)</li>
</ul>
</blockquote>
<p>is this list up to date? how is the progress of red knot?</p>
<p>thanks in advance</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-01-14 23:03</div>
            <div class="timeline-body"><p>List is accurate. Progress is we are working on it and there's still a lot to do :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> removed by @carljm on 2025-03-15 16:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[red-knot] complete expression type inference" to "complete expression type inference" by @MichaReiser on 2025-05-07 15:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">runtime semantics</span> added by @AlexWaygood on 2025-05-11 07:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">generics</span> added by @AlexWaygood on 2025-05-11 07:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-05-30 00:36</div>
            <div class="timeline-body"><p>Everything remaining here is now covered by more specific issues: #543, #151, #191, #247. Closing this in favor of those issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-05-30 00:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:19:45 UTC
    </footer>
</body>
</html>
