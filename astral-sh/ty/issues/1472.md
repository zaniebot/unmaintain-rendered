```yaml
number: 1472
title: "Duplicated `TypedDict` assignability diagnostics"
type: issue
state: open
author: ibraheemdev
labels:
  - diagnostics
  - bidirectional inference
  - typeddict
assignees: []
created_at: 2025-11-03T21:56:44Z
updated_at: 2026-01-09T03:18:56Z
url: https://github.com/astral-sh/ty/issues/1472
synced_at: 2026-01-10T01:56:40Z
```

# Duplicated `TypedDict` assignability diagnostics

---

_Issue opened by @ibraheemdev on 2025-11-03 21:56_

See https://github.com/astral-sh/ruff/pull/21238#issuecomment-3481227585. In cases where we may perform multi-inference, or don't have access to the RHS expression, we emit a diagnostic for `TypedDict` assignability as well as the existing `invalid-key` diagnostic.
```py
class Person(TypedDict):
    name: str

# error: [invalid-argument-type]
# error: [invalid-argument-type] "Invalid argument to key "name" with declared type `str` on TypedDict `Person`: value of type `None`"
accepts_person({"name": None})
```

Ideally we could avoid the former.

---

_Label `diagnostics` added by @ibraheemdev on 2025-11-03 21:56_

---

_Label `bidirectional inference` added by @ibraheemdev on 2025-11-03 21:56_

---

_Label `typeddict` added by @carljm on 2025-11-06 13:57_

---

_Added to milestone `Stable` by @carljm on 2026-01-09 03:18_

---
