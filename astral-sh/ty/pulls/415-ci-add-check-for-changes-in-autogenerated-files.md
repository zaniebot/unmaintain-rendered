```yaml
number: 415
title: "[CI] Add check for changes in autogenerated files"
type: pull_request
state: merged
author: maxmynter
labels:
  - ci
assignees: []
merged: true
base: main
head: ci-check-autogen
created_at: 2025-05-16T00:49:07Z
updated_at: 2025-05-16T06:05:04Z
url: https://github.com/astral-sh/ty/pull/415
synced_at: 2026-01-12T15:54:27Z
```

# [CI] Add check for changes in autogenerated files

---

_@maxmynter_

<!--
Thank you for contributing to ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->
Closes: #387 
## Summary
Adds a check for changes in autogenerated files to the CI. 
This PR is taking a similar approach to [ruff](https://github.com/astral-sh/ruff/blob/cf70c7863c2c011367d5fd673332f7fa56ef81ec/.github/workflows/ci.yaml#L499-L503); executing the generation and checking for diffs. 

To have a single place where generation happens, I factored out the generation from `scripts/release.sh` to `scripts/autogenerate_files.sh` and call it in the former.

The scripts ran for me locally, but best have a close look here since I'm not too familiar with the release process. 

<!-- What's the purpose of the change? What does it do, and why? -->

## Test Plan
Local testing by exectuing the `release.sh` script and using [act](https://github.com/nektos/act). 

<!-- How was it tested? -->


---

_Label `ci` added by @MichaReiser on 2025-05-16 06:03_

---

_@MichaReiser approved on 2025-05-16 06:04_

Thank you

---

_Merged by @MichaReiser on 2025-05-16 06:05_

---

_Closed by @MichaReiser on 2025-05-16 06:05_

---
