<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit the module and editor sections of the docs - astral-sh/ty #335</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Edit the module and editor sections of the docs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ty/pull/335">#335</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-05-12 21:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p><em>No description provided.</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2025-05-12 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:59 on 2025-05-12 21:23</div>
            <div class="timeline-body"><pre><code class="language-suggestion">[`src.root`](./reference/configuration.md#root) in your `pyproject.toml` or `ty.toml`. For example, if your
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:60 on 2025-05-12 21:23</div>
            <div class="timeline-body"><pre><code class="language-suggestion">project's code is in an `app/` directory:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:26</div>
            <div class="timeline-body"><pre><code class="language-suggestion">These are usually declared as project dependencies in a `pyproject.toml` file or similar,
and are installed using a package manager like uv or pip. Examples of popular third-party
libraries are `requests`, `numpy` and `django`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:97 on 2025-05-12 21:30</div>
            <div class="timeline-body"><p>I find the order in which the information is presented here a little confusing because you mention <code>--python</code> after <code>VIRTUAL_ENV</code> and <code>.venv</code>, but the first thing ty checks is whether it was set explicitly using <code>--python</code> or the <code>environment.python</code> config option. I think it would be easier to follow if we listed the fallbacks in the order ty considers them: first detail the explicit ways of configuring this, then detail the fallbacks it uses.</p>
<p>I think it's also important to state that the <code>VIRTUAL_ENV</code> variable will be implicitly set:</p>
<ul>
<li>if you're using <code>uv run</code> or an equivalent from pdm/poetry/hatch/etc.</li>
<li>if you explicitly activate the virtual environment in your shell</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:104 on 2025-05-12 21:30</div>
            <div class="timeline-body"><pre><code class="language-suggestion">For example, Python 3.10 introduced support for `match` statements and added the
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:106 on 2025-05-12 21:31</div>
            <div class="timeline-body"><pre><code class="language-suggestion">`sys.stdlib_module_names` symbol to the standard library. However, if your project also supports
Python 3.9, you cannot use these new features unless they are inside an `if sys.version_info &gt;= (3, 10)` branch:

```python
import sys

if sys.version_info &gt;= (3, 10):
    print(sys.stdlib_module_names)  # okay whatever your python-version is set to, because of the `sys.version_info` condition
else:
    print(sys.stdlib_module_names)  # ty will emit an error here if the configured `python-version` is &lt;3.10
```
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:138 on 2025-05-12 21:35</div>
            <div class="timeline-body"><p>it's a bit weird to me that we mention these last, since they're the things that ty checks for first</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:133 on 2025-05-12 21:36</div>
            <div class="timeline-body"><pre><code class="language-suggestion">We plan on adding dedicated options for including and excluding files in future releases.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-05-12 21:36</div>
            <div class="timeline-body"><p>this is excellent, thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 21:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 21:44</div>
            <div class="timeline-body"><p>I think the existing structure of covering the default behavior (which is what most people will use) makes sense before discussing the fact that you can override that behavior? I am generally hesitant to cover the explicit options first here.</p>
<blockquote>
<p>I think it's also important to state that the VIRTUAL_ENV variable will be implicitly set:</p>
</blockquote>
<p>This makes sense to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 21:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:46</div>
            <div class="timeline-body"><p>I'm hesitant to go into more detail here, it seems like a bit of a distraction and &quot;or similar&quot; is pretty load bearing. What's they key point we're trying to establish here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:48</div>
            <div class="timeline-body"><p>I wasn't really sure what &quot;these are usually dependencies of your project&quot; really meant in your current text. It feels almost tautological -- third-party modules are dependencies, yes, but what's the definition of a dependency? It's a third-party module.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 21:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 21:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:51</div>
            <div class="timeline-body"><p>Haha see, I think the point is to provide that sort of tautological &quot;third-party modules is just a fancy word for dependencies&quot; statement since we're explaining to a beginner what we mean by this concept. I expect people to know what a &quot;dependency&quot; is. I can play with this language though...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:54</div>
            <div class="timeline-body"><blockquote>
<p>I expect people to know what a &quot;dependency&quot; is</p>
</blockquote>
<p>Ah, I do not!! I've seen lots of Python noobs who've been forced to type checkers by the company they're working for, and who know very little at all about Python packaging üòÑ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 21:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 21:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:58</div>
            <div class="timeline-body"><pre><code class="language-suggestion">These are usually declared as dependencies in a `pyproject.toml` or `requirements.txt` file
and installed using a package manager like uv or pip. Examples of popular third-party
modules are `requests`, `numpy` and `django`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 21:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:97 on 2025-05-12 21:58</div>
            <div class="timeline-body"><p>What about something like this:</p>
<pre><code class="language-md">The Python environment ty should use can be explicitly specified, but ty can also automatically
infer your project's environment in many cases.

ty only supports _automatic_ discovery of virtual environments at this time.

When discovering virtual environments, ty first checks for an active environment using the `VIRTUAL_ENV`
environment variable. If not set, ty will search for a `.venv` folder in the project root or
working directory.

The Python environment may be explicitly specified using the
[`environment.python`](./reference/configuration.md#python) setting or
[`--python`](./reference/cli.md#ty-check--python) flag. When setting
the environment explicitly, non-virtual environments can be provided.
</code></pre>
<p>So, we still detail the automatic discovery before the explicit config options, but we make it slightly clearer upfront that explicit config is supported and non-virtual environments are supported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 21:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:59</div>
            <div class="timeline-body"><p>That's sort of not the target audience for <em>this</em> documentation, but anyway I'm fine with changing it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 21:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:82 on 2025-05-12 21:59</div>
            <div class="timeline-body"><p>that LGTM!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:00</div>
            <div class="timeline-body"><p>I don't love it :D</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:06</div>
            <div class="timeline-body"><p>I'm trying to rephrase it for you, but this pattern is used in each section haha</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:07</div>
            <div class="timeline-body"><p>I think if we wanted them to be used by most users, I'd list them first, but the idea is that you don't need the setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:09</div>
            <div class="timeline-body"><p>In the same way that we don't lead with &quot;here's how to use <code>src.root</code>&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:10</div>
            <div class="timeline-body"><p>yeah I get that... maybe something like this...?</p>
<pre><code class="language-md">In many cases, ty can also automatically infer your project's environment.
ty only supports _automatic_ discovery of virtual environments at this time.

When discovering virtual environments, ty first checks for an active environment using the `VIRTUAL_ENV`
environment variable. If not set, ty will search for a `.venv` folder in the project root or
working directory.

The Python environment can also be explicitly specified using the
[`environment.python`](./reference/configuration.md#python) setting or
[`--python`](./reference/cli.md#ty-check--python) flag. If either of these
are set, they will take precedence over ty's automatic environment discovery.

When setting the environment explicitly, non-virtual environments can be provided.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 22:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:12</div>
            <div class="timeline-body"><p>I pushed a tweak, maybe it's a bit better?</p>
<p>I'm trying to use the same language as the rest of the sections, e.g., &quot;By default, ...&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 22:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:16</div>
            <div class="timeline-body"><p>Yeah, the new language looks great, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:17</div>
            <div class="timeline-body"><p>think it would still be great to mention that this is set by uv/poetry/hatch/pdm if they're running <code>uv run</code> or similar, and that it's set if you activate the environment explicitly in the shell</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:104 on 2025-05-12 22:18</div>
            <div class="timeline-body"><pre><code class="language-suggestion">The Python environment may be explicitly configured using the
[`environment.python`](./reference/configuration.md#python) setting or
[`--python`](./reference/cli.md#ty-check--python) flag. This takes
precedence over the virtual environment discovery detailed above.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-05-12 22:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:97 on 2025-05-12 22:19</div>
            <div class="timeline-body"><p>Thanks for your lenience :) haha</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:19</div>
            <div class="timeline-body"><p>Yeah working on that üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:104 on 2025-05-12 22:20</div>
            <div class="timeline-body"><p>I don't want to add that :p explicit configuration <em>always</em> takes place over defaults. That's the case for all of our options.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 22:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:104 on 2025-05-12 22:21</div>
            <div class="timeline-body"><p>eh, fair enough</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:22</div>
            <div class="timeline-body"><p>I do think this is a little awkward to add though. As before, it's a different target audience than the alpha documentation is for.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:23</div>
            <div class="timeline-body"><p>i.e., https://github.com/astral-sh/ty/pull/335/commits/c97679219ab16ef725e3a0034f58e8b3a2996b71</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:23</div>
            <div class="timeline-body"><p>I think it sort of interrupts the flow more than it helps, but I don't feel strongly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 22:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:30</div>
            <div class="timeline-body"><p>I feel pretty strongly that this is important information -- it's part of the theme we're trying to describe here, which is &quot;for most cases, you should (hopefully) not have to provide any configuration at all&quot;. If everybody starts setting <code>VIRTUAL_ENV</code> environment variables because they don't realise that uv is already going to set it for them (or, if they're using pip, because they don't realise it's already set when they activate the environment), that feels like a bad outcome? üòÉ</p>
<p>The note you added looks great; I'm happy with the text now!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-12 22:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:37</div>
            <div class="timeline-body"><p>I agree it's important, but I think this is the wrong place for it. Those users need &quot;guide&quot;-style documentation that is explicitly targeting beginners (like we have in uv). This documentation <em>isn't</em> for beginners. It's for people trying an experimental type checker. Catering to two audiences like that is just asking for confusing documentation. Anyway ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-05-12 22:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-05-12 22:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-12 22:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-12 22:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>docs/README.md</code>:95 on 2025-05-12 22:40</div>
            <div class="timeline-body"><p>that's all fair!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:52 UTC
    </footer>
</body>
</html>
