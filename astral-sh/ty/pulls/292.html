<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reference documentation - astral-sh/ty #292</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Reference documentation</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ty/pull/292">#292</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-05-09 12:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-09 12:25</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Extend the release script to copy the reference documentation to the <code>docs</code> folder because GitHub doesn't support relative links into submodules (and I think it's confusing if we redirect users to the ruff repository)</p>
<p>Closes https://github.com/astral-sh/ty/issues/304</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Update Ruff commit" to "Reference documentation" by @MichaReiser on 2025-05-09 12:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-05-09 12:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>scripts/release.sh</code>:56 on 2025-05-09 12:33</div>
            <div class="timeline-body"><p>@zanieb requesting review for this crime ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @MichaReiser on 2025-05-09 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @MichaReiser on 2025-05-09 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-10 00:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>scripts/release.sh</code>:56 on 2025-05-10 00:00</div>
            <div class="timeline-body"><p>Ah gee, that's weird. I'll give that some thought ‚Äî duplicating it seems rather unfortunate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-10 00:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>scripts/release.sh</code>:56 on 2025-05-10 00:01</div>
            <div class="timeline-body"><p>This is the generated reference documentation? Why aren't we just generating it here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>scripts/release.sh</code>:56 on 2025-05-10 00:02</div>
            <div class="timeline-body"><p>I think it seems reasonable to just move that generation step from the ruff repository to here and require it on submodule update.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-10 00:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-05-10 06:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>scripts/release.sh</code>:56 on 2025-05-10 06:59</div>
            <div class="timeline-body"><p>I like it in the ruff repo because it visualizes the impact of changes.</p>
<p>I also don't think it's that different. It's either copying files (which is super fast) or generating them (which is very slow and requires the script to write outside its root)</p>
<p>So I actually prefer this. Seems simpler overall and doesn't require more time</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-05-10 10:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>scripts/release.sh</code>:56 on 2025-05-10 10:20</div>
            <div class="timeline-body"><p>I'll go and merge this. I understand the concern around duplicating the file in both repositories but I think it's a very minor concern (and comes with trade-offs) and the solution to this is to generate and host our docs outside of github.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2025-05-10 10:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-05-10 10:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-10 10:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-10 12:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>scripts/release.sh</code>:56 on 2025-05-10 12:32</div>
            <div class="timeline-body"><p>For me, it's not about the duplication across repositories ‚Äî it's about the duplication within this repository where, now, the submodule contents could accidentally drift from the documentation. I think it's minor, but it feels like the sloppy approach. Anyway, easy to fix if it causes tangible problems so ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-05-12 06:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>scripts/release.sh</code>:56 on 2025-05-12 06:43</div>
            <div class="timeline-body"><p>I see, although it's not clear to me how generating the docs in the ty repository would avoid the &quot;risk of divergence&quot;. The docs would diverge when updating the ruff module without regenerating the docs.</p>
<p>However, we could see the divergence as a feature. It gives us versioned documentation that only gets updated with every release ;)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 02:36:02 UTC
    </footer>
</body>
</html>
