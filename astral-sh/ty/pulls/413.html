<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add daily property tests - astral-sh/ty #413</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add daily property tests</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ty/pull/413">#413</a>
        opened by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a>
        on 2025-05-15 20:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Resolves #410</p>
<h2>Test Plan</h2>
<p>Tested the commands locally</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>.github/workflows/daily_property_tests.yml</code>:35 on 2025-05-15 20:50</div>
            <div class="timeline-body"><p>Can we just checkout the Ruff repo instead of this repo? That way the CI job will use the <code>main</code> branch of the Ruff repo for testing, rather than the submodule bundled in this repo (which might not be up to date with the main branch of the Ruff repo)</p>
<p>I think this is the config you need to do that:</p>
<pre><code class="language-suggestion">      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2
        with:
          persist-credentials: false
          repository: astral-sh/ruff
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-15 20:51</div>
            <div class="timeline-body"><p>Thank you!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-05-15 20:51</div>
            <div class="timeline-body"><p>We'll also need to make a PR over at Ruff to remove the property-test workflow from that repo, after this is merged -- are you up to do that as well?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-05-15 20:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>.github/workflows/daily_property_tests.yml</code>:35 on 2025-05-15 20:53</div>
            <div class="timeline-body"><p>Yeah this makes sense, my thinking was that it only mattered about what commit hash of ruff was currently used for ty, but this makes more sense</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-15 20:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>.github/workflows/daily_property_tests.yml</code>:49 on 2025-05-15 20:56</div>
            <div class="timeline-body"><p>now that we're checking out Ruff rather than ty:</p>
<pre><code class="language-suggestion">      - name: Build ty
        # A release build takes longer (2 min vs 1 min), but the property tests run much faster in release
        # mode (1.5 min vs 14 min), so the overall time is shorter with a release build.
        run: cargo build --locked --release --package ty_python_semantic --tests
      - name: Run property tests
        shell: bash
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-05-15 20:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>.github/workflows/daily_property_tests.yml</code>:49 on 2025-05-15 20:57</div>
            <div class="timeline-body"><p>sure, thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>.github/workflows/daily_property_tests.yml</code>:9 on 2025-05-15 21:02</div>
            <div class="timeline-body"><pre><code class="language-suggestion">      - &quot;.github/workflows/daily_property_tests.yml&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-15 21:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-05-15 21:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>.github/workflows/daily_property_tests.yml</code>:9 on 2025-05-15 21:02</div>
            <div class="timeline-body"><p>it took me a while to figure out that this was why the new workflow wasn't running on this PR ðŸ˜†</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danielhollas">@danielhollas</a> on 2025-05-15 23:03</div>
            <div class="timeline-body"><p>~~Sorry for a drive-by comment but isn't it problematic that the tests will run on an &quot;old&quot; ty version, ie. not from the tip of the ruff main branch?~~</p>
<p>EDIT: Sorry, I am blind, don't mind me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-05-16 00:54</div>
            <div class="timeline-body"><p>Thank you!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @AlexWaygood on 2025-05-16 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-05-16 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-16 07:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:21:53 UTC
    </footer>
</body>
</html>
