<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document file exclusion - astral-sh/ty #647</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Document file exclusion</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ty/pull/647">#647</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-06-13 13:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body">Summary
<p>Document the new <code>src.include</code> and <code>src.exclude</code> fields (not yet released)</p>
<p>Note: The <code>include</code> field is currently missing in the generated docs. It will exist once my overrides PR is merged (it&#x27;s when I noticed that it&#x27;s missing). This is hopefully before the next release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-13 13:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-13 13:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>docs/README.md</code>:199 on 2025-06-14 07:28</div>
            <div class="timeline-body"><p>Maybe</p>
<pre><code>Paths that are passed as positional arguments to `ty check` are included even if they would otherwise be ignored through `exclude` filters or an ignore-file.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>docs/README.md</code>:205 on 2025-06-14 07:30</div>
            <div class="timeline-body"><p>Should this maybe describe whether or not the directory contents would be affected?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>docs/README.md</code>:207 on 2025-06-14 07:30</div>
            <div class="timeline-body"><p>This seems like a duplication?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>docs/README.md</code>:216 on 2025-06-14 07:32</div>
            <div class="timeline-body"><p>Maybe</p>
<pre><code>Include patterns are anchored: The pattern `src` only includes `&lt;project_root&gt;/src` but not something like `&lt;project_root&gt;/test/src`. To include any directory named `src`, use the `**/src` prefix match. However, note that these can notably slow down the Python file discovery.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>docs/README.md</code>:218 on 2025-06-14 07:35</div>
            <div class="timeline-body"><blockquote>
<p>unless they contain a <code>/</code></p>
</blockquote>
<p>This is interesting. I think I would expect something like <code>src/generated</code> to apply at arbitrary depths, and only something like <code>/src/generated</code> with a leading <code>/</code> to be anchored. Maybe it&#x27;s worth clarifying?</p>
<p>I think the examples here might not be needed?</p>
<pre><code>Exclude patterns are *not* anchored, unless they contain a `/`: `venv` excludes all directories named `venv`, at arbitrary depths.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> approved on 2025-06-14 07:37</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-06-17 06:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>docs/README.md</code>:210 on 2025-06-17 06:14</div>
            <div class="timeline-body"><p>I&#x27;m very confused by this examples (<code>**a</code>, <code>b**</code>), is there some kind of context that&#x27;s required here? Would it be useful to include a directory tree as an example where this example is relevant?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-06-17 06:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>docs/README.md</code>:218 on 2025-06-17 06:15</div>
            <div class="timeline-body"><p>This is going to change with <a href="https://github.com/astral-sh/ruff/pull/18685">astral-sh/ruff#18685</a>, right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-06-17 06:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/README.md</code>:218 on 2025-06-17 06:21</div>
            <div class="timeline-body"><p>Yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-06-18 09:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/README.md</code>:210 on 2025-06-18 09:04</div>
            <div class="timeline-body"><p>I don&#x27;t think a directory tree would help here. These patterns are not valid syntax. <code>**</code> can only be used like <code>/**/a</code> but not inside a path component</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-18 09:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-18 09:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-06-18 09:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:27:23 UTC
    </footer>
</body>
</html>
