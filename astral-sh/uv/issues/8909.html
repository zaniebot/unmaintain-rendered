<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature req: some way to estimate dependency size - astral-sh/uv #8909</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature req: some way to estimate dependency size</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/8909">#8909</a>
        opened by <a href="https://github.com/dimaqq">@dimaqq</a>
        on 2024-11-08 00:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dimaqq">@dimaqq</a></div>
            <div class="timeline-body"><p>uv 0.4.30 (Homebrew 2024-11-05)</p>
<pre><code>ğŸ¦/c/test-otel (main)&gt; uv tree
Resolved 22 packages in 14ms
test-otel v0.1.0
â””â”€â”€ opentelemetry-exporter-otlp v1.28.0
    â”œâ”€â”€ opentelemetry-exporter-otlp-proto-grpc v1.28.0
    â”‚   â”œâ”€â”€ deprecated v1.2.14
    â”‚   â”‚   â””â”€â”€ wrapt v1.16.0
    â”‚   â”œâ”€â”€ googleapis-common-protos v1.65.0
    â”‚   â”‚   â””â”€â”€ protobuf v5.28.3
    â”‚   â”œâ”€â”€ grpcio v1.67.1
    â”‚   â”œâ”€â”€ opentelemetry-api v1.28.0
    â”‚   â”‚   â”œâ”€â”€ deprecated v1.2.14 (*)
    â”‚   â”‚   â””â”€â”€ importlib-metadata v8.5.0
    â”‚   â”‚       â””â”€â”€ zipp v3.20.2
    â”‚   â”œâ”€â”€ opentelemetry-exporter-otlp-proto-common v1.28.0
    â”‚   â”‚   â””â”€â”€ opentelemetry-proto v1.28.0
    â”‚   â”‚       â””â”€â”€ protobuf v5.28.3
    â”‚   â”œâ”€â”€ opentelemetry-proto v1.28.0 (*)
    â”‚   â””â”€â”€ opentelemetry-sdk v1.28.0
    â”‚       â”œâ”€â”€ opentelemetry-api v1.28.0 (*)
    â”‚       â”œâ”€â”€ opentelemetry-semantic-conventions v0.49b0
    â”‚       â”‚   â”œâ”€â”€ deprecated v1.2.14 (*)
    â”‚       â”‚   â””â”€â”€ opentelemetry-api v1.28.0 (*)
    â”‚       â””â”€â”€ typing-extensions v4.12.2
    â””â”€â”€ opentelemetry-exporter-otlp-proto-http v1.28.0
        â”œâ”€â”€ deprecated v1.2.14 (*)
        â”œâ”€â”€ googleapis-common-protos v1.65.0 (*)
        â”œâ”€â”€ opentelemetry-api v1.28.0 (*)
        â”œâ”€â”€ opentelemetry-exporter-otlp-proto-common v1.28.0 (*)
        â”œâ”€â”€ opentelemetry-proto v1.28.0 (*)
        â”œâ”€â”€ opentelemetry-sdk v1.28.0 (*)
        â””â”€â”€ requests v2.32.3
            â”œâ”€â”€ certifi v2024.8.30
            â”œâ”€â”€ charset-normalizer v3.4.0
            â”œâ”€â”€ idna v3.10
            â””â”€â”€ urllib3 v2.2.3
(*) Package tree already displayed
</code></pre>
<p>Now, when I was adding the packages, I did see that <code>grpcio</code> was a whopping 10MB.</p>
<p>While it&#x27;s relatively easy to check the total venv size on disk, it would be amazing to be able to highlight the contribution of each individual package or a subtree of packages or something.</p>
<p>I can poke inside <code>uv.lock</code>, but there are many wheels listed for each package, it&#x27;s unclear which would be used.</p>
<p>I guess a complete feature could hypothetically look like &quot;simulate installation on py3.13/linux/arm64 and print each package wheel size and size on disk&quot;...</p>
<p>But frankly, something simpler would be more than enough.</p>
<p>For example <code>uv pip freeze --sizes</code> or <code>--wheel-sizes1</code> to report my current venv usage by pacakge.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-09 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cache</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-09 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-09 02:19</div>
            <div class="timeline-body"><p>We could pretty easily include the wheel size here? Including the <em>unzipped</em> size on disk or in the installed environment would be harder but I doubt the difference between these various things really matters. Would that be useful?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dimaqq">@dimaqq</a> on 2024-11-09 11:16</div>
            <div class="timeline-body"><p>A mere hint at dep size would be miles better than nothing :)</p>
<p>Wheel size is quite reasonable, I think.</p>
<p>I was thinking that given how uv hardlinks or copies stuff it would be aware of sizes of those things, but maybe that assumption was wrong.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:35:19 UTC
    </footer>
</body>
</html>
