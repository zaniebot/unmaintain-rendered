```yaml
number: 2661
title: "`uv pip install` should create a virtualenv if no `venv` is found"
type: issue
state: closed
author: charliermarsh
labels:
  - cli
assignees: []
created_at: 2024-03-25T23:35:20Z
updated_at: 2024-05-22T13:22:28Z
url: https://github.com/astral-sh/uv/issues/2661
synced_at: 2026-01-10T01:57:06Z
```

# `uv pip install` should create a virtualenv if no `venv` is found

---

_Issue opened by @charliermarsh on 2024-03-25 23:35_

This seems like a better (and more beginner-friendly) default behavior than erroring.

---

_Label `cli` added by @charliermarsh on 2024-03-25 23:35_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-03-26 02:13_

---

_Referenced in [astral-sh/uv#2665](../../astral-sh/uv/pulls/2665.md) on 2024-03-26 02:58_

---

_Comment by @notatallshaw on 2024-03-26 15:37_

As a non beginner I would strongly prefer it to error out, as a non beginner I would be happy to set something in the config or an environment variable.

Also please don't do this inside an activated conda environment.

Also consider the behavior for "--dry-run", it should not create a new venv.

---

_Comment by @adzenith on 2024-03-27 02:26_

Alternatively, it could print out a helpful message. I think of when you try to `git commit` for the first time. Here I unset user.name to trigger it:
<img width="428" alt="image" src="https://github.com/astral-sh/uv/assets/614934/663ca1d6-f52a-4e14-9748-3b7a934028fa">
Then beginners can create a venv without having to hit Google and pros can realize they have their venv set up wrong and act accordingly.


---

_Comment by @gwdekker on 2024-03-27 19:44_

I think this might run into issues for cases where the user is not in the directory where they should be, for example they are by accident one directory above where they think they are. Erroring with a helpful error message is much preferable I feel in that case than assuming the intention. I think the original design decision of either trying to find a virtual env, or explicitly asking for one to get created, is preferable to silently creating one.

---

_Comment by @liquidcarbon on 2024-04-03 14:57_

Ran into this exact situation when I first tried `uv`!  Error is not right, but non-transparent default doesn't seem right either.

It could be helpful to

1) **have a flag for WHERE to install**.  Like:
```
--venv=.venv
or
--where=elsewhere/.venv
```

For the very first uv pip install, in the absence existing `.venv` or this flag, why not go interactive?

2) **on successful install or dry run, have `uv` print not just WHAT was installed but also WHERE it was installed** and might as well point out WHICH installer did the work in case there's more than one.  I feel like if `pip` did that, millions of hours of productivity would have been saved.

Quite often I found myself lost in venv's and `--python` flags and where did the installed files go - it's partially why I did #2807



---

_Comment by @astrojuanlu on 2024-04-03 15:28_

Strong +1 to this. We've become numb to how difficult venvs are to explain to beginners. If the default is to create one, they become a bit more invisible and that lowers the barrier of entry, in a way fulfilling the dream of PEP 582

---

_Closed by @charliermarsh on 2024-05-22 13:22_

---
