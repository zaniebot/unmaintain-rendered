<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module rich with UV is not installed corectly - astral-sh/uv #10120</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Module rich with UV is not installed corectly</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10120">#10120</a>
        opened by <a href="https://github.com/Mirjax2000">@Mirjax2000</a>
        on 2024-12-23 13:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Mirjax2000">@Mirjax2000</a> on 2024-12-23 13:14</div>
            <div class="timeline-body"><p>If i install rich with UV it is not working. If i installed with PIP it is working fine.
and i have this error:
Traceback (most recent call last):
File &quot;C:\WORK\Python\EDU\Udemy\100_days_of_code\udm_rock_paper_scissors.py&quot;, line 3, in <module>
from rich.console import Console
File &quot;C:\WORK\Python\EDU\Udemy\100_days_of_code.venv\Lib\site-packages\rich\console.py&quot;, line 46, in <module>
from . import errors, themes
File &quot;C:\WORK\Python\EDU\Udemy\100_days_of_code.venv\Lib\site-packages\rich\themes.py&quot;, line 1, in <module>
from .default_styles import DEFAULT_STYLES
File &quot;C:\WORK\Python\EDU\Udemy\100_days_of_code.venv\Lib\site-packages\rich\default_styles.py&quot;, line 3, in <module>
from .style import Style
File &quot;C:\WORK\Python\EDU\Udemy\100_days_of_code.venv\Lib\site-packages\rich\style.py&quot;, line 6, in <module>
from main import randint
ModuleNotFoundError: No module named 'main'</p>
<p>uv.lock has this paths:
[[package]]
name = &quot;rich&quot;
version = &quot;13.9.4&quot;
source = { registry = &quot;https://pypi.org/simple&quot; }
dependencies = [
{ name = &quot;markdown-it-py&quot; },
{ name = &quot;pygments&quot; },
]
sdist = { url = &quot;https://files.pythonhosted.org/packages/ab/3a/0316b28d0761c6734d6bc14e770d85506c986c85ffb239e688eeaab2c2bc/rich-13.9.4.tar.gz&quot;, hash = &quot;sha256:439594978a49a09530cff7ebc4b5c7103ef57baf48d5ea3184f21d9a2befa098&quot;, size = 223149 }
wheels = [
{ url = &quot;https://files.pythonhosted.org/packages/19/71/39c7c0d87f8d4e6c020a393182060eaefeeae6c01dab6a84ec346f2567df/rich-13.9.4-py3-none-any.whl&quot;, hash = &quot;sha256:6049d5e6ec054bf2779ab3358186963bac2ea89175919d699e378b99738c2a90&quot;, size = 242424 },
]</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-23 13:45</div>
            <div class="timeline-body"><p>I'm confused because that line <code>from main import randint</code> doesn't exist in Rich. Can you try recreating the virtual environment?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-12-23 13:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @charliermarsh on 2024-12-23 13:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Mirjax2000">@Mirjax2000</a> on 2024-12-23 13:48</div>
            <div class="timeline-body"><p>yes i did it many times. And it is not .venv issue. i think there is missing some dependecies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-23 13:50</div>
            <div class="timeline-body"><p>Try clearing the cache before you install? <code>uv cache clean</code>. It's not a case of missing dependencies -- the file that's being referenced just isn't part of Rich.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Mirjax2000">@Mirjax2000</a> on 2024-12-23 14:05</div>
            <div class="timeline-body"><p>wow <code>UV cache clean</code> made it.
Thank you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-23 14:07</div>
            <div class="timeline-body"><p>I'm not sure what happened. The cache must've gotten corrupted somehow? If you run into it repeatedly and reproducibly, just let me know.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-23 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-12-23 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kabouzeid">@kabouzeid</a> on 2025-04-16 15:37</div>
            <div class="timeline-body"><p>Would it make sense to make all files in the cache read-only by default?</p>
<p>Accidentally modifying a file in a venv currently requires running <code>uv cache clean</code> and then <code>uv sync --reinstall</code> in every venv that uses the affected dependency. This can happen easily: for example, via &quot;Go to Definition&quot; in an IDE, followed by an accidental paste or deletion.</p>
<p>Read-only cache files would help prevent this. Alternatively, a command to verify the integrity of the cache or a specific venv could offer peace of mind when unsure if something was modified.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-16 17:41</div>
            <div class="timeline-body"><p>We use copy-on-write if a file system supports it, which I think is the ideal fix here. I think read only would be too disruptive.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:31:55 UTC
    </footer>
</body>
</html>
