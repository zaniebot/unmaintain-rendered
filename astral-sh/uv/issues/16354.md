```yaml
number: 16354
title: "[`uv_build`] Emit warning when both license (`PEP639`) and legacy license classifiers are present in pyproject.toml"
type: issue
state: open
author: chirizxc
labels:
  - enhancement
  - build-backend
assignees: []
created_at: 2025-10-18T16:39:13Z
updated_at: 2025-12-18T15:38:03Z
url: https://github.com/astral-sh/uv/issues/16354
synced_at: 2026-01-10T01:57:36Z
```

# [`uv_build`] Emit warning when both license (`PEP639`) and legacy license classifiers are present in pyproject.toml

---

_Issue opened by @chirizxc on 2025-10-18 16:39_

### Summary

Currently, if the `build-backend` package is `uv_build` it will without error / warning build a package with `pyproject.toml` contains:
```toml
license = "Apache-2.0"
license-files = ["LICENSE"]

classifiers = [
    "License :: OSI Approved :: Apache Software License",
]
```
All classifiers that begin with `License ::` are [deprecated](https://packaging.python.org/en/latest/specifications/pyproject-toml/#classifiers).

Also, the legacy form
```toml
license = { file = "LICENSE" }
```
is [deprecated](https://packaging.python.org/en/latest/specifications/pyproject-toml/#legacy-specification) by `PEP639` and replaced with the simplified SPDX expression form:
```toml
license = "Apache-2.0"
license-files = ["LICENSE"]
```
### Example
```toml
[build-system]
requires = ["uv_build>=0.9.3,<0.10.0"]
build-backend = "uv_build"

[project]
name = "test"
version = "0.1.0"
readme = "README.md"
# license = { file = "LICENSE" } # <== Legacy specification (https://packaging.python.org/en/latest/specifications/pyproject-toml/#legacy-specification)
license = "Apache-2.0"
license-files = ["LICENSE"]
requires-python = ">=3.11"
dependencies = []

classifiers = [
    "License :: OSI Approved :: Apache Software License",
]
#   ^^^^
# https://packaging.python.org/en/latest/specifications/pyproject-toml/#classifiers
```
For example, [setuptools simply does not build the package](https://github.com/pypa/setuptools/blob/9cc2f5c05c333cd4cecd2c0d9e7c5e208f2a3148/setuptools/dist.py#L429) if this situation happens

---

_Label `enhancement` added by @chirizxc on 2025-10-18 16:39_

---

_Renamed from "Emit warning when both license (`PEP 639`) and legacy license classifiers are present in pyproject.toml" to "[`uv_build`] Emit warning when both license (`PEP639`) and legacy license classifiers are present in pyproject.toml" by @chirizxc on 2025-10-18 16:42_

---

_Label `build-backend` added by @konstin on 2025-12-18 15:38_

---
