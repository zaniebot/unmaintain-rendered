<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage all uv-related directories - astral-sh/uv #11360</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Manage all uv-related directories</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11360">#11360</a>
        opened by <a href="https://github.com/Ma-Shell">@Ma-Shell</a>
        on 2025-02-09 19:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Ma-Shell">@Ma-Shell</a> on 2025-02-09 19:05</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Note: This issue is somewhat related to #6067, especially this <a href="https://github.com/astral-sh/uv/issues/6067#issuecomment-2291319522">comment</a>, mentioning that the <code>UV_PYTHON_INSTALL_DIR</code> option might be exposed to <code>uv.toml</code>, as well as #6506 but extends it to further directories, adds some further reasoning and has a generally wider scope, so I opted for creating a new issue.</p>
<p>UV uses multiple directories. The documentation refers to these 5 but there might be more which I missed.</p>
<p>| Directory  | command               | environment variable    | uv.toml/pyproject.toml |
| ---------- | --------------------- | ----------------------- | ---------------------- |
| cache      | <code>uv cache dir</code>        | <code>UV_CACHE_DIR</code>          | cache-dir              |
| python     | <code>uv python dir</code>       | <code>UV_PYTHON_INSTALL_DIR</code> | -                      |
| python bin | <code>uv python dir --bin</code> | <code>UV_PYTHON_BIN_DIR</code>     | -                      |
| tools      | <code>uv tool dir</code>         | <code>UV_TOOL_DIR</code>           | -                      |
| tools bin  | <code>uv tool dir --bin</code>   | <code>UV_TOOL_BIN_DIR</code>       | -                      |</p>
<p>There are several improvements for managing these:</p>
<ul>
<li>Add a command which lists all of them for more transparency with the user</li>
<li>For the ones, where there is no .toml-entry available, one should be added. This would help especially when using a global <code>uv.toml</code>, to allow to define one base-directory for everything, without relying on environment variables.</li>
<li>While the documentation mentions that there is a platform-dependent location for a default <code>uv.toml</code>, it would be beneficial to have uv also check the uv-executable's directory for a <code>uv.toml</code>, which again would help with having everything uv-related in one directory.</li>
</ul>
<h3>Example</h3>
<p>The proposed features allow having a portable installation giving the user more control about what paths are touched by UV.</p>
<p>Being able to manage the directories in the toml-file without relying on environment variables also helps for having globally installed projects in multi-user environments as the default-locations refer to directories within the user's profile (like %APPDATA% or ~/.local) which are not readable by all users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @Ma-Shell on 2025-02-09 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eabase">@eabase</a> on 2025-02-25 07:50</div>
            <div class="timeline-body"><p>This is a great idea and would align better with my proposal of also managing venv's here:
#11773</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/13605.html">astral-sh/uv#13605</a> on 2025-05-23 15:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mjnd1">@mjnd1</a> on 2025-06-05 08:29</div>
            <div class="timeline-body"><p>Mark it down. When will it be completed?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-05 12:08</div>
            <div class="timeline-body"><p>Another option here would be an env var named something like <code>UV_DATA_ROOT</code> that, if set, defines a directory where uv creates all of its directories (cache, tools, python interpreter, config) below it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/13950.html">astral-sh/uv#13950</a> on 2025-06-10 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LOYINuts">@LOYINuts</a> on 2025-08-08 14:15</div>
            <div class="timeline-body"><p>Yeah we need that desperately. Something like <code>UV_DATA_ROOT</code> will be great</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-08-27 13:50</div>
            <div class="timeline-body"><p>A more concise approach than setting the <code>UV_*_DIR</code> variables is setting the <code>XDG_*</code> variables that uv uses. By controlling <code>XDG_DATA_HOME</code>, <code>XDG_CACHE_HOME</code>, <code>XDG_CONFIG_HOME</code>, and <code>XDG_BIN_HOME</code>, you can control the non-venv files and directories that uv writes.</p>
<p>| Variable           | Default Path         | Description                                                                       |
|--------------------|----------------------|-----------------------------------------------------------------------------------|
| <code>$XDG_DATA_HOME</code>   | <code>$HOME/.local/share</code> | Files written by uv that need  to be persisted (tools, python interpreters, etc.) |
| <code>$XDG_CACHE_HOME</code>  | <code>$HOME/.cache</code>       | Cache, ephemeral files that can be removed when uv isn't running                 |
| <code>$XDG_CONFIG_HOME</code> | <code>$HOME/.config</code>      | Where uv finds <code>uv.toml</code>                                                          |
| <code>$XDG_BIN_HOME</code>    | <code>$HOME/.local/bin</code>   | Binaries uv adds to <code>PATH</code> (uv itself, installed tools, python interpreters)      |</p>
<p>If that approach works for your use cases, we can add it to the docs. We're also working on a general reference documentation of uv directories (https://github.com/astral-sh/uv/pull/13976).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ma-Shell">@Ma-Shell</a> on 2025-08-28 14:11</div>
            <div class="timeline-body"><p>Thank you for the response! While it is certainly a good idea to add this information to the documentation, this issue is mostly about the ability to use the config file instead of environment variables and to automatically use the config file in the executable's directory as a first choice, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LOYINuts">@LOYINuts</a> on 2025-09-12 05:14</div>
            <div class="timeline-body"><p>I mean there are too many variables, just like you mentioned before, one variable like <code>UV_DATA_ROOT</code> will be great and much convenient</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eabase">@eabase</a> on 2025-09-12 12:29</div>
            <div class="timeline-body"><p>For the love of god, please don't default to <code>$HOME/.random</code> for UV configuration files.</p>
<p><strong>Especially not these locations:</strong></p>
<pre><code class="language-bash">$HOME/.local/*
$HOME/.cache
$HOME/.config
</code></pre>
<p>These are locations most often used with Nix based tools, like MSYS, Cygwin, WSL etc. or tools that have been ported from there. In those environments they have very specific functions, just like <code>.git</code> and <code>.ssh</code> has. I'm not sure at what point in time Dev's started thinking that these locations were at their own convenient disposal, and freely available for install/bloat. They are not!</p>
<p>If you wanna default, at least put it in your own place.
I strongly suggest using: <strong><code>$HOME/.uv/*</code></strong> instead.</p>
<p>Also, using new environment variables prefixed by <code>XDG_</code> is very confusing to most users. The variable doesn't say sh-t what it is about and what software it relates to. At least use a <strong><code>UV_</code></strong> prefix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Winand">@Winand</a> on 2025-09-12 14:54</div>
            <div class="timeline-body"><blockquote>
<p>using new environment variables prefixed by <code>XDG_</code> is very confusing to most users</p>
</blockquote>
<p>@eabase there's a spec for those X Desktop Group variables (except for <a href="https://gist.github.com/roalcantara/107ba66dfa3b9d023ac9329e639bc58c"><code>XDG_BIN_HOME</code></a>) <a href="https://specifications.freedesktop.org/basedir-spec/latest/#variables">XDG Base Directory Specification</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eabase">@eabase</a> on 2025-09-12 15:46</div>
            <div class="timeline-body"><p>@Winand</p>
<blockquote>
<p>there's a spec for those X Desktop Group variables...</p>
</blockquote>
<p><strong>Which is exactly why you shouldn't mix up UV locations with X Windows!</strong></p>
<p>Remind you that X-Windows has always been a nightmare to configure, and part of the reason why this structure got so messed up in the first place. People rebuilding broken structures based on old habits, because of laziness to rethink and make something more future proof and self contained. (Read the very first <a href="https://gist.github.com/roalcantara/107ba66dfa3b9d023ac9329e639bc58c?permalink_comment_id=4521894#gistcomment-4521894">comment</a> (from your link) about linking <code>XDG_</code> vars to <code>MacOS</code> directories. Madness.)</p>
<blockquote>
<p>Freedesktop.org is a project to work on interoperability and shared base technology for free-software desktop environments for the X Window System (X11) and Wayland on Linux and other Unix-like operating systems.</p>
</blockquote>
<p><strong>So what make you think using X11 variables is a great idea for cross platform use of UV?</strong></p>
<p>I just fail to see any advantage at all, so please fill us in.</p>
<p>IMO users should never have to (or be forced) to think where their <your-package> customization &amp; settings are located and installed. They should also be safe for cross machine migration and updates.</p>
<p>You're basing your UX ideology from a fringe Linux PoV. The reality is that Python has exploded across all platforms, but most noticeable on Windows. So pushing a <em>mixed</em> file / environment to most non-technical end users, doesn't make sense. And if I was selfish, I would also agree to use the Linux structure, but that is again already broken since long ago. Just google on <code>/opt</code>, <code>/usr/shared/</code>, <code>/usr/local</code> etc etc. and you will get as many different answers as there are nix distros.</p>
<hr />
<p><img width="618" height="249" alt="Image" src="https://github.com/user-attachments/assets/9a29bfe5-2c85-4730-bc6f-5b8022d164a6" /></p>
<hr />
<p>The OP suggestion makes full sense, so why are you trying to derail that suggestion to something else?
(I.e. using completely different variable names, unrelated to UV.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-12 17:44</div>
            <div class="timeline-body"><p>We chose the <code>XDG_</code> environment variables as they are the only set of configuration that are already well-known to users and that are supported by a wide range of (CLI) applications. For the default values, when no <code>XDG_</code> variables are set, we were originally closer to the platform default, but eventually decided to for using a more Linux-style cross-platform for consistency. XDG and the conventions around it map well to the kind of tasks uv does, e.g., Windows does not have a native directory for adding binaries to PATH as non-admin.</p>
<p>(This is kinda separate from the OP about having a portable uv installation with associated <code>uv.toml</code> settings)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eabase">@eabase</a> on 2025-09-14 13:02</div>
            <div class="timeline-body"><p>@konstin and (<em>Astral</em>)</p>
<p>I now see where this is going. (Nowhere)</p>
<p>There are 18 upvotes and even more positive feedback for OP suggestion. Yet, you insist changing the OP suggestion to something completely different, while either not understanding my above arguments at all, or choosing to ignore it.</p>
<blockquote>
<p>... but eventually decided to for using a more Linux-style cross-platform for consistency.</p>
</blockquote>
<p>I just showed you above that the linux-style is <strong>not</strong> cross-platform consistent...</p>
<blockquote>
<p>Windows does not have a native directory for adding binaries to PATH as non-admin.</p>
</blockquote>
<p>This comment make no sense at all.</p>
<ul>
<li>Windows has a SYSTEM and USER path, and the USER path can be edited by normal user. The USER path is added to system, when a new shell is started.</li>
<li>As normal user you can still install stuff anywhere (except under <code>C:\Windows</code>), unless you are on a managed server or locked-down corporate machine.</li>
<li><strong>&gt;99.9 %</strong> of Windows users are on their own machines and a very large proportion of them, have UAC completely turned off as it's a useless annoyance at best, while providing zero additional security.</li>
<li>Package installed binaries should <strong>never</strong> be kept in your <code>HOME</code> directory! This is something which I have mentioned repeatedly in various <code>uv</code> threads here, and seem to be a consistently ignored and avoided point.</li>
</ul>
<p><em>I think I'm done here.</em></p>
<p>I have given my best feed-back for keeping uv sane and useful also for the future. As soon as this start to impact my productivity in any way, meaning having to manually tweak environment variables and/or looking for install locations, or bloating my <code>$HOME</code> directory, etc., I will stop using uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-14 13:55</div>
            <div class="timeline-body"><p>@eabase the tone of your responses is not acceptable here, please take some time to consider how you're communicating.</p>
<p>I've marked the comments as &quot;off-topic&quot;, as I don't understand why we're debating whether or not uv should be using the XDG specification here. We already respect these variables, we're not going to drop support for it â€” @konstin's intent was to share a less verbose way to configure uv's storage directories.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15834.html">astral-sh/uv#15834</a> on 2025-09-14 14:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15836.html">astral-sh/uv#15836</a> on 2025-09-14 14:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15837.html">astral-sh/uv#15837</a> on 2025-09-14 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15838.html">astral-sh/uv#15838</a> on 2025-09-14 14:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-14 14:10</div>
            <div class="timeline-body"><p>I've opened dedicated issues tracking each of your requests here @Ma-Shell, as you've asked for several distinct changes that we can discuss and address separately.</p>
<p>For those following this issue, please upvote the ones relevant to you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15839.html">astral-sh/uv#15839</a> on 2025-09-14 14:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ma-Shell">@Ma-Shell</a> on 2025-09-14 14:52</div>
            <div class="timeline-body"><p>Thank you for taking this into consideration! I noticed that the toml-option for <code>UV_PYTHON_INSTALL_DIR</code> is missing. Since you split <code>UV_TOOL_DIR</code> (#15834) and <code>UV_TOOL_BIN_DIR</code> + <code>UV_PYTHON_BIN_DIR</code> (#15838) into two separate issues, do you think, it makes sense to add this to one of these two or have a separate issue?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-14 14:54</div>
            <div class="timeline-body"><p>The <code>UV_PYTHON_INSTALL_DIR</code> request has an existing issue at #6506</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LOYINuts">@LOYINuts</a> on 2025-09-14 17:13</div>
            <div class="timeline-body"><p>But can we have a big env variable? Setting all of these would be inconvenient. And if this variable can be set in <code>uv.toml</code> would be awesome.(But if this cant be done then the separate variables can be set in <code>uv.toml</code> and i will accept that ðŸ˜„ )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Elypha">@Elypha</a> on 2025-09-18 03:28</div>
            <div class="timeline-body"><p>Many users seem to be encountering issues with directory management, likely because the current documentation lacks clarity on two key points:</p>
<ol>
<li>The number of distinct storage locations used by uv.</li>
<li>The hierarchical relationships among these locations (a top-down way, while the current documentation did a good job but only in a bottom-up manner)</li>
</ol>
<p>For instance, <code>UV_TOOL_DIR</code> functions as a subdirectory within <code>DATA_HOME</code>, which means for most users, these can be considered a single logical location.</p>
<p>While I am not in favour of the XDG specification, it is not inherently difficult to comprehend. I believe people will have fewer issues if only the relationships between these directories were sorted out and presented clearly, perhaps a simple ASCII tree diagram will just suffice.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woutervh">@woutervh</a> on 2025-10-10 08:45</div>
            <div class="timeline-body"><blockquote>
<p>But can we have a big env variable?</p>
</blockquote>
<p>Some tools do that, but it is annoying to mix config/cache/state  in a single directory.
Ipython-profiles with hardcoded directories are setting a bad example here.</p>
<p>I would like a setting or env-var to set the location of the build distributions<br />
from <code>&lt;project-dir&gt;/dist</code> to  <code>&lt;project-dir&gt;/var/dist</code>
For now you can only set <code>--out-dir</code>  on the cli.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../alienator88/Pearcleaner/pulls/373.html">alienator88/Pearcleaner#373</a> on 2025-10-12 19:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15954.html">astral-sh/uv#15954</a> on 2025-10-14 10:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:25 UTC
    </footer>
</body>
</html>
