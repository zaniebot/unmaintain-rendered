```yaml
number: 1467
title: Direct URL constraints are ignored
type: issue
state: closed
author: sbidoul
labels:
  - bug
assignees: []
created_at: 2024-02-16T10:01:43Z
updated_at: 2024-02-17T11:24:41Z
url: https://github.com/astral-sh/uv/issues/1467
synced_at: 2026-01-10T01:57:02Z
```

# Direct URL constraints are ignored

---

_Issue opened by @sbidoul on 2024-02-16 10:01_

It seems that uv does not honor constraints that are Direct URLs.

Assuming you have a direct URL for `pkga` in `constraints.txt`, `uv pip install pkga -c constraints.txt` fails saying pkga is not found in the package registry.

Here is a reproducer:

```bash
#/bin/bash

cd $(mktemp -d)

mkdir pkga
cat <<EOF > pkga/pyproject.toml
[project]
name="pkga"
version="1.0"
EOF

cat <<EOF > constraints.txt
pkga @ file://$PWD/pkga
EOF

uv venv
source .venv/bin/activate

uv pip install pkga -c constraints.txt
```


---

_Label `bug` added by @charliermarsh on 2024-02-16 14:49_

---

_Comment by @charliermarsh on 2024-02-16 14:49_

Thanks! Will fix.

---

_Referenced in [astral-sh/uv#1561](../../astral-sh/uv/issues/1561.md) on 2024-02-17 02:13_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-02-17 02:13_

---

_Referenced in [astral-sh/uv#1565](../../astral-sh/uv/pulls/1565.md) on 2024-02-17 03:07_

---

_Closed by @charliermarsh on 2024-02-17 03:11_

---

_Comment by @charliermarsh on 2024-02-17 03:13_

Sorry about this, silly oversight in the code. Will go out in the next release, thanks!

---

_Comment by @sbidoul on 2024-02-17 11:24_

That was quick, thanks!

---
