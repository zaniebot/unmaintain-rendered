```yaml
number: 6082
title: "Can't find matching wheels with the `--find-links` flag"
type: issue
state: closed
author: santacodes
labels:
  - compatibility
  - external
assignees: []
created_at: 2024-08-14T12:35:46Z
updated_at: 2024-08-26T00:02:27Z
url: https://github.com/astral-sh/uv/issues/6082
synced_at: 2026-01-10T01:57:13Z
```

# Can't find matching wheels with the `--find-links` flag

---

_Issue opened by @santacodes on 2024-08-14 12:35_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->
## Overview 
OS - `Linux`
uv version - `0.2.36`

I run into this error while trying to install a package from a wheel from an external link with the `--find-links` flag while trying to install a specific version of `iree-compiler` with `uv` defined in my `pyproject.toml` as -
```toml
[project.optional-dependencies]
iree = [
    # must be pip installed with --find-links=https://iree.dev/pip-release-links.html
    "iree-compiler==20240507.886",  # see IREE compatibility notes in noxfile.py
]
```
## Steps to reproduce
When I run `uv pip install .[iree] --find-links https://iree.dev/pip-release-links.html --verbose`, this is what I get -
```bash
DEBUG Using request timeout of 30s
DEBUG Found fresh response for: https://iree.dev/pip-release-links.html
WARN No packages found in `--find-links` entry: https://iree.dev/pip-release-links.html
DEBUG Found fresh response for: https://iree.dev/pip-release-links.html
WARN No packages found in `--find-links` entry: https://iree.dev/pip-release-links.html
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of iree-compiler==20240507.886 and pybamm[iree]==24.5 depends on iree-compiler==20240507.886, we can conclude that
      pybamm[iree]==24.5 cannot be used.
      And because only pybamm[iree]==24.5 is available and you require pybamm[iree], we can conclude that the requirements are unsatisfiable.
```
The package wheels of the `iree-compiler==20240507.886` are present in that link and work with `pip`, but not with `uv`.

When I run the same command with pip (`pip install .[iree] --find-links https://iree.dev/pip-release-links.html`), it successfully downloads and builds the wheels for my package.
```bash 
Looking in links: https://iree.dev/pip-release-links.html
Processing /home
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Collecting iree-compiler==20240507.886 (from pybamm==24.5)
  Downloading https://github.com/iree-org/iree/releases/download/candidate-20240507.886/iree_compiler-20240507.886-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (64.5 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.5/64.5 MB 6.3 MB/s eta 0:00:00
```

---

_Comment by @charliermarsh on 2024-08-14 13:17_

I can take a look.

---

_Assigned to @charliermarsh by @charliermarsh on 2024-08-14 13:17_

---

_Label `compatibility` added by @charliermarsh on 2024-08-14 13:17_

---

_Comment by @charliermarsh on 2024-08-14 15:48_

I've isolated this to a bug in https://github.com/y21/tl. I'll try to fix it there.

---

_Comment by @charliermarsh on 2024-08-14 16:00_

See: https://github.com/y21/tl/issues/68

---

_Label `upstream` added by @charliermarsh on 2024-08-14 16:00_

---

_Referenced in [pybamm-team/PyBaMM#4353](../../pybamm-team/PyBaMM/pulls/4353.md) on 2024-08-16 14:46_

---

_Referenced in [astral-sh/uv#6622](../../astral-sh/uv/pulls/6622.md) on 2024-08-25 23:54_

---

_Closed by @charliermarsh on 2024-08-26 00:02_

---
