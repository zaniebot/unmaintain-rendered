```yaml
number: 6676
title: "exclude-newer doesn't downgrade. should it?"
type: issue
state: closed
author: davidszotten
labels:
  - documentation
  - question
assignees: []
created_at: 2024-08-27T07:43:35Z
updated_at: 2024-10-09T23:03:33Z
url: https://github.com/astral-sh/uv/issues/6676
synced_at: 2026-01-10T01:57:14Z
```

# exclude-newer doesn't downgrade. should it?

---

_Issue opened by @davidszotten on 2024-08-27 07:43_

i was expecting `--exclude-newer` to also downgrade installed packages, is that not the intended behaviour?

```
$ uv pip install --exclude-newer=2024-01-01 jinja2
Resolved 2 packages in 4ms
Installed 2 packages in 1ms
 + jinja2==3.1.2
 + markupsafe==2.1.3

$ uv pip install -U jinja2
Resolved 2 packages in 31ms
Prepared 2 packages in 0.28ms
Uninstalled 2 packages in 2ms
Installed 2 packages in 4ms
 - jinja2==3.1.2
 + jinja2==3.1.4
 - markupsafe==2.1.3
 + markupsafe==2.1.5

$ uv pip install --exclude-newer=2024-01-01 jinja2
Audited 1 package in 1ms        # <---- downgrade back to 3.1.2?

$ uv --version
uv 0.3.4 (39f3cd2a9 2024-08-26)
```

---

_Comment by @zanieb on 2024-08-27 11:21_

I don't think we can know the date that _already installed_ packages were published so I don't think the resolver will ever exclude them. You can use `--reinstall` to remove our preference for installed versions.

```
â¯ uv pip install --exclude-newer=2024-01-01 jinja2 --reinstall
Resolved 2 packages in 144ms
Prepared 2 packages in 34ms
Uninstalled 2 packages in 3ms
Installed 2 packages in 2ms
 - jinja2==3.1.4
 + jinja2==3.1.2
 - markupsafe==2.1.5
 + markupsafe==2.1.3
```

---

_Label `question` added by @zanieb on 2024-08-27 11:21_

---

_Label `documentation` added by @zanieb on 2024-08-27 11:21_

---

_Comment by @zanieb on 2024-08-27 11:22_

If you wanted to contribute this to the documentation as a hint in https://docs.astral.sh/uv/concepts/resolution/#reproducible-resolutions that'd be greatly appreciated.

---

_Referenced in [astral-sh/uv#6721](../../astral-sh/uv/pulls/6721.md) on 2024-08-27 20:06_

---

_Closed by @charliermarsh on 2024-10-09 23:03_

---

_Closed by @charliermarsh on 2024-10-09 23:03_

---
