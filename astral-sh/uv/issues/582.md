```yaml
number: 582
title: "Repeated packages in `requirement.txt` leads to `pip-sync` hang"
type: issue
state: closed
author: charliermarsh
labels:
  - bug
assignees: []
created_at: 2023-12-06T21:20:05Z
updated_at: 2023-12-07T05:26:43Z
url: https://github.com/astral-sh/uv/issues/582
synced_at: 2026-01-10T01:57:01Z
```

# Repeated packages in `requirement.txt` leads to `pip-sync` hang

---

_Issue opened by @charliermarsh on 2023-12-06 21:20_

Pretty sure we error on this in the resolver, but it looks like we don't handle it properly in the installer. Run `pip-sync` with the following, and it hangs:

```rust
flask @ git+https://github.com/pallets/flask.git@d92b64aa275841b0c9aea3903aba72fbc4275d91
flask @ https://files.pythonhosted.org/packages/d8/09/c1a7354d3925a3c6c8cfdebf4245bae67d633ffda1ba415add06ffc839c5/flask-3.0.0.tar.gz
```

---

_Label `bug` added by @charliermarsh on 2023-12-06 21:43_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-12-06 22:14_

---

_Referenced in [astral-sh/uv#584](../../astral-sh/uv/pulls/584.md) on 2023-12-07 05:22_

---

_Closed by @charliermarsh on 2023-12-07 05:26_

---
