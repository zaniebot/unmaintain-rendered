```yaml
number: 12311
title: Virtual project fails to sync if no-build is set.
type: issue
state: closed
author: LordAro
labels:
  - bug
assignees: []
created_at: 2025-03-19T11:57:13Z
updated_at: 2025-03-22T16:00:04Z
url: https://github.com/astral-sh/uv/issues/12311
synced_at: 2026-01-10T01:57:28Z
```

# Virtual project fails to sync if no-build is set.

---

_Issue opened by @LordAro on 2025-03-19 11:57_

### Summary

I've been playing around with a "virtual" project, i.e. one without a build system.

I've found that the following results in an error:

```
$ uv init --vcs none
Initialized project `python`
$ uv sync
Using CPython 3.12.9
Creating virtual environment at: .venv
Resolved 1 package in 5ms
Audited in 0.02ms
$ uv sync --no-build
Resolved 1 package in 1ms
error: Distribution `python==0.1.0 @ virtual+.` can't be installed because it is marked as `--no-build` but has no binary distribution
```

Seems like a "virtual" project shouldn't be trying to be installed or built regardless of whether --no-build is set?

Perhaps related to #6749 ?

### Platform

Ubuntu 22.04

### Version

uv 0.6.7

### Python version

Python 3.12.9

---

_Label `bug` added by @LordAro on 2025-03-19 11:57_

---

_Comment by @LordAro on 2025-03-19 12:04_

A workaround seems to be to use `no-binary-package = ["foobar"]` where "foobar" is the virtual project

---

_Comment by @charliermarsh on 2025-03-19 12:29_

We should probably allow that, yeah. Thanks.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-03-19 14:25_

---

_Referenced in [astral-sh/uv#12314](../../astral-sh/uv/pulls/12314.md) on 2025-03-19 15:31_

---

_Closed by @charliermarsh on 2025-03-22 16:00_

---
