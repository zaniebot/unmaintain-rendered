<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv.lock being cross-platform: does it guarantee the success of copying project on all different platforms? - astral-sh/uv #12162</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv.lock being cross-platform: does it guarantee the success of copying project on all different platforms?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12162">#12162</a>
        opened by <a href="https://github.com/zhyeong">@zhyeong</a>
        on 2025-03-14 02:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zhyeong">@zhyeong</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hello,</p>
<p>the official document for uv states that uv.lock is <a href="https://docs.astral.sh/uv/concepts/projects/layout/#the-lockfile">cross-platform</a>.</p>
<blockquote>
<p>uv.lock is a universal or cross-platform lockfile that captures the packages that would be installed across all possible Python markers such as operating system, architecture, and Python version.</p>
</blockquote>
<p>In case of Conda, it mentions that the spec.txt file could lock all the exact versions of packages installed, but it may not work in case of platform(OS) change.</p>
<blockquote>
<p>An explicit spec file is not usually cross platform, and therefore has a comment at the top such as # platform: osx-64 showing the platform where it was created. This platform is the one where this spec file is known to work. On other platforms, the packages specified might not be available or dependencies might be missing for some of the key packages already in the spec.</p>
</blockquote>
<p>I wonder, does uv.lock guarantee the installation over different platforms, unlike Conda? or does cross-platform limitations also apply to uv?</p>
<p>Thank you for the awesome tool, and hope I could get some help!</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zhyeong on 2025-03-14 02:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-14 02:23</div>
            <div class="timeline-body"><p>The lockfile is intended to work on all platforms, but there are two caveats to note:</p>
<ol>
<li>Some packages only ship binary distributions (wheels), and not source distributions. For such packages, it's possible that you later try to install on a platform that doesn't have a corresponding wheel. This is written up in more detail here: https://docs.astral.sh/uv/concepts/resolution/#required-environments. For example, PyTorch only ships wheels, so if you try to then install from a lockfile that includes PyTorch on some platform for which they don't ship a build, we may raise an error at install time.</li>
<li>We can't guarantee that all packages will build from source successfully on all platforms. So if a package is missing a wheel, but has a source distribution, the install <em>could</em> fail on some platforms. It's out of our control. But the lockfile captures the dependency metadata for all platforms, yes.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-14 15:04</div>
            <div class="timeline-body"><p>Happy to answer any follow-ups but closing optimistically :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-14 15:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-03-14 15:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:25 UTC
    </footer>
</body>
</html>
