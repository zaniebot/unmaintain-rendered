```yaml
number: 14501
title: Error when resolving Tensorflow on Windows
type: issue
state: closed
author: cbrnr
labels:
  - question
assignees: []
created_at: 2025-07-08T06:59:38Z
updated_at: 2025-07-28T17:50:14Z
url: https://github.com/astral-sh/uv/issues/14501
synced_at: 2026-01-10T01:57:33Z
```

# Error when resolving Tensorflow on Windows

---

_Issue opened by @cbrnr on 2025-07-08 06:59_

### Summary

I'm not sure if this issue is related to uv or Tensorflow, but uv cannot resolve Tensorflow on Windows for Python 3.10 and 3.11.

I've created a minimal example here: https://github.com/cbrnr/uv-tf/pull/1

Please see the output of the two failed checks.

For reference, this is from a larger (real-world) project, where I'm trying to switch from cibuildwheel to uv, and cibuildwheel has no problems setting up the environment on Windows using Python < 3.12 (see https://github.com/cbrnr/sleepecg/pull/274).

### Platform

Windows

### Version

uv 0.7.19

### Python version

_No response_

---

_Label `bug` added by @cbrnr on 2025-07-08 06:59_

---

_Comment by @cbrnr on 2025-07-08 07:32_

FWIW, `uv pip install tensorflow` works on this platform, it installs `tensorflow-io-gcs-filesystem==0.31`, which was the last version to provide a wheel.

---

_Comment by @konstin on 2025-07-28 17:09_

You can solve this by adding:

```toml
[tool.uv]
required-environments = [
    "sys_platform == 'win32'"
]
```

This resolves and installs successfully for Python 3.10, 3.11 and 3.12 on Windows.

---

_Label `bug` removed by @konstin on 2025-07-28 17:09_

---

_Label `question` added by @konstin on 2025-07-28 17:09_

---

_Comment by @cbrnr on 2025-07-28 17:30_

Thanks! Can you explain what this does and why it is necessary here?

---

_Comment by @konstin on 2025-07-28 17:41_

https://docs.astral.sh/uv/concepts/resolution/#required-environments has a good explanation in it. In the tensorflow case, tensorflow-io-gcs-filesystem broke publishing windows wheels (https://github.com/tensorflow/io/issues/2087 - It seems that this has been fixed on the tensorflow side now: https://github.com/tensorflow/tensorflow/pull/82771). `uv lock` still selected the package lacking Windows builds because the universal resolution doesn't consider the current platform for stability between platforms, unless you tell it to consider a specific platform with `tool.uv.required-environments`. `uv pip install` is different in that it only needs to consider the current platform, so it directly skips over releases that don't have an installable wheel or source distribution.

---

_Comment by @cbrnr on 2025-07-28 17:45_

Makes sense, thanks a lot!

---

_Closed by @konstin on 2025-07-28 17:50_

---
