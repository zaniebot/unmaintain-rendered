<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv export --output-file=../requirements.txt` doesn't resolve package paths to output file - astral-sh/uv #13584</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv export --output-file=../requirements.txt` doesn't resolve package paths to output file</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/13584">#13584</a>
        opened by <a href="https://github.com/manzt">@manzt</a>
        on 2025-05-21 20:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/manzt">@manzt</a> on 2025-05-21 20:17</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Not totally sure if this is a bug or something that could be resolved, but:</p>
<pre><code class="language-sh">uv init --lib my_package
uv init --script foo.py
uv add ./my_package
uv export --script foo.py --output-file ../requirements.txt
cat ../requirements.txt
# # This file was autogenerated by uv via the following command:
# #    uv export --script foo.py --output-file ../requirements.txt
# # ./my_package
</code></pre>
<p>I expected <code>./my_package</code> to be rewritten as a path valid from the output fileâ€™s location, like <code>./folder/my_package</code> or an absolute path.</p>
<h3>Platform</h3>
<p>Darwin 24.4.0 arm64</p>
<h3>Version</h3>
<p>uv 0.7.6 (7f3e94a09 2025-05-19)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @manzt on 2025-05-21 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv export --script foo.py -o../requirements.txt` doesn't resolve local (relative) package path to output file" to "`uv export --script foo.py --output-file=../requirements.txt` doesn't resolve local (relative) package path to output file" by @manzt on 2025-05-21 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv export --script foo.py --output-file=../requirements.txt` doesn't resolve local (relative) package path to output file" to "`uv export --output-file=../requirements.txt` doesn't resolve local (relative) package path to output file" by @manzt on 2025-05-21 20:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv export --output-file=../requirements.txt` doesn't resolve local (relative) package path to output file" to "`uv export --output-file=../requirements.txt` doesn't resolve package paths to output file" by @manzt on 2025-05-21 20:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-05-22 11:47</div>
            <div class="timeline-body"><p>I could see arguments either way, though I think <code>uv pip install -r ../requirements.txt</code> will interpret paths as relative to the CWD, which matches pip? In which case, writing <em>these</em> paths relative to the CWD ensures that <code>uv pip install -r ../requirements.txt</code> works after exporting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/manzt">@manzt</a> on 2025-05-22 18:50</div>
            <div class="timeline-body"><p>Thanks for the response. Sure that makes sense to me, I could see an argument both ways as well and hadn't considered the <code>pip</code> compatibility. Thanks for the clarification!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @manzt on 2025-05-22 18:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-05-22 18:53</div>
            <div class="timeline-body"><p>I would honestly prefer that both are relative to the file, but alas.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/manzt">@manzt</a> on 2025-05-22 19:02</div>
            <div class="timeline-body"><p>Agreed. One idea would be a flag to canonicalize relative paths, which would make the <code>requirements.txt</code> more portable on a single machine. e.g.,</p>
<pre><code class="language-sh">uv export --script foo.py --canonicalize-paths &gt; requirements.txt
</code></pre>
<p>of course, doesn't change the behavior of relative paths but might help for some use cases.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:04 UTC
    </footer>
</body>
</html>
