<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve uv tool UX for broken Python installs - astral-sh/uv #14814</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve uv tool UX for broken Python installs</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/14814">#14814</a>
        opened by <a href="https://github.com/amalachow">@amalachow</a>
        on 2025-07-22 15:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/amalachow">@amalachow</a> on 2025-07-22 15:59</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Similar/related to #11534/#12538</p>
<p>The current UX for the <code>uv tool</code> sub commands can detect broken links in the tools venv and recommends using <code>--reinstall</code> to remediate; however, the recommended command fails due to the same broken link. <em>e.g.</em></p>
<p><code>uv tool list</code> yields the following</p>
<pre><code>warning: Querying Python at `C:\Users\amalachow\AppData\Roaming\uv\tools\chardet\Scripts\python.exe` failed with exit status exit code: 103

[stderr]
No Python at '&quot;C:\Python312\python.exe'
 (run `uv tool install chardet --reinstall` to reinstall)
</code></pre>
<p>yet running the recommended command results in near identical output
<code>uv tool install chardet --reinstall</code></p>
<pre><code>error: Querying Python at `C:\Users\amalachow\AppData\Roaming\uv\tools\chardet\Scripts\python.exe` failed with exit status exit code: 103

[stderr]
No Python at '&quot;C:\Python312\python.exe'
</code></pre>
<p>there is a valid workflow by first uninstalling before attempting to run the failed sub command.</p>
<ul>
<li>Is it reasonable to swallow the error on cases where the Python interpreter is explicitly being changed with <code>--python</code> or some variant/combination of <code>--force</code>/<code>--refresh</code>/<code>--reinstall</code> to improve the UX for these commands?</li>
<li>Should the suggested command recommend the uninstall + reinstall sequence instead?</li>
</ul>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @amalachow on 2025-07-22 15:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hwine">@hwine</a> on 2025-08-02 19:18</div>
            <div class="timeline-body"><p>FYIW, a scripted way to recover from this in bash is:</p>
<pre><code class="language-bash">for tool in $(uv tool list 2&gt;&amp;1 | grep install | cut -d\  -f6); do \
    uv tool uninstall $tool &amp;&amp; \
    uv tool install $tool \
; done
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:26:43 UTC
    </footer>
</body>
</html>
