```yaml
number: 9434
title: "Why is it possible to bypass \"find-links\" sources only in the \"first-match\" search mode?"
type: issue
state: closed
author: VladislavSoren
labels:
  - question
  - needs-mre
assignees: []
created_at: 2024-11-26T07:29:49Z
updated_at: 2025-03-24T01:58:50Z
url: https://github.com/astral-sh/uv/issues/9434
synced_at: 2026-01-10T01:57:21Z
```

# Why is it possible to bypass "find-links" sources only in the "first-match" search mode?

---

_Issue opened by @VladislavSoren on 2024-11-26 07:29_

Info:
- OS: MacOS
- Python: 3.9.18
- uv: 0.5.4

If we specify sources with the package name where there is a suitable one, then everything works well

<img width="650" alt="Screenshot 2024-11-26 at 10 12 58" src="https://github.com/user-attachments/assets/3ac61a8f-91c6-4ad9-b38b-4d91685db00a">

If we specify sources with the package name where it is not in the first source and it is in the next one, then it crashes with an error

<img width="1300" alt="Screenshot 2024-11-26 at 10 18 56" src="https://github.com/user-attachments/assets/c6afc5b3-1abf-425f-b5f8-b0bf92d48811">

This behavior is typical for the "first-match" search mode.
**Are there plans to add other search modes for "find-links"?**

More search modes are available for indexes, but they cannot work with local directories.

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->


---

_Comment by @zanieb on 2025-01-07 19:44_

Please share a reproducible example in code blocks â€” see #9452  for guidance.

---

_Label `question` added by @zanieb on 2025-01-07 19:44_

---

_Label `needs-mre` added by @zanieb on 2025-01-07 19:44_

---

_Assigned to @charliermarsh by @charliermarsh on 2025-01-07 19:54_

---

_Comment by @charliermarsh on 2025-01-07 21:14_

The issue here is that we only include the entries from the matching `--find-links` index:

```toml
[[package]]
name = "pyyaml"
version = "6.0.2"
source = { registry = "../linux" }
wheels = [
    { path = "PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl" },
    { path = "PyYAML-6.0.2-cp312-cp312-manylinux_2_17_aarch64.manylinux2014_aarch64.whl" },
]
```

I'm unsure whether we should fix this.


---

_Closed by @charliermarsh on 2025-03-24 01:58_

---
