<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>query values not preserved in urls - astral-sh/uv #1463</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>query values not preserved in urls</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1463">#1463</a>
        opened by <a href="https://github.com/janbernloehr">@janbernloehr</a>
        on 2024-02-16 09:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/janbernloehr">@janbernloehr</a> on 2024-02-16 09:46</div>
            <div class="timeline-body"><p>When specifying a requirement using a url containing a query string</p>
<pre><code>torch @ https://foo.org/torch.whl?some=auth
</code></pre>
<p>the query string is lost by uv. This is required e.g. when downloading wheels from an azure blob storage container with SAS authentication.</p>
<p>pip and pip-compile preserve the query string.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-02-16 14:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 14:43</div>
            <div class="timeline-body"><p>Thanks for the report.</p>
<p>We'll need to figure out a good test case for this, ideally we could include this in a <code>compile</code> or <code>install</code> test.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 16:08</div>
            <div class="timeline-body"><p>So I see the query string preserved, if I run (e.g.) <code>pip compile requirements.in</code> with this:</p>
<pre><code>flask @ https://files.pythonhosted.org/packages/36/42/015c23096649b908c809c69388a805a571a3bea44362fe87e33fc3afa01f/flask-3.0.0-py3-none-any.whl?foo=bar
</code></pre>
<p>Anything else to know about the URL you used? Was it an HTTPS or Git dependency? Were there environment variables in it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-02-16 16:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/janbernloehr">@janbernloehr</a> on 2024-02-16 21:16</div>
            <div class="timeline-body"><p>Indeed it works with 0.1.2!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @janbernloehr on 2024-02-16 21:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:21 UTC
    </footer>
</body>
</html>
