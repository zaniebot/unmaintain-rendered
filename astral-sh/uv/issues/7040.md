```yaml
number: 7040
title: "[feat] Log parent package when erroring during dependency install"
type: issue
state: open
author: benniekiss
labels:
  - help wanted
  - error messages
assignees: []
created_at: 2024-09-04T17:52:41Z
updated_at: 2024-09-04T17:56:19Z
url: https://github.com/astral-sh/uv/issues/7040
synced_at: 2026-01-10T01:57:15Z
```

# [feat] Log parent package when erroring during dependency install

---

_Issue opened by @benniekiss on 2024-09-04 17:52_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->
When installing a package that pulls in additional dependencies, and a dependency of those dependencies fails to build, there is no indication of which parent package required the failing package or version. 

It would be helpful if the chain of package dependencies was shown for failing packages, that way it is easier to find the problematic package and fix any version issues. 

Currently, a failing dependency install looks like this. `numba` is not directly required in `pyproject.toml` or by `pyannote-audio`

```
[1/2] STEP 12/13: RUN uv pip install -r pyproject.toml     --no-cache --override overrides.txt     pyannote-audio
Resolved 136 packages in 1.37s
error: Failed to prepare distributions
  Caused by: Failed to fetch wheel: numba==0.53.1
  Caused by: Build backend failed to determine extra requires with `build_wheel()` with exit status: 1
--- stdout:

--- stderr:
/tmp/.tmpXEpsT6/built-wheels-v3/index/b2a7eb67d4c26b82/numba/0.53.1/pa9iWh_E6d_DuuXIyvWlT/numba-0.53.1.tar.gz/versioneer.py:335: SyntaxWarning: invalid escape sequence '\s'
  LONG_VERSION_PY['git'] = '''
Traceback (most recent call last):
  File "<string>", line 14, in <module>
  File "/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py", line 332, in get_requires_for_build_wheel
    return self._get_build_requires(config_settings, requirements=[])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py", line 302, in _get_build_requires
    self.run_setup()
  File "/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py", line 503, in run_setup
    super().run_setup(setup_script=setup_script)
  File "/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py", line 318, in run_setup
    exec(code, locals())
  File "<string>", line 50, in <module>
  File "<string>", line 47, in _guard_py_ver
RuntimeError: Cannot install on Python version 3.12.5; only versions >=3.6,<3.10 are supported.
---
Error: building at STEP "RUN uv pip install -r pyproject.toml     --no-cache --override overrides.txt     pyannote-audio": while running runtime: exit status 2
```



---

_Label `error messages` added by @zanieb on 2024-09-04 17:56_

---

_Comment by @zanieb on 2024-09-04 17:56_

Makes sense to me, I like the idea.

---

_Label `help wanted` added by @zanieb on 2024-09-04 17:56_

---
