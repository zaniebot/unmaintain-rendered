```yaml
number: 15895
title: "Env var to override `[tool.uv.sources]` for development"
type: issue
state: open
author: mawildoer
labels:
  - enhancement
assignees: []
created_at: 2025-09-16T16:17:49Z
updated_at: 2025-12-03T08:17:31Z
url: https://github.com/astral-sh/uv/issues/15895
synced_at: 2026-01-10T01:57:35Z
```

# Env var to override `[tool.uv.sources]` for development

---

_Issue opened by @mawildoer on 2025-09-16 16:17_

### Summary

First off - amazing tooling! Love your work and thanks for your consideration!

## Premise

My typical (and I believe a common) development workflow when working on a project where I own some dependencies is to point the `source` of those dependencies to a local, editable copy like this:

```toml title="pyproject.toml"
[tool.uv.sources]
# my-package = { git = "ssh://git@github.com/mawildoer/my-package.git",  rev = "master" }
my-package = { path = "../my-package", editable = true }
```

## Problem

This is great for development speed, but comes with a few issues:
1. I need to remember to flip the comment back when committing
2. Folks often have the dependency in other locations, so it's not very shareable

## Proposal

Accept an environment variable to override the source of a package.

Perhaps `UV_SOURCES='{ my-package = { path = "../my-package", editable = true } }'`?

Then, assume that would override "my-package"'s `tools.uv.sources` entry, leaving the others intact.

Alternative format: `UV_SOURCES_{package_name} = { path = "../my-package", editable = true }`.

I can see some benefits, but means you need to modify some package names. eg. "-" -> "_"

### Example

Workflow assuming `direnv` installed and allowed:

1. You create a gitignored `.env` file:
```bash title=".env"
UV_SOURCES='{ my-package = { path = "../my-package", editable = true } }
```

2. For your local development, `../my-package` is used in place of the package index

---

_Label `enhancement` added by @mawildoer on 2025-09-16 16:17_

---

_Comment by @mawildoer on 2025-11-20 21:01_

I just found a case where this issue get's substantially more painful too: if you both directly depend on `my-package` and have it as a transitive dependency you quickly start becoming imposing

---

_Comment by @mawildoer on 2025-11-20 21:02_

Highly related issue: #11632 

---

_Referenced in [astral-sh/uv#16853](../../astral-sh/uv/pulls/16853.md) on 2025-11-25 23:14_

---

_Comment by @oelhammouchi on 2025-12-03 08:17_

Bumping up against this issue right now as well, would highly appreciate a fix!

---
