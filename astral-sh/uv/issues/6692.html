<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What is the intended workflow for updating dependencies with uv? - astral-sh/uv #6692</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>What is the intended workflow for updating dependencies with uv?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6692">#6692</a>
        opened by <a href="https://github.com/christianplatta1012">@christianplatta1012</a>
        on 2024-08-27 15:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/christianplatta1012">@christianplatta1012</a></div>
            <div class="timeline-body"><p>Hi,
I am looking into uv for several days now and try to determine whether my team should switch from poetry to uv.
One thing that seems completely absent in the documentation is a way to update dependencies.</p>
<p>We are a python-only team with more than 40 separate projects. We get information about available updates/security issues from dependabot and then usually do a <code>poetry update</code> to update all dependencies to the latest minor version or a <code>poetry add &lt;packagename&gt;@latest</code> if we change major versions. This is usually faster an easier compared to merging dependabot pull requests.</p>
<p>What is the intended workflow in uv to update dependencies?
I&#x27;ve found <a href="https://github.com/astral-sh/uv/issues/1419">astral-sh/uv#1419</a> that talks about a feature request similar to <code>poetry update</code> .
I could probably script something around uv until such a feature exists, but currently I am totally lost how even a single dependency update is intended to work...</p>
<p>Do I really need to know the latest version number for all my dependencies in the pyproject.toml and do a manual uv add &lt;dependecy==version_number&gt;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 15:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 15:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 15:17</div>
            <div class="timeline-body"><p>Hi! In short, you can do <code>uv lock --upgrade</code> to upgrade all of the locked versions of your packages.</p>
<p>We don&#x27;t support &quot;bumping&quot; the dependency constraints in your <code>pyproject.toml</code> yet. That&#x27;s definitely something we&#x27;re interested in, but we haven&#x27;t done any design work for that yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 15:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/christianplatta1012">@christianplatta1012</a> on 2024-08-27 15:26</div>
            <div class="timeline-body"><p>Thank you, this helps a lot.
Maybe worth to add this as an example to the docs. Searching for &quot;upgrade&quot; in https://docs.astral.sh/uv/ does not yield this as result.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/christianplatta1012">@christianplatta1012</a> on 2024-08-27 15:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 16:01</div>
            <div class="timeline-body"><p>Thanks! <a href="https://github.com/astral-sh/uv/pull/6698">astral-sh/uv#6698</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Sam1320">@Sam1320</a> on 2024-11-18 08:15</div>
            <div class="timeline-body"><blockquote>
<p>We don&#x27;t support &quot;bumping&quot; the dependency constraints in your pyproject.toml yet. That&#x27;s definitely something we&#x27;re interested in, but we haven&#x27;t done any design work for that yet.</p>
</blockquote>
<p>Any progress on this direction in the meantime? @zanieb  It would be really useful to auto-bump the .toml along with the .lock upgrade. I find myself constantly manually removing <code>uv remove [package]</code> and then re-adding it to update the pyproject.toml dependencies.</p>
<p>(also, is there a better workaround than <code>remove &amp; add</code> ?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mbeijen">@mbeijen</a> on 2024-11-22 08:12</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>We don&#x27;t support &quot;bumping&quot; the dependency constraints in your pyproject.toml yet. That&#x27;s definitely something we&#x27;re interested in, but we haven&#x27;t done any design work for that yet.</p>
</blockquote>
<p>Any progress on this direction in the meantime? @zanieb It would be really useful to auto-bump the .toml along with the .lock upgrade. I find myself constantly manually removing <code>uv remove [package]</code> and then re-adding it to update the pyproject.toml dependencies.</p>
<p>(also, is there a better workaround than <code>remove &amp; add</code> ?)</p>
</blockquote>
<p>I found a solution, it works fine but I&#x27;m not fully sure if it is the <em>best</em> way;</p>
<ul>
<li>in your <code>pyproject.toml</code> do <em>not</em> specify explicit versions, if you don&#x27;t need to.</li>
<li>If you require a specific range, such as latest 4.2 release of Django, use <code>&quot;Django&gt;=4.2,&lt;4.3&quot;</code></li>
<li>Install your dependencies using <code>uv sync</code> and commit <code>uv.lock</code>.</li>
<li>Now all your installs, co-workers and deploys use the exact same versions</li>
<li>If you want to upgrade, use <code>uv lock --upgrade</code> and uv will fetch the latest updates, based on your specified requirements</li>
<li>Test and then commit the upgraded <code>uv.lock</code>!</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zed">@zed</a> on 2024-11-23 09:46</div>
            <div class="timeline-body"><p>To update specific dependency: <code>uv lock --upgrade-package &lt;package&gt;</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/john-pixforce">@john-pixforce</a> on 2024-12-06 16:44</div>
            <div class="timeline-body"><blockquote>
<p>We don&#x27;t support &quot;bumping&quot; the dependency constraints in your <code>pyproject.toml</code> yet. That&#x27;s definitely something we&#x27;re interested in, but we haven&#x27;t done any design work for that yet.</p>
</blockquote>
<p>hey, @zanieb, do you have any tracker/issue to check updates on it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Goldziher">@Goldziher</a> on 2024-12-21 20:06</div>
            <div class="timeline-body"><p>also interested in this</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-23 17:07</div>
            <div class="timeline-body"><p>See <a href="https://github.com/astral-sh/uv/issues/6794">astral-sh/uv#6794</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qiuxiaomu">@qiuxiaomu</a> on 2025-05-15 20:17</div>
            <div class="timeline-body"><blockquote>
<p>Thanks! <a href="https://github.com/astral-sh/uv/pull/6698">#6698</a></p>
</blockquote>
<p>Reading the help page for this command, i.e.,</p>
<blockquote>
<p>Allow package upgrades, ignoring pinned versions in any existing output file. Implies <code>--refresh</code></p>
</blockquote>
<p>I interpreted it as that it would ignore whatever the locked version is and as long as there&#x27;s version newer than the one in lock file, uv is going to ignore the mandate and update it to the latest available; this isn&#x27;t the behaviour at the moment right? I see that uv is smart enough to only update what&#x27;s not going to break the dependencies.</p>
<p>If I were right, the help page is a bit confusing then, in that uv is not ignoring the locked version (correctly).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cesarqdt">@cesarqdt</a> on 2025-08-19 18:53</div>
            <div class="timeline-body"><blockquote>
<p>To update specific dependency: <code>uv lock --upgrade-package &lt;package&gt;</code></p>
</blockquote>
<p>this does not update to a latest available version, it just updates to the latest defined in the <code>pyproject.toml</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mbeijen">@mbeijen</a> on 2025-08-19 21:00</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>To update specific dependency: <code>uv lock --upgrade-package &lt;package&gt;</code></p>
</blockquote>
<p>this does not update to a latest available version, it just updates to the latest defined in the <code>pyproject.toml</code></p>
</blockquote>
<p>Yeah, if you have restrictions in pyproject.toml stating django &lt; 5 you&#x27;ll not get updated to django 5.x when running uv lock --upgrade, the lockfile must adhere to the constraints in the lockfile. You can remove those constraints, or you can see which newer versions would be available using <code>uv pip list --outdated</code></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:33:20 UTC
    </footer>
</body>
</html>
