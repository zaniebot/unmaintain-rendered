<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable install for dependencies without pyproject.toml or setup.py - astral-sh/uv #8750</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Editable install for dependencies without pyproject.toml or setup.py</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/8750">#8750</a>
        opened by <a href="https://github.com/mpasson">@mpasson</a>
        on 2024-11-01 11:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mpasson">@mpasson</a> on 2024-11-01 11:50</div>
            <div class="timeline-body"><p>I have a few questions about the 'editable' option for dependencies pointing at local path. In order to test it, I set up the following toy model:</p>
<pre><code class="language-bash">.
├── dependency1
│   ├── README.md
│   ├── dependency1
│   │   ├── __init__.py
│   │   └── _version.py
│   ├── pyproject.toml
│   └── uv.lock
└── package1
    ├── README.md
    ├── hello.py
    ├── package1
    │   ├── __init__.py
    │   └── _version.py
    ├── pyproject.toml
    └── uv.lock
</code></pre>
<p>The idea is to have <code>dependency1</code> as a local editable dependency for <code>package1</code> . In order to do that, I run</p>
<pre><code class="language-bash">uv add  &lt;full-path-to-dependency1&gt; --editable
</code></pre>
<p>which correctly add the source to <code>project1</code> <em>pyproject.toml</em> as:</p>
<pre><code class="language-toml">[tool.uv.sources]
dependency1 = { path = &quot;../dependency1&quot;, editable = true }
</code></pre>
<p>My questions are the following:</p>
<ol>
<li>Is there a way to keep the full path of <code>dependency1</code> in the <em>pyptoject.toml</em> of <code>package1</code>, instead of resolving to the relative one? This would make <code>project1</code> more transferable.</li>
<li>All this works provided <code>dependency1</code> is an installable package, and it seem the build process is triggered during creation of the uv environment. It would be possible to avoid this step and just link <code>dependency1</code> in the uv environment (maybe with a .pth file)? This would avoid messing up with the local <code>dependency1</code> folder (right now build hooks, such as hatch vcs, are triggered) and allow the installation of dependencies without a <em>pyproject.toml</em>.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-01 13:26</div>
            <div class="timeline-body"><p>(1) We won't write the absolute PATH, but you can replace <code>path = &quot;../dependency&quot;</code> with the absolute path by editing the <code>pyproject.toml</code> yourself. It makes your project a lot less portable, e.g., you can't check-in your <code>pyproject.toml</code> to Git and share it with others, since you'll have an absolute path that's absolute to your machine or environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-01 13:28</div>
            <div class="timeline-body"><p>(2) No, we have to run the build process in order to create a <code>.pth</code> file. You can mark <code>dependency1</code> as a non-package by setting <code>package = false</code> under <code>[tool.uv]</code> (or removing the <code>[build-system]</code> table). That would lead us to install the dependencies of <code>dependency1</code>, but not the package itself. Which you may or may not want? You wouldn't be able to import from <code>dependency1</code>. (To install as editable, we have to run the build backend hooks.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-11-01 13:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mpasson">@mpasson</a> on 2024-11-01 14:11</div>
            <div class="timeline-body"><p>Thanks for the quick answers! A few comments:
(1) Yes that solves it (agree, to use with caution).
(2) I guess what I'm looking for is for a way to add specific local folders in the search path for the virtual environment created by uv, and for it to happen automatically when the environment is build or updated (including eventual removal). The local folders contains python modules that should be imported in the environment, but are provided &quot;as is&quot; and are not properly packaged python modules (no pyproject.toml). How would you approach this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-01 14:16</div>
            <div class="timeline-body"><p>I don't have much to offer on (2) unfortunately. If you're trying to make the project installable, it should really be structured as a package. I'd suggest making them &quot;real&quot; projects and using a build backend like hatchling. When they're installed, they'll be installed as editables (<code>.pth</code> files), so they'll automatically update on code change etc.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:23 UTC
    </footer>
</body>
</html>
