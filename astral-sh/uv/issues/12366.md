```yaml
number: 12366
title: "Does `uv` support the concept of `--only main`?"
type: issue
state: open
author: johnthagen
labels:
  - question
  - needs-design
assignees: []
created_at: 2025-03-21T13:43:21Z
updated_at: 2025-05-11T23:46:18Z
url: https://github.com/astral-sh/uv/issues/12366
synced_at: 2026-01-10T01:57:28Z
```

# Does `uv` support the concept of `--only main`?

---

_Issue opened by @johnthagen on 2025-03-21 13:43_

### Question

Poetry has the concept of being able to install only the `main` dependancies of the application. In `uv`'s case these would be the only the ones under `project.dependencies`.

https://python-poetry.org/docs/managing-dependencies#installing-group-dependencies

I have not been able to find an exact replacement for this in `uv`. `--no-default-groups` seems close, but semantically feels a bit different for some reason?

What is the recommended alternative to:

```
poetry sync --only main
```

We specifically also want to use this with `poetry export` to pip into [`pip-licenses`](https://pypi.org/project/pip-licenses/).

### Platform

Windows 10

### Version

uv 0.6.9 (3d9460278 2025-03-20)

---

_Label `question` added by @johnthagen on 2025-03-21 13:43_

---

_Comment by @zanieb on 2025-03-21 13:52_

`--no-default-groups --no-sources` would be my recommendation for now. We need to do some broader design work on separating the "development" and "production" dependencies and allowing selection of a subset.

---

_Label `needs-design` added by @zanieb on 2025-03-21 13:52_

---

_Comment by @johnthagen on 2025-03-21 14:00_

Thanks! And is there an equivalent to:

```
poetry install --no-root
```

Which would skip installing the current package?

The idea being that:

```
poetry sync --only main --no-root
```

will install only the top level production dependencies without the actual package. This is useful in certain multi-stage container image builds.

---

_Comment by @zanieb on 2025-03-21 14:01_

`--no-install-project` is the equivalent

---

_Comment by @zanieb on 2025-03-21 14:01_

https://docs.astral.sh/uv/guides/integration/docker/#intermediate-layers

---

_Comment by @johnthagen on 2025-03-21 14:04_

> `--no-install-project` is the equivalent

Ah, thanks! Sorry I missed that because I was also looking at the `--help` output for `uv export`, which doesn't include that (duh).

---

_Comment by @zanieb on 2025-03-21 14:24_

`uv export --no-emit-project` is equivalent :)

---

_Comment by @johnthagen on 2025-03-21 14:59_

Does `uv` support the concept of install a specific _list_ of groups?

- https://python-poetry.org/docs/cli#install

```
poetry install --only test,docs
```

Is the recommended equivalent:

```
uv sync --only-group test --only-group docs
```

---

_Comment by @zanieb on 2025-03-21 15:17_

Yeah that'd be the equivalent. We could allow it to take comma separated values, if you're interested in contributing that. We do it for some other flags.

---

_Comment by @johnthagen on 2025-03-21 17:41_

(Thank you for answering these questions).

Does `uv` have an equivalent of 

- https://python-poetry.org/docs/cli#env-activate

```
poetry env activate
```

It's basically a convenience that outputs the command a user can take to activate the currently managed virtual environment. I feel like `uv` pushes more on the "use `uv run` everywhere" side, which in the long term might be better, but I wanted to ask to make sure I didn't miss it if it existed.

---

_Comment by @zanieb on 2025-03-21 17:49_

No we don't have that yet

---
