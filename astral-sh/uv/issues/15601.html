<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv venv` fails Creating virtual environment - astral-sh/uv #15601</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv venv</code> fails Creating virtual environment</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15601">#15601</a>
        opened by <a href="https://github.com/paulchubatyy">@paulchubatyy</a>
        on 2025-08-30 22:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/paulchubatyy">@paulchubatyy</a> on 2025-08-30 22:30</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>with the following:</p>
<pre><code>❯ uv --version
uv 0.8.14


❯ uv venv
Using CPython 3.11.13 interpreter at: /usr/local/bin/python3
Creating virtual environment at: .venv
error: Failed to create virtual environment
  Caused by: failed to open file `/app/.venv/CACHEDIR.TAG`: No such file or directory (os error 2)
</code></pre>
<h3>Platform</h3>
<p>Linux 6.15.11-orbstack-00539-g9885ebd8e3f4 aarch64 Linux</p>
<h3>Version</h3>
<p>uv 0.8.14</p>
<h3>Python version</h3>
<p>CPython 3.11.13</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @paulchubatyy on 2025-08-30 22:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-08-30 22:33</div>
            <div class="timeline-body"><p>Strange. This seems impossible from reading the code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-08-30 22:34</div>
            <div class="timeline-body"><p>Can you provide a complete reproduction, e.g., with a Dockerfile?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-08-30 22:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2025-08-30 22:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/paulchubatyy">@paulchubatyy</a> on 2025-08-30 22:35</div>
            <div class="timeline-body"><p>Just tried on the host mac:</p>
<pre><code>❯ uv venv
Using CPython 3.13.3 interpreter at: /opt/homebrew/opt/python@3.13/bin/python3.13
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate.fish

❯ uv --version
uv 0.6.14 (Homebrew 2025-04-09)
</code></pre>
<p>I'll use it as a workaround for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/paulchubatyy">@paulchubatyy</a> on 2025-08-30 22:37</div>
            <div class="timeline-body"><p>Here's my Dockerfile that I used to build the VSCode remote container:</p>
<pre><code>FROM ghcr.io/astral-sh/uv:python3.11-alpine AS base
ARG GIT_REV=development
ENV LC_ALL=C.UTF-8
ENV LANG=C.UTF-8
ENV GIT_REV=${GIT_REV}
RUN apk add --no-cache gettext ca-certificates \
    gcc python3-dev libc-dev linux-headers postgresql-dev libffi-dev \
    jpeg-dev zlib-dev libjpeg freetype-dev redis openssh \
    fish graphviz vim jq doas make git bash postgresql-client
WORKDIR /app

FROM base AS development
RUN adduser -u 1000 -h /home/me -G wheel -D me &amp;&amp; \
    echo &quot;permit nopass :wheel&quot; &gt;&gt; /etc/doas.d/doas.conf &amp;&amp; \
    mkdir -p /home/me/.vscode-server/extensions &amp;&amp; \
    chown -R vrds /home/me/.vscode-server &amp;&amp; \
    chown -R vrds /home/me/.vscode-server/extensions
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/paulchubatyy">@paulchubatyy</a> on 2025-08-30 23:34</div>
            <div class="timeline-body"><p>I guess it was something with the volume mount. After I recreated it everything worked.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @paulchubatyy on 2025-08-30 23:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/michealroberts">@michealroberts</a> on 2025-09-05 18:50</div>
            <div class="timeline-body"><p>+1 This seems to be an issue when using a bound volume mount / containerisation ... I'm not sure why it happens but it's happening on &gt;0.8.4</p>
<p>The workaround is to remove your .venv file, kill any containers etc and rebuild then a fresh.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:07 UTC
    </footer>
</body>
</html>
