<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`--extra-index-url` fails to look up on pypi when there are no wheels built for my machine - astral-sh/uv #4578</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>--extra-index-url</code> fails to look up on pypi when there are no wheels built for my machine</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4578">#4578</a>
        opened by <a href="https://github.com/baggiponte">@baggiponte</a>
        on 2024-06-27 09:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/baggiponte">@baggiponte</a></div>
            <div class="timeline-body"><p>Ciao! I am using <code>uv</code> to install a package from a private index. I noticed an error when trying to install anything that depends on <code>pydantic-core</code>. Basically, on the private index there are just these wheels:</p>
<p><img src="https://github.com/astral-sh/uv/assets/57922983/26d440b8-0d18-485d-afe5-10ffac71b073" alt="image" /></p>
<p>So when I try to install pydantic-core==2.18.4 on macOS, uv fails:</p>
<pre><code class="language-bash">uv pip install --extra-index-url=&quot;https://$USER:$PWD@pkgs.dev.azure.com/$COMPANY/_packaging/$FEED/pypi/simple/&quot; --verbose -- &quot;pydantic-core==2.18.4&quot;
DEBUG uv 0.2.17
DEBUG Searching for Python interpreter in system toolchains
DEBUG Found cpython 3.10.14 at `/private/tmp/test/.venv/bin/python3` (virtual environment)
DEBUG Using Python 3.10.14 environment at .venv/bin/python3
DEBUG Acquired lock for `.venv`
DEBUG At least one requirement is not satisfied: pydantic-core==2.18.4
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.10.14
DEBUG Adding direct dependency: pydantic-core==2.18.4
DEBUG No cache entry for: https://pkgs.dev.azure.com/$COMPANY/_packaging/$FEED/pypi/simple/pydantic-core/
DEBUG Searching for a compatible version of pydantic-core (==2.18.4)
  Ã— No solution found when resolving dependencies:
  â•°â”€â–¶ Because pydantic-core==2.18.4 has no wheels are available with a matching Python implementation and you require pydantic-core==2.18.4, we can conclude that the requirements are unsatisfiable.
</code></pre>
<p>I think the correct behaviour is for uv to start looking on pypi?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-27 11:08</div>
            <div class="timeline-body"><p>Hi! Check out our <a href="https://github.com/astral-sh/uv/blob/main/PIP_COMPATIBILITY.md#packages-that-exist-on-multiple-indexes">pip compatibility guide</a> â€” you're probably looking for <code>--index-strategy unsafe-best-match</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-06-27 11:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baggiponte">@baggiponte</a> on 2024-06-27 15:22</div>
            <div class="timeline-body"><p>Confirmed it works! ðŸ˜Š Super cool that <code>uv</code> is so stringent/safe by default. Do you think you'd support specifying &quot;only install X from index Y&quot; and dependencies from pypi?</p>
<p>Close the issue whenever you want ðŸ˜Š</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-27 15:56</div>
            <div class="timeline-body"><p>Yeah we're definitely going to support that! See #171 for more details.</p>
<p>Thank you :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-06-27 15:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:25:23 UTC
    </footer>
</body>
</html>
