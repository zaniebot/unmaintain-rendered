<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retrieving metadata for installed packages - astral-sh/uv #10962</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Retrieving metadata for installed packages</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/10962">#10962</a>
        opened by <a href="https://github.com/tjni">@tjni</a>
        on 2025-01-25 17:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tjni">@tjni</a> on 2025-01-25 17:53</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I have a use case in which I'd like to programmatically work with the metadata for every installed package. My ideal workflow would be to run a single command:</p>
<pre><code>❯ uv pip list --python &lt;some python&gt; --format=json --metadata-fields=name,keywords --requires
[
  {
    &quot;name&quot;: &quot;normalized-name&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;metadata&quot;: {
      &quot;name&quot;: &quot;original_name&quot;,
      &quot;keywords&quot;: &quot;1,2,3&quot;
    },
    &quot;requires&quot;: [
      { &quot;name&quot;: &quot;normalized-dependency-name&quot; }
    ]
  },
  ...
]
</code></pre>
<p>where the <code>--requires</code> option is something I'm proposing in https://github.com/astral-sh/uv/pull/10886.</p>
<p>When researching the history of this feature being asked for in pip, I stumbled across https://github.com/pypa/pip/pull/11097 and https://github.com/pypa/pip/issues/5261, in which the pip maintainers felt that adding this to <code>pip list</code> (or <code>pip show</code>) as JSON output was feature creep, and instead created <code>pip inspect</code>. Less optimal for my use case, but still quite reasonable (I can join this information in application code):</p>
<pre><code>❯ uv pip list --python &lt;some python&gt; --format=json --requires
[
  {
    &quot;name&quot;: &quot;normalized-name&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;requires&quot;: [
      { &quot;name&quot;: &quot;normalized-dependency-name&quot; }
    ]
  },
  ...
]

❯ uv pip inspect --python &lt;some python&gt;
{
  &quot;version&quot;: &quot;1&quot;,
  &quot;uv_version&quot;: &quot;0.5.24&quot;,
  &quot;installed&quot;: [
    {
      &quot;metadata&quot;: {
        &quot;name&quot;: &quot;original_name&quot;,
        &quot;keywords&quot;: &quot;1,2,3&quot;,
        ...
    }
  ]
  &quot;environment&quot;: {
    ...
  }
}
</code></pre>
<p>I feel that this feature request shares some overlap with:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/2526</li>
<li>https://github.com/astral-sh/uv/issues/7532</li>
</ul>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @tjni on 2025-01-25 17:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Flimm">@Flimm</a> on 2025-08-16 22:10</div>
            <div class="timeline-body"><p>You can get there using <code>pip show -v &lt;packagename&gt;</code>. Loop over all installed packages, and run:</p>
<pre><code> uv run -- pip show -v &lt;packagename&gt;</code></pre>
<p>The verbose flag <code>-v</code> will print out additional fields like <code>Project-URLs</code>, <code>Classifiers</code> and <code>Entry-points</code>, assuming the package has that metadata.</p>
<p>To prevent problems, you need to make sure that <code>pip</code> is installed in your virtual environment. To do that you can run <code>uv add pip</code>. Or you can run <code>uv venv --seed</code> when creating the virtual environment. If you don't install <code>pip</code> in your virtual environment, the globally installed <code>pip</code> may be run instead, which may handle the global environment, rather than the virtual environment.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:32:58 UTC
    </footer>
</body>
</html>
