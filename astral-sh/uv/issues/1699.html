<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>devise testing strategy for uv's cache - astral-sh/uv #1699</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>devise testing strategy for uv's cache</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/1699">#1699</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2024-02-19 15:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-19 15:53</div>
            <div class="timeline-body"><p>At present, we don't really have a good way of testing our cache specifically, other than as part of broader test. We should try to fix this because our caching logic isn't entirely trivial, and issues with it can be difficult to catch. For example, https://github.com/astral-sh/uv/issues/1571 / #1609 is an issue that occurred where <code>uv</code>'s internal data structures changed and this caused deserializing older cache data to fail. Catching a bug like this with tests is a little tricky, because it requires injecting intentionally invalid cache data, which isn't something our code really supports right now. The &quot;simplest&quot; path here is probably to just write a test that reaches into the cache directory and writes its own data based on knowledge of what we store there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @BurntSushi on 2024-02-19 15:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @BurntSushi on 2024-02-19 15:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @BurntSushi on 2024-02-19 15:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:43:00 UTC
    </footer>
</body>
</html>
