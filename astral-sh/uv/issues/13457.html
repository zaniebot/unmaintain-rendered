<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support shared environment like conda - astral-sh/uv #13457</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support shared environment like conda</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/13457">#13457</a>
        opened by <a href="https://github.com/taoari">@taoari</a>
        on 2025-05-14 16:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/taoari">@taoari</a> on 2025-05-14 16:56</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Sometimes it can be cumbersome for uv to create an environment per script. This is especially true when involving large dependencies like pytorch, which could take several GB even for a hello world script. It would be great if uv could support shared environment like conda does. Something like:</p>
<p>conda create -n myenv python=3.12 &lt;=&gt; uv venv myproject --python 3.12 --global
conda activate myenv &lt;=&gt; uv activate myenv</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @taoari on 2025-05-14 16:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-14 18:03</div>
            <div class="timeline-body"><p>uv hardlinks dependency by defaults, which means that new environments are small: There is only one copy of torch stored on disk for all scripts.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/taoari">@taoari</a> on 2025-05-14 21:42</div>
            <div class="timeline-body"><p>@konstin Thanks for your response. While using hard links is a possible workaround, it's not an ideal solution—it's rather clunky in practice. It would be much better if uv users had more control over how environments are organized. For example, I’d prefer all environments to be stored under ~/.uv/envs/ rather than having a separate .venv directory for each script (i.e. keep code and environment separation). Native support for configurable environment locations would make uv more attractive, especially to conda users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-05-14 21:47</div>
            <div class="timeline-body"><p>It's not really a &quot;workaround&quot;. I think hard links and some kind of centralized environment management are sort of orthogonal? If the concern is <em>space</em>, then hard links seem like a much better solution since they don't <em>require</em> you to share an environment across projects. If the concern instead stems from particularities of your workflow, that's different. I think you want https://github.com/astral-sh/uv/issues/1495 though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-05-14 21:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:27 UTC
    </footer>
</body>
</html>
