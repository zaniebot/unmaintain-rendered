<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>activate.nu is incompatible with nushell 0.106.0 - astral-sh/uv #14888</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>activate.nu is incompatible with nushell 0.106.0</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/14888">#14888</a>
        opened by <a href="https://github.com/AngelEzquerra">@AngelEzquerra</a>
        on 2025-07-25 10:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/AngelEzquerra">@AngelEzquerra</a> on 2025-07-25 10:35</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>nushell 0.106.0 introduces a backwards incompatibility that affects activate.nu which now fails with the following error:</p>
<pre><code>Warning: nu::parser::deprecated

  ⚠ Flag deprecated.
    ╭─[/Users/myuser/example/.venv/bin/activate.nu:49:27]
 48 │         } else {
 49 │           not ($env | get -i $name | is-empty)
    ·                           ─┬
    ·                            ╰── get --ignore-errors was deprecated in 0.106.0 and will be removed in a future release.
 50 │         }
    ╰────
  help: This flag has been renamed to `--optional (-o)` to better reflect its
        behavior.
</code></pre>
<p>I believe it could be fixed by changing <code>get -i $name</code> to <code>get --optional $name</code>.</p>
<h3>Platform</h3>
<p>macOS 15.5</p>
<h3>Version</h3>
<p>uv 0.8.3</p>
<h3>Python version</h3>
<p>Python 3.13.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @AngelEzquerra on 2025-07-25 10:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Efterklang">@Efterklang</a> on 2025-07-25 13:36</div>
            <div class="timeline-body"><p>I solved the problem by manually modifying this line</p>
<p>https://github.com/astral-sh/uv/blob/1146f3f62d88bcfe6d81a45987b1fd4745b3eeb4/crates/uv-virtualenv/src/activator/activate.nu#L49</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2025-07-25 22:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-25 22:49</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14914.html">astral-sh/uv#14914</a> on 2025-07-26 06:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/14917.html">astral-sh/uv#14917</a> on 2025-07-26 19:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/2bndy5">@2bndy5</a> on 2025-08-14 02:54</div>
            <div class="timeline-body"><p>bump.</p>
<p>I was just about to file this as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15272.html">astral-sh/uv#15272</a> on 2025-08-14 08:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-09-05 21:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
