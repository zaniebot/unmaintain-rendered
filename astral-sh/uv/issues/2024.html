<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cannot install packages from gemfury private repos - astral-sh/uv #2024</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>cannot install packages from gemfury private repos</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2024">#2024</a>
        opened by <a href="https://github.com/ellisonleao">@ellisonleao</a>
        on 2024-02-27 17:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ellisonleao">@ellisonleao</a></div>
            <div class="timeline-body">

<p>I&#x27;ve checked other issues with a similar problem but I couldn&#x27;t see any fixes for that, so sorry if this is already fixed or not. I am basically trying to install some private packages using gemfury private URL as extra index URL. Right now I am getting the following error</p>
<pre><code>$ ❯ uv pip install my-private-lib --extra-index-url=$PIP_EXTRA_INDEX_URL -v
 uv::requirements::from_source source=my-private-lib
    0.010306s DEBUG uv_interpreter::virtual_env Found a virtualenv named .venv at: /home/ellison/code/test-uv/.venv
    0.010472s DEBUG uv_interpreter::interpreter Cached interpreter info for Python 3.11.7, skipping probing: /home/ellison/code/test-uv/.venv/bin/python
    0.010498s DEBUG uv::commands::pip_install Using Python 3.11.7 environment at /home/ellison/code/test-uv/.venv/bin/python
    0.011815s DEBUG uv_client::registry_client Using registry request timeout of 300s
 uv_client::flat_index::from_entries
 uv_resolver::resolver::solve
      0.014597s   0ms DEBUG uv_resolver::resolver Solving with target Python version 3.11.7
   uv_resolver::resolver::choose_version package=root
   uv_resolver::resolver::get_dependencies package=root, version=0a0.dev0
        0.014692s   0ms DEBUG uv_resolver::resolver Adding direct dependency: my-private-lib*
   uv_resolver::resolver::choose_version package=my-private-lib
     uv_resolver::resolver::package_wait package_name=my-private-lib
 uv_resolver::resolver::process_request request=Versions my-private-lib
   uv_client::registry_client::simple_api package=my-private-lib
     uv_client::cached_client::get_cacheable
       uv_client::cached_client::read_and_parse_cache file=/home/ellison/.cache/uv/simple-v3/pypi/my-private-lib.rkyv
 uv_resolver::resolver::process_request request=Prefetch my-private-lib *
 uv_client::cached_client::from_path_sync path=&quot;/home/ellison/.cache/uv/simple-v3/pypi/my-private-lib.rkyv&quot;
          0.015655s   0ms DEBUG uv_client::cached_client No cache entry for: https://pypi.org/simple/my-private-lib/
       uv_client::cached_client::fresh_request url=&quot;https://pypi.org/simple/my-private-lib/&quot;
     uv_client::cached_client::get_cacheable
       uv_client::cached_client::read_and_parse_cache file=/home/ellison/.cache/uv/simple-v3/d736d56cadfe88a9/my-private-lib.rkyv
 uv_client::cached_client::from_path_sync path=&quot;/home/ellison/.cache/uv/simple-v3/d736d56cadfe88a9/my-private-lib.rkyv&quot;
          0.182326s   0ms DEBUG uv_client::cached_client No cache entry for: https://repo.fury.io/loadsmart/my-private-lib/
       uv_client::cached_client::fresh_request url=&quot;https://repo.fury.io/loadsmart/my-private-lib/&quot;
      0.646272s 631ms DEBUG uv_resolver::resolver No compatible version found for: my-private-lib
  × No solution found when resolving dependencies:
  ╰─▶ Because my-private-lib was not found in the package registry and you require celery-sqs, we can conclude that the requirements are unsatisfiable.
</code></pre>
<p>Also tried to setting <code>UV_EXTRA_INDEX_URL</code> and running the command, but I get the same error. What am I missing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-28 00:06</div>
            <div class="timeline-body"><p>Does <code>my-private-lib</code> exist on PyPI? I.e., is there a package with the same name on PyPI (regardless of whether it&#x27;s &quot;the same&quot; package or an overlapping version)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-28 00:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ellisonleao">@ellisonleao</a> on 2024-02-28 01:55</div>
            <div class="timeline-body"><blockquote>
<p>Does <code>my-private-lib</code> exist on PyPI? I.e., is there a package with the same name on PyPI (regardless of whether it&#x27;s &quot;the same&quot; package or an overlapping version)?</p>
</blockquote>
<p>No it does not, only on gemfury</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-28 02:17</div>
            <div class="timeline-body"><p>Okay, I just set one of these up myself...</p>
<p>I assume you&#x27;re passing something like <code>--index-url https://token@repo.fury.io/username/</code>? Can you instead try <code>--index-url https://token@pypi.fury.io/username/</code>? Note that I changed <code>repo.fury.io</code> to <code>pypi.fury.io</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-28 02:18</div>
            <div class="timeline-body"><p>It looks like Gemfury relies on the User Agent to know which &quot;kind&quot; of repo to serve, but <code>uv</code> doesn&#x27;t say &quot;pip&quot; in its User Agent (it says <code>uv</code>).</p>
<p><img src="https://github.com/astral-sh/uv/assets/1309177/79dec83e-abeb-49f6-9bc2-9eb4630624c9" alt="Screenshot 2024-02-27 at 9 18 01 PM"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ellisonleao">@ellisonleao</a> on 2024-02-28 14:22</div>
            <div class="timeline-body"><p>@charliermarsh was able to install it using <code>--extra-index-url</code> with <code>pypi.fury.io</code> as hostname. Thank you so much!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ellisonleao">@ellisonleao</a> on 2024-02-28 14:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-28 14:53</div>
            <div class="timeline-body"><p>Awesome, that&#x27;s great to confirm!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:03 UTC
    </footer>
</body>
</html>
