<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem with `/` vs `\` when using cygwin on windows - astral-sh/uv #3953</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Problem with <code>/</code> vs <code>\</code> when using cygwin on windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3953">#3953</a>
        opened by <a href="https://github.com/JackDyre">@JackDyre</a>
        on 2024-06-01 00:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/JackDyre">@JackDyre</a> on 2024-06-01 00:00</div>
            <div class="timeline-body"><p>I am on Windows 10 and use Cygwin as my preferred shell/terminal. The problem is that cygwin uses <code>/</code> unlike windows.</p>
<p>Creating a venv works just fine:</p>
<pre><code>riley@EpsonPortableOfficePrinter1090E42 /cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network
$ uv venv test_venv
Using Python 3.12.3 interpreter at: C:\Users\riley\AppData\Local\Programs\Python\Python312\python.exe
Creating virtualenv at: test_venv
Activate with: source test_venv\Scripts\activate


riley@EpsonPortableOfficePrinter1090E42 /cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network
$ source test_venv/Scripts/activate


(test_venv)
riley@EpsonPortableOfficePrinter1090E42 /cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network
</code></pre>
<p>But I am unable to do any pip commands in the venv:</p>
<pre><code>(test_venv)
riley@EpsonPortableOfficePrinter1090E42 /cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network
$ uv pip list
error: failed to canonicalize path `/cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network/test_venv\Scripts\python.exe`
  Caused by: The system cannot find the path specified. (os error 3)
</code></pre>
<pre><code>(test_venv)
riley@EpsonPortableOfficePrinter1090E42 /cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network
$ uv pip install numpy
error: failed to canonicalize path `/cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network/test_venv\Scripts\python.exe`
  Caused by: The system cannot find the path specified. (os error 3)
</code></pre>
<p>the only way i can use uv on my windows machine is in command prompt.</p>
<p>Is there a way to add support for forward slashes on windows machine for linux-emulating terminals like cygwin?</p>
<p>Oh also just to clarify, <code>EpsonPortableOfficePrinter1090E42</code> is the name of my device, it is not a printer. I changed it as a joke a while ago</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-01 00:37</div>
            <div class="timeline-body"><p>On Cygwin, where is the Python located? I assume <code>test_venv\Scripts\python.exe</code> is wrong, and that it's at <code>test_venv/bin/python</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JackDyre">@JackDyre</a> on 2024-06-01 02:13</div>
            <div class="timeline-body"><p>I am not sure what you mean &quot;on cygwin&quot; but <code>test_venv\Scripts\python.exe</code> is the correct path to python in the venv. The real python installation is at <code>C:\Users\riley\AppData\Local\Programs\Python\Python312\python.exe</code>.</p>
<p>Trying to use <code>uv install</code> outside of a venv results in the following error:</p>
<pre><code>riley@EpsonPortableOfficePrinter1090E42 /cygdrive/c/Users/riley/Documents/GitHub/tic-tac-toe-neural-network
$ uv pip install numpy
error: No Python interpreters found in virtual environments
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Problem with `/` vs `\` when using cygwin won windows" to "Problem with `/` vs `\` when using cygwin on windows" by @JackDyre on 2024-06-01 02:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @charliermarsh on 2024-06-01 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-06-01 22:02</div>
            <div class="timeline-body"><p>Does the same happen if you try to use the dedicated cygwin python package (via cygwin package manager) rather than your windows native one? I believe this can happen when you mix subsystems (e.g. using python.exe from your native windows inside cygwin) likely due to <code>os.sep</code> being different than what cygwin would expect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JackDyre">@JackDyre</a> on 2024-06-01 23:52</div>
            <div class="timeline-body"><p>I did not know of its existence. I will look into it and try it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JackDyre">@JackDyre</a> on 2024-06-28 21:02</div>
            <div class="timeline-body"><p>Apologies for taking so long to follow up on this, I managed to get the cygwin python package up and working, and verified that <code>python</code> in cygwin refers to the 3.9 installation from the cygwin package and not my 3.12 system installation.</p>
<p>When i tried to install uv onto the cygwin python package using <code>python -m install uv</code>, and it failed with <a href="https://pastebin.com/rNjPrDBM">this</a> huge output dump that I have no clue how to interpret. My guess is that it has something to do with <code>Defaulting to user installation because normal site-packages is not writeable</code>. I assume that has to do with the cygwin python installation and has nothing to do with uv</p>
<p>Anyway I installed uv back onto my 3.12 system installation and now all of the issues i originally had with uv not working in cygwin have been resolved.</p>
<p>Assuming the failure to install uv on the cygwin python is an issue with cygwin and not uv, this can be closed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-28 21:08</div>
            <div class="timeline-body"><p>Thanks for following up!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-06-28 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-28 21:09</div>
            <div class="timeline-body"><p>It looks like the install failed because it tried to build from source, rather than using a wheel. That might be a cygwin issue, but I'd have to test myself to understand what wheels cygwin can support.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:33 UTC
    </footer>
</body>
</html>
