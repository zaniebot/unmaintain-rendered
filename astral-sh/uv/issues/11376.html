<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`sync_dry_run` failed with spurious error - astral-sh/uv #11376</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>sync_dry_run</code> failed with spurious error</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11376">#11376</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2025-02-10 03:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-10 03:13</div>
            <div class="timeline-body"><p><img src="https://github.com/user-attachments/assets/872c0d82-e2bb-404f-ba3c-ef41bd806a35" alt="Image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @charliermarsh on 2025-02-10 03:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-10 21:33</div>
            <div class="timeline-body"><pre><code>running 1 test
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: sync_dry_run-4
Source: crates/uv/tests/it/sync.rs:6647
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    1     1 │ exit_code: 0
    2     2 │ ----- stdout -----
    3     3 │ 
    4     4 │ ----- stderr -----
    5       │-Discovered existing environment at: .venv
          5 │+Using CPython 3.8.[X] interpreter at: [PYTHON-3.8]
          6 │+Would replace existing virtual environment at: .venv
    6     7 │ Resolved 2 packages in [TIME]
    7     8 │ Found up-to-date lockfile at: uv.lock
    8       │-Audited 1 package in [TIME]
    9       │-Would make no changes
          9 │+Would install 1 package
         10 │+ + iniconfig==2.0.0
────────────┴───────────────────────────────────────────────────────────────────
Stopped on the first failure. Run `cargo insta test` to run all snapshots.
test sync::sync_dry_run ... FAILED
</code></pre>
<p>Ubuntu https://github.com/astral-sh/uv/actions/runs/13250788244/job/36987964537?pr=11405</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-10 21:41</div>
            <div class="timeline-body"><p>I haven't been able to reproduce this locally, but it might be helpful to show the snapshots for the preceding commands (which are currently just asserted).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-28 15:00</div>
            <div class="timeline-body"><p>These are back with some frequency: https://github.com/astral-sh/uv/actions/runs/14710321658/job/41280823131?pr=13176</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-11 02:36</div>
            <div class="timeline-body"><p>Oh, we think we fixed this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-11 02:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:55 UTC
    </footer>
</body>
</html>
