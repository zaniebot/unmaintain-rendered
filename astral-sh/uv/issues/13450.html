<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specify venv location for `uv run --script` - astral-sh/uv #13450</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Specify venv location for <code>uv run --script</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13450">#13450</a>
        opened by <a href="https://github.com/ValeKnappich">@ValeKnappich</a>
        on 2025-05-14 11:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ValeKnappich">@ValeKnappich</a> on 2025-05-14 11:51</div>
            <div class="timeline-body"><h3>Question</h3>
<p>When running a script with inline dependencies, <code>uv run --script</code> currently creates a temporary venv in the cache directory, which makes sense as a default. But it would be nice to be able to specify a fixed path for the venv, e.g. to point to in the vscode python extension config.</p>
<p>Is there currently a way to achieve a static venv location for <code>uv run --script</code>?</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ValeKnappich on 2025-05-14 11:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-14 12:05</div>
            <div class="timeline-body"><p>We're planning for better IDE integration which will help VS Code to find the script venv automatically without any manual action.</p>
<p>In the meantime, you can use <code>uv sync --script</code> to install the dependencies in your venv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ValeKnappich">@ValeKnappich</a> on 2025-05-14 12:23</div>
            <div class="timeline-body"><p>Thanks for the quick reply @konstin! Dedicated IDE support for this would be amazing.</p>
<p>Can I specify a fixed location for the venv with <code>uv sync --script</code>? It apparently also creates the venv in the cache dir by default</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-14 12:33</div>
            <div class="timeline-body"><p>There's <a href="https://docs.astral.sh/uv/configuration/environment/#uv_project_environment"><code>UV_PROJECT_ENVIRONMENT</code></a>, though that's more of an escape hatch for container deployment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-05-15 02:35</div>
            <div class="timeline-body"><p>One thing you can do is pass <code>--active</code>, then we'll sync to whatever the <em>active</em> virtual environment is.</p>
<p>So you could do: <code>VIRTUAL_ENV=foo uv sync --script main.py --active</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ValeKnappich">@ValeKnappich</a> on 2025-05-15 08:14</div>
            <div class="timeline-body"><p>Thanks @charliermarsh. That could be a workaround albeit with some extra steps compared to what I originally intended.</p>
<p>For reference, my original use case was to create a separate environment for one script in a project that requires a set of dependencies that is not compatible with the remaining project. For now, I just created a separate uv project (<code>uv venv</code> would also work but I prefer the project-based dependency definition) as shown below and activate the respective venv as required. Feel free to chip in if there is a better way to have multiple venv's in one project. Closing this for now.</p>
<pre><code>.venv
    bin
    ...
.venv-separate
    .venv
        bin
    pyproject.toml
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ValeKnappich on 2025-05-15 08:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:01 UTC
    </footer>
</body>
</html>
