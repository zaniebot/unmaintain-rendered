<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discussion: Re-implement pre-commit in rust (in `uv`)? - astral-sh/uv #8131</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Discussion: Re-implement pre-commit in rust (in `uv`)?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8131">#8131</a>
        opened by <a href="https://github.com/phitoduck">@phitoduck</a>
        on 2024-10-11 19:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/phitoduck">@phitoduck</a> on 2024-10-11 19:44</div>
            <div class="timeline-body"><p><code>pre-commit</code> is a great tool, but it has some weaknesses.</p>
<ul>
<li>It's not written in <code>rust</code> (I mean c'mon)</li>
<li>It doesn't have great mono-repo support, e.g. if you have multiple packages in one repo it's hard to apply different sets of linting rules per package/subfolder within a repo. <code>uv</code> seems to have 1st-class support for multi-package repos (with Workspaces)</li>
</ul>
<p>But seriously, would it make sense to bring <code>pre-commit</code> into <code>uv</code> or otherwise into <code>ruff</code> or it's own project?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2024-10-11 19:55</div>
            <div class="timeline-body"><p>FYI there is https://pypi.org/project/pre-commit-uv but obviously could be built into <code>uv</code> though <code>pre-commit</code> supports other languages (such as node, r, etc), so a full reimplementation would be more difficult.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-10-12 01:01</div>
            <div class="timeline-body"><p>For me the real strength of pre-commit (the tool, not the git hook) comes from its ci integration (pre-commit.ci) that provides autofixing. It does however have some things its lacking in. Like a 250MiB download limit (which makes it near impossible to use large/complex ESLint configs). The fact it has to pin exact versions, which duplicates versions defined in code. The autoupdate PRs not being possible to disable. Blocks all downloads at runtime (so no referencing online configs). Monorepo support could be better. And probably more.</p>
<p>On the CI side, it might be worth considering a GitHub action like https://github.com/EndBug/add-and-commit or https://github.com/stefanzweifel/git-auto-commit-action instead . Just run your formatters and autofixers as usual, then autocommit them. I'm personally looking for something like this since I'm also hitting pre-commit limitations with dprint and eslint (on top of the version lock annoyance), but haven't yet tested or vetted any. At work I wrote our own Azure DevOps extension for it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/j178">@j178</a> on 2024-11-16 16:52</div>
            <div class="timeline-body"><p>Hi, I'm working on a Rust implementation of the <code>pre-commit</code> tool: <a href="https://github.com/j178/prek">prek</a>. It's still in the early stages, with only a few features implemented and not yet ready for production use. If anyone is interested, please give it a try!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rpdelaney">@rpdelaney</a> on 2025-09-24 18:23</div>
            <div class="timeline-body"><p>There's also <a href="https://github.com/j178/prek">prek</a>. I've been migrating over to <a href="https://lefthook.dev/">lefthook</a>, which is in Golang, but it has no issue with running per-subfolder git hooks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-24 18:27</div>
            <div class="timeline-body"><p>I'm going to close this â€” it's out of scope for us. Thanks for sharing some alternatives!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-09-24 18:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:00 UTC
    </footer>
</body>
</html>
