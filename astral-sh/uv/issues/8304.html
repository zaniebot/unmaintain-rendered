<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot run some commands using `uv tool run` - astral-sh/uv #8304</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot run some commands using `uv tool run`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8304">#8304</a>
        opened by <a href="https://github.com/laclouis5">@laclouis5</a>
        on 2024-10-17 19:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/laclouis5">@laclouis5</a> on 2024-10-17 19:36</div>
            <div class="timeline-body"><p>Platform: macOS
UV version: uv 0.4.23 (Homebrew 2024-10-17)</p>
<p>I installed 2 tools using <code>uv tool</code>:</p>
<ul>
<li><code>uv tool install labelme</code> (an annotation tool)</li>
<li><code>uv tool install &quot;huggingface-hub[cli]&quot;</code> (Hugging Face CLI)</li>
</ul>
<p>I expected to run these tools using <code>uv tool run</code> (or <code>uvx</code>) but this does not work for the <code>huggingface-cli</code> command which return this error:</p>
<pre><code class="language-shell">  × No solution found when resolving tool dependencies:
  ╰─▶ Because huggingface-cli was not found in the package registry and you require huggingface-cli, we
      can conclude that your requirements are unsatisfiable.
</code></pre>
<p>Here is the command I used (which is a valid command):</p>
<p><code>uv tool run huggingface-cli scan-cache</code></p>
<p>However, the command runs fine using those 2 commands:</p>
<ul>
<li><code>uv run huggingface-cli scan-cache</code></li>
<li>huggingface-cli scan-cache</li>
</ul>
<p>On the opposite, I can run the <code>labelme</code> command using <code>uvx</code> but not with <code>uv run</code> nor with a bare command call (simply <code>labelme</code>), which output this error:</p>
<pre><code class="language-shell">Traceback (most recent call last):
  File &quot;/Users/louislac/.local/bin/labelme&quot;, line 5, in &lt;module&gt;
    from labelme.__main__ import main
  File &quot;/Users/louislac/.local/share/uv/tools/labelme/lib/python3.13/site-packages/labelme/__init__.py&quot;, line 6, in &lt;module&gt;
    from qtpy import QT_VERSION
  File &quot;/Users/louislac/.local/share/uv/tools/labelme/lib/python3.13/site-packages/qtpy/__init__.py&quot;, line 287, in &lt;module&gt;
    raise QtBindingsNotFoundError from None
qtpy.QtBindingsNotFoundError: No Qt bindings could be found
</code></pre>
<p>Any reason those tools does not seem to work as expected?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-17 21:28</div>
            <div class="timeline-body"><p>Installing the tool adds its binaries to your <code>PATH</code> so, <code>uv tool install &quot;huggingface-hub[cli]&quot;</code> is expected to enable invoking <code>huggingface-cli</code> directly. Using <code>uv tool run</code> downloads a package with the matching name, then runs it. <code>uv tool run huggingface-cli</code> fails because it's looking for the <code>huggingface-cli</code> package. You want, <code>uv tool run --from &quot;huggingface-hub[cli]&quot; huggingface-cli</code>.</p>
<p><code>uv run huggingface-cli</code> works because it invokes the binary on your <code>PATH</code> if it's not present in current virtual environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-10-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-10-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/laclouis5">@laclouis5</a> on 2024-10-17 21:41</div>
            <div class="timeline-body"><p>thanks, that is very clear!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @laclouis5 on 2024-10-17 21:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:31:12 UTC
    </footer>
</body>
</html>
