<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>universal-lock: track version numbers for all distributions - astral-sh/uv #3356</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>universal-lock: track version numbers for all distributions</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3356">#3356</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2024-05-03 16:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-05-03 16:01</div>
            <div class="timeline-body"><p>When creating a <code>Lock</code>, we currently have a <code>todo!()</code> when trying to extract version numbers:</p>
<p>https://github.com/astral-sh/uv/blob/e33ff95575e8165078799548070210947d1cfad0/crates/uv-resolver/src/lock.rs#L281-L287</p>
<p>For example, when the distribution comes from a direct URL, it only has a URL and not a version number:</p>
<p>https://github.com/astral-sh/uv/blob/e33ff95575e8165078799548070210947d1cfad0/crates/distribution-types/src/lib.rs#L567-L571</p>
<p>My understanding is that a version number exists for these distributions in their metadata, but we currently don't keep it around (I believe). We need the version number for our universal lock file, as part of #3347.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3347.html">astral-sh/uv#3347</a> on 2024-05-03 16:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @BurntSushi on 2024-05-06 12:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-05-14 19:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3589.html">astral-sh/uv#3589</a> on 2024-05-14 19:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-14 23:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:27 UTC
    </footer>
</body>
</html>
