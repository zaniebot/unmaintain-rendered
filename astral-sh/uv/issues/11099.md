```yaml
number: 11099
title: "Error installing package using * asterisk in data path on windows"
type: issue
state: closed
author: javier-garcia-tilburg
labels:
  - question
assignees: []
created_at: 2025-01-30T15:50:25Z
updated_at: 2025-01-30T17:41:47Z
url: https://github.com/astral-sh/uv/issues/11099
synced_at: 2026-01-10T01:57:25Z
```

# Error installing package using * asterisk in data path on windows

---

_Issue opened by @javier-garcia-tilburg on 2025-01-30 15:50_

### Summary

Installing a package with `*` in their data paths raises an error on windows.

## Reproduction

Create a new project with

```toml
# pyproject.toml
[project]
name = "dummy"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.10"
classifiers = ["Private :: Do Not Upload"]
dependencies = [
    "quadax==0.2.5",
]
```

Run `uv sync` on a powershell terminal and it fails with

```
Resolved 51 packages in 1ms
  × Failed to download `quadax==0.2.5`
  ├─▶ Failed to extract archive
  ╰─▶ failed to create directory `C:\Users\user\AppData\Local\uv\cache\.tmpK76oK4\quadax-0.2.5.data/data/*`: The filename, directory name, or volume label syntax is incorrect. (os error 123)
  help: `quadax` (v0.2.5) was included because `dummy` (v0.1.0) depends on `quadax`
```

## Details

Inspecting the file `quadax-0.2.5-py3-none.whl` reveals that it contains data fails
```
quadax-0.2.5.data/data/_/requirements.txt
quadax-0.2.5.data/data/_/requirements-dev.txt
```
while `quadax-0.2.5.dist-info/RECORD` refers to them in the following manner
```
quadax-0.2.5.data/data/*/requirements-dev.txt,sha256=f5QMec-IahYECs4OvocQWWqO2IXiwWKKNbsD7V6yoTk,556
quadax-0.2.5.data/data/*/requirements.txt,sha256=l4H4ACI11gQsGwguQ2h45GLLxTODDgyu4YbHP9_KUcE,79
```

Taking a look at the repository [f0uriest/quadax](https://github.com/f0uriest/quadax) we can see that it was generated using this `setup.cfg` configuration
```
[options.data_files]
* =
  *.txt
```

### Platform

Windows 10 x64

### Version

uv 0.5.25 (9c07c3fc5 2025-01-28)

### Python version

Python 3.12.8

---

_Label `bug` added by @javier-garcia-tilburg on 2025-01-30 15:50_

---

_Comment by @zanieb on 2025-01-30 15:52_

Can this package be installed with `pip`?

---

_Comment by @javier-garcia-tilburg on 2025-01-30 15:56_

`pip install quadax` works fine

`pip install .` fails on the first try, but it works if run a second time.

This configuration with asteriks seems to be used elsewhere too, e.g.
https://setuptools.pypa.io/en/latest/userguide/datafiles.html

---

_Comment by @zanieb on 2025-01-30 16:06_

What does `pip install .` fail with?

---

_Comment by @zanieb on 2025-01-30 16:07_

I guess we'll need to see if this is supported by the specification, but this seems pretty dubious.

---

_Comment by @javier-garcia-tilburg on 2025-01-30 16:09_

> What does `pip install .` fail with?

```
ERROR: Could not install packages due to an OSError: [WinError 123] The filename, directory name, or volume label syntax is incorrect: 'C:\\Users\\user\\<project_path>\\.venv\\*
```



---

_Comment by @charliermarsh on 2025-01-30 16:27_

I've confirmed that `pip install quadax` also fails on Windows. You may need to run with `--no-cache` and `--force-reinstall` to reproduce that, since once the package fails to install, pip "thinks" it's installed on subsequent runs. I don't _think_ there's anything for us to fix here? You cannot have a path on Windows that contains a star.

---

_Label `bug` removed by @zanieb on 2025-01-30 17:31_

---

_Label `question` added by @zanieb on 2025-01-30 17:31_

---

_Comment by @zanieb on 2025-01-30 17:31_

(You should report this as a bug to quadax or setuptools)

---

_Closed by @zanieb on 2025-01-30 17:32_

---

_Comment by @javier-garcia-tilburg on 2025-01-30 17:39_

@charliermarsh you are right, running with `--no-cache --force-reinstall` makes it fail.

I will then report it to quadax, thank you guys!

---

_Comment by @charliermarsh on 2025-01-30 17:40_

Thanks for following up, I appreciate it.

---

_Referenced in [f0uriest/quadax#41](../../f0uriest/quadax/issues/41.md) on 2025-01-30 18:02_

---
