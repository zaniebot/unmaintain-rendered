<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>If I remove the base Python interpreter, `uv tool list` doesn't work - astral-sh/uv #16252</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>If I remove the base Python interpreter, <code>uv tool list</code> doesn't work</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16252">#16252</a>
        opened by <a href="https://github.com/pfmoore">@pfmoore</a>
        on 2025-10-11 11:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pfmoore">@pfmoore</a> on 2025-10-11 11:59</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I uninstalled Python 3.13 from my system, and reinstalled it using the new Python Manager. As a result, the old <code>python.exe</code> no longer exists. Now, when I run <code>uv tool list</code> I get:</p>
<pre><code>warning: Querying Python at `C:\Users\Gustav\AppData\Roaming\uv\tools\nox\Scripts\python.exe` failed with exit status exit code: 103

[stderr]
did not find executable at 'C:\Users\Gustav\AppData\Local\Programs\Python\Python313\python.exe': The system cannot find the path specified.
 (run `uv tool install nox --reinstall` to reinstall)
</code></pre>
<p>This is reasonable (although it would be nice if the error was handled better, maybe by listing <code>nox</code> but with a note that the Python executable wasn't found, rather than a raw error). But what <em>isn't</em> OK is that the recommended action, <code>uv tool install nox --reinstall</code>, fails with the same error. Reinstalling a broken tool should work, not fail with the same error that is the reason you're trying to reinstall!</p>
<p>Uninstalling nox (and then installing it from scratch) did work, although I'd prefer it if reeinstalling could be made to work, rather than changing the recommendation to uninstall and then reinstall.</p>
<p>As a side note, if I had been able to reinstall nox, it's not obvious to me whether I'd expect it to be updated to use Python 3.14, or to still try to use Python 3.13 (and fail because I don't have Python 3.13 installed) - although I'm fine if it worked like uninstall/reinstall and used the default system Python (3.14). I definitely <em>wouldn't</em> want it to install a uv-managed copy of Python, though - I'm careful to manage my persistent Python installations via the standard Python installer, not via uv, and I wouldn't want that to change.</p>
<h3>Platform</h3>
<p>Windows 11 x86_64</p>
<h3>Version</h3>
<p>uv 0.9.2 (141369ce7 2025-10-10)</p>
<h3>Python version</h3>
<p>Python 3.14.0 (although nox was installed using Python 3.13)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @pfmoore on 2025-10-11 11:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @konstin on 2025-12-18 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-18 14:38</div>
            <div class="timeline-body"><p>This bug is Windows-specific, we're handling this case correctly on Unix (with a warning and hint, non-fatal). Draft PR with a fix: https://github.com/astral-sh/uv/pull/17176</p>
<blockquote>
<p>I definitely <em>wouldn't</em> want it to install a uv-managed copy of Python, though - I'm careful to manage my persistent Python installations via the standard Python installer, not via uv, and I wouldn't want that to change.</p>
</blockquote>
<p>The best way to ensure that is to have a global <code>uv.toml</code> that sets the python preference to only-system, then uv won't use managed interpreters at all (https://docs.astral.sh/uv/reference/settings/#python-preference).</p>
<blockquote>
<p>As a side note, if I had been able to reinstall nox, it's not obvious to me whether I'd expect it to be updated to use Python 3.14, or to still try to use Python 3.13 (and fail because I don't have Python 3.13 installed) - although I'm fine if it worked like uninstall/reinstall and used the default system Python (3.14).</p>
</blockquote>
<p>The current Unix behavior that the PR ports to Windows is that <code>--reinstall</code> with a broken existing venv looks for the system default, unless otherwise specified e.g. with <code>-p</code>, so it will use 3.14. That's specific for broken interpreters, which doesn't allow us to reuse the actual venv interpreter, so we fall back to standard priorities (we could try reading the version from <code>pyvenv.cfg</code>, but I'm not sure if the experience is better if we force 3.13 with <code>--reinstall</code> without the user having requested it with <code>-p</code>)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:09 UTC
    </footer>
</body>
</html>
