<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass - file:***@2) [0.9.9 Regression] - astral-sh/uv #16756</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass - file:***@2) [0.9.9 Regression]</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16756">#16756</a>
        opened by <a href="https://github.com/matthuisman">@matthuisman</a>
        on 2025-11-17 03:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 03:44</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>This issue started occurring in uv 0.9.9</p>
<p>Installing an editable package located at filepath
<code>C:/jenkins/workspace/ython_Environment_Manager_PR-251@2/tmp/python_environments_znid30ea/venv%201/workspace/pyproject</code></p>
<p>then
<code>uv pip list --verbose</code></p>
<pre><code>WARN Failed to parse direct URL: ambiguous user/pass authority in URL (not percent-encoded?): file:***@2/tmp/python_environments_znid30ea/venv%201/workspace/pyproject

Package            Version
------------------ -------
importlib-metadata 8.7.0
pip                25.3
pyproject          1.0.0
</code></pre>
<p>site-packages\pyproject-1.0.0.dist-info\direct_url.json contents
<code>{&quot;url&quot;:&quot;file:///C:/jenkins/workspace/ython_Environment_Manager_PR-251@2/tmp/python_environments_znid30ea/venv%201/workspace/pyproject&quot;,&quot;dir_info&quot;:{&quot;editable&quot;:true}} </code></p>
<h3>Platform</h3>
<p>Windows 100</p>
<h3>Version</h3>
<p>uv 0.9.9 (4fac4cb7e 2025-11-12)</p>
<h3>Python version</h3>
<p>Python 3.10.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @matthuisman on 2025-11-17 03:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 03:46</div>
            <div class="timeline-body"><p>if I manually edit the direct_url.json and remove the @, it then shows as editable</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 03:47</div>
            <div class="timeline-body"><p>Suspect caused by https://github.com/astral-sh/uv/pull/16622</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pas) [0.9.9]" to "Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass) [0.9.9]" by @matthuisman on 2025-11-17 03:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 03:52</div>
            <div class="timeline-body"><p>I think that code to detect ambiguous user/pass authority in URL might need to first check its a url and not a filepath :)</p>
<p>https://github.com/astral-sh/uv/pull/16622/files#diff-aab70d99b8510cf11ff6865c60615ebe2a2b2d755316427c9893849b59163eefR63
Seems the code looks for : followed by @</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass) [0.9.9]" to "Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass - file:***@2) [0.9.9]" by @matthuisman on 2025-11-17 03:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass - file:***@2) [0.9.9]" to "Editable install with @ in path shown as non-editable with uv pip list (ambiguous user/pass - file:***@2) [0.9.9 Regression]" by @matthuisman on 2025-11-17 04:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-11-17 04:41</div>
            <div class="timeline-body"><p>Thanks for the report @matthuisman!</p>
<p>Yeah, the URL change you've linked is almost certainly the root cause here, although I'm kind of surprised we're parsing these paths as URLs. I can triage this more tomorrow, but an immediate fix would probably be to only perform the check on URLs with schemes that actually have credentials, i.e. not <code>file:</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-11-17 04:43</div>
            <div class="timeline-body"><p>Oh, I misread: it's not that we parse the path itself as a URL, but that we reencode it as one in that JSON file. That makes sense, and the fix of checking the scheme would handle that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 04:44</div>
            <div class="timeline-body"><p>Sounds great :)</p>
<p>I suspect in the real world, not many users use @ in their dirnames, but its pretty common with Jenkins</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-11-17 04:48</div>
            <div class="timeline-body"><p>Yeah, I was kind of surprised by that -- that pathname is coming from Jenkins? Do you happen to know if they document that anywhere? It'd be good to read more about, if only for my own education/awareness ðŸ™‚</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 08:50</div>
            <div class="timeline-body"><p>@woodruffw I could only find this:
https://www.jenkins.io/doc/book/managing/system-properties/#hudson-slaves-workspacelist</p>
<p>Basically, if your job kicks of parallel steps or there are multiple builds of the job - it creates a unique workspace.
The default is using @</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-11-17 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthuisman">@matthuisman</a> on 2025-11-17 20:02</div>
            <div class="timeline-body"><p>confirmed fixed. Thanks for the fast turn around :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:18:00 UTC
    </footer>
</body>
</html>
