<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow projects - astral-sh/uv #10208</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Shadow projects</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10208">#10208</a>
        opened by <a href="https://github.com/T-256">@T-256</a>
        on 2024-12-27 21:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/T-256">@T-256</a> on 2024-12-27 21:59</div>
            <div class="timeline-body"><p>Opened this to discuss and get comments about implementing new kind of projects rather than standard <code>project</code> defined in <code>pyproject.toml</code>.</p>
<p>A Shadow project benefits all of <code>tool.uv</code> features, in addition to standard feathers like <code>dependency-groups</code>. its main purpose is to make and keep sync environments with declared dependencies while keeps dependency features from <code>project</code> section.</p>
<ul>
<li>Disallow to build or publish it since it isn't package (not lib nor app).<ul>
<li>Conflicts with <code>tool.uv.package = true</code>.</li>
<li>Conflicts with <code>build-system</code>.</li>
<li>Not have any entry points like <code>hello.py</code> file or <code>src/example</code> folder.</li>
</ul>
</li>
<li>SCM disabled by default</li>
<li>Despite <code>project</code> table, the <code>tool.uv.shadow</code> table only accept: <code>requires-python</code>, <code>dependencies</code> and <code>optional-dependencies</code>.<ul>
<li>For uv's output logs, could use <code>shadow</code> constant instead of <code>project.name</code> and <code>0.1.0</code> constant instead of <code>project.version</code>.</li>
<li>Conflicts with <code>project</code>.</li>
<li>No <code>Readme.md</code> file.</li>
</ul>
</li>
<li>It couldn't be a workspace member and conflicts with <code>tool.uv.workspace</code> definition too.</li>
</ul>
<h3>Example</h3>
<p><code>Initializing</code></p>
<pre><code class="language-sh">$ uv init demo --shadow
Initialized shadow at `./demo`
</code></pre>
<p><code>demo/pyproject.toml</code></p>
<pre><code class="language-toml">[tool.uv.shadow]
requires-python = &quot;&gt;=3.12&quot;
dependencies = [
    &quot;mkdocs&gt;=1.6.1&quot;,
]
</code></pre>
<p><code>uv sync</code></p>
<pre><code class="language-sh">Using CPython 3.12.4 interpreter at: path/to/python.exe
Creating virtual environment at: .venv
Resolved 22 packages in 1.02s
Prepared 5 packages in 2.19s
Installed 19 packages in 144ms
 + click==8.1.8
 + colorama==0.4.6
 + ghp-import==2.1.0
 + importlib-metadata==8.5.0
 + jinja2==3.1.5
 + markdown==3.7
 + markupsafe==2.1.5
 + mergedeep==1.3.4
 + mkdocs==1.6.1
 + mkdocs-get-deps==0.2.0
 + packaging==24.2
 + pathspec==0.12.1
 + platformdirs==4.3.6
 + python-dateutil==2.9.0.post0
 + pyyaml==6.0.2
 + pyyaml-env-tag==0.1
 + six==1.17.0
 + watchdog==4.0.2
 + zipp==3.20.2
</code></pre>
<p><code>final files structure</code></p>
<pre><code>.
│ .venv
│ .python-version
│ pyproject.toml
│ uv.lock
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10204.html">astral-sh/uv#10204</a> on 2024-12-27 22:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @charliermarsh on 2024-12-28 14:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8666.html">astral-sh/uv#8666</a> on 2025-01-23 00:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2025-06-17 00:05</div>
            <div class="timeline-body"><p>See https://github.com/astral-sh/uv/issues/10204#issuecomment-2978496593</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @T-256 on 2025-06-17 00:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
