<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow using `latest` with extras in `uvx` - astral-sh/uv #11321</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow using `latest` with extras in `uvx`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11321">#11321</a>
        opened by <a href="https://github.com/unexge">@unexge</a>
        on 2025-02-07 16:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/unexge">@unexge</a> on 2025-02-07 16:58</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The following fails today, though I think it should work:</p>
<pre><code class="language-bash">$ uvx --from 'httpx[cli]@latest' httpx
  × Failed to resolve tool requirement
  ╰─▶ Distribution not found at: file:///Users/unexge/Code/uv/latest
</code></pre>
<p>The following works fine:</p>
<pre><code>$ uvx --from 'httpx[cli]' httpx
$ uvx --from 'httpx[cli] == 0.28' httpx
</code></pre>
<p><code>uvx</code> version is <code>uv-tool-uvx 0.5.29 (ca73c4754 2025-02-05)</code>.</p>
<hr />
<p>By looking at debug logs:</p>
<pre><code>$ RUST_LOG=debug uvx --from 'httpx[cli]@latest' httpx
DEBUG uv 0.5.29 (ca73c4754 2025-02-05)
DEBUG Ignoring non-package name `httpx[cli]` in `--from`
DEBUG Searching for default Python interpreter in managed installations or search path
DEBUG Searching for managed installations at `/Users/unexge/.local/share/uv/python`
DEBUG Found `cpython-3.13.0-macos-aarch64-none` at `/opt/homebrew/bin/python3` (first executable in the search path)
DEBUG Acquired lock for `/Users/unexge/.local/share/uv/tools`
DEBUG Checking for Python environment at `/Users/unexge/.local/share/uv/tools/httpx`
DEBUG Released lock at `/Users/unexge/.local/share/uv/tools/.lock`
DEBUG Assessing Python executable as base candidate: /opt/homebrew/opt/python@3.13/bin/python3.13
DEBUG Assessing Python executable as base candidate: /opt/homebrew/opt/python@3.13/Frameworks/Python.framework/Versions/3.13/bin/python3.13
DEBUG Caching via base interpreter: `/opt/homebrew/opt/python@3.13/bin/python3.13`
DEBUG Using request timeout of 30s
  × Failed to resolve tool requirement
  ╰─▶ Distribution not found at: file:///Users/unexge/Code/uv/latest
</code></pre>
<p>It seems like <code>uvx</code> run into this case and thinks it's a local distribution: https://github.com/astral-sh/uv/blob/main/crates/uv/src/commands/tool/mod.rs#L50</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @unexge on 2025-02-07 16:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by @zanieb on 2025-02-07 17:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2025-02-07 17:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-07 17:16</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/unexge">@unexge</a> on 2025-02-07 17:37</div>
            <div class="timeline-body"><p>Also using <code>@version</code> fails with extras:</p>
<pre><code class="language-bash">$ uvx --from 'httpx[cli]@0.28' httpx
error: Failed to parse: `httpx[cli]@0.28`
  Caused by: Expected path (`/Users/unexge/Code/uv/0.28`) to end in a supported file extension: `.whl`, `.tar.gz`, `.zip`, `.tar.bz2`, `.tar.lz`, `.tar.lzma`, `.tar.xz`, `.tar.zst`, `.tar`, `.tbz`, `.tgz`, `.tlz`, or `.txz`
httpx[cli]@0.28
           ^^^^
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-02-08 01:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-02-08 02:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-02-08 02:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/unexge">@unexge</a> on 2025-02-08 11:17</div>
            <div class="timeline-body"><p>That was quick! Thanks @charliermarsh!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:52:50 UTC
    </footer>
</body>
</html>
