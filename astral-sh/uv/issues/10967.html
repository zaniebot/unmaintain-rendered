<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal resolution docs need adjusting for Python version forking - astral-sh/uv #10967</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Universal resolution docs need adjusting for Python version forking</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10967">#10967</a>
        opened by <a href="https://github.com/edmorley">@edmorley</a>
        on 2025-01-26 12:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/edmorley">@edmorley</a> on 2025-01-26 12:51</div>
            <div class="timeline-body"><p>The universal resolution docs currently say:</p>
<blockquote>
<p>During universal resolution, all selected dependency versions must be compatible with the <em>entire</em>
<code>requires-python</code> range declared in the <code>pyproject.toml</code>. For example, if a project's
<code>requires-python</code> is <code>&gt;=3.8</code>, then uv will not allow <em>any</em> dependency versions that are limited to,
e.g., Python 3.9 and later, as they are not compatible with Python 3.8, the lower bound of the
project's supported range.</p>
</blockquote>
<p>(https://github.com/astral-sh/uv/blob/86ec6c86dde57ed222377be633e93e3f6d8937e9/docs/concepts/resolution.md?plain=1#L100C1-L104C28)</p>
<p>However, I don't believe this part is correct, now that the lockfile can contain multiple versions of the same package.</p>
<p>For example, package <code>foo</code> could be listed twice in the lockfile, with foo v2 supporting only Python 3.9+ and foo v1 included for Python 3.8 support. In this scenario it wouldn't be correct to say:
<code>uv will not allow _any_ dependency versions that are limited to, e.g., Python 3.9 and later</code></p>
<p>...since foo v2 is exactly that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-26 16:36</div>
            <div class="timeline-body"><p>cc @charliermarsh / @BurntSushi  would one of you mind taking the time to make sure this is up to date?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2025-01-26 16:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">resolver</span> added by @zanieb on 2025-01-26 16:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-01-26 21:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-01-28 17:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-01-28 17:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:52:46 UTC
    </footer>
</body>
</html>
