<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prefer system TLS cert store by default - astral-sh/uv #2409</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Prefer system TLS cert store by default</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2409">#2409</a>
        opened by <a href="https://github.com/DragoonAethis">@DragoonAethis</a>
        on 2024-03-13 12:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DragoonAethis">@DragoonAethis</a> on 2024-03-13 12:43</div>
            <div class="timeline-body"><p>This is a follow-up on #2362 where bundled root cert stores became the default.</p>
<p>In scenarios where uv is wrapped by another rool (like rye) or buried somewhere deep in layers of Makefiles, &quot;just&quot; adding a command-line flag might not be trivial to make things work again. This change affects both users behind corporate HTTPS inspection proxies and private registry clients, where the registry is not world-facing but rather available only on the intranet with an internal cert issuer.</p>
<p>While I understand this makes initial startup benchmarks look rather bad, it also makes uv a pain to use in corporate environments. Please reconsider the default behavior to respect the system root cert store again, or at least make this configurable from environment variables/configuration files.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-03-13 13:01</div>
            <div class="timeline-body"><p>This is partially fixed by https://github.com/astral-sh/uv/pull/2401 if you have a ca bundle file.</p>
<p>We can go a bit further and add another env var as a shothand to --native-tls.</p>
<p>This change would be in uv crate itself and not in uv-client crate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-13 14:15</div>
            <div class="timeline-body"><p>No problem, I'll add an environment variable for it.</p>
<blockquote>
<p>While I understand this makes initial startup benchmarks look rather bad, it also makes uv a pain to use in corporate environments.</p>
</blockquote>
<p>It's actually not even about benchmarks -- there's minimal overhead on Linux. But I use macOS and it makes uv ~50-100x slower on basic commands.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-03-13 14:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-03-13 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2024-03-13 14:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-13 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DragoonAethis">@DragoonAethis</a> on 2024-03-13 14:30</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:43:11 UTC
    </footer>
</body>
</html>
