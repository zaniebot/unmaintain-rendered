<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UV pip compile doesn't include main dependencies when using group - astral-sh/uv #12553</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>UV pip compile doesn't include main dependencies when using group</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12553">#12553</a>
        opened by <a href="https://github.com/Lyranile">@Lyranile</a>
        on 2025-03-30 07:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lyranile">@Lyranile</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I'm expecting uv pip compile --group test to include the main dependencies specified in</p>
<p>pyproject
Dependencies: [
Somepackage
]</p>
<p>Group test
Dependencies: [
Someotherpackage
]</p>
<p>There is also no all-groups or extra-groups, and a lot of the other parameters that uv sync has</p>
<p>--group main also didn't work despite working like that in poetry</p>
<h3>Platform</h3>
<p>macos 14</p>
<h3>Version</h3>
<p>0.6.10</p>
<h3>Python version</h3>
<p>3.13.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Lyranile on 2025-03-30 07:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-30 15:07</div>
            <div class="timeline-body"><p>I believe that <code>uv pip compile --group test</code> omits the main dependencies because that matches pip's semantics. You want <code>uv pip compile --group dev pyproject.toml</code> (which is syntactic sugar for <code>uv pip compile --group pyproject.toml:dev pyproject.toml</code>). In other words: &quot;include the <code>dev</code> group from <code>pyproject.toml</code>, plus the production dependencies from <code>pyproject.toml</code>).</p>
<p>(<code>--group main</code> is a Poetry-specific construct and not something that's standardized -- I doubt we would support it.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-03-30 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2025-03-30 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-03-30 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-30 15:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sirusbaladi">@sirusbaladi</a> on 2025-08-04 18:14</div>
            <div class="timeline-body"><p>We need this badly.</p>
<p>something like: uv pip compile --group test --core</p>
<p>Where it gives the default dependencies + group test</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-04 18:20</div>
            <div class="timeline-body"><p>Why not <code>uv pip compile --group test pyproject.toml</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-04 18:21</div>
            <div class="timeline-body"><p>(as suggested in the comment above...)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:42 UTC
    </footer>
</body>
</html>
