<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error when extra of requirement is missing - astral-sh/uv #386</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Error when extra of requirement is missing</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/386">#386</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-11-10 13:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2023-11-10 13:29</div>
            <div class="timeline-body"><p>I tried to resolve <code>torch[transformers]</code> (it's the other way round) and got a very confusing error:</p>
<pre><code>cargo run --bin puffin-dev -- resolve-cli &quot;torch[tranformers]&quot;
    Finished dev [unoptimized + debuginfo] target(s) in 0.08s
     Running `target/debug/puffin-dev resolve-cli 'torch[tranformers]'`
puffin-dev failed
  Caused by: No solution found when resolving: torch[tranformers]
  Caused by: Because there is no version of torch[tranformers] available matching &lt;1.7.1, &gt;1.7.1, &lt;1.8.0, &gt;1.8.0, &lt;1.8.1, &gt;1.8.1, &lt;1.9.0, &gt;1.9.0, &lt;1.9.1, &gt;1.9.1, &lt;1.10.0, &gt;1.10.0, &lt;1.10.1, &gt;1.10.1, &lt;1.10.2, &gt;1.10.2, &lt;1.11.0, &gt;1.11.0, &lt;1.12.0, &gt;1.12.0, &lt;1.12.1, &gt;1.12.1, &lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 and dependencies of torch[tranformers] at version ==1.7.1 are unavailable, torch[tranformers]&lt;1.8.0, &gt;1.8.0, &lt;1.8.1, &gt;1.8.1, &lt;1.9.0, &gt;1.9.0, &lt;1.9.1, &gt;1.9.1, &lt;1.10.0, &gt;1.10.0, &lt;1.10.1, &gt;1.10.1, &lt;1.10.2, &gt;1.10.2, &lt;1.11.0, &gt;1.11.0, &lt;1.12.0, &gt;1.12.0, &lt;1.12.1, &gt;1.12.1, &lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==1.8.0 are unavailable and dependencies of torch[tranformers] at version ==1.8.1 are unavailable, torch[tranformers]&lt;1.9.0, &gt;1.9.0, &lt;1.9.1, &gt;1.9.1, &lt;1.10.0, &gt;1.10.0, &lt;1.10.1, &gt;1.10.1, &lt;1.10.2, &gt;1.10.2, &lt;1.11.0, &gt;1.11.0, &lt;1.12.0, &gt;1.12.0, &lt;1.12.1, &gt;1.12.1, &lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==1.9.0 are unavailable and dependencies of torch[tranformers] at version ==1.9.1 are unavailable, torch[tranformers]&lt;1.10.0, &gt;1.10.0, &lt;1.10.1, &gt;1.10.1, &lt;1.10.2, &gt;1.10.2, &lt;1.11.0, &gt;1.11.0, &lt;1.12.0, &gt;1.12.0, &lt;1.12.1, &gt;1.12.1, &lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==1.10.0 are unavailable and dependencies of torch[tranformers] at version ==1.10.1 are unavailable, torch[tranformers]&lt;1.10.2, &gt;1.10.2, &lt;1.11.0, &gt;1.11.0, &lt;1.12.0, &gt;1.12.0, &lt;1.12.1, &gt;1.12.1, &lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==1.10.2 are unavailable and dependencies of torch[tranformers] at version ==1.11.0 are unavailable, torch[tranformers]&lt;1.12.0, &gt;1.12.0, &lt;1.12.1, &gt;1.12.1, &lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==1.12.0 are unavailable and dependencies of torch[tranformers] at version ==1.12.1 are unavailable, torch[tranformers]&lt;1.13.0, &gt;1.13.0, &lt;1.13.1, &gt;1.13.1, &lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==1.13.0 are unavailable and dependencies of torch[tranformers] at version ==1.13.1 are unavailable, torch[tranformers]&lt;2.0.0, &gt;2.0.0, &lt;2.0.1, &gt;2.0.1, &lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==2.0.0 are unavailable and dependencies of torch[tranformers] at version ==2.0.1 are unavailable, torch[tranformers]&lt;2.1.0, &gt;2.1.0 is forbidden.
And because dependencies of torch[tranformers] at version ==2.1.0 are unavailable and root ==0a0.dev0 depends on torch[tranformers], version solving failed.
</code></pre>
<p>Compared to pip-compile:</p>
<pre><code>echo &quot;torch[transformers]&quot; | pip-compile --output-file - -
  WARNING: torch 2.1.0 does not provide the extra 'transformers'
[...]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-10 14:34</div>
            <div class="timeline-body"><p>We should add a test for this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-11-13 14:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Feature complete" by @charliermarsh on 2023-11-13 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-04 04:37</div>
            <div class="timeline-body"><p>@zanieb - This is another concrete example where it'd be nice to have a custom error message on failure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-12-12 22:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-12-13 17:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:42:50 UTC
    </footer>
</body>
</html>
