<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat: add a support for inheritance in dependency groups - astral-sh/uv #9806</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat: add a support for inheritance in dependency groups</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9806">#9806</a>
        opened by <a href="https://github.com/ZeyadMoustafaKamal">@ZeyadMoustafaKamal</a>
        on 2024-12-11 11:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ZeyadMoustafaKamal">@ZeyadMoustafaKamal</a></div>
            <div class="timeline-body"><p>Normally I would make a base requirements file called &quot;requirements-base.in&quot; and then compile it and use it as a base file for all or most environments. For example in <code>django</code> projects, <code>django</code> will should be included in almost all dependency groups. dev, testing, prod but of course the user will choose in which dependency group django should be included. and I have looked at the docs <a href="https://docs.astral.sh/uv/concepts/projects/dependencies/">here</a> and it doesn&#x27;t seem to be supported out of the box.</p>
<p>What I think should be done is basically an <code>inherit</code> field in the <code>project</code> section and in the <code>dependency-groups</code> section and the value should be a list of dependency groups this should be inherited from. And  the dependencies defined in the dependency group should have higher priority over those defined in the base dependency groups. If you need any clarifications or suggestions I am here to help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 13:43</div>
            <div class="timeline-body"><p>Dependency groups are specified by a standard, as is the <code>[project]</code> table, so suggestions like this need to go through standards and aren&#x27;t in the purview of uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 13:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 13:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-12-11 15:42</div>
            <div class="timeline-body"><p>Does <code>uv</code> support <code>include-group</code>s? https://peps.python.org/pep-0735/#dependency-group-include</p>
<p>You get something very close to inheritance that way.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 15:45</div>
            <div class="timeline-body"><p>Yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ZeyadMoustafaKamal">@ZeyadMoustafaKamal</a> on 2024-12-12 15:31</div>
            <div class="timeline-body"><p>But this is not supported in the <code>[project]</code> section. for example here</p>
<pre><code>[project]
name = &quot;my project&quot;
version = &quot;0.1.0&quot;
description = &quot;my project&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = [
    {include = &quot;base&quot;}
]
</code></pre>
<p>I am getting this error</p>
<pre><code>$ uv add django-guardian --group=base
error: Failed to parse: `pyproject.toml`
  Caused by: TOML parse error at line 8, column 5
  |
8 |     {include = &quot;base&quot;}
  |     ^^^^^^^^^^^^^^^^^^
invalid type: map, expected a string

</code></pre>
<p>can you get support for this as well ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ZeyadMoustafaKamal">@ZeyadMoustafaKamal</a> on 2024-12-12 15:32</div>
            <div class="timeline-body"><p>source https://peps.python.org/pep-0735/#use-cases-for-dependency-group-includes-from-project</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-12-12 16:32</div>
            <div class="timeline-body"><blockquote>
<p>But this is not supported in the <code>[project]</code> section. for example here
source https://peps.python.org/pep-0735/#use-cases-for-dependency-group-includes-from-project</p>
</blockquote>
<p>You&#x27;ll notice that is under the section &quot;Deferred Ideas&quot;: https://peps.python.org/pep-0735/#deferred-ideas, meaning it is not part of the PEP 735 spec.</p>
<p>Adding new features to the <code>[project]</code> section would require a new specification and PEP and discussion would have to start at: https://discuss.python.org/c/packaging/14</p>
<p>See how lengthy and involved such discussions can get by looking at the PEP 735 discussion: https://discuss.python.org/t/pep-735-dependency-groups-in-pyproject-toml/39233</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ZeyadMoustafaKamal">@ZeyadMoustafaKamal</a> on 2024-12-12 17:05</div>
            <div class="timeline-body"><p>Thanks</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:36:07 UTC
    </footer>
</body>
</html>
