<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip install --group` fails where `pip install --group` succeeds - astral-sh/uv #13138</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pip install --group</code> fails where <code>pip install --group</code> succeeds</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13138">#13138</a>
        opened by <a href="https://github.com/leodevian">@leodevian</a>
        on 2025-04-27 20:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/leodevian">@leodevian</a></div>
            <div class="timeline-body">Summary
<p>Hello,</p>
<p>It seems that <code>uv pip install --group</code> and <code>pip install --group</code> (pip 25.1) have different behaviors for installing Dependency Groups.</p>
<pre><code>[dependency-groups]
dev = [
  &quot;ruff&quot;,
]
</code></pre>
<pre><code>$ uv pip install --group dev
warning: `.\scripts` does not appear to be a Python project, as the `pyproject.toml` does not include a `[build-system]` table, and neither `setup.py` nor `setup.cfg` are present in the directory
error: The dependency group &#x27;dev&#x27; was not found in the project: pyproject.toml
</code></pre>
<pre><code>$ pip install --group dev
Collecting ruff
  Using cached ruff-0.11.7-py3-none-win_amd64.whl.metadata (26 kB)
Using cached ruff-0.11.7-py3-none-win_amd64.whl (11.6 MB)
Installing collected packages: ruff
Successfully installed ruff-0.11.7
</code></pre>
<p>As PEP 735 specifies that <a href="https://peps.python.org/pep-0735/#dependency-groups-are-not-hidden-extras">Dependency Groups support non-package projects and that the installation of a Dependency Group does not imply installation of a package&#x27;s dependencies or the package itself</a>, I believe that the behavior of pip is the expected behavior.</p>
<p>Thank you üôè</p>
Platform
<p>Windows 11 amd64</p>
Version
<p>uv 0.6.17 (8414e9f3d 2025-04-25)</p>
Python version
<p>Python 3.13.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/leodevian">@leodevian</a> on 2025-04-27 20:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;`uv pip install --group` fails if the `[project]` table is missing&quot; to &quot;`uv pip install --group` fails where `pip install --group` succeeds&quot; by <a href="https://github.com/leodevian">@leodevian</a> on 2025-04-27 20:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leodevian">@leodevian</a> on 2025-04-27 20:09</div>
            <div class="timeline-body"><p>It seems that the <code>uv pip compile</code> command cannot be used to lock dependencies if the <code>[project]</code> table is missing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/Gankra">@Gankra</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-28 00:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-28 00:42</div>
            <div class="timeline-body"><p>\cc @Gankra -- we need to allow dependency groups in <code>pyproject.toml</code> files that are not valid Python packages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alexprengere">@alexprengere</a> on 2025-05-13 09:36</div>
            <div class="timeline-body"><p>I just want to mention that this will occur also if the <code>pyproject.toml</code> has a <code>[build-system]</code>, but the rest of the packaging is specified in <code>setup.cfg</code> and/or <code>setup.py</code>, which I think is pretty common (as not every setuptools-based packages have fully migrated to <code>pyproject.toml</code>).
As @leodevian mentions, the trigger is when <code>[project]</code> table is missing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-13 22:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:23 UTC
    </footer>
</body>
</html>
