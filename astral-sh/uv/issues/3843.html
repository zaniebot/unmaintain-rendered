<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv run` always installs project even already installed in editable mode - astral-sh/uv #3843</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv run</code> always installs project even already installed in editable mode</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3843">#3843</a>
        opened by <a href="https://github.com/Vigilans">@Vigilans</a>
        on 2024-05-26 19:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Vigilans">@Vigilans</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<ul>
<li>uv version: 0.2.3</li>
</ul>
<p>I have setup a python project with <code>pyproject.yaml</code>, and installed it in editable mode using <code>uv pip install -e .</code>.</p>
<p>When invoking <code>uv run</code>, it always installs the project in <code>build</code> directory:</p>
<pre><code>$ uv run ls                                                                                                                                      
warning: `uv run` is experimental and may change without warning.
Resolved 40 packages in 14ms
Uninstalled 1 package in 0.59ms
Installed 1 package in 23ms
 - &lt;project_name&gt;==1.0.0 (from file:///workspace)
 + &lt;project_name&gt;==1.0.0 (from file:///home/vigilans/...)
</code></pre>
<p>And <code>resolved</code> / <code>audited</code> log always pop up in all <code>uv run</code> executions:</p>
<pre><code>$ uv run echo                                                                                                                                    
warning: `uv run` is experimental and may change without warning.
Resolved 40 packages in 16ms
Audited 40 packages in 0.05ms
</code></pre>
<p>If <code>.venv</code> folder is not writable, the log will be</p>
<pre><code>$ uv run ls                                                                                                                                      
warning: `uv run` is experimental and may change without warning.
Resolved 40 packages in 415ms
error: failed to remove file `/workspace/.venv/lib/python3.7/site-packages/__editable__.&lt;project_name&gt;-1.0.0.pth`
  Caused by: Permission denied (os error 13)
</code></pre>
<p>Seems it tries to revert the editable mode and install in dist mode (what <code>Uninstall 1 packages</code> and <code>Install 1 packages</code> in first log is).</p>
<p>It would be better if installation in editable mode also works for <code>uv run</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-26 19:17</div>
            <div class="timeline-body"><p>This is covered by #3628. Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-26 19:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:25:01 UTC
    </footer>
</body>
</html>
