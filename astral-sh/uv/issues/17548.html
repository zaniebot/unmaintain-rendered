<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tool update versioning - astral-sh/uv #17548</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Tool update versioning</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17548">#17548</a>
        opened by <a href="https://github.com/klonuo">@klonuo</a>
        on 2026-01-17 13:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/klonuo">@klonuo</a></div>
            <div class="timeline-body"><p><em>To state that I&#x27;m aware of <code>uvx</code> and understand excellent workflow it provides, but for some tools I prefer reading changelog before installing</em></p>
<hr>
<p>I use global <code>ruff</code> and <code>ty</code> tools, and update when I see new version
If I have editor opened that registers LSP, I had issue with updating <code>ty</code> but never <code>ruff</code></p>
<pre><code>❯ uv tool update ruff
Updated ruff v0.14.11 -&gt; v0.14.13
 - ruff==0.14.11
 + ruff==0.14.13
error: Failed to upgrade ruff
  Caused by: Failed to install entrypoint
  Caused by: failed to copy file from C:\Users\klo\AppData\Roaming\uv\tools\ruff\Scripts\ruff.exe to C:\Users\klo\.local\bin\ruff.exe: The process cannot access the file because it is being used by another process. (os error 32)
</code></pre>
<p>I closed processes that were using ruff, and tried again. And what happens is what I noticed with <code>ty</code> too in such scenario:</p>
<pre><code>❯ uv tool update ruff
Nothing to upgrade
~
❯ ruff --version
ruff 0.14.11
</code></pre>
<p>What happens that <code>uv</code> can&#x27;t see that there is update in this case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-17 17:27</div>
            <div class="timeline-body"><p>I think this is a bug, I&#x27;ll look into it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-17 17:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2026-01-19 12:44</div>
            <div class="timeline-body"><p>This has actually been an issue for a long time. I previously opened a ticket (#8528) but decided to close it since so much time had passed. I figured closing the old one would give others a better reason to create a fresh, updated version of the issue.</p>
<p>Personally, I expect that if the installation fails, the package version should not be updated. This ensures that the next upgrade attempt can still function correctly. The installation process should be atomic: it should only be considered a success if everything completes sucessfully; otherwise, it should be treated as a failure.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:41:33 UTC
    </footer>
</body>
</html>
