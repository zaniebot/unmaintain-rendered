<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>When killing the top process of a `uvx` command, the process keeps running in the background - astral-sh/uv #12692</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>When killing the top process of a `uvx` command, the process keeps running in the background</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12692">#12692</a>
        opened by <a href="https://github.com/schnow265">@schnow265</a>
        on 2025-04-06 12:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/schnow265">@schnow265</a> on 2025-04-06 12:30</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>When running an <code>uvx</code> command and then killing the top process via Process Explorer, a <code>uv</code> process keeps on running.</p>
<p>Here is a screenshot from Process Explorer showcasing a simple <code>uvx mcp-server-git</code>:</p>
<p><img src="https://github.com/user-attachments/assets/46ffa50c-8227-41b4-882b-263f7dc45adc" alt="Image" /></p>
<p>However, when killing the uvx process using Process Explorer, the uv process which started the mcp-server-git executable remains. This is bad, since the terminal is now non-interactable.</p>
<p><img src="https://github.com/user-attachments/assets/4792cda9-e399-410d-8cce-76a96d750e68" alt="Image" /></p>
<p>This is not just an issue with this package. Here is an example with openwebui:</p>
<p><img src="https://github.com/user-attachments/assets/9b489f96-a3a9-4148-bd4e-abd30f3b1a40" alt="Image" /></p>
<p>This is an issue, sine VSCode now supports MCP servers, and when stopping a server started with <code>uvx</code>, and then stopping it via VSCode, it causes the process to still run in the background.</p>
<p>(Image taken before stopping)
<img src="https://github.com/user-attachments/assets/c9f45409-a0cb-4c88-9ee9-88636435938d" alt="Image" /></p>
<p>(Image taken after &quot;Stopping&quot; server)
<img src="https://github.com/user-attachments/assets/d0869f07-fd2b-47df-9edf-842db445d640" alt="Image" /></p>
<p>(Image taken after killing the orphaned uv process, starting the server back up and clicking restart)
<img src="https://github.com/user-attachments/assets/3290bf3c-bd24-4f06-a08d-a30568496a75" alt="Image" /></p>
<h3>Platform</h3>
<p>Windows 11 22H2 x86_64</p>
<h3>Version</h3>
<p>uv 0.6.12 (e4e03833f 2025-04-02)</p>
<h3>Python version</h3>
<p>Python 3.11.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @schnow265 on 2025-04-06 12:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-06 15:34</div>
            <div class="timeline-body"><p>Is this a duplicate of https://github.com/astral-sh/uv/issues/11817 ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-06 15:51</div>
            <div class="timeline-body"><p>(I think VS Code should probably stop the process group?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/schnow265">@schnow265</a> on 2025-04-06 18:33</div>
            <div class="timeline-body"><p>yep looks like it, thanks anyway</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @schnow265 on 2025-04-06 18:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:04 UTC
    </footer>
</body>
</html>
