<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support relative path wheel dependencies - astral-sh/uv #4355</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support relative path wheel dependencies</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4355">#4355</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-06-17 10:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Currently, we only support locking relative path for directory and source dist dependencies. We need to also support relative paths for wheels. To implement this, we need to add the install path vs. lock path split to <code>PathBuiltDist</code>, just as we do with <code>PathSourceDist</code>.</p>
<p>Failing example:</p>
<pre><code>[project]
name = &quot;project&quot;
version = &quot;0.1.0&quot;
dependencies = [
  &quot;tqdm&quot;
]
requires-python = &quot;&gt;=3.8&quot;

[tool.uv.sources]
tqdm = { path = &quot;./tqdm-4.66.4-py3-none-any.whl&quot; }

[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;
</code></pre>
<p>The lockfile entry should have the relative path, not the absolute path:</p>
<pre><code>[[distribution]]
name = &quot;tqdm&quot;
version = &quot;4.66.4&quot;
source = { path = &quot;/home/konsti/projects/uv/debug/dummy/tqdm-4.66.4-py3-none-any.whl&quot; }
dependencies = [
    { name = &quot;colorama&quot;, marker = &quot;platform_system == &#x27;Windows&#x27;&quot; },
]
wheels = [
    { url = &quot;file:///home/konsti/projects/uv/debug/dummy/tqdm-4.66.4-py3-none-any.whl&quot;, hash = &quot;sha256:b75ca56b413b030bc3f00af51fd2c1a1a5eac6a0c1cca83cbb37a5c52abce644&quot; },
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/konstin">@konstin</a> on 2024-06-17 10:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 16:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 16:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 16:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 16:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/konstin">@konstin</a> on 2024-07-31 08:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/konstin">@konstin</a> on 2024-07-31 08:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-07-31 08:22</div>
            <div class="timeline-body"><p>I updated the description with a failing example</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-09 14:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-09 14:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-09 14:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-09 21:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:37 UTC
    </footer>
</body>
</html>
