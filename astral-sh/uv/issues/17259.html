<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unfriendly error message when `uv lock` or `uv sync` with `UV_FROZEN=1` env variable - astral-sh/uv #17259</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unfriendly error message when <code>uv lock</code> or <code>uv sync</code> with <code>UV_FROZEN=1</code> env variable</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/17259">#17259</a>
        opened by <a href="https://github.com/kkew3">@kkew3</a>
        on 2025-12-30 02:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kkew3">@kkew3</a> on 2025-12-30 02:28</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I run <code>uv init</code> to create a new project, and <code>uv sync</code>. Then <code>uv</code> report this error:</p>
<pre><code>error: Unable to find lockfile at `uv.lock`. To create a lockfile, run `uv lock` or `uv sync`.
</code></pre>
<p>I also tried <code>uv lock</code> but with the same error.</p>
<p>It took me a while to realize that I set <code>UV_FROZEN=1</code> many hours ago in the same terminal session, which apparently is the root cause of the issue.</p>
<hr />
<p>Some more contexts:</p>
<p>My OS: macOS 12.7.6 (21H1320).</p>
<p><code>uv sync --verbose</code> output:</p>
<details>
```
DEBUG uv 0.9.20 (765a96723 2025-12-29)
DEBUG Acquired shared lock for `/Users/kw/.cache/uv`
DEBUG Found project root: `/Users/kw/Documents/Projects/whisper-input`
DEBUG No workspace root found, using project root
DEBUG Acquired exclusive lock for `/Users/kw/Documents/Projects/whisper-input`
DEBUG Reading Python requests from version file at `/Users/kw/Documents/Projects/whisper-input/.python-version`
DEBUG Using Python request `3.11` from version file at `.python-version`
DEBUG Checking for Python environment at: `.venv`
DEBUG The project environment's Python version satisfies the request: `Python 3.11`
DEBUG Released lock at `/var/folders/cz/1mhdcd4s1wngf4g6g2d17zlr0000gn/T/uv-2141c0d685564937.lock`
DEBUG Acquired exclusive lock for `.venv`
DEBUG Released lock at `/Users/kw/Documents/Projects/whisper-input/.venv/.lock`
DEBUG Released lock at `/Users/kw/.cache/uv/.lock`
error: Unable to find lockfile at `uv.lock`. To create a lockfile, run `uv lock` or `uv sync`.
```
</details>

<h3>Example</h3>
<p>I'm not sure how to improve, but at least give some hint that <code>uv.lock</code> cannot be created when <code>UV_FROZEN=1</code> is set. Currently <code>uv</code> points the user to run <code>uv sync</code>, but it's the <code>uv sync</code> that causes the error!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @kkew3 on 2025-12-30 02:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2026-01-04 18:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2026-01-05 12:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:11 UTC
    </footer>
</body>
</html>
