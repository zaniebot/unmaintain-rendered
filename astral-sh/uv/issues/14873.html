<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug: `uv venv` activation uses system `pip` instead of virtual environment's `pip` - astral-sh/uv #14873</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Bug: <code>uv venv</code> activation uses system <code>pip</code> instead of virtual environment's <code>pip</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14873">#14873</a>
        opened by <a href="https://github.com/guillermodotn">@guillermodotn</a>
        on 2025-07-24 15:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/guillermodotn">@guillermodotn</a> on 2025-07-24 15:36</div>
            <div class="timeline-body"><h3>Summary</h3>
<h3>Description</h3>
<p>When creating a virtual environment using <code>uv venv</code> and subsequently activating it, the <code>pip</code> executable found via <code>which pip</code> points to the system-wide <code>pip</code> installation rather than the <code>pip</code> executable within the newly created virtual environment. This behavior is counter-intuitive and can lead to unexpected package installations in the global environment, potentially causing conflicts or polluting the system Python installation.</p>
<p>In contrast, when using Python's built-in <code>venv</code> module, activating the environment correctly directs <code>which pip</code> to the virtual environment's <code>pip</code> executable, which is the expected and desired behavior for isolated environments.</p>
<h3>Steps to Reproduce</h3>
<ol>
<li><strong>Create a virtual environment with <code>uv</code>:</strong></li>
</ol>
<pre><code class="language-bash">uv venv
</code></pre>
<ol start="2">
<li><strong>Activate the virtual environment:</strong></li>
</ol>
<pre><code class="language-bash">source ./&lt;venv_name&gt;/bin/activate
</code></pre>
<ol start="3">
<li><strong>Check the <code>pip</code> executable path:</strong></li>
</ol>
<pre><code class="language-bash">which pip
</code></pre>
<h3>Expected Behavior</h3>
<p>After activating the <code>uv</code> virtual environment, <code>which pip</code> should output the path to the <code>pip</code> executable located within the virtual environment (e.g., <code>./venv/bin/pip</code>). This ensures that any subsequent <code>pip install</code> commands operate within the isolated environment.</p>
<h3>Actual Behavior</h3>
<p>After activating the <code>uv</code> virtual environment, <code>which pip</code> outputs the path to the system-wide <code>pip</code> executable (e.g., <code>/usr/bin/pip</code> or similar, depending on the system configuration).</p>
<h3>Example demonstrating the issue (Actual Behavior):</h3>
<pre><code class="language-bash">$ uv venv # Creates a virtual environment
$ source ./&lt;venv_name&gt;/bin/activate # Activates virtual environment 
$ which pip # Shows the path for pip tool
/usr/bin/pip # &lt;--- This is the system pip, not ./&lt;venv_name&gt;/bin/pip
</code></pre>
<h3>Comparison with <code>python -m venv</code> (Expected Behavior):</h3>
<pre><code class="language-bash">$ python −m venv .venv # Creates a virtual environment named ′.venv′
$ source .venv/bin/activate # Activates virtual environment
$ which pip
/home/user/path/to/project/.venv/bin/pip # &lt;--- This is the virtual environment's pip (correct)
</code></pre>
<h3>Proposed Solution (if any)</h3>
<p>The activation script generated by <code>uv venv</code> should correctly modify the <code>PATH</code> environment variable or create appropriate symlinks to prioritize the virtual environment's <code>pip</code> executable over the system's pip.</p>
<h3>Platform</h3>
<p>fedora 42</p>
<h3>Version</h3>
<p>uv 0.7.17</p>
<h3>Python version</h3>
<p>Python 3.10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @guillermodotn on 2025-07-24 15:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-24 15:56</div>
            <div class="timeline-body"><p>We don't include pip in the uv-created environment by default, since it typically isn't necessary. You can run <code>uv venv --seed</code> to include pip.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-07-24 15:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2025-07-24 15:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-24 15:58</div>
            <div class="timeline-body"><p>See:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/3876</li>
<li>https://github.com/astral-sh/uv/issues/12604</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-25 02:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:05 UTC
    </footer>
</body>
</html>
