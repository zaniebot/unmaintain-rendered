<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv pip install does not respect the python version specified in pyproject.toml - astral-sh/uv #11506</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv pip install does not respect the python version specified in pyproject.toml</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11506">#11506</a>
        opened by <a href="https://github.com/Julfried">@Julfried</a>
        on 2025-02-14 11:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Julfried">@Julfried</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I recently encountered an issue when installing one of my wheel files using <code>uv pip install</code>. In the <code>pyproject.toml</code> file I specified: <code>requires-python = &quot;&gt;=3.10, &lt;3.13&quot;</code></p>
<p>However when I try to install the wheel file in a venv with python version 3.13, it just installs with no warning. Pip on the other hand aborts installation and emits an error message: <code>ERROR: Package 'uv-test' requires a different Python: 3.13.2 not in '&lt;3.13,&gt;=3.10'</code>.</p>
<p>A minimal working example. Create a new folder:</p>
<ol>
<li>Run: <code>uv init</code></li>
<li>Run uv venv --python 3.13</li>
<li>Change the python version in <code>pyproject.toml</code> to: <code>requires-python = &quot;&gt;=3.10, &lt;3.13&quot;</code></li>
<li>Run uv pip install .</li>
</ol>
<h3>Platform</h3>
<p>Windows 10</p>
<h3>Version</h3>
<p>0.5.31 (e38ac4900 2025-02-12)</p>
<h3>Python version</h3>
<p>3.13.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Julfried on 2025-02-14 11:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 13:10</div>
            <div class="timeline-body"><p>I believe this is a side-effect of us ignoring upper bounds on Python versions https://docs.astral.sh/uv/reference/resolver-internals/#requires-python</p>
<p>Does it fail if the virtual environment is below the range?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Julfried">@Julfried</a> on 2025-02-14 13:32</div>
            <div class="timeline-body"><p>Indeed, with python 3.9 it emits an appropriate error message:</p>
<pre><code>  × No solution found when resolving dependencies:
  ╰─▶ Because the current Python version (3.9.21) does not satisfy Python&gt;=3.10,&lt;3.13 and test-uv==0.1.0 depends on
      Python&gt;=3.10,&lt;3.13, we can conclude that test-uv==0.1.0 cannot be used.
      And because only test-uv==0.1.0 is available and you require test-uv, we can conclude that your requirements are
      unsatisfiable
</code></pre>
<p>Would it be possible for uv to at least emit a warning in such cases? This could help avoid unexpected behavior for users who want to use uv as a drop in replacement for pip?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-02-16 02:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @charliermarsh on 2025-02-16 02:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:29:55 UTC
    </footer>
</body>
</html>
