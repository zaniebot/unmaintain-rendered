<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should `--reinstall` default to true  with `uv pip install --editable .`? - astral-sh/uv #2481</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Should `--reinstall` default to true  with `uv pip install --editable .`?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/2481">#2481</a>
        opened by <a href="https://github.com/tlambert03">@tlambert03</a>
        on 2024-03-15 19:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tlambert03">@tlambert03</a> on 2024-03-15 19:13</div>
            <div class="timeline-body"><p>If you run <code>pip install -e .</code> in a directory that has already been installed, I believe the default behavior is to re-install the package.  That's my observation, but please correct me if I'm wrong, or if I've missed something.</p>
<p>With uv pip, it does not reinstall unless you explicitly pass the <code>--reinstall</code> flag:</p>
<pre><code>$ uv pip install -e .
Audited 1 package in 4ms

$ uv pip install -e . --reinstall
Building file:///Users/...
░░░░░░░░░░░░░░░░░░░░ [0/1] Fetching packages...
</code></pre>
<p>I think whenever I'm doing <code>pip install -e .</code>, I usually <em>want</em> it to do anything it might normally do during installation (such as re-compiling c extensions, etc...).  So, with <code>uv</code>, I regularly find myself needing re-enter the command with <code>--reinstall</code>.</p>
<p>I'm curious whether that was a conscious decision to use a different behavior from <code>pip</code>?  Explicit is always clearer of course, but muscle memory is strong too :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-17 21:28</div>
            <div class="timeline-body"><p>We use some heuristics to decide whether to rebuild the package (e.g., if the <code>pyproject.toml</code> or <code>setup.py</code> has changed), but then expect users to use <code>--reinstall</code> if they have out-of-band changes that need to be respected.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-17 21:28</div>
            <div class="timeline-body"><p>This is basically the same as https://github.com/astral-sh/uv/issues/2152, so I'll merge in there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tlambert03">@tlambert03</a> on 2024-03-17 21:29</div>
            <div class="timeline-body"><p>thanks.  missed that issue</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:57 UTC
    </footer>
</body>
</html>
