```yaml
number: 11062
title: "`uv tree --invert --no-dev` complains while `uv tree --invert --no-group dev` works"
type: issue
state: closed
author: vasiliy-poverennov-doordash
labels:
  - bug
assignees: []
created_at: 2025-01-29T14:14:28Z
updated_at: 2025-01-29T16:18:15Z
url: https://github.com/astral-sh/uv/issues/11062
synced_at: 2026-01-10T01:57:25Z
```

# `uv tree --invert --no-dev` complains while `uv tree --invert --no-group dev` works

---

_Issue opened by @vasiliy-poverennov-doordash on 2025-01-29 14:14_

### Summary

This fails (uv 0.5.25):
```
> uv tree --invert --no-dev
error: the argument '--invert' cannot be used with '--no-dev'

Usage: uv tree --invert

For more information, try '--help'.
```
But this works (outputs the tree properly without dev dependencies)
```
uv tree --invert --no-group dev
```

If i understand correctly both commands should have the same behavior ([doc](https://docs.astral.sh/uv/reference/cli/#uv-tree))
> --no-dev
>     Omit the development dependency group.
>     This option is an alias for --no-group dev.

I tried removing `conflicts_with = "invert"` locally and it seems to be giving correct results on the few packages that I tested
https://github.com/astral-sh/uv/blob/f1c02182b7a1dad69f7f3c0171b2047238f53e88/crates/uv-cli/src/lib.rs#L3429-L3430

Almost wrote a feature request to allow `--invert --no-dev` but then decided to try `--invert --no-group dev` and it worked

### Platform

Darwin 23.5.0 arm64

### Version

uv 0.5.25 (Homebrew 2025-01-28)

### Python version

Python 3.12.8

---

_Label `bug` added by @vasiliy-poverennov-doordash on 2025-01-29 14:14_

---

_Comment by @charliermarsh on 2025-01-29 14:23_

Mmm, this might be an oversight.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-01-29 14:42_

---

_Referenced in [astral-sh/uv#11068](../../astral-sh/uv/pulls/11068.md) on 2025-01-29 16:11_

---

_Closed by @charliermarsh on 2025-01-29 16:18_

---

_Closed by @charliermarsh on 2025-01-29 16:18_

---
