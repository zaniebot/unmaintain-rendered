<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip check` gives a different result to `pip check` - astral-sh/uv #2520</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pip check</code> gives a different result to <code>pip check</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2520">#2520</a>
        opened by <a href="https://github.com/strickvl">@strickvl</a>
        on 2024-03-18 20:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/strickvl">@strickvl</a></div>
            <div class="timeline-body"><p>Added <code>uv pip check</code> to replace <code>pip check</code> in our CI (i.e. <a href="https://github.com/zenml-io/zenml/pull/2520/files#diff-674e2904ada0d1873475b631dd3b95344eb79d8dedf60c0e341c4bbf831a4049R94">here</a>. The CI passed previously without issue when running <code>pip check</code>, but when switching to <code>uv</code> I get <a href="https://github.com/zenml-io/zenml/actions/runs/8332802769/job/22802845832?pr=2520#step:7:1">the following error</a>:</p>
<pre><code>Run uv pip check
Checked 81 packages in 0.71ms
Found 1 incompatibility
The package `pip` has multiple installed distributions:
  - /opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/pip-23.0.1.dist-info
  - /opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/pip-24.0.dist-info
Error: Process completed with exit code 1.
</code></pre>
<p>Is there any guidance / docs on how <code>uv</code>&#x27;s <code>pip check</code> differs from normal <code>pip check</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-18 20:07</div>
            <div class="timeline-body"><p>The things we check for:</p>
<ul>
<li>Package has no <code>METADATA</code>, or the <code>METADATA</code> can&#x27;t be parsed.</li>
<li>Package has a <code>Requires-Python</code> that doesn&#x27;t match the current interpreter.</li>
<li>Package has a dependency on a package that isn&#x27;t installed.</li>
<li>Package has a dependency on a package; it&#x27;s installed, but not at a compatible version.</li>
<li>Multiple versions of a package are installed in the virtual environment.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-18 20:08</div>
            <div class="timeline-body"><p>I&#x27;m not sure what <code>pip check</code> looks for exactly. Seems like it doesn&#x27;t validate the last point.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/strickvl">@strickvl</a> on 2024-03-19 08:56</div>
            <div class="timeline-body"><p>Ok so the trick there was just to use virtual environments instead of installing into the raw global system... Thanks for this explanation. I&#x27;m sure what you wrote above would be useful for an eventual docs page for <code>uv</code>, along with guidance around using uv with github actions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/strickvl">@strickvl</a> on 2024-03-19 08:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-19 15:06</div>
            <div class="timeline-body"><p>I&#x27;ll add these to the docs!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-19 15:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-19 15:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:31 UTC
    </footer>
</body>
</html>
