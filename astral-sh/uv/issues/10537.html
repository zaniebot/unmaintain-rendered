<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uvx run is trying to access file() but this is a Python 2 function - astral-sh/uv #10537</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uvx run is trying to access file() but this is a Python 2 function</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10537">#10537</a>
        opened by <a href="https://github.com/wsw70">@wsw70</a>
        on 2025-01-12 09:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/wsw70">@wsw70</a> on 2025-01-12 09:42</div>
            <div class="timeline-body"><p>I tried to run with <code>uvx</code> a simple script (<code>uv run</code> is fine):</p>
<pre><code>PS C:\Users\yop\Perso\dev-perso\single obsidian daily manager&gt; uvx run .\manage-daily.py
  × Failed to build `run==0.2`
  ├─▶ The build backend returned an error
  ╰─▶ Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit code: 1)

      [stderr]
      Traceback (most recent call last):
        File &quot;&lt;string&gt;&quot;, line 14, in &lt;module&gt;
        File &quot;C:\Users\yop\AppData\Local\uv\cache\builds-v0\.tmpEKC7fk\Lib\site-packages\setuptools\build_meta.py&quot;, line 334, in get_requires_for_build_wheel
          return self._get_build_requires(config_settings, requirements=[])
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File &quot;C:\Users\yop\AppData\Local\uv\cache\builds-v0\.tmpEKC7fk\Lib\site-packages\setuptools\build_meta.py&quot;, line 304, in _get_build_requires
          self.run_setup()
        File &quot;C:\Users\yop\AppData\Local\uv\cache\builds-v0\.tmpEKC7fk\Lib\site-packages\setuptools\build_meta.py&quot;, line 522, in run_setup
          super().run_setup(setup_script=setup_script)
        File &quot;C:\Users\yop\AppData\Local\uv\cache\builds-v0\.tmpEKC7fk\Lib\site-packages\setuptools\build_meta.py&quot;, line 320, in run_setup
          exec(code, locals())
        File &quot;&lt;string&gt;&quot;, line 12, in &lt;module&gt;
      NameError: name 'file' is not defined. Did you mean: 'filter'?

      hint: This usually indicates a problem with the package or the build environment.
</code></pre>
<p>It seems that <code>uvx</code> is trying, at some point, to access <code>file()</code> but this is a Python 2 function (I use Python 3.12, where <code>open()</code> should be called instead).</p>
<p>I tried with <code>uvx --python 3.12</code>, same result.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-01-12 11:03</div>
            <div class="timeline-body"><p>uvx <strong>run</strong>?
https://docs.astral.sh/uv/guides/tools/#running-tools</p>
<p>It's expected behavior given that you're using a package called &quot;run&quot; from PyPI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wsw70">@wsw70</a> on 2025-01-12 14:57</div>
            <div class="timeline-body"><p>My bad - I thought that <code>uvx</code> was to <code>uv</code> what <code>pythonw</code> is to <code>python</code> -- yes this is weird, in retrospective I do not know how I made the bridge in my head :)  Sorry for that!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @wsw70 on 2025-01-12 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-12 15:08</div>
            <div class="timeline-body"><p>Just as a note, this is a <a href="https://docs.astral.sh/uv/reference/build_failures/">build failure</a> — that error isn't from uv.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
