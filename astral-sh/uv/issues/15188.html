<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Large test regression with system Python installation over `PYTHON-BIN` changes - astral-sh/uv #15188</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Large test regression with system Python installation over `PYTHON-BIN` changes</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15188">#15188</a>
        opened by <a href="https://github.com/mgorny">@mgorny</a>
        on 2025-08-09 05:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mgorny">@mgorny</a> on 2025-08-09 05:12</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I haven't bisected it but eyeballs tell me b1a036ccf5ba744847f14f7cb630ed5993ed7d91 caused a lot of regressions when system Python installation is used. <code>PYTHON-BIN-3.12</code> then evaluates to <code>/usr/bin</code>, which changes output in a lot of snapshots:</p>
<details>

<pre><code>failures:

---- edit::add_script_with_metadata_table_and_shebang stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
Updated `script.py`

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: add_script_with_metadata_table_and_shebang-2
Source: crates/uv/tests/it/edit.rs:6366
────────────────────────────────────────────────────────────────────────────────
Expression: script_content
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0       │-#!/usr/bin/env python3
          0 │+#![PYTHON-BIN-3.12]env python3
    1     1 │ # /// script
    2     2 │ # requires-python = &quot;&gt;=3.12&quot;
    3     3 │ # dependencies = [
    4     4 │ #     &quot;requests&lt;3&quot;,
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'edit::add_script_with_metadata_table_and_shebang' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'add_script_with_metadata_table_and_shebang-2' failed in line 6366
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- edit::add_script_without_metadata_table_with_shebang stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
Updated `script.py`

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: add_script_without_metadata_table_with_shebang-2
Source: crates/uv/tests/it/edit.rs:6310
────────────────────────────────────────────────────────────────────────────────
Expression: script_content
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0       │-#!/usr/bin/env python3
          0 │+#![PYTHON-BIN-3.12]env python3
    1     1 │ # /// script
    2     2 │ # requires-python = &quot;&gt;=3.12&quot;
    3     3 │ # dependencies = [
    4     4 │ #     &quot;requests&lt;3&quot;,
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'edit::add_script_without_metadata_table_with_shebang' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'add_script_without_metadata_table_with_shebang-2' failed in line 6310

---- init::init_script_shebang stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
warning: If you execute script.py directly, it might ignore its inline metadata.
Consider replacing its shebang with: #!/usr/bin/env -S uv run --script
Initialized script at `script.py`

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: init_script_shebang
Source: crates/uv/tests/it/init.rs:854
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    2     2 │ ----- stdout -----
    3     3 │ 
    4     4 │ ----- stderr -----
    5     5 │ warning: If you execute script.py directly, it might ignore its inline metadata.
    6       │-Consider replacing its shebang with: #!/usr/bin/env -S uv run --script
          6 │+Consider replacing its shebang with: #![PYTHON-BIN-3.12]env -S uv run --script
    7     7 │ Initialized script at `script.py`
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'init::init_script_shebang' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'init_script_shebang' failed in line 854

---- pip_compile::git_source_missing_tag stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
  × Failed to download and build `uv-public-pypackage @ git+https://github.com/astral-test/uv-public-pypackage@missing`
  ├─▶ Git operation failed
  ├─▶ failed to clone into: /var/tmp/portage/dev-python/uv-0.8.8/temp/uv/tests/.tmpSp3jH9/cache/git-v0/db/8dab139913c4b566
  ├─▶ failed to fetch tag `missing`
  ╰─▶ process didn't exit successfully: `/usr/bin/git fetch --force --update-head-ok 'https://github.com/astral-test/uv-public-pypackage' '+refs/tags/missing:refs/remotes/origin/tags/missing'` (exit status: 128)
      --- stderr
      fatal: couldn't find remote ref refs/tags/missing


────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: git_source_missing_tag
Source: crates/uv/tests/it/pip_compile.rs:13245
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    5     5 │   × Failed to download and build `uv-public-pypackage @ git+https://github.com/astral-test/uv-public-pypackage@missing`
    6     6 │   ├─▶ Git operation failed
    7     7 │   ├─▶ failed to clone into: [CACHE_DIR]/git-v0/db/8dab139913c4b566
    8     8 │   ├─▶ failed to fetch tag `missing`
    9       │-  ╰─▶ process didn't exit successfully: `git fetch --force --update-head-ok 'https://github.com/astral-test/uv-public-pypackage' '+refs/tags/missing:refs/remotes/origin/tags/missing'` (exit status: 128)
          9 │+  ╰─▶ process didn't exit successfully: `[PYTHON-BIN-3.12]git fetch --force --update-head-ok 'https://github.com/astral-test/uv-public-pypackage' '+refs/tags/missing:refs/remotes/origin/tags/missing'` (exit status: 128)
   10    10 │       --- stderr
   11    11 │       fatal: couldn't find remote ref refs/tags/missing
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'pip_compile::git_source_missing_tag' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'git_source_missing_tag' failed in line 13245

---- pip_install::install_git_private_https_interactive stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
  × Failed to download and build `uv-private-pypackage @ git+https://github.com/astral-test/uv-private-pypackage`
  ├─▶ Git operation failed
  ├─▶ failed to clone into: /var/tmp/portage/dev-python/uv-0.8.8/temp/uv/tests/.tmpj0PIHQ/cache/git-v0/db/8401f5508e3e612d
  ╰─▶ process didn't exit successfully: `/usr/bin/git fetch --force --update-head-ok 'https://github.com/astral-test/uv-private-pypackage' '+HEAD:refs/remotes/origin/HEAD'` (exit status: 128)
      --- stderr
      fatal: could not read Username for 'https://github.com': terminal prompts disabled


────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: install_git_private_https_interactive
Source: crates/uv/tests/it/pip_install.rs:2508
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    4     4 │ ----- stderr -----
    5     5 │   × Failed to download and build `uv-private-pypackage @ git+https://github.com/astral-test/uv-private-pypackage`
    6     6 │   ├─▶ Git operation failed
    7     7 │   ├─▶ failed to clone into: [CACHE_DIR]/git-v0/db/8401f5508e3e612d
    8       │-  ╰─▶ process didn't exit successfully: `/usr/bin/git fetch --force --update-head-ok 'https://github.com/astral-test/uv-private-pypackage' '+HEAD:refs/remotes/origin/HEAD'` (exit status: 128)
          8 │+  ╰─▶ process didn't exit successfully: `[PYTHON-BIN-3.12]git fetch --force --update-head-ok 'https://github.com/astral-test/uv-private-pypackage' '+HEAD:refs/remotes/origin/HEAD'` (exit status: 128)
    9     9 │       --- stderr
   10    10 │       fatal: could not read Username for 'https://github.com': terminal prompts disabled
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'pip_install::install_git_private_https_interactive' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'install_git_private_https_interactive' failed in line 2508

---- pip_install::install_git_private_https_pat_not_authorized stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
  × Failed to download and build `uv-private-pypackage @ git+https://git:****@github.com/astral-test/uv-private-pypackage`
  ├─▶ Git operation failed
  ├─▶ failed to clone into: /var/tmp/portage/dev-python/uv-0.8.8/temp/uv/tests/.tmppHynld/cache/git-v0/db/8401f5508e3e612d
  ╰─▶ process didn't exit successfully: `/usr/bin/git fetch --force --update-head-ok 'https://git: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@github.com/astral-test/uv-private-pypackage' '+HEAD:refs/remotes/origin/HEAD'` (exit status: 128)
      --- stderr
      remote: Invalid username or token. Password authentication is not supported for Git operations.
      fatal: Authentication failed for 'https://github.com/astral-test/uv-private-pypackage/'


────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: install_git_private_https_pat_not_authorized
Source: crates/uv/tests/it/pip_install.rs:2409
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    4     4 │ ----- stderr -----
    5     5 │   × Failed to download and build `uv-private-pypackage @ git+https://git:****@github.com/astral-test/uv-private-pypackage`
    6     6 │   ├─▶ Git operation failed
    7     7 │   ├─▶ failed to clone into: [CACHE_DIR]/git-v0/db/8401f5508e3e612d
    8       │-  ╰─▶ process didn't exit successfully: `git fetch --force --update-head-ok 'https://git:***@github.com/astral-test/uv-private-pypackage' '+HEAD:refs/remotes/origin/HEAD'` (exit status: 128)
          8 │+  ╰─▶ process didn't exit successfully: `[PYTHON-BIN-3.12]git fetch --force --update-head-ok 'https://git:***@github.com/astral-test/uv-private-pypackage' '+HEAD:refs/remotes/origin/HEAD'` (exit status: 128)
    9     9 │       --- stderr
   10    10 │       remote: Invalid username or token. Password authentication is not supported for Git operations.
   11    11 │       fatal: Authentication failed for 'https://github.com/astral-test/uv-private-pypackage/'
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'pip_install::install_git_private_https_pat_not_authorized' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'install_git_private_https_pat_not_authorized' failed in line 2409

---- pip_install::install_git_public_https_missing_branch_or_tag stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
  × Failed to download and build `uv-public-pypackage @ git+https://github.com/astral-test/uv-public-pypackage@2.0.0`
  ├─▶ Git operation failed
  ├─▶ failed to clone into: /var/tmp/portage/dev-python/uv-0.8.8/temp/uv/tests/.tmpN0Zzw2/cache/git-v0/db/8dab139913c4b566
  ├─▶ failed to fetch branch or tag `2.0.0`
  ╰─▶ process didn't exit successfully: `/usr/bin/git fetch --force --update-head-ok 'https://github.com/astral-test/uv-public-pypackage' '+refs/tags/2.0.0:refs/remotes/origin/tags/2.0.0'` (exit status: 128)
      --- stderr
      fatal: couldn't find remote ref refs/tags/2.0.0


────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: install_git_public_https_missing_branch_or_tag
Source: crates/uv/tests/it/pip_install.rs:2071
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    5     5 │   × Failed to download and build `uv-public-pypackage @ git+https://github.com/astral-test/uv-public-pypackage@2.0.0`
    6     6 │   ├─▶ Git operation failed
    7     7 │   ├─▶ failed to clone into: [CACHE_DIR]/git-v0/db/8dab139913c4b566
    8     8 │   ├─▶ failed to fetch branch or tag `2.0.0`
    9       │-  ╰─▶ process didn't exit successfully: `git fetch [...]` (exit code: 128)
          9 │+  ╰─▶ process didn't exit successfully: `[PYTHON-BIN-3.12]git fetch --force --update-head-ok 'https://github.com/astral-test/uv-public-pypackage' '+refs/tags/2.0.0:refs/remotes/origin/tags/2.0.0'` (exit code: 128)
   10    10 │       --- stderr
   11    11 │       fatal: couldn't find remote ref refs/tags/2.0.0
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'pip_install::install_git_public_https_missing_branch_or_tag' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'install_git_public_https_missing_branch_or_tag' failed in line 2071

---- pip_install::install_git_public_https_missing_commit stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
  × Failed to download and build `uv-public-pypackage @ git+https://github.com/astral-test/uv-public-pypackage@79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b`
  ├─▶ Git operation failed
  ├─▶ failed to find branch, tag, or commit `79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b`
  ╰─▶ process didn't exit successfully: `/usr/bin/git rev-parse '79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b^0'` (exit status: 128)
      --- stdout
      79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b^0

      --- stderr
      fatal: ambiguous argument '79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b^0': unknown revision or path not in the working tree.
      Use '--' to separate paths from revisions, like this:
      'git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]'


────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: install_git_public_https_missing_commit
Source: crates/uv/tests/it/pip_install.rs:2166
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    4     4 │ ----- stderr -----
    5     5 │   × Failed to download and build `uv-public-pypackage @ git+https://github.com/astral-test/uv-public-pypackage@79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b`
    6     6 │   ├─▶ Git operation failed
    7     7 │   ├─▶ failed to find branch, tag, or commit `79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b`
    8       │-  ╰─▶ process didn't exit successfully: `git rev-parse [...]` (exit code: 128)
          8 │+  ╰─▶ process didn't exit successfully: `[PYTHON-BIN-3.12]git rev-parse '79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b^0'` (exit code: 128)
    9     9 │       --- stdout
   10    10 │       79a935a7a1a0ad6d0bdf72dce0e16cb0a24a1b3b^0
   11    11 │ 
   12    12 │       --- stderr
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'pip_install::install_git_public_https_missing_commit' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'install_git_public_https_missing_commit' failed in line 2166

---- python_module::find_uv_bin_prefix stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
Using CPython 3.12.11 interpreter at: .venv/bin/python3
Resolved 1 package in 6ms
Prepared 1 package in 45ms
Installed 1 package in 5ms
 + uv==0.1.0 (from file:///var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/scripts/packages/fake-uv)

────────────────────────────────────────────────────────────────────────────────


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----
/usr/bin/uv

----- stderr -----

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: find_uv_bin_prefix-2
Source: crates/uv/tests/it/python_module.rs:138
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0     0 │ success: true
    1     1 │ exit_code: 0
    2     2 │ ----- stdout -----
    3       │-[TEMP_DIR]/prefix/[BIN]/uv
          3 │+[PYTHON-BIN-3.12]uv
    4     4 │ 
    5     5 │ ----- stderr -----
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'python_module::find_uv_bin_prefix' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'find_uv_bin_prefix-2' failed in line 138

---- python_module::find_uv_bin_in_ephemeral_environment stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----
/usr/bin/uv

----- stderr -----
Resolved 1 package in 101ms
Audited in 0.02ms
Resolved 1 package in 4ms
Prepared 1 package in 34ms
Installed 1 package in 5ms
 + uv==0.1.0 (from file:///var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/scripts/packages/fake-uv)

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: find_uv_bin_in_ephemeral_environment
Source: crates/uv/tests/it/python_module.rs:229
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0     0 │ success: true
    1     1 │ exit_code: 0
    2     2 │ ----- stdout -----
    3       │-[CACHE_DIR]/archive-v0/[HASH]/[BIN]/uv
          3 │+[PYTHON-BIN-3.12]uv
    4     4 │ 
    5     5 │ ----- stderr -----
    6     6 │ Resolved 1 package in [TIME]
    7     7 │ Audited in [TIME]
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'python_module::find_uv_bin_in_ephemeral_environment' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'find_uv_bin_in_ephemeral_environment' failed in line 229

---- python_module::find_uv_bin_py38 stdout ----

thread 'python_module::find_uv_bin_py38' panicked at crates/uv/tests/it/common/mod.rs:1587:17:
Could not find Python 3.8 for test

---- python_module::find_uv_bin_in_parent_of_ephemeral_environment stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----
/usr/bin/uv

----- stderr -----
Resolved 2 packages in 138ms
Prepared 1 package in 36ms
Installed 1 package in 8ms
 + uv==0.1.0 (from file:///var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/scripts/packages/fake-uv)
Resolved 3 packages in 296ms
Prepared 3 packages in 183ms
Installed 3 packages in 28ms
 + anyio==4.3.0
 + idna==3.6
 + sniffio==1.3.1

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: find_uv_bin_in_parent_of_ephemeral_environment
Source: crates/uv/tests/it/python_module.rs:281
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0     0 │ success: true
    1     1 │ exit_code: 0
    2     2 │ ----- stdout -----
    3       │-[VENV]/[BIN]/uv
          3 │+[PYTHON-BIN-3.12]uv
    4     4 │ 
    5     5 │ ----- stderr -----
    6     6 │ Resolved 2 packages in [TIME]
    7     7 │ Prepared 1 package in [TIME]
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'python_module::find_uv_bin_in_parent_of_ephemeral_environment' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'find_uv_bin_in_parent_of_ephemeral_environment' failed in line 281

---- python_module::find_uv_bin_target stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
Using CPython 3.12.11 interpreter at: .venv/bin/python3
Resolved 1 package in 14ms
Prepared 1 package in 57ms
Installed 1 package in 13ms
 + uv==0.1.0 (from file:///var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/scripts/packages/fake-uv)

────────────────────────────────────────────────────────────────────────────────


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----
/usr/bin/uv

----- stderr -----

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: find_uv_bin_target-2
Source: crates/uv/tests/it/python_module.rs:92
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0     0 │ success: true
    1     1 │ exit_code: 0
    2     2 │ ----- stdout -----
    3       │-[TEMP_DIR]/target/[BIN]/uv
          3 │+[PYTHON-BIN-3.12]uv
    4     4 │ 
    5     5 │ ----- stderr -----
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'python_module::find_uv_bin_target' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'find_uv_bin_target-2' failed in line 92

---- python_module::find_uv_bin_user_bin stdout ----

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----

----- stderr -----
Resolved 1 package in 9ms
Prepared 1 package in 40ms
Installed 1 package in 16ms
 + uv==0.1.0 (from file:///var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/scripts/packages/fake-uv)

────────────────────────────────────────────────────────────────────────────────


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----
/var/tmp/portage/dev-python/uv-0.8.8/temp/uv/tests/.tmpmJPRXn/temp/.venv/bin/uv

----- stderr -----

────────────────────────────────────────────────────────────────────────────────


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
----- stdout -----
/usr/bin/uv

----- stderr -----

────────────────────────────────────────────────────────────────────────────────

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Snapshot: find_uv_bin_user_bin-3
Source: crates/uv/tests/it/python_module.rs:373
────────────────────────────────────────────────────────────────────────────────
Expression: snapshot
────────────────────────────────────────────────────────────────────────────────
-old snapshot
+new results
────────────┬───────────────────────────────────────────────────────────────────
    0     0 │ success: true
    1     1 │ exit_code: 0
    2     2 │ ----- stdout -----
    3       │-[USER_SCHEME]/[BIN]/uv
          3 │+[PYTHON-BIN-3.12]uv
    4     4 │ 
    5     5 │ ----- stderr -----
────────────┴───────────────────────────────────────────────────────────────────
To update snapshots run `cargo insta review`
Stopped on the first failure. Run `cargo insta test` to run all snapshots.

thread 'python_module::find_uv_bin_user_bin' panicked at /var/tmp/portage/dev-python/uv-0.8.8/work/cargo_home/gentoo/insta-1.43.1/src/runtime.rs:679:13:
snapshot assertion for 'find_uv_bin_user_bin-3' failed in line 373


failures:
    edit::add_script_with_metadata_table_and_shebang
    edit::add_script_without_metadata_table_with_shebang
    init::init_script_shebang
    pip_compile::git_source_missing_tag
    pip_install::install_git_private_https_interactive
    pip_install::install_git_private_https_pat_not_authorized
    pip_install::install_git_public_https_missing_branch_or_tag
    pip_install::install_git_public_https_missing_commit
    python_module::find_uv_bin_in_ephemeral_environment
    python_module::find_uv_bin_in_parent_of_ephemeral_environment
    python_module::find_uv_bin_prefix
    python_module::find_uv_bin_py38
    python_module::find_uv_bin_target
    python_module::find_uv_bin_user_bin

test result: FAILED. 2118 passed; 14 failed; 2 ignored; 0 measured; 0 filtered out; finished in 522.74s

error: test failed, to rerun pass `--test it`
   Doc-tests uv
     Running `rustdoc --edition=2024 --crate-type lib --color auto --crate-name uv --test crates/uv/src/lib.rs --test-run-directory /var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/crates/uv -L dependency=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps -L dependency=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps -L native=/usr/lib64 -L native=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/build/ring-f567c1628046b8f2/out -L native=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/build/sys-info-770a436f7fb63377/out '--warn=clippy::pedantic' '--allow=clippy::used_underscore_binding' '--warn=clippy::use_self' --warn=unsafe_code --warn=unreachable_pub '--allow=clippy::too_many_lines' '--allow=clippy::too_many_arguments' '--allow=clippy::struct_excessive_bools' '--allow=clippy::similar_names' '--warn=clippy::rest_pat_in_fully_bound_structs' '--warn=clippy::rc_mutex' '--warn=clippy::rc_buffer' '--warn=clippy::print_stdout' '--warn=clippy::print_stderr' '--allow=clippy::must_use_candidate' '--allow=clippy::module_name_repetitions' '--allow=clippy::missing_panics_doc' '--allow=clippy::missing_errors_doc' '--allow=clippy::match_same_arms' '--allow=clippy::map_unwrap_or' '--allow=clippy::large_stack_arrays' '--allow=clippy::implicit_hasher' '--allow=clippy::if_not_else' '--warn=clippy::get_unwrap' '--warn=clippy::exit' '--warn=clippy::empty_structs_with_brackets' '--warn=clippy::empty_drop' '--warn=clippy::dbg_macro' '--allow=clippy::collapsible_if' '--allow=clippy::collapsible_else_if' '--allow=clippy::char_lit_as_u8' --extern anstream=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libanstream-5a51f836054e5bf9.rlib --extern anyhow=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libanyhow-4cd9ba738c7ba7d0.rlib --extern assert_cmd=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libassert_cmd-aaa4c9e572c31d87.rlib --extern assert_fs=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libassert_fs-505e61e6fb884b1b.rlib --extern base64=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libbase64-a5a1c7669c613ade.rlib --extern byteorder=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libbyteorder-c70bbc2c4ab63913.rlib --extern clap=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libclap-430a04a1eeabedbc.rlib --extern console=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libconsole-0d14dcee11cf63f1.rlib --extern ctrlc=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libctrlc-743a9428a867d0a7.rlib --extern dotenvy=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libdotenvy-95069b77082c0465.rlib --extern dunce=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libdunce-2d88a0519a71ce58.rlib --extern filetime=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libfiletime-11f3dda58e07f7fa.rlib --extern flate2=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libflate2-b6c87bf347df1e68.rlib --extern fs_err=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libfs_err-bbb45f6ae8e5fcc1.rlib --extern futures=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libfutures-9ba37f30b017122a.rlib --extern h2=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libh2-4d4e4b9ed8cbb387.rlib --extern http=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libhttp-014e78469cc08a8b.rlib --extern ignore=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libignore-c8877923b4ac8459.rlib --extern indexmap=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libindexmap-9fc2e97dcc8b0290.rlib --extern indicatif=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libindicatif-280b27165e60927e.rlib --extern indoc=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libindoc-40acf38837239172.so --extern insta=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libinsta-d47f3ea3ff326c93.rlib --extern itertools=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libitertools-8df638d208b5b346.rlib --extern jiff=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libjiff-52e4ae431b616e8c.rlib --extern miette=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libmiette-bfc7ecf2ca0277b1.rlib --extern nix=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libnix-d6e5bda470c7c7c9.rlib --extern owo_colors=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libowo_colors-714ebb0739a2efa5.rlib --extern petgraph=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libpetgraph-32a3e2b3c82eaad7.rlib --extern predicates=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libpredicates-c0ea308b444a189d.rlib --extern regex=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libregex-928999e295c2fcba.rlib --extern reqwest=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libreqwest-c8f6cccafbe9aea2.rlib --extern rkyv=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/librkyv-2e2c3ca2f9510c75.rlib --extern rustc_hash=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/librustc_hash-560df36fa55157e8.rlib --extern serde=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libserde-051ad6a24faca22a.rlib --extern serde_json=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libserde_json-3d25631a7ff401d3.rlib --extern similar=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libsimilar-12a0f89a0c33afe8.rlib --extern tar=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtar-ceebcf4d97d62a7d.rlib --extern tempfile=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtempfile-c88451f0629d1943.rlib --extern textwrap=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtextwrap-894473408a635c66.rlib --extern thiserror=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libthiserror-3a50ee2d37c6aa9c.rlib --extern tokio=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtokio-421e770ffa3a5194.rlib --extern tokio_util=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtokio_util-8f606d0c896a5ac9.rlib --extern toml=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtoml-a1ccbe2171cdbcf2.rlib --extern toml_edit=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtoml_edit-f2158578c9b56757.rlib --extern tracing=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtracing-0033bbda77407ac3.rlib --extern tracing_subscriber=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtracing_subscriber-129a7e26754f9a5a.rlib --extern tracing_tree=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libtracing_tree-e0bea767c4277203.rlib --extern unicode_width=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libunicode_width-d2d2f4dad019a77c.rlib --extern url=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/liburl-45f2ef4391411557.rlib --extern uv=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv-5f14e9ed1b9d71ec.rlib --extern uv_auth=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_auth-2a437a7b1d55044a.rlib --extern uv_build_backend=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_build_backend-571b01809e23146a.rlib --extern uv_build_frontend=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_build_frontend-adef9ac5ddea913d.rlib --extern uv_cache=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_cache-aee0edcc58f83b44.rlib --extern uv_cache_info=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_cache_info-d1e958a6e39f53de.rlib --extern uv_cache_key=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_cache_key-59349b8b06e42a8e.rlib --extern uv_cli=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_cli-e11771e12139fac0.rlib --extern uv_client=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_client-f4631a562e20cf51.rlib --extern uv_configuration=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_configuration-710c7d513859f1c6.rlib --extern uv_console=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_console-c4aad76d34f52b9b.rlib --extern uv_dispatch=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_dispatch-a5a24c30d000a595.rlib --extern uv_distribution=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_distribution-259dee8ad2f0604b.rlib --extern uv_distribution_filename=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_distribution_filename-6d50d3980f0a302b.rlib --extern uv_distribution_types=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_distribution_types-0b210ce408407917.rlib --extern uv_extract=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_extract-ddd88c0032f291f5.rlib --extern uv_fs=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_fs-720cd1b24560ab77.rlib --extern uv_git=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_git-15a7777d7c8d3a39.rlib --extern uv_git_types=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_git_types-cb61ff782b9482d7.rlib --extern uv_install_wheel=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_install_wheel-31cd7ee0cdc9f49c.rlib --extern uv_installer=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_installer-6b203d4ae47d5f82.rlib --extern uv_normalize=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_normalize-1aa1ba92eff76429.rlib --extern uv_pep440=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_pep440-febf7310a1cf738b.rlib --extern uv_pep508=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_pep508-a37a503d11c3301b.rlib --extern uv_platform=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_platform-682e53e0b058b8d3.rlib --extern uv_platform_tags=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_platform_tags-136ec787929ce87d.rlib --extern uv_publish=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_publish-35d72131bf58d19c.rlib --extern uv_pypi_types=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_pypi_types-7ba93b3f811233c1.rlib --extern uv_python=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_python-7bff4235e4a3aed8.rlib --extern uv_redacted=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_redacted-571814777c9b4b76.rlib --extern uv_requirements=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_requirements-241a5fc13e13853a.rlib --extern uv_requirements_txt=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_requirements_txt-85d70220b12bce67.rlib --extern uv_resolver=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_resolver-64f8a1c175d4e182.rlib --extern uv_scripts=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_scripts-8ffde897fc0e4a75.rlib --extern uv_settings=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_settings-51d1338449931178.rlib --extern uv_shell=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_shell-5a6dd3098bd5dd4d.rlib --extern uv_static=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_static-543daccba4422220.rlib --extern uv_tool=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_tool-98f1a9c6554ed58c.rlib --extern uv_torch=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_torch-5187783a8f5e5b4a.rlib --extern uv_trampoline_builder=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_trampoline_builder-83fb8167458525f3.rlib --extern uv_types=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_types-504423a2d1a42a89.rlib --extern uv_version=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_version-49187cd6266b2579.rlib --extern uv_virtualenv=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_virtualenv-d4c279091f61c9c6.rlib --extern uv_warnings=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_warnings-78e7cae3f1472013.rlib --extern uv_workspace=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libuv_workspace-f2a20cc6b032b6e4.rlib --extern version_ranges=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libversion_ranges-a155accb37b5116c.rlib --extern walkdir=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libwalkdir-001ddc70a9b1c1f1.rlib --extern which=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libwhich-97e8314037b52223.rlib --extern whoami=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libwhoami-425509440f9e1e00.rlib --extern wiremock=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libwiremock-92120058fb7e0f0b.rlib --extern zip=/var/tmp/portage/dev-python/uv-0.8.8/work/uv-0.8.8/target/debug/deps/libzip-4e9fda26bc3bd2bb.rlib -C embed-bitcode=no --cfg 'feature=&quot;git&quot;' --cfg 'feature=&quot;pypi&quot;' --cfg 'feature=&quot;python&quot;' --check-cfg 'cfg(docsrs,test)' --check-cfg 'cfg(feature, values(&quot;axoupdater&quot;, &quot;crates-io&quot;, &quot;default&quot;, &quot;default-tests&quot;, &quot;git&quot;, &quot;performance&quot;, &quot;performance-memory-allocator&quot;, &quot;pypi&quot;, &quot;python&quot;, &quot;python-eol&quot;, &quot;python-managed&quot;, &quot;python-patch&quot;, &quot;r2&quot;, &quot;self-update&quot;, &quot;slow-tests&quot;, &quot;test-ecosystem&quot;, &quot;tracing-durations-export&quot;, &quot;windows-gui-bin&quot;))' --error-format human`

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: 1 target failed:
    `--test it`
</code></pre>
</details>

<h3>Platform</h3>
<p>Gentoo Linux amd64</p>
<h3>Version</h3>
<p>0.8.8</p>
<h3>Python version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @mgorny on 2025-08-09 05:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-09 14:27</div>
            <div class="timeline-body"><p>Eek thanks!</p>
<p>This snapshot filter will be the end of me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @zanieb on 2025-08-09 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mgorny">@mgorny</a> on 2025-08-15 02:40</div>
            <div class="timeline-body"><p>Gentle ping.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-08-15 03:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15305.html">astral-sh/uv#15305</a> on 2025-08-15 12:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-08-15 13:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mgorny">@mgorny</a> on 2025-08-15 14:13</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/evbo">@evbo</a> on 2025-08-21 20:13</div>
            <div class="timeline-body"><p>I'm getting this same error as the OP</p>
<blockquote>
<p>Invalid username or token. Password authentication is not supported for Git operations.</p>
</blockquote>
<p>when I have 2 dependencies listed that use the same github dependency (transistive dependency conflict). I fix it by removing one of them, but should that be happening?</p>
<p>example:</p>
<pre><code class="language-toml">dependencies = [
    &quot;a @ git+https://github.com/private/a@main&quot;,
    &quot;b @ git+https://github.com/private/b_depends_on_a@main&quot;,
]
</code></pre>
<p>So I just remove <code>a</code> and it's all good, but still that error doesn't make sense. Should I open a new issue or is it similar enough to this one?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-21 20:56</div>
            <div class="timeline-body"><p>@evbo this issue is about our test suite — please open a new issue.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
