<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exclude the project from `no-build` by default - astral-sh/uv #17416</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Exclude the project from <code>no-build</code> by default</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17416">#17416</a>
        opened by <a href="https://github.com/NMertsch">@NMertsch</a>
        on 2026-01-12 13:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/NMertsch">@NMertsch</a> on 2026-01-12 13:43</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Currently, package projects (<code>uv init --package</code>) automatically are added to <code>uv.lock</code> as editable. This makes sense.
But it also means that <code>no-build = true</code> applies to them, and not just to dependencies.</p>
<p>I'd like to have the following:</p>
<ol>
<li>External dependencies are not build, unless explicitly allowed with <code>no-binary-package</code></li>
<li>My project is built</li>
</ol>
<p>Point 1 is achieved with <code>no-build = true</code>. I think it is reasonable to expect point 2 without additional configuration.</p>
<h3>How to reproduce</h3>
<pre><code class="language-bash"># create new package
uv init --package my-project
cd my-project

# set `no-build = true`
echo '[tool.uv]' &gt;&gt; pyproject.toml
echo 'no-build = true' &gt;&gt; pyproject.toml

# interact with the package
uv sync  # error: Distribution `my-project==0.1.1 @ editable+.` can't be installed because it is marked as `--no-build` but has no binary distribution

# explicitly allow uv to build my own package
echo 'no-binary-package' = [&quot;my-project&quot;] &gt;&gt; pyproject.toml

# interact with the package
uv sync  # works
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @NMertsch on 2026-01-12 13:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 14:09:38 UTC
    </footer>
</body>
</html>
