<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv self update error on Windows: The system cannot move the file to a different disk drive - astral-sh/uv #3845</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv self update error on Windows: The system cannot move the file to a different disk drive</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3845">#3845</a>
        opened by <a href="https://github.com/ThatOtherAndrew">@ThatOtherAndrew</a>
        on 2024-05-26 23:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ThatOtherAndrew">@ThatOtherAndrew</a></div>
            <div class="timeline-body">

<p>I am using a <a href="https://learn.microsoft.com/en-us/windows/dev-drive/">Dev Drive</a> on Windows 11, mounted at <code>D:</code>. As recommended by Microsoft docs, I have mapped CARGO_HOME to this drive to improve cache speeds. This seems to cause issues with <code>uv self update</code> however, resulting in the following error:</p>
<pre><code>uv self update
info: Checking for updates...
error: The system cannot move the file to a different disk drive. (os error 17)
[Exit code 2]
</code></pre>
<p>The issue was reproduced on <code>uv</code> version 0.2.3, one older than the current version. The issue cannot be reproduced on the latest v0.2.4 as <code>uv self update</code> exits early upon detecting being on the latest version, however I am making the assumption that the issue is still present.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">upstream</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-27 00:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-27 00:18</div>
            <div class="timeline-body"><p>This is likely an issue in https://github.com/axodotdev/axoupdater. Do you mind filing there? Otherwise I can.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ThatOtherAndrew">@ThatOtherAndrew</a> on 2024-05-27 19:35</div>
            <div class="timeline-body"><p>Forwarded, thank you for the quick response!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-27 21:36</div>
            <div class="timeline-body"><p>Thanks! We&#x27;ll keep this open in the interim.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mistydemeo">@mistydemeo</a> on 2024-05-27 22:38</div>
            <div class="timeline-body"><p>I&#x27;ve opened a PR on Axoupdater that should fix this (<a href="https://github.com/axodotdev/axoupdater/pull/121">axodotdev/axoupdater#121</a>). Due to the US holiday, it&#x27;ll most likely take us a day or two to test and cut a new release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-27 23:13</div>
            <div class="timeline-body"><p>Thanks @mistydemeo! No rush of course. Hope you had a nice holiday weekend.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ThatOtherAndrew">@ThatOtherAndrew</a> on 2024-06-10 21:51</div>
            <div class="timeline-body"><p>Don&#x27;t mean to unnecessarily bump this issue, but just for the record, I believe the upstream issue was fixed with <a href="https://github.com/axodotdev/axoupdater/releases/tag/v0.6.5">axoupdater v0.6.5</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-10 21:53</div>
            <div class="timeline-body"><p>Thank you yes! And we updated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-10 21:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-10 21:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:15 UTC
    </footer>
</body>
</html>
