```yaml
number: 3760
title: "`UV 2.0` installation fails on `aarch64-unknown-linux-gnu` (inside docker basically) "
type: issue
state: closed
author: ArshanKhanifar
labels: []
assignees: []
created_at: 2024-05-22T19:28:12Z
updated_at: 2024-05-22T20:47:21Z
url: https://github.com/astral-sh/uv/issues/3760
synced_at: 2026-01-10T01:57:08Z
```

# `UV 2.0` installation fails on `aarch64-unknown-linux-gnu` (inside docker basically) 

---

_Issue opened by @ArshanKhanifar on 2024-05-22 19:28_

Hello hello! Congrats on the new release! ðŸŽ‰  

I happen to be building a docker image 10 minutes after the release ðŸ˜…  and I can see that the installation is failing. 

# Summary
My dockerfile:
```
FROM python:3.11-slim as builder

WORKDIR /app

ENV PYTHONUNBUFFERED 1
ENV PYTHONDONTWRITEBYTECODE 1
ENV PIP_NO_CACHE_DIR 1
ENV RUNTIME docker

RUN apt-get update
RUN apt-get install -y git curl

# install uv
ADD --chmod=755 https://astral.sh/uv/install.sh /install.sh
RUN /install.sh && rm /install.sh
```

then building this, I see this:
```
[+] Building 1.6s (10/13)                                                                                                                                                                                                     docker:orbstack
 => [internal] load build definition from Dockerfile                                                                                                                                                                                     0.0s
 => => transferring dockerfile: 690B                                                                                                                                                                                                     0.0s
 => [internal] load metadata for docker.io/library/python:3.11-slim                                                                                                                                                                      0.5s
 => [auth] library/python:pull token for registry-1.docker.io                                                                                                                                                                            0.0s
 => [internal] load .dockerignore                                                                                                                                                                                                        0.0s
 => => transferring context: 2B                                                                                                                                                                                                          0.0s
 => [1/8] FROM docker.io/library/python:3.11-slim@sha256:fc39d2e68b554c3f0a5cb8a776280c0b3d73b4c04b83dbade835e2a171ca27ef                                                                                                                0.0s
 => [internal] load build context                                                                                                                                                                                                        0.0s
 => => transferring context: 297B                                                                                                                                                                                                        0.0s
 => CACHED [2/8] WORKDIR /app                                                                                                                                                                                                            0.0s
 => CACHED [3/8] RUN apt-get update                                                                                                                                                                                                      0.0s
 => CACHED [4/8] RUN apt-get install -y git curl                                                                                                                                                                                         0.0s
 => ERROR [5/8] RUN curl -LsSf https://astral.sh/uv/install.sh | sh                                                                                                                                                                      1.0s
------
 > [5/8] RUN curl -LsSf https://astral.sh/uv/install.sh | sh:
0.763 downloading uv 0.2.0 aarch64-unknown-linux-gnu
0.965 curl: (22) The requested URL returned error: 404
0.970 failed to download https://github.com/astral-sh/uv/releases/download/0.2.0/uv-aarch64-unknown-linux-gnu.tar.gz
0.970 this may be a standard network error, but it may also indicate
0.970 that uv's release process is not working. When in doubt
0.970 please feel free to open an issue!
------
Dockerfile:19
--------------------
  17 |     #ADD --chmod=755 https://astral.sh/uv/install.sh /install.sh
  18 |     #RUN /install.sh && rm /install.sh
  19 | >>> RUN curl -LsSf https://astral.sh/uv/install.sh | sh
  20 |
  21 |     COPY requirements.txt .
--------------------
ERROR: failed to solve: process "/bin/sh -c curl -LsSf https://astral.sh/uv/install.sh | sh" did not complete successfully: exit code: 1

View build details: docker-desktop://dashboard/build/orbstack/orbstack/w6usv6gxw2sbgk1dzpjkoqahf
make[1]: *** [build] Error 1
make: *** [build-service] Error 2
```

### Steps to Reproduce
1. create the dockerfile I created above: `touch Dockerfile` 
2. build the dockerfile: `docker build -t myimage .` 

## My System
* My mac:
<img width="392" alt="image" src="https://github.com/astral-sh/uv/assets/10492324/e32404c3-8d5a-40a0-a791-b514227a0561">

* My docker version:
```
docker --version
Docker version 25.0.2, build 29cf629
```


---

_Comment by @charliermarsh on 2024-05-22 19:30_

I think this is because we removed the `linux-gnu` build but it's still included the cargo-dist manifest. I can cut a new release. In the interim you can pin with `curl -LsSf https://astral.sh/uv/0.1.45/install.sh | sh`.

---

_Comment by @ArshanKhanifar on 2024-05-22 19:31_

Thank you for the pin suggestion, that was going to be my next question ðŸ˜‚ 

Not sure which is faster, `uv` itself or its creators responding to issues. 

---

_Referenced in [astral-sh/uv#3761](../../astral-sh/uv/pulls/3761.md) on 2024-05-22 19:34_

---

_Comment by @charliermarsh on 2024-05-22 19:40_

I'm gonna re-add that binary, then re-release real quick: https://github.com/astral-sh/uv/pull/3762. So should be fixed in maybe 20 mins or so?

---

_Comment by @charliermarsh on 2024-05-22 20:34_

Hopefully fixed in v0.2.1?

---

_Closed by @charliermarsh on 2024-05-22 20:34_

---

_Comment by @sherpya on 2024-05-22 20:44_

> Hopefully fixed in v0.2.1?

yes, confirmed dual platform build on linux x86_64 

---

_Comment by @charliermarsh on 2024-05-22 20:47_

Thank you.

---
