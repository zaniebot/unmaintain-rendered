<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adjust concurrent task limits - astral-sh/uv #1205</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Adjust concurrent task limits</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1205">#1205</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-01-31 12:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2024-01-31 12:19</div>
            <div class="timeline-body"><p>We set limits to the number of concurrent tasks in a number of places. We should revisit them and decide whether these number are good. Increasing them may speed up puffin, but setting them too high may also lead to losses due to synchronization or problems for registries such as pypi</p>
<pre><code>$ rg buffer_unordered
crates/puffin-dev/src/resolve_many.rs
132:        .buffer_unordered(args.num_tasks);

crates/puffin-dev/src/install_many.rs
171:        .buffer_unordered(50)

crates/puffin-resolver/src/finder.rs
102:            .buffer_unordered(32)

crates/puffin-installer/src/downloader.rs
82:            .buffer_unordered(50)
136:            .buffer_unordered(50);

crates/puffin-resolver/src/resolver/mod.rs
730:            .buffer_unordered(50);
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">performance</span> added by @konstin on 2024-01-31 12:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2024-02-17 05:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3493.html">astral-sh/uv#3493</a> on 2024-05-09 18:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-05-18 03:13</div>
            <div class="timeline-body"><p>Resolved by https://github.com/astral-sh/uv/pull/3493 and https://github.com/astral-sh/uv/pull/3646.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2024-05-18 03:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:56 UTC
    </footer>
</body>
</html>
