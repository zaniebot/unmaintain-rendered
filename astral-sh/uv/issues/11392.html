<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip install` behavior deviates from `pip install` - astral-sh/uv #11392</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv pip install` behavior deviates from `pip install`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11392">#11392</a>
        opened by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a>
        on 2025-02-10 17:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2025-02-10 17:02</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>It does not appear that <code>uv pip install</code> correctly reads the <code>include-system-site-packages</code> value in <code>pyvenv.cfg</code> when installing a project.</p>
<h3>Steps to Reproduce</h3>
<p>Take the system offline.</p>
<p>Create a venv:</p>
<pre><code class="language-cmd">C:\Users\user\dev\albatross&gt;uv venv --system-site-packages
Using CPython 3.13.1 interpreter at: C:\WinPython\python\python.exe
Creating virtual environment at: .venv
Activate with: .venv\Scripts\activate

C:\Users\user\dev\albatross&gt;.venv\Scripts\activate
</code></pre>
<p>Try to install the project:</p>
<pre><code class="language-cmd">(albatross) C:\Users\user\dev\albatross&gt;uv pip install --no-build-isolation -e .
таз pyqt5-qt5==5.15.2
error: Failed to fetch: `https://***/repository/pypi-proxy/packages/pyqt5-qt5/5.15.2/PyQt5_Qt5-5.15.2-py3-none-win_amd64.whl#sha256=750b78e4dba6bdf1607febedc08738e318ea09e9b10aea9ff0d73073f11f6962`
  Caused by: Could not connect, are you offline?
  Caused by: Request failed after 3 retries
  Caused by: error sending request for url (https://***/repository/pypi-proxy/packages/pyqt5-qt5/5.15.2/PyQt5_Qt5-5.15.2-py3-none-win_amd64.whl#sha256=750b78e4dba6bdf1607febedc08738e318ea09e9b10aea9ff0d73073f11f6962)
  Caused by: client error (Connect)
  Caused by: dns error: No such host is known. (os error 11001)
  Caused by: No such host is known. (os error 11001)

(albatross) C:\Users\user\dev\albatross&gt;
</code></pre>
<p>That failed, try using <code>pip install</code> instead of <code>uv pip install</code>:</p>
<pre><code class="language-cmd">(albatross) C:\Users\user\dev\albatross&gt;pip install --no-build-isolation -e .
Obtaining file:///C:/Users/user/dev/albatross
  Checking if build backend supports build_editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Requirement already satisfied: locket==1.0.0 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (1.0.0)
Requirement already satisfied: pytest==8.2.2 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (8.2.2)
Requirement already satisfied: pyqt5==5.15.10 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (5.15.10)
Requirement already satisfied: pyqt5-qt5==5.15.2 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (5.15.2)
Requirement already satisfied: qdarkstyle==3.2.3 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (3.2.3)
Requirement already satisfied: qtpy==2.4.1 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (2.4.1)
Requirement already satisfied: streamlit==1.41.1 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (1.41.1)
Requirement already satisfied: PyQt5-sip&lt;13,&gt;=12.13 in c:\winpython\python\lib\site-packages (from pyqt5==5.15.10-&gt;albatross==0.1.0) (12.16.1)
Requirement already satisfied: iniconfig in c:\winpython\python\lib\site-packages (from pytest==8.2.2-&gt;albatross==0.1.0) (2.0.0)
Requirement already satisfied: packaging in c:\winpython\python\lib\site-packages (from pytest==8.2.2-&gt;albatross==0.1.0) (24.2)
Requirement already satisfied: pluggy&lt;2.0,&gt;=1.5 in c:\winpython\python\lib\site-packages (from pytest==8.2.2-&gt;albatross==0.1.0) (1.5.0)
Requirement already satisfied: colorama in c:\winpython\python\lib\site-packages (from pytest==8.2.2-&gt;albatross==0.1.0) (0.4.6)
Requirement already satisfied: altair&lt;6,&gt;=4.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (5.5.0)
Requirement already satisfied: blinker&lt;2,&gt;=1.0.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (1.7.0)
Requirement already satisfied: cachetools&lt;6,&gt;=4.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (5.4.0)
Requirement already satisfied: click&lt;9,&gt;=7.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (8.1.7)
Requirement already satisfied: numpy&lt;3,&gt;=1.23 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (2.1.3)
Requirement already satisfied: pandas&lt;3,&gt;=1.4.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (2.2.3)
Requirement already satisfied: pillow&lt;12,&gt;=7.1.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (11.1.0)
Requirement already satisfied: protobuf&lt;6,&gt;=3.20 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (5.27.3)
Requirement already satisfied: pyarrow&gt;=7.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (19.0.0)
Requirement already satisfied: requests&lt;3,&gt;=2.27 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (2.32.3)
Requirement already satisfied: rich&lt;14,&gt;=10.14.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (13.9.4)
Requirement already satisfied: tenacity&lt;10,&gt;=8.1.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (8.5.0)
Requirement already satisfied: toml&lt;2,&gt;=0.10.1 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (0.10.2)
Requirement already satisfied: typing-extensions&lt;5,&gt;=4.3.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (4.12.2)
Requirement already satisfied: watchdog&lt;7,&gt;=2.1.5 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (4.0.1)
Requirement already satisfied: gitpython!=3.1.19,&lt;4,&gt;=3.0.7 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (3.1.32)
Requirement already satisfied: pydeck&lt;1,&gt;=0.8.0b4 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (0.9.1)
Requirement already satisfied: tornado&lt;7,&gt;=6.0.3 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1-&gt;albatross==0.1.0) (6.4.2)
Requirement already satisfied: jinja2 in c:\winpython\python\lib\site-packages (from altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (3.1.2)
Requirement already satisfied: jsonschema&gt;=3.0 in c:\winpython\python\lib\site-packages (from altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (4.19.2)
Requirement already satisfied: narwhals&gt;=1.14.2 in c:\winpython\python\lib\site-packages (from altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (1.21.1)
Requirement already satisfied: gitdb&lt;5,&gt;=4.0.1 in c:\winpython\python\lib\site-packages (from gitpython!=3.1.19,&lt;4,&gt;=3.0.7-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (4.0.10)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in c:\winpython\python\lib\site-packages (from pandas&lt;3,&gt;=1.4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2.8.2)
Requirement already satisfied: pytz&gt;=2020.1 in c:\winpython\python\lib\site-packages (from pandas&lt;3,&gt;=1.4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in c:\winpython\python\lib\site-packages (from pandas&lt;3,&gt;=1.4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2024.1)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in c:\winpython\python\lib\site-packages (from requests&lt;3,&gt;=2.27-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (3.4.0)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\winpython\python\lib\site-packages (from requests&lt;3,&gt;=2.27-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (3.7)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in c:\winpython\python\lib\site-packages (from requests&lt;3,&gt;=2.27-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2.0.3)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\winpython\python\lib\site-packages (from requests&lt;3,&gt;=2.27-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2024.6.2)
Requirement already satisfied: markdown-it-py&gt;=2.2.0 in c:\winpython\python\lib\site-packages (from rich&lt;14,&gt;=10.14.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2.2.0)
Requirement already satisfied: pygments&lt;3.0.0,&gt;=2.13.0 in c:\winpython\python\lib\site-packages (from rich&lt;14,&gt;=10.14.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2.19.1)
Requirement already satisfied: smmap&lt;6,&gt;=3.0.1 in c:\winpython\python\lib\site-packages (from gitdb&lt;5,&gt;=4.0.1-&gt;gitpython!=3.1.19,&lt;4,&gt;=3.0.7-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (5.0.0)
Requirement already satisfied: MarkupSafe&gt;=2.0 in c:\winpython\python\lib\site-packages (from jinja2-&gt;altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2.1.1)
Requirement already satisfied: attrs&gt;=22.2.0 in c:\winpython\python\lib\site-packages (from jsonschema&gt;=3.0-&gt;altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (23.2.0)
Requirement already satisfied: jsonschema-specifications&gt;=2023.03.6 in c:\winpython\python\lib\site-packages (from jsonschema&gt;=3.0-&gt;altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (2023.12.1)
Requirement already satisfied: referencing&gt;=0.28.4 in c:\winpython\python\lib\site-packages (from jsonschema&gt;=3.0-&gt;altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (0.35.1)
Requirement already satisfied: rpds-py&gt;=0.7.1 in c:\winpython\python\lib\site-packages (from jsonschema&gt;=3.0-&gt;altair&lt;6,&gt;=4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (0.22.3)
Requirement already satisfied: mdurl~=0.1 in c:\winpython\python\lib\site-packages (from markdown-it-py&gt;=2.2.0-&gt;rich&lt;14,&gt;=10.14.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (0.1.2)
Requirement already satisfied: six&gt;=1.5 in c:\winpython\python\lib\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&lt;3,&gt;=1.4.0-&gt;streamlit==1.41.1-&gt;albatross==0.1.0) (1.16.0)
Building wheels for collected packages: albatross
  Building editable for albatross (pyproject.toml) ... done
  Created wheel for albatross: filename=albatross-0.1.0-0.editable-py3-none-any.whl size=6943 sha256=0c81fa4baf4cbff7968bf0886c5c13e9a1ac2f2d9fde971c87e22d7bb2f8294b
  Stored in directory: C:\Users\user\AppData\Local\Temp\1\pip-ephem-wheel-cache-8253y5uk\wheels\ea\62\13\1815ef6570537e7222b08f61e4979e6381f0dd30e29fec5e27
Successfully built albatross
Installing collected packages: albatross
Successfully installed albatross-0.1.0

[notice] A new release of pip is available: 24.3.1 -&gt; 25.0
[notice] To update, run: python.exe -m pip install --upgrade pip
</code></pre>
<h3>Platform</h3>
<p>Windows 11 x86_64</p>
<h3>Version</h3>
<p>uv 0.5.29</p>
<h3>Python version</h3>
<p>Python 3.13.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @chrisrodrigue on 2025-02-10 17:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-10 17:04</div>
            <div class="timeline-body"><p>I wonder if this is a dupe of https://github.com/astral-sh/uv/pull/9849 (and related issues)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-10 17:26</div>
            <div class="timeline-body"><p>Yeah, we don't support <code>include-system-site-packages</code> (apart from setting it in <code>uv venv</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-10 17:34</div>
            <div class="timeline-body"><p>I think we should merge this with https://github.com/astral-sh/uv/issues/2500.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-02-10 17:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:00 UTC
    </footer>
</body>
</html>
