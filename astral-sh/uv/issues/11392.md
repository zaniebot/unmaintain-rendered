```yaml
number: 11392
title: "`uv pip install` behavior deviates from `pip install`"
type: issue
state: closed
author: chrisrodrigue
labels:
  - bug
assignees: []
created_at: 2025-02-10T17:02:01Z
updated_at: 2025-02-10T17:51:06Z
url: https://github.com/astral-sh/uv/issues/11392
synced_at: 2026-01-10T01:57:26Z
```

# `uv pip install` behavior deviates from `pip install`

---

_Issue opened by @chrisrodrigue on 2025-02-10 17:02_

### Summary

It does not appear that `uv pip install` correctly reads the `include-system-site-packages` value in `pyvenv.cfg` when installing a project.

### Steps to Reproduce

Take the system offline.

Create a venv:

```cmd
C:\Users\user\dev\albatross>uv venv --system-site-packages
Using CPython 3.13.1 interpreter at: C:\WinPython\python\python.exe
Creating virtual environment at: .venv
Activate with: .venv\Scripts\activate

C:\Users\user\dev\albatross>.venv\Scripts\activate
```

Try to install the project:

```cmd
(albatross) C:\Users\user\dev\albatross>uv pip install --no-build-isolation -e .
таз pyqt5-qt5==5.15.2
error: Failed to fetch: `https://***/repository/pypi-proxy/packages/pyqt5-qt5/5.15.2/PyQt5_Qt5-5.15.2-py3-none-win_amd64.whl#sha256=750b78e4dba6bdf1607febedc08738e318ea09e9b10aea9ff0d73073f11f6962`
  Caused by: Could not connect, are you offline?
  Caused by: Request failed after 3 retries
  Caused by: error sending request for url (https://***/repository/pypi-proxy/packages/pyqt5-qt5/5.15.2/PyQt5_Qt5-5.15.2-py3-none-win_amd64.whl#sha256=750b78e4dba6bdf1607febedc08738e318ea09e9b10aea9ff0d73073f11f6962)
  Caused by: client error (Connect)
  Caused by: dns error: No such host is known. (os error 11001)
  Caused by: No such host is known. (os error 11001)

(albatross) C:\Users\user\dev\albatross>
```

That failed, try using `pip install` instead of `uv pip install`:

```cmd
(albatross) C:\Users\user\dev\albatross>pip install --no-build-isolation -e .
Obtaining file:///C:/Users/user/dev/albatross
  Checking if build backend supports build_editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Requirement already satisfied: locket==1.0.0 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (1.0.0)
Requirement already satisfied: pytest==8.2.2 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (8.2.2)
Requirement already satisfied: pyqt5==5.15.10 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (5.15.10)
Requirement already satisfied: pyqt5-qt5==5.15.2 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (5.15.2)
Requirement already satisfied: qdarkstyle==3.2.3 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (3.2.3)
Requirement already satisfied: qtpy==2.4.1 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (2.4.1)
Requirement already satisfied: streamlit==1.41.1 in c:\winpython\python\lib\site-packages (from albatross==0.1.0) (1.41.1)
Requirement already satisfied: PyQt5-sip<13,>=12.13 in c:\winpython\python\lib\site-packages (from pyqt5==5.15.10->albatross==0.1.0) (12.16.1)
Requirement already satisfied: iniconfig in c:\winpython\python\lib\site-packages (from pytest==8.2.2->albatross==0.1.0) (2.0.0)
Requirement already satisfied: packaging in c:\winpython\python\lib\site-packages (from pytest==8.2.2->albatross==0.1.0) (24.2)
Requirement already satisfied: pluggy<2.0,>=1.5 in c:\winpython\python\lib\site-packages (from pytest==8.2.2->albatross==0.1.0) (1.5.0)
Requirement already satisfied: colorama in c:\winpython\python\lib\site-packages (from pytest==8.2.2->albatross==0.1.0) (0.4.6)
Requirement already satisfied: altair<6,>=4.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (5.5.0)
Requirement already satisfied: blinker<2,>=1.0.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (1.7.0)
Requirement already satisfied: cachetools<6,>=4.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (5.4.0)
Requirement already satisfied: click<9,>=7.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (8.1.7)
Requirement already satisfied: numpy<3,>=1.23 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (2.1.3)
Requirement already satisfied: pandas<3,>=1.4.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (2.2.3)
Requirement already satisfied: pillow<12,>=7.1.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (11.1.0)
Requirement already satisfied: protobuf<6,>=3.20 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (5.27.3)
Requirement already satisfied: pyarrow>=7.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (19.0.0)
Requirement already satisfied: requests<3,>=2.27 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (2.32.3)
Requirement already satisfied: rich<14,>=10.14.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (13.9.4)
Requirement already satisfied: tenacity<10,>=8.1.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (8.5.0)
Requirement already satisfied: toml<2,>=0.10.1 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (0.10.2)
Requirement already satisfied: typing-extensions<5,>=4.3.0 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (4.12.2)
Requirement already satisfied: watchdog<7,>=2.1.5 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (4.0.1)
Requirement already satisfied: gitpython!=3.1.19,<4,>=3.0.7 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (3.1.32)
Requirement already satisfied: pydeck<1,>=0.8.0b4 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (0.9.1)
Requirement already satisfied: tornado<7,>=6.0.3 in c:\winpython\python\lib\site-packages (from streamlit==1.41.1->albatross==0.1.0) (6.4.2)
Requirement already satisfied: jinja2 in c:\winpython\python\lib\site-packages (from altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (3.1.2)
Requirement already satisfied: jsonschema>=3.0 in c:\winpython\python\lib\site-packages (from altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (4.19.2)
Requirement already satisfied: narwhals>=1.14.2 in c:\winpython\python\lib\site-packages (from altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (1.21.1)
Requirement already satisfied: gitdb<5,>=4.0.1 in c:\winpython\python\lib\site-packages (from gitpython!=3.1.19,<4,>=3.0.7->streamlit==1.41.1->albatross==0.1.0) (4.0.10)
Requirement already satisfied: python-dateutil>=2.8.2 in c:\winpython\python\lib\site-packages (from pandas<3,>=1.4.0->streamlit==1.41.1->albatross==0.1.0) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in c:\winpython\python\lib\site-packages (from pandas<3,>=1.4.0->streamlit==1.41.1->albatross==0.1.0) (2024.1)
Requirement already satisfied: tzdata>=2022.7 in c:\winpython\python\lib\site-packages (from pandas<3,>=1.4.0->streamlit==1.41.1->albatross==0.1.0) (2024.1)
Requirement already satisfied: charset-normalizer<4,>=2 in c:\winpython\python\lib\site-packages (from requests<3,>=2.27->streamlit==1.41.1->albatross==0.1.0) (3.4.0)
Requirement already satisfied: idna<4,>=2.5 in c:\winpython\python\lib\site-packages (from requests<3,>=2.27->streamlit==1.41.1->albatross==0.1.0) (3.7)
Requirement already satisfied: urllib3<3,>=1.21.1 in c:\winpython\python\lib\site-packages (from requests<3,>=2.27->streamlit==1.41.1->albatross==0.1.0) (2.0.3)
Requirement already satisfied: certifi>=2017.4.17 in c:\winpython\python\lib\site-packages (from requests<3,>=2.27->streamlit==1.41.1->albatross==0.1.0) (2024.6.2)
Requirement already satisfied: markdown-it-py>=2.2.0 in c:\winpython\python\lib\site-packages (from rich<14,>=10.14.0->streamlit==1.41.1->albatross==0.1.0) (2.2.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in c:\winpython\python\lib\site-packages (from rich<14,>=10.14.0->streamlit==1.41.1->albatross==0.1.0) (2.19.1)
Requirement already satisfied: smmap<6,>=3.0.1 in c:\winpython\python\lib\site-packages (from gitdb<5,>=4.0.1->gitpython!=3.1.19,<4,>=3.0.7->streamlit==1.41.1->albatross==0.1.0) (5.0.0)
Requirement already satisfied: MarkupSafe>=2.0 in c:\winpython\python\lib\site-packages (from jinja2->altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (2.1.1)
Requirement already satisfied: attrs>=22.2.0 in c:\winpython\python\lib\site-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (23.2.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in c:\winpython\python\lib\site-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (2023.12.1)
Requirement already satisfied: referencing>=0.28.4 in c:\winpython\python\lib\site-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (0.35.1)
Requirement already satisfied: rpds-py>=0.7.1 in c:\winpython\python\lib\site-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit==1.41.1->albatross==0.1.0) (0.22.3)
Requirement already satisfied: mdurl~=0.1 in c:\winpython\python\lib\site-packages (from markdown-it-py>=2.2.0->rich<14,>=10.14.0->streamlit==1.41.1->albatross==0.1.0) (0.1.2)
Requirement already satisfied: six>=1.5 in c:\winpython\python\lib\site-packages (from python-dateutil>=2.8.2->pandas<3,>=1.4.0->streamlit==1.41.1->albatross==0.1.0) (1.16.0)
Building wheels for collected packages: albatross
  Building editable for albatross (pyproject.toml) ... done
  Created wheel for albatross: filename=albatross-0.1.0-0.editable-py3-none-any.whl size=6943 sha256=0c81fa4baf4cbff7968bf0886c5c13e9a1ac2f2d9fde971c87e22d7bb2f8294b
  Stored in directory: C:\Users\user\AppData\Local\Temp\1\pip-ephem-wheel-cache-8253y5uk\wheels\ea\62\13\1815ef6570537e7222b08f61e4979e6381f0dd30e29fec5e27
Successfully built albatross
Installing collected packages: albatross
Successfully installed albatross-0.1.0

[notice] A new release of pip is available: 24.3.1 -> 25.0
[notice] To update, run: python.exe -m pip install --upgrade pip
```

### Platform

Windows 11 x86_64

### Version

uv 0.5.29

### Python version

Python 3.13.1

---

_Label `bug` added by @chrisrodrigue on 2025-02-10 17:02_

---

_Comment by @zanieb on 2025-02-10 17:04_

I wonder if this is a dupe of https://github.com/astral-sh/uv/pull/9849 (and related issues)

---

_Comment by @charliermarsh on 2025-02-10 17:26_

Yeah, we don't support `include-system-site-packages` (apart from setting it in `uv venv`).

---

_Comment by @charliermarsh on 2025-02-10 17:34_

I think we should merge this with https://github.com/astral-sh/uv/issues/2500.

---

_Closed by @zanieb on 2025-02-10 17:51_

---
