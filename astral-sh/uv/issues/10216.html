<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv export` does not include workspace packages - astral-sh/uv #10216</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv export</code> does not include workspace packages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10216">#10216</a>
        opened by <a href="https://github.com/brownj85">@brownj85</a>
        on 2024-12-28 22:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/brownj85">@brownj85</a> on 2024-12-28 22:15</div>
            <div class="timeline-body"><p>UV version: <code>0.5.13</code></p>
<p>I'm trying to switch Poetry to UV, and I've encountered a difference in behaviour between <code>poetry export</code> and <code>uv export</code>. I have a project laid out like this:</p>
<pre><code>.
├── apps
│   ├── lib-1
│   │   ├── README.md
│   │   ├── hello.py
│   │   ├── pyproject.toml
│   │   └── uv.lock
│   └── lib-2
│       ├── README.md
│       ├── hello.py
│       └── pyproject.toml
├── pyproject.toml
└── uv.lock
</code></pre>
<p>With <code>lib-1</code> and <code>lib-2</code> listed as dependencies in the root <code>pyproject.toml</code>:</p>
<pre><code>[project]
name = &quot;uv-test&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.13&quot;
dependencies = [
    &quot;lib-1&quot;,
    &quot;lib-2&quot;,
]

[tool.uv.workspace]
members = [&quot;apps/lib-1&quot;, &quot;apps/lib-2&quot;]

[tool.uv.sources]
lib-1 = { workspace = true }
lib-2 = { workspace = true }
</code></pre>
<p>With a similar layout, <code>poetry export</code> will include the sub-packages as path dependencies in the generated requirements file.  I have a Docker workflow that uses this to install packages into a directory using <code>pip install --target</code>. However, <code>uv export</code> does not do this, it only includes the dependencies of the workspace members.</p>
<p>I'm not sure if this is intended behaviour - the documentation for <a href="https://docs.astral.sh/uv/reference/cli/#uv-export">--no-emit-workspace</a> seems to imply that the workspace packages themselves should be included, not just the dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv export` does not include workspace dependencies" to "`uv export` does not include workspace packages" by @brownj85 on 2024-12-28 22:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-29 00:30</div>
            <div class="timeline-body"><p>Do your packages have build systems defined? Otherwise, they're considered virtual: https://docs.astral.sh/uv/concepts/projects/config/#build-systems</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-12-29 00:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brownj85">@brownj85</a> on 2024-12-30 20:09</div>
            <div class="timeline-body"><p>Yes, that works! Thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @brownj85 on 2024-12-30 20:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:52 UTC
    </footer>
</body>
</html>
