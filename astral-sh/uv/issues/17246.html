<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-completion of project.scripts commands - astral-sh/uv #17246</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Auto-completion of project.scripts commands</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/17246">#17246</a>
        opened by <a href="https://github.com/TurtleOrangina">@TurtleOrangina</a>
        on 2025-12-28 08:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/TurtleOrangina">@TurtleOrangina</a> on 2025-12-28 08:37</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I would like to be able to:
<code>uv run enab[tab]</code> to get <code>uv run enable-warp-drive</code></p>
<p>When using <code>uv run command</code> instead of activating the virtual environment and using <code>command</code>, many issues with outdated dependencies are avoided, so this is the recommended work-flow. The main down-side I encounter, is that I cannot auto-complete commands that are defined in the <code>[project.scripts]</code> of my <code>pyproject.toml</code>.</p>
<p>I tried on both bash and zsh. I have the relevant <code>eval &quot;$(uv generate-shell-completion zsh)&quot;</code> line in my .zshrc, but still it doesn't work for scripts. It works fine for paths, e.g. I can auto-complete <code>uv run src/spaceship/cli/enable_warp_drive.py</code>.</p>
<p>Note that this issue will become useful to even more people if #5903 is implemented, as that will add a second section where scripts can be defined. But it is already very useful now, in projects withere <code>project.scripts</code> is used.</p>
<h3>Example</h3>
<p>I have prepared a repo for reproduction:</p>
<pre><code>git clone https://github.com/TurtleOrangina/spaceship.git
cd spaceship
uv run ena[tab] # does not autocomplete
uv run enable-warp-drive # works when typed out
uv run src/spaceship/cli/enable_warp_drive.py # auto-completes fine
uv run ena[tab] # still does not autocomplete
</code></pre>
<p>The ideal solution in my mind: The auto-completion code that is generated via <code>uv generate-shell-completion</code> could be extended to also auto-complete the defined scripts.</p>
<p>Currently I use a work-around for zsh from https://github.com/astral-sh/uv/issues/8432#issuecomment-2605216865 - this does allow binaries from <code>.venv/bin</code> to be auto-completed - but with the draw-back that it only works once those files are actually created - so with a fresh check-out, where .venv doesn't even exist yet, the auto-complete will not work. In the above example code, the first <code>uv run ena[tab]</code> still fails with this work-around, but the second one <code>uv run ena[tab]</code> would work (because we successfully created the .venv with the commands in between).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @TurtleOrangina on 2025-12-28 08:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/TurtleOrangina">@TurtleOrangina</a> on 2025-12-31 09:07</div>
            <div class="timeline-body"><p>This request seems to be a subset of what is requested by #15325</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2026-01-02 18:33</div>
            <div class="timeline-body"><p>Hi @TurtleOrangina, thanks for filing. Yeah, I agree this is a subset of #15325, let's dedupe and track there!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @woodruffw on 2026-01-02 18:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
