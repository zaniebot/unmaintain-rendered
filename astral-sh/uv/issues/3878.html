<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support custom tool entrypoints - astral-sh/uv #3878</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support custom tool entrypoints</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/3878">#3878</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-05-28 13:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2024-05-28 13:29</div>
            <div class="timeline-body"><p>The package <code>build</code> doesn't install an entrypoint, you are supposed to call it as <code>pythom -m build</code> instead. <code>pipx run build .</code> while <code>uv tool run build .</code> fails. We should support whatever workaround pipx is using, too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @konstin on 2024-05-28 13:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-29 02:21</div>
            <div class="timeline-body"><p>I think <code>build</code> implements this special entrypoint thing for <code>pipx</code> exactly: https://github.com/pypa/build/blob/46337d95bcb6be84eb2b0416cff5bf51ba70d9c5/pyproject.toml#L84</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/njzjz">@njzjz</a> on 2024-05-29 07:05</div>
            <div class="timeline-body"><p>Workaround:</p>
<pre><code class="language-sh">uv tool run --with build --from build python -m build
</code></pre>
<p>One may also want to use <code>uv</code> in the <code>build</code>: (the command is pretty long!)</p>
<pre><code class="language-sh">uv tool run --with build[uv] --from build python -m build --installer uv
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Run tool as module when there is no entrypoint" to "Support custom tool entrypoints" by @konstin on 2024-05-29 07:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2024-07-12 15:29</div>
            <div class="timeline-body"><p>Declaring custom entry points would be nice to support those projects didn't expose any entry point names and only allows to use them as module i.e <code>python -m &lt;mod&gt;</code>.
I think this could be allowed in cli (which is support multiple use):</p>
<pre><code class="language-shell"># make `cmd` available which runs `mod.__main__`
$ uvx --from pkg --with-script &quot;cmd='mod.__main__'&quot; cmd
</code></pre>
<p>Also, for <code>build</code> it turns to:</p>
<pre><code class="language-shell">$ uvx --from build --with-script &quot;build='build.__main__:entrypoint'&quot; build
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 15:40</div>
            <div class="timeline-body"><p>You can already run <code>uvx --from build pyproject-build</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 15:43</div>
            <div class="timeline-body"><p>And in the next version, we'll surface that this executable is available, which seems good...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> removed by @zanieb on 2024-08-20 18:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:27 UTC
    </footer>
</body>
</html>
