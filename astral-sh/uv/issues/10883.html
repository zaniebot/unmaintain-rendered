<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RISC-V platform support? - astral-sh/uv #10883</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>RISC-V platform support?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10883">#10883</a>
        opened by <a href="https://github.com/ifsheldon">@ifsheldon</a>
        on 2025-01-23 03:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ifsheldon">@ifsheldon</a> on 2025-01-23 03:28</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>As now RISC-V MCUs, dev boards and even servers get more and more popular, I'd really like to see uv support for RISC-V Linux platforms. There're officially supported RISC-V cpythons, so I think at least pure Python packages run fine on RISC-V machines. I think rustc can happily compile uv on RISC-V machines, but I don't know if there's anything else to get to the minimum support.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @ifsheldon on 2025-01-23 03:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-23 04:28</div>
            <div class="timeline-body"><p>I'm generally supportive of this. We added RISC-V builds to <code>python-build-standalone</code>. The first step is presumably a cross-build of uv in our release workflow.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-01-23 05:47</div>
            <div class="timeline-body"><h2>Current Rust <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">Platform Support</a> for RISC-V Linux</h2>
<h3><a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html#tier-2-with-host-tools">Tier 2 with Host Tools</a></h3>
<p>| target | notes |
|--------|--------|
| <a href="https://doc.rust-lang.org/nightly/rustc/platform-support/riscv64gc-unknown-linux-gnu.html">riscv64gc-unknown-linux-gnu</a> | RISC-V Linux (kernel 4.20, glibc 2.29) |
| <a href="https://doc.rust-lang.org/nightly/rustc/platform-support/riscv64gc-unknown-linux-musl.html">riscv64gc-unknown-linux-musl</a> | RISC-V Linux (kernel 4.20, musl 1.2.3)|</p>
<h3><a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html#tier-3">Tier 3</a></h3>
<p>| target | notes |
|-- | -- |
riscv32gc-unknown-linux-gnu  | RISC-V Linux (kernel 5.4, glibc 2.33)
riscv32gc-unknown-linux-musl  | RISC-V Linux (kernel 5.4, musl 1.2.3 + RISCV32 support patches)</p>
<p>Ref: https://doc.rust-lang.org/1.84.0/rustc/platform-support.html
Ref: https://doc.rust-lang.org/nightly/rustc/platform-support.html</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-01-23 09:41</div>
            <div class="timeline-body"><p>We already support risc-v for installing packages (https://github.com/astral-sh/uv/pull/8934). For platforms without prebuilt binaries such as risc-v, you can install uv with <code>cargo install --git https://github.com/astral-sh/uv uv</code>. Please report anything that doesn't work on risc-v!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ifsheldon">@ifsheldon</a> on 2025-01-24 03:11</div>
            <div class="timeline-body"><p>@konstin Thanks for the information. I didn't find it as I didn't search for PRs. <code>cargo install</code> works flawlessly, but I cannot install Python with uv.</p>
<p><img width="762" alt="Image" src="https://github.com/user-attachments/assets/46fd064c-624d-4541-ab0e-e71f8e0e38af" /></p>
<p>So, I guess I should make a feature request in https://github.com/astral-sh/python-build-standalone ? I don't know how hard it will be to build Python against, say, linux-riscv64gc-musl target, which should enable installing Python with uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-24 03:36</div>
            <div class="timeline-body"><p>The downloads use the <code>riscv64</code> tag without the <code>gc</code> variant. I'll need to look into the differences to see what's appropriate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-24 04:06</div>
            <div class="timeline-body"><blockquote>
<p>The difference is that riscv64gc has the extra features needed to run Linux. (ie Mutiplication, Floats, Atomics, Fences and CSRs), as well as Compressed instructions (16-bit encodings).</p>
</blockquote>
<p>https://github.com/rust-lang/rust-bindgen/issues/2136</p>
<blockquote>
<p>A little more detail; RISC-V is a modular ISA, meaning that it only has a mandatory base, and everything else is an extension. RV64GC is basically &quot;RISC-V 64-bit, extensions G and C&quot;, with the G extension being a shorthand for some other extensions;</p>
</blockquote>
<p>https://github.com/flatpak/flatpak/issues/4594</p>
<p>Seems like we should change our builds to use the extended name? We'll discuss that upstream in https://github.com/astral-sh/python-build-standalone/issues/504</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../astral-sh/python-build-standalone/issues/504.html">astral-sh/python-build-standalone#504</a> on 2025-01-24 04:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ifsheldon">@ifsheldon</a> on 2025-01-24 05:56</div>
            <div class="timeline-body"><blockquote>
<p>the G extension being a shorthand for some other extensions</p>
</blockquote>
<p>Yes, and I remember G actually means &quot;general&quot; in the sense of general computing.</p>
<p>We could probably follow Rust Platform Support, like supporting <a href="https://doc.rust-lang.org/nightly/rustc/platform-support/riscv64gc-unknown-linux-gnu.html">riscv64gc-unknown-linux-gnu</a> and <a href="https://doc.rust-lang.org/nightly/rustc/platform-support/riscv64gc-unknown-linux-musl.html">riscv64gc-unknown-linux-musl</a>, since Tier 2 supported targets of Rust means there's meaningful amount of user interest so they are &quot;guaranteed to build&quot; while Tier 3 targets are supported with basically best efforts.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/10937.html">astral-sh/uv#10937</a> on 2025-01-24 15:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-01-24 15:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ifsheldon">@ifsheldon</a> on 2025-01-25 05:01</div>
            <div class="timeline-body"><p>@zanieb Thanks!</p>
<p>I saw your commit https://github.com/astral-sh/uv/commit/98e7cd00c84d4c381955a5b0a0061bc377f75a18, so maybe you can add one more entry for building <code>risc64gc-unknown-linux-musl</code> target as well?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @zanieb on 2025-01-25 16:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-25 16:16</div>
            <div class="timeline-body"><p>Didn't mean to close this :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/taurus-forever">@taurus-forever</a> on 2025-04-08 19:52</div>
            <div class="timeline-body"><p>Hi, just to share my experience here: <code>uv python install 3.11</code> works well on <a href="https://github.com/DC-DeepComputing/fml13v01">fml13v01</a> using uv from snap:</p>
<pre><code>taurus@taurus-uriscv:~$ uv python install 3.11
Installed Python 3.11.11 in 45.68s
 + cpython-3.11.11-linux-riscv64gc-gnu

taurus@taurus-uriscv:~$ uname -a
Linux taurus-uriscv 6.6.20-4-fml13v01 #1ubuntu1 SMP Tue Apr  8 10:07:42 UTC 2025 riscv64 riscv64 riscv64 GNU/Linux

taurus@taurus-uriscv:~$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 24.04.2 LTS
Release:	24.04
Codename:	noble

taurus@taurus-uriscv:~$ snap list astral-uv
Name       Version  Rev  Tracking       Publisher  Notes
astral-uv  0.6.7    479  latest/stable  lengau     classic
</code></pre>
<p>In the same time I cannot install uv using <a href="https://github.com/astral-sh/uv/releases/download/0.6.13/uv-installer.sh">uv-installer.sh</a>:</p>
<pre><code>&gt; sh uv-installer.sh
ERROR: there isn't a download for your platform riscv64gc-unknown-linux-gnu
</code></pre>
<p>Effectively the function <code>select_archive_for_arch()</code> has no support for RISC-V and also <a href="https://github.com/astral-sh/uv/releases/tag/0.6.13">binary artifacts are missing</a>.
Sad but hoping for the new architecture support soon!ðŸ¤ž</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-08 19:57</div>
            <div class="timeline-body"><p>See #12688 for risc-v release binaries. cc @Gankra re the installer</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ifsheldon">@ifsheldon</a> on 2025-07-20 09:34</div>
            <div class="timeline-body"><p>I just saw new releases had already got RISC-V binaries! Thank you (everyone and especially @Xeonacid who authored #12688) very much!</p>
<p>Just one last question for @Xeonacid: Is it easy, you think, to add another build target <a href="https://doc.rust-lang.org/nightly/rustc/platform-support/riscv64gc-unknown-linux-musl.html">riscv64gc-unknown-linux-musl</a> based on your PR? I'd like to build against musl because now RISC-V ecosystem is very fragmented and basically every vendor has its own linux kernel fork of different versions with patches that are yet to be upstreamed. Probably a musl build can run on more RISC-V machines.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/davidism">@davidism</a> on 2025-09-26 22:09</div>
            <div class="timeline-body"><p>I use cibuildwheel to build MarkupSafe, configured with <code>build-frontend = &quot;build[uv]&quot;</code>. I'm currently enabling <code>riscv64</code> builds, and cibuildwheel fails for <code>musllinux_riscv64</code> builds because uv is not available there. I've added an override to use <code>build</code> without uv there, but it would be nice if uv binaries were available for that combination.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pallets/markupsafe/pulls/506.html">pallets/markupsafe#506</a> on 2025-09-26 22:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/16063.html">astral-sh/uv#16063</a> on 2025-09-29 11:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-29 11:03</div>
            <div class="timeline-body"><p>We support RISC-v64 generally, and have PyPI binaries for manylinux RISC-V64. I've split out an issue for musllinux RISC-V64 (https://github.com/astral-sh/uv/issues/16063). For further problems with RISC-V, please on new issues, to keep issues around one specific problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-09-29 11:03</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
