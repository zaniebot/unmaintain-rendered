```yaml
number: 16583
title: Using UV on a custom corporative enviroment
type: issue
state: open
author: frbelotto
labels:
  - question
assignees: []
created_at: 2025-11-03T20:48:58Z
updated_at: 2025-11-10T12:25:36Z
url: https://github.com/astral-sh/uv/issues/16583
synced_at: 2026-01-10T01:57:36Z
```

# Using UV on a custom corporative enviroment

---

_Issue opened by @frbelotto on 2025-11-03 20:48_

### Question

Hi guys! IÂ´ve been using and really love UV! I am using it on Databricks according to the suggestions on [this issue](https://github.com/astral-sh/uv/issues/8671), but now I need to use it on a internal corporative Jupiter notebook environment. 

I am trying to understand how to setup it to use the system python/env file at the same time, I need to set a custom place for libs as the "default" libs are read-only. 

Really lost where to start! 

### Platform

_No response_

### Version

_No response_

---

_Label `question` added by @frbelotto on 2025-11-03 20:48_

---

_Comment by @samypr100 on 2025-11-05 03:27_

Hey @frbelotto, can you share more about your what you're trying to accomplish? What package are you trying to install, and hopefully some example code, set of steps, and/or screenshots that show how to reproduce the issue.

Please also make sure to check out the [Jupyter docs for uv](https://docs.astral.sh/uv/guides/integration/jupyter/).

---

_Comment by @frbelotto on 2025-11-07 21:10_

Hi!
I know its not easy because I am talking about a custom enterprise environment.

I can ran. Straight on command interface or inside the Jupiter notebook.
`pip install uv`
And it runs normally

`uv init`
Ok! and the pyprojetct.toml is created!

But if I use 
```
uv add pydantic
imediataly UV try to create a Venv, but I shoulnt do that. I must use the current virtual envirioment python. 
uv pip install pydantic --system
Using Python 3.11.0 environment at: /usr/local
Resolved 5 packages in 187ms
error: failed to remove file `/usr/local/lib/python3.11/site-packages/__pycache__/typing_extensions.cpython-311.pyc`: Permission denied (os error 13)
```
This does not work, and, anyway, as far as I know, this does not add the lib to toml file (so, does not keep controle of libs and dependencies)

On databricks all I needed is to run this before adding/sync my libs

```
import os
os.environ["UV_PROJECT_ENVIRONMENT"] = os.environ["VIRTUAL_ENV"]

# reproduce `uv` environment on Databricks.
%sh uv sync --locked --no-editable
```

But this does not work on my environment. os.environ["VIRTUAL_ENV"] is not recognized. I am trying to understand how to configure my uv to use here. I am able to use poetry, but I prefer UV. 

The docs you suggested talks about starting the Jupiter server, but my company environment is already "on" when I can access it. 








---

_Comment by @zanieb on 2025-11-07 21:16_

> imediataly UV try to create a Venv, but I shoulnt do that. I must use the current virtual envirioment python. 

Can you share more about why you must use the current virtual environment Python? Is `VIRTUAL_ENV` set? e.g., what is `echo $VIRTUAL_ENV`? Maybe you want `uv add --active pydantic`?

---

_Comment by @frbelotto on 2025-11-10 12:20_

Using echo $VIRTUAL_ENV prints nothing. 

Using uv add --active immediately triggered a new venv install. 

---

_Comment by @frbelotto on 2025-11-10 12:25_

What would be the solution for a google colab? I might try. Would be like the databricks solution? 

---
