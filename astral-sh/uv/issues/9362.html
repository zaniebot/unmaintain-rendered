<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indicate in workspaces' doc that workspace dependencies are editable by default  - astral-sh/uv #9362</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Indicate in workspaces' doc that workspace dependencies are editable by default</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/9362">#9362</a>
        opened by <a href="https://github.com/ReinforcedKnowledge">@ReinforcedKnowledge</a>
        on 2024-11-22 18:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ReinforcedKnowledge">@ReinforcedKnowledge</a> on 2024-11-22 18:57</div>
            <div class="timeline-body"><p>Hi!</p>
<p>I have just noticed that dependencies between workspace members are editable by default.</p>
<p>Steps:</p>
<pre><code class="language-bash">uv init --package my_package
cd my_package/src/my_package
uv init --lib core_lib
uv init --package cli
cd cli
</code></pre>
<p>Whether we do <code>uv add ../core-lib</code> or <code>uv add --editable ../core-lib</code> we get the same result.</p>
<p>The <code>pyproject.toml</code> in <code>cli</code> doesn't reflect an editable or not dependency. It only adds this:</p>
<pre><code class="language-toml">...
dependencies = [
    &quot;core-lib&quot;,
]

...

[tool.uv.sources]
core-lib = { workspace = true }
</code></pre>
<p>We only know if the dependency is editable or not through the lockfile:</p>
<pre><code>[[package]]
name = &quot;cli&quot;
version = &quot;0.1.0&quot;
source = { editable = &quot;src/my_package/cli&quot; }
dependencies = [
    { name = &quot;core-lib&quot; },
]

[package.metadata]
requires-dist = [{ name = &quot;core-lib&quot;, editable = &quot;src/my_package/core_lib&quot; }]
</code></pre>
<p>And it's the same case for both types of installations.</p>
<p>I'm not suggesting that this behavior should be changed, but maybe a small addition to the doc for that would be cool ðŸ˜„</p>
<p>I have added a very note to the doc in case it can lighten the workload for the maintainers, but don't hesitate to close the PR / this issue or just signal that to me and I'll do it myself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @samypr100 on 2024-11-23 02:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:49 UTC
    </footer>
</body>
</html>
