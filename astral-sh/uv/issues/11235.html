<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv sync ignores user config file - astral-sh/uv #11235</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv sync ignores user config file</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11235">#11235</a>
        opened by <a href="https://github.com/mneumei">@mneumei</a>
        on 2025-02-05 06:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mneumei">@mneumei</a></div>
            <div class="timeline-body">Summary
<p>I have a uv.toml at &quot;%APPDATA%\uv\uv.toml&quot; with the content:</p>
<p>[[index]]
url = &quot;https:/&lt;my_index&gt;/simple&quot;
default = true</p>
<p>python-downloads = &quot;never&quot;</p>
<p>When i run uv sync, it will still try to download python.</p>
<p>How can i verify where it will actually read the config from, and which values were taken? Is there any similar function like pip config list?</p>
Platform
<p>win11 x86_64</p>
Version
<p>uv 0.5.25 (9c07c3fc5 2025-01-28)</p>
Python version
<p>Python 3.11.4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/mneumei">@mneumei</a> on 2025-02-05 06:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-05 14:32</div>
            <div class="timeline-body"><p>This is an issue with the TOML you&#x27;re using. You need to do something like:</p>
<pre><code>python-downloads = &quot;never&quot;

[[index]]
url = &quot;https://google.com&quot;
default = true
</code></pre>
<p>As-is, <code>python-downloads</code> is being considered a key under <code>[[index]]</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-05 14:33</div>
            <div class="timeline-body"><p>You can add <code>--show-settings</code> to any command to show the applicable settings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-05 14:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-05 14:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/mneumei">@mneumei</a> on 2025-02-05 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mneumei">@mneumei</a> on 2025-02-05 14:51</div>
            <div class="timeline-body"><p>Thanks, that solved it. Is there a &quot;General&quot; section to make sure it will not end up in previous sections?</p>
<p>Also, what would be super helpful is to have the source of the configuration item (like this setting is from env, this form this config file).</p>
<p>Thanks a lot for the quick response!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-05 14:54</div>
            <div class="timeline-body"><p>Unfortunately not in <code>uv.toml</code>, it&#x27;s just top-level vs. nested :(</p>
<p>In <code>pyproject.toml</code> it&#x27;s a bit clearer, since you have:</p>
<pre><code>[tool.uv]
python-downloads = &quot;never&quot;

[[tool.uv.index]]
url = &quot;https://google.com&quot;
default = true
</code></pre>
<p>But that isn&#x27;t applicable to user- or system-level settings like that.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:05 UTC
    </footer>
</body>
</html>
