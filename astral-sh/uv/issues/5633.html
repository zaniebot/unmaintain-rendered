<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document how to resolve `uv.lock` merge conflicts - astral-sh/uv #5633</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Document how to resolve `uv.lock` merge conflicts</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/5633">#5633</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-07-30 20:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-30 20:40</div>
            <div class="timeline-body"><p>I don't know what best practice is here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2024-07-30 20:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LennyN95">@LennyN95</a> on 2024-11-07 10:12</div>
            <div class="timeline-body"><p>I came across this problem. We found that the lock files may differ greatly across branches during active development and that it's usually to complex for automatic conflict resolution. However, it seems more plausible to generate the lock file after merging branches rather than before.</p>
<p>What first came to my mind was to avoid pushing local lock files and create them as part of the CI pipeline on the main branch before running the tests, and commit the lock file when all tests pass.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-07 20:27</div>
            <div class="timeline-body"><p>In brief the current recommendation is:</p>
<ul>
<li>Attempt to merge the parent into your branch, encounter a merge conflict in the lockfile</li>
<li>Checkout the lockfile from the parent <code>git checkout &lt;parent&gt; -- uv.lock</code></li>
<li>Lock again <code>uv lock</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BenGale93">@BenGale93</a> on 2024-12-12 09:08</div>
            <div class="timeline-body"><p>I find that the most common source of conflict is the version number of the package itself. Easy to deal with but generates conflicts when it doesn't really need to. Is there any plan to mitigate this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-12 14:03</div>
            <div class="timeline-body"><p>Are you using a dynamic package version or does it just change a lot?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BenGale93">@BenGale93</a> on 2024-12-12 14:26</div>
            <div class="timeline-body"><p>Good point, I'm picking up the version number dynamically from the git tags. I assume it's impossible to avoid this issue and keep git tags as the single source of truth?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BenGale93">@BenGale93</a> on 2024-12-12 14:34</div>
            <div class="timeline-body"><p>Just found https://github.com/astral-sh/uv/issues/7533 which covers it. Sorry for wasting your time @zanieb!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-12 15:21</div>
            <div class="timeline-body"><p>üëç yep that's the issue to track. No problem :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:16:59 UTC
    </footer>
</body>
</html>
