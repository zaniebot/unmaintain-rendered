```yaml
number: 16151
title: how to only fetch a source when requested
type: issue
state: closed
author: sean-abbott
labels:
  - question
assignees: []
created_at: 2025-10-07T14:20:25Z
updated_at: 2026-01-06T16:02:12Z
url: https://github.com/astral-sh/uv/issues/16151
synced_at: 2026-01-10T01:57:35Z
```

# how to only fetch a source when requested

---

_Issue opened by @sean-abbott on 2025-10-07 14:20_

### Question

I have an occasional dependency on a package that is gated behind ssh that only a couple of my coworkers can get to (nuitka).

I've tried including this dependency as optional, I've tried it in sources, but uv sync ALWAYS wants to fetch it unless `--no-sources` is specified. However, I only want it to be fetched if I specifically request it. I was hoping that using optional dependencies would work, but it doesn't. 

I am working in a workspace model. 

If this dependency exists in a pyproject.toml, anywhere, it tries to fetch it, which only works for 2 out of 10 of us. 

Is there any way, short of only adding his dependency at the moments in time where I need it, where I can default uv to not attempting to fetch it at all? 

### Platform

Ubuntu 24.04, Linux 6.8.0-84-generic x86_64 GNU/Linux

### Version

0.8.24

---

_Label `question` added by @sean-abbott on 2025-10-07 14:20_

---

_Comment by @konstin on 2025-12-18 15:46_

uv requires access to all dependencies at resolve time, for being able to accurately lock the package with hashes and dependencies, we currently don't support that in a workspace.

---

_Comment by @sean-abbott on 2026-01-06 16:02_

Solved it with just, but it would be nice to have the ability to have some kind of restricted or only sometimes dependency. 

---

_Closed by @sean-abbott on 2026-01-06 16:02_

---
