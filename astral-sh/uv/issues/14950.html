<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv venv` confirm prompt glitches - astral-sh/uv #14950</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv venv` confirm prompt glitches</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/14950">#14950</a>
        opened by <a href="https://github.com/Viicos">@Viicos</a>
        on 2025-07-29 09:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Viicos">@Viicos</a> on 2025-07-29 09:33</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The confirm prompt to replace any existing venv glitches on my end.</p>
<p>Looks like a similar issue was reported before this confirm prompt was release in v0.8: https://github.com/astral-sh/uv/issues/14688, but I still have the issue on my end:</p>
<pre><code class="language-sh">printenv | grep UV  # Nothing
echo $0
bash
</code></pre>
<p>https://github.com/user-attachments/assets/eb947577-9341-4d75-a2e2-c0c4b55bf40d</p>
<h3>Platform</h3>
<p>Ubuntu 24.04 (Linux 6.11.0-26-generic x86_64 GNU/Linux)</p>
<h3>Version</h3>
<p>uv 0.8.3</p>
<h3>Python version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Viicos on 2025-07-29 09:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-29 12:21</div>
            <div class="timeline-body"><p>The glitch here is the extra prompt display after the command finishes?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-29 12:24</div>
            <div class="timeline-body"><p>What's your bash version? What kind of setup do you have for your shell?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Viicos">@Viicos</a> on 2025-07-29 13:26</div>
            <div class="timeline-body"><blockquote>
<p>The glitch here is the extra prompt display after the command finishes?</p>
</blockquote>
<p>When I run the command, I don't have the ability to provide <code>y/n</code> for the confirm prompt (and it seems that it filled <code>yes</code> by itself). I just pressed <kbd>Enter</kbd> to end up in the final state.</p>
<blockquote>
<p>What's your bash version?</p>
</blockquote>
<p>5.2.21(1)-release</p>
<blockquote>
<p>What kind of setup do you have for your shell?</p>
</blockquote>
<p>Not sure what you are referring to, but I don't have any particular setup. If helpful, I can ask colleagues to try it out on a different setup.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-29 16:23</div>
            <div class="timeline-body"><p>I can't reproduce this with</p>
<pre><code>❯ bash
bash-5.2$ uv self version
uv 0.8.3 (7e78f54e7 2025-07-24)
bash-5.2$ uv venv
Using CPython 3.12.9
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
bash-5.2$ uv venv
Using CPython 3.12.9
Creating virtual environment at: .venv
✔ A virtual environment already exists at `.venv`. Do you want to replace it? · yes
Activate with: source .venv/bin/activate
bash-5.2$ 
</code></pre>
<p>so there must be more going on? I have nothing in my bash config.</p>
<p>Can you reproduce with</p>
<pre><code>❯ bash --noprofile --norc
bash-5.2$ env -i $(which uv) venv
Using CPython 3.12.9
Creating virtual environment at: .venv
✔ A virtual environment already exists at `.venv`. Do you want to replace it? · yes
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Viicos">@Viicos</a> on 2025-07-30 07:00</div>
            <div class="timeline-body"><p>Ok actually it seems to work, I am mostly used to the input prompts where the user input (y/n) appears when typed, and can be confirmed by pressing <kbd>Enter</kbd>:</p>
<p>https://github.com/user-attachments/assets/6caaf7fa-e3e4-4c34-8a45-58c0b97df56a</p>
<p>Not having the cursor after the confirm prompt (especially as the hint was written below it) got me confused. Sorry for that, I'll close unless you want to make this clearer in some way!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Viicos on 2025-07-30 07:00</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
