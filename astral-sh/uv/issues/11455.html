<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv sync --no-editable does not sync if the `pyproject.toml` did not chage - astral-sh/uv #11455</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv sync --no-editable does not sync if the `pyproject.toml` did not chage</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11455">#11455</a>
        opened by <a href="https://github.com/gaborbernat">@gaborbernat</a>
        on 2025-02-12 17:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2025-02-12 17:08</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>As a user my expectation is that uv sync will sync me dependencies. ðŸ¤” And while caching immutable (mostly) published packages i makes sense, caching a local package is debatable. ðŸ¤” Do I need to set <code>**/*.py</code> as a cache key for uv to rebuild my package? ðŸ¤” So I can test the latest version of the package and not an old outdated variant.</p>
<h3>Example</h3>
<p>If so, at leaast would be nice to be able to force reinstall without needing to know the package name ðŸ˜„ Something like: <code>--reinstall-project</code> ðŸ˜‚ today one can do <code>--reinstall-package {package-name}</code> but first you need to know (and type out) the package name.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @gaborbernat on 2025-02-12 17:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-13 13:53</div>
            <div class="timeline-body"><p>Can you use an editable install of the package? This should avoid the need to reinstall local packages altogether.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2025-02-13 14:33</div>
            <div class="timeline-body"><p>Editable installs can differ from the final wheel in many ways. You want to test what your end users use. E.g. using editable installs will not test missing package data files.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/clssn">@clssn</a> on 2025-02-27 18:38</div>
            <div class="timeline-body"><p>I ran into the same problem, also requiring <code>--no-editable</code>. I'd like to avoid configuration of cache-keys for all the projects in our monorepo (doesn't scale since it is easily forgotten when adding a new project - would require a dedicated pre-commit hook etc.).</p>
<p>We're now working around the issue with using <code>--reinstall</code> but that's needlessly causing overhead by needlessly reinstalling the regular packages as well.</p>
<p>If changing the default caching behavior for editables in combination with <code>--no-editable</code> isn't acceptable, what about an <code>--reinstall-editables</code> option?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zhuoqun-chen">@zhuoqun-chen</a> on 2025-07-03 23:09</div>
            <div class="timeline-body"><p>@konstin I think the proposed <code>--reinstall-editables</code> flag by @clssn is also reasonable especially in a <code>monorepo</code> with many workspace members, and where the <code>.venv</code> is located at the monorepo root folder. In my use case <code>uv sync --all-packages</code> will create <code>__editable__**.py</code> for local library dependencies (using <code>setuptools</code> backend). And this makes <code>vscode intellisense</code> can't have correct package import hints as described in https://github.com/astral-sh/uv/issues/3898. Using <code>uv sync --all-packages --no-editable</code> will make vscode happy, but even if the source code of the workspace member changes, doing it again will not change anything inside <code>.venv</code> at all.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:35:22 UTC
    </footer>
</body>
</html>
