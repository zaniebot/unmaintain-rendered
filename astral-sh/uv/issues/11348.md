```yaml
number: 11348
title: Run script that has inline deps with project deps
type: issue
state: open
author: cibere
labels:
  - enhancement
  - wish
assignees: []
created_at: 2025-02-09T08:40:52Z
updated_at: 2025-02-09T18:05:23Z
url: https://github.com/astral-sh/uv/issues/11348
synced_at: 2026-01-10T01:57:25Z
```

# Run script that has inline deps with project deps

---

_Issue opened by @cibere on 2025-02-09 08:40_

### Summary

Add an option like `--with-project` to `uv run` so that you can execute a script that has inline metadata with the project's dependencies

### Example

lets say i have a script called `script.py` with inline metadata that says the script requires `aiohttp`. And let's also say that this is in a project that has `requests` as a dependency.
If you want to run the script with the project's dependencies, you would just do something like `uv run --with-project script`, and `script.py` would run with the aiohttp dependency and request dependency installed

---

_Label `enhancement` added by @cibere on 2025-02-09 08:40_

---

_Comment by @cibere on 2025-02-09 08:57_

For some context, I'm requesting this because in a project that I'm working on, there are a bunch of scripts that have their own dependencies, but then also all import a shared file with its own dependencies.

My current solution that Charlie suggested was to just add that shared dependency to the metadata of each script, which works since there is only one shared dependency, but for bigger projects with more dependencies, that could get pretty complicated to manage.

---

_Label `wish` added by @charliermarsh on 2025-02-09 18:05_

---
