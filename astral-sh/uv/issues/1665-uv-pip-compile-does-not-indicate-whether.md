```yaml
number: 1665
title: uv pip compile does not indicate whether dependencies originate from the main package or from additional extras
type: issue
state: closed
author: neumann-nico
labels:
  - duplicate
assignees: []
created_at: 2024-02-18T20:00:29Z
updated_at: 2024-05-09T14:43:59Z
url: https://github.com/astral-sh/uv/issues/1665
synced_at: 2026-01-12T15:58:31Z
```

# uv pip compile does not indicate whether dependencies originate from the main package or from additional extras

---

_@neumann-nico_

Extras are actually generated correctly but not indicated where they come from in the output file. You don't know if a dependency is part of the main package or if it is generated from an extra. This is an incompatibility with pip-compile.

(The `via -r ...` part, which is also different in the output, was already mentioned in #1343)

`psycopg[binary,pool]==3.1.18` -> `psycopg==3.1.18`
`[binary,pool]` is missing in the output.

But the extras are generated correctly:
```
psycopg-binary==3.1.18
    # via psycopg
psycopg-pool==3.2.1
    # via psycopg
```

Steps to reproduce it:

requirements.in
```
psycopg[binary,pool]==3.1.18
```

`uv pip compile requirements.in`
```
# This file was autogenerated by uv v0.1.4 via the following command:
#    uv pip compile requirements.in
psycopg==3.1.18
psycopg-binary==3.1.18
    # via psycopg
psycopg-pool==3.2.1
    # via psycopg
typing-extensions==4.9.0
    # via
    #   psycopg
    #   psycopg-pool
```

`pip-compile requirements.in`
```
# This file is autogenerated by pip-compile with Python 3.10
# by the following command:
#
#    pip-compile requirements.in
#
psycopg[binary,pool]==3.1.18
    # via -r requirements.in
psycopg-binary==3.1.18
    # via psycopg
psycopg-pool==3.2.1
    # via psycopg
typing-extensions==4.9.0
    # via
    #   psycopg
    #   psycopg-pool
```



---

_Renamed from "uv pip compile does not display where the extras come from" to "uv pip compile does not indicate whether dependencies originate from the main package or from additional extras" by @neumann-nico on 2024-02-18 20:04_

---

_Comment by @zanieb on 2024-02-18 21:04_

Is this a duplicate of https://github.com/astral-sh/uv/issues/1595?

---

_Label `duplicate` added by @zanieb on 2024-02-18 21:04_

---

_Comment by @neumann-nico on 2024-02-18 21:07_

Sorry I used the search but actually did not see the mentioned issue. Closing this one üëçüèª 

---

_Closed by @neumann-nico on 2024-02-18 21:07_

---

_Comment by @charliermarsh on 2024-05-09 14:43_

Supported in the next version via https://github.com/astral-sh/uv/pull/3269.

---
