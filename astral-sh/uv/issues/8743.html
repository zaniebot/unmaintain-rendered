<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incorrect suggestion when creating a new project with --backend instead of --build-backend - astral-sh/uv #8743</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Incorrect suggestion when creating a new project with --backend instead of --build-backend</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8743">#8743</a>
        opened by <a href="https://github.com/issokuos">@issokuos</a>
        on 2024-11-01 06:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/issokuos">@issokuos</a> on 2024-11-01 06:34</div>
            <div class="timeline-body"><p><code>uv</code> suggests the wrong argument when creating a new project with a wrong <code>--backend</code> argument</p>
<pre><code class="language-bash">uv init  --lib --backend maturin no-name
</code></pre>
<p>It returns the following error message:</p>
<pre><code class="language-bash">error: unexpected argument '--backend' found

  tip: a similar argument exists: '--package'

Usage: uv init &lt;PATH|--name &lt;NAME&gt;|--virtual|--package|--no-package|--app|--lib|--script|--vcs &lt;VCS&gt;|--build-backend &lt;BUILD_BACKEND&gt;|--no-readme|--author-from &lt;AUTHOR_FROM&gt;|--no-pin-python|--no-workspace|--python &lt;PYTHON&gt;&gt;

For more information, try '--help'.
</code></pre>
<p>I was expecting the suggestion to  be <em>a similar argument exists: <code>--build-backend</code></em></p>
<p>Version:</p>
<pre><code class="language-bash">uv --version
uv 0.4.25 (97eb6ab4a 2024-10-21)
</code></pre>
<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2024-11-01 13:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-01 13:32</div>
            <div class="timeline-body"><p>That's an odd one though I don't think we control these suggestions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">upstream</span> added by @zanieb on 2024-11-01 13:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-01 13:41</div>
            <div class="timeline-body"><p>Yeah these are implemented in Clap, not sure what we can do here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-01 13:43</div>
            <div class="timeline-body"><p>I guess we can declare a hidden <code>--backend</code> argument with <a href="https://docs.rs/clap/latest/clap/builder/struct.UnknownArgumentValueParser.html"><code>UnknownArgumentValueParser</code></a> and suggest the proper one. There are some minor caveats, as discussed in https://github.com/clap-rs/clap/discussions/5781 (though that mostly focused on subcommands).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/issokuos">@issokuos</a> on 2025-01-24 21:03</div>
            <div class="timeline-body"><p>I can try to implement this if that is ok</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-24 21:15</div>
            <div class="timeline-body"><p>@styvane sure!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-01-29 22:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-01-29 22:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:52:39 UTC
    </footer>
</body>
</html>
