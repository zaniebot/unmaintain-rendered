```yaml
number: 16822
title: Failed to use the correct install dir
type: issue
state: closed
author: IdoPort
labels:
  - question
assignees: []
created_at: 2025-11-23T10:01:07Z
updated_at: 2025-11-28T08:28:37Z
url: https://github.com/astral-sh/uv/issues/16822
synced_at: 2026-01-10T01:57:37Z
```

# Failed to use the correct install dir

---

_Issue opened by @IdoPort on 2025-11-23 10:01_

### Summary

I am trying to create a new venv with a remote machine with SLURM.
Here is how I configure the paths so it will use the correct paths in the remote machine (remote amazon linux, local ubuntu).

```
export PATH=/home/ec2-user/.local/bin/:$PATH
export UV_INSTALL_DIR=/home/ec2-user/.local/share/uv/python
export UV_PYTHON_CACHE_DIR=/home/ec2-user/.cache/uv
which uv
/home/ec2-user/.local/bin/uv
uv venv --python 3.11 --no-cache ...
error: failed to create directory `/home/ubuntu/.local/share/uv/python`: Permission denied (os error 13)
```

I suspect that there is a priority here for the user that is running the command instead of UV_INSTALL_DIR.

### Platform

Linux 6.8.0-1040-aws x86_64 GNU/Linux, Linux 5.10.239-236.958.amzn2.x86_64 x86_64 GNU/Linux

### Version

uv 0.8.22

### Python version

3.11

---

_Label `bug` added by @IdoPort on 2025-11-23 10:01_

---

_Comment by @zanieb on 2025-11-23 15:22_

Do you mean `UV_PYTHON_INSTALL_DIR` instead of `UV_INSTALL_DIR`?

See also https://docs.astral.sh/uv/reference/storage/

---

_Label `bug` removed by @zanieb on 2025-11-23 15:22_

---

_Label `question` added by @zanieb on 2025-11-23 15:22_

---

_Comment by @IdoPort on 2025-11-24 09:09_

Thanks it did solve it!

It might be a nice case to improve the docs.
There was no link from the venv documentations to this param and when searching here
https://docs.astral.sh/uv/reference/environment/
There was no variable with reference to the `.local` directory.
So it might be nice to do one (or both?) of the following:
1. Link to the storage/`UV_PYTHON_INSTALL_DIR` documentation from the venv docs.
2. Add in the environment variable for `UV_PYTHON_INSTALL_DIR` a default value.

---

_Comment by @konstin on 2025-11-28 08:28_

We provide an overview over the locations in the [storage](https://docs.astral.sh/uv/reference/storage/) docs.

---

_Closed by @konstin on 2025-11-28 08:28_

---
