<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support user installation when normal site-packages is not writeable - astral-sh/uv #17102</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support user installation when normal site-packages is not writeable</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/17102">#17102</a>
        opened by <a href="https://github.com/NewUserHa">@NewUserHa</a>
        on 2025-12-12 14:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/NewUserHa">@NewUserHa</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>the default pip has this feature, when run cmd without admin permission, it will</p>
<pre><code>&gt;pip install ...
Defaulting to user installation because normal site-packages is not writeable
Collecting ...
</code></pre>
<p>writing to <code>C:\Users\user\AppData\Roaming\Python\Python314\...</code>,
however, <code>uv</code> can only install to <code>C:\Program Files\Python314</code> ,or asking create venv with <code>uv venv</code> in current directory. but the use case is not needing a seperate env, but works like normal, with the packages wants to test to be installed in a side directory which can be one-click easily deleted.</p>
<p>so uv should support this behavior of <code>pip</code>.</p>
<p>another use case is:
when using pixi, whose <code>pixi add</code> command is unable to handle <code>--index-url</code> like options, which pixi lacks it, so <code>uv</code> needs to be used, but since after <code>pixi init</code> <code>pixi add python</code> <code>pixi shell</code>, the current env is already a venv, but at macro level. at this moment, <code>uv install</code> should install to the python's own site-packages directory within the macro venv by pixi, like the before <code>pip install</code> in a <code>conda env</code>.</p>
<p>but <code>uv</code>'s current design is: &quot;installing to global, use --system, otherwise, throw error 'use --system'&quot; for showing <code>uv venv</code> ablity, so in the above two situations, the <code>--system</code> becomes a redunrant that can't get rid of in every time using <code>uv</code>.</p>
<p>Is it possible to make it chosse-able, like when user runs <code>uv pip install</code> rather than throw a error and exit, give a prompt that pressing enter install to <code>site-packages</code> according to permission of which <code>site-packages</code> it can, or input 'n' to install to a new venv if in venv, or press ctrl-c to exit, making life easier.
for <code>--system</code>, it can be kept, and even add <code>--user</code> for installing to user <code>site-packages</code> directory, for auto-command-scripts usage.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @NewUserHa on 2025-12-12 14:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-16 11:11</div>
            <div class="timeline-body"><p>Please see https://github.com/astral-sh/uv/issues/2077 for why we're not supporting user site packages. We recommend using venvs for package installations.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by @konstin on 2025-12-16 11:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @konstin on 2025-12-16 11:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NewUserHa">@NewUserHa</a> on 2025-12-17 14:10</div>
            <div class="timeline-body"><p>my opinion is not &quot;support --user option&quot;, it is to have a way to support pip's behavior. so #2077 should have no relation to this issue.</p>
<p>the reason people use <code>uv</code> is because <code>pip</code> is slow.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-17 14:51</div>
            <div class="timeline-body"><p>We won't support writing to user site-packages in general, whether it's an explicit <code>--user</code> request or an implicit fallback to the user's directory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-12-17 15:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:40 UTC
    </footer>
</body>
</html>
