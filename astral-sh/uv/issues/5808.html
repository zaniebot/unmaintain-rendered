<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PYTHONPATH support for `uv` Python Package - astral-sh/uv #5808</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PYTHONPATH support for <code>uv</code> Python Package</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/5808">#5808</a>
        opened by <a href="https://github.com/ulucs">@ulucs</a>
        on 2024-08-06 07:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ulucs">@ulucs</a></div>
            <div class="timeline-body"><p>(Sort-of related to, and would fix: <a href="https://github.com/astral-sh/uv/issues/4450">astral-sh/uv#4450</a>)</p>
<p>Python supports a myriad of methods to declare dependency locations, not all of which can be correctly identified by the <code>uv</code> Python package. For example, <code>PYTHONPATH</code>:</p>
<pre><code>‚ùØ PYTHONPATH=$VENV_PATH/lib/python3.10/site-packages python
Python 3.10.14 (main, Mar 19 2024, 21:46:16) [Clang 16.0.6 ] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import uv
&gt;&gt;&gt; uv.find_uv_bin()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;$VENV_PATH/lib/python3.10/site-packages/uv/__init__.py&quot;, line 30, in find_uv_bin
    raise FileNotFoundError(path)
FileNotFoundError: /Users/(thats_me)/.local/bin/uv
</code></pre>
<p>which throws, even though the <code>uv</code> package is located in the environment.</p>
Expected Behavior
<p><code>uv.find_uv_bin()</code> correctly identifies that its binary should be located in <code>$VENV_PATH/bin</code> and returns <code>$VENV_PATH/bin/uv</code></p>
Resonable Other Behavior
<p><code>uv.find_uv_bin()</code> falls back to fetching the binary location from <code>$PATH</code>, and gives the responsibility of correctly setting it to the process which populated <code>$PYTHONPATH</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-06 14:50</div>
            <div class="timeline-body"><p>Forgive my ignorance here, but isn&#x27;t <code>PYTHONPATH</code> just a module search path? I don&#x27;t quite see how we can &quot;correctly&quot; infer the virtual environment bin path from just the <code>PYTHONPATH</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-06 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-21 21:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:32:31 UTC
    </footer>
</body>
</html>
