<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provide an option to start `uv` on Windows without a console window - astral-sh/uv #6801</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Provide an option to start <code>uv</code> on Windows without a console window</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6801">#6801</a>
        opened by <a href="https://github.com/piepero">@piepero</a>
        on 2024-08-29 10:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/piepero">@piepero</a> on 2024-08-29 10:33</div>
            <div class="timeline-body"><p>I am using the Windows 11 Task Scheduler to periodically run a Python script using the <code>uv --quiet run</code> command.</p>
<p>The script has the <code>.pyw</code> file extension, and <code>uv</code> correctly uses <code>pythonw.exe</code> to run the script without a console window.</p>
<p>Unfortunately, <code>uv.exe</code> itself still opens an empty console window. It stays open until it has parsed the inline metadata, checked the  dependencies and started <code>pythonw.exe</code>. The window is both distracting and steals the focus.</p>
<p>It would be great, if there was an additional flag (e.g. <code>--hidden</code>, <code>--no-console</code>) to suppress the creation of the console window.
Alternatively, it may be possible to add this functionality to the <code>--quiet</code> flag.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-09-22 23:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @zanieb on 2024-09-22 23:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-22 23:34</div>
            <div class="timeline-body"><p>Sorry nobody replied here. This seems reasonable, but I have no idea how it would be implemented.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/akx">@akx</a> on 2024-09-25 14:37</div>
            <div class="timeline-body"><p>On a general level, you'd need to set <a href="https://doc.rust-lang.org/reference/runtime.html#the-windows_subsystem-attribute">the <code>windows_subsystem</code> attribute</a> to <code>&quot;windows&quot;</code> so no console is provided by Windows to the application.</p>
<p>However, the issue then is
<img src="https://github.com/user-attachments/assets/0183f2b2-58e2-463f-802c-b3aa3028372b" alt="image" /></p>
<p>â€“ as I understand it, this is why <code>python.exe</code> and <code>pythonw.exe</code> are entirely separate executables: <code>python.exe</code> has the subsystem set to <code>CONSOLE</code>, <code>pythonw.exe</code> has it set to <code>WINDOWS</code> (and respectively, <code>.pyw</code> files are associated with <code>pythonw.exe</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-25 14:39</div>
            <div class="timeline-body"><p>I guess we could ship a <code>uvw.exe</code> on Windows for this purpose? I'm definitely not an expert in this though. Is there no other way?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/akx">@akx</a> on 2024-09-26 08:01</div>
            <div class="timeline-body"><p>https://stackoverflow.com/q/19168763/51685 touches on a Windows subsystem app being able to request a console, but the comments are somewhat worrisome (&quot;invariably works poorly&quot;...).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CrendKing">@CrendKing</a> on 2025-02-24 16:26</div>
            <div class="timeline-body"><p>Is the <code>--gui-script</code> option meant to provide a way to start a script without a window on Windows? If so, I think it actually needs this issue to work. Since <code>uv</code> itself always spawns a console window, and it always waits for the subprocess to terminate, the console window is inevitable.</p>
<p>I suggest shipping a <code>uvw.exe</code> built with the <code>windows</code> subsystem, and deprecate <code>--script</code> and <code>--gui-script</code>. Make <code>uvw run</code> invoke <code>pythonw</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CrendKing">@CrendKing</a> on 2025-02-26 01:40</div>
            <div class="timeline-body"><p>Created a PR. Please take a look.</p>
<p>https://github.com/astral-sh/uv/pull/11786</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CrendKing">@CrendKing</a> on 2025-05-31 02:06</div>
            <div class="timeline-body"><p>The new <code>uvw</code> binary is released in <a href="https://github.com/astral-sh/uv/releases/tag/0.7.9">version 0.7.9</a>. Maybe you guys can take a look?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-05-31 04:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/piepero">@piepero</a> on 2025-06-06 09:10</div>
            <div class="timeline-body"><p>Using <code>uvw.exe</code> instead of <code>uv.exe</code> works like a charm!
Looking at the pull request, I can see that a surprising amount of work was involved to overcome all obstacles for such a 'simple' request.
Thanks a lot to all involved!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:41 UTC
    </footer>
</body>
</html>
