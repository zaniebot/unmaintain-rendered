<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation around `INSTALLER_NO_MODIFY_PATH` in &quot;standalone installer&quot; section - astral-sh/uv #9835</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Documentation around `INSTALLER_NO_MODIFY_PATH` in &quot;standalone installer&quot; section</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9835">#9835</a>
        opened by <a href="https://github.com/rcastellotti">@rcastellotti</a>
        on 2024-12-12 11:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rcastellotti">@rcastellotti</a> on 2024-12-12 11:56</div>
            <div class="timeline-body"><p>Hello üêª</p>
<p>TLDR: Should the &quot;opt out&quot; env var be better documented in the Installation step?</p>
<p>I recently started using <code>uv</code> and I am now adding it to a Jenkins pipeline.
As of now I am a bit limited and I need to install it in the pipeline itself, so I added the following <code>script</code> block:</p>
<pre><code class="language-groovy">stage(&quot;install uv&quot;) {
  steps {
    dir(&quot;e2e&quot;) {
      script {
        sh 'curl -LsSf https://astral.sh/uv/0.5.7/install.sh | env UV_INSTALL_DIR=. sh'
      }
    }
  }
}
</code></pre>
<p>Something happened on the Jenkins executor making the entire node crash (bash was trying to source a file that does not exist causing some issues).</p>
<p>Only after the facto I realized the script modifies <code>~/.bashrc</code>.</p>
<pre><code class="language-bash">rc@den ~&gt; cat ~/.bashrc
export PATH=&quot;$PATH:/Applications/Docker.app/Contents/Resources/bin/&quot;

. &quot;$HOME/.cargo/env&quot;

[[ -f ~/.bash-preexec.sh ]] &amp;&amp; source ~/.bash-preexec.sh
eval &quot;$(atuin init bash)&quot;
</code></pre>
<pre><code class="language-bash">rc@den ~&gt; curl -LsSf https://astral.sh/uv/0.5.7/install.sh | env UV_INSTALL_DIR=. sh
downloading uv 0.5.7 aarch64-apple-darwin
no checksums to verify
installing to .
  uv
  uvx
everything's installed!
rc@den ~&gt; cat ~/.bashrc
export PATH=&quot;$PATH:/Applications/Docker.app/Contents/Resources/bin/&quot;

. &quot;$HOME/.cargo/env&quot;

[[ -f ~/.bash-preexec.sh ]] &amp;&amp; source ~/.bash-preexec.sh
eval &quot;$(atuin init bash)&quot;


. &quot;./env&quot;
</code></pre>
<p>Note:</p>
<pre><code class="language-diff">--- pre-uv-install-bashrc	2024-12-12 12:36:51
+++ post-uv-install-bashrc	2024-12-12 12:36:53
@@ -6,3 +6,5 @@
 [[ -f ~/.bash-preexec.sh ]] &amp;&amp; source ~/.bash-preexec.sh
 eval &quot;$(atuin init bash)&quot;
 
+
+. &quot;./env&quot;
\ No newline at end of file
</code></pre>
<p>After reading the installer script I noticed the env var <code>INSTALLER_NO_MODIFY_PATH=1</code> can be set to prevent this behaviour.
This is documented in the <a href="https://docs.astral.sh/uv/getting-started/installation/#upgrading-uv">upgrading-uv</a> section, but not in the install section.</p>
<p>I understand automatically populating the <code>~/.bashrc</code> file choice by default and optionally opting out of this functionality, but: should this be better documented in the <a href="https://docs.astral.sh/uv/getting-started/installation/#standalone-installer">standalone-installer</a> section?</p>
<p>P.S: I can open a small PR to update <a href="https://github.com/astral-sh/uv/blob/main/docs/getting-started/installation.md">installation.md</a>, should you think this would be helpful.</p>
<p>P.P.S: Thanks for singlehandedly making the python ecosystem a bit better :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-12 14:23</div>
            <div class="timeline-body"><p>I think it's intentional that this is documented in https://docs.astral.sh/uv/configuration/installer/ which is linked in <code>installation.md</code> under &quot;See the documentation on <a href="https://github.com/astral-sh/uv/blob/main/docs/configuration/installer.md">installer configuration</a> for details on customizing your uv installation.&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-12-12 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rcastellotti">@rcastellotti</a> on 2024-12-12 14:59</div>
            <div class="timeline-body"><p>Uhm, yea I missed it ü§¶ .
In my defense I can only say the &quot;Tip&quot; block is much easier to spot :)</p>
<p>I am not sure how destructive modifying the <code>~/.bashrc</code> action is, I guess we will see :)</p>
<p>Thanks for the reply!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @rcastellotti on 2024-12-12 14:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
