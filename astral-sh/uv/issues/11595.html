<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider using the system SSL library, i.e., OpenSSL instead of `rusttls` / `ring` - astral-sh/uv #11595</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider using the system SSL library, i.e., OpenSSL instead of `rusttls` / `ring`</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11595">#11595</a>
        opened by <a href="https://github.com/marco-cloudflare">@marco-cloudflare</a>
        on 2025-02-18 12:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/marco-cloudflare">@marco-cloudflare</a> on 2025-02-18 12:02</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I thought that the native-tls flag would enable the native-ssl client but after close inspection, which is openssl in Linux, but, counter-intuitively, it actually just enables loading native certs using rustls and by extension ring, which has limitations e.g.: https://github.com/briansmith/ring/pull/1631</p>
<p>See https://github.com/astral-sh/uv/blob/929e7c3ad96ff6b14aeb60527e6a4526ed24ec43/crates/uv-client/src/base_client.rs#L286C13-L286C59</p>
<p>This might the reason for problems like #9243</p>
<p>It seems that the reasoning behind this is for musl static compilation: #234 so I imagine that dynamic linking openssl is out of question. Another option could be enabling native-tls-vendored from reqwest which will static link openssl (it could be enabled only on musl builds, for others use native-tls) and have the uv's native-tls flag switch between reqwest use_rustls_tls() and use_native_tls()</p>
<h3>Platform</h3>
<p>Linux, but should affect any</p>
<h3>Version</h3>
<p>master branch</p>
<h3>Python version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @marco-cloudflare on 2025-02-18 12:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-18 14:25</div>
            <div class="timeline-body"><p>I'm a little hesitant to call this a bug. It looks like more of a request to dynamically link OpenSSL to work around unimplemented features in Ring?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marco-cloudflare">@marco-cloudflare</a> on 2025-02-18 15:29</div>
            <div class="timeline-body"><blockquote>
<p>I'm a little hesitant to call this a bug. It looks like more of a request to dynamically link OpenSSL to work around unimplemented features in Ring?</p>
</blockquote>
<p>I guess you're right, the category and title could be better. Now looking at the documentation, it does say that &quot;Whether to load TLS certificates from the platform's native certificate store&quot; with no mention that it's/it's not the system's native ssl lib.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-02-18 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2025-02-18 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Native-tls support is limited" to "Consider using the system SSL library, i.e., OpenSSL instead of `rusttls` / `ring`" by @zanieb on 2025-02-18 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @zanieb on 2025-02-18 15:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:00 UTC
    </footer>
</body>
</html>
