```yaml
number: 5031
title: "`uv pip compile` should exclude `--upgrade-package` in the header"
type: issue
state: closed
author: skshetry
labels:
  - bug
  - good first issue
assignees: []
created_at: 2024-07-13T03:34:54Z
updated_at: 2024-07-13T04:24:36Z
url: https://github.com/astral-sh/uv/issues/5031
synced_at: 2026-01-10T01:57:10Z
```

# `uv pip compile` should exclude `--upgrade-package` in the header

---

_Issue opened by @skshetry on 2024-07-13 03:34_

`uv pip compile` does not seem to ignore `--upgrade-package` command, whereas `pip-compile` seems to exclude it in the header.

See https://github.com/jazzband/pip-tools/blob/53309647980e2a4981db54c0033f98c61142de0b/piptools/utils.py#L56.


```console
uv pip compile --output-file requirements.txt requirements.in -P package
```

```plaintext
# This file was autogenerated by uv via the following command:
#    uv pip compile --output-file requirements.txt requirements.in -P package
```


`--upgrade` is excluded by default, so `--upgrade-package` should do the same.

https://github.com/astral-sh/uv/blob/4eb19c76bdf640c4e4e36a3f1f258ef4590f3d41/crates/uv/src/commands/pip/compile.rs#L545-L548



```console
uv 0.2.24 (527b711bc 2024-07-10)
```



---

_Referenced in [dependabot/dependabot-core#10040](../../dependabot/dependabot-core/pulls/10040.md) on 2024-07-13 03:35_

---

_Referenced in [astral-sh/uv#5032](../../astral-sh/uv/pulls/5032.md) on 2024-07-13 03:44_

---

_Label `bug` added by @zanieb on 2024-07-13 04:23_

---

_Label `good first issue` added by @zanieb on 2024-07-13 04:23_

---

_Closed by @zanieb on 2024-07-13 04:24_

---

_Closed by @zanieb on 2024-07-13 04:24_

---

_Referenced in [astral-sh/uv#5033](../../astral-sh/uv/pulls/5033.md) on 2024-07-13 05:27_

---

_Referenced in [astral-sh/uv#2512](../../astral-sh/uv/issues/2512.md) on 2024-07-14 14:22_

---
