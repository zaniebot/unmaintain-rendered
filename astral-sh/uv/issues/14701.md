```yaml
number: 14701
title: conflicts between nested group dependency and extra dependency
type: issue
state: closed
author: branyang02
labels:
  - question
assignees: []
created_at: 2025-07-18T05:04:34Z
updated_at: 2025-07-21T05:43:59Z
url: https://github.com/astral-sh/uv/issues/14701
synced_at: 2026-01-10T01:57:33Z
```

# conflicts between nested group dependency and extra dependency

---

_Issue opened by @branyang02 on 2025-07-18 05:04_

### Question

Suppose I have a nested group dependency defined as

```
[dependency-groups]
dev = [
  {include-group = "foo"},
  {include-group = "bar"},
  {include-group = "hehe"}
]
foo = [...]
bar = [...]
hehe = [...]
```

And suppose I have `[project.optional-dependencies]`:

```
[project.optional-dependencies]
foo_conflict = [...]
bar_conflict = [...]
hehe_conflict = [...]
```

Do I need to specify conflicts for 
- `foo <-> foo_conflict`, `bar <-> bar_conflict`, `hehe <-> hehe_conflict`,
AND
- `dev <-> foo_conflict`, `dev <-> bar_conflict`, `dev <-> hehe_conflict`,

In my local testing it seems to be the case, unless I'm doing something completely wrong. 

Additional question: If I do need to in fact specify all these conflicts, do these extra conflicts cause more time to be resolved?

Any help is appreciated!

### Platform

Ubuntu

### Version

uv 0.7.20

---

_Label `question` added by @branyang02 on 2025-07-18 05:04_

---

_Comment by @konstin on 2025-07-18 09:02_

This sounds correct, `include-group` in this regard works like repeating the (conflicting) dependencies from the included groups.

> Additional question: If I do need to in fact specify all these conflicts, do these extra conflicts cause more time to be resolved?

Resolving itself is fast enough that this shouldn't be noticeable. The slow parts (fetching metadata) are shared between the conflicts, and we can reuse most of the resolution between the conflicts.

---

_Closed by @branyang02 on 2025-07-21 05:43_

---
