<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>--project must be passed before &quot;run&quot; - astral-sh/uv #14990</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>--project must be passed before &quot;run&quot;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14990">#14990</a>
        opened by <a href="https://github.com/diegochine">@diegochine</a>
        on 2025-07-31 10:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/diegochine">@diegochine</a></div>
            <div class="timeline-body">Summary
<p>From the docs, the <code>uv run</code> usage is:</p>
<pre><code>uv run [OPTIONS] [COMMAND]
</code></pre>
<p>I was trying to run with <code>uv</code> a file from a different folder than the one it resides in, meaning I have to use the <code>--project</code> option to specify the project (for some reason, it doesn&#x27;t seem to be able to find <code>pyproject.toml</code> automatically).</p>
<p>Based on the docs, I would do:</p>
<pre><code>uv run --project /path/to/dir python /path/to/dir/file.py
</code></pre>
<p>This does not work, I get a <code>ModuleNotFoundError</code> (i.e. the venv is not being correctly activated).
What actually works is:</p>
<pre><code>uv --project /path/to/dir run python /path/to/dir/file.py
</code></pre>
<p>i.e., specifying <code>--project</code> <em>before</em> <code>run</code>.</p>
<p>I am not sure whether this is a bug or just the docs not being clear enough.</p>
Platform
<p>macOS 15.5 arm64</p>
Version
<p>uv 0.8.2 (21fadbcc1 2025-07-22)</p>
Python version
<p>Python 3.13.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/diegochine">@diegochine</a> on 2025-07-31 10:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-31 11:30</div>
            <div class="timeline-body"><p>Unfortunately I can&#x27;t reproduce this. I ran:</p>
<pre><code>&gt; uv run --project ./foo python /Users/crmarsh/workspace/uv/foo/main.py
Hello from foo!
</code></pre>
<p>Where <code>foo/main.py</code> includes <code>import anyio</code>, and <code>foo/pyproject.toml</code> is:</p>
<pre><code>[project]
name = &quot;foo&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.13.2&quot;
dependencies = [
    &quot;anyio&gt;=4.9.0&quot;,
]
</code></pre>
<p>We&#x27;ll need a more complete reproduction to help here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-31 11:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-31 11:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/diegochine">@diegochine</a> on 2025-07-31 12:23</div>
            <div class="timeline-body"><p>I actually found the issue and it was not related to <code>uv</code> at all. My bad. Confirm it works as expected, closing the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/diegochine">@diegochine</a> on 2025-07-31 12:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:39:46 UTC
    </footer>
</body>
</html>
