<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FR: allow more customization of uv init via env vars or settings - astral-sh/uv #7931</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>FR: allow more customization of uv init via env vars or settings</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/7931">#7931</a>
        opened by <a href="https://github.com/richieadler">@richieadler</a>
        on 2024-10-04 17:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/richieadler">@richieadler</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>The current defaults for <code>uv init</code> may be inconvenient, so having a way to set them via env var or {pyproject|uv}.toml would be useful.</p>
<ul>
<li>Assuming <code>--vcs git</code> is irksome for those of us that don't use Git in all cases.</li>
<li><code>--no-readme</code>, <code>--no-pin-python</code> and <code>--no-workspace</code> is needed even when one is creating fast test projects where those are not needed.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-04 17:22</div>
            <div class="timeline-body"><p>It seems fine to allow configuring these in the <code>uv.toml</code>, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">projects</span> added by @zanieb on 2024-10-04 17:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2024-10-04 17:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-10-05 01:33</div>
            <div class="timeline-body"><p>Would configuration in <code>pyproject.toml</code> also be possible?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-10-05 01:45</div>
            <div class="timeline-body"><p>Related: https://github.com/astral-sh/uv/issues/5737</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-05 14:49</div>
            <div class="timeline-body"><p>Like.. targeting workspace members in that context? It seems like a weird use-case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-10-05 21:55</div>
            <div class="timeline-body"><p>More so to enable persistent uv command options and parameters for <code>uv init</code>,<code>uv venv</code>, <code>uv sync</code>, and so forth.</p>
<p><a href="https://hatch.pypa.io/latest/intro/#configuration">Hatch</a> and <a href="https://pdm-project.org/latest/usage/config/#passing-constant-arguments-to-every-pdm-invocation">pdm</a> both support this.</p>
<p>The main benefit for this is so that that uv command settings and customizations are centralized in the project so that all devs working in the codebase can see and use them. This would simplify commands for devs who may always need to use certain options such as <code>--no-build-isolation</code> or <code>--offline</code>, or in @richieadler’s use case, <code>--no-readme --no-pin-python --no-workspace</code>.</p>
<p>Keeping customizations in environment variables or <code>uv.toml</code> adds hidden state outside of the project scope and is not the best practice (with the exception of settings you absolutely don’t want in the repository such as credentials or secrets).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-10-05 22:20</div>
            <div class="timeline-body"><p>I think for flexibility and consistency, a dev could/should have the ability to set every uv “configurable” via: command line, <code>pyproject.toml</code>, <code>uv.toml</code>, and environment variable, with override resolution performed in that order of priority.</p>
<p>I don’t know what implementation would look like, but I think it could be the same abstract implementation for each <code>Configurable</code>, using the command line string as the universal key (same for command line, <code>pyproject.toml</code>, <code>uv.toml</code>, and env var) which maps to the data/function that actually modifies the command/behavior.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:30 UTC
    </footer>
</body>
</html>
