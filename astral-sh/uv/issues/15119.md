```yaml
number: 15119
title: Unexpected behavior when reusing executables via --with-executables-from
type: issue
state: open
author: chuckn246
labels:
  - question
assignees: []
created_at: 2025-08-06T22:45:49Z
updated_at: 2025-08-06T23:03:24Z
url: https://github.com/astral-sh/uv/issues/15119
synced_at: 2026-01-10T01:57:34Z
```

# Unexpected behavior when reusing executables via --with-executables-from

---

_Issue opened by @chuckn246 on 2025-08-06 22:45_

### Summary

When using `uv tool install` with the `--with-executables-from` flag, an error occurs if the executable already exists from a previous `uv tool install`.

This can cause unexpected behavior in environments where tools and their executables are installed in overlapping ways.

----

### Steps to Reproduce
Install yamllint as a standalone CLI tool:
```bash
uv tool install yamllint
```

Later, attempt to install ansible while also requesting the yamllint executable:
```bash
uv tool install --with-executables-from yamllint ansible
```

Which fails with:
```
error: Executable already exists: yamllint (use `--force` to overwrite)
```

This breaks idempotency: a colleague using the same command might fail depending on whether yamllint was previously installed.

It makes it so you canâ€™t safely layer toolchains or reuse install commands across scripts or projects and risks destructive behavior since uninstalling a tool may remove a binary used by another.

I realize the `--force` flag exists but would this remove the link to the original tool?

----

### Example scenario
- Install ansible using `--with-executables-from yamllint`.
- Later, you would like to install yamllint by itself or with another tool but you omit `--with-executables-from yamllint` to avoid the failure.
- Some time later you decide to `uv tool uninstall ansible`.
- After uninstalling ansible, the second toolchain will be incomplete because the executable it could have requested was removed.


----

### Suggestions
Would it be possible to:
- Allow multiple tools to co-own a binary installed via `--with-executables-from`, tracked internally?
- Only remove shared executables when no tool still depends on them?
- Provide a `--skip-existing-executables` flag to downgrade the overwrite error to a warning?
- Log executable ownership metadata so users (or uv) can make smarter decisions on uninstall?

### Platform

MacOS, Debian, Ubuntu 

### Version

0.8.5

### Python version

3.13.5

---

_Label `bug` added by @chuckn246 on 2025-08-06 22:45_

---

_Comment by @zanieb on 2025-08-06 22:58_

Multiple tool installs can't share executables, unfortunately, because each tool executable will be linked to a specific Python environment.

---

_Label `bug` removed by @zanieb on 2025-08-06 22:58_

---

_Label `question` added by @zanieb on 2025-08-06 22:58_

---

_Comment by @zanieb on 2025-08-06 22:59_

I'm going to remove the bug label because this _is_ working as intended. We can definitely discuss solutions though.

---

_Comment by @chuckn246 on 2025-08-06 23:03_

Sounds good to me!

I wasn't exactly sure how to tag it, I just wanted to bring it to someone's attention. When I was testing it to use in my install scripts I hit the error and figured I better mention it.

---
