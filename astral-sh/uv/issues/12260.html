<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv 0.6.7 regression &quot;Received some unexpected JSON&quot; ... &quot;expected a borrowed string&quot; when installing &quot;pyenchant==3.3.0rc1&quot; - astral-sh/uv #12260</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv 0.6.7 regression &quot;Received some unexpected JSON&quot; ... &quot;expected a borrowed string&quot; when installing &quot;pyenchant==3.3.0rc1&quot;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12260">#12260</a>
        opened by <a href="https://github.com/adamtheturtle">@adamtheturtle</a>
        on 2025-03-18 03:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/adamtheturtle">@adamtheturtle</a> on 2025-03-18 03:46</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Command:</p>
<pre><code>uv pip install --reinstall &quot;pyenchant==3.3.0rc1&quot;
</code></pre>
<p>With <code>uv 0.6.6</code> I can install <code>&quot;pyenchant==3.3.0rc1&quot;</code></p>
<p>With <code>uv 0.6.7</code> I get:</p>
<pre><code>⠙ Resolving dependencies...                                                                                                                                                 error: Received some unexpected JSON from https://pypi.org/simple/pyenchant/
  Caused by: invalid type: string &quot;&gt;=\&quot;3.5\&quot;&quot;, expected a borrowed string at line 1 column 50181
</code></pre>
<h3>Platform</h3>
<p>macOS 15.3, and GitHub Actions Ubuntu</p>
<h3>Version</h3>
<p>0.6.7</p>
<h3>Python version</h3>
<p>Python 3.11 / 3.12 at least</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @adamtheturtle on 2025-03-18 03:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shauneccles">@shauneccles</a> on 2025-03-18 05:03</div>
            <div class="timeline-body"><pre><code>(test-venv) PS C:\Users\shaun\test-venv&gt; uv -vv pip install --reinstall &quot;pyenchant==3.3.0rc1&quot;
DEBUG uv 0.6.7 (029b9e1fc 2025-03-17)
DEBUG Searching for default Python interpreter in virtual environments
TRACE Querying interpreter executable at C:\Users\shaun\test-venv\.venv\Scripts\python.exe
DEBUG Found `cpython-3.13.1-windows-x86_64-none` at `C:\Users\shaun\test-venv\.venv\Scripts\python.exe` (active virtual environment)
DEBUG Using Python 3.13.1 environment at: .venv
TRACE Checking lock for `.venv` at `.venv\.lock`
DEBUG Acquired lock for `.venv`
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.13.1
DEBUG Solving with target Python version: &gt;=3.13.1
TRACE Assigned packages:
TRACE Chose package for decision: root. remaining choices:
DEBUG Adding direct dependency: pyenchant&gt;=3.3.0rc1, &lt;3.3.0rc1+
TRACE Assigned packages: root==0a0.dev0
TRACE Chose package for decision: pyenchant. remaining choices:
TRACE Fetching metadata for pyenchant from https://pypi.org/simple/pyenchant/
TRACE Checking lock for `C:\Users\shaun\AppData\Local\uv\cache\simple-v15\pypi\pyenchant.lock` at `C:\Users\shaun\AppData\Local\uv\cache\simple-v15\pypi\pyenchant.lock`
DEBUG Acquired lock for `C:\Users\shaun\AppData\Local\uv\cache\simple-v15\pypi\pyenchant.lock`
TRACE No cache entry exists for C:\Users\shaun\AppData\Local\uv\cache\simple-v15\pypi\pyenchant.rkyv
DEBUG No cache entry for: https://pypi.org/simple/pyenchant/
TRACE Sending fresh GET request for https://pypi.org/simple/pyenchant/
TRACE Handling request for https://pypi.org/simple/pyenchant/
TRACE Request for https://pypi.org/simple/pyenchant/ is unauthenticated, checking cache
TRACE No credentials in cache for URL https://pypi.org/simple/pyenchant/
TRACE Attempting unauthenticated request for https://pypi.org/simple/pyenchant/
TRACE Cached request https://pypi.org/simple/pyenchant/ is storable because its response has a 'public' cache-control directive
TRACE Considering retry of error: Error { kind: BadJson { source: Error(&quot;invalid type: string \&quot;&gt;=\\\&quot;3.5\\\&quot;\&quot;, expected a borrowed string&quot;, line: 1, column: 50181), url: Url { scheme: &quot;https&quot;, cannot_be_a_base: false, username: &quot;&quot;, password: None, host: Some(Domain(&quot;pypi.org&quot;)), port: None, path: &quot;/simple/pyenchant/&quot;, query: None, fragment: None } } }
TRACE Cannot retry error: not an IO error
DEBUG Released lock at `C:\Users\shaun\AppData\Local\uv\cache\simple-v15\pypi\pyenchant.lock`
DEBUG Released lock at `C:\Users\shaun\test-venv\.venv\.lock`
error: Received some unexpected JSON from https://pypi.org/simple/pyenchant/
  Caused by: invalid type: string &quot;&gt;=\&quot;3.5\&quot;&quot;, expected a borrowed string at line 1 column 50181
(test-venv) PS C:\Users\shaun\test-venv&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alberto-gomezcasado-AP">@alberto-gomezcasado-AP</a> on 2025-03-18 11:35</div>
            <div class="timeline-body"><p>I am having the same problem installing tbump, using uv-0.6.7-py3-none-win_amd64.whl</p>
<pre><code>nox &gt; Running session bump
nox &gt; Creating virtual environment (uv) using python.exe in .nox\bump
nox &gt; git describe --tags --abbrev=0
nox &gt; uv pip install tbump
nox &gt; Command uv pip install tbump failed with exit code 2:
Using Python 3.9.4 environment at: .nox\bump
error: Received some unexpected JSON from https://pypi.org/simple/tbump/
  Caused by: invalid type: string &quot;&gt;=\&quot;3.5\&quot;&quot;, expected a borrowed string at line 1 column 19557
nox &gt; Session bump failed.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-18 12:28</div>
            <div class="timeline-body"><p>Apologies, I’ll fix it this morning.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alex">@alex</a> on 2025-03-18 12:29</div>
            <div class="timeline-body"><p>Thanks Charlie!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-03-18 13:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-18 13:09</div>
            <div class="timeline-body"><p>Fixed in https://github.com/astral-sh/uv/pull/12278.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-18 13:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:44:26 UTC
    </footer>
</body>
</html>
