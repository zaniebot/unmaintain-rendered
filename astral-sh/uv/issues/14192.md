```yaml
number: 14192
title: Flakyness with namespace packages installing into overlapping directories
type: issue
state: closed
author: amotl
labels:
  - bug
assignees: []
created_at: 2025-06-21T18:52:16Z
updated_at: 2025-06-21T19:44:48Z
url: https://github.com/astral-sh/uv/issues/14192
synced_at: 2026-01-10T01:57:32Z
```

# Flakyness with namespace packages installing into overlapping directories

---

_Issue opened by @amotl on 2025-06-21 18:52_

### Problem
We are observing a spurious flakyness across CI matrix slots when switching from vanilla `pip install` to `uv pip install`, around the installation of the [testcontainers](https://pypi.org/project/testcontainers/) package, for example together with its auxilliary [testcontainers-azurite](https://pypi.org/project/testcontainers-azurite/) package.

The procedure works fine on some test matrix slots, but goes south on others. The symptom is an import error as outlined per https://github.com/testcontainers/testcontainers-python/issues/837.

![Image](https://github.com/user-attachments/assets/f8738eab-8c99-4fa3-b2f5-5f3376b27086)

### References
- https://github.com/crate/cratedb-toolkit/pull/461
- https://github.com/testcontainers/testcontainers-python/issues/837
- GH-10564

### Platform

Linux (GHA's `ubuntu-latest`)

### Version

latest

### Python version

3.9, 3.11, 3.13

---

_Label `bug` added by @amotl on 2025-06-21 18:52_

---

_Comment by @amotl on 2025-06-21 19:21_

We used an outdated dependency definition. Sorry for the noise.

- This patch will probably fix it for us:
  https://github.com/crate/cratedb-toolkit/pull/462


---

_Closed by @amotl on 2025-06-21 19:21_

---

_Comment by @zanieb on 2025-06-21 19:44_

Glad you figured it out :)

---
