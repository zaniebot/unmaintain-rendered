<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv python list` breaks when used from within WSL when Python installed via `pyenv-win` - astral-sh/uv #12155</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv python list` breaks when used from within WSL when Python installed via `pyenv-win`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12155">#12155</a>
        opened by <a href="https://github.com/brysonwu">@brysonwu</a>
        on 2025-03-13 22:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/brysonwu">@brysonwu</a> on 2025-03-13 22:24</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Probably a very niche scenario but thought I should let folks know this issue exists.</p>
<h2>Reproduction</h2>
<ul>
<li>Install uv in WSL and pyenv-win in Windows.</li>
<li><code>uv python list</code> will work at this point.</li>
<li>Install a Python through <code>pyenv-win</code> (E.g.: run <code>pyenv install</code> in PowerShell to get latest Python)</li>
<li><code>uv python list</code> will abort and complain:<pre><code class="language-sh">error: Failed to inspect Python interpreter from search path at `/mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python`
Caused by: Failed to query Python interpreter at `/mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python`
Caused by: No such file or directory (os error 2)
</code></pre>
</li>
<li><code>uv python list</code> will work again after uninstalling <code>pyenv-win</code>-installed Pythons (Run <code>pyenv uninstall -a</code> in PowerShell)</li>
</ul>
<p>Note that <code>uv python list</code> in PowerShell works fine with <code>pyenv-win</code>.</p>
<details>
<summary> Verbose Error Log </summary>

<pre><code class="language-sh">DEBUG uv 0.6.6
TRACE Found `ld` path: /lib64/ld-linux-x86-64.so.2
TRACE stdout output from `ld`: &quot;&quot;
TRACE stderr output from `ld`: &quot;/lib64/ld-linux-x86-64.so.2: missing program name\nTry '/lib64/ld-linux-x86-64.so.2 --help' for more information.\n&quot;
TRACE Tried to find musl version by running `&quot;/lib64/ld-linux-x86-64.so.2&quot;`, but failed: Could not find musl version in output of: `/lib64/ld-linux-x86-64.so.2`
TRACE Tried to find libc version from possible symlink at &quot;/lib64/ld-linux-x86-64.so.2&quot;, but failed: Failed to find glibc version in the filename of linker: `../lib/x86_64-linux-gnu/ld-linux-x86-64.so.2`
TRACE stdout output from `ldd --version`: &quot;ld.so (Ubuntu GLIBC 2.39-0ubuntu8.4) stable release version 2.39.\nCopyright (C) 2024 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE.\n&quot;
TRACE Found manylinux 2.39 in stdout of `ldd --version`
DEBUG Searching for any Python interpreter in managed installations or search path
DEBUG Searching for managed installations at `/home/&lt;user&gt;/.local/share/uv/python`
TRACE Found `ld` path: /lib64/ld-linux-x86-64.so.2
TRACE stdout output from `ld`: &quot;&quot;
TRACE stderr output from `ld`: &quot;/lib64/ld-linux-x86-64.so.2: missing program name\nTry '/lib64/ld-linux-x86-64.so.2 --help' for more information.\n&quot;
TRACE Tried to find musl version by running `&quot;/lib64/ld-linux-x86-64.so.2&quot;`, but failed: Could not find musl version in output of: `/lib64/ld-linux-x86-64.so.2`
TRACE Tried to find libc version from possible symlink at &quot;/lib64/ld-linux-x86-64.so.2&quot;, but failed: Failed to find glibc version in the filename of linker: `../lib/x86_64-linux-gnu/ld-linux-x86-64.so.2`
TRACE stdout output from `ldd --version`: &quot;ld.so (Ubuntu GLIBC 2.39-0ubuntu8.4) stable release version 2.39.\nCopyright (C) 2024 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE.\n&quot;
TRACE Found manylinux 2.39 in stdout of `ldd --version`
DEBUG Found managed installation `cpython-3.13.1-linux-x86_64-gnu`
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/share/uv/python/cpython-3.13.1-linux-x86_64-gnu/bin/python3.13
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/share/uv/python/cpython-3.13.1-linux-x86_64-gnu/bin/python3.13` (managed installations)
DEBUG Found managed installation `cpython-3.11.11-linux-x86_64-gnu`
TRACE Cached interpreter info for Python 3.11.11, skipping probing: /home/&lt;user&gt;/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/bin/python3.11
DEBUG Found `cpython-3.11.11-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/bin/python3.11` (managed installations)
DEBUG Found managed installation `cpython-3.10.16-linux-x86_64-gnu`
TRACE Cached interpreter info for Python 3.10.16, skipping probing: /home/&lt;user&gt;/.local/share/uv/python/cpython-3.10.16-linux-x86_64-gnu/bin/python3.10
DEBUG Found `cpython-3.10.16-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/share/uv/python/cpython-3.10.16-linux-x86_64-gnu/bin/python3.10` (managed installations)
DEBUG Found managed installation `cpython-3.9.21-linux-x86_64-gnu`
TRACE Cached interpreter info for Python 3.9.21, skipping probing: /home/&lt;user&gt;/.local/share/uv/python/cpython-3.9.21-linux-x86_64-gnu/bin/python3.9
DEBUG Found `cpython-3.9.21-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/share/uv/python/cpython-3.9.21-linux-x86_64-gnu/bin/python3.9` (managed installations)
DEBUG Found managed installation `cpython-3.8.20-linux-x86_64-gnu`
TRACE Cached interpreter info for Python 3.8.20, skipping probing: /home/&lt;user&gt;/.local/share/uv/python/cpython-3.8.20-linux-x86_64-gnu/bin/python3.8
DEBUG Found `cpython-3.8.20-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/share/uv/python/cpython-3.8.20-linux-x86_64-gnu/bin/python3.8` (managed installations)
TRACE Searching PATH for executables: python, python3, cpython, cpython3, pypy, pypy3, graalpy, graalpy3
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/plugins/pyenv-virtualenv/shims
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/shims
TRACE Found possible Python executable: /home/&lt;user&gt;/.pyenv/shims/python
TRACE Querying interpreter executable at /home/&lt;user&gt;/.pyenv/shims/python
DEBUG Found `cpython-3.10.16-linux-x86_64-gnu` at `/home/&lt;user&gt;/.pyenv/shims/python` (first executable in the search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.pyenv/shims/python3
TRACE Querying interpreter executable at /home/&lt;user&gt;/.pyenv/shims/python3
DEBUG Found `cpython-3.10.16-linux-x86_64-gnu` at `/home/&lt;user&gt;/.pyenv/shims/python3` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.pyenv/shims/python3.8
TRACE Querying interpreter executable at /home/&lt;user&gt;/.pyenv/shims/python3.8
DEBUG Failed to inspect Python interpreter from search path at `/home/&lt;user&gt;/.pyenv/shims/python3.8` 
DEBUG Skipping bad interpreter at /home/&lt;user&gt;/.pyenv/shims/python3.8 from search path: Querying Python at `/home/&lt;user&gt;/.pyenv/shims/python3.8` failed with exit status exit status: 127

[stderr]
/home/&lt;user&gt;/.pyenv/libexec/pyenv-exec: line 48: /mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python3.8: cannot execute: required file not found

TRACE Found possible Python executable: /home/&lt;user&gt;/.pyenv/shims/python3.13
TRACE Querying interpreter executable at /home/&lt;user&gt;/.pyenv/shims/python3.13
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.pyenv/shims/python3.13` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.pyenv/shims/python3.10
TRACE Querying interpreter executable at /home/&lt;user&gt;/.pyenv/shims/python3.10
DEBUG Found `cpython-3.10.16-linux-x86_64-gnu` at `/home/&lt;user&gt;/.pyenv/shims/python3.10` (search path)
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/bin
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/plugins/pyenv-virtualenv/shims
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/bin
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/bin
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.local/bin
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/bin/python
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python3
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/bin/python3
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python3` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python3.13
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/bin/python3.13
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python3.13` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python3.10
TRACE Cached interpreter info for Python 3.10.16, skipping probing: /home/&lt;user&gt;/.local/bin/python3.10
DEBUG Found `cpython-3.10.16-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python3.10` (search path)
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/plugins/pyenv-virtualenv/shims
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.pyenv/bin
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.nvm/versions/node/v22.14.0/bin
TRACE Checking `PATH` directory for interpreters: /home/&lt;user&gt;/.local/bin
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/bin/python
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python3
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/bin/python3
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python3` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python3.13
TRACE Cached interpreter info for Python 3.13.1, skipping probing: /home/&lt;user&gt;/.local/bin/python3.13
DEBUG Found `cpython-3.13.1-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python3.13` (search path)
TRACE Found possible Python executable: /home/&lt;user&gt;/.local/bin/python3.10
TRACE Cached interpreter info for Python 3.10.16, skipping probing: /home/&lt;user&gt;/.local/bin/python3.10
DEBUG Found `cpython-3.10.16-linux-x86_64-gnu` at `/home/&lt;user&gt;/.local/bin/python3.10` (search path)
TRACE Checking `PATH` directory for interpreters: /usr/local/sbin
TRACE Checking `PATH` directory for interpreters: /usr/local/bin
TRACE Checking `PATH` directory for interpreters: /usr/sbin
TRACE Checking `PATH` directory for interpreters: /usr/bin
TRACE Found possible Python executable: /usr/bin/python3
TRACE Cached interpreter info for Python 3.12.3, skipping probing: /usr/bin/python3
DEBUG Found `cpython-3.12.3-linux-x86_64-gnu` at `/usr/bin/python3` (search path)
TRACE Found possible Python executable: /usr/bin/python3.12
TRACE Cached interpreter info for Python 3.12.3, skipping probing: /usr/bin/python3.12
DEBUG Found `cpython-3.12.3-linux-x86_64-gnu` at `/usr/bin/python3.12` (search path)
TRACE Checking `PATH` directory for interpreters: /sbin
TRACE Checking `PATH` directory for interpreters: /bin
TRACE Found possible Python executable: /bin/python3
TRACE Cached interpreter info for Python 3.12.3, skipping probing: /bin/python3
DEBUG Found `cpython-3.12.3-linux-x86_64-gnu` at `/bin/python3` (search path)
TRACE Found possible Python executable: /bin/python3.12
TRACE Cached interpreter info for Python 3.12.3, skipping probing: /bin/python3.12
DEBUG Found `cpython-3.12.3-linux-x86_64-gnu` at `/bin/python3.12` (search path)
TRACE Checking `PATH` directory for interpreters: /usr/games
TRACE Checking `PATH` directory for interpreters: /usr/local/games
TRACE Checking `PATH` directory for interpreters: /usr/lib/wsl/lib
TRACE Checking `PATH` directory for interpreters: /mnt/c/ProgramData/scoop/shims
TRACE Checking `PATH` directory for interpreters: /mnt/c/WINDOWS/system32
TRACE Checking `PATH` directory for interpreters: /mnt/c/WINDOWS
TRACE Checking `PATH` directory for interpreters: /mnt/c/WINDOWS/System32/Wbem
TRACE Checking `PATH` directory for interpreters: /mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/
TRACE Checking `PATH` directory for interpreters: /mnt/c/WINDOWS/System32/OpenSSH/
TRACE Checking `PATH` directory for interpreters: /mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/bin
TRACE Checking `PATH` directory for interpreters: /mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims
TRACE Found possible Python executable: /mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python
TRACE Querying interpreter executable at /mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python
DEBUG Failed to inspect Python interpreter from search path at `/mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python` 
error: Failed to inspect Python interpreter from search path at `/mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python`
  Caused by: Failed to query Python interpreter at `/mnt/c/Users/&lt;user&gt;/.pyenv/pyenv-win/shims/python`
  Caused by: No such file or directory (os error 2)
</code></pre>
</details>

<h3>Platform</h3>
<p>Linux 5.15.167.4-microsoft-standard-WSL2 x86_64 GNU/Linux (Ubuntu 24.04.1 LTS)</p>
<h3>Version</h3>
<p>uv 0.6.6</p>
<h3>Python version</h3>
<p>Python 3.13.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @brysonwu on 2025-03-13 22:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-13 22:25</div>
            <div class="timeline-body"><p>Thanks for filing and for the clear repro. We should fix it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @charliermarsh on 2025-03-13 22:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vdeolali">@vdeolali</a> on 2025-08-15 19:36</div>
            <div class="timeline-body"><p>Is this fixed yet? I still have this issue from within WSL - when I have pyenv-win installed on PSH</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15315.html">astral-sh/uv#15315</a> on 2025-08-15 20:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-15 20:36</div>
            <div class="timeline-body"><p>@vdeolali would you be willing to test https://github.com/astral-sh/uv/pull/15315 ? There are binaries attached to the CI summary (at the bottom).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-08-18 15:42</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:02 UTC
    </footer>
</body>
</html>
