<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv sync --no-dev fails when local path dependency defined only in --dev is missing - astral-sh/uv #9804</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv sync --no-dev fails when local path dependency defined only in --dev is missing</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9804">#9804</a>
        opened by <a href="https://github.com/ddorian">@ddorian</a>
        on 2024-12-11 11:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ddorian">@ddorian</a></div>
            <div class="timeline-body"><p>I added a local package that is only available and needed in dev environment.
I exclude this package on production, but uv fails to create the env.
Maybe this is expected?</p>
<pre><code>[project]
name = &quot;uv-test-package&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.10&quot;
dependencies = [
    &quot;requests&gt;=2.32.3&quot;,
]

[dependency-groups]
dev = [
    &quot;flask-openapi3&quot;,
]

[tool.uv.sources]
flask-openapi3 = { path = &quot;flask-openapi3&quot; }

</code></pre>
<pre><code>❯ uv version
uv 0.5.7


❯ uv sync --no-dev
error: Failed to generate package metadata for `flask-openapi3==4.0.3 @ directory+flask-openapi3`
  Caused by: Distribution not found at: file:///home/guru/Desktop/stream/uv_test_package/flask-openapi3
</code></pre>
<p>Regards,
Dorian</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 13:42</div>
            <div class="timeline-body"><p>We still need to be able to resolve the dependencies in order to lock. In production, you might want to run with <code>--frozen</code> to avoid that step?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 13:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ddorian">@ddorian</a> on 2024-12-11 14:20</div>
            <div class="timeline-body"><p>Makes sense. Thank you.</p>
<p>Can uv run work with --frozen --no-dev using config or env?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-11 14:25</div>
            <div class="timeline-body"><p>You can set <code>UV_FROZEN</code>, yeah.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ddorian">@ddorian</a> on 2024-12-11 14:44</div>
            <div class="timeline-body"><p>I had an issue that option wasn&#x27;t recognized but I was using an old version. Thank You.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ddorian">@ddorian</a> on 2024-12-11 14:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:36:06 UTC
    </footer>
</body>
</html>
