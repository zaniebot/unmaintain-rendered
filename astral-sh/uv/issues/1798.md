```yaml
number: 1798
title: Cannot install prefect<1.0.0
type: issue
state: closed
author: jtanx
labels:
  - bug
assignees: []
created_at: 2024-02-21T08:59:27Z
updated_at: 2024-02-22T05:24:57Z
url: https://github.com/astral-sh/uv/issues/1798
synced_at: 2026-01-10T01:57:04Z
```

# Cannot install prefect<1.0.0

---

_Issue opened by @jtanx on 2024-02-21 08:59_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

uv version: 0.1.6
uv platform: almalinux 8/windows

```
>uv pip install "prefect<1.0.0"
error: Failed to download: prefect==0.15.13
  Caused by: Couldn't parse metadata of prefect-0.15.13-py3-none-any.whl from https://files.pythonhosted.org/packages/42/1f/ef0a4440c76848820b468f78d31f02d8b75e9bceea398df8fcef1d775713/prefect-0.15.13-py3-none-any.whl
  Caused by: after parsing 9.0.0a1, found ".0" after it, which is not part of a valid version
kubernetes (>=9.0.0a1.0) ; extra == 'all_extras'
            ^^^^^^^^^^^
```

---

_Referenced in [astral-sh/uv#1800](../../astral-sh/uv/issues/1800.md) on 2024-02-21 09:34_

---

_Label `bug` added by @konstin on 2024-02-21 10:32_

---

_Comment by @konstin on 2024-02-21 10:33_

The version is invalid, but we should probably skip those packages instead of erroring (#1800).

---

_Comment by @jtanx on 2024-02-21 10:38_

pip seems to parse that version specifier as 9.0.0a1 which does correspond to an actual version; is it just truncating the invalid part?

---

_Comment by @konstin on 2024-02-21 11:16_

Yes, pip is currently ignoring everything in a version they can't parse ("legacy version"), but they also intend to switching to ignoring those files, too.

---

_Comment by @charliermarsh on 2024-02-21 14:24_

We can add a fixup for this.

---

_Comment by @zanieb on 2024-02-21 17:00_

Oops, that's well within my tenure :)

---

_Assigned to @charliermarsh by @charliermarsh on 2024-02-21 19:33_

---

_Referenced in [astral-sh/uv#1825](../../astral-sh/uv/pulls/1825.md) on 2024-02-21 19:37_

---

_Closed by @charliermarsh on 2024-02-21 19:47_

---

_Comment by @charliermarsh on 2024-02-22 05:00_

Should be fixed in v0.1.7 (out now).

---

_Comment by @jtanx on 2024-02-22 05:24_

Nice thanks, looks good!

---
