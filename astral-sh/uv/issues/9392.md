```yaml
number: 9392
title: Add plugin support (and/or an python api)?
type: issue
state: open
author: DinhHuy2010
labels:
  - wish
  - rustlib
assignees: []
created_at: 2024-11-24T03:49:08Z
updated_at: 2025-09-11T18:39:49Z
url: https://github.com/astral-sh/uv/issues/9392
synced_at: 2026-01-10T01:57:21Z
```

# Add plugin support (and/or an python api)?

---

_Issue opened by @DinhHuy2010 on 2024-11-24 03:49_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

Could uv supports plugins written both in Python and Rust like [poetry](https://python-poetry.org/docs/plugins/)?


---

_Label `rustlib` added by @samypr100 on 2024-11-24 04:21_

---

_Label `wish` added by @zanieb on 2024-11-26 00:34_

---

_Comment by @zanieb on 2024-11-26 00:35_

Someday! But not in the short term. We have core experiences to focus on, so a plugin system is not on the roadmap yet.

---

_Comment by @ssbarnea on 2024-12-19 11:52_

I am more interested in an Python API for calling uv, `uv venv` in particular, directly from python.

---

_Comment by @DinhHuy2010 on 2024-12-22 03:16_

Hi, do you have any update?

---

_Comment by @stefanobaghino on 2025-02-14 08:50_

> Someday! But not in the short term. We have core experiences to focus on, so a plugin system is not on the roadmap yet.

@zanieb Thanks for being upfront in this regard. I would like to bring up that the product I work on (https://gradle.com/develocity/) is a build observability platform and we recently added support for the Python ecosystem in beta status. Our current support instruments the Python interpreter itself, meaning that `uv` is an area we cannot instrument directly right now, but there might be interested for this and I don't see any (clean) way we could achieve this without a plugin architecture of some sort.

I'm bringing this up not directly on behalf of the company, but simply as an individual developer with a lot of interest in `uv`, although I see a lot of interest from our current users into having this available, so I wouldn't rule out a chance to collaborate in the future, although I cannot give any specific commitment on the company's behalf at this time.

---

_Comment by @zanieb on 2025-02-14 13:15_

How is your instrumentation invoked?

---

_Comment by @stefanobaghino on 2025-02-14 13:57_

> How is your instrumentation invoked?

Using a site-specific configuration hook ([docs](https://docs.python.org/3/library/site.html)).

---

_Comment by @zanieb on 2025-02-14 15:00_

That should still work with uv when we invoke the Python interpreter, right? What are you imagining a uv plugin doing here?

---

_Comment by @stefanobaghino on 2025-02-14 16:17_

It would capture the invocations of Python when run through `uv`, yes, but there would be no way of capturing tasks performed by `uv` without invoking the Python interpreter, or if several Python invocations were orchestrated by `uv`, or giving some sort of insight into the `uv` process itself.

---

_Comment by @zanieb on 2025-02-14 17:21_

I see. What kind of insights are you trying to get into uv's behavior?

---

_Comment by @stefanobaghino on 2025-02-14 19:22_

If I show you an example it will probably give you a rough idea of the kind of observability we would like to give, luckily we support a few open source projects. I'll use an example from our instance backing the Apache Software Foundation (this dashboard in particular is for Kafka developers):
* [the timeline view](https://develocity.apache.org/s/ukai3as7ousiy/timeline) shows what tasks the tool is orchestrating, and the resource usage on the machine
* [the tests view](https://develocity.apache.org/s/ukai3as7ousiy/tests/overview) view aggregate and report tests, including information on flakiness (within the individual run if possible, and also across runs)
* we also aggregate data across build to offer [build performance](https://develocity.apache.org/scans/performance?search.timeZoneId=Europe%2FZurich) and [test metrics](https://develocity.apache.org/scans/tests?search.timeZoneId=Europe%2FZurich) dashboards (to name a couple)

(I think it's important to point out that this is not limited to CI, but can offer observability and a tool for collaboration for teams and organizations)

(sorry for sounding like I'm trying to sell something, I definitely am not, but I hope it gives you a rough idea of the kind of information we'd like to enable users to collect)

These are just a couple of examples, but in general we try to tailor the information we offer to the specific tool.

I can think of ways in which we can instrument processes in a way that does not require integrating into those (walking up the process parents to see whether uv is running and getting info from the OS is one that comes to mind), but that doesn't allow for some deeper integration into tool-specific information that users might be interested in.

I'm not asking for anything, but I hope this gives some push towards the idea of having a plugin architecture (which I do realize is _large_ undertaking, and one that you need to evaluate and design for carefully, should you ever decide it's a project you want to work on).

Anyway, very excited to see `uv` growing so much, thanks for the amazing work you are doing, the Python community is clearly enthusiastic about what you're creating. ğŸ™‡ğŸ» 

---

_Comment by @zanieb on 2025-02-14 19:24_

Thanks for the details! That's really helpful.

---

_Comment by @konstin on 2025-02-14 19:39_

In uv, we use [tracing](https://github.com/tokio-rs/tracing) for instrumentation and "observability". I've been using tracing plugins for similar views into uv (https://github.com/konstin/tracing-durations-export), a tracing export in some form could have the information you need.

---

_Comment by @stefanobaghino on 2025-02-14 19:43_

> In uv, we use [tracing](https://github.com/tokio-rs/tracing) for instrumentation and "observability". I've been using tracing plugins for similar views into uv (https://github.com/konstin/tracing-durations-export), a tracing export in some form could have the information you need.

Thanks! I'll see if there's a way we can leverage this. ğŸ™‡ğŸ» 

---

_Comment by @DinhHuy2010 on 2025-02-16 12:03_

uh, hi, what going on?

---

_Comment by @stefanobaghino on 2025-02-19 09:11_

Not much, I was giving my own reasons why I would be excited to have a plugin architecture. ğŸ™‚ 

---

_Comment by @DinhHuy2010 on 2025-02-22 16:13_

thank ğŸ‘

---

_Comment by @Steve973 on 2025-09-11 18:39_

Plugin support would be great.  What if we want to hook into various parts of the lifecycle to extend the functionality, or extend the build actions? There are many reasons why people would want to do this, and to not have to deviate from pyproject.toml, or use more than a single command, since having to script multiple actions is less than ideal.

---
