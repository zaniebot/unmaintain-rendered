<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intention of uv tool vs uv run - astral-sh/uv #15384</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Intention of uv tool vs uv run</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/15384">#15384</a>
        opened by <a href="https://github.com/wallacms">@wallacms</a>
        on 2025-08-19 21:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/wallacms">@wallacms</a> on 2025-08-19 21:44</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I'm trying to better understand the intended use case for <code>uv tool</code> vs <code>uv run</code> when it comes to external tools.  For simplicity, I'll use <code>ruff</code> as an example.  Let's say I want to configure <code>ruff</code> in my project and I put certain settings in my pyproject.toml.  Obviously, these settings are going to be specific to some lower-bound (and possibly upper-bound) version of <code>ruff</code>.  If some user downloads my project and tries to run ruff with some ancient version, it might not work or might give spurious errors.</p>
<p>I'd like to be able to specify a version bound in my pyproject.toml to say &quot;this project needs X version of ruff&quot;.  One easy way for me to do this is to declare a dependency group like &quot;dev&quot; and declare the dependency there.  However, this feels a bit at odds with the philosophy of <code>uv tool</code> because it now opens up my project to dependency conflicts from <code>ruff</code> even though in practice the two are completely separate.</p>
<p>As far as I know, there is no way to declare version constraints in my project when using <code>uv tool run</code> (aka <code>uvx</code>).  I know that for the specific case of <code>ruff</code> I can declare a required version, but this will only result in an error.  What I'd like is for <code>uv tool</code> to check the required version in my pyproject.toml, then check the tools I've installed to see if I have a compatible version and then install compatible version if not.  This kind of requires the functionality described in #6365 but it's a bit separate as well.</p>
<p>To summarize my question, is the best practice <code>uvx ruff</code> or <code>uv run ruff</code>?  If the answer is the former, how are versions supposed to be managed?  If the answer is the latter, what is the intended use case of <code>uv tool</code>?</p>
<h3>Platform</h3>
<p>all</p>
<h3>Version</h3>
<p>uv 0.6.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @wallacms on 2025-08-19 21:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-19 21:58</div>
            <div class="timeline-body"><p>The documentation at https://docs.astral.sh/uv/concepts/tools/#relationship-to-uv-run covers this a little. I think we could expand it, but we're still trying to figure out what the answer is :)</p>
<p>I think the crux of your question is discussed in https://github.com/astral-sh/uv/issues/7186, I'd recommend reading through that and the linked issues.</p>
<p>I think the best practice depends on the tool â€” is version consistency important for your project, or not? If it's important that everyone is on the same version, then you probably want to use <code>uv run</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wallacms">@wallacms</a> on 2025-08-20 13:09</div>
            <div class="timeline-body"><p>Thanks, this is helpful.  I think ultimately what I'm looking for is <code>uv tool add</code> as described in #3560.  Are there any conceptual blockers to implementing this?  It mentions PEP 735, but this is finalized now.</p>
<p>The discussion in #7186 seems to be largely centered around &quot;magic&quot; behavior and trying to guess what the user wants.  If <code>uv tool add</code> was implemented, I think this sidesteps a lot of this.  If my project explicitly declares it needs tool X at version Y, I think it's quite reasonable for <code>uv tool run</code> to always use that version.  If it doesn't, then I think the current behavior is fine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-20 13:47</div>
            <div class="timeline-body"><p>I think main the conceptual blocker to #3560 is that it was the largest point of confusion in that thread. The design space also overlaps with #5903. It's not entirely clear it's the &quot;right&quot; solution.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
