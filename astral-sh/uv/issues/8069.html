<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow running uv self update behind firewalls - astral-sh/uv #8069</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow running uv self update behind firewalls</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8069">#8069</a>
        opened by <a href="https://github.com/gaborbernat">@gaborbernat</a>
        on 2024-10-10 04:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gaborbernat">@gaborbernat</a></div>
            <div class="timeline-body"><p>So there&#x27;s an implicit feature within the installation script that allows moving the standalone installer behind the firewall too, <code>ARTIFACT_DOWNLOAD_URL</code> can be configured via INSTALLER_DOWNLOAD_URL environment variable, so something like:</p>
<pre><code>curl -LsSf https://magic.com/uv/uv-installer.sh | env INSTALLER_DOWNLOAD_URL=https://magic.com/uv sh
</code></pre>
<p>This will work assuming you mirror the GitHub release to <code>https://magic.com/uv</code>. This is great!</p>
<p>Now the problem is that self update is not so smart, would it be appetite to change https://github.com/astral-sh/uv/blob/main/crates/uv/src/commands/self_update.rs. So when the <code>INSTALLER_DOWNLOAD_URL</code> environment is set, instead of reaching out to GitHub, it would download the update from within that HTTP host. We can come up with some kind of version file there so that it can pull the latest version from there too.</p>
<p>If we agree, this is something I can contribute. ðŸ˜Š</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2024-10-10 05:00</div>
            <div class="timeline-body"><p>We should also codify that <code>INSTALLER_DOWNLOAD_URL</code> is a supported feature and not just an implementation detail, ðŸ˜Š while we&#x27;re at it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">releases</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-10 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2024-10-24 14:52</div>
            <div class="timeline-body"><p>Contributed this feature upstream, <a href="https://github.com/axodotdev/axoupdater/pull/199">axodotdev/axoupdater#199</a>. Should be available within their next release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2025-02-12 17:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2025-02-12 17:09</div>
            <div class="timeline-body"><p>This is now possible and done.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:34:38 UTC
    </footer>
</body>
</html>
