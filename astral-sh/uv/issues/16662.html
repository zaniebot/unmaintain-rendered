<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>better describe 403 error on console - astral-sh/uv #16662</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>better describe 403 error on console</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16662">#16662</a>
        opened by <a href="https://github.com/gpongelli">@gpongelli</a>
        on 2025-11-10 09:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gpongelli">@gpongelli</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi,
I was working with uv and a private index on JFrog Artifactory, due to permission error on JFrog I always receive a 403 reporting only the link that uv was not able to download, without a clear message of what's the issue.</p>
<p>Then I've tried to follow the link using the same username and password via browser and I received a clearer error message from Artifactory, that uv completely missed to report into console log:</p>
<pre><code class="language-json">{
  &quot;errors&quot;: [
    {
      &quot;status&quot;: 403,
      &quot;message&quot;: &quot;Rejected artifact download request: User &lt;jfrog-user&gt; is not permitted to deploy '0f/e7/aa315e6a749d9b96c2504a1ba0ba031ba2d0517e972ce22682e3fccecb09/cssselect2-0.8.0-py3-none-any.whl' into '&lt;artifactory-cache-repo&gt;:0f/e7/aa315e6a749d9b96c2504a1ba0ba031ba2d0517e972ce22682e3fccecb09/cssselect2-0.8.0-py3-none-any.whl'.&quot;
    }
  ]
}
</code></pre>
<p>Is it possible to forward the message field to the console that's calling uv ?
the 403 error from that json is forwarded, but the reason does not; if it could be reported let people solve their issue faster.</p>
<p>thanks.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @gpongelli on 2025-11-10 09:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-11-10 10:38</div>
            <div class="timeline-body"><p>What does uv currently show in the CLI? Is the output different with <code>-v</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gpongelli">@gpongelli</a> on 2025-11-10 11:25</div>
            <div class="timeline-body"><p>no, <code>-v</code> output is the same as without it and does not report any information.</p>
<p>the above json was obtained after login into Artifactory using the link that uv put as output.</p>
<p>ps
my uv version is <code>uv 0.8.15 (8473ecba1 2025-09-03)</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-11-10 11:28</div>
            <div class="timeline-body"><p>What does uv show in the console log, can you copy and share the output? I also recommend updating to the latest version, the uv error output improves consistently.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gpongelli">@gpongelli</a> on 2025-11-10 16:56</div>
            <div class="timeline-body"><p>just upgraded uv to <code>uv 0.9.8 (85c5d3228 2025-11-07)</code> , reverting JFrog permission to have error situation, the error log with <code>uv lock -v</code> is</p>
<pre><code>  x No solution found when resolving dependencies:
  `-&gt; Because icecream was not found in the package registry and python-scripts:dev depends on icecream&gt;=2.1.7, we can conclude that python-scripts:dev's requirements are unsatisfiable.
      And because your project requires python-scripts:dev, we can conclude that your project's requirements are unsatisfiable.
</code></pre>
<p>meanwhile the error with <code>uv sync -v</code> is :</p>
<pre><code>  x Failed to download `ruff==0.14.4`
  |-&gt; Failed to fetch: `https://&lt;internal-url&gt;/artifactory/api/pypi/&lt;repository&gt;/packages/packages/bc/22/e58c43e641145a2b670328fb98bc384e20679b5774258b1e540207580266/ruff-0.14.4-py3-none-win_amd64.whl`
  `-&gt; HTTP status client error (403 Forbidden) for url
      (https://&lt;internal-url&gt;/artifactory/api/pypi/&lt;repository&gt;/packages/packages/bc/22/e58c43e641145a2b670328fb98bc384e20679b5774258b1e540207580266/ruff-0.14.4-py3-none-win_amd64.whl)
  help: `ruff` (v0.14.4) was included because `python-scripts:dev` (v0.1.0) depends on `ruff`
</code></pre>
<p>trying to access to that whl url <code>https://&lt;internal-url&gt;/artifactory/api/pypi/&lt;repository&gt;/packages/packages/bc/22/e58c43e641145a2b670328fb98bc384e20679b5774258b1e540207580266/ruff-0.14.4-py3-none-win_amd64.whl</code> with web browser gives me the following json (similar to the one in description above):</p>
<pre><code class="language-json">{
  &quot;errors&quot; : [ {
    &quot;status&quot; : 403,
    &quot;message&quot; : &quot;Rejected artifact download request: User &lt;jfrog-user&gt; is not permitted to deploy 'bc/22/e58c43e641145a2b670328fb98bc384e20679b5774258b1e540207580266/ruff-0.14.4-py3-none-win_amd64.whl' into '&lt;artifactory-cache-repo&gt;:bc/22/e58c43e641145a2b670328fb98bc384e20679b5774258b1e540207580266/ruff-0.14.4-py3-none-win_amd64.whl'.&quot;
  } ]
}
</code></pre>
<p>so having the errors message text into console could help solve this kind of error faster.</p>
<p>obviously setting the permission correctly in JFrog let this error disappear.</p>
<p>thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @konstin on 2025-11-10 18:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:25 UTC
    </footer>
</body>
</html>
