<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv self update` should support `--dry-run` - astral-sh/uv #9828</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv self update` should support `--dry-run`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/9828">#9828</a>
        opened by <a href="https://github.com/jmknoble">@jmknoble</a>
        on 2024-12-12 00:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jmknoble">@jmknoble</a> on 2024-12-12 00:04</div>
            <div class="timeline-body"><p>I want <code>uv</code> to tell me whether it thinks it needs an update, before I actually tell it to update.</p>
<p>The most straightforward pattern for this would seem to be supporting <code>--dry-run</code> (which <code>uv lock</code> already supports).  <code>uv self update</code> doen't currently support that:</p>
<pre><code>$ uv --version
uv 0.5.7 (3ca155ddd 2024-12-06)
$ uv self update --dry-run
error: unexpected argument '--dry-run' found

  tip: to pass '--dry-run' as a value, use '-- --dry-run'

Usage: uv self update [OPTIONS] [TARGET_VERSION]

For more information, try '--help'.
$ uv --dry-run self update
error: unexpected argument '--dry-run' found

Usage: uv [OPTIONS] &lt;COMMAND&gt;

For more information, try '--help'.
$ 
</code></pre>
<p>Possible alternatives:</p>
<ul>
<li><code>uv self list-updates</code> (clunky?)</li>
<li><code>uv self update list</code> (ripe for human error)</li>
<li><code>uv self update --list</code> (ditto)</li>
<li><code>uv self list</code> (better, more like <code>uv python list</code>, may need <code>uv self install</code> too? (and maybe <code>uv python update</code> should be a command as well?))</li>
<li><code>uv self versions</code> (different name, same action as <code>uv self list</code>, no real precedent though)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-12-12 00:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-12 00:18</div>
            <div class="timeline-body"><p>Makes sense, I honestly thought this existed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-12 01:24</div>
            <div class="timeline-body"><p>I started looking into this. Unfortunately <code>fetch_release</code> is not public (https://github.com/axodotdev/axoupdater/blob/1ce5efa7b73e16437bc757c6ca21963ddf18fc45/axoupdater/src/release/mod.rs#L91) and <code>is_update_needed</code> only returns a <code>bool</code> (https://github.com/axodotdev/axoupdater/blob/1ce5efa7b73e16437bc757c6ca21963ddf18fc45/axoupdater/src/lib.rs#L302) so we can't say what version we'll update to. But... better than nothing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9829.html">astral-sh/uv#9829</a> on 2024-12-12 01:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/14194.html">astral-sh/uv#14194</a> on 2025-06-21 22:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:24 UTC
    </footer>
</body>
</html>
