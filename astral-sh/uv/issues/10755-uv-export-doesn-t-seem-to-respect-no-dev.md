---
number: 10755
title: "uv export doesn't seem to respect --no-dev"
type: issue
state: closed
author: dodumosu
labels:
  - needs-mre
assignees: []
created_at: 2025-01-19T17:19:41Z
updated_at: 2025-01-20T13:32:29Z
url: https://github.com/astral-sh/uv/issues/10755
synced_at: 2026-01-10T01:24:57Z
---

# uv export doesn't seem to respect --no-dev

---

_Issue opened by @dodumosu on 2025-01-19 17:19_

thanks for all the hard work on this. i have a project using this, and i added ipython to my dev dependencies to make shell work with async a bit more easy. i have a pre-commit hook with uv export set up, and i noticed that ipython was included in the exported requirements.txt. here's the set up for uv in my pre-commit configuration:

```yaml
-   repo: https://github.com/astral-sh/uv-pre-commit
    rev: 0.5.8
    hooks:
    -   id: uv-lock
    -   id: uv-export
        args: ["--no-dev"]
```

---

_Comment by @charliermarsh on 2025-01-19 17:36_

Thanks. We would need a complete reproduction to help you here, including the `pyproject.toml` and the commands you're running to produce this.

---

_Label `needs-mre` added by @charliermarsh on 2025-01-20 03:38_

---

_Comment by @znicholls on 2025-01-20 09:29_

(Chiming in out of nowhere, I thought I had a related issue but I think it's different because I could not reproduce this with the MRE below)

uv version: uv 0.5.11 (c4d0caaee 2024-12-19)
operating system: MacOS M2 chip

<details><summary>`pyproject.toml`</summary>
<p>

```toml
# pyproject.toml
[project]
name = "mwe"
version = "0.1.0"
description = "Minimal working example to demonstrate resolving issue"
authors = [
    { name = "Zebedee Nicholls", email = "zebedee.nicholls@climate-energy-college.org" },
]
requires-python = ">=3.9"
dependencies = [ ]

[dependency-groups]
docs = [
    "ipython>=8.18.1",
]
```

</p>
</details> 

<details><summary>Command output</summary>
<p>

This seems fine?

```sh
$ uv export --no-dev
Using CPython 3.13.1 interpreter at: /opt/homebrew/opt/python@3.13/bin/python3.13
Resolved 20 packages in 0.62ms
# This file was autogenerated by uv via the following command:
#    uv export --no-dev
```

</p>
</details> 


---

_Referenced in [astral-sh/uv#10774](../../astral-sh/uv/issues/10774.md) on 2025-01-20 09:34_

---

_Comment by @dodumosu on 2025-01-20 09:50_

It seems to have been a misconfiguration. When I added *both* --no-dev and
--output-file to the pre-commit set up, it worked properly.

On Mon, Jan 20, 2025, 10:29 AM Zeb Nicholls ***@***.***>
wrote:

> (Chiming in out of nowhere, I thought I had a related issue but I think
> it's different because I could not reproduce this with the MRE below)
>
> uv version: uv 0.5.11 (c4d0caa
> <https://github.com/astral-sh/uv/commit/c4d0caaee5edc21319760b739f013287ef4853c2>
> 2024-12-19)
> operating system: MacOS M2 chip
> `pyproject.toml`
>
> # pyproject.toml
> [project]name = "mwe"version = "0.1.0"description = "Minimal working example to demonstrate resolving issue"authors = [
>     { name = "Zebedee Nicholls", email = ***@***.***" },
> ]requires-python = ">=3.9"dependencies = [ ]
>
> [dependency-groups]docs = [
>     "ipython>=8.18.1",
> ]
>
> Command output
>
> This seems fine?
>
> $ uv export --no-dev
> Using CPython 3.13.1 interpreter at: ***@***.***/bin/python3.13
> Resolved 20 packages in 0.62ms# This file was autogenerated by uv via the following command:#    uv export --no-dev
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/astral-sh/uv/issues/10755#issuecomment-2601873831>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAKX5FQOHZKGKPGLI7ILKP32LS6YZAVCNFSM6AAAAABVO4PN2KVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMBRHA3TGOBTGE>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
>


---

_Closed by @charliermarsh on 2025-01-20 13:32_

---
