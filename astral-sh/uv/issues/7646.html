<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>is it possible to add a source directory to a project? - astral-sh/uv #7646</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>is it possible to add a source directory to a project?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7646">#7646</a>
        opened by <a href="https://github.com/ophiry">@ophiry</a>
        on 2024-09-23 17:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ophiry">@ophiry</a> on 2024-09-23 17:09</div>
            <div class="timeline-body"><p>I want to add either the projects source directory - expecting it to be added to sys.path of the venv</p>
<p>similar to the effect of pip install -e .</p>
<p>my assumption was that uv add -editable . would do this, but it doesn't seem to work</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-23 19:47</div>
            <div class="timeline-body"><p>It sounds like you want to enable a <a href="https://docs.astral.sh/uv/concepts/projects/#build-systems">build system</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-09-23 19:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ophiry">@ophiry</a> on 2024-09-24 12:56</div>
            <div class="timeline-body"><p>for future use, adding the lines:</p>
<pre><code>[tool.uv]
package = true

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-24 13:02</div>
            <div class="timeline-body"><p>Yep!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-09-24 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ophiry">@ophiry</a> on 2024-09-24 14:44</div>
            <div class="timeline-body"><p>follow up:
is it possible to add an external directory (in this case - the parent directory)?</p>
<p>the use case is a monorepo with several different apps
they are basically standalone applications, but the internal imports rely on fully qualified names based on the repo root directory</p>
<p>for example:</p>
<pre><code>a/main.py
a/lib/somelib.py
b/main.py
b/lib/somelib.py

</code></pre>
<p>where a/main.py has:
<code>import a.lib.somelib</code>
a and b have different dependencies, so relying on a single pyproject.toml file will be problematic</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NicholasPini">@NicholasPini</a> on 2024-11-27 12:49</div>
            <div class="timeline-body"><blockquote>
<p>follow up: is it possible to add an external directory (in this case - the parent directory)?</p>
<p>the use case is a monorepo with several different apps they are basically standalone applications, but the internal imports rely on fully qualified names based on the repo root directory</p>
<p>for example:</p>
<pre><code>a/main.py
a/lib/somelib.py
b/main.py
b/lib/somelib.py
</code></pre>
<p>where a/main.py has: <code>import a.lib.somelib</code> a and b have different dependencies, so relying on a single pyproject.toml file will be problematic</p>
</blockquote>
<p>I would also like to know if something like this is possible. I can add an external package using <code>uv add</code>, but it's a bit annoying that despite appearing in the toml file, this local package is not in <code>syspath</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/flipbit03">@flipbit03</a> on 2025-03-30 12:35</div>
            <div class="timeline-body"><p>@NicholasPini</p>
<p>I believe you might be able to get by with something like this</p>
<pre><code class="language-toml">[tool.setuptools]
py-modules = [&quot;&lt;main_package&gt;&quot;, &quot;&lt;your&gt;&quot;, &quot;&lt;other&gt;&quot;, &quot;&lt;packages&gt;&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ezyang">@ezyang</a> on 2025-04-12 14:21</div>
            <div class="timeline-body"><p>Sorry, adding a comment here because this is the top result for &quot;uv add directory use source directly&quot;. In my case, I wanted to add a local directory to a uv project as a dependency using its source code directly,  for a case where I needed to temporarily vendor a dependency. <code>uv add --editable --reinstall-package PATH/TO/PACKAGE</code> is probably what you want here (don't forget the editable!)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:54 UTC
    </footer>
</body>
</html>
