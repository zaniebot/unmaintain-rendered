<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>unexpected items in sdist - astral-sh/uv #10771</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>unexpected items in sdist</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10771">#10771</a>
        opened by <a href="https://github.com/cjw296">@cjw296</a>
        on 2025-01-20 07:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/cjw296">@cjw296</a> on 2025-01-20 07:26</div>
            <div class="timeline-body"><p>I created <a href="https://pypi.org/project/paradigms/0.0.0.dev0/#paradigms-0.0.0.dev0.tar.gz">this distribution</a> from <a href="https://github.com/simplistix/paradigms/commit/27be6c6dade87f71a9722ea160d90b5bb23a63dd">this commit.</a> and have found it contains some expected content:</p>
<pre><code class="language-bash">$ tar -tzf dist/paradigms-0.0.0.dev0.tar.gz 
paradigms-0.0.0.dev0/.python-version
paradigms-0.0.0.dev0/uv.lock
paradigms-0.0.0.dev0/.idea/.gitignore
paradigms-0.0.0.dev0/.idea/encodings.xml
paradigms-0.0.0.dev0/.idea/misc.xml
paradigms-0.0.0.dev0/.idea/modules.xml
paradigms-0.0.0.dev0/.idea/paradigms.iml
paradigms-0.0.0.dev0/.idea/vcs.xml
paradigms-0.0.0.dev0/.idea/workspace.xml
paradigms-0.0.0.dev0/.idea/inspectionProfiles/Project_Default.xml
paradigms-0.0.0.dev0/.idea/inspectionProfiles/profiles_settings.xml
paradigms-0.0.0.dev0/src/paradigms/__init__.py
paradigms-0.0.0.dev0/src/paradigms/py.typed
paradigms-0.0.0.dev0/.gitignore
paradigms-0.0.0.dev0/.hgignore
paradigms-0.0.0.dev0/README.md
paradigms-0.0.0.dev0/pyproject.toml
paradigms-0.0.0.dev0/PKG-INFO
</code></pre>
<p>Where would that <code>.hgignore</code> have come from? I don't have such a file in the project, if I did it would have from <code>uv init --lib</code>, but I don't think that lays down such a file?</p>
<p>The <code>.idea</code> directory shouldn't be there, I have it excluded from git in a user-wide <code>.gitignore</code>:</p>
<pre><code class="language-bash">$ cat ~/.gitignore 
.#*
.DS_Store
*.pyc
*.tgz
*.tar.gz
.idea
/.Python
/bin
/include
/lib
</code></pre>
<p>Why is it being included?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-01-20 08:46</div>
            <div class="timeline-body"><p>https://github.com/simplistix/paradigms/blob/8f96ce34eaefd5258897f9047f9670435db3fad5/pyproject.toml#L12-L14</p>
<pre><code class="language-toml">[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;
</code></pre>
<p>I don't think it's a UV issue; I think it's a <code>hatchling</code> problem.</p>
<blockquote>
<p>By default, Hatch will respect the first .gitignore or .hgignore file found in your project's root directory or parent directories.</p>
</blockquote>
<p>Ref: https://hatch.pypa.io/latest/config/build/#vcs
Ref: https://github.com/pypa/hatch/issues/304</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">upstream</span> added by @konstin on 2025-01-20 08:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-01-20 14:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cjw296">@cjw296</a> on 2025-01-21 09:22</div>
            <div class="timeline-body"><p>Thanks! Is that likely to be the source of the mysterious <code>.hgignore</code> too? I've never used mercurial on the above machine, so pretty mystified!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-21 14:13</div>
            <div class="timeline-body"><p>I think so? We don't have any references to <code>.hgignore</code> in our codebase, so it doesn't <em>seem</em> like uv would do that.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:32:58 UTC
    </footer>
</body>
</html>
