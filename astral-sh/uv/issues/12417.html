<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adding Secondary Importable Directory To A Project - astral-sh/uv #12417</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Adding Secondary Importable Directory To A Project</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12417">#12417</a>
        opened by <a href="https://github.com/AyhamSaffar">@AyhamSaffar</a>
        on 2025-03-24 01:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AyhamSaffar">@AyhamSaffar</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>Is it possible to be able to import from the project directory as well as the package directory when using the <a href="https://docs.astral.sh/uv/concepts/projects/init/#packaged-applications">uv package structure</a>?</p>
<p>The use case looks something like this:</p>
<pre><code>project_directory
├── src
│   └── package
│      ├── __init__.py
│      └── file.py
├── tests
│   └── integration_tests
│      └── test_package.py
│   └── unit_tests
│      └── test_file.py
│   └── pytest_fixtures.py
└── pyproject.toml
</code></pre>
<p>Where I have the following in my <code>pyproject.toml</code>:</p>
<pre><code>[tool.hatch.build.targets.wheel]
packages = [&quot;src/package&quot;]
</code></pre>
<p>I would ideally like to be able to include the following in both <code>test_package.py</code> and <code>test_file.py</code>:</p>
<pre><code class="language-python">import package
from tests.pytest_fixtures import *
</code></pre>
<p>Previously, I had a flat source directory which allowed this.</p>
<pre><code>project_directory
├── package
│   ├── __init__.py
│   └── file.py
...
</code></pre>
<p>With the following in the <code>__init__.py</code></p>
<pre><code class="language-python">from .file import my_dict
</code></pre>
<p>However MyPy and Ruff didn't seem to respect the  <code>__init__.py</code> when I tried the following in <code>test_file.py</code>:</p>
<pre><code class="language-python">import package
package.my_dict
</code></pre>
<p>I would assume that on some level, the <code>package</code> directory is not seen as a Python library with this non-standard directory structure.</p>
<p>Unfortunately, relative imports like <code>from ..pytest_fixtures import *</code> dont seem to be a solution either as turning <code>tests</code> into a python module is tricky.</p>
<p>Any help would be really useful!</p>
<h3>Platform</h3>
<p>Linux 5.15.167.4-microsoft-standard-WSL2 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.5.13</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @AyhamSaffar on 2025-03-24 01:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-24 02:21</div>
            <div class="timeline-body"><p>This seems loosely the same as https://github.com/pytest-dev/pytest/issues/8964 — this isn't something uv controls right now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AyhamSaffar">@AyhamSaffar</a> on 2025-03-25 02:39</div>
            <div class="timeline-body"><p>Turns out pytest has the <a href="https://docs.pytest.org/en/stable/reference/fixtures.html#conftest-py-sharing-fixtures-across-multiple-files">conftest</a> workaround that solves this. Thanks for the help anyway.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AyhamSaffar on 2025-03-25 02:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:35 UTC
    </footer>
</body>
</html>
