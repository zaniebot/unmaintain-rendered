<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv sync does not switch from editable to plain install when run with --no-sources - astral-sh/uv #15190</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv sync does not switch from editable to plain install when run with --no-sources</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15190">#15190</a>
        opened by <a href="https://github.com/per11235813">@per11235813</a>
        on 2025-08-09 13:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/per11235813">@per11235813</a></div>
            <div class="timeline-body">Summary
<p>First of all, thanks for <code>uv</code>. The tool is just awesome, but I do have a problem with the <code>--no-source</code> option</p>
<p>Using the pyproject.toml below</p>
<ul>
<li>Running <code>uv sync --no-sources</code><ul>
<li><code>poethepoet</code> is installed as a package. Perfect</li>
</ul>
</li>
<li>Then run <code>uv sync</code><ul>
<li><code>poethepoet</code> is added as editable instaed of a package. Perfect</li>
</ul>
</li>
<li>Then run <code>uv sync --no-sources</code> again<ul>
<li>No change are made</li>
<li><code>poethepoet</code> is still editable, whihc is not so good.</li>
<li>I would expect re-running <code>uv sync --no-sources</code> would install <code>poethepoet</code> i as a package instead of editable, so that running <code>uv sync --no-sources</code> would allways give the same result.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code>$ uv sync --no-sources  # installed as package ✅
 + pastel==0.2.1
 + poethepoet==0.35.0
 + pyyaml==6.0.2
 + test-no-sources==0.0.1 (from file:///D:/repo/psje/test-no-sources)

$ uv sync               # installed as editable ✅
 - poethepoet==0.35.0
 + poethepoet==0.35.0 (from file:///D:/repo/psje/poethepoet)

$ uv sync --no-sources  # no changes made ❌
$
</code></pre>
<p>Pyproject.toml:</p>
<pre><code>[project]
name = &quot;test_no_sources&quot;
version = &quot;0.0.1&quot;

dependencies = [&quot;poethepoet&quot;]

[tool.uv.sources]
poethepoet = { path=&quot;../poethepoet&quot;, editable=true }

[build-system]
requires = [&quot;setuptools&gt;=67&quot;]
build-backend = &quot;setuptools.build_meta&quot;
</code></pre>
Platform
<p>Win 11; MINGW64_NT-10.0-22631 3.6.3-7674c51e.x86_64 x86_64 Msys</p>
Version
<p>uv 0.8.8 (9a54754b0 2025-08-08)</p>
Python version
<p>3.12.10 (also tested on 3.10)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/per11235813">@per11235813</a> on 2025-08-09 13:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-09 14:52</div>
            <div class="timeline-body"><p>Interesting, I can reproduce. Sounds like a bug indeed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-14 02:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-27 21:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/per11235813">@per11235813</a> on 2025-09-29 05:28</div>
            <div class="timeline-body"><p>Thanks a lot, <code>uv</code> is fantastic!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:39:56 UTC
    </footer>
</body>
</html>
