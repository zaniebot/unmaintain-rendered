<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using pip downloaded wheel files as uv cache  - astral-sh/uv #7296</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Using pip downloaded wheel files as uv cache</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/7296">#7296</a>
        opened by <a href="https://github.com/daler-rahimov">@daler-rahimov</a>
        on 2024-09-11 15:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/daler-rahimov">@daler-rahimov</a></div>
            <div class="timeline-body"><p>I'm trying to use existing wheel files in <code>uv sync</code>, but I'm not able to. Here is a situation I have: I'm on a machine with a very slow internet connection, and I'm trying to limit data usage as much as possible. There are existing wheel files downloaded with <code>pip download --dest [path-to-pip-cache] ...</code> that I want <code>uv</code> to check before it goes to PyPi.</p>
<p>Here is the only way I found that almost accomplishes this:</p>
<pre><code class="language-bash">pip3.9 download --dest [path-to-pip-cache] .
uv sync --cache-dir [uv-cache-path] --find-links [path-to-pip-cache] --no-index
</code></pre>
<p>If I don't include <code>--no-index</code>, <code>uv</code> is actually downloading everything from PyPi, and with <code>--no-index</code>, I have to make sure all the packages are downloaded to <code>[path-to-pip-cache]</code> with pip, which is slow. Also, <code>uv</code> has to change <code>uv.lock</code> and point to the local file system for all packages:</p>
<pre><code class="language-bash">...
[[package]]
name = &quot;alembic&quot;
version = &quot;1.4.3&quot;
source = { registry = &quot;../../opt/package-cache/pip&quot; }
dependencies = [
    { name = &quot;mako&quot;, marker = &quot;python_full_version == '3.9.20'&quot; },
    { name = &quot;python-dateutil&quot;, marker = &quot;python_full_version == '3.9.20'&quot; },
    { name = &quot;python-editor&quot;, marker = &quot;python_full_version == '3.9.20'&quot; },
    { name = &quot;sqlalchemy&quot;, marker = &quot;python_full_version == '3.9.20'&quot; },
]
wheels = [
    { path = &quot;alembic-1.4.3-py2.py3-none-any.whl&quot; },
]
...
</code></pre>
<p>I tried to find out if <code>uv</code> caches downloaded packages somewhere so I can just copy mine there, but it looks like <code>uv</code> only stores installed/unzipped packages in its cache directory. I'm not sure if this is a missing feature or if there is some fundamental issue with storing and reusing downloaded wheel files.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lmmx">@lmmx</a> on 2024-09-12 09:22</div>
            <div class="timeline-body"><p>Relates to #3163</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vadimkantorov">@vadimkantorov</a> on 2025-09-04 04:49</div>
            <div class="timeline-body"><p>Supporting a variant of caching with only whl files is also important because it better allows storing the cache at a slow network drive (useful for sharing between lab machines). Wheels extracted to thousands of small files are not very friendly to network drives: keeping compressed whl files in cache might be a good option for this usecase (and simultaneously, this variant would become compatible with pip cache)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:03 UTC
    </footer>
</body>
</html>
