<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Question] Are platform-agnostic lockfiles on the roadmap? - astral-sh/uv #3321</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Question] Are platform-agnostic lockfiles on the roadmap?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3321">#3321</a>
        opened by <a href="https://github.com/Turakar">@Turakar</a>
        on 2024-04-30 12:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Turakar">@Turakar</a> on 2024-04-30 12:17</div>
            <div class="timeline-body"><p>The uv README discusses the fact that uv generates platform-specific lockfiles, while other tools like PDM and poetry generate platform-agnostic lockfiles. While uv is able to generate cross-platform lockfiles, the question remains: Does uv plan to at some point be able to create platform-agnostic lockfiles?</p>
<p>At the moment, one would need to manage multiple lockfiles for a cross-platform project. This might be tedious and lead to inconsistencies. However, a unified lockfile might require conditionals, so I think that there is a tradeoff here.</p>
<p>I am interested in your opinions on that topic. Please link instances where this issue has been discussed previously.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-04-30 12:44</div>
            <div class="timeline-body"><p>Yes, we are planning to do this. The <a href="https://astral.sh/blog/uv#a-cargo-for-python-uv-and-rye">blog post announcing <code>uv</code> sketches our high level vision</a>. I don't think we've discussed platform-agnostic lock files publicly in any open issues yet because it's still in the very early design phase. But we're looking to tools like Cargo and Poetry for inspiration.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-04-30 12:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @BurntSushi on 2024-04-30 12:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adminy">@adminy</a> on 2024-05-02 15:21</div>
            <div class="timeline-body"><p>would you support poetry lock files? Its a well defined format and if its already present, why not just use it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-05-02 15:30</div>
            <div class="timeline-body"><p>We don't have any plans to support Poetry lock files. As I understand it, Poetry needs to do a second resolution in order to install from the lock file (using the lock file as its &quot;universe&quot;). We're trying to avoid that, and I do believe it will require additional metadata to be in the lock file to accomplish that goal.</p>
<p>But more practically speaking, I don't think Poetry's lock file is well defined? I'm not aware of a spec for it. And we've generally avoided trying to read the config files of other tools. (A lock file isn't the same as a config file, but if the definition of Poetry's lock file is &quot;whatever Poetry implements,&quot; then it likely has a similar set of problems as reading other tools' config files. See #1404 for more discussion on that point.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adminy">@adminy</a> on 2024-05-02 16:07</div>
            <div class="timeline-body"><p>So the only feature that I care about from poetry is the ability to define different packages inside project.toml file. and install just the ones needed per use case. To some extent that is now possible with pip as a builtin now. If uv supports that I'm happy to just switch away from poetry, lock files aside.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-07-08 21:31</div>
            <div class="timeline-body"><p>I had the same question which was answered here: https://github.com/astral-sh/uv/issues/3347</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:26 UTC
    </footer>
</body>
</html>
