<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic shell completions - astral-sh/uv #15325</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Dynamic shell completions</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15325">#15325</a>
        opened by <a href="https://github.com/andrewaylett">@andrewaylett</a>
        on 2025-08-16 14:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/andrewaylett">@andrewaylett</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>As a user of <code>uv</code>, I would like my shell to be able to auto-complete dynamic parameters.</p>
<p>For context, see #8432 -- users are looking to autocomplete filenames as parameters to <code>uv run</code>, but we often want to complete a project script name, or an installed tool, and the collection of tools that will be available varies between projects so it's not possible to statically list the available completions at shell start-up.</p>
<p>As an extreme example, <code>jj</code> uses fully-dynamic autocomplete -- so the entire fish completion script is:</p>
<pre><code>complete -k --exclusive jj -a '(COMPLETE=fish jj -- (commandline --current-process --tokenize --cut-at-cursor) (commandline --current-token))'
</code></pre>
<p>This means jj can generate completions appropriate for the current operation and status, so if I type <code>jj log -r &lt;tab&gt;</code> then it'll give me a list of all current revisions, like so:</p>
<pre><code>&gt; COMPLETE=fish jj -- jj log -r &quot;&quot;
main    Update pre-commit hook renovatebot/pre-commit-hooks to v41.74.2 (#853)
push-xylttmtspktr       A smidge of tidying of remark stuff
&lt;snip lots of other revisions&gt;
</code></pre>
<p>It would be <em>really nice</em> if <code>uv</code> could do something similar, enabling features along the lines of auto-completing <code>uv run &lt;tab&gt;</code> giving you a selection of the different commands available in the project, or even <code>uv run poe &lt;tab&gt;</code> giving you the completions you'd get from activating the venv and completing <code>poe &lt;tab&gt;</code>.</p>
<h3>Example</h3>
<p>A user has more useful autocompletions, for example:</p>
<pre><code>&gt; uv run &lt;tab&gt;
poe pre-commit pytest ruff
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @andrewaylett on 2025-08-16 14:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/GideonBear">@GideonBear</a> on 2026-01-07 09:59</div>
            <div class="timeline-body"><p><code>uv tool uninstall</code> and <code>uv tool upgrade</code> completing installed tools would be nice as well</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:37 UTC
    </footer>
</body>
</html>
