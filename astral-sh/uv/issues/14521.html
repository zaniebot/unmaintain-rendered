<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Issue: ```uv run``` consistently switches Python version to system default, recreating venv - astral-sh/uv #14521</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Issue: ```uv run``` consistently switches Python version to system default, recreating venv</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/14521">#14521</a>
        opened by <a href="https://github.com/Muhammad-Saad-2">@Muhammad-Saad-2</a>
        on 2025-07-09 14:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Muhammad-Saad-2">@Muhammad-Saad-2</a> on 2025-07-09 14:49</div>
            <div class="timeline-body"><h3>Problem Description</h3>
<p>When attempting to execute a Python script using <code>uv run</code> within an already activated virtual environment, <code>uv run</code> exhibits highly unexpected and disruptive behavior which eventually leads my code to crash  since one of the packages known <code>browser-use</code> only supports <code>pyhton 3.11</code> and above, Anyways, Instead of utilizing the Python interpreter from the active virtual environment, it consistently reverts to the system's default Python interpreter on my machine<code>Python 3.10.12</code> on<code> Ubuntu 22.04 -jammy-jellyfish</code> and so does on my friend's machine who has <code>Ubuntu 24.04 - Noble Numbat</code> which eventually worked since <code>Ubuntu 24.04</code> comes with <code>python 3.12</code> interpreter Furthermore, during this process, <code>uv run</code> appears to actively remove and then immediately recreate the virtual environment. This problematic behavior occurs even when the virtual environment was explicitly created with a specific, different Python version <code>Python 3.13.5 </code>in my case and has been confirmed to be properly activated and correctly configured in the shell.</p>
<p>Though running it directly with <code>python main.py</code> does works but it negates some of the convenience and potential performance benefits <code>uv run</code> is designed to offer, but once you try to run it with <code>uv run</code> the python version that you created the <code>venv</code> with  would be overridden with the machine's default python and you would have to create a virtual environment with an updated python version again and again</p>
<p>The selection below from my terminal would be enough to explain the issue in the most simplest way as possible, you can clearly read  <code>Removed virtual environment at: .venv</code> in the terminal few lines down, let me know if this is just the common behavior.</p>
<pre><code>muhammad-saad@muhammadsaad-ThinkPad-T440:~/work/projects/doc_reader$ uv venv --python 3.13 .venv
Using CPython 3.13.5 interpreter at: /usr/bin/python3.13
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
muhammad-saad@muhammadsaad-ThinkPad-T440:~/work/projects/doc_reader$ source .venv/bin/activate
(.venv) muhammad-saad@muhammadsaad-ThinkPad-T440:~/work/projects/doc_reader$ python --version
Python 3.13.5
(.venv) muhammad-saad@muhammadsaad-ThinkPad-T440:~/work/projects/doc_reader$ uv pip install browser-use --quiet
(.venv) muhammad-saad@muhammadsaad-ThinkPad-T440:~/work/projects/doc_reader$ uv run main.py
Using CPython 3.10.12 interpreter at: /usr/bin/python3.10
Removed virtual environment at: .venv
Creating virtual environment at: .venv
Traceback (most recent call last):
  File &quot;/home/muhammad-saad/work/projects/doc_reader/main.py&quot;, line 1, in &lt;module&gt;
    from browser_use.llm import ChatGoogle
ModuleNotFoundError: No module named 'browser_use'
(.venv) muhammad-saad@muhammadsaad-ThinkPad-T440:~/work/projects/doc_reader$ 

</code></pre>
<h3>Platform</h3>
<p>Ubuntu 22.04 arm64 - jammy-jellyfish</p>
<h3>Version</h3>
<p>uv 0.6.11</p>
<h3>Python version</h3>
<p>3.13.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Muhammad-Saad-2 on 2025-07-09 14:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-09 15:07</div>
            <div class="timeline-body"><p>Does your project have a <code>.python-version</code> pin? (you could view it with <code>uv python pin</code>)</p>
<p>If so, that will be an implicit request to <code>uv run</code> and it will create a new environment with that version if necessary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-07-09 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-07-09 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Muhammad-Saad-2 on 2025-07-09 15:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:04 UTC
    </footer>
</body>
</html>
