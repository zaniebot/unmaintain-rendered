<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv run pytest` vs `pytest` - astral-sh/uv #11489</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv run pytest` vs `pytest`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/11489">#11489</a>
        opened by <a href="https://github.com/oliverangelil">@oliverangelil</a>
        on 2025-02-13 19:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/oliverangelil">@oliverangelil</a> on 2025-02-13 19:31</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I've created a venv called &quot;myenv&quot; and activated it with <code>source myenv/bin/activate</code></p>
<p>I then install dependencies listed in <code>pyproject.toml</code> with <code>uv pip install -e .</code></p>
<p><code>uv pip list</code> gives:</p>
<blockquote>
<p>Using Python 3.12.0 environment at: myenv
Package           Version Editable project location</p>
<hr />
<p>aims-mlops        0.1.0   /workspaces/AIMS_course
iniconfig         2.0.0
nodeenv           1.9.1
numpy             2.2.2
packaging         24.2
pluggy            1.5.0
pyright           1.1.393
pytest            8.3.4
ruff              0.9.5
scipy             1.15.1
typing-extensions 4.12.2</p>
</blockquote>
<p>I want to run unit tests next.
Running <code>pytest</code> runs them as expected; running <code>uv run pytest</code> created a new env <code>.venv</code> and installs all packages in there, and then runs pytest...</p>
<p>What is <code>uv run pytest</code> doing? When would I want to execute <code>uv run pytest</code> instead of <code>pytest</code>?</p>
<h3>Platform</h3>
<p>OS: Ubuntu 22.04.5 LTS</p>
<h3>Version</h3>
<p>0.5.31</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @oliverangelil on 2025-02-13 19:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-13 19:35</div>
            <div class="timeline-body"><p><code>uv run</code> is part of our &quot;project interface&quot; â€” it manages environments for you. In contrast, <code>uv pip</code> is the low-level interface for manual environment management.</p>
<p>Both are fine, just different levels of abstraction.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/oliverangelil">@oliverangelil</a> on 2025-02-13 19:43</div>
            <div class="timeline-body"><p>Thanks - how can I then run <code>uv run pytest</code> without it creating a new .venv? I want it to run within the currently activated <code>myenv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-13 19:47</div>
            <div class="timeline-body"><p>The more you embrace the project workflow, the better your experience will be. I suggest using <code>.venv</code> as facilitated by uv. The generally philosophy here is that if you embrace the project workflow, things will &quot;just work&quot;, and you don't have to worry about low-level operations like creating a virtual environment or installing a specific dependency. Another way to think about it: if you use <code>uv run</code>, you shouldn't ever need to create the environment yourself.</p>
<p>If you want to reuse the active environment, though, you can pass the <code>--active</code> flag to <code>uv run</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/oliverangelil">@oliverangelil</a> on 2025-02-13 21:24</div>
            <div class="timeline-body"><p>Ok thanks.</p>
<p>Note that I still find the difference between <code>pytest</code> and <code>uv run pytest</code> confusing. The latter is for when <code>pytest</code> is not yet installed, no?</p>
<p>Do you have a recommended approach to take for uv users?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-13 21:27</div>
            <div class="timeline-body"><p>The latter will always ensure <code>pytest</code> is installed. If the environment is up-to-date, we won't install it again. This avoids needing to concern yourself about whether or not the environment is ready or not.</p>
<p>The recommendation is to use <code>uv run</code> unless you're in an overhead sensitive context.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @oliverangelil on 2025-02-13 23:00</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
