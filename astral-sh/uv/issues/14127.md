```yaml
number: 14127
title: Workspaces and interdependent packages?
type: issue
state: open
author: tamis-laan
labels:
  - question
assignees: []
created_at: 2025-06-18T12:30:25Z
updated_at: 2025-06-18T14:23:32Z
url: https://github.com/astral-sh/uv/issues/14127
synced_at: 2026-01-10T01:57:32Z
```

# Workspaces and interdependent packages?

---

_Issue opened by @tamis-laan on 2025-06-18 12:30_

### Question

My setup is a little different from:
https://docs.astral.sh/uv/concepts/projects/workspaces/
My repo roughly looks as followed:

```
├── modules
│   ├── config
│   │   ├── README.md
│   │   ├── __init__.py
│   │   └── pyproject.toml
├── pyproject.toml
├── services
│   └── api
│       ├── pyproject.toml
│       └── src
└── uv.lock
```

Now what I want to do is use the config module from inside my api service.

`/pyproject.toml`
```
[project]
name = "MyProject"

[tool.uv.workspace]
	members = ["services/*", "modules/*"]

[tool.uv.sources]
	api = { workspace = true }
	config = { workspace = true }
```

`/services/api/pyproject.toml`
```
[project]
name = "api"
[project]
	dependencies = [ "config" ]
[tool.setuptools]
	package-dir = {"" = "src"}

[tool.setuptools.packages.find]
	where = ["src"]

[tool.uv.sources]
config = { workspace = true }
```

`/modules/config/pyproject.toml`
```
[project]
name = "config"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = [ ... ]
```


But this doesn't work I can't `import config` from within my api code. What am I doing wrong? What would be the correct way of doing this?

### Platform

osx

### Version

_No response_

---

_Label `question` added by @tamis-laan on 2025-06-18 12:30_

---

_Comment by @konstin on 2025-06-18 14:23_

For `import config` to work, you should use a package structure for the `config` project too, e.g. with `src/config/__init__.py` and define a build backend in `config`'s `pyproject.toml`. Currently, it is considered a virtual package and not installed. For an importable package, the `__init__.py` should be in a directory below the `pyproject.toml`, not in the same directory.

---
