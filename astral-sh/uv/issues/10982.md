```yaml
number: 10982
title: "uv workspace doesn't include files in members's include key"
type: issue
state: closed
author: ClementWalter
labels:
  - needs-mre
assignees: []
created_at: 2025-01-27T10:47:13Z
updated_at: 2025-02-06T22:19:29Z
url: https://github.com/astral-sh/uv/issues/10982
synced_at: 2026-01-10T01:57:25Z
```

# uv workspace doesn't include files in members's include key

---

_Issue opened by @ClementWalter on 2025-01-27 10:47_

### Summary

## What

When a workspace member uses the `include` directive in its `pyproject.toml` file, these files are actually not available because `uv` only creates a `*.dist-info` folder in the `site-packages` directory.

This consequently doesn't put the included files (in my case non python files) in the expected location in the `site-packages/<package_name>/*`.

As a matter of fact, just doing a simple `pip install <workspace member path>` at the root of the project actually adds the file.

This is kinda blocking for me now. As I'm not an expert of python packaging, I don't know how to solve this best though.

### Platform

Darwin 23.6.0 arm64

### Version

uv 0.5.9 (0652800cb 2024-12-13)

### Python version

Python 3.10.15

---

_Label `bug` added by @ClementWalter on 2025-01-27 10:47_

---

_Comment by @charliermarsh on 2025-01-27 14:02_

Sorry, I don't fully understand the issue you're describing. I would need a minimal reproduction (e.g., a sample Git repo with commands I can run) to reproduce. Note, though, that `include` is not a uv concept.

---

_Label `bug` removed by @charliermarsh on 2025-01-27 14:02_

---

_Label `needs-mre` added by @charliermarsh on 2025-01-27 14:02_

---

_Comment by @ClementWalter on 2025-01-27 18:13_

See https://github.com/ClementWalter/uv-workspace-include

thanks

---

_Comment by @charliermarsh on 2025-01-28 00:12_

Hm -- I don't see any difference:

```
❯ cd uv-workspace-include

❯ python -m venv .venv

❯ source .venv/bin/activate

❯ pip install python/member-a
Processing ./python/member-a
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Building wheels for collected packages: member-a
  Building wheel for member-a (pyproject.toml) ... done
  Created wheel for member-a: filename=member_a-0.1.0-py3-none-any.whl size=1227 sha256=aa273ac33907b40c67161ce3a03c9c9e5f602b18c62735a3b5cd78b5cb7b6086
  Stored in directory: /Users/crmarsh/Library/Caches/pip/wheels/c8/32/1a/e7d84e2ad1e2f73e2b1caef816c1f54b8e16448398a2dc4bff
Successfully built member-a
Installing collected packages: member-a
Successfully installed member-a-0.1.0

[notice] A new release of pip is available: 23.2.1 -> 25.0
[notice] To update, run: pip install --upgrade pip

❯ python hello.py
Hello from uv-workspace-mwe!
Hello from member-a!
Traceback (most recent call last):
  File "/Users/crmarsh/workspace/puffin/uv-workspace-include/hello.py", line 13, in <module>
    main()
  File "/Users/crmarsh/workspace/puffin/uv-workspace-include/hello.py", line 9, in main
    print(Path(".venv/lib/python3.10/site-packages/member_a/dummy_file_a.txt").read_text())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py", line 1058, in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py", line 1044, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '.venv/lib/python3.10/site-packages/member_a/dummy_file_a.txt'
```


---

_Comment by @ClementWalter on 2025-01-28 03:18_

uhmm, not where it breaks but see these screenshot this is really what I do.

<img width="1091" alt="Image" src="https://github.com/user-attachments/assets/ab81f95d-3fd7-4eb1-9f78-0835f3126fc5" />

<img width="616" alt="Image" src="https://github.com/user-attachments/assets/9c985753-8609-4c59-af60-0de174fe6452" />

<img width="684" alt="Image" src="https://github.com/user-attachments/assets/f63fa2af-2a52-43a4-a745-909243cbf871" />

---

_Comment by @konstin on 2025-01-28 14:46_

By default, uv performs an editable installation, where it only links the files (`_member_a.pth`), so when you edit files in your repo and run your code, the code uses the updated files without a reinstall. If you need to read files from a package, i recommend [`importlib.resources`](https://docs.python.org/3/library/importlib.resources.html).

---

_Closed by @ClementWalter on 2025-02-06 22:19_

---
