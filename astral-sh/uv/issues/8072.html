<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pyenv and UV virtualenv directories coexistence  - astral-sh/uv #8072</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Pyenv and UV virtualenv directories coexistence</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8072">#8072</a>
        opened by <a href="https://github.com/WSF-SEO-AM">@WSF-SEO-AM</a>
        on 2024-10-10 06:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/WSF-SEO-AM">@WSF-SEO-AM</a> on 2024-10-10 06:30</div>
            <div class="timeline-body"><p>I've a couple of projects of mine that have been started with pyenv only.. I'm now attracted by the idea of using UV as a factotum, but I'm unsure whether the existing pyenv virtual environment can be designated as a location for UV too.</p>
<p>See below a preliminary attempt of setting the environment path:</p>
<ul>
<li>name of pyenv local, the python executable was correctly set, but project based .venv directory and site packages was created</li>
<li>path of the global shim, no .venv as far as I've seen, but a /bin/bin and a bin/lib were created. Unable to understand how to activate the UV at that point, unsure whether site packages works have been dispatched</li>
<li>grabbed the full venvs path generated by pyenv. Locations were just fine as much as I can say, but how one can activate the UV environment was not clear</li>
</ul>
<p>Is this concurrent setup something for which support should be expected, or UV is meant to run only on its own?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WSF-SEO-AM">@WSF-SEO-AM</a> on 2024-10-12 08:36</div>
            <div class="timeline-body"><p>So, it seems like this co-existince is possible so long that pyenv creates the virtual environment and the uv venv is not used, rather the environment is activated and deactivated via pyenv itself.
By doing this it is possible to leverage on uv managing the pyproject.toml file as well as the pip command and it's increased speed.</p>
<p>The only problem is that the management of the pyproject file stick to the uv creating its own .venv directory. And this to me is something that could be improved.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-12 14:30</div>
            <div class="timeline-body"><p>Hi! Did you see the <a href="https://docs.astral.sh/uv/concepts/projects/#configuring-the-project-environment-path"><code>UV_PROJECT_ENVIRONMENT</code></a> setting?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-10-12 14:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WSF-SEO-AM">@WSF-SEO-AM</a> on 2024-10-12 14:36</div>
            <div class="timeline-body"><p>Nope. I'm currently discovering the bits and bobs. Can you suggest how this is used?
Is it a one off when the venv is invoked for the first time?
Or, like the TLS setting one, it has to be specified all the times?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-12 14:41</div>
            <div class="timeline-body"><p>It has to be specified at all times. In your case, I'd set it up so it automatically changes per directory, e.g., with <code>direnv</code> or as a variable in the <code>pyenv</code> environment?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WSF-SEO-AM">@WSF-SEO-AM</a> on 2024-10-12 14:46</div>
            <div class="timeline-body"><p>So that I understand ... all the times I invoke a source venv activate? Do I need to specify it there all the times?
Is any place where I can hardcode the path on a per project basis?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WSF-SEO-AM">@WSF-SEO-AM</a> on 2024-11-15 08:52</div>
            <div class="timeline-body"><p>@zanieb sorry to chase. Can u please help me here providing more guidance on how to setup uv with a conf file if necessary that specify a variable it can read without the need to make very much complicate command lines?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eepstein">@eepstein</a> on 2025-06-02 04:23</div>
            <div class="timeline-body"><p>check out https://direnv.net/  you add a single completion script to your shell's rc file and then can add a .envrc file to any directory and when you're in that directory the .envrc can set env vars including by sourcing a .venv/bin/activate file, etc. or by just setting the env var in the .envrc file.  Another option would be to edit the pyenv-virtualenv activate file in the virtualenv's bin folder.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-07-31 12:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:44 UTC
    </footer>
</body>
</html>
