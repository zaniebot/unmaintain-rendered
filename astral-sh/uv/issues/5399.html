<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv not installing build dependencies - astral-sh/uv #5399</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv not installing build dependencies</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/5399">#5399</a>
        opened by <a href="https://github.com/EdvardsZ">@EdvardsZ</a>
        on 2024-07-24 09:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/EdvardsZ">@EdvardsZ</a> on 2024-07-24 09:14</div>
            <div class="timeline-body"><ul>
<li>A minimal code snippet that reproduces the bug :
<code>uv pip install git+https://github.com/nerfstudio-project/gsplat</code></li>
</ul>
<pre><code>  File &quot;&lt;string&gt;&quot;, line 152, in &lt;module&gt;
  File &quot;&lt;string&gt;&quot;, line 33, in get_extensions
ModuleNotFoundError: No module named 'torch'
---
  Caused by: This error likely indicates that git+https://github.com/nerfstudio-project/gsplat depends on torch, but doesn't declare it as a build dependency. If git+https://github.com/nerfstudio-project/gsplat is a first-party package, consider adding torch to its `build-system.requires`. Otherwise, `uv pip install torch` into the environment and re-run with `--no-build-isolation`.
</code></pre>
<ul>
<li>However when using pip with <code>pip install git+https://github.com/nerfstudio-project/gsplat</code>
Everything installs correctly!</li>
</ul>
<p>Ofcourse when I install torch and use --no-build-isolation then uv installs it as well.</p>
<p>I think that uv fails to install build dependencies from setup.py (install-requires).</p>
<p>I am python build tool newbie, it could be that I am somehow mistaken</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-07-24 09:18</div>
            <div class="timeline-body"><p>This is another case of #2252. The difference between pip and uv is intentional, closing this since <code>--no-build-isolation</code> solves this for your case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-07-24 09:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../prefix-dev/pixi/issues/1666.html">prefix-dev/pixi#1666</a> on 2024-07-24 09:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:31 UTC
    </footer>
</body>
</html>
