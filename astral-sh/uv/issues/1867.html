<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`cache clean` -&gt; `cache clear` - astral-sh/uv #1867</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>cache clean</code> -&gt; <code>cache clear</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1867">#1867</a>
        opened by <a href="https://github.com/nschloe">@nschloe</a>
        on 2024-02-22 14:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nschloe">@nschloe</a></div>
            <div class="timeline-body"><p>I believe the syntax</p>
<pre><code>uv cache clean
</code></pre>
<p>is a bit misleading. This command doesn't <em>clean</em> the cache (tidy it up), but <em>clears</em> it (remove completely). It should be</p>
<pre><code>uv cache clear
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-22 14:13</div>
            <div class="timeline-body"><p>We probably used &quot;clean&quot; because of <a href="https://doc.rust-lang.org/cargo/commands/cargo-clean.html">the <code>cargo clean</code> command</a>, but I agree <code>clear</code> feels like it maybe makes more sense from first principles! (And Python devs won't necessarily be familiar with cargo)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-22 14:15</div>
            <div class="timeline-body"><p>Yarn and npm also use “clean”.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-22 14:27</div>
            <div class="timeline-body"><p>Precedents from some of the other Python packaging tools:</p>
<ul>
<li><code>poetry</code> has a <code>poetry cache clear</code> command: https://python-poetry.org/docs/master/cli/#cache-clear</li>
<li><code>pdm</code> has a <code>pdm cache clear</code> command: https://pdm-project.org/latest/reference/cli/#clear</li>
<li><code>hatch</code> has a <code>hatch clean</code> command, but it removes all build artifacts (so does something a little different to what our <code>cache clean</code> command does, IIUC): https://hatch.pypa.io/1.9/cli/reference/#hatch-clean</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-02-22 14:29</div>
            <div class="timeline-body"><p>It may be worth considering what we want the command to be in the long term and the brute force deleting (it does tidy it up ;)) is just the implementation behavior for now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nschloe">@nschloe</a> on 2024-02-22 14:29</div>
            <div class="timeline-body"><p>Perhaps it makes sense to add a <code>clear</code> alias for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-22 14:36</div>
            <div class="timeline-body"><p>I think <code>clean</code> makes enough sense that we don't need to bikeshed alternatives. I'd prefer not to introduce aliases unless there's a strong motivation (i.e. we do this in <code>uv pip</code> when we've chosen a different name than <code>pip</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wontfix</span> added by @zanieb on 2024-02-22 14:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-02-22 14:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-02-22 16:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:57 UTC
    </footer>
</body>
</html>
