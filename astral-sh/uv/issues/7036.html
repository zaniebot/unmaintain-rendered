<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Can't use tkinter with new venv set up with uv - astral-sh/uv #7036</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Can't use tkinter with new venv set up with uv</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7036">#7036</a>
        opened by <a href="https://github.com/dstansby">@dstansby</a>
        on 2024-09-04 17:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dstansby">@dstansby</a></div>
            <div class="timeline-body"><hr />
<p>(Maintainer edit)</p>
<p><strong>NOTE</strong> If you are still affected by this, try reinstalling the managed Python interpreter</p>
<pre><code>python install --reinstall ...
</code></pre>
<hr />
<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<pre><code>uv venv
source .venv/bin/activate
python -c &quot;from tkinter import Tk; window = Tk()&quot; 
</code></pre>
<p>This gives me the error message:</p>
<pre><code>Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;/Users/dstansby/.local/share/uv/python/cpython-3.12.5-macos-aarch64-none/lib/python3.12/tkinter/__init__.py&quot;, line 2346, in __init__
    self.tk = _tkinter.create(screenName, baseName, className, interactive, wantobjects, useTk, sync, use)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_tkinter.TclError: Can't find a usable init.tcl in the following directories: 
    /tools/deps/lib/tcl8.6 /Users/dstansby/.venv/lib/tcl8.6 /Users/dstansby/lib/tcl8.6 /Users/dstansby/.venv/library /Users/dstansby/library /Users/dstansby/tcl8.6.12/library /Users/tcl8.6.12/library



This probably means that Tcl wasn't installed properly.
</code></pre>
<p>I can successfully run <code>python -c &quot;from tkinter import Tk; window = Tk()&quot;</code> in a fresh <code>conda</code> environment, but when I install python on conda it also installs <code>tk</code>,  so maybe that's why it works? Maybe this isn't an issue with <code>uv</code>?, but if anyone knows how to get this working I'd be very gateful!</p>
<p>uv 0.4.4 (Homebrew 2024-09-04)
macOS</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-04 17:18</div>
            <div class="timeline-body"><p>This is a python-build-standalone quirk: https://gregoryszorc.com/docs/python-build-standalone/main/quirks.html#tcl-tk-support-files</p>
<p>We might need to set the variable as described there. ü§î</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2024-09-04 19:17</div>
            <div class="timeline-body"><p>For the record, rye did this https://github.com/astral-sh/rye/pull/233</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-04 23:31</div>
            <div class="timeline-body"><p>I'm not opposed to doing a similar thing here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-09-04 23:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @charliermarsh on 2024-09-04 23:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mraesener-aubex">@mraesener-aubex</a> on 2024-09-09 07:08</div>
            <div class="timeline-body"><p>to maybe point others to a workaround, all you'd need to do is to export an env variable called TCL_LIBRARY pointing to the correct tcl directory.
to figure the correct one out, I did the following:</p>
<p>ATTENTION: this assumes that your .venv is based on the default python available to uv and also that tcl is at version 8.6, so keep that in mind</p>
<pre><code class="language-bash">#!/bin/bash

# Get the Python path
PYTHON_PATH=$(cd ~ &amp;&amp; uv run which python)

# Extract the base path
BASE_PATH=$(dirname &quot;$(dirname &quot;$PYTHON_PATH&quot;)&quot;)

# Construct the TCL_LIBRARY path
TCL_LIBRARY=&quot;$BASE_PATH/lib/tcl8.6&quot;

# Set the environment variable
export TCL_LIBRARY

# Print the set variable (for verification)
echo &quot;TCL_LIBRARY has been set to: $TCL_LIBRARY&quot;
</code></pre>
<p>for comfort I've then just put the var in my .env file which gets automatically loaded by .envrc (direnv) - which btw would totally be an appealing feature for uv to replicate :P</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-10-16 07:24</div>
            <div class="timeline-body"><p>The quirks page says</p>
<blockquote>
<p>Distributions produced from this project contain tcl/tk support files</p>
</blockquote>
<p>However,</p>
<pre><code>$ uv --version
uv 0.4.22
$ uv venv -p 3.9
Using CPython 3.9.19
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate.fish
$ find .venv -name &quot;*tcl*&quot;
$ # ?
</code></pre>
<p>What am I doing wrong?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/emcek">@emcek</a> on 2024-10-16 08:18</div>
            <div class="timeline-body"><blockquote>
<p>$ find .venv -name &quot;<em>tcl</em>&quot;
$ # ?</p>
<pre><code>
What am I doing wrong?
Those are in **python** installation directory not in **virtualenv**, I'm not next to linux box but under windows:
</code></pre>
</blockquote>
<pre><code class="language-console">(venvflon) PS C:\Users\mplichta\Projects\venvflon&gt; uv python list          
cpython-3.13.0-windows-x86_64-none     C:\Users\mplichta\AppData\Roaming\uv\python\cpython-3.13.0-windows-x86_64-none\python.exe
cpython-3.12.7-windows-x86_64-none     &lt;download available&gt;
</code></pre>
<p>So, path would be: <code>C:\Users\mplichta\AppData\Roaming\uv\python\cpython-3.13.0-windows-x86_64-none\tcl\tcl8.6</code></p>
<p>As workaroud you can use <strong>tkinker</strong> like:</p>
<pre><code class="language-python">from os import environ
from pathlib import Path
from sys import base_prefix

environ[&quot;TCL_LIBRARY&quot;] = str(Path(base_prefix) / &quot;tcl&quot; / &quot;tcl8.6&quot;)
environ[&quot;TK_LIBRARY&quot;] = str(Path(base_prefix) / &quot;tcl&quot; / &quot;tk8.6&quot;)
import tkinter as tk
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-10-16 10:12</div>
            <div class="timeline-body"><p>Oh I understand now. On macOS they're under <code>~/.local/share/uv/python/cpython-*-macos-aarch64-none/lib/tcl8.6</code> üëçüèº</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/giolucasd">@giolucasd</a> on 2024-10-17 19:16</div>
            <div class="timeline-body"><p>This is an important issue for me and my employers. I'm currently using the workaround suggeted above.
I'm a CS major with 5 years of SWE xp in python, but no xp in rust yet. Learning rust is a current goal of mine.
Would you consider this a good first issue for me or at least one that I could get along? If so, any special precautions?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-17 19:56</div>
            <div class="timeline-body"><p>It'd be a stretch to say it's a good first issue, there's a lot of nuance to the possible solutions and I would have to do quite a bit of research to even understand what the trade-offs are. I think the first best step is to understand Rye's approach and if there are any alternatives. If it's the most compelling approach still, we should be able to port it over without too much difficulty.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harrylaulau">@harrylaulau</a> on 2024-10-18 07:02</div>
            <div class="timeline-body"><p>Since most people expect to use Tkinter that comes with the python, I guess including <code>TCL_LIBRARY</code> and <code>TK_LIBRARY</code> env path pointing to where uv installed python as @emcek described would be a good default solution? The uv can provide some override mechanism, like allowing use to specify custom path to these two environment variable in the <code>.python_version</code> file or maybe some other files? This way TCL should always work by default.</p>
<p>I tried @emcek method on Mac and the result is successful</p>
<pre><code class="language-python">from os import environ
from pathlib import Path
from sys import base_prefix

environ[&quot;TCL_LIBRARY&quot;] = str(Path(base_prefix) / &quot;lib&quot; / &quot;tcl8.6&quot;)
environ[&quot;TK_LIBRARY&quot;] = str(Path(base_prefix) / &quot;lib&quot; / &quot;tk8.6&quot;)

print(environ[&quot;TCL_LIBRARY&quot;])
print(environ[&quot;TK_LIBRARY&quot;])

from tkinter import *
from tkinter import ttk
root = Tk()
frm = ttk.Frame(root, padding=10)
frm.grid()
ttk.Label(frm, text=&quot;Hello World!&quot;).grid(column=0, row=0)
ttk.Button(frm, text=&quot;Quit&quot;, command=root.destroy).grid(column=1, row=0)
root.mainloop()
</code></pre>
<p>However I have changed the path of <code>TCL_LIBRARY</code> and <code>TK_LIBRARY</code> a bit as for mac its &quot;lib&quot; instead of &quot;tcl&quot;, as pointed out by @astrojuanlu</p>
<p>Maybe uv can populate the two environmental variable by default?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sonotley">@sonotley</a> on 2024-10-27 19:26</div>
            <div class="timeline-body"><p>So... expanding on the workaround so it works on all platforms, doesn't clobber existing env vars, might work with tk 8.7+, and doesn't bother doing anything if tk is actually working already (given that just because you used uv to write your library there's no guarantee it will be run using the standalone Python builds that uv uses)... we have something like this.</p>
<pre><code class="language-python">import tkinter
from os import environ
from pathlib import Path
from sys import base_prefix
import platform

if not (&quot;TCL_LIBRARY&quot; in environ and &quot;TK_LIBRARY&quot; in environ):
    try:
        tkinter.Tk()
    except tkinter.TclError:
        tk_dir = &quot;tcl&quot; if platform.system() == &quot;Windows&quot; else &quot;lib&quot;
        tk_path = Path(base_prefix) / tk_dir
        environ[&quot;TCL_LIBRARY&quot;] = str(next(tk_path.glob(&quot;tcl8.*&quot;)))
        environ[&quot;TK_LIBRARY&quot;] = str(next(tk_path.glob(&quot;tk8.*&quot;)))

def main():
    tk = tkinter.Tk()
    tk.mainloop()


if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sonotley">@sonotley</a> on 2024-11-08 20:38</div>
            <div class="timeline-body"><p>Hmmm... my workaround above fixes tk, but when I try to use the tkagg backend for matplotlib things get broken again. I'll do some more investigation.</p>
<p><code>   from . import _tkagg ImportError: initialization failed</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harrylaulau">@harrylaulau</a> on 2024-11-09 16:17</div>
            <div class="timeline-body"><blockquote>
<p>Hmmm... my workaround above fixes tk, but when I try to use the tkagg backend for matplotlib things get broken again. I'll do some more investigation.</p>
<p><code> from . import _tkagg ImportError: initialization failed</code></p>
</blockquote>
<p>This issue is mentioned in #6893</p>
<p>Seems like Tkinter is just unusable for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 03:00</div>
            <div class="timeline-body"><p>Broadly, we have two options:</p>
<ol>
<li>Add a <code>.pth</code> file, like in Rye, to set these environment variables.</li>
<li>Patch CPython to set these if not set (in <code>python-build-standalone</code>) -- something like:</li>
</ol>
<pre><code class="language-diff">--- a/Lib/tkinter/__init__.py
+++ b/Lib/tkinter/__init__.py
@@ -54,6 +54,14 @@
 _magic_re = re.compile(r'([\\{}])')
 _space_re = re.compile(r'([\s])', re.ASCII)

+# Facilitate discovery of the Tcl/Tk libraries.
+import os
+
+if 'TCL_LIBRARY' not in os.environ:
+    os.environ['TCL_LIBRARY'] = sys.base_prefix + '/tcl/tcl' + _tkinter.TCL_VERSION
+if 'TK_LIBRARY' not in os.environ:
+    os.environ['TK_LIBRARY'] = sys.base_prefix + '/tcl/tk' + _tkinter.TK_VERSION
+

 def _join(value):
     &quot;&quot;&quot;Internal function.&quot;&quot;&quot;
</code></pre>
<p>The advantage of (1) is that it's slightly easier, doesn't require us to maintain a patch, and could be disabled in <code>uv venv</code> (like, we could have a flag to avoid creating it).</p>
<p>The advantage of (2) is that we'll only set those variables when <code>tkinter</code> is imported, and we won't have to add a <code>.pth</code> file to the environment, which may confuse users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-12-15 03:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mraesener-aubex">@mraesener-aubex</a> on 2024-12-15 08:21</div>
            <div class="timeline-body"><p>I'd say having a .pth file is the &quot;better&quot; approach of the two in terms of best practices and style etc. so that's what I'd gravitate to...</p>
<p>but, thinking of ease of use especially for beginners and the &quot;uv just works&quot; experience there's probably no way around patching.</p>
<p>Is it possible to get a list of similar or identical use case? Is this a tkinter speciality because of the UI nature of it or would this affect lots of other builtins, too?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-15 17:05</div>
            <div class="timeline-body"><p>I have a minor preference for the upstream patch, I think? There are consumers other than uv.</p>
<p>Perhaps a dumb question, but why do we need to set an environment variable? How does this work in the standard distributions?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 17:58</div>
            <div class="timeline-body"><p>I'm not totally certain why this works in other Pythons (e.g., Framework Python distributions).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 18:11</div>
            <div class="timeline-body"><p>So for the Framework Python at least, the paths appear to get compiled in to the binary:</p>
<pre><code>‚ùØ otool -L /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/lib-dynload/_tkinter.cpython-312-darwin.so
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/lib-dynload/_tkinter.cpython-312-darwin.so (architecture x86_64):
	/Library/Frameworks/Python.framework/Versions/3.12/lib/libtcl8.6.dylib (compatibility version 8.6.0, current version 8.6.15)
	/Library/Frameworks/Python.framework/Versions/3.12/lib/libtk8.6.dylib (compatibility version 8.6.0, current version 8.6.15)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1311.0.0)
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/lib-dynload/_tkinter.cpython-312-darwin.so (architecture arm64):
	/Library/Frameworks/Python.framework/Versions/3.12/lib/libtcl8.6.dylib (compatibility version 8.6.0, current version 8.6.15)
	/Library/Frameworks/Python.framework/Versions/3.12/lib/libtk8.6.dylib (compatibility version 8.6.0, current version 8.6.15)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1311.0.0)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 18:29</div>
            <div class="timeline-body"><p>(I'll see if we can do something similar.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 18:51</div>
            <div class="timeline-body"><p>I think another thing we could do is symlink those files into <code>.venv/lib</code>, since tkl does look there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mraesener-aubex">@mraesener-aubex</a> on 2024-12-15 19:06</div>
            <div class="timeline-body"><p>So if a fresh venv gets created the tcl dependencies are &quot;copied&quot; (symlinked) from somewhere else to the <code>.venv/lib</code> dir, or did I get this wrong?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 23:03</div>
            <div class="timeline-body"><p>Ok, I have a patch that is working well here: https://github.com/indygreg/python-build-standalone/pull/421. It avoids all the disadvantages, at the cost of requiring us to maintain a CPython C patch.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/domfellner">@domfellner</a> on 2024-12-17 11:57</div>
            <div class="timeline-body"><p>Thank you for looking into this an resolving it! As a user of uv I wonder when this patch will be available? Will I need to wait for new Python patch releases like 3.10.17? or can force uv to use an archive from a specific standalone release, marked by its date?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-17 20:44</div>
            <div class="timeline-body"><p>It'll be available following a <code>python-build-standalone</code> release, then a uv release ‚Äî probably relatively soon.</p>
<p>We don't support using arbitrary archives yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-20 00:28</div>
            <div class="timeline-body"><p>I just released this in https://github.com/astral-sh/uv/releases/tag/0.5.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-20 01:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-12-20 15:00</div>
            <div class="timeline-body"><p>For the record, this won't work out of the box with Python versions that were already downloaded.</p>
<pre><code>‚ùØ uv self update
...
‚ùØ uv --version
uv 0.5.11 (c4d0caaee 2024-12-19)
‚ùØ uv venv -p 3.10
Using CPython 3.10.14
...
‚ùØ uv pip install foxdot
...
‚ùØ uv run python -m FoxDot
_tkinter.TclError: Can't find a usable init.tcl in the following directories: 
    /tools/deps/lib/tcl8.6 /Users/juan_cano/Projects/Personal/Music/.venv/lib/tcl8.6 /Users/juan_cano/Projects/Personal/Music/lib/tcl8.6 /Users/juan_cano/Projects/Personal/Music/.venv/library /Users/juan_cano/Projects/Personal/Music/library /Users/juan_cano/Projects/Personal/Music/tcl8.6.12/library /Users/juan_cano/Projects/Personal/tcl8.6.12/library

This probably means that Tcl wasn't installed properly.
</code></pre>
<p>But it does work with newly installed versions!</p>
<pre><code>‚ùØ uv python install 3.10.16
Installed Python 3.10.16 in 13.09s
 + cpython-3.10.16-macos-aarch64-none
‚ùØ uv venv -p 3.10.16
Using CPython 3.10.16
...
‚ùØ # Now everything works!
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-20 15:59</div>
            <div class="timeline-body"><p>You can <code>uv python install --reinstall &lt;version&gt;</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Satge96">@Satge96</a> on 2025-02-17 07:15</div>
            <div class="timeline-body"><p>I use uv 0.5.30 and updated all the python installs. Still i get the following error:
from tkinter import Variable, StringVar, IntVar, DoubleVar, BooleanVar
ImportError: cannot import name 'Variable' from 'tkinter' (unknown location)</p>
<p>Is this related?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sanjeev-bhandari">@sanjeev-bhandari</a> on 2025-05-12 05:28</div>
            <div class="timeline-body"><p>Has this issue been resolved, or do we still need to rely on the https://github.com/astral-sh/uv/issues/7036#issuecomment-2440145724?</p>
<p>It's quite frustrating, especially since I rely on multiple Python versions ‚Äî which is one of the main reasons I chose to use uv ‚Äî and this error keeps appearing when I try to use matplotlib.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2025-05-12 06:05</div>
            <div class="timeline-body"><p>I think this is still an issue, but not in uv https://github.com/astral-sh/python-build-standalone/issues/146</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spierepf">@spierepf</a> on 2025-05-17 11:53</div>
            <div class="timeline-body"><p>This issue is closed. Is there a fix? I just tried this on Ubuntu, and python cannot find tkinter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Liquidmasl">@Liquidmasl</a> on 2025-05-19 14:18</div>
            <div class="timeline-body"><p>I am sorry guys i read this up and down x times now and scoured google, and i still dont know what i have todo to get tkinter to work with uv...
can someone help me out here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-19 14:19</div>
            <div class="timeline-body"><p>Did you try reinstalling the managed python versions?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Liquidmasl">@Liquidmasl</a> on 2025-05-19 14:19</div>
            <div class="timeline-body"><blockquote>
<p>Did you try reinstalling the managed python versions?</p>
</blockquote>
<p>wow, that was fast!
I reinstalled the version i am currently using and then resynched my venv so
<code>python install --reinstall 3.12 </code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DeflateAwning">@DeflateAwning</a> on 2025-06-11 17:01</div>
            <div class="timeline-body"><p>To anyone stumbling on this in the future, the process that worked for my team is:</p>
<ol>
<li>Delete your <code>.venv</code> folder</li>
<li>Run <code>uv python install --reinstall &lt;version&gt;</code> (e.g., <code>uv python install --reinstall 3.10</code>)</li>
<li>Re-create the virtual environment: <code>.venv</code> (with <code>uv venv</code>)</li>
</ol>
<p>To test:</p>
<ol>
<li>Activate the virtual environment: <code>source .venv/bin/activate</code></li>
<li>Run <code>python -m tkinter</code></li>
<li>You should see a basic Tk popup window.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/myarcana">@myarcana</a> on 2025-09-23 09:21</div>
            <div class="timeline-body"><blockquote>
<p>To anyone stumbling on this in the future, the process that worked for my team is:</p>
<ol>
<li>Delete your <code>.venv</code> folder</li>
<li>Run <code>uv python install --reinstall &lt;version&gt;</code> (e.g., <code>uv python install --reinstall 3.10</code>)</li>
<li>Re-create the virtual environment: <code>.venv</code></li>
</ol>
<p>To test:</p>
<ol>
<li>Activate the virtual environment: <code>source .venv/bin/activate</code></li>
<li>Run <code>python -m tkinter</code></li>
<li>You should see a basic Tk popup window.</li>
</ol>
</blockquote>
<p>I did exactly this but it didn't work for me:</p>
<pre><code>% uv --version
uv 0.8.20 (Homebrew 2025-09-22)
% uv run python --version
Python 3.11.6
% uv python install --reinstall 3.11.6 
Installed Python 3.11.6 in 7.47s
 ~ cpython-3.11.6-macos-aarch64-none (python3.11)
% uv venv
Using CPython 3.11.6
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
% source .venv/bin/activate
(tkinter-test) % python -m tkinter
Traceback (most recent call last):
  File &quot;&lt;frozen runpy&gt;&quot;, line 198, in _run_module_as_main
  File &quot;&lt;frozen runpy&gt;&quot;, line 88, in _run_code
  File &quot;/Users/me/.local/share/uv/python/cpython-3.11.6-macos-aarch64-none/lib/python3.11/tkinter/__main__.py&quot;, line 7, in &lt;module&gt;
    main()
  File &quot;/Users/me/.local/share/uv/python/cpython-3.11.6-macos-aarch64-none/lib/python3.11/tkinter/__init__.py&quot;, line 4618, in _test
    root = Tk()
           ^^^^
  File &quot;/Users/me/.local/share/uv/python/cpython-3.11.6-macos-aarch64-none/lib/python3.11/tkinter/__init__.py&quot;, line 2326, in __init__
    self.tk = _tkinter.create(screenName, baseName, className, interactive, wantobjects, useTk, sync, use)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_tkinter.TclError: Can't find a usable init.tcl in the following directories: 
    /tools/deps/lib/tcl8.6 {/Users/me/tkinter-test/.venv/lib/tcl8.6} {/Users/me/tkinter-test/lib/tcl8.6} {/Users/me/tkinter-test/.venv/library} {/Users/me/tkinter-test/library} {/Users/me/tkinter-test/tcl8.6.12/library} {/Users/me/tkinter-test/tcl8.6.12/library}



This probably means that Tcl wasn't installed properly.
</code></pre>
<p>I could &quot;solve&quot; it by running</p>
<pre><code>export TCL_LIBRARY=&quot;$HOME&quot;/.local/share/uv/python/cpython-3.11.6-macos-aarch64-none/lib/tcl8.6
export TK_LIBRARY=&quot;$HOME&quot;/.local/share/uv/python/cpython-3.11.6-macos-aarch64-none/lib/tk8.6
</code></pre>
<p>But I don't want to manually pollute my shell with environment variables to make Python work, it would be better if the uv venv made tkinter work out of the box.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:52 UTC
    </footer>
</body>
</html>
