<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cache folder always in home - astral-sh/uv #13950</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cache folder always in home</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13950">#13950</a>
        opened by <a href="https://github.com/thistlillo">@thistlillo</a>
        on 2025-06-10 14:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/thistlillo">@thistlillo</a></div>
            <div class="timeline-body">Summary
<p>I have installed uv in a location other than my home folder using the command:</p>
<pre><code>$ curl -LsSf https://astral.sh/uv/install.sh | env UV_INSTALL_DIR=&quot;/data-disk/.uvinstall/&quot; sh
</code></pre>
<p>However, uv keeps storing cached files in the home folder, where, in my case, there is no available space.</p>
<pre><code>$-&gt; uv pip install torch torchvision torchaudio
Using Python 3.10.15 environment at: /data-disk/workspace-user/gnn/.venv
Resolved 29 packages in 447ms
  × Failed to download `torch==2.7.1`
  ├─▶ Failed to extract archive: torch-2.7.1-cp310-cp310-manylinux_2_28_x86_64.whl
  ╰─▶ failed to write to file `/home/user/.cache/uv/.tmpJu1K2g/torch/lib/libtorch_cuda.so`: No space left on
      device (os error 28)
(gnn) user@server [/data-disk/workspace-user/gnn/src]
$-&gt; which uv
/data-disk/.uvinstall/uv
</code></pre>
<p>As you can see uv has been installed in <code>/data-disk/.uvinstall/uv</code>, but cached files are still in <code>~/.cache/uv/...</code>.</p>
Platform
<p>Linux 5.15.0-46-generic #49-Ubuntu</p>
Version
<p>0.7.12</p>
Python version
<p>Python 3.10.15</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/thistlillo">@thistlillo</a> on 2025-06-10 14:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-10 14:57</div>
            <div class="timeline-body"><p><code>UV_INSTALL_DIR</code> only changes the location of the uv binaries, see <a href="https://github.com/astral-sh/uv/issues/11360">astral-sh/uv#11360</a>. You can set the <code>XDG_CACHE_DIR</code> or <code>UV_CACHE_DIR</code> to move the cache dir specifically.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/konstin">@konstin</a> on 2025-06-10 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-06-10 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-10 14:58</div>
            <div class="timeline-body"><p>(https://docs.astral.sh/uv/reference/environment/#uv_cache_dir)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thistlillo">@thistlillo</a> on 2025-06-10 15:11</div>
            <div class="timeline-body"><p>Thank you very much. I think that the installation guide should be updated to include these details - I wasn&#x27;t even aware there is a cache folder.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-10 15:16</div>
            <div class="timeline-body"><p>uv stores data in a variety of folders at runtime, as do most applications. Those are sort of separate from the installation location? We can update the documentation, but I don&#x27;t think this should be a surprise.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thistlillo">@thistlillo</a> on 2025-06-11 10:09</div>
            <div class="timeline-body"><p>No, it&#x27;s not a surprise at all, but I think that some more &quot;explanations&quot; would be much appreciated.</p>
<p>See also:
<a href="https://github.com/astral-sh/uv/issues/11360">astral-sh/uv#11360</a></p>
<p>linked by konstin.</p>
<p>Clearly, you target very complex use cases and cannot simplify too much, but ... just a bit more comments in the docs :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-11 02:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:59 UTC
    </footer>
</body>
</html>
