<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ignoring invalid `SSL_CLIENT_CERT`: failed to open file `/Library/Application\ Support/path/to/client-cert.pem' - astral-sh/uv #14146</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ignoring invalid <code>SSL_CLIENT_CERT</code>: failed to open file `/Library/Application\ Support/path/to/client-cert.pem'</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14146">#14146</a>
        opened by <a href="https://github.com/joewwt">@joewwt</a>
        on 2025-06-19 17:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/joewwt">@joewwt</a> on 2025-06-19 17:10</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I cannot get uv to verify or use the SSL_CLIENT_CERT on for my corporate machine. I've set in /.zshrc an export for SSL_CLIENT_CERT to the path.</p>
<p>The file path/directory does appear to be hidden normally, I can cd <dir> and the exports appear to be set, but maybe uv doesn't have proper permissions to access this CLIENT_CERT?</p>
<p>The goal is to log into huggingface to download data:
<code>print(&quot;Logging in to Huggingface... using token:&quot;, os.getenv(&quot;HF_TOKEN&quot;), &quot;and REQUESTS_CA_BUNDLE:&quot;, os.getenv(&quot;REQUESTS_CA_BUNDLE&quot;))</code></p>
<p>Output:
<code>Logging in to Huggingface... using token: None and REQUESTS_CA_BUNDLE: None</code></p>
<p>When using the VSCode terminal (zsh) it appears to populate the variables fine. When using my terminal directly and the output returns None for both variables.</p>
<h3>Platform</h3>
<p>macOS Darwin 24.5.0 arm64</p>
<h3>Version</h3>
<p>uv 0.7.13 (62ed17b23 2025-06-12)</p>
<h3>Python version</h3>
<p>Python 3.12.4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @joewwt on 2025-06-19 17:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-20 07:44</div>
            <div class="timeline-body"><p>Is that a problem with uv specifically, or does it also happen when running the huggingface Python code directly without uv?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @konstin on 2025-06-20 07:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @konstin on 2025-06-20 07:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/joewwt">@joewwt</a> on 2025-06-20 14:28</div>
            <div class="timeline-body"><p>It appears to be within 'uv', I was able to add the keys via <code>export &quot;key path&quot;</code>, and when I run from my terminal independent of VSCode, it does appear to run. When I run inside vscode, or when I do os.environ['key'] = os.getenv('key') in python, it appears uv doesn't work, I've added:</p>
<pre><code>[tool.uv]
native-tls = true
</code></pre>
<p>to my pyproject.toml.</p>
<p>There is whitespace in the path, so the double quotes are necessary.</p>
<p>I'm adding some error handling to my application to verify and update the paths, I'll update if this resolves the issue. Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-22 14:49</div>
            <div class="timeline-body"><p>Sorry, I don't quite follow your explanation. Are you sure this is a problem with uv, does it happen when running Python without uv? Can you share a minimal reproducible example of the problem (https://github.com/astral-sh/uv/issues/9452)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/joewwt">@joewwt</a> on 2025-06-24 14:50</div>
            <div class="timeline-body"><p>Looks like it might be a corporate issue. Apologies for the wasted time!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @joewwt on 2025-06-24 14:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:03 UTC
    </footer>
</body>
</html>
