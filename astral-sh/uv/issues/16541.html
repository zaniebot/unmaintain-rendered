<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Why uv does not seems to see python packages installed in a different site-packages - astral-sh/uv #16541</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Why uv does not seems to see python packages installed in a different site-packages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16541">#16541</a>
        opened by <a href="https://github.com/ccoulombe">@ccoulombe</a>
        on 2025-10-31 19:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ccoulombe">@ccoulombe</a></div>
            <div class="timeline-body">Question
<p>Hello,</p>
<p>We have python packages provided from different <code>site-packages</code>, but <code>uv pip list</code> does not seem to see them.</p>
<p>For example, on our HPC systems</p>
<pre><code>module load python/3.13 arrow/21
uv venv --clear TESTY
source TESTY/bin/activate
</code></pre>
<p>Then:</p>
<pre><code>(TESTY) $ uv pip list
Using Python 3.13.2 environment at: TESTY

(TESTY) $ pip list | rg pyarrow
pyarrow            21.0.0
</code></pre>
<p>The <code>site-packages</code> are listed in <code>$PYTHONPATH</code>.</p>
<p>What am I missing in order for <code>uv</code> to see those packages ?</p>
<p>Thanks</p>
Platform
<p>Linux</p>
Version
<p>0.9.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/ccoulombe">@ccoulombe</a> on 2025-10-31 19:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-01 02:15</div>
            <div class="timeline-body"><p>uv does not include pip in the virtual environment by default, so <code>pip list</code> is likely showing you packages in some other environment (since it&#x27;s likely the global <code>pip</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-01 02:15</div>
            <div class="timeline-body"><p>You can run <code>uv venv --seed</code> to include pip if necessary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ccoulombe">@ccoulombe</a> on 2025-11-03 02:32</div>
            <div class="timeline-body"><p>Even with a <code>pip</code> installed, it is not showing the packages installed from other <code>site-packages</code> as pip naturally does.</p>
<pre><code>$ module load python/3.13 arrow/21
$ uv venv --seed --clear TESTY
Using CPython 3.13.2 interpreter at: /cvmfs/soft.computecanada.ca/easybuild/software/2023/x86-64-v4/Compiler/gcccore/python/3.13.2/bin/python
Creating virtual environment with seed packages at: TESTY
 + pip==25.2+computecanada
Activate with: source TESTY/bin/activate
$ source TESTY/bin/activate
(TESTY) $ uv pip list
Using Python 3.13.2 environment at: TESTY
Package Version
------- ------------------
pip     25.2+computecanada
(TESTY) $ uv run which pip
/home/coulombc/TESTY/bin/pip
(TESTY) $ which pip
~/TESTY/bin/pip
(TESTY) $ pip list | rg pyarrow
pyarrow            21.0.0
(TESTY) $ uv pip list | rg pyarrow
Using Python 3.13.2 environment at: TESTY
(TESTY) $
</code></pre>
<p>It look like it may be an issue related to <code>uv</code> not seeing the PYTHONPATH perhaps?</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-03 02:35</div>
            <div class="timeline-body"><p>That sounds right -- is this a duplicate of <a href="https://github.com/astral-sh/uv/issues/2500">astral-sh/uv#2500</a>? We don&#x27;t read arbitrary locations from <code>sys.path</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ccoulombe">@ccoulombe</a> on 2025-11-03 02:50</div>
            <div class="timeline-body"><p>Looks like a duplicate yeah.</p>
<p>The packages are available from a different site-package as mentioned, which is not the same as the one from the virtual env.
To be precise, the packages are available from <code> $EBROOTARROW/lib/python3.13/site-packages/</code> while the virtual env. has <code>$VIRTUAL_ENV/lib/python3.13/site-packages/</code>.</p>
<p>Any quick fix? Thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2025-12-18 15:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:52 UTC
    </footer>
</body>
</html>
