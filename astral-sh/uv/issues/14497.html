<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for arbitrary targets in uv build frontend - astral-sh/uv #14497</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support for arbitrary targets in uv build frontend</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/14497">#14497</a>
        opened by <a href="https://github.com/Panacea729">@Panacea729</a>
        on 2025-07-07 21:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Panacea729">@Panacea729</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hatch supports building for an arbitrary target (https://hatch.pypa.io/latest/plugins/builder/reference/). I want to use the hatchling build backend with uv but need the ability to build a custom target using <code>uv build</code>. Unfortunately it seems the uv build frontend is hardcoded to call <code>hatchling.build.build_wheel</code>/<code>hatchling.build.build_sdist</code>. I don't know rust but that seems to be how this works: https://github.com/astral-sh/uv/blob/dedced32657e9db1e5561798da47b35a0ac42b64/crates/uv-build-frontend/src/lib.rs#L759</p>
<p>I personally am using the hatch frontend and was considering moving to uv for better workspace support, but I require to continue using the custom build targets we've created for hatch.</p>
<p>I understand that it is possible to use a hatch build hook to generate custom artifacts from the wheel/sdist, but it would be much cleaner to forego the wheel and sdist distrubution altogether to use our custom target(s).</p>
<p>Additionally/optionally, it could be helpful to allow different build-dependencies depending on the target.</p>
<p>I imagine a coordinating issue should be made in hatch/hatchling (for hatchling to expose this --target functionality). I've held off on doing that without garnering some support here first. This will require some cooperation from hatchling if it's intended to continue using the <code>hatchling.build.build_</code> functions (instead of something like <code>python -m hatch build</code>) since it seems as though <code>hatchling</code> does not expose the ability to use custom targets in <code>build.py</code>.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @Panacea729 on 2025-07-07 21:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-07 22:20</div>
            <div class="timeline-body"><p>Thanks for sharing your use-case!</p>
<p><code>build_wheel</code> and <code>build_sdist</code> are a part of the PEP 517 standard for build backends. It seems pretty unlikely that we'll add hatch-specific options for <code>uv build</code> to allow targeting other build hooks.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:02 UTC
    </footer>
</body>
</html>
