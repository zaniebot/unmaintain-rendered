<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature request: show install time for each package - astral-sh/uv #7074</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature request: show install time for each package</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/7074">#7074</a>
        opened by <a href="https://github.com/Afoucaul">@Afoucaul</a>
        on 2024-09-05 09:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Afoucaul">@Afoucaul</a> on 2024-09-05 09:43</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>When you run <code>uv sync</code> or <code>uv pip install -r requirements.txt</code>, a bunch of packages get installed.
You get a spinner, then a complete list of the packages installed; example:</p>
<pre><code class="language-bash">$ uv sync
Using Python 3.8.12
Creating virtualenv at: .venv
Resolved 53 packages in 23ms
Prepared 12 packages in 7ms
Installed 14 packages in 53ms
 + anyio==4.4.0
 + certifi==2024.8.30
 + charset-normalizer==3.3.2
 + exceptiongroup==1.2.2
 + h11==0.14.0
 + httpcore==1.0.5
 + httpx==0.27.2
 + idna==3.8
 + requests==2.32.3
 + sniffio==1.3.1
 + typing-extensions==4.5.0
 + urllib3==2.2.2
</code></pre>
<p>While the total install time is a good metric to know, I would like to know the install time of each specific package. Even though this doesn't directly correlate with wall time, it would be great to identify the slowest packages to install and thus reducing install and build times.</p>
<p>A concrete example: pandas 1.3.5 takes forever to install. But if my project uses <code>pandas==1.3.5</code> and anything else, say <code>rich</code>, then my <code>uv sync --no-cache</code> output looks like follows - how can I know it's pandas that made the sync take so long?</p>
<pre><code class="language-bash">$ uv sync --no-cache
Using Python 3.8.12
Creating virtualenv at: .venv
Resolved 11 packages in 1ms
   Built pandas==1.3.5
Prepared 10 packages in 3m 28s
Installed 10 packages in 131ms
 + markdown-it-py==3.0.0
 + mdurl==0.1.2
 + numpy==1.24.4
 + pandas==1.3.5
 + pygments==2.18.0
 + python-dateutil==2.9.0.post0
 + pytz==2024.1
 + rich==13.8.0
 + six==1.16.0
 + typing-extensions==4.12.2
</code></pre>
<p>I can identify that it's pandas that takes the longest to install, because it's where the spinner hangs for the longest, but I can't get that retrospectively in the logs.
Once I've identified that, I was able to upgrade it to a more recent version, that provides pre-built wheels which makes the install much faster (from 3min30 to 2sec) - so identifying which specific package takes long to install has a huge value.</p>
<p>I'd be happy with some <code>--annotate-with-time</code> flag if that works for you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">tracing</span> added by @zanieb on 2024-09-05 14:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-09-05 14:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-05 14:15</div>
            <div class="timeline-body"><p>Makes sense, though I'm not sure how straight-forward it would be to add. A <code>--timings</code> flag seems reasonable?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Afoucaul">@Afoucaul</a> on 2024-09-06 12:08</div>
            <div class="timeline-body"><p><code>--timings</code> sounds perfect!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jaymegordo">@jaymegordo</a> on 2025-12-18 20:45</div>
            <div class="timeline-body"><p>+1 on this, would be extremely helpful to have especially in CICD pipelines. Eg you might have some packages slowing down your installs (on slower machines eg github actions) and kinda forget about them, not sure if its worth looking into removing them etc.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:59 UTC
    </footer>
</body>
</html>
