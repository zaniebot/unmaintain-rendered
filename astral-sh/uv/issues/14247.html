<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv python upgrade` does not repoint shims created by `uv python install --default` - astral-sh/uv #14247</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv python upgrade</code> does not repoint shims created by <code>uv python install --default</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14247">#14247</a>
        opened by <a href="https://github.com/euan-reid">@euan-reid</a>
        on 2025-06-24 23:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/euan-reid">@euan-reid</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I've been using <code>uv python install --default --preview</code> to get <code>python3</code>, <code>python 3.13</code>, etc available on the command line. Having tested out <code>uv python upgrade</code> the underlying Python got updated but the shims did not. Here's the console log:</p>
<pre><code>PS C:\Users\eureid&gt; uv python list
cpython-3.14.0b2-windows-x86_64-none                 &lt;download available&gt;
cpython-3.14.0b2+freethreaded-windows-x86_64-none    &lt;download available&gt;
cpython-3.13.5-windows-x86_64-none                   &lt;download available&gt;
cpython-3.13.5+freethreaded-windows-x86_64-none      &lt;download available&gt;
cpython-3.13.4-windows-x86_64-none                   .local\bin\python3.exe
cpython-3.13.4-windows-x86_64-none                   .local\bin\python3.13.exe
cpython-3.13.4-windows-x86_64-none                   .local\bin\python.exe
cpython-3.13.4-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.13.4-windows-x86_64-none\python.exe
cpython-3.13.4+freethreaded-windows-x86_64-none      AppData\Roaming\uv\python\cpython-3.13.4+freethreaded-windows-x86_64-none\python.exe                                                                                                       cpython-3.13.4+freethreaded-windows-x86_64-none      .local\bin\python3.13t.exe                                         cpython-3.12.11-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\python.exe                                                                                                                   cpython-3.12.11-windows-x86_64-none                  .local\bin\python3.12.exe                                          cpython-3.12.11-windows-x86_64-none                  &lt;download available&gt;                                               cpython-3.11.13-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\python.exe
cpython-3.11.13-windows-x86_64-none                  .local\bin\python3.11.exe
cpython-3.11.13-windows-x86_64-none                  &lt;download available&gt;
cpython-3.10.18-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\python.exe
cpython-3.10.18-windows-x86_64-none                  .local\bin\python3.10.exe
cpython-3.10.18-windows-x86_64-none                  &lt;download available&gt;
cpython-3.9.23-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.9.23-windows-x86_64-none\python.exe
cpython-3.9.23-windows-x86_64-none                   .local\bin\python3.9.exe
cpython-3.9.23-windows-x86_64-none                   &lt;download available&gt;
cpython-3.8.20-windows-x86_64-none                   &lt;download available&gt;
pypy-3.11.11-windows-x86_64-none                     &lt;download available&gt;
pypy-3.10.16-windows-x86_64-none                     &lt;download available&gt;
pypy-3.9.19-windows-x86_64-none                      &lt;download available&gt;
pypy-3.8.16-windows-x86_64-none                      &lt;download available&gt;
graalpy-3.11.0-windows-x86_64-none                   &lt;download available&gt;
graalpy-3.10.0-windows-x86_64-none                   &lt;download available&gt;

PS C:\Users\eureid&gt; uv python upgrade
warning: `uv python upgrade` is experimental and may change without warning. Pass `--preview` to disable this warning
Installed 2 versions in 9.44s
 + cpython-3.13.5+freethreaded-windows-x86_64-none
 + cpython-3.13.5-windows-x86_64-none

PS C:\Users\eureid&gt; uv python upgrade --preview
Installed 2 versions in 21ms
 + cpython-3.13.5+freethreaded-windows-x86_64-none (python3.13t.exe)
 + cpython-3.13.5-windows-x86_64-none (python3.13.exe)

PS C:\Users\eureid&gt; uv python list
cpython-3.14.0b2-windows-x86_64-none                 &lt;download available&gt;
cpython-3.14.0b2+freethreaded-windows-x86_64-none    &lt;download available&gt;
cpython-3.13.5-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.13.5-windows-x86_64-none\python.exe
cpython-3.13.5+freethreaded-windows-x86_64-none      AppData\Roaming\uv\python\cpython-3.13.5+freethreaded-windows-x86_64-none\python.exe
cpython-3.13.5+freethreaded-windows-x86_64-none      &lt;download available&gt;
cpython-3.13.4-windows-x86_64-none                   .local\bin\python3.exe
cpython-3.13.4-windows-x86_64-none                   .local\bin\python.exe
cpython-3.13.4-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.13.4-windows-x86_64-none\python.exe
cpython-3.13.4+freethreaded-windows-x86_64-none      AppData\Roaming\uv\python\cpython-3.13.4+freethreaded-windows-x86_64-none\python.exe
cpython-3.12.11-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\python.exe
cpython-3.12.11-windows-x86_64-none                  .local\bin\python3.12.exe
cpython-3.12.11-windows-x86_64-none                  &lt;download available&gt;
cpython-3.11.13-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\python.exe
cpython-3.11.13-windows-x86_64-none                  .local\bin\python3.11.exe
cpython-3.11.13-windows-x86_64-none                  &lt;download available&gt;
cpython-3.10.18-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\python.exe
cpython-3.10.18-windows-x86_64-none                  .local\bin\python3.10.exe
cpython-3.10.18-windows-x86_64-none                  &lt;download available&gt;
cpython-3.9.23-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.9.23-windows-x86_64-none\python.exe
cpython-3.9.23-windows-x86_64-none                   .local\bin\python3.9.exe
cpython-3.9.23-windows-x86_64-none                   &lt;download available&gt;
cpython-3.8.20-windows-x86_64-none                   &lt;download available&gt;
pypy-3.11.11-windows-x86_64-none                     &lt;download available&gt;
pypy-3.10.16-windows-x86_64-none                     &lt;download available&gt;
pypy-3.9.19-windows-x86_64-none                      &lt;download available&gt;
pypy-3.8.16-windows-x86_64-none                      &lt;download available&gt;
graalpy-3.11.0-windows-x86_64-none                   &lt;download available&gt;
graalpy-3.10.0-windows-x86_64-none                   &lt;download available&gt;
</code></pre>
<p>Since <code>upgrade</code> doesn't have a <code>--default</code> flag, I tried manually uninstalling the versions and seeing what happened, which got an interesting error about the executable already existing:</p>
<pre><code>PS C:\Users\eureid&gt; uv python uninstall 3.13.4
Searching for Python versions matching: Python 3.13.4
Uninstalled Python 3.13.4 in 532ms
 - cpython-3.13.4-windows-x86_64-none (python.exe, python3.exe)

PS C:\Users\eureid&gt; uv python uninstall 3.13.4t
Searching for Python versions matching: Python 3.13.4t
Uninstalled Python 3.13.4 in 836ms
 - cpython-3.13.4+freethreaded-windows-x86_64-none (python3t.exe, pythont.exe)

PS C:\Users\eureid&gt; uv python list
cpython-3.14.0b2-windows-x86_64-none                 &lt;download available&gt;
cpython-3.14.0b2+freethreaded-windows-x86_64-none    &lt;download available&gt;
cpython-3.13.5-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.13.5-windows-x86_64-none\python.exe
cpython-3.13.5+freethreaded-windows-x86_64-none      AppData\Roaming\uv\python\cpython-3.13.5+freethreaded-windows-x86_64-none\python.exe
cpython-3.13.5+freethreaded-windows-x86_64-none      &lt;download available&gt;
cpython-3.12.11-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.12.11-windows-x86_64-none\python.exe
cpython-3.12.11-windows-x86_64-none                  .local\bin\python3.12.exe
cpython-3.12.11-windows-x86_64-none                  &lt;download available&gt;
cpython-3.11.13-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\python.exe
cpython-3.11.13-windows-x86_64-none                  .local\bin\python3.11.exe
cpython-3.11.13-windows-x86_64-none                  &lt;download available&gt;
cpython-3.10.18-windows-x86_64-none                  AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\python.exe
cpython-3.10.18-windows-x86_64-none                  .local\bin\python3.10.exe
cpython-3.10.18-windows-x86_64-none                  &lt;download available&gt;
cpython-3.9.23-windows-x86_64-none                   AppData\Roaming\uv\python\cpython-3.9.23-windows-x86_64-none\python.exe
cpython-3.9.23-windows-x86_64-none                   .local\bin\python3.9.exe
cpython-3.9.23-windows-x86_64-none                   &lt;download available&gt;
cpython-3.8.20-windows-x86_64-none                   &lt;download available&gt;
pypy-3.11.11-windows-x86_64-none                     &lt;download available&gt;
pypy-3.10.16-windows-x86_64-none                     &lt;download available&gt;
pypy-3.9.19-windows-x86_64-none                      &lt;download available&gt;
pypy-3.8.16-windows-x86_64-none                      &lt;download available&gt;
graalpy-3.11.0-windows-x86_64-none                   &lt;download available&gt;
graalpy-3.10.0-windows-x86_64-none                   &lt;download available&gt;

PS C:\Users\eureid&gt; uv python upgrade --preview
warning: Executable already exists at `C:\Users\eureid\.local\bin\python3.13.exe` but is not managed by uv; use `uv python install 3.13 --force` to replace it
warning: Executable already exists at `C:\Users\eureid\.local\bin\python3.13t.exe` but is not managed by uv; use `uv python install 3.13t --force` to replace it
All versions already on latest supported patch release
</code></pre>
<h3>Platform</h3>
<p>Windows 11 x86_64</p>
<h3>Version</h3>
<p>uv 0.7.14 (e7f596711 2025-06-23)</p>
<h3>Python version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @euan-reid on 2025-06-24 23:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @jtfmumm by @jtfmumm on 2025-06-25 05:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on 2025-06-25 14:15</div>
            <div class="timeline-body"><p>There was a missing check for the case where no Python version was specified. I've created a fix on #14261.</p>
<p>I wasn't able to replicate triggering the warning you pointed out (which is definitely confusing if that was a uv-managed bin link). I'll have to investigate that separately.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @jtfmumm on 2025-06-27 17:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:31:54 UTC
    </footer>
</body>
</html>
