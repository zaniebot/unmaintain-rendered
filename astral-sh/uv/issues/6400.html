<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FR: Support installing and managing `uv` with `uv tool` - astral-sh/uv #6400</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>FR: Support installing and managing <code>uv</code> with <code>uv tool</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6400">#6400</a>
        opened by <a href="https://github.com/weihenglim">@weihenglim</a>
        on 2024-08-22 02:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/weihenglim">@weihenglim</a> on 2024-08-22 02:25</div>
            <div class="timeline-body"><p>Currently the documentation's <a href="https://docs.astral.sh/uv/getting-started/installation/#pypi">recommended way</a> of installing <code>uv</code> is via <code>pipx</code>. With the release of <code>uv tool</code>, it would be great to let <code>uv</code> manage itself, similar to how you can do <code>pipx install pipx</code>.</p>
<p>When testing on my Windows 11 machine, <code>uv tool install uv</code> works but the tool breaks when attempting to upgrade <code>uv</code> to the latest version:</p>
<pre><code class="language-sh">&gt; uv tool upgrade uv 
Resolved 1 package in 38ms
Prepared 1 package in 1ms
Installed 1 package in 8ms
 + uv==0.3.1
error: failed to remove file `C:\Users\User\.local\bin\uv.exe`
  Caused by: Access is denied. (os error 5)

&gt; uv tool list
warning: Ignoring malformed tool `uv` (run `uv tool uninstall uv` to remove)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-22 02:27</div>
            <div class="timeline-body"><p>Ahh yeah, that's a known issue on Windows: https://github.com/astral-sh/uv/issues/1368. You <em>should</em> be able to do <code>uv self update</code> if you installed via the standalone installers (as opposed to through <code>pip</code> or similar).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/weihenglim">@weihenglim</a> on 2024-08-22 02:41</div>
            <div class="timeline-body"><p>Ah that's a shame, was hoping it would be possible to just upgrade everything (including <code>uv</code> itself) with a single <code>uv tool upgrade --all</code> command. Guess I'll stick with the standalone installers for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @zanieb on 2024-08-22 03:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-22 03:51</div>
            <div class="timeline-body"><p>I'm not sure it makes sense to manage uv with uv, it creates a weird chicken and egg problem. You can definitely do <code>uvx uv@version</code> though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-08-22 10:13</div>
            <div class="timeline-body"><p><code>rustup update</code> updates both its managed toolchains, then does a self update, we should consider a similar convenience function for uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-22 14:29</div>
            <div class="timeline-body"><p>Hm like <code>uv upgrade</code>?</p>
<ul>
<li>Upgrade self</li>
<li>Upgrade all tools</li>
<li>Upgrade all Python versions</li>
</ul>
<p>Could be cool.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-11-09 01:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-10 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/weihenglim">@weihenglim</a> on 2024-12-16 02:05</div>
            <div class="timeline-body"><p>Hmm, I still can't seem to get <code>uv tool upgrade uv</code> to work on Windows using <code>v0.5.8</code></p>
<pre><code class="language-cmd">&gt;uv version
uv 0.5.8 (80d41671b 2024-12-11)

&gt;uv tool upgrade uv
Updated uv v0.5.8 -&gt; v0.5.9
 - uv==0.5.8
 + uv==0.5.9
error: Failed to upgrade uv
  Caused by: Failed to install entrypoint
  Caused by: failed to copy file from C:\Users\User\AppData\Roaming\uv\data\tools\uv\Scripts\uv.exe to C:\Users\User\.local\bin\uv.exe: The process cannot access the file because it is being used by another process. (os error 32)

&gt;uv tool list
uv v0.5.9
- uv.exe
- uvx.exe

&gt;uv version
uv 0.5.8 (80d41671b 2024-12-11)
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:39 UTC
    </footer>
</body>
</html>
