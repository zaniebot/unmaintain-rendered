<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for Resolving Explicit Prerelease Transient Dependencies - astral-sh/uv #11483</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support for Resolving Explicit Prerelease Transient Dependencies</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11483">#11483</a>
        opened by <a href="https://github.com/Ghelfi">@Ghelfi</a>
        on 2025-02-13 16:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Ghelfi">@Ghelfi</a> on 2025-02-13 16:25</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi,</p>
<p>Currently, <code>uv</code> accepts pre-releases for packages that exclusively publish pre-releases, as well as for first-party requirements that explicitly specify pre-release versions (from <a href="https://docs.astral.sh/uv/reference/settings/#prerelease">doc</a>).</p>
<p>However, I encountered a scenario where a first-party dependency has a pre-release marker <strong>and</strong> also depends on another <strong>pinned</strong> pre-release requirement.
I anticipated that explicit pre-release statements would be resolved appropriately, but this is not currently supported by <code>uv</code>.</p>
<p>Could we consider an additional setting, <code>prerelease-transient</code>, with values <code>[&quot;allow&quot;, &quot;disallow&quot;]</code>? This setting would be utilized when the general <code>prerelease</code> configuration permits fetching pre-releases. It would enable explicit transient pre-releases to be resolved accurately without activating pre-releases for all dependencies.</p>
<p>Furthermore, could we consider allowing the prerelease setting to be configured at the individual dependency level instead of only at the global level? This enhancement would provide more granular control over dependency resolution. This would mirror the existing capability of setting indexes at the package level.</p>
<p>Best,
Alex</p>
<h3>Example</h3>
<p>Toml for package <code>&quot;my-lib&quot;</code>:</p>
<pre><code>[project]
name = &quot;my-lib&quot;
dependencies = [
    &quot;my-package-1===1.0.0.post0.dev1&quot;,
    &quot;stable-package&gt;=2.0.0&quot;,

]
</code></pre>
<p>Toml for package <code>&quot;my-package-1&quot;</code>:</p>
<pre><code>[project]
name = &quot;my-package-1&quot;
version = &quot;1.0.0.post0.dev1&quot;
dependencies = [
    &quot;my-package-2===1.0.0.post0.dev1&quot;,
]
</code></pre>
<p>In this setting I want to run <code>uv lock</code> for <code>&quot;my-lib&quot;</code> and resolve the pre-releases of <code>&quot;my-package-1&quot;</code> and <code>&quot;my-package-2&quot;</code> without having pre-relases of <code>&quot;stable-package&quot;</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @Ghelfi on 2025-02-13 16:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../sigstore/protobuf-specs/issues/288.html">sigstore/protobuf-specs#288</a> on 2025-04-10 15:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:26 UTC
    </footer>
</body>
</html>
