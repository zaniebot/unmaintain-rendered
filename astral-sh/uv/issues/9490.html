<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error: uv python install pypy-3.7.12-linux-aarch64-gnu --verbose - astral-sh/uv #9490</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Error: uv python install pypy-3.7.12-linux-aarch64-gnu --verbose</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/9490">#9490</a>
        opened by <a href="https://github.com/loganoxo">@loganoxo</a>
        on 2024-11-28 02:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/loganoxo">@loganoxo</a></div>
            <div class="timeline-body"><ul>
<li>command</li>
</ul>
<pre><code>uv python install pypy-3.7.12-linux-aarch64-gnu --verbose
</code></pre>
<ul>
<li>screenshot</li>
</ul>
<p><img src="https://github.com/user-attachments/assets/ad9f77f1-392c-4d3f-91bf-cfae519c02c4" alt="Image"></p>
<p><img src="https://github.com/user-attachments/assets/a62e7749-a45f-4b68-98dc-a33efe4fdd03" alt="Image"></p>
<p><img src="https://github.com/user-attachments/assets/f1cff78e-1239-4e7e-87f0-e5706b1d3116" alt="Image"></p>
<blockquote>
<p>There is no pypy3.7 directory under ~/.local/share/uv/python/pypy-3.7.12-linux-aarch64-gnu/lib.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-28 02:53</div>
            <div class="timeline-body"><p>Please use code blocks and text instead of screenshots in the future, it helps discoverability. See #9452.</p>
<p>I can reproduce this</p>
<pre><code>❯ uv python install pypy-3.7.12-linux-aarch64-gnu --verbose
DEBUG uv 0.5.3 (56d362208 2024-11-19)
DEBUG Acquired lock for `/Users/zb/.local/share/uv/python`
DEBUG No installation found for request `pypy-3.7.12-linux-aarch64-gnu`
DEBUG Found download `pypy-3.7.12-linux-aarch64-gnu` for request `pypy-3.7.12-linux-aarch64-gnu`
DEBUG Using request timeout of 30s
DEBUG Downloading https://downloads.python.org/pypy/pypy3.7-v7.3.8-aarch64-portable.tar.bz2 to temporary location: /Users/zb/.local/share/uv/python/.cache/.tmp8zcrNT
DEBUG Extracting pypy3.7-v7.3.8-aarch64-portable.tar.bz2
DEBUG Moving /Users/zb/.local/share/uv/python/.cache/.tmp8zcrNT/pypy3.7-v7.3.8-aarch64 to /Users/zb/.local/share/uv/python/pypy-3.7.12-linux-aarch64-gnu
DEBUG Released lock at `/Users/zb/.local/share/uv/python/.lock`
error: failed to create file `/Users/zb/.local/share/uv/python/pypy-3.7.12-linux-aarch64-gnu/lib/pypy3.7/EXTERNALLY-MANAGED`: No such file or directory (os error 2)
</code></pre>
<p>Notably this does not occur for pypy-3.8</p>
<pre><code>❯ uv python install pypy-3.8-linux-aarch64-gnu --verbose
DEBUG uv 0.5.3 (56d362208 2024-11-19)
DEBUG Acquired lock for `/Users/zb/.local/share/uv/python`
DEBUG No installation found for request `pypy-3.8-linux-aarch64-gnu`
DEBUG Found download `pypy-3.8.16-linux-aarch64-gnu` for request `pypy-3.8-linux-aarch64-gnu`
DEBUG Using request timeout of 30s
DEBUG Downloading https://downloads.python.org/pypy/pypy3.8-v7.3.11-aarch64.tar.bz2 to temporary location: /Users/zb/.local/share/uv/python/.cache/.tmprcEHd7
DEBUG Extracting pypy3.8-v7.3.11-aarch64.tar.bz2
DEBUG Moving /Users/zb/.local/share/uv/python/.cache/.tmprcEHd7/pypy3.8-v7.3.11-aarch64 to /Users/zb/.local/share/uv/python/pypy-3.8.16-linux-aarch64-gnu
DEBUG Skipping installation of Python executables, use `--preview` to enable.
Installed Python 3.8.16 in 2.72s
 + pypy-3.8.16-linux-aarch64-gnu
DEBUG Released lock at `/Users/zb/.local/share/uv/python/.lock`
</code></pre>
<p>In 3.8, the path is <code>/Users/zb/.local/share/uv/python/pypy-3.8.16-linux-aarch64-gnu/lib/pypy3.8</code></p>
<p>The equivalent path in 3.7 appears to be <code>/Users/zb/.local/share/uv/python/pypy-3.7.12-linux-aarch64-gnu/lib_pypy</code>.</p>
<p>I&#x27;m not sure where we check for <code>EXTERNALLY-MANAGED</code> markers, that will determine if we should put it in <code>lib_pypy</code> or create a <code>pypy3.7</code> directory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-28 02:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">uv python</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-28 02:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:35:49 UTC
    </footer>
</body>
</html>
