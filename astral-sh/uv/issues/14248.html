<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot resolve github dependency with `uv tool install &lt;package&gt;` from pypi - astral-sh/uv #14248</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot resolve github dependency with `uv tool install &lt;package&gt;` from pypi</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14248">#14248</a>
        opened by <a href="https://github.com/noamteyssier">@noamteyssier</a>
        on 2025-06-25 00:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/noamteyssier">@noamteyssier</a> on 2025-06-25 00:06</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hello!</p>
<p>This may be an oversight on my end but I'm having issues installing a package from pypi because a github dependency cannot be resolved.</p>
<p>This is the <a href="https://pypi.org/project/arc-state/">python package</a> and <a href="https://github.com/arcinstitute/state">github repo</a></p>
<p>Here is a command to replicate the error:</p>
<pre><code class="language-bash"># Will error
uv tool install -U arc-state==0.8.6
</code></pre>
<p>with the error:</p>
<pre><code class="language-text">error: Because zclip was not found in the package registry and arc-state==0.8.6 depends on zclip, we can conclude that arc-state==0.8.6 cannot be used.
And because you require arc-state==0.8.6, we can conclude that your requirements are unsatisfiable.
</code></pre>
<p>Notably this error does not occur when installing locally or from github:</p>
<pre><code class="language-bash"># Works fine
uv tool install git+https://github.com/arcinstitute/state
</code></pre>
<p>My project dependencies are:</p>
<pre><code>dependencies = [
  &quot;anndata&gt;=0.11.4&quot;,
  &quot;cell-load&gt;=0.7.1&quot;,
  &quot;numpy&gt;=2.2.6&quot;,
  &quot;pandas&gt;=2.2.3&quot;,
  &quot;pyyaml&gt;=6.0.2&quot;,
  &quot;scanpy&gt;=1.11.2&quot;,
  &quot;scikit-learn&gt;=1.6.1&quot;,
  &quot;seaborn&gt;=0.13.2&quot;,
  &quot;torch&gt;=2.7.0&quot;,
  &quot;tqdm&gt;=4.67.1&quot;,
  &quot;wandb&gt;=0.19.11&quot;,
  &quot;hydra-core&gt;=1.3.2&quot;,
  &quot;geomloss&gt;=0.2.6&quot;,
  &quot;zclip&quot;,
  &quot;transformers&gt;=4.52.3&quot;,
  &quot;cell-eval&gt;=0.5.22&quot;,
]
</code></pre>
<p>and I include the source like this:</p>
<pre><code class="language-toml">[tool.uv.sources]
zclip = { git = &quot;https://github.com/bluorion-com/ZClip&quot; }
</code></pre>
<h3>Platform</h3>
<p>Darwin 24.5.0 arm64</p>
<h3>Version</h3>
<p>uv 0.7.14 (e7f596711 2025-06-23)</p>
<h3>Python version</h3>
<p>Python 3.13.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @noamteyssier on 2025-06-25 00:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-06-25 16:41</div>
            <div class="timeline-body"><p>Once you publish to a registry, <code>[tool.uv.sources]</code> will no longer get picked up when you try to install a package. <code>[tool.uv.sources]</code> intentionally don't make it into the published metadata, which needs to follow a specific standard.</p>
<p>As a workaround, you could do this:</p>
<pre><code>uv tool install --with git+https://github.com/bluorion-com/ZClip -U arc-state==0.8.6
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/noamteyssier">@noamteyssier</a> on 2025-06-25 16:47</div>
            <div class="timeline-body"><p>gotcha - thanks @charliermarsh !</p>
<p>I'll use this command in the meantime and try to get them to publish their module on pypi.</p>
<p>Cheers</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @noamteyssier on 2025-06-25 16:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:08 UTC
    </footer>
</body>
</html>
