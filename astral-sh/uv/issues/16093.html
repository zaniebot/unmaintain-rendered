<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support meson-python in `uv init` - astral-sh/uv #16093</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support meson-python in <code>uv init</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16093">#16093</a>
        opened by <a href="https://github.com/refack">@refack</a>
        on 2025-10-01 23:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/refack">@refack</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>For some unknown reason you've chosen to support <a href="https://docs.astral.sh/uv/concepts/projects/init/#projects-with-extension-modules"><code>scikit-build-core</code></a> which while interesting, is a pre-release system. And you chose to pushdown <code>meson-python</code> which is at version 1.9.1 and is used by projects like <code>numpy</code> and <code>scipy</code>....  Â¯\<em>(ãƒ„)</em>/Â¯.</p>
<p>IMHO meson-python (or just meson) should be the lingua-franca of compiled packages and compiled extensions.</p>
<p>~(FYI, if you find a way to solve the setuptools_scm bootstrap loop, you will get my undying devotion, and patronage)~
<a href="https://docs.astral.sh/uv/reference/settings/#extra-build-dependencies"><code>extra-build-dependencies</code></a> solved it for my use case.
Thank you astral ðŸŽŠ</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @refack on 2025-10-01 23:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "meson-python!!!" to "Support meson-python in `uv init`" by @konstin on 2025-10-02 08:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2025-10-29 01:38</div>
            <div class="timeline-body"><p>Although I'm slightly biased as a Meson upstream maintainer... I do think that it is generally interesting to support multiple options here given that for one reason or another there will be people who bounce hard off of some subset of the possibilities. e.g. the build definition styles for Meson versus CMake are quite different.</p>
<p>To demonstrate my bias, I will note that I think Meson has a particular (and objective) major advantage over CMake which may tempt people to offer it as a default, in that Meson is a build backend written in pure python and:</p>
<ul>
<li>is, at 1 mb, very small to download and install (CMake wheels average 30 - 50 mb)</li>
<li>is available per definition for all operating systems and CPU architectures (CMake wheels are only available for a relatively small handful of platforms)</li>
</ul>
<p>But ultimately, compiled code with dependencies is inherently challenging and will require the author to invest time and effort into interacting with the build configurations -- it's not like simply packaging up a src/ directory as an installable module -- so I think there's very little and possibly no value at all in trying to discourage choice and get everyone to stick to one or the other for the simplifying properties of &quot;uniformity's sake&quot;. Commentary can be had about whether one perhaps feels that &quot;all options other than XXX are actually eye-wateringly painful, the other upstream projects should simply close down and discontinue themselves for the preservation of user sanity&quot; but short of that kind of religious holy war (the answer is naturally that XXX == vim, thankyouverymuch) I really think the best option is just to lay the options out on the table for users and go with whatever they pick.</p>
<p>I'm available to provide feedback for meson configs, if necessary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2025-10-29 01:55</div>
            <div class="timeline-body"><blockquote>
<p><a href="https://docs.astral.sh/uv/concepts/projects/init/#projects-with-extension-modules"><code>scikit-build-core</code></a> which while interesting, is a pre-release system. And you chose to pushdown <code>meson-python</code> which is at version 1.9.1</p>
</blockquote>
<p>I'd like to note in fairness here that scikit-build-core is at version 0.11.6 while meson-python is actually at version 0.18.0</p>
<p>Meson itself is 1.9.1, which roughly corresponds to CMake 4.x, as both are the respective underlying C/C++ build configurators.</p>
<p>The version number of meson-python is of course still higher than scikit-build-core, and meson-python is much older, and...</p>
<blockquote>
<p>and is used by projects like <code>numpy</code> and <code>scipy</code>.... Â¯<em>(ãƒ„)</em>/Â¯.</p>
</blockquote>
<p>This is quite true. (Pandas and matplotlib as well.)</p>
<blockquote>
<p>(FYI, is you solve the setuptools_scm bootstrap loop, you will get my undying devotion, and patronage)</p>
</blockquote>
<p>I'm not aware of a bootstrap loop here, above and beyond the general issue of jaraco.* packages being deps for setuptools but also depending on setuptools itself (setuptools-scm is therefore irrelevant).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-29 18:16</div>
            <div class="timeline-body"><p>We didn't exclude meson-python, we just didn't have anyone who added support for, meson-python is popular enough that it makes sense to support it in <code>uv init</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/refack">@refack</a> on 2025-10-29 21:33</div>
            <div class="timeline-body"><blockquote>
<p>the build definition styles for Meson versus CMake are quite different.</p>
</blockquote>
<p>I never liked CMake's style. meson reminds me of my old stomping ground <a href="https://github.com/refack/gyp3"><code>GYP</code></a>'s style (except for the exact opposite approach WRT declarative/imperative)</p>
<blockquote>
<p>I'm not aware of a bootstrap loop here</p>
</blockquote>
<p>the crux is when running with <code>--no-build-isolation</code>, where <code>uv</code> needs <code>setuptools-scm</code> to find the version of the project before it solves a recipe for <code>build-system.requires</code>.
RE: my original comment, I believe that is one of the use cases for the (in preview) <a href="https://docs.astral.sh/uv/reference/settings/#extra-build-dependencies"><code>extra-build-dependencies</code></a> setting. So WW Astral !</p>
<blockquote>
<p>I'd like to note in fairness here that scikit-build-core is at version 0.11.6 while meson-python is actually at version 0.18.0</p>
</blockquote>
<p>I stand corrected.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:03 UTC
    </footer>
</body>
</html>
