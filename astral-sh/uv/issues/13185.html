<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should I remove old builds before publishing? - astral-sh/uv #13185</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Should I remove old builds before publishing?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13185">#13185</a>
        opened by <a href="https://github.com/Gabriel-p">@Gabriel-p</a>
        on 2025-04-28 19:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Gabriel-p">@Gabriel-p</a> on 2025-04-28 19:35</div>
            <div class="timeline-body"><h3>Question</h3>
<p>When I run <code>uv build</code> the two files <code>tar.gz</code> and <code>whl</code> are generated inside the <code>dist/</code> folder.</p>
<p>When I then run <code>ub publish -t pypi-...</code> it shows:</p>
<pre><code>Publishing 4 files https://upload.pypi.org/legacy/
...</code></pre>
<p>i.e., it wants to also publish the two files that were generated <strong>in the previous build</strong> that are still sitting there in the <code>dist/</code> folder (hence the &quot;4 files&quot;). I need to manually remove the old files from <code>dist/</code> before running <code>uv publish</code>.</p>
<p>I didn't have to do this with <code>poetry</code> , it only published the latest build no matter how many old builds were stored still in that folder.</p>
<p>Am I doing something wrong?</p>
<h3>Platform</h3>
<p>elementary OS 8</p>
<h3>Version</h3>
<p>0.6.6</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @Gabriel-p on 2025-04-28 19:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-28 20:27</div>
            <div class="timeline-body"><p>Yes, with <code>uv build</code> you need to manually remove old builds, we intentionally don't remove other files in the <code>dist</code> directory so you can build different packages or multiple versions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gabriel-p">@Gabriel-p</a> on 2025-04-28 20:31</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Gabriel-p on 2025-04-28 20:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:44:42 UTC
    </footer>
</body>
</html>
