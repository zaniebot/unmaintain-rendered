<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv add PyMuPDF causes it to build from source and fails - astral-sh/uv #10422</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv add PyMuPDF causes it to build from source and fails</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10422">#10422</a>
        opened by <a href="https://github.com/rafaeljcd">@rafaeljcd</a>
        on 2025-01-09 02:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rafaeljcd">@rafaeljcd</a> on 2025-01-09 02:07</div>
            <div class="timeline-body"><p>using the command causes it to build from source.</p>
<pre><code class="language-shell">uv add PyMuPDF
</code></pre>
<p>similar to this issue</p>
<ul>
<li>https://github.com/pymupdf/PyMuPDF/discussions/2394</li>
</ul>
<pre><code class="language-shell">Traceback (most recent call last):
File &quot;setup.py&quot;, line 706, in
subprocess.run( command, shell=True, check=True)
File &quot;C:\Users\we\AppData\Local\Programs\Python\Python36\lib\subprocess.py&quot;, line 438, in run
output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command 'cd mupdf-1.22.0-source&amp;&amp;&quot;devenv.com&quot; &gt;platform/win32/mupdf.sln /Build &quot;ReleaseTesseract|x64&quot;/Project mupdf' returned non-zero exit status 1.
</code></pre>
<h2>Workaround</h2>
<p>Install it using the <code>uv pip install</code> and <code>uv add</code></p>
<pre><code class="language-shell">uv pip install pymupdf  
Resolved 1 package in 101ms
Prepared 1 package in 3.21s
Installed 1 package 
+ pymupdf==1.25.1
</code></pre>
<pre><code class="language-shell">uv add pymupdf==1.25.1
</code></pre>
<p>will let it install the binary from pypi, then will then resolved any issues when adding it to uv.lock</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-09 02:20</div>
            <div class="timeline-body"><p>What Python version are you using?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rafaeljcd">@rafaeljcd</a> on 2025-01-09 02:27</div>
            <div class="timeline-body"><blockquote>
<p>What Python version are you using?</p>
</blockquote>
<p>3.12</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-09 02:33</div>
            <div class="timeline-body"><p>That package doesn't publish any wheels for Python 3.12. It only publishes wheels for Python 3.9. So it's correct to build from source here: https://pypi.org/project/PyMuPDF/#files.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rafaeljcd">@rafaeljcd</a> on 2025-01-09 02:37</div>
            <div class="timeline-body"><p>I see, sorry for the trouble and many thanks for the help!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @rafaeljcd on 2025-01-09 02:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:32:02 UTC
    </footer>
</body>
</html>
