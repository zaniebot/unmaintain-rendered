<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advice on matching result from pip freeze with uv, e.g., search order ? - astral-sh/uv #4008</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Advice on matching result from pip freeze with uv, e.g., search order ?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4008">#4008</a>
        opened by <a href="https://github.com/buildqa">@buildqa</a>
        on 2024-06-04 02:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/buildqa">@buildqa</a></div>
            <div class="timeline-body">

<p>I read some documentation that package repo search order can be changed with various args to uv.  My question is that given we have always used (conventional) pip freeze to create a snapshot of the installed package revisions - then what is the recommended way to run freeze (or some other cammnd) with uv to at least try and achieve party with what pip reports?  With no additional args, it looks like uv freeze reports tensorflow should be at the older revision 2.7.3 instead of the newer revision 2.13.1, but torch should be at the newer revision 2.3.0 instead of 2.1.2.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-04 03:18</div>
            <div class="timeline-body"><p>Can you describe (in pip commands) the workflow you&#x27;re trying to achieve? <code>uv pip freeze</code> just reports the <em>currently installed</em> versions in your environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-04 03:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buildqa">@buildqa</a> on 2024-06-04 21:41</div>
            <div class="timeline-body"><p>Sorry, I should start with the initial install - which is where the differences are first created.</p>
<p>We start off with a minimal python distribution (which now includes uv installed) to create a larger, custom python distribution with added site packages.  We use requirements files to constrain only a few package revisions.  Or the goal is to try and install the latest version of most packages.  That works with the command,
$ minimal_python3 -m pip install --upgrade --disable-pip-version-check  -r requirements_1.txt -r requirements_2.txt</p>
<p>If that command is changed to use  &quot;uv pip install&quot; instead of &quot;pip install&quot;, and also when using uv append the argument &quot;--python &quot;, then we see differences like,
--- built in pip installs ---
keras 2.13.1
tensorflow 2.13.1
flatbuffers 24.3.25
fonttools 4.51.0
...
--- pip uv installs ---
keras 2.7.0
tensorflow 2.7.0
flatbuffers  2.0.7
fonttools 4.52.4
...
It&#x27;s not clear to me what extra args should be added to the uv command line to achieve results similar to pip.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buildqa">@buildqa</a> on 2024-06-04 21:42</div>
            <div class="timeline-body"><p>Forgot to list the argument to &quot;--python&quot; when using uv in the command above is the absolute path to minimal_python3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-21 21:29</div>
            <div class="timeline-body"><p>As discussed in https://docs.astral.sh/uv/concepts/resolution/#basic-examples, there are multiple valid resolutions for a set of requirements. We can&#x27;t guarantee that we match pip&#x27;s behavior exactly in this regard (nor can pip guarantee it will match its own behavior from version to version or even invocation to invocation). You&#x27;ll want to add more precise constraints to your requirements if you need to get an identical resolution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-21 21:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:24 UTC
    </footer>
</body>
</html>
