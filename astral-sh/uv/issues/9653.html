<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `uv check` command to validate `pyproject.toml` `uv` configuration - astral-sh/uv #9653</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>uv check</code> command to validate <code>pyproject.toml</code> <code>uv</code> configuration</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/9653">#9653</a>
        opened by <a href="https://github.com/johnthagen">@johnthagen</a>
        on 2024-12-05 03:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/johnthagen">@johnthagen</a> on 2024-12-05 03:29</div>
            <div class="timeline-body"><p>Would it make sense to add some equivalent to <code>poetry check</code> into <code>uv</code>?</p>
<ul>
<li>https://python-poetry.org/docs/cli#check</li>
</ul>
<p>The idea is that you can add this to CI and if a PR makes any change to the <code>uv</code> configuration that is invalid, this will fail the CI.</p>
<p>Looking at Poetry's implementation:</p>
<ul>
<li>https://github.com/python-poetry/poetry/blob/bd4adcb749b9a9479039830117d2b4be0457ad3d/src/poetry/console/commands/check.py#L126</li>
</ul>
<p>It currently validates:</p>
<ul>
<li>The Poetry configuration in <code>pyproject.toml</code></li>
<li>Trove classifiers are valid</li>
<li>That READMEs that should exist do</li>
<li>Dependency sources</li>
<li>Lock file freshness (i.e., <code>uv lock --locked</code>)</li>
<li>Optionally with <code>poetry check --lock</code> verify that a <code>poetry.lock</code> <em>exists</em> (e.g., that someone didn't accidentally delete it)</li>
</ul>
<p>In general, most of these checks are useful to enforce in CI for many projects. Would it make sense for <code>uv</code> to have an equivalent of some kind of <code>check</code> command?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/9128305">@9128305</a> on 2024-12-05 08:56</div>
            <div class="timeline-body"><p>Duplicate of https://github.com/astral-sh/uv/issues/7639?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2024-12-05 15:04</div>
            <div class="timeline-body"><blockquote>
<p>Duplicate of #7639?</p>
</blockquote>
<p>Certainly at least related and along a similar vein.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-05 15:18</div>
            <div class="timeline-body"><p>We have some other thoughts for a <code>uv check</code> command, but I think this is a reasonable ask.</p>
<p>I think we can consider this distinct from #7639 which seemed to focus on checking if the lockfile is up-to-date.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-12-05 15:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-05 15:49</div>
            <div class="timeline-body"><p>As reference, I think Cargo calls this command <code>verify-project</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-06 00:13</div>
            <div class="timeline-body"><p>Another interesting thing that a <code>uv check</code> could do: validate the recorded wheel hashes against the exact unzipped files on disk. Similar to https://manpages.ubuntu.com/manpages/trusty/man1/debsums.1.html.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rpdelaney">@rpdelaney</a> on 2025-04-15 23:10</div>
            <div class="timeline-body"><p><code>poetry check</code> validating the pyproject.toml file is useful as a <a href="https://pre-commit.com">pre-commit</a> hook to catch errors early. It would be appreciated if <code>uv</code> could provide this functionality as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gboeing">@gboeing</a> on 2025-06-18 00:17</div>
            <div class="timeline-body"><p>Agreed. I'm currently running <code>uvx --from=validate-pyproject[all] validate-pyproject ./pyproject.toml</code> to validate it, and it'd be great for streamlining if <code>uv</code> could provide this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/j-adamczyk">@j-adamczyk</a> on 2025-06-29 11:41</div>
            <div class="timeline-body"><p>+1, this is one of few things that Poetry supports and uv does not that I've run into</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blag">@blag</a> on 2025-11-29 19:30</div>
            <div class="timeline-body"><blockquote>
<p>Agreed. I'm currently running <code>uvx --from=validate-pyproject[all] validate-pyproject ./pyproject.toml</code> to validate it, and it'd be great for streamlining if <code>uv</code> could provide this.</p>
</blockquote>
<p>@gboeing Thanks for posting your workaround. Not sure if <code>uvx</code> has changed since your comment, but I had to tweak your command a tiny bit to get it to work for me:</p>
<pre><code class="language-bash">uvx --from &quot;validate-pyproject[all]&quot; validate-pyproject ./pyproject.toml
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:50 UTC
    </footer>
</body>
</html>
