<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip tree` should display extras - astral-sh/uv #4710</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pip tree</code> should display extras</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/4710">#4710</a>
        opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a>
        on 2024-07-01 21:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ibraheemdev">@ibraheemdev</a></div>
            <div class="timeline-body"><p><code>uv pip tree</code> should display extras that are installed in the environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-07-01 21:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-02 01:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/potiuk">@potiuk</a> on 2024-07-02 13:51</div>
            <div class="timeline-body"><p>I believe that&#x27;s impossible - that information is not stored after installation is finished - simply extras are only used while installation command runs and they are discarded (at least that&#x27;s how it work when you install packages via <code>pip</code> - but it also means that there is no metadata stored in the system that can be queried about it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-02 14:33</div>
            <div class="timeline-body"><p>Hm yeah so at best we would be guessing.</p>
<p>There&#x27;s relevant discussion about tracking the metadata at <a href="https://github.com/pypa/packaging-problems/issues/215">pypa/packaging-problems#215</a> maybe we should just track this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-07-03 01:14</div>
            <div class="timeline-body"><blockquote>
<p>There&#x27;s relevant discussion about tracking the metadata at <a href="https://github.com/pypa/packaging-problems/issues/215">pypa/packaging-problems#215</a> maybe we should just track this?</p>
</blockquote>
<p>that sounds reasonable to me - in the meantime if there&#x27;s a lot of demand on this feature people can react to this issue, probably? since there hasn&#x27;t been any update on the linked issue for years, might make sense to just implement the best-effort ðŸŒµ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Enayaaa">@Enayaaa</a> on 2024-07-30 14:11</div>
            <div class="timeline-body"><p>This would be very useful, right now, packages installed via extras are orphaned in the dependency tree.</p>
<pre><code>$ uv venv  .venv &amp;&amp; source .venv/bin/activate
$ uv pip install urllib3[socks]
$ uv pip tree
pysocks v1.7.1
urllib3 v2.2.2
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ssbarnea">@ssbarnea</a> on 2024-12-03 11:33</div>
            <div class="timeline-body"><p>Related to this, I discovered that <code>uv tree</code> does show all extras regardless of using <code>--package</code> option while <code>uv pip tree</code> does not show them. I guess the workaround is to create an isolated venv just for running the tree commands in order to obtain the desired outcome.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-03 14:34</div>
            <div class="timeline-body"><p><code>uv tree</code> can use the lockfile metadata to identify which extra a package was installed from, whereas the <code>uv pip</code> interface (and virtual environments more generally) do not have this metadata (as discussed above).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:49 UTC
    </footer>
</body>
</html>
