```yaml
number: 6492
title: "`uv add` should assume `--dev` if in a virtual workspace root"
type: issue
state: closed
author: charliermarsh
labels:
  - projects
  - cli
assignees: []
created_at: 2024-08-23T04:23:28Z
updated_at: 2024-08-28T18:07:14Z
url: https://github.com/astral-sh/uv/issues/6492
synced_at: 2026-01-10T01:57:14Z
```

# `uv add` should assume `--dev` if in a virtual workspace root

---

_Issue opened by @charliermarsh on 2024-08-23 04:23_

I find it somewhat tedious that you have to add `--dev`:

```
‚ùØ uv add flask
error: Found a virtual workspace root, but virtual projects do not support production dependencies (instead, use: `uv add --dev`)
```

---

_Label `cli` added by @charliermarsh on 2024-08-23 04:23_

---

_Label `projects` added by @charliermarsh on 2024-08-23 04:23_

---

_Comment by @TomerBin on 2024-08-23 09:29_

What do you think about suggesting to add the new dependency to a specific workspace member as another solution? 

---

_Comment by @zanieb on 2024-08-23 13:26_

This may not be applicable if we allow virtual projects.

---

_Comment by @charliermarsh on 2024-08-28 18:07_

No longer relevant as of [v0.4.0](https://github.com/astral-sh/uv/releases/tag/0.4.0) -- these "virtual workspace roots" were deprecated. Instead, users can just omit `[build-system]`, and uv will avoid building and installing it by default (but will still resolve and include its dependencies).


---

_Closed by @charliermarsh on 2024-08-28 18:07_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-08-28 18:07_

---
