<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>torch missing required nvidia dependencies - astral-sh/uv #14237</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>torch missing required nvidia dependencies</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/14237">#14237</a>
        opened by <a href="https://github.com/dolfim-ibm">@dolfim-ibm</a>
        on 2025-06-24 12:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dolfim-ibm">@dolfim-ibm</a> on 2025-06-24 12:22</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I have the following minimal example pyproject.toml</p>
<pre><code class="language-toml">[project]
name = &quot;torch-groups&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.10&quot;
dependencies = [
  &quot;torch&gt;=2.6.0&quot;,
  &quot;torchvision&gt;=0.21.0&quot;,
]

[dependency-groups]
cpu = [
  &quot;torch&gt;=2.6.0&quot;,
  &quot;torchvision&gt;=0.21.0&quot;,
]
cu126 = [
  &quot;torch&gt;=2.6.0&quot;,
  &quot;torchvision&gt;=0.21.0&quot;,
]

[tool.uv]
package = true
conflicts = [
  [
    { group = &quot;cpu&quot; },
    { group = &quot;cu126&quot; },
  ],
]

[tool.uv.sources]
torch = [
  { index = &quot;pytorch-cpu&quot;, group = &quot;cpu&quot; },
  { index = &quot;pytorch-cu126&quot;, group = &quot;cu126&quot; },
]
torchvision = [
  { index = &quot;pytorch-cpu&quot;, group = &quot;cpu&quot; },
  { index = &quot;pytorch-cu126&quot;, group = &quot;cu126&quot; },
]

[[tool.uv.index]]
name = &quot;pytorch-cpu&quot;
url = &quot;https://download.pytorch.org/whl/cpu&quot;
explicit = true

[[tool.uv.index]]
name = &quot;pytorch-cu126&quot;
url = &quot;https://download.pytorch.org/whl/cu126&quot;
explicit = true
</code></pre>
<p>The expected behavior would be</p>
<ol>
<li><code>uv sync</code> should install the pypi packages<ul>
<li>for linux x86_64 it should actually install the cuda version</li>
<li>for other OS or arch, the pypi packages are cpu-only</li>
</ul>
</li>
<li><code>uv sync --group cpu</code> should install from the cpu index</li>
<li><code>uv sync --group cu126</code> should install from the cuda 12.6 index</li>
</ol>
<p>Unfortunately, the <code>uv.lock</code> file contains the following</p>
<pre><code>[[package]]
name = &quot;torch&quot;
version = &quot;2.7.1&quot;
source = { registry = &quot;https://pypi.org/simple&quot; }
resolution-markers = [
    &quot;python_full_version &gt;= '3.12'&quot;,
    &quot;python_full_version == '3.11.*'&quot;,
    &quot;python_full_version &lt; '3.11'&quot;,
]
dependencies = [
    { name = &quot;filelock&quot;, marker = &quot;(extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126') or (extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;fsspec&quot;, marker = &quot;(extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126') or (extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;jinja2&quot;, marker = &quot;(extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126') or (extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;networkx&quot;, version = &quot;3.4.2&quot;, source = { registry = &quot;https://pypi.org/simple&quot; }, marker = &quot;(python_full_version &lt; '3.11' and extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126') or (extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;networkx&quot;, version = &quot;3.5&quot;, source = { registry = &quot;https://pypi.org/simple&quot; }, marker = &quot;(python_full_version &gt;= '3.11' and extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126') or (extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;setuptools&quot;, marker = &quot;(python_full_version &gt;= '3.12' and extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126') or (extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;sympy&quot;, marker = &quot;(extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126') or (extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126')&quot; },
    { name = &quot;typing-extensions&quot;, marker = &quot;(extra == 'group-12-torch-groups-cpu' and extra == 'group-12-torch-groups-cu126') or (extra != 'group-12-torch-groups-cpu' and extra != 'group-12-torch-groups-cu126')&quot; },
]
wheels = [
    { url = &quot;https://files.pythonhosted.org/packages/6a/27/2e06cb52adf89fe6e020963529d17ed51532fc73c1e6d1b18420ef03338c/torch-2.7.1-cp310-cp310-manylinux_2_28_aarch64.whl&quot;, hash = &quot;sha256:a103b5d782af5bd119b81dbcc7ffc6fa09904c423ff8db397a1e6ea8fd71508f&quot;, size = 99089441, upload-time = &quot;2025-06-04T17:38:48.268Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/0a/7c/0a5b3aee977596459ec45be2220370fde8e017f651fecc40522fd478cb1e/torch-2.7.1-cp310-cp310-manylinux_2_28_x86_64.whl&quot;, hash = &quot;sha256:fe955951bdf32d182ee8ead6c3186ad54781492bf03d547d31771a01b3d6fb7d&quot;, size = 821154516, upload-time = &quot;2025-06-04T17:36:28.556Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/f9/91/3d709cfc5e15995fb3fe7a6b564ce42280d3a55676dad672205e94f34ac9/torch-2.7.1-cp310-cp310-win_amd64.whl&quot;, hash = &quot;sha256:885453d6fba67d9991132143bf7fa06b79b24352f4506fd4d10b309f53454162&quot;, size = 216093147, upload-time = &quot;2025-06-04T17:39:38.132Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/92/f6/5da3918414e07da9866ecb9330fe6ffdebe15cb9a4c5ada7d4b6e0a6654d/torch-2.7.1-cp310-none-macosx_11_0_arm64.whl&quot;, hash = &quot;sha256:d72acfdb86cee2a32c0ce0101606f3758f0d8bb5f8f31e7920dc2809e963aa7c&quot;, size = 68630914, upload-time = &quot;2025-06-04T17:39:31.162Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/11/56/2eae3494e3d375533034a8e8cf0ba163363e996d85f0629441fa9d9843fe/torch-2.7.1-cp311-cp311-manylinux_2_28_aarch64.whl&quot;, hash = &quot;sha256:236f501f2e383f1cb861337bdf057712182f910f10aeaf509065d54d339e49b2&quot;, size = 99093039, upload-time = &quot;2025-06-04T17:39:06.963Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/e5/94/34b80bd172d0072c9979708ccd279c2da2f55c3ef318eceec276ab9544a4/torch-2.7.1-cp311-cp311-manylinux_2_28_x86_64.whl&quot;, hash = &quot;sha256:06eea61f859436622e78dd0cdd51dbc8f8c6d76917a9cf0555a333f9eac31ec1&quot;, size = 821174704, upload-time = &quot;2025-06-04T17:37:03.799Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/50/9e/acf04ff375b0b49a45511c55d188bcea5c942da2aaf293096676110086d1/torch-2.7.1-cp311-cp311-win_amd64.whl&quot;, hash = &quot;sha256:8273145a2e0a3c6f9fd2ac36762d6ee89c26d430e612b95a99885df083b04e52&quot;, size = 216095937, upload-time = &quot;2025-06-04T17:39:24.83Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/5b/2b/d36d57c66ff031f93b4fa432e86802f84991477e522adcdffd314454326b/torch-2.7.1-cp311-none-macosx_11_0_arm64.whl&quot;, hash = &quot;sha256:aea4fc1bf433d12843eb2c6b2204861f43d8364597697074c8d38ae2507f8730&quot;, size = 68640034, upload-time = &quot;2025-06-04T17:39:17.989Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/87/93/fb505a5022a2e908d81fe9a5e0aa84c86c0d5f408173be71c6018836f34e/torch-2.7.1-cp312-cp312-manylinux_2_28_aarch64.whl&quot;, hash = &quot;sha256:27ea1e518df4c9de73af7e8a720770f3628e7f667280bce2be7a16292697e3fa&quot;, size = 98948276, upload-time = &quot;2025-06-04T17:39:12.852Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/56/7e/67c3fe2b8c33f40af06326a3d6ae7776b3e3a01daa8f71d125d78594d874/torch-2.7.1-cp312-cp312-manylinux_2_28_x86_64.whl&quot;, hash = &quot;sha256:c33360cfc2edd976c2633b3b66c769bdcbbf0e0b6550606d188431c81e7dd1fc&quot;, size = 821025792, upload-time = &quot;2025-06-04T17:34:58.747Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/a1/37/a37495502bc7a23bf34f89584fa5a78e25bae7b8da513bc1b8f97afb7009/torch-2.7.1-cp312-cp312-win_amd64.whl&quot;, hash = &quot;sha256:d8bf6e1856ddd1807e79dc57e54d3335f2b62e6f316ed13ed3ecfe1fc1df3d8b&quot;, size = 216050349, upload-time = &quot;2025-06-04T17:38:59.709Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/3a/60/04b77281c730bb13460628e518c52721257814ac6c298acd25757f6a175c/torch-2.7.1-cp312-none-macosx_11_0_arm64.whl&quot;, hash = &quot;sha256:787687087412c4bd68d315e39bc1223f08aae1d16a9e9771d95eabbb04ae98fb&quot;, size = 68645146, upload-time = &quot;2025-06-04T17:38:52.97Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/66/81/e48c9edb655ee8eb8c2a6026abdb6f8d2146abd1f150979ede807bb75dcb/torch-2.7.1-cp313-cp313-manylinux_2_28_aarch64.whl&quot;, hash = &quot;sha256:03563603d931e70722dce0e11999d53aa80a375a3d78e6b39b9f6805ea0a8d28&quot;, size = 98946649, upload-time = &quot;2025-06-04T17:38:43.031Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/3a/24/efe2f520d75274fc06b695c616415a1e8a1021d87a13c68ff9dce733d088/torch-2.7.1-cp313-cp313-manylinux_2_28_x86_64.whl&quot;, hash = &quot;sha256:d632f5417b6980f61404a125b999ca6ebd0b8b4bbdbb5fbbba44374ab619a412&quot;, size = 821033192, upload-time = &quot;2025-06-04T17:38:09.146Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/dd/d9/9c24d230333ff4e9b6807274f6f8d52a864210b52ec794c5def7925f4495/torch-2.7.1-cp313-cp313-win_amd64.whl&quot;, hash = &quot;sha256:23660443e13995ee93e3d844786701ea4ca69f337027b05182f5ba053ce43b38&quot;, size = 216055668, upload-time = &quot;2025-06-04T17:38:36.253Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/95/bf/e086ee36ddcef9299f6e708d3b6c8487c1651787bb9ee2939eb2a7f74911/torch-2.7.1-cp313-cp313t-macosx_14_0_arm64.whl&quot;, hash = &quot;sha256:0da4f4dba9f65d0d203794e619fe7ca3247a55ffdcbd17ae8fb83c8b2dc9b585&quot;, size = 68925988, upload-time = &quot;2025-06-04T17:38:29.273Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/69/6a/67090dcfe1cf9048448b31555af6efb149f7afa0a310a366adbdada32105/torch-2.7.1-cp313-cp313t-manylinux_2_28_aarch64.whl&quot;, hash = &quot;sha256:e08d7e6f21a617fe38eeb46dd2213ded43f27c072e9165dc27300c9ef9570934&quot;, size = 99028857, upload-time = &quot;2025-06-04T17:37:50.956Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/90/1c/48b988870823d1cc381f15ec4e70ed3d65e043f43f919329b0045ae83529/torch-2.7.1-cp313-cp313t-manylinux_2_28_x86_64.whl&quot;, hash = &quot;sha256:30207f672328a42df4f2174b8f426f354b2baa0b7cca3a0adb3d6ab5daf00dc8&quot;, size = 821098066, upload-time = &quot;2025-06-04T17:37:33.939Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/7b/eb/10050d61c9d5140c5dc04a89ed3257ef1a6b93e49dd91b95363d757071e0/torch-2.7.1-cp313-cp313t-win_amd64.whl&quot;, hash = &quot;sha256:79042feca1c634aaf6603fe6feea8c6b30dfa140a6bbc0b973e2260c7e79a22e&quot;, size = 216336310, upload-time = &quot;2025-06-04T17:36:09.862Z&quot; },
    { url = &quot;https://files.pythonhosted.org/packages/b1/29/beb45cdf5c4fc3ebe282bf5eafc8dfd925ead7299b3c97491900fe5ed844/torch-2.7.1-cp313-none-macosx_11_0_arm64.whl&quot;, hash = &quot;sha256:988b0cbc4333618a1056d2ebad9eb10089637b659eb645434d0809d8d937b946&quot;, size = 68645708, upload-time = &quot;2025-06-04T17:34:39.852Z&quot; },
]
</code></pre>
<p>The <strong>important missing piece</strong> is that <code>dependencies</code> doesn't contain the <code>nvidia-</code> dependencies.</p>
<p>As a result, when I install with <code>uv sync</code> (no group) in linux x86_64:</p>
<ol>
<li>uv installs the wheel from https://pypi.org/simple, which is linking to libcublas.so, etc</li>
<li>but it doesn't install the nvidia-cuda packages</li>
</ol>
<p>At runtime I get the following error</p>
<pre><code>Traceback (most recent call last):
  File &quot;/opt/app-root/lib64/python3.12/site-packages/torch/__init__.py&quot;, line 312, in _load_global_deps
    ctypes.CDLL(global_deps_lib_path, mode=ctypes.RTLD_GLOBAL)
  File &quot;/usr/lib64/python3.12/ctypes/__init__.py&quot;, line 379, in __init__
    self._handle = _dlopen(self._name, mode)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
OSError: libcudart.so.12: cannot open shared object file: No such file or directory
</code></pre>
<h3>Platform</h3>
<p>Darwin 24.5.0 arm64</p>
<h3>Version</h3>
<p>uv 0.7.14 (e7f596711 2025-06-23)</p>
<h3>Python version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @dolfim-ibm on 2025-06-24 12:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">great writeup</span> added by @konstin on 2025-06-24 13:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-24 13:41</div>
            <div class="timeline-body"><p>I've minimized the example by removing torchvision, and confirmed the METADATA (specifically the <code>Requires-Dist</code>) is consistent for torch 2.7.1 on PyPI.</p>
<pre><code class="language-toml">[project]
name = &quot;debug&quot;
version = &quot;0.1.0&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = [&quot;torch&gt;=2.6.0&quot;]

[dependency-groups]
cpu = [&quot;torch&gt;=2.6.0&quot;]
cu126 = [&quot;torch&gt;=2.6.0&quot;]

[tool.uv]
conflicts = [
  [
    { group = &quot;cpu&quot; },
    { group = &quot;cu126&quot; },
  ],
]

[tool.uv.sources]
torch = [
  { index = &quot;pytorch-cpu&quot;, group = &quot;cpu&quot; },
  { index = &quot;pytorch-cu126&quot;, group = &quot;cu126&quot; },
]

[[tool.uv.index]]
name = &quot;pytorch-cpu&quot;
url = &quot;https://download.pytorch.org/whl/cpu&quot;
explicit = true

[[tool.uv.index]]
name = &quot;pytorch-cu126&quot;
url = &quot;https://download.pytorch.org/whl/cu126&quot;
explicit = true
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @BurntSushi on 2025-06-26 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-07-01 19:57</div>
            <div class="timeline-body"><p>What I think I'm seeing here is that while the wheel metadata may be consistent across wheels published in the same index, it seems to <em>not</em> match wheel metadata for different local versions in the pytorch index. I'm not sure if there is expectation for it to be so, but for example:</p>
<pre><code>$ curl -sL 'https://download.pytorch.org/whl/cpu/torch-2.7.1%2Bcpu-cp312-cp312-manylinux_2_28_aarch64.whl.metadata' | rg Requires-Dist
Requires-Dist: filelock
Requires-Dist: typing-extensions&gt;=4.10.0
Requires-Dist: setuptools; python_version &gt;= &quot;3.12&quot;
Requires-Dist: sympy&gt;=1.13.3
Requires-Dist: networkx
Requires-Dist: jinja2
Requires-Dist: fsspec
Requires-Dist: optree&gt;=0.13.0; extra == &quot;optree&quot;
Requires-Dist: opt-einsum&gt;=3.3; extra == &quot;opt-einsum&quot;

$ curl -sL 'https://files.pythonhosted.org/packages/87/93/fb505a5022a2e908d81fe9a5e0aa84c86c0d5f408173be71c6018836f34e/torch-2.7.1-cp312-cp312-manylinux_2_28_aarch64.whl.metadata' | rg Requires-Dist
Requires-Dist: filelock
Requires-Dist: typing-extensions&gt;=4.10.0
Requires-Dist: setuptools; python_version &gt;= &quot;3.12&quot;
Requires-Dist: sympy&gt;=1.13.3
Requires-Dist: networkx
Requires-Dist: jinja2
Requires-Dist: fsspec
Requires-Dist: nvidia-cuda-nvrtc-cu12==12.6.77; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cuda-runtime-cu12==12.6.77; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cuda-cupti-cu12==12.6.80; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cudnn-cu12==9.5.1.17; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cublas-cu12==12.6.4.1; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cufft-cu12==11.3.0.4; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-curand-cu12==10.3.7.77; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cusolver-cu12==11.7.1.2; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cusparse-cu12==12.5.4.2; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cusparselt-cu12==0.6.3; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-nccl-cu12==2.26.2; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-nvtx-cu12==12.6.77; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-nvjitlink-cu12==12.6.85; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: nvidia-cufile-cu12==1.11.1.6; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: triton==3.3.1; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot;
Requires-Dist: optree&gt;=0.13.0; extra == &quot;optree&quot;
Requires-Dist: opt-einsum&gt;=3.3; extra == &quot;opt-einsum&quot;
</code></pre>
<p>What I <em>think</em> is happening here is that the metadata from the wheels in the pytorch index is somehow being used for the metadata for the torch pypi package. I haven't quite figured out why that's happening yet (and whether it's even related to conflict markers). However, I can at least confirm that by the time we build the dependency graph and before most of the conflict marker simplification is performed, we've already lost the nvidia dependencies here for the PyPI torch package.</p>
<p>My next step here is to figure out exactly why the right metadata isn't being used here and whether that can be fixed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-07-02 18:44</div>
            <div class="timeline-body"><p>After a bit more investigation, what ends up happening here is that <code>cpu = [&quot;torch&gt;=2.6.0&quot;]</code> from <code>pyproject.toml</code> ends up introducing a dependency on <code>torch 2.7.1</code> <em>and</em> <code>torch 2.7.1+cpu</code> from <code>pytorch.org</code>, where the former is used on darwin-only and the latter is used otherwise. But there is <em>also</em> a <code>torch 2.7.1</code> dependency from PyPI introduced by <code>dependencies = [&quot;torch&gt;=2.6.0&quot;]</code>.</p>
<p>As shown in my previous comment, the wheels from <code>torch 2.7.1</code> on the pytorch.org and PyPI index have <em>different metadata</em>. I don't know if that's intended or not, but it sure seems strange.</p>
<p>Normally, uv requires that wheels published for the same version of a package have the same metadata. Historically, I've always conceived of that as wheels for the same <em>index</em>. But it seems like, at least today, we require that to be true for all wheels of a single version of a package across all active indexes during resolution. Off the top of my head, it's not totally clear what would be needed to lift that assumption (or if it's practical to do so). For example, we key all of our wheel metadata off of <a href="https://github.com/astral-sh/uv/blob/3774a656d7c864370408b8c253909af3b83296d5/crates/uv-distribution-types/src/id.rs#L42-L49"><code>VersionId</code></a>, which is in turn only a pair of package name and version. It doesn't include the index URL. So that <em>at minimum</em>, I think, would need to change.</p>
<p>cc @konstin to check my understanding here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-07-02 19:19</div>
            <div class="timeline-body"><p>That matches my understanding.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../NovaSky-AI/SkyRL/pulls/341.html">NovaSky-AI/SkyRL#341</a> on 2025-09-29 02:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:28 UTC
    </footer>
</body>
</html>
