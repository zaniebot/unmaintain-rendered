```yaml
number: 13429
title: SIGINT is being handled very strangely in interactive shell
type: issue
state: closed
author: bedilbek
labels:
  - question
assignees: []
created_at: 2025-05-13T11:15:38Z
updated_at: 2025-06-23T15:23:03Z
url: https://github.com/astral-sh/uv/issues/13429
synced_at: 2026-01-10T01:57:30Z
```

# SIGINT is being handled very strangely in interactive shell

---

_Issue opened by @bedilbek on 2025-05-13 11:15_

### Summary

## Expected Behavior
```shell
python3.12
Python 3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> 
KeyboardInterrupt
>>> 
>>> 
KeyboardInterrupt
>>> 
>>> 
```

In a normal interactive Python shell, when I press SIGINT, it just sends only one interrupt, which is a normal behavior

## Actual Behavior (uv python interactive shell)
```shell
uv run python
Python 3.12.3 (main, Feb  4 2025, 14:48:35) [GCC 13.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> 
>>> 
KeyboardInterrupt
>>> 
>>> 
KeyboardInterrupt
>>> 
KeyboardInterrupt
>>> 
>>> 
KeyboardInterrupt
>>> 
KeyboardInterrupt
>>> 
>>> 
```

In the `uv` run interactive Python shell, when I press SIGINT for the first time, I get only an interrupt, which is okay, however, second, third, and subsequent SIGINT interrupt gets executed twice, so I get two interrupts in the strange console output. Also, after SIGINT key press, I guess Enter key gets pressed first, and then only interrupt, which feels even more bizarre.

## Actual Behavior (docker uv python interactive shell)
```shell
docker run --rm -it ghcr.io/astral-sh/uv:python3.12-bookworm-slim uv run python
Python 3.12.10 (main, Apr 28 2025, 22:12:29) [GCC 12.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> 
>>> 
KeyboardInterrupt
>>> 
>>> 
KeyboardInterrupt
>>> 
KeyboardInterrupt
>>> 
>>> 
KeyboardInterrupt
>>> 
KeyboardInterrupt
>>> 
>>> 
```

So the same problem can be observed both from the Docker container and from the host

### Platform

Ubuntu 24.04.2 LTS

### Version

uv 0.7.3

### Python version

Python 3.12.3
Python 3.12.10

---

_Label `bug` added by @bedilbek on 2025-05-13 11:15_

---

_Renamed from "SIGINT is being handled very strangely" to "SIGINT is being handled very strangely in interactive shell" by @bedilbek on 2025-05-13 11:15_

---

_Comment by @zanieb on 2025-05-13 12:16_

See https://github.com/astral-sh/uv/issues/12108#issuecomment-2715153717

Your shell is sending one SIGINT, uv is sending another.

---

_Label `bug` removed by @zanieb on 2025-05-13 12:17_

---

_Label `question` added by @zanieb on 2025-05-13 12:17_

---

_Closed by @zanieb on 2025-06-01 04:57_

---

_Referenced in [astral-sh/uv#13919](../../astral-sh/uv/issues/13919.md) on 2025-06-09 15:23_

---

_Comment by @bedilbek on 2025-06-23 15:22_

I opened this issue as it was the smallest reproducible issue similar to #13919. Because I couldn't make infinite interrupt reproducible and it only happened in one of my complex environments.

At least thanks that #13919 was solved

---
