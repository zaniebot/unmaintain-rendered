<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support extras inference so that  `uvx mylib[extra] &lt;args&gt; `  ‚Äújust works‚Äù without needing `--from` - astral-sh/uv #12959</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support extras inference so that  `uvx mylib[extra] &lt;args&gt; `  ‚Äújust works‚Äù without needing `--from`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/12959">#12959</a>
        opened by <a href="https://github.com/aaronsteers">@aaronsteers</a>
        on 2025-04-18 03:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/aaronsteers">@aaronsteers</a> on 2025-04-18 03:28</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Right now, to install &amp; run a tool with extras in one shot you must say:</p>
<pre><code class="language-bash">uvx --from 'airbyte‚Äëcdk[cli]' airbyte‚Äëcdk &lt;args&gt;
</code></pre>
<p>It would be wonderful if <code>uvx</code> could recognize the common PEP¬†508 extras syntax when used in the ‚Äútool‚Äù position and automatically infer the equivalent <code>--from</code> behind the scenes. That way we could provide the more consise and typeable:</p>
<pre><code class="language-bash">uvx airbyte‚Äëcdk[cli] sync --help
</code></pre>
<p>instead of requiring the more verbose:</p>
<pre><code class="language-bash">uvx --from 'airbyte‚Äëcdk[cli]' airbyte‚Äëcdk sync --help
</code></pre>
<hr />
<h3>Motivation &amp; Precedent</h3>
<ul>
<li><p><strong>Ease of typing</strong><br />
Repeating the library name twice (<code>airbyte‚Äëcdk</code> in this case) in CLI invocations adds friction and cognitive load, especially for quick one‚Äëoff runs.</p>
</li>
<li><p><strong>pipx</strong><br />
<code>pipx run package[extras] ‚Ä¶</code> lets you specify extras directly in the package specifier, without a separate flag.</p>
</li>
<li><p><strong>npx / npm exec</strong><br />
You can say <code>npx pkg@version ‚Ä¶</code> or <code>npm exec --package pkg@version ‚Ä¶ cmd</code> in a similarly discoverable, ergonomic way.</p>
</li>
<li><p><strong>PEP¬†508</strong><br />
Extras are already a first‚Äëclass concept in Python packaging; leveraging that syntax feels idiomatic to Python users.</p>
</li>
</ul>
<hr />
<h3>Proposed Behavior</h3>
<ol>
<li><p><strong>Detect</strong> when the first argument to <code>uvx</code> matches <code>&lt;name&gt;[&lt;extras&gt;]</code>.</p>
</li>
<li><p><strong>Automatically transform</strong> it into:</p>
<pre><code class="language-bash">uvx --from '&lt;name&gt;[&lt;extras&gt;]' &lt;name&gt; [remaining args‚Ä¶]
</code></pre>
</li>
<li><p><strong>Fall back</strong> to the existing logic if no extras‚Äëbrackets are detected.</p>
</li>
</ol>
<hr />
<h3>Example</h3>
<pre><code class="language-bash"># Today ‚Äî awkward repetition
uvx --from 'airbyte‚Äëcdk[cli]' airbyte‚Äëcdk sync

# With extras‚Äëinference ‚Äî succinct
uvx airbyte‚Äëcdk[cli] sync
</code></pre>
<hr />
<h3>Alternatives Considered</h3>
<ul>
<li><p><strong>Aliases</strong> or shell functions: always external to <code>uvx</code> itself</p>
</li>
<li><p><strong>Persistent install</strong> via <code>uv tool install</code>, but that loses the ‚Äúone‚Äëshot‚Äù convenience</p>
</li>
<li><p>A new flag like <code>uvx --extras</code>, which still forces an extra keystroke and a flag</p>
</li>
</ul>
<hr />
<h3>Thank You!</h3>
<p>I am a huge fan of <code>uv</code> and I love how powerful¬†<code>uvx</code> is by extension. This tiny quality‚Äëof‚Äëlife improvement would make it that much smoother for ephemeral CLI usage. Thanks for considering! üôè</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @aaronsteers on 2025-04-18 03:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ravencentric">@Ravencentric</a> on 2025-04-18 12:26</div>
            <div class="timeline-body"><p>The proposed syntax already works:</p>
<pre><code class="language-console">‚ùØ uv --version
uv 0.6.14 (a4cec56dc 2025-04-09)
‚ùØ uvx --version
uv-tool-uvx 0.6.14 (a4cec56dc 2025-04-09)
‚ùØ uvx httpx[cli] https://httpbin.org/json
Installed 13 packages in 139ms
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 429
Connection: keep-alive
Server: gunicorn/19.9.0
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: true

{
    &quot;slideshow&quot;: {
        &quot;author&quot;: &quot;Yours Truly&quot;,
        &quot;date&quot;: &quot;date of publication&quot;,
        &quot;slides&quot;: [
            {
                &quot;title&quot;: &quot;Wake up to WonderWidgets!&quot;,
                &quot;type&quot;: &quot;all&quot;
            },
            {
                &quot;items&quot;: [
                    &quot;Why &lt;em&gt;WonderWidgets&lt;/em&gt; are great&quot;,
                    &quot;Who &lt;em&gt;buys&lt;/em&gt; WonderWidgets&quot;
                ],
                &quot;title&quot;: &quot;Overview&quot;,
                &quot;type&quot;: &quot;all&quot;
            }
        ],
        &quot;title&quot;: &quot;Sample Slide Show&quot;
    }
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aaronsteers">@aaronsteers</a> on 2025-04-18 21:27</div>
            <div class="timeline-body"><p>Oh, awesome! Sorry I missed this. Resolving! üôè</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @aaronsteers on 2025-04-18 21:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
