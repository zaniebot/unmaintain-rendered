<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using system-level installed package on specific platforms? - astral-sh/uv #9087</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Using system-level installed package on specific platforms?</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/9087">#9087</a>
        opened by <a href="https://github.com/NGTOne">@NGTOne</a>
        on 2024-11-13 15:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/NGTOne">@NGTOne</a></div>
            <div class="timeline-body"><p>So I've got kind of an unfortunate case: I have a Docker image for <code>aarch64</code>, which contains an installed wheel for a compiled version of <code>tensorflow</code> in the system Python's <code>dist-packages</code>. <code>tensorflow</code> does not distribute a compiled wheel for <code>aarch64</code> through PyPI (or anywhere else that I can find), and I'm fairly certain that the installed version in this Docker image also isn't &quot;standard&quot; <code>tensorflow</code> but contains some additional customizations by Nvidia for the specific hardware platform I'm on. This means I have a very strong incentive not to pull the public wheel, since it will have an extremely lengthy build step and may not even work at all.</p>
<p>So the obvious answer is to specify <code>tensorflow</code> as normal, and then set a path dependency for it with an <code>aarch64</code> platform marker. However, this fails to lock, because I do not have this structure on the <code>amd64</code> system where I'm actually doing my development (and have no realistic way to generate it because of the extreme platform difference). <code>amd64</code> systems are allowed to use the standard TensorFlow distributed through PyPI.</p>
<p>Is there a way I can manage my case? Poetry failed with this too for similar reasons, and I ended up resorting to copying the whole package from the system Python's <code>dist-packages</code> into the venv as a Docker step.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Using system-level installed package on specific platforms" to "Using system-level installed package on specific platforms?" by @NGTOne on 2024-11-13 15:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:28:20 UTC
    </footer>
</body>
</html>
