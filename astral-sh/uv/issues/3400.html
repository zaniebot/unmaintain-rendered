<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question: Pass in `ClientWithMiddleware` to `RegistryClient` and `Builder` - astral-sh/uv #3400</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Question: Pass in `ClientWithMiddleware` to `RegistryClient` and `Builder`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/3400">#3400</a>
        opened by <a href="https://github.com/tdejager">@tdejager</a>
        on 2024-05-06 09:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tdejager">@tdejager</a> on 2024-05-06 09:38</div>
            <div class="timeline-body"><p>For use in pixi, it would be great if we could use our own middleware for the Reqwest Client, instead of having to rely on the middleware that uv provides :)</p>
<p>Would you guys be open for directly accepting a <code>ClientWithMiddleware</code> in the <code>RegistryClient</code> (I could make a PR for this)? I think this addition maybe does not make a lot of sense from a uv-as-a-binary perspective, as you most likely want to control your own middleware. But I believe it does make sense from a library perspective, as library users can add their own authentication middleware and whatnot. There is an open question in the design if it should be layered on top of your middleware or replace it, again from a library perspective I think replacing it make sense.</p>
<p>How would you feel about this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3502.html">astral-sh/uv#3502</a> on 2024-05-10 08:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rustlib</span> added by @charliermarsh on 2024-05-15 00:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9346.html">astral-sh/uv#9346</a> on 2024-11-23 03:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:57 UTC
    </footer>
</body>
</html>
