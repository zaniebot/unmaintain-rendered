<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv 0.6.7 tls handshake eof - astral-sh/uv #12262</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv 0.6.7 tls handshake eof</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12262">#12262</a>
        opened by <a href="https://github.com/leon1995">@leon1995</a>
        on 2025-03-18 08:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/leon1995">@leon1995</a> on 2025-03-18 08:34</div>
            <div class="timeline-body"><h3>Question</h3>
<p>When using a https proxy in <code>uv</code> version <code>0.6.7</code> in combination with a custom index url, I receive the following error</p>
<pre><code>uv sync --reinstall
Resolved 116 packages in 5ms
  × Failed to download `uvicorn==0.23.2`
  ├─▶ Failed to fetch:
  │   `https://my-corp-index-url/uvicorn-0.23.2-py3-none-any.whl`
  ├─▶ Request failed after 3 retries
  ├─▶ error sending request for url
  │   (https://my-corp-index-url/uvicorn-0.23.2-py3-none-any.whl)
  ├─▶ client error (Connect)
  ╰─▶ tls handshake eof
  help: `uvicorn` (v0.23.2) was included because `...` depends on `...` (v...) which depends on `uvicorn`
</code></pre>
<p>This is not a problem in earlier versions of <code>uv</code>. I explicitly checked versions <code>0.6.4</code>, <code>0.6.5</code>, <code>0.6.6</code>. I couldn't find any hints in the release notes for <code>0.6.7</code> that is related to my problem.</p>
<h3>Platform</h3>
<p>windows 11</p>
<h3>Version</h3>
<p>0.6.7</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @leon1995 on 2025-03-18 08:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-18 13:11</div>
            <div class="timeline-body"><p>I would assume this is due to updating <code>reqwest</code> in #12219.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-18 13:34</div>
            <div class="timeline-body"><p>Are you able to test a binary if we put up a branch?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-18 13:37</div>
            <div class="timeline-body"><p>Are you using proxy exclusions? e.g., as described in:</p>
<ul>
<li>https://github.com/seanmonstar/reqwest/issues/1444</li>
<li>https://github.com/seanmonstar/reqwest/issues/2599</li>
<li>https://github.com/astral-sh/uv/issues/11640</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @zanieb on 2025-03-18 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2025-03-18 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leon1995">@leon1995</a> on 2025-03-18 14:02</div>
            <div class="timeline-body"><blockquote>
<p>Are you able to test a binary if we put up a branch?</p>
</blockquote>
<p>yes</p>
<blockquote>
<p>Are you using proxy exclusions? e.g., as described in:
...</p>
</blockquote>
<p>I have a <code>NO_PROXY</code> environment variable where exclusions are configured</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-18 14:53</div>
            <div class="timeline-body"><p>I suspect this is</p>
<ul>
<li>https://github.com/seanmonstar/reqwest/pull/2601</li>
<li>https://github.com/seanmonstar/reqwest/issues/2599</li>
</ul>
<p>It should be fixed in the next reqwest release. We could probably release with that commit if we release before them? @charliermarsh</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-03-18 17:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:44:26 UTC
    </footer>
</body>
</html>
