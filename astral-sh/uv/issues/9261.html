<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&quot;uv sync --all-packages&quot; is not adding groups other than dev - astral-sh/uv #9261</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>&quot;uv sync --all-packages&quot; is not adding groups other than dev</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9261">#9261</a>
        opened by <a href="https://github.com/inoa-jboliveira">@inoa-jboliveira</a>
        on 2024-11-20 03:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/inoa-jboliveira">@inoa-jboliveira</a> on 2024-11-20 03:07</div>
            <div class="timeline-body"><p>According to <a href="https://docs.astral.sh/uv/reference/cli/#uv-sync">docs</a>, <code>--all-packages</code> should</p>
<blockquote>
<p>Sync all packages in the workspace.</p>
</blockquote>
<p>I thought this meant <strong>all</strong> dependency-groups too. I recently moved from extras to the new groups which seemed to suit my needs better but then I did not realize it was removing packages in other dependency groups we have with special meaning.</p>
<p>See below pip was added in group build</p>
<pre><code>$ cat pyproject.toml
[project]
name = &quot;bugsync&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = [
    &quot;numpy&gt;=2.1.3&quot;,
]

[dependency-groups]
dev = [
    &quot;pytest&gt;=8.3.3&quot;,
]
build = [
    &quot;pip&gt;=24.3.1&quot;,
]
</code></pre>
<p>Explicit sync of group build adds it, but --all-packages removes it!</p>
<pre><code>$ uv sync --group build
Resolved 8 packages in 0.85ms
Installed 1 package in 101ms
 + pip==24.3.1

$ uv sync --all-packages
Resolved 8 packages in 0.83ms
Uninstalled 1 package in 30ms
 - pip==24.3.1
</code></pre>
<p>So is it ALL packages or really some packages? And how do I enforce all the packages across extras and groups passing defining each group in the sync command?</p>
<p>$ uv version
uv 0.5.3 (56d362208 2024-11-19)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-20 03:09</div>
            <div class="timeline-body"><p><code>--all-packages</code> syncs all the <em>workspace members</em>, similar to how <code>--package</code> syncs a specific workspace member.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inoa-jboliveira">@inoa-jboliveira</a> on 2024-11-20 03:17</div>
            <div class="timeline-body"><p>Thank you for swift reply! My mistake, I had no idea workspace meant something else in this context. This command seemed to be introduced at the same time as dependency groups and in my head was the more complete version of &quot;--all-extras&quot; to include also groups.</p>
<p>I believe --all-packages is not a great name for something like this, but I digress</p>
<p>How can one sync all the dependencies including extras and groups of an app?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inoa-jboliveira">@inoa-jboliveira</a> on 2024-11-20 03:20</div>
            <div class="timeline-body"><p>I think I saw somewhere a discussion about a &quot;--all&quot; flag, but I canÂ´t find it anymore nor the option exists</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-20 03:23</div>
            <div class="timeline-body"><p>Yeah we plan to rename it to <code>--all-members</code> in the future.</p>
<p><code>--all-extras</code> exists, but <code>--all-groups</code> is still in PR (#8892).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inoa-jboliveira">@inoa-jboliveira</a> on 2024-11-20 03:27</div>
            <div class="timeline-body"><p>Thank you. --all-groups would be enough for me, as I could combine it with --all-extras</p>
<p>The #8892 PR seems a bit stale, but hopefully it gets merged.</p>
<p>I will close this issue since it is a duplicate of #8594 then</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @inoa-jboliveira on 2024-11-20 03:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9755.html">astral-sh/uv#9755</a> on 2024-12-10 00:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:24 UTC
    </footer>
</body>
</html>
