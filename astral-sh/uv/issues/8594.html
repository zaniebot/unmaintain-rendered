<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `--all-group` option to `uv sync` - astral-sh/uv #8594</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add `--all-group` option to `uv sync`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8594">#8594</a>
        opened by <a href="https://github.com/shoucandanghehe">@shoucandanghehe</a>
        on 2024-10-26 14:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/shoucandanghehe">@shoucandanghehe</a> on 2024-10-26 14:22</div>
            <div class="timeline-body"><p>When installing multiple dependency groups you need to specify <code>--group</code> multiple times, which can be annoying if you want to install many dependency groups at the same time</p>
<p>Also <code>--all-group</code> should be able to be used in conjunction with <code>--no-group</code> in case you don't want to actually install all the dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-26 14:50</div>
            <div class="timeline-body"><p>Sure, we could add <code>--all-groups</code> throughout to match <code>--all-extras</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2024-10-26 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-10-26 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/frfahim">@frfahim</a> on 2024-10-26 18:07</div>
            <div class="timeline-body"><p>The <code>--all-group</code> command would be very helpful to install all groups with a single command.
Also it would be great to support multiple groups together within one <code>--group</code> argument like this <code>uv sync --group &quot;lint,docs&quot;</code> instead of <code>uv sync --group lint --group docs</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-27 00:42</div>
            <div class="timeline-body"><p>We probably won't support multiple groups in a single option, that doesn't match the design of the rest of our CLI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/drmikehenry">@drmikehenry</a> on 2024-10-27 12:15</div>
            <div class="timeline-body"><p>Though it's not completely portable, you can use brace expansion in many Unix shells (Bash, Zsh, Ksh, Fish, etc.) to get the desired behavior because the <code>--group groupname</code> syntax may use an <code>=</code> as in <code>--group=groupname</code>.  To show this using the <code>echo</code> command:</p>
<pre><code>echo uv sync --group={lint,docs}
</code></pre>
<p>with output:</p>
<pre><code>uv sync --group=lint --group=docs
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2024-10-27 14:03</div>
            <div class="timeline-body"><p>Groups can also include each other, so you can add a group that includes all other groups, if you want to.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2024-10-27 18:47</div>
            <div class="timeline-body"><p>The PEP has the syntax for group inclusion here https://peps.python.org/pep-0735/#dependency-group-include</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amoralesc">@amoralesc</a> on 2024-10-29 00:20</div>
            <div class="timeline-body"><p>Just referencing here that I temporally solved this issue by defining <a href="https://docs.astral.sh/uv/concepts/dependencies/#default-groups">default groups</a>:</p>
<pre><code class="language-toml"># pyproject.toml
[tool.uv]
default-groups = [&quot;lint&quot;, &quot;docs&quot;]
</code></pre>
<p>This makes the <code>uv sync</code> command sync all groups contained there. This obviously has the disadvantage that now I need to specify <code>--no-group</code> or <code>--only-group</code> when I don't want any of those groups.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amoralesc">@amoralesc</a> on 2024-10-29 00:34</div>
            <div class="timeline-body"><p>@zanieb In line with the <a href="https://github.com/astral-sh/uv/issues/8594#issuecomment-2442915709">above comment</a>, I also can't find a way to <strong>only</strong> install the project-level dependencies (those under <code>[project].dependencies</code>), regardless of what the default groups property defines.</p>
<p>For example, Poetry achieves this behavior by using the <code>--only main</code> flag (although badly documented). This seems equivalent to the <code>--only-group</code> flag, with the caveat that the project-level dependencies don't seem to belong to a group.</p>
<p>My workaround for achieving both behaviors (sync with default groups and sync only main) is creating a <code>main</code> group.</p>
<p><strong>Edit:</strong> This seems loosely related to #8582</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-29 01:47</div>
            <div class="timeline-body"><p>@amoralesc it seems like we might want a <code>--no-default-groups</code> flag, which I was sort of hoping we could avoid (just because we have so many flags)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../backend-developers-ltd/ComputeHorde/pulls/301.html">backend-developers-ltd/ComputeHorde#301</a> on 2024-11-06 11:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8892.html">astral-sh/uv#8892</a> on 2024-11-07 16:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9261.html">astral-sh/uv#9261</a> on 2024-11-20 03:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9279.html">astral-sh/uv#9279</a> on 2024-11-20 16:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-11-20 16:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:31:18 UTC
    </footer>
</body>
</html>
