<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layered environments don't inherit `include-system-site-packages` - astral-sh/uv #11829</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Layered environments don't inherit `include-system-site-packages`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11829">#11829</a>
        opened by <a href="https://github.com/zeevro">@zeevro</a>
        on 2025-02-27 11:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zeevro">@zeevro</a> on 2025-02-27 11:19</div>
            <div class="timeline-body"><h3>Summary</h3>
<pre><code>‚ùØ uv --version
uv 0.6.3

‚ùØ uv pip list
Using Python 3.13.2 environment at: /usr/local
Package Version
------- -------
pip     24.3.1

‚ùØ uv pip install --system bottle
Using Python 3.13.2 environment at: /usr/local
Resolved 1 package in 378ms
Prepared 1 package in 208ms
Installed 1 package in 3ms
 + bottle==0.13.2

‚ùØ uv venv --system-site-packages
Using CPython 3.13.2 interpreter at: /usr/local/bin/python
Creating virtual environment at: .venv

‚ùØ uv run -m bottle --version
Bottle 0.13.2

‚ùØ uv run --isolated -m bottle --version
/root/.cache/uv/builds-v0/.tmpTphYoC/bin/python: No module named bottle

‚ùØ uv run --with peewee -m bottle --version
      Built peewee==3.17.9
Installed 1 package in 1ms
/root/.cache/uv/archive-v0/hAukBO_NFLtWh1qbW1e0U/bin/python3: No module named bottle
</code></pre>
<h3>Platform</h3>
<p>Alpine Linux v3.21 docker on Ubuntu 24.04 x86-64</p>
<h3>Version</h3>
<p>uv 0.6.3</p>
<h3>Python version</h3>
<p>Python 3.13.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zeevro on 2025-02-27 11:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-27 18:47</div>
            <div class="timeline-body"><p>üëç We'll need to decide if this is supported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-28 02:52</div>
            <div class="timeline-body"><p>I suppose we should support it. We can use a pattern similar to <code>CachedEnvironment::set_overlay</code> and <code>CachedEnvironment::clear_overlay</code>, but for propagating that flag.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @charliermarsh on 2025-02-28 02:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-03-01 02:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-01 03:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:52:57 UTC
    </footer>
</body>
</html>
