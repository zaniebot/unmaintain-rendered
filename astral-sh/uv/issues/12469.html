<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv error happening forrr only one individual on the team `RuntimeEor: Error getting the version from source &quot;uv-dynamic-versioning&quot;` - astral-sh/uv #12469</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv error happening forrr only one individual on the team `RuntimeEor: Error getting the version from source &quot;uv-dynamic-versioning&quot;`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12469">#12469</a>
        opened by <a href="https://github.com/adiberk">@adiberk</a>
        on 2025-03-25 18:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/adiberk">@adiberk</a> on 2025-03-25 18:18</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Everything seems to work fine but one of my co-workers started seeing this error after our migration to uv</p>
<p>I am not sure if I should be posting this issue here or not - so I apologize in advance</p>
<p>We don't run any build or anything in this project, we simply install dependencies and use that generated env to run our code. (And I am more than happy to remove the hatch build information if that helps, I had it there during earier iterations of uv)</p>
<pre><code>An unexpected error has occurred: CalledProcessError: command: ('/Users/{user{/.cache/pre-commit/repow3zx247o/py_env-python3.11/bin/python', '-mpip', 'install', '.')
return code: 1
stdout:
    Processing /Users/{user}/.cache/pre-commit/repow3zx247o
      Installing build dependencies: started
      Installing build dependencies: finished with status 'done'
      Getting requirements to build wheel: started
      Getting requirements to build wheel: finished with status 'done'
      Preparing metadata (pyproject.toml): started
      Preparing metadata (pyproject.toml): finished with status 'error'

stderr:
      error: subprocess-exited-with-error

      × Preparing metadata (pyproject.toml) did not run successfully.
      │ exit code: 1
      ╰─&gt; [26 lines of output]
          Traceback (most recent call last):
            File &quot;/Users/{user}/.cache/pre-commit/repow3zx247o/py_env-python3.11/lib/python3.11/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;, line 389, in &lt;module&gt;
              main()
            File &quot;/Users/{user}/.cache/pre-commit/repow3zx247o/py_env-python3.11/lib/python3.11/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;, line 373, in main
              json_out[&quot;return_val&quot;] = hook(**hook_input[&quot;kwargs&quot;])
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            File &quot;/Users/{user}/.cache/pre-commit/repow3zx247o/py_env-python3.11/lib/python3.11/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py&quot;, line 178, in prepare_metadata_for_build_wheel
              whl_basename = backend.build_wheel(metadata_directory, config_settings)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            File &quot;/private/var/folders/vb/r0n_pl_s60l74g2j4n0gjhy40000gn/T/pip-build-env-aoh5snrb/overlay/lib/python3.11/site-packages/hatchling/build.py&quot;, line 58, in build_wheel
              return os.path.basename(next(builder.build(directory=wheel_directory, versions=['standard'])))
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            File &quot;/private/var/folders/vb/r0n_pl_s60l74g2j4n0gjhy40000gn/T/pip-build-env-aoh5snrb/overlay/lib/python3.11/site-packages/hatchling/builders/plugin/interface.py&quot;, line 90, in build
              self.metadata.validate_fields()
            File &quot;/private/var/folders/vb/r0n_pl_s60l74g2j4n0gjhy40000gn/T/pip-build-env-aoh5snrb/overlay/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 265, in validate_fields
              _ = self.version
                  ^^^^^^^^^^^^
            File &quot;/private/var/folders/vb/r0n_pl_s60l74g2j4n0gjhy40000gn/T/pip-build-env-aoh5snrb/overlay/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 149, in version
              self._version = self._get_version()
                              ^^^^^^^^^^^^^^^^^^^
            File &quot;/private/var/folders/vb/r0n_pl_s60l74g2j4n0gjhy40000gn/T/pip-build-env-aoh5snrb/overlay/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 248, in _get_version
              version = self.hatch.version.cached
                        ^^^^^^^^^^^^^^^^^^^^^^^^^
            File &quot;/private/var/folders/vb/r0n_pl_s60l74g2j4n0gjhy40000gn/T/pip-build-env-aoh5snrb/overlay/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 1456, in cached
              raise type(e)(message) from None
          RuntimeError: Error getting the version from source `uv-dynamic-versioning`: Unable to detect version control system. Checked: Git. Not installed: Mercurial, Darcs, Subversion, Bazaar, Fossil, Pijul.
          [end of output]

      note: This error originates from a subprocess, and is likely not a problem with pip.
    error: metadata-generation-failed

    × Encountered error while generating package metadata.
    ╰─&gt; See above for output.

    note: This is an issue with the package mentioned above, not pip.
    hint: See above for details.
</code></pre>
<p>Here is my pyproject.toml</p>
<pre><code>[project]
name = &quot;random-backend&quot;
version = &quot;7.0.0&quot;
description = &quot;random-backend is the main project&quot;
readme = &quot;README.md&quot;
requires-python = &quot;==3.11.4&quot;
authors = [
  {name = &quot;Random Name&quot;, email = &quot;random@gmail.com&quot;}
]
dependencies = [
    &quot;aiohttp==3.9.5&quot;,
    &quot;airtable-python-wrapper==0.15.3&quot;
    ......
]

[project.optional-dependencies]
dev = [
    &quot;black&lt;25.0,&gt;=24.2&quot;,
    &quot;botocore-stubs==1.34.94&quot;
]
ut = [
    &quot;diff-cover==9.0.0&quot;,
    &quot;ipdb==0.13.13&quot;,
]

[tool.uv.sources]
.......

[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;

[tool.hatch.build.targets.wheel]
packages = [&quot;.&quot;]


[tool.ruff]
line-length = 120
lint.ignore = [&quot;E203&quot;, &quot;E266&quot;, &quot;E402&quot;, &quot;F403&quot;, &quot;C901&quot;]
lint.fixable = [&quot;ALL&quot;]
target-version = &quot;py311&quot;
exclude = [
  &quot;.bzr&quot;,
  &quot;.direnv&quot;,
  &quot;.eggs&quot;,
  &quot;.git&quot;,
  &quot;.git-rewrite&quot;,
  &quot;.hg&quot;,
  &quot;.ipynb_checkpoints&quot;,
  &quot;.mypy_cache&quot;,
  &quot;.nox&quot;,
  &quot;.pants.d&quot;,
  &quot;.pyenv&quot;,
  &quot;.pytest_cache&quot;,
  &quot;.pytype&quot;,
  &quot;.ruff_cache&quot;,
  &quot;.svn&quot;,
  &quot;.tox&quot;,
  &quot;.venv&quot;,
  &quot;.vscode&quot;,
  &quot;__pypackages__&quot;,
  &quot;_build&quot;,
  &quot;buck-out&quot;,
  &quot;build&quot;,
  &quot;dist&quot;,
  &quot;node_modules&quot;,
  &quot;site-packages&quot;,
  &quot;venv&quot;,
]

[tool.black]
line-length = 120
include = '\.pyi?$'
exclude = '''
/(
    \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | \.env
  | _build
  | buck-out
  | build
  | dist
)/
'''



### Platform

Mac Os 15.2

### Version

0.6.9

### Python version

3.11.4
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @adiberk on 2025-03-25 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv error happening forrr only one individual on the team `RuntimeEor: Error getting the version from source `uv-dynamic-versioning``" to "uv error happening forrr only one individual on the team `RuntimeEor: Error getting the version from source "uv-dynamic-versioning"`" by @adiberk on 2025-03-25 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @adiberk on 2025-03-25 18:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @adiberk on 2025-03-25 19:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-26 15:40</div>
            <div class="timeline-body"><p>This looks like a <code>pip install</code> error, not a uv error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-27 13:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">external</span> added by @zanieb on 2025-04-01 19:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:03 UTC
    </footer>
</body>
</html>
