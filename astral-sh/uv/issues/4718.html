<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detect when managed toolchains are in use during uninstall - astral-sh/uv #4718</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Detect when managed toolchains are in use during uninstall</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/4718">#4718</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-07-02 02:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>We should track our uses of managed toolchains (e.g. when used in <code>uv venv</code>, <code>uv tool install</code> and <code>uv sync</code>) then ensure that the toolchain is no longer in use before removing it during uninstall or require opt-in to force removal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @zanieb on 2024-07-02 02:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-07-02 02:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aretrace">@aretrace</a> on 2025-01-07 04:23</div>
            <div class="timeline-body"><p>Could tools invoke a separate interpreter copy (e.g., <code>cpython-3.12.8-macos-aarch64-none-&lt;TOOL_NAME&gt;</code>)?
An additional option for interpreter selection during tool installation would make sense  under this scenario.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-07 17:26</div>
            <div class="timeline-body"><p>Yeah we could have each tool get a dedicated interpreter, but I don't think that's ideal unless we can use hard-links?</p>
<p>I would rather:</p>
<ul>
<li>Not allow uninstall unless you change the tools (or use a force flag)</li>
<li>Make it easy to change tools to another Python version</li>
<li>Link tools to a &quot;stable&quot; directory of minor Python interpreter versions so patch upgrades do not affect them</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aretrace">@aretrace</a> on 2025-01-07 23:16</div>
            <div class="timeline-body"><p>ðŸ‘† yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @jtfmumm by @jtfmumm on 2025-03-15 18:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @jtfmumm by @konstin on 2025-10-06 09:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:25:27 UTC
    </footer>
</body>
</html>
