```yaml
number: 4355
title: Support relative path wheel dependencies
type: issue
state: closed
author: konstin
labels:
  - bug
  - help wanted
  - preview
assignees: []
created_at: 2024-06-17T10:05:41Z
updated_at: 2024-08-09T21:57:17Z
url: https://github.com/astral-sh/uv/issues/4355
synced_at: 2026-01-10T01:57:09Z
```

# Support relative path wheel dependencies

---

_Issue opened by @konstin on 2024-06-17 10:05_

Currently, we only support locking relative path for directory and source dist dependencies. We need to also support relative paths for wheels. To implement this, we need to add the install path vs. lock path split to `PathBuiltDist`, just as we do with `PathSourceDist`.

Failing example:

```toml
[project]
name = "project"
version = "0.1.0"
dependencies = [
  "tqdm"
]
requires-python = ">=3.8"

[tool.uv.sources]
tqdm = { path = "./tqdm-4.66.4-py3-none-any.whl" }

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
```

The lockfile entry should have the relative path, not the absolute path:

```toml
[[distribution]]
name = "tqdm"
version = "4.66.4"
source = { path = "/home/konsti/projects/uv/debug/dummy/tqdm-4.66.4-py3-none-any.whl" }
dependencies = [
    { name = "colorama", marker = "platform_system == 'Windows'" },
]
wheels = [
    { url = "file:///home/konsti/projects/uv/debug/dummy/tqdm-4.66.4-py3-none-any.whl", hash = "sha256:b75ca56b413b030bc3f00af51fd2c1a1a5eac6a0c1cca83cbb37a5c52abce644" },
]
```

---

_Label `preview` added by @konstin on 2024-06-17 10:05_

---

_Label `enhancement` added by @charliermarsh on 2024-07-30 16:10_

---

_Assigned to @konstin by @charliermarsh on 2024-07-30 16:12_

---

_Label `enhancement` removed by @charliermarsh on 2024-07-30 16:12_

---

_Label `bug` added by @charliermarsh on 2024-07-30 16:12_

---

_Label `help wanted` added by @konstin on 2024-07-31 08:21_

---

_Unassigned @konstin by @konstin on 2024-07-31 08:22_

---

_Comment by @konstin on 2024-07-31 08:22_

I updated the description with a failing example

---

_Assigned to @charliermarsh by @charliermarsh on 2024-08-09 14:09_

---

_Assigned to @konstin by @charliermarsh on 2024-08-09 14:14_

---

_Unassigned @charliermarsh by @charliermarsh on 2024-08-09 14:14_

---

_Referenced in [astral-sh/uv#5969](../../astral-sh/uv/pulls/5969.md) on 2024-08-09 17:37_

---

_Closed by @charliermarsh on 2024-08-09 21:57_

---
