```yaml
number: 7983
title: "Merging `.python-version` and `.python-versions` into a single file?"
type: issue
state: open
author: mkniewallner
labels:
  - compatibility
assignees: []
created_at: 2024-10-07T18:14:10Z
updated_at: 2025-10-16T19:24:47Z
url: https://github.com/astral-sh/uv/issues/7983
synced_at: 2026-01-10T01:57:18Z
```

# Merging `.python-version` and `.python-versions` into a single file?

---

_Issue opened by @mkniewallner on 2024-10-07 18:14_

https://github.com/astral-sh/uv/pull/7972 made me aware that uv supports both `.python-version` to define a single Python version to use in a project, and `.python-versions` to define multiple ones ([documentation](https://docs.astral.sh/uv/concepts/python-versions/#project-python-versions)).

The format seems to be close to what [pyenv supports](https://github.com/pyenv/pyenv). Was this a goal when implementing the feature in uv? If so, you might want to know that `pyenv` also [supports setting multiple versions on `.python-version` file](https://github.com/pyenv/pyenv/blob/d201daeb3366cae98cca88654b4c52018175ded5/README.md?plain=1#L155-L164), without using the plural form of the file:
> **NOTE:** You can activate multiple versions at the same time, including multiple
versions of Python2 or Python3 simultaneously. This allows for parallel usage of
Python2 and Python3, and is required with tools like `tox`. For example, to instruct
Pyenv to first use your system Python and Python3 (which are e.g. 2.7.9 and 3.4.2)
but also have Python 3.3.6, 3.2.1, and 2.5.2 available, you first `pyenv install`
the missing versions, then set `pyenv global system 3.3.6 3.2.1 2.5.2`.
Then you'll be able to invoke any of those versions with an appropriate `pythonX` or
`pythonX.Y` name.
You can also specify multiple versions in a `.python-version` file by hand,
separated by newlines. Lines starting with a `#` are ignored.

Would it make sense for uv to match this behaviour? I believe this could be great for interoperability, for users switching from other package managers, and for overall consistency in the Python ecosystem.

---

_Comment by @zanieb on 2024-10-07 18:23_

I think pyenv writes all these to the same line, which is problematic (e.g. #7935). We'd need to do more work to support that. Interoperability with `pyenv` isn't super high on my list of priorities, but could be nice to have.

Back in https://github.com/astral-sh/uv/pull/6359#discussion_r1725457858 I added support for reading multiple versions from `.python-version` files though, so there's no real need for separate files going forward.

---

_Label `compatibility` added by @zanieb on 2024-10-07 18:23_

---

_Comment by @mkniewallner on 2024-10-07 18:40_

> I think pyenv writes all these to the same line, which is problematic (e.g. #7935).

The [test suite](https://github.com/pyenv/pyenv/blob/d201daeb3366cae98cca88654b4c52018175ded5/test/version-file-read.bats#L74-L84) in `pyenv` makes me believe that it does separate the versions with a newline (in line with what the README mentions). Didn't test myself, but I can if needed.

> Back in [#6359 (comment)](https://github.com/astral-sh/uv/pull/6359#discussion_r1725457858) I added support for reading multiple versions from `.python-version` files though, so there's no real need for separate files going forward.

Oh didn't see that sorry, I should have checked the code instead of only relying on what the documentation says. Would it make sense to recommend using `.python-version` when using multiple versions in that case, while keeping support for `.python-versions` for now?

If https://github.com/astral-sh/uv/issues/7983 is accepted and implemented, this could also enable automated updates of Python versions for users of both `pyenv` and uv that use Renovate (which currently only supports `.python-version` with a single version in it).

---

_Comment by @zanieb on 2024-10-07 19:12_

> The [test suite](https://github.com/pyenv/pyenv/blob/d201daeb3366cae98cca88654b4c52018175ded5/test/version-file-read.bats#L74-L84) in pyenv makes me believe that it does separate the versions with a newline (in line with what the README mentions). Didn't test myself, but I can if needed.

You could be right! I'm basing this off the user report in the linked contribution.



---

_Comment by @zanieb on 2024-10-07 19:13_

> Would it make sense to recommend using .python-version when using multiple versions in that case?

I think that'd be fine, but I'm not sure I have a strong understand of what other tools will do with a multi-version `.python-version` file e.g. I'm worried about Renovate and GitHub Actions.

---

_Comment by @mkniewallner on 2024-10-07 20:51_

> > Would it make sense to recommend using .python-version when using multiple versions in that case?
> 
> I think that'd be fine, but I'm not sure I have a strong understand of what other tools will do with a multi-version `.python-version` file e.g. I'm worried about Renovate and GitHub Actions.

For Renovate, until the change is accepted/implemented, it will simply not be able to parse the version(s) from the file, since today it assumes that there's always a single version, so not too problematic IMO.

For `actions/setup-python`, [it also currently assumes](https://github.com/actions/setup-python/blob/19dfb7b659fa9e60c2f89c33335ab5f6f1792b6e/src/utils.ts#L265-L273) that there is a single version in the file passed in `python-version-file` output, or in `.python-version`, if neither `python-version-file` nor `python-version` are set in the action. So probably more problematic here.

---

_Comment by @edmorley on 2024-10-07 22:14_

There sadly isn't a spec for `.python-version` files - and the pyenv docs don't describe the format in detail, so I had to reverse engineer it whilst writing a parser for the files recently. Multiple versions are indeed supported already by pyenv in the `.python-version` file, separated one per line. As such having the additional supported filename of `.python-versions` seems redundant - and so I would be in favour of deprecating/sunsetting `.python-versions`.

---

_Comment by @Czaki on 2024-10-16 15:26_

> The [test suite](https://github.com/pyenv/pyenv/blob/d201daeb3366cae98cca88654b4c52018175ded5/test/version-file-read.bats#L74-L84) in `pyenv` makes me believe that it does separate the versions with a newline (in line with what the README mentions). Didn't test myself, but I can if needed.

I still have archived projects with python versions stored in a single line separated by space. And pyenv was working with it. But now I can confirm that pyenv is separating the python version with new lines.  

---

_Comment by @realharry on 2025-10-16 19:19_

I would also like to request to enhance "uv python pin" to accept multiple versions of Python, or even ranges of versions. For example,

```
uv python pin 3.12, 3.13
``` 



---

_Comment by @zanieb on 2025-10-16 19:24_

@realharry please open a new issue as that's a different objective than we're discussing here.

---
