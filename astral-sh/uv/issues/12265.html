<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`--no-install-project` being ignored during a sync - astral-sh/uv #12265</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`--no-install-project` being ignored during a sync</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/12265">#12265</a>
        opened by <a href="https://github.com/VERBOSE-01">@VERBOSE-01</a>
        on 2025-03-18 09:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/VERBOSE-01">@VERBOSE-01</a> on 2025-03-18 09:07</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I'm trying a <a href="https://docs.astral.sh/uv/concepts/projects/sync/#partial-installations">partial installation</a> (all dependencies, except my project) using the <code>--no-install-project</code> flag but unfortunately, <code>uv</code> still tries to install the project itself.</p>
<h4>Tree</h4>
<pre><code>&gt; my_personal_project
--&gt; # src folders and files
--&gt; pyproject.toml
--&gt; .python-version
</code></pre>
<h4>Terminal</h4>
<pre><code class="language-bash">PS C:\Users\verbose\Desktop\my_personal_project&gt; uv sync --no-install-project
Using CPython 3.13.2 interpreter at: C:\Users\verbose\AppData\Local\Programs\Python\Python313\python.exe
Creating virtual environment at: .venv
â ‹ my_personal_project==1.3.1
</code></pre>
<p><code>.python-version</code></p>
<pre><code>3.13.2
</code></pre>
<p><code>pyproject.toml</code></p>
<pre><code class="language-toml">[project]
name = &quot;my_personal_project&quot;
version = &quot;1.3.1&quot;
authors = [
    { name = &quot;VERBOSE&quot;, email = &quot;a@b.c&quot; },
]
requires-python = &quot;&gt;=3.10&quot;
dependencies = [
    &quot;beautifulsoup4==4.12.2&quot;,
    &quot;openpyxl==3.1.5&quot;,
    # ... others
]

[dependencies-groups]
dev = [
    &quot;pytest==6.2.5&quot;,
    &quot;ruff==0.11.0&quot;,
]
</code></pre>
<h4>Some context</h4>
<p>I'm dropping <code>requirements.txt</code> and <code>requirements-dev.txt</code> in favor of <code>uv.lock</code>. It means that I have no reqs files anymore and the <code>pyproject.toml</code> was created manually (before installing <code>uv</code>).</p>
<h3>Platform</h3>
<p>Windows 10</p>
<h3>Version</h3>
<p>0.6.7</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @VERBOSE-01 on 2025-03-18 09:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-18 13:49</div>
            <div class="timeline-body"><p>It looks like we're <em>resolving</em> your project (which we'd need to do for dependency resolution) but we may not be installing it. Can you please create a complete reproduction -- like a GitHub repository we can clone and a set of commands we can run?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @charliermarsh on 2025-03-18 13:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2025-03-18 13:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/VERBOSE-01">@VERBOSE-01</a> on 2025-03-18 14:43</div>
            <div class="timeline-body"><blockquote>
<p>It looks like we're <em>resolving</em> your project (which we'd need to do for dependency resolution) but we may not be installing it. Can you please create a complete reproduction -- like a GitHub repository we can clone and a set of commands we can run?</p>
</blockquote>
<p>Many thanks for taking the time. I'm afraid I won't be able to make a MRE because it isn't an issue for me anymore. Maybe it's completely random but I just did the following steps (see below) and uv installed all dependencies and created a <code>uv.lock</code> successfully:</p>
<ol>
<li>run <code>$env:HTTPS_PROXY = &quot;http://...&quot;</code> since I'm behind a proxy (as suggested <a href="https://github.com/astral-sh/uv/issues/1474#issuecomment-2519671631">here</a>)</li>
<li>deleted the old <code>.venv</code> (created earlier by <code>uv sync --no-install-project</code>)</li>
<li>replaced <code>[dependencies-groups]</code> with <code>dependency-groups</code> in the <code>pyproject.toml</code></li>
<li>created a new <code>.venv</code> and this time with <code>uv venv --seed</code> (as suggested <a href="https://github.com/astral-sh/uv/issues/1698#issuecomment-1952746172">here</a> because my pip install was ignoring <code>.venv</code>)</li>
<li>re run <code>uv sync</code> (without any flag this time)</li>
</ol>
<h4>Vscode terminal (powershell)</h4>
<pre><code class="language-bash">PS C:\Users\verbose\Desktop\my_personal_project&gt; $env:HTTPS_PROXY = &quot;http://...&quot;

PS C:\Users\verbose\Desktop\my_personal_project&gt; uv venv --seed
Using CPython 3.13.2 interpreter at: C:\Users\verbose\AppData\Local\Programs\Python\Python313\python.exe
Creating virtual environment with seed packages at: .venv
 + pip==25.0.1
Activate with: .venv\Scripts\activate

PS C:\Users\verbose\Desktop\my_personal_project&gt; uv sync
Using CPython 3.13.2 interpreter at: C:\Users\verbose\AppData\Local\Programs\Python\Python313\python.exe
Creating virtual environment at: .venv
Resolved x packages in xms
</code></pre>
<p>Sorry again and thanks for this tool. A game changer, honestly ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sanmai-NL">@sanmai-NL</a> on 2025-03-20 10:26</div>
            <div class="timeline-body"><p>@VERBOSE-01 Can this be closed then?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-24 15:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
