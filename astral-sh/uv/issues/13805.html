<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use pre-installed docker images for better CI stability - astral-sh/uv #13805</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use pre-installed docker images for better CI stability</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/13805">#13805</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-06-03 13:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2025-06-03 13:11</div>
            <div class="timeline-body"><p>We regularly see timeouts in CI builds where the installation of Python on a host fails, previously apt, now zypper (e.g., https://github.com/astral-sh/uv/actions/runs/15417763065/job/43384741242?pr=13804). We can make CI both more reliable and faster by using docker images we prebuild by running the install command on top of the base image, storing this in the GitHub container registry and using that image in our CI runs. For the opensuse example, this would be:</p>
<pre><code>FROM opensuse/tumbleweed
RUN zypper install -y python310 which &amp;&amp; python3.10 -m ensurepip &amp;&amp; mv /usr/bin/python3.10 /usr/bin/python3;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ci-flake</span> added by @konstin on 2025-06-03 13:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-03 13:13</div>
            <div class="timeline-body"><p>I like the idea! Should we create a dedicated <code>astral-test-images</code> repository or something? I don't want to put a bunch of images in this repository.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:04 UTC
    </footer>
</body>
</html>
