```yaml
number: 13939
title: "uv does not use project `.python-version`"
type: issue
state: closed
author: Microwave-WYB
labels:
  - bug
assignees: []
created_at: 2025-06-10T03:53:03Z
updated_at: 2025-06-12T20:02:26Z
url: https://github.com/astral-sh/uv/issues/13939
synced_at: 2026-01-10T01:57:31Z
```

# uv does not use project `.python-version`

---

_Issue opened by @Microwave-WYB on 2025-06-10 03:53_

### Summary

`uv` consistently ignores `.python-version` for project. It should respect the project pinned version rather than the global version.
```
❯ uv init --library --python 3.10 uvtest
Initialized project `uvtest` at `/home/wyb/Projects/uvtest`
❯ cd uvtest
❯ cat .python-version
3.10
❯ uv sync
Using CPython 3.13.3
Creating virtual environment at: .venv
Resolved 1 package in 1ms
      Built uvtest @ file:///home/wyb/Projects/uvtest
Prepared 1 package in 531ms
Installed 1 package in 0.48ms
 + uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
❯ uv sync --python 3.10
Using CPython 3.10.15
Removed virtual environment at: .venv
Creating virtual environment at: .venv
Resolved 1 package in 0.64ms
Installed 1 package in 4ms
 + uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
❯ uv add --dev ruff
Using CPython 3.13.3
Removed virtual environment at: .venv
Creating virtual environment at: .venv
Resolved 2 packages in 5ms
      Built uvtest @ file:///home/wyb/Projects/uvtest
Prepared 1 package in 181ms
Installed 2 packages in 0.83ms
 + ruff==0.11.13
 + uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
❯ uv sync --python 3.10
Using CPython 3.10.15
Removed virtual environment at: .venv
Creating virtual environment at: .venv
Resolved 2 packages in 0.46ms
Installed 2 packages in 5ms
 + ruff==0.11.13
 + uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
❯ uv run ruff --help
Using CPython 3.13.3
Removed virtual environment at: .venv
Creating virtual environment at: .venv
Installed 2 packages in 4ms
Ruff: An extremely fast Python linter and code formatted.
...
❯ uv python pin 3.10
Pinned `.python-version` to `3.10`
❯ uv sync
Resolved 2 packages in 0.53ms
Audited 2 packages in 0.04ms
❯ python -V
Python 3.13.3
```

### Platform

Linux 6.12.29-1-lts x86_64 GNU/Linux  (Arch Linux)

### Version

uv 0.7.12 (dc3fd4647 2025-06-06)

### Python version

_No response_

---

_Label `bug` added by @Microwave-WYB on 2025-06-10 03:53_

---

_Renamed from "uv does not use specified `.python-version`" to "uv does not use project `.python-version`" by @Microwave-WYB on 2025-06-10 04:04_

---

_Comment by @konstin on 2025-06-10 09:43_

Can you share verbose logs (`uv sync -v`) for a case where it picks Python 3.13?

---

_Comment by @Microwave-WYB on 2025-06-10 19:50_


> Can you share verbose logs (`uv sync -v`) for a case where it picks Python 3.13?


```
❯ uv sync --python 3.10 -v
DEBUG uv 0.7.12 (dc3fd4647 2025-06-06)
DEBUG Found project root: `/home/wyb/Projects/uvtest`
DEBUG No workspace root found, using project root
DEBUG Acquired lock for `/home/wyb/Projects/uvtest`
DEBUG Using Python request `3.10` from explicit request
DEBUG Checking for Python environment at `.venv`
DEBUG The project environment's Python version does not satisfy the request: `Python 3.10`
DEBUG Searching for Python 3.10 in managed installations or search path
DEBUG Searching for managed installations at `/home/wyb/.local/share/uv/python`
DEBUG Skipping incompatible managed installation `cpython-3.13.4-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.13.3-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.13.2-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.13.2+freethreaded-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.13.1-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.12.6-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.12.5-linux-x86_64-gnu`
DEBUG Skipping incompatible managed installation `cpython-3.12.4-linux-x86_64-gnu`
DEBUG Found managed installation `cpython-3.10.15-linux-x86_64-gnu`
DEBUG Found `cpython-3.10.15-linux-x86_64-gnu` at `/home/wyb/.local/share/uv/python/cpython-3.10.15-linux-x86_64-gnu/bin/python3.10` (managed installations)
Using CPython 3.10.15
Removed virtual environment at: .venv
Creating virtual environment at: .venv
DEBUG Assessing Python executable as base candidate: /home/wyb/.local/share/uv/python/cpython-3.10.15-linux-x86_64-gnu/bin/python3.10
DEBUG Using base executable for virtual environment: /home/wyb/.local/share/uv/python/cpython-3.10.15-linux-x86_64-gnu/bin/python3.10
DEBUG Released lock at `/tmp/uv-fcae5fa2a09c53f5.lock`
DEBUG Acquired lock for `.venv`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: uvtest @ file:///home/wyb/Projects/uvtest
DEBUG No workspace root found, using project root
DEBUG Existing `uv.lock` satisfies workspace requirements
Resolved 2 packages in 0.56ms
DEBUG Using request timeout of 30s
DEBUG Computed cache info: Some(Timestamp(SystemTime { tv_sec: 1749527362, tv_nsec: 36426137 })), None, None, {}, {"src": Some(Timestamp(Timestamp(SystemTime { tv_sec: 1749527336, tv_nsec: 452783680 })))}
DEBUG Directory source requirement already cached: uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
DEBUG Registry requirement already cached: ruff==0.11.13
Installed 2 packages in 5ms
 + ruff==0.11.13
 + uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
DEBUG Released lock at `/home/wyb/Projects/uvtest/.venv/.lock`
❯ uv sync -v
DEBUG uv 0.7.12 (dc3fd4647 2025-06-06)
DEBUG Found project root: `/home/wyb/Projects/uvtest`
DEBUG No workspace root found, using project root
DEBUG Acquired lock for `/home/wyb/Projects/uvtest`
DEBUG Using Python request `3.13.3` from explicit request
DEBUG Checking for Python environment at `.venv`
DEBUG The project environment's Python version does not satisfy the request: `Python 3.13.3`
DEBUG Searching for Python 3.13.3 in managed installations or search path
DEBUG Searching for managed installations at `/home/wyb/.local/share/uv/python`
DEBUG Skipping incompatible managed installation `cpython-3.13.4-linux-x86_64-gnu`
DEBUG Found managed installation `cpython-3.13.3-linux-x86_64-gnu`
DEBUG Found `cpython-3.13.3-linux-x86_64-gnu` at `/home/wyb/.local/share/uv/python/cpython-3.13.3-linux-x86_64-gnu/bin/python3.13` (managed installations)
Using CPython 3.13.3
Removed virtual environment at: .venv
Creating virtual environment at: .venv
DEBUG Assessing Python executable as base candidate: /home/wyb/.local/share/uv/python/cpython-3.13.3-linux-x86_64-gnu/bin/python3.13
DEBUG Using base executable for virtual environment: /home/wyb/.local/share/uv/python/cpython-3.13.3-linux-x86_64-gnu/bin/python3.13
DEBUG Released lock at `/tmp/uv-fcae5fa2a09c53f5.lock`
DEBUG Acquired lock for `.venv`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: uvtest @ file:///home/wyb/Projects/uvtest
DEBUG No workspace root found, using project root
DEBUG Existing `uv.lock` satisfies workspace requirements
Resolved 2 packages in 0.51ms
DEBUG Using request timeout of 30s
DEBUG Computed cache info: Some(Timestamp(SystemTime { tv_sec: 1749527362, tv_nsec: 36426137 })), None, None, {}, {"src": Some(Timestamp(Timestamp(SystemTime { tv_sec: 1749527336, tv_nsec: 452783680 })))}
DEBUG Directory source requirement already cached: uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
DEBUG Registry requirement already cached: ruff==0.11.13
Installed 2 packages in 5ms
 + ruff==0.11.13
 + uvtest==0.1.0 (from file:///home/wyb/Projects/uvtest)
DEBUG Released lock at `/home/wyb/Projects/uvtest/.venv/.lock`
```


---

_Comment by @zanieb on 2025-06-10 20:24_

Sounds like you have `UV_PYTHON` set?

---

_Comment by @Microwave-WYB on 2025-06-12 20:02_

Oh you are right! I missed it. We can close this

---

_Closed by @Microwave-WYB on 2025-06-12 20:02_

---
