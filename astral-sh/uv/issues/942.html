<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `--offline` flag to disallow network requests - astral-sh/uv #942</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Add `--offline` flag to disallow network requests</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/942">#942</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-01-16 19:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-16 19:15</div>
            <div class="timeline-body"><p>This is like <code>--no-index</code>, but it should disallow <em>all</em> network requests (including for distributions and <code>--find-links</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-01-16 19:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @charliermarsh on 2024-01-16 19:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-01-18 12:26</div>
            <div class="timeline-body"><p>What are the use cases for <code>--no-index</code> once we have an offline flag, are people vendoring all their deps into their repository?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-18 13:44</div>
            <div class="timeline-body"><p>The only thing I can think of is: you’re using find links and don’t want to use PyPI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-02-06 00:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1270.html">astral-sh/uv#1270</a> on 2024-02-10 21:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-02-13 03:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andrei-korshikov">@andrei-korshikov</a> on 2025-03-17 07:49</div>
            <div class="timeline-body"><p><strong><code>--offline</code> is not offline for &quot;git+https&quot; sources.</strong></p>
<p>I'm on uv 0.6.6 (c1a0bb85e 2025-03-12). Some of my dependencies are <code>git+https</code>, e.g. I have</p>
<pre><code class="language-python"># /// script
# dependencies = [
#   &quot;pycurl @ git+https://github.com/pycurl/pycurl.git&quot;,
#   ]
# ///
</code></pre>
<p>On every run of <code>uv run --offline my_script.py</code> I see <code>Resolving dependencies...</code> message and get these messages on <code>stderr</code> (and see corresponding traffic in Wireshark):</p>
<pre><code>Updating https://github.com/pycurl/pycurl.git (HEAD)
Updated https://github.com/pycurl/pycurl.git (d92395d9fe1e18365c4e4812f4351bd6985872e1)
</code></pre>
<p>If this behaviour is intended, I think it should be documented. Documentation for <code>--offline</code> reads: &quot;Disable network access. When disabled, uv will only use locally cached data and locally available files.&quot;, and as we see for &quot;git+https&quot; it is definitely not so.</p>
<hr />
<p>Off-topic: and huge thank you for <code>uv</code>!:)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12234.html">astral-sh/uv#12234</a> on 2025-03-17 09:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:17 UTC
    </footer>
</body>
</html>
