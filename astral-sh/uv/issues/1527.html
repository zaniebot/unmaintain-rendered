<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>support CUSTOM_COMPILE_COMMAND - astral-sh/uv #1527</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>support CUSTOM_COMPILE_COMMAND</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1527">#1527</a>
        opened by <a href="https://github.com/raylu">@raylu</a>
        on 2024-02-16 18:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/raylu">@raylu</a></div>
            <div class="timeline-body"><p>https://github.com/jazzband/pip-tools?tab=readme-ov-file#configuration supports <code>CUSTOM_COMPILE_COMMAND</code>, which replaces the command in the header. this is particularly useful if you use a private repo, because otherwise your header looks like</p>
<pre><code># This file was autogenerated by uv v0.1.2 via the following command:
#    uv pip compile --extra-index-url https://aws:[suuuuuuuuuuuuuuuuuuuper long password here]@[account].d.codeartifact.us-west-2.amazonaws.com/pypi/shared-packages-pypi/simple requirements.in --output-file requirements.txt
</code></pre>
<p>(adding a flag instead of the env var would be nice too)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 18:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 18:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sergei-maertens">@sergei-maertens</a> on 2024-02-22 21:09</div>
            <div class="timeline-body"><p>+1 from me, we use a multi-environment approach to requirements files and the details are abstracted away in a helper shell script:</p>
<pre><code>export CUSTOM_COMPILE_COMMAND=&quot;./bin/compile_dependencies.sh&quot;
</code></pre>
<p>This information is now lost.</p>
<p>The output before was:</p>
<pre><code>#
# This file is autogenerated by pip-compile with Python 3.9
# by the following command:
#
#    ./bin/compile_dependencies.sh
#
</code></pre>
<p>and has now turned into:</p>
<pre><code># This file was autogenerated by uv via the following command:
#    uv pip compile --output-file requirements/ci.txt requirements/base.txt requirements/test-tools.in
</code></pre>
<p>(I am looking if we can simplify this setup with <code>-c</code> options, but back when this was set up that didn&#x27;t work properly yet)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-03-21 05:38</div>
            <div class="timeline-body"><p>Closed in #2554?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2024-03-21 09:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:34 UTC
    </footer>
</body>
</html>
