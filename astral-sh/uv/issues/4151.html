<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip install` doesn't install CLI tools properly - astral-sh/uv #4151</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pip install</code> doesn&#x27;t install CLI tools properly</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4151">#4151</a>
        opened by <a href="https://github.com/Malix-Labs">@Malix-Labs</a>
        on 2024-06-07 22:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Malix-Labs">@Malix-Labs</a></div>
            <div class="timeline-body"><p><code>uv pip install</code> doesn&#x27;t install CLI tools properly</p>
<p>I.e.
<code>uv pip install fastpi</code> doesn&#x27;t install and setup <code>fastapi-cli</code> properly</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-07 23:18</div>
            <div class="timeline-body"><p>Sorry, but we need way more details here for this issue to be actionable. Can you please describe how it&#x27;s not setup properly, compare to pip, etc.?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-07 23:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-07 23:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Malix-Labs">@Malix-Labs</a> on 2024-06-07 23:45</div>
            <div class="timeline-body"><p>For example, <code>pip install fastapi</code> also installs <code>fastapi-cli</code> and adds it to the shell automatically (useful for <code>fastapi dev</code> for example);
However, <code>uv pip install fastapi</code> doesn&#x27;t do that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-07 23:49</div>
            <div class="timeline-body"><p>We don&#x27;t add commands to the shell automatically because they&#x27;re installed into a virtual environment. Activate the environment and it&#x27;ll be on your shell:</p>
<pre><code>‚ùØ uv venv
Using Python 3.12.3 interpreter at: /opt/homebrew/opt/python@3.12/bin/python3.12
Creating virtualenv at: .venv
Activate with: source .venv/bin/activate
‚ùØ uv pip install fastapi
...
‚ùØ source .venv/bin/activate
‚ùØ which fastapi
/Users/zb/workspace/uv/.venv/bin/fastapi
‚ùØ fastapi --help
                                                                                                                             
 Usage: fastapi [OPTIONS] COMMAND [ARGS]...                                                                                  
                                                                                                                             
 FastAPI CLI - The fastapi command line app. üòé     
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-07 23:49</div>
            <div class="timeline-body"><p>üëç Working as expected for me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-07 23:52</div>
            <div class="timeline-body"><p>Perhaps with pip you&#x27;re experiencing system or user level installation, which we do not do by default. See our <a href="https://github.com/astral-sh/uv/blob/main/PIP_COMPATIBILITY.md#virtual-environments-by-default">pip compatibility section on this</a> for more details.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Malix-Labs">@Malix-Labs</a> on 2024-06-08 18:22</div>
            <div class="timeline-body"><p>Indeed, it was a problem from by bash script executing the venv activation script in a sub-process and terminating it instead of doing it in the top script, I apologize for that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Malix-Labs">@Malix-Labs</a> on 2024-06-08 18:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PantiL">@PantiL</a> on 2025-05-27 10:07</div>
            <div class="timeline-body"><p>Hello.
I encountered the same problem. I repeated the installation commands exactly as indicated here.</p>
<pre><code>$ uv init my_project
Initialized project &#x27;my-project&#x27; at &#x27;/home/pan/projects/fastapi/my_project&#x27;
$ cd my_project/
$ uv venv
Using CPython 3.12.3 interpreter at: /usr/bin/python3.12
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
$ uv pip install fastapi
Resolved 10 packages in 1.50s
Installed 10 packages in 11ms
 + annotated-types==0.7.0
 + anyio==4.9.0
 + fastapi==0.115.12
 + idna==3.10
 + pydantic==2.11.5
 + pydantic-core==2.33.2
 + sniffio==1.3.1
 + starlette==0.46.2
 + typing-extensions==4.13.2
 + typing-inspection==0.4.1
$ source .venv/bin/activate
$ which fastapi
/home/pan/projects/fastapi/my_project/.venv/bin/fastapi
$ fastapi --help
To use the fastapi command, please install &quot;fastapi[standard]&quot;:

	pip install &quot;fastapi[standard]&quot;

Traceback (most recent call last):
  File &quot;/home/pan/projects/fastapi/my_project/.venv/bin/fastapi&quot;, line 10, in &lt;module&gt;
    sys.exit(main())
             ^^^^^^
  File &quot;/home/pan/projects/fastapi/my_project/.venv/lib/python3.12/site-packages/fastapi/cli.py&quot;, line 12, in main
    raise RuntimeError(message)  # noqa: B904
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: To use the fastapi command, please install &quot;fastapi[standard]&quot;:

	pip install &quot;fastapi[standard]&quot;
</code></pre>
<p>But the problem remains.
The problem was solved only by installing fastapi-cli manually</p>
<pre><code>$ uv pip install fastapi-cli
Resolved 21 packages in 7.32s
Installed 17 packages in 16ms
 + click==8.2.1
 + fastapi-cli==0.0.7
 + h11==0.16.0
 + httptools==0.6.4
 + markdown-it-py==3.0.0
 + mdurl==0.1.2
 + pygments==2.19.1
 + python-dotenv==1.1.0
 + pyyaml==6.0.2
 + rich==14.0.0
 + rich-toolkit==0.14.6
 + shellingham==1.5.4
 + typer==0.16.0
 + uvicorn==0.34.2
 + uvloop==0.21.0
 + watchfiles==1.0.5
 + websockets==15.0.1
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:30 UTC
    </footer>
</body>
</html>
