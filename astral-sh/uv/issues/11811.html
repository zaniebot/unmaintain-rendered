<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Managed Python distribution missing `os.getrandom` - astral-sh/uv #11811</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Managed Python distribution missing <code>os.getrandom</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11811">#11811</a>
        opened by <a href="https://github.com/wbilal-c">@wbilal-c</a>
        on 2025-02-26 21:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/wbilal-c">@wbilal-c</a></div>
            <div class="timeline-body">Summary
<p>My actual system Python is 3.13.2. The Python environment I&#x27;m trying to install in my virtual environment is Python 3.12 with uv.</p>
<p>I&#x27;ve followed these steps:</p>
<pre><code>uv python install &quot;python3.12&quot;
uv venv &quot;virtualenv_dir&quot; --python &quot;3.12&quot; --link-mode copy   
source virtualenv_dir/bin/activate 
</code></pre>
<p>This is my <code>pyvenv.vfg</code> file:</p>
<pre><code>❯ cat pyvenv.cfg
home = /home/name/.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/bin
implementation = CPython
uv = 0.6.2
version_info = 3.12.9
include-system-site-packages = false
</code></pre>
<p>Then when trying to see if <code>os.getrandom</code> is working in my activated virtual env:</p>
<pre><code>❯ python
Python 3.12.9 (main, Feb  5 2025, 19:10:45) [Clang 19.1.6 ] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import os
&gt;&gt;&gt; os.getrandom(256,1)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
AttributeError: module &#x27;os&#x27; has no attribute &#x27;getrandom&#x27;. Did you mean: &#x27;urandom&#x27;?
&gt;&gt;&gt; 
</code></pre>
<p>Checking <code>HAVE_GETRANDOM</code> as well:</p>
<pre><code>❯ python
Python 3.12.9 (main, Feb  5 2025, 19:10:45) [Clang 19.1.6 ] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sysconfig
&gt;&gt;&gt; sysconfig.get_config_vars(&quot;HAVE_GETRANDOM&quot;)
[0]
</code></pre>
<p>Is there a way to enable this option with uv?</p>
<p>Possible similar/related issue: <a href="https://github.com/astral-sh/uv/issues/8429">astral-sh/uv#8429</a></p>
Platform
<p>6.12.10-arch1-1</p>
Version
<p>uv 0.6.2</p>
Python version
<p>Python 3.13.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/wbilal-c">@wbilal-c</a> on 2025-02-26 21:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-26 21:46</div>
            <div class="timeline-body"><p>Looks like a duplicate of <a href="https://github.com/astral-sh/python-build-standalone/issues/193">astral-sh/python-build-standalone#193</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Creating virtual env with uv on Arch Linux&quot; to &quot;Managed Python distribution missing `os.getrandom`&quot; by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-26 21:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:30 UTC
    </footer>
</body>
</html>
