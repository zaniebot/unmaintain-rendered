<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: A `uv init` command to generate a pyproject.toml - astral-sh/uv #1360</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Request: A `uv init` command to generate a pyproject.toml</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1360">#1360</a>
        opened by <a href="https://github.com/imbev">@imbev</a>
        on 2024-02-15 21:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/imbev">@imbev</a> on 2024-02-15 21:39</div>
            <div class="timeline-body"><p>A downside of the &quot;pip-tools style&quot; interface is that there is no way to automatically generate a compatible pyproject.toml with the necessary fields. For those using the modern pyproject.toml format, it can be difficult or tedious to create an appropriate pyproject.toml file manually.</p>
<p>I suggest that uv adopt behavior similar to Poetry's <a href="https://python-poetry.org/docs/cli/#init"><code>poetry init</code></a>, so that uv would prompt or allow the user to specify the name, description, author, python version, and build backend (or no build backend) for the project.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 21:40</div>
            <div class="timeline-body"><p>Hi! Thanks for the feedback. A <code>poetry init</code> experience is on our roadmap.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-02-15 21:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">project-management</span> added by @zanieb on 2024-02-15 21:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DimitarVanguelov">@DimitarVanguelov</a> on 2024-02-18 16:11</div>
            <div class="timeline-body"><p>The overall poetry experience is quite good and ergonomic (though perhaps not always ideal). By that I mean having the other poetry commands as well, not just <code>poetry init</code>, would be great:</p>
<ul>
<li><code>poetry new</code></li>
<li><code>poetry add</code>*</li>
<li><code>poetry shell</code></li>
<li><code>poetry run</code></li>
<li><code>poetry build</code></li>
<li><code>poetry publish</code></li>
<li>etc</li>
</ul>
<p>There are of course other nice features of poetry, as well as downsides (picking Python versions seems to still be awkward) which I know <code>uv</code> is planning on addressing, but having <code>uv</code> versions of the above would be a big incentive to switch.</p>
<p>But perhaps the <em>biggest incentive</em> to switch would be poetry-like management of a pyproject.toml file and lock file.</p>
<p><strong>Kudos on this effort</strong>, will be following closely and looking forward to what it can mean for (the unmitigated train wreck that is) Python dependency/environment management.</p>
<p>'* I know <code>uv add</code> might be controversial since it already offers <code>uv pip install</code> which is a minimal change from just <code>pip install</code> but having <code>uv add</code> instead of <code>uv pip install</code> as a higher level API would be nice as it would save us a few keystrokes (and we're a lazy bunch) but again, it keeps close to the poetry API that a lot of us appreciate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 17:28</div>
            <div class="timeline-body"><p>The full project management workflow provided is on our roadmap. We've put the <code>pip</code> compatibility commands in a separate namespace explicitly so we have room for things like <code>uv install</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1837.html">astral-sh/uv#1837</a> on 2024-02-22 15:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alelavelli">@alelavelli</a> on 2024-02-28 15:36</div>
            <div class="timeline-body"><p>Can you write an example of pyproject.toml for uv? Thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/imbev">@imbev</a> on 2024-03-02 02:12</div>
            <div class="timeline-body"><blockquote>
<p>Can you write an example of pyproject.toml for uv? Thank you</p>
</blockquote>
<pre><code class="language-toml"># pyproject.toml

[project]
name = &quot;my-project&quot;
version = &quot;0.1.0&quot;
description = &quot;my description&quot;
authors = [ {name = &quot;My Name&quot;, email = &quot;myemail@example.com&quot;}, ]
requires-python = &quot;&gt;= 3.11&quot;

[build-system]
requires = [&quot;setuptools &gt;= 61.0&quot;]
build-backend = &quot;setuptools.build_meta&quot;
</code></pre>
<p>See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wsidl">@wsidl</a> on 2024-04-04 16:58</div>
            <div class="timeline-body"><p>Following what are now accepted PEPs, would be great to ensure any project management features adheres to <a href="https://peps.python.org/pep-0621/">PEP-621</a> (which now refer to <a href="https://packaging.python.org/en/latest/specifications/pyproject-toml/#pyproject-toml-spec">this KB doc</a>) and <a href="https://peps.python.org/pep-0518/">PEP-518</a>.</p>
<p>This means a project-central pattern for dependencies and other metadata (something <a href="https://github.com/python-poetry/poetry/issues/7669">poetry has yet to implement</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-04 17:02</div>
            <div class="timeline-body"><p>Note we don't make use of any particular <code>pyproject.toml</code> extensions for <code>uv</code> at this time â€” we just follow the standards. In the future, we'll have a section for configuring <code>uv</code> and an <code>init</code> command will make more sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/imbev">@imbev</a> on 2024-04-04 23:11</div>
            <div class="timeline-body"><blockquote>
<p>[project]
dependencies = [
&quot;httpx&quot;,
&quot;gidgethub[httpx]&gt;4.0.0&quot;,
&quot;django&gt;2.1; os_name != 'nt'&quot;,
&quot;django&gt;2.0; os_name == 'nt'&quot;,
]</p>
</blockquote>
<blockquote>
<p>[project.optional-dependencies]
gui = [&quot;PyQt5&quot;]
cli = [
&quot;rich&quot;,
&quot;click&quot;,
]</p>
</blockquote>
<blockquote>
<p>[project]
requires-python = &quot;&gt;= 3.8&quot;</p>
</blockquote>
<p>https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#dependencies-and-requirements</p>
<p>I think the dependencies and project.optional-dependencies syntax would ideal for a future &quot;uv add&quot;, but <code>requires-python</code> is currently relevant for <code>uv init</code>. This syntax is already supported by uv for <code>uv pip compile</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/4511.html">astral-sh/uv#4511</a> on 2024-06-25 15:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4791.html">astral-sh/uv#4791</a> on 2024-07-03 22:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CruzanCaramele">@CruzanCaramele</a> on 2024-07-14 09:26</div>
            <div class="timeline-body"><p>@zanieb thanks alot for putting and working on this on your roadmap.
My thought or noob advice on going in the direction of poetry is that I often find myself confused if I am within poetry's shell or not whenever i run the command poetry run, its just not obvious with poetry. And frankly I question if the shell is even needed.
PDM on the other hand does not have this problem ( I believe it does not spawn a shell)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-07-19 15:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-07-19 15:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:17 UTC
    </footer>
</body>
</html>
