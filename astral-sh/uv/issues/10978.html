<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New version of uv fails to build universal requirements for python version system does not have - astral-sh/uv #10978</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New version of uv fails to build universal requirements for python version system does not have</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10978">#10978</a>
        opened by <a href="https://github.com/CoolCat467">@CoolCat467</a>
        on 2025-01-27 07:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/CoolCat467">@CoolCat467</a> on 2025-01-27 07:31</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>After upgrading uv, suddenly now running <code>uv pip compile --universal --python-version=3.10 test-requirements.in -o test-requirements.txt --upgrade</code> fails when it didn't before
Same command but with <code>-v</code> as well:</p>
<pre><code class="language-console">DEBUG uv 0.5.24
DEBUG Starting Python discovery for Python 3.10
DEBUG Looking for exact match for request Python 3.10
DEBUG Searching for Python 3.10 in virtual environments, managed installations, or search path
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/&lt;my username&gt;/Desktop/Python/venv/bin/python3` (active virtual environment)
DEBUG Skipping interpreter at `/home/&lt;my username&gt;/Desktop/Python/venv/bin/python3` from active virtual environment: does not satisfy request `3.10`
DEBUG Failed to inspect Python interpreter from virtual environment at `bin/python3` 
DEBUG Searching for managed installations at `/home/&lt;my username&gt;/.local/share/uv/python`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/&lt;my username&gt;/Desktop/Python/venv/bin/python3` (search path)
DEBUG Skipping interpreter at `/home/&lt;my username&gt;/Desktop/Python/venv/bin/python3` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/&lt;my username&gt;/Desktop/Python/venv/bin/python` (search path)
DEBUG Skipping interpreter at `/home/&lt;my username&gt;/Desktop/Python/venv/bin/python` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/&lt;my username&gt;/.bin/python` (search path)
DEBUG Skipping interpreter at `/home/&lt;my username&gt;/.bin/python` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/usr/bin/python3` (search path)
DEBUG Skipping interpreter at `/usr/bin/python3` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/bin/python3` (search path)
DEBUG Skipping interpreter at `/bin/python3` from search path: does not satisfy request `3.10`
error: Failed to inspect Python interpreter from virtual environment at `bin/python3`
  Caused by: Python interpreter not found at `/home/&lt;my username&gt;/Desktop/Python/Projects/StatusBot/bin/python3`
</code></pre>
<p>Running from inside a virtual environment because system package index not writeable</p>
<h3>Platform</h3>
<p>Linux 6.11.0-13-generic x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.5.24</p>
<h3>Python version</h3>
<p>Python 3.12.7</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @CoolCat467 on 2025-01-27 07:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CoolCat467">@CoolCat467</a> on 2025-01-27 07:36</div>
            <div class="timeline-body"><p>After looking at which version this starts breaking in, running this command works prior to and equal to <code>uv==0.5.21</code>, but breaks for anything after or equal to <code>uv==0.5.22</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CoolCat467">@CoolCat467</a> on 2025-01-27 07:47</div>
            <div class="timeline-body"><p>Looking through commits that were a part of <code>0.5.22</code>, b543881b1b742e1bf98e6c503c2387f7955fad62 stands out immediately but can't prove this is the root cause quite yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @charliermarsh on 2025-01-27 14:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-27 14:03</div>
            <div class="timeline-body"><p>I'll defer to @zanieb to take a look.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-28 18:10</div>
            <div class="timeline-body"><p>I presume this is similar to https://github.com/astral-sh/uv/pull/10908 â€” sorry about that. Should be a quick fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/11030.html">astral-sh/uv#11030</a> on 2025-01-28 18:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-01-28 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/11355.html">astral-sh/uv#11355</a> on 2025-06-04 03:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
