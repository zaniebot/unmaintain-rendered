<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bug: git package cannot build, because of ModuleNotFoundError: No module named 'requests' - astral-sh/uv #9922</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>bug: git package cannot build, because of ModuleNotFoundError: No module named 'requests'</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9922">#9922</a>
        opened by <a href="https://github.com/qiansen1386">@qiansen1386</a>
        on 2024-12-15 22:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/qiansen1386">@qiansen1386</a> on 2024-12-15 22:02</div>
            <div class="timeline-body"><p>I was trying to install a forked pip package, e.g. <code>uv pip install git+https://github.com/qiansen1386/lixinger-openapi.git</code> which is forked from <code>lixinger-openapi</code>
but I got <code>ModuleNotFoundError: No module named 'requests'</code> What buzz me is I do have requests in my venv(double checked via python import)</p>
<p>Here is my project.toml</p>
<pre><code class="language-toml">dependencies = [
    &quot;jupyter&gt;=1.1.1&quot;,
    &quot;matplotlib&gt;=3.9.3&quot;,
    &quot;numpy&gt;=2.1.0&quot;,
    &quot;pandas&gt;=2.2.3&quot;,
    &quot;requests&gt;=2.32.3&quot;,
...
]
requires-python = &quot;&gt;= 3.13&quot;

[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;

[tool.rye]
managed = true
dev-dependencies = [&quot;ruff&gt;=0.7.4&quot;]

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
packages = [&quot;src&quot;]
</code></pre>
<p>Error:</p>
<pre><code>$ uv pip install git+https://github.com/qiansen1386/lixinger-openapi.git
 Updated https://github.com/qiansen1386/lixinger-openapi.git (23e43f7)
error: Build backend failed to determine requirements with `build_wheel()` (exit code: 1)                                                

[stderr]
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 14, in &lt;module&gt;
    requires = get_requires_for_build({})
...
  File &quot;%USERPROFILE%l\uv\cache\git-v0\checkouts\3222d26cf6fece48\23e43f7\lixinger_openapi\query.py&quot;, line 6, in &lt;module&gt;  
    import requests
ModuleNotFoundError: No module named 'requests'
</code></pre>
<p>I have no clue.. How come <code>build_wheel()</code> cannot find requests ðŸ˜¢</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "bug" to "bug: git package cannot build, because of ModuleNotFoundError: No module named 'requests'" by @qiansen1386 on 2024-12-15 22:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-15 22:12</div>
            <div class="timeline-body"><p>This is an issue with the package itself. It's trying to import <code>requests</code> while building, but <code>requests</code> isn't declared as a build dependency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-12-15 22:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @qiansen1386 on 2024-12-16 17:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/frank-miao">@frank-miao</a> on 2024-12-17 07:04</div>
            <div class="timeline-body"><p>Hi, I encountered a similar problem. Could you please tell me how it was resolved?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:24 UTC
    </footer>
</body>
</html>
