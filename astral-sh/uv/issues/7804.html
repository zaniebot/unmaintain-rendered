<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uvx` logging and behavior confusing when using binary name instead of package name - astral-sh/uv #7804</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uvx` logging and behavior confusing when using binary name instead of package name</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/7804">#7804</a>
        opened by <a href="https://github.com/ilyagr">@ilyagr</a>
        on 2024-09-30 06:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ilyagr">@ilyagr</a> on 2024-09-30 06:40</div>
            <div class="timeline-body"><p>I use a binary <code>px</code>, but its PyPi package is confusingly called <a href="https://pypi.org/project/pxpx/"><code>pxpx</code></a>. For a clean installation, trying to run it with <code>uvx</code> without accounting for this fails as expected:</p>
<pre><code class="language-console">$ uvx px -v
The executable `px` was not found.
warning: An executable named `px` is not provided by package `px`.
The following executables are provided by `px`:
- hello
</code></pre>
<details> <summary> Verbose output for reference, showing expected behavior </summary>

<pre><code class="language-console">$ uvx -v px --version
DEBUG uv 0.4.17
DEBUG Searching for default Python interpreter in managed installations or system path
DEBUG Searching for managed installations at `/Users/ilyagr/.local/share/uv/python`
DEBUG Found managed installation `cpython-3.13.0rc2-macos-aarch64-none`
DEBUG Found `cpython-3.13.0rc2-macos-aarch64-none` at `/Users/ilyagr/.local/share/uv/python/cpython-3.13.0rc2-macos-aarch64-none/bin/python3` (managed installations)
DEBUG Skipping pre-release cpython-3.13.0rc2-macos-aarch64-none
DEBUG Found managed installation `cpython-3.12.6-macos-aarch64-none`
DEBUG Found `cpython-3.12.6-macos-aarch64-none` at `/Users/ilyagr/.local/share/uv/python/cpython-3.12.6-macos-aarch64-none/bin/python3` (managed installations)
DEBUG Acquired lock for `/Users/ilyagr/.local/share/uv/tools`
DEBUG Released lock at `/Users/ilyagr/.local/share/uv/tools/.lock`
DEBUG Caching via interpreter: `/Users/ilyagr/.local/share/uv/python/cpython-3.12.6-macos-aarch64-none/bin/python3`
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.12.6
DEBUG Solving with target Python version: &gt;=3.12.6
DEBUG Adding direct dependency: px*
DEBUG Found fresh response for: https://pypi.org/simple/px/
DEBUG Searching for a compatible version of px (*)
DEBUG Selecting: px==0.2.2 [compatible] (px-0.2.2-py3-none-any.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/79/db/707d9bcca32b58a59b6f7cfc9fcc335355b84c1409be80a3aeb6f51300d1/px-0.2.2-py3-none-any.whl.metadata
DEBUG Tried 1 versions: px 1
DEBUG Split specific environment resolution took 0.001s
Resolved 1 package in 1ms
DEBUG Running `px --version`
DEBUG Looking at `.dist-info` at: /Users/ilyagr/.cache/uv/archive-v0/yI4uQZTVbooEQGyQ6p1Qg/lib/python3.12/site-packages/px-0.2.2.dist-info
DEBUG Looking at `.dist-info` at: /Users/ilyagr/.cache/uv/archive-v0/yI4uQZTVbooEQGyQ6p1Qg/lib/python3.12/site-packages/px-0.2.2.dist-info
The executable `px` was not found.
warning: An executable named `px` is not provided by package `px`.
The following executables are provided by `px`:
- hello
</code></pre>
</details>

<h2>Problem description</h2>
<p>However, let's say we run <code>uv tool install pxpx</code> and forget that we did so.</p>
<p><code>uvx</code>'s behavior becomes quite confusing. Note that, even with verbose output, it looks exactly as if the <code>px</code> package version 0.2.2 provided the <code>px</code> binary that <code>uvx</code> ran (this output is nearly identical to the one in the fold above):</p>
<pre><code class="language-console">$ uvx -v px --version
DEBUG uv 0.4.17
DEBUG Searching for default Python interpreter in managed installations or system path
DEBUG Searching for managed installations at `/Users/ilyagr/.local/share/uv/python`
DEBUG Found managed installation `cpython-3.13.0rc2-macos-aarch64-none`
DEBUG Found `cpython-3.13.0rc2-macos-aarch64-none` at `/Users/ilyagr/.local/share/uv/python/cpython-3.13.0rc2-macos-aarch64-none/bin/python3` (managed installations)
DEBUG Skipping pre-release cpython-3.13.0rc2-macos-aarch64-none
DEBUG Found managed installation `cpython-3.12.6-macos-aarch64-none`
DEBUG Found `cpython-3.12.6-macos-aarch64-none` at `/Users/ilyagr/.local/share/uv/python/cpython-3.12.6-macos-aarch64-none/bin/python3` (managed installations)
DEBUG Acquired lock for `/Users/ilyagr/.local/share/uv/tools`
DEBUG Released lock at `/Users/ilyagr/.local/share/uv/tools/.lock`
DEBUG Caching via interpreter: `/Users/ilyagr/.local/share/uv/python/cpython-3.12.6-macos-aarch64-none/bin/python3`
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.12.6
DEBUG Solving with target Python version: &gt;=3.12.6
DEBUG Adding direct dependency: px*
DEBUG Found fresh response for: https://pypi.org/simple/px/
DEBUG Searching for a compatible version of px (*)
DEBUG Selecting: px==0.2.2 [compatible] (px-0.2.2-py3-none-any.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/79/db/707d9bcca32b58a59b6f7cfc9fcc335355b84c1409be80a3aeb6f51300d1/px-0.2.2-py3-none-any.whl.metadata
DEBUG Tried 1 versions: px 1
DEBUG Split specific environment resolution took 0.000s
Resolved 1 package in 0.75ms
DEBUG Running `px --version`
DEBUG Looking at `.dist-info` at: /Users/ilyagr/.cache/uv/archive-v0/yI4uQZTVbooEQGyQ6p1Qg/lib/python3.12/site-packages/px-0.2.2.dist-info
3.6.5
DEBUG Command exited with code: 0
</code></pre>
<p>When I looked at <a href="https://pypi.org/project/px/">the <code>px</code> package</a> and realized that this is not supposed to happen, I was quite scared for a hot second that this was a typosquatter that hacked my machine by providing me with a trojan that pretends to be the <code>px</code> I expected. But actually, <code>uvx</code> just ran the installed version of <code>px</code> from <code>pxpx-3.6.5</code> without telling me[^1] (not even in verbose logs!).</p>
<p>I think that, ideally, <code>uvx px</code> should consistently fail, and perhaps give people a friendly message if it can detect that some of the installed tool on the system provide a <code>px</code> binary.</p>
<p>[^1]: Or, maybe, the trojan is so good to take over my web browser and make me believe this is what happened. ðŸ˜›</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-09-30 14:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/11603.html">astral-sh/uv#11603</a> on 2025-02-18 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-04-29 20:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ilyagr">@ilyagr</a> on 2025-04-30 02:26</div>
            <div class="timeline-body"><p>Nice, thank you!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:00 UTC
    </footer>
</body>
</html>
