<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use of project with playwright -- multi-stage package install - astral-sh/uv #11818</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use of project with playwright -- multi-stage package install</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11818">#11818</a>
        opened by <a href="https://github.com/mcint">@mcint</a>
        on 2025-02-27 02:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mcint">@mcint</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>I want to use a heavy weight package, playwright, and, while I can install it and use it as a <code>tool</code>, when I want to run it as part of a project, the dependency is not available.</p>
<ul>
<li>It cannot be simply included as a dependency, because it requires a follow-up <code>playwright install-deps [...]</code> step, which downloads a browser.</li>
<li>I don't know if I can, nor how to, nest virtualenvs, for use of a heavier dependency shared between projects that doesn't need to be updated as often, and would be better not to install multiple times.</li>
</ul>
<p>What's the best, uv-idiomatic way to achieve this task?</p>
<h3>Platform</h3>
<p>Linux 5.15.0-131-generic x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.5.31</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @mcint on 2025-02-27 02:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-28 13:19</div>
            <div class="timeline-body"><p>On my machine (ubuntu 24.04) <code>playwright install-deps</code> wants to install system dependencies, that would be installed once per machine, but doesn't change the venv, and browser seem to be installed per-user. Are there any modifications that need to made to the venv? Otherwise uv hardlinks dependency files from a cache on installation, so installing a package multiple times is generally cheap.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:09 UTC
    </footer>
</body>
</html>
