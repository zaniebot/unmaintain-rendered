<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv add --editable .` package isn't recognized by static analysis - astral-sh/uv #11488</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv add --editable .` package isn't recognized by static analysis</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/11488">#11488</a>
        opened by <a href="https://github.com/tonydavis629">@tonydavis629</a>
        on 2025-02-13 19:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tonydavis629">@tonydavis629</a> on 2025-02-13 19:02</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Following this issue https://github.com/astral-sh/uv/issues/3898, I'm trying to understand how to make pylance see local packages installed with <code>uv add --editable</code>. The package itself works fine, it's just the vscode/pylance static analysis that cannot find the package.</p>
<p>I have the current setting in my pyproject.toml:</p>
<pre><code>[tool.uv]
config-settings = { editable_mode = &quot;compat&quot; }
</code></pre>
<p>I also tried including that setting in the package's pyproject.toml to no effect.</p>
<p>I understand there's some turmoil generally caused by PEP660 https://github.com/microsoft/pylance-release/issues/3473 but as far as I understand uv is supposed to be PEP660 compatible? Is this still an  upstream issue? Or am I doing something wrong?</p>
<h3>Platform</h3>
<p>Linux 5.14.0-427.33.1.el9_4.x86_64 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.5.31</p>
<h3>Python version</h3>
<p>python 3.12.7</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @tonydavis629 on 2025-02-13 19:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-13 19:16</div>
            <div class="timeline-body"><p>PEP 660 is very unopinionated about how the editable installation works. uv is PEP 660 compatible, it installs whatever the build backend gives it, and this layout is a decision made by setuptools (https://github.com/pypa/setuptools/issues/3518). uv can't really do anything here, it has to respect what the build backend does. One option is to switch to different build backend with a different editable behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @konstin on 2025-02-13 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @konstin on 2025-02-13 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">upstream</span> added by @konstin on 2025-02-13 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-13 19:18</div>
            <div class="timeline-body"><p>See also https://github.com/astral-sh/uv/issues/10946#issuecomment-2613366284</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-13 19:34</div>
            <div class="timeline-body"><p>I am surprised this isn't working with the compat mode though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-13 19:36</div>
            <div class="timeline-body"><p>You might just need to restart Pylance or something after installing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tonydavis629">@tonydavis629</a> on 2025-02-13 20:37</div>
            <div class="timeline-body"><p>I'm not sure what I did but pylance started to find it suddenly after I edited my package. I'm pretty confused, but it does seem to work, just maybe not super reliably.</p>
<blockquote>
<p>You might just need to restart Pylance or something after installing.</p>
</blockquote>
<p>Yeah I tried that initially but didn't help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @tonydavis629 on 2025-02-13 20:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:26 UTC
    </footer>
</body>
</html>
