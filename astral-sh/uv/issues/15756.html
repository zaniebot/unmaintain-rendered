<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation on level of support for the free-threaded build - astral-sh/uv #15756</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Documentation on level of support for the free-threaded build</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15756">#15756</a>
        opened by <a href="https://github.com/ngoldbaum">@ngoldbaum</a>
        on 2025-09-09 15:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ngoldbaum">@ngoldbaum</a></div>
            <div class="timeline-body"><p>Right now, uv's solver considers the free-threaded build experimental and won't use it unless you explicitly specify a free-threaded interpreter with e.g. <code>--python</code>. This leads to some surprising behaviors. Some of these are marked as bugs in uv and will likely be fixed but some of them seem to be the expected behavior of uv considering free-threading experimental:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/15739</li>
<li>https://github.com/astral-sh/uv/issues/12445</li>
<li>https://github.com/astral-sh/uv/issues/8480</li>
</ul>
<p>This came up in the context of the cryptography CI configuration where I'm trying to add support for the free-threaded build:</p>
<ul>
<li>https://github.com/pyca/cryptography/pull/12555#discussion_r2333764541</li>
</ul>
<p>It'd be nice to have this level of support explicitly documented somewhere.</p>
<p>It'd also be nice if the uv developers could think about what is needed for the free-threaded build to no longer be considered experimental and write that down somewhere.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngoldbaum">@ngoldbaum</a> on 2025-09-16 22:51</div>
            <div class="timeline-body"><p>The first cryptography release to support the free-threaded build hit some snags due to fallout from this: https://github.com/pyca/cryptography/pull/13447</p>
<p>I guess I already knew about this issue when I updated the CI configuration for 3.14 so more docs wouldn't help, but I guess it shows that it leads to some surprising behaviors.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-09-16 22:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-16 23:02</div>
            <div class="timeline-body"><p>It's on my todo list to look into this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-16 23:03</div>
            <div class="timeline-body"><p>I'm not sure if a 3.13 free-threaded environment should be used without opt-in, as free-threading was considered experimental there. We could consider changing that for 3.14+?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngoldbaum">@ngoldbaum</a> on 2025-09-16 23:07</div>
            <div class="timeline-body"><p>I think changing it for 3.14+ makes sense and would be very helpful! That would jibe with cibuildwheel's decision to build 3.14t wheels by default starting in version 3.1.</p>
<p>3.14t is not only less buggy than 3.13t but also it's 30% faster so I suspect most people will switch very quickly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rgommers">@rgommers</a> on 2025-09-19 10:20</div>
            <div class="timeline-body"><p>It makes sense to me too to change this for &gt;=3.14. Still give it lowest priority, but if it's the only interpreter available then use it. That will make using free-threaded interpreters in CI in particular much easier, since that's often where you only have a single interpreter available, and having to force it with something like <code>--python='${{ steps.setup-python.outputs.python-path }}'</code> is very ugly.</p>
<p>Even on user machines I don't think there's a problem, since (a) it'll be very rare for there to be no other interpreter installed at all, and (b) if it really is the only one, then good chance that the user actually wants to be using it.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:51 UTC
    </footer>
</body>
</html>
