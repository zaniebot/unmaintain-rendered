<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Still get error running uv pip compile with --python-version specified when Python 2 is on the PATH - astral-sh/uv #3579</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Still get error running uv pip compile with --python-version specified when Python 2 is on the PATH</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3579">#3579</a>
        opened by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a>
        on 2024-05-14 14:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a></div>
            <div class="timeline-body"><p>This is a follow up to <a href="https://github.com/astral-sh/uv/issues/3474">astral-sh/uv#3474</a> that was closed by <a href="https://github.com/astral-sh/uv/pull/3476">astral-sh/uv#3476</a></p>
<p>I am still getting the same error:</p>
<pre><code>$ python -V
Python 3.11.2

$ uv self update
info: Checking for updates...
success: Upgraded `uv` to v0.1.43! https://github.com/astral-sh/uv/releases/tag/0.1.43

$ uv -V
uv 0.1.43

$ uv cache clean
Clearing cache at: /scratch/.cache/uv
Removed 31527 files (1.0GiB)

$ uv pip compile --python-version 3.10.6  -c base-constraints.txt temp-requirements.txt
error: Querying Python at `/usr/bin/python` failed with status exit status: 2 with exit status: 2
--- stdout:

--- stderr:
Unknown option: -I
usage: /usr/bin/python [option] ... [-c cmd | -m mod | file | -] [arg] ...
Try `python -h&#x27; for more information.
---

$ /usr/bin/python -V
Python 2.7.15
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-14 14:30</div>
            <div class="timeline-body"><p>It&#x27;s because <code>usage: /usr/bin/python [option], we&#x27;re matching against </code>usage: python [option]`. I can fix it, but that&#x27;s why it worked in my case but not yours.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-14 14:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-14 14:43</div>
            <div class="timeline-body"><p>Thanks again for your quick fix!</p>
<p>I&#x27;ll keep reporting issues as long as you don&#x27;t mind supporting quirky edge cases old Linux distros (Fedora 29) can produce.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-20 21:09</div>
            <div class="timeline-body"><p>Out now in <a href="https://github.com/astral-sh/uv/releases/tag/0.1.45">v0.1.45</a>. Please report if you&#x27;re still running into problems, always welcome!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-20 22:00</div>
            <div class="timeline-body"><p>Thanks, I am now able to get uv commands to run under this scenario!</p>
<p>I have found a very curious difference between the output of pip and uv, I am investigating now to see if it&#x27;s a bug in one or the other.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:08 UTC
    </footer>
</body>
</html>
