<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow keeping build directory of dependencies (similar to pip install --no-clean) - astral-sh/uv #13499</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow keeping build directory of dependencies (similar to pip install --no-clean)</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/13499">#13499</a>
        opened by <a href="https://github.com/Hawk777">@Hawk777</a>
        on 2025-05-16 21:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Hawk777">@Hawk777</a></div>
            <div class="timeline-body">Summary
<p>When installing a dependency fails, it would be nice if I could ask UV to keep the build directory so I can look at log files in it. This is kind of similar to GH-12292, except (at least according to its title) that’s for the package being worked on, while I would like this for dependencies (or things installed via <code>uv pip</code>). As far as I can tell, this would be equivalent to <code>pip install --no-clean</code>. I tried <code>uv pip install --no-clean</code> in a vain hope that it had an undocumented option, but it doesn’t.</p>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/Hawk777">@Hawk777</a> on 2025-05-16 21:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sfc-gh-sbekman">@sfc-gh-sbekman</a> on 2025-09-05 23:21</div>
            <div class="timeline-body"><p>that and preserving the wheel so it could be copied from <code>/tmp</code> and reused again and again, please and thank you!</p>
<p>so for example a <code>pip install flash_attn  --no-build-isolation --no-clean</code> uv equivalent.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Hawk777">@Hawk777</a> on 2025-09-06 07:02</div>
            <div class="timeline-body"><p>What wheel would that be? If the build succeeds, uv already caches the wheel in its internal cache so that subsequent uses of it don’t need to recompile. If it fails, no wheel can have been created, can it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stas00">@stas00</a> on 2025-09-08 17:23</div>
            <div class="timeline-body"><p>A wheel that could be re-used on other nodes that don&#x27;t have the <code>uv</code> cache.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Hawk777">@Hawk777</a> on 2025-09-08 17:30</div>
            <div class="timeline-body"><p>Ah, so maybe a way to extract a wheel from the cache?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sfc-gh-sbekman">@sfc-gh-sbekman</a> on 2025-09-08 18:38</div>
            <div class="timeline-body"><p>whatever works. e.g. it could tell the path where the wheel was stored so that the user could copy it? same as <code>pip install ... -no-clean</code> does?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:41 UTC
    </footer>
</body>
</html>
