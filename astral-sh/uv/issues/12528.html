<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv build faild but pip install success - astral-sh/uv #12528</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv build faild but pip install success</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/12528">#12528</a>
        opened by <a href="https://github.com/candowu">@candowu</a>
        on 2025-03-28 12:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/candowu">@candowu</a> on 2025-03-28 12:45</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I initialized an empty project,
uv init xxx
cd xxx
uv venv
.venv/Script/activate</p>
<p>When using uv build, it reports an error:</p>
<p>|-&gt; The build backend returned an error<br />
<code>-&gt; Call to </code>setuptools.build_meta:<strong>legacy</strong>.get_requires_for_build_sdist` failed: expected value at line 1 column<br />
1 (exit code: 0)<br />
hint: This usually indicates a problem with the package or the build environment.<br />
Using pip install --use-pep517 --no-cache --force-reinstall . works without errors.
I want to use uv build—help me analyze where the problem lies.</p>
<h3>Platform</h3>
<p>windows10</p>
<h3>Version</h3>
<p>uv 0.6.9 (3d9460278 2025-03-20)</p>
<h3>Python version</h3>
<p>python 3.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @candowu on 2025-03-28 12:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv build faild bug pip install success" to "uv build faild but pip install success" by @candowu on 2025-03-28 12:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-28 19:20</div>
            <div class="timeline-body"><p>Unfortunately I can't reproduce this. Running <code>uv build</code> on an empty project works. However, if you're trying to use <code>uv build</code>, you probably meant to do <code>uv init --package</code> rather than <code>uv init</code> (which defaults to creating an &quot;application&quot;): https://docs.astral.sh/uv/concepts/projects/init/#applications</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-03-28 19:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2025-03-28 19:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-28 19:21</div>
            <div class="timeline-body"><p>Note also that <code>uv build</code> and <code>pip install</code> are not similar. You might have meant to use <code>uv pip install</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/candowu">@candowu</a> on 2025-03-29 12:36</div>
            <div class="timeline-body"><p>thank you very much @charliermarsh</p>
<p>today, i try hatch build, it works well</p>
<p>PS C:\uv-build-testor-3&gt; uv build
Building source distribution...
× Failed to build <code>C:\uv-build-testor-3</code>
├─▶ The build backend returned an error
╰─▶ Call to <code>hatchling.build.get_requires_for_build_sdist</code> failed: expected value at line 1 column 1 (exit code: 0)
hint: This usually indicates a problem with the package or the build environment.
PS C:\uv-build-testor-3&gt;
PS C:\uv-build-testor-3&gt; hatch build
───────────────────────────────────────────────────────────────────────────── sdist ─────────────────────────────────────────────────────────────────────────────dist\uv_build_testor_3-0.1.0.tar.gz
───────────────────────────────────────────────────────────────────────────── wheel ─────────────────────────────────────────────────────────────────────────────dist\uv_build_testor_3-0.1.0-py3-none-any.whl</p>
<p>here is pyproject.toml content:</p>
<p>[project]
name = &quot;uv-build-testor-3&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
authors = [
{ name = &quot;candowu&quot;, email = &quot;&quot; }
]
requires-python = &quot;&gt;=3.11&quot;
dependencies = []</p>
<p>[project.scripts]
uv-build-testor-3 = &quot;uv_build_testor_3:main&quot;</p>
<p>[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/candowu">@candowu</a> on 2025-03-29 12:57</div>
            <div class="timeline-body"><p>i tried follow build-system, uv build failed,  python -m build works.</p>
<p>[build-system]
requires = [&quot;setuptools&gt;=61.0&quot;]
build-backend = &quot;setuptools.build_meta&quot;</p>
<p>PS C:\uv-build-testor-3&gt; uv build
Building source distribution...
running egg_info
writing src\uv_build_testor_3.egg-info\PKG-INFO
writing dependency_links to src\uv_build_testor_3.egg-info\dependency_links.txt
writing entry points to src\uv_build_testor_3.egg-info\entry_points.txt
writing top-level names to src\uv_build_testor_3.egg-info\top_level.txt
reading manifest file 'src\uv_build_testor_3.egg-info\SOURCES.txt'
writing manifest file 'src\uv_build_testor_3.egg-info\SOURCES.txt'
× Failed to build <code>C:\uv-build-testor-3</code>
├─▶ The build backend returned an error
╰─▶ Call to <code>setuptools.build_meta.get_requires_for_build_sdist</code> failed: expected value at line 1 column 1 (exit code: 0)
hint: This usually indicates a problem with the package or the build environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/candowu">@candowu</a> on 2025-03-29 13:09</div>
            <div class="timeline-body"><p>uv pip install . also failed</p>
<p>PS C:\uv-build-testor-3&gt; uv pip install .
Resolved 1 package in 14ms
× Failed to build <code>uv-build-testor-3 @   ├─▶ The build backend returned an error   ╰─▶ Call to </code>hatchling.build.get_requires_for_build_wheel` failed: expected value at line 1 column 1 (exit code: 0)
hint: This usually indicates a problem with the package or the build environment.
PS C:\uv-build-testor-3&gt;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-11 02:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
