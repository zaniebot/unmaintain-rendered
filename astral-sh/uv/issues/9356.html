<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip install --target` flags says to add `--system`  - astral-sh/uv #9356</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv pip install --target` flags says to add `--system` </h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9356">#9356</a>
        opened by <a href="https://github.com/PatrickAlphaC">@PatrickAlphaC</a>
        on 2024-11-22 14:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/PatrickAlphaC">@PatrickAlphaC</a> on 2024-11-22 14:22</div>
            <div class="timeline-body"><p>Running the following:</p>
<pre><code class="language-bash">uv pip install requests --target ./
</code></pre>
<p>Results in:</p>
<pre><code>error: No virtual environment found; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
</code></pre>
<p>However, I think this is incorrect. I am giving the pip install a target so it shouldn't want to be installed with --system?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ReinforcedKnowledge">@ReinforcedKnowledge</a> on 2024-11-22 16:55</div>
            <div class="timeline-body"><p>If I may add on your issue:</p>
<pre><code class="language-bash">uv init --package try_pip_install_target
cd try_pip_install_target
uv add numpy
cd ..
uv pip install --target try_pip_install_target requests
</code></pre>
<p>Gives the same error.</p>
<pre><code class="language-bash">error: No virtual environment found; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
</code></pre>
<p>But:</p>
<pre><code class="language-bash">cd try_pip_install_target
uv pip install --target ./ requests
</code></pre>
<p>Works.</p>
<p>So doing <code>uv pip install --target &lt;target-path&gt;</code> where <code>&lt;target-path&gt;</code> is a sub-directory or unrelated directory won't work even if that directory contains a <code>venv</code>. But doing it inside a directory that contains a <code>venv</code> works.</p>
<p>So either the command was not designed to mirror <code>pip install</code> and in that case maybe the documentation is not clear enough, and I guess in that case, probably, this is a command made for workspaces.</p>
<p>Or it was designed to mirror <code>pip install</code> but doesn't work correctly.</p>
<p>Or I'm misunderstanding some subtle detail ðŸ˜…</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-11-22 19:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @charliermarsh on 2024-11-22 19:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-22 19:49</div>
            <div class="timeline-body"><p>I need to refresh my memory here, but I agree that at minimum it's confusing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-22 20:33</div>
            <div class="timeline-body"><p>This has come up enough times that I'll look into changing it:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/3348</li>
<li>https://github.com/astral-sh/uv/issues/6198</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-11-22 20:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9371.html">astral-sh/uv#9371</a> on 2024-11-22 20:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-11-22 22:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
