<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip tree` improvement - astral-sh/uv #4439</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv pip tree` improvement</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/4439">#4439</a>
        opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a>
        on 2024-06-21 19:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-06-21 19:55</div>
            <div class="timeline-body"><p>Some additional features that did not land as part of https://github.com/astral-sh/uv/pull/3859:</p>
<ul>
<li>[ ] Proper handling of extras</li>
<li>[x] <code>--no-dedupe</code> (https://github.com/astral-sh/uv/pull/4449)</li>
<li>[x] <code>--prune</code> and <code>--depth</code> (https://github.com/astral-sh/uv/pull/4440)</li>
<li>[x] <code>--package</code> (https://github.com/astral-sh/uv/pull/4655)</li>
<li>[x] <code>--invert</code> (https://github.com/astral-sh/uv/pull/4621)</li>
<li>[ ] Machine readable output (e.g. JSON with <code>-j</code>)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3272.html">astral-sh/uv#3272</a> on 2024-06-21 19:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-21 20:08</div>
            <div class="timeline-body"><p>Can you create specific issues for each of these so we can track contributions easier?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4440.html">astral-sh/uv#4440</a> on 2024-06-21 20:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-06-21 21:29</div>
            <div class="timeline-body"><p>how would <code>--no-dedupe</code> and the current behavior for printing out dependency cycles would interact? wouldn't it end up with an infinite loop?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-21 21:36</div>
            <div class="timeline-body"><p>We would need to deduplicate cycles still, but we can show anything that's not a cycle.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-06-21 22:10</div>
            <div class="timeline-body"><p>should we also print <code>(**)</code> instead of <code>(*)</code> for cyclic dependencies? it may be nice to disambiguate between the regular de-duplication and cyclic dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-21 22:25</div>
            <div class="timeline-body"><p>If you use <code>--no-dedupe</code> we can just use <code>(*)</code> still and change the footnote to say it's a cycle. idk if we need to highlight cycles further in the default output, sounds hard to read.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kdeldycke">@kdeldycke</a> on 2024-06-22 08:09</div>
            <div class="timeline-body"><p>May I propose to add a machine-readable output like JSON/CSV/Toml/whatever to the list of improvements?</p>
<p>So I can hack <code>uv pip tree</code> output to produce a mermaid graph of dependencies (and emulates <code>pipdeptree --mermaid &gt; dependencies.mmd</code>)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dsully">@dsully</a> on 2024-06-22 17:50</div>
            <div class="timeline-body"><p>+1 on adding JSON <code>-j</code> to <code>pipdeptree</code> and other machine readable outputs. Example output:</p>
<pre><code class="language-json">[
    ....
    {
        &quot;package&quot;: {
            &quot;key&quot;: &quot;werkzeug&quot;,
            &quot;package_name&quot;: &quot;Werkzeug&quot;,
            &quot;installed_version&quot;: &quot;3.0.3&quot;
        },
        &quot;dependencies&quot;: [
            {
                &quot;key&quot;: &quot;markupsafe&quot;,
                &quot;package_name&quot;: &quot;MarkupSafe&quot;,
                &quot;installed_version&quot;: &quot;2.1.5&quot;,
                &quot;required_version&quot;: &quot;&gt;=2.1.1&quot;
            }
        ]
    }
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4449.html">astral-sh/uv#4449</a> on 2024-06-22 19:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-06-23 17:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2024-06-23 17:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-06-24 16:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-06-24 16:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Peiffap">@Peiffap</a> on 2024-06-25 12:17</div>
            <div class="timeline-body"><p>@zanieb I think this accidentally got closed in #4449; #4440 hasn't been merged yet and contains some of the additional features being asked for (<code>--depth</code> and <code>--prune</code>). There was also the bullet on proper handling of extras.</p>
<p>You might also want to ask about creating follow-up issues for the output flags that were mentioned in comments (<code>--mermaid</code>, <code>-j</code>, etc.).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @zanieb on 2024-06-25 12:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-06-26 22:56</div>
            <div class="timeline-body"><p>I mostly use <code>pipdeptree</code> with its <code>-p / --packages</code> and <code>-r / --reverse</code> flags; I'd love to see <code>uv pip tree</code> have equivalent functionality!</p>
<p>(let me know if I should open a new issue for that :-) )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-26 23:14</div>
            <div class="timeline-body"><p>We're on the loose with this issue right now â€” seems to be working fine since @ChannyClaus is just doing them all :)</p>
<p>Please chime in if you're interested in doing any of these improvements though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2024-06-26 23:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-06-27 00:09</div>
            <div class="timeline-body"><p>oh okay yah i can add those (<code>--packages</code> and <code>--reverse</code> that is) ðŸŒµ</p>
<p>was going to make a PR for the extras (since this would be a &quot;breaking&quot; change unless it's behind a flag?) once https://github.com/astral-sh/uv/pull/4440 merged but maybe i'll just stack them on top of each other or something...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-27 00:33</div>
            <div class="timeline-body"><p>I don't think you need to worry about breaking changes in the text output since it's meant for users to &quot;view&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-06-27 00:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @ibraheemdev on 2024-06-27 04:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4621.html">astral-sh/uv#4621</a> on 2024-06-28 15:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4655.html">astral-sh/uv#4655</a> on 2024-06-29 23:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2024-07-01 16:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @ibraheemdev on 2024-07-01 16:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2024-07-01 21:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-07-01 21:24</div>
            <div class="timeline-body"><p>Thanks @ChannyClaus for all your work on this! Splitting the remaining two issues into https://github.com/astral-sh/uv/issues/4711 and https://github.com/astral-sh/uv/issues/4710.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:58 UTC
    </footer>
</body>
</html>
