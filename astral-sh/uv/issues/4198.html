<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add setting to manage preference for managed toolchains - astral-sh/uv #4198</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add setting to manage preference for managed toolchains</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4198">#4198</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-06-10 14:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-10 14:01</div>
            <div class="timeline-body"><p>Users should be able to opt in and out of managed toolchains, e.g.</p>
<pre><code>managed-toolchains = always | preferred | fallback | never
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2024-06-10 14:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2024-06-10 14:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-10 14:02</div>
            <div class="timeline-body"><p>We could also frame this differently, like..</p>
<pre><code>toolchain-discovery = prefer-system | prefer-managed | only-system | only-managed
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baggiponte">@baggiponte</a> on 2024-06-20 09:12</div>
            <div class="timeline-body"><blockquote>
<p>We could also frame this differently, like..</p>
<pre><code>toolchain-discovery = prefer-system | prefer-managed | only-system | only-managed
</code></pre>
</blockquote>
<p>What about?</p>
<pre><code>toolchains = uv-first | system-first | managed-first | uv-only | system-only | managed-only
</code></pre>
<p>Or you could explicitly configure python providers like <a href="https://pdm-project.org/en/latest/usage/config/#configure-the-python-finder">PDM</a>. People might (and are) using tools like mise asdf pyenv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-20 13:12</div>
            <div class="timeline-body"><p>What's the difference between <code>uv-only</code> and <code>managed-only</code> there?</p>
<p>I don't think we'll support discovery of Python interpreters in <em>other</em> tool's installation directories. It seems more reasonable to just expect them to be registered in the PATH (or, on WIndows, in the registry).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baggiponte">@baggiponte</a> on 2024-06-20 15:08</div>
            <div class="timeline-body"><blockquote>
<p>What's the difference between <code>uv-only</code> and <code>managed-only</code> there?</p>
<p>I don't think we'll support discovery of Python interpreters in <em>other</em> tool's installation directories. It seems more reasonable to just expect them to be registered in the PATH (or, on WIndows, in the registry).</p>
</blockquote>
<p>Makes sense, but then I guess what's the difference between <code>system</code> python and other tools? In other words, brew python should just not come up, am I correct?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-20 15:13</div>
            <div class="timeline-body"><p>A &quot;system&quot; Python here is any Python toolchain installed on the system i.e. not being managed by uv. Brew Python will come up if it's on the PATH, but we won't try to discover it a Brew-specific location (as we won't, thusfar, attempt to discover <code>pyenv</code> Python in their storage directory)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> removed by @zanieb on 2024-08-20 18:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/delfick">@delfick</a> on 2024-09-14 07:27</div>
            <div class="timeline-body"><p>It would be useful to be able to tell uv to prefer using asdf/pyenv discovery/installation if that's available rather than only python-build-standalone</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-14 13:08</div>
            <div class="timeline-body"><p>This issue is actually completed: https://docs.astral.sh/uv/reference/settings/#python-preference</p>
<p>Feel free to open a new one to track support for other managed Python distribution kinds, but we're pretty unlikely to support more.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-09-14 13:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/delfick">@delfick</a> on 2024-09-14 21:56</div>
            <div class="timeline-body"><p>sure, done https://github.com/astral-sh/uv/issues/7400</p>
<p>Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 04:47:25 UTC
    </footer>
</body>
</html>
