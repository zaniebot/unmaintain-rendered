<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adding option to generate uv.lock file without the Development dependencies - astral-sh/uv #9967</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Adding option to generate uv.lock file without the Development dependencies</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9967">#9967</a>
        opened by <a href="https://github.com/borisgurzhovski-itgma">@borisgurzhovski-itgma</a>
        on 2024-12-17 11:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/borisgurzhovski-itgma">@borisgurzhovski-itgma</a></div>
            <div class="timeline-body"><p>Is it possible (maybe add it as future improvement) to add an option to generate an <code>uv.lock</code> file which won't include the Development dependencies?</p>
<p>Something similar to the <code>--no-dev</code> option, that won't install the Development dependencies when runing <code>uv run</code> or <code>uv sync</code>, but this will generate the <code>uv.lock</code> without them.</p>
<p>I am running the version 0.5.6
On a Docker container from python:3.9.20-slim-bookworm image
Command I am running is  <code>uv.lock</code> (full command is: <code>docker run -it --rm --volume &quot;$PWD&quot;:/app DOCKER_NAME uv lock</code>)</p>
<p>Verbose output is:
<code>DEBUG uv 0.5.6</code>
<code>DEBUG Found workspace root: '/app'</code>
<code>DEBUG Adding current workspace member: '/app'</code>
<code>DEBUG Reading Python requests from version file at '/app/.python-version'</code>
<code>DEBUG Using Python request '3.9.20' from version file at '.python-version'</code>
<code>DEBUG The virtual environment's Python version satisfies '3.9.20'</code>
<code>DEBUG Using request timeout of 30s</code>
<code>DEBUG Found static 'pyproject.toml' for: xxx @ file:///app</code>
<code>DEBUG No workspace root found, using project root</code>
<code>DEBUG Existing 'uv.lock' satisfies workspace requirements</code></p>
<p>Thanks in advance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-17 20:14</div>
            <div class="timeline-body"><p>What's the motivation for omitting development dependencies from the lockfile itself?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-12-17 20:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/borisgurzhovski-itgma">@borisgurzhovski-itgma</a> on 2024-12-19 10:15</div>
            <div class="timeline-body"><p>Hi Charlie, thank you for your reply.</p>
<p>I think it will be more clear/better overview of the file, if the development dependencies are not in the lock file.
Anyway this is just my perspective.</p>
<p>Thank you for your time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-27 13:53</div>
            <div class="timeline-body"><p>Got it! I'm going to pass on this suggestion for now as I think it makes sense to lock with the dev dependencies regardless.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-27 13:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-12-27 13:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snoweuph">@snoweuph</a> on 2025-08-11 14:39</div>
            <div class="timeline-body"><p>How was this implemented, can't find the doc, and It's closed as completed.</p>
<p>My usecase for a lockfile without dev dependencies is to let Gitlab generate an SBOM without them (as dev Dependencies don't make sense in an SBOM after all)</p>
<p>if it isn't actually implemented, how about allowing <code>uv export</code> to also export to the <code>uv.lock</code> format. (because it doesn't seem to be able to do that rn)</p>
<pre><code class="language-sh">$ uv --version
uv 0.8.8


$ uv export --no-dev --help
Export the project's lockfile to an alternate format

Usage: uv export [OPTIONS]

Options:
      --format &lt;FORMAT&gt;                    The format to which `uv.lock` should be exported [possible values: requirements.txt,
                                           pylock.toml]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hasansezertasan">@hasansezertasan</a> on 2025-08-12 08:08</div>
            <div class="timeline-body"><blockquote>
<p>How was this implemented, can't find the doc, and It's closed as completed.</p>
</blockquote>
<p>Checkout @charliermarsh's https://github.com/astral-sh/uv/issues/9967#issuecomment-2563723505.</p>
<blockquote>
<p>My usecase for a lockfile without dev dependencies is to let Gitlab generate an SBOM without them (as dev Dependencies don't make sense in an SBOM after all)</p>
<p>if it isn't actually implemented, how about allowing <code>uv export</code> to also export to the <code>uv.lock</code> format. (because it doesn't seem to be able to do that rn)</p>
<p>$ uv --version
uv 0.8.8</p>
<p>$ uv export --no-dev --help
Export the project's lockfile to an alternate format</p>
<p>Usage: uv export [OPTIONS]</p>
<p>Options:
--format <FORMAT>                    The format to which <code>uv.lock</code> should be exported [possible values: requirements.txt,
pylock.toml]</p>
</blockquote>
<p>Checkout the docs. <a href="https://docs.astral.sh/uv/concepts/projects/sync/#exporting-the-lockfile">I think it's what you are looking for</a>.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:28:56 UTC
    </footer>
</body>
</html>
