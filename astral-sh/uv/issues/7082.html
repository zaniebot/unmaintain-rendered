<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Can I constraint build requirements with uv build? - astral-sh/uv #7082</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Can I constraint build requirements with uv build?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7082">#7082</a>
        opened by <a href="https://github.com/notatallshaw">@notatallshaw</a>
        on 2024-09-05 13:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/notatallshaw">@notatallshaw</a></div>
            <div class="timeline-body"><p>I tried using the new uv build with a pyproject.toml that looks like this:</p>
<pre><code>[build-system]
requires = [&quot;setuptools==74.1.1&quot;, &quot;wheel==0.44.0&quot;]
build-backend = &quot;setuptools.build_meta&quot;

[project]
name = &quot;minimal_project&quot;
version = &quot;0.1.0&quot;
</code></pre>
<p>I created a <code>build-constraints.txt</code> file that looks like this (the versions contradict the build requires and hashes are purposefully wrong):</p>
<pre><code>setuptools==69.0.0 --hash=sha256:fc91b5f89e392ef5b77fe143b17e32f65d3024744fba66dc3afe07201684d766
wheel==0.40.0 --hash=sha256:2376a90c98cc337d18623527a97c31797bd02bad0033d41547043a1cbfbe4481
</code></pre>
<p>I then set <code>UV_BUILD_CONSTRAINT</code> to point to my <code>build-constraints.txt</code>, and then I ran <code>uv build .</code>, but I did not get an error that these versions or hashes are wrong.</p>
<p>Is there a way to constrain build requirements during building? I specifically think of scenarios where I don&#x27;t control the contents of an sdist, or there are recursive build requirements I want to constrain.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 13:27</div>
            <div class="timeline-body"><p>It&#x27;s not supported yet but I&#x27;ll probably do it today. I think it&#x27;s covered in #7065.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 13:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 13:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 18:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 18:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:33:44 UTC
    </footer>
</body>
</html>
