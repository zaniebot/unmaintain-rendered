<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vscode cannot help installing packages (e.g.: ipykernel for notebook) - astral-sh/uv #1601</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>vscode cannot help installing packages (e.g.: ipykernel for notebook)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1601">#1601</a>
        opened by <a href="https://github.com/Julian-J-S">@Julian-J-S</a>
        on 2024-02-17 16:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Julian-J-S">@Julian-J-S</a></div>
            <div class="timeline-body"><p>vs code cannot help installing packages as it used to</p>
<p>example:</p>
<ul>
<li><code>uv venv</code></li>
<li>create a python notebook <code>dummy.ipynb</code> (use the newly created .venv)</li>
<li>run any cell</li>
</ul>
<p>vscode will prompt
<img width="257" alt="image" src="https://github.com/astral-sh/uv/assets/25177421/9ef24d9c-88db-4645-9fcd-fc098e96f070"></p>
<p>if you click on &quot;install&quot; this usually works but as no <code>pip</code> is available you get
<img width="257" alt="image" src="https://github.com/astral-sh/uv/assets/25177421/a49731a8-ca91-4ab9-ad88-355e292c2423"></p>
<p>Ofc there are solutions like adding <code>pip</code> or installing it manually via <code>uv pip install ipykernel</code> but the usual workflow is broken. Not sure if another vscode extension would solve the problem or any other ideas.</p>
<p>anyway, still LOOOOVEEEE all your great, fast, ergonomic python tooling and looking forward for even more! ❤️</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "vscode cannot help installing packages (e.g.: ipykernerl for notebook)" to "vscode cannot help installing packages (e.g.: ipykernel for notebook)" by @Julian-J-S on 2024-02-17 16:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kafonek">@kafonek</a> on 2024-02-17 17:01</div>
            <div class="timeline-body"><p>As a workaround (or solution?), you can <code>uv venv --seed</code> to install pip, setuptools, and wheel into the virtual env that <code>uv</code> creates.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-02-17 17:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/casellimarco">@casellimarco</a> on 2024-02-19 13:27</div>
            <div class="timeline-body"><p>I don't know if it is related, but when running jupyter notebooks I struggle to update the venv where the kernel has been loaded.
For instance, if a block fails because of the absence of a package, I could not find a way to fix it, seems &quot;Restart kernel&quot; is not pointing towards the latest version of the virtual environment. The funny thing is that <code>pip list</code> finds the package.</p>
<p>Edit: part of the misalignment can be due to installation with <code>pip</code> instead of <code>uv pip</code>, I do wonder where the <code>pip</code>-installed packages land and if they are still accessible</p>
<p><img src="https://github.com/astral-sh/uv/assets/22890646/284f7908-758d-4b93-9ef9-f9b56d31c225" alt="image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kafonek">@kafonek</a> on 2024-02-19 14:15</div>
            <div class="timeline-body"><p>@casellimarco for your own debug you can try <code>!which pip</code> or <code>!pip install -v pandas</code>. Both should give you a clue about which pip you're using. I believe you're right that <code>!uv pip install</code> works right now (as long as you started <code>jupyter</code> from the <code>uv</code> venv)</p>
<p>It would be nice to have something akin to <code>poetry run</code> here which sources the venv before starting the process.</p>
<pre><code>poetry init -n
poetry add jupyter notebook
poetry run jupyter notebook

# in notebook, shows the venv pip
!which pip
</code></pre>
<pre><code>uv venv --seed
uv pip install jupyter notebook
./.venv/bin/jupyter notebook # or ./.venv/bin/python -m jupyter notebook

# in notebook, shows not-venv pip
!which pip
</code></pre>
<p>explicitly sourcing the venv is a workaround for you @casellimarco</p>
<pre><code>uv venv --seed
uv pip install jupyter notebook
source .venv/bin/activate
jupyter notebook

# in notebook, shows venv pip
!which pip
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/casellimarco">@casellimarco</a> on 2024-02-22 08:38</div>
            <div class="timeline-body"><p>Thanks for the help @kafonek!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mattharrison">@mattharrison</a> on 2024-09-10 22:56</div>
            <div class="timeline-body"><p>Not sure how to get this working. I added pip and ipykernel to my uv venv and am still getting this popup.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-10-21 21:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RoySelaArazi-Q">@RoySelaArazi-Q</a> on 2025-04-02 13:53</div>
            <div class="timeline-body"><p>This is still isn't solved to me :(</p>
<p>Tried to create a new venv by running:</p>
<pre><code>uv venv test --seed 
source test/bin/activate
uv pip install ipykernel
</code></pre>
<p>Still vscode gives the same error when trying to use this environment.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:42 UTC
    </footer>
</body>
</html>
