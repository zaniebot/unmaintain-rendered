<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git dependencies fetch strategy - astral-sh/uv #1452</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Git dependencies fetch strategy</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1452">#1452</a>
        opened by <a href="https://github.com/TheoBabilon">@TheoBabilon</a>
        on 2024-02-16 08:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/TheoBabilon">@TheoBabilon</a></div>
            <div class="timeline-body"><p>Hi team,</p>
<p>Thanks for the great work on <code>uv</code>!</p>
<p>I have several git dependencies in one of my existing projects; I tried running
<code>uv pip compile pyproject.toml -o requirements.txt</code>  but it fails with</p>
<pre><code>Updating ssh://git (github.mycompany.com/toto/abcd.git)                               

error: Failed to download and build: abcd @ git+ssh://git@github.mycompany.com/toto/abcd.git
  Caused by: Git operation failed
  Caused by: failed to fetch into: /myhomedir/.cache/uv/git-v0/db/f81ed0a494f1ba1c
  Caused by: failed to authenticate when downloading repository

* attempted ssh-agent authentication, but no usernames succeeded: `myusername`, `git`
  Caused by: no authentication methods succeeded
</code></pre>
<p>Note that cloning repos works fine from git cli (or even using <code>pdm</code>, though I&#x27;m not sure what&#x27;s the underlying method used).</p>
<p>Looking into <a href="https://github.com/astral-sh/uv/pull/283">astral-sh/uv#283</a>, I noticed from @charliermarsh comment that this is unfortunately a common problem with ssh deps with Cargo;
looking into the PR it seems that the Cli fetching strategy is handled (which might potentially solve my problem?), but it is unclear to me if this is somehow exposed to us (as end user), through the <code>uv</code> cli?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-02-16 08:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/TudorAndrei">@TudorAndrei</a> on 2024-02-16 10:02</div>
            <div class="timeline-body"><p>I&#x27;m encountering the same issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-21 18:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:24 UTC
    </footer>
</body>
</html>
