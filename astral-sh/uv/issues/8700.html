<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot change project python version - astral-sh/uv #8700</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Cannot change project python version</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8700">#8700</a>
        opened by <a href="https://github.com/voodoojunk">@voodoojunk</a>
        on 2024-10-30 14:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/voodoojunk">@voodoojunk</a> on 2024-10-30 14:11</div>
            <div class="timeline-body"><p>Hi</p>
<p>I'm trying to change the python version for a project and it does not work.
My understanding is that updating the <code>requires-python</code> version in <code>pyproject.toml</code>  and running <code>uv sync</code> is all that is required, but it does not work and I get the following error:</p>
<pre><code>uv sync
Using CPython 3.9.6 interpreter at: /Library/Developer/CommandLineTools/usr/bin/python3
error: The Python request from `.python-version` resolved to Python 3.9.6, which is incompatible with the project's Python requirement: `==3.11.8`. However, a workspace member (`help`) supports Python &gt;=3.9. To install the workspace member on its own, navigate to `help`, then run `uv venv --python 3.9.6` followed by `uv pip install -e .`.
</code></pre>
<p>I also tried updating python via the <code>venv</code> subcommand and the installation appears to be successful (only after reverting to the original version in <code>requires-python</code>):</p>
<pre><code>uv venv --python 3.11.8
Using CPython 3.11.8
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
</code></pre>
<p>But the python version being used appears to be the old one even after activating the venv:</p>
<pre><code>uv run python --version
Python 3.9.6
</code></pre>
<p>Environment:</p>
<p>uv version = uv 0.4.28 (debe67ffd 2024-10-28)
macOS = 14.6</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-10-30 14:13</div>
            <div class="timeline-body"><p>You should also remove or modify the <code>.python-version</code> file, which encodes the <em>specific</em> version you want (as opposed to the range of supported versions).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/voodoojunk">@voodoojunk</a> on 2024-10-30 14:17</div>
            <div class="timeline-body"><p>Thanks - removing .python-version indeed solved the problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @voodoojunk on 2024-10-30 14:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:23 UTC
    </footer>
</body>
</html>
