<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unable to install wheel with macosx_14_5 platform tag on macOS 15.6.1 - astral-sh/uv #16337</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unable to install wheel with macosx_14_5 platform tag on macOS 15.6.1</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16337">#16337</a>
        opened by <a href="https://github.com/anuraaga">@anuraaga</a>
        on 2025-10-17 06:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/anuraaga">@anuraaga</a></div>
            <div class="timeline-body">Summary
<p>I am publishing a python extension and having trouble with the tags for the macOS wheel. The project is <a href="https://pypi.org/project/pyvoy">pyvoy</a>.</p>
<p>I initially tried setting the platform tag to 14_5 as that is the actual minimum macOS version for my package, but it fails to install with uv.</p>
<p>https://pypi.org/project/pyvoy/0.0.2/#files</p>
<pre><code>❯ uvx --refresh-package pyvoy pyvoy==0.0.2 -h
  × No solution found when resolving tool dependencies:
  ╰─▶ Because pyvoy==0.0.2 has no wheels with a matching platform tag (e.g., `macosx_15_0_arm64`) and you require pyvoy==0.0.2, we can conclude that your requirements are unsatisfiable.

      hint: Wheels are available for `pyvoy` (v0.0.2) on the following platforms: `manylinux_2_31_aarch64`, `manylinux_2_31_x86_64`, `macosx_14_5_arm64`
</code></pre>
<p>After setting it to 15_0, it is fine</p>
<p>https://pypi.org/project/pyvoy/0.0.3/#files</p>
<pre><code>❯ uvx --refresh-package pyvoy pyvoy==0.0.3 -h
usage: pyvoy [-h] [--address ADDRESS] [--port PORT] [--tls-port TLS_PORT] [--tls-key TLS_KEY] [--tls-cert TLS_CERT] [--tls-ca-cert TLS_CA_CERT] [--tls-disable-http3] [--interface {asgi,wsgi}]
             [--print-envoy-config]
             app
</code></pre>
<p>From my understanding, 14_5 should work too though as it indicates macOS 14.5+, including macOS 15.6.1.</p>
<p>Many packages work fine, for example ruff sets <code>macosx_11_0</code>. The main difference with it I can see is this is actually a cpython wheel so cp313, etc, instead of py3. But I can&#x27;t find any information about this affecting macOS version compatibility, such as on pypa.</p>
<p>https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/</p>
<p>pypi also renders a tag macOS 14.5+, not 14.5+,&lt;15 or such</p>
<p><img alt="Image" src="https://github.com/user-attachments/assets/9975c454-371f-4896-b9fd-f0cd5276265b"></p>
<p>Is it expected for 14_5 wheel to not work in this situation?</p>
Platform
<p>Darwin 24.6.0 arm64 (macos 15.6.1)</p>
Version
<p>uv 0.9.3 (Homebrew 2025-10-15)</p>
Python version
<p>Python 3.12.6</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 06:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-17 09:05</div>
            <div class="timeline-body"><p>For macOS starting with macOS 11, only minor versions of 0 are supported in tags, i.e. <code>macosx_11_0</code>, <code>macosx_12_0</code>, <code>macosx_13_0</code>, <code>macosx_14_0</code>, <code>macosx_15_0</code>, the midyear updates can&#x27;t be used in tags.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/konstin">@konstin</a> on 2025-10-17 09:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-10-17 09:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 09:25</div>
            <div class="timeline-body"><p>Thanks a lot for the explanation! I couldn&#x27;t find it anywhere in the docs but it makes sense.</p>
<p>I filed <a href="https://github.com/pypa/packaging.python.org/issues/1933">pypa/packaging.python.org#1933</a>#issue-3525235478 to see if the pypa docs can be updated with the guidance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 09:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 13:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 13:50</div>
            <div class="timeline-body"><p>Sorry @konstin , from the comment on my pypa issue it sounds like this was never actually decided. Would you be able to chime in on that issue? Or otherwise maybe uv should support the tags more flexibly? Appreciate any help. If the latter, I&#x27;m happy to try a PR for uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-17 15:01</div>
            <div class="timeline-body"><p>I don&#x27;t think there&#x27;s a spec around this, it&#x27;s effectively implementation defined by <code>packaging</code>: https://github.com/pypa/packaging/blob/a85e63daecba56bbb829492624a844d306053504/src/packaging/tags.py#L452-L460</p>
<p>iirc it&#x27;s done this way so we don&#x27;t have to know which macOS version had how many minor releases, so we&#x27;re only tracking the major version. If we want to change that, we should discuss it in https://discuss.python.org/c/packaging/14 and then change it in uv and packaging. I know it&#x27;s a but of an awkward situation where there&#x27;s an implementation-defined standard by packaging, it&#x27;s something that&#x27;s mainly defined by apple changing its release cycle.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 15:24</div>
            <div class="timeline-body"><p>Thanks for the context, and for what it&#x27;s worth I know well the pains of working on de-facto vs written standards in observability.</p>
<p>While I don&#x27;t have any authority in the packaging ecosystem, as the author of this issue I will go ahead and close it again since I agree the only two meaningful solutions are</p>
<ul>
<li>Clarify the docs based on the clear version scheme change of macOS</li>
<li>Leave things in limbo (status quo)</li>
</ul>
<p>Thanks for the help on the other issue, I don&#x27;t know if I would have the will to try out DPO for the first time to avoid the second option, but I don&#x27;t think uv should have to worry about this either. Few will have as bad luck as me for putting envoy, which targets 14.5 for whatever reason, in a wheel ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/anuraaga">@anuraaga</a> on 2025-10-17 15:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:41 UTC
    </footer>
</body>
</html>
