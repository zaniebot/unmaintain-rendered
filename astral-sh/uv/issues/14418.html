<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheel from URL with correct filename but incorrect name in URL - astral-sh/uv #14418</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Wheel from URL with correct filename but incorrect name in URL</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/14418">#14418</a>
        opened by <a href="https://github.com/danielkonecny">@danielkonecny</a>
        on 2025-07-02 12:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/danielkonecny">@danielkonecny</a></div>
            <div class="timeline-body">Summary
<p>Hello,
I stumbled upon a corner case when trying to install a package from URL with a wheel file. It occurs when the wheel filename is checked if it contains a version of the package.</p>
<p>I am downloading a wheel file from URL and the cloud service that has the wheel file (Box) uses some kind of hash instead of the file name in the URL, when the file is shared. But the file that is being downloaded is named correctly as requested by pip/uv, just the URL doesn&#x27;t match the standard naming of the file.</p>
<p>Example: NVIDIA has their own build of Python packages for the architecture of their Jetson Orin computing units. They provide them (apart from other sources) via this non-standard link at <a href="https://www.elinux.org/Jetson_Zoo#ONNX_Runtime">Jetson ZOO website</a>. And to download the package, link is as follows <a href="https://nvidia.box.com/shared/static/fiszizbl3rvliqpidq0nzbwz5eyi208s.whl">https://nvidia.box.com/shared/static/fiszizbl3rvliqpidq0nzbwz5eyi208s.whl</a> but downloaded file is named correctly <code>onnxruntime_gpu-1.19.0-cp312-cp312-linux_aarch64.whl</code>.</p>
<p>I am assuming that uv checks the filename from the URL, not the filename of the downloaded file. Can someone confirm this please? And if yes, would it be possible (and desirable?) to change this behavior so that the only thing that matters is the name of the downloaded wheel file? It would generally make more sense in my opinion.</p>
<p>Thanks! Daniel</p>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/danielkonecny">@danielkonecny</a> on 2025-07-02 12:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-07-02 12:22</div>
            <div class="timeline-body"><p>uv currently looks at the filename in the URL, this helps to quickly determine what&#x27;s at the URL: Is it a source distribution, or a wheel, and is the wheel compatible with the current environment?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danielkonecny">@danielkonecny</a> on 2025-07-02 12:30</div>
            <div class="timeline-body"><p>I understand the desire to perform fast and therefore, only check the URL. Maybe a fallback solution that checks the file name itself only when there is an error in the URL would make more sense then? It doesn&#x27;t slow down the main case but also provides a solution to the corner case.</p>
<p>Also, the file has correct extension (.whl) even in the URL, just the name itself does not conform.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-03 13:14</div>
            <div class="timeline-body"><p>We don&#x27;t support this today. I&#x27;m unsure if we&#x27;ll prioritize it -- it just hasn&#x27;t come up before and it seems really rare.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-03 16:00</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:39:16 UTC
    </footer>
</body>
</html>
