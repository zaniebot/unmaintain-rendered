```yaml
number: 5388
title: "Consider adding workspace members as sources in `uv init`"
type: issue
state: open
author: zanieb
labels:
  - good first issue
  - projects
  - cli
assignees: []
created_at: 2024-07-24T00:43:51Z
updated_at: 2024-11-04T20:10:47Z
url: https://github.com/astral-sh/uv/issues/5388
synced_at: 2026-01-10T01:57:11Z
```

# Consider adding workspace members as sources in `uv init`

---

_Issue opened by @zanieb on 2024-07-24 00:43_

Initializing as workspace member adds it to the root package workspace members but does not add it as a dependency, e.g.:

```
❯ uv init
❯ uv init foo
Adding `foo` as member of workspace `/Users/zb/workspace/example`
Initialized project `foo` at `/Users/zb/workspace/example/foo`
❯ cat pyproject.toml
[project]
name = "example"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = []

[tool.uv]
dev-dependencies = []

[tool.uv.workspace]
members = ["foo"]
```

`uv add` will do so:

```
❯ uv add foo
❯ cat pyproject.toml
[project]
name = "example"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = [
    "foo",
]

[tool.uv]
dev-dependencies = []

[tool.uv.workspace]
members = ["foo"]

[tool.uv.sources]
foo = { workspace = true }
```

We should something like:

- Add a toggle to control adding to the current workspace in a single invocation
- Determine the default behavior
- If not added by default, show a hint suggesting how to add it

---

_Label `cli` added by @zanieb on 2024-07-24 00:43_

---

_Label `preview` added by @zanieb on 2024-07-24 00:43_

---

_Label `projects` added by @zanieb on 2024-07-24 00:44_

---

_Comment by @charliermarsh on 2024-07-24 00:49_

Not in love with a toggle for this, let's just pick a good default IMO. What does Cargo do?

---

_Label `preview` removed by @zanieb on 2024-08-20 18:21_

---

_Comment by @charliermarsh on 2024-09-14 22:22_

I think it makes sense to add it as a dep here.

---

_Label `good first issue` added by @zanieb on 2024-09-15 13:14_

---

_Comment by @jakubkunert on 2024-10-08 18:03_

I would like to do it, but I need some hint or consultation here.

- Do we assume here that we need all 3 types of deps: production/dev/optional or just production?
- Do we want to create new functions for above? Current implementation of `add_dependency(...)`  is connected strictly with implementation of `uv add` with usage of `requirements` which is not used in scope of `init` implementation.

---

_Comment by @mahmudsudo on 2024-11-04 20:10_

can i take up this issue?

---

_Referenced in [astral-sh/uv#11404](../../astral-sh/uv/pulls/11404.md) on 2025-02-10 20:48_

---

_Referenced in [astral-sh/uv#14464](../../astral-sh/uv/issues/14464.md) on 2025-07-05 03:38_

---
