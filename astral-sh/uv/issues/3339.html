<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enable uv self-update via uv pip commands on Windows - astral-sh/uv #3339</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Enable uv self-update via uv pip commands on Windows</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/3339">#3339</a>
        opened by <a href="https://github.com/FredStober">@FredStober</a>
        on 2024-05-02 18:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/FredStober">@FredStober</a> on 2024-05-02 18:16</div>
            <div class="timeline-body"><p>On windows, uv should be able to update itself when uv is installed into a virtual environment.</p>
<ul>
<li>The command you invoked (e.g., <code>uv pip sync requirements.txt</code>), ideally including the <code>--verbose</code> flag.</li>
</ul>
<pre><code>uv venv --seed test
test\Scripts\activate
pip install &quot;uv==0.1.35&quot;
uv pip install &quot;uv==0.1.38&quot;
</code></pre>
<p>Results under windows in <code>error: failed to remove file &lt;......&gt;\test\Lib\site-packages\../../Scripts/uv.exe</code></p>
<p>The minimal example is just to show how to trigger the error. The same issue appears with a much more likely <code>uv pip sync</code>, whenever uv is listed as part of the requirements.</p>
<ul>
<li>The current uv platform</li>
</ul>
<p>This affects all uv versions under windows (very likely due to the system limitations related to running processes).
There are different workarounds imaginable, so it would be nice if one could be implemented. Alternatively, uv should probably avoid even trying to do this and abort with a nicer error message, indicating that this is not supported - at least under windows, since it works fine on linux.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-02 18:25</div>
            <div class="timeline-body"><p>Thanks -- I believe this is the same as #1368 and #1327.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-02 18:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:19 UTC
    </footer>
</body>
</html>
