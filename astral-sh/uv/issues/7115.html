<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv sync --python-preference=only-system` fallback beyond `.python-version` - astral-sh/uv #7115</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv sync --python-preference=only-system` fallback beyond `.python-version`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/7115">#7115</a>
        opened by <a href="https://github.com/jamesbraza">@jamesbraza</a>
        on 2024-09-06 04:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2024-09-06 04:48</div>
            <div class="timeline-body"><p>With <code>uv==0.4.6</code>, running <code>uv sync --python-preference=only-system</code> in GitHub Actions runner <code>ubuntu-24.04</code>:</p>
<ul>
<li>Without <code>.python-version</code> file: works fine</li>
<li>With <code>.python-version</code> file containing <code>3.12.5</code>: <code>error: No interpreter found for Python 3.12.5 in system path</code></li>
</ul>
<p>This is because <code>ubuntu-24.04</code> has Python 3.12.3 (and not 3.12.5) at <code>/usr/bin/python3</code>.</p>
<p>I guess my question is (and also a possible feature request), can <code>uv sync --python-preference=only-system</code> have a way to fall back beyond <code>.python-version</code>, if the OS contains a Python version that doesn't match the version detailed by <code>.python-version</code> file?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-06 13:24</div>
            <div class="timeline-body"><p>It sounds like you should just have <code>3.12</code> in your <code>.python-version</code> file? I think this behavior is correct, in that you've asked for a specific patch version and we should fail if we cannot fulfill that request. You can use <code>--no-config</code> to ignore the <code>.python-version</code> file if necessary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-09-06 13:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2024-09-06 17:40</div>
            <div class="timeline-body"><p>Oh wow I actually didn't know you can have just a major/minor version in <code>.python-version</code>. TIL!</p>
<p>Thanks again and sorry for a false positive request</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @jamesbraza on 2024-09-06 17:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:22 UTC
    </footer>
</body>
</html>
