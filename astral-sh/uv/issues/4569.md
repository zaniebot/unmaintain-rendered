```yaml
number: 4569
title: Regression in uv 0.2.16 compile with unsatisfiable constraint in extra
type: issue
state: closed
author: hauntsaninja
labels:
  - bug
assignees: []
created_at: 2024-06-26T22:19:49Z
updated_at: 2024-06-26T23:22:09Z
url: https://github.com/astral-sh/uv/issues/4569
synced_at: 2026-01-10T01:57:10Z
```

# Regression in uv 0.2.16 compile with unsatisfiable constraint in extra

---

_Issue opened by @hauntsaninja on 2024-06-26 22:19_

```
λ cat r.in
gunicorn>=20
λ cat c.in
eventlet==9999.0.1.2.3.4.5

λ uv --version
uv 0.2.15 (bfc342da9 2024-06-24)
λ uv pip compile r.in -c c.in
Resolved 2 packages in 40ms
# This file was autogenerated by uv via the following command:
#    uv pip compile r.in -c c.in
gunicorn==22.0.0
    # via -r r.in
packaging==24.1
    # via gunicorn

λ uv pip install -U uv==0.2.16
Resolved 1 package in 4ms
Uninstalled 1 package in 3ms
Installed 1 package in 4ms
 - uv==0.2.15
 + uv==0.2.16
λ uv pip compile r.in -c c.in 
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of eventlet==9999.0.1.2.3.4.5 and gunicorn>=20.0.0 depends on eventlet==9999.0.1.2.3.4.5, we can conclude that gunicorn>=20.0.0 cannot be used.
      And because only the following versions of gunicorn are available:
          gunicorn<=20.0.0
          gunicorn==20.0.2
          gunicorn==20.0.3
          gunicorn==20.0.4
          gunicorn==20.1.0
          gunicorn==21.0.0
          gunicorn==21.0.1
          gunicorn==21.1.0
          gunicorn==21.2.0
          gunicorn==22.0.0
      and you require gunicorn>=20, we can conclude that the requirements are unsatisfiable.
```

---

_Renamed from "Regression in uv 0.2.16 compile with unsatisfiable constraint" to "Regression in uv 0.2.16 compile with unsatisfiable constraint in extra" by @hauntsaninja on 2024-06-26 22:19_

---

_Comment by @charliermarsh on 2024-06-26 22:21_

Is `eventlet` only a dependency of `gunicorn` when an extra is enabled (which isn't present)?

---

_Comment by @hauntsaninja on 2024-06-26 22:21_

Yup exactly.
The eventlet constraint is a hacky way to ban eventlet from ending up in any lock.
gunicorn does have a dependency on eventlet, but only in the eventlet extra which we do not use

---

_Comment by @charliermarsh on 2024-06-26 22:21_

Okay thanks. I'll try to figure this out now...

---

_Assigned to @charliermarsh by @charliermarsh on 2024-06-26 22:21_

---

_Label `bug` added by @charliermarsh on 2024-06-26 22:21_

---

_Referenced in [astral-sh/uv#4570](../../astral-sh/uv/pulls/4570.md) on 2024-06-26 22:39_

---

_Closed by @charliermarsh on 2024-06-26 22:52_

---

_Closed by @charliermarsh on 2024-06-26 22:52_

---

_Comment by @zanieb on 2024-06-26 23:08_

Will be released in a bit: https://github.com/astral-sh/uv/pull/4573

---

_Comment by @zanieb on 2024-06-26 23:22_

@hauntsaninja btw you inspired me to make it just a little bit easier to use `uv tool run` for your reproduction in #4572 so you can `uv tool run uv@0.2.16 ...` next time :)

---
