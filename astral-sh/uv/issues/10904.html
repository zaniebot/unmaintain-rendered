<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to specify different sources for a package depending on the linux distribution version - astral-sh/uv #10904</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How to specify different sources for a package depending on the linux distribution version</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10904">#10904</a>
        opened by <a href="https://github.com/mscheltienne">@mscheltienne</a>
        on 2025-01-23 16:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mscheltienne">@mscheltienne</a> on 2025-01-23 16:37</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I am facing an annoying problem with <code>wxPython</code> which provides wheels per linux distribution version: https://extras.wxpython.org/wxPython4/extras/linux/gtk3/</p>
<p>I'm only interested in Ubuntu 22.04 LTS and Ubuntu 24.04 LTS and I am looking for a way to specify which one <code>uv</code> should pick-up. Currently, I have this source:</p>
<pre><code>[tool.uv.sources]
wxPython = {marker = &quot;sys_platform == 'linux'&quot;, url = &quot;https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-22.04/wxPython-4.2.2-cp310-cp310-linux_x86_64.whl&quot;}
</code></pre>
<p>But as PEP 508 markers don't allow differentiation between distribution version, I don't know how I could differentiate between them.
I'm not finding any documentation or information about using environment variables as markers or to expand environment variables within <code>pyproject.toml</code> to e.g. do <code>url = &quot;https://extras.wxpython.org/.../ubuntu-${MY_UBUNTU_VERSION}/wxPython-4.2.2-cp310-cp310-linux_x86_64.whl&quot;</code>, would you have any suggestion on how I could solve this use case?</p>
<h3>Platform</h3>
<p>Ubuntu 22.04 LTS / 24.04 LTS</p>
<h3>Version</h3>
<p>0.5.15</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @mscheltienne on 2025-01-23 16:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-23 16:41</div>
            <div class="timeline-body"><p>You should take a look at the <code>platform.release()</code> and <code>platform.version()</code> markers in those environments: https://peps.python.org/pep-0508/#environment-markers</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mscheltienne">@mscheltienne</a> on 2025-01-23 16:43</div>
            <div class="timeline-body"><p>I did, neither contain the information I was looking for.</p>
<pre><code>In [1]: import platform

In [2]: platform.release()
Out[2]: '6.8.0-51-generic'

In [3]: platform.version()
Out[3]: '#52-Ubuntu SMP PREEMPT_DYNAMIC Thu Dec  5 13:09:44 UTC 2024'
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-23 17:24</div>
            <div class="timeline-body"><p>Unfortunately the PEP 508 markers are all you have access to, so if the difference you want isn't captured in there, you won't be able to declare divergent dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-01-23 18:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mscheltienne">@mscheltienne</a> on 2025-01-23 20:22</div>
            <div class="timeline-body"><p>Thanks for the confirmation!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
