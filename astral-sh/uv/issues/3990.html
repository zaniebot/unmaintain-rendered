<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workflow confusion about upgrading packages with requirements.txt (migrating from pip-tools) - astral-sh/uv #3990</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Workflow confusion about upgrading packages with requirements.txt (migrating from pip-tools)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3990">#3990</a>
        opened by <a href="https://github.com/mariokostelac">@mariokostelac</a>
        on 2024-06-03 16:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mariokostelac">@mariokostelac</a> on 2024-06-03 16:10</div>
            <div class="timeline-body"><p>What is the expected workflow for upgrading a package?</p>
<p>I'm in the process of migrating pip-tools to uv workflows. Previously, I'd use <code>pip-compile requirements.in --upgrade-package boto3==x -o requirements.txt</code>, which would take<code> requirements.tx</code>t (as constraints) into account and make sure that boto3 is upgraded. If it can't be because some transient deps conflict, it would upgrade necessary transient packages to make boto3 upgradeable to the version I've defined.</p>
<p>Right now, I use <code>uv pip compile -c requirements.txt requirements.in -P boto3 -o requirements.txt</code>, but it does nothing (there is newer version of boto3). If I remove boto3 manually from requirements.txt, it also does nothing (probably because of some transitive deps).</p>
<p>When using compiled <code>requirements.txt</code> as constraints file, what is the expected workflow procedure?</p>
<p>To be clear, the reason I use previously complied requirements.txt is to make sure that I don't get unrelated packages upgraded if transitive deps are not pinned.</p>
<p><code>Version: uv 0.2.4 (98652e395 2024-05-26)</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-03 16:43</div>
            <div class="timeline-body"><p>The intended workflow here is <code>uv pip compile requirements.in --upgrade-package boto3 -o requirements.txt</code>. If you're trying to upgrade <code>boto3</code> to a specific version, then I'd suggest adding a constraint file that contains <code>boto3==x</code>. It sounds like the feature you're looking for is #1964.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-06-03 16:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mariokostelac">@mariokostelac</a> on 2024-06-05 07:27</div>
            <div class="timeline-body"><p>I have no idea what I as doing, but this works for me. For some reason I've started passing constraints file explicitly, which didn't work. Omitting it picks up the right set of deps and upgrades the package to newest version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @mariokostelac on 2024-06-05 07:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:28 UTC
    </footer>
</body>
</html>
