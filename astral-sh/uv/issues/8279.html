<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to add extra to a dependency of a tool? - astral-sh/uv #8279</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How to add extra to a dependency of a tool?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8279">#8279</a>
        opened by <a href="https://github.com/grejioh">@grejioh</a>
        on 2024-10-17 02:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/grejioh">@grejioh</a></div>
            <div class="timeline-body"><p>I installed a tool use <code>requests</code>.
I want to use <code>requests[socks]</code> instead of the default <code>requests</code> package. I have tried the following commands:</p>
<pre><code>uv tool install open-webui --with requests[socks]
uv tool install open-webui --with requests --optional socks
uv tool upgrade open-webui --reinstall-package requests[socks]
....
</code></pre>
<p>Finally, could you please confirm whether it&#x27;s necessary for <code>uv tool</code> to support adding extras to dependencies?</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-17 04:10</div>
            <div class="timeline-body"><p><code>uv tool install open-webui --with &#x27;requests[socks]&#x27;</code> should work — did it not?</p>
<p>e.g.</p>
<pre><code>❯ uv tool install black --with &#x27;requests[socks]&#x27;
Resolved 12 packages in 4ms
Installed 12 packages in 10ms
 + black==24.10.0
 + certifi==2024.8.30
 + charset-normalizer==3.4.0
 + click==8.1.7
 + idna==3.10
 + mypy-extensions==1.0.0
 + packaging==24.1
 + pathspec==0.12.1
 + platformdirs==4.3.6
 + pysocks==1.7.1
 + requests==2.32.3
 + urllib3==2.2.3
Installed 2 executables: black, blackd
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-17 04:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LoicGrobol">@LoicGrobol</a> on 2024-10-19 14:57</div>
            <div class="timeline-body"><p>Sort of related: I installed xonsh using uv, then some plugins (xontribs) using xonsh&#x27;s own manager, which amounts to installing new packages in the environment. Upon <code>xonsh tool upgrade xonsh</code>, it removed these extra packages. Is there a way to specify a list of packages that should be kept in the environment?</p>
<p>Edit: You can edit <code>~/.local/share/uv/tools/xonsh/uv-receipt.toml</code> to change what packages are included but it&#x27;s undocumented (so I suspect subject to change) and not the most ergonomic.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/grejioh">@grejioh</a> on 2024-12-07 05:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KaKi87">@KaKi87</a> on 2025-04-23 14:31</div>
            <div class="timeline-body"><blockquote>
<p><code>uv tool install open-webui --with &#x27;requests[socks]&#x27;</code></p>
</blockquote>
<p>Thank you, I would like to suggest adding this to the documentation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-23 14:38</div>
            <div class="timeline-body"><p>https://docs.astral.sh/uv/concepts/tools/#including-additional-dependencies</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KaKi87">@KaKi87</a> on 2025-04-23 14:40</div>
            <div class="timeline-body"><p>Oh, sorry, coming from <code>pipx</code>, I looked up the keyword &quot;inject&quot;...</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:34:50 UTC
    </footer>
</body>
</html>
