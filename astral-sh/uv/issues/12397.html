<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>More sophisticated quiet/verbose handling - astral-sh/uv #12397</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>More sophisticated quiet/verbose handling</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12397">#12397</a>
        opened by <a href="https://github.com/jaraco">@jaraco</a>
        on 2025-03-22 19:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jaraco">@jaraco</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>In https://github.com/jaraco/pip-run/issues/100#issuecomment-2745439331, I'm working on updating <code>pip-run</code> to work with (and prefer) uv. One of the features of pip-run is that it defaults the installer to quiet mode, but allows the user to override and make it more verbose again. When using <code>pip install</code>, pip will allow any number of verbosity indicators (<code>-v</code>, <code>-q</code>, <code>--verbose</code>, <code>--quiet</code>, and environment variables <code>PIP_QUIET</code> and (maybe) <code>PIP_VERBOSE</code>) and sum them up to determine the verbosity. This behavior makes it easy for a wrapper like <code>pip-run</code> to adjust the default verbosity but still give the user full control over the ultimate verbosity.</p>
<p><code>uv</code> on the other hand simply rejects any attempt to signal both quiet and verbose:</p>
<pre><code>üêö uv pip install -q -v requests
error: the argument '--quiet' cannot be used with '--verbose...'
</code></pre>
<p>I'd like for <code>uv</code> to offer a similar option (quiet by default, but maybe more verbose), preferably through the same mechanism (<code>--quiet</code> or <code>UV_QUIET</code>).</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @jaraco on 2025-03-22 19:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-23 13:26</div>
            <div class="timeline-body"><p>\cc @Gankra</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @Gankra by @charliermarsh on 2025-03-23 13:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-23 21:18</div>
            <div class="timeline-body"><p>Using <code>overrides_with</code> seems fine here to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">tracing</span> added by @zanieb on 2025-03-23 21:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2025-03-23 21:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-03-31 15:29</div>
            <div class="timeline-body"><p>Point of clarification: does pip treat <code>-q</code> treated as &quot;-1&quot; and <code>-v</code> treated as &quot;+1&quot;? So <code>-v -q</code> is a no-op?</p>
<p>(This is slightly different from overrides-with, which would never allow you to get back to then &quot;0&quot; default state, which it seems like you want to support?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 20:46</div>
            <div class="timeline-body"><p>-1 / +1 seems kind of wild. I guess we'd add <code>--no-verbose</code> or <code>--no-quiet</code> to reset to the default state? (or a flag that captures both?) üò≠</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jaraco">@jaraco</a> on 2025-07-19 12:54</div>
            <div class="timeline-body"><blockquote>
<p>Point of clarification: does pip treat <code>-q</code> treated as &quot;-1&quot; and <code>-v</code> treated as &quot;+1&quot;? So <code>-v -q</code> is a no-op?</p>
</blockquote>
<p>Yes, that's right. It turns out to be quite useful when layering different inputs (<code>PIP_QUIET</code> in the environment overridden by <code>--verbose</code> or <code>-vv</code> in the CLI, or when composing CLI arguments from different sources).</p>
<p>It also means you can have <code>-q -v -qqq -vvvv</code> (same as <code>--verbose</code>).</p>
<blockquote>
<p>-1 / +1 seems kind of wild.</p>
</blockquote>
<p>Wild? It seems elegant to me. Conceptually, both <code>--quiet</code> and <code>--verbose</code> are affecting the same &quot;verbosity&quot; setting, just in different directions. Of course, one doesn't have to model it that way, but that's what pip does, and the approach has some nice ergonomics (mentioned above).</p>
<blockquote>
<p>I guess we'd add <code>--no-verbose</code> or <code>--no-quiet</code> to reset to the default state? (or a flag that captures both?) üò≠</p>
</blockquote>
<p>Ugh. Yeah, that's not great. I also think it's not quite the model I was after. I'd like the ability to increase or decrease the verbosity relative to a prior prescription. <code>--no-quiet</code> or <code>--reset-verbosity</code> <em>might</em> work in my particular use-case, but it really complicates the conceptual model, adding a whole new <code>reset</code> aspect.</p>
<p>It feels a little bit like the CLI parser available is offering only <code>overrides_with</code>, which is driving the design away from a simple conceptual model. Is there a reason not to follow pip's approach and simply count the <code>quiet</code> and <code>verbose</code> flags and allowing one to cancel the other?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:35 UTC
    </footer>
</body>
</html>
