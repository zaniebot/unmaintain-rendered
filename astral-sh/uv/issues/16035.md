```yaml
number: 16035
title: "Add `--group` and related options to `uv tool install`"
type: issue
state: closed
author: LmanTW
labels:
  - enhancement
assignees: []
created_at: 2025-09-26T07:44:55Z
updated_at: 2025-09-26T13:40:48Z
url: https://github.com/astral-sh/uv/issues/16035
synced_at: 2026-01-10T01:57:35Z
```

# Add `--group` and related options to `uv tool install`

---

_Issue opened by @LmanTW on 2025-09-26 07:44_

### Summary

I'm working on a CLI tool which uses Pytorch to do some ML stuff. Pytorch uses different wheels to support different hardware acceleration backend. Which means, I need to install different set of packages depending on the hardware acceleration backend.

I have already figured out how to make the dependency groups  work, but got stuck at the final part: `uv tool install`. Then I found out the `uv tool install` command do not support "--group", "--extra" or the relating options.

I personally found it weird that this haven't already get implemented, but maybe there's some reason behind it. Maybe there's a way to pass arguments to the underlying package installation process? Nonetheless, I think this feature would be quite helpful for this kind of situation.

### Example

Not really relevant, but this is the dependency stuff I'm trying to do:

```
[dependency-groups]
cpu = ["torch==2.8.0+cpu", "torchvision==0.23.0+cpu"]
xpu = ["torch==2.8.0+xpu", "torchvision==0.23.0+xpu"]
cuda = ["torch==2.8.0+cu128", "torchvision==0.23.0+cu128"]

[[tool.uv.index]]
name = "main"
url = "https://pypi.org/simple"

[[tool.uv.index]]
name = "pytorch-cpu"
url = "https://download.pytorch.org/whl/cpu"

[[tool.uv.index]]
name = "pytorch-xpu"
url = "https://download.pytorch.org/whl/xpu"

[[tool.uv.index]]
name = "pytorch-cuda"
url = "https://download.pytorch.org/whl/cu128"

[tool.uv]
index-strategy = "unsafe-best-match"
conflicts = [
    [
      { group = "cpu" },
      { group = "xpu" },
      { group = "cuda" }
    ]
]
```

---

_Label `enhancement` added by @LmanTW on 2025-09-26 07:44_

---

_Renamed from "Add "--group" and related options to "uv tool install"" to "Add `--group` and related options to `uv tool install`" by @LmanTW on 2025-09-26 07:47_

---

_Comment by @konstin on 2025-09-26 12:42_

Can you use extras (optional dependencies) instead of dependency groups? Dependency groups are generally for non-published, development dependencies, while extras are published. `uv tool install` is targeted at published tools, for which you can't select groups, only extra, hence the flag missing.

---

_Comment by @LmanTW on 2025-09-26 13:11_

Thanks! I didn't know about that distinction between groups and extras. I didn't see the "extra" option in the `uv tool install` command though, is that a new feature?

---

_Comment by @konstin on 2025-09-26 13:12_

It's explain here: https://docs.astral.sh/uv/concepts/projects/dependencies/#optional-dependencies

---

_Comment by @LmanTW on 2025-09-26 13:30_

I already changed my project config to:

```
[project.optional-dependencies]
cpu = ["torch==2.8.0+cpu", "torchvision==0.23.0+cpu"]
xpu = ["torch==2.8.0+xpu", "torchvision==0.23.0+xpu"]
cuda = ["torch==2.8.0+cu128", "torchvision==0.23.0+cu128"]

[[tool.uv.index]]
name = "main"
url = "https://pypi.org/simple"

[[tool.uv.index]]
name = "pytorch-cpu"
url = "https://download.pytorch.org/whl/cpu"

[[tool.uv.index]]
name = "pytorch-xpu"
url = "https://download.pytorch.org/whl/xpu"

[[tool.uv.index]]
name = "pytorch-cuda"
url = "https://download.pytorch.org/whl/cu128"

[tool.uv]
index-strategy = "unsafe-best-match"
conflicts = [
    [
      { extra = "cpu" },
      { extra = "xpu" },
      { extra = "cuda" }
    ]
]
```

Which works fine when I try to do `uv sync --extra cpu`. But you mentioned that you can only select extra in the `uv tool install` command, which I assume the option is also called "--extra", but I can't find it.

---

_Comment by @konstin on 2025-09-26 13:34_

For this it's `uv tool install myprojectname[cuda]`

---

_Comment by @LmanTW on 2025-09-26 13:40_

It works, thanks you for your help!

---

_Closed by @LmanTW on 2025-09-26 13:40_

---
