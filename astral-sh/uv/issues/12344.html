<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git installs over ssh don't seem to work - astral-sh/uv #12344</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Git installs over ssh don't seem to work</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12344">#12344</a>
        opened by <a href="https://github.com/Kroppeb">@Kroppeb</a>
        on 2025-03-20 16:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Kroppeb">@Kroppeb</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I was checking out uv, so I looked at the docs on how to install git dependencies (see <a href="https://docs.astral.sh/uv/concepts/projects/dependencies/#git">here</a>). But it seems to not work for ssh installs?</p>
<p>The docs tell me to add <code>git+</code> in front of the git clone compatible url, which seems to work if I use the https url, but not for ssh.</p>
<p>examples:</p>
<ul>
<li><code>uv add git+https://github.com/astral-sh/uv.git</code> =&gt; does work</li>
<li><code>uv add git+git@github.com:astral-sh/uv.git</code> =&gt; does not work</li>
<li><code>uv add git+ssh://git@github.com/astral-sh/uv.git</code> =&gt; does not work</li>
</ul>
<h3>Platform</h3>
<p>Windows 11 x86_64</p>
<h3>Version</h3>
<p>uv 0.6.8 (c1ef48276 2025-03-18)</p>
<h3>Python version</h3>
<p>Python 3.12.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Kroppeb on 2025-03-20 16:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-20 16:46</div>
            <div class="timeline-body"><p>This works for me without issue:</p>
<pre><code>‚ùØ uv add git+ssh://git@github.com/astral-sh/uv.git
Using CPython 3.13.0
Creating virtual environment at: .venv
Resolved 2 packages in 49ms
    Updated ssh://git@github.com/astral-sh/uv.git (584dd36e46732cd955ec3e984d97a7ba6569c019)
   Building uv @ git+ssh://git@github.com/astral-sh/uv.git@584dd36e46732cd955ec3e984d97a7ba6569c019
‚†ß Preparing packages... (0/1)
</code></pre>
<p>I suspect there may be an issue in your SSH configuration or similar?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Kroppeb">@Kroppeb</a> on 2025-03-20 17:29</div>
            <div class="timeline-body"><p>ugh, my bad. I had converted the <code>git@github.com:astral-sh/uv.git </code> url to and ssh url without changing the <code>:</code> into a <code>/</code>. Realized my mistake while writing the issue and changed the <code>:</code> into a <code>/</code> that time, but then apparently forgot to add the <code>ssh://</code> ü§¶</p>
<p>And I guess <code>git+git@github.com:astral-sh/uv.git</code> doesn't work, because <code>git@github.com:astral-sh/uv.git</code> is not a url? It is confusing because it is something you can use in a <code>git clone</code> and it's what github gives you if you use the clone button (for ssh). I'm also coming from pipenv which does support this format.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-20 17:49</div>
            <div class="timeline-body"><p>No worries! Pipenv supports <code>git+git@github.com:astral-sh/uv.git</code>? Like it assumes <code>ssh</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Kroppeb">@Kroppeb</a> on 2025-03-20 18:00</div>
            <div class="timeline-body"><p>Yes it converts them into ssh urls*.</p>
<p>I'm confused about your second question. <code>git@github.com:astral-sh/uv.git</code> is an alternative syntax for ssh.</p>
<ul>
<li>pipenv's handling of ssh urls is a bit broken and will result in corrupt lock files if no branch, tag or commit is specified.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-20 20:31</div>
            <div class="timeline-body"><p>Understood! The context for my clarification is: <code>pip install git+git@github.com:astral-sh/uv.git</code> doesn't work (same for <code>uv pip install</code>) -- they require <code>pip install git+ssh://git@github.com:astral-sh/uv.git</code> (so does <code>uv pip install</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-11 02:31</div>
            <div class="timeline-body"><p>Merging with #14150.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-11 02:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:33 UTC
    </footer>
</body>
</html>
