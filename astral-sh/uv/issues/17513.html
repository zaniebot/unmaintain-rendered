<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add UV_INDEX_{name}_URL and UV_INDEX_{name}_PUBLISH_URL ? - astral-sh/uv #17513</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add UV_INDEX_{name}<em>URL and UV_INDEX</em>{name}_PUBLISH_URL ?</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17513">#17513</a>
        opened by <a href="https://github.com/mil-ad">@mil-ad</a>
        on 2026-01-16 09:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mil-ad">@mil-ad</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I have a private index for some packages:</p>
<pre><code>[[tool.uv.index]]
name = &quot;blahblah&quot;
url = &quot;https://oauth2accesstoken@us-central1-python.pkg.dev/foo/bar/simple/&quot;
publish-url = &quot;https://oauth2accesstoken@us-central1-python.pkg.dev/foo/&quot;
explicit = true
</code></pre>
<p>is there a way to add this via environment variables?</p>
<p>I guess <code>oauth2accesstoken</code> would go into <code>UV_INDEX_blahblah_USERNAME</code> but there are no <code>UV_INDEX_{name}_URL</code> or <code>UV_INDEX_{name}_PUBLISH_URL</code></p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @mil-ad on 2026-01-16 09:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2026-01-16 21:26</div>
            <div class="timeline-body"><p>I think that kind of dynamism in environment variables might be a little tricky; uv <em>generally</em> tries to only use environment variables that it knows AOT. There's also an encoding/ambiguity problem, e.g. <code>name = &quot;foo-bar&quot;</code> would need to be transformed into something like <code>UV_INDEX_FOO_BAR_...</code> but that would then overlap with <code>name = &quot;foo_bar&quot;</code>.</p>
<p>Does <code>UV_PUBLISH_INDEX=blahblah</code> work for your use case? That'll ensure that the matching index configuration's <code>url</code> and <code>publish-url</code> are selected as needed ðŸ™‚</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @woodruffw on 2026-01-16 21:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by @woodruffw on 2026-01-16 21:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-16 22:06:29 UTC
    </footer>
</body>
</html>
