```yaml
number: 10585
title: Searching for managed installations under \Romaing\uv\python is not exist
type: issue
state: closed
author: an2416
labels:
  - needs-mre
assignees: []
created_at: 2025-01-14T04:00:05Z
updated_at: 2025-03-20T22:50:23Z
url: https://github.com/astral-sh/uv/issues/10585
synced_at: 2026-01-10T01:57:24Z
```

# Searching for managed installations under \Romaing\uv\python is not exist

---

_Issue opened by @an2416 on 2025-01-14 04:00_

Hi

I'm trying to use CrewAI.
CrewAI is implemented based on UV.
during execution, I found some issue as below.

**[cmd]**
uv sync -v

```
**[output]**
(.venv1) PS [path]> uv sync -v
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `[path]`
DEBUG No workspace root found, using project root
DEBUG Using Python request `>=3.10, <3.13` from `requires-python` metadata
warning: `VIRTUAL_ENV=[path]` does not match the project environment path `.venv` and will be ignored
DEBUG Searching for Python >=3.10, <3.13 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\[PC name]\AppData\Roaming\uv\python`
```

I expected some files is exist under \AppData\Roaming\uv\python and processed properly.
But, I couldn't find \uv folder under Roaming folder. and uv sync process also stopped as soon.

Could you let me know how to fix it ?

Note : I found crash dump files under "\AppData\Local\CrashDumps\uv.exe.34096.dmp". how can I check it? Is there any way to debug it ?

Thanks,
KHAN

---

_Comment by @FishAlchemist on 2025-01-14 05:42_

Run ``uv python dir`` to check where uv is looking for managed Python.
Have you set the environment variable ``UV_PYTHON_INSTALL_DIR``?

Edit:
But how come there's a dmp file? Shouldn't the logs be more complete?
https://docs.astral.sh/uv/configuration/environment/#rust_log

---

_Comment by @an2416 on 2025-01-14 06:28_

I didn't set the environment variable ```UV_PYTHON_INSTALL_DIR``` Is it required? (If yes, could you let me know what path is proper path for it)
```uv python dir``` result is shown as ```C:\Users\[PC name]\AppData\Roaming\uv\python```. 
But, ```\uv\python```dir is not exist.
should I run ```uv venv --python [version]``` as well ? (this cmd is also not working.)

```
(.venv1) PS D:\test> uv venv --python 3.11.6 -v
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `test`
DEBUG No workspace root found, using project root
warning: `VIRTUAL_ENV=D:\.venv1` does not match the project environment path `.venv` and will be ignored
DEBUG Using Python request `3.11.6` from explicit request
DEBUG Searching for Python 3.11.6 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\[PC name]\AppData\Roaming\uv\python`
//// STOP PROCESS and EXIT
```

Note1 : I just installed uv via pip. and My env is windows10
Note2 : I don't know why dumpfile is exist at commented path... I think that log file is recorded error log. isn't it ?


---

_Comment by @FishAlchemist on 2025-01-14 06:34_

``UV_PYTHON_INSTALL_DIR`` doesn't necessarily need to be set. I just want to confirm why your path is ``uv\python``.
Windows 11 x86-64:
![Image](https://github.com/user-attachments/assets/2071ec5c-5b96-4d41-b793-15d1aed3f56b)

---

_Comment by @an2416 on 2025-01-15 01:59_

My python path is under Local dir. Not Roaming folder.
how to change uv python dir ? Is it dectected automatically?
BTW, I'm trying to reinstall python !


---

_Comment by @zanieb on 2025-01-15 02:43_

It sounds like you just haven't installed Python via uv. We'll use other Python installations on your machine if we can find one.

Are you looking for `uv python install`?

---

_Comment by @an2416 on 2025-01-15 03:07_

actually, I'm trying to use it on office. So, I have to setup on proxy environment.

if I use uv python install, I faced on follwoing problem. Is UV able to set proxy? or just setting windows proxy is enough ?
```
(.venv1) PS D:\> uv python install
error: Failed to install cpython-3.13.1-windows-x86_64-none
  Caused by: Failed to download https://github.com/astral-sh/python-build-standalone/releases/download/20250106/cpython-3.13.1%2B20250106-x86_64-pc-windows-msvc-install_only_stripped.tar.gz
  Caused by: Request failed after 3 retries
  Caused by: error sending request for url (https://github.com/astral-sh/python-build-standalone/releases/download/20250106/cpython-3.13.1%2B20250106-x86_64-pc-windows-msvc-install_only_stripped.tar.gz)
  Caused by: client error (Connect)

```


---

_Comment by @zanieb on 2025-01-15 18:41_

We respect the standard `HTTPS_PROXY` / `ALL_PROXY` variables and probably respect your system configuration too? You may need `--native-tls` as well.

---

_Comment by @an2416 on 2025-01-22 02:19_

Finally, I passed above issue.
But, still not working ```uv sync``` as below.
after print DEBUG Found managed installation, process is stopped.

```
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `D:\`
DEBUG No workspace root found, using project root
DEBUG Using Python request `>=3.10, <3.13` from `requires-python` metadata
warning: `VIRTUAL_ENV=D:\.venv1` does not match the project environment path `.venv` and will be ignored
DEBUG Searching for Python >=3.10, <3.13 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\[PC]\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.11.11-windows-x86_64-none`
```

---

_Comment by @zanieb on 2025-01-22 03:13_

@an2416 please share the full command you're running and all the output. Can you set `RUST_LOG=uv=trace` as well to enable more logs?

See #9452 for guidance on reports.

---

_Comment by @zanieb on 2025-01-22 03:14_

When you say `//// STOP PROCESS and EXIT` are you indicating that the process is stuck and you killed it? Or it exited?

---

_Comment by @an2416 on 2025-01-22 04:07_

I set RUST_LOG=trace as environment variable. (env. Windows 10, windows powershell, uv 0.5.18)
and use cmd ```uv sync --verbose```
the output is as below.

```
(.venv1) PS D:\crewai\crewai\crewtest> uv sync --verbose
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `D:\crewai\crewai\crewtest`
DEBUG No workspace root found, using project root
DEBUG Using Python request `>=3.10, <3.13` from `requires-python` metadata
warning: `VIRTUAL_ENV=D:\crewai\crewai\.venv1` does not match the project environment path `.venv` and will be ignored
DEBUG Searching for Python >=3.10, <3.13 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\kwanghyuk.an\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.11.11-windows-x86_64-none`
TRACE Querying interpreter executable at C:\Users\[PC name]\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe
```

I expected next step should be executed. (when I try to uv sync on my Mac, uv execute installation process.)
uv process is stuck after printing TRACE log.

---

_Comment by @zanieb on 2025-01-22 06:25_

Do you have an antivirus active or something? It seems like the interpreter is broken.

Can you run `C:\Users\[PC name]\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe` manually?

---

_Comment by @an2416 on 2025-01-22 06:39_

python.exe is working when I execute it manually.
Note : It is being tested in an environment where the company security program is installed. As far as I know, there are no special security programs other than proxy. It is difficult to check more because the error message does not appear.


```
(.venv1) PS D:\crewai\crewai\crewtest> C:\Users\[PC name]\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe
Python 3.11.11 (main, Jan  5 2025, 05:35:58) [MSC v.1942 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

---

_Comment by @zanieb on 2025-01-22 06:50_

Unfortunately I'm not sure how to debug this since I can't reproduce it and the executable works fine on its own.

You could try executing the contents of https://github.com/astral-sh/uv/blob/main/crates/uv-python/python/get_interpreter_info.py or adding additional `print` debug logs there and building uv locally to determine where it's freezing?

---

_Comment by @zanieb on 2025-03-20 22:50_

I'm going to close this as stale. Feel free to let me know if you have more information.

---

_Closed by @zanieb on 2025-03-20 22:50_

---

_Label `needs-mre` added by @zanieb on 2025-03-20 22:50_

---
