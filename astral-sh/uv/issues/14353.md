```yaml
number: 14353
title: "Support semver-styled prerelease version formatting in `uv version`"
type: issue
state: open
author: emann
labels:
  - enhancement
  - needs-decision
assignees: []
created_at: 2025-06-29T21:54:15Z
updated_at: 2025-12-05T14:12:25Z
url: https://github.com/astral-sh/uv/issues/14353
synced_at: 2026-01-10T01:57:32Z
```

# Support semver-styled prerelease version formatting in `uv version`

---

_Issue opened by @emann on 2025-06-29 21:54_

### Summary

While PEP 440 is technically the correct way to version python packages, many tools are also able to interpret semver-styled prereleases. Moreover, when using versioning that relates to our affects things outside of a strictly python realm, using a more globally standard formatting is preferred. In my exact use case, the version of my backend server determines the version of the API client that is generated and use in our TS frontend, where semver is the norm.

Additionally, PEP 440 only supports a/b/rc, whereas semver is more flexible and would allow me to make a version that is `1.2.3-iss-456.1` to represent the first build of a branch-specific deploy for the `iss-456` ticket.

The extra frustrating part is that even if I manually set the version to `1.2.3-rc.1` in pyproject.toml, `uv version --short` still outputs `1.2.3rc1`

This probably makes sense to be implemented after https://github.com/astral-sh/uv/issues/13223 is settled, but would be happy to take a crack at this one myself once the interface is agreed upon!

### Example

I propose adding a simple flag e.g. `--use-semver-formatting` to control the versioning formatting/scheme:

`uv version 1.2.3-beta.1` sets the version to `1.2.3b1` (Current default behavior)

`uv version --use-semver-formatting 1.2.3-beta.1` sets the version to `1.2.3-beta.1`

`uv version 1.2.3-iss-1.1` gives:
"error: after parsing `1.2.3`, found `-iss-1.1`, which is not part of a valid version"

`uv version --use-semver-formatting 1.2.3-iss-1.1` sets the version to `1.2.3-iss-1.1` without error


---

_Label `enhancement` added by @emann on 2025-06-29 21:54_

---

_Label `needs-decision` added by @konstin on 2025-08-21 12:41_

---

_Comment by @andrea-cassioli-maersk on 2025-10-30 07:56_

I got into the same issue. I hope uv will support semver somehow

---

_Comment by @zanieb on 2025-10-30 14:23_

It seems okay to allow setting the version to an uncanonicalized value, e.g., with `uv version --raw` or something, but I don't think we should support setting `project.version` to values that are not supported by the standards (e.g., the `-iss` variant`). I'd suggest you start a discussion upstream (i.e., on DPO) about semver compatible project versions.

---

_Referenced in [astral-sh/uv#16497](../../astral-sh/uv/issues/16497.md) on 2025-10-30 14:23_

---

_Comment by @dmarteau on 2025-12-05 14:10_

Just a side remark:   The fact  that `uv version` does not generate SemVer version can be worked around (we use the `semver` Python module for generating versions) .  What I found problematic is that `uv version [--short]`  change the versionning sheme in a coercitive way, which prevent using  uv  for simple version  check.

---

_Comment by @dmarteau on 2025-12-05 14:12_

Ho, this was already expressed out, sorry for the noise...

---
