<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow users to pre-define dependency metadata - astral-sh/uv #7393</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow users to pre-define dependency metadata</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/7393">#7393</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-09-14 14:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-14 14:26</div>
            <div class="timeline-body"><p>For packages that don't declare static metadata, it can be a pain to require building the package just to resolve. For example, you might have a dependency that can't be built on ARM, but doesn't declare static metadata. In that case, users can't resolve on ARM, even if the dependency is never installed on ARM (i.e., it has an environment marker).</p>
<p>I think it'd be neat to allow users to define static metadata for their dependencies as an escape hatch, like:</p>
<pre><code class="language-toml">[tool.uv.dependencies]
my-dependency = [&quot;click&gt;0.8&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-09-14 14:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/7390.html">astral-sh/uv#7390</a> on 2024-09-14 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/YouJiacheng">@YouJiacheng</a> on 2024-09-14 14:37</div>
            <div class="timeline-body"><p>I planned to file this issue separately, haha. (but I temporarily left my laptop until now) #7291
<img src="https://github.com/user-attachments/assets/b9d28a18-dcfb-46ac-ae6c-aac66fe80bfc" alt="image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-14 14:37</div>
            <div class="timeline-body"><p>Yeah this would at least make it possible to <code>uv lock</code> without having to build Chumpy at all in your case :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/YouJiacheng">@YouJiacheng</a> on 2024-09-14 14:50</div>
            <div class="timeline-body"><p>I think this should be beyond the direct dependency of the user's project. It should act as hand-crafted resolution rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-14 22:07</div>
            <div class="timeline-body"><p>Yeah I think this should be &quot;allowed&quot; for any dependency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-15 15:09</div>
            <div class="timeline-body"><p>Does this override existing metadata or only get used when not available? I'm a little so-so on the naming because it collides with general dependency groups but otherwise it sounds cool.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-15 15:21</div>
            <div class="timeline-body"><p>I think it would override... It would also allow you to (e.g.) remove dependencies unlike <code>--overrides</code>, if you know all packages that were pulling them in.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-15 15:21</div>
            <div class="timeline-body"><p>(I agree <code>tool.uv.dependencies</code> is bad.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-09-16 21:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/7442.html">astral-sh/uv#7442</a> on 2024-09-16 21:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-18 03:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:00 UTC
    </footer>
</body>
</html>
