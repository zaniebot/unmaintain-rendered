<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The latest version 0.9.22 doesn't work on Windows - astral-sh/uv #17344</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>The latest version 0.9.22 doesn't work on Windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/17344">#17344</a>
        opened by <a href="https://github.com/jetunc">@jetunc</a>
        on 2026-01-07 09:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jetunc">@jetunc</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I got this error:</p>
<pre><code>info: Checking for updates...
error: The installation failed. Output from the installer:
Downloading uv 0.9.22 (x86_64-pc-windows-msvc)
Installing to C:\Users\&lt;user&gt;\.cargo\bin
  uv.exe

We encountered an error trying to perform the installation; please review the error messages below.

Operation did not complete successfully because the file contains a virus or potentially unwanted software.
</code></pre>
<p>I also tried to install it on another Windows machine and encountered the same issue, so I had to downgrade to version 0.9.21.</p>
<h3>Platform</h3>
<p>Windows 11 64 bit</p>
<h3>Version</h3>
<p>uv 0.9.22</p>
<h3>Python version</h3>
<p>Python 3.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @jetunc on 2026-01-07 09:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @konstin on 2026-01-07 09:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">external</span> added by @konstin on 2026-01-07 09:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2026-01-07 09:22</div>
            <div class="timeline-body"><p>This is a false positive by the antivirus software. The uv binary is fine, the AV software is detection is wrong in blocking the installation and showing that message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EliteTK">@EliteTK</a> on 2026-01-07 11:25</div>
            <div class="timeline-body"><p>Seems specifically isolated to uvw.exe and uvx.exe?</p>
<ul>
<li><a href="https://www.virustotal.com/gui/file/93a0a244f26eec208d8ea8077e3de743d9687ad76c190342722f1f57fa629457">uv-x86_64-pc-windows-msvc.zip</a></li>
<li><a href="https://www.virustotal.com/gui/file/4995122c0fe34e8c5542fb59e9b095f70e4a8d1edf591fa0ac2caadd6843c4bb">uv.exe</a></li>
<li><a href="https://www.virustotal.com/gui/file/15d15558a8c4ae547b58be4e1aa4e13391878edc7e502ace1bbd44c3bb26e97a">uvw.exe</a></li>
<li><a href="https://www.virustotal.com/gui/file/7ce068699d691b0b818a390a4c3e3294c4a0e3526a7487d40e635f5d44573a2a">uvx.exe</a></li>
</ul>
<p>Also it looks like uvw.exe and uvx.exe have been getting flagged by a couple of others even earlier.</p>
<p>It might be worth submitting the files for malware analysis via https://www.microsoft.com/en-us/wdsi/filesubmission as windows defender complaining about uv is likely to affect almost all windows users of uv...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tanderberg">@tanderberg</a> on 2026-01-07 18:33</div>
            <div class="timeline-body"><p>Windows Security quarantined uvw.exe and uvx.exe as soon as I copied them from the release zip. Both are classified as &quot;Severe&quot; threats, with Details stating that &quot;This program is dangerous and executes commands from an attacker.&quot;</p>
<p>uvw.exe is reported to contain Trojan:Win64/Malgent!MSR
For uvx.exe it's Trojan:Win32/Wacatac.C!ml</p>
<p>Updating with uv pip seems to work without issue, but this spooked me enough to launch a full virus scan and switch to working on another machine while it runs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-07 18:54</div>
            <div class="timeline-body"><p><code>uvx</code> and <code>uvw</code> both just invoke <code>uv</code>. This can be falsely detected as a malicious pattern.</p>
<p>You can see the source code, there's nothing malicious here</p>
<ul>
<li>https://github.com/astral-sh/uv/blob/main/crates/uv/src/bin/uvx.rs</li>
<li>https://github.com/astral-sh/uv/blob/main/crates/uv/src/bin/uvw.rs</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tanderberg">@tanderberg</a> on 2026-01-07 20:59</div>
            <div class="timeline-body"><p>Finding a virus in the source would be really bad; it would open the possibility that a developer's machine is infected. But it's not the first thing I would look for. There is a chain from repo to release. The source is compiled and zipped up somewhere, presumably on a dedicated server. If that server is compromised, anything built on it could be too. Without knowing the status of the whole chain, I can hope that this is a false positive, but I can't know so.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2026-01-07 21:05</div>
            <div class="timeline-body"><blockquote>
<p>Without knowing the status of the whole chain, I can hope that this is a false positive, but I can't know so.</p>
</blockquote>
<p>The build and release process is part of uv's public CI; you can review directly within uv's own source tree.</p>
<p>If you're concerned about the integrity of the assets you've received, we'd recommend (1) verifying their artifact attestations, and (2) cross-checking their digests against the digests in the official release. Information for both of those are in the release notes, e.g.:</p>
<p>https://github.com/astral-sh/uv/releases/tag/0.9.22</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tanderberg">@tanderberg</a> on 2026-01-07 23:54</div>
            <div class="timeline-body"><p>Verifying attestations and cross-checking digests can tell me that I do indeed have the official release. I don't think it can tell me that the official release was compiled on a virus-free machine.</p>
<p>Does the release workflow include a Windows installation test? I had a quick (maybe too quick) look and didn't see one. Having one should have caught the problem, whether it's a false positive or not, but the CI widget says &quot;passing&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2026-01-08 00:04</div>
            <div class="timeline-body"><blockquote>
<p>I don't think it can tell me that the official release was compiled on a virus-free machine.</p>
</blockquote>
<p>Unfortunately, I don't think anything can tell you this with perfect confidence.</p>
<blockquote>
<p>Does the release workflow include a Windows installation test? I had a quick (maybe too quick) look and didn't see one. Having one should have caught the problem, whether it's a false positive or not, but the CI widget says &quot;passing&quot;.</p>
</blockquote>
<p>Yeah, we test the Windows binaries we build like with other release binaries. However, I'm pretty sure this won't ever catch false positives, since GitHub intentionally disables Windows Defender on their Windows runners:</p>
<p>https://github.com/actions/runner-images/blob/a3ef6b2b8f38411b1f9938d5da919c2166fbab8b/images/windows/scripts/build/Configure-WindowsDefender.ps1</p>
<p>(And I think their reasons for disabling it are sound: a CI/CD runner executes all kinds of arbitrary network-sourced code by design, so running Defender would cause a lot of false positive noise and frustration for users.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/techvslife">@techvslife</a> on 2026-01-08 00:18</div>
            <div class="timeline-body"><p>fwiw I updated to 0.9.22 via winget. I scanned the three new uv executables with windows defender on win11, using the latest definitions. defender gave me an all clear. (edit: Maybe post a hash and see if you really have the same uv files? or run Defender again after a new update of definitions.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-08 00:32</div>
            <div class="timeline-body"><p>I'm not sure what you want us to do here. We are very serious about ensuring our build and release pipeline is secure. These false positives are quite common and honestly beyond our control. At this point, we need more evidence than heuristic-based virus alarms to take a report of this kind seriously.</p>
<blockquote>
<p>fwiw I updated to 0.9.22 via winget. I scanned the three new uv executables with windows defender on win11, using the latest definitions. defender gave me an all clear.</p>
</blockquote>
<p>It's very common for this to just be resolved after they do additional analysis or the reputation of the file improves.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tanderberg">@tanderberg</a> on 2026-01-08 13:13</div>
            <div class="timeline-body"><blockquote>
<p>defender gave me an all clear</p>
</blockquote>
<p>I can confirm. With Defender update KB2267602 all three files pass the scan. (Last night the full scan I ran also quarantined the files installed with pip, which had not triggered an immediate reaction; Defender is evidently more relaxed about pip than about files copied from a downloaded zip.)</p>
<blockquote>
<p>I'm not sure what you want us to do here.</p>
</blockquote>
<p>If you were an average small shop I would have suggested telling Microsoft that they probably have a false positive. You are now so deservedly big that they noticed and fixed it within a couple of days. For the same reason (your actions now affect lots of users), it would have been better for everybody involved if the issue had been resolved before release. Checking that release candidates work on a real machine with Defender enabled does not seem like an unreasonable extra effort.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2026-01-08 14:25</div>
            <div class="timeline-body"><blockquote>
<p>Checking that release candidates work on a real machine with Defender enabled does not seem like an unreasonable extra effort.</p>
</blockquote>
<p>I don't think there's a sound way for us to do this, since Defender is a black box that can change its detections on the fly. I'm pretty sure Microsoft also uses a behavioral model around detections, so ironically &quot;smoke testing&quot; with their AV can actually trigger it beyond what it would otherwise detect.</p>
<p>(And this doesn't generalize across other AV software/vendors.)</p>
<p>I think the long term solution here is that we'll need to provide signatures on our releases that Windows is aware of (Windows doesn't know how to check or trust GitHub annotations, another small irony given their parent company). That's something we're looking into.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2026-01-08 14:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:48 UTC
    </footer>
</body>
</html>
