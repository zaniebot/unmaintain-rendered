<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make UV_PYTHON_INSTALL_MIRROR configurable in pyproject.toml - astral-sh/uv #8166</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Make UV_PYTHON_INSTALL_MIRROR configurable in pyproject.toml</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8166">#8166</a>
        opened by <a href="https://github.com/benjs">@benjs</a>
        on 2024-10-14 06:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/benjs">@benjs</a> on 2024-10-14 06:33</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>It would be nice if we could specify all of our project's mirrors like index-url extra-index-url in a single place, for instance in the pyproject.toml.
Would it be possible to add an additional entry, for instance like this?</p>
<pre><code>[tool.uv]
index-url = &quot;https://&lt;my-index-url.com&gt;/pypi/pypi/simple&quot;
extra-index-url = [&quot;https://&lt;my-index-url.com&gt;/pypi/pypi-extra/simple&quot;]
python-mirror-url = &quot;https://&lt;my-mirror-url.com&gt;/indygreg/python-build-standalone/releases/download/&quot;
</code></pre>
<p>uv version</p>
<pre><code>uv 0.4.18
</code></pre>
<p>Thanks for all the great work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-14 13:45</div>
            <div class="timeline-body"><p>I'm not sure we want to mix project configuration with things that should be configured at the user and system level. Wouldn't it be surprising if your mirror wasn't respected outside the project and downloads failed or came from another source?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2024-10-14 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2024-10-14 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/benjs">@benjs</a> on 2024-10-14 14:30</div>
            <div class="timeline-body"><p>Thanks for the answer.</p>
<p>Yes, from the view of sharing code publicly to all kinds of people, I agree.
But when within a restricted network of a company, the mirror is always the same and has to be set additionally. It is much easier to specify it once in a configuration file instead of specifying it in every container, every laptop &amp; every cloud code instance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8186.html">astral-sh/uv#8186</a> on 2024-10-14 19:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aureliojargas">@aureliojargas</a> on 2025-03-20 14:29</div>
            <div class="timeline-body"><p>Maybe this one can be closed as done?</p>
<p>I'm using uv 0.6.3 and this configuration in <code>pyproject.toml</code> works fine.</p>
<pre><code class="language-toml"># Python mirror
[tool.uv]
python-install-mirror = &quot;https://example.com/external-github-com/astral-sh/python-build-standalone/releases/download&quot;

# PyPI mirror
[[tool.uv.index]]
url = &quot;https://example.com/pypi/foo-pypi/simple/&quot;
default = true
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../ustclug/mirrorrequest/issues/410.html">ustclug/mirrorrequest#410</a> on 2025-04-29 15:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/benjs">@benjs</a> on 2025-05-22 07:25</div>
            <div class="timeline-body"><p>Closed as completed. Thanks a lot for implementing this! Highly appreciated!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @benjs on 2025-05-22 07:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:23 UTC
    </footer>
</body>
</html>
