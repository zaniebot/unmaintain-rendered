<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv not detecting pypy in termux - astral-sh/uv #11160</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv not detecting pypy in termux</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11160">#11160</a>
        opened by <a href="https://github.com/Vinfall">@Vinfall</a>
        on 2025-02-02 08:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Vinfall">@Vinfall</a></div>
            <div class="timeline-body">Summary
<p>I am not using the latest version, so I&#x27;ll wait a few days and see if it&#x27;s solved in 0.5.26 as I noticed it has python detection bugfix. This is opened just in case it persists.</p>
<p>Quoted my comment from <a href="https://github.com/astral-sh/uv/issues/7373">astral-sh/uv#7373</a>#issuecomment-2629265658:</p>
<p>uv on Termux now works quite well except <code>uv python install</code> but that&#x27;s a upstream issue and on Termux we have official PyPy packages and TUR for older Pythons.</p>
<p>However, if I have installed both <code>python3</code> and <code>pypy3</code>, only python3 is detected (despite pypy being in <code>$PATH</code>).</p>
Steps to reproduce
<pre><code># python interpreter and uv
$ pkg install python3 python3-pip pypy3 uv

$ uv python list
cpython-3.12.8-linux-aarch64-none    /data/data/com.termux/files/usr/bin/python3.12
cpython-3.12.8-linux-aarch64-none    /data/data/com.termux/files/usr/bin/python3 -&gt; python3.12
cpython-3.12.8-linux-aarch64-none    /data/data/com.termux/files/usr/bin/python -&gt; python3.12
</code></pre>
Expected
<p>uv detects python3 and pypy3.</p>
Actual behavior
<p>only python3 is detected.</p>
Verbose log
<p>not quite tbh:</p>
<pre><code>$ uv --verbose python list
DEBUG uv 0.5.25
DEBUG Searching for any Python interpreter in managed installations or search path
DEBUG Searching for managed installations at `.local/share/uv/python`
DEBUG Found `cpython-3.12.8-linux-aarch64-none` at `/data/data/com.termux/files/usr/bin/python` (search path)
DEBUG Found `cpython-3.12.8-linux-aarch64-none` at `/data/data/com.termux/files/usr/bin/python3` (search path)
DEBUG Failed to inspect Python interpreter from search path at `/data/data/com.termux/files/usr/bin/pypy3` 
DEBUG Skipping bad interpreter at /data/data/com.termux/files/usr/bin/pypy3 from search path: Could not detect a glibc or a musl libc (while running on Linux)
DEBUG Found `cpython-3.12.8-linux-aarch64-none` at `/data/data/com.termux/files/usr/bin/python3.12` (search path)
cpython-3.12.8-linux-aarch64-none    /data/data/com.termux/files/usr/bin/python3.12
cpython-3.12.8-linux-aarch64-none    /data/data/com.termux/files/usr/bin/python3 -&gt; python3.12
cpython-3.12.8-linux-aarch64-none    /data/data/com.termux/files/usr/bin/python -&gt; python3.12
</code></pre>
PATH
<pre><code>$ echo $PATH | sed &#x27;s/:/\n/g&#x27;
/data/data/com.termux/files/home/.local/bin
/data/data/com.termux/files/home/.local/bin-sh
/data/data/com.termux/files/home/.local/bin-rust
/data/data/com.termux/files/usr/bin
$ which python3
/data/data/com.termux/files/usr/bin/python3
$ which pypy3
/data/data/com.termux/files/usr/bin/pypy3
</code></pre>
<p>Like I said in the linked issue, it&#x27;s exact the same cause and I don&#x27;t see why I need to write it twice... Actually the original issue has more information than mine.</p>
Platform
<p>Linux 4.14.186+ aarch64 Android</p>
Version
<p>uv 0.5.25 (from termux)</p>
Python version
<p>Python 3.12.8 and undetected pypy3 (Python 3.9.18 (9c4f8ef178b6, Oct 06 2024, 19:31:31))</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/Vinfall">@Vinfall</a> on 2025-02-02 08:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:02 UTC
    </footer>
</body>
</html>
