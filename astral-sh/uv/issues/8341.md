```yaml
number: 8341
title: specifying single-package indices with uv add --index
type: issue
state: open
author: itrase
labels:
  - question
assignees: []
created_at: 2024-10-18T17:34:13Z
updated_at: 2024-10-18T18:11:53Z
url: https://github.com/astral-sh/uv/issues/8341
synced_at: 2026-01-10T01:57:19Z
```

# specifying single-package indices with uv add --index

---

_Issue opened by @itrase on 2024-10-18 17:34_

The new --index functionality makes it possible to do this:
`uv init`
`uv add torch --index pytorch=https://download.pytorch.org/whl/cu121`
and get a reproducable toml file, which is really nice. Is there a way to specify through the command line that torch should be the only project that uses that index, and all the others should use the default (pypi)? As an example, if I then call:
`uv add fsspec`
This installs an old version present on the pytorch index, rather than the newer one in pypi. I could just add unsafe-best-match, but I'd prefer not to. 
As an alternative, is there a way to tell uv that I want to install a particular package from the default index? Something like:
`uv add fsspec --index default` ? That doesn't feel quite as good but would probably be a solution 90% of the time.

---

_Comment by @charliermarsh on 2024-10-18 17:58_

You can change the index definition to:
```toml
[[tool.uv.index]]
name = "pytorch"
url = "https://download.pytorch.org/whl/cu121"
explicit = true
```

Then, the index will _only_ be used by that package.

We don't have a way to do this via the CLI-only though, you have to add `explicit = true` to the TOML. I wonder what a good API would look like for that (`--explicit-index`)?

---

_Label `question` added by @charliermarsh on 2024-10-18 17:58_

---

_Comment by @itrase on 2024-10-18 18:11_

ah thank you! explicit solves the problem for now. And I think a CLI flag like `--explicit-index` would work totally fine.

---

_Referenced in [astral-sh/uv#8344](../../astral-sh/uv/issues/8344.md) on 2024-10-21 09:29_

---

_Referenced in [astral-sh/uv#12483](../../astral-sh/uv/issues/12483.md) on 2025-03-26 11:10_

---
