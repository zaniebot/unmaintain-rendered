<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running uv scripts in debug mode - astral-sh/uv #8558</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Running uv scripts in debug mode</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/8558">#8558</a>
        opened by <a href="https://github.com/RubenVanEldik">@RubenVanEldik</a>
        on 2024-10-25 09:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/RubenVanEldik">@RubenVanEldik</a></div>
            <div class="timeline-body"><p>Hi all!</p>
<p>I am trying to see if we can start using uv to manage our codebases. Everything seems to work great, and managing dependencies is a lot easier this way! However, I can't figure out how to run a program through uv in debug mode in either VS Code or PyCharm. (e.g., <code>uv run src/main.py</code>) Does anyone have experience with running uv scripts in debug mode and can you point me in the right direction? :)</p>
<p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-25 13:21</div>
            <div class="timeline-body"><p>Related to https://github.com/astral-sh/uv/issues/7803</p>
<p>We don't have a great recommendation here yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-10-25 13:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/emilyemorehouse">@emilyemorehouse</a> on 2024-10-25 19:42</div>
            <div class="timeline-body"><p>I configured an alias (<code>alias python=&quot;uv run python&quot;</code>) and am able to debug apps/scripts without any modification to my VS Code config (and without forcing other devs to use <code>uv</code> if they aren't ready to migrate yet). I do feel like this is more of a workaround and has its pros/cons, but I'm happy with using this as a working solution to remove the barrier to utilizing <code>uv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RubenVanEldik">@RubenVanEldik</a> on 2024-10-29 10:55</div>
            <div class="timeline-body"><p>That's a great workaround @emilyemorehouse! I will definitely be using this myself as well. However, before I can convince the rest of my team that we should start using uv everywhere, it is important to have a less 'hacky' way to debug uv programs.</p>
<p>@zanieb, I fully understand this is not at the top of the priority list of uv right now, but I do think it is important to have some sort of solution for this when uv goes more mainstream :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/franperezlopez">@franperezlopez</a> on 2024-11-01 14:20</div>
            <div class="timeline-body"><p>I agree with @RubenVanEldik : if astral doesn't support common development scenarios (such as debug using vscode), all the other efforts will be meaningless.
<img src="https://github.com/user-attachments/assets/fd35d662-dcbc-444f-9624-034924697024" alt="image" />
another way to see it: now vscode offers support for pip (pipx, ...) and conda (micromamba, ...) environments, so the day I see UV in that list, then I will talk about UV to other developers. I hope that day comes soon</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-01 14:58</div>
            <div class="timeline-body"><p>I understand the desire, but it seems like this is sort of something for the VSCode team to tackle. I don't understand the nuances of the debugger setup and if <code>alias python=&quot;uv run python&quot;</code> works then it seems like there's not really a technical limitation just a weird constraint on how the Python interpreter is invoked?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gresavage">@gresavage</a> on 2024-11-01 17:56</div>
            <div class="timeline-body"><blockquote>
<p>I understand the desire, but it seems like this is sort of something for the VSCode team to tackle. I don't understand the nuances of the debugger setup and if <code>alias python=&quot;uv run python&quot;</code> works then it seems like there's not really a technical limitation just a weird constraint on how the Python interpreter is invoked?</p>
</blockquote>
<p>I second this!</p>
<p>From what I can see, UV obeys the <em>ancient</em> <a href="https://peps.python.org/pep-0405/">PEP0405</a> so any issues with VSCode or PyCharm selecting the correct interpreter stem from the IDE, not UV.</p>
<p>FWIW I also had this issue initially and the <code>alias python=&quot;uv run python&quot;</code> hack worked, but was actually no longer needed after restarting VSCode... Perhaps even just restarting the extension host would suffice.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gresavage">@gresavage</a> on 2024-11-01 18:07</div>
            <div class="timeline-body"><p>@franperezlopez UV abides by <a href="https://peps.python.org/pep-0405/">PEP0405</a>. So the UV virtual environment is literally the same as choosing the <code>Venv</code> from the dropdown in the image you shared... it's nothing special and you should just be able to select the correct interpreter for the project as I have done (below).</p>
<p>UV will create a new virtual environment on <code>uv sync</code> or you can create one manually with <code>uv venv</code>. The resulting venv should appear as an option when selecting an interpreter for the project. I think you could even just choose the <code>Venv</code> option you showed, and UV will automatically sync packages to that venv.</p>
<p>I did have issues initially with VS Codes debugger using the right interpreter - but restarting VS Code fixed this... perhaps even just restarting the extension host would work. This strongly plus UVs PEP compliance indicates to me the issue lies with VS Code and not UV.</p>
<p><img src="https://github.com/user-attachments/assets/d32f8021-615b-45c0-9858-c90264c58e1e" alt="image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexeyPetrochenko">@AlexeyPetrochenko</a> on 2024-11-05 15:49</div>
            <div class="timeline-body"><p>You can run your FastAPI application using the following configuration in launch.json:</p>
<pre><code class="language-json">{
    &quot;name&quot;: &quot;api&quot;,
    &quot;type&quot;: &quot;debugpy&quot;,
    &quot;request&quot;: &quot;launch&quot;,
    &quot;module&quot;: &quot;app&quot;,
    &quot;console&quot;: &quot;internalConsole&quot;,
    &quot;justMyCode&quot;: true
}
</code></pre>
<p>In this configuration, &quot;app&quot; refers to the Python module that contains the file <strong>main</strong>.py.
<strong>main</strong>.py
Create a file named <strong>main</strong>.py with the following content:</p>
<pre><code class="language-python">import uvicorn

if __name__ == '__main__':
    uvicorn.run(&quot;app.server:create_app&quot;, host=&quot;127.0.0.1&quot;, port=8000, reload=True, factory=True)
</code></pre>
<p>Here, server.py is the entry point of the application, and create_app is the application factory function. Using a factory pattern is recommended for better flexibility.
server.py
In your server.py, define the application factory as follows:</p>
<pre><code class="language-python">from fastapi import FastAPI

def create_app() -&gt; FastAPI:
    app = FastAPI()
    return app
</code></pre>
<p>Running the Application
With this setup, you can run your FastAPI application in debug mode directly from Visual Studio Code. Simply select the configuration named &quot;api&quot; from the debug panel and start debugging.
This configuration allows you to take advantage of debugging features such as breakpoints and variable inspection while developing your FastAPI application.
Final Notes
Ensure Dependencies: Make sure you have all necessary dependencies installed, including FastAPI and Uvicorn.
Directory Structure: Ensure that your directory structure supports this setup, with <strong>main</strong>.py located in the correct module path.</p>
<pre><code>â”œâ”€â”€ app/                     
â”‚   â”œâ”€â”€ __init__.py          
â”‚   â”œâ”€â”€ __main__.py       
â”‚   â””â”€â”€ server.py 
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adithyakirank">@adithyakirank</a> on 2024-11-08 15:12</div>
            <div class="timeline-body"><p>I think the more vs-code way of doing this until support for uv is added is:</p>
<ol>
<li><p>Select the interpreter (<code>uv run which python</code> if you are not sure) with the command palette like <a href="https://code.visualstudio.com/docs/python/environments#_select-and-activate-an-environment">here</a></p>
</li>
<li><p>Add the launch config for a script at <code>${workspaceFolder}/tests/test_script.py</code> to <code>launch.json</code></p>
</li>
</ol>
<pre><code>{
    &quot;name&quot;: &quot;my_test_script&quot;,
    &quot;request&quot;: &quot;launch&quot;,
    &quot;cwd&quot;: &quot;${workspaceFolder}/tests&quot;,
    &quot;type&quot;:&quot;debugpy&quot;,
    &quot;program&quot;: &quot;src/tests/test_script.py&quot;,
    &quot;console&quot;: &quot;integratedConsole&quot;,
    &quot;args&quot;: [
        &quot;arg1&quot;: &quot;value1&quot;
    ]
},
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/emilyemorehouse">@emilyemorehouse</a> on 2024-11-08 20:44</div>
            <div class="timeline-body"><blockquote>
<p>FWIW I also had this issue initially and the <code>alias python=&quot;uv run python&quot;</code> hack worked, but was actually no longer needed after restarting VSCode... Perhaps even just restarting the extension host would suffice.</p>
</blockquote>
<p>This is exactly what happened to me. I've also ditched the alias and simply selecting the right interpreter in VS Code (from the <code>venv</code> that I create with uv and auto-activate with direnv) is working seamlessly.</p>
<p>I also agree that this isn't a uv issue â€“ it's up to each debugger/editor to support uv-specific things that don't fit into this box.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lugi0">@lugi0</a> on 2024-12-10 12:19</div>
            <div class="timeline-body"><p>I bumped into this while trying to debug pytest execution within a <code>uv</code> environment. If you need to do the same, this launch.json file should work for you:</p>
<pre><code>{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;justMyCode&quot;: false,
            &quot;name&quot;: &quot;uv+pytest&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;program&quot;: &quot;.venv/bin/pytest&quot;,  #path to your venv's pytest bin
            &quot;python&quot;: &quot;${command:python.interpreterPath}&quot;,  #assuming the correct interpreter is already selected in VSC
            &quot;console&quot;: &quot;integratedTerminal&quot;,
            &quot;args&quot;: &quot;path/to/test.py&quot;  #path to the test you want to run; can be a list; these are the args passed to pytest
        }
    ]
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aplantinga">@aplantinga</a> on 2025-01-09 10:13</div>
            <div class="timeline-body"><p>For VS code, I added <code>uv sync</code> as a preLaunchtask to make sure my environment is up-to-date.</p>
<p><code>launch.json</code>:</p>
<pre><code class="language-json">{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Python Debugger: Current File&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;program&quot;: &quot;${file}&quot;,
            &quot;console&quot;: &quot;integratedTerminal&quot;,
            &quot;preLaunchTask&quot;: &quot;uv_sync&quot;
        }
    ]
}
</code></pre>
<p><code>tasks.json</code>:</p>
<pre><code class="language-json">{
    &quot;version&quot;: &quot;2.0.0&quot;,
    &quot;tasks&quot;: [
        {
            &quot;label&quot;: &quot;uv_sync&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;uv sync&quot;
        }
    ]
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoegge">@hoegge</a> on 2025-02-18 07:52</div>
            <div class="timeline-body"><p>These workarounds do not work with <code>uv run script.py</code> where the dependencies are included using uv's script dependencies, do they?
Where scripting is often where it is useful to try out things and debug. Any suggestions on how to run that from VScode easily in debug mode?</p>
<pre><code> /// script
# dependencies = [
#   &quot;pandasgui&quot;,
#   &quot;pandas&quot;,
#   &quot;psycopg2&quot;,****
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/say4n">@say4n</a> on 2025-07-22 12:44</div>
            <div class="timeline-body"><p>@hoegge seems like you can use <code>uv sync --script &lt;SCRIPT&gt;</code> at least on <code>uv 0.7.21 (Homebrew 2025-07-14)</code>. This command also helpfully prints the directory where the virtual environment lives if you want to manually explore things.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-22 12:48</div>
            <div class="timeline-body"><p>You can also get the path with <code>uv sync --script example.py --dry-run --output-format json | jq -r '.sync.environment.path'</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mlbiche">@mlbiche</a> on 2025-08-19 12:46</div>
            <div class="timeline-body"><p>@hoegge FYI, thanks to @say4n and @zanieb indications, I could run from VSCode Debugger my Python script with <code>uv</code> script dependencies by:</p>
<ul>
<li>Selecting as interpreter the <code>python</code> bin in <code>bin/python</code> in the <code>uv</code> environment directory printed by the <code>uv sync --script ...</code> command.</li>
<li>Setting the <code>launch.json</code> according to @adithyakirank indications to run my Python script. <em>(Note that it is <code>&quot;console&quot;: &quot;internalConsole&quot;</code> and not <code>&quot;console&quot;: &quot;integratedConsole&quot;</code> as stated in its comment)</em></li>
</ul>
<p>Hope it may be useful to anyone around here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adithyakirank">@adithyakirank</a> on 2025-08-19 12:54</div>
            <div class="timeline-body"><blockquote>
<p><a href="https://github.com/hoegge">@hoegge</a> FYI, thanks to <a href="https://github.com/say4n">@say4n</a> and <a href="https://github.com/zanieb">@zanieb</a> indications, I could run from VSCode Debugger my Python script with <code>uv</code> script dependencies by:</p>
<ul>
<li>Selecting as interpreter the <code>python</code> bin in <code>bin/python</code> in the <code>uv</code> environment directory printed by the <code>uv sync --script ...</code> command.</li>
<li>Setting the <code>launch.json</code> according to <a href="https://github.com/adithyakirank">@adithyakirank</a> indications to run my Python script. <em>(Note that it is <code>&quot;console&quot;: &quot;internalConsole&quot;</code> and not <code>&quot;console&quot;: &quot;integratedConsole&quot;</code> as stated in its comment)</em></li>
</ul>
<p>Hope it may be useful to anyone around here.</p>
</blockquote>
<p>My bad, the console options are indeed one of the following values:</p>
<p><code>console - what kind of console to use, for example, internalConsole, integratedTerminal, or externalTerminal</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RafaelWO">@RafaelWO</a> on 2025-09-29 12:00</div>
            <div class="timeline-body"><blockquote>
<p>These workarounds do not work with uv run script.py where the dependencies are included using uv's script dependencies, do they?</p>
</blockquote>
<p>If you are also fine with debugging with <a href="https://docs.python.org/3/library/pdb.html">pdb</a>, you can simply add a <code>breakpoint()</code> statement in your Python script and run <code>uv sync --script &lt;SCRIPT&gt;</code> as usual. This will stop the program at the breakpoint and leave you with the interactive pdb session.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fionn-r">@fionn-r</a> on 2025-10-01 03:34</div>
            <div class="timeline-body"><p>Yet another way that has worked well for me.</p>
<p>It uses the <code>python</code> and <code>pythonArgs</code> values to substitute in <code>uv run python</code> instead of the default interpreter so it should mean that it's equivalent to running <code>uv run python ${file}</code></p>
<pre><code class="language-json">{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Debug with uv&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;python&quot;: &quot;uv&quot;,
            &quot;pythonArgs&quot;: [
                &quot;run&quot;,
                &quot;python&quot;
            ],
            &quot;program&quot;: &quot;${file}&quot;
        }
    ]
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/joseribon">@joseribon</a> on 2025-10-03 22:36</div>
            <div class="timeline-body"><p>Thanks!!! @emilyemorehouse ðŸ§ </p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/juanbretti">@juanbretti</a> on 2025-10-06 18:01</div>
            <div class="timeline-body"><blockquote>
<p>Yet another way that has worked well for me.</p>
<p>It uses the <code>python</code> and <code>pythonArgs</code> values to substitute in <code>uv run python</code> instead of the default interpreter so it should mean that it's equivalent to running <code>uv run python ${file}</code></p>
<p>{
&quot;version&quot;: &quot;0.2.0&quot;,
&quot;configurations&quot;: [
{
&quot;name&quot;: &quot;Debug with uv&quot;,
&quot;type&quot;: &quot;debugpy&quot;,
&quot;request&quot;: &quot;launch&quot;,
&quot;python&quot;: &quot;uv&quot;,
&quot;pythonArgs&quot;: [
&quot;run&quot;,
&quot;python&quot;
],
&quot;program&quot;: &quot;${file}&quot;
}
]
}</p>
</blockquote>
<p>Hello, I get this error message when trying to use your proposed <code>launch.json</code>.</p>
<p><img width="352" height="125" alt="Image" src="https://github.com/user-attachments/assets/091a5b72-8efb-4724-8801-7c67c89c43b9" /></p>
<p>Could you give me advice if I need to change something? Or add something to my environment?
Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fionn-r">@fionn-r</a> on 2025-10-07 08:38</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>Yet another way that has worked well for me.
It uses the <code>python</code> and <code>pythonArgs</code> values to substitute in <code>uv run python</code> instead of the default interpreter so it should mean that it's equivalent to running <code>uv run python ${file}</code>
{
&quot;version&quot;: &quot;0.2.0&quot;,
&quot;configurations&quot;: [
{
&quot;name&quot;: &quot;Debug with uv&quot;,
&quot;type&quot;: &quot;debugpy&quot;,
&quot;request&quot;: &quot;launch&quot;,
&quot;python&quot;: &quot;uv&quot;,
&quot;pythonArgs&quot;: [
&quot;run&quot;,
&quot;python&quot;
],
&quot;program&quot;: &quot;${file}&quot;
}
]
}</p>
</blockquote>
<p>Hello, I get this error message when trying to use your proposed <code>launch.json</code>.</p>
<img alt="Image" width="352" height="125" src="https://private-user-images.githubusercontent.com/10165911/497937891-091a5b72-8efb-4724-8801-7c67c89c43b9.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTk4MjU4OTQsIm5iZiI6MTc1OTgyNTU5NCwicGF0aCI6Ii8xMDE2NTkxMS80OTc5Mzc4OTEtMDkxYTViNzItOGVmYi00NzI0LTg4MDEtN2M2N2M4OWM0M2I5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEwMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMDA3VDA4MjYzNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTA1NzA4OWRlNmVhMDA2NjIwMTI2NTUxNGI2ZjZlYTNmMWE4MGIyOTBjNDg2NzhmZTdkYTdjNzUzZmI4MThkOGUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.2LWe754ykn_8q_el1_t_cjIigD0ZCaKE8LttOfMD3tY">
Could you give me advice if I need to change something? Or add something to my environment? Thanks!

</blockquote>
<p>Are you able to provide the output of the <code>Python Debug Console</code> terminal that spawns when starting the debug task? Also can include Output &gt; Python and Output &gt; Python Debugger.</p>
<p>Potentially something to do with things not being found but when I intentionally change any of the values in there to pretend they can't be found, I get a pretty clear error message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/juanbretti">@juanbretti</a> on 2025-10-07 08:56</div>
            <div class="timeline-body"><p>Thank you @fionn-r  for your reply.</p>
<p>Using the <code>launch.json</code>:</p>
<pre><code>{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Debug with uv&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;python&quot;: &quot;uv&quot;,
            &quot;pythonArgs&quot;: [
                &quot;run&quot;,
                &quot;python&quot;
            ],
            &quot;program&quot;: &quot;${file}&quot;
        }
    ]
}
</code></pre>
<p>The outputs I got when trying to debug are:</p>
<p>Python Debugger</p>
<pre><code>2025-10-07 10:47:07.840 [info] Resolving launch configuration with substituted variables
</code></pre>
<p>Python Locator</p>
<pre><code>2025-10-07 10:48:35.022 [info] Resolved Python Environment C:\Users\xyz\.venv\Scripts\python.exe
2025-10-07 10:48:35.113 [error] Failed to execute Python to resolve info &quot;\&quot;c:\\Users\\xyz\\.venv\\Scripts\\python.exe\&quot;&quot;: El nombre de archivo, el nombre de directorio o la sintaxis de la etiqueta del volumen no son correctos. (os error 123)
2025-10-07 10:48:35.113 [warning] Unknown Python Env &quot;\&quot;c:\\Users\\xyz\\.venv\\Scripts\\python.exe\&quot;&quot;
2025-10-07 10:48:35.113 [error] Failed to resolve env &quot;\&quot;c:\\Users\\xyz\\.venv\\Scripts\\python.exe\&quot;&quot;
</code></pre>
<p>But the `python.exeÂ´ it is at that location. I triple checked.</p>
<p>The error is:</p>
<p><img width="352" height="125" alt="Image" src="https://github.com/user-attachments/assets/a2f32133-5e2d-43c5-9b7c-7136fd368384" /></p>
<p>And the debug does not start.</p>
<p>I am using uv:</p>
<pre><code>uv 0.8.23 (00d3aa378 2025-10-04)
</code></pre>
<p>When VScode starts, the Python locator find <code>python.exe</code> without any error:</p>
<pre><code>2025-10-07 10:53:03.475 [info] Resolved Python Environment C:\Users\xyz\.venv\Scripts\python.exe
</code></pre>
<p>Any ideas what could be wrong?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fionn-r">@fionn-r</a> on 2025-10-07 10:35</div>
            <div class="timeline-body"><p>The only thing I can think of is that python path looks a bit weird to me and I'm thinking it's potentially failing launching the debugpy instance before even launching your program.</p>
<p>I would double check your python interpreter path, maybe just reselect it (ctrl+shift+p &gt;Python Select Interpreter and choose the venv interpreter).</p>
<p>Does just running a regular debug instance work? Something like:</p>
<pre><code class="language-json">{
    &quot;name&quot;: &quot;Debug with python&quot;,
    &quot;type&quot;: &quot;debugpy&quot;,
    &quot;request&quot;: &quot;launch&quot;,
    &quot;program&quot;: &quot;${file}&quot;
}
</code></pre>
<p>If that works fine then sorry I'm a bit stumped.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/juanbretti">@juanbretti</a> on 2025-10-07 12:18</div>
            <div class="timeline-body"><p>@fionn-r , I think I have found the issue. The issue is the folders with &quot;spaces&quot;.
My file path is like:</p>
<pre><code>C:\Users\me\This folder\This app\src\python.exe
</code></pre>
<p>I moved everything to</p>
<pre><code>C:\Users\me\src\python.exe
</code></pre>
<p>And now, works with:</p>
<pre><code>{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Debug with uv&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;python&quot;: &quot;uv&quot;,
            &quot;pythonArgs&quot;: [
                &quot;run&quot;,
                &quot;python&quot;
            ],
            &quot;program&quot;: &quot;${file}&quot;
        }
    ]
}
</code></pre>
<p>And with the default configuration.</p>
<p>It's very strange how bad VSCode is managing the spaces.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RafaelWO">@RafaelWO</a> on 2025-10-08 06:31</div>
            <div class="timeline-body"><blockquote>
<p>These workarounds do not work with uv run script.py where the dependencies are included using uv's script dependencies, do they?
Where scripting is often where it is useful to try out things and debug. Any suggestions on how to run that from VScode easily in debug mode?</p>
</blockquote>
<p>@hoegge I believe I found a way to run the VSCode debugger on scripts with inline dependencies ðŸ™‚.</p>
<pre><code class="language-json">{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;UV Python Script&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;program&quot;: &quot;${file}&quot;,
            &quot;python&quot;: &quot;uv&quot;,
            &quot;pythonArgs&quot;: [
                &quot;run&quot;, &quot;--with-requirements&quot;, &quot;${file}&quot;, &quot;python&quot;
            ]
        }
    ]
}
</code></pre>
<p>This uses the <code>uv run</code> option <a href="https://docs.astral.sh/uv/reference/cli/#uv-run--with-requirements"><code>--with-requirements</code></a> to install the inline dependencies into an ephemeral environment and then runs the corresponding script.</p>
<hr />
<p><strong>Notes:</strong>
First, I tried the <a href="https://github.com/astral-sh/uv/issues/8558#issuecomment-3354594873">config from @fionn-r</a>, which runs Python but without installing the dependencies from the inline script metadata.</p>
<p>Using <code>&quot;pythonArgs&quot;: [&quot;run&quot;, &quot;--script&quot;]</code> also does not work because VSCode assumes that <code>&quot;python&quot;</code> is a Python interpreter and passes additional arguments to the command (e.g. <code>-X frozen_modules=off (...)</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wtimmerman-fitp">@wtimmerman-fitp</a> on 2025-10-08 14:31</div>
            <div class="timeline-body"><p>@RafaelWO , exciting to see, was just struggling with that same issue with inline deps last night. I'm still finding two issues:</p>
<p><strong>UPDATE: See below, the launch.json config was slightly out of whack; also need to have a more recent version of uv to handle (uv 0.9.0 works)</strong></p>
<p>I couldn't quite get your chunk to run successfully on an example file:</p>
<pre><code class="language-shell">(example-uv-made-venv) PS C:\Users\username\Documents\projects\example-project&gt;  C:; cd 'C:\Users\username\Documents\projects\example-project'; &amp; 'c:\Users\username\Documents\projects\example-project\.venv\Scripts\python.exe' 'c:\Users\username\.vscode\extensions\ms-python.debugpy-2025.10.0-win32-x64\bundled\libs\debugpy\launcher' '49986' '--' 'C:\Users\username\Documents\projects\example-project\analyses\pep723-example.py' 
error: File not found: `python`
</code></pre>
<p>this was the launch.json chunk (just added cwd item):</p>
<pre><code class="language-json">{
      &quot;name&quot;: &quot;uv debug test&quot;,
      &quot;type&quot;: &quot;debugpy&quot;,
      &quot;request&quot;: &quot;launch&quot;,
      &quot;program&quot;: &quot;${file}&quot;,
      &quot;python&quot;: &quot;uv&quot;,
      &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,
      &quot;pythonArgs&quot;: [&quot;run&quot;, &quot;--with-requirements&quot;, &quot;python&quot;, &quot;${file}&quot;]
    }
</code></pre>
<p>This is a minimal python file example; the debug launch was triggered with this file active in vscode.</p>
<pre><code class="language-python"># /// script
# requires-python = &quot;&gt;=3.11&quot;
# dependencies = [
#   &quot;requests&gt;=2.31.0&quot;
# ]
# ///

&quot;&quot;&quot;
Minimal PEP 723 example script with cli args

Examples:
    uv run analyses/pep723-example.py
    uv run analyses/pep723-example.py --message &quot;Custom message&quot;
&quot;&quot;&quot;

import argparse
import requests  # not used, just to test that inline deps work


def main():
    &quot;&quot;&quot;Main function to parse arguments and print the message.&quot;&quot;&quot;
    parser = argparse.ArgumentParser(
        description=&quot;Minimal PEP 723 example with optional argument&quot;
    )
    parser.add_argument(
        &quot;--message&quot;, default=&quot;Hello, World!&quot;, help=&quot;Message to print to console&quot;
    )
    args = parser.parse_args()

    print(f&quot;You provided: {args.message}&quot;)


if __name__ == &quot;__main__&quot;:
    main()

</code></pre>
<p>I'm curious if this example works on your end, or if there's just some other misconfiguration happening on my end or i'm too far behind on the version now (windows 10, uv 0.7.22, current vscode version). More broadly, i'm also having a bit of trouble getting arguments that are required at the command line to work with some of these uv-oriented launch configs. Can get debugger going fine in other repos that don't use uv, but not so much here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RafaelWO">@RafaelWO</a> on 2025-10-08 16:32</div>
            <div class="timeline-body"><p>@wtimmerman-fitp You mixed up two of the Python args in your <code>launch.json</code> ðŸ˜‰</p>
<pre><code class="language-diff">-      &quot;pythonArgs&quot;: [&quot;run&quot;, &quot;--with-requirements&quot;, &quot;python&quot;, &quot;${file}&quot;]
+      &quot;pythonArgs&quot;: [&quot;run&quot;, &quot;--with-requirements&quot;, &quot;${file}&quot;, &quot;python&quot;]
</code></pre>
<p>The option <code>--with-requirements</code> expects the file you want to run. Hopefully, it works if you swap the last two arguments ðŸ™‚</p>
<hr />
<blockquote>
<p>More broadly, i'm also having a bit of trouble getting arguments that are required at the command line to work</p>
</blockquote>
<p>To specify arguments to the Python script that are parsed via <code>argparse</code>, you have to set the <code>&quot;args&quot;</code> key in your <code>lauch.json</code>:</p>
<pre><code class="language-json">{
    ...
    &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,
    &quot;pythonArgs&quot;: [&quot;run&quot;, &quot;--with-requirements&quot;, &quot;${file}&quot;, &quot;python&quot;],
    &quot;args&quot;: [&quot;--message&quot;, &quot;Hi from VSCode&quot;]
}
</code></pre>
<p>If you manually want to enter args upon starting the debugger, I recommend using <code>&quot;args&quot;: &quot;${command:pickArgs}&quot;</code> which opens an input dialog to pass options if you start debugging. You can find more info in the <a href="https://code.visualstudio.com/docs/python/debugging#_args">VSCode docs on Python debugging</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wtimmerman-fitp">@wtimmerman-fitp</a> on 2025-10-08 18:46</div>
            <div class="timeline-body"><p>Oh goodness, perils of debugging for too long...</p>
<p>In my defense, hah, i had also tried what you put and received this other error previously:</p>
<pre><code>error: Unexpected '&quot;', expected '-c', '-e', '-r' or the start of a requirement at analyses\pep723-example.py:8:1
</code></pre>
<p>but, seems like an upgrade from 0.7.22 to a later version (0.9.0 in my case) did the trick.</p>
<p>So, big thanks, @RafaelWO ! And appreciate the insight on the additional args and your response on this item</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoegge">@hoegge</a> on 2025-10-10 08:45</div>
            <div class="timeline-body"><p>Thanks a lot @RafaelWO  - it seems to work perfectly. Great!</p>
<blockquote>
<p><a href="https://github.com/hoegge">@hoegge</a> I believe I found a way to run the VSCode debugger on scripts with inline dependencies ðŸ™‚.</p>
<p>{
&quot;version&quot;: &quot;0.2.0&quot;,
&quot;configurations&quot;: [
{
&quot;name&quot;: &quot;UV Python Script&quot;,
&quot;type&quot;: &quot;debugpy&quot;,
&quot;request&quot;: &quot;launch&quot;,
&quot;program&quot;: &quot;${file}&quot;,
&quot;python&quot;: &quot;uv&quot;,
&quot;pythonArgs&quot;: [
&quot;run&quot;, &quot;--with-requirements&quot;, &quot;${file}&quot;, &quot;python&quot;
]
}
]
}
This uses the <code>uv run</code> option <a href="https://docs.astral.sh/uv/reference/cli/#uv-run--with-requirements"><code>--with-requirements</code></a> to install the inline dependencies into an ephemeral environment and then runs the corresponding script.</p>
<p><strong>Notes:</strong> First, I tried the <a href="https://github.com/astral-sh/uv/issues/8558#issuecomment-3354594873">config from @fionn-r</a>, which runs Python but without installing the dependencies from the inline script metadata.</p>
<p>Using <code>&quot;pythonArgs&quot;: [&quot;run&quot;, &quot;--script&quot;]</code> also does not work because VSCode assumes that <code>&quot;python&quot;</code> is a Python interpreter and passes additional arguments to the command (e.g. <code>-X frozen_modules=off (...)</code>).</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mkatkov">@mkatkov</a> on 2025-10-18 19:18</div>
            <div class="timeline-body"><blockquote>
<p>Hi all!</p>
<p>I am trying to see if we can start using uv to manage our codebases. Everything seems to work great, and managing dependencies is a lot easier this way! However, I can't figure out how to run a program through uv in debug mode in either VS Code or PyCharm. (e.g., <code>uv run src/main.py</code>) Does anyone have experience with running uv scripts in debug mode and can you point me in the right direction? :)</p>
<p>Thank you!</p>
</blockquote>
<p>Hi, with a bit of less convinience it can be done:</p>
<p>In vscode setup debugging in the attach mode (inside launch.json - see beginning of article):
https://code.visualstudio.com/docs/python/debugging
{
&quot;name&quot;: &quot;Python Debugger: Attach&quot;,
&quot;type&quot;: &quot;debugpy&quot;,
&quot;request&quot;: &quot;attach&quot;,
&quot;connect&quot;: {
&quot;host&quot;: &quot;localhost&quot;,
&quot;port&quot;: 5678
}
}</p>
<p>in uv install debugpy
uv add debugpy</p>
<ul>
<li>or as dev dependency</li>
</ul>
<p>then run
uv run -m debugpy --wait-for-client --listen 5678 whatever/you/what/to/run.py with arguments</p>
<p>The inconvenience is: yo have to restart uv command in console and start debugging in vscode, instead of clicking reload button in debugger extension. For me it is Alt-Tab Ctrl-C Ctrl-C ArrowUP Enter Alt-Tab F5, instead of just Ctrl-Shift-F5.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ky9oss">@Ky9oss</a> on 2025-10-31 14:52</div>
            <div class="timeline-body"><p>If you're willing to use a REPL debugger, the pdb that comes with Python 3.14 is a good choice. It adds a new <code>--pid</code> option that allows you to attach to a running process by PID. (See the docs: https://docs.python.org/3/library/pdb.html#cmdoption-pdb-p). In my case I use a PowerShell script to start the process with <code>uv</code> and attach to the Python process in the call chain. This example shows how to use it with <a href="https://github.com/mitmproxy/mitmproxy">mitmproxy</a>:</p>
<pre><code class="language-powershell"># Run this script from your project's root to debug a uv project with Python 3.14's pdb

uv python pin 3.14
Start-Process -FilePath &quot;uv.exe&quot; -ArgumentList &quot;run mitmproxy&quot; -PassThru | Out-Null
Start-Sleep -Milliseconds 2000

# Process chain: uv.exe -&gt; mitmproxy.exe -&gt; python.exe -&gt; python.exe
$up = Get-CimInstance Win32_Process -Filter &quot;Name = 'uv.exe' OR Name = 'uv'&quot; | Select-Object -ExpandProperty ProcessId
$mp = Get-CimInstance Win32_Process -Filter &quot;ParentProcessId = $up AND Name = 'mitmproxy.exe'&quot; | Select-Object -ExpandProperty ProcessId
$pp = Get-CimInstance Win32_Process -Filter &quot;ParentProcessId = $mp&quot; | Select-Object -ExpandProperty ProcessId
$pp314 = Get-CimInstance Win32_Process -Filter &quot;ParentProcessId = $pp&quot; | Select-Object -ExpandProperty ProcessId
python -m pdb -p $pp314
</code></pre>
<p>This works well for me â€” pdb in Python 3.14 has all the features I need.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-15 17:04</div>
            <div class="timeline-body"><p>PyCharm 2025.3 now supports launching scripts such as <code>uv run main.py</code> natively:</p>
<p><img width="1297" height="925" alt="Image" src="https://github.com/user-attachments/assets/7a3685cd-91ac-4b27-8552-1db0039406e7" /></p>
<p><img width="1297" height="925" alt="Image" src="https://github.com/user-attachments/assets/304647e2-58dd-4211-a9ed-81677cdd37a4" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/guites">@guites</a> on 2025-12-15 21:19</div>
            <div class="timeline-body"><p>Hey, just in case someone came here by googling &quot;How to use uv run with vscode launch.json&quot;, I managed to get it working with the following setup:</p>
<pre><code>{
    // Select the uv python (./venv/bin/python) as the vscode python interpreter
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;scanapi PokeAPI&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;module&quot;: &quot;scanapi&quot;,
            &quot;args&quot;: [
                &quot;run&quot;,
                &quot;../examples/pokeapi/scanapi.yaml&quot;,
                &quot;-c&quot;,
                &quot;../examples/pokeapi/scanapi.conf&quot;,
                &quot;-o&quot;,
                &quot;../examples/pokeapi/scanapi-report.html&quot;
            ]
        }
    ]
}
</code></pre>
<p>This would be equivalent to using, on the command line:</p>
<pre><code>uv run scanapi run ../examples/pokeapi/scanapi.yaml -c ../examples/pokeapi/scanapi.conf -o ../examples/pokeapi/scanapi-report.html
</code></pre>
<p>You can change everything from <code>scanapi</code> onwards by your actual python script/program. For example flask would be</p>
<pre><code>{
    // Select the uv python (./venv/bin/python) as the vscode python interpreter
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;scanapi PokeAPI&quot;,
            &quot;type&quot;: &quot;debugpy&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;module&quot;: &quot;flask&quot;,
            &quot;args&quot;: [
                &quot;--app&quot;,
                &quot;hello&quot;,
                &quot;run&quot;,
                &quot;--debug&quot;
            ]
        }
    ]
}
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:57 UTC
    </footer>
</body>
</html>
