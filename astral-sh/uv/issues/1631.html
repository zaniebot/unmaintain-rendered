<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip sync` uninstalls uv itself when installed into the virtual env - astral-sh/uv #1631</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pip sync</code> uninstalls uv itself when installed into the virtual env</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1631">#1631</a>
        opened by <a href="https://github.com/Tonius">@Tonius</a>
        on 2024-02-18 07:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Tonius">@Tonius</a> on 2024-02-18 07:57</div>
            <div class="timeline-body"><h2>Issue description</h2>
<p>When creating a new virtual env and installing <code>uv</code> into it, running <code>uv pip sync</code> will cause it to uninstall itself.</p>
<p>This is inconsistent with pip-tools, whose sync command explicitly ignores pip-tools itself, as described here: https://github.com/jazzband/pip-tools?tab=readme-ov-file#example-usage-for-pip-sync</p>
<blockquote>
<p>Note: pip-sync will not upgrade or uninstall packaging tools like setuptools, pip, or pip-tools itself.</p>
</blockquote>
<h2>Example</h2>
<pre><code>$ python3.11 -m venv .env

$ . .env/bin/activate

(.env) $ pip install uv

  Collecting uv
    Obtaining dependency information for uv from https://files.pythonhosted.org/packages/d4/2e/4c60d328ffdd0e2dc824ebec08117c8034e3a505b4f58ff900f1c1519791/uv-0.1.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata
    Downloading uv-0.1.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (17 kB)
  Downloading uv-0.1.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (10.1 MB)
    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 10.1/10.1 MB 13.6 MB/s eta 0:00:00
  Installing collected packages: uv
  Successfully installed uv-0.1.4

  [notice] A new release of pip is available: 23.2.1 -&gt; 24.0
  [notice] To update, run: pip install --upgrade pip

(.env) $ echo &quot;ruff==0.2.2&quot; &gt; requirements.in

(.env) $ python -m uv pip compile requirements.in --output-file=requirements.txt
  
  Resolved 1 package in 547ms

(.env) $ python -m uv pip sync requirements.txt

  Resolved 1 package in 28ms
  Downloaded 1 package in 465ms
  Uninstalled 1 package in 1ms
  Installed 1 package in 8ms
   + ruff==0.2.2
   - uv==0.1.4

(.env) $ python -m uv pip sync requirements.txt

  .env/bin/python: No module named uv
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-02-18 08:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 08:13</div>
            <div class="timeline-body"><p>Yeah we should probably avoid this :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @zanieb on 2024-02-18 08:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-02-18 14:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jasonwashburn">@jasonwashburn</a> on 2024-02-18 14:58</div>
            <div class="timeline-body"><p>Ha...seemed like a good project for the morning...come back to submit PR and it's already fixed/merged. Even the fixes come surprisingly fast. ğŸ‘</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:28 UTC
    </footer>
</body>
</html>
