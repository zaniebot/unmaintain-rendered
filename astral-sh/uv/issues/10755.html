<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv export doesn't seem to respect --no-dev - astral-sh/uv #10755</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv export doesn't seem to respect --no-dev</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10755">#10755</a>
        opened by <a href="https://github.com/dodumosu">@dodumosu</a>
        on 2025-01-19 17:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dodumosu">@dodumosu</a> on 2025-01-19 17:19</div>
            <div class="timeline-body"><p>thanks for all the hard work on this. i have a project using this, and i added ipython to my dev dependencies to make shell work with async a bit more easy. i have a pre-commit hook with uv export set up, and i noticed that ipython was included in the exported requirements.txt. here's the set up for uv in my pre-commit configuration:</p>
<pre><code class="language-yaml">-   repo: https://github.com/astral-sh/uv-pre-commit
    rev: 0.5.8
    hooks:
    -   id: uv-lock
    -   id: uv-export
        args: [&quot;--no-dev&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-19 17:36</div>
            <div class="timeline-body"><p>Thanks. We would need a complete reproduction to help you here, including the <code>pyproject.toml</code> and the commands you're running to produce this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2025-01-20 03:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/znicholls">@znicholls</a> on 2025-01-20 09:29</div>
            <div class="timeline-body"><p>(Chiming in out of nowhere, I thought I had a related issue but I think it's different because I could not reproduce this with the MRE below)</p>
<p>uv version: uv 0.5.11 (c4d0caaee 2024-12-19)
operating system: MacOS M2 chip</p>
<details><summary>`pyproject.toml`</summary>
<p>

<pre><code class="language-toml"># pyproject.toml
[project]
name = &quot;mwe&quot;
version = &quot;0.1.0&quot;
description = &quot;Minimal working example to demonstrate resolving issue&quot;
authors = [
    { name = &quot;Zebedee Nicholls&quot;, email = &quot;zebedee.nicholls@climate-energy-college.org&quot; },
]
requires-python = &quot;&gt;=3.9&quot;
dependencies = [ ]

[dependency-groups]
docs = [
    &quot;ipython&gt;=8.18.1&quot;,
]
</code></pre>
</p>
</details> 

<details><summary>Command output</summary>
<p>

<p>This seems fine?</p>
<pre><code class="language-sh">$ uv export --no-dev
Using CPython 3.13.1 interpreter at: /opt/homebrew/opt/python@3.13/bin/python3.13
Resolved 20 packages in 0.62ms
# This file was autogenerated by uv via the following command:
#    uv export --no-dev
</code></pre>
</p>
</details> 

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10774.html">astral-sh/uv#10774</a> on 2025-01-20 09:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dodumosu">@dodumosu</a> on 2025-01-20 09:50</div>
            <div class="timeline-body"><p>It seems to have been a misconfiguration. When I added <em>both</em> --no-dev and
--output-file to the pre-commit set up, it worked properly.</p>
<p>On Mon, Jan 20, 2025, 10:29 AM Zeb Nicholls <em><strong>@</strong></em>.***&gt;
wrote:</p>
<blockquote>
<p>(Chiming in out of nowhere, I thought I had a related issue but I think
it's different because I could not reproduce this with the MRE below)</p>
<p>uv version: uv 0.5.11 (c4d0caa
<a href="https://github.com/astral-sh/uv/commit/c4d0caaee5edc21319760b739f013287ef4853c2">https://github.com/astral-sh/uv/commit/c4d0caaee5edc21319760b739f013287ef4853c2</a>
2024-12-19)
operating system: MacOS M2 chip
<code>pyproject.toml</code></p>
<h1>pyproject.toml</h1>
<p>[project]name = &quot;mwe&quot;version = &quot;0.1.0&quot;description = &quot;Minimal working example to demonstrate resolving issue&quot;authors = [
{ name = &quot;Zebedee Nicholls&quot;, email = <em><strong>@</strong></em>.***&quot; },
]requires-python = &quot;&gt;=3.9&quot;dependencies = [ ]</p>
<p>[dependency-groups]docs = [
&quot;ipython&gt;=8.18.1&quot;,
]</p>
<p>Command output</p>
<p>This seems fine?</p>
<p>$ uv export --no-dev
Using CPython 3.13.1 interpreter at: <em><strong>@</strong></em>.***/bin/python3.13
Resolved 20 packages in 0.62ms# This file was autogenerated by uv via the following command:#    uv export --no-dev</p>
<p>—
Reply to this email directly, view it on GitHub
<a href="https://github.com/astral-sh/uv/issues/10755#issuecomment-2601873831">https://github.com/astral-sh/uv/issues/10755#issuecomment-2601873831</a>,
or unsubscribe
<a href="https://github.com/notifications/unsubscribe-auth/AAKX5FQOHZKGKPGLI7ILKP32LS6YZAVCNFSM6AAAAABVO4PN2KVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMBRHA3TGOBTGE">https://github.com/notifications/unsubscribe-auth/AAKX5FQOHZKGKPGLI7ILKP32LS6YZAVCNFSM6AAAAABVO4PN2KVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMBRHA3TGOBTGE</a>
.
You are receiving this because you authored the thread.Message ID:
<em><strong>@</strong></em>.***&gt;</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-01-20 13:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:32:58 UTC
    </footer>
</body>
</html>
