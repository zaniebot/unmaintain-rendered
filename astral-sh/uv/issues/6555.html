<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An exclude newer extension for PEP 723 - astral-sh/uv #6555</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>An exclude newer extension for PEP 723</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6555">#6555</a>
        opened by <a href="https://github.com/hauntsaninja">@hauntsaninja</a>
        on 2024-08-23 22:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hauntsaninja">@hauntsaninja</a></div>
            <div class="timeline-body"><p>This would be a one liner you could add that to make most scripts 99% reproducible using uv's awesome <code>--exclude-newer</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-08-23 22:33</div>
            <div class="timeline-body"><p>I guess two liner because it would probably need to be under <code>[tool.uv]</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-23 22:38</div>
            <div class="timeline-body"><p>You should already be able to do this!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-23 22:40</div>
            <div class="timeline-body"><p>Yeah I believe this works:</p>
<pre><code class="language-toml"># /// script
# requires-python = &quot;&gt;=3.12&quot;
# dependencies = [
#     &quot;flask&quot;,
# ]
#
# [tool.uv]
# exclude-newer = &quot;2023-03-25T00:00:00Z&quot;
# ///
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-23 22:40</div>
            <div class="timeline-body"><p>e.g.</p>
<pre><code># /// script
# requires-python = &quot;&gt;=3.11&quot;
# dependencies = [
#     &quot;httpx&quot;,
# ]
#
# [tool.uv]
# exclude-newer = &quot;2022-07-17T00:00:00Z&quot;
# ///
</code></pre>
<p>gives</p>
<pre><code> + anyio==3.6.1
 + certifi==2022.6.15
 + h11==0.12.0
 + httpcore==0.15.0
 + httpx==0.23.0
 + idna==3.3
 + rfc3986==1.5.0
 + sniffio==1.2.0
</code></pre>
<p>and without</p>
<pre><code> + anyio==4.4.0
 + certifi==2024.7.4
 + h11==0.14.0
 + httpcore==1.0.5
 + httpx==0.27.0
 + idna==3.8
 + sniffio==1.3.1
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-08-23 22:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2024-08-23 22:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-08-23 23:37</div>
            <div class="timeline-body"><p>Ah, I should have tried it! https://github.com/astral-sh/uv/pull/6562 adds some things that would be useful :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-10-21 21:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:28 UTC
    </footer>
</body>
</html>
