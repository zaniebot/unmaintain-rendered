<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add plugin support (and/or an python api)? - astral-sh/uv #9392</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add plugin support (and/or an python api)?</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/9392">#9392</a>
        opened by <a href="https://github.com/DinhHuy2010">@DinhHuy2010</a>
        on 2024-11-24 03:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DinhHuy2010">@DinhHuy2010</a> on 2024-11-24 03:49</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>Could uv supports plugins written both in Python and Rust like <a href="https://python-poetry.org/docs/plugins/">poetry</a>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rustlib</span> added by @samypr100 on 2024-11-24 04:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @zanieb on 2024-11-26 00:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-26 00:35</div>
            <div class="timeline-body"><p>Someday! But not in the short term. We have core experiences to focus on, so a plugin system is not on the roadmap yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ssbarnea">@ssbarnea</a> on 2024-12-19 11:52</div>
            <div class="timeline-body"><p>I am more interested in an Python API for calling uv, <code>uv venv</code> in particular, directly from python.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DinhHuy2010">@DinhHuy2010</a> on 2024-12-22 03:16</div>
            <div class="timeline-body"><p>Hi, do you have any update?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stefanobaghino">@stefanobaghino</a> on 2025-02-14 08:50</div>
            <div class="timeline-body"><blockquote>
<p>Someday! But not in the short term. We have core experiences to focus on, so a plugin system is not on the roadmap yet.</p>
</blockquote>
<p>@zanieb Thanks for being upfront in this regard. I would like to bring up that the product I work on (https://gradle.com/develocity/) is a build observability platform and we recently added support for the Python ecosystem in beta status. Our current support instruments the Python interpreter itself, meaning that <code>uv</code> is an area we cannot instrument directly right now, but there might be interested for this and I don't see any (clean) way we could achieve this without a plugin architecture of some sort.</p>
<p>I'm bringing this up not directly on behalf of the company, but simply as an individual developer with a lot of interest in <code>uv</code>, although I see a lot of interest from our current users into having this available, so I wouldn't rule out a chance to collaborate in the future, although I cannot give any specific commitment on the company's behalf at this time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 13:15</div>
            <div class="timeline-body"><p>How is your instrumentation invoked?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stefanobaghino">@stefanobaghino</a> on 2025-02-14 13:57</div>
            <div class="timeline-body"><blockquote>
<p>How is your instrumentation invoked?</p>
</blockquote>
<p>Using a site-specific configuration hook (<a href="https://docs.python.org/3/library/site.html">docs</a>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 15:00</div>
            <div class="timeline-body"><p>That should still work with uv when we invoke the Python interpreter, right? What are you imagining a uv plugin doing here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stefanobaghino">@stefanobaghino</a> on 2025-02-14 16:17</div>
            <div class="timeline-body"><p>It would capture the invocations of Python when run through <code>uv</code>, yes, but there would be no way of capturing tasks performed by <code>uv</code> without invoking the Python interpreter, or if several Python invocations were orchestrated by <code>uv</code>, or giving some sort of insight into the <code>uv</code> process itself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 17:21</div>
            <div class="timeline-body"><p>I see. What kind of insights are you trying to get into uv's behavior?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stefanobaghino">@stefanobaghino</a> on 2025-02-14 19:22</div>
            <div class="timeline-body"><p>If I show you an example it will probably give you a rough idea of the kind of observability we would like to give, luckily we support a few open source projects. I'll use an example from our instance backing the Apache Software Foundation (this dashboard in particular is for Kafka developers):</p>
<ul>
<li><a href="https://develocity.apache.org/s/ukai3as7ousiy/timeline">the timeline view</a> shows what tasks the tool is orchestrating, and the resource usage on the machine</li>
<li><a href="https://develocity.apache.org/s/ukai3as7ousiy/tests/overview">the tests view</a> view aggregate and report tests, including information on flakiness (within the individual run if possible, and also across runs)</li>
<li>we also aggregate data across build to offer <a href="https://develocity.apache.org/scans/performance?search.timeZoneId=Europe%2FZurich">build performance</a> and <a href="https://develocity.apache.org/scans/tests?search.timeZoneId=Europe%2FZurich">test metrics</a> dashboards (to name a couple)</li>
</ul>
<p>(I think it's important to point out that this is not limited to CI, but can offer observability and a tool for collaboration for teams and organizations)</p>
<p>(sorry for sounding like I'm trying to sell something, I definitely am not, but I hope it gives you a rough idea of the kind of information we'd like to enable users to collect)</p>
<p>These are just a couple of examples, but in general we try to tailor the information we offer to the specific tool.</p>
<p>I can think of ways in which we can instrument processes in a way that does not require integrating into those (walking up the process parents to see whether uv is running and getting info from the OS is one that comes to mind), but that doesn't allow for some deeper integration into tool-specific information that users might be interested in.</p>
<p>I'm not asking for anything, but I hope this gives some push towards the idea of having a plugin architecture (which I do realize is <em>large</em> undertaking, and one that you need to evaluate and design for carefully, should you ever decide it's a project you want to work on).</p>
<p>Anyway, very excited to see <code>uv</code> growing so much, thanks for the amazing work you are doing, the Python community is clearly enthusiastic about what you're creating. üôáüèª</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 19:24</div>
            <div class="timeline-body"><p>Thanks for the details! That's really helpful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-14 19:39</div>
            <div class="timeline-body"><p>In uv, we use <a href="https://github.com/tokio-rs/tracing">tracing</a> for instrumentation and &quot;observability&quot;. I've been using tracing plugins for similar views into uv (https://github.com/konstin/tracing-durations-export), a tracing export in some form could have the information you need.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stefanobaghino">@stefanobaghino</a> on 2025-02-14 19:43</div>
            <div class="timeline-body"><blockquote>
<p>In uv, we use <a href="https://github.com/tokio-rs/tracing">tracing</a> for instrumentation and &quot;observability&quot;. I've been using tracing plugins for similar views into uv (https://github.com/konstin/tracing-durations-export), a tracing export in some form could have the information you need.</p>
</blockquote>
<p>Thanks! I'll see if there's a way we can leverage this. üôáüèª</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DinhHuy2010">@DinhHuy2010</a> on 2025-02-16 12:03</div>
            <div class="timeline-body"><p>uh, hi, what going on?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stefanobaghino">@stefanobaghino</a> on 2025-02-19 09:11</div>
            <div class="timeline-body"><p>Not much, I was giving my own reasons why I would be excited to have a plugin architecture. üôÇ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DinhHuy2010">@DinhHuy2010</a> on 2025-02-22 16:13</div>
            <div class="timeline-body"><p>thank üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Steve973">@Steve973</a> on 2025-09-11 18:39</div>
            <div class="timeline-body"><p>Plugin support would be great.  What if we want to hook into various parts of the lifecycle to extend the functionality, or extend the build actions? There are many reasons why people would want to do this, and to not have to deviate from pyproject.toml, or use more than a single command, since having to script multiple actions is less than ideal.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:31:37 UTC
    </footer>
</body>
</html>
