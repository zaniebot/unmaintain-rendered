```yaml
number: 10978
title: New version of uv fails to build universal requirements for python version system does not have
type: issue
state: closed
author: CoolCat467
labels:
  - bug
assignees: []
created_at: 2025-01-27T07:31:37Z
updated_at: 2025-01-28T19:44:33Z
url: https://github.com/astral-sh/uv/issues/10978
synced_at: 2026-01-10T01:57:25Z
```

# New version of uv fails to build universal requirements for python version system does not have

---

_Issue opened by @CoolCat467 on 2025-01-27 07:31_

### Summary

After upgrading uv, suddenly now running `uv pip compile --universal --python-version=3.10 test-requirements.in -o test-requirements.txt --upgrade` fails when it didn't before
Same command but with `-v` as well:
```console
DEBUG uv 0.5.24
DEBUG Starting Python discovery for Python 3.10
DEBUG Looking for exact match for request Python 3.10
DEBUG Searching for Python 3.10 in virtual environments, managed installations, or search path
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/<my username>/Desktop/Python/venv/bin/python3` (active virtual environment)
DEBUG Skipping interpreter at `/home/<my username>/Desktop/Python/venv/bin/python3` from active virtual environment: does not satisfy request `3.10`
DEBUG Failed to inspect Python interpreter from virtual environment at `bin/python3` 
DEBUG Searching for managed installations at `/home/<my username>/.local/share/uv/python`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/<my username>/Desktop/Python/venv/bin/python3` (search path)
DEBUG Skipping interpreter at `/home/<my username>/Desktop/Python/venv/bin/python3` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/<my username>/Desktop/Python/venv/bin/python` (search path)
DEBUG Skipping interpreter at `/home/<my username>/Desktop/Python/venv/bin/python` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/home/<my username>/.bin/python` (search path)
DEBUG Skipping interpreter at `/home/<my username>/.bin/python` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/usr/bin/python3` (search path)
DEBUG Skipping interpreter at `/usr/bin/python3` from search path: does not satisfy request `3.10`
DEBUG Found `cpython-3.12.7-linux-x86_64-gnu` at `/bin/python3` (search path)
DEBUG Skipping interpreter at `/bin/python3` from search path: does not satisfy request `3.10`
error: Failed to inspect Python interpreter from virtual environment at `bin/python3`
  Caused by: Python interpreter not found at `/home/<my username>/Desktop/Python/Projects/StatusBot/bin/python3`
```

Running from inside a virtual environment because system package index not writeable

### Platform

Linux 6.11.0-13-generic x86_64 GNU/Linux

### Version

uv 0.5.24

### Python version

Python 3.12.7

---

_Label `bug` added by @CoolCat467 on 2025-01-27 07:31_

---

_Comment by @CoolCat467 on 2025-01-27 07:36_

After looking at which version this starts breaking in, running this command works prior to and equal to `uv==0.5.21`, but breaks for anything after or equal to `uv==0.5.22`

---

_Comment by @CoolCat467 on 2025-01-27 07:47_

Looking through commits that were a part of `0.5.22`, b543881b1b742e1bf98e6c503c2387f7955fad62 stands out immediately but can't prove this is the root cause quite yet.

---

_Assigned to @zanieb by @charliermarsh on 2025-01-27 14:02_

---

_Comment by @charliermarsh on 2025-01-27 14:03_

I'll defer to @zanieb to take a look.

---

_Comment by @zanieb on 2025-01-28 18:10_

I presume this is similar to https://github.com/astral-sh/uv/pull/10908 â€” sorry about that. Should be a quick fix.

---

_Referenced in [astral-sh/uv#11030](../../astral-sh/uv/pulls/11030.md) on 2025-01-28 18:30_

---

_Closed by @zanieb on 2025-01-28 19:44_

---

_Referenced in [astral-sh/uv#11355](../../astral-sh/uv/issues/11355.md) on 2025-06-04 03:37_

---
