<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `uv-virtualenv` tests for a wide range of Pythons - astral-sh/uv #2126</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>uv-virtualenv</code> tests for a wide range of Pythons</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2126">#2126</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-03-02 01:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p><code>virtualenv</code> has a nice setup for this: https://github.com/pypa/virtualenv/blob/main/.github/workflows/check.yml.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-02 01:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-02 01:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-08 18:26</div>
            <div class="timeline-body"><p>Charlie has a good start on this with the <code>system-install.yaml</code> GitHub Actions workflow.</p>
<p>I think the major downside of that approach is that it cannot be run locally.</p>
<p>Running cross-platform tests locally is going to be quite challenging as we need a VM or remote runner to execute Windows tests on Linux or vice-versa.</p>
<p>In the long run, I imagine using BuildKit with multi-node build daemons so we can run containerized tests on Windows and Linux. However, they <a href="https://github.com/moby/buildkit/blob/master/docs/windows.md#experimental-windows-containers-support">just recently</a> added support for Windows and I&#x27;m hesitant to try to build on top of it. If we wait, we might be able to take advantage of tools that extend BuildKit (like Earthly) to avoid implementing much of the infrastructure.</p>
<p>In the short term, I think we should containerize the <code>system-install</code> test suite and split it into &quot;host&quot; platforms. We can run everything in CI by making use of GitHub Action&#x27;s multiplatform hosts. Locally, developers will be limited to the subset matching their current host. We can explore using Vagrant to run VMs for local cross-platform tests, but I don&#x27;t think it&#x27;s critical at this time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-14 16:19</div>
            <div class="timeline-body"><p>cc @konstin here I talk a bit about vagrant and buildkit dreams.</p>
<p>I&#x27;m going to close this because we have lots of system install tests now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-14 16:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:10 UTC
    </footer>
</body>
</html>
