```yaml
number: 12056
title: With explicit indexes, uv still pre-fetches from implicit indexes in some cases
type: issue
state: closed
author: charliermarsh
labels:
  - bug
assignees: []
created_at: 2025-03-07T19:06:28Z
updated_at: 2025-03-07T19:45:47Z
url: https://github.com/astral-sh/uv/issues/12056
synced_at: 2026-01-10T01:57:27Z
```

# With explicit indexes, uv still pre-fetches from implicit indexes in some cases

---

_Issue opened by @charliermarsh on 2025-03-07 19:06_

I noticed that given:

```toml
[project]
name = "project"
version = "0.0.1"
requires-python = ">=3.9"
dependencies = [
    "torch"
]

[[tool.uv.index]]
name = "pytorch-cpu"
url = "https://download.pytorch.org/whl/cpu"
explicit = true

[tool.uv.sources]
torch = [
  { index = "pytorch-cpu" },
]
```

The logs indicate that we still fetch `torch` from PyPI (in addition to correctly fetching it from the PyTorch index; we then use the PyTorch index, so the PyPI fetch is purely extraneous and "ignored"). I think this is a bug in the resolver.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-03-07 19:06_

---

_Label `bug` added by @charliermarsh on 2025-03-07 19:06_

---

_Comment by @charliermarsh on 2025-03-07 19:06_

(Assigning myself since I already figured out where the bug is.)

---

_Referenced in [astral-sh/uv#12057](../../astral-sh/uv/pulls/12057.md) on 2025-03-07 19:28_

---

_Closed by @charliermarsh on 2025-03-07 19:45_

---
