<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using &quot;uv run&quot; etc as Run/Debug configurations in PyCharm - astral-sh/uv #7356</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Using &quot;uv run&quot; etc as Run/Debug configurations in PyCharm</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/7356">#7356</a>
        opened by <a href="https://github.com/tmct">@tmct</a>
        on 2024-09-13 10:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tmct">@tmct</a> on 2024-09-13 10:59</div>
            <div class="timeline-body"><p>Hi,</p>
<p><code>uv run</code> is extremely useful, I use it to launch scripts with a couple of dependencies with the minimum of virtual environment creation faff.</p>
<p>Sometimes I would like to debug the same script right then and there in PyCharm, but it doesn' seem to work out of the box: it doesn't seem to attach the debugger to the Python process when I create &quot;uv run&quot; as a shell script Run Configuration -  I suppose that &quot;uv&quot; is not running as a Python process... Can you think of a good way of achieving this, or would I need to request that JetBrains make some official uv tie-in?</p>
<p>Thanks,
Tom</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-09-13 15:03</div>
            <div class="timeline-body"><p>Hi! We hope for native uv support in PyCharm eventually (https://youtrack.jetbrains.com/issue/PY-70533/Support-package-management-via-uv).</p>
<p>As a workaround, you can use a regular Python run configuration and call <code>uv sync</code> as a before launch external tool.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JalinWang">@JalinWang</a> on 2025-02-28 02:38</div>
            <div class="timeline-body"><p>FYI: Now uv can be used to manage packages [1] [2] while the <code>uv run</code> integration is still on the way [3].</p>
<p>[1] The JetBrains blog: <a href="https://blog.jetbrains.com/pycharm/2025/01/pycharm-2024-3-2/">PyCharm 2024.3.2: uv Package Management Support and More!</a></p>
<p>[2] The YouTrack issue:  https://youtrack.jetbrains.com/issue/PY-70533/Support-package-management-via-uv</p>
<p>[3] A comment from [2]:</p>
<blockquote>
<p>For the uv run, please check https://youtrack.jetbrains.com/issue/PY-79031/Add-uv-run-as-a-run-configuration</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">external</span> added by @konstin on 2025-02-28 11:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-15 16:50</div>
            <div class="timeline-body"><p>Native <code>uv run</code> support has landed in PyCharm 2025.3:</p>
<p><img width="1353" height="934" alt="Image" src="https://github.com/user-attachments/assets/80465fce-f85a-490a-9ea1-a787a8064d11" /></p>
<p>It also includes a warning if the dependencies aren't fresh:</p>
<p><img width="889" height="215" alt="Image" src="https://github.com/user-attachments/assets/9c627833-12a4-43ab-a8bd-eb6008d40ea0" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-12-15 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zmeir">@zmeir</a> on 2025-12-17 12:48</div>
            <div class="timeline-body"><p>Hey, I don't know if this is the place to write this, but the new <code>uv run</code> option in the PyCharm run configuration doesn't take into account the proxy configuration from the PyCharm settings.</p>
<p>So when PyCharm uses <code>uv run</code> behind e.g. a corporate proxy it won't set up the http proxy, which might cause the command to fail (like when it needs to pull a build backed but without the proxy the corporate firewall blocks it).</p>
<p>Specifically, I think this only happens when a build-backend is required.</p>
<p>Example:</p>
<p>pyproject.toml</p>
<pre><code class="language-toml">[project]
name = &quot;uv-run-example&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
requires-python = &quot;&gt;=3.13&quot;
dependencies = []

[build-system]
build-backend = &quot;hatchling.build&quot;
requires = [&quot;hatchling&quot;]

[tool.hatch.build]
packages = [&quot;.&quot;]
</code></pre>
<p>main.py</p>
<pre><code>print(&quot;Hello World&quot;)
</code></pre>
<p>With PyCharm uv run configuration I get the following output:</p>
<p><img width="936" height="665" alt="Image" src="https://github.com/user-attachments/assets/dbaa3e73-c2c9-4641-8a9a-8a69bb0d8556" /></p>
<pre><code>/Users/zmeir/.local/bin/uv run /Users/zmeir/git/uv-run-example/.venv/bin/python /Users/zmeir/git/uv-run-example/main.py 
   Building uv-run-example @ file:///Users/zmeir/git/uv-run-example
  × Failed to build `uv-run-example @ file:///Users/zmeir/git/uv-run-example`
  ├─▶ Failed to resolve requirements from `build-system.requires`
  ├─▶ No solution found when resolving: `hatchling`
  ├─▶ Failed to fetch: `https://pypi.org/simple/hatchling/`
  ├─▶ Request failed after 3 retries
  ├─▶ error sending request for url (https://pypi.org/simple/hatchling/)
  ╰─▶ operation timed out

Process finished with exit code 1
</code></pre>
<p>And when I set the proxy in the run configuration (although it is already defined in my PyCharm settings) it works:</p>
<p><img width="1522" height="663" alt="Image" src="https://github.com/user-attachments/assets/c753178c-cae3-40c2-b8c0-abbdb30d8575" /></p>
<pre><code>/Users/zmeir/.local/bin/uv run /Users/zmeir/git/uv-run-example/.venv/bin/python /Users/zmeir/git/uv-run-example/main.py 
   Building uv-run-example @ file:///Users/zmeir/git/uv-run-example
      Built uv-run-example @ file:///Users/zmeir/git/uv-run-example
Installed 1 package in 6ms
Hello World

Process finished with exit code 0
</code></pre>
<p>Also works when I tell PyCharm to run without uv run:</p>
<p><img width="936" height="665" alt="Image" src="https://github.com/user-attachments/assets/a7209c73-d6d0-4a4b-80aa-3c28c9361db0" /></p>
<pre><code>/Users/zmeir/git/uv-run-example/.venv/bin/python /Users/zmeir/git/uv-run-example/main.py 
Hello World

Process finished with exit code 0
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-17 15:20</div>
            <div class="timeline-body"><p>Can you confirm that those are the correct proxy settings for uv, and that the terminal has the same proxy settings? I tested it with a modified uv build that dumps the env vars and it does pass the env var for me and uv fails when setting an incorrect proxy and <code>UV_NO_CACHE=1</code>.</p>
<p><img width="1439" height="419" alt="Image" src="https://github.com/user-attachments/assets/9f6f42ac-ee80-431d-9f6c-c0d08743fc39" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gmitricheva">@gmitricheva</a> on 2025-12-18 07:22</div>
            <div class="timeline-body"><p>@konstin we will be deprecating the separate 'uv run' run configuration you're checking. Please use the 'Python' run configuration with or without 'run with uv run' parameter, as shown on zmeir's screenshots.</p>
<p>I've created a bug in our tracker https://youtrack.jetbrains.com/issue/PY-86413/run-with-uv-run-does-not-pick-up-proxy-settings
Please comment there if it proves to be a problem on the uv side (which it doesn't seem to be at the moment).</p>
<p>Galina Mitricheva
PyCharm team</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-18 09:35</div>
            <div class="timeline-body"><p>Thanks for the heads up!</p>
<p>I tried looking at the bug report, is it non-public?</p>
<p><img width="1267" height="611" alt="Image" src="https://github.com/user-attachments/assets/9b90f158-7e59-4876-8d4a-4cc8a9076540" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gmitricheva">@gmitricheva</a> on 2025-12-18 09:36</div>
            <div class="timeline-body"><p>Oops, was not intended as such. Opened to all now</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:22 UTC
    </footer>
</body>
</html>
