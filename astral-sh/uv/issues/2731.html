<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relaxed git dependencies - astral-sh/uv #2731</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Relaxed git dependencies</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/2731">#2731</a>
        opened by <a href="https://github.com/mjclarke94">@mjclarke94</a>
        on 2024-03-30 11:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mjclarke94">@mjclarke94</a></div>
            <div class="timeline-body"><p>We have a project structure where we have a <code>core</code> library, and then a number of projects which depend on this core library, and install it as a git dependency pinned either to <code>main</code> or a feature branch.</p>
<p>We currently use <code>poetry</code> (as we develop on mac and deploy to linux, and Pytorch to contend with...), but a pain point with this workflow is that any update to the branch will break the lock file as the commit SHA changes. As a default behaviour, this makes a lot of sense, but it means any time you update main, you either need to rerun dependency resolution or manually change the commit SHA in the lock file, both of which are a pain.</p>
<p>It would be nice to have an option to relax git dependencies in <code>overrides.txt</code>, effectively saying &quot;I know that the commit SHA is wrong, but I expected this, so carry on as you were&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-01 14:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/benmosher">@benmosher</a> on 2024-05-16 13:22</div>
            <div class="timeline-body"><p>I am running into a similar issue and wondering why the commit hash is updated every time the lockfile is regenerated.</p>
<p>If the commit is still reachable from the branch tip, why isn&#x27;t the lockfile&#x27;s commit still considered a valid locked version?</p>
<p>Not unlike how a <code>package~=1.0</code> can release v1.1 but my lockfile can still stay at <code>1.0</code> until I&#x27;m ready to upgrade.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:40 UTC
    </footer>
</body>
</html>
