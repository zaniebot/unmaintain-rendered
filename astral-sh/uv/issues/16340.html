<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incorrect 403 Forbidden during uvx with non existing package - astral-sh/uv #16340</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Incorrect 403 Forbidden during uvx with non existing package</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16340">#16340</a>
        opened by <a href="https://github.com/maltevesper">@maltevesper</a>
        on 2025-10-17 09:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/maltevesper">@maltevesper</a> on 2025-10-17 09:52</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Trying to run <code>uvx identify-cli</code> sends the user on a wild goose chase with a spurious 403 error that is not really there. In short, I do not expect to get a <code>403 Forbidden</code> when looking for a non existing package, when the same configuration works for an existing package.</p>
<p>Environment:
Corparate pypi mirror accessible without credentials
identify-cli is part of identify, so it is correct that uvx errors, but the erro message should be that there is no such package, not a 403</p>
<h1>Quick summary</h1>
<p>uvx identify-cli</p>
<pre><code>  × No solution found when resolving tool dependencies:
  ╰─▶ Because identify-cli was not found in the package registry and you require identify-cli, we can conclude that your requirements are unsatisfiable.

      hint: An index URL (https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple) could not be queried due to a lack of valid authentication credentials (403 Forbidden).
</code></pre>
<p>uvx --from identify identify-cli uv.lock</p>
<pre><code>[&quot;file&quot;, &quot;non-executable&quot;, &quot;text&quot;]
</code></pre>
<h1>Relevant Verbose output</h1>
<p>uvx -v identify-cli</p>
<pre><code>DEBUG No cache entry for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify-cli/
DEBUG Checking netrc for credentials for https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify-cli/
DEBUG Acquired lock for `credentials store`
DEBUG Released lock at `/home/user/.local/share/uv/credentials/credentials.toml.lock`
DEBUG No credentials file found at /home/user/.local/share/uv/credentials/credentials.toml
DEBUG Indexes search failed because of status code failure: 403 Forbidden
DEBUG Searching for a compatible version of identify-cli (*)
DEBUG No compatible version found for: identify-cli
</code></pre>
<p>uvx --from identify identify-cli uv.lock</p>
<pre><code>DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.14
DEBUG Solving with target Python version: &gt;=3.14
DEBUG Adding direct dependency: identify*
DEBUG Found stale response for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
DEBUG Sending revalidation request for: https.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
DEBUG Found modified response for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
WARN Server returned unusable 304 for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
DEBUG Searching for a compatible version of identify (*)
DEBUG Selecting: identify==2.6.15 [compatible] (identify-2.6.15-py2.py3-none-any.whl)
DEBUG Found fresh response for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/packages/packages/0f/1c/e5fd8f973d4f375adb21565739498e2e9a1e54c858a97b9a8ccfdc81da9b/identify-2.6.15-py2.py3-none-any.whl
DEBUG Tried 1 versions: identify 1
DEBUG marker environment resolution took 0.096s
Resolved 1 package in 97ms
</code></pre>
<h3>Platform</h3>
<p>Linux 6.6.87.2-microsoft-standard-WSL2 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>0.9.1</p>
<h3>Python version</h3>
<p>3.14.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @maltevesper on 2025-10-17 09:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-10-20 11:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:27:06 UTC
    </footer>
</body>
</html>
