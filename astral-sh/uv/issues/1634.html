<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question: How to use uv with poetry on CI? - astral-sh/uv #1634</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Question: How to use uv with poetry on CI?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1634">#1634</a>
        opened by <a href="https://github.com/Warchant">@Warchant</a>
        on 2024-02-18 09:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Warchant">@Warchant</a> on 2024-02-18 09:06</div>
            <div class="timeline-body"><p>Is it possible to use uv to speed-up <code>poetry install</code> on CI?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Question: How to use with poetry?" to "Question: How to use uv with poetry on CI?" by @Warchant on 2024-02-18 11:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woutervh">@woutervh</a> on 2024-02-18 13:34</div>
            <div class="timeline-body"><p>for now:</p>
<pre><code>poetry export &gt; requirements.txt
uv venv
uv pip install -r requirements
poetry install
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 17:04</div>
            <div class="timeline-body"><p>We'd need to add support for reading Poetry's dependency format, I'm not sure if we will.</p>
<p>Related:</p>
<ul>
<li>#1650</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-02-18 17:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Warchant">@Warchant</a> on 2024-02-18 18:07</div>
            <div class="timeline-body"><blockquote>
<p>for now:</p>
<pre><code>poetry export &gt; requirements.txt
uv venv
uv pip install -r requirements
poetry install
</code></pre>
</blockquote>
<p>This works, but <code>poetry export &gt; requirements.txt</code> creates UTF16-LE file, while <code>uv pip install -r requirements.txt</code> expects UTF-8, so I manually need to re-save it in UTF8. It is not a problem, but would be cool if <code>uv</code> would detect input file encoding...</p>
<pre><code>uv pip install -r .\requirements.txt
error: failed to read from file `.\requirements.txt`
  Caused by: stream did not contain valid UTF-8
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Secrus">@Secrus</a> on 2024-02-19 00:11</div>
            <div class="timeline-body"><blockquote>
<p>for now:</p>
<pre><code>poetry export &gt; requirements.txt
uv venv
uv pip install -r requirements
poetry install
</code></pre>
</blockquote>
<p>Do not redirect stream from <code>poetry export</code>, use <code>-o</code> flag to specify output file (it properly handles user messages and the actual dependency output).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-25 20:30</div>
            <div class="timeline-body"><p>As of https://github.com/astral-sh/uv/pull/2633 we support reading this directly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-03-25 20:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:33:55 UTC
    </footer>
</body>
</html>
