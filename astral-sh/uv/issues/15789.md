```yaml
number: 15789
title: "Bad error message when pyproject.toml for group doesn't exist"
type: issue
state: closed
author: konstin
labels:
  - help wanted
  - error messages
assignees: []
created_at: 2025-09-11T13:40:46Z
updated_at: 2025-09-14T13:49:36Z
url: https://github.com/astral-sh/uv/issues/15789
synced_at: 2026-01-10T01:57:35Z
```

# Bad error message when pyproject.toml for group doesn't exist

---

_Issue opened by @konstin on 2025-09-11 13:40_

uv shows an incorrect error message when the `pyproject.toml` for a group doesn't exist, but somewhere above it there's a `pyproject.toml` that isn't usable (but should not have been checked in the first place):

```toml
[project]
name = "uv"
version = "0.8.17"

[tool.uv]
managed = false
```

```console
$ uv pip compile --group does/not/exist/pyproject.toml:dev
error: Failed to read dependency groups from: does/not/exist/pyproject.toml
  Caused by: The project is marked as unmanaged: `/home/konsti/projects/foo`
```

Similarly, with an invalid `pyproject.toml` that's unrelated to out attempt at reading a dependency group:

```toml
[project]
name = "uv%%%"
version = "0.8.17"
```

```console
$ uv pip compile --group does/not/exist/pyproject.toml:dev
error: Failed to read dependency groups from: does/not/exist/pyproject.toml
  Caused by: Failed to parse: `pyproject.toml`
  Caused by: TOML parse error at line 2, column 8
  |
2 | name = "uv%%%"
  |        ^^^^^^^
Not a valid package or extra name: "uv%%%". Names must start and end with a letter or digit and may only contain -, _, ., and alphanumeric characters.
```

We shouldn't read that `pyproject.toml` at all, we should error directly when we don't find `does/not/exist/pyproject.toml`.

---

_Label `error messages` added by @konstin on 2025-09-11 13:40_

---

_Label `help wanted` added by @konstin on 2025-09-11 13:40_

---

_Assigned to @charliermarsh by @charliermarsh on 2025-09-14 01:52_

---

_Referenced in [astral-sh/uv#15831](../../astral-sh/uv/pulls/15831.md) on 2025-09-14 01:55_

---

_Closed by @charliermarsh on 2025-09-14 13:49_

---
