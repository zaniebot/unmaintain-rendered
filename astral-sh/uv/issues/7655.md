```yaml
number: 7655
title: "Environment variable for `uv venv seed`?"
type: issue
state: closed
author: ReubenFrankel
labels:
  - configuration
assignees: []
created_at: 2024-09-24T09:04:54Z
updated_at: 2025-01-19T19:52:57Z
url: https://github.com/astral-sh/uv/issues/7655
synced_at: 2026-01-10T01:57:17Z
```

# Environment variable for `uv venv seed`?

---

_Issue opened by @ReubenFrankel on 2024-09-24 09:04_

Hi! I'm using a tool called [Meltano](https://docs.meltano.com/) which supports `uv` as an alternate virtual environment backend. In our case, I would be great if `pip` was still bundled with the venvs `uv` creates for legacy reasons, which I can see is possible with the `uv venv --seed`. Since we don't have direct control over how `uv venv` runs behind the scenes, would it be possible to expose configuration for this via an environment variable (e.g. `UV_VENV_SEED=true`)?

Worth noting that I was running into #6593 initially - here is part of the message I sent in their Slack:

> I'm trying out `uv` as a venv backend, and it has been great up until running the `notebook` utility. Some of our notebooks contain an initial cell to `pip install` dependencies to the venv - with `uv`, this no longer works properly because `pip`  isn't bundled with the venv, so dependencies are installed to the system Python instead and then cannot be imported later on in the context of the venv Python.

---

_Label `configuration` added by @charliermarsh on 2024-09-24 12:18_

---

_Comment by @zanieb on 2024-09-24 12:59_

I have no qualms with exposing this via an environment variable, though, since nobody else has asked for this, I would appreciate if you opened an issue with Meltano asking for this flag too? The environment seeding concept exists separately from uv.

---

_Comment by @ReubenFrankel on 2024-09-24 13:47_

Yeah, no problem - appreciate it's a bit of a niche issue.

---

_Referenced in [meltano/meltano#8796](../../meltano/meltano/issues/8796.md) on 2024-09-24 13:56_

---

_Comment by @edgarrmondragon on 2024-09-27 22:13_

FWIW, virtualenv does support `VIRTUALENV_NO_SEED` and `VIRTUALENV_WITHOUT_PIP` (seeding is the default).

---

_Comment by @woutervh on 2024-12-05 14:43_

I was going to open a new issue, but I'll add it here:


Starting from a pyproject.toml we can create the venv via "uv sync".

How can we seed this venv with pip, equivalent to "uv venv  --seed"?
This is to ease the transition for end-users.

Maybe an env-variable  UV_VENV_SEED?

---

_Comment by @ssbarnea on 2025-01-16 16:11_

I am trying to improve the current implementation of https://github.com/tox-dev/tox-uv but this bug seems to be a major source of incompatibility, as it makes the uv created venvs incomptible with python's own venv ones.

---

_Comment by @charliermarsh on 2025-01-16 16:15_

By ‚Äúbug‚Äù, do you mean, the inability to configure this via an environment variable? It‚Äôs already configurable on the command line.

---

_Comment by @edgarrmondragon on 2025-01-17 04:36_

Are the Astral folks open to a contribution adding support for the env var?

---

_Comment by @charliermarsh on 2025-01-17 04:40_

Seems fine to me.

---

_Comment by @charliermarsh on 2025-01-17 16:02_

I can do it today.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-01-17 16:02_

---

_Referenced in [astral-sh/uv#10715](../../astral-sh/uv/pulls/10715.md) on 2025-01-17 16:47_

---

_Closed by @charliermarsh on 2025-01-17 17:08_

---

_Comment by @edgarrmondragon on 2025-01-17 18:34_

thanks @charliermarsh!

---

_Comment by @ReubenFrankel on 2025-01-17 19:34_

Thanks! üòé

---

_Comment by @341383 on 2025-01-19 19:15_

Thanks for this! I'm poc'ing uv for our enterprise stack and was ironically looking for a solution the day that this was shipped. I've had the chance to do some initial testing and did have a question:

This seems to apply only when the environment is explicitly created with the `uv venv` command. However, if cloning a repo containing a uv.lock and then proceeding to create the venv implicitly with `uv sync`, the `UV_VENV_SEED` env variable is not respected. This was also observed with `uvx`.

Is this intentional or would it be possible to have creation of all (explicit and implicit) venvs respect the `UV_VENV_SEED` envVar?

---

_Comment by @charliermarsh on 2025-01-19 19:52_

Yes, it's intentional. Enforcing it "everywhere" would be a separate decision.

---
