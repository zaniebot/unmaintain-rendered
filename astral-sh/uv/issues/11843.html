<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adding dependency from git to library results in error when installing with pip - astral-sh/uv #11843</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Adding dependency from git to library results in error when installing with pip</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11843">#11843</a>
        opened by <a href="https://github.com/yalap13">@yalap13</a>
        on 2025-02-27 23:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yalap13">@yalap13</a></div>
            <div class="timeline-body">Question
<p>I am working on a library dependent on a library only available from the Github repository. Since the source of the dependency is in <code>[tool.uv.sources]</code>, pip is unable to install the library as it tries to find a distibution on PyPI.</p>
<p>I could modify the pyproject.toml to include the source in the <code>project.dependencies</code> section as introduced in PEP633 but is there a way for uv to automatically add the source in the <code>project.dependencies</code> section or is there something else I have overlooked?</p>
<p>I am adding the dependency with <code>uv add git+url</code>.</p>
<p>Thanks in advance!</p>
Platform
<p>Linux 6.12.15-200.fc41.x86_64 x86_64 GNU/Linux</p>
Version
<p>uv 0.6.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/yalap13">@yalap13</a> on 2025-02-27 23:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-27 23:26</div>
            <div class="timeline-body"><p>You can use <code>--raw-sources</code> to avoid transforming it to a <code>tool.uv.sources</code> entry.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yalap13">@yalap13</a> on 2025-02-28 00:03</div>
            <div class="timeline-body"><p>This works as long as I manually add the following to the <code>pyproject.toml</code>:</p>
<pre><code>[tool.hatch.metadata]
allow-direct-references = true
</code></pre>
<p>Is there a way to configure the project so that the default behaviour is to be compatible with a pip installation?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/yalap13">@yalap13</a> on 2025-05-14 20:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:32 UTC
    </footer>
</body>
</html>
