<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is calling `ld` with no arguments when detecting Linux environment intended? - astral-sh/uv #9241</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Is calling <code>ld</code> with no arguments when detecting Linux environment intended?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9241">#9241</a>
        opened by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a>
        on 2024-11-19 20:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a></div>
            <div class="timeline-body"><p>This is purely observational, there is no known bug this is creating.</p>
<p>But I&#x27;m looking at adopting uv for bootstrapping the Python executable into our environment, and I happen to be running with trace logs and  I noticed the following output on running <code>uv venv --python 3.11.10</code>:</p>
<pre><code>#11 0.409 TRACE ld path: /lib64/ld-linux-x86-64.so.2
#11 0.410 TRACE stdout output from `ld`: &quot;&quot;
#11 0.410 TRACE stderr output from `ld`: &quot;Usage: ld.so [OPTION]... EXECUTABLE-FILE [ARGS-FOR-PROGRAM...]\nYou have invoked `ld.so&#x27;, the helper program for shared library executables.\nThis program usually lives in the file `/lib/ld.so&#x27;, and special directives\nin executable files using ELF shared libraries tell the system&#x27;s program\nloader to load the helper program from this file.  This helper program loads\nthe shared libraries needed by the program executable, prepares the program\nto run, and runs it.  You may invoke this helper program directly from the\ncommand line to load and run an ELF executable file; this is like executing\nthat file itself, but always uses this helper program from the file you\nspecified, instead of the helper program file specified in the executable\nfile you run.  This is mostly of use for maintainers to test new versions\nof this helper program; chances are you did not intend to run this program.\n\n  --list                list all dependencies and how they are resolved\n  --verify              verify that given object really is a dynamically linked\n\t\t\tobject we can handle\n  --inhibit-cache       Do not use /etc/ld.so.cache\n  --library-path PATH   use given PATH instead of content of the environment\n\t\t\tvariable LD_LIBRARY_PATH\n  --inhibit-rpath LIST  ignore RUNPATH and RPATH information in object names\n\t\t\tin LIST\n  --audit LIST          use objects named in LIST as auditors\n&quot;
#11 0.410 TRACE Tried to find musl version by running `&quot;/lib64/ld-linux-x86-64.so.2&quot;`, but failed: Could not find musl version in output of: `/lib64/ld-linux-x86-64.so.2`
</code></pre>
<p>It looks like <code>ld</code> was perhaps called without any arguments and it&#x27;s giving the help docs back, is this intended?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-11-19 20:01</div>
            <div class="timeline-body"><p>I should note this is running inside docker and getting uv by running:</p>
<pre><code>COPY --from=ghcr.io/astral-sh/uv:0.5.3 /uv /uvx /bin/
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-19 20:03</div>
            <div class="timeline-body"><p>I think we are explicitly trying to parse the help documentation, yeah.</p>
<p>https://github.com/astral-sh/uv/blob/d08bfee718372fc2a271a87e4c5b673874068554/crates/uv-python/src/libc.rs#L138-L146</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-19 20:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-11-19 20:04</div>
            <div class="timeline-body"><p>Thanks, makes sense (in the sort of hacky way that&#x27;s required sometimes).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-11-19 20:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:35:35 UTC
    </footer>
</body>
</html>
