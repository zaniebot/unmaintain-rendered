<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `all-extras` configuration for `uv sync` command - astral-sh/uv #8607</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support <code>all-extras</code> configuration for <code>uv sync</code> command</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/8607">#8607</a>
        opened by <a href="https://github.com/zmeir">@zmeir</a>
        on 2024-10-27 11:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zmeir">@zmeir</a></div>
            <div class="timeline-body"><p>The <code>tool.uv.pip</code> configuration section allows setting <code>all-extras = true</code> which affects all subcommands in the <code>uv pip</code> namespace. Is it possible to add the same configuration for the <code>[tool.uv]</code> table? This will allow, for example, to use <code>uv sync</code> to sync all extras automatically (instead of having to type <code>uv sync --all-extras</code>).</p>
<p>The current section in the documentation, for reference:<br>
<img src="https://github.com/user-attachments/assets/41975282-49b9-447d-9791-f08ad52e3e98" alt="image"></p>
<pre><code>$ uv --version
uv 0.4.27 (36b729e92 2024-10-25)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-27 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-27 13:45</div>
            <div class="timeline-body"><p>Seems fine to me, though it might be kind of hard to get the interaction with <code>--extra</code> right. We might want to add a <code>default-extras</code> option like <code>default-groups</code> instead? #8471</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zmeir">@zmeir</a> on 2024-10-27 13:48</div>
            <div class="timeline-body"><blockquote>
<p>We might want to add a <code>default-extras</code> option like <code>default-groups</code> instead? #8471</p>
</blockquote>
<p>That sounds great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/superlopuh">@superlopuh</a> on 2024-12-12 08:35</div>
            <div class="timeline-body"><p>I would love this also, we have a setup with multiple optional dependency groups, all of which make sense to install in a developer environment to make sure that the tests still pass.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-12 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vivienm">@vivienm</a> on 2024-12-12 22:42</div>
            <div class="timeline-body"><p>There is a neat workaround used in Litestar:</p>
<ul>
<li>A <code>full</code> extra includes all other extras (https://github.com/litestar-org/litestar/blob/f31ef97d6cb725bf9898f55abbb5150b36823f27/pyproject.toml#L85-L87)</li>
<li><code>litestar[full]</code> is part of the <code>dev</code> dependency group (https://github.com/litestar-org/litestar/blob/f31ef97d6cb725bf9898f55abbb5150b36823f27/pyproject.toml#L119-L121)</li>
</ul>
<p>This way, the default developer environment comes with all dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pygarap">@pygarap</a> on 2025-09-02 14:53</div>
            <div class="timeline-body"><p>Adding <code>include-extra</code> or <code>include-optional</code> to the dependency-groups, would be perfect:</p>
<pre><code>[project.optional-dependencies]
plot = [
    &quot;matplotlib&gt;=3.6.3&quot;
]

[dependency-groups]
dev = [
    { include-group = &quot;lint&quot; },
    { include-extra = &quot;plot&quot; }
]
lint = [
    &quot;ruff&gt;=0.11.13&quot;,
    &quot;ty&gt;=0.0.1a16&quot;,
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zmeir">@zmeir</a> on 2025-09-02 16:46</div>
            <div class="timeline-body"><p>@tallerasaf keep in mind that dependency-groups aren’t just a uv thing - they are a part of the Python packaging standards as described in <a href="https://peps.python.org/pep-0735/">PEP 735</a>. So implementing what you ask means either breaking the standard or submitting (and accepting) a new PEP.</p>
<p>I don’t suppose breaking the standard is desirable, and adding this capability to the standard seems to contradict the PEP, so I doubt it will be possible.</p>
<p>But don’t get me wrong, I was also hoping for something like that :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pygarap">@pygarap</a> on 2025-09-02 17:37</div>
            <div class="timeline-body"><p>@zmeir We can do it in <code>[tool.uv.dependency-groups]</code> instead of <code>[dependency-groups]</code>:</p>
<pre><code>[project.optional-dependencies]
plot = [
    &quot;matplotlib&gt;=3.6.3&quot;
]
[dependency-groups]
dev = [
    { include-group = &quot;lint&quot; }
]
lint = [
    &quot;ruff&gt;=0.11.13&quot;,
    &quot;ty&gt;=0.0.1a16&quot;,
]
[tool.uv.dependency-groups]
dev = [
    { include-extra = &quot;plot&quot; }
]
</code></pre>
<p><img alt="Image" src="https://github.com/user-attachments/assets/5b4f4818-33be-4724-a0df-cb1d30d3e8bb"></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:35:06 UTC
    </footer>
</body>
</html>
