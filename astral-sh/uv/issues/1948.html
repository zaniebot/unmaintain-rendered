<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit does not include check for new extras - astral-sh/uv #1948</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Audit does not include check for new extras</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1948">#1948</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-02-24 05:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-24 05:05</div>
            <div class="timeline-body"><p>Adding an extra does not update the package without <code>--upgrade</code>, e.g.</p>
<pre><code>❯ uv pip install packse
...
❯ packse index up
Using index commands requires installation with extra 'index'.
❯ uv pip install &quot;packse[index]&quot;
Audited 1 package in 10ms
❯ uv pip install &quot;packse[index]&quot; --upgrade
Resolved 33 packages in 368ms
Downloaded 1 package in 102ms
Installed 1 package in 13ms
 + pypiserver==2.0.1
</code></pre>
<p>If feasible, we should include this in audits.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-02-24 05:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Audit does not include checking for extras" to "Audit does not include check for new extras" by @zanieb on 2024-02-24 06:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-02-24 11:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skshetry">@skshetry</a> on 2024-02-24 14:36</div>
            <div class="timeline-body"><p>Maybe https://github.com/astral-sh/uv/issues/1651 is also related?</p>
<p>It does not pick any new dependencies, on either editable or non-editable installs.</p>
<pre><code class="language-console">uv pip install &quot;.&quot;
Audited 1 package in 2ms
</code></pre>
<p>But the <code>--upgrade</code> works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-24 14:41</div>
            <div class="timeline-body"><p>I think editable are slightly different, but I’ll be looking into both this weekend or early next week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-24 18:36</div>
            <div class="timeline-body"><p>I'm unable to reproduce this. Is it possible you're on an older version? (We did fix this in https://github.com/astral-sh/uv/pull/1727.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-24 19:06</div>
            <div class="timeline-body"><p>Yep older version — sorry so many shims around.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-02-24 19:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:23 UTC
    </footer>
</body>
</html>
