<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider adding workspace members as sources in `uv init` - astral-sh/uv #5388</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider adding workspace members as sources in `uv init`</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/5388">#5388</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-07-24 00:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-24 00:43</div>
            <div class="timeline-body"><p>Initializing as workspace member adds it to the root package workspace members but does not add it as a dependency, e.g.:</p>
<pre><code>❯ uv init
❯ uv init foo
Adding `foo` as member of workspace `/Users/zb/workspace/example`
Initialized project `foo` at `/Users/zb/workspace/example/foo`
❯ cat pyproject.toml
[project]
name = &quot;example&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = []

[tool.uv]
dev-dependencies = []

[tool.uv.workspace]
members = [&quot;foo&quot;]
</code></pre>
<p><code>uv add</code> will do so:</p>
<pre><code>❯ uv add foo
❯ cat pyproject.toml
[project]
name = &quot;example&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = [
    &quot;foo&quot;,
]

[tool.uv]
dev-dependencies = []

[tool.uv.workspace]
members = [&quot;foo&quot;]

[tool.uv.sources]
foo = { workspace = true }
</code></pre>
<p>We should something like:</p>
<ul>
<li>Add a toggle to control adding to the current workspace in a single invocation</li>
<li>Determine the default behavior</li>
<li>If not added by default, show a hint suggesting how to add it</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-07-24 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2024-07-24 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">projects</span> added by @zanieb on 2024-07-24 00:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-24 00:49</div>
            <div class="timeline-body"><p>Not in love with a toggle for this, let's just pick a good default IMO. What does Cargo do?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> removed by @zanieb on 2024-08-20 18:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-14 22:22</div>
            <div class="timeline-body"><p>I think it makes sense to add it as a dep here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @zanieb on 2024-09-15 13:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jakubkunert">@jakubkunert</a> on 2024-10-08 18:03</div>
            <div class="timeline-body"><p>I would like to do it, but I need some hint or consultation here.</p>
<ul>
<li>Do we assume here that we need all 3 types of deps: production/dev/optional or just production?</li>
<li>Do we want to create new functions for above? Current implementation of <code>add_dependency(...)</code>  is connected strictly with implementation of <code>uv add</code> with usage of <code>requirements</code> which is not used in scope of <code>init</code> implementation.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mahmudsudo">@mahmudsudo</a> on 2024-11-04 20:10</div>
            <div class="timeline-body"><p>can i take up this issue?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/11404.html">astral-sh/uv#11404</a> on 2025-02-10 20:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/14464.html">astral-sh/uv#14464</a> on 2025-07-05 03:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:31 UTC
    </footer>
</body>
</html>
