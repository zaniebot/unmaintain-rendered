<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inconsistent pyproject.toml handling for `uv pip install` for `git+` and local install - astral-sh/uv #14609</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Inconsistent pyproject.toml handling for `uv pip install` for `git+` and local install</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/14609">#14609</a>
        opened by <a href="https://github.com/MilkClouds">@MilkClouds</a>
        on 2025-07-14 15:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MilkClouds">@MilkClouds</a> on 2025-07-14 15:53</div>
            <div class="timeline-body"><h3>Summary</h3>
<pre><code class="language-sh">$ uv pip install git+https://github.com/open-world-agents/open-world-agents
$ uv pip show owa-core
Name: owa-core
Version: 0.5.3
Location: /opt/conda/envs/owa/lib/python3.11/site-packages
Requires: av, griffe, loguru, pillow, pydantic, pyyaml, requests
Required-by: agent, mcap-owa-support, owa, owa-cli, owa-env-desktop, owa-env-gst, owa-msgs

$ git clone --depth=1 https://github.com/open-world-agents/open-world-agents
$ uv pip install open-world-agents
Name: owa-core
Version: 0.5.3
Summary: Core framework and registry system for Open World Agents
Home-page: 
Author: 
Author-email: 
License: MIT
Location: /opt/conda/envs/owa/lib/python3.11/site-packages
Editable project location: /workspace/projects/owa-core
Requires: av, griffe, loguru, pillow, pydantic, pyyaml, requests
Required-by: agent, mcap-owa-support, owa, owa-cli, owa-env-desktop, owa-env-gst, owa-msgs
</code></pre>
<p>There's evident inconsistent handling for <code>git+</code> install and local install. I do not care about other issue, but inconsistent behavior for handling <code>[tool.uv.sources]</code> section's <code>editable</code> option matters to me. I need a way to ignore the <code>editable=true</code> configured in <code>[tool.uv.sources]</code> for <code>uv pip install</code>.</p>
<p>Also I have some questions:</p>
<ul>
<li>Is <code>[tool.uv.sources]</code> consideration in <code>uv pip install</code> intended or not? I have no clue about it's intended or not, but with my brief thought, it would be more admirable for <code>[tool.uv.sources]</code> to be ignored to match <code>pip install</code>'s behavior. Of course, introducing argument or any way to ignore it or not may be more helpful.</li>
</ul>
<h3>Platform</h3>
<p>Ubuntu 22.04</p>
<h3>Version</h3>
<p>uv 0.7.20</p>
<h3>Python version</h3>
<p>3.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MilkClouds on 2025-07-14 15:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MilkClouds">@MilkClouds</a> on 2025-07-14 15:54</div>
            <div class="timeline-body"><p>For reader's convenience, I attach <code>pyproject.toml</code> of open-world-agents repo:</p>
<pre><code>[project]
name = &quot;owa&quot;
version = &quot;0.5.3&quot;
description = &quot;Everything you need to build state-of-the-art foundation multimodal desktop agent, end-to-end.&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.11&quot;
dependencies = [
    &quot;mcap-owa-support==0.5.3&quot;,
    &quot;ocap==0.5.3&quot;,
    &quot;owa-cli==0.5.3&quot;,
    &quot;owa-core==0.5.3&quot;,
    &quot;owa-env-desktop==0.5.3&quot;,
    &quot;owa-env-gst==0.5.3&quot;,
    &quot;owa-msgs==0.5.3&quot;,
]

[tool.uv.sources]
mcap-owa-support = { path = &quot;projects/mcap-owa-support&quot;, editable = true }
ocap = { path = &quot;projects/ocap&quot;, editable = true }
owa-cli = { path = &quot;projects/owa-cli&quot;, editable = true }
owa-core = { path = &quot;projects/owa-core&quot;, editable = true }
owa-env-desktop = { path = &quot;projects/owa-env-desktop&quot;, editable = true }
owa-env-gst = { path = &quot;projects/owa-env-gst&quot;, editable = true }
owa-msgs = { path = &quot;projects/owa-msgs&quot;, editable = true }

[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;

[tool.hatch.build.targets.wheel]
bypass-selection = true
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-14 16:18</div>
            <div class="timeline-body"><p>I believe it's intentional we respect the <code>tool.uv.sources</code> entries in a Git dependency, we consider that an installation from a &quot;source tree&quot;. You can use <code>--no-sources</code> to ignore them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-07-14 16:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-07-14 16:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-16 13:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:04 UTC
    </footer>
</body>
</html>
