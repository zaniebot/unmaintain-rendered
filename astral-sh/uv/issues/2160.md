```yaml
number: 2160
title: Show direct dependencies with uv pip compile
type: issue
state: closed
author: jmbond
labels:
  - enhancement
  - compatibility
assignees: []
created_at: 2024-03-04T15:52:06Z
updated_at: 2024-05-09T14:43:47Z
url: https://github.com/astral-sh/uv/issues/2160
synced_at: 2026-01-10T01:57:05Z
```

# Show direct dependencies with uv pip compile

---

_Issue opened by @jmbond on 2024-03-04 15:52_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->
Hello! Have you considered adding `# via ...` for direct dependencies as is currently done by pip-tools `pip-compile`?

Consider the following `pyproject.toml`:
```toml
[project]
name = "uv_test"
dynamic = ["version"]
dependencies = ["pandas", "numpy"]
```
```bash
$ uv pip compile -o requirements.txt pyproject.toml
Resolved 6 packages in 10ms
# This file was autogenerated by uv via the following command:
#    uv pip compile -o requirements.txt pyproject.toml
numpy==1.26.4
    # via pandas
pandas==2.2.1
python-dateutil==2.9.0.post0
    # via pandas
pytz==2024.1
    # via pandas
six==1.16.0
    # via python-dateutil
tzdata==2024.1
    # via pandas
```
```bash
$ pip-compile -o requirements.txt pyproject.toml
#
# This file is autogenerated by pip-compile with Python 3.12
# by the following command:
#
#    pip-compile --output-file=requirements.txt pyproject.toml
#
numpy==1.26.4
    # via
    #   pandas
    #   uv_test (pyproject.toml)
pandas==2.2.1
    # via uv_test (pyproject.toml)
python-dateutil==2.9.0.post0
    # via pandas
pytz==2024.1
    # via pandas
six==1.16.0
    # via python-dateutil
tzdata==2024.1
    # via pandas
```
As you can see, `pip-compile` adds `# via uv_test (pyproject.toml)` for the direct dependencies. I think it is useful to add this information to the `requirements.txt` file.

```bash
$ uv --version
uv 0.1.13
$ pip-compile --version
pip-compile, version 7.4.0
```

---

_Label `compatibility` added by @zanieb on 2024-03-04 15:53_

---

_Label `enhancement` added by @zanieb on 2024-03-04 15:53_

---

_Comment by @charliermarsh on 2024-03-04 16:01_

I believe this is the same as https://github.com/astral-sh/uv/issues/1343 (just with a `pyproject.toml` instead of a `requirements.txt`), gonna merge into that issue.

---

_Closed by @charliermarsh on 2024-03-04 16:01_

---

_Comment by @jmbond on 2024-03-04 16:19_

You are indeed correct @charliermarsh. Sorry for not finding that issue.

---

_Comment by @charliermarsh on 2024-03-04 17:05_

No prob.

---

_Comment by @charliermarsh on 2024-05-09 14:43_

Supported in the next version via https://github.com/astral-sh/uv/pull/3269.

---
