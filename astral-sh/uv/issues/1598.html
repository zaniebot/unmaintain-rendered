<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhancement Request: `uv pip install` with explicit venv path - astral-sh/uv #1598</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Enhancement Request: <code>uv pip install</code> with explicit venv path</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1598">#1598</a>
        opened by <a href="https://github.com/charlesnicholson">@charlesnicholson</a>
        on 2024-02-17 16:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charlesnicholson">@charlesnicholson</a></div>
            <div class="timeline-body"><p>Thanks for <code>uv</code>, it&#x27;s very impressive! :)</p>
<p>Our build system creates and manages a virtual environment that&#x27;s used for later parts of the build, and to host editably-installed packages that have console script entry points.</p>
<p>To remove complexity (environment variables, python versions, PATH shenanigans) and potential ambiguity, we try to avoid modally entering the virtual environment via <code>activate</code>, and instead invoke <code>pip</code> via the venv&#x27;s python:</p>
<p><code>/path/to/my/venv/bin/python -m pip ...</code></p>
<p>(We do this on mac/linux and also windows, but I&#x27;m just using the non-windows forms here)</p>
<p>Right now, <code>uv pip</code> seems to require running inside of a modally-activated venv. It would be very handy if we could give <code>uv pip</code> an explicit path to the virtual environment directory, similar to how <code>uv venv</code> can be given an explicit python interpreter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-17 16:34</div>
            <div class="timeline-body"><p>Hi! Thank you :)</p>
<p>You can provide the virtual environment path via the <code>VIRTUAL_ENV</code> variable or, if you run <code>python -m uv</code>, we&#x27;ll automatically detect the virtual environment (#1504).</p>
<p>We may consider adding this as a CLI option too, I think there are a couple other similar issues about that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-17 16:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charlesnicholson">@charlesnicholson</a> on 2024-02-17 16:36</div>
            <div class="timeline-body"><p>Thanks for the quick response, and sorry I missed the <code>VIRTUAL_ENV</code> variable; if I can set that before spawning <code>uv</code> that&#x27;ll totally work for us. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charlesnicholson">@charlesnicholson</a> on 2024-02-17 16:38</div>
            <div class="timeline-body"><p><code>python -m uv</code> is interesting and I think even nicer; would it be interesting to have an option like <code>--seed</code> for <code>uv venv</code> that also installed <code>uv</code> into the new venv? That would handle bootstrapping pretty elegantly, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-17 17:14</div>
            <div class="timeline-body"><p>Hm yeah it seems like we should probably stub <code>uv</code> into the environment by default so that you can use <code>python -m uv</code>. I&#x27;m not exactly sure what that would look like.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charlesnicholson">@charlesnicholson</a> on 2024-02-17 19:34</div>
            <div class="timeline-body"><p>If the Python <code>uv</code> package uses uv functionality by bundling the executable, it might be nice to have a venv-creation bootstrap copy-in the <code>uv</code> executable that invoked the <code>venv</code> command. That would be nice for pinning versions etc; for a single-file executable like this, we&#x27;d version it by just checking it into git.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 08:10</div>
            <div class="timeline-body"><p>Tracking that in <a href="https://github.com/astral-sh/uv/issues/1632">astral-sh/uv#1632</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 08:12</div>
            <div class="timeline-body"><p>Ah and here&#x27;s the other one for the CLI option, going to close this in favor of those <a href="https://github.com/astral-sh/uv/issues/1396">astral-sh/uv#1396</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 08:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:39 UTC
    </footer>
</body>
</html>
