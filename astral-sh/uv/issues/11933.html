<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System python install to an exact path - astral-sh/uv #11933</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>System python install to an exact path</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11933">#11933</a>
        opened by <a href="https://github.com/ThermodynamicBeta">@ThermodynamicBeta</a>
        on 2025-03-03 20:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ThermodynamicBeta">@ThermodynamicBeta</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I maintain a project at work where we're considering using uv to manage system python versions.</p>
<p>I would like to install a system python to a path like C:\Python310\python.exe, that is where it is now when we install through the official python installer.</p>
<p>I think this is a bit of a hassle with uv right now, you need to use --install-dir and then set an environment variable (which is a pain on Windows), and then all python installs will go there, not just one.</p>
<p>Using the currently available method, it also would be installed to C:\Python310\cpython-3.10.16-windows-x86_64-none\python.exe, which is long and eliminates some of the convenience of installing.</p>
<p>Distilling what I said above, this is what i want</p>
<ul>
<li>Be able to install a system python to a specified folder with no long-python-version-name</li>
<li>Have uv be able to detect that python without an environment variable set (how does <code>py -0p</code> do it? Can't uv just add it to the PATH?)</li>
</ul>
<h3>Example</h3>
<p>User runs
<code>uv pip install 3.10 --install-dir C:\Python310\ </code></p>
<p>and the directory looks as if they installed it with the official Python installer, and it's now available for use with <code>uv python list</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @ThermodynamicBeta on 2025-03-03 20:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-03 20:52</div>
            <div class="timeline-body"><p><code>py</code> relies on versions being added to the Windows registry. Which we do since https://github.com/astral-sh/uv/pull/10634</p>
<p><code>uv python install --preview --default</code> can be used to install the executable (i.e., <code>python.exe</code>) into a directory (presumably on the <code>PATH</code>). <code>UV_PYTHON_BIN_DIR</code> can be used to target a different directory. Is that what you're looking for?</p>
<p>If not, can you explain more of the motivation for a specific target path?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ThermodynamicBeta">@ThermodynamicBeta</a> on 2025-03-03 21:20</div>
            <div class="timeline-body"><p>Just now, I ran <code>uv python install 3.9 --default --preview --install-dir C:\Python39</code></p>
<p>This installed it into <code>C:\Python39\cpython-3.9.21-windows-x86-none\</code>, which is not what I wanted. I want everything that is in that folder to be in C:\Python39. I get that what uv means by this flag is different from what I want from it, i.e. this is a central directory for all python versions for uv, but I want to force a directory for one specific installation like I could with the official Python installer. That is the feature request.</p>
<p>Separately, I was under the impression that running uv python install with the <code>--install-dir</code> flag would make that python version not discoverable to <code>uv python list</code>, unless an environment variable is set. That is what I got from the documentation:</p>
<p><img src="https://github.com/user-attachments/assets/50aa2e10-08f4-45ae-a18a-6f6f8fbb1cd3" alt="Image" /></p>
<p>This does not actually seem to be the case, after running <code>uv python install 3.9 --default --preview --install-dir C:\Python39</code>,
that version does show up in my <code>uv python list</code>, even in a new terminal:</p>
<p><img src="https://github.com/user-attachments/assets/47b6c9cf-cc2d-498a-83d5-07287662abc9" alt="Image" /></p>
<p>Could you please explain why this is different from what the documentation says? Is it using the Windows registry, or the PATH? Would it be different on Linux?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-03 21:25</div>
            <div class="timeline-body"><p>It's probably discovered via the registry, which was a recent change and did not take into account that the <code>--install-dir</code> documentation would need to be updated. It would not be found on Linux unless it's on the <code>PATH</code>.</p>
<blockquote>
<p>This installed it into C:\Python39\cpython-3.9.21-windows-x86-none, which is not what I wanted. I want everything that is in that folder to be in C:\Python39. I get that what uv means by this flag is different from what I want from it, i.e. this is a central directory for all python versions for uv, but I want to force a directory for one specific installation like I could with the official Python installer. That is the feature request.</p>
</blockquote>
<p>I understand this is the request. Why do you want it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ThermodynamicBeta">@ThermodynamicBeta</a> on 2025-03-03 21:49</div>
            <div class="timeline-body"><p>As a long-time python user, sometimes I just really need to be 100% sure which python version I'm using, so I invoke it with the full path. Not being able to control what the final installation directory is named gets in the way of this. I could definitely see this being unnecessary from your POV, because ideally you can do everything you want through uv. It just seems like this convenient feature of the original Python installer could be useful to some people.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:14 UTC
    </footer>
</body>
</html>
