<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>venv does not activate - astral-sh/uv #15922</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>venv does not activate</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15922">#15922</a>
        opened by <a href="https://github.com/ajaxdude">@ajaxdude</a>
        on 2025-09-17 23:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ajaxdude">@ajaxdude</a></div>
            <div class="timeline-body">Question
<p>new to UV. When I &quot;source .venv/bin/activate&quot; I get a prompt but the python version does NOT activate and is still my base (3.13) when I type Python --version. But if I type uv run python --version then it says 3.12 which is the venv I want. I don&#x27;t get it. I check the .venv and it seems fine. Any ideas?</p>
Platform
<p>fedora 42</p>
Version
<p>0.7.12</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/ajaxdude">@ajaxdude</a> on 2025-09-17 23:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-18 00:27</div>
            <div class="timeline-body"><p>After <code>source .venv/bin/activate</code> what&#x27;s <code>uv python find -v</code>, <code>echo $VIRTUAL_ENV</code> and <code>whence -a python</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-18 00:31</div>
            <div class="timeline-body"><p>What shell are you using?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ajaxdude">@ajaxdude</a> on 2025-09-18 06:35</div>
            <div class="timeline-body"><p>I figured it out. Using zsh. In my toml file the order of the blocks matter. Once I put the block with the {{if .venv}} before the block with type=text it worked.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ajaxdude">@ajaxdude</a> on 2025-09-18 15:45</div>
            <div class="timeline-body"><p>here is what fixed it for me:</p>
<p>#:schema https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json</p>
<p>version = 3
final_space = true
console_title_template = &#x27;{{ .Shell }} in {{ .Folder }}&#x27;</p>
<p>terminal_background = &quot;p:t-background&quot;</p>
<p>[palette]
main-bg = &quot;#24283b&quot;
terminal-red = &quot;#f7768e&quot;
pistachio-green = &quot;#9ece6a&quot;
terminal-green = &quot;#73daca&quot;
terminal-yellow = &quot;#e0af68&quot;
terminal-blue = &quot;#7aa2f7&quot;
celeste-blue = &quot;#b4f9f8&quot;
light-sky-blue = &quot;#7dcfff&quot;
terminal-white = &quot;#c0caf5&quot;
white-blue = &quot;#a9b1d6&quot;
blue-bell = &quot;#9aa5ce&quot;
pastal-grey = &quot;#cfc9c2&quot;
terminal-magenta = &quot;#24BCA8&quot;
blue-black = &quot;#565f89&quot;
terminal-black = &quot;#414868&quot;
t-background = &quot;p:main-bg&quot;</p>
<p>[[blocks]]
type = &#x27;prompt&#x27;
alignment = &#x27;left&#x27;
newline = true</p>
<p>[[blocks.segments]]
type = &quot;text&quot;
style = &quot;plain&quot;
background = &quot;transparent&quot;
foreground = &quot;p:terminal-blue&quot;
template = &quot;➜ &quot;</p>
<p>[[blocks.segments]]
type = &#x27;path&#x27;
style = &#x27;plain&#x27;
background = &#x27;transparent&#x27;
foreground = &#x27;p:terminal-blue&#x27;
template = &#x27;{{ .Path }}&#x27;</p>
<pre><code>[blocks.segments.properties]
  style = &#x27;full&#x27;</code></pre>
<p>[[blocks.segments]]
type = &#x27;git&#x27;
style = &#x27;plain&#x27;
foreground = &#x27;p:light-sky-blue&#x27;
background = &#x27;transparent&#x27;
template = &#x27; {{ .HEAD }}{{ if or (.Working.Changed) (.Staging.Changed) }}*{{ end }} &lt;p:white-blue&gt;{{ if gt .Behind 0 }}⇣{{ end }}{{ if gt .Ahead 0 }}⇡{{ end }}&lt;/&gt;&#x27;</p>
<pre><code>[blocks.segments.properties]
  branch_icon = &#x27;&#x27;
  commit_icon = &#x27;@&#x27;
  fetch_status = true</code></pre>
<p>[[blocks]]
type = &#x27;rprompt&#x27;
overflow = &#x27;hidden&#x27;</p>
<p>[[blocks.segments]]
type = &#x27;executiontime&#x27;
style = &#x27;plain&#x27;
foreground = &#x27;p:terminal-yellow&#x27;
background = &#x27;transparent&#x27;
template = &#x27;{{ .FormattedMs }}&#x27;</p>
<pre><code>[blocks.segments.properties]
  threshold = 5000</code></pre>
<p>[[blocks]]
type = &#x27;prompt&#x27;
alignment = &#x27;left&#x27;
newline = true</p>
<p>[[blocks.segments]]
type = &#x27;python&#x27;
style = &#x27;plain&#x27;
foreground = &quot;p:pistachio-green&quot;
background = &#x27;transparent&#x27;
template = &quot;\ue235 {{ if .Error }}{{ .Error }}{{ else }}{{ if .Venv }}{{ .Venv }} {{ end }}{{ .Full }}{{ end }}&quot;</p>
<p>[[blocks.segments]]
type = &#x27;uv&#x27;
style = &#x27;plain&#x27;
foreground = &quot;p:pistachio-green&quot;
background = &#x27;transparent&#x27;
template = &quot;\ue235 {{ if .Error }}{{ .Error }}{{ else }}{{ if .Venv }}{{ .Venv }} {{ end }}{{ .Full }}{{ end }}&quot;</p>
<p>[[blocks.segments]]
type = &#x27;text&#x27;
style = &#x27;plain&#x27;
foreground_templates = [
&quot;{{if gt .Code 0}}p:terminal-red{{end}}&quot;,
&quot;{{if eq .Code 0}}p:terminal-magenta{{end}}&quot;,
]
background = &#x27;transparent&#x27;
template = &quot;❯&quot;
[transient_prompt]
foreground_templates = [
&quot;{{if gt .Code 0}}p:terminal-red{{end}}&quot;,
&quot;{{if eq .Code 0}}p:terminal-magenta{{end}}&quot;,
]
background = &#x27;transparent&#x27;
template = &#x27;❯ &#x27;</p>
<pre><code>[secondary_prompt]
  foreground = &#x27;p:terminal-blue&#x27;
  background = &#x27;transparent&#x27;
  template = &#x27;❯❯ &#x27;</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-18 15:47</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-18 15:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:24 UTC
    </footer>
</body>
</html>
