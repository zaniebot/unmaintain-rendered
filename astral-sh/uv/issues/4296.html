<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv lock` does not respect `Requires-Python` in a virtual workspace - astral-sh/uv #4296</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv lock` does not respect `Requires-Python` in a virtual workspace</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/4296">#4296</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-06-13 02:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-13 02:09</div>
            <div class="timeline-body"><p>E.g., <code>uv lock</code> is using 3.9.18 on my machine, even tough the workspace members need <code>&gt;=3.12</code>:</p>
<pre><code>DEBUG uv 0.2.11 (98200f603 2024-06-12)
DEBUG Found workspace root: `/Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace`
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds
DEBUG Searching for Python interpreter in search path or managed toolchains
DEBUG Searching for managed toolchains at `/Users/crmarsh/Library/Application Support/uv/toolchains`
DEBUG Found managed toolchain `cpython-3.9.18-macos-aarch64-none`
DEBUG Found CPython 3.9.18 at `/Users/crmarsh/Library/Application Support/uv/toolchains/cpython-3.9.18-macos-aarch64-none/install/bin/python3` (managed toolchains)
Using Python 3.9.18 interpreter at: /Users/crmarsh/Library/Application Support/uv/toolchains/cpython-3.9.18-macos-aarch64-none/install/bin/python3
DEBUG Using request timeout of 30s
DEBUG Acquired lock for `/Users/crmarsh/Library/Caches/uv/built-wheels-v3/editable/4d7e988190cb115e`
DEBUG Acquired lock for `/Users/crmarsh/Library/Caches/uv/built-wheels-v3/editable/3f2bbb9c9e2bf8dd`
DEBUG Acquired lock for `/Users/crmarsh/Library/Caches/uv/built-wheels-v3/editable/9a7a50e0b657b561`
DEBUG Preparing metadata for: albatross @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross
DEBUG Preparing metadata for: bird-feeder @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder
DEBUG Preparing metadata for: seeds @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds
DEBUG No static `PKG-INFO` available for: albatross @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross (MissingPkgInfo)
DEBUG No static `PKG-INFO` available for: bird-feeder @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder (MissingPkgInfo)
DEBUG No static `PKG-INFO` available for: seeds @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds (MissingPkgInfo)
DEBUG Found static `pyproject.toml` for: albatross @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross
DEBUG Found static `pyproject.toml` for: bird-feeder @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder
DEBUG Found static `pyproject.toml` for: seeds @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds
DEBUG Found workspace root: `/Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace`
DEBUG Adding current workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross
DEBUG Found workspace root: `/Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace`
DEBUG Adding current workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder
DEBUG Found workspace root: `/Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace`
DEBUG Adding current workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/seeds
DEBUG Adding discovered workspace member: /Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/bird-feeder
DEBUG Solving with installed Python version: 3.9.18
DEBUG Solving with target Python version: &gt;=3.12
DEBUG Adding direct dependency: albatross*
DEBUG Adding direct dependency: bird-feeder*
DEBUG Adding direct dependency: seeds*
DEBUG Searching for a compatible version of albatross @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross (*)
DEBUG No compatible version found for: Python
DEBUG Searching for a compatible version of albatross @ file:///Users/crmarsh/workspace/uv/scripts/workspaces/albatross-virtual-workspace/packages/albatross (&lt;0.1.0 | &gt;0.1.0)
DEBUG No compatible version found for: albatross
  × No solution found when resolving dependencies:
  ╰─▶ Because the current Python version (3.9.18) does not satisfy Python&gt;=3.12 and albatross==0.1.0 depends on Python&gt;=3.12, we can conclude that albatross==0.1.0 cannot be used.
      And because only albatross==0.1.0 is available and you require albatross, we can conclude that the requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @charliermarsh on 2024-06-13 02:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-06-13 02:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4298.html">astral-sh/uv#4298</a> on 2024-06-13 02:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-06-13 02:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-06-13 12:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:58 UTC
    </footer>
</body>
</html>
