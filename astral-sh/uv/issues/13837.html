<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error while loading shared libraries: $ORIGIN/../lib/libpython3.12.so.1.0: DST not allowed in SUID/SGID programs - astral-sh/uv #13837</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>error while loading shared libraries: $ORIGIN/../lib/libpython3.12.so.1.0: DST not allowed in SUID/SGID programs</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13837">#13837</a>
        opened by <a href="https://github.com/eg-b">@eg-b</a>
        on 2025-06-04 14:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/eg-b">@eg-b</a> on 2025-06-04 14:19</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Steps to reproduce:</p>
<ol>
<li>create venv using <code>uv venv --python=3.12</code></li>
<li>activate venv</li>
<li>execute in terminal: <code>sudo setcap cap_net_raw+ep /home/user/.local/share/uv/python/cpython-3.12.10-linux-x86_64-gnu/bin/python3.12</code></li>
<li>Then try run <code>python</code></li>
</ol>
<p>Getting:</p>
<blockquote>
<p>/home/baranov_eg@avp.ru/work/siem-test/.venv/bin/python: error while loading shared libraries: $ORIGIN/../lib/libpython3.12.so.1.0: DST not allowed in SUID/SGID programs</p>
</blockquote>
<p>Is there any option to avoid this? I need to be able to set this cap in order to use <code>scapy</code> lib</p>
<h3>Platform</h3>
<p>Ubuntu 22.04</p>
<h3>Version</h3>
<p>0.7.8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @eg-b on 2025-06-04 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @geofft by @konstin on 2025-06-04 14:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-04 14:26</div>
            <div class="timeline-body"><p>Is this a duplicate of https://github.com/astral-sh/python-build-standalone/issues/576 ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-04 14:26</div>
            <div class="timeline-body"><p>Can you upgrade to the latest version of uv and reinstall your Python versions? cc @geofft</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/geofft">@geofft</a> on 2025-06-04 15:06</div>
            <div class="timeline-body"><p>Yes - this is the same as astral-sh/python-build-standalone#576 (which I forgot to re-close). I expect this to work with our latest Python builds. Please try</p>
<pre><code>uv self update
uv python install --reinstall
</code></pre>
<p>and see if the problem persists.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eg-b">@eg-b</a> on 2025-06-04 15:26</div>
            <div class="timeline-body"><p>works fine, thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @eg-b on 2025-06-04 15:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:07 UTC
    </footer>
</body>
</html>
