<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add option to upgrade all packages in the environment, e.g., `upgrade --all` - astral-sh/uv #1419</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add option to upgrade all packages in the environment, e.g., <code>upgrade --all</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/1419">#1419</a>
        opened by <a href="https://github.com/ikrommyd">@ikrommyd</a>
        on 2024-02-16 03:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ikrommyd">@ikrommyd</a></div>
            <div class="timeline-body"><p>Something missing from pip is the ability to do <code>upgrade --all</code> like conda can do <code>update --all</code> in an environment.
Wrappers around pip that do this are oftentimes slow because python. Given that you already have some resolution strategies available, it would be really nice to see something like that. And it&#x27;s also gonna be very fast in your case I believe.
The exact resolution strategy for something like that is up for discussion but I think resolution strategies like the one conda uses have been liked by the community.</p>
<hr>
<p>Maintainer edit: See <a href="https://github.com/astral-sh/uv/issues/1419">astral-sh/uv#1419</a>#issuecomment-2849420114 for a current overview of problems and solutions</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kdeldycke">@kdeldycke</a> on 2024-02-16 05:11</div>
            <div class="timeline-body"><p>Relates to:</p>
<ul>
<li>https://github.com/pypa/pip/issues/4551</li>
<li>https://github.com/pypa/pip/pull/10491</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 05:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 05:21</div>
            <div class="timeline-body"><p>Thanks! We should also clarify how <code>pip install --upgrade</code> is <em>different</em> than this in our documentation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sh-shahrokhi">@sh-shahrokhi</a> on 2024-03-09 20:27</div>
            <div class="timeline-body"><p>Hi, just wanted to add my voice for this one.  Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/msminhas93">@msminhas93</a> on 2024-03-22 00:08</div>
            <div class="timeline-body"><p>This would be a great feature! Any updates?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-22 03:28</div>
            <div class="timeline-body"><p>Hi, please just upvote the original post with üëç if you want to see this. Otherwise we&#x27;ll report back with any updates and would appreciate if the thread was focused on substantive discussion.</p>
<p>For this to move forward two things need to happen:</p>
<ul>
<li>A contributor willing to prototype it needs to come forward, this could be someone from the Astral team but we currently have other priorities.</li>
<li>We need to answer some design questions, drawing a lot from the discussion over in <code>pip</code>, e.g.<ul>
<li>Why isn&#x27;t this being implemented in <code>pip</code>?</li>
<li>What is the desired behavior? Is there more than one expectation?</li>
<li>What is the main user-story for this? What use-cases are we addressing?</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-22 03:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dlasusa">@dlasusa</a> on 2024-04-02 18:48</div>
            <div class="timeline-body"><p>I would really love to see this feature added.  I&#x27;m not sure if it&#x27;s helpful, but I can describe how I currently update the packages in my virtual python environments.  These are all run from an activated venv.  In this case I have an environment for some polars projects.</p>
<p>I first run:</p>
<pre><code>pip list --outdated
</code></pre>
<p>Which produces a list:</p>
<pre><code>Package   Version Latest  Type
--------- ------- ------- -----
ipykernel 6.29.3  6.29.4  wheel
ipython   8.22.2  8.23.0  wheel
polars    0.20.16 0.20.18 wheel
</code></pre>
<p>This example is a mercifully short list since Polars doesn&#x27;t have other Python dependencies.  Plus, since it&#x27;s a playground for testing one off things I want to try in polars, I don&#x27;t have a ton of packages in this environment....but this list can get very long for larger projects (which is time consuming to manually update)</p>
<p>I&#x27;ll then go one by one running (for example):</p>
<pre><code>pip install --upgrade polars
</code></pre>
<p>There are times I&#x27;m unable to update all the packages.  Usually if I have a failure, it&#x27;s because <code>pip</code> can&#x27;t find a suitable package/version.  Depending on how critical the package is, or if it has new functionality that will be useful in a project, I may create an entirely new venv and do a new <code>pip install ...</code> on all the packages I need.  I just updated all the packages in this example, and none failed, so I&#x27;m unable to provide more details about what I failure would look like.  Basically, it&#x27;s a dependency resolution failure.</p>
<p>@zanieb To answer some of the questions you listed (granted these are just MY opinion or my use case)</p>
<p><em>Why isn&#x27;t this being implemented in pip?</em></p>
<p>This is a great question and something I&#x27;ve often wondered as well!  I&#x27;ve come across both <a href="https://github.com/jazzband/pip-tools">pip-tools</a> and <a href="https://github.com/jgonggrijp/pip-review">pip-review</a> which is/was a fork of pip-tools and I think it&#x27;s no longer maintained.
More reading: https://stackoverflow.com/questions/2720014/how-to-upgrade-all-python-packages-with-pip</p>
<p><em>What is the desired behavior? Is there more than one expectation?</em></p>
<p>The simple version of what I would want: simply update all the packages in the environment, and report what was/wasn&#x27;t updated:</p>
<pre><code>2 Packages Updated:
ipython   8.22.2  -&gt; 8.23.0 
polars    0.20.16 -&gt; 0.20.18

1 Package Not Updated:
ipykernel 6.29.3  No suitable version found
</code></pre>
<p>I&#x27;m of course open to other ideas too.</p>
<p><em>What is the main user-story for this? What use-cases are we addressing?</em></p>
<p>I&#x27;m not sure if it&#x27;s just the work I do, but I&#x27;m often seeing new functionality in packages and/or I just like to stay current.  Especially right now with many tools being updated/written in Rust, so I like to try out different things and see where development is at.   I&#x27;ve never done (nor would I plan to) and &quot;update all&quot; in production.   Though if enough tools are written in Rust and don&#x27;t have Python dependencies, maybe much of this goes away?</p>
<p>Apologies if any of that is unclear.  Just let me know if I can further clarify anything.</p>
<p>Thanks!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jvdavim">@jvdavim</a> on 2024-11-05 14:24</div>
            <div class="timeline-body"><p>I&#x27;m interested in this feature too. I don&#x27;t know if it would help, but I&#x27;m currently updating the packages using:</p>
<pre><code>rm uv.lock
uv lock
uv sync
</code></pre>
<p><strong>Edit:</strong></p>
<p>As commented by @bryant1410 and @D1no, I agree it&#x27;s better:</p>
<pre><code>uv lock --upgrade
uv sync
</code></pre>
<p>It works fine if using the uv as project manager.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/msminhas93">@msminhas93</a> on 2024-11-05 18:38</div>
            <div class="timeline-body"><blockquote>
<p>Hi, please just upvote the original post with üëç if you want to see this. Otherwise we&#x27;ll report back with any updates and would appreciate if the thread was focused on substantive discussion.</p>
<p>For this to move forward two things need to happen:</p>
<ul>
<li><p>A contributor willing to prototype it needs to come forward, this could be someone from the Astral team but we currently have other priorities.</p>
</li>
<li><p>We need to answer some design questions, drawing a lot from the discussion over in <code>pip</code>, e.g.</p>
<ul>
<li>Why isn&#x27;t this being implemented in <code>pip</code>?</li>
<li>What is the desired behavior? Is there more than one expectation?</li>
<li>What is the main user-story for this? What use-cases are we addressing?</li>
</ul>
</li>
</ul>
</blockquote>
<p>The request for a uv update command to upgrade all packages is rooted in the fact that uv is more than just a package manager - it also handles environment management like conda, micromamba, and poetry.</p>
<p>These tools already offer similar functionality:</p>
<ul>
<li>conda/micromamba: conda update --all or micromamba update --all</li>
<li>poetry: poetry update</li>
</ul>
<p>This point talks about why it makes more sense to implement it at the higher level tool instead of pip <a href="https://github.com/pypa/pip/issues/4551">pypa/pip#4551</a>#issuecomment-2325495099</p>
<p>The primary use case is for development environments, particularly in fields like deep learning or data science, where frequent package updates are necessary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bryant1410">@bryant1410</a> on 2024-11-12 13:53</div>
            <div class="timeline-body"><p>How is this different from</p>
<pre><code>uv lock --upgrade
</code></pre>
<p>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ikrommyd">@ikrommyd</a> on 2024-11-14 08:25</div>
            <div class="timeline-body"><blockquote>
<p>How is this different from</p>
<pre><code>uv lock --upgrade
</code></pre>
<p>?</p>
</blockquote>
<p>Am I mistaken or would this only apply to cases where you&#x27;re using <code>uv</code> to manage your project. When I first opened the issue on day 1 of <code>uv</code> release I was thinking of an <code>upgrade --all</code> option to a generic python venv in a similar way conda has <code>upgrade --all</code> for a conda environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/D1no">@D1no</a> on 2024-11-22 19:19</div>
            <div class="timeline-body"><p>Yeah please add an <code>update</code> or <code>upgrade</code> like all package managers under the sun so normal engineering peasants like me don&#x27;t need to do this odd mental gymnastics. Preferably a simple</p>
<p>update command that actually updates the version strings in the pyproject.toml for explicitness</p>
<ul>
<li>update packagename</li>
<li>update -&gt; leads to selection which packages to update</li>
<li>update --all -&gt; updates all of them</li>
</ul>
<p>instead of having to do
<code>uv lock --upgrade</code>
<code>uv sync</code>
manually type</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Enhancement: add `upgrade --all` option&quot; to &quot;Add option to upgrade all packages in the environment, e.g., `upgrade --all`&quot; by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-26 23:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yhoiseth">@yhoiseth</a> on 2024-12-04 12:56</div>
            <div class="timeline-body"><p>I use <a href="https://gist.github.com/yhoiseth/c80c1e44a7036307e424fce616eed25e">this tiny script</a> to upgrade all dependencies to their latest version regardless of what is specified in <code>pyproject.toml</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2024-12-05 03:01</div>
            <div class="timeline-body"><blockquote>
<p>update command that actually updates the version strings in the pyproject.toml for explicitness</p>
</blockquote>
<p>This specific part of your request is tracked in</p>
<ul>
<li>#6794</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ssbarnea">@ssbarnea</a> on 2024-12-16 15:44</div>
            <div class="timeline-body"><p>If <code>uv pip list --outdated</code> would have supported a plain format, this could be seen as a decent workaround:</p>
<pre><code>uv pip list --outdated --format=plain | uv pip install -U
</code></pre>
<p>My current workaround for this looks like:</p>
<pre><code>uv pip list --outdated --format=json | jq &#x27;.[].name&#x27; | xargs -I {} uv pip install --system -q -U {}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WilliamStam">@WilliamStam</a> on 2025-01-13 11:43</div>
            <div class="timeline-body"><pre><code>uv lock --upgrade
uv sync
</code></pre>
<p>seems to do what is required. but please can this be added as an alias type thing in uv?</p>
<pre><code>uv update
</code></pre>
<p>got used to <code>pdm update</code>. whenever we work on a project we upgrade the dependencies to their latest patch version ie</p>
<pre><code>dependencies = [
    &quot;sqlalchemy-utils==0.41.*&quot;,
    &quot;SQLAlchemy[asyncio]==2.0.*&quot;,
    &quot;toml==0.10.*&quot;,
    &quot;uvicorn==0.20.*&quot;,
]
</code></pre>
<p>so being able to &quot;update&quot; them all is very useful. i just found the uv lock --upgrade and sync thing now. but i can guarantee i will have forgotten about it next time i need it lol.</p>
<p>thanks for the project! its insanely fast</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yrro">@yrro</a> on 2025-01-14 13:50</div>
            <div class="timeline-body"><blockquote>
<pre><code>uv lock --upgrade
uv sync
</code></pre>
<p>seems to do what is required. but please can this be added as an alias type thing in uv?</p>
<pre><code>uv update
</code></pre>
</blockquote>
<p>Various package managers have overlapping and/or conflicting definitions of the word <code>update</code> and <code>upgrade</code> and I&#x27;d prefer to not have to add another one to the Rosetta stone. Really sorry to bike shed but good UI is important to me.</p>
<p>If existing commands are sufficient then I&#x27;d rather the documentation be updated to make it clear what the right commands are. I find it all a bit confusing, especially (and this isn&#x27;t uv&#x27;s fault itself) coming over from Poetry which seems have both <code>poetry sync --lock</code> and <code>poetry lock --sync</code>...</p>
<p>That said, hopefully someone can chime in here if I&#x27;m wrong:</p>
<p><code>uv sync --upgrade</code> will both upgrade the packages in the lockfile to reference the latest compatible versions specified in the project&#x27;s dependencies (equivalent to <code>uv lock --upgrade</code>), and also bring the project&#x27;s venv&#x27;s packages in sync with the new lockfile (equivalent to <code>uv sync</code>). So that is probably the command to document (unless I&#x27;ve misunderstood what you&#x27;re trying to accomplish).</p>
<p>And to check if there are updates, I use <code>uv lock --upgrade --locked</code>, which doesn&#x27;t tell you which packages are outdated, just whether any outdated packages exist. <code>uv sync --upgrade --locked</code> will do that &amp; also bring the venv in sync if it&#x27;s not already in sync for whatever reason.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/heliocastro">@heliocastro</a> on 2025-01-29 09:48</div>
            <div class="timeline-body"><p>And how about on sync pyproject with uv.lock after <code>uv lock --upgrade</code> ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/krishan-patel001">@krishan-patel001</a> on 2025-01-29 10:02</div>
            <div class="timeline-body"><blockquote>
<p>And how about on sync pyproject with uv.lock after <code>uv lock --upgrade</code> ?</p>
</blockquote>
<p>I like the idea of this, wouldn&#x27;t break the existing functionality then</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yrro">@yrro</a> on 2025-01-29 11:22</div>
            <div class="timeline-body"><blockquote>
<p>And to check if there are updates, I use <code>uv lock --upgrade --locked</code>, which doesn&#x27;t tell you which packages are outdated, just whether any outdated packages exist. <code>uv sync --upgrade --locked</code> will do that &amp; also bring the venv in sync if it&#x27;s not already in sync for whatever reason.</p>
</blockquote>
<p>... or at least I used to. It seems now <code>uv lock --upgrade --locked</code> fails with <code>error: the argument &#x27;--upgrade&#x27; cannot be used with &#x27;--check&#x27;</code> which is... confusing. And <code>uv sync --upgrade --locked</code> fails with <code>error: the argument &#x27;--upgrade&#x27; cannot be used with &#x27;--locked&#x27;</code>, which at least matches the options I specified on the command line... but neither tell me <em>why</em> this is no longer possible.</p>
<p>Perhaps <code>uv lock --upgrade --dry-run</code> is the replacement? But unfortunately, this exits successfully if there are packages to update, so it&#x27;s no good for checking if there are upgradable packages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-29 14:20</div>
            <div class="timeline-body"><p><code>--locked</code> is an alias of <code>--check</code> in <code>uv lock</code>, but I don&#x27;t think we can distinguish between which was provided.</p>
<p>While I&#x27;m not sure it&#x27;s the best way to solve this problem, I&#x27;m fine with allowing <code>--upgrade --check</code>.</p>
<p>See <a href="https://github.com/astral-sh/uv/issues/10273">astral-sh/uv#10273</a> for the motivation behind making those options conflict.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yrro">@yrro</a> on 2025-01-29 18:22</div>
            <div class="timeline-body"><p>Thanks. <code>--upgrade --check</code> would make sense to me, but there is overlap with <code>--upgrade --dry-run</code>; if <code>--dry-run</code> and <code>--check</code> were mutually exclusive then that would resolve and it would be clear that <code>--check</code> is expected to fail of there are pending updates, whereas <code>--dry-run</code> is expected to succeed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aaronmaxcarver">@aaronmaxcarver</a> on 2025-02-22 21:06</div>
            <div class="timeline-body"><p>Here&#x27;s a temporary and patchy solution I&#x27;ve used. It&#x27;s similar to comments by <a href="https://github.com/yhoiseth">yhoiseth</a> and others...</p>
<p>This <a href="https://gist.github.com/aaronmaxcarver/9a2dbc5b26c66c473e78243c030faacd">this pyproject_yeeter.py gist</a> will:</p>
<ul>
<li>blindly crunch through a <code>pyproject.toml</code> and update everything by calling <code>uv remove</code> then <code>uv add</code> on each dep<ul>
<li>this results in upgrades to both the <code>pyproject.toml</code> and the <code>uv.lock</code></li>
<li>the script accounts for groups like the very common &quot;dev&quot; group, e.g. for <code>ruff</code></li>
<li>will upgrade across breaking changes and such, makes no attempt to avoid this</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rosmur">@rosmur</a> on 2025-03-15 11:52</div>
            <div class="timeline-body"><p>would like to request a method to also upgrade all items in a uv venv (that is not a project)</p>
<p>I was able to do it by this single line shell command:</p>
<p><code>for pkg in $(uv pip freeze | grep -v &#x27;^-e&#x27;); do uv pip install -U $pkg; done</code></p>
<p>although it didnt seem to miss items</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-03-20 16:13</div>
            <div class="timeline-body"><p>FYI, for those who use a pip workflow (like myself), and those not already aware, this is the purpose of the <code>uv pip compile</code>:</p>
<ol>
<li>Define your unpinned requirements in a <code>requirements.in</code></li>
<li>Compile them to a <code>requirements.txt</code>, e.g. <code>uv pip compile --upgrade requirements.in -o requirements.txt</code></li>
<li>Sync your environment with the upgraded requirements <code>uv pip sync requirements.txt</code></li>
</ol>
<p>I have a couple of small scripts to turn this into a single command, with various options I prefer.</p>
<p>And I beleive <code>uv pip compile</code> also supports implicitly extracting the requirements out of a <code>pyproject.toml</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ikrommyd">@ikrommyd</a> on 2025-04-01 01:40</div>
            <div class="timeline-body"><blockquote>
<p>would like to request a method to also upgrade all items in a uv venv (that is not a project)</p>
<p>I was able to do it by this single line shell command:</p>
<p><code>for pkg in $(uv pip freeze | grep -v &#x27;^-e&#x27;); do uv pip install -U $pkg; done</code></p>
<p>although it didnt seem to miss items</p>
</blockquote>
<p>This was my original reason for making the issue. Upgrade all packages in environment that is not a project while at the same time caring for dependencies. Sort of like <code>conda update --all</code> but for pip packages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-04-01 01:51</div>
            <div class="timeline-body"><blockquote>
<p>Sort of like <code>conda update --all</code> but for pip packages.</p>
</blockquote>
<p>Conda keeps track of what packages were user requested, pip and the uv pip interface doesn&#x27;t.</p>
<p>So to get the same benefits of conda, which can remove dependencies no longer needed, you need to use the pip compile workflow I explain above, or use uv&#x27;s project level API (uv add, uv sync, etc.).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stevenwalton">@stevenwalton</a> on 2025-04-14 18:29</div>
            <div class="timeline-body"><p>You can always do something hacky like</p>
<pre><code>uv pip list \
   | tail -n +3 \
   | cut -d &#x27; &#x27; -f1 \
   | xargs uv pip install --upgrade
</code></pre>
<ul>
<li><code>uv pip list</code> shows all the packages</li>
<li><code>tail -n +3</code> removes the first two lines which are just a header</li>
<li><code>cut -d &#x27; &#x27; -f1</code> deliminates on spaces and takes the first field (second field is the package version)</li>
<li><code>xargs uv pip install --upgrade</code> will run <code>uv pip install --upgrade</code> with all the things we just collected as the argument</li>
</ul>
<p>This should be a bit faster than @rosmur&#x27;s solution which will instead run a <code>uv pip install --upgrade</code> once for each package. Could be a bit faster with <code>uv pip list --outdated</code> and it should be
(Someone might want to double check. I always mess up <code>xargs</code> but this seemed to work. But doing <code>xargs --verbose</code> makes it look like the right command). Note though that this isn&#x27;t exactly &quot;safe&quot; and you can probably run it multiple times and you&#x27;ll see things upgrade and downgrade.</p>
<p>This is pretty useful when you don&#x27;t have a requirements file. I have a lot of virtual environments and even user versions. Many distros of linux don&#x27;t want you doing <code>pip</code> installs on the system python (for good reason) and using a <code>uv venv</code> in a home directory is just a great solution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/The-Compiler">@The-Compiler</a> on 2025-04-14 19:43</div>
            <div class="timeline-body"><p>@stevenwalton FWIW instead of parsing a format that was never intended to be parsed, you could use <code>uv pip list --format=freeze | cut -d= -f1</code> or <code>uv pip list --format=json | jq -r &#x27;.[].name&#x27;</code> instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stevenwalton">@stevenwalton</a> on 2025-04-14 20:12</div>
            <div class="timeline-body"><p>@The-Compiler I wouldn&#x27;t say &quot;never intended to be parsed&quot;, and certainly don&#x27;t think freeze is any less parsable. We accomplished it with the intended parsing tools.</p>
<p>I&#x27;d still pick my solution over the <code>jq</code> version for higher portability. <code>jq</code> is not default on systems but <code>tail</code> and <code>cut</code> are , as they&#x27;re part of <a href="https://en.wikipedia.org/wiki/List_of_GNU_Core_Utilities_commands">Core Utils</a>. <code>xargs</code>, which all solutions still require, is mandatory in <a href="https://en.wikipedia.org/wiki/List_of_POSIX_commands">POSIX commands</a> so you&#x27;ll have extreme compatibility (all linux, most BSD, and mac. Should work even on Alpine and busybox but I haven&#x27;t verified and I&#x27;m pretty sure <code>uv</code> doesn&#x27;t work there anyways. Though I&#x27;d love to have support for it in <a href="https://termux.dev/en/"><code>termux</code></a>)</p>
<p>But we&#x27;re also splitting hairs at this point. The solutions all work. There&#x27;s even more and we could even write a one pipe <code>xargs</code> solution but why be less readable haha.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rosmur">@rosmur</a> on 2025-04-16 06:30</div>
            <div class="timeline-body"><p>@stevenwalton interesting, but I tried making your command a zsh alias and I get the following error:</p>
<p><code>cut: option requires an argument -- d</code></p>
<p>any ideas why? It works fine when run directly in zsh</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stevenwalton">@stevenwalton</a> on 2025-04-17 00:43</div>
            <div class="timeline-body"><p>@rosmur I can&#x27;t replicate on my side. If you can post I can tell you the error.</p>
<p>But I have a suspicion! I&#x27;d guess that this has to do with <a href="https://mywiki.wooledge.org/Quotes">quotes</a>.</p>
<pre><code># Gives error message `cut: option requires an argument -- &#x27;d&#x27;`
alias uvupdate=&#x27;uv pip list | tail -n +3 | cut -d &#x27; &#x27; -f1 | xargs uv pip install --upgrade&#x27;
# Works as intended
alias uvupdate=&quot;uv pip list | tail -n +3 | cut -d &#x27; &#x27; -f1 | xargs uv pip install --upgrade&quot;
# ALSO Works as intended
alias uvupdate=&#x27;uv pip list | tail -n +3 | cut -d &quot; &quot; -f1 | xargs uv pip install --upgrade&#x27;
</code></pre>
<p>Though, I would suggest another solution if you want to edit your rc file. Use a function!</p>
<pre><code># Extend uv command to include `pip install --upgrade --all` 
function uv() {
   # Check that the command `uv` exists
   if [[ $(command -v &quot;uv&quot;) ]];
   then
      # We only want to extend the command when given this specific argument
      if [[ &quot;${@}&quot; == &#x27;pip install --upgrade --all&#x27; ]];
      then
         uv pip list \
            | tail -n +3 \
            | cut -d &#x27; &#x27; -f1 \
            | xargs uv pip install --upgrade
      # Otherwise just take the arguments and pass them back to uv as normal
      else
         command uv &quot;$@&quot;
      fi
   else
      echo &quot;Command &#x27;uv&#x27; not found in PATH&quot;
   fi
}
</code></pre>
<p>You can find the function <a href="https://github.com/stevenwalton/.dotfiles/blob/master/rc_files/zsh/aliases.zsh#L386">here in my dotfiles</a> Sorry for the commit noise. I forgot it does that... ü§¶ </p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/modbender">@modbender</a> on 2025-05-03 15:45</div>
            <div class="timeline-body"><p>Poetry has a very nice update command
https://python-poetry.org/docs/cli/#update
If this is a drop in replacement why is this not supported?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-05-03 16:29</div>
            <div class="timeline-body"><blockquote>
<p>Poetry has a very nice update command
https://python-poetry.org/docs/cli/#update
If this is a drop in replacement why is this not supported?</p>
</blockquote>
<ol>
<li>uv isn&#x27;t a poetry drop in replacement</li>
<li>The equivalent command to <code>poetry update</code> is ~~<code>uv sync</code>~~ <code>uv sync --upgrade</code></li>
<li>This issue is about the pip-like CLI, not the project CLI (the poetry equivalent)</li>
<li>Pip does not support upgrading all packages in an environment</li>
<li>The best practise approach to upgrading all your packages with a pip-like API is to use pip compile and pip sync: <a href="https://github.com/astral-sh/uv/issues/1419#issuecomment-2740995346">issuecomment-2740995346</a></li>
</ol>
<p>Perhaps the issue title should be updated to reflect that this request was raised prior to the project CLI and is about the pip-like CLI?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/modbender">@modbender</a> on 2025-05-03 16:43</div>
            <div class="timeline-body"><p>I agree with all others, but not 2
In a project like below</p>
<pre><code>[project]
name = &quot;manga-extractor&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = [
    &quot;autopep8&gt;=1.7.0&quot;,
    &quot;beautifulsoup4&gt;=4.10.0&quot;,
    &quot;cloudscraper&gt;=1.2.66&quot;,
    &quot;lxml&gt;=5.4.0&quot;,
    &quot;pillow&gt;=10.3.0&quot;,
]
</code></pre>
<p>running both <code>uv sync</code> and <code>poetry update</code> gives different outputs
<img src="https://github.com/user-attachments/assets/78d5294f-4713-47f4-ad02-c7340a7304e3" alt="Image"></p>
<p>though I thought it was upgrading in pyproject.toml too but now that I tried it, it didn&#x27;t.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-05-03 16:48</div>
            <div class="timeline-body"><blockquote>
<p>I agree with all others, but not 2</p>
</blockquote>
<p>Sorry, I don&#x27;t actually use the project CLI very much, I guess it&#x27;s <code>uv sync --upgrade</code> or <code>uv lock --upgrade</code> (https://docs.astral.sh/uv/concepts/projects/sync/#upgrading-locked-package-versions), I&#x27;ve updated my comment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-04 21:14</div>
            <div class="timeline-body"><p>Through this thread, different features were discussed so I want to enumerate some of them and their solutions, workarounds or tracking issues:</p>
<ol>
<li><p>You&#x27;re in project mode (you have <code>pyproject.toml</code>/<code>uv.lock</code>), and want to update all packages to compatible new versions (without changing <code>pyproject.toml</code>):</p>
<pre><code>uv sync --upgrade
</code></pre>
</li>
<li><p>You&#x27;re in project mode, and want to upgrade all packages to the latest version, updating <code>pyproject.toml</code>: This is the feature request in #6794, tentatively dubbed <code>uv upgrade</code>.</p>
</li>
<li><p>You want to upgrade all packages in a venv:</p>
<pre><code># With jq
uv pip list --format=json | jq -r &#x27;.[].name&#x27; | uv pip install --upgrade -r -
# With Unix utils
uv pip list | tail -n +3 | cut -d &#x27; &#x27; -f1 | uv pip install --upgrade -r -
</code></pre>
<p>Note that this can potentially downgrade packages when there are dependency conflicts and it will not remove packages not needed anymore.</p>
</li>
<li><p>You want to upgrade the originally requested installed packages in a venv. See <a href="https://github.com/pypa/pip/issues/4551">pypa/pip#4551</a> and <a href="https://github.com/pypa/pip/pull/10491">pypa/pip#10491</a> for prior discussion on this. The difficulty here is to track what was requested; An alternative can be using <code>uv pip compile --upgrade</code>/<code>uv pip sync</code> with a list of packages as input, or the more brute <code>uv venv &amp;&amp; uv pip install -r requirements.txt</code>.</p>
</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stevenwalton">@stevenwalton</a> on 2025-05-05 21:36</div>
            <div class="timeline-body"><p>@konstin , I think there are two main categories: project virtual environments and system virtual environments</p>
<p>Project venvs seem much easier to manage and really what the <code>uv</code> project has explicitly been about.</p>
<p>System venvs are a bit of a different ballgame, but a need by a larger number of people (anyone running Linux or BSD/OSX). You don&#x27;t want users to mess with system pythons and users don&#x27;t want a copy of each Python and each package cluttering their system. <code>uv</code> effectively solves this.</p>
<p>But there&#x27;s a big difference in package management. In projects you want strong version control. In system you want latest and containerization. One way to solve this is make the venv with <code>uv venv --seed</code> but this is frequently missed and it&#x27;s good to have an alternative.</p>
<p>I&#x27;d also strongly suggest against <code>jq</code>. I have an alternative solution <a href="https://github.com/astral-sh/uv/issues/1419#issuecomment-2811350228">here</a>. This helps avoid dependency creep. <code>tail</code>, <code>cut</code>, and <code>xargs</code> (not necessary) will almost certainly be on anyone&#x27;s system</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skhaz">@skhaz</a> on 2025-05-05 21:50</div>
            <div class="timeline-body"><p>Is jq not a single binary?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stevenwalton">@stevenwalton</a> on 2025-05-05 22:49</div>
            <div class="timeline-body"><p>@skhaz, the point is <code>jq</code> needs to be installed. It&#x27;s not about size, it is about portability.</p>
<p>My solution works on <em><strong>all nix and BSD platforms</strong></em>.</p>
<p>The <code>jq</code> command works on all nix and BSD platforms <em><strong>that have <code>jq</code> installed</strong></em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shawnoster">@shawnoster</a> on 2025-05-06 18:33</div>
            <div class="timeline-body"><p>For Windows users developing in PowerShell the usage of <code>jq</code> is a more portable solution. While many <em>also</em> develop in WSL that is an <code>and</code>, not an <code>or</code>. It&#x27;s easier to install <code>jq</code> vs. the suite of busybox tools in stock PowerShell 7.</p>
<p>Given the growing ubiquity of <code>jq</code> as a dependency for working with the output of popular CLIs, and its inclusion in all GitHub runner images (<code>ubuntu-*</code>,  <code>macos-*</code>, and <code>windows-*</code>), the debate around which tools to work with the JSON for a <strong>cross-OS tool</strong> like <code>uv</code> seems moot?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/moble">@moble</a> on 2025-05-06 21:41</div>
            <div class="timeline-body"><p>What seems moot to me is the idea that we should even care about which tool is ubiquitous when there is one that literally everyone interested in this thread will have: <code>uv</code>.  It shouldn&#x27;t take some obscure command with multiple pipes to just achieve the goal; it should be built in to <code>uv</code>.</p>
<p>(And for what it&#x27;s worth, I have linux boxes that don&#x27;t have <code>jq</code> installed, but do have <code>tail</code>, <code>cut</code>, and <code>xargs</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-06 22:47</div>
            <div class="timeline-body"><p>I&#x27;ve updated the post to include both the jq version and the Unix tools version, at the user&#x27;s choice.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skhaz">@skhaz</a> on 2025-05-06 22:57</div>
            <div class="timeline-body"><p>This feature shouldn‚Äôt rely on third-party tools‚Äîor even system utilities. It‚Äôs really a shame; without it, Poetry will continue to dominate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shawnoster">@shawnoster</a> on 2025-05-06 23:08</div>
            <div class="timeline-body"><p>@moble @skhaz 100%, debating the best hack only takes us further from what we actually need.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-05-07 03:20</div>
            <div class="timeline-body"><p>So the request to the uv team can be clear, are people asking for a version of &quot;3.&quot; to be built into uv as described in <a href="https://github.com/astral-sh/uv/issues/1419">astral-sh/uv#1419</a>#issuecomment-2849420114, accepting the following limitations:</p>
<ol>
<li><code>uv pip</code> CLI only (unrelated to the project CLI / poetry equivalent)</li>
<li>Not match any existing feature in pip (which has so far rejected such a feature due to the below limitations)</li>
<li>Will attempt to upgrade all packages even if they weren&#x27;t requested by the user</li>
<li>Will not track if a user requested an extra</li>
<li>May downgrade packages due to conflicts</li>
</ol>
<p>? (Thumbs up for yes, or reply with clarification and thumbs up somebody else&#x27;s clarification if they&#x27;ve described what you need).</p>
<p>As mentioned in <a href="https://github.com/astral-sh/uv/issues/1419">astral-sh/uv#1419</a>#issuecomment-2849420114, for the poetry equivalant see <code>uv sync --upgrade</code> / <a href="https://github.com/astral-sh/uv/issues/6794">astral-sh/uv#6794</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">uv pip</span> added by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-05-08 03:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qiuxiaomu">@qiuxiaomu</a> on 2025-05-15 21:26</div>
            <div class="timeline-body"><p>#6794 is really confusing to me; the prior art listed, particularly poetry one, is basically the same as poetry update, but with a bit more functionality. The title seemed to state that updating the version pins in pyproject, i.e., not updating the actual dependencies but the version pins only, in the pyproject file ( hence one may run the true &quot;update/upgrade&quot; command to upgrade the deps with the latest mandate from deps themselves).</p>
<p>With konstin&#x27;s 2, it is still a fairly remote use case for me: I can&#x27;t see how upgrade all deps to latest possible and updating pyproject to whatever versions are installed, NOT breaking the dependencies ( in that the deps themselves have dictated the latest, which is different from a pip latest and updating to pip latest surely risks breaking the deps).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qiuxiaomu">@qiuxiaomu</a> on 2025-05-16 13:08</div>
            <div class="timeline-body"><p>Also, the help pages for <code>sync</code>, <code>lock</code>, and <code>tree</code> show that all of them come with:</p>
<pre><code>Resolver options:
  -U, --upgrade                            Allow package upgrades, ignoring pinned versions in any existing output file. Implies `--refresh`
  -P, --upgrade-package &lt;UPGRADE_PACKAGE&gt;  Allow upgrades for a specific package, ignoring pinned versions in any existing output file. Implies `--refresh-package`
      --resolution &lt;RESOLUTION&gt;            The strategy to use when selecting between the different compatible versions for a given package requirement [env: UV_RESOLUTION=] [possible values: highest, lowest, lowest-direct]
      --prerelease &lt;PRERELEASE&gt;            The strategy to use when considering pre-release versions [env: UV_PRERELEASE=] [possible values: disallow, allow, if-necessary, explicit, if-necessary-or-explicit]
      --fork-strategy &lt;FORK_STRATEGY&gt;      The strategy to use when selecting multiple versions of a given package across Python versions and platforms [env: UV_FORK_STRATEGY=] [possible values: fewest, requires-python]
      --exclude-newer &lt;EXCLUDE_NEWER&gt;      Limit candidate packages to those that were uploaded prior to the given date [env: UV_EXCLUDE_NEWER=]
      --no-sources                         Ignore the `tool.uv.sources` table when resolving dependencies. Used to lock against the standards-compliant, publishable package metadata, as opposed to using any workspace, Git, URL, or local
                                           path sources
</code></pre>
<p>but apparently <code>tree</code> isn&#x27;t as pronounced as the other two and probably having one unified interface for these commands would be better.</p>
<p>The intro for <code>upgrade</code> was to ignore the pinned version in any existing output files; are we referring to existing <code>pyproject.toml</code> file here? I am asking because apparently this sub-command respects the version pins and only update to the permissible versions, so the output file, i.e., <code>pyproject.toml</code>, is not ignored.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-05-16 13:45</div>
            <div class="timeline-body"><p>@qiuxiaomu you&#x27;re talking about the project CLI, so I think you want <a href="https://github.com/astral-sh/uv/issues/6794">astral-sh/uv#6794</a> or a new issue.</p>
<p>This issue was created prior to the project CLI existing, and is therefore about <code>uv pip</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cesarqdt">@cesarqdt</a> on 2025-05-22 15:25</div>
            <div class="timeline-body"><p>This seems like a related topic/issue. I&#x27;m experiencing no changes when I run <code>uv lock --upgrade-package ...</code> with the version, even when there are newer versions of the package available. The output is always:</p>
<pre><code>Resolved 194 packages in 75ms
Audited 190 packages in 0.03ms
</code></pre>
<p>Looking at the pyproject.toml the version does not change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-05-22 15:28</div>
            <div class="timeline-body"><blockquote>
<p>This seems like a related topic/issue. I&#x27;m experiencing no changes when I run <code>uv lock --upgrade-package ...</code> with the version, even when there are newer versions of the package available. The output is always:</p>
</blockquote>
<p>No, this is about the <code>uv pip</code> interface, you should make a new issue with a reproducible example.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Michallote">@Michallote</a> on 2025-06-09 03:43</div>
            <div class="timeline-body"><p>@notatallshaw So does this mean it is available with the intended <code>uv</code> regular workflow? I think as long as all your dependencies are specified with <code>&gt;=</code>, the command <code>uv sync --upgrade</code> will upgrade all packages. Will it not?</p>
<blockquote>
<blockquote>
<p>This seems like a related topic/issue. I&#x27;m experiencing no changes when I run <code>uv lock --upgrade-package ...</code> with the version, even when there are newer versions of the package available. The output is always:</p>
</blockquote>
<p>No, this is about the <code>uv pip</code> interface, you should make a new issue with a reproducible example.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-06-09 04:06</div>
            <div class="timeline-body"><p>@Michallote it means you are posting in the wrong issue. You should read <a href="https://github.com/astral-sh/uv/issues/1419">astral-sh/uv#1419</a>#issuecomment-2849420114</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-10 10:54</div>
            <div class="timeline-body"><p>For <code>&gt;=</code> specifically, yeah <code>--upgrade</code> should work. Note that sometimes, when there are version conflicts, you may not get the latest version, but that is a general limitation that everyone including pip has, not one of <code>--upgrade</code>. (The classic example is that you depend on foo and bar, both with versions 1 and 2, and foo 2 depends bar 1: We can&#x27;t select foo 2 and bar 2 at the same time)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Danipulok">@Danipulok</a> on 2025-06-11 04:01</div>
            <div class="timeline-body"><blockquote>
<p>This seems like a related topic/issue. I&#x27;m experiencing no changes when I run <code>uv lock --upgrade-package ...</code> with the version, even when there are newer versions of the package available. The output is always:</p>
<pre><code>Resolved 194 packages in 75ms
Audited 190 packages in 0.03ms
</code></pre>
<p>Looking at the pyproject.toml the version does not change.</p>
</blockquote>
<p>@cesarqdt hi here. It seems I have the same &quot;problem&quot;. The problem is that you can not update any/some of your packages because of other packages restrictions. For example, my situation:</p>
<p>Latest <code>pydantic</code> version as of now is <code>2.11.5</code>.
I have in <code>.venv</code>:</p>
<pre><code>$ uv pip show pydantic
Name: pydantic
Version: 2.9.2
</code></pre>
<p>And when I do:</p>
<pre><code>$ uv add pydantic -U
Resolved 30 packages in 191ms
Audited 29 packages in 0.03ms
</code></pre>
<p>If I do <code>uv tree</code>, I get:</p>
<pre><code>$ uv tree
Resolved 30 packages in 1ms
shazam-bot v0.1.0
‚îú‚îÄ‚îÄ aiogram v3.20.0.post0
‚îÇ   ‚îú‚îÄ‚îÄ aiofiles v23.2.1
‚îÇ   ‚îú‚îÄ‚îÄ aiohttp v3.11.18
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aiohappyeyeballs v2.6.1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aiosignal v1.3.2
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ frozenlist v1.7.0
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attrs v25.3.0
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ frozenlist v1.7.0
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ multidict v6.4.4
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ propcache v0.3.2
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ yarl v1.20.1
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ idna v3.10
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ multidict v6.4.4
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ propcache v0.3.2
‚îÇ   ‚îú‚îÄ‚îÄ certifi v2025.4.26
‚îÇ   ‚îú‚îÄ‚îÄ magic-filter v1.0.12
‚îÇ   ‚îú‚îÄ‚îÄ pydantic v2.9.2
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ annotated-types v0.7.0
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pydantic-core v2.23.4
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ typing-extensions v4.14.0
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ typing-extensions v4.14.0
‚îÇ   ‚îî‚îÄ‚îÄ typing-extensions v4.14.0
‚îú‚îÄ‚îÄ pydantic v2.9.2 (*)
‚îú‚îÄ‚îÄ pydantic-settings v2.9.1
‚îÇ   ‚îú‚îÄ‚îÄ pydantic v2.9.2 (*)
‚îÇ   ‚îú‚îÄ‚îÄ python-dotenv v1.1.0
‚îÇ   ‚îî‚îÄ‚îÄ typing-inspection v0.4.1
‚îÇ       ‚îî‚îÄ‚îÄ typing-extensions v4.14.0
‚îú‚îÄ‚îÄ shazamio v0.8.0
‚îÇ   ‚îú‚îÄ‚îÄ aiofiles v23.2.1
‚îÇ   ‚îú‚îÄ‚îÄ aiohttp v3.11.18 (*)
‚îÇ   ‚îú‚îÄ‚îÄ aiohttp-retry v2.9.1
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ aiohttp v3.11.18 (*)
‚îÇ   ‚îú‚îÄ‚îÄ anyio v4.3.0
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ idna v3.10
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sniffio v1.3.1
‚îÇ   ‚îú‚îÄ‚îÄ dataclass-factory v2.16
‚îÇ   ‚îú‚îÄ‚îÄ numpy v2.2.2
‚îÇ   ‚îú‚îÄ‚îÄ pydantic v2.9.2 (*)
‚îÇ   ‚îú‚îÄ‚îÄ pydub v0.25.1
‚îÇ   ‚îî‚îÄ‚îÄ shazamio-core v1.1.2
‚îî‚îÄ‚îÄ structlog v25.4.0
(*) Package tree already displaye
</code></pre>
<p>I&#x27;m not quite sure how to check versions restrictions in <code>uv.lock</code> or with commands (and if it&#x27;s possible at all), but in <code>shazamio</code> there&#x27;s a <a href="https://github.com/shazamio/ShazamIO/blob/c1a81f92f050b68893a4bc287ba82104bb6ab3c3/pyproject.toml#L25">hard</a> requirement for <code>pydantic = &quot;2.9.2&quot;</code>.</p>
<p>To proof that this is the cause of the issue:</p>
<pre><code>$ uv remove shazamio
Resolved 22 packages in 25ms
Uninstalled 8 packages in 181ms
 - aiohttp-retry==2.9.1
 - anyio==4.3.0
 - dataclass-factory==2.16
 - numpy==2.2.2
 - pydub==0.25.1
 - shazamio==0.8.0
 - shazamio-core==1.1.2
 - sniffio==1.3.1

$ uv add -U pydantic
Resolved 22 packages in 152ms
Prepared 3 packages in 2ms
Uninstalled 3 packages in 24ms
‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë [0/3] Installing wheels...                                                                                                                                                          warning: Failed to hardlink files; falling back to full copy. This may lead to degraded performance.                                                                                                     
         If the cache and target directories are on different filesystems, hardlinking may not be supported.
         If this is intentional, set `export UV_LINK_MODE=copy` or use `--link-mode=copy` to suppress this warning.
Installed 3 packages in 47ms
 - aiofiles==23.2.1
 + aiofiles==24.1.0
 - pydantic==2.9.2
 + pydantic==2.11.5
 - pydantic-core==2.23.4
 + pydantic-core==2.33.2
</code></pre>
<p>@zanieb hey!
Sorry for pinging. Is there a way/plan to maybe notify user in the result of <code>uv add -U &lt;package&gt;</code> or <code>uv lock -U</code> why packages update is not possible? I can create a new issue if it&#x27;s needed and will help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Danipulok">@Danipulok</a> on 2025-06-11 04:03</div>
            <div class="timeline-body"><blockquote>
<p>For <code>&gt;=</code> specifically, yeah <code>--upgrade</code> should work. Note that sometimes, when there are version conflicts, you may not get the latest version, but that is a general limitation that everyone including pip has, not one of <code>--upgrade</code>. (The classic example is that you depend on foo and bar, both with versions 1 and 2, and foo 2 depends bar 1: We can&#x27;t select foo 2 and bar 2 at the same time)</p>
</blockquote>
<p>Noticed this just now. It&#x27;s understandable and nice and should work like this. But when you execute the command and see</p>
<pre><code>$ uv add pydantic -U
Resolved 30 packages in 191ms
Audited 29 packages in 0.03ms
</code></pre>
<p>with no additional info it&#x27;s not intuitive at all why there&#x27;s no update and the user will probably think something is broken.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-11 15:28</div>
            <div class="timeline-body"><p>These comments aren&#x27;t really on topic for this issue, I&#x27;ve opened a couple new issues for discussion</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/13968</li>
<li>https://github.com/astral-sh/uv/issues/13970</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Danipulok">@Danipulok</a> on 2025-06-11 18:16</div>
            <div class="timeline-body"><blockquote>
<p>These comments aren&#x27;t really on topic for this issue, I&#x27;ve opened a couple new issues for discussion</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/13968</li>
<li>https://github.com/astral-sh/uv/issues/13970</li>
</ul>
</blockquote>
<p>@zanieb thank you very much! Really appreciate it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Rikhil-Nell">@Rikhil-Nell</a> on 2025-12-17 05:15</div>
            <div class="timeline-body"><p>@bryant1410</p>
<p>in the method you suggested</p>
<pre><code>uv lock --upgrade
uv sync
</code></pre>
<p>I have noticed that the pyproject.toml doesn&#x27;t reflect the update versions, any suggestions for this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Danipulok">@Danipulok</a> on 2025-12-17 05:45</div>
            <div class="timeline-body"><p>@Rikhil-Nell this is okay and that&#x27;s how it&#x27;s supposed to work. Your project supports both 1.1 and 1.2 versions, for example. If you want to drop support for 1.1, then you have to manually mark it in <code>pyproject.toml</code>. But cases when this is actually needed are pretty rare</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ba05">@ba05</a> on 2025-12-17 21:02</div>
            <div class="timeline-body"><blockquote>
<p><a href="https://github.com/bryant1410">@bryant1410</a></p>
<p>in the method you suggested</p>
<pre><code>uv lock --upgrade
uv sync
</code></pre>
<p>I have noticed that the pyproject.toml doesn&#x27;t reflect the update versions, any suggestions for this?</p>
</blockquote>
<p>Would be nice if there was an ‚Äú‚Äîupdate-toml-deps‚Äù or similar argument.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:22 UTC
    </footer>
</body>
</html>
