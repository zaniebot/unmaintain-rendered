<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv pip compile does not indicate whether dependencies originate from the main package or from additional extras - astral-sh/uv #1665</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv pip compile does not indicate whether dependencies originate from the main package or from additional extras</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1665">#1665</a>
        opened by <a href="https://github.com/neumann-nico">@neumann-nico</a>
        on 2024-02-18 20:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/neumann-nico">@neumann-nico</a> on 2024-02-18 20:00</div>
            <div class="timeline-body"><p>Extras are actually generated correctly but not indicated where they come from in the output file. You don't know if a dependency is part of the main package or if it is generated from an extra. This is an incompatibility with pip-compile.</p>
<p>(The <code>via -r ...</code> part, which is also different in the output, was already mentioned in #1343)</p>
<p><code>psycopg[binary,pool]==3.1.18</code> -&gt; <code>psycopg==3.1.18</code>
<code>[binary,pool]</code> is missing in the output.</p>
<p>But the extras are generated correctly:</p>
<pre><code>psycopg-binary==3.1.18
    # via psycopg
psycopg-pool==3.2.1
    # via psycopg
</code></pre>
<p>Steps to reproduce it:</p>
<p>requirements.in</p>
<pre><code>psycopg[binary,pool]==3.1.18
</code></pre>
<p><code>uv pip compile requirements.in</code></p>
<pre><code># This file was autogenerated by uv v0.1.4 via the following command:
#    uv pip compile requirements.in
psycopg==3.1.18
psycopg-binary==3.1.18
    # via psycopg
psycopg-pool==3.2.1
    # via psycopg
typing-extensions==4.9.0
    # via
    #   psycopg
    #   psycopg-pool
</code></pre>
<p><code>pip-compile requirements.in</code></p>
<pre><code># This file is autogenerated by pip-compile with Python 3.10
# by the following command:
#
#    pip-compile requirements.in
#
psycopg[binary,pool]==3.1.18
    # via -r requirements.in
psycopg-binary==3.1.18
    # via psycopg
psycopg-pool==3.2.1
    # via psycopg
typing-extensions==4.9.0
    # via
    #   psycopg
    #   psycopg-pool
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv pip compile does not display where the extras come from" to "uv pip compile does not indicate whether dependencies originate from the main package or from additional extras" by @neumann-nico on 2024-02-18 20:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 21:04</div>
            <div class="timeline-body"><p>Is this a duplicate of https://github.com/astral-sh/uv/issues/1595?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-02-18 21:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/neumann-nico">@neumann-nico</a> on 2024-02-18 21:07</div>
            <div class="timeline-body"><p>Sorry I used the search but actually did not see the mentioned issue. Closing this one üëçüèª</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @neumann-nico on 2024-02-18 21:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-09 14:43</div>
            <div class="timeline-body"><p>Supported in the next version via https://github.com/astral-sh/uv/pull/3269.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:22 UTC
    </footer>
</body>
</html>
