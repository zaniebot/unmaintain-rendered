<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv init` fails when called from Claude Code's sandbox on macOS - astral-sh/uv #16916</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv init</code> fails when called from Claude Code&#x27;s sandbox on macOS</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16916">#16916</a>
        opened by <a href="https://github.com/buth">@buth</a>
        on 2025-12-01 21:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/buth">@buth</a></div>
            <div class="timeline-body">Summary
<p>The <code>uv init</code> panics when run within <a href="https://www.claude.com/product/claude-code">Claude Code&#x27;s</a> <a href="https://code.claude.com/docs/en/sandboxing">sandbox</a>. I&#x27;m guessing this is a similar problem to #16664.</p>
<pre><code>
╭─── Claude Code v2.0.55 ───────────────────────────────────────────────────────────────────╮
│                                    │ Tips for getting started                             │
│           Welcome back!            │ Ask Claude to create a new app or clone a repository │
│                                    │ ──────────────────────────────────────────────────── │
│              ▗ ▗   ▖ ▖             │ Recent activity                                      │
│                                    │ No recent activity                                   │
│                ▘▘ ▝▝               │                                                      │
│                                    │                                                      │
│   Sonnet 4.5 · API Usage Billing   │                                                      │
│        /private/tmp/claude        │                                                      │
╰───────────────────────────────────────────────────────────────────────────────────────────╯

  Your bash commands will be sandboxed. Disable with /sandbox.

&gt; can you create a new python cli project using uv? 

⏺ I&#x27;ll help you create a new Python CLI project using uv. Let me start by checking if uv is installed and then create the
  project.

⏺ Bash(uv --version)
  ⎿  uv 0.9.13 (Homebrew 2025-11-26)

⏺ Great! uv is installed. Now I&#x27;ll create a new Python CLI project. Let me initialize a new project:

⏺ Bash(uv init my-cli-app --app)
  ⎿  Error: Exit code 101

     thread &#x27;main2&#x27; (35729760) panicked at /Users/brew/Library/Caches/Homebrew/cargo_cache/registry/src/index.crates.io-1949cf8c6b5
     b557f/system-configuration-0.6.1/src/dynamic_store.rs:154:1:
     Attempted to create a NULL object.
     note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

     thread &#x27;main&#x27; (35729758) panicked at /private/tmp/uv-20251126-7963-rnw244/uv-0.9.13/crates/uv/src/lib.rs:2483:10:
     Tokio executor failed, was there a panic?: Any { .. }
</code></pre>
Platform
<p>Darwin 25.1.0 arm64</p>
Version
<p>uv 0.9.13 (Homebrew 2025-11-26)</p>
Python version
<p>Python 3.14.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/buth">@buth</a> on 2025-12-01 21:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-01 22:05</div>
            <div class="timeline-body"><p>This is fixed upstream but unreleased</p>
<ul>
<li>https://github.com/mullvad/system-configuration-rs/pull/59</li>
<li>https://github.com/mullvad/system-configuration-rs/issues/71</li>
<li>https://github.com/mullvad/system-configuration-rs/issues/72</li>
</ul>
<p>See also</p>
<ul>
<li>https://github.com/openai/codex/issues/1457</li>
<li>https://github.com/openai/codex/issues/5914</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">external</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-01 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-09 13:09</div>
            <div class="timeline-body"><p>Now we&#x27;re blocked on <a href="https://github.com/hyperium/hyper-util/pull/256">hyperium/hyper-util#256</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:41:10 UTC
    </footer>
</body>
</html>
