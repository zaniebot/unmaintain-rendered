<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installing library from a directory recursively cloned - astral-sh/uv #12846</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Installing library from a directory recursively cloned</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12846">#12846</a>
        opened by <a href="https://github.com/AnirudhG07">@AnirudhG07</a>
        on 2025-04-11 21:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AnirudhG07">@AnirudhG07</a></div>
            <div class="timeline-body">Question
<p>I am trying to implement <a href="https://github.com/graphdeco-inria/gaussian-splatting">gaussian splatting</a>, which has a <a href="https://github.com/graphdeco-inria/gaussian-splatting/tree/main/submodules">submodule/simple-knn</a> to be installed.
In usual python, this is done with <code>pip install submodules/simple-knn</code>, but when i do <code>uv add</code> or <code>uv pip install submodule/simple-knn</code>, it gives the below error</p>
<pre><code>❯ uv add  submodules/simple-knn
error: The build backend returned an error
  Caused by: Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit status: 1)

[stderr]
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 14, in &lt;module&gt;
  File &quot;/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 334, in get_requires_for_build_wheel
    return self._get_build_requires(config_settings, requirements=[])
  File &quot;/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 304, in _get_build_requires
    self.run_setup()
  File &quot;/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 522, in run_setup
    super().run_setup(setup_script=setup_script)
  File &quot;/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 320, in run_setup
    exec(code, locals())
  File &quot;&lt;string&gt;&quot;, line 13, in &lt;module&gt;
ModuleNotFoundError: No module named &#x27;torch&#x27;

hint: This error likely indicates that `file:///home/anirudhgupta/main/projects/gaussian-splatting/submodules/simple-knn` depends on `torch`, but doesn&#x27;t declare it as a build dependency. If `file:///home/anirudhgupta/main/projects/gaussian-splatting/submodules/simple-knn` is a first-party package, consider adding `torch` to its `build-system.requires`. Otherwise, `uv pip install torch` into the environment and re-run with `--no-build-isolation`.
</code></pre>
<p>And I have <code>torch</code> and tried the flag suggestion(only). With this, I got the below error</p>

Toggle to see

<pre><code>❯ uv add --no-build-isolation submodules/simple-knn
Resolved 29 packages in 7ms
  x Failed to build `simple-knn @ file:///home/anirudhgupta/main/projects/gaussian-splatting/submodules/simple-knn`
  |-&gt; The build backend returned an error
  `-&gt; Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit status: 1)

      [stdout]
      running bdist_wheel
      running build
      running build_ext

      [stderr]
      Traceback (most recent call last):
        File &quot;&lt;string&gt;&quot;, line 11, in &lt;module&gt;
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 435, in build_wheel
          return _build([&#x27;bdist_wheel&#x27;])
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 426, in _build
          return self._build_with_temp_dir(
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 407, in _build_with_temp_dir
          self.run_setup()
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 522, in run_setup
          super().run_setup(setup_script=setup_script)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 320, in run_setup
          exec(code, locals())
        File &quot;&lt;string&gt;&quot;, line 21, in &lt;module&gt;
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/__init__.py&quot;, line 117, in setup
          return distutils.core.setup(**attrs)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/core.py&quot;, line 186, in setup
          return run_commands(dist)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/core.py&quot;, line 202, in run_commands
          dist.run_commands()
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py&quot;, line 1002, in run_commands
          self.run_command(cmd)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/dist.py&quot;, line 1104, in run_command
          super().run_command(command)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py&quot;, line 1021, in run_command
          cmd_obj.run()
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/command/bdist_wheel.py&quot;, line 370, in run
          self.run_command(&quot;build&quot;)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/cmd.py&quot;, line 357, in run_command
          self.distribution.run_command(command)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/dist.py&quot;, line 1104, in run_command
          super().run_command(command)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py&quot;, line 1021, in run_command
          cmd_obj.run()
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/command/build.py&quot;, line 135, in run
          self.run_command(cmd_name)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/cmd.py&quot;, line 357, in run_command
          self.distribution.run_command(command)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/dist.py&quot;, line 1104, in run_command
          super().run_command(command)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py&quot;, line 1021, in run_command
          cmd_obj.run()
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/command/build_ext.py&quot;, line 99, in run
          _build_ext.run(self)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/command/build_ext.py&quot;, line 368, in run
          self.build_extensions()
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/torch/utils/cpp_extension.py&quot;, line 552, in build_extensions
          _check_cuda_version(compiler_name, compiler_version)
        File &quot;/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/torch/utils/cpp_extension.py&quot;, line 447, in _check_cuda_version
          raise RuntimeError(CUDA_MISMATCH_MESSAGE.format(cuda_str_version, torch.version.cuda))
      RuntimeError:
      The detected CUDA version (11.5) mismatches the version that was used to compile
      PyTorch (12.4). Please make sure to use the same CUDA versions.


      hint: This usually indicates a problem with the package or the build environment.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and syncing.
</code></pre>


<p>When I try the <code>--frozen</code> command, it does not fix the dependency issue of the package. Please help with this.</p>
<p>In the repo, they have used <code>conda</code> to fix this. Please share how to do this with <code>uv</code>! Thanks</p>
Platform
<p>Ubuntu 22.04</p>
Version
<p>0.6.14</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/AnirudhG07">@AnirudhG07</a> on 2025-04-11 21:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AnirudhG07">@AnirudhG07</a> on 2025-04-11 21:54</div>
            <div class="timeline-body"><p>Nevermind. Fixed it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AnirudhG07">@AnirudhG07</a> on 2025-04-11 21:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:13 UTC
    </footer>
</body>
</html>
