<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv tool python, error: externally-managed-environment - astral-sh/uv #16198</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv tool python, error: externally-managed-environment</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16198">#16198</a>
        opened by <a href="https://github.com/GKTheOne">@GKTheOne</a>
        on 2025-10-09 07:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GKTheOne">@GKTheOne</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>I have python versions 3.12.11, 3.13.0, 3.13.4, and 3.14.0 installed.
I want to install the poetry tool using python 3.12 (13+14 have issues with emoji/ansi on my setup).
When I install poetry using <code>uv tool install poetry --python 3.12</code>, and then install/sync the environment, I end up with an <code>error: externally-managed-environment</code> (<code>This Python installation is managed by uv and should not be modified.</code>).
The odd thing here is that it appears to be using the project virtual environment ðŸ¤·
(<code>Command ['&lt;redacted&gt;\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\&lt;redacted&gt;-py3.12\\Scripts\\python.exe', '-m', 'pip', 'uninstall', 'pywin32', '-y'] errored with the following return code 1</code>)
However, when I delete all other version of python and only have python 3.12.11 installed before installing the poetry tool, the poetry install/sync of the environment works properly.</p>
<p>My question is (what) am I doing wrong/stupid? Before I make this a bug issue I'd like to know if it's just PBKAC?</p>
<h3>Platform</h3>
<p>Windows 11</p>
<h3>Version</h3>
<p>uv 0.9.0 (39b688653 2025-10-07)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @GKTheOne on 2025-10-09 07:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-09 15:30</div>
            <div class="timeline-body"><blockquote>
<p>When I install poetry using uv tool install poetry --python 3.12, and then install/sync the environment</p>
</blockquote>
<p>What do you mean with <code>then install/sync the environment</code>? Can you share the sequence of commands you ran and their output?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/GKTheOne">@GKTheOne</a> on 2025-10-10 01:12</div>
            <div class="timeline-body"><p>Apologies, I meant 'install/sync the project environment (via <code>poetry install</code> or <code>poetry sync</code>)'.</p>
<p>After further experimentation it turns out this is likely a <a href="https://github.com/python-poetry/poetry/issues/10490">poetry (or virtualenv) bug #10490</a>. It exists in poetry versions 2.1.4, 2.2.0, &amp; 2.2.1 installed into my setup. Luckily poetry 2.1.3 does not have the problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @GKTheOne on 2025-10-10 01:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:06 UTC
    </footer>
</body>
</html>
