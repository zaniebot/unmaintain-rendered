<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv export --only-dev` does not work if used with `--frozen` - astral-sh/uv #7577</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv export --only-dev` does not work if used with `--frozen`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/7577">#7577</a>
        opened by <a href="https://github.com/mikeleppane">@mikeleppane</a>
        on 2024-09-20 10:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mikeleppane">@mikeleppane</a> on 2024-09-20 10:02</div>
            <div class="timeline-body"><p>If I want to export only development dependencies using <code>--only-dev</code>, it does not seem to work with the <code>frozen</code> option.</p>
<pre><code class="language-bash">uv export --frozen --only-dev -o requirements-dev.txt
</code></pre>
<p>This is the output I get; only the header and the actual dependencies are missing.</p>
<pre><code class="language-txt"> # This file was autogenerated by uv via the following command:
 # uv export --frozen --only-dev
</code></pre>
<p>But when I remove <code>--frozen,</code> it works. I don't want <code>uv</code> to touch the lock file when I only want to export dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv export --no-dev` does not work if used with `--frozen`" to "`uv export --only-dev` does not work if used with `--frozen`" by @mikeleppane on 2024-09-20 10:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-09-20 14:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-20 14:11</div>
            <div class="timeline-body"><p>I can take a look today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikeleppane">@mikeleppane</a> on 2024-09-20 14:59</div>
            <div class="timeline-body"><p>@charliermarsh I was wondering whether we should avoid re-locking the project when exporting. The <code>uv</code> will only update the lock file when requested or not allow it at all. What's the use case for updating the lock file during export? It would be surprising if I didn't know the behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-20 17:18</div>
            <div class="timeline-body"><p>The whole uv project API works that way (<code>uv lock</code>, <code>uv sync</code>, <code>uv run</code>, <code>uv export</code>) -- we make sure that the environment is always consistent with your dependencies. You can always skip it with <code>--frozen</code> (or ensure that it's up-to-date, but don't modify iy, with <code>--locked</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-20 17:19</div>
            <div class="timeline-body"><p>This is actually working as expected for me:</p>
<pre><code>‚ùØ uv export --frozen --only-dev
# This file was autogenerated by uv via the following command:
#    uv export --frozen --only-dev
anyio==4.5.0 \
    --hash=sha256:c5a275fe5ca0afd788001f58fca1e69e29ce706d746e317d660e21f70c530ef9 \
    --hash=sha256:fdeb095b7cc5a5563175eedd926ec4ae55413bb4be5770c424af0ba46ccb4a78
exceptiongroup==1.2.2 ; python_full_version &lt; '3.11' \
    --hash=sha256:47c2edf7c6738fafb49fd34290706d1a1a2f4d1c6df275526b62cbb4aa5393cc \
    --hash=sha256:3111b9d131c238bec2f8f516e123e14ba243563fb135d3fe885990585aa7795b
idna==3.10 \
    --hash=sha256:12f65c9b470abda6dc35cf8e63cc574b1c52b11df2c86030af0ac09b01b13ea9 \
    --hash=sha256:946d195a0d259cbba61165e88e65941f16e9b36ea6ddb97f00452bae8b1287d3
sniffio==1.3.1 \
    --hash=sha256:f4324edc670a0f49750a81b895f35c3adb843cca46f0530f79fc1babb23789dc \
    --hash=sha256:2f6da418d1f1e0fddd844478f41680e794e6051915791a034ff65e5f100525a2
typing-extensions==4.12.2 ; python_full_version &lt; '3.11' \
    --hash=sha256:1a7ead55c7e559dd4dee8856e3a88b41225abfe1ce8df57b7c13915fe121ffb8 \
    --hash=sha256:04e5ca0351e0f3f85c6853954072df659d0d13fac324d0072316b67d7794700d
</code></pre>
<p>Can you help provide a minimal example I can reproduce?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2024-09-20 17:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikeleppane">@mikeleppane</a> on 2024-09-20 18:31</div>
            <div class="timeline-body"><p>Okay, it works now for me. I probably forgot to sync the project. I manually copied dev dependencies from another project. I'm sorry for any trouble caused.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-20 18:32</div>
            <div class="timeline-body"><p>No prob!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-20 18:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:22 UTC
    </footer>
</body>
</html>
