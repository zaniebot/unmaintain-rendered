<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for `UV_GROUP` environment variable that acts like the CLI `--group` argument - astral-sh/uv #11958</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support for `UV_GROUP` environment variable that acts like the CLI `--group` argument</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11958">#11958</a>
        opened by <a href="https://github.com/iloveitaly">@iloveitaly</a>
        on 2025-03-04 18:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/iloveitaly">@iloveitaly</a> on 2025-03-04 18:32</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Right now, the only way to add an additional group to install to the uvsync command is to manually add the group as a CLI argument:</p>
<pre><code>uv sync --group debugging-extras
</code></pre>
<p>It would be great if this argument could be added via environment variables as well. Or, even better, maybe allow additional CLI args to be specified via a generic var like <code>UV_CLI_ARGS</code>.</p>
<p>This is somewhat related to:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/11183</li>
<li>https://github.com/astral-sh/uv/issues/10934</li>
</ul>
<h3>Example</h3>
<pre><code>UV_GROUP=debugging-extras
</code></pre>
<p>Or, even better, the ability to specify multiple groups:</p>
<pre><code>UV_GROUP=debugging-extras,other-group
</code></pre>
<p>The most flexible solution would be something like:</p>
<pre><code>UV_CLI_ARGS='--group debugging-extras --group other-group`
</code></pre>
<p>The benefit here is being able to install an additional group by default without changing the code committed to a Git repository. To be more concrete, imagine a developer setup where you want additional debugging tools installed, but you do not want those tools installed on CI, staging, or other environments where you would install the <code>dev</code> group.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @iloveitaly on 2025-03-04 18:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-04 18:36</div>
            <div class="timeline-body"><p>I would recommend changing the default groups and using <code>--no-default-groups --dev</code> in CI etc</p>
<p>We can consider supporting <code>UV_GROUP</code> though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/iloveitaly">@iloveitaly</a> on 2025-03-05 18:57</div>
            <div class="timeline-body"><p>The problem with that approach, is you need to modify your build system, which isn't always possible (in the case of <code>nixpacks</code> you'd have to run a custom-built rust binary in your deployment pipeline).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-05 19:05</div>
            <div class="timeline-body"><blockquote>
<p>The problem with that approach, is you need to modify your build system, which isn't always possible</p>
</blockquote>
<p>Like, you can't pass the arguments through?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/iloveitaly">@iloveitaly</a> on 2025-03-06 18:04</div>
            <div class="timeline-body"><p>Nope:</p>
<p>https://github.com/railwayapp/nixpacks/blob/bcd9bfe0a2005e0f5a72f96f385579eae5052e5c/src/providers/python.rs#L254-L256</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jvacek">@jvacek</a> on 2025-10-08 14:07</div>
            <div class="timeline-body"><p>I would really appreciate having an env var equivalents to <code>--no-default-groups</code>, <code>--group</code>, <code>--only-group</code> etc.</p>
<p>Currently, in our CI, I need to define variables for these, pass them through to the job, and then deal with the absence/presence at shell level.</p>
<p>Absorbing the env vars would be far cleaner in my opinion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rtpg">@rtpg</a> on 2025-12-11 00:33</div>
            <div class="timeline-body"><p>In our usecase, people have basically trained themselves to type <code>uv sync</code> to update stuff.</p>
<p>We have some optional dependency groups that don't <em>really</em> belong in <code>dev</code> but are useful for most local setups. And, importantly, because we use <code>direnv</code> we have a straightforward way to roll out environment variable changes to local setups.</p>
<p>Being able to provide the &quot;default&quot; targets for <code>uv sync</code> through env vars would be nice. Though one could argue &quot;stop calling <code>uv sync</code> directly!&quot; is a real alternative.</p>
<p>I suppose the guiding light here is that while CI and friends are automated, local dev tends to be people tying in things manually, so in those situations the more we can configure things smoothly to roll them out to other members of the team, the better.</p>
<p>or shorter: does the existence of <code>UV_NO_GROUP</code> not imply the existence of <code>UV_GROUP</code>? ðŸ˜„</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:26 UTC
    </footer>
</body>
</html>
