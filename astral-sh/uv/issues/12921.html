<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Respect --global Python pins during uv tool operations - astral-sh/uv #12921</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Respect --global Python pins during uv tool operations</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/12921">#12921</a>
        opened by <a href="https://github.com/jtfmumm">@jtfmumm</a>
        on 2025-04-16 16:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jtfmumm">@jtfmumm</a> on 2025-04-16 16:14</div>
            <div class="timeline-body"><p>We currently support pinning a global Python version via <code>uv python pin 3.12 --global</code>. But <code>uv tool</code> operations do not use this global pin. They should also respect the global pin (when a local Python version pin is not found in the working directory or an ancestor directory).</p>
<p>There is still design work to do here. It seems pretty clear that the above behavior should apply when installing a tool for the first time. But we have to determine how <code>uv tool</code> should behave on reinstalls and upgrades. Should it respect the global pin or the version it was originally installed with? If the latter, should we only ignore the global pin if the version was originally explicitly set with <code>--python</code>?</p>
<p>It seems intuitive that installing with <code>--python</code> would ensure that future reinstalls and upgrades would use the same version. My inclination is that otherwise the global pin should be respected, even if it has changed since a tool was initially installed. That allows uv to be consistent in how it looks up the Python version to use (with <code>--python</code> always taking precedence).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @jtfmumm on 2025-04-16 16:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-16 16:19</div>
            <div class="timeline-body"><p>I would maybe rephrase as &quot;Respect <code>--global</code> Python pins during <code>uv tool</code> operations&quot;? It's also ignored during <code>uvx</code>.</p>
<p>We could probably support <code>uv tool run</code> easier than <code>uv tool install</code>. The latter has more complexity per the brief discussion at https://github.com/astral-sh/uv/pull/12115#discussion_r1992222278</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Support global Python pin for uv tool install" to "Respect --global Python pins during uv tool operations" by @jtfmumm on 2025-04-16 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8135.html">astral-sh/uv#8135</a> on 2025-04-17 12:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikelei8291">@mikelei8291</a> on 2025-05-22 21:24</div>
            <div class="timeline-body"><p>Why does the documentation for <a href="https://docs.astral.sh/uv/reference/cli/#uv-python-pin--global"><code>uv python pin --global</code></a> already state that commands like <code>uv tool install</code> would use the pin, when they actually do not?</p>
<blockquote>
<p>Unlike local version pins, this version is used as the default for commands that mutate global state, like <code>uv tool install</code>.</p>
</blockquote>
<p>It's really confusing and frustrating when the program doesn't do what the documentation says. If this isn't going to be fixed soon, I think it's better to just remove this line first and add it back later when the issue is actually fixed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/13611.html">astral-sh/uv#13611</a> on 2025-05-23 05:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on 2025-05-23 07:05</div>
            <div class="timeline-body"><p>@mikelei8291 Thank you for catching this. I've fixed the documentation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10711.html">astral-sh/uv#10711</a> on 2025-06-17 06:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14112.html">astral-sh/uv#14112</a> on 2025-06-18 23:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:27 UTC
    </footer>
</body>
</html>
