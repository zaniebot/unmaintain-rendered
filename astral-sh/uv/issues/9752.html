<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>allow global configuration of project environments - astral-sh/uv #9752</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>allow global configuration of project environments</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/9752">#9752</a>
        opened by <a href="https://github.com/mbtuckersimm">@mbtuckersimm</a>
        on 2024-12-09 21:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mbtuckersimm">@mbtuckersimm</a> on 2024-12-09 21:58</div>
            <div class="timeline-body"><p>I recently encountered <a href="https://github.com/ansible/ansible-lint/issues/4348">this problem installing ansible-lint</a> for a work project. I won't reproduce all of that info here, but the gist of it is that in order to install a recent version of <code>ansible-lint</code>, I had to include the following chunk in my <code>pyproject.toml</code> file:</p>
<pre><code>[tool.uv]
environments = [&quot;platform_system != 'Windows'&quot;]
</code></pre>
<p>This is fine, and I understand that this isn't really a problem with <code>uv</code> itself, but my work uses only Linux and macOS, and we'd like to configure this globally to avoid any potential problems with dependencies on Windows, and not have to remember to add this bit of config to the <code>pyproject.toml</code> file every time we start a new python project.</p>
<p>I tried adding</p>
<pre><code>environments = [&quot;platform_system != 'Windows'&quot;]
</code></pre>
<p>to my <code>~/.config/uv/uv.toml</code> file, but it didn't help. My reading of the relevant <a href="https://docs.astral.sh/uv/reference/settings/#environments">documentation</a> is that this is just a per-project setting, and that it can't be set globally. I also did not see any relevant environment variables that could be set, although perhaps I missed something.</p>
<p>So, I guess the question is: is there a way to set this globally? If not, please consider adding this feature.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cassieopea">@cassieopea</a> on 2024-12-09 22:26</div>
            <div class="timeline-body"><p>This affects not only my work but also my personal projects. It would be great if I could globally specify a list of default platform or platforms like:</p>
<pre><code class="language-toml">platforms = [&quot;linux&quot;, &quot;macos&quot;]
</code></pre>
<p>Another option would be to have project templates that allow you to easily reproduce core settings without braving the uncertainties of copypasta.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-07 19:24</div>
            <div class="timeline-body"><p>I don't think we can have a global configuration for environments â€” that would invalidate the lockfile in projects.</p>
<p>We could have a global default for <code>uv init</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2025-01-07 19:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../ansible/ansible-lint/issues/4348.html">ansible/ansible-lint#4348</a> on 2025-01-12 07:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:31:47 UTC
    </footer>
</body>
</html>
