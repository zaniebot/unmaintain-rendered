<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv-installed Python 3.13 killed on launch until manually codesigned - astral-sh/uv #16003</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv-installed Python 3.13 killed on launch until manually codesigned</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16003">#16003</a>
        opened by <a href="https://github.com/ouatu-ro">@ouatu-ro</a>
        on 2025-09-23 15:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ouatu-ro">@ouatu-ro</a></div>
            <div class="timeline-body">Summary
<p>On macOS (Apple Silicon, Sequoia), a <code>uv python install</code>ed interpreter is killed immediately on launch due to missing code signature.
Ad-hoc signing fixes it, but it&#x27;s not obvious to users.</p>
<p><strong>Steps to reproduce</strong></p>
<pre><code>uv python install 3.13

PY313=&quot;$HOME/.local/share/uv/python/cpython-3.13.2-macos-aarch64-none/bin/python3.13&quot;
&quot;$PY313&quot; -V
</code></pre>
<p>or</p>
<pre><code>uv init
uv venv 
uv sync
source .venv/bin/activate
python
</code></pre>
<p>Result:</p>
<pre><code>[1]    49240 killed     &quot;$PY313&quot; -V
</code></pre>
<p>Diagnostics:</p>
<pre><code>spctl -a -vv &quot;$PY313&quot;
/Users/[my_user]/.local/share/uv/python/cpython-3.13.2-macos-aarch64-none/bin/python3.13: rejected

xattr -p com.apple.quarantine &quot;$PY313&quot;
# =&gt; no quarantine
</code></pre>
<p>Workaround:</p>
<pre><code>codesign --force -s - &quot;$PY313&quot;
&quot;$PY313&quot; -V
# =&gt; Python 3.13.2
</code></pre>
<p><strong>Expected behavior</strong></p>
<p><code>uv python install</code> should produce an interpreter that runs out of the box, without requiring the user to manually <code>codesign</code>.</p>
<p><strong>Actual behavior</strong></p>
<p>Interpreter is killed immediately by macOS AMFI/ExecPolicy until manually signed.</p>
<p><strong>Additional context</strong></p>
<ul>
<li><code>spctl</code> shows &quot;rejected&quot; because the binary is unsigned, not because of quarantine.</li>
<li>Removing <code>com.apple.quarantine</code> attributes doesn&#x27;t help.</li>
<li><code>codesign --force -s -</code> (ad-hoc sign) fixes it.</li>
<li>This happens for 3.13.2 on Sequoia;</li>
</ul>
<p><strong>Possible fix</strong></p>
<ul>
<li>Strip <code>com.apple.quarantine</code> attributes and ad-hoc sign binaries at install time.</li>
<li>Or document that users on macOS â‰¥ Sequoia must run <code>codesign -s -</code> on uv-installed interpreters.</li>
</ul>
<p><strong>Additional note</strong></p>
<ul>
<li>I first observed this inside VS Code.</li>
<li>It may be specific to interpreters launched from sandboxed GUI apps on macOS,  but I have not confirmed whether it also occurs when running the binary  directly from a terminal.</li>
</ul>
Platform
<p>macOS 15.5 (24F74)</p>
Version
<p>uv 0.6.5</p>
Python version
<p>python 3.13</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/ouatu-ro">@ouatu-ro</a> on 2025-09-23 15:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-23 16:03</div>
            <div class="timeline-body"><p>Thanks for the report.</p>
<p>cc @geofft</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:27 UTC
    </footer>
</body>
</html>
