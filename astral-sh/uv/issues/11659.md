```yaml
number: 11659
title: "differences between pip & uv for opencv"
type: issue
state: closed
author: nim65s
labels:
  - bug
assignees: []
created_at: 2025-02-20T10:18:30Z
updated_at: 2025-02-20T11:26:16Z
url: https://github.com/astral-sh/uv/issues/11659
synced_at: 2026-01-10T01:57:26Z
```

# differences between pip & uv for opencv

---

_Issue opened by @nim65s on 2025-02-20 10:18_

### Summary

Hi,

Installing opencv-python & opencv-contrib-python from uv, or from pip (through `uv export > requirements.txt` then `pip install -r requirements.txt`) has the strange difference that accessing `cv2.ppf_match_3d_ICP` fail in the first case but success in the second.

Here is an example: https://github.com/nim65s/cv2-uv/actions.

`pip freeze` / `uv pip freeze` outputs are the same, though.

Am I missing anything ?

### Platform

ubuntu 24.04

### Version

0.6.2

### Python version

3.13

---

_Label `bug` added by @nim65s on 2025-02-20 10:18_

---

_Comment by @konstin on 2025-02-20 11:20_

Thank for the clear reproducer!

Both opencv-python and opencv-contrib-python contain a `cv2` module with a `cv2/__init__.py`, but the content is different. By installing both, it's up to change which package "wins" by being installed last and overwriting the other package. It seems that your use case is only working if `opencv-contrib-python==4.11.0.86` is installed (or at least, installed last), while `opencv-python==4.11.0.86` doesn't work. Can you try removing `opencv-python==4.11.0.86` from your package?

---

_Comment by @nim65s on 2025-02-20 11:26_

Oh, you are right, I should have read opencv wheel doc ðŸ˜… 

The test on the reproducer show this is fixed.

I wish we had a way to declare incompatibilities between packages (here, opencv-contrib-python include opencv-python, so the first should declare that it "provide" or "conflict" with the secondâ€¦), but no: https://discuss.python.org/t/can-python-package-metadata-wheels-explicitly-conflict-or-replace-others/39966

---

_Closed by @nim65s on 2025-02-20 11:26_

---

_Referenced in [astral-sh/uv#13437](../../astral-sh/uv/pulls/13437.md) on 2025-05-13 20:55_

---

_Referenced in [astral-sh/uv#15357](../../astral-sh/uv/issues/15357.md) on 2025-08-18 16:36_

---
