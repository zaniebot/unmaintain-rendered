<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missing libraries lead to some installed Python versions listed as not installed - astral-sh/uv #7611</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Missing libraries lead to some installed Python versions listed as not installed</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/7611">#7611</a>
        opened by <a href="https://github.com/bluthej">@bluthej</a>
        on 2024-09-21 07:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluthej">@bluthej</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>I had a missing library (<code>libcrypt.so.1</code>), which was required by some Python versions but not all (e.g. 3.7 needs it but not 3.8 or 3.9).
As a consequence, <code>uv python list</code> listed CPython 3.7.9 as not installed but available for download although I had already downloaded it with <code>uv python install 3.7</code>.</p>
<h2>Suggestion</h2>
<p>This comes down to the fact that my Python 3.7 install was not functional because of the missing library, and I think that's fine that <code>uv</code> only lists working interpreters, but this led to confusing behavior from <code>uv</code> for me (see the section below). I would suggest adding some feedback for the user at some point in order to make this kind of issue clearer, for instance I can think of 2 options that I think would be nice:</p>
<ul>
<li>Just after downloading a Python version, immediately check that it works (like <code>uv venv</code> seems to do) and issue a warning with the error message when something goes wrong =&gt; in my case I would have known just after install that I was missing a lib</li>
<li>In <code>uv python list</code>, list all Python interpreters found, but have some kind of check mark to inform the user of which ones are working and which ones aren't</li>
</ul>
<h2>Current behavior and steps I took</h2>
<p>I installed Python 3.7 with <code>uv python install 3.7</code> and it worked, but then when I tried using said version to create a venv with <code>uv venv --python 3.7</code>, <code>uv</code> could not find a 3.7 install.
And when I ran <code>uv python list</code> I had a line:</p>
<pre><code class="language-shell">cpython-3.7.9-linux-x86_64-gnu        &lt;download available&gt;
</code></pre>
<p>So I tried to rerun <code>uv python install 3.7</code> but then it said:</p>
<pre><code class="language-shell">Found existing installation for Python 3.7: cpython-3.7.9-linux-x86_64-gnu
</code></pre>
<p>which was kind of confusing.</p>
<p>After looking into <code>~/.local/share/uv/python</code> I saw the 3.7.9 install was there, so I ran <code>uv venv --python 3.7 -v</code> this time, and this is where the extra info made it all clear: I was missing <code>libcrypt.so.1</code>, which was tripping up some CPython versions, but not all (for instance 3.8 and 3.9 worked just fine). After installing <code>libxcrypt-compat</code> everything worked fine.</p>
<p>I think this is something that can potentially happen on all platforms but for the sake of completeness here's my setup:</p>
<ul>
<li><code>uv 0.4.14</code></li>
<li>Arch Linux x86_64 (Kernel: 6.10.10-arch1-1)</li>
</ul>
<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:18 UTC
    </footer>
</body>
</html>
