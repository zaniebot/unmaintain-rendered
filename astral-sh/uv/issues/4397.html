<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv toolchain python not in interpreter search path - astral-sh/uv #4397</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv toolchain python not in interpreter search path</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4397">#4397</a>
        opened by <a href="https://github.com/fynnsu">@fynnsu</a>
        on 2024-06-18 18:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/fynnsu">@fynnsu</a> on 2024-06-18 18:36</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>Thank you for implementing the <code>uv toolchain</code> functionality, it's a very helpful feature.</p>
<p>That being said, I noticed a couple sharp edges when trying it out, the main one being that the installed interpreters are not found by <code>uv venv --python </code>.</p>
<pre><code>❯ uv toolchain list
warning: `uv toolchain list` is experimental and may change without warning.
...
cpython-3.8.19-linux-x86_64-gnu /home/fynnsu/.local/share/uv/toolchains/cpython-3.8.19-linux-x86_64-gnu/install/bin/python3
...

❯ uv venv -p 3.8
  × No interpreter found for Python 3.8 in search path

❯ uv venv -p cpython-3.8.19-linux-x86_64-gnu
  × No interpreter found key cpython-3.8.19-linux-x86_64-gnu in search path

❯ uv venv -p /home/fynnsu/.local/share/uv/toolchains/cpython-3.8.19-linux-x86_64-gnu/install/bin/python3
Using Python 3.8.19 interpreter at: /home/fynnsu/.local/share/uv/toolchains/cpython-3.8.19-linux-x86_64-gnu/install/bin/python3
Creating virtualenv at: .venv
Activate with: source .venv/bin/activate
</code></pre>
<p>Presumably, they would be found if I added <code>/home/fynnsu/.local/share/uv/toolchains/</code> to my path but this seems like something that should work without doing so.</p>
<p>The other small thing I would mention is I initially tried <code>uv toolchain install py38</code> and <code>cp38</code> before eventually working out that I needed <code>3.8</code> or <code>cpython3.8</code>. It would be helpful if there was a recommended format, either in the error message or the subcommand help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-18 18:40</div>
            <div class="timeline-body"><p>We discover managed toolchains in <code>uv venv</code> with the <code>--preview</code> flag. It's not available by default yet because the behavior is still experimental. You can also globally opt in with <code>UV_PREVIEW=1</code> if you're using our preview features in general, this will also drop the nag from preview commands like <code>uv toolchain</code>.</p>
<blockquote>
<p>The other small thing I would mention is I initially tried uv toolchain install py38 and cp38 before eventually working out that I needed 3.8 or cpython3.8.</p>
</blockquote>
<p>Interesting. We're working on more documentation around this, but we could also add support for that syntax. What's that based on?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-06-18 18:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2024-06-18 18:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-06-18 18:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fynnsu">@fynnsu</a> on 2024-06-18 18:53</div>
            <div class="timeline-body"><blockquote>
<p>Interesting. We're working on more documentation around this, but we could also add support for that syntax. What's that based on?</p>
</blockquote>
<p>Hmm not entirely sure where I got this from. I think the <code>cp38</code> is likely from python package name conventions (ex. https://download.pytorch.org/whl/test/torch/)</p>
<p>I also think <code>py38</code> is a fairly common way to refer to python versions. A notable example of this being the <code>ruff</code> config settings: https://docs.astral.sh/ruff/settings/#target-version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-18 18:57</div>
            <div class="timeline-body"><p>Ah like wheel platform compatibility tags: https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/</p>
<p>Yeah we can support that. Tracking at https://github.com/astral-sh/uv/issues/4399</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-06-18 18:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-18 18:58</div>
            <div class="timeline-body"><p>And we'll track the documentation request at https://github.com/astral-sh/uv/issues/4400</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fynnsu">@fynnsu</a> on 2024-06-18 19:00</div>
            <div class="timeline-body"><blockquote>
<p>Ah like wheel platform compatibility tags: https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/</p>
</blockquote>
<p>Yes exactly, thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-18 19:01</div>
            <div class="timeline-body"><p>And https://github.com/astral-sh/uv/issues/4401 :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:34:15 UTC
    </footer>
</body>
</html>
