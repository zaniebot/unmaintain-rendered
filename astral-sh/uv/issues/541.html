<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forward partial resolution to source dist building - astral-sh/uv #541</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Forward partial resolution to source dist building</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/541">#541</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-12-04 11:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Currently, when we encounter a source dist in the main resolution, we do an entirely new resolution for build requirements of the source dist. This means that sometimes we have slightly different versions in the main resolution (https://github.com/astral-sh/puffin/issues/537). Instead, we should pass the versions of the current partial resolution as preferred versions in the source dist build.</p>
<p>This is half a performance feature (using the same cached versions as in the main resolution) and half a correctness feature, e.g. when the result of a source dist build depends on the installed versions (we can't really handle this correctly, but we handle it slightly less bad that way by increasing our chances on hitting the right version), but also being more what the user expects.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-01-09 04:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-09 04:09</div>
            <div class="timeline-body"><p>I'll give this a shot.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-01-16 05:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:10 UTC
    </footer>
</body>
</html>
