<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python crash due to stale version - astral-sh/uv #16297</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Python crash due to stale version</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/16297">#16297</a>
        opened by <a href="https://github.com/brian316">@brian316</a>
        on 2025-10-14 17:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/brian316">@brian316</a> on 2025-10-14 17:01</div>
            <div class="timeline-body"><h3>Summary</h3>
<h2>Problem</h2>
<p>When i first initialized my project using <code>uv init</code> and <code>uv sync</code> then i ran python <code>uv run python</code> the process would immediately get killed</p>
<pre><code class="language-shell">cat .python-version
3.11

uv run python -c &quot;print('hello')&quot;

[3]    42262 killed     python -c &quot;print('hello')&quot;
</code></pre>
<p>My debugging</p>
<pre><code class="language-shell">xattr -l .venv/bin/python3
which python3
file $(which python3)

com.apple.provenance:
/Users/brian/sandbox/.venv/bin/python3
/Users/brian/sandbox/.venv/bin/python3: Mach-O 64-bit executable arm64
</code></pre>
<p>I tried to see if i could manually install python again. It installed this version but still got the killed process error</p>
<pre><code class="language-shell">uv python install 3.11
Installed Python 3.11.12 in 1.17s
 + cpython-3.11.12-macos-aarch64-none (python3.11)

uv run python -c &quot;print('hello')&quot;

[3]    45166 killed     python -c &quot;print('hello')&quot;
</code></pre>
<h2>Solution</h2>
<p>I think somehow the initial python version i had was corrupted, but even then when i tried to install python 3.11 again it only installed <code>3.11.12</code> not <code>3.11.14</code></p>
<p>So I fixed by uninstalling (uninstalled multiple versions)</p>
<pre><code class="language-shell">uv python uninstall 3.11
Searching for Python versions matching: Python 3.11
Uninstalled 2 versions in 301ms
 - cpython-3.11.11-macos-aarch64-none
 - cpython-3.11.12-macos-aarch64-none (python3.11)
</code></pre>
<p>and running the following installed latest version <code>3.11.14</code></p>
<pre><code class="language-shell">uv sync
Using CPython 3.11.14
Creating virtual environment at: .venv
...

uv run python -c &quot;print('hello')&quot;

hello
</code></pre>
<h2>Conclusion</h2>
<p>Maybe <code>uv</code> should check integrity of python version to reinstall or upgrade minor version? Not sure how it initially got to this state anyhow as other version were working fine for me.</p>
<h3>Platform</h3>
<p>Darwin 24.5.0 arm64</p>
<h3>Version</h3>
<p>uv 0.9.2 (141369ce7 2025-10-10)</p>
<h3>Python version</h3>
<p>Python 3.11.14</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @brian316 on 2025-10-14 17:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-14 22:25</div>
            <div class="timeline-body"><p>This seems like a pretty hard failure state for us to reliably detect. It seems like the process was just getting killed by the operating system? That could happen for arbitrary reasons, so I'm not sure it should trigger a reinstall or upgrade.</p>
<p>I'm not sure why 3.11.12 -&gt; 3.11.14 fixed this for you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brian316">@brian316</a> on 2025-10-14 23:13</div>
            <div class="timeline-body"><blockquote>
<p>This seems like a pretty hard failure state for us to reliably detect. It seems like the process was just getting killed by the operating system? That could happen for arbitrary reasons, so I'm not sure it should trigger a reinstall or upgrade.</p>
<p>I'm not sure why 3.11.12 -&gt; 3.11.14 fixed this for you.</p>
</blockquote>
<p>agree not easily debuggable. wish I was able to replicate. wanted to at least write something up in case someone else runs into this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @brian316 on 2025-10-14 23:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-15 00:57</div>
            <div class="timeline-body"><p>Appreciate the report nonetheless, we can always dig deeper if someone else reproduces it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/16726.html">astral-sh/uv#16726</a> on 2025-11-13 17:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:30 UTC
    </footer>
</body>
</html>
