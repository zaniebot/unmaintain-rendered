<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For some python implementations uv expects a different `site-packages` path than it creates - astral-sh/uv #2153</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>For some python implementations uv expects a different <code>site-packages</code> path than it creates</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2153">#2153</a>
        opened by <a href="https://github.com/kvelicka">@kvelicka</a>
        on 2024-03-04 12:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kvelicka">@kvelicka</a></div>
            <div class="timeline-body"><p><code>uv</code> version: 0.1.13, installed from <code>pip</code>.</p>
<p>Below is a snippet from a <code>ubuntu:22.04</code> based docker container where I&#x27;m unable to use <code>uv</code> to install into its virtualenv. I&#x27;m installing <code>pip</code> in the log below but this doesn&#x27;t seem to be related to the package being installed.</p>
<pre><code>USER@0aa98759ed66:~$ python
Python 3.8.12 (remotes/origin/release_2.3.5:4b858b5062, Sep 25 2022, 18:56:33)
[Pyston 2.3.5, GCC 9.4.0] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;

USER@0aa98759ed66:~$ which python
/.pyenv/versions/pyston-2.3.5/bin/python

USER@0aa98759ed66:~$ uv venv
Using Python 3.8.12 interpreter at: /.pyenv/versions/pyston-2.3.5/bin/python
Creating virtualenv at: .venv
Activate with: source .venv/bin/activate

USER@0aa98759ed66:~$ ls .venv/lib/
python3.8

USER@0aa98759ed66:~$ uv pip install pip --verbose
 uv::requirements::from_source source=pip
    0.001656s DEBUG uv_interpreter::python_environment Found a virtualenv named .venv at: /home/USER/.venv
    0.001719s DEBUG uv_interpreter::interpreter Cached interpreter info for Python 3.8.12, skipping probing: /home/USER/.venv/bin/python
    0.001726s DEBUG uv::commands::pip_install Using Python 3.8.12 environment at /home/USER/.venv/bin/python
error: Failed to list installed packages
  Caused by: failed to read directory `/home/USER/.venv/lib/python3.8-pyston2.3/site-packages`
  Caused by: No such file or directory (os error 2)

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-04 14:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-04 14:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-04 14:30</div>
            <div class="timeline-body"><p>Thanks! This is the same as <a href="https://github.com/astral-sh/uv/issues/2095">astral-sh/uv#2095</a> but I&#x27;ll keep it open since it&#x27;s useful to have a concrete example.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-05 21:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-05 21:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:14 UTC
    </footer>
</body>
</html>
