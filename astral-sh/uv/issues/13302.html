<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error: Operation not supported (os error 95) - astral-sh/uv #13302</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>error: Operation not supported (os error 95)</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/13302">#13302</a>
        opened by <a href="https://github.com/thatlittleboy">@thatlittleboy</a>
        on 2025-05-05 15:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/thatlittleboy">@thatlittleboy</a> on 2025-05-05 15:27</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I'm on a Jupyterhub instance (hence, no root access). My goal is to use uv to install a managed python version for use in my uv-managed venv.</p>
<p>MWE:</p>
<pre><code class="language-bash">$ cd $HOME
# /home/jovyan/
$ curl -LsSf https://astral.sh/uv/install.sh | sh
$ uv python install --managed-python 3.11
# error thrown here
</code></pre>
<p>Note that the system python is in <code>/opt/conda</code>, whereas my home is in <code>/home/jovyan</code>. The <code>uv</code> binary is installed in <code>/home/jovyan/.local/bin/</code>.</p>
<pre><code class="language-bash">~ $ which python
/opt/conda/bin/python
</code></pre>
<p>I've seen only one other similar issue raised with the same error message (<a href="https://github.com/astral-sh/uv/issues/11927">LINK</a>) which is related to using uv to install into a location separate from the python location.</p>
<p>But here I'm trying to install a new python version, using <code>uv</code> which is installed in my <code>$HOME</code>. So my naive assumption is that this has no relation to the previous issue raised.</p>
<hr />
<p>For more info: I tried switching on the verbosity, but there's no helpful / relevant output that I can discern.</p>
<pre><code class="language-bash">DEBUG uv 0.7.2
TRACE Found `ld` path: /lib64/ld-linux-x86-64.so.2
TRACE stdout output from `ld`: &quot;&quot;
TRACE stderr output from `ld`: &quot;/lib64/ld-linux-x86-64.so.2: missing program name\nTry '/lib64/ld-linux-x86-64.so.2 --help' for more information.\n&quot;
TRACE Tried to find musl version by running `&quot;/lib64/ld-linux-x86-64.so.2&quot;`, but failed: Could not find musl version in output of: `/lib64/ld-linux-x86-64.so.2`
TRACE Tried to find libc version from possible symlink at &quot;/lib64/ld-linux-x86-64.so.2&quot;, but failed: Failed to find glibc version in the filename of linker: `/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2`
TRACE stdout output from `ldd --version`: &quot;ld.so (Ubuntu GLIBC 2.35-0ubuntu3.8) stable release version 2.35.\nCopyright (C) 2022 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE.\n&quot;
TRACE Found manylinux 2.35 in stdout of `ldd --version`
error: Operation not supported (os error 95)
</code></pre>
<p>(Perhaps it's also a sign to improve the error message / traceback for such cases?)</p>
<h3>Platform</h3>
<p>Linux 5.10.134-18.0.1.lifsea8.x86_64 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.7.2</p>
<h3>Python version</h3>
<p>Python 3.10.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @thatlittleboy on 2025-05-05 15:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/13303.html">astral-sh/uv#13303</a> on 2025-05-05 16:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-05 19:18</div>
            <div class="timeline-body"><p>Good call about the error message, we're improving it in https://github.com/astral-sh/uv/pull/13303.</p>
<p>Are you setting any XDG variables? Are you using a custom filesystem such as an NFS? I assume we're running into some sort of filesystem or operating system limitation that usually isn't present, so I'm trying to figure what's different about your machine than other machines that causes the error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thatlittleboy">@thatlittleboy</a> on 2025-05-06 07:14</div>
            <div class="timeline-body"><p>@konstin thanks for the quick feedback.</p>
<p>we're using OSS (https://github.com/aliyun/ossfs) backend on kubernetes persistent volume (PV/PVC).</p>
<p>Under limitations, I see this, is this related to the error i'm facing?</p>
<p><img src="https://github.com/user-attachments/assets/c7763a49-d11e-47e4-90bd-69d190e30f81" alt="Image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-06 08:23</div>
            <div class="timeline-body"><p>Most likely! Are <code>~/.cache</code>, <code>~/.local</code> and your installation target on the same or different drives?</p>
<p>If you have the option, could you try a uv build from the main branch to check if the error message got better through #13303?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thatlittleboy">@thatlittleboy</a> on 2025-05-06 11:59</div>
            <div class="timeline-body"><p>@konstin</p>
<blockquote>
<p>Are ~/.cache, ~/.local and your installation target on the same or different drives?</p>
</blockquote>
<p>Everything on $HOME is on the same drive (just based on our setup, if you have any commands that I can run to verify this, would be happy to check that more rigorously);
By installation target, I assume you mean <code>uv python dir</code>, that's on  <code>$HOME/.local/share/uv/python</code> as well.</p>
<blockquote>
<p>could you try a uv build from the main branch to check if the error message got better through https://github.com/astral-sh/uv/pull/13303?</p>
</blockquote>
<p>Is there a pre-built binary that I can use? building with rust in my environment is a bit troublesome &gt;&lt;
I looked at the <a href="https://github.com/astral-sh/uv/actions/runs/14841312019/job/41664715584">ci logs</a>, tried to download the artifact from the URL, uploaded it into my Jupyterhub machine, made it executable (chmod), but when running it I got segmentation fault (I assume maybe some kind of dll is missing or the like)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-06 14:07</div>
            <div class="timeline-body"><p>There are main binaries in https://github.com/astral-sh/uv/actions/runs/14858394885 under &quot;Artifacts&quot;, the zip contains the uv and uvx binaries.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thatlittleboy">@thatlittleboy</a> on 2025-05-07 09:22</div>
            <div class="timeline-body"><p>@konstin
I tried downloading the artifact for Linux (libc), but running uv after extraction gives</p>
<p><img src="https://github.com/user-attachments/assets/03e30646-3280-40ff-ad8a-88f8addcfb9b" alt="Image" /></p>
<p>It's because the <code>ldd --version</code> on my Jupyterhub machine is <code>ldd (Ubuntu GLIBC 2.35-0ubuntu3.1) 2.35</code>. I then tried building glibc, but then that requires gawk/bison, which I can't apt install because I don't have sudo privileges -- it's a mess :x</p>
<p>Not sure whether I went down the wrong rabbit hole or not</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-07 09:41</div>
            <div class="timeline-body"><p>Can you try the musl version? it's statically linked and works with glibc too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thatlittleboy">@thatlittleboy</a> on 2025-05-07 10:18</div>
            <div class="timeline-body"><p>The musl version works, thanks! @konstin</p>
<p><img src="https://github.com/user-attachments/assets/61770308-ba5b-472f-b0f7-0fd54783f2c4" alt="Image" /></p>
<p>Doesn't seem to have helped though. Still getting the same message with no additional information.
Using <code>uv 0.7.2 (9071e0eea 2025-05-06)</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-07 10:53</div>
            <div class="timeline-body"><p>Thanks for testing, I'll see if I can find a better way to get more context.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:05 UTC
    </footer>
</body>
</html>
