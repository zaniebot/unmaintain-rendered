<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make usage of `--config-file`/`UV_CONFIG_FILE` visible in verbose output - astral-sh/uv #17182</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Make usage of <code>--config-file</code>/<code>UV_CONFIG_FILE</code> visible in verbose output</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17182">#17182</a>
        opened by <a href="https://github.com/cmarqu">@cmarqu</a>
        on 2025-12-18 20:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/cmarqu">@cmarqu</a></div>
            <div class="timeline-body">Summary
<p>The very end of the section https://docs.astral.sh/uv/concepts/configuration-files/#configuration-files says</p>
<blockquote>
<p>uv also accepts a <code>--config-file</code> command-line argument, which accepts a path to a <code>uv.toml</code> to use as the configuration file. When provided, this file will be used in place of <em>any</em> discovered configuration files (e.g., user-level configuration will be ignored).</p>
</blockquote>
<p>The option can also come in (rather hidden) via <code>UV_CONFIG_FILE</code>, which was the case for me.</p>
<p>The effect of this option is very powerful - I would claim more powerful than what users intuitively expect.
Its use should thus be mentioned in verbose output.
Right now, it does not even show up in trace output.</p>
Example
<p>Such a line could look like the following:</p>
<pre><code>DEBUG --config-file/UV_CONFIG_FILE is set to /foo/bar/uv.toml, ignoring all user-level configuration
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/cmarqu">@cmarqu</a> on 2025-12-18 20:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-18 21:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">tracing</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-18 21:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-18 21:15</div>
            <div class="timeline-body"><p>I presume it&#x27;s not logged right now because we&#x27;re reading the configuration before we&#x27;ve set up logging? I&#x27;m not sure off the top of my head though. It&#x27;s fine to add a log. I&#x27;d probably just say</p>
<blockquote>
<p>DEBUG Using explicit configuration file at </p>
</blockquote>
<p>I wouldn&#x27;t say <code>--config-file / UV_CONFIG_FILE</code> unless we start tracking them separately and can report the correct one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/valkrypton">@valkrypton</a> on 2025-12-19 09:21</div>
            <div class="timeline-body"><p>Is this available? I&#x27;d like to give this a try</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:41:21 UTC
    </footer>
</body>
</html>
