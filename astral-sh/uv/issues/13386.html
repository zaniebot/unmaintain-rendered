<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/src folder build expectations - astral-sh/uv #13386</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>/src folder build expectations</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/13386">#13386</a>
        opened by <a href="https://github.com/svdimitrov">@svdimitrov</a>
        on 2025-05-11 14:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/svdimitrov">@svdimitrov</a> on 2025-05-11 14:31</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Is the <code>/src/{project}</code> folder structure fixed or can it be changed? I currently have a <code>/backend</code> folder with a <code>pyproject.toml</code> inside. Here is a minimal version:</p>
<pre><code>[project]
name = &quot;backend&quot;
version = &quot;0.1.0&quot;
description = &quot;FastAPI backend for Next.js web application&quot;
requires-python = &quot;&gt;=3.9,&lt;4.0&quot;

[project.scripts]
start = &quot;backend.scripts:start&quot;

[build-system]
requires = [&quot;uv_build&gt;=0.7.3,&lt;0.8.0&quot;]
build-backend = &quot;uv_build&quot;
</code></pre>
<p>This forces me to create a <code>/backend/src/backend</code> structure in which I have to put the whole app logic.</p>
<p>Here is the error I get when I try to remove the <code>/src/backend</code> structure:</p>
<pre><code>  × Failed to build `backend @ /file:******/backend`
  ├─▶ The build backend returned an error
  ╰─▶ Call to `uv_build.build_editable` failed (exit status: 1)

      [stderr]
      Error: Missing source directory at: `src`

      hint: This usually indicates a problem with the package or the build environment.
</code></pre>
<p>Desired state: Have uv look for everything in the root <code>/backend</code> folder.</p>
<h3>Platform</h3>
<p>Windows 11 + WSL Ubuntu 22 LTS</p>
<h3>Version</h3>
<p>0.7.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @svdimitrov on 2025-05-11 14:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-12 09:51</div>
            <div class="timeline-body"><p>You can use the <a href="https://docs.astral.sh/uv/reference/settings/#build-backend_module-root">module-root</a> setting to use a flat layout without <code>src</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cpaniaguam">@cpaniaguam</a> on 2025-05-13 17:44</div>
            <div class="timeline-body"><p>What if the package name &quot;foo&quot; is already taken but I still want to use <code>src/foo</code> for the source code? If I make the project name &quot;foo-bar&quot; then <code>uv</code> tries look for files under <code>src/foo_bar</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-13 18:25</div>
            <div class="timeline-body"><p>I recommend picking a unique name, otherwise there can be hard-to-debug conflicts on installation. If you still want to use a different name for the module than for the package, you can use the <a href="https://docs.astral.sh/uv/reference/settings/#build-backend_module-name"><code>module-name</code></a> setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-05-21 11:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:27 UTC
    </footer>
</body>
</html>
