<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using uv in CircleCI - astral-sh/uv #9203</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Using uv in CircleCI</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/9203">#9203</a>
        opened by <a href="https://github.com/bolinocroustibat">@bolinocroustibat</a>
        on 2024-11-18 15:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/bolinocroustibat">@bolinocroustibat</a> on 2024-11-18 15:45</div>
            <div class="timeline-body"><p>There is great documentation about <a href="https://docs.astral.sh/uv/guides/integration/github/">using uv in GitHub Actions</a> and in <a href="https://docs.astral.sh/uv/guides/integration/gitlab/">GitLab CI</a>, along with a <a href="https://github.com/astral-sh/setup-uv">uv GitHub Actions setup</a>.</p>
<p>Is there any plan for a documentation about how to use uv in CircleCI?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-18 15:47</div>
            <div class="timeline-body"><p>There's no particular plan for it, but if someone is interested in contributing a guide I will review and edit it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2024-11-18 15:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @zanieb on 2024-11-18 15:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/antoniomdk">@antoniomdk</a> on 2024-11-18 22:51</div>
            <div class="timeline-body"><p>I'm trying to get <code>uv</code> as an &quot;officially&quot; supported package manager for CircleCI:
https://github.com/CircleCI-Public/python-orb/pull/124
https://github.com/CircleCI-Public/cimg-python/pull/257</p>
<p>But I feel it will take a while for those changes to get to the mainstream (I think CircleCI performs quarterly releases of their base images).</p>
<p>In the meantime, I've been able to integrate with CircleCI using something like this:</p>
<pre><code class="language-yaml">  uv_install_packages:
    parameters:
      cache_key:
        type: string
      cache_dir:
        type: string
        default: /home/circleci/.cache/uv
    steps:
      - restore_cache:
          name: Restore python cache
          keys:
            - &lt;&lt;parameters.cache_key&gt;&gt;-uv-cache-{{ checksum &quot;uv.lock&quot; }}
            - &lt;&lt;parameters.cache_key&gt;&gt;-uv-cache-
      - run:
          name: Install python dependencies
          command: |
            mkdir -p &quot;&lt;&lt;parameters.cache_dir&gt;&gt;&quot; &amp;&amp; \
            uv sync --frozen --compile-bytecode --cache-dir &lt;&lt;parameters.cache_dir&gt;&gt;
      - run:
          name: Clean pre-built wheels
          command: uv cache prune --ci --cache-dir &lt;&lt;parameters.cache_dir&gt;&gt;
      - save_cache:
          name: Save cache
          key: &lt;&lt;parameters.cache_key&gt;&gt;-uv-cache-{{ checksum &quot;uv.lock&quot; }}
          paths:
            - &quot;&lt;&lt;parameters.cache_dir&gt;&gt;&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bolinocroustibat">@bolinocroustibat</a> on 2024-11-19 08:31</div>
            <div class="timeline-body"><p>Amazing, very helpful, thank you.
I still have issues on uv command not being recognized in next jobs, even though the uv install job persists to workspaces and the next jobs attaches it, but I guess it's about fixing my CircleCI config...</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
