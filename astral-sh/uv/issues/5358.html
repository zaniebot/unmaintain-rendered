<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>``uv init --python``  error message is inaccurate. - astral-sh/uv #5358</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv init --python</code>  error message is inaccurate.</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/5358">#5358</a>
        opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a>
        on 2024-07-23 17:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-07-23 17:59</div>
            <div class="timeline-body"><p><strong>uv version:</strong> build from source 5f1f9c82
<strong>operating system:</strong> Windows 11 23H2 x86-64
About this error:</p>
<pre><code>error: No interpreter found for executable name `===0.0.*` in virtual environments, managed installations, system path, or `py` launcher
</code></pre>
<p>The error seems to only occur when there are issues with the provided <code>version specifiers</code>.
Based on the results of the commands mentioned below, I don't think this error message is reasonable in the current behavior.</p>
<h3>Command One (Failure case)</h3>
<pre><code class="language-powershell">uv  init -p &quot;===1.0.*&quot; -v
</code></pre>
<p><strong>verbose output:</strong></p>
<pre><code class="language-powershell">DEBUG uv 0.2.27
warning: `uv init` is experimental and may change without warning
DEBUG Searching for Python interpreter with executable name `===1.0.*`
DEBUG Checking for Python interpreter at executable name `===1.0.*`
error: No interpreter found for executable name `===1.0.*` in virtual environments, managed installations, system path, or `py` launcher
</code></pre>
<h3>Command Two (The case that should fail based on the error information)</h3>
<pre><code class="language-powershell">uv init -p &quot;&lt;=0.1&quot; -v
</code></pre>
<p><strong>verbose output:</strong></p>
<pre><code class="language-powershell">DEBUG uv 0.2.27
warning: `uv init` is experimental and may change without warning
Initialized project `example`
</code></pre>
<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @charliermarsh on 2024-07-23 18:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-23 18:00</div>
            <div class="timeline-body"><p>That's a funny one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-23 18:03</div>
            <div class="timeline-body"><p>Is <code>&quot;===1.0.*&quot;</code> even a valid version specifier? A couple things here...</p>
<ol>
<li>Maybe we should error instead of treating things that do not start with an alphabetical character as executable names</li>
<li>The second invocation with <code>&lt;=0.1</code> is valid, but we should probably check that the requested version is in our supported range i.e. <code>&gt;=3.7</code>?</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-23 18:04</div>
            <div class="timeline-body"><p>As a note, the error message isn't &quot;wrong&quot; — we are attempting to resolve your Python request which is an executable name as the &quot;final&quot; interpretation of the request because it didn't match any of the other supported formats</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-07-23 18:19</div>
            <div class="timeline-body"><p>@zanieb
I'm not sure if <code>===1.0.*</code> is a valid format. I just don't know how to use it. I saw in the documentation that <code>===</code> is supported.</p>
<ul>
<li>===: Arbitrary equality clause.
https://packaging.python.org/en/latest/specifications/version-specifiers/#id5
https://packaging.python.org/en/latest/specifications/core-metadata/#requires-python</li>
</ul>
<p>The provided Python version seems to be directly filled into <code>requires-python</code>, but my computer cannot possibly have such a low version of Python. So I think it should be an error, not a successful create.</p>
<pre><code>cpython-3.12.4-windows-x86_64-none     C:\Users\user_name\AppData\Local\Programs\Python\Python312\python.exe
cpython-3.12.4-windows-x86_64-none     &lt;download available&gt;
cpython-3.11.9-windows-x86_64-none     C:\Users\user_name\AppData\Local\Programs\Python\Python311\python.exe
cpython-3.11.9-windows-x86_64-none     &lt;download available&gt;
cpython-3.10.14-windows-x86_64-none    C:\Users\user_name\AppData\Roaming\uv\data\python\cpython-3.10.14-windows-x86_64-none\install\python.exe
cpython-3.10.11-windows-x86_64-none    C:\Users\user_name\AppData\Local\Programs\Python\Python310\python.exe
cpython-3.9.19-windows-x86_64-none     C:\Users\user_name\AppData\Roaming\uv\data\python\cpython-3.9.19-windows-x86_64-none\python.exe
cpython-3.8.19-windows-x86_64-none     &lt;download available&gt;
cpython-3.7.9-windows-x86_64-none      &lt;download available&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-23 18:21</div>
            <div class="timeline-body"><p>I don't think we should fail if someone asks for a Python version they don't currently have. We should definitely warn though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-23 18:23</div>
            <div class="timeline-body"><p>I think we don't like the <code>*</code> with <code>===</code>:</p>
<pre><code>❯ uv python install '===3.6' 
warning: `uv python install` is experimental and may change without warning
Searching for Python versions matching: Python ===3.6
error: No download found for request: cpython-===3.6-macos-aarch64-none
❯ uv python install '===3.6.*'
warning: `uv python install` is experimental and may change without warning
error: Cannot download managed Python for request: executable name `===3.6.*`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-07-23 18:56</div>
            <div class="timeline-body"><p><code>===</code> Arbitrary equality.
It is actually not recommended for use, as stated in the Version specifiers specification.</p>
<blockquote>
<p>Use of this operator is heavily discouraged and tooling MAY display a warning when it is used.</p>
</blockquote>
<p>Perhaps UV should also issue a warning when <code>arbitrary equality</code> is used?</p>
<p>Edit:
Poetry about Arbitrary equality
https://github.com/python-poetry/poetry/issues/7256</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:36 UTC
    </footer>
</body>
</html>
