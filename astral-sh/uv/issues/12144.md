```yaml
number: 12144
title: editable install version specifier keeps changing + reinstalling?
type: issue
state: closed
author: zplizzi
labels:
  - question
assignees: []
created_at: 2025-03-13T00:45:45Z
updated_at: 2025-03-14T01:34:15Z
url: https://github.com/astral-sh/uv/issues/12144
synced_at: 2026-01-10T01:57:28Z
```

# editable install version specifier keeps changing + reinstalling?

---

_Issue opened by @zplizzi on 2025-03-13 00:45_

### Summary

I'm often getting this output when running uv sync:
```
% uv sync
Resolved 455 packages in 13ms
      Built crafty @ file:///Users/zack/work/generally_intelligent/crafty
      Built imbue @ file:///Users/zack/work/generally_intelligent/imbue
Prepared 2 packages in 2.13s
Uninstalled 2 packages in 2ms
Installed 2 packages in 2ms
 ~ crafty==0.1.0 (from file:///Users/zack/work/generally_intelligent/crafty)
 ~ imbue==0.1.0 (from file:///Users/zack/work/generally_intelligent/imbue)
```
This generates no diff in my uv.lock.

For example, if i run the above, then check out some other commit in my repo, run `uv sync --dry-run`, then go back to the original git state, and run `uv sync` again, I'll get the exact same output as above again.

### Platform

Darwin 23.5.0 arm64

### Version

uv 0.6.6 (c1a0bb85e 2025-03-12)

### Python version

Python 3.11.11

---

_Label `bug` added by @zplizzi on 2025-03-13 00:45_

---

_Comment by @charliermarsh on 2025-03-13 13:00_

I assume that the `pyproject.toml` is changing in some way between those commits? See: https://docs.astral.sh/uv/concepts/cache/.

---

_Label `bug` removed by @charliermarsh on 2025-03-13 13:00_

---

_Label `question` added by @charliermarsh on 2025-03-13 13:00_

---

_Assigned to @charliermarsh by @charliermarsh on 2025-03-13 13:00_

---

_Comment by @zplizzi on 2025-03-13 15:47_

yeah the pyproject.toml is different between the commits - i'm not sure i
understand how the caching is related here though?

On Thu, Mar 13, 2025 at 6:01 AM Charlie Marsh ***@***.***>
wrote:

> I assume that the pyproject.toml is changing in some way between those
> commits? See: https://docs.astral.sh/uv/concepts/cache/.
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/astral-sh/uv/issues/12144#issuecomment-2721176450>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABKW56E3V7L5RTD2OACDQZD2UF6Q3AVCNFSM6AAAAABY45X6GGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDOMRRGE3TMNBVGA>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
> [image: charliermarsh]*charliermarsh* left a comment (astral-sh/uv#12144)
> <https://github.com/astral-sh/uv/issues/12144#issuecomment-2721176450>
>
> I assume that the pyproject.toml is changing in some way between those
> commits? See: https://docs.astral.sh/uv/concepts/cache/.
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/astral-sh/uv/issues/12144#issuecomment-2721176450>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABKW56E3V7L5RTD2OACDQZD2UF6Q3AVCNFSM6AAAAABY45X6GGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDOMRRGE3TMNBVGA>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
>


---

_Comment by @charliermarsh on 2025-03-13 16:20_

If the `pyproject.toml` changes, we need to reinstall your project, as the project dependencies or build metadata may have changed. That's intended!

---

_Comment by @zplizzi on 2025-03-13 16:22_

right, but i'm only running `uv sync --dry-run` when visiting the older
commit, so i wouldn't have expected the dry run to actually change anything?

On Thu, Mar 13, 2025 at 9:20 AM Charlie Marsh ***@***.***>
wrote:

> If the pyproject.toml changes, we need to reinstall your project, as the
> project dependencies or build metadata may have changed. That's intended!
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/astral-sh/uv/issues/12144#issuecomment-2721864654>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABKW56E7H7XIEIRZVQJIEML2UGV6XAVCNFSM6AAAAABY45X6GGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDOMRRHA3DINRVGQ>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
> [image: charliermarsh]*charliermarsh* left a comment (astral-sh/uv#12144)
> <https://github.com/astral-sh/uv/issues/12144#issuecomment-2721864654>
>
> If the pyproject.toml changes, we need to reinstall your project, as the
> project dependencies or build metadata may have changed. That's intended!
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/astral-sh/uv/issues/12144#issuecomment-2721864654>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABKW56E7H7XIEIRZVQJIEML2UGV6XAVCNFSM6AAAAABY45X6GGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDOMRRHA3DINRVGQ>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
>


---

_Comment by @charliermarsh on 2025-03-13 16:23_

We probably have to build your project in order to get the project metadata. That invalidates the cache.

---

_Closed by @charliermarsh on 2025-03-14 01:34_

---
