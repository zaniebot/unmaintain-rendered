<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call out UV_NO_CACHE=1 in logs - astral-sh/uv #15822</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Call out UV_NO_CACHE=1 in logs</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15822">#15822</a>
        opened by <a href="https://github.com/williamsnell">@williamsnell</a>
        on 2025-09-13 00:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/williamsnell">@williamsnell</a></div>
            <div class="timeline-body">Summary
<p>When <code>UV_NO_CACHE=1</code>, uv&#x27;s cache is <em>silently</em> disabled. Running e.g. <code>uv sync --verbose</code> prints helpful messages about <em>other</em> caching behaviour:</p>
<pre><code>2025-09-12T22:56:35.6973502Z DEBUG Searching for a compatible version of setuptools (&gt;=61.0.0)
2025-09-12T22:56:35.6974771Z DEBUG Selecting: setuptools==80.9.0 [compatible] (setuptools-80.9.0-py3-none-any.whl)
2025-09-12T22:56:35.6976727Z DEBUG No cache entry for: https://files.pythonhosted.org/packages/a3/dc/17031897dae0efacfea57dfd3a82fdd2a2aeb58e0ff71b77b87e44edc772/setuptools-80.9.0-py3-none-any.whl.metadata
</code></pre>
<p>At no point, however, is the fact that caching is disabled (via <code>UV_NO_CACHE=1</code>) explicitly logged. Adding this logging would be extremely helpful, to me at least.</p>
<p>Ideally, running with <code>UV_NO_CACHE=1</code> would result in something like:</p>
<pre><code>DEBUG uv&#x27;s cache has been disabled by UV_NO_CACHE=1. No files will be stored or restored.
</code></pre>
Example
<p>I was using vast.ai to run a self-hosted CI runner, using the setup-uv github action.</p>
<p>uv&#x27;s caching was misbehaving, and I did not understand why. It was only with much digging that I found <code>UV_NO_CACHE=1</code> had been set by default by Vast&#x27;s dockerfile.</p>
<p>Thanks for building an incredible tool!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/williamsnell">@williamsnell</a> on 2025-09-13 00:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-14 00:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-14 01:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:21 UTC
    </footer>
</body>
</html>
