<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regression in uv 0.2.16 compile with unsatisfiable constraint in extra - astral-sh/uv #4569</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Regression in uv 0.2.16 compile with unsatisfiable constraint in extra</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/4569">#4569</a>
        opened by <a href="https://github.com/hauntsaninja">@hauntsaninja</a>
        on 2024-06-26 22:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-06-26 22:19</div>
            <div class="timeline-body"><pre><code>λ cat r.in
gunicorn&gt;=20
λ cat c.in
eventlet==9999.0.1.2.3.4.5

λ uv --version
uv 0.2.15 (bfc342da9 2024-06-24)
λ uv pip compile r.in -c c.in
Resolved 2 packages in 40ms
# This file was autogenerated by uv via the following command:
#    uv pip compile r.in -c c.in
gunicorn==22.0.0
    # via -r r.in
packaging==24.1
    # via gunicorn

λ uv pip install -U uv==0.2.16
Resolved 1 package in 4ms
Uninstalled 1 package in 3ms
Installed 1 package in 4ms
 - uv==0.2.15
 + uv==0.2.16
λ uv pip compile r.in -c c.in 
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of eventlet==9999.0.1.2.3.4.5 and gunicorn&gt;=20.0.0 depends on eventlet==9999.0.1.2.3.4.5, we can conclude that gunicorn&gt;=20.0.0 cannot be used.
      And because only the following versions of gunicorn are available:
          gunicorn&lt;=20.0.0
          gunicorn==20.0.2
          gunicorn==20.0.3
          gunicorn==20.0.4
          gunicorn==20.1.0
          gunicorn==21.0.0
          gunicorn==21.0.1
          gunicorn==21.1.0
          gunicorn==21.2.0
          gunicorn==22.0.0
      and you require gunicorn&gt;=20, we can conclude that the requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Regression in uv 0.2.16 compile with unsatisfiable constraint" to "Regression in uv 0.2.16 compile with unsatisfiable constraint in extra" by @hauntsaninja on 2024-06-26 22:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-26 22:21</div>
            <div class="timeline-body"><p>Is <code>eventlet</code> only a dependency of <code>gunicorn</code> when an extra is enabled (which isn't present)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-06-26 22:21</div>
            <div class="timeline-body"><p>Yup exactly.
The eventlet constraint is a hacky way to ban eventlet from ending up in any lock.
gunicorn does have a dependency on eventlet, but only in the eventlet extra which we do not use</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-26 22:21</div>
            <div class="timeline-body"><p>Okay thanks. I'll try to figure this out now...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-06-26 22:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-06-26 22:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-06-26 22:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-06-26 22:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-26 23:08</div>
            <div class="timeline-body"><p>Will be released in a bit: https://github.com/astral-sh/uv/pull/4573</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-26 23:22</div>
            <div class="timeline-body"><p>@hauntsaninja btw you inspired me to make it just a little bit easier to use <code>uv tool run</code> for your reproduction in #4572 so you can <code>uv tool run uv@0.2.16 ...</code> next time :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:34:17 UTC
    </footer>
</body>
</html>
