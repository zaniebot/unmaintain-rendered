<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot install tsfresh - astral-sh/uv #12126</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot install tsfresh</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12126">#12126</a>
        opened by <a href="https://github.com/lucidfrontier45">@lucidfrontier45</a>
        on 2025-03-12 01:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lucidfrontier45">@lucidfrontier45</a> on 2025-03-12 01:46</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I tried to install https://github.com/blue-yonder/tsfresh with <code>uv pip tsfresh</code> and got this error</p>
<pre><code>Resolved 26 packages in 54ms
  Ã— Failed to build `numba==0.53.1`
  â”œâ”€â–¶ The build backend returned an error
  â•°â”€â–¶ Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit status: 1)

      [stderr]
      Traceback (most recent call last):
        File &quot;&lt;string&gt;&quot;, line 14, in &lt;module&gt;
        File &quot;/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line
      334, in get_requires_for_build_wheel
          return self._get_build_requires(config_settings, requirements=[])
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File &quot;/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line
      304, in _get_build_requires
          self.run_setup()
        File &quot;/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line
      522, in run_setup
          super().run_setup(setup_script=setup_script)
        File &quot;/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line
      320, in run_setup
          exec(code, locals())
        File &quot;&lt;string&gt;&quot;, line 50, in &lt;module&gt;
        File &quot;&lt;string&gt;&quot;, line 47, in _guard_py_ver
      RuntimeError: Cannot install on Python version 3.12.9; only versions &gt;=3.6,&lt;3.10 are supported.

      hint: This usually indicates a problem with the package or the build environment.
  help: `numba` (v0.53.1) was included because `tsfresh` (v0.21.0) depends on `stumpy` (v1.10.2) which depends on
        `numba`
</code></pre>
<p>Although there is numba v0.61.0, for some reason uv chose older numba v0.53.1 and failed to install it as python 3.12 is not supported.
I also checked dependency tree. tsfresh requires stumpy&gt;=1.7.2 and the latest stumpy v1.13.0 requires numba&gt;=0.57.1. So numba v0.61.0 does not violate any requirements.</p>
<p>One more strange thing is that if I change the command to explicitly include numba as  <code>uv pip install tsfresh numba</code>, numba v0.61.0 is correctly chosen and entire installation succeeded without any error.</p>
<p>I'm not sure it is related to those issues</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/7020</li>
<li>https://github.com/astral-sh/uv/issues/8863</li>
<li>https://github.com/astral-sh/uv/issues/11981</li>
</ul>
<h3>Platform</h3>
<p>Ubuntu 22.04 on WSL, x86_64</p>
<h3>Version</h3>
<p>uv 0.6.3</p>
<h3>Python version</h3>
<p>Python 3.12.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @lucidfrontier45 on 2025-03-12 01:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-12 01:49</div>
            <div class="timeline-body"><p>Yeah, I think this the same as #12060.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lucidfrontier45">@lucidfrontier45</a> on 2025-03-12 02:41</div>
            <div class="timeline-body"><p>@charliermarsh</p>
<p>Thank you for response.</p>
<p>I think in #12060 the last part of my report was not mentioned and let me emphasize again as I think it may help.</p>
<ul>
<li><code>uv pip install tsfresh</code> -&gt; error</li>
<li><code>uv pip install numba tsfresh</code> or <code>uv pip install tsfresh numba</code> -&gt; success</li>
</ul>
<p>Looks like resolving dependency of numba is a very complicated thingðŸ˜“</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Cannnot install tsfresh" to "Cannot install tsfresh" by @lucidfrontier45 on 2025-03-12 02:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-03-12 10:07</div>
            <div class="timeline-body"><p>Your problem has the same cause as https://github.com/astral-sh/uv/issues/12060#issuecomment-2710047557: If we decide the numba version first, we take a new numba, and then later an older numpy (so <code>uv pip install numba tsfresh</code> and <code>uv pip install tsfresh numba</code> work). If we select numpy first, we select a high numpy version, and an old numba version (so <code>uv pip install tsfresh</code> fails)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-14 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../astral-sh/packse/pulls/239.html">astral-sh/packse#239</a> on 2025-03-14 14:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12060.html">astral-sh/uv#12060</a> on 2025-03-14 14:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:02 UTC
    </footer>
</body>
</html>
