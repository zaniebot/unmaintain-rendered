<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature request: When using `uv pip compile` or `uv pip install --dry-run` warn and display yank message on selecting a yanked package - astral-sh/uv #3703</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature request: When using <code>uv pip compile</code> or <code>uv pip install --dry-run</code> warn and display yank message on selecting a yanked package</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3703">#3703</a>
        opened by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a>
        on 2024-05-21 16:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a></div>
            <div class="timeline-body"><p>uv does not seem to display the the yank message when a yanked package is selected:</p>
<pre><code>$ python -V
Python 3.10.4
$ pip -V
pip 24.0 from ...
$ uv -V
uv 0.1.45

$ pip install --dry-run python-daemon==2.3.1
Collecting python-daemon==2.3.1
  Using cached python_daemon-2.3.1-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting docutils (from python-daemon==2.3.1)
  Using cached docutils-0.21.2-py3-none-any.whl.metadata (2.8 kB)
Collecting lockfile&gt;=0.10 (from python-daemon==2.3.1)
  Using cached lockfile-0.12.2-py2.py3-none-any.whl.metadata (2.4 kB)
Requirement already satisfied: setuptools in /home/STRIKETECH/dshaw/miniforge3/envs/uv_recon/lib/python3.10/site-packages (from python-daemon==2.3.1) (69.5.1)
WARNING: The candidate selected for download or install is a yanked version: &#x27;python-daemon&#x27; candidate (version 2.3.1 at https://files.pythonhosted.org/packages/aa/b0/bc79d8ff019c2583d839e0143b1f91eafd4cfe92f86fb9d378a515dfb612/python_daemon-2.3.1-py2.py3-none-any.whl (from https://pypi.org/simple/python-daemon/))
Reason for being yanked: Incorrectly declares Python 2 support
Using cached python_daemon-2.3.1-py2.py3-none-any.whl (34 kB)
Using cached lockfile-0.12.2-py2.py3-none-any.whl (13 kB)
Using cached docutils-0.21.2-py3-none-any.whl (587 kB)
Would install docutils-0.21.2 lockfile-0.12.2 python-daemon-2.3.1

$ uv pip install --dry-run python-daemon==2.3.1
Resolved 4 packages in 3ms
Would download 3 packages
Would install 3 packages
 + docutils==0.21.2
 + lockfile==0.12.2
 + python-daemon==2.3.1
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Warn and display yank message on selecting a yanked package&quot; to &quot;Feature request: Warn and display yank message on selecting a yanked package&quot; by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-21 16:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Feature request: Warn and display yank message on selecting a yanked package&quot; to &quot;Feature request: When using `pip compile` or `pip install --dry-run` warn and display yank message on selecting a yanked package&quot; by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-21 16:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Feature request: When using `pip compile` or `pip install --dry-run` warn and display yank message on selecting a yanked package&quot; to &quot;Feature request: When using `uv pip compile` or `uv pip install --dry-run` warn and display yank message on selecting a yanked package&quot; by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-21 16:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-21 16:43</div>
            <div class="timeline-body"><p>uv does display when doing regular install:</p>
<pre><code>uv pip install  python-daemon==2.3.1
Resolved 4 packages in 3ms
Downloaded 3 packages in 486ms
Installed 3 packages in 7ms
 + docutils==0.21.2
 + lockfile==0.12.2
 + python-daemon==2.3.1
warning: python-daemon==2.3.1 is yanked (reason: &quot;Incorrectly declares Python 2 support&quot;).
</code></pre>
<p>But if the yanked version is being pinned in a constraint or requirement file it may be too late, or not noticed, for it to be displayed at install time, instead of requirement build time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-21 16:49</div>
            <div class="timeline-body"><p>It would be useful to enumerate the specific cases in which we&#x27;re not showing this but should (e.g., <code>--dry-run</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-21 16:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-22 16:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:12 UTC
    </footer>
</body>
</html>
