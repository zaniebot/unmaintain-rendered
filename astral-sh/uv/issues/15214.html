<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>'did not find executable' error when `uv tool update` after `uv python upgrade` - astral-sh/uv #15214</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>'did not find executable' error when <code>uv tool update</code> after <code>uv python upgrade</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15214">#15214</a>
        opened by <a href="https://github.com/karofsky">@karofsky</a>
        on 2025-08-11 01:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/karofsky">@karofsky</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<ol>
<li><code>uv python install 3.13.5</code></li>
<li><code>uv tool install ruff</code></li>
<li><code>uv python upgrade 3.13 --preview</code></li>
<li><code>uv python uninstall 3.13.5</code></li>
<li><code>uv tool update ruff</code></li>
</ol>
<p>throws error: <code>ruff</code> is missing a valid environment; run <code>uv tool install --force ruff</code> to reinstall</p>
<p>run <code>uv tool install --force ruff</code>, throws error: did not find executable at 'C:\Users\karofsky\AppData\Roaming\uv\python\cpython-3.13.5-windows-x86_64-none\python.exe'</p>
<h3>Platform</h3>
<p>Windows 10</p>
<h3>Version</h3>
<p>uv 0.8.8 (9a54754b0 2025-08-08)</p>
<h3>Python version</h3>
<p>Python 3.10.18</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @karofsky on 2025-08-11 01:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/faisal-fida">@faisal-fida</a> on 2025-08-11 02:01</div>
            <div class="timeline-body"><p>This error occurs when there's a mismatch between the Python version used to install a tool and the currently active Python environment after an upgrade. The tool was originally installed using Python 3.13.5, but after upgrading and uninstalling that version, uv can no longer find the executable.</p>
<h3>Why it happens:</h3>
<ul>
<li><code>uv tool install</code> creates tools tied to specific Python installations</li>
<li>When you <code>uv python upgrade</code> and then <code>uv python uninstall</code> the old version, the tool's associated Python executable is removed</li>
<li>The tool metadata still references the old Python path, causing the &quot;did not find executable&quot; error</li>
<li>Even forcing a reinstall fails because the original Python version (3.13.5) is no longer available</li>
</ul>
<h3>How to solve it:</h3>
<ol>
<li><p><strong>Reinstall the tool with the current Python version</strong>:</p>
<pre><code class="language-bash">uv tool install --force ruff
</code></pre>
<p>This should now use the upgraded Python version.</p>
</li>
<li><p><strong>If the above fails, first ensure the new Python version is properly set</strong>:</p>
<pre><code class="language-bash">uv python list
uv python pin 3.13  # or whatever version you upgraded to
uv tool install --force ruff
</code></pre>
</li>
<li><p><strong>Alternative: Remove and reinstall the tool cleanly</strong>:</p>
<pre><code class="language-bash">uv tool uninstall ruff
uv tool install ruff
</code></pre>
</li>
<li><p><strong>For future upgrades, avoid uninstalling the old Python version immediately</strong>:</p>
<ul>
<li>Upgrade Python: <code>uv python upgrade 3.13 --preview</code></li>
<li>Update tools: <code>uv tool update ruff</code></li>
<li>Only uninstall old Python versions after confirming everything works</li>
</ul>
</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karofsky">@karofsky</a> on 2025-08-11 04:43</div>
            <div class="timeline-body"><blockquote>
<p>This error occurs when there's a mismatch between the Python version used to install a tool and the currently active Python environment after an upgrade. The tool was originally installed using Python 3.13.5, but after upgrading and uninstalling that version, uv can no longer find the executable.</p>
<h3>Why it happens:</h3>
<ul>
<li><code>uv tool install</code> creates tools tied to specific Python installations</li>
<li>When you <code>uv python upgrade</code> and then <code>uv python uninstall</code> the old version, the tool's associated Python executable is removed</li>
<li>The tool metadata still references the old Python path, causing the &quot;did not find executable&quot; error</li>
<li>Even forcing a reinstall fails because the original Python version (3.13.5) is no longer available</li>
</ul>
<h3>How to solve it:</h3>
<ol>
<li><p><strong>Reinstall the tool with the current Python version</strong>:
uv tool install --force ruff</p>
<p>This should now use the upgraded Python version.</p>
</li>
<li><p><strong>If the above fails, first ensure the new Python version is properly set</strong>:
uv python list
uv python pin 3.13  # or whatever version you upgraded to
uv tool install --force ruff</p>
</li>
<li><p><strong>Alternative: Remove and reinstall the tool cleanly</strong>:
uv tool uninstall ruff
uv tool install ruff</p>
</li>
<li><p><strong>For future upgrades, avoid uninstalling the old Python version immediately</strong>:</p>
<ul>
<li>Upgrade Python: <code>uv python upgrade 3.13 --preview</code></li>
<li>Update tools: <code>uv tool update ruff</code></li>
<li>Only uninstall old Python versions after confirming everything works</li>
</ul>
</li>
</ol>
</blockquote>
<p>thanks for clearing this for me!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @karofsky on 2025-08-11 04:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:33 UTC
    </footer>
</body>
</html>
