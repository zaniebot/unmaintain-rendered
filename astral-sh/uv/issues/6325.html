<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question: Where is `ruff` located when running `uvx ruff`? - astral-sh/uv #6325</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Question: Where is <code>ruff</code> located when running <code>uvx ruff</code>?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6325">#6325</a>
        opened by <a href="https://github.com/pplmx">@pplmx</a>
        on 2024-08-21 13:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pplmx">@pplmx</a></div>
            <div class="timeline-body"><p>As title</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-21 13:34</div>
            <div class="timeline-body"><p>Good question. We create a content-addressed, ephemeral virtual environment in the cache.</p>
<p>You can run <code>uv cache dir</code> to find the cache:</p>
<pre><code>‚ùØ uv cache dir
/Users/crmarsh/.cache/uv
</code></pre>
<p>Then on my machine, it ends up at:</p>
<pre><code>/Users/crmarsh/.cache/uv/environments-v1/409d7d054e15cc1d/23519598101eb3f1/bin/ruff
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-21 13:35</div>
            <div class="timeline-body"><p>If you install Ruff with <code>uv tool install ruff</code>, then <code>uvx ruff</code> will use <em>that</em> binary by default (you can disable this with <code>uvx --isolated ruff</code>).</p>
<p>If you use <code>uv tool install ruff</code>, you can find the final binary directory with:</p>
<pre><code>‚ùØ uv tool dir --bin
/Users/crmarsh/.local/bin
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-08-21 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pplmx">@pplmx</a> on 2024-08-21 13:40</div>
            <div class="timeline-body"><p>Thank you for your prompt response! I understand. :)<br />
I also noticed that if I run <code>uvx &lt;package&gt;</code> first and then run <code>uv install &lt;package&gt;</code>, the process is much quicker. It uses the cache, correct?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-21 13:42</div>
            <div class="timeline-body"><p>Yeah they both use the same cached uv binary, and reflink or hardlink it into the appropriate places :) So there's no duplication either way (unless, e.g., you do something like <code>uvx ruff@0.6.0</code> and then <code>uv install ruff==0.5.0</code>, since we then need to install two different versions).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pplmx">@pplmx</a> on 2024-08-21 13:47</div>
            <div class="timeline-body"><p>Perfect! I really like using <code>uv</code>. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baggiponte">@baggiponte</a> on 2024-08-21 13:48</div>
            <div class="timeline-body"><p>Uhm, I just noticed that if I run <code>uv cache dir</code> I get:</p>
<pre><code class="language-zsh">$ uv cache dir
/Users/luca/Library/Caches/uv
</code></pre>
<p>even though I have XDG vars set üò±</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-21 13:49</div>
            <div class="timeline-body"><p>(If you run <code>uv cache clean</code>, we'll create any subsequent cache under XDG. We keep reading from <code>/Users/luca/Library/Caches/uv</code> if it exists for backwards compatibility.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-08-21 13:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:18 UTC
    </footer>
</body>
</html>
