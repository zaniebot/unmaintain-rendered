```yaml
number: 4578
title: "`--extra-index-url` fails to look up on pypi when there are no wheels built for my machine"
type: issue
state: closed
author: baggiponte
labels:
  - question
assignees: []
created_at: 2024-06-27T09:47:27Z
updated_at: 2024-06-27T15:56:43Z
url: https://github.com/astral-sh/uv/issues/4578
synced_at: 2026-01-10T01:57:10Z
```

# `--extra-index-url` fails to look up on pypi when there are no wheels built for my machine

---

_Issue opened by @baggiponte on 2024-06-27 09:47_

Ciao! I am using `uv` to install a package from a private index. I noticed an error when trying to install anything that depends on `pydantic-core`. Basically, on the private index there are just these wheels:

![image](https://github.com/astral-sh/uv/assets/57922983/26d440b8-0d18-485d-afe5-10ffac71b073)

So when I try to install pydantic-core==2.18.4 on macOS, uv fails:

```bash
uv pip install --extra-index-url="https://$USER:$PWD@pkgs.dev.azure.com/$COMPANY/_packaging/$FEED/pypi/simple/" --verbose -- "pydantic-core==2.18.4"
DEBUG uv 0.2.17
DEBUG Searching for Python interpreter in system toolchains
DEBUG Found cpython 3.10.14 at `/private/tmp/test/.venv/bin/python3` (virtual environment)
DEBUG Using Python 3.10.14 environment at .venv/bin/python3
DEBUG Acquired lock for `.venv`
DEBUG At least one requirement is not satisfied: pydantic-core==2.18.4
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.10.14
DEBUG Adding direct dependency: pydantic-core==2.18.4
DEBUG No cache entry for: https://pkgs.dev.azure.com/$COMPANY/_packaging/$FEED/pypi/simple/pydantic-core/
DEBUG Searching for a compatible version of pydantic-core (==2.18.4)
  Ã— No solution found when resolving dependencies:
  â•°â”€â–¶ Because pydantic-core==2.18.4 has no wheels are available with a matching Python implementation and you require pydantic-core==2.18.4, we can conclude that the requirements are unsatisfiable.
```

I think the correct behaviour is for uv to start looking on pypi?

---

_Comment by @zanieb on 2024-06-27 11:08_

Hi! Check out our [pip compatibility guide](https://github.com/astral-sh/uv/blob/main/PIP_COMPATIBILITY.md#packages-that-exist-on-multiple-indexes) â€” you're probably looking for `--index-strategy unsafe-best-match`

---

_Label `question` added by @zanieb on 2024-06-27 11:08_

---

_Comment by @baggiponte on 2024-06-27 15:22_

Confirmed it works! ðŸ˜Š Super cool that `uv` is so stringent/safe by default. Do you think you'd support specifying "only install X from index Y" and dependencies from pypi?

Close the issue whenever you want ðŸ˜Š

---

_Comment by @zanieb on 2024-06-27 15:56_

Yeah we're definitely going to support that! See #171 for more details.

Thank you :)

---

_Closed by @zanieb on 2024-06-27 15:56_

---

_Referenced in [mivade/website#2](../../mivade/website/issues/2.md) on 2024-09-09 17:27_

---
