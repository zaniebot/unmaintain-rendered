<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv does not seem to do anything - astral-sh/uv #12537</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv does not seem to do anything</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12537">#12537</a>
        opened by <a href="https://github.com/abstracted1">@abstracted1</a>
        on 2025-03-28 21:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/abstracted1">@abstracted1</a> on 2025-03-28 21:14</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hi I am assessing adoption of uv for our projects, however, I am not able to get uv to do, well, anything it seems. Below I list some commands testing <code>python</code>, <code>venv</code>, and <code>init</code> commands that seem to log identical output and take no actions.</p>
<p>FYI this is installed in a corporate PC environment, I am able to reach the internet after some proxy configuration.</p>
<p>It appears I am able to install new python versions (i.e., 3.8 below):</p>
<pre><code>PS C:\Users\jsmith5503\builds\asdf&gt; uv python install 3.8 --verbose
DEBUG uv 0.6.10 (f2a2d982b 2025-03-25)
DEBUG Acquired lock for `C:\Users\jsmith5503\AppData\Roaming\uv\python`
DEBUG No installation found for request `Python 3.8`
DEBUG Found download `cpython-3.8.20-windows-x86_64-none` for request `Python 3.8`
DEBUG Using request timeout of 30s
Downloading cpython-3.8.20-windows-x86_64-none (20.6MiB)
DEBUG Downloading https://github.com/astral-sh/python-build-standalone/releases/download/20241002/cpython-3.8.20%2B20241002-x86_64-pc-windows-msvc-install_only_stripped.tar.gz to temporary location: C:\Users\jsmith5503\AppData\Roaming\uv\python\.temp\.tmpOXj0g3
DEBUG Extracting cpython-3.8.20%2B20241002-x86_64-pc-windows-msvc-install_only_stripped.tar.gz
 Downloaded cpython-3.8.20-windows-x86_64-none
DEBUG Moving C:\Users\jsmith5503\AppData\Roaming\uv\python\.temp\.tmpOXj0g3\python to C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.8.20-windows-x86_64-none</code></pre>
<p>However, listing the python versions like below only shows a 3.13 version (no matter what other Python versions I install this output is the same).</p>
<pre><code>PS C:\Users\jsmith5503\builds\asdf&gt; uv python list --verbose
DEBUG uv 0.6.10 (f2a2d982b 2025-03-25)
DEBUG Searching for any Python interpreter in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\jsmith5503\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.13.1-windows-x86_64-none`
PS C:\Users\jsmith5503\builds\asdf&gt;</code></pre>
<p>Trying to initialize a new project in an empty directory, does not do anything (no files are generated or descriptive meassaging or errors are displayed):</p>
<pre><code>PS C:\Users\jsmith5503\builds\asdf&gt; uv init --verbose
DEBUG uv 0.6.10 (f2a2d982b 2025-03-25)
DEBUG Searching for default Python interpreter in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\jsmith5503\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.13.1-windows-x86_64-none`
PS C:\Users\jsmith5503\builds\asdf&gt;</code></pre>
<p>Trying to create a new virtual environment also produces no <code>.venv</code> folder or any different output from the previous commands:</p>
<pre><code>PS C:\Users\jsmith5503\builds\asdf&gt; uv venv --verbose
DEBUG uv 0.6.10 (f2a2d982b 2025-03-25)
DEBUG Searching for default Python interpreter in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\jsmith5503\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.13.1-windows-x86_64-none`
PS C:\Users\jsmith5503\builds\asdf&gt;</code></pre>
<h3>Platform</h3>
<p>Windows 10 Enterprise build 19045.5487</p>
<h3>Version</h3>
<p>0.6.10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @abstracted1 on 2025-03-28 21:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-28 23:26</div>
            <div class="timeline-body"><p>At least based on the above, I have no idea what's going on and I've never seen this before.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @charliermarsh on 2025-03-29 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2025-03-29 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/abstracted1">@abstracted1</a> on 2025-04-01 20:37</div>
            <div class="timeline-body"><p>I am looking at this again to see if I can gather more information. I have found that versions &lt;= 0.5.8 work but something changed in the 0.5.9 version resulting in the above behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 20:43</div>
            <div class="timeline-body"><p>I wonder if we're failing to query that executable in some problematic way?</p>
<p>Can you run the installed Python executable manually? <code>C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.8.20-windows-x86_64-none\python.exe</code>? (not 100% sure on the path)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @zanieb on 2025-04-01 20:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/abstracted1">@abstracted1</a> on 2025-04-01 20:58</div>
            <div class="timeline-body"><p>Thanks @zanieb for the reply.</p>
<p>I currently have a few different versions installed via uv (it seems I can install perfectly fine). Each interpreter does appear to a work properly:</p>
<pre><code>PS C:\Users\jsmith5503\AppData\Roaming\uv\python&gt; .\cpython-3.7.9-windows-x86_64-none\python.exe -c 'print(1+1)'
    2
PS C:\Users\jsmith5503\AppData\Roaming\uv\python&gt; .\cpython-3.8.20-windows-x86_64-none\python.exe -c 'print(1+1)'
    2
PS C:\Users\jsmith5503\AppData\Roaming\uv\python&gt; .\cpython-3.10.16-windows-x86_64-none\python.exe -c 'print(1+1)'
    2
PS C:\Users\jsmith5503\AppData\Roaming\uv\python&gt; .\cpython-3.11.11-windows-x86_64-none\python.exe -c 'print(1+1)'
    2
PS C:\Users\jsmith5503\AppData\Roaming\uv\python&gt; .\cpython-3.12.8-windows-x86_64-none\python.exe -c 'print(1+1)'
    2
PS C:\Users\jsmith5503\AppData\Roaming\uv\python&gt; .\cpython-3.13.1-windows-x86_64-none\python.exe -c 'print(1+1)'
    2</code></pre>
<p>Here is verbose output for trying to list the installed interpreters via <code>uv python list -vvv</code>:</p>
<h2>UV 0.5.8:</h2>
<pre><code>PS C:\Users\jsmith5503\builds\asdf&gt; &amp; '.\0.5.8\uv.exe' python list -vvv
    0.000074s DEBUG uv uv 0.5.8 (80d41671b 2024-12-11)
    0.003714s DEBUG uv_python::discovery Searching for any Python interpreter in managed installations, search path, or registry
    0.004221s DEBUG uv_python::discovery Searching for managed installations at `C:\Users\jsmith5503\AppData\Roaming\uv\python`
    0.005457s DEBUG uv_python::discovery Found managed installation `cpython-3.13.1-windows-x86_64-none`
    0.007101s DEBUG uv_python::discovery Found `cpython-3.13.1-windows-x86_64-none` at `C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.13.1-windows-x86_64-none\python.exe` (managed installations)
    0.007362s DEBUG uv_python::discovery Found managed installation `cpython-3.12.8-windows-x86_64-none`
    0.008670s DEBUG uv_python::discovery Found `cpython-3.12.8-windows-x86_64-none` at `C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.12.8-windows-x86_64-none\python.exe` (managed installations)
    0.008819s DEBUG uv_python::discovery Found managed installation `cpython-3.11.11-windows-x86_64-none`
    0.010086s DEBUG uv_python::discovery Found `cpython-3.11.11-windows-x86_64-none` at `C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe` (managed installations)
    0.010328s DEBUG uv_python::discovery Found managed installation `cpython-3.10.16-windows-x86_64-none`
    0.011603s DEBUG uv_python::discovery Found `cpython-3.10.16-windows-x86_64-none` at `C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\python.exe` (managed installations)
    0.011851s DEBUG uv_python::discovery Found managed installation `cpython-3.8.20-windows-x86_64-none`
    0.013020s DEBUG uv_python::discovery Found `cpython-3.8.20-windows-x86_64-none` at `C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.8.20-windows-x86_64-none\python.exe` (managed installations)
    0.013192s DEBUG uv_python::discovery Found managed installation `cpython-3.7.9-windows-x86_64-none`
    0.014591s DEBUG uv_python::discovery Found `cpython-3.7.9-windows-x86_64-none` at `C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.7.9-windows-x86_64-none\python.exe` (managed installations)
    0.020422s DEBUG uv_python::discovery Found `cpython-3.10.9-windows-x86_64-none` at `C:\ProgramData\Miniconda3\python.exe` (search path)
    0.130580s DEBUG uv_python::py_launcher Python interpreter in the registry is not executable: `Software\Python\PythonCore\3.10
    0.131193s DEBUG uv_python::py_launcher Python interpreter in the registry is not executable: `Software\Python\PythonCore\3.7
    0.132509s DEBUG uv_python::discovery Found `cpython-3.10.12-windows-x86_64-none` at `C:\Users\jsmith5503\builds\miniconda3\envs\pspas_3.10\python.exe` (registry)
    0.133374s DEBUG uv_python::discovery Found `cpython-3.10.9-windows-x86_64-none` at `C:\ProgramData\Miniconda3\python.exe` (registry)
cpython-3.13.1+freethreaded-windows-x86_64-none    &lt;download available&gt;
cpython-3.13.1-windows-x86_64-none                 C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.13.1-windows-x86_64-none\python.exe
cpython-3.12.8-windows-x86_64-none                 C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.12.8-windows-x86_64-none\python.exe
cpython-3.11.11-windows-x86_64-none                C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe
cpython-3.10.16-windows-x86_64-none                C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\python.exe
cpython-3.10.12-windows-x86_64-none                C:\Users\jsmith5503\builds\miniconda3\envs\pspas_3.10\python.exe
cpython-3.10.9-windows-x86_64-none                 C:\ProgramData\Miniconda3\python.exe
cpython-3.9.21-windows-x86_64-none                 &lt;download available&gt;
cpython-3.8.20-windows-x86_64-none                 C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.8.20-windows-x86_64-none\python.exe
cpython-3.7.9-windows-x86_64-none                  C:\Users\jsmith5503\AppData\Roaming\uv\python\cpython-3.7.9-windows-x86_64-none\python.exe
pypy-3.10.14-windows-x86_64-none                   &lt;download available&gt;
pypy-3.9.19-windows-x86_64-none                    &lt;download available&gt;
pypy-3.8.16-windows-x86_64-none                    &lt;download available&gt;
pypy-3.7.13-windows-x86_64-none                    &lt;download available&gt;</code></pre>
<h2>UV 0.5.9</h2>
<p>It appears UV silently crashes after the last logged line (at least, the loading/busy cursor appears for a moment before uv exits, which often occurs before crashes in Windows).</p>
<pre><code>PS C:\Users\jsmith5503\builds\asdf&gt; &amp; '.\0.5.9\uv.exe' python list -vvv
    0.000074s DEBUG uv uv 0.5.9 (0652800cb 2024-12-13)
    0.003274s DEBUG uv_python::discovery Searching for any Python interpreter in managed installations, search path, or registry
    0.003905s DEBUG uv_python::discovery Searching for managed installations at `C:\Users\jsmith5503\AppData\Roaming\uv\python`
    0.005001s DEBUG uv_python::discovery Found managed installation `cpython-3.13.1-windows-x86_64-none`</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 21:08</div>
            <div class="timeline-body"><p>The only things that seem possibly related from that release are</p>
<ul>
<li>https://github.com/astral-sh/uv/pull/9857</li>
<li>https://github.com/astral-sh/uv/pull/9823</li>
<li>https://github.com/astral-sh/uv/pull/9815</li>
</ul>
<p>I think we've seen some similar problems reported around https://github.com/astral-sh/uv/pull/9815? Would you be able to build a version of 0.5.9 with that commit reverted?</p>
<p>@Gankra perhaps you have an idea?</p>
<p>The confusing part is that we shouldn't <em>do</em> anything with the interpreter until later? We're just logging the interpreter and moving on to the next managed installation</p>
<p>https://github.com/astral-sh/uv/blob/3a53ec3c5af88a50fbb334a73880a41fd9e9b3a5/crates/uv-python/src/discovery.rs#L331-L332</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/abstracted1">@abstracted1</a> on 2025-04-01 22:32</div>
            <div class="timeline-body"><p>The issue is almost guaranteed to be <a href="https://users.rust-lang.org/t/always-status-access-violation-error-in-cargo-build/123283/35?page=2">this</a>.</p>
<p>I found #10231 describing a very similar issue to mine after perusing #9815. In #10231 they mention PaperSecu (same thing as SecuPrint) which is mentioned in the first link.</p>
<p>Unfortunately we use the same paper/print security software, which according to the first link performs dll injection (into probably everything running). Why printing security software would need to do this is beyond me.</p>
<p>While trying your aforementioned idea of compiling UV from the old versions I found I was able to compile 0.5.8 but not 0.5.9. The linked Rust issue similarly explains that something in rust version 1.83 (introduced in UV 0.5.9) breaks compilation due to SecuPrint (cannot even compile anything in rust 1.83+).</p>
<p>So this is not a UV problem. Unfortunately, this is not the first time I have lost precious time due to overreaching security software :(</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 23:07</div>
            <div class="timeline-body"><p>Ah I'm sorry to hear that. Thank you for following up with the details though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 23:14</div>
            <div class="timeline-body"><p>I opened a dedicated issue to track this conflict https://github.com/astral-sh/uv/issues/12612</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-04-01 23:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:44:32 UTC
    </footer>
</body>
</html>
