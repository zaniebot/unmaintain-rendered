<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Include a method to create machine readable output - astral-sh/uv #3199</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Include a method to create machine readable output</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3199">#3199</a>
        opened by <a href="https://github.com/pfmoore">@pfmoore</a>
        on 2024-04-22 21:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pfmoore">@pfmoore</a> on 2024-04-22 21:09</div>
            <div class="timeline-body"><p>When automating <code>uv</code>, having to parse the command output (which is intended for human readability) is not ideal. It would be useful to have an option to produce machine readable (probably JSON) output from the various <code>uv</code> commands.</p>
<ul>
<li>For <code>uv pip install</code> something along the lines of the <a href="https://pip.pypa.io/en/stable/reference/installation-report/">pip installation report</a> would probably be a reasonable format.</li>
<li>For <code>uv pip list</code>, the <code>pip list --format=json</code> command is probably a good model.</li>
<li><code>uv pip show</code> and <code>uv pip freeze</code> are machine readable, although having a <code>--format=json</code> equivalent for consistency might be worthwhile.</li>
<li><code>uv pip check</code> probably doesn't need an output option, assuming the exit code is success or failure as appropriate.</li>
<li><code>uv pip compile</code> and <code>uv pip sync</code> can probably have an installation report similar to <code>uv pip install</code>. I've not used these myself, though, so I don't know how useful they would be in practice.</li>
<li><code>uv venv</code> could produce JSON output showing details of the created environment - path to the environment, Python executable path, scripts and site-package directories. Basically, the values that the stdlib <code>venv</code> module captures in the &quot;context&quot; object documented <a href="https://docs.python.org/3.12/library/venv.html#venv.EnvBuilder.ensure_directories">here</a>.</li>
</ul>
<p>To make automation easier, it's probably worth having some additional command line capabilities:</p>
<ul>
<li>An isolated mode, to prevent user config affecting results (<code>uv</code> doesn't have as many possibilities for problems here as pip does, but that may change, I guess...)</li>
<li>A &quot;guaranteed quiet&quot; mode that ensures that <em>just</em> the JSON data will be printed to stdout, with any user messages either going to stderr or being suppressed. (Writing the data to a file is another possibility, but IMO it tends to be clumsy to manage).</li>
<li>I assume <code>uv</code> always writes its output as UTF-8, but if it doesn't (for example it follows the system defined encoding) then a &quot;guaranteed UTF-8 output&quot; mode would be important to avoid encoding problems.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3190.html">astral-sh/uv#3190</a> on 2024-04-22 21:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-04-22 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-04-24 03:30</div>
            <div class="timeline-body"><p>should we note in the description that <code>uv pip list --format json</code> already exists? https://github.com/astral-sh/uv/blob/main/crates/uv/src/commands/pip_list.rs#L115</p>
<pre><code>$ python -m uv pip list --format json | jq .
[
  {
    &quot;name&quot;: &quot;certifi&quot;,
    &quot;version&quot;: &quot;2024.2.2&quot;
  },
  {
    &quot;name&quot;: &quot;charset-normalizer&quot;,
    &quot;version&quot;: &quot;3.3.2&quot;
  },
  {
    &quot;name&quot;: &quot;idna&quot;,
    &quot;version&quot;: &quot;3.6&quot;
  },
  {
    &quot;name&quot;: &quot;requests&quot;,
    &quot;version&quot;: &quot;2.31.0&quot;
  },
  {
    &quot;name&quot;: &quot;urllib3&quot;,
    &quot;version&quot;: &quot;2.2.1&quot;
  }
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pfmoore">@pfmoore</a> on 2024-04-24 08:08</div>
            <div class="timeline-body"><p>Thanks, I’d missed that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sfc-gh-jcarroll">@sfc-gh-jcarroll</a> on 2024-04-25 12:37</div>
            <div class="timeline-body"><p>We also need it for equivalent of <code>--dry-run</code> without doing the install.</p>
<p>Related:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/411</li>
<li>https://github.com/astral-sh/uv/issues/1442</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2150.html">astral-sh/uv#2150</a> on 2024-05-13 19:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/411.html">astral-sh/uv#411</a> on 2024-07-01 21:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5279.html">astral-sh/uv#5279</a> on 2024-07-22 04:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../conda-incubator/conda-pypi/issues/14.html">conda-incubator/conda-pypi#14</a> on 2024-07-23 13:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../moreati/ansible-uv/issues/2.html">moreati/ansible-uv#2</a> on 2024-11-29 22:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10219.html">astral-sh/uv#10219</a> on 2024-12-29 16:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/11891.html">astral-sh/uv#11891</a> on 2025-03-06 12:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12387.html">astral-sh/uv#12387</a> on 2025-03-22 04:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/13633.html">astral-sh/uv#13633</a> on 2025-05-24 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-13 12:05</div>
            <div class="timeline-body"><p>Let's track this in https://github.com/astral-sh/uv/issues/411 — it's confusing to have two issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-06-13 12:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/14455.html">astral-sh/uv#14455</a> on 2025-07-04 07:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:26 UTC
    </footer>
</body>
</html>
