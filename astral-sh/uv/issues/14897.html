<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv build failing CI/CD pipeline since last week - astral-sh/uv #14897</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv build failing CI/CD pipeline since last week</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14897">#14897</a>
        opened by <a href="https://github.com/Anon-jCqx">@Anon-jCqx</a>
        on 2025-07-25 15:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Anon-jCqx">@Anon-jCqx</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>I have tried everything to  figure out the source distribution unpack error but nothing seems to work.</p>
<p>Tried <code>uv cache clean</code>  and still no luck.</p>
<pre><code>  ╰─▶ symlink destination for /usr/local/bin/python3 is outside of the target
      directory
</code></pre>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p>uv 0.8.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @Anon-jCqx on 2025-07-25 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-25 15:42</div>
            <div class="timeline-body"><p>Please share the full error message and command.</p>
<p>See #9452</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Mattia2700">@Mattia2700</a> on 2025-07-25 15:43</div>
            <div class="timeline-body"><p>Yep, I confirm that too, just happened to me in GitLab CI.  I was just running <code>uv build</code></p>
<pre><code>Building source distribution...
  × Failed to build `/builds/{path-to-gitlab-project}`
  ├─▶ I/O operation failed during extraction
  ├─▶ failed to unpack
  │   `/builds/{path-to-gitlab-project}/.uv-cache/sdists-v9/.tmpOPvD91/{project-name}-1.3.1.post3+1e35324/.uv-cache/builds-v0/.tmprJoZh3/bin/python`
  ╰─▶ symlink destination for
      /root/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/bin/python3.12
      is outside of the target directory
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Anon-jCqx">@Anon-jCqx</a> on 2025-07-25 18:07</div>
            <div class="timeline-body"><p>Building source distribution...
× Failed to build <code>/builds/{PROJECT_DIR}</code>
├─▶ I/O operation failed during extraction
├─▶ failed to unpack
│   <code>/builds/{PROJECT_DIR}/.cache/uv/sdists-v9/.tmpDVT1xg/{PROJECT_VERSION}/venv/bin/python</code>
╰─▶ symlink destination for /usr/local/bin/python3 is outside of the target
directory</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-25 18:13</div>
            <div class="timeline-body"><p>This looks like a duplicate of https://github.com/astral-sh/uv/issues/14834</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-25 18:13</div>
            <div class="timeline-body"><p>See https://github.com/astral-sh/uv/issues/14834#issuecomment-3105157527 in particular</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Anon-jCqx">@Anon-jCqx</a> on 2025-07-25 18:33</div>
            <div class="timeline-body"><p>This was working before . so I am bit surprised, it started failing all of a sudden. I am new to uv and that's proving an added disadvantage in trying to fix this..</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-25 18:37</div>
            <div class="timeline-body"><p>Sorry, but it was working before in a way that was in violation of the Python package specification. You definitely don't want your virtual environment to be included in your distributions.</p>
<p>See also</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/12163</li>
<li>https://github.com/astral-sh/uv/pull/12259</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Anon-jCqx">@Anon-jCqx</a> on 2025-07-28 14:32</div>
            <div class="timeline-body"><p>Thank you!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-07-28 17:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:22 UTC
    </footer>
</body>
</html>
