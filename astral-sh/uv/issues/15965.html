<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip compile` ability to utilize `uv.lock` - astral-sh/uv #15965</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv pip compile` ability to utilize `uv.lock`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15965">#15965</a>
        opened by <a href="https://github.com/jamesbraza">@jamesbraza</a>
        on 2025-09-20 17:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2025-09-20 17:46</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I use <code>uv pip compile</code> to compile a subset of the deps + extras:</p>
<pre><code class="language-none">uv pip compile pyproject.toml --extra a --extra b --output-file requirements.txt
</code></pre>
<p>However, this doesn't respect <code>uv.lock</code>, and unfortunately a bad third party release last night burned me.</p>
<p>Going forward, any chance we can have <code>uv pip compile</code> either:</p>
<ul>
<li>Support <code>uv.lock</code> as a constraint: <code>uv pip compile pyproject.toml --constraint uv.lock</code></li>
<li>Pull directly from <code>uv.lock</code>: <code>uv pip compile uv.lock</code></li>
</ul>
<hr />
<p>A work around is a two-step process:</p>
<pre><code class="language-none">uv export ... --format requirements-txt --output constraints.txt
uv pip compile ... --constraint constraints.txt
</code></pre>
<h3>Example</h3>
<p>I put examples in the other section.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @jamesbraza on 2025-09-20 17:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-20 17:48</div>
            <div class="timeline-body"><p>Why can't you do <code>uv export</code> was a one-step output? I'm not sure I understand that part.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2025-09-20 18:03</div>
            <div class="timeline-body"><p>Oh I see, yeah can just do:</p>
<pre><code class="language-none">uv export --format requirements-txt --no-hashes --no-dev \
    --extra a --extra b --output-file requirements.txt
</code></pre>
<p>Once again Zanie you have resolved my request with a simple comment ðŸ˜†. Going to close this out</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @jamesbraza on 2025-09-20 18:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-20 18:06</div>
            <div class="timeline-body"><p>Cool :) I'm glad it fits your use-case!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
