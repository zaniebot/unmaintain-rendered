```yaml
number: 12324
title: Include minimal git lib in uv binary
type: issue
state: open
author: strangemonad
labels:
  - enhancement
  - wish
assignees: []
created_at: 2025-03-19T22:10:49Z
updated_at: 2025-07-09T00:53:41Z
url: https://github.com/astral-sh/uv/issues/12324
synced_at: 2026-01-10T01:57:28Z
```

# Include minimal git lib in uv binary

---

_Issue opened by @strangemonad on 2025-03-19 22:10_

### Summary

This could be worded in a few different ways, ultimately, in the case of using uv to build docker images, if your project has a git dependency, it seems that uv tries to shell out to the git it finds on the current PATH.

It would be great if there was a way to not require this dependency (eg `RUN --mount=from=ghcr.io/astral-sh/uv,source=/uv,target=/bin/uv  uv sync` is awfully convenient and  `apt update  && apt install git...` kinda sucks if you don't have to run it.

I could also see a use case for embedded git for running scripts in git as tools with nothing else installed on the system (eg uv tool run ... where there's no local git on the path or a really old git). Of course, it probably makes sense to have some sort of `--no-embedded-git` option where the fallback is to shell out.

### Example

_No response_

---

_Label `enhancement` added by @strangemonad on 2025-03-19 22:10_

---

_Comment by @zanieb on 2025-03-19 22:44_

We actually used to use an embedded git library but there's not robust support for authentication so we decided to drop it.

See https://github.com/astral-sh/uv/pull/1781

We could reconsider eventually.

---

_Label `wish` added by @zanieb on 2025-03-19 22:44_

---

_Comment by @phitoduck on 2025-07-09 00:51_

Was coming to ask for this. It's funny how often you go to install a git-based package using uv, only to discover that you need to install git.

This has come up for us while using an ML pipeline tool called Metaflow--which supports using uv as a backend to create venvs for different ML steps.

But having auth support would be vital since usually the reason, you're pip-install-ing something from `git` is because it's an internal (and therefore private) package/repo. So I support the rationale for why the initial support was dropped.

---
