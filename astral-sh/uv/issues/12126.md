```yaml
number: 12126
title: Cannot install tsfresh
type: issue
state: closed
author: lucidfrontier45
labels:
  - bug
assignees: []
created_at: 2025-03-12T01:46:08Z
updated_at: 2025-03-14T00:28:18Z
url: https://github.com/astral-sh/uv/issues/12126
synced_at: 2026-01-10T01:57:27Z
```

# Cannot install tsfresh

---

_Issue opened by @lucidfrontier45 on 2025-03-12 01:46_

### Summary

I tried to install https://github.com/blue-yonder/tsfresh with `uv pip tsfresh` and got this error

```
Resolved 26 packages in 54ms
  Ã— Failed to build `numba==0.53.1`
  â”œâ”€â–¶ The build backend returned an error
  â•°â”€â–¶ Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit status: 1)

      [stderr]
      Traceback (most recent call last):
        File "<string>", line 14, in <module>
        File "/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py", line
      334, in get_requires_for_build_wheel
          return self._get_build_requires(config_settings, requirements=[])
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py", line
      304, in _get_build_requires
          self.run_setup()
        File "/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py", line
      522, in run_setup
          super().run_setup(setup_script=setup_script)
        File "/home/du/.cache/uv/builds-v0/.tmpIQRc1L/lib/python3.12/site-packages/setuptools/build_meta.py", line
      320, in run_setup
          exec(code, locals())
        File "<string>", line 50, in <module>
        File "<string>", line 47, in _guard_py_ver
      RuntimeError: Cannot install on Python version 3.12.9; only versions >=3.6,<3.10 are supported.

      hint: This usually indicates a problem with the package or the build environment.
  help: `numba` (v0.53.1) was included because `tsfresh` (v0.21.0) depends on `stumpy` (v1.10.2) which depends on
        `numba`
```

Although there is numba v0.61.0, for some reason uv chose older numba v0.53.1 and failed to install it as python 3.12 is not supported. 
I also checked dependency tree. tsfresh requires stumpy>=1.7.2 and the latest stumpy v1.13.0 requires numba>=0.57.1. So numba v0.61.0 does not violate any requirements.

One more strange thing is that if I change the command to explicitly include numba as  `uv pip install tsfresh numba`, numba v0.61.0 is correctly chosen and entire installation succeeded without any error.

I'm not sure it is related to those issues

- https://github.com/astral-sh/uv/issues/7020
- https://github.com/astral-sh/uv/issues/8863
- https://github.com/astral-sh/uv/issues/11981

### Platform

Ubuntu 22.04 on WSL, x86_64

### Version

uv 0.6.3

### Python version

Python 3.12.9

---

_Label `bug` added by @lucidfrontier45 on 2025-03-12 01:46_

---

_Comment by @charliermarsh on 2025-03-12 01:49_

Yeah, I think this the same as #12060.

---

_Comment by @lucidfrontier45 on 2025-03-12 02:41_

@charliermarsh

Thank you for response.

I think in #12060 the last part of my report was not mentioned and let me emphasize again as I think it may help.

- `uv pip install tsfresh` -> error
- `uv pip install numba tsfresh` or `uv pip install tsfresh numba` -> success

Looks like resolving dependency of numba is a very complicated thingðŸ˜“

---

_Renamed from "Cannnot install tsfresh" to "Cannot install tsfresh" by @lucidfrontier45 on 2025-03-12 02:44_

---

_Comment by @konstin on 2025-03-12 10:07_

Your problem has the same cause as https://github.com/astral-sh/uv/issues/12060#issuecomment-2710047557: If we decide the numba version first, we take a new numba, and then later an older numpy (so `uv pip install numba tsfresh` and `uv pip install tsfresh numba` work). If we select numpy first, we select a high numpy version, and an old numba version (so `uv pip install tsfresh` fails)

---

_Closed by @charliermarsh on 2025-03-14 00:28_

---

_Referenced in [astral-sh/packse#239](../../astral-sh/packse/pulls/239.md) on 2025-03-14 14:09_

---

_Referenced in [astral-sh/uv#12060](../../astral-sh/uv/issues/12060.md) on 2025-03-14 14:14_

---
