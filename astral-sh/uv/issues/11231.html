<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Segfault installing Python in test image for release wheels - astral-sh/uv #11231</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Segfault installing Python in test image for release wheels</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11231">#11231</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-02-05 04:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>e.g.</p>
<pre><code>  27.35 Setting up python3.8-minimal (3.8.10-0ubuntu1~20.04.14) ...
  27.77 Segmentation fault (core dumped)
  27.77 dpkg: error processing package python3.8-minimal (--configure):
  27.77  installed python3.8-minimal package post-installation script subprocess returned error exit status 139
</code></pre>
<p>from <code>muslinux-cross</code></p>
<pre><code>#10 [3/3] RUN chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh
  #10 0.695 Get:1 http://ports.ubuntu.com/ubuntu-ports focal InRelease [265 kB]
  #10 1.219 Get:2 http://ports.ubuntu.com/ubuntu-ports focal-updates InRelease [128 kB]
  #10 1.348 Get:3 http://ports.ubuntu.com/ubuntu-ports focal-backports InRelease [128 kB]
  #10 1.477 Get:4 http://ports.ubuntu.com/ubuntu-ports focal-security InRelease [128 kB]
  #10 2.730 Get:5 http://ports.ubuntu.com/ubuntu-ports focal/restricted arm64 Packages [1317 B]
  #10 2.898 Get:6 http://ports.ubuntu.com/ubuntu-ports focal/universe arm64 Packages [11.1 MB]
  #10 3.718 Get:7 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 Packages [1234 kB]
  #10 3.7[86](https://github.com/astral-sh/uv/actions/runs/13149819712/job/36695159565#step:7:87) Get:8 http://ports.ubuntu.com/ubuntu-ports focal/multiverse arm64 Packages [139 kB]
  #10 4.179 Get:9 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 Packages [3622 kB]
  #10 4.647 Get:10 http://ports.ubuntu.com/ubuntu-ports focal-updates/multiverse arm64 Packages [13.0 kB]
  #10 4.650 Get:11 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe arm64 Packages [1492 kB]
  #10 5.041 Get:12 http://ports.ubuntu.com/ubuntu-ports focal-updates/restricted arm64 Packages [66.8 kB]
  #10 5.622 Get:13 http://ports.ubuntu.com/ubuntu-ports focal-backports/universe arm64 Packages [27.8 kB]
  #10 5.746 Get:14 http://ports.ubuntu.com/ubuntu-ports focal-backports/main arm64 Packages [54.8 kB]
  #10 7.032 Get:15 http://ports.ubuntu.com/ubuntu-ports focal-security/universe arm64 Packages [1201 kB]
  #10 7.531 Get:16 http://ports.ubuntu.com/ubuntu-ports focal-security/restricted arm64 Packages [60.8 kB]
  #10 7.535 Get:17 http://ports.ubuntu.com/ubuntu-ports focal-security/main arm64 Packages [3238 kB]
  #10 7.963 Get:18 http://ports.ubuntu.com/ubuntu-ports focal-security/multiverse arm64 Packages [5916 B]
  #10 9.449 Fetched 22.9 MB in 9s (2542 kB/s)
  #10 9.449 Reading package lists...
  #10 14.33 Reading package lists...
  #10 19.08 Building dependency tree...
  #10 19.66 Reading state information...
  #10 20.11 The following additional packages will be installed:
  #10 20.11   ca-certificates libexpat1 libmpdec2 libpython3-stdlib libpython3.8-minimal
  #10 20.11   libpython3.8-stdlib libreadline8 libsqlite3-0 libssl1.1 mime-support openssl
  #10 20.11   python-pip-whl python3-distutils python3-lib2to3 python3-minimal
  #10 20.11   python3-pkg-resources python3-setuptools python3-wheel python3.8
  #10 20.11   python3.8-minimal readline-common
  #10 20.11 Suggested packages:
  #10 20.11   python3-doc python3-tk python3-venv python-setuptools-doc python3.8-venv
  #10 20.11   python3.8-doc binutils binfmt-support readline-doc
  #10 20.11 Recommended packages:
  #10 20.11   file xz-utils build-essential python3-dev
  #10 20.66 The following NEW packages will be installed:
  #10 20.66   ca-certificates libexpat1 libmpdec2 libpython3-stdlib libpython3.8-minimal
  #10 20.66   libpython3.8-stdlib libreadline8 libsqlite3-0 libssl1.1 mime-support openssl
  #10 20.66   python-pip-whl python3 python3-distutils python3-lib2to3 python3-minimal
  #10 20.66   python3-pip python3-pkg-resources python3-setuptools python3-wheel python3.8
  #10 20.66   python3.8-minimal readline-common
  #10 21.01 0 upgraded, 23 newly installed, 0 to remove and 0 not upgraded.
  #10 21.01 Need to get 10.2 MB of archives.
  #10 21.01 After this operation, 34.6 MB of additional disk space will be used.
  #10 21.01 Get:1 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 libssl1.1 arm64 1.1.1f-1ubuntu2.23 [1159 kB]
  #10 21.74 Get:2 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 libpython3.8-minimal arm64 3.8.10-0ubuntu1~20.04.14 [717 kB]
  #10 21.90 Get:3 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 libexpat1 arm64 2.2.9-1ubuntu0.8 [63.0 kB]
  #10 21.93 Get:4 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 python3.8-minimal arm64 3.8.10-0ubuntu1~20.04.14 [1831 kB]
  #10 22.09 Get:5 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 python3-minimal arm64 3.8.2-0ubuntu2 [23.6 kB]
  #10 22.10 Get:6 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 mime-support all 3.64ubuntu1 [30.6 kB]
  #10 22.10 Get:7 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 libmpdec2 arm64 2.4.2-3 [79.6 kB]
  #10 22.10 Get:8 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 readline-common all 8.0-4 [53.5 kB]
  #10 22.11 Get:9 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 libreadline8 arm64 8.0-4 [123 kB]
  #10 22.12 Get:10 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 libsqlite3-0 arm64 3.31.1-4ubuntu0.6 [507 kB]
  #10 22.15 Get:11 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 libpython3.8-stdlib arm64 3.8.10-0ubuntu1~20.04.14 [1649 kB]
  #10 22.41 Get:12 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 python3.8 arm64 3.8.10-0ubuntu1~20.04.14 [3[87](https://github.com/astral-sh/uv/actions/runs/13149819712/job/36695159565#step:7:88) kB]
  #10 23.00 Get:13 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 libpython3-stdlib arm64 3.8.2-0ubuntu2 [7068 B]
  #10 23.00 Get:14 http://ports.ubuntu.com/ubuntu-ports focal/main arm64 python3 arm64 3.8.2-0ubuntu2 [47.6 kB]
  #10 23.01 Get:15 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 openssl arm64 1.1.1f-1ubuntu2.23 [600 kB]
  #10 23.20 Get:16 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 ca-certificates all 20240203~20.04.1 [159 kB]
  #10 23.22 Get:17 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 python3-pkg-resources all 45.2.0-1ubuntu0.2 [130 kB]
  #10 23.24 Get:18 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe arm64 python-pip-whl all 20.0.2-5ubuntu1.11 [1808 kB]
  #10 23.40 Get:19 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 python3-lib2to3 all 3.8.10-0ubuntu1~20.04 [76.3 kB]
  #10 23.41 Get:20 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 python3-distutils all 3.8.10-0ubuntu1~20.04 [141 kB]
  #10 23.42 Get:21 http://ports.ubuntu.com/ubuntu-ports focal-updates/main arm64 python3-setuptools all 45.2.0-1ubuntu0.2 [330 kB]
  #10 23.43 Get:22 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe arm64 python3-wheel all 0.34.2-1ubuntu0.1 [23.9 kB]
  #10 23.62 Get:23 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe arm64 python3-pip all 20.0.2-5ubuntu1.11 [231 kB]
  #10 24.71 debconf: delaying package configuration, since apt-utils is not installed
  #10 24.82 Fetched 10.2 MB in 3s (3034 kB/s)
  #10 24.97 Selecting previously unselected package libssl1.1:arm64.
  #10 24.97 (Reading database ... 
  (Reading database ... 5%
  (Reading database ... 10%
  (Reading database ... 15%
  (Reading database ... 20%
  (Reading database ... 25%
  (Reading database ... 30%
  (Reading database ... 35%
  (Reading database ... 40%
  (Reading database ... 45%
  (Reading database ... 50%
  (Reading database ... 55%
  (Reading database ... 60%
  (Reading database ... 65%
  (Reading database ... 70%
  (Reading database ... 75%
  (Reading database ... 80%
  (Reading database ... 85%
  (Reading database ... [90](https://github.com/astral-sh/uv/actions/runs/13149819712/job/36695159565#step:7:91)%
  (Reading database ... 95%
  (Reading database ... 100%
  (Reading database ... 4117 files and directories currently installed.)
  #10 24.98 Preparing to unpack .../libssl1.1_1.1.1f-1ubuntu2.23_arm64.deb ...
  #10 24.98 Unpacking libssl1.1:arm64 (1.1.1f-1ubuntu2.23) ...
  #10 25.45 Selecting previously unselected package libpython3.8-minimal:arm64.
  #10 25.45 Preparing to unpack .../libpython3.8-minimal_3.8.10-0ubuntu1~20.04.14_arm64.deb ...
  #10 25.45 Unpacking libpython3.8-minimal:arm64 (3.8.10-0ubuntu1~20.04.14) ...
  #10 25.82 Selecting previously unselected package libexpat1:arm64.
  #10 25.82 Preparing to unpack .../libexpat1_2.2.9-1ubuntu0.8_arm64.deb ...
  #10 25.82 Unpacking libexpat1:arm64 (2.2.9-1ubuntu0.8) ...
  #10 25.[99](https://github.com/astral-sh/uv/actions/runs/13149819712/job/36695159565#step:7:100) Selecting previously unselected package python3.8-minimal.
  #10 25.99 Preparing to unpack .../python3.8-minimal_3.8.10-0ubuntu1~20.04.14_arm64.deb ...
  #10 26.05 Unpacking python3.8-minimal (3.8.10-0ubuntu1~20.04.14) ...
  #10 26.72 Setting up libssl1.1:arm64 (1.1.1f-1ubuntu2.23) ...
  #10 27.32 Setting up libpython3.8-minimal:arm64 (3.8.10-0ubuntu1~20.04.14) ...
  #10 27.35 Setting up libexpat1:arm64 (2.2.9-1ubuntu0.8) ...
  #10 27.35 Setting up python3.8-minimal (3.8.10-0ubuntu1~20.04.14) ...
  #10 27.77 Segmentation fault (core dumped)
  #10 27.77 dpkg: error processing package python3.8-minimal (--configure):
  #10 27.77  installed python3.8-minimal package post-installation script subprocess returned error exit status 139
  #10 27.78 Errors were encountered while processing:
  #10 27.78  python3.8-minimal
  #10 27.85 E: Sub-process /usr/bin/dpkg returned an error code (1)
  #10 ERROR: process &quot;/bin/sh -c chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh&quot; did not complete successfully: exit code: [100](https://github.com/astral-sh/uv/actions/runs/13149819712/job/36695159565#step:7:101)
  ------
   &gt; importing cache manifest from ghcr.io/astral-sh/uv/run-on-arch-astral-sh-uv-release-aarch64-ubuntu20-04:
  ------
  ------
   &gt; [3/3] RUN chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh:
  26.72 Setting up libssl1.1:arm64 (1.1.1f-1ubuntu2.23) ...
  27.32 Setting up libpython3.8-minimal:arm64 (3.8.10-0ubuntu1~20.04.14) ...
  27.35 Setting up libexpat1:arm64 (2.2.9-1ubuntu0.8) ...
  27.35 Setting up python3.8-minimal (3.8.10-0ubuntu1~20.04.14) ...
  27.77 Segmentation fault (core dumped)
  27.77 dpkg: error processing package python3.8-minimal (--configure):
  27.77  installed python3.8-minimal package post-installation script subprocess returned error exit status 139
  27.78 Errors were encountered while processing:
  27.78  python3.8-minimal
  27.85 E: Sub-process /usr/bin/dpkg returned an error code (1)
</code></pre>
<p>https://github.com/astral-sh/uv/actions/runs/13149819712/job/36695159565</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-05 04:10</div>
            <div class="timeline-body"><p>Or <code>linux-powerpc</code></p>
<pre><code>#10 [3/3] RUN chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh
  #10 0.8[90](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885095#step:6:91) Get:1 http://ports.ubuntu.com/ubuntu-ports focal InRelease [265 kB]
  #10 1.684 Get:2 http://ports.ubuntu.com/ubuntu-ports focal-updates InRelease [128 kB]
  #10 1.879 Get:3 http://ports.ubuntu.com/ubuntu-ports focal-backports InRelease [128 kB]
  #10 2.074 Get:4 http://ports.ubuntu.com/ubuntu-ports focal-security InRelease [128 kB]
  #10 3.329 Get:5 http://ports.ubuntu.com/ubuntu-ports focal/restricted ppc64el Packages [1317 B]
  #10 3.551 Get:6 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el Packages [1229 kB]
  #10 4.026 Get:7 http://ports.ubuntu.com/ubuntu-ports focal/universe ppc64el Packages [11.0 MB]
  #10 4.655 Get:8 http://ports.ubuntu.com/ubuntu-ports focal/multiverse ppc64el Packages [146 kB]
  #10 4.897 Get:9 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe ppc64el Packages [1397 kB]
  #10 5.339 Get:10 http://ports.ubuntu.com/ubuntu-ports focal-updates/multiverse ppc64el Packages [5957 B]
  #10 5.341 Get:11 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el Packages [1900 kB]
  #10 5.934 Get:12 http://ports.ubuntu.com/ubuntu-ports focal-updates/restricted ppc64el Packages [12.5 kB]
  #10 6.453 Get:13 http://ports.ubuntu.com/ubuntu-ports focal-backports/main ppc64el Packages [54.8 kB]
  #10 6.823 Get:14 http://ports.ubuntu.com/ubuntu-ports focal-backports/universe ppc64el Packages [27.8 kB]
  #10 8.000 Get:15 http://ports.ubuntu.com/ubuntu-ports focal-security/main ppc64el Packages [1552 kB]
  #10 8.834 Get:16 http://ports.ubuntu.com/ubuntu-ports focal-security/universe ppc64el Packages [1123 kB]
  #10 9.262 Get:17 http://ports.ubuntu.com/ubuntu-ports focal-security/restricted ppc64el Packages [12.0 kB]
  #10 9.262 Get:18 http://ports.ubuntu.com/ubuntu-ports focal-security/multiverse ppc64el Packages [3621 B]
  #10 9.611 Fetched 19.2 MB in 9s (2096 kB/s)
  #10 9.611 Reading package lists...
  #10 14.11 Reading package lists...
  #10 18.18 Building dependency tree...
  #10 18.57 Reading state information...
  #10 18.90 The following additional packages will be installed:
  #10 18.90   ca-certificates libexpat1 libmpdec2 libpython3-stdlib libpython3.8-minimal
  #10 18.90   libpython3.8-stdlib libreadline8 libsqlite3-0 libssl1.1 mime-support openssl
  #10 18.90   python-pip-whl python3-distutils python3-lib2to3 python3-minimal
  #10 18.90   python3-pkg-resources python3-setuptools python3-wheel python3.8
  #10 18.90   python3.8-minimal readline-common
  #10 18.90 Suggested packages:
  #10 18.90   python3-doc python3-tk python3-venv python-setuptools-doc python3.8-venv
  #10 18.90   python3.8-doc binutils binfmt-support readline-doc
  #10 18.90 Recommended packages:
  #10 18.90   file xz-utils build-essential python3-dev
  #10 19.38 The following NEW packages will be installed:
  #10 19.38   ca-certificates libexpat1 libmpdec2 libpython3-stdlib libpython3.8-minimal
  #10 19.38   libpython3.8-stdlib libreadline8 libsqlite3-0 libssl1.1 mime-support openssl
  #10 19.38   python-pip-whl python3 python3-distutils python3-lib2to3 python3-minimal
  #10 19.38   python3-pip python3-pkg-resources python3-setuptools python3-wheel python3.8
  #10 19.38   python3.8-minimal readline-common
  #10 19.94 0 upgraded, 23 newly installed, 0 to remove and 0 not upgraded.
  #10 19.94 Need to get 10.9 MB of archives.
  #10 19.94 After this operation, 40.2 MB of additional disk space will be used.
  #10 19.94 Get:1 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el libssl1.1 ppc64el 1.1.1f-1ubuntu2.23 [1365 kB]
  #10 21.08 Get:2 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el libpython3.8-minimal ppc64el 3.8.10-0ubuntu1~20.04.14 [723 kB]
  #10 21.36 Get:3 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el libexpat1 ppc64el 2.2.9-1ubuntu0.8 [78.1 kB]
  #10 21.37 Get:4 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el python3.8-minimal ppc64el 3.8.10-0ubuntu1~20.04.14 [2146 kB]
  #10 21.79 Get:5 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el python3-minimal ppc64el 3.8.2-0ubuntu2 [23.6 kB]
  #10 21.80 Get:6 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el mime-support all 3.64ubuntu1 [30.6 kB]
  #10 21.80 Get:7 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el libmpdec2 ppc64el 2.4.2-3 [98.0 kB]
  #10 21.80 Get:8 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el readline-common all 8.0-4 [53.5 kB]
  #10 21.81 Get:9 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el libreadline8 ppc64el 8.0-4 [143 kB]
  #10 21.82 Get:10 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el libsqlite3-0 ppc64el 3.31.1-4ubuntu0.6 [577 kB]
  #10 21.85 Get:11 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el libpython3.8-stdlib ppc64el 3.8.10-0ubuntu1~20.04.14 [1723 kB]
  #10 22.33 Get:12 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el python3.8 ppc64el 3.8.10-0ubuntu1~20.04.14 [387 kB]
  #10 23.22 Get:13 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el libpython3-stdlib ppc64el 3.8.2-0ubuntu2 [7068 B]
  #10 23.22 Get:14 http://ports.ubuntu.com/ubuntu-ports focal/main ppc64el python3 ppc64el 3.8.2-0ubuntu2 [47.6 kB]
  #10 23.23 Get:15 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el openssl ppc64el 1.1.1f-1ubuntu2.23 [622 kB]
  #10 23.52 Get:16 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el ca-certificates all 20240203~20.04.1 [159 kB]
  #10 23.56 Get:17 http://ports.ubuntu.com/ubuntu-ports focal-updates/main ppc64el python3-pkg-resources all 45.2.0-1ubuntu0.2 [130 kB]
  #10 63.18   Package python3 is not configured yet.
  #10 63.18  python3-distutils depends on python3:any (&lt;&lt; 3.10); however:
  #10 63.18   Package python3 is not configured yet.
  #10 63.18  python3-distutils depends on python3-lib2to3 (= 3.8.10-0ubuntu1~20.04); however:
  #10 63.18   Package python3-lib2to3 is not configured yet.
  #10 63.18 
  #10 63.18 dpkg: error processing package python3-distutils (--configure):
  #10 63.18  dependency problems - leaving unconfigured
  #10 63.18 dpkg: dependency problems prevent configuration of python3-setuptools:
  #10 63.18  python3-setuptools depends on python3-pkg-resources (= 45.2.0-1ubuntu0.2); however:
  #10 63.18   Package python3-pkg-resources is not configured yet.
  #10 63.18  python3-setuptools depends on python3-distutils; however:
  #10 63.18   Package python3-distutils is not configured yet.
  #10 63.18  python3-setuptools depends on python3:any; however:
  #10 63.18   Package python3 is not configured yet.
  #10 63.18 
  #10 63.18 dpkg: error processing package python3-setuptools (--configure):
  #10 63.18  dependency problems - leaving unconfigured
  #10 63.18 Processing triggers for libc-bin (2.31-0ubuntu9.16) ...
  #10 63.27 Processing triggers for ca-certificates (20240203~20.04.1) ...
  #10 63.38 Updating certificates in /etc/ssl/certs...
  #10 75.82 0 added, 0 removed; done.
  #10 75.82 Running hooks in /etc/ca-certificates/update.d...
  #10 75.85 done.
  #10 75.[92](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885095#step:6:93) Errors were encountered while processing:
  #10 75.92  python3.8
  #10 75.92  python3
  #10 75.92  python3-wheel
  #10 75.92  python3-pip
  #10 75.92  python3-lib2to3
  #10 75.92  python3-pkg-resources
  #10 75.92  python3-distutils
  #10 75.92  python3-setuptools
  #10 75.99 E: Sub-process /usr/bin/dpkg returned an error code (1)
  #10 ERROR: process &quot;/bin/sh -c chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh&quot; did not complete successfully: exit code: 100
  ------
   &gt; importing cache manifest from ghcr.io/astral-sh/uv/run-on-arch-astral-sh-uv-release-ppc64le-ubuntu20-04:
  ------
  ------
   &gt; [3/3] RUN chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh:
  75.92 Errors were encountered while processing:
  75.92  python3.8
  75.92  python3
  75.92  python3-wheel
  75.92  python3-pip
  75.92  python3-lib2to3
  75.92  python3-pkg-resources
  75.92  python3-distutils
  75.92  python3-setuptools
  75.[99](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885095#step:6:100) E: Sub-process /usr/bin/dpkg returned an error code (1)
</code></pre>
<p>https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885095</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-05 04:11</div>
            <div class="timeline-body"><p>Or <code>linux-s390x</code></p>
<pre><code>#9 [3/3] RUN chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh
  #9 0.477 Get:1 http://ports.ubuntu.com/ubuntu-ports focal InRelease [265 kB]
  #9 0.873 Get:2 http://ports.ubuntu.com/ubuntu-ports focal-updates InRelease [128 kB]
  #9 0.971 Get:3 http://ports.ubuntu.com/ubuntu-ports focal-backports InRelease [128 kB]
  #9 1.070 Get:4 http://ports.ubuntu.com/ubuntu-ports focal-security InRelease [128 kB]
  #9 1.811 Get:5 http://ports.ubuntu.com/ubuntu-ports focal/multiverse s390x Packages [136 kB]
  #9 1.956 Get:6 http://ports.ubuntu.com/ubuntu-ports focal/universe s390x Packages [10.8 MB]
  #9 2.653 Get:7 http://ports.ubuntu.com/ubuntu-ports focal/main s390x Packages [1210 kB]
  #9 2.709 Get:8 http://ports.ubuntu.com/ubuntu-ports focal/restricted s390x Packages [1317 B]
  #9 2.729 Get:9 http://ports.ubuntu.com/ubuntu-ports focal-updates/universe s390x Packages [1226 kB]
  #9 2.835 Get:10 http://ports.ubuntu.com/ubuntu-ports focal-updates/multiverse s390x Packages [5639 B]
  #9 2.837 Get:11 http://ports.ubuntu.com/ubuntu-ports focal-updates/restricted s390x Packages [12.5 kB]
  #9 2.983 Get:12 http://ports.ubuntu.com/ubuntu-ports focal-updates/main s390x Packages [1877 kB]
  #9 3.595 Get:13 http://ports.ubuntu.com/ubuntu-ports focal-backports/universe s390x Packages [27.8 kB]
  #9 3.598 Get:14 http://ports.ubuntu.com/ubuntu-ports focal-backports/main s390x Packages [54.8 kB]
  #9 4.350 Get:15 http://ports.ubuntu.com/ubuntu-ports focal-security/main s390x Packages [1535 kB]
  #9 4.647 Get:16 http://ports.ubuntu.com/ubuntu-ports focal-security/universe s390x Packages [953 kB]
  #9 4.[80](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885669#step:6:81)5 Get:17 http://ports.ubuntu.com/ubuntu-ports focal-security/multiverse s390x Packages [3617 B]
  #9 4.806 Get:18 http://ports.ubuntu.com/ubuntu-ports focal-security/restricted s390x Packages [12.0 kB]
  #9 8.267 Fetched 18.5 MB in 8s (2323 kB/s)
  #9 8.267 Reading package lists...
  #9 46.03 Setting up libpython3-stdlib:s390x (3.8.2-0ubuntu2) ...
  #9 46.04 Setting up python3 (3.8.2-0ubuntu2) ...
  #9 46.78 Setting up python3-wheel (0.34.2-1ubuntu0.1) ...
  #9 47.[83](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885669#step:6:84) Setting up python3-lib2to3 (3.8.10-0ubuntu1~20.04) ...
  #9 48.35 Setting up python3-pkg-resources (45.2.0-1ubuntu0.2) ...
  #9 49.55 Setting up python3-distutils (3.8.10-0ubuntu1~20.04) ...
  #9 50.17 Setting up python3-setuptools (45.2.0-1ubuntu0.2) ...
  #9 51.61 Setting up python3-pip (20.0.2-5ubuntu1.11) ...
  #9 52.12 Segmentation fault (core dumped)
  #9 52.52 Traceback (most recent call last):
  #9 52.52   File &quot;/usr/bin/py3compile&quot;, line 290, in &lt;module&gt;
  #9 52.52     main()
  #9 52.52   File &quot;/usr/bin/py3compile&quot;, line 269, in main
  #9 52.53     compile(files, versions,
  #9 52.53   File &quot;/usr/bin/py3compile&quot;, line 1[87](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885669#step:6:88), in compile
  #9 52.53     pipe.send(fn)
  #9 52.53   File &quot;/usr/bin/py3compile&quot;, line 138, in py_compile
  #9 52.53     stdin.write(filename.encode(&#x27;utf-8&#x27;) + b&#x27;\n&#x27;)
  #9 52.53 BrokenPipeError: [Errno 32] Broken pipe
  #9 52.55 dpkg: error processing package python3-pip (--configure):
  #9 52.55  installed python3-pip package post-installation script subprocess returned error exit status 1
  #9 52.55 Processing triggers for libc-bin (2.31-0ubuntu9.16) ...
  #9 52.61 Processing triggers for ca-certificates (20240203~20.04.1) ...
  #9 52.67 Updating certificates in /etc/ssl/certs...
  #9 59.36 0 added, 0 removed; done.
  #9 59.36 Running hooks in /etc/ca-certificates/update.d...
  #9 59.38 done.
  #9 59.43 Errors were encountered while processing:
  #9 59.43  python3-pip
  #9 59.47 E: Sub-process /usr/bin/dpkg returned an error code (1)
  #9 ERROR: process &quot;/bin/sh -c chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh&quot; did not complete successfully: exit code: 100
  ------
   &gt; importing cache manifest from ghcr.io/astral-sh/uv/run-on-arch-astral-sh-uv-release-s3[90](https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885669#step:6:91)x-ubuntu20-04:
  ------
  ------
   &gt; [3/3] RUN chmod +x /root/run-on-arch-install.sh &amp;&amp; /root/run-on-arch-install.sh:
  52.53     stdin.write(filename.encode(&#x27;utf-8&#x27;) + b&#x27;\n&#x27;)
  52.53 BrokenPipeError: [Errno 32] Broken pipe
  52.55 dpkg: error processing package python3-pip (--configure):
  52.55  installed python3-pip package post-installation script subprocess returned error exit status 1
  52.55 Processing triggers for libc-bin (2.31-0ubuntu9.16) ...
  52.61 Processing triggers for ca-certificates (20240203~20.04.1) ...
  52.67 Updating certificates in /etc/ssl/certs...
  59.36 0 added, 0 removed; done.
  59.36 Running hooks in /etc/ca-certificates/update.d...
  : Sub-process /usr/bin/dpkg returned an error code (1)
</code></pre>
<p>https://github.com/astral-sh/uv/actions/runs/13124482673/job/36617885669</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-05 04:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">upstream</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-05 04:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">releases</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-05 04:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-05 04:13</div>
            <div class="timeline-body"><p>These failures are non-deterministic. I just retry until they pass. However, this is pretty problematic as it&#x27;s painful to retry jobs in the release pipeline â€” it takes a lot of baby sitting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-12 20:05</div>
            <div class="timeline-body"><p>And on aarch64-unknown-linux-gnu</p>
<p>https://github.com/astral-sh/uv/actions/runs/13293641628/job/37120192371?pr=11459</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-28 10:14</div>
            <div class="timeline-body"><p>We&#x27;re now seeing this in Ruff releases too. We&#x27;re also not the only once <a href="https://github.com/flatcar/Flatcar/issues/1634">flatcar/Flatcar#1634</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:05 UTC
    </footer>
</body>
</html>
