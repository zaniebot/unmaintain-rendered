<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve failed resolution error messages for &quot;splits&quot; - astral-sh/uv #15092</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve failed resolution error messages for &quot;splits&quot;</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15092">#15092</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-08-05 19:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-05 19:58</div>
            <div class="timeline-body"><p>See https://github.com/astral-sh/uv/pull/15041#discussion_r2255215788</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-05 19:58</div>
            <div class="timeline-body"><p>We need some loose consensus on what information is <em>needed</em> here and <em>why</em> then how we could display it in a more friendly way.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-05 20:14</div>
            <div class="timeline-body"><p>@konstin maybe to start, could you explain why we need to say which packages are included in the split when they're present in the subsequent error message? I think this is also often the case for splits based on markers?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @zanieb on 2025-08-05 20:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15041.html">astral-sh/uv#15041</a> on 2025-08-06 07:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-08-06 10:07</div>
            <div class="timeline-body"><p>Usually, we show the influence of a marker and of extras in the error trace itself. I don't think we're confident enough that we don't have any of these cases anymore that we could drop this entirely, at least I regularly have to look at the information of the marker, both when debugging user problems and when debugging problem I hit myself.</p>
<p>Something I've also seen come up is &quot;This install with <code>uv pip install</code>, why is <code>uv sync</code> failing?&quot;, which the fork markers usually answer.</p>
<p>With the current rendering, we're using the same string for the full range from error traces with specific context and hints to <code>debug!</code> messages about which branch we're in and what branches we resolved. Prior to #15041, we were incorrectly logging that some forks were the universal fork even though they were conflict forks. We could trim this down to only use the full string in verbose mode, and either drop it in default mode, or only show the markers (since the extras are always part of the error trace).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15222.html">astral-sh/uv#15222</a> on 2025-08-12 02:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:10 UTC
    </footer>
</body>
</html>
