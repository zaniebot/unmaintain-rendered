```yaml
number: 17226
title: Specify target platform in uv export
type: issue
state: open
author: hy144328
labels:
  - enhancement
assignees: []
created_at: 2025-12-23T11:03:51Z
updated_at: 2025-12-23T11:03:51Z
url: https://github.com/astral-sh/uv/issues/17226
synced_at: 2026-01-10T01:57:37Z
```

# Specify target platform in uv export

---

_Issue opened by @hy144328 on 2025-12-23 11:03_

### Summary

Currently, `uv export` analyzes `uv.lock`, and is able to generate a `requirements.txt` with hashes, environment markers, etc. from it.
This is great because I am able to use it many different Python environments as long as I have a modern Pip to handle all those extra information other than the package name and version.
However, other installers do not support all the bells and whistles, e.g. `mamba install`.
I would like to drop all the hashes, environment markers, and specify during the call that the `requirements.txt` is targeted towards a very specific environment.

`uv pip compile` supports the `--python-version` and `--python-platform` flags, which provides exactly what I need.
However, it resolves from `pyproject.toml` and ignores my `uv.lock`.
So the set-up I am testing against using `uv.lock` possibly deviates from what I am going to install in my target environment using `requirements.txt` via `pyproject.toml`.
Another work-around would be to pipe `uv export` to `grep` or `sed`.
But it would be nicer if `uv export` and `uv pip compile` shared a notion of target environment.

In a nutshell:

| | `uv export`  | `uv pip compile` |
|-|---|----|
| supports `--python-platform` | :x: | ✅  |
| uses `uv.lock` | ✅  | :x: |

### Example

Sometimes, I just want to slightly extend a container image with a few dependencies.
Examples, are Airflow, Spark and Jupyter applications.
There are nice container images available that unfortunately do not use `uv` or `pip`.
For example, https://quay.io/repository/jupyter/scipy-notebook?tab=info .
Especially, Scientific Python stacks like to use `mamba install`, which does not support environment markers.
So instead of having a 'perfect' container image built from scratch all under `uv`, I would like to convert my `uv.lock`, convert it to `requirements.txt`, and copy it into my `Dockerfile` for `docker build` to pick up.

---

_Label `enhancement` added by @hy144328 on 2025-12-23 11:03_

---
