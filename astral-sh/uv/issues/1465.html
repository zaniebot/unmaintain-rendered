<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question: Will it also replace `pipenv`? - astral-sh/uv #1465</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Question: Will it also replace <code>pipenv</code>?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1465">#1465</a>
        opened by <a href="https://github.com/TheRealBecks">@TheRealBecks</a>
        on 2024-02-16 09:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/TheRealBecks">@TheRealBecks</a> on 2024-02-16 09:49</div>
            <div class="timeline-body"><p>Have you already heard about <a href="https://github.com/pypa/pipenv">pipenv</a>? I saw that you talking about replacing several package managers and virtualization managers, but I didn't see you mentioning <code>pipenv</code>.</p>
<p>Key benefits of using <code>pipenv</code>:</p>
<ul>
<li>replaces <code>pip</code> and <code>venv</code></li>
<li>No shitty <code>requirements.txt</code>, but a structured <code>Pipfile</code></li>
<li>The production or development installation from <code>Pipfile</code> will result in a <code>Pipfile.lock</code> that uses hashes to strengthen the security, but also allows to install binary-equal versions on several platform, so you development install can be equally to the production setup on a server</li>
<li>Integrated into VS Code, so the virtual environment can be used directly</li>
</ul>
<p>Especially using a <code>.lock</code> with hashes file instead of the <code>requirements.txt</code> is a killer feature. I would love to see something equal at <code>uv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-02-16 09:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/moaddib666">@moaddib666</a> on 2024-02-16 10:32</div>
            <div class="timeline-body"><p>Upvote this question, as pip has security concerns when we need to work with several registries private and public ones, and it's great to have lock files so that on CI we don't need to make any additional resolution at all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-16 20:43</div>
            <div class="timeline-body"><p><code>uv pip compile</code> supports pip-compile's <code>--generate-hashes</code> flag if you want a lock file with hashes. I believe <code>uv</code> aims on introducing a higher level UI in the future, but the low level commands are there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">project-management</span> added by @zanieb on 2024-02-16 20:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/thomasleveil">@thomasleveil</a> on 2024-02-20 10:26</div>
            <div class="timeline-body"><p>It would be nice to be able to just type :</p>
<p><code>uv pip compile Pipfile --generate-hashes -o requirements.txt   # Read a Pipenv file.</code></p>
<p>In the meantime, a workaround is :</p>
<pre><code class="language-shell">pipenv requirements &gt; requirements.in
uv pip compile requirements.in --generate-hashes -o requirements.txt
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-02-22 11:36</div>
            <div class="timeline-body"><p>It is my understanding that the community has been trying to standardise a lockfile for years:</p>
<ul>
<li>Take 1 https://peps.python.org/pep-0650/ withdrawn</li>
<li>Take 2 https://peps.python.org/pep-0665/ rejected</li>
</ul>
<p>And to the best of my knowledge, <a href="https://github.com/brettcannon/mousebender">efforts continue to provide such a standard</a>.</p>
<p>It was comforting to see <a href="https://discuss.python.org/t/uv-another-rust-tool-written-to-replace-pip/46039">the <code>uv</code> devs being so open and receptive to community feedback</a> already and I hope they take a sensible approach and carefully avoid blessing locking formats that are far from being &quot;standard&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/helderco">@helderco</a> on 2024-03-14 17:20</div>
            <div class="timeline-body"><p>@thomasleveil, you can also pass stdin:</p>
<pre><code>pipenv requirements | uv pip compile --generate-hashes -o requirements.txt -
</code></pre>
<p>@astrojuanlu, there's a <a href="https://discuss.python.org/t/lock-files-again-but-this-time-w-sdists/46593">Take 3</a> (discussion phase, before PEP), continuing from the mousebender project ðŸ™‚</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vlad-ivanov-name">@vlad-ivanov-name</a> on 2024-04-18 09:40</div>
            <div class="timeline-body"><blockquote>
<p>take a sensible approach and carefully avoid blessing locking formats that are far from being &quot;standard&quot;.</p>
</blockquote>
<p>Just because something is an &quot;official&quot; standard doesn't necessarily mean it's good or well designed -- I think Python of all ecosystems is an example of that. If Python can't settle on a lockfile standard for several more years, I don't see why <code>uv</code> should be held back and not implement either its own format or one of the proposals.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-19 00:34</div>
            <div class="timeline-body"><p>We're building a lock file; see https://github.com/astral-sh/uv/issues/3347</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-06-19 00:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/datalifenyc">@datalifenyc</a> on 2024-09-22 01:39</div>
            <div class="timeline-body"><p>@TheRealBecks Have you made the switch to <code>uv</code>? As a <code>pipenv</code> user, is there anything I should know about making the transition to <code>uv</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/TheRealBecks">@TheRealBecks</a> on 2024-09-23 09:04</div>
            <div class="timeline-body"><p>@datalifenyc Yes, absolutely! ðŸ˜€ I already migrated the first production repositiries at work and the local development instances with Docker container and the production setup is way easier and even faster to set up!</p>
<p>Here's an example <code>pyproject.toml</code>:</p>
<pre><code>[project]
name = &quot;your-project-name&quot;
description = &quot;Your Project Description&quot;
readme = &quot;README.md&quot;
version = &quot;1.0.0&quot;
requires-python = &quot;&gt;=3.12.5,&lt;3.13&quot;
dependencies = [
  &quot;ansible==9.10.*&quot;,
  &quot;ansible-core==2.16.*&quot;,
  &quot;ansible-pylibssh&quot;,
  &quot;hvac&quot;,
  &quot;jmespath&quot;,
  &quot;netaddr&quot;,
  &quot;paramiko&quot;,
]

[project.optional-dependencies]
dev = [
  &quot;ansible-lint&quot;,
  &quot;icecream&quot;,
  &quot;ruff&quot;,
]

[tool.ruff]
line-length = 120
target-version = &quot;py312&quot;
# Allow autofix for all enabled rules (when `--fix`) is provided.
lint.fixable = [&quot;ALL&quot;]
lint.select = [&quot;ALL&quot;]
lint.ignore = [&quot;COM812&quot;, &quot;D203&quot;, &quot;D212&quot;, &quot;D415&quot;, &quot;FIX002&quot;, &quot;TD003&quot;]

[tool.ruff.lint.per-file-ignores]
&quot;__init__.py&quot; = [&quot;D104&quot;, &quot;F401&quot;]
</code></pre>
<p>I use <code>requires-python = &quot;&gt;=3.12.5,&lt;3.13&quot;</code> as our project relies on python 3.12 (and nothing else!) with at least Python 3.12.5 or newer bug fix release.</p>
<p>I also deactivated the Windows build as we don't use Windows and <code>ansible-lint</code> is also not available anymore on that platform. Optionally put that at the end of the <code>pyproject.toml</code>:</p>
<pre><code>[tool.uv]
# Disable Windows as some packages are not compiled for that system
environments = [&quot;platform_system != 'Windows'&quot;]
</code></pre>
<p>With <code>uv sync --extra dev</code> you can install and create an initial <code>uv.lock</code> file on your local system. With <code>uv pip freeze</code> you can check which package versions have been chossen for <strong>all platform</strong> (Linux, MacOS). Add <code>pyproject.toml</code> and <code>uv.lock</code> to you git repository.</p>
<p>You can use the 'old' way of activating an environment with <code>source .venv/bin/activate</code>, but I'm __not_ doing that anymore, because <code>uv run</code> or <code>uvx</code> are way easier to use, like:</p>
<pre><code>uv run my_python_script.py
</code></pre>
<p>You can also run tools like FastAPI (see this <a href="https://docs.astral.sh/uv/guides/integration/fastapi/">documentation</a>) with that command:</p>
<pre><code>uv run fastapi dev
</code></pre>
<p>Or put everything into <a href="https://docs.astral.sh/uv/guides/integration/docker/">Docker</a>.</p>
<p>While writing this comment it came into my mind to create an example project with <code>uv</code> and <code>ansbible</code>, so here's somethign you can copy from:</p>
<h1><a href="https://github.com/TheRealBecks/uv-ansible-example">TheRealBecks/uv-ansible-example</a></h1>
<p>I hope this will help you and also other users (including myself ðŸ˜€)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/datalifenyc">@datalifenyc</a> on 2024-09-26 00:14</div>
            <div class="timeline-body"><p>@TheRealBecks Thank you for the detailed project setup and ansible repo! This will definitely simplify my transition, especially with the references to fastapi and docker.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cclauss">@cclauss</a> on 2025-01-01 10:58</div>
            <div class="timeline-body"><h1>https://pypi.org/project/pipenv-uv-migrate</h1>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:27 UTC
    </footer>
</body>
</html>
