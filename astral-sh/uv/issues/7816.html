<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warn if packages are missing wheels for the current python - astral-sh/uv #7816</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Warn if packages are missing wheels for the current python</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/7816">#7816</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-09-30 17:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>There are many packages in Python that are built against the unstable CPython C ABI, which publish wheels for only a set of Python versions, often simply the oldest one supported to the latest at date of publishing. When running <code>uv lock</code> (also as part of <code>uv sync</code>) and a package has a wheel that is compatible (correct platform etc.) save for the python version (e.g. <code>cp38</code> while we're on <code>cp310</code>), we should note this to the user: The sync goes from fast to very slow since we need to build the package, and often building fails because those source distributions aren't meant to be built on user's machines. We need to figure out when to show this, we shouldn't do it on every sync, but we should do when adding such a package and maybe the first time syncing on a particular Python version (e.g., there isn't a built wheel in cache yet).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2024-09-30 17:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cambriancoder">@cambriancoder</a> on 2024-10-01 19:18</div>
            <div class="timeline-body"><p>I believe our issues are connected: #7435</p>
<p>I would like <code>uv add</code> to should support (either via flag or config) using the latest compatible wheel (based on the project's <code>requires-python</code> field) instead of defaulting to building from source.</p>
<p>For reference, <code>pip</code> offers similar functionality with the <code>--prefer-binary</code> flag or by setting <code>prefer-binary = true</code> in the <code>pip.conf</code> file, and <code>uv pip install</code> also supports this with <code>--only-binary</code> (albeit you need to specify the package(s) you want to install as binary or use <code>:all:</code>)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:25 UTC
    </footer>
</body>
</html>
