<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add install summary to `uv sync` JSON output - astral-sh/uv #16653</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add install summary to <code>uv sync</code> JSON output</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16653">#16653</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-11-09 15:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body">Summary
<p><code>uv sync --output-format json</code> does not include the install plan, i.e., which packages will be added or removed. We should add that.</p>
<p>There&#x27;s a lot of information we could capture here, e.g., the package name, version, source, etc. The feature is in preview so it&#x27;s fine to start with a minimal implementation and iterate as we need.</p>
Example
<p>Currently:</p>
<pre><code>{
  &quot;schema&quot;: {
    &quot;version&quot;: &quot;preview&quot;
  },
  &quot;target&quot;: &quot;project&quot;,
  &quot;project&quot;: {
    &quot;path&quot;: &quot;/Users/zb/workspace/uv/example&quot;,
    &quot;workspace&quot;: {
      &quot;path&quot;: &quot;/Users/zb/workspace/uv/example&quot;
    }
  },
  &quot;sync&quot;: {
    &quot;environment&quot;: {
      &quot;path&quot;: &quot;/Users/zb/workspace/uv/example/.venv&quot;,
      &quot;python&quot;: {
        &quot;path&quot;: &quot;/Users/zb/workspace/uv/example/.venv/bin/python&quot;,
        &quot;version&quot;: &quot;3.14.0&quot;,
        &quot;implementation&quot;: &quot;cpython&quot;
      }
    },
    &quot;action&quot;: &quot;update&quot;
  },
  &quot;lock&quot;: {
    &quot;path&quot;: &quot;/Users/zb/workspace/uv/example/uv.lock&quot;,
    &quot;action&quot;: &quot;check&quot;
  },
  &quot;dry_run&quot;: false
}
</code></pre>
<p>I think I&#x27;d expect another section under &quot;sync&quot;, e.g., &quot;packages&quot;, with a list of changes?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-09 15:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/EliteTK">@EliteTK</a> by <a href="https://github.com/EliteTK">@EliteTK</a> on 2025-12-03 14:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EliteTK">@EliteTK</a> on 2025-12-03 17:35</div>
            <div class="timeline-body"><p>I noticed that --output-format json puts things on stdout, but the normal <code>text</code> output is always present (always on stderr).</p>
<p>Not quite related ...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-03 18:19</div>
            <div class="timeline-body"><p>It definitely should go to stdout. I&#x27;m not sure about the retention of the normal text output on stdr. I recently noticed that and was thinking we should revisit it. Long-term, we&#x27;ll want an <code>--output-format json-lines</code> or <code>--output-format ndjson</code> where we emit JSON messages as we go (i.e., for progress updates and logs).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EliteTK">@EliteTK</a> on 2025-12-18 19:38</div>
            <div class="timeline-body"><p>Implemented in #16981.</p>
<p>Refer to #17151 for future design decisions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/EliteTK">@EliteTK</a> on 2025-12-18 19:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:57 UTC
    </footer>
</body>
</html>
