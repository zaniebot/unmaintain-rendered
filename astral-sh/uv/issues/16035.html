<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `--group` and related options to `uv tool install` - astral-sh/uv #16035</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>--group</code> and related options to <code>uv tool install</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16035">#16035</a>
        opened by <a href="https://github.com/LmanTW">@LmanTW</a>
        on 2025-09-26 07:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/LmanTW">@LmanTW</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I'm working on a CLI tool which uses Pytorch to do some ML stuff. Pytorch uses different wheels to support different hardware acceleration backend. Which means, I need to install different set of packages depending on the hardware acceleration backend.</p>
<p>I have already figured out how to make the dependency groups  work, but got stuck at the final part: <code>uv tool install</code>. Then I found out the <code>uv tool install</code> command do not support &quot;--group&quot;, &quot;--extra&quot; or the relating options.</p>
<p>I personally found it weird that this haven't already get implemented, but maybe there's some reason behind it. Maybe there's a way to pass arguments to the underlying package installation process? Nonetheless, I think this feature would be quite helpful for this kind of situation.</p>
<h3>Example</h3>
<p>Not really relevant, but this is the dependency stuff I'm trying to do:</p>
<pre><code>[dependency-groups]
cpu = [&quot;torch==2.8.0+cpu&quot;, &quot;torchvision==0.23.0+cpu&quot;]
xpu = [&quot;torch==2.8.0+xpu&quot;, &quot;torchvision==0.23.0+xpu&quot;]
cuda = [&quot;torch==2.8.0+cu128&quot;, &quot;torchvision==0.23.0+cu128&quot;]

[[tool.uv.index]]
name = &quot;main&quot;
url = &quot;https://pypi.org/simple&quot;

[[tool.uv.index]]
name = &quot;pytorch-cpu&quot;
url = &quot;https://download.pytorch.org/whl/cpu&quot;

[[tool.uv.index]]
name = &quot;pytorch-xpu&quot;
url = &quot;https://download.pytorch.org/whl/xpu&quot;

[[tool.uv.index]]
name = &quot;pytorch-cuda&quot;
url = &quot;https://download.pytorch.org/whl/cu128&quot;

[tool.uv]
index-strategy = &quot;unsafe-best-match&quot;
conflicts = [
    [
      { group = &quot;cpu&quot; },
      { group = &quot;xpu&quot; },
      { group = &quot;cuda&quot; }
    ]
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @LmanTW on 2025-09-26 07:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add "--group" and related options to "uv tool install"" to "Add `--group` and related options to `uv tool install`" by @LmanTW on 2025-09-26 07:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-26 12:42</div>
            <div class="timeline-body"><p>Can you use extras (optional dependencies) instead of dependency groups? Dependency groups are generally for non-published, development dependencies, while extras are published. <code>uv tool install</code> is targeted at published tools, for which you can't select groups, only extra, hence the flag missing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LmanTW">@LmanTW</a> on 2025-09-26 13:11</div>
            <div class="timeline-body"><p>Thanks! I didn't know about that distinction between groups and extras. I didn't see the &quot;extra&quot; option in the <code>uv tool install</code> command though, is that a new feature?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-26 13:12</div>
            <div class="timeline-body"><p>It's explain here: https://docs.astral.sh/uv/concepts/projects/dependencies/#optional-dependencies</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LmanTW">@LmanTW</a> on 2025-09-26 13:30</div>
            <div class="timeline-body"><p>I already changed my project config to:</p>
<pre><code>[project.optional-dependencies]
cpu = [&quot;torch==2.8.0+cpu&quot;, &quot;torchvision==0.23.0+cpu&quot;]
xpu = [&quot;torch==2.8.0+xpu&quot;, &quot;torchvision==0.23.0+xpu&quot;]
cuda = [&quot;torch==2.8.0+cu128&quot;, &quot;torchvision==0.23.0+cu128&quot;]

[[tool.uv.index]]
name = &quot;main&quot;
url = &quot;https://pypi.org/simple&quot;

[[tool.uv.index]]
name = &quot;pytorch-cpu&quot;
url = &quot;https://download.pytorch.org/whl/cpu&quot;

[[tool.uv.index]]
name = &quot;pytorch-xpu&quot;
url = &quot;https://download.pytorch.org/whl/xpu&quot;

[[tool.uv.index]]
name = &quot;pytorch-cuda&quot;
url = &quot;https://download.pytorch.org/whl/cu128&quot;

[tool.uv]
index-strategy = &quot;unsafe-best-match&quot;
conflicts = [
    [
      { extra = &quot;cpu&quot; },
      { extra = &quot;xpu&quot; },
      { extra = &quot;cuda&quot; }
    ]
]
</code></pre>
<p>Which works fine when I try to do <code>uv sync --extra cpu</code>. But you mentioned that you can only select extra in the <code>uv tool install</code> command, which I assume the option is also called &quot;--extra&quot;, but I can't find it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-26 13:34</div>
            <div class="timeline-body"><p>For this it's <code>uv tool install myprojectname[cuda]</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LmanTW">@LmanTW</a> on 2025-09-26 13:40</div>
            <div class="timeline-body"><p>It works, thanks you for your help!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @LmanTW on 2025-09-26 13:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:01 UTC
    </footer>
</body>
</html>
