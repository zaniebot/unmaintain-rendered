<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv run` not running to completion - astral-sh/uv #12658</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv run` not running to completion</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12658">#12658</a>
        opened by <a href="https://github.com/amotl">@amotl</a>
        on 2025-04-03 19:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/amotl">@amotl</a> on 2025-04-03 19:10</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi. uv 0.6.12 user here. We wanted to report a problem that trips us when trying to invoke <code>uv run</code> from a Python process, in this case using the <a href="https://pypi.org/project/mcp/">mcp library</a>, where the program does not terminate (i.e. stalls), while invoking the same program using <code>python</code> works well.</p>
<p>We added a gist including the reproducer program <a href="https://gist.github.com/amotl/a761566e69870520c556f32c889ebeab"><code>uv_run_stuck_mcp.py</code></a>, which you can use to replicate the flaw when invoking it like this:</p>
<pre><code>python uv_run_stuck_mcp.py --uv
</code></pre>
<p>We've identified those issues to be possibly related to this problem, but we are not sure about it.</p>
<ul>
<li>GH-3095</li>
<li>GH-11009</li>
<li>GH-11886</li>
<li>GH-12108</li>
</ul>
<h3>Platform</h3>
<p>macOS</p>
<h3>Version</h3>
<p>uv 0.6.12 (Homebrew 2025-04-02)</p>
<h3>Python version</h3>
<p>Python 3.13.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @amotl on 2025-04-03 19:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-03 21:23</div>
            <div class="timeline-body"><p>Thanks for the reproduction and issue links. Do you think you could minimize the reproduction further? I don't think I'll be able to debug it easily as-is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amotl">@amotl</a> on 2025-04-08 20:57</div>
            <div class="timeline-body"><p>Hi Zanie. I absolutely hear you that it's not a good reproducer, but I am currently not able to come up with a trimmed-down version. It must be revolving around &quot;doing something with Python <code>asyncio</code> plus starting a process in the background&quot;, like MCP servers are doing it, or something like this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @zanieb on 2025-05-09 14:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:03 UTC
    </footer>
</body>
</html>
