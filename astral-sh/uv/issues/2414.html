<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unable to upload `uv&gt;=0.1.17` to Azure Artifacts due to `Metadata-Version: 2.3` - astral-sh/uv #2414</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unable to upload <code>uv&gt;=0.1.17</code> to Azure Artifacts due to <code>Metadata-Version: 2.3</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2414">#2414</a>
        opened by <a href="https://github.com/olivierlefloch">@olivierlefloch</a>
        on 2024-03-13 14:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/olivierlefloch">@olivierlefloch</a> on 2024-03-13 14:34</div>
            <div class="timeline-body"><p><code>uv==0.1.17</code>'s wheel seems to have switched to <code>Metadata-Version: 2.3</code>, which Azure Artifacts does not support:</p>
<p>(same issue with <code>ruff</code>) https://github.com/astral-sh/ruff/issues/10378</p>
<p>It's not clear whether this will get resolved promptly by Azure: https://developercommunity.visualstudio.com/t/Uploading-ruff032-to-Azure-Repos-for/10614507</p>
<pre><code>Bad Request - Metadata version '2.3' is unsupported. Supported versions
         are: 1.0,1.1,1.2,2.0,2.1.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-13 14:38</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
<p>This is unfortunate, I'm not sure what our best option is here. Can you build the wheels yourself?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/olivierlefloch">@olivierlefloch</a> on 2024-03-14 16:36</div>
            <div class="timeline-body"><p>After further investigation, it seems <code>maturin</code> recently updated the value they use for <code>Metadata-Version</code> https://github.com/PyO3/maturin/issues/1993</p>
<p>Other than perhaps considering pinning <code>maturin</code> in your build pipeline, so that such issues are under your control rather than potentially due to changes to your build pipeline that you don't control, I don't think there's anything for <code>astral-sh</code> to do!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-17 21:38</div>
            <div class="timeline-body"><p>We could pin back to Maturin 0.14.0 or whichever it was that preceded Metadata 2.2 (and Metadata 2.3), but Metadata 2.2 and 2.3 are actually good, and soon Poetry and Hatch and others will build source distributions with Metadata 2.2 by default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-17 21:38</div>
            <div class="timeline-body"><p>I'm gonna say for now that we won't roll this back, but if it continues to be a problem for an extended period of time let me know and we can reconsider.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-17 21:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:30 UTC
    </footer>
</body>
</html>
