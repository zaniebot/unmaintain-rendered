<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv` cannot resolve Jetpack (l4t) dependencies - astral-sh/uv #13930</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv` cannot resolve Jetpack (l4t) dependencies</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/13930">#13930</a>
        opened by <a href="https://github.com/PawelPeczek-Roboflow">@PawelPeczek-Roboflow</a>
        on 2025-06-09 17:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/PawelPeczek-Roboflow">@PawelPeczek-Roboflow</a> on 2025-06-09 17:59</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hello there,</p>
<p>I am not sure if I am doing it right, but I am struggling to resolve the environment which defines torch index with packages suited to run on Nvidia Orin devices with Jetpack 6 (also known as Linux For Tegra).</p>
<pre><code>[project]
name = &quot;XXX&quot;
version = &quot;0.1.0&quot;
description = &quot;YYY&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.10,&lt;3.13&quot;

dependencies = []

[project.optional-dependencies]
cpu = [
  &quot;torch&gt;=2.7.0&quot;,
  &quot;torchvision&gt;=0.22.0&quot;,
]
cu128 = [
  &quot;torch&gt;=2.7.0&quot;,
  &quot;torchvision&gt;=0.22.0&quot;,
]
torch-jp6 = [
  &quot;torch&gt;=2.0.0; sys_platform == 'linux' and platform_machine == 'aarch64' and python_version == '3.10'&quot;,    # tried lots of combination of markers here, nothing works
  &quot;torchvision&quot;
]

[tool.uv]
conflicts = [
  [
    { extra = &quot;cpu&quot; },
    { extra = &quot;cu128&quot; },
    { extra = &quot;torch-jp6&quot; },
  ],
]

[tool.uv.sources]
torch = [
  { index = &quot;pytorch-cpu&quot;, extra = &quot;cpu&quot; },
  { index = &quot;pytorch-cu128&quot;, extra = &quot;cu128&quot; },
  { index = &quot;jp6-cuda&quot;, extra = &quot;torch-jp6&quot; },
]
torchvision = [
  { index = &quot;pytorch-cpu&quot;, extra = &quot;cpu&quot; },
  { index = &quot;pytorch-cu128&quot;, extra = &quot;cu128&quot; },
  { index = &quot;jp6-cuda&quot;, extra = &quot;torch-jp6&quot; },
]

[[tool.uv.index]]
name = &quot;pytorch-cpu&quot;
url = &quot;https://download.pytorch.org/whl/cpu&quot;
explicit = true

[[tool.uv.index]]
name = &quot;pytorch-cu128&quot;
url = &quot;https://download.pytorch.org/whl/cu128&quot;
explicit = true

[[tool.uv.index]]
name = &quot;jp6-cuda&quot;
url = &quot;https://pypi.jetson-ai-lab.dev/jp6/cu126&quot;
explicit = true
</code></pre>
<p>The error I get in response to <code>uv sync</code> is the following:</p>
<pre><code>‚ùØ uv sync
  √ó No solution found when resolving dependencies:
  ‚ï∞‚îÄ‚ñ∂ Because there are no versions of torch{platform_machine == 'aarch64' and sys_platform == 'linux'}
      and inference-exp[torch-jp6] depends on torch{platform_machine == 'aarch64' and sys_platform ==
      'linux'}&gt;=2.0.0, we can conclude that inference-exp[torch-jp6]'s requirements are unsatisfiable.
      And because your project requires inference-exp[torch-jp6], we can conclude that your project's
      requirements are unsatisfiable.
</code></pre>
<p>I am sure that the package can be resolved from https://pypi.jetson-ai-lab.dev/jp6/cu126:</p>
<pre><code>pip index versions torch --index-url https://pypi.jetson-ai-lab.dev/jp6/cu126 --python-version 3.10 --platform linux_aarch64

torch (2.7.0)
Available versions: 2.7.0, 2.6.0, 2.5.0, 2.4.0
</code></pre>
<p>The solution I am looking for would allow using multiple python versions for general installations of my package, but only specific one when specific extras are in use. Would really appreciate help üôè</p>
<h3>Platform</h3>
<p>MacOS 15.5</p>
<h3>Version</h3>
<p>uv 0.7.12 (dc3fd4647 2025-06-06)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @PawelPeczek-Roboflow on 2025-06-09 17:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aw632">@aw632</a> on 2025-06-09 21:02</div>
            <div class="timeline-body"><p>Getting the same issue, on Jetson with CUDA 12.6. Here's my complete error log:</p>
<pre><code>user@gary:/mnt/data/awang/torch_compile_example$ uv add torch --index https://pypi.jetson-ai-lab.dev/jp6/cu126 -vv
DEBUG uv 0.7.11
DEBUG Found project root: `/mnt/data/awang/torch_compile_example`
DEBUG No workspace root found, using project root
TRACE Checking lock for `/mnt/data/awang/torch_compile_example` at `/tmp/uv-c2963d847eb09856.lock`
DEBUG Acquired lock for `/mnt/data/awang/torch_compile_example`
DEBUG Reading Python requests from version file at `/mnt/data/awang/torch_compile_example/.python-version`
DEBUG Using Python request `3.10` from version file at `.python-version`
DEBUG Checking for Python environment at `.venv`
TRACE Cached interpreter info for Python 3.10.12, skipping probing: .venv/bin/python3
DEBUG The project environment's Python version satisfies the request: `Python 3.10`
TRACE The project environment's Python version meets the Python requirement: `&gt;=3.10`
DEBUG Released lock at `/tmp/uv-c2963d847eb09856.lock`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: torch-compile-example @ file:///mnt/data/awang/torch_compile_example
DEBUG No workspace root found, using project root
DEBUG Ignoring existing lockfile due to mismatched requirements for: `torch-compile-example==0.1.0`
  Requested: {Requirement { name: PackageName(&quot;torch&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([]), index: None, conflict: None }, origin: None }}
  Existing: {}
TRACE Performing lookahead for torch-compile-example @ file:///mnt/data/awang/torch_compile_example
DEBUG Solving with installed Python version: 3.10.12
DEBUG Solving with target Python version: &gt;=3.10
TRACE Assigned packages: 
TRACE Chose package for decision: root. remaining choices: 
DEBUG Adding direct dependency: torch-compile-example*
TRACE Assigned packages: root==0a0.dev0
TRACE Chose package for decision: torch-compile-example. remaining choices: 
DEBUG Searching for a compatible version of torch-compile-example @ file:///mnt/data/awang/torch_compile_example (*)
DEBUG Adding direct dependency: torch*
TRACE Assigned packages: root==0a0.dev0, torch-compile-example==0.1.0
TRACE Chose package for decision: torch. remaining choices: 
TRACE Fetching metadata for torch from https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Cached request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ is storable because its response has a heuristically cacheable status code 200
TRACE Could not determine freshness lifetime, assuming none exists
TRACE Cached request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ has a cached response that does not allow staleness
TRACE Request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ does not have a fresh cache because its age is 49 seconds, it is greater than the freshness lifetime of 0 seconds and stale cached responses are not allowed
DEBUG Found stale response for: https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
DEBUG Sending revalidation request for: https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Handling request for https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ with authentication policy auto
TRACE Request for https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ is unauthenticated, checking cache
TRACE No credentials in cache for URL https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Attempting unauthenticated request for https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Resource is modified because status is 200 and not 304
DEBUG Found modified response for: https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Cached request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ is storable because its response has a heuristically cacheable status code 200
WARN Skipping file for torch: 
WARN Skipping file for torch: 
WARN Skipping file for torch: 
WARN Skipping file for torch: +searchhelp
WARN Skipping file for torch: +status
WARN Skipping file for torch: 2.4.0
WARN Skipping file for torch: 2.5.0
WARN Skipping file for torch: 2.6.0
WARN Skipping file for torch: 2.6.0rc1
WARN Skipping file for torch: 2.7.0
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: jp6
WARN Skipping file for torch: latest
WARN Skipping file for torch: torch
WARN Skipping file for torch: torch
TRACE Received package metadata for: torch
TRACE Selecting candidate for torch with range * with 0 remote versions
TRACE Exhausted all candidates for package torch with range * after 0 steps
DEBUG Searching for a compatible version of torch (*)
TRACE Selecting candidate for torch with range * with 0 remote versions
TRACE Exhausted all candidates for package torch with range * after 0 steps
DEBUG No compatible version found for: torch
DEBUG Recording unit propagation conflict of torch from incompatibility of (torch-compile-example)
TRACE Assigned packages: root==0a0.dev0
TRACE Chose package for decision: torch-compile-example. remaining choices: 
DEBUG Searching for a compatible version of torch-compile-example @ file:///mnt/data/awang/torch_compile_example (&lt;0.1.0 | &gt;0.1.0)
DEBUG No compatible version found for: torch-compile-example
DEBUG Reverting changes to `pyproject.toml`
DEBUG Reverting changes to `uv.lock`
  √ó No solution found when resolving dependencies:
TRACE Resolver derivation tree before reduction
term root==0a0.dev0
  root==0a0.dev0 depends on torch-compile-example*
  term torch-compile-example*
    term torch-compile-example==0.1.0
      torch-compile-example==0.1.0 depends on torch*
      no versions of torch*
    no versions of torch-compile-example&lt;0.1.0 | &gt;0.1.0
TRACE Resolver derivation tree after reduction
term torch-compile-example==0.1.0
  torch-compile-example==0.1.0 depends on torch*
  no versions of torch*
  ‚ï∞‚îÄ‚ñ∂ Because there are no versions of torch and your project depends on torch, we can conclude that your project's requirements are unsatisfiable.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and syncing.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-06-09 21:08</div>
            <div class="timeline-body"><p>To start, I <em>think</em> you need to use <code>https://pypi.jetson-ai-lab.dev/jp6/cu126/+simple</code>? <code>https://pypi.jetson-ai-lab.dev/jp6/cu126</code> is not a Simple API URL (if you open that page in a browser, it needs to be a list of links).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-09 21:14</div>
            <div class="timeline-body"><p>You could also suggest they update their DevPi version to support Simple API queries at that URL (as noted in https://github.com/astral-sh/uv/issues/11136)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aw632">@aw632</a> on 2025-06-10 03:17</div>
            <div class="timeline-body"><p>@charliermarsh I can confirm that adding <code>+simple</code> fixes the issue for me, thanks! @PawelPeczek-Roboflow I think this should work for you as well?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PawelPeczek-Roboflow">@PawelPeczek-Roboflow</a> on 2025-06-10 09:22</div>
            <div class="timeline-body"><p>Checking now - thanks a lot, would never guess to check that :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PawelPeczek-Roboflow">@PawelPeczek-Roboflow</a> on 2025-06-10 09:24</div>
            <div class="timeline-body"><p>works for me, thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-06-10 09:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aw632">@aw632</a> on 2025-06-10 16:40</div>
            <div class="timeline-body"><blockquote>
<p>You could also suggest they update their DevPi version to support Simple API queries at that URL (as noted in <a href="https://github.com/astral-sh/uv/issues/11136">#11136</a>)</p>
</blockquote>
<p>I will raise this to the Jetpack team internally. Thanks, good idea!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:28 UTC
    </footer>
</body>
</html>
