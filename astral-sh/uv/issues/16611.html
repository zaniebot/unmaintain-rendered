<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Default package entry point should be `__main__.py` not `__init__.py` - astral-sh/uv #16611</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Default package entry point should be `__main__.py` not `__init__.py`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/16611">#16611</a>
        opened by <a href="https://github.com/vepain">@vepain</a>
        on 2025-11-06 11:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/vepain">@vepain</a> on 2025-11-06 11:23</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>At least in the context of a package, the application entry point should be the file <code>__main__.py</code> (refer to https://docs.python.org/3.14/library/<strong>main</strong>.html#main-py-in-python-packages)</p>
<p>Changes:</p>
<ul>
<li><p>Add a <code>__main__.py</code> in the directory <code>src/module_name</code></p>
<pre><code class="language-py"># src/module_name/__main__.py
def main() -&gt; None:
   &quot;&quot;&quot;Run the application.&quot;&quot;&quot;
   print(&quot;Hello world!&quot;)

if __name__ == &quot;__main__&quot;:
  main()
</code></pre>
</li>
<li><p>Modify the project script path in the <code>project.toml</code> file</p>
<pre><code class="language-toml">[project.scripts]
  module_name = &quot;module_name:__main__.main&quot;
</code></pre>
</li>
</ul>
<h3>Example</h3>
<p>Default behaviour of <code>uv init --package my-package</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @vepain on 2025-11-06 11:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-06 13:03</div>
            <div class="timeline-body"><p>I think it's quite common to do a <code>__main__.py</code> that imports a <code>main</code> from another module and executes it.</p>
<p>The <code>__main__</code> module is only the entry point for <code>python -m &lt;module&gt;</code>.</p>
<p>The idiomatic usage in the linked documentation says</p>
<blockquote>
<p>[...] those files are kept short and import functions to execute from other modules. Those other modules can then be easily unit-tested and are properly reusable.</p>
</blockquote>
<p>You could argue we should generate a <code>__main__.py</code>, but I'm not convinced the <code>main</code> function should move.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vepain">@vepain</a> on 2025-11-06 14:17</div>
            <div class="timeline-body"><p>I proposed this in fact to keep separated the library and the CLI entry point (for example) parts of a package.
I will follow the idiomatic usages.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:30 UTC
    </footer>
</body>
</html>
