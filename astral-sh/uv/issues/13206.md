```yaml
number: 13206
title: Injecting index URL via environment variable
type: issue
state: open
author: vizeit
labels:
  - question
assignees: []
created_at: 2025-04-29T23:00:31Z
updated_at: 2025-05-03T20:34:45Z
url: https://github.com/astral-sh/uv/issues/13206
synced_at: 2026-01-10T01:57:30Z
```

# Injecting index URL via environment variable

---

_Issue opened by @vizeit on 2025-04-29 23:00_

### Question

I am currently using pipenv for a project where I am injecting index url via environment variable (example below). I tried to migrate this into uv but do not see any options yet. Does uv support this set up?

**current pipfile for pipenv** 
```
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[[source]]
url = "$PRIVATEPYPIURL"
verify_ssl = true
name = "us-central1-pythonpkg"

[packages]
"keyrings.google-artifactregistry-auth" = "*"

[dev-packages]
myprivatepackage = {version = "*", index = "us-central1-pythonpkg"}

[requires]
python_version = "3.12"`
```
here, $PRIVATEPYPIURL is shell environment variable that is resolved by pipenv. Also, pipenv stores the same env variable in the pipfile.lock, not the actual URL value

**Tried with uv**
I added private package from the private repo
```
uv add --keyring-provider subprocess --index us-central1-pythonpkg="$PRIVATEPYPIURL"  myprivatepackage
```
The pyproject.toml and uv.lock includes the full URL value
```
name = "packge-with-uv"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = [
    "keyrings-google-artifactregistry-auth>=1.1.2",
    "myprivatepackage>=9.0.0",
]

[tool.uv.sources]
myprivatepackage = { index = "us-central1-pythonpkg" }

[[tool.uv.index]]
name = "us-central1-pythonpkg"
url = "https://us-central1-python.pkg.dev/my-project/myrepo/simple/"
```

Is it possible for uv to keep the env variable instead of value in both toml and lock files? Are there any workarounds?
My objective is to not save actual private repository url in the toml and lock file

### Platform

Ubuntu 24.10

### Version

uv 0.6.17

---

_Label `question` added by @vizeit on 2025-04-29 23:00_

---

_Comment by @zanieb on 2025-04-29 23:45_

Related to https://github.com/astral-sh/uv/issues/5734

---

_Referenced in [astral-sh/uv#5734](../../astral-sh/uv/issues/5734.md) on 2025-04-30 04:38_

---

_Comment by @charliermarsh on 2025-05-02 14:35_

No, we don't support omitting the index URL.

---

_Comment by @vizeit on 2025-05-03 20:34_

@charliermarsh thanks for your reply. @zanieb added the reference to the other issue and I am sure you are aware of it. It would be very helpful to have this feature from security point of view

---
