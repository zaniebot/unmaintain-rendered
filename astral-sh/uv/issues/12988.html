<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve UX when `uv add` or `uv sync` are run in a directory with no `pyproject.toml` - astral-sh/uv #12988</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve UX when `uv add` or `uv sync` are run in a directory with no `pyproject.toml`</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12988">#12988</a>
        opened by <a href="https://github.com/edmorley">@edmorley</a>
        on 2025-04-20 13:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/edmorley">@edmorley</a> on 2025-04-20 13:06</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Currently if <code>uv add</code> or <code>uv sync</code> are run in a directory with no <code>pyproject.toml</code>, the resultant error message is:</p>
<pre><code>$ mkdir testcase-uv &amp;&amp; cd $_
$ uv add urllib3
error: No `pyproject.toml` found in current directory or any parent directory
$ uv sync
error: No `pyproject.toml` found in current directory or any parent directory
</code></pre>
<p>To improve the UX for users migrating from pip (or uv's <code>uv pip</code> interface), it would help if this error message hinted that the user should probably run <code>uv init</code> or else see the uv getting started docs.</p>
<h3>Example</h3>
<p>Perhaps something roughly like this?</p>
<pre><code>$ uv add urllib3
error: No `pyproject.toml` found in current directory or any parent directory.
To create one run `uv init`, or see: https://docs.astral.sh/uv/guides/projects/
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @edmorley on 2025-04-20 13:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @zanieb on 2025-04-20 16:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-20 16:05</div>
            <div class="timeline-body"><p>We probably want to use the <code>hint:</code> or <code>help:</code> formatting here. Makes sense though.</p>
<p>So far, we don't link to the documentation because it's not versioned and therefore not guaranteed to be stable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @charliermarsh on 2025-04-21 02:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/13021.html">astral-sh/uv#13021</a> on 2025-04-21 19:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:04 UTC
    </footer>
</body>
</html>
