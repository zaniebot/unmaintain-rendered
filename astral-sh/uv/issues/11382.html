<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bad error message when building an empty pyproject.toml - astral-sh/uv #11382</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Bad error message when building an empty pyproject.toml</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11382">#11382</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-02-10 12:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2025-02-10 12:20</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Create a new directory and create an empty <code>pyproject.toml</code> within it. Then run <code>uv pip install .</code></p>
<pre><code>$ uv pip install .
Using Python 3.13.0 environment at: /home/konsti/projects/uv/.venv
error: Failed to parse metadata from built wheel
  Caused by: Metadata field Name not found
</code></pre>
<p>uv should catch that we're trying to do a setuptools build without <code>[build-system]</code>, <code>setup.py</code> or <code>setup.cfg</code> and error instead of trying a build that setuptools will fail at.</p>
<p>uv should also catch <code>Name: UNKNOWN</code> in a METADATA file and show a dedicated error message.</p>
<h3>Platform</h3>
<p>Ubuntu 24.04 amd64</p>
<h3>Version</h3>
<p>uv 0.5.29</p>
<h3>Python version</h3>
<p>3.13.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @konstin on 2025-02-10 12:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/11344.html">astral-sh/uv#11344</a> on 2025-02-10 12:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/11394.html">astral-sh/uv#11394</a> on 2025-02-10 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2025-02-12 21:52</div>
            <div class="timeline-body"><p>I've also noticed a recurring non-descript error message that happens when trying to set some of the backend settings like <code>tool.uv.build-backend.source-includes</code> and  <code>tool.uv.build-backend.data</code>. The only setting that didn't cause this error to be thrown is <code>tool.uv.build-backend.module-root</code>.</p>
<pre><code>uv pip install --no-build-isolation --offline -e .
</code></pre>
<pre><code class="language-cmd">  × Failed to build `albatross @ file:///C:/Users/user/dev/albatross`
  ├─▶ The build backend returned an error
  ╰─▶ Call to `uv.build_editable` failed (exit code: 1)

      [stderr]
      Traceback (most recent call last):
        File &quot;&lt;string&gt;&quot;, line 8, in &lt;module&gt;
          import uv as backend
      ModuleNotFoundError: No module named 'uv'
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-12 21:53</div>
            <div class="timeline-body"><p>Do you mind creating a separate issue for that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2025-02-12 21:58</div>
            <div class="timeline-body"><blockquote>
<p>Do you mind creating a separate issue for that?</p>
</blockquote>
<p>TCO: #11461</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:25 UTC
    </footer>
</body>
</html>
