```yaml
number: 11460
title: "Dynamic version is not omitted when fields other than `version` are marked as dynamic"
type: issue
state: closed
author: edgarrmondragon
labels:
  - bug
assignees: []
created_at: 2025-02-12T21:22:14Z
updated_at: 2025-02-13T01:44:16Z
url: https://github.com/astral-sh/uv/issues/11460
synced_at: 2026-01-10T01:57:26Z
```

# Dynamic version is not omitted when fields other than `version` are marked as dynamic

---

_Issue opened by @edgarrmondragon on 2025-02-12 21:22_

### Summary

Consider this project

```toml
# pyproject.toml
[project]
name = "uv-more-dynamic"
dynamic = [
    "version",
]
requires-python = ">=3.13"

[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "vcs"
```

which results in the lock file

```toml
version = 1
requires-python = ">=3.13"

[[package]]
name = "uv-more-dynamic"
source = { editable = "." }
```

However, marking `dependencies` or `optional-dependencies` as dynamic results in the version being added to `uv.lock`:

```diff
  [project]
  name = "uv-more-dynamic"
  dynamic = [
+     "dependencies",
      "version",
  ]
```

```diff
  version = 1
  requires-python = ">=3.13"

  [[package]]
  name = "uv-more-dynamic"
+ version = "0.1.dev0+d20250212"
  source = { editable = "." }
```


### Platform

Darwin 24.3.0 arm64

### Version

uv 0.5.30 (ddbc6e315 2025-02-10)

### Python version

Python 3.13.1

---

_Label `bug` added by @edgarrmondragon on 2025-02-12 21:22_

---

_Comment by @charliermarsh on 2025-02-12 21:23_

Interesting... Thanks.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-02-12 21:23_

---

_Comment by @charliermarsh on 2025-02-12 21:49_

(Reproduced.)

---

_Referenced in [astral-sh/uv#11468](../../astral-sh/uv/pulls/11468.md) on 2025-02-13 01:05_

---

_Closed by @charliermarsh on 2025-02-13 01:44_

---

_Closed by @charliermarsh on 2025-02-13 01:44_

---

_Referenced in [reservoir-data/tap-pypistats#43](../../reservoir-data/tap-pypistats/pulls/43.md) on 2025-02-13 05:34_

---
