<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow setting a custom value for `uv version --bump` - astral-sh/uv #16427</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow setting a custom value for `uv version --bump`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/16427">#16427</a>
        opened by <a href="https://github.com/jvacek">@jvacek</a>
        on 2025-10-23 19:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jvacek">@jvacek</a> on 2025-10-23 19:07</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Would be nice if we can set the version to bump the specific &quot;section&quot; up to, instead of always having to increment by one.</p>
<h3>Example</h3>
<p>We want to automate the process of building and publishing our packages in CI, and part of that is making dev versions from a manual action in the CI.</p>
<p>The intent is that when ran, the package is bumped by a patch, and also a dev version, which has the value of the pipeline ID that ran it (an integer). This means that for example <code>0.0.1</code> ‚Üí <code>0.0.2.dev66463664</code>. This avoids collisions when multiple dev versions are being worked on.</p>
<p>It would be nice if one could run <code>uv version --bump patch --bump dev 66463664</code>.</p>
<p>I would also expect that if the version is <code>0.0.12</code>, then for example <code>uv version --bump patch 11</code> would fail, as that is not a bump.</p>
<hr />
<p>Furthermore, the current docs are confusing for this as it kinda seems that <code>--bump</code> and <code>VALUE</code> can be used together? could this just be a bug?</p>
<pre><code>.venv ‚ùØ uv version --bump dev 23
error: the argument '--bump &lt;BUMP&gt;' cannot be used with '[VALUE]'

Usage: uv version --bump &lt;BUMP&gt; [VALUE]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @jvacek on 2025-10-23 19:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-23 20:01</div>
            <div class="timeline-body"><p>I think this seems like a pretty reasonable use-case, though I'm not sure what the best way to expose the interface is ü§î</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jvacek">@jvacek</a> on 2025-10-24 11:49</div>
            <div class="timeline-body"><p>I suppose if you have the following usecases already:</p>
<pre><code>uv version [VALUE]  # uv version 1.2.3.dev456
uv version [--bump &lt;BUMP&gt;]...  # uv version --bump patch --bump dev
</code></pre>
<p>Thoughts on adding it like so?</p>
<pre><code>uv version [--bump &lt;BUMP&gt; [&lt;value&gt;]]...  # uv version --bump patch --bump dev 456
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-24 13:35</div>
            <div class="timeline-body"><p>We can't have optional values associated with flags, e.g., <code>--foo &lt;bar&gt; [baz]</code> because it makes parsing ambiguous w.r.t. positional arguments. (It could technically be possible in some cases, but we avoid it)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jvacek">@jvacek</a> on 2025-10-29 12:22</div>
            <div class="timeline-body"><p>how about this?</p>
<p><code>uv version [--bump &lt;BUMP&gt;[=&lt;value&gt;]]...  # uv version --bump patch --bump dev=456</code></p>
<p>also a bit more &quot;intuitive&quot; about the value being set imo?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-29 14:11</div>
            <div class="timeline-body"><p>I'm okay with that. cc @Gankra and @konstin</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/16555.html">astral-sh/uv#16555</a> on 2025-11-02 22:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Gankra on 2025-11-11 17:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
