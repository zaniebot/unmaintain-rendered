<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv sync` hangs forever if a git+https package requires authentication - astral-sh/uv #7774</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv sync` hangs forever if a git+https package requires authentication</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/7774">#7774</a>
        opened by <a href="https://github.com/command-tab">@command-tab</a>
        on 2024-09-29 01:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/command-tab">@command-tab</a> on 2024-09-29 01:51</div>
            <div class="timeline-body"><p><strong>Problem</strong></p>
<p>When running <code>uv sync</code> in a project containing a <code>pyproject.toml</code> that lists a package via git+https which requires authentication, the uv operation spins forever at &quot;Resolving dependencies...&quot;.</p>
<p>When running with <code>uv --verbose sync</code>, I see an authentication prompt in the verbose output. It would be helpful if that prompt/non-OK HTTP status code was detected and either prompted about or at least errored about during a non-verbose <code>uv sync</code> rather than appearing to indicate that dependencies might resolve if you wait long enough.</p>
<p><strong>Workaround</strong></p>
<p>For a quick workaround, I expanded the read permissions of that git repo, since I control it as well.</p>
<p><strong>Example</strong></p>
<p><code>pyproject.toml</code></p>
<pre><code class="language-toml">[project]
name = &quot;myapp&quot;
version = &quot;1.0.0&quot;
description = &quot;My app&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.11&quot;
# Awaiting resolution on this GitHub issue to be able to use a private pypi
# without specifying an extra index URL, which could be abused:
# https://github.com/astral-sh/uv/issues/171
dependencies = [
  &quot;mypackagename @ git+https://git.example.com/mypackagename.git@1.2.3&quot;,
]
</code></pre>
<p><strong>Environment</strong></p>
<ul>
<li>macOS 15.0 Sequoia</li>
<li>Python 3.11.3 (via uv)</li>
<li>uv 0.4.15 (Homebrew 2024-09-21)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/command-tab">@command-tab</a> on 2024-09-29 01:56</div>
            <div class="timeline-body"><p>(Reported drive-by comment bot to GitHub for abuse)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-29 02:00</div>
            <div class="timeline-body"><p>(Thank you, blocked that user.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-29 02:10</div>
            <div class="timeline-body"><p>I think this may be the same as https://github.com/astral-sh/uv/issues/3783 (albeit with HTTPS -- but same underlying issue of not showing the prompt). Does that seem correct to you?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-09-29 02:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @charliermarsh on 2024-09-29 02:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/command-tab">@command-tab</a> on 2024-09-29 02:13</div>
            <div class="timeline-body"><p>Oh, yup! Sounds like the same behavior, just a different protocol. Feel free to close this as a dupe if you wish to consolidate :) Thank you for uv!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-29 11:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-29 11:51</div>
            <div class="timeline-body"><p>Thanks for following up :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:22 UTC
    </footer>
</body>
</html>
