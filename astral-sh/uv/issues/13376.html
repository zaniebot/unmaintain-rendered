<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv-python: panic when installing Python 3.12 on Windows (called \Option::unwrap()` on a `None` value in downloads.rs)` - astral-sh/uv #13376</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv-python: panic when installing Python 3.12 on Windows (called \Option::unwrap()` on a `None` value in downloads.rs)`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/13376">#13376</a>
        opened by <a href="https://github.com/farukonfly">@farukonfly</a>
        on 2025-05-10 09:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/farukonfly">@farukonfly</a> on 2025-05-10 09:36</div>
            <div class="timeline-body"><h3>Question</h3>
<p>no python in my pc</p>
<p>D:&gt;uv python install 3.12 --verbose
DEBUG uv 0.7.3 (3c413f74b 2025-05-07)
DEBUG Acquired lock for <code>C:\Users\farukon\AppData\Roaming\uv\python</code>
DEBUG No installation found for request <code>Python 3.12</code>
DEBUG Found download <code>cpython-3.12.10-windows-x86_64-none</code> for request <code>Python 3.12</code>
DEBUG Using request timeout of 30s</p>
<p>thread 'main2' panicked at C:\a\uv\uv\crates\uv-python\src\downloads.rs:646:14:
called <code>Option::unwrap()</code> on a <code>None</code> value
stack backtrace:
0:     0x7ff6998f092c - <unknown>
1:     0x7ff6994e121a - <unknown>
2:     0x7ff6998efe87 - <unknown>
3:     0x7ff6998f0784 - <unknown>
4:     0x7ff6998efac5 - <unknown>
5:     0x7ff699917132 - <unknown>
6:     0x7ff6999170bf - <unknown>
7:     0x7ff69991a7ae - <unknown>
8:     0x7ff69b849601 - <unknown>
9:     0x7ff69b84965d - <unknown>
10:     0x7ff69b84988e - <unknown>
11:     0x7ff699f99e99 - <unknown>
12:     0x7ff699f952c2 - <unknown>
13:     0x7ff6993d6a6d - <unknown>
14:     0x7ff699e84602 - <unknown>
15:     0x7ff699dde2e3 - <unknown>
16:     0x7ff699dbffce - <unknown>
17:     0x7ff69a50bf18 - <unknown>
18:     0x7ff69a119262 - <unknown>
19:     0x7ff699911b1d - <unknown>
20:     0x7ffc1445e8d7 - BaseThreadInitThunk
21:     0x7ffc149dbf6c - RtlUserThreadStart
DEBUG Released lock at <code>C:\Users\farukon\AppData\Roaming\uv\python\.lock</code></p>
<p>thread 'main' panicked at C:\a\uv\uv\crates\uv\src\lib.rs:2106:10:
Tokio executor failed, was there a panic?: Any { .. }
stack backtrace:
0:     0x7ff6998f092c - <unknown>
1:     0x7ff6994e121a - <unknown>
2:     0x7ff6998efe87 - <unknown>
3:     0x7ff6998f0784 - <unknown>
4:     0x7ff6998efac5 - <unknown>
5:     0x7ff699917169 - <unknown>
6:     0x7ff6999170bf - <unknown>
7:     0x7ff69991a7ae - <unknown>
8:     0x7ff69b849601 - <unknown>
9:     0x7ff69b8499d0 - <unknown>
10:     0x7ff69a63d2a2 - <unknown>
11:     0x7ff69a507286 - <unknown>
12:     0x7ff69a63c352 - <unknown>
13:     0x7ff69b82357c - <unknown>
14:     0x7ffc1445e8d7 - BaseThreadInitThunk
15:     0x7ffc149dbf6c - RtlUserThreadStart</p>
<h3>Platform</h3>
<p>Windows11 X86_64</p>
<h3>Version</h3>
<p>uv 0.7.3 (3c413f74b 2025-05-07)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @farukonfly on 2025-05-10 09:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-10 13:35</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
<p>https://github.com/astral-sh/uv/blob/878c2acdf30169af9f02bd23fe799f75916517e0/crates/uv-python/src/downloads.rs#L644-L646</p>
<p>cc @konstin</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @zanieb on 2025-05-10 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2025-05-10 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-05-10 14:30</div>
            <div class="timeline-body"><p>Hmm, how is this empty there? Don't we create these URLs ourselves?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-10 14:36</div>
            <div class="timeline-body"><p>Have you set <code>UV_PYTHON_INSTALL_MIRROR</code> or <code>UV_PYTHON_DOWNLOADS_JSON_URL</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-10 14:37</div>
            <div class="timeline-body"><p>(It's possible something has regressed here, as there have been changes in #10939, #12967, etc.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/13406.html">astral-sh/uv#13406</a> on 2025-05-12 11:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/geofft">@geofft</a> on 2025-07-17 19:29</div>
            <div class="timeline-body"><p>It sounds like this should generate a proper error message in uv 0.7.4 and up that lists the invalid URL. If you see this again, it'd be interesting to get the error message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-07-17 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @konstin on 2025-07-17 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-07-17 20:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
