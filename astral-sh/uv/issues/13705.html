<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upgrading only one group packages, i.e., `--upgrade-group` - astral-sh/uv #13705</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Upgrading only one group packages, i.e., <code>--upgrade-group</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/13705">#13705</a>
        opened by <a href="https://github.com/hovnatan">@hovnatan</a>
        on 2025-05-28 19:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hovnatan">@hovnatan</a></div>
            <div class="timeline-body">Question
<p>I have a virtual environment  setup from multiple groups in dependencies (<code>default-groups=&quot;all&quot;</code>). Now working in that virtual environment  I want to upgrade and sync lock file for packages only from one of the groups, e.g., something like this <code>uv sync --upgrade --group lint</code>, but that command upgrades all packages from all groups. Is it possible to achieve this behavior? If I try <code>uv sync --upgrade --only-group lint</code> that will remove packages from all other groups, which is not desired.</p>
Platform
<p><em>No response</em></p>
Version
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/hovnatan">@hovnatan</a> on 2025-05-28 19:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-28 19:47</div>
            <div class="timeline-body"><p>We don&#x27;t have <code>--upgrade-group</code> semantics yet, unfortunately.</p>
<p>Can you share more about the use-case for only upgrading the single group?</p>
<p>cc @konstin for upgrade design work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hovnatan">@hovnatan</a> on 2025-05-28 19:51</div>
            <div class="timeline-body"><p>The environment is divided into groups since sometimes only part of environment is needed. But regularly I am working in the full multi-group environment and I want to sync and upgrade one group only, e.g., test if new linters are available from group lint.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/insspb">@insspb</a> on 2025-06-28 03:02</div>
            <div class="timeline-body"><p>@zanieb This feature is highly required for projects that use uv as project dependency manager, not as manager for package release. There are common to use poetry with separation for groups like:
main, benchmarking, autotesting, linting, docs
And so highly common when only person/developer who responsible for benchmarking update own tools, same for docs and linting.</p>
<p>Also groups allow to separate packages on safe-to blind update and &quot;require verification&quot;.
In example above updating groups like autotesting is sage.
linting can be frozen for long time due corparate internal styleguides freezes (for example if somebody use black v 23 somethin)
docs is responsible for dedicated team, who can verify that everything compiled correctly during own work.</p>
<p>So groups separation is highly required feature for big projects management.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-28 03:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-28 03:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Upgrading only one group packages&quot; to &quot;Upgrading only one group packages, i.e., `--upgrade-group`&quot; by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-28 03:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JockeTF">@JockeTF</a> on 2025-07-08 12:02</div>
            <div class="timeline-body"><p>Duplicate of #12848?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/insspb">@insspb</a> on 2025-08-12 05:59</div>
            <div class="timeline-body"><p>Returned to it in a project, where it is important. As we are waiting for solution, currently it is possible to use such trick (if venv is clear from other dependencies)</p>
<pre><code>uv sync --only-group dev -U --inexact --dry-run 2&gt;&amp;1 | grep &#x27;+&#x27; | awk -F&#x27;==&#x27; &#x27;{print $1}&#x27; | awk -F&#x27;+ &#x27; &#x27;{print &quot;-P &quot; $2}&#x27; | xargs uv sync
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a> on 2025-12-19 18:49</div>
            <div class="timeline-body"><p>Something like <code>uv lock --upgrade-group docs</code>  or <code>uv lock --upgrade-group dev</code> would indeed be useful.</p>
<p>Imagine a team wants to update their locked runtime and dev dependencies at different cadences, so this would allow that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-19 18:57</div>
            <div class="timeline-body"><p>I&#x27;m not sure we can do this effectively since there can be shared transitive dependencies?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-19 19:03</div>
            <div class="timeline-body"><p>I think it would still make sense. It seems useful?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-19 19:17</div>
            <div class="timeline-body"><p>What would we do? Treat it as <code>--upgrade-package &lt;name&gt;</code> for each direct dependency of the dependency group? Or infer allowed upgrades for all the transitive dependencies of the group too?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-19 19:17</div>
            <div class="timeline-body"><p>(I agree it seems useful)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-19 19:20</div>
            <div class="timeline-body"><p>I was thinking the former, sugar over <code>--upgrade-package</code> for everything in the group.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:51 UTC
    </footer>
</body>
</html>
