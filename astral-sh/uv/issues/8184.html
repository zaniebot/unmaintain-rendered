<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>If `pip install visidata` works, shouldn't `uvx visidata`? - astral-sh/uv #8184</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>If `pip install visidata` works, shouldn't `uvx visidata`?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8184">#8184</a>
        opened by <a href="https://github.com/reagle">@reagle</a>
        on 2024-10-14 18:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/reagle">@reagle</a> on 2024-10-14 18:59</div>
            <div class="timeline-body"><p>Hi, I'm new to uv, and the first thing I tested what if I can <a href="https://github.com/saulpw/visidata/issues/2560">use the visidata cli</a>.</p>
<pre><code>❯ uvx visidata
Traceback (most recent call last):
  File &quot;/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/bin/visidata&quot;, line 7, in &lt;module&gt;
    from visidata.main import vd_cli
  File &quot;/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/lib/python3.12/site-packages/visidata/__init__.py&quot;, line 157, in &lt;module&gt;
    importFeatures()
  File &quot;/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/lib/python3.12/site-packages/visidata/__init__.py&quot;, line 139, in importFeatures
    vd.importSubmodules('visidata.features')
  File &quot;/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/lib/python3.12/site-packages/visidata/settings.py&quot;, line 508, in importSubmodules
    vd.importModule(pkgname + '.' + module.name)
  File &quot;/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/lib/python3.12/site-packages/visidata/settings.py&quot;, line 491, in importModule
    r = importlib.import_module(pkgname)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/reagle/.pyenv/versions/3.12.7/lib/python3.12/importlib/__init__.py&quot;, line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/lib/python3.12/site-packages/visidata/features/errors_guide.py&quot;, line 1, in &lt;module&gt;
    from visidata import GuideSheet, vd
ImportError: cannot import name 'GuideSheet' from partially initialized module 'visidata' (most likely due to a circular import) (/Users/reagle/.cache/uv/archive-v0/M2Rslfs0mZFGrNRElBxLC/lib/python3.12/site-packages/visidata/__init__.py)
</code></pre>
<p>My system:</p>
<pre><code>macOS 14.6.1 23G93 arm64
❯ brin uv
==&gt; uv: stable 0.4.20 (bottled), HEAD
Extremely fast Python package installer and resolver, written in Rust
https://github.com/astral-sh/uv
Installed
/opt/homebrew/Cellar/uv/0.4.20 (17 files, 25MB) *
  Poured from bottle using the formulae.brew.sh API on 2024-10-14 at 08:09:14
From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/u/uv.rb
License: Apache-2.0 OR MIT
==&gt; Dependencies
Build: pkg-config ✔, rust ✔
==&gt; Options
--HEAD
	Install HEAD version
==&gt; Caveats
zsh completions have been installed to:
  /opt/homebrew/share/zsh/site-functions
==&gt; Analytics
install: 12,631 (30 days), 32,454 (90 days), 57,182 (365 days)
install-on-request: 11,833 (30 days), 29,824 (90 days), 52,612 (365 days)
build-error: 2 (30 days)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../saulpw/visidata/issues/2560.html">saulpw/visidata#2560</a> on 2024-10-14 19:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-14 20:01</div>
            <div class="timeline-body"><p>This looks like a problem with <code>pip</code> as well?</p>
<pre><code>❯ uv venv --seed
Using CPython 3.12.6
Creating virtual environment with seed packages at: .venv
 + pip==24.2
Activate with: source .venv/bin/activate
❯ source .venv/bin/activate
❯ pip install visidata
Collecting visidata
  Downloading visidata-3.1-py3-none-any.whl.metadata (5.3 kB)
Collecting python-dateutil (from visidata)
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting importlib-metadata&gt;=3.6 (from visidata)
  Downloading importlib_metadata-8.5.0-py3-none-any.whl.metadata (4.8 kB)
Collecting zipp&gt;=3.20 (from importlib-metadata&gt;=3.6-&gt;visidata)
  Downloading zipp-3.20.2-py3-none-any.whl.metadata (3.7 kB)
Collecting six&gt;=1.5 (from python-dateutil-&gt;visidata)
  Downloading six-1.16.0-py2.py3-none-any.whl.metadata (1.8 kB)
Downloading visidata-3.1-py3-none-any.whl (529 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 529.5/529.5 kB 6.9 MB/s eta 0:00:00
Downloading importlib_metadata-8.5.0-py3-none-any.whl (26 kB)
Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Using cached six-1.16.0-py2.py3-none-any.whl (11 kB)
Downloading zipp-3.20.2-py3-none-any.whl (9.2 kB)
Installing collected packages: zipp, six, python-dateutil, importlib-metadata, visidata
Successfully installed importlib-metadata-8.5.0 python-dateutil-2.9.0.post0 six-1.16.0 visidata-3.1 zipp-3.20.2
❯ visidata
Traceback (most recent call last):
  File &quot;/Users/zb/workspace/uv/.venv/bin/visidata&quot;, line 5, in &lt;module&gt;
    from visidata.main import vd_cli
  File &quot;/Users/zb/workspace/uv/.venv/lib/python3.12/site-packages/visidata/__init__.py&quot;, line 157, in &lt;module&gt;
    importFeatures()
  File &quot;/Users/zb/workspace/uv/.venv/lib/python3.12/site-packages/visidata/__init__.py&quot;, line 139, in importFeatures
    vd.importSubmodules('visidata.features')
  File &quot;/Users/zb/workspace/uv/.venv/lib/python3.12/site-packages/visidata/settings.py&quot;, line 508, in importSubmodules
    vd.importModule(pkgname + '.' + module.name)
  File &quot;/Users/zb/workspace/uv/.venv/lib/python3.12/site-packages/visidata/settings.py&quot;, line 491, in importModule
    r = importlib.import_module(pkgname)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/zb/.local/share/uv/python/cpython-3.12.6-macos-aarch64-none/lib/python3.12/importlib/__init__.py&quot;, line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/zb/workspace/uv/.venv/lib/python3.12/site-packages/visidata/features/errors_guide.py&quot;, line 1, in &lt;module&gt;
    from visidata import GuideSheet, vd
ImportError: cannot import name 'GuideSheet' from partially initialized module 'visidata' (most likely due to a circular import) (/Users/zb/workspace/uv/.venv/lib/python3.12/site-packages/visidata/__init__.py)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-10-14 20:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-14 20:02</div>
            <div class="timeline-body"><p>Seems like https://github.com/saulpw/visidata/issues/2561 https://github.com/saulpw/visidata/issues/2562</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/reagle">@reagle</a> on 2024-10-14 20:13</div>
            <div class="timeline-body"><p>Weird coincidence that visidata updated to 3.1 (with a problem) the day I try to experiment with uvx. Closing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @reagle on 2024-10-14 20:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:23 UTC
    </footer>
</body>
</html>
