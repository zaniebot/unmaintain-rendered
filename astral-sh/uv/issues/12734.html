<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dask scheduler unavailable with latest uv - astral-sh/uv #12734</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>dask scheduler unavailable with latest uv</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12734">#12734</a>
        opened by <a href="https://github.com/gavin74">@gavin74</a>
        on 2025-04-08 04:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gavin74">@gavin74</a></div>
            <div class="timeline-body">Summary
<p>Hi.
I&#x27;m really enjoying uv&#x27;s speed and ease of use.
I&#x27;d like to use it to improve a distributed project that uses dask.
However...</p>
<p>When I create a new environment with uv, then add dask, I cannot start the scheduler. dask scheduler is not found.
I tried this on Oracle Linux 9 and Mac OS 14.4.1. They fail in the same way.</p>
<p>I&#x27;m looking for some guidance on how to address this please.</p>
<p>Weirdly the only similar description I can find is <a href="https://github.com/dask/distributed/issues/7176">here</a>. It is from 2022 and says it is a conda specific issue.
I tried installing using uv pip install but unfortunately that did not work.
It works in a separate conda install (see below), more dask commands are supported in the conda install for some reason.</p>
Example:
<pre><code>
uv init mydask
cd mydask
uv add dask    
uv run dask scheduler
</code></pre>
<p>I get the output:
Usage: dask [OPTIONS] COMMAND [ARGS]...
Try &#x27;dask -h&#x27; for help.</p>
<p>Error: No such command &#x27;scheduler&#x27;.
mydask % uv run dask -h
Usage: dask [OPTIONS] COMMAND [ARGS]...</p>
<p>Dask command line interface.</p>
<p>Options:
--version   Show the version and exit.
-h, --help  Show this message and exit.</p>
<p>Commands:
config  Dask config settings
docs    Open Dask documentation (https://docs.dask.org/) in a web browser.
info    Information about your dask installation.</p>
<p>mydask % uv run dask --version
dask, version 2025.3.0</p>
<p>Note that the commands list is incomplete.
I noticed that dask-scheduler does not exist in .venv, only dask.</p>
Conda
<p>When I install using conda, dask scheduler works as expected + others commands are available.
I see dask-scheduler in the bin directory in the env, along with dask.<br>
Versions are exactly the same.:
dask_test % dask scheduler
2025-04-07 21:00:32,640 - distributed.scheduler - INFO - -----------------------------------------------
2025-04-07 21:00:33,025 - distributed.http.proxy - INFO - To route to workers diagnostics web server please install jupyter-server-proxy: python -m pip install jupyter-server-proxy
2025-04-07 21:00:33,038 - distributed.scheduler - INFO - State start
2025-04-07 21:00:33,040 - distributed.scheduler - INFO - -----------------
dask_test % dask<br>
Usage: dask [OPTIONS] COMMAND [ARGS]...</p>
<p>Dask command line interface.</p>
<p>Options:
--version   Show the version and exit.
-h, --help  Show this message and exit.</p>
<p>Commands:
config     Dask config settings
docs       Open Dask documentation (https://docs.dask.org/) in a web browser.
info       Information about your dask installation.
scheduler  Launch a Dask scheduler.
spec       Launch a Dask process defined by a JSON/YAML specification
ssh        Launch a Dask cluster over SSH.
worker     Launch a Dask worker attached to an existing scheduler</p>
<p>dask_test % dask --version
dask, version 2025.3.0</p>
Platform
<p>Darwin 23.4.0 arm64, Oracle Linux 9</p>
Version
<p>uv 0.6.13 (a0f5c7250 2025-04-07)</p>
Python version
<p>Python 3.10.10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/gavin74">@gavin74</a> on 2025-04-08 04:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-08 18:10</div>
            <div class="timeline-body"><p>I think per the &quot;Pip&quot; section at https://docs.dask.org/en/stable/install.html#how-to-install-dask you need to <code>uv add &#x27;dask[complete]&#x27;</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-08 18:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-08 18:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-08 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gavin74">@gavin74</a> on 2025-04-09 01:59</div>
            <div class="timeline-body"><p>That worked! Thank you. I appreciate the quick response.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/gavin74">@gavin74</a> on 2025-04-09 01:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:09 UTC
    </footer>
</body>
</html>
