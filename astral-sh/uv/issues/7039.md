```yaml
number: 7039
title: Allow virtual packages inside of workspaces
type: issue
state: closed
author: quodlibetor
labels:
  - question
assignees: []
created_at: 2024-09-04T17:34:44Z
updated_at: 2024-09-04T18:43:11Z
url: https://github.com/astral-sh/uv/issues/7039
synced_at: 2026-01-10T01:57:15Z
```

# Allow virtual packages inside of workspaces

---

_Issue opened by @quodlibetor on 2024-09-04 17:34_

I have several directories that hold static data that just exists to be fed into some tool defined elsewhere -- documentation, source definitions for codegen, etc.

AFAICT there are two options for virtual packages both of which have some downsides. Not sure if there are better patterns or I'm missing something obvious.

1. add tools as dev-dependencies in the root workspace

    - exactly which directories require which dev dependencies isn't obvious from the pyproject.toml file.
    - ci or users that needs to do anything also needs to install everything else in the root dev-dependencies.

2. create several virtual packages (workspace roots)

    - dependencies aren't guaranteed to be in sync
    - the root workspace.members list doesn't include the virtual packages

This is related to #4025 and https://github.com/astral-sh/rye/discussions/1342#discussioncomment-10400593

Thanks for great tools! Love the focus and design y'all have.

---

_Comment by @zanieb on 2024-09-04 17:37_

I think @charliermarsh has the most context on this.

Glad you're enjoying the tools :)

---

_Comment by @charliermarsh on 2024-09-04 18:11_

You can create a `pyproject.toml` in each of those directories and then add them as normal dependencies (rather than dev dependencies), which should work fine as long as you omit a `[build-system]` from the `pyproject.toml`.

---

_Label `question` added by @charliermarsh on 2024-09-04 18:11_

---

_Comment by @zanieb on 2024-09-04 18:12_

See https://docs.astral.sh/uv/concepts/projects/#build-systems for more details on that.

---

_Comment by @quodlibetor on 2024-09-04 18:31_

That makes sense! I read through that page but didn't process it correctly.

FWIW I think that if that page had a "Virtual projects" or "Dependency only projects" section I ... may ... have figured this out on my own.

- Creating projects
    - Applications
    - Libraries
    - Packaged applications
    - Dependency only projects <--

---

_Closed by @quodlibetor on 2024-09-04 18:31_

---

_Comment by @quodlibetor on 2024-09-04 18:38_

oh wow I entirely missed the [0.4 release](https://github.com/astral-sh/uv/releases/tag/0.4.0) which clearly defines all this ðŸ¤¦ , congrats on it!

---

_Comment by @zanieb on 2024-09-04 18:43_

Thanks :D no problem.

---
