<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is it necessary to have project's version baked into the lockfile - astral-sh/uv #13604</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Is it necessary to have project's version baked into the lockfile</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13604">#13604</a>
        opened by <a href="https://github.com/ggydush">@ggydush</a>
        on 2025-05-22 21:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ggydush">@ggydush</a> on 2025-05-22 21:20</div>
            <div class="timeline-body"><h3>Question</h3>
<p>We experienced this <a href="https://github.com/astral-sh/uv/pull/13317">issue</a> a few days ago, which was promptly resolved. Thinking about this more, I'm wondering what the point of having the local package's version included in the lockfile. This prevents Docker from being able to cache all of the dependency layers when the package version changes. Poetry takes a different approach (changes to local package version do not change lockfile), so I was curious what your thoughts were on this.</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ggydush on 2025-05-22 21:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-28 14:59</div>
            <div class="timeline-body"><p>Unlike poetry, our approach allows installing from the lockfile alone (with <code>--frozen</code>), while poetry need <code>pyproject.toml</code> to use its lockfile. Usually, the project version doesn't change often, so the cache is still used most of the time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-04 02:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:06 UTC
    </footer>
</body>
</html>
