<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>--extra-index-url failing when package not in --index-url (polygraphy 0.47.1) - astral-sh/uv #1600</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>--extra-index-url failing when package not in --index-url (polygraphy 0.47.1)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1600">#1600</a>
        opened by <a href="https://github.com/kafonek">@kafonek</a>
        on 2024-02-17 16:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kafonek">@kafonek</a> on 2024-02-17 16:53</div>
            <div class="timeline-body"><p><code>polygraphy==0.47.1</code> is present on the nvidia package index but not regular PyPI. On <code>uv</code> 0.1.3, I can <code>uv pip install polygraphy==0.47.1 --index-url https://pypi.ngc.nvidia.com</code> but not <code>uv pip install polygraphy==0.47.1 --extra-index-url https://pypi.ngc.nvidia.com</code>.</p>
<p>I realize this is very similar to https://github.com/astral-sh/uv/issues/1377 but the discussion in that ticket seemed to be more about priority of indices to install from than an absence of checking the extra index url.</p>
<p>Verbose output below -</p>
<pre><code>❯ uv pip install polygraphy==0.47.1 --extra-index-url https://pypi.ngc.nvidia.com -v
 uv::requirements::from_source source=polygraphy==0.47.1
    0.006585s DEBUG uv_interpreter::virtual_env Found a virtualenv named .venv at: /home/kafonek/scratch/.venv
    0.006640s DEBUG uv_interpreter::interpreter Detecting markers for: /home/kafonek/scratch/.venv/bin/python
    0.032748s DEBUG uv::commands::pip_install Using Python 3.10.12 environment at /home/kafonek/scratch/.venv/bin/python
 uv_client::flat_index::from_entries
 uv_resolver::resolver::solve
      0.039637s   0ms DEBUG uv_resolver::resolver Solving with target Python version 3.10.12
   uv_resolver::resolver::choose_version package=root
   uv_resolver::resolver::get_dependencies package=root, version=0a0.dev0
        0.039680s   0ms DEBUG uv_resolver::resolver Adding direct dependency: polygraphy==0.47.1
   uv_resolver::resolver::choose_version package=polygraphy
     uv_resolver::resolver::package_wait package_name=polygraphy
 uv_resolver::resolver::process_request request=Versions polygraphy
   uv_client::registry_client::simple_api package=polygraphy
     uv_client::cached_client::get_cacheable
       uv_client::cached_client::read_and_parse_cache file=/home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv
 uv_resolver::resolver::process_request request=Prefetch polygraphy ==0.47.1
          0.045662s   5ms  WARN uv_client::cached_client Broken cache entry at /home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv, removing: failed to open file `/home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv`
          0.045932s   6ms DEBUG uv_client::cached_client No cache entry for: https://pypi.org/simple/polygraphy/
       uv_client::cached_client::fresh_request url=&quot;https://pypi.org/simple/polygraphy/&quot;
       uv_client::cached_client::new_cache file=/home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv
       uv_client::registry_client::parse_simple_api package=polygraphy
 uv_resolver::version_map::from_metadata
        0.093293s  53ms DEBUG uv_resolver::resolver Searching for a compatible version of polygraphy (==0.47.1)
      0.093341s  53ms DEBUG uv_resolver::resolver No compatible version found for: polygraphy
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of polygraphy==0.47.1 and you require polygraphy==0.47.1, we can conclude that the requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-02-17 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">index</span> added by @zanieb on 2024-02-17 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/exs-avianello">@exs-avianello</a> on 2024-02-17 21:06</div>
            <div class="timeline-body"><p>I think that this is the same as observed in https://github.com/astral-sh/uv/issues/1451</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kafonek">@kafonek</a> on 2024-02-17 21:46</div>
            <div class="timeline-body"><p>Ah, I glanced at your ticket and ducked out after seeing the timeout. I think you're right that it's the same thing. At least this is another example to test with.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kafonek on 2024-02-17 21:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1451.html">astral-sh/uv#1451</a> on 2024-02-17 21:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-02-18 06:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-02-18 06:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/171.html">astral-sh/uv#171</a> on 2024-02-29 12:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2083.html">astral-sh/uv#2083</a> on 2024-02-29 15:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-02-29 16:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2159.html">astral-sh/uv#2159</a> on 2024-03-04 17:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2205.html">astral-sh/uv#2205</a> on 2024-03-05 16:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2542.html">astral-sh/uv#2542</a> on 2024-03-19 17:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2718.html">astral-sh/uv#2718</a> on 2024-03-28 19:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:22 UTC
    </footer>
</body>
</html>
