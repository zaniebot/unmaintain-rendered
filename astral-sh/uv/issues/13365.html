<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command that only downloads deps to the cache - astral-sh/uv #13365</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Command that only downloads deps to the cache</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/13365">#13365</a>
        opened by <a href="https://github.com/nordewal">@nordewal</a>
        on 2025-05-09 11:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nordewal">@nordewal</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p><strong>Feature request</strong>
Add a command (argument) that directs uv to only download the project dependencies into the uv cache without actually installing them into the venv.</p>
<p><strong>Context</strong></p>
<p>While <code>uv sync</code> is ultra fast compared to other package managers, it is still a step that takes considerable time in our CI jobs. To speed it up, we are sharing the uv cache between runs on the same CI node.
To save cost, we turn off most nodes during the night when they are not used. In the morning we then first run a job that runs <code>uv sync</code> on all Python projects. Running this on each node warms up the cache for the CI jobs during the day.</p>
<p>However, <code>uv sync</code> to warm up the cache does more than necessary. It also installs the dependencies in the venv and builds the dependencies that only come as sdists. It would be great if we could direct uv to skip those (in this case) unnecessary steps.</p>
<p>Thank you for the work on uv - it is a great tool!</p>
<h3>Example</h3>
<p>The following would only download and extract the project dependencies into the uv cache directory. It would not create/modify the virtual environment:</p>
<pre><code class="language-sh">uv sync --no-install
</code></pre>
<p>or</p>
<pre><code class="language-sh">uv download
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @nordewal on 2025-05-09 11:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:31:16 UTC
    </footer>
</body>
</html>
