<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document recommended way to install uv in a Dockerfile - astral-sh/uv #11503</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Document recommended way to install uv in a Dockerfile</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11503">#11503</a>
        opened by <a href="https://github.com/snickell">@snickell</a>
        on 2025-02-14 07:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/snickell">@snickell</a></div>
            <div class="timeline-body">Summary
<p>Its great when projects document the recommended, and thus stable and not-changing way to do &quot;install project in Dockerfile&quot;, maybe UV could do so?</p>
<p>In many cases, particularly when building Dockerfiles, you&#x27;d like to do a &quot;system install&quot;, typically to /usr/local. It&#x27;d be great to document the recommended way to install &quot;system-wide&quot; in a docker image, this is something people will often be doing, and having to figure out the best way will result in unnecessary diversity of approaches.</p>
Example
<p>I use this in my Dockerfiles:</p>
<pre><code>curl -LsSf https://astral.sh/uv/0.5.18/install.sh | XDG_BIN_HOME=/usr/local/bin UV_NO_MODIFY_PATH=1 sh
</code></pre>
<p>UV&#x27;s install.sh script is oriented toward installing as the current user, and thus:</p>
<ol>
<li>Defaults its install location to XDG_BIN_HOME, which is usually in $HOME</li>
<li>Modifies the $PATH by messing with shell initialization scripts in $HOME</li>
</ol>
<p>Another alternative approach people might use in Dockerfiles is to download static binaries directly from https://github.com/astral-sh/uv/releases/download/ and copy them directly into /usr/local. This is actually non-trivial in a Dockerfile context if you&#x27;d like have the Dockerfile be cross-arch, notably these days supporting both x86_64 and arm64. There are multiple competing ways of describing arch strings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/snickell">@snickell</a> on 2025-02-14 07:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Document how to do a &quot;system install&quot; of uv, for Dockerfiles in particular&quot; to &quot;Document how &quot;system install&quot; uv in a Dockerfile&quot; by <a href="https://github.com/snickell">@snickell</a> on 2025-02-14 07:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Document how &quot;system install&quot; uv in a Dockerfile&quot; to &quot;Document recommended way to install uv in a Dockerfile&quot; by <a href="https://github.com/snickell">@snickell</a> on 2025-02-14 07:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 13:16</div>
            <div class="timeline-body"><p>This is thoroughly documented in https://docs.astral.sh/uv/guides/integration/docker/</p>
<p>Is something missing there?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-14 13:17</div>
            <div class="timeline-body"><p>This is also linked from our installation page https://docs.astral.sh/uv/getting-started/installation/#docker</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/porn">@porn</a> on 2025-05-19 11:55</div>
            <div class="timeline-body"><p>Usage in Dockerfiles is documented well.</p>
<p>However, the solution in the issue description is perfect, e.g., for the <a href="https://www.packer.io">packer</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by <a href="https://github.com/konstin">@konstin</a> on 2025-05-19 12:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-19 12:22</div>
            <div class="timeline-body"><p>There is also <code>UV_INSTALL_DIR</code> for the install script, otherwise I think this has been answered.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2025-05-19 12:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:18 UTC
    </footer>
</body>
</html>
