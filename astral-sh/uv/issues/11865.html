<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug Report: uv sync Fails to Install PyQt5 on Windows - astral-sh/uv #11865</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Bug Report: uv sync Fails to Install PyQt5 on Windows</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/11865">#11865</a>
        opened by <a href="https://github.com/emdezla">@emdezla</a>
        on 2025-02-28 21:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/emdezla">@emdezla</a> on 2025-02-28 21:02</div>
            <div class="timeline-body"><h3>Summary</h3>
<h2><strong>Description</strong></h2>
<p><code>uv sync</code> fails to install <code>PyQt5-Qt5</code>, showing an error that no compatible distribution is available for Windows (<code>win_amd64</code>). However, <code>pip install PyQt5</code> works fine.</p>
<h2><strong>Steps to Reproduce</strong></h2>
<ol>
<li>Add <code>PyQt5</code> dependencies in <code>pyproject.toml</code>:<pre><code class="language-toml">dependencies = [
    &quot;PyQt5==5.15.11&quot;,
    &quot;PyQt5-Qt5==5.15.2&quot;,
    &quot;PyQt5-sip==12.17.0&quot;
]
</code></pre>
</li>
<li>Run:<pre><code class="language-sh">uv sync
</code></pre>
</li>
<li>The installation fails with the error:<pre><code>error: Distribution `pyqt5-qt5==5.15.16` can't be installed because it doesn't have a source distribution or wheel for the current platform
</code></pre>
</li>
</ol>
<h2><strong>Expected Behavior</strong></h2>
<p><code>uv sync</code> should install <code>PyQt5</code> properly, like <code>pip install PyQt5</code>.</p>
<h2><strong>Actual Behavior</strong></h2>
<p><code>uv</code> fails, claiming no compatible Windows wheels exist. Moreover, it is picking up a different version that the one described in pyproject.toml. However, <code>pip install PyQt5</code> works fine:</p>
<pre><code class="language-sh">pip install PyQt5
Successfully installed PyQt5-Qt5-5.15.2 PyQt5-sip-12.17.0 PyQt5-5.15.11
</code></pre>
<h3>Platform</h3>
<p>win_amd64</p>
<h3>Version</h3>
<p>uv 0.5.24</p>
<h3>Python version</h3>
<p>3.13.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @emdezla on 2025-02-28 21:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-28 21:04</div>
            <div class="timeline-body"><p>You're 100% sure that your <code>pyproject.toml</code> contains <code>PyQt5-Qt5==5.15.2</code>? I would be super surprised (and can't reproduce) if we were showing an error about <code>pyqt5-qt5==5.15.16</code> in that case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-03-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @charliermarsh on 2025-03-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-15 01:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-15 01:02</div>
            <div class="timeline-body"><p>Closing due to lack of follow-up, but happy to re-open with an MRE!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/petebachant">@petebachant</a> on 2025-04-09 16:27</div>
            <div class="timeline-body"><p>Encountered a similar issue when running <code>uv add pyqt5</code> on Windows. Running <code>uv venv</code> and pip installing in there works fine.</p>
<p><img width="597" alt="Image" src="https://github.com/user-attachments/assets/e12a3851-f7e0-4125-ba1d-cfc1ee294667" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-09 16:28</div>
            <div class="timeline-body"><p>Have you read https://docs.astral.sh/uv/concepts/resolution/#required-environments?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/petebachant">@petebachant</a> on 2025-04-09 17:48</div>
            <div class="timeline-body"><p>My project only needs to be able to run on <code>win32</code>, so I tried adding that as an environment and required environment, with no change. What did work, however, was to specify the versions that pip solved for:</p>
<pre><code>uv add pyqt5==5.15.11 pyqt5-qt5==5.15.2
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jpmorr">@jpmorr</a> on 2025-07-31 20:50</div>
            <div class="timeline-body"><p>@charliermarsh I think this needs re-opening. qt is a pain and this fails for me:</p>
<pre><code class="language-powershell">uv add --dev pyqt5
Resolved 110 packages in 1.55s
error: Distribution `pyqt5-qt5==5.15.17 @ registry+https://pypi.org/simple` can't be installed because it doesn't have a source distribution or wheel for the current platform

hint: You're on Windows (`win_amd64`), but `pyqt5-qt5` (v5.15.17) only has wheels for the following platforms: `manylinux2014_x86_64`, `macosx_10_13_x86_64`, `macosx_11_0_arm64`; consider adding your platform to `tool.uv.required-environments` to ensure uv resolves to a version with compatible wheels 
</code></pre>
<p>This is in my <code>pyproject.toml</code>:</p>
<pre><code class="language-toml">[tool.uv]
required-environments = [
    &quot;sys_platform == 'linux'&quot;,
    &quot;sys_platform == 'win32'&quot;,
]
</code></pre>
<p>Only by using the specific versions mentioned by @petebachant did I manage to get pyqt5 installed and working. This works:</p>
<pre><code class="language-powershell">uv add --dev pyqt5==5.15.11 pyqt5-qt5==5.15.2
Resolved 109 packages in 1.31s
Prepared 2 packages in 335ms
Uninstalled 1 package in 5ms
Installed 3 packages in 887ms
 + pyqt5==5.15.11
 + pyqt5-qt5==5.15.2
 + pyqt5-sip==12.17.0

</code></pre>
<p>I would assume that uv should resolve the correct packages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-31 20:59</div>
            <div class="timeline-body"><p>Sorry about that, but I don't think we'll re-open this. It's really a problem with the package itself if they're only publishing wheels for select platforms on select versions. Requiring that all packages have wheels for all platforms would lead to an intractable problem, which is why we require user input to inform of us of the required platforms.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jpmorr">@jpmorr</a> on 2025-08-01 12:24</div>
            <div class="timeline-body"><p>Ok, thanks for the update. <code>pip</code> seems to figure this out so I guess in this case I could/should be using <code>uv pip install</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-01 13:53</div>
            <div class="timeline-body"><p>pip is only performing a resolution for your single platform, while the uv lockfile solves for all platforms so your lockfile is portable across machines. See https://docs.astral.sh/uv/concepts/resolution/#platform-specific-resolution</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> removed by @konstin on 2025-08-21 17:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15421.html">astral-sh/uv#15421</a> on 2025-08-21 17:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../xiaofeiyu0723/ExVR/pulls/40.html">xiaofeiyu0723/ExVR#40</a> on 2025-10-15 05:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../neuroinformatics-unit/movement/pulls/683.html">neuroinformatics-unit/movement#683</a> on 2025-10-29 20:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:26 UTC
    </footer>
</body>
</html>
