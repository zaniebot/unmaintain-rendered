<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confused about updating packages - astral-sh/uv #11973</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Confused about updating packages</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11973">#11973</a>
        opened by <a href="https://github.com/lucharo">@lucharo</a>
        on 2025-03-05 09:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lucharo">@lucharo</a> on 2025-03-05 09:15</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hi, the other day I was working on my project, managed by uv. I wanted to upgrade my polars version to the latest version. I ran <code>uv add -U polars</code> from a folder not in the root of my project (so <code>pyproject.toml</code>) wasn't in that folder, the environment updated succesfully but the changes weren't reflected in my <code>pyproject.toml</code>). I then navigated to the root of the project and ran the same command again, still nothing happened. Then I ran <code>uv add &quot;polars==1.24.0&quot;</code> and finally the <code>pyproject.toml</code>, is this expected?</p>
<p>I would have assumed that <code>uv add -U polars</code> would have updated my environment and my <code>pyproject.toml</code> from wherever it had been executed.</p>
<h3>Platform</h3>
<p>Darwin 24.3.0 arm64</p>
<h3>Version</h3>
<p>uv 0.5.4 (c62c83c37 2024-11-20)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @lucharo on 2025-03-05 09:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-05 19:03</div>
            <div class="timeline-body"><p>Sounds like you're looking for https://github.com/astral-sh/uv/issues/6794</p>
<p>It does sound reasonable to bump the lower bound in <code>uv add -U polars</code> though ðŸ¤”</p>
<p>cc @konstin</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sglbl">@sglbl</a> on 2025-03-10 16:41</div>
            <div class="timeline-body"><p>Related <a href="https://github.com/astral-sh/uv/issues/11509">11509</a> . I agree and I thought the same thing that this already existed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-03-10 21:56</div>
            <div class="timeline-body"><p>Agreed that this is unintuitive.</p>
<p>For context, this is currently happening because we treat <code>--upgrade</code> as a (basically global) lockfile-only option, so <code>uv add --upgrade foo</code> says &quot;add foo to pyproject.toml (if it doesn't exist) and update the versions in the lockfile&quot; instead of the expected &quot;add <em>the latest lower bound</em> of foo to pyproject.toml and update the versions in the lockfile&quot;.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
