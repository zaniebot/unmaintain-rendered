<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a hint to use `extra-build-dependencies` when a build fails with a missing package - astral-sh/uv #15118</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Add a hint to use `extra-build-dependencies` when a build fails with a missing package</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15118">#15118</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-08-06 20:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-06 20:54</div>
            <div class="timeline-body"><p>e.g., see https://github.com/astral-sh/uv/issues/15039#issuecomment-3161503863</p>
<p>We should add an automatic hint here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @zanieb on 2025-08-06 20:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2025-08-06 20:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2025-08-10 11:20</div>
            <div class="timeline-body"><p>We have a similar hint already for <code>torch</code>, <code>wheel</code>, and <code>distutils</code> <a href="https://github.com/astral-sh/uv/blob/ed499d7453e5202a269abbf1507cb8cba3c6ee54/crates/uv-build-frontend/src/error.rs#L45-L55">here</a>. The regex didn't catch the error message from deepspeed.</p>
<p>Should we update the existing <a href="https://github.com/astral-sh/uv/blob/ed499d7453e5202a269abbf1507cb8cba3c6ee54/crates/uv-build-frontend/src/error.rs#L579">hint</a> to use <code>extra-build-dependencies</code> instead?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-10 16:22</div>
            <div class="timeline-body"><p>Sounds good to me. We should include <code>pip</code> and <code>setuptools</code>? I'm unsure if we should just always hint on module not found instead of having a subset of libraries?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2025-08-11 15:42</div>
            <div class="timeline-body"><blockquote>
<p>I'm unsure if we should just always hint on module not found instead of having a subset of libraries?</p>
</blockquote>
<p>Do we have a list of libraries for this? ðŸ¤”</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-11 15:45</div>
            <div class="timeline-body"><p>Like a mapping of library -&gt; package?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2025-08-11 15:51</div>
            <div class="timeline-body"><p>Yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-11 16:21</div>
            <div class="timeline-body"><p>We could pick it out of https://github.com/astral-sh/uv/pull/14579</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15251.html">astral-sh/uv#15251</a> on 2025-08-13 15:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15252.html">astral-sh/uv#15252</a> on 2025-08-13 16:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2025-08-20 09:28</div>
            <div class="timeline-body"><p>This can be closed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-08-20 09:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
