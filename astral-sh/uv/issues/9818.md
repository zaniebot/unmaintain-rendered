```yaml
number: 9818
title: "`/` is mistaken for prefix of local installation"
type: issue
state: closed
author: konstin
labels:
  - bug
assignees: []
created_at: 2024-12-11T17:34:34Z
updated_at: 2024-12-11T19:59:49Z
url: https://github.com/astral-sh/uv/issues/9818
synced_at: 2026-01-10T01:57:22Z
```

# `/` is mistaken for prefix of local installation

---

_Issue opened by @konstin on 2024-12-11 17:34_

On my ubuntu 24.04, i have the system default python 3.12 installed (`sudo apt install python3.12`). This installation comes with a `/lib/python3.12/os.py`, and also the uv test pythons (`uv python install` in the project root). This can break the uv test suite: The test python 3.12 is in `/home/konsti/.local/share/uv/tests/.tmpyikuSY/python/3.12/python3`, which we mistake as a base python, because `/` fulfills `is_prefix` in `find_base_python`. Since this is not the correct home for that python, tests trying to run it fail with the wrong PYTHONHOME error (`ModuleNotFoundError: No module named 'encodings'`).

---

_Label `bug` added by @konstin on 2024-12-11 17:34_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-12-11 17:44_

---

_Referenced in [astral-sh/uv#9823](../../astral-sh/uv/pulls/9823.md) on 2024-12-11 19:45_

---

_Closed by @charliermarsh on 2024-12-11 19:59_

---

_Closed by @charliermarsh on 2024-12-11 19:59_

---
