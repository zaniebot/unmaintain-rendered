<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Export extras from uv export - astral-sh/uv #12072</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Export extras from uv export</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12072">#12072</a>
        opened by <a href="https://github.com/kuza55">@kuza55</a>
        on 2025-03-09 03:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kuza55">@kuza55</a></div>
            <div class="timeline-body">Summary
<p>Hi,</p>
<p>I am trying to use uv in combination with <a href="https://github.com/pantsbuild/pants">pants</a></p>
<p>I am exporting the uv requirements to a requirements.txt for consumption by pants.</p>
<p>It seems like uv doesn&#x27;t export extras, which leads to some problems in later requirements inference, so I was hoping uv could emit these extras.</p>
<p>The command I am running is</p>
<pre><code>pants uv export --all-packages --format requirements-txt &gt; requirements.txt
</code></pre>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/kuza55">@kuza55</a> on 2025-03-09 03:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-09 15:02</div>
            <div class="timeline-body"><p>You can include extras with flags like â€”all-extras.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-09 15:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-09 15:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kuza55">@kuza55</a> on 2025-03-09 17:40</div>
            <div class="timeline-body"><p>I tried --all-extras and it doesn&#x27;t do what I want.</p>
<p>Specifically, if my pyproject.toml has &quot;fakeredis[lua,json]&quot; in the dependencies, I want the uv export output to say &quot;fakeredis[lua,json]==2.27.0 ...&quot;.</p>
<p>--all-extras does not seem to do this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-09 17:41</div>
            <div class="timeline-body"><p>No, we don&#x27;t support that in the <code>uv export</code> interface. Why do you need it, though? There is no semantic difference.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kuza55">@kuza55</a> on 2025-03-09 18:46</div>
            <div class="timeline-body"><p>I was trying to wire this up to pants (a build system for monorepos) that subsets lockfiles to only bring in the deps that are needed for a given binary, so pants needed to know there was a dependency between the fakeredis and the json extras, rather than the json extras being extraneous.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/michael-pplx">@michael-pplx</a> on 2025-07-20 23:22</div>
            <div class="timeline-body"><p>I&#x27;ve encountered the same limitation with Bazel as well. I can achieve what I need using <code>uv pip compile</code>, but it is way slower and I&#x27;d like for this to be able run in a pre-push hook.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bolinocroustibat">@bolinocroustibat</a> on 2025-09-04 14:33</div>
            <div class="timeline-body"><p><code>pylock.toml</code> <a href="https://packaging.python.org/en/latest/specifications/pylock-toml/">has extras and dependency groups</a>, it would be great if we could also export the groups in <code>uv.lock</code> to <code>pylock.toml</code>.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:42 UTC
    </footer>
</body>
</html>
