<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv sync` issue `Build backend failed to build editable through build_editable()` - astral-sh/uv #7057</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv sync` issue `Build backend failed to build editable through build_editable()`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7057">#7057</a>
        opened by <a href="https://github.com/sbdchd">@sbdchd</a>
        on 2024-09-05 00:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sbdchd">@sbdchd</a> on 2024-09-05 00:19</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>platform: macOS m1
uv version: <code>uv 0.4.5 (42b6bfbad 2024-09-04)</code></p>
<p>error:</p>
<pre><code>‚ùØ uv sync       
Resolved 143 packages in 2ms
error: Failed to prepare distributions
  Caused by: Failed to fetch wheel: backend @ file:///Users/steve/projects/recipeyak/backend
  Caused by: Build backend failed to build editable through `build_editable()` with exit status: 1
--- stdout:

--- stderr:
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 11, in &lt;module&gt;
  File &quot;/Users/steve/.cache/uv/builds-v0/.tmp0olTuB/lib/python3.11/site-packages/hatchling/build.py&quot;, line 83, in build_editable
    return os.path.basename(next(builder.build(directory=wheel_directory, versions=['editable'])))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/steve/.cache/uv/builds-v0/.tmp0olTuB/lib/python3.11/site-packages/hatchling/builders/plugin/interface.py&quot;, line 90, in build
    self.metadata.validate_fields()
  File &quot;/Users/steve/.cache/uv/builds-v0/.tmp0olTuB/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 266, in validate_fields
    self.core.validate_fields()
  File &quot;/Users/steve/.cache/uv/builds-v0/.tmp0olTuB/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 1376, in validate_fields
    getattr(self, attribute)
  File &quot;/Users/steve/.cache/uv/builds-v0/.tmp0olTuB/lib/python3.11/site-packages/hatchling/metadata/core.py&quot;, line 833, in authors
    raise TypeError(message)
TypeError: Author #1 of field `project.authors` must be an inline table
---
</code></pre>
<p>pyproject.toml:</p>
<pre><code>[project]
name = &quot;backend&quot;
version = &quot;0.1.0&quot;
description = &quot;&quot;
authors = [&quot;foo&quot;, &quot;bar&quot;]

requires-python = &quot;&gt;=3.10&quot;
dependencies = [
    &quot;django~=3.2.9&quot;,
    &quot;dj-database-url==0.4.2&quot;,
    &quot;gunicorn==20.1.0&quot;,
    &quot;django-user-sessions~=1.6&quot;,
    &quot;python-dotenv==0.21.0&quot;,
    &quot;djangorestframework-types~=0.2.0&quot;,
    &quot;orjson==3.8.1&quot;,
    &quot;psycopg2-binary~=2.9.3&quot;,
    &quot;boto3~=1.24.44&quot;,
    &quot;yarl~=1.8.1&quot;,
    &quot;advocate~=1.0.0&quot;,
    &quot;pillow~=9.3.0&quot;,
    &quot;httpx~=0.23.1&quot;,
    &quot;asyncpg~=0.27.0&quot;,
    &quot;asyncpg-stubs~=0.27.0&quot;,
    &quot;typer~=0.7.0&quot;,
    &quot;structlog~=22.3.0&quot;,
    &quot;types-pillow~=9.3.0&quot;,
    &quot;pillow-heif~=0.9.0&quot;,
    &quot;tldextract~=3.4.0&quot;,
    &quot;sentry-sdk~=1.35.0&quot;,
    &quot;ably~=2.0.1&quot;,
    &quot;recipe-scrapers~=14.52.0&quot;,
    &quot;algoliasearch~=3.0.0&quot;,
    &quot;async-timeout~=4.0.3&quot;,
    &quot;aiohttp~=3.9.1&quot;,
    &quot;ruamel-yaml~=0.18.5&quot;,
    &quot;pydantic-settings~=2.1.0&quot;,
    &quot;jsonref~=1.1.0&quot;,
    &quot;pywatchman~=2.0.0&quot;,
    &quot;pydantic[email]~=2.5.3&quot;,
]

[tool.uv]
dev-dependencies = [
    &quot;pytest==7.2.0&quot;,
    &quot;pytest-django==4.5.2&quot;,
    &quot;ipdb~=0.13.9&quot;,
    &quot;django-types~=0.19.1&quot;,
    &quot;types-pyyaml~=6.0.0&quot;,
    &quot;types-requests~=2.25.11&quot;,
    &quot;syrupy~=3.0.5&quot;,
    &quot;types-urllib3~=1.26.23&quot;,
    &quot;types-dj-database-url~=1.0.0&quot;,
    &quot;mypy~=1.7.0&quot;,
    &quot;bpython~=0.24&quot;,
    &quot;ruff~=0.3.5&quot;,
    &quot;pytest-xdist~=3.5.0&quot;,
    &quot;boto3-stubs[s3]~=1.24.44&quot;,
]

[tool.ruff]
src = [&quot;recipeyak&quot;]
target-version = &quot;py311&quot;

[tool.ruff.lint]
select = [
    &quot;E&quot;,
    &quot;F&quot;,
    &quot;TID252&quot;,
    &quot;I001&quot;,
    &quot;T20&quot;,
    &quot;C4&quot;,
    &quot;UP&quot;,
    &quot;N&quot;,
    &quot;BLE&quot;,
    &quot;B&quot;,
    &quot;RET&quot;,
    &quot;SIM&quot;,
    &quot;ARG&quot;,
    &quot;DTZ&quot;,
    &quot;ERA&quot;,
    &quot;PTH&quot;,
    &quot;TCH&quot;,
    &quot;PYI&quot;,
    &quot;PT&quot;,
    &quot;INP001&quot;,
    &quot;T100&quot;,
    &quot;PGH003&quot;,
    &quot;RUF&quot;,
]
ignore = [
    &quot;E501&quot;, # line length is handled by black
    &quot;ARG001&quot;, # pytest fixtures mess with this
    &quot;ARG002&quot;, # sometimes parent classes require params
    &quot;N806&quot;, # django migrations violate this a lot
    &quot;B008&quot;, # type.Argument violates this
    &quot;N815&quot;, # we mix and match casing in serializers
    &quot;ARG005&quot;, # monkey patching false positive with *args, and **kwargs
    &quot;N805&quot;, # false positive with pydantic
    &quot;N802&quot;, # DRF serializers mess with this
    &quot;RET505&quot;, # if, elif, else are fine with returns
    &quot;RET507&quot;, # if, elif, else with continue is also fine
    &quot;RET508&quot;, # if, elif, else with break is also fine
    &quot;TCH003&quot;, # not until autofixable
    &quot;TCH002&quot;, # not until autofixable
    &quot;TCH001&quot;, # not until autofixable
    &quot;PT004&quot;, # makes the function appear unused to pyright
]
unfixable = [&quot;ERA001&quot;] # we want to check ourselves before we delete commented out code. Also this doesn't cleanup all of it.

[tool.ruff.lint.per-file-ignores]
&quot;recipeyak/migrations/*&quot; = [
    # it's very common to use class vars in Django migrations.
    &quot;RUF012&quot;,
]

[tool.ruff.lint.flake8-pytest-style]
fixture-parentheses = false

[tool.ruff.lint.isort]
known-third-party = [&quot;django&quot;]
known-first-party = [&quot;recipeyak&quot;]

[tool.ruff.lint.flake8-tidy-imports]
# Disallow all relative imports.
ban-relative-imports = &quot;all&quot;

[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = &quot;recipeyak.django.settings&quot;
python_files = &quot;*_test.py *_tests.py&quot;
addopts = &quot;-s --pdbcls IPython.terminal.debugger:TerminalPdb --reuse-db -p no:warnings -p no:pastebin -p no:nose -p no:doctest -p no:freeze_support -p no:stepwise -p no:python_path -p no:setuponly -p no:setupplan -p no:legacypath-tmpdir -p no:unittest&quot;
testpaths = &quot;recipeyak&quot;


[tool.mypy]
mypy_path = &quot;./typings&quot;
files = [&quot;**/*.py&quot;]

show_column_numbers = true
show_error_codes = true

disallow_any_unimported=false
disallow_any_expr=false
disallow_any_decorated=false
disallow_any_explicit=false
disallow_any_generics=true
disallow_subclassing_any=false

disallow_untyped_calls=false
disallow_untyped_defs=true
disallow_incomplete_defs=true
check_untyped_defs=true
disallow_untyped_decorators=true

no_implicit_optional=true
strict_optional=true

warn_redundant_casts=true
warn_unused_ignores=true
warn_no_return=true
warn_return_any=true
# doesn't consider how methods can change the value of properties
warn_unreachable=false

strict_equality=true

ignore_missing_imports=false

plugins = [
  &quot;pydantic.mypy&quot;
]

[[tool.mypy.overrides]]
module = [
    'icalendar.*',
    'advocate.*',
    'user_sessions.*',
    'ably.*',
    'ruamel.*'
]
ignore_missing_imports = true

[tool.pydantic-mypy]
init_forbid_extra = true
init_typed = true
warn_required_dynamic_aliases = true
warn_untyped_fields = true

[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 00:22</div>
            <div class="timeline-body"><p>It looks like this comes from Hatchling. I think it's correct per the spec?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-09-05 00:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbdchd">@sbdchd</a> on 2024-09-05 00:34</div>
            <div class="timeline-body"><p>ah I thought it was related to upgrading from 0.3.3 but checked it out on that version and it's broken there too, oops!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sbdchd on 2024-09-05 00:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbdchd">@sbdchd</a> on 2024-09-05 00:46</div>
            <div class="timeline-body"><p>Turns out poetry and pypa/hatchling have different structures for authors</p>
<p>https://github.com/pypa/packaging.python.org/issues/1134</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:41 UTC
    </footer>
</body>
</html>
