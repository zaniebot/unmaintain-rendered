<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uvx and pinning on a non-python project - astral-sh/uv #15447</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>uvx and pinning on a non-python project</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15447">#15447</a>
        opened by <a href="https://github.com/stdedos">@stdedos</a>
        on 2025-08-22 06:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/stdedos">@stdedos</a> on 2025-08-22 06:56</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I have a Go repository, and I want to use pre-commit for it.</p>
<p>I would like to &quot;automagically&quot; lock pre-commit to a replicatable version (for local development and CI).</p>
<p>In CI that is easy, as this is called in one place, and <code>uvx pre-commit@4.3.0 run --all-files</code> is more than enough.
That does not cover the user-case, though.</p>
<p>This not being a Python project, I am thinking it might look weird to add a <code>pyproject.toml</code> file.
However (assuming that my users want to go with uv and not any other <code>...x</code> manager), there's the disclaimer in https://docs.astral.sh/uv/concepts/tools/#tool-versions</p>
<blockquote>
<p>Unless a specific version is requested, uv tool install will install the latest available of the requested tool. uvx will use the latest available version of the requested tool on the first invocation. After that, uvx will use the cached version of the tool unless a different version is requested, the cache is pruned, or the cache is refreshed.</p>
</blockquote>
<p>which means that users should remember to invoke as <code>uvx pre-commit@x.x.x</code>, which can be cumbersome.</p>
<hr />
<p>What I may be thinking is &quot;Mise&quot;, but it's not in use by the repo right now - and I am familiarizing myself with uv instead üòÖ</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @stdedos on 2025-08-22 06:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-08-22 08:13</div>
            <div class="timeline-body"><p>The feature you're describing would be covered under https://github.com/astral-sh/uv/issues/5903. This may still require a pyproject.toml, but only for task runner specific configuration.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stdedos">@stdedos</a> on 2025-08-22 08:57</div>
            <div class="timeline-body"><p>If <code>pyproject.toml</code> is mandatory, then this is not much different than</p>
<pre><code class="language-bash">uv init --bare
uv add --dev pre-commit==3.3.0
uv run pre-commit -V
</code></pre>
<p>I mean, it might be &quot;shorter&quot; if using an alias (like <code>uv pre-commit</code>) - but that's it.</p>
<p>I want to avoid the initial ‚ùìÔ∏è‚ùî‚ùìÔ∏è when one sees <code>pyproject.toml</code> in an otherwise-pure go project</p>
<hr />
<p>I also tried</p>
<pre><code class="language-console">$ cat uv.toml 
[dev-dependencies]
pre-commit = &quot;==3.3.0&quot;
$ uv run pre-commit
error: Failed to parse: `uv.toml`. The `dev-dependencies` field is not allowed in a `uv.toml` file. `dev-dependencies` is only applicable in the context of a project, and should be placed in a `pyproject.toml` file instead.
$
</code></pre>
<hr />
<p>I'll close this as a duplicate of #5903, like you suggested - if only to boost its ratings further üòÅ</p>
<p>Thank you for your effort in this</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @stdedos on 2025-08-22 08:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
