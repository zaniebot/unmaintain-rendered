<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pipx {run,install}` - astral-sh/uv #1173</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pipx {run,install}</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1173">#1173</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-01-29 19:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2024-01-29 19:48</div>
            <div class="timeline-body"><p>pipx is the preferred way to install python tools globally, storing each tool in an isolated, managed environment instead of causing problem in the global or user local environment.</p>
<p>We have all the basic parts required for pipx (venv creation, resolution, installation). What <code>uv pipx</code> would need to do is create a venv in a uv subfolder of the user data dir, install the requested package and expose the entrypoints/scripts to <code>.local/bin</code> or platform equivalent. We can extend this to arbitrary standard of pipx compatibility with options such as upgrade, reinstall, extend, etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2024-01-29 19:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`puffin pipx {run,install}`" to "`uv pipx {run,install}`" by @zanieb on 2024-02-15 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mqudsi">@mqudsi</a> on 2024-02-16 19:58</div>
            <div class="timeline-body"><p>This would be really cool.</p>
<p>~~fwiw, I found it misleading that the release announcement said <code>uv</code> is a full drop-in replacement for <code>pipx</code> (by name).. but it's not?~~</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-16 20:01</div>
            <div class="timeline-body"><blockquote>
<p>This would be really cool.</p>
<p>fwiw, I found it misleading that the release announcement said <code>uv</code> is a full drop-in replacement for <code>pipx</code> (by name).. but it's not?</p>
</blockquote>
<p>Not <code>pipx</code>. <code>pip</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mqudsi">@mqudsi</a> on 2024-02-16 20:02</div>
            <div class="timeline-body"><p>Just double-checked. I mistook the part about &quot;imagine a tool that replaces&quot; for the &quot;this is a tool that replaces&quot;.</p>
<p><em>Mea culpa!</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2024-02-29 15:30</div>
            <div class="timeline-body"><p>This would be a great way to provide an equivalent to <code>cargo install</code> within <code>uv</code>. üëç</p>
<p>Related to this would be <a href="https://peps.python.org/pep-0723/">PEP 723</a> support (inline script metadata), which <code>pipx run</code> also provides.</p>
<ul>
<li>https://pipx.pypa.io/stable/changelog/#142</li>
<li>https://github.com/pypa/pipx/pull/1180</li>
</ul>
<p>Related to</p>
<ul>
<li>#1207</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pfmoore">@pfmoore</a> on 2024-03-19 11:28</div>
            <div class="timeline-body"><p>Can we make the command <code>uv run</code>, and not <code>uv pipx run</code>? The convention of using <code>uv &lt;some command we're trying to emulate&gt;</code> as a subcommand seems like a bad approach long-term:</p>
<ol>
<li>It either causes confusion for users, or it locks <code>uv</code> into matching the design of the original command, warts and all.</li>
<li>It creates a &quot;competitive&quot; impression, rather than a &quot;co-operative&quot; one.</li>
<li>Should <code>uv</code> become dominant, and the original command get abandoned, the subcommand name will no longer make any sense.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-03-19 11:31</div>
            <div class="timeline-body"><p>Related: #1657</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2024-03-19 12:35</div>
            <div class="timeline-body"><blockquote>
<p>The convention of using uv &lt;some command we're trying to emulate&gt; as a subcommand seems like a bad approach long-term:</p>
</blockquote>
<p>From hearing Charlie talk about the current design of <code>uv</code>, the reason for this is so that <code>uv</code> can easily slot into existing workflows today, and at the same time provides Astal with a concrete set of features by which they can get all of the lower level machinery re-implemented in Rust. They did this with Ruff to pretty great effect.</p>
<p>I think there is a certain wisdom in this, since it allows them to keep the top level <code>uv ___</code> open so they can get a lot of experience in the lower level internals before really stretching for ultimate goal of providing a Cargo/rustup-like experience for Python.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-03-19 12:40</div>
            <div class="timeline-body"><p>I want to keep the <code>uv run</code> name for running in-project scripts, i'm thinking about using something like <code>uv install &lt;tool&gt;</code> and <code>uv runx &lt;tool&gt;</code> or <code>uv tool &lt;tool&gt;</code> for pipx/npx-like global tools.</p>
<blockquote>
<p>It either causes confusion for users, or it locks uv into matching the design of the original command, warts and all.</p>
</blockquote>
<p>Can you talk a bit about what warts you wouldn't want us to emulate? We normally aim to be very similar to provide easier migration, so it's helpful to know where we should deviate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pfmoore">@pfmoore</a> on 2024-03-19 16:12</div>
            <div class="timeline-body"><blockquote>
<p>Can you talk a bit about what warts you wouldn't want us to emulate?</p>
</blockquote>
<p>Off the top of my head:</p>
<ul>
<li>The design of <code>--target</code>, and the way it looks like a variant on a normal install, but doesn't act like one in practice (upgrades don't work as expected, uninstall isn't supported, list doesn't work, etc). Supporting the use case(s) is important, but the command design sucks.</li>
<li>Similarly, the mess of <code>--prefer-binary</code> vs <code>--only-binary</code> vs <code>--no-binary</code>, and the debate about making <code>--only-binary :all:</code> the default. Getting this right from the start rather than inheriting pip's baggage would be far better.</li>
<li>Keyring and authentication support. There's lots of problems with how pip does authentication, and the way keyring is supported is a mess of tentative part solutions, caused almost entirely by the fact that keyring itself isn't a pure Python dependency so we couldn't vendor it.</li>
<li>Passing of pip options to the installation of dependencies in the isolated build environment is a bit of a mess, which largely just grew out of fixing bugs as they came up. Having a proper design for how the user can configure the way installs to the build environment work would be much better.</li>
<li>All of the <code>--root</code>, <code>--prefix</code> and <code>--implementation</code>/<code>--abi</code>/<code>--platform</code> flags, intended to make preparing an installation to be copied to &quot;another&quot; Python, are (IMO) far too complex, and require a deep understanding from the user to be able to use them correctly.</li>
</ul>
<p>There's also the warts you've already chosen <em>not</em> to match pip over - <code>--resolution</code> and <code>--pre-release</code> spring to mind, as well as the way you treat <code>--extra-index-url</code>. It's hard to take seriously the idea that you prefer to emulate pip's interface &quot;warts and all&quot; when these examples show that it's actually only &quot;the warts we don't want to fix&quot;...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-03-20 15:21</div>
            <div class="timeline-body"><p>Thanks @pfmoore, this is a very useful list. Always good to know what alternative approaches would've been better in hindsight.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-13 20:44</div>
            <div class="timeline-body"><p>I'm going to close this in favor of the more accurate tracking issue at #3560. Regardless, I'll report back here when there's significant progress as I know there are a lot of subscribers to this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-05-13 20:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:26 UTC
    </footer>
</body>
</html>
