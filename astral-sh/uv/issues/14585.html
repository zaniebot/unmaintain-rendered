<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve the behavior of `uv run` when running from outside the project folder - astral-sh/uv #14585</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve the behavior of <code>uv run</code> when running from outside the project folder</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/14585">#14585</a>
        opened by <a href="https://github.com/AngelEzquerra">@AngelEzquerra</a>
        on 2025-07-13 10:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AngelEzquerra">@AngelEzquerra</a></div>
            <div class="timeline-body">Summary
<p>I was recently surprised when I found that using <code>uv run</code> from outside the project folder does not work as I expected. I thought that <code>uv run /path/to/project/script.py</code> would use the <code>pyproject.toml</code> found in <code>/path/to/project/pyproject.toml</code>, while running the script from the current path. Putting it another way, I expected it to behave as if I had placed a <code>#!/usr/env -S uv run --script</code> shebang at the top of the <code>script.py</code> and I had just run <code>/path/to/project/script.py</code> from the current path (having done <code>chmod u+x /path/to/project/script.py</code> first of course).</p>
<p>Instead I got an error telling me that certain modules were not found (since uv looked for <code>pyproject.toml</code> in the current path). After searching a bit I found that according to #6733 there are two flags that can help with this scenario but neither of them does exactly what I expected:</p>
<ul>
<li><code>--directory</code>: This is the same as doing <code>cd /path/to/project; uv run script.py</code>. This is not what I want because I want the script to run in the current directory.</li>
<li><code>--project</code>: This works as I expected, but has the drawback that I need to input the <code>/path/to/project</code> twice. That is, to get the behavior I want I need to do <code>uv run --project /path/to/project /path/to/project/script.py</code> which is pretty inconvenient.</li>
</ul>
<p>It would be great if there was a way to combine the strengths of both solutions. I would argue that this should be the default behavior of <code>uv run</code> or maybe <code>uv run --directory</code> but if that is not possible, could we have a new flag that behaves as I described above? It could either be an additional flag that modifies the behavior of <code>--project</code> to <em>also</em> look for the run script from the project (while running from the current path) or another alternative to <code>--directory</code> and <code>project</code> that behaves as expected?</p>
<p>Finally I want to thank you guys for the work that you are doing in <code>uv</code>. It is fantastic. It&#x27;s amazing that this is the first unexpected behavior I have found so far :)</p>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/AngelEzquerra">@AngelEzquerra</a> on 2025-07-13 10:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/powercoconola">@powercoconola</a> on 2025-07-16 18:58</div>
            <div class="timeline-body"><p>I agree, I also assumed that <code>uv run</code> would find the project folder for me. It seems obvious to me that if I run <code>/path/to/project/script.py</code> that the project can be found one or two layers above.</p>
<p>At the very least, the error message of <code>Module not found</code> wasn&#x27;t helpful. Maybe this can be improved to mention the <code>--directory</code> and/or <code>--project</code> commands?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:39:24 UTC
    </footer>
</body>
</html>
