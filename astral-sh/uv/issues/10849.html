<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inconsistency between `uv sync` and `uv pip install` - astral-sh/uv #10849</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>inconsistency between <code>uv sync</code> and <code>uv pip install</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10849">#10849</a>
        opened by <a href="https://github.com/Diddy42">@Diddy42</a>
        on 2025-01-22 10:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Diddy42">@Diddy42</a> on 2025-01-22 10:21</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>There seem to be cases in which <code>uv sync</code> is not able to resolve a project's environment while <code>uv pip install</code> does.</p>
<p>The following example was executed inside the <code>ghcr.io/astral-sh/uv:python3.12-bookworm</code> image.</p>
<p>With this pyproject.toml:</p>
<pre><code class="language-toml">[project]
name = &quot;teeeeest&quot;
version = &quot;0.1.0&quot;
requires-python = &quot;&gt;=3.8,&lt;3.9&quot;
classifiers = []
dependencies = [
  &quot;tensorflow==2.12.0&quot;,
]
</code></pre>
<p><code>uv sync</code> fails to resolve because it decides to use <code>tensorflow-io-gcs-filesystem==0.35.0</code>, which has no compatible platforms.</p>
<p>But explicitly creating a pyhton 3.8 environment and then installing the dependency works:</p>
<p><code>uv venv --python 3.8 &amp;&amp; uv pip install tensorflow==2.12.0</code></p>
<p>This time resolving to use <code>tensorflow-io-gcs-filesystem==0.34.0</code>.</p>
<p>Additionally, if now I try to help <code>uv</code> by explicitly listing <code>tensorflow-io-gcs-filesystem==0.34.0</code> in the pyproject's dependencies, <code>uv sync</code> works without issues.</p>
<p>This seems like a bug to me, but in case I'm just misunderstanding the purpose of <code>uv sync</code> feel free to close this</p>
<h3>Platform</h3>
<p>Linux 5.15.153.1-microsoft-standard-WSL2 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>0.5.22</p>
<h3>Python version</h3>
<p>3.8.20</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Diddy42 on 2025-01-22 10:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @konstin on 2025-01-22 12:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @konstin on 2025-01-22 12:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @konstin on 2025-01-22 12:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2025-01-22 12:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-01-22 12:08</div>
            <div class="timeline-body"><p>This is a known bug and another case that would be solved by https://github.com/astral-sh/uv/pull/10067, we're tracking all those cases in #9711.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-01-22 12:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:53 UTC
    </footer>
</body>
</html>
