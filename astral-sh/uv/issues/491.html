<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nest cache directories to avoid too large directories - astral-sh/uv #491</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Nest cache directories to avoid too large directories</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/491">#491</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-11-22 19:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Instead of e.g. placing all pypi metadata in a directory, we should consider adding subdirectory levels to avoid large directories with multiple thousand entries that slow down fs operations.  cache and git e.g. do this by using the first to letter of the files as additional directory name.</p>
<p>The first task is to identify which directly are likely to even become too large, and then find a good and consistent scheme for subdividing them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-22 19:39</div>
            <div class="timeline-body"><p>We could also just use cacache for this, maybe?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">performance</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-25 17:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Future&quot; by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-25 17:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-06-27 11:16</div>
            <div class="timeline-body"><p>In practice, did this turn out to be a problem / do we still plan to change this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Future&quot; by <a href="https://github.com/konstin">@konstin</a> on 2024-07-09 12:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2024-07-09 12:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:00 UTC
    </footer>
</body>
</html>
