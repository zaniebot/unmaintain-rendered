<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do not use ``torch-backend`` and ``*index-url`` and ``*index`` simultaneously. - astral-sh/uv #14145</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Do not use <code>torch-backend</code> and <code>*index-url</code> and <code>*index</code> simultaneously.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14145">#14145</a>
        opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a>
        on 2025-06-19 16:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/FishAlchemist">@FishAlchemist</a></div>
            <div class="timeline-body">Summary
<p>Even though I&#x27;ve tested that <code>torch-backend</code> seems to take precedence over <code>index-url</code> and <code>extra-index-url</code>, torch-backend ultimately changes the index location.</p>
<p><img src="https://github.com/user-attachments/assets/fab171ff-ac3b-485c-951a-43ec4998b18a" alt="Image"></p>
<p><img src="https://github.com/user-attachments/assets/02c89d13-9fdb-4a4d-be30-ed173d8bbb42" alt="Image"></p>
<p><img src="https://github.com/user-attachments/assets/fcf9ce06-c1f3-42ab-a2e7-c2e54b6a5dd6" alt="Image"></p>
<p>Therefore, I hope that when uv is used, it can directly prevent the user or inform the user which index is currently selected.</p>
<p>The following flags should all be avoided when used with <code>torch-backend</code>:
<img src="https://github.com/user-attachments/assets/ba1f8187-a720-4d09-a9a0-738b36cfe4ad" alt="Image"></p>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-06-19 16:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Do not use ``torch-backend`` and ``*index-url`` simultaneously.&quot; to &quot;Do not use ``torch-backend`` and ``*index-url`` and ``*index`` simultaneously.&quot; by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-06-19 16:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-19 16:46</div>
            <div class="timeline-body"><p>Wouldn&#x27;t <code>--index</code> and <code>--extra-index-url</code> still apply to non-torch packages?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-06-19 16:51</div>
            <div class="timeline-body"><p>Oh right, I forgot about this use case. It can indeed be applied to specify non-PyTorch sources.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-06-19 16:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-06-19 16:56</div>
            <div class="timeline-body"><p>Has it been considered to mention in the documentation that when using the <code>torch-backend</code>, the found indices will be prioritized as the primary search indices?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:39:05 UTC
    </footer>
</body>
</html>
