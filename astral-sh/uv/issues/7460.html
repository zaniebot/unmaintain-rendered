<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv run fails with Permission Denied error for non existing command / script in WSL when appendWindowsPath is enabled - astral-sh/uv #7460</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>uv run fails with Permission Denied error for non existing command / script in WSL when appendWindowsPath is enabled</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/7460">#7460</a>
        opened by <a href="https://github.com/hille721">@hille721</a>
        on 2024-09-17 14:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/hille721">@hille721</a> on 2024-09-17 14:07</div>
            <div class="timeline-body"><p>When invoking <code>uv run</code> on a command or script which does not exist, I'm getting a permission denied error instead of an error message saying that the command / file does not exist:</p>
<pre><code>$ uv run --verbose foobar.py
DEBUG uv 0.4.10
DEBUG No project found; searching for Python interpreter
DEBUG Searching for Python interpreter in managed installations or system path
DEBUG Searching for managed installations at `.local/share/uv/python`
DEBUG Found managed installation `cpython-3.13.0rc2-linux-x86_64-gnu`
DEBUG Found `cpython-3.13.0rc2-linux-x86_64-gnu` at `/home/hille/.local/share/uv/python/cpython-3.13.0rc2-linux-x86_64-gnu/bin/python3` (managed installations)
DEBUG Skipping pre-release cpython-3.13.0rc2-linux-x86_64-gnu
DEBUG Found managed installation `cpython-3.12.6-linux-x86_64-gnu`
DEBUG Found `cpython-3.12.6-linux-x86_64-gnu` at `/home/hille/.local/share/uv/python/cpython-3.12.6-linux-x86_64-gnu/bin/python3` (managed installations)
DEBUG Using Python 3.12.6 interpreter at: /home/hille/.local/share/uv/python/cpython-3.12.6-linux-x86_64-gnu/bin/python3
DEBUG Running `foobar.py`
error: Failed to spawn: `foobar.py`
  Caused by: Permission denied (os error 13)
</code></pre>
<p>Running on WSL2 Ubuntu 20.04</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hille721">@hille721</a> on 2024-09-17 14:16</div>
            <div class="timeline-body"><p>well, I found the issue by myself.</p>
<p>This issue only comes when enabling the appending of Windows paths in the <code>/etc/wsl.conf</code>:</p>
<pre><code>[interop]
appendWindowsPath = true
</code></pre>
<p>If I set this flag to <code>false</code> I'm getting the expected &quot;No such file or directory&quot; error:</p>
<pre><code>uv run foobar.py
error: Failed to spawn: `foobar.py`
  Caused by: No such file or directory (os error 2)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv run fails with Permission Denied error for non existing command / script" to "uv run fails with Permission Denied error for non existing command / script in WSL" by @hille721 on 2024-09-17 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv run fails with Permission Denied error for non existing command / script in WSL" to "uv run fails with Permission Denied error for non existing command / script in WSL when appendWindowsPath is enabled" by @hille721 on 2024-09-17 14:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:22 UTC
    </footer>
</body>
</html>
