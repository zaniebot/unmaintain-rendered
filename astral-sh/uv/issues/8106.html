<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Feature Request] Add `uv venv --activate` to activate virtual environment after creation - astral-sh/uv #8106</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Feature Request] Add <code>uv venv --activate</code> to activate virtual environment after creation</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8106">#8106</a>
        opened by <a href="https://github.com/imbev">@imbev</a>
        on 2024-10-10 19:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/imbev">@imbev</a></div>
            <div class="timeline-body"><p>I suggest that uv add an <code>--activate</code> option to the <code>uv venv</code> command. This option would automatically activate the virtual environment after creating it.</p>
<p>The following would be mostly equivalent:</p>
<pre><code>uv venv
source .venv/bin/activate # Or shell equivalent
</code></pre>
<pre><code>uv venv --activate
</code></pre>
<p>Currently, <code>uv venv</code> has the following output:</p>
<pre><code>Using Python 3.12.6 interpreter at: /usr/bin/python3
Creating virtualenv at: .venv
Activate with: source .venv/bin/activate
</code></pre>
<p>This should be replaced by the following, but only with <code>--activate</code>:</p>
<pre><code>Using Python 3.12.6 interpreter at: /usr/bin/python3
Creating virtualenv at: .venv
Activating virtualenv at: .venv
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-10 19:51</div>
            <div class="timeline-body"><p>Unfortunately we can&#x27;t do this because of how shells work. You need to run the activation command from your shell, a subprocess cannot mutate your shell.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-10-10 20:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Werni2A">@Werni2A</a> on 2024-10-10 20:47</div>
            <div class="timeline-body"><p>Something related to this request that is probably not worth creating a separate issue.</p>
<hr>
<p>Remembering the activation script location is confusing when switching between Windows and Linux systems. Windows makes it even worse with separate scripts for PowerShell and Command Prompt.</p>
<p>E.g.</p>
<ul>
<li><code>foobar\Scripts\activate.ps1</code> (Windows PowerShell)</li>
<li><code>foobar\Scripts\activate</code> (Windows Command Prompt)</li>
<li><code>foobar/bin/activate</code> (Linux)</li>
</ul>
<p>Sometimes it would be useful get the activation script path directly from <code>uv</code> to call or source it. E.g. with a imaginary argument <code>--activation-script</code>.</p>
<pre><code>source $(uv venv foobar --activation-script)
# Leading to
# source &quot;foobar/bin/activate&quot;
</code></pre>
<p>Since <code>uv</code> already provides the exact command to activate the environment it&#x27;s just copy and paste in an interactive environment. I.e. the benefit would be negligible but could make scripts a bit more consistent across shell implementations.</p>
<p>Nothing I personally require - just something that came to mind while reading this post.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ravencentric">@Ravencentric</a> on 2024-10-10 21:10</div>
            <div class="timeline-body"><p>This is also what <a href="https://pdm-project.org/en/latest/usage/venv/#activate-a-virtualenv">PDM went with</a>, i.e., a command to print the activate command for your current OS and shell.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Kilo59">@Kilo59</a> on 2024-10-23 22:27</div>
            <div class="timeline-body"><p>@zanieb
Both <code>poetry</code> and <code>pipenv</code> have a <code>shell</code> commands that works equivalent to this proposal.
Why can&#x27;t <code>uv</code> do something similar?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ravencentric">@Ravencentric</a> on 2024-10-24 06:36</div>
            <div class="timeline-body"><p>Poetry is removing their <code>shell</code> command in the next major update. <a href="https://github.com/python-poetry/poetry/issues/9136">python-poetry/poetry#9136</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-24 12:23</div>
            <div class="timeline-body"><p>See <a href="https://github.com/astral-sh/uv/issues/1910">astral-sh/uv#1910</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:34:40 UTC
    </footer>
</body>
</html>
