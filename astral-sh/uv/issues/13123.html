<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extend uv config Command to Support Viewing/Modifying/Resetting Configurations - astral-sh/uv #13123</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Extend uv config Command to Support Viewing/Modifying/Resetting Configurations</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13123">#13123</a>
        opened by <a href="https://github.com/willow-yang">@willow-yang</a>
        on 2025-04-27 03:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/willow-yang">@willow-yang</a> on 2025-04-27 03:02</div>
            <div class="timeline-body"><h3>Summary</h3>
<h2>Description</h2>
<p>Currently, uv lacks a built-in way to view or manage runtime configurations, making it difficult for users to debug configuration conflicts or adjust settings efficiently. To improve usability and transparency, we propose adding a uv config command inspired by tools like git config, enabling users to view, modify, and reset configurations via the CLI.</p>
<h2>Proposed Functionality</h2>
<ol>
<li>View Configurations</li>
</ol>
<ul>
<li>List All Active Configurations</li>
</ul>
<pre><code class="language-bash">uv config list
</code></pre>
<p>Outputs all resolved configurations in key=value format, prioritized by source (CLI arguments &gt; environment variables &gt; config files &gt; defaults).</p>
<ul>
<li>Query a Specific Configuration Key</li>
</ul>
<pre><code class="language-bash">uv config get &lt;key&gt;
</code></pre>
<p>Returns the effective value of a key (e.g., uv config get cache-dir).</p>
<ul>
<li>Show Configuration Sources (Optional)</li>
</ul>
<pre><code class="language-bash">uv config list --show-sources
</code></pre>
<p>Annotates the source of each configuration (e.g., cache-dir=/tmp/cache  # Environment: UV_CACHE_DIR).
2. Modify Configurations</p>
<ul>
<li>Set a Configuration Key</li>
</ul>
<pre><code class="language-bash">uv config set &lt;key&gt; &lt;value&gt; [--scope]
</code></pre>
<p>Writes the key-value pair to a configuration file in the specified scope:</p>
<ul>
<li>--local (default): Project-level (uv.toml or pyproject.toml).</li>
<li>--global: User-level (~/.uv/config.toml).</li>
<li>--system: System-wide (/etc/uv/config.toml).
Example:</li>
</ul>
<pre><code class="language-bash">uv config set cache-dir /tmp/cache --local
</code></pre>
<ol start="3">
<li>Reset Configurations</li>
</ol>
<ul>
<li>Reset a Key to Default</li>
</ul>
<pre><code class="language-bash">uv config reset &lt;key&gt; [--scope]
</code></pre>
<ul>
<li>Removes the key from the specified scope, restoring the default value or inheriting from a higher priority source. Example:</li>
</ul>
<pre><code class="language-bash">uv config reset cache-dir --local
</code></pre>
<h2>Use Cases</h2>
<ul>
<li>Debugging Configuration Conflicts: Identify why a configuration isnâ€™t applied as expected (e.g., environment variables overriding file settings).</li>
<li>Rapid Configuration Adjustments: Modify settings in scripts or CI/CD pipelines without manual file edits.</li>
<li>Portable Configuration: Use --local to bind configurations to a project for team collaboration.</li>
<li>Recovery from Errors: Quickly reset misconfigured keys to defaults.</li>
</ul>
<h2>Considerations</h2>
<ul>
<li>Priority Rules: Ensure set respects existing priority logic (e.g., CLI arguments override file-based configurations).</li>
<li>File Handling: Auto-create configuration files if missing, preserving TOML syntax compatibility.</li>
</ul>
<h2>Security:</h2>
<ul>
<li>Redact sensitive fields (e.g., credentials) by default in uv config list output.</li>
<li>Discourage writing sensitive data via set; recommend environment variables instead.</li>
<li>Error Handling: Gracefully handle non-existent keys in reset (e.g., Key &quot;cache-dir&quot; not found in --local scope).</li>
</ul>
<h2>Summary</h2>
<p>This feature would align uvâ€™s configuration management with developer expectations, offering a familiar and intuitive workflow akin to git config. By adopting a subcommand-based design (e.g., list, get, set, reset), the implementation ensures extensibility for future enhancements (e.g., JSON output, filtering).</p>
<p>We believe this addition will significantly improve uv's debuggability and user experience, especially in complex environments with layered configurations.</p>
<p>Feel free to copy and paste this directly into the uv GitHub repository! Let me know if further refinements are needed. ðŸ˜Š</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @willow-yang on 2025-04-27 03:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/edobez">@edobez</a> on 2025-09-04 09:01</div>
            <div class="timeline-body"><p>As a first step if would be good to have a subset of this feature: only showing the effective configuration, like <code>pip config debug</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ubalklen">@ubalklen</a> on 2025-12-27 16:22</div>
            <div class="timeline-body"><p>Sounds like a dupe of #6042</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @willow-yang on 2025-12-31 08:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @willow-yang on 2025-12-31 08:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/willow-yang">@willow-yang</a> on 2025-12-31 08:37</div>
            <div class="timeline-body"><p>Similar issue already exists #6042</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @willow-yang on 2025-12-31 08:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:17:33 UTC
    </footer>
</body>
</html>
