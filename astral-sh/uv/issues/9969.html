<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>new build backend - sdist not installable with pip? - astral-sh/uv #9969</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>new build backend - sdist not installable with pip?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9969">#9969</a>
        opened by <a href="https://github.com/davidszotten">@davidszotten</a>
        on 2024-12-17 12:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/davidszotten">@davidszotten</a> on 2024-12-17 12:43</div>
            <div class="timeline-body"><p>Hi,</p>
<p>I may be doing something wrong here but i was expecting this to work. (build sdist with uv backend, then install it with pip)</p>
<pre><code>$ cat pyproject.toml
[project]
name = &quot;test-uv-build-backend&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.12&quot;
dependencies = []

[build-system]
requires = [&quot;uv&gt;=0.5,&lt;0.6&quot;]
build-backend = &quot;uv&quot;
</code></pre>
<pre><code>$ uv --version
uv 0.5.9 (0652800cb 2024-12-13)
</code></pre>
<pre><code>$ UV_PREVIEW=1 uv --preview build
Building source distribution (uv build backend)...
Building wheel from source distribution (uv build backend)...
Successfully built dist/test_uv_build_backend-0.1.0.tar.gz
Successfully built dist/test_uv_build_backend-0.1.0-py3-none-any.whl
</code></pre>
<pre><code>$ mktmpenv
[...]
$ pip --version
pip 24.3.1 from /Users/david/environments/tmp-b0ff1617aea3df9/lib/python3.12/site-packages/pip (python 3.12)

$ UV_PREVIEW=1 pip install ~/dev/test-uv-build-backend/dist/test_uv_build_backend-0.1.0.tar.gz
Processing /Users/david/dev/test-uv-build-backend/dist/test_uv_build_backend-0.1.0.tar.gz
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Building wheels for collected packages: test-uv-build-backend
  Building wheel for test-uv-build-backend (pyproject.toml) ... error
  error: subprocess-exited-with-error

  × Building wheel for test-uv-build-backend (pyproject.toml) did not run successfully.
  │ exit code: 2
  ╰─&gt; [1 lines of output]
      error: failed to open file `/private/var/folders/3q/26_y3lv165q8vhq94rjp80qw0000gp/T/pip-modern-metadata-gpvtfr9u/test_uv_build_backend-0.1.0.dist-info/test_uv_build_backend-0.1.0.dist-info/METADATA`: No such file or directory (os error 2)
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
  ERROR: Failed building wheel for test-uv-build-backend
Failed to build test-uv-build-backend
ERROR: ERROR: Failed to build installable wheels for some pyproject.toml based projects (test-uv-build-backend)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "new build backend - source not installable with pip?" to "new build backend - sdist not installable with pip?" by @davidszotten on 2024-12-17 12:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-12-17 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2024-12-17 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @konstin by @zanieb on 2024-12-17 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/10005.html">astral-sh/uv#10005</a> on 2024-12-18 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-12-18 19:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:31:51 UTC
    </footer>
</body>
</html>
