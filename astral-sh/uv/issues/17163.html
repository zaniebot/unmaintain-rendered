<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv-keyring::threading::test_simultaneous_independent_create_set` flakes on Linux with &quot;can't get ascii password&quot; - astral-sh/uv #17163</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv-keyring::threading::test_simultaneous_independent_create_set` flakes on Linux with &quot;can't get ascii password&quot;</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/17163">#17163</a>
        opened by <a href="https://github.com/EliteTK">@EliteTK</a>
        on 2025-12-17 15:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/EliteTK">@EliteTK</a> on 2025-12-17 15:57</div>
            <div class="timeline-body"><p>Randomly failed here: https://github.com/astral-sh/uv/actions/runs/20305612646/job/58322152302?pr=17088</p>
<p>Seems unrelated to the changes.</p>
<p>Here's a follow up run with some more unrelated changes, the same test succeeded: https://github.com/astral-sh/uv/actions/runs/20308222303/job/58332149552?pr=17088</p>
<p>Haven't investigated further.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @EliteTK on 2025-12-17 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> removed by @konstin on 2025-12-17 16:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ci-flake</span> added by @konstin on 2025-12-17 16:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Flaky test: `uv-keyring::threading` `test_simultaneous_independent_create_set`" to "`uv-keyring::threading::test_simultaneous_independent_create_set` flakes on Linux with "can't get ascii password"" by @zanieb on 2025-12-18 04:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-18 04:17</div>
            <div class="timeline-body"><pre><code>        FAIL [   0.137s] uv-keyring::threading test_simultaneous_independent_create_set
  stdout ───

    running 1 test
    test test_simultaneous_independent_create_set ... FAILED

    failures:

    failures:
        test_simultaneous_independent_create_set

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.13s
    
  stderr ───

    thread 'test_simultaneous_independent_create_set' (129699) panicked at crates/uv-keyring/tests/threading.rs:185:18:
    Can't get ascii password: PlatformFailure(Zbus(MethodError(OwnedErrorName(&quot;org.freedesktop.DBus.Error.NoReply&quot;), Some(&quot;Message recipient disconnected from message bus without replying&quot;), Msg { type: Error, serial: 3, sender: UniqueName(&quot;org.freedesktop.DBus&quot;), reply-serial: 116, body: Str, fds: [] })))
    stack backtrace:
       0: __rustc::rust_begin_unwind
       1: core::panicking::panic_fmt
       2: core::result::unwrap_failed
       3: tokio::runtime::task::core::Core&lt;T,S&gt;::poll
       4: tokio::runtime::task::harness::Harness&lt;T,S&gt;::poll
       5: tokio::runtime::scheduler::current_thread::Context::run_task
       6: tokio::runtime::context::scoped::Scoped&lt;T&gt;::set
       7: std::thread::local::LocalKey&lt;T&gt;::with
       8: tokio::runtime::scheduler::current_thread::CoreGuard::block_on
       9: tokio::runtime::context::runtime::enter_runtime
      10: tokio::runtime::runtime::Runtime::block_on
      11: core::ops::function::FnOnce::call_once
    note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

    thread 'test_simultaneous_independent_create_set' (129699) panicked at crates/uv-keyring/tests/threading.rs:203:22:
    Task failed: JoinError::Panic(Id(1), &quot;Can't get ascii password: PlatformFailure(Zbus(MethodError(OwnedErrorName(\&quot;org.freedesktop.DBus.Error.NoReply\&quot;), Some(\&quot;Message recipient disconnected from message bus without replying\&quot;), Msg { type: Error, serial: 3, sender: UniqueName(\&quot;org.freedesktop.DBus\&quot;), reply-serial: 116, body: Str, fds: [] })))&quot;, ...)
    stack backtrace:
       0: __rustc::rust_begin_unwind
       1: core::panicking::panic_fmt
       2: core::result::unwrap_failed
       3: threading::test_simultaneous_independent_create_set::{{closure}}
       4: tokio::runtime::scheduler::current_thread::Context::enter
       5: tokio::runtime::context::scoped::Scoped&lt;T&gt;::set
       6: std::thread::local::LocalKey&lt;T&gt;::with
       7: tokio::runtime::scheduler::current_thread::CoreGuard::block_on
       8: tokio::runtime::context::runtime::enter_runtime
       9: tokio::runtime::runtime::Runtime::block_on
      10: core::ops::function::FnOnce::call_once
    note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-18 10:46</div>
            <div class="timeline-body"><p>Another one: https://github.com/astral-sh/uv/actions/runs/20333424890/job/58414030678?pr=17104</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
