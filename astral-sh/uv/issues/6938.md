```yaml
number: 6938
title: Support for ansible-galaxy collections/roles as dependency
type: issue
state: open
author: sebhoss
labels:
  - wish
assignees: []
created_at: 2024-09-02T16:26:13Z
updated_at: 2025-03-22T15:31:56Z
url: https://github.com/astral-sh/uv/issues/6938
synced_at: 2026-01-10T01:57:15Z
```

# Support for ansible-galaxy collections/roles as dependency

---

_Issue opened by @sebhoss on 2024-09-02 16:26_

I originally opened this in https://github.com/astral-sh/rye/issues/1317 but I guess uv would be a better place now?

Currently, ansible-galaxy does have its own mechanism to download collections/roles as described in https://docs.ansible.com/ansible/latest/galaxy/user_guide.html. It can use a [requirements.yml](https://docs.ansible.com/ansible/latest/galaxy/user_guide.html#installing-roles-and-collections-from-the-same-requirements-yml-file) file to specify which collections/roles to download but it has no support for lock files (see [ticket](https://github.com/ansible/galaxy/issues/1358)).

Since uv wants to be a one-stop solution for everything python, how about supporting declaring ansible-galaxy collections/roles in a pyproject.toml and get all the nice features of uv while working on ansible projects?

---

_Label `enhancement` added by @charliermarsh on 2024-09-02 17:22_

---

_Label `wish` added by @charliermarsh on 2024-09-02 17:22_

---

_Label `enhancement` removed by @charliermarsh on 2024-09-02 17:22_

---

_Comment by @sebhoss on 2025-03-22 15:31_

I've created a small wrapper at https://github.com/metio/ansible-wrapper that uses `uv` to handle Python version and project dependencies as well as ansible-galaxy dependencies. It still relies on ansible-galaxy and does not use `uv.lock` but the user experience is similar to what I originally wanted.

---
