<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv cannot install packages on its own managed Python with virtual environment activated - astral-sh/uv #15635</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv cannot install packages on its own managed Python with virtual environment activated</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15635">#15635</a>
        opened by <a href="https://github.com/rgandhasri87">@rgandhasri87</a>
        on 2025-09-02 18:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rgandhasri87">@rgandhasri87</a> on 2025-09-02 18:42</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I have an activated virtual environment and I am trying to install packages from a requirements.txt file in it.
The environment was created by running <code>uv init</code> after obtaining the correct <code>pyproject.toml</code> file.</p>
<p>Running <code>sudo uv pip install --system -r requirements.txt --verbose</code> yields the following output:</p>
<pre><code>DEBUG uv 0.8.3 (7e78f54e7 2025-07-24)
DEBUG Searching for default Python interpreter in managed installations or search path
DEBUG Searching for managed installations at `/Users/r0g0fqv/.local/share/uv/python`
DEBUG Found managed installation `cpython-3.13.5-macos-aarch64-none`
DEBUG Found `cpython-3.13.5-macos-aarch64-none` at `/Users/r0g0fqv/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/bin/python3.13` (managed installations)
Using Python 3.13.5 environment at: /Users/r0g0fqv/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none
error: The interpreter at /Users/r0g0fqv/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none is externally managed, and indicates the following:

  This Python installation is managed by uv and should not be modified.

Consider creating a virtual environment with `uv venv`.
</code></pre>
<p>I am not sure why this is occurring when the virtual environment is activated.
I reviewed the following issues: <a href="https://github.com/astral-sh/uv/issues/10300">10300</a> <a href="https://github.com/astral-sh/uv/issues/12204">12204</a> but they did not seem to apply to my issue, unless I am mistaken.</p>
<p>Please let me know if I can provide more information. I am afraid I cannot share much of the setup code due to enterprise policies.</p>
<h3>Platform</h3>
<p>macOS Darwin 24.6.0 arm64</p>
<h3>Version</h3>
<p>uv 0.8.3 (7e78f54e7 2025-07-24)</p>
<h3>Python version</h3>
<p>Python 3.13.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @rgandhasri87 on 2025-09-02 18:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-02 19:45</div>
            <div class="timeline-body"><p>You're using the <code>--system</code> flag which bypasses the virtual environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-09-02 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-09-02 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15639.html">astral-sh/uv#15639</a> on 2025-09-02 19:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rgandhasri87">@rgandhasri87</a> on 2025-09-02 20:10</div>
            <div class="timeline-body"><p>Thanks. Can't believe I missed that. Resolved</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @rgandhasri87 on 2025-09-02 20:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:12 UTC
    </footer>
</body>
</html>
