<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv installs and uninstalls yggdrasil-engine==1.0.0 during each sync - astral-sh/uv #16823</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv installs and uninstalls yggdrasil-engine==1.0.0 during each sync</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/16823">#16823</a>
        opened by <a href="https://github.com/ErliSoares">@ErliSoares</a>
        on 2025-11-23 15:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ErliSoares">@ErliSoares</a> on 2025-11-23 15:29</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Whenever I synchronize the project with the dependency <code>yggdrasil-engine==1.0.0</code>, <code>uv</code> uninstalls and reinstalls it.</p>
<p>Result of the <code>uv sync --verbose</code> command:</p>
<pre><code>DEBUG uv 0.9.11
DEBUG Acquired shared lock for `/home/erli.soares/.cache/uv`
DEBUG Found project root: `/home/erli.soares/projects/temp`
DEBUG No workspace root found, using project root
DEBUG Acquired lock for `/home/erli.soares/projects/temp`
DEBUG Reading Python requests from version file at `/home/erli.soares/projects/temp/.python-version`
DEBUG Using Python request `3.13` from version file at `.python-version`
DEBUG Checking for Python environment at: `.venv`
DEBUG The project environment's Python version satisfies the request: `Python 3.13`
DEBUG Released lock at `/tmp/uv-13380f91e73b0649.lock`
DEBUG Acquired lock for `.venv`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: temp @ file:///home/erli.soares/projects/temp
DEBUG No workspace root found, using project root
DEBUG Existing `uv.lock` satisfies workspace requirements
Resolved 2 packages in 4ms
DEBUG Using request timeout of 30s
DEBUG Platform tags mismatch for yggdrasil-engine==1.0.0: The distribution is compatible with `abi3`, but you're using CPython 3.13 (`cp313`)
DEBUG Requirement installed, but mismatched:
  Installed: InstalledDist { kind: Registry(InstalledRegistryDist { name: PackageName(&quot;yggdrasil-engine&quot;), version: &quot;1.0.0&quot;, path: &quot;/home/erli.soares/projects/temp/.venv/lib/python3.13/site-packages/yggdrasil_engine-1.0.0.dist-info&quot;, cache_info: None, build_info: None }), metadata_cache: OnceLock(&lt;uninit&gt;), tags_cache: OnceLock(Some(ExpandedTags([Small { small: WheelTagSmall { python_tag: Python { major: 3, minor: None }, abi_tag: Abi3, platform_tag: Manylinux2014 { arch: X86_64 } } }]))) }
  Requested: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: Equal, version: &quot;1.0.0&quot; }]), index: Some(IndexMetadata { url: Pypi(VerbatimUrl { url: DisplaySafeUrl { scheme: &quot;https&quot;, cannot_be_a_base: false, username: &quot;&quot;, password: None, host: Some(Domain(&quot;pypi.org&quot;)), port: None, path: &quot;/simple&quot;, query: None, fragment: None }, given: None }), format: Simple }), conflict: None }
DEBUG Registry requirement already cached: yggdrasil-engine==1.0.0
DEBUG Uninstalled yggdrasil-engine (9 files, 3 directories)
Uninstalled 1 package in 0.26ms
Installed 1 package in 0.80ms
 ~ yggdrasil-engine==1.0.0
DEBUG Released lock at `/home/erli.soares/projects/temp/.venv/.lock`
DEBUG Released lock at `/home/erli.soares/.cache/uv/.lock`
</code></pre>
<p>Sorry if this isn't a problem with <code>uv</code>, I wasn't sure whether to post the issue here or on <a href="https://github.com/Unleash/yggdrasil-bindings/tree/main/python-engine">yggdrasil-engine</a>.</p>
<h3>Platform</h3>
<p>Linux 6.14.0-36-generic x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.9.11</p>
<h3>Python version</h3>
<p>Python 3.13.7</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @ErliSoares on 2025-11-23 15:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-23 15:33</div>
            <div class="timeline-body"><p>Hm this does seem off, thanks for the report! cc @konstin</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-23 21:27</div>
            <div class="timeline-body"><p>I think this is because the <code>WHEEL</code> file included in the wheel reports <code>py3-abi3-macosx_11_0_arm64</code>, but the actual wheel tag is, like, <code>cp39-abi3-macosx_11_0_arm64</code>. I don't think we include <code>py3-abi3-{platform}</code> in the set of supported tags.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-23 21:27</div>
            <div class="timeline-body"><p>(That mismatch represents a bug in <code>yggdrasil-engine</code>, though not clear to me yet if we should accept <code>py3-abi3-macosx_11_0_arm64</code> too.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-23 21:34</div>
            <div class="timeline-body"><p>From reading https://github.com/pypa/pip/blob/f215c5e5175dc6deda4535a7c5bee010c4a9f002/src/pip/_vendor/packaging/tags.py, I don't think pip accepts that tag either. So it seems like we shouldn't?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv installs and uninstalls tink==1.10.0 during each sync" to "uv installs and uninstalls yggdrasil-engine==1.10.0 during each sync" by @ErliSoares on 2025-11-24 09:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../Unleash/yggdrasil-bindings/issues/44.html">Unleash/yggdrasil-bindings#44</a> on 2025-11-24 09:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "uv installs and uninstalls yggdrasil-engine==1.10.0 during each sync" to "uv installs and uninstalls yggdrasil-engine==1.0.0 during each sync" by @konstin on 2025-11-24 12:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-11-24 12:59</div>
            <div class="timeline-body"><p>That's a bug in their build system, you can see the mismatch between <code>WHEEL</code> tag and tag on the wheel file at https://inspector.pypi.io/project/yggdrasil-engine/1.0.0/packages/8a/b6/d28ae545685159c1747a420e6c628b4566b8f2162448e7d36ee3da38958c/yggdrasil_engine-1.0.0-cp313-abi3-manylinux2014_x86_64.whl/yggdrasil_engine-1.0.0.dist-info/WHEEL#line.4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ErliSoares">@ErliSoares</a> on 2025-11-24 13:55</div>
            <div class="timeline-body"><p>Thank you very much everyone, sorry for the inconvenience.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ErliSoares on 2025-11-24 13:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
