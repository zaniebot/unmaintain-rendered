```yaml
number: 13125
title: "How can `uv sync` resolve version pin conflicts between editable-path dependencies and consumer pins in a monorepo?"
type: issue
state: closed
author: K-dash
labels:
  - question
assignees: []
created_at: 2025-04-27T05:52:44Z
updated_at: 2025-04-30T14:08:47Z
url: https://github.com/astral-sh/uv/issues/13125
synced_at: 2026-01-10T01:57:30Z
```

# How can `uv sync` resolve version pin conflicts between editable-path dependencies and consumer pins in a monorepo?

---

_Issue opened by @K-dash on 2025-04-27 05:52_

### Question

#### Summary

`uv sync` fails in our **monorepo** when a consumer package pins an external dependency to a version that conflicts with the version pinned inside a **local editable path dependency** (`common`).

We are **not using `uv workspace`**—only editable paths—yet we would like `uv` to prioritise the version declared by the path dependency rather than treating the situation as unsatisfiable.

#### Motivation / Use-case

```
repo/
├── common/                     # shared lib (editable path)
│   └── pyproject.toml          # requests==2.32.1
├── repo_a/                     # app A
│   └── pyproject.toml          # requests==2.31.0  ← conflict
└── repo_b/                     # app B
    └── pyproject.toml          # requests==2.31.0  ← conflict
```

- Every application declares  
  `[tool.uv.sources] common = { path = "../common", editable = true }`.
- `common` is the single source of truth for shared libs (`requests`, `django`, …).
- Whenever `common` bumps a shared dependency we must visit **all** consumer `pyproject.toml` files and align their pins, otherwise:

```
$ cd common && uv venv && uv sync && uv pip install -e .

$ cd repo_a && uv venv && uv sync && uv pip install -e .
  × No solution found when resolving dependencies:
  ╰─▶ Because only common==0.1.0 is available and common==0.1.0 depends on requests==2.32.1, we can conclude that all versions of common depend on requests==2.32.1.
      And because your project depends on common and requests==2.31.0, we can conclude that your project's requirements are unsatisfiable.
```

#### Current Work-around

1. Run `uv sync` in each consumer directory; note the conflict message.
2. Manually edit the consumer’s `pyproject.toml` (requests==2.32.0 → ==2.32.1, etc.).
3. Run `uv sync` again (now succeeds).

With many consumer packages this manual loop is tedious and error-prone.

This manual update loop in each consumer package remains necessary even if `common`'s dependencies are updated automatically (e.g., by Dependabot), as the consumer's conflicting pins are not automatically aligned. We seek to eliminate this manual step.

#### Questions

- Is there an existing uv feature or recommended pattern to make the resolver automatically prefer the version required by a local editable path dependency when such a conflict occurs?
- If not, would it be feasible to introduce an optional flag or config to enable that behaviour?

### Platform

macOS15 arm64

### Version

uv 0.6.11

---

_Label `question` added by @K-dash on 2025-04-27 05:52_

---

_Comment by @konstin on 2025-04-28 11:31_

There is [override-dependencies](https://docs.astral.sh/uv/reference/settings/#override-dependencies) which allows ignoring certain conflicts. It's usually easier to use wider bounds, e.g., `>=2.32.0,<3.0.0` instead of `==2.32.1`, and to use a lockfile for pinning in applications instead. The lockfile ensures consistent installed version and can be updated by Dependabot, while the wider constraints avoid the dependency conflict.

---

_Comment by @K-dash on 2025-04-30 14:08_

@konstin 
Thank you for your reply. I tried both approaches you suggested and confirmed that they resolve the dependency conflict. I’ll consider which of the two strategies to adopt. Thanks again!

---

_Closed by @K-dash on 2025-04-30 14:08_

---
