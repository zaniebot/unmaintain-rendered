```yaml
number: 17308
title: "unknown field `python-version` when parsing pyproject.toml in non-workspaced subdirectory of a monorepo"
type: issue
state: open
author: btakita
labels:
  - error messages
assignees: []
created_at: 2026-01-02T19:14:51Z
updated_at: 2026-01-05T22:59:22Z
url: https://github.com/astral-sh/uv/issues/17308
synced_at: 2026-01-10T01:57:37Z
```

# unknown field `python-version` when parsing pyproject.toml in non-workspaced subdirectory of a monorepo

---

_Issue opened by @btakita on 2026-01-02 19:14_

### Summary

When I run uv in a subdirectory of a monorepo root...where the subdirectory is not included as a workspace member...uv is unable to parse pyproject.toml.

Here is the relevant section:

```
[tool.uv]
default-groups = ["dev", "test"]
python-preference = "only-managed"
python-version = "3.13"
package = false
```

And the error:

```
‚ùØ uv venv .venv --clear
zsh: correct venv to .venv [nyae]? n
warning: Failed to parse `pyproject.toml` during settings discovery:
  TOML parse error at line 95, column 1
     |
  95 | python-version = "3.13"
     | ^^^^^^^^^^^^^^
  unknown field `python-version`, expected one of `required-version`, `native-tls`, `offline`, `no-cache`, `cache-dir`, `preview`, `python-preference`, `python-downloads`, `concurrent-downloads`, `concurrent-builds`, `concurrent-installs`, `index`, `index-url`, `extra-index-url`, `no-index`, `find-links`, `index-strategy`, `keyring-provider`, `allow-insecure-host`, `resolution`, `prerelease`, `fork-strategy`, `dependency-metadata`, `config-settings`, `config-settings-package`, `no-build-isolation`, `no-build-isolation-package`, `extra-build-dependencies`, `extra-build-variables`, `exclude-newer`, `exclude-newer-package`, `link-mode`, `compile-bytecode`, `no-sources`, `upgrade`, `upgrade-package`, `reinstall`, `reinstall-package`, `no-build`, `no-build-package`, `no-binary`, `no-binary-package`, `torch-backend`, `python-install-mirror`, `pypy-install-mirror`, `python-downloads-json-url`, `publish-url`, `trusted-publishing`, `check-url`, `add-bounds`, `pip`, `cache-keys`, `override-dependencies`, `exclude-dependencies`, `constraint-dependencies`, `build-constraint-dependencies`, `environments`, `required-environments`, `conflicts`, `workspace`, `sources`, `managed`, `package`, `default-groups`, `dependency-groups`, `dev-dependencies`, `build-backend`

Using CPython 3.13.11
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
```

If I add the directory as a workspace, the error does not occur.

### Platform

Linux 6.18.2-3-cachyos x86_64 unknown

### Version

uv 0.9.21 (0dc9556ad 2025-12-30)

### Python version

Using CPython 3.13.11

---

_Label `bug` added by @btakita on 2026-01-02 19:14_

---

_Renamed from "unknown field `python-version` when parsing pyproject.toml" to "unknown field `python-version` when parsing pyproject.toml in non-workspaced subdirectory of a monorepo" by @btakita on 2026-01-02 19:15_

---

_Comment by @turtleDev on 2026-01-04 09:26_

https://docs.astral.sh/uv/reference/settings/#pip_python-platform

According to the reference, `python-version` needs to be specified under `[tool.uv.pip]`

Would you be able to create a reproduction for this bug so we could analyze the problem further?

---

_Assigned to @charliermarsh by @charliermarsh on 2026-01-05 22:34_

---

_Label `bug` removed by @charliermarsh on 2026-01-05 22:59_

---

_Label `error messages` added by @charliermarsh on 2026-01-05 22:59_

---
