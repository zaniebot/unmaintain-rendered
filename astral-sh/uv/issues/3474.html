<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error running uv pip compile with `--python-version` specified when Python 2 is on the PATH - astral-sh/uv #3474</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Error running uv pip compile with <code>--python-version</code> specified when Python 2 is on the PATH</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3474">#3474</a>
        opened by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a>
        on 2024-05-08 22:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a></div>
            <div class="timeline-body"><p>I am looking to migrate some scripts I have at work to use uv, perhaps I am using the <code>--python-version</code> flag wrong, does a Python with that version need to be available on the PATH or can uv resolve without it?</p>
<pre><code>$ uv -V
uv 0.1.41

$ python -V
Python 3.11.4

$ echo &quot;requests&quot; &gt; test.txt

$ uv pip compile --python-version 3.10.6  test.txt 
error: Querying Python at `/usr/bin/python` failed with status exit status: 2 with exit status: 2
--- stdout:

--- stderr:
Unknown option: -I
usage: /usr/bin/python [option] ... [-c cmd | -m mod | file | -] [arg] ...
Try `python -h&#x27; for more information.
---

$ /usr/bin/python -V
Python 2.7.15
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-08 22:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-08 22:40</div>
            <div class="timeline-body"><p>I can fix that. We&#x27;re not catching that specific failure (<code>-I</code> is unsupported).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-08 22:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw-gts">@notatallshaw-gts</a> on 2024-05-08 22:41</div>
            <div class="timeline-body"><p>I don&#x27;t know if it makes a difference, but the reproduction is using a conda environment.</p>
<p>I have a couple of scripts that do something very similar to uv pip compile and sync by using a mix of conda and pip, I am experimenting if I can significantly simplify and speed them up with uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-09 03:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2024-05-09 14:19</div>
            <div class="timeline-body"><p>Thanks as always for the lighting quick fix!</p>
<p>My aging work environment always seems to have a way to find interesting issues. I&#x27;ll continue working to see if I can replace large parts of my logic with uv and if it finds anymore issues ðŸ™‚ .</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-09 14:45</div>
            <div class="timeline-body"><p>No prob, let me know if you continue to see Python 2 issues. It&#x27;s tricky because we can&#x27;t actually get a structured error here (we&#x27;re passing <code>-I</code> to the interpreter which isn&#x27;t supported prior to 3.4).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:03 UTC
    </footer>
</body>
</html>
