<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>When using ``uv venv`` with ``toolchain-preference`` set to ``managed``, it will fetch the wrong platform on ``uv 0.2.21``. - astral-sh/uv #4855</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>When using ``uv venv`` with ``toolchain-preference`` set to ``managed``, it will fetch the wrong platform on ``uv 0.2.21``.</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/4855">#4855</a>
        opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a>
        on 2024-07-07 11:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-07-07 11:21</div>
            <div class="timeline-body"><p><strong>OS:</strong> Windows 11 23H2
<strong>UV Version:</strong> uv 0.2.21 (ebfe6d8fc 2024-07-03)</p>
<h3>Command</h3>
<pre><code class="language-powershell"> uv venv --toolchain-preference managed -p 3.10.14 --verbose
</code></pre>
<h3>Verbose Output</h3>
<pre><code class="language-powershell">DEBUG uv 0.2.21
DEBUG Acquired lock for `C:\Users\user_name\AppData\Roaming\uv\data\toolchains`
DEBUG Using request timeout of 30s
INFO Fetching requested toolchain...
  Ã— Python interpreter not found at `C:\Users\user_name\AppData\Roaming\uv\data\toolchains\cpython-3.10.14-macos-aarch64-none\install\python.exe`
</code></pre>
<h3>toolchain list</h3>
<pre><code class="language-powershell">warning: `uv toolchain list` is experimental and may change without warning.
cpython-3.12.3-windows-x86_64-none      &lt;download available&gt;
cpython-3.11.9-windows-x86_64-none      C:\Users\user_name\AppData\Local\Programs\Python\Python311\python.exe
cpython-3.11.9-windows-x86_64-none      &lt;download available&gt;
cpython-3.10.14-windows-x86_64-none     C:\Users\user_name\AppData\Roaming\uv\data\toolchains\cpython-3.10.14-windows-x86_64-none\install\python.exe
cpython-3.10.11-windows-x86_64-none     C:\Users\user_name\AppData\Local\Programs\Python\Python310\python.exe
cpython-3.9.19-windows-x86_64-none      &lt;download available&gt;
cpython-3.8.19-windows-x86_64-none      &lt;download available&gt;
cpython-3.7.9-windows-x86_64-none       &lt;download available&gt;
</code></pre>
<p>If <code>toolchain-preference</code> set to <code>installed</code>, it will run successfully.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "When using ``uv venv`` with ``toolchain-preference`` set to ``managed``, it will fetch the wrong platform." to "When using ``uv venv`` with ``toolchain-preference`` set to ``managed``, it will fetch the wrong platform on ``uv 0.2.21``." by @FishAlchemist on 2024-07-07 11:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-07 16:50</div>
            <div class="timeline-body"><p>I think we fixed this over in https://github.com/astral-sh/uv/pull/4810 and it'll be out in the next release.</p>
<p>Duplicate of https://github.com/astral-sh/uv/issues/4800</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-07-07 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-07-07 17:04</div>
            <div class="timeline-body"><blockquote>
<p>I think we fixed this over in #4810 and it'll be out in the next release.</p>
<p>Duplicate of #4800</p>
</blockquote>
<p>I just tested the issue after building it from source, and the issue is indeed fixed.
I was busy with other things today, so I didn't test the issue by building it from source code. Instead, I just newed the issue without thinking that it might already be fixed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-07 17:05</div>
            <div class="timeline-body"><p>No problem. Thanks for confirming it's fixed, I appreciate it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-07-07 17:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:58 UTC
    </footer>
</body>
</html>
