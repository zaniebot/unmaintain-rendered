<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How do we want to organize caching? - astral-sh/uv #165</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How do we want to organize caching?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/165">#165</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-10-22 14:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>We need to cache:</p>
<ul>
<li>http request, ideally with default, always refresh, offline first and offline modes</li>
<li>wheels we downloaded</li>
<li>built wheels</li>
<li>python interpreter metadata
...and possible more later.</li>
</ul>
<p>Personally, i like giving each it's own bucket/folder so you can clear individual caches and see which one has which size. Where possible, i also like to keep the name of thing such as e.g. storing the wheel under its name which makes it much easier to introspect and debug the cache (which some hierarchy to avoid to many files in one directory which otherwise causes problems). That's unfortunately not really possible for generic urls but may be possible if we key things by their target (e.g. &quot;pypi-metadata-foo_lib-1.2.3a1&quot;).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-30 01:55</div>
            <div class="timeline-body"><p>Going to close for now, since we've made a lot of progress here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-11-30 01:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:02 UTC
    </footer>
</body>
</html>
