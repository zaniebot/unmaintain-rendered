```yaml
number: 9652
title: "Add `uv run --watch script.py` command to rerun `uv run` on `.py` file changes"
type: issue
state: open
author: nikivdev
labels:
  - enhancement
  - help wanted
assignees: []
created_at: 2024-12-05T01:00:28Z
updated_at: 2025-06-04T13:01:55Z
url: https://github.com/astral-sh/uv/issues/9652
synced_at: 2026-01-10T01:57:22Z
```

# Add `uv run --watch script.py` command to rerun `uv run` on `.py` file changes

---

_Issue opened by @nikivdev on 2024-12-05 01:00_

Essentially [Bun watch mode](https://bun.sh/docs/runtime/hot) but with `uv`.

Some more context for this [on Discord](https://discord.com/channels/1039017663004942429/1039017663512449056/1314035275466407976).

---

_Label `enhancement` added by @zanieb on 2024-12-05 01:17_

---

_Comment by @zanieb on 2024-12-05 01:17_

Sounds cool!

---

_Label `help wanted` added by @zanieb on 2024-12-05 01:17_

---

_Comment by @posutsai on 2025-01-17 04:10_

Hi @nikitavoloboev, 
Do you plan to send a PR? I am also interested in this feature. Not sure if I should start the development.
Thank you.

---

_Comment by @zanieb on 2025-01-17 04:51_

@Gankra started looking into this and noted there was some lurking complexity.

---

_Comment by @Gankra on 2025-01-17 13:29_

Two issues to resolve:
* how do we select which files to watch (first draft can just watch the script, but it would be nice if its deps could be watched)
* how do we "properly" cancel scripts on windows to rerun them (we have code for it on unix only, possible this is trivial but the existence of bespoke unix handling has me worried there's extra complexity)

---

_Comment by @nikivdev on 2025-01-17 14:23_

I would look into how bun does that and copy that for `uv`. I never had issues there, I assume the only diff is the dep part but I never needed to rerun on dep changes.

---

_Referenced in [astral-sh/uv#10781](../../astral-sh/uv/pulls/10781.md) on 2025-01-21 18:38_

---

_Comment by @breightend on 2025-04-04 15:01_

Any updates on this? it would be an awesome feature  

---

_Comment by @thejchap on 2025-04-04 16:48_

@zanieb @Gankra id be interested in working on this one - don't have any experience with windows dev though - thoughts on enabling for Unix only to start?

Also - is the idea to implement specifically for script file paths or any target that can be passed in to "run"?

Was just taking a look at the notify crate - thoughts on starting out with something like that for the watcher implementation?

---

_Comment by @Gankra on 2025-04-08 20:28_

@thejchap yes the notify crate (or maybe specifically notify_debouncer_mini which wraps it) is the right tool. The impls in mdbook are in my experience pretty reasonably to base this work off of:

https://github.com/rust-lang/mdBook/blob/master/src/cmd/watch.rs
https://github.com/rust-lang/mdBook/blob/master/src/cmd/watch/native.rs

----

I would prefer if it were cross-platform, I think for the most part all the logic will be portable, so sure get it working on unix first and we'll figure it out from there.

----

I believe for the first draft just taking a script to run is acceptable.

---

_Comment by @thejchap on 2025-04-08 23:53_

sounds good - and thanks for the mdbook pointers. will get into it

---

_Referenced in [astral-sh/uv#12847](../../astral-sh/uv/pulls/12847.md) on 2025-04-11 22:28_

---

_Comment by @thejchap on 2025-04-11 22:44_

@Gankra got an MVP implementation here: https://github.com/astral-sh/uv/pull/12847

pausing here for some early feedback. i left notes on a couple specific things that came up in the description (around exit codes/clearscreen behavior/debounce behavior), but any general feedback on the direction before i get in further is appreciated

---

_Comment by @thejchap on 2025-06-04 13:01_

@zanieb @Gankra let me know if i can help/make any more progress on this one

---
