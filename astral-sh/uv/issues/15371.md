```yaml
number: 15371
title: "Always install the latest version in `uv tool install`"
type: issue
state: open
author: varioustoxins
labels:
  - needs-decision
  - breaking
assignees: []
created_at: 2025-08-19T07:36:55Z
updated_at: 2025-10-12T21:16:51Z
url: https://github.com/astral-sh/uv/issues/15371
synced_at: 2026-01-10T01:57:34Z
```

# Always install the latest version in `uv tool install`

---

_Issue opened by @varioustoxins on 2025-08-19 07:36_

### Summary

if I do 

```bash 
uv tool uninstall nef-pipelines
uv tool install nef-pipelines --with rich  --python 3.11 --with streamfitter
```

this will install the latest version of `nef-pipelines`

then

```bash
uv tool install nef-pipelines=0.1.111 --with rich  --python 3.11
```

takes me back to an older version without the streamfitter module which has a bug

```bash
nef help about --version
0.1.111

nef

....

ModuleNotFoundError: No module named 'streamfitter'
```

However, if I now request what you would presume is the latest version again, it doesn't install it.  I still have the bug and the version is not the latest

```bash
uv tool install nef-pipelines --with rich  --python 3.11
nef help about --version
0.1.111
...
error output as before
```

I have to do

```bash
uv tool uninstall nef-pipelines
uv tool install nef-pipelines --with rich  --python 3.11 
```

to get the latest version as shown by

```bash
nef help about --version
0.1.112

nef
....
output but no errors
```

 is this correct, it seems unintuitive?





### Platform

macOS Sonoma 14.2.1

### Version

uv 0.8.12 (36151df0e 2025-08-18)

### Python version

python 3.11 for the tool

---

_Label `bug` added by @varioustoxins on 2025-08-19 07:36_

---

_Comment by @charliermarsh on 2025-08-19 09:15_

I think this is correct in that you already have a tool installed that satisfies the request (in other words, omitting the version doesn't count as "latest"). We could consider changing that, but we have a dedicated `@latest` tag for this:
```
uv tool install "nef-pipelines@latest" --python 3.11
```

---

_Label `bug` removed by @charliermarsh on 2025-08-19 09:15_

---

_Label `question` added by @charliermarsh on 2025-08-19 09:15_

---

_Assigned to @charliermarsh by @charliermarsh on 2025-08-19 09:15_

---

_Comment by @varioustoxins on 2025-08-19 19:34_

Can I disagree? What I get out of an install shouldn't depend on my previous installs, it should be idempotent. This puts less mental burden on the user (and I think maybe what people expect?). Anyway whatever your decision is great work and I will add @latest to my bag of tricks!

---

_Comment by @zanieb on 2025-08-19 19:58_

I think we chose this model because it matches `pip install <name>`

```
❯ uvx pip install anyio==4.9.0
Installed 1 package in 9ms
Collecting anyio==4.9.0
  Using cached anyio-4.9.0-py3-none-any.whl.metadata (4.7 kB)
Collecting idna>=2.8 (from anyio==4.9.0)
  Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting sniffio>=1.1 (from anyio==4.9.0)
  Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Using cached anyio-4.9.0-py3-none-any.whl (100 kB)
Using cached idna-3.10-py3-none-any.whl (70 kB)
Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
Installing collected packages: sniffio, idna, anyio
Successfully installed anyio-4.9.0 idna-3.10 sniffio-1.3.1
❯ uvx pip install anyio
Requirement already satisfied: anyio in /private/tmp/example/cache/archive-v0/i6E4eerwUddLyN-rHEMwN/lib/python3.13/site-packages (4.9.0)
Requirement already satisfied: idna>=2.8 in /private/tmp/example/cache/archive-v0/i6E4eerwUddLyN-rHEMwN/lib/python3.13/site-packages (from anyio) (3.10)
Requirement already satisfied: sniffio>=1.1 in /private/tmp/example/cache/archive-v0/i6E4eerwUddLyN-rHEMwN/lib/python3.13/site-packages (from anyio) (1.3.1)
```

(`uv pip install` is the same)

---

_Comment by @zanieb on 2025-08-19 20:00_

As a data point, I think `cargo install` has the behavior you want

---

_Comment by @charliermarsh on 2025-08-19 21:12_

I would be fine changing this for `uv tool install`, I think.

---

_Renamed from "uv tool install without a version should always install the latest version?" to "Always install the latest version in `uv tool install`" by @zanieb on 2025-08-19 21:24_

---

_Label `question` removed by @zanieb on 2025-08-19 21:24_

---

_Label `needs-decision` added by @zanieb on 2025-08-19 21:24_

---

_Label `breaking` added by @zanieb on 2025-08-19 21:24_

---

_Comment by @zanieb on 2025-08-19 21:25_

I think I would be too. It's inconsistent, but a pretty reasonable behavior. Let's consider it for 0.9.

---

_Added to milestone `v0.9.0` by @zanieb on 2025-08-19 21:25_

---

_Comment by @powercoconola on 2025-08-20 16:04_

What does the first `uv tool install ruff` do differently than the second? The second one gives `'ruff' is already installed`, which seems correct. Would this be solved by simply giving that message on the first install attempt?

```shell
> uv tool install ruff@0.12.8
Resolved 1 package in 11ms
Installed 1 package in 32ms
 + ruff==0.12.8
Installed 1 executable: ruff

> ruff --version
ruff 0.12.8

> uv tool install ruff
Resolved 1 package in 10ms
Audited 1 package in 0.04ms
Installed 1 executable: ruff

> ruff --version
ruff 0.12.8

> uv tool install ruff
`ruff` is already installed
```


---

_Comment by @varioustoxins on 2025-08-21 09:37_

Hi I think if you would want to go down this road you should phrase the message carefully

If ruff is installed but not latest:

ruff is already installed at version 0.12.8 to install he latest version use uv tool install with ***@***.***

If ruff is installed at latest

ruff is already installed at version 0.12.8 (the latest version)

regards
Gary


Dr Gary S Thompson NMR Facility Manager
CCPN CoI & Working Group Member
Wellcome Trust Biomolecular NMR Facility
School of Natural Sciences
University of Kent,  Canterbury,  Kent,  England,  CT2 7NZ

☎:01227 82 7117
✉️: ***@***.***
orchid: orcid.org/0000-0001-9399-7636

On 20 Aug 2025, at 17:04, powercoconola ***@***.***> wrote:

[https://avatars.githubusercontent.com/u/185171681?s=20&v=4]powercoconola left a comment (astral-sh/uv#15371)<https://github.com/astral-sh/uv/issues/15371#issuecomment-3207004462>

What does the first uv tool install ruff do differently than the second? The second one gives 'ruff' is already installed, which seems correct. Would this be solved by simply giving that message on the first install attempt?

> uv tool install ***@***.***
Resolved 1 package in 11ms
Installed 1 package in 32ms
 + ruff==0.12.8
Installed 1 executable: ruff

> ruff --version
ruff 0.12.8

> uv tool install ruff
Resolved 1 package in 10ms
Audited 1 package in 0.04ms
Installed 1 executable: ruff

> ruff --version
ruff 0.12.8

> uv tool install ruff
`ruff` is already installed

—
Reply to this email directly, view it on GitHub<https://github.com/astral-sh/uv/issues/15371#issuecomment-3207004462>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AA3UD6II5BTYFSWGADPL2N33OSMALAVCNFSM6AAAAACEHLL5OCVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZTEMBXGAYDINBWGI>.
You are receiving this because you authored the thread.Message ID: ***@***.***>



---

_Comment by @vivodi on 2025-09-17 23:13_

I think this change is very necessary — the current behavior is too counterintuitive.

---

_Comment by @vivodi on 2025-09-17 23:17_

If a version number is specified during installation, then even running `uv tool upgrade <package>` later won’t update the package. This design is quite strange.

---

_Comment by @powercoconola on 2025-09-18 13:56_

> If a version number is specified during installation, then even running `uv tool upgrade <package>` later won’t update the package. This design is quite strange.

I agree, it's hard to remember. The easiest thing to remember is `@latest` syntax, or basically always specifying the version I want using `install`. The `upgrade` command is not useful to remember because it has too many quirks of relying on how tools were previously installed.

```shell
> uv tool install ruff@0.12
Resolved 1 package in 152ms
Downloading ruff (11.1MiB)
 Downloading ruff
Prepared 1 package in 1.43s
Installed 1 package in 28ms
 + ruff==0.12.0
Installed 1 executable: ruff

> uv tool upgrade ruff
Nothing to upgrade

> ruff --version
ruff 0.12.0

> uv tool install ruff@latest
Resolved 1 package in 162ms
Prepared 1 package in 2ms
Uninstalled 1 package in 10ms
Installed 1 package in 33ms
 - ruff==0.12.0
 + ruff==0.13.0
Installed 1 executable: ruff
```





---

_Removed from milestone `v0.9.0` by @zanieb on 2025-10-12 21:16_

---

_Added to milestone `v0.10.0` by @zanieb on 2025-10-12 21:16_

---
