<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request: Add Requires Python Version similar to Pipenv - astral-sh/uv #4963</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature Request: Add Requires Python Version similar to Pipenv</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/4963">#4963</a>
        opened by <a href="https://github.com/vasudev-gm">@vasudev-gm</a>
        on 2024-07-10 15:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/vasudev-gm">@vasudev-gm</a> on 2024-07-10 15:35</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>I am always amazed with rust based tools made by Astral. Added Ruff more than a year ago and still loving it. During the course of years I had migrated few of my test projects from normal virtualenv to Pipenv when onboarding new team members we always had to double check the Python version through Chat or Readme file within project. Pipenv lock file includes the python version required along with pinned package version.</p>
<p>In my limited testing of uv and the performance is amazing and most of the packages are installed(unless it is bigger than my slow internet) in a blink of an eye which I had to double check by removing cached files twice and even passed no-cache argument.</p>
<p>Not sure if I'm being greedy with too much feature requests linked to <a href="https://github.com/astral-sh/uv/issues/4893">uv lock format</a> and asking to add Requires Python Version to make migration from pipenv easier.</p>
<p>It is alright if this feature is not in current roadmap but planned in future releases.</p>
<p>Thank you Charlie and team at Astral.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2024-07-11 14:43</div>
            <div class="timeline-body"><p>I think uv lock format would ask your needs since it also lock <code>requires-python</code> at top-level:
https://github.com/astral-sh/uv/blob/42cb2541b513a9d53d9c677610fd478e27162a74/crates/uv/tests/lock.rs#L45-L46
Also, it's gonna to support <code>.python-version</code> file and perhaps a <a href="https://github.com/astral-sh/uv/issues/4970">specific key</a> via <code>pyproject.toml</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-11 14:50</div>
            <div class="timeline-body"><p>I think this may be resolved by #4970 but we probably won't support writing the pin to the lock file since it's not part of the lock. You could pin <code>Requires-Python</code> itself and it'll be encoded there though, if you're only using a single version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-07-11 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2024-07-11 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vasudev-gm">@vasudev-gm</a> on 2024-07-11 15:15</div>
            <div class="timeline-body"><p>Thanks. At the moment I'm not seeing doc in the cli nor on GitHub.</p>
<hr />
<p>From: T-256 <em><strong>@</strong></em>.<em><strong>&gt;
Sent: Thursday, July 11, 2024 8:13 PM
To: astral-sh/uv ***@</strong></em>.<em><strong>&gt;
Cc: Vasudev ***@</strong></em>.<em><strong>&gt;; Author ***@</strong></em>.***&gt;
Subject: Re: [astral-sh/uv] Feature Request: Add Requires Python Version similar to Pipenv (Issue #4963)</p>
<p>I think uv lock format would ask your needs since it also lock requires-python at top-level:
https://github.com/astral-sh/uv/blob/42cb2541b513a9d53d9c677610fd478e27162a74/crates/uv/tests/lock.rs#L45-L46
Also, it's gonna to support .python-version file and perhaps a specific key<a href="https://github.com/astral-sh/uv/issues/4970">https://github.com/astral-sh/uv/issues/4970</a> via pyproject.toml.</p>
<p>—
Reply to this email directly, view it on GitHub<a href="https://github.com/astral-sh/uv/issues/4963#issuecomment-2223123762">https://github.com/astral-sh/uv/issues/4963#issuecomment-2223123762</a>, or unsubscribe<a href="https://github.com/notifications/unsubscribe-auth/ANCXKE4VQXHMFO47KJJ5JLDZL2KZPAVCNFSM6AAAAABKVFODV6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDEMRTGEZDGNZWGI">https://github.com/notifications/unsubscribe-auth/ANCXKE4VQXHMFO47KJJ5JLDZL2KZPAVCNFSM6AAAAABKVFODV6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDEMRTGEZDGNZWGI</a>.
You are receiving this because you authored the thread.Message ID: <em><strong>@</strong></em>.***&gt;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vasudev-gm">@vasudev-gm</a> on 2024-07-11 15:28</div>
            <div class="timeline-body"><p>Does uv accept yaml or will a simple .python-version file with following contents work just fine?</p>
<pre><code>[requires]
python_version = &quot;3.12&quot;
With multiple versions being supported should it declared with || or simply pass it as an list or array for example: [&quot;3.11.8&quot;, &quot;3.12.3&quot;, &quot;3.13rc1&quot;]
</code></pre>
<p>Would love to hear your thoughts as I would like to make the migration to uv as simple as possible while maintaining compatibility with pipenv.</p>
<hr />
<p>From: Zanie Blue <em><strong>@</strong></em>.<em><strong>&gt;
Sent: Thursday, July 11, 2024 8:20 PM
To: astral-sh/uv ***@</strong></em>.<em><strong>&gt;
Cc: Vasudev ***@</strong></em>.<em><strong>&gt;; Author ***@</strong></em>.***&gt;
Subject: Re: [astral-sh/uv] Feature Request: Add Requires Python Version similar to Pipenv (Issue #4963)</p>
<p>I think this may be resolved by #4970<a href="https://github.com/astral-sh/uv/issues/4970">https://github.com/astral-sh/uv/issues/4970</a> but we probably won't support writing the pin to the lock file since it's not part of the lock. You could pin Requires-Python itself and it'll be encoded there though, if you're only using a single version.</p>
<p>—
Reply to this email directly, view it on GitHub<a href="https://github.com/astral-sh/uv/issues/4963#issuecomment-2223141719">https://github.com/astral-sh/uv/issues/4963#issuecomment-2223141719</a>, or unsubscribe<a href="https://github.com/notifications/unsubscribe-auth/ANCXKE4GDR32ZJBCGWNC6Y3ZL2LUDAVCNFSM6AAAAABKVFODV6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDEMRTGE2DCNZRHE">https://github.com/notifications/unsubscribe-auth/ANCXKE4GDR32ZJBCGWNC6Y3ZL2LUDAVCNFSM6AAAAABKVFODV6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDEMRTGE2DCNZRHE</a>.
You are receiving this because you authored the thread.Message ID: <em><strong>@</strong></em>.***&gt;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-11 15:42</div>
            <div class="timeline-body"><p>We only support a <code>.python-version</code> file with a single line or a <code>.python-versions</code> file with a version per line right now. We don't support parsing YAML — what format is that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vasudev-gm">@vasudev-gm</a> on 2024-07-11 15:56</div>
            <div class="timeline-body"><p>YAML is used Docker compose and other config related to deployment.
Thanks for the insights. Much appreciated</p>
<hr />
<p>From: Zanie Blue <em><strong>@</strong></em>.<em><strong>&gt;
Sent: Thursday, July 11, 2024 9:12 PM
To: astral-sh/uv ***@</strong></em>.<em><strong>&gt;
Cc: Vasudev ***@</strong></em>.<em><strong>&gt;; Author ***@</strong></em>.***&gt;
Subject: Re: [astral-sh/uv] Feature Request: Add Requires Python Version similar to Pipenv (Issue #4963)</p>
<p>We only support a .python-version file with a single line or a .python-versions file with a version per line right now. We don't support parsing YAML — what format is that?</p>
<p>—
Reply to this email directly, view it on GitHub<a href="https://github.com/astral-sh/uv/issues/4963#issuecomment-2223279492">https://github.com/astral-sh/uv/issues/4963#issuecomment-2223279492</a>, or unsubscribe<a href="https://github.com/notifications/unsubscribe-auth/ANCXKEYQNJII4JSXF25THLDZL2RV7AVCNFSM6AAAAABKVFODV6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDEMRTGI3TSNBZGI">https://github.com/notifications/unsubscribe-auth/ANCXKEYQNJII4JSXF25THLDZL2RV7AVCNFSM6AAAAABKVFODV6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDEMRTGI3TSNBZGI</a>.
You are receiving this because you authored the thread.Message ID: <em><strong>@</strong></em>.***&gt;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> removed by @zanieb on 2024-08-20 18:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-25 21:49</div>
            <div class="timeline-body"><p>I believe this is now covered by <code>.python-version</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-25 21:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:58 UTC
    </footer>
</body>
</html>
