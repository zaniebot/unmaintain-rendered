<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolve torchrun script dependencies - astral-sh/uv #17644</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Resolve torchrun script dependencies</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17644">#17644</a>
        opened by <a href="https://github.com/lhoestq">@lhoestq</a>
        on 2026-01-21 18:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lhoestq">@lhoestq</a></div>
            <div class="timeline-body">Summary
<p>Hey I&#x27;m Quentin from Hugging Face :)</p>
<p>Training an AI model with multiple GPUs requires using the <code>torchrun</code> or <code>accelerate launch</code> command, followed by the python script containing the training code. For example</p>
<pre><code>torchrun train.py
</code></pre>
<p>uv doesn&#x27;t resolve dependencies of scripts passed after such commands. For example this doesn&#x27;t resolve dependencies in train.py:</p>
<pre><code>uv run torchrun train.py
</code></pre>
<p>I think it would be great for uv to resolve dependencies in this case</p>
<p>cc @davanstrien for viz</p>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/lhoestq">@lhoestq</a> on 2026-01-21 18:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-21 20:20</div>
            <div class="timeline-body"><p>How would we know that an argument after <code>&lt;command&gt;</code> is a target for uv? I&#x27;m not sure we want to start scanning for scripts in arbitrary command arguments.</p>
<p>I think the current suggestion would be to do <code>uv run --with-requirements-from train.py torchrun train.py</code>, which is a bit verbose. We&#x27;ve also considered something like <code>uv run --wrapper torchrun -- train.py</code>. See #7032</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-21 21:29:31 UTC
    </footer>
</body>
</html>
