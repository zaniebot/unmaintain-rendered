<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv sync` is installing dev-dependencies. - astral-sh/uv #15065</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv sync` is installing dev-dependencies.</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15065">#15065</a>
        opened by <a href="https://github.com/pspino">@pspino</a>
        on 2025-08-04 20:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pspino">@pspino</a> on 2025-08-04 20:51</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I have the following pyproject.toml:</p>
<pre><code>dependencies = [
    &quot;fastapi&quot;,
    &quot;uvicorn&quot;,
    &quot;pydantic&quot;,
    &quot;pandas==2.3&quot;,
    &quot;pyyaml==6.0.2&quot;,
    &quot;spacy==3.8.7&quot;,
    &quot;torch==2.7.0&quot;
]

[tool.uv]
dev-dependencies = [
    &quot;pytest==8.4.0&quot;,
]
</code></pre>
<p>when I do <code>uv sync</code>, I noticed that <code>pytest==8.4.0</code> was installed along with the other dependencies. This should not have happen since it is located in the dev-dependencies.</p>
<p>If I am not mistaken, the <code>--dev</code> option is there to properly install those dev-dependencies.</p>
<p>I have uploaded the dump from <code>uv sync --dry-run -v</code> for reference.</p>
<p><a href="https://github.com/user-attachments/files/21584633/uv-sync-dryrun.txt">uv-sync-dryrun.txt</a></p>
<h3>Platform</h3>
<p>ubuntu24.04</p>
<h3>Version</h3>
<p>0.8.4</p>
<h3>Python version</h3>
<p>python3.12.11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @pspino on 2025-08-04 20:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-08-04 21:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-08-04 21:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-04 21:04</div>
            <div class="timeline-body"><p>This is intentional, as documented at https://docs.astral.sh/uv/concepts/projects/sync/#syncing-development-dependencies and https://docs.astral.sh/uv/concepts/projects/dependencies/#default-groups</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-08-05 09:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pspino">@pspino</a> on 2025-08-05 12:17</div>
            <div class="timeline-body"><p>then this part should be updated in the documentation -&gt; https://docs.astral.sh/uv/reference/cli/#uv-sync--all-groups
This implies that not all groups are to be sync be default</p>
<p>thank you for your time !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-05 12:57</div>
            <div class="timeline-body"><p>We don't sync all groups by default. See the documentation I linked please.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
