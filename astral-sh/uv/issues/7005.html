<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv add pyqt5` error - astral-sh/uv #7005</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv add pyqt5` error</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7005">#7005</a>
        opened by <a href="https://github.com/rainzee">@rainzee</a>
        on 2024-09-04 11:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rainzee">@rainzee</a> on 2024-09-04 11:03</div>
            <div class="timeline-body"><p><code>uv pip install pyqt5</code> works perfectly
but <code>uv add pyqt5</code> result error:</p>
<pre><code>‚ùØ uv add pyqt5
Resolved 4 packages in 2.78s
error: distribution pyqt5-qt5==5.15.14 @ registry+https://pypi.org/simple can't be installed because it doesn't have a source distribution or wheel for the current platform
</code></pre>
<p>uv version <code>uv 0.4.4 (3d75df6ab 2024-09-04)</code>
os windows 10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rainzee">@rainzee</a> on 2024-09-04 11:18</div>
            <div class="timeline-body"><p>I did some digging and found that <code>pyqt5</code> depends on a package called <code>pyqt5-qt5</code> which does not support Windows in versions <code>5.15.11</code> - <code>5.15.14</code>, but does support Windows in <code>5.15.2</code>.</p>
<p>In this case, how to lock dependencies across platforms? In other words, how to avoid errors, after all, there is no problem with normal installation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-04 13:27</div>
            <div class="timeline-body"><p>This is an inherent problem with distributions that don't ship source distributions, and have limited platform support. We can't guarantee that the set of wheels will cover all the platforms you care about. I'd suggest adding a constraint like:</p>
<pre><code class="language-toml">[tool.uv]
constraint-dependencies = [&quot;pyqt5-qt5 &lt;=5.15.2&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-04 13:27</div>
            <div class="timeline-body"><p>It's the same problem as #5182, so gonna merge in there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-04 13:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-09-04 13:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rainzee">@rainzee</a> on 2024-09-05 01:57</div>
            <div class="timeline-body"><p>So, is this a bug or expected behavior? I tried multiple different package managers(poetry and pdm) and all went wrong, but I felt we could do better, after all, this distribution pattern exists for many popular libraries, so how do we lock down dependencies?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adam-grant-hendry">@adam-grant-hendry</a> on 2024-12-09 21:01</div>
            <div class="timeline-body"><blockquote>
<p>This is an inherent problem with distributions that don't ship source distributions, and have limited platform support. We can't guarantee that the set of wheels will cover all the platforms you care about. I'd suggest adding a constraint like:</p>
<p>[tool.uv]
constraint-dependencies = [&quot;pyqt5-qt5 &lt;=5.15.2&quot;]</p>
</blockquote>
<p>Since this is a Windows-only issue, wouldn't it be better to do this?</p>
<pre><code class="language-toml">deps = [
    &quot;pyqt5&gt;=5.15.11; sys_platform != 'win32'&quot;,
    &quot;pyqt5&lt;=5.15.2; sys_platform == 'win32'&quot;
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adam-grant-hendry">@adam-grant-hendry</a> on 2024-12-09 22:34</div>
            <div class="timeline-body"><p>Note: <code>pyside2</code> is also not available for <code>python &gt;= 3.11</code> (<a href="https://pypi.org/project/PySide2/">PyPI-PySide2</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-15 20:27</div>
            <div class="timeline-body"><p>It looks like they added the necessary distributions here.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:52:35 UTC
    </footer>
</body>
</html>
