<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>on python requirements file: uv does not recognize extra-index-url in combination with environment markers, treating them as a whole index, which fails - astral-sh/uv #16488</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>on python requirements file: uv does not recognize extra-index-url in combination with environment markers, treating them as a whole index, which fails</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16488">#16488</a>
        opened by <a href="https://github.com/loscrossos">@loscrossos</a>
        on 2025-10-28 21:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/loscrossos">@loscrossos</a></div>
            <div class="timeline-body">Summary
<p><strong>Problem</strong></p>
<p>When installing packages from requirements txt uv will ignore environment makers in combination with &quot;extra-index-url&quot;.</p>
<p>on windows, using this <code>requirements.txt</code> uv &quot;ignores&quot; extra indexes and installs the normal CPU version.
This file is <a href="https://packaging.python.org/en/latest/specifications/dependency-specifiers/#dependency-specifiers">PEP508/PyPa Spec</a> compliant</p>
<pre><code>--extra-index-url=https://download.pytorch.org/whl/nightly/cpu ; sys_platform  == &#x27;darwin&#x27;
--extra-index-url=https://download.pytorch.org/whl/cu129 ; sys_platform  != &#x27;darwin&#x27;
torch==2.9.0 ; sys_platform  != &#x27;darwin&#x27;
torch ; sys_platform  == &#x27;darwin&#x27;
torchvision
torchaudio
</code></pre>
<p>intended is: on mac to instal the nightly CPU and on windows the CUDA version of pytorch using the extra index.</p>
<p>UV ignored the extra index and installs the normal CPU version.</p>
<p>If i remove the env marker and only leave this, then it works as intended and the cuda version is installed.</p>
<pre><code>--extra-index-url=https://download.pytorch.org/whl/cu129 
torch==2.9.0 ; sys_platform  != &#x27;darwin&#x27;
torch ; sys_platform  == &#x27;darwin&#x27;
torchvision
torchaudio
</code></pre>
<p><strong>Root cause analysis</strong></p>
<p>looking at the log below i can see the error. Culprit is:</p>
<pre><code>DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/torch/
</code></pre>
<p>See that <code>%20;%20sys_platform%20%20!=%20darwin</code> part? uv URL-encoded the entire line, meaning it treated the whole string as a URL, not as an indexed URL + marker expression.</p>
<p>In other words, it looked for a literal index at:</p>
<p><code>https://download.pytorch.org/whl/cu129 ; sys_platform  != darwin/</code></p>
<p>which of course doesnt exist.</p>
<p><strong>Solution</strong></p>
<p>extra indexes lines (actually any lines) on requirements files must be parsed for environment markers.</p>
<p><strong>additional details</strong></p>
<p>full log for --verbose with the first file.</p>
<pre><code>d:\&gt;py -3.13 -m venv .myenv
d:\&gt;.myenv\Scripts\activate
(.myenv) d:\&gt;pip install uv

Collecting uv
  Using cached uv-0.9.5-py3-none-win_amd64.whl.metadata (12 kB)
Using cached uv-0.9.5-py3-none-win_amd64.whl (21.4 MB)
Installing collected packages: uv
Successfully installed uv-0.9.5

[notice] A new release of pip is available: 25.2 -&gt; 25.3
[notice] To update, run: python.exe -m pip install --upgrade pip

(.myenv) d:\&gt;uv pip install -r requirements.txt --verbose
DEBUG uv 0.9.5 (d5f39331a 2025-10-21)
DEBUG Acquired shared lock for `C:\Users\user\AppData\Local\uv\cache`
DEBUG Searching for default Python interpreter in virtual environments
DEBUG Found `cpython-3.13.8-windows-x86_64-none` at `d:\.myenv\Scripts\python.exe` (active virtual environment)
Using Python 3.13.8 environment at: d:\.myenv
DEBUG Acquired lock for `d:\.myenv`
DEBUG At least one requirement is not satisfied: torchaudio
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.13.8
DEBUG Solving with target Python version: &gt;=3.13.8
DEBUG Adding direct dependency: torch{sys_platform != &#x27;darwin&#x27;}&gt;=2.9.0, &lt;2.9.0+
DEBUG Adding direct dependency: torchvision*
DEBUG Adding direct dependency: torchaudio*
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\torch.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\torchvision.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\torchaudio.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/torch/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/torchvision/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/torchaudio/
DEBUG No netrc file found
DEBUG Acquired lock for `credentials store`
DEBUG Released lock at `C:\Users\user\AppData\Roaming\uv\credentials\credentials.toml.lock`
DEBUG No credentials file found at C:\Users\user\AppData\Roaming\uv\credentials\credentials.toml
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\torch.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\torch.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\torchaudio.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\torchaudio.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/torch/
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/torchaudio/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\torchvision.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\torchvision.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/torchvision/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\torch.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\torch.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\torchaudio.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\torchaudio.lock`
DEBUG Found stale response for: https://pypi.org/simple/torch/
DEBUG Sending revalidation request for: https://pypi.org/simple/torch/
DEBUG Found stale response for: https://pypi.org/simple/torchaudio/
DEBUG Sending revalidation request for: https://pypi.org/simple/torchaudio/
DEBUG Found not-modified response for: https://pypi.org/simple/torchaudio/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\torchaudio.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\torchaudio\torchaudio-2.9.0-cp313-cp313-win_amd64.lock`
DEBUG Found not-modified response for: https://pypi.org/simple/torch/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\torch.lock`
DEBUG Searching for a compatible version of torch{sys_platform != &#x27;darwin&#x27;} (&gt;=2.9.0, &lt;2.9.0+)
DEBUG Selecting: torch==2.9.0 [compatible] (torch-2.9.0-cp313-cp313-win_amd64.whl)
DEBUG Adding transitive dependency for torch==2.9.0: torch==2.9.0
DEBUG Adding transitive dependency for torch==2.9.0: torch{sys_platform != &#x27;darwin&#x27;}==2.9.0
DEBUG Searching for a compatible version of torch (==2.9.0)
DEBUG Selecting: torch==2.9.0 [compatible] (torch-2.9.0-cp313-cp313-win_amd64.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\torch\torch-2.9.0-cp313-cp313-win_amd64.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/be/53/5f9adbea55e48f91532ee4f041283900939ee5cb6bc1395587214e67a629/torchaudio-2.9.0-cp313-cp313-win_amd64.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\torchaudio\torchaudio-2.9.0-cp313-cp313-win_amd64.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/b7/a5/5cb94fa4fd1e78223455c23c200f30f6dc10c6d4a2bcc8f6e7f2a2588370/torch-2.9.0-cp313-cp313-win_amd64.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\torch\torch-2.9.0-cp313-cp313-win_amd64.lock`
DEBUG Adding transitive dependency for torch==2.9.0: filelock*
DEBUG Adding transitive dependency for torch==2.9.0: typing-extensions&gt;=4.10.0
DEBUG Adding transitive dependency for torch==2.9.0: sympy&gt;=1.13.3
DEBUG Adding transitive dependency for torch==2.9.0: networkx&gt;=2.5.1
DEBUG Adding transitive dependency for torch==2.9.0: jinja2*
DEBUG Adding transitive dependency for torch==2.9.0: fsspec&gt;=0.8.5
DEBUG Adding transitive dependency for torch==2.9.0: setuptools{python_full_version &gt;= &#x27;3.12&#x27;}*
DEBUG Searching for a compatible version of torch{sys_platform != &#x27;darwin&#x27;} (==2.9.0)
DEBUG Selecting: torch==2.9.0 [compatible] (torch-2.9.0-cp313-cp313-win_amd64.whl)
DEBUG Adding transitive dependency for torch==2.9.0: filelock*
DEBUG Adding transitive dependency for torch==2.9.0: typing-extensions&gt;=4.10.0
DEBUG Adding transitive dependency for torch==2.9.0: sympy&gt;=1.13.3
DEBUG Adding transitive dependency for torch==2.9.0: networkx&gt;=2.5.1
DEBUG Adding transitive dependency for torch==2.9.0: jinja2*
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\filelock.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\sympy.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\typing-extensions.lock`
DEBUG Adding transitive dependency for torch==2.9.0: fsspec&gt;=0.8.5
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\networkx.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\jinja2.lock`
DEBUG Adding transitive dependency for torch==2.9.0: setuptools{python_full_version &gt;= &#x27;3.12&#x27;}*
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\fsspec.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\setuptools.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/filelock/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/sympy/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/networkx/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/typing-extensions/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/jinja2/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/fsspec/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/setuptools/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\torchvision.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\torchvision.lock`
DEBUG Found stale response for: https://pypi.org/simple/torchvision/
DEBUG Sending revalidation request for: https://pypi.org/simple/torchvision/
DEBUG Found not-modified response for: https://pypi.org/simple/torchvision/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\torchvision.lock`
DEBUG Searching for a compatible version of torchvision (*)
DEBUG Selecting: torchvision==0.24.0 [compatible] (torchvision-0.24.0-cp313-cp313-win_amd64.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\torchvision\torchvision-0.24.0-cp313-cp313-win_amd64.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/93/c2/48cb0b6b26276d2120b1e0dbc877579a748eae02b4091a7522ce54f6d5e1/torchvision-0.24.0-cp313-cp313-win_amd64.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\torchvision\torchvision-0.24.0-cp313-cp313-win_amd64.lock`
DEBUG Adding transitive dependency for torchvision==0.24.0: numpy*
DEBUG Adding transitive dependency for torchvision==0.24.0: torch&gt;=2.9.0, &lt;2.9.0+
DEBUG Adding transitive dependency for torchvision==0.24.0: pillow&gt;=5.3.0, &lt;8.3.dev0 | &gt;=8.4.dev0
DEBUG Searching for a compatible version of torchaudio (*)
DEBUG Selecting: torchaudio==2.9.0 [compatible] (torchaudio-2.9.0-cp313-cp313-win_amd64.whl)
DEBUG Adding transitive dependency for torchaudio==2.9.0: torch&gt;=2.9.0, &lt;2.9.0+
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\numpy.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\pillow.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/numpy/
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/pillow/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\filelock.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\setuptools.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\filelock.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\setuptools.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/filelock/
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/setuptools/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\networkx.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\jinja2.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\networkx.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\jinja2.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/networkx/
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/jinja2/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\fsspec.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\fsspec.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/fsspec/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\typing-extensions.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\typing-extensions.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/typing-extensions/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\sympy.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\sympy.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/sympy/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\pillow.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\numpy.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\pillow.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\numpy.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/pillow/
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/numpy/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\setuptools.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\setuptools.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\filelock.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\filelock.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\fsspec.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\fsspec.lock`
DEBUG Found stale response for: https://pypi.org/simple/filelock/
DEBUG Sending revalidation request for: https://pypi.org/simple/filelock/
DEBUG Found stale response for: https://pypi.org/simple/setuptools/
DEBUG Sending revalidation request for: https://pypi.org/simple/setuptools/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\networkx.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\networkx.lock`
DEBUG Found stale response for: https://pypi.org/simple/fsspec/
DEBUG Sending revalidation request for: https://pypi.org/simple/fsspec/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\typing-extensions.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\typing-extensions.lock`
DEBUG Found stale response for: https://pypi.org/simple/networkx/
DEBUG Sending revalidation request for: https://pypi.org/simple/networkx/
DEBUG Found not-modified response for: https://pypi.org/simple/filelock/
DEBUG Found not-modified response for: https://pypi.org/simple/setuptools/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\filelock.lock`
DEBUG Searching for a compatible version of filelock (*)
DEBUG Selecting: filelock==3.20.0 [compatible] (filelock-3.20.0-py3-none-any.whl)
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\setuptools.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\setuptools\setuptools-80.9.0-py3-none-any.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\filelock\filelock-3.20.0-py3-none-any.lock`
DEBUG Found stale response for: https://pypi.org/simple/typing-extensions/
DEBUG Sending revalidation request for: https://pypi.org/simple/typing-extensions/
DEBUG Found not-modified response for: https://pypi.org/simple/fsspec/
DEBUG Found not-modified response for: https://pypi.org/simple/networkx/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\fsspec.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\networkx.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\fsspec\fsspec-2025.9.0-py3-none-any.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\networkx\networkx-3.5-py3-none-any.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/76/91/7216b27286936c16f5b4d0c530087e4a54eead683e6b0b73dd0c64844af6/filelock-3.20.0-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\filelock\filelock-3.20.0-py3-none-any.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/a3/dc/17031897dae0efacfea57dfd3a82fdd2a2aeb58e0ff71b77b87e44edc772/setuptools-80.9.0-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\setuptools\setuptools-80.9.0-py3-none-any.lock`
DEBUG Found not-modified response for: https://pypi.org/simple/typing-extensions/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\typing-extensions.lock`
DEBUG Searching for a compatible version of typing-extensions (&gt;=4.10.0)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/eb/8d/776adee7bbf76365fdd7f2552710282c79a4ead5d2a46408c9043a2b70ba/networkx-3.5-py3-none-any.whl.metadata
DEBUG Selecting: typing-extensions==4.15.0 [compatible] (typing_extensions-4.15.0-py3-none-any.whl)
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\networkx\networkx-3.5-py3-none-any.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/47/71/70db47e4f6ce3e5c37a607355f80da8860a33226be640226ac52cb05ef2e/fsspec-2025.9.0-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\fsspec\fsspec-2025.9.0-py3-none-any.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\typing-extensions\typing_extensions-4.15.0-py3-none-any.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\sympy.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\sympy.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/18/67/36e9267722cc04a6b9f15c7f3441c2363321a3ea07da7ae0c0707beb2a9c/typing_extensions-4.15.0-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\typing-extensions\typing_extensions-4.15.0-py3-none-any.lock`
DEBUG Found stale response for: https://pypi.org/simple/sympy/
DEBUG Sending revalidation request for: https://pypi.org/simple/sympy/
DEBUG Found not-modified response for: https://pypi.org/simple/sympy/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\sympy.lock`
DEBUG Searching for a compatible version of sympy (&gt;=1.13.3)
DEBUG Selecting: sympy==1.14.0 [compatible] (sympy-1.14.0-py3-none-any.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\sympy\sympy-1.14.0-py3-none-any.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/a2/09/77d55d46fd61b4a135c444fc97158ef34a095e5681d0a6c10b75bf356191/sympy-1.14.0-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\sympy\sympy-1.14.0-py3-none-any.lock`
DEBUG Adding transitive dependency for sympy==1.14.0: mpmath&gt;=1.1.0, &lt;1.4
DEBUG Searching for a compatible version of networkx (&gt;=2.5.1)
DEBUG Selecting: networkx==3.5 [compatible] (networkx-3.5-py3-none-any.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\mpmath.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/mpmath/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\jinja2.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\jinja2.lock`
DEBUG Found stale response for: https://pypi.org/simple/jinja2/
DEBUG Sending revalidation request for: https://pypi.org/simple/jinja2/
DEBUG Found not-modified response for: https://pypi.org/simple/jinja2/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\jinja2.lock`
DEBUG Searching for a compatible version of jinja2 (*)
DEBUG Selecting: jinja2==3.1.6 [compatible] (jinja2-3.1.6-py3-none-any.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\jinja2\jinja2-3.1.6-py3-none-any.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/62/a1/3d680cbfd5f4b8f15abc1d571870c5fc3e594bb582bc3b64ea099db13e56/jinja2-3.1.6-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\jinja2\jinja2-3.1.6-py3-none-any.lock`
DEBUG Adding transitive dependency for jinja2==3.1.6: markupsafe&gt;=2.0
DEBUG Searching for a compatible version of fsspec (&gt;=0.8.5)
DEBUG Selecting: fsspec==2025.9.0 [compatible] (fsspec-2025.9.0-py3-none-any.whl)
DEBUG Searching for a compatible version of setuptools{python_full_version &gt;= &#x27;3.12&#x27;} (*)
DEBUG Selecting: setuptools==80.9.0 [compatible] (setuptools-80.9.0-py3-none-any.whl)
DEBUG Adding transitive dependency for setuptools==80.9.0: setuptools==80.9.0
DEBUG Adding transitive dependency for setuptools==80.9.0: setuptools{python_full_version &gt;= &#x27;3.12&#x27;}==80.9.0
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\markupsafe.lock`
DEBUG Searching for a compatible version of setuptools (==80.9.0)
DEBUG Selecting: setuptools==80.9.0 [compatible] (setuptools-80.9.0-py3-none-any.whl)
DEBUG No cache entry for: https://download.pytorch.org/whl/nightly/cpu%20;%20sys_platform%20%20==%20darwin/markupsafe/
DEBUG Searching for a compatible version of setuptools{python_full_version &gt;= &#x27;3.12&#x27;} (==80.9.0)
DEBUG Selecting: setuptools==80.9.0 [compatible] (setuptools-80.9.0-py3-none-any.whl)
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\numpy.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\numpy.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\pillow.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\pillow.lock`
DEBUG Found stale response for: https://pypi.org/simple/numpy/
DEBUG Sending revalidation request for: https://pypi.org/simple/numpy/
DEBUG Found stale response for: https://pypi.org/simple/pillow/
DEBUG Sending revalidation request for: https://pypi.org/simple/pillow/
DEBUG Found not-modified response for: https://pypi.org/simple/pillow/
DEBUG Found not-modified response for: https://pypi.org/simple/numpy/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\pillow.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\numpy.lock`
DEBUG Searching for a compatible version of numpy (*)
DEBUG Selecting: numpy==2.3.4 [compatible] (numpy-2.3.4-cp313-cp313-win_amd64.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\pillow\pillow-12.0.0-cp313-cp313-win_amd64.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\numpy\numpy-2.3.4-cp313-cp313-win_amd64.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/09/97/fd421e8bc50766665ad35536c2bb4ef916533ba1fdd053a62d96cc7c8b95/numpy-2.3.4-cp313-cp313-win_amd64.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\numpy\numpy-2.3.4-cp313-cp313-win_amd64.lock`
DEBUG Searching for a compatible version of pillow (&gt;=5.3.0, &lt;8.3.dev0 | &gt;=8.4.dev0)
DEBUG Selecting: pillow==12.0.0 [compatible] (pillow-12.0.0-cp313-cp313-win_amd64.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/6d/2a/dd43dcfd6dae9b6a49ee28a8eedb98c7d5ff2de94a5d834565164667b97b/pillow-12.0.0-cp313-cp313-win_amd64.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\pillow\pillow-12.0.0-cp313-cp313-win_amd64.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\mpmath.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\mpmath.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/mpmath/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\931da70f52d37106\markupsafe.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\markupsafe.lock`
DEBUG No cache entry for: https://download.pytorch.org/whl/cu129%20;%20sys_platform%20%20!=%20darwin/markupsafe/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\mpmath.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\mpmath.lock`
DEBUG Found stale response for: https://pypi.org/simple/mpmath/
DEBUG Sending revalidation request for: https://pypi.org/simple/mpmath/
DEBUG Found not-modified response for: https://pypi.org/simple/mpmath/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\mpmath.lock`
DEBUG Searching for a compatible version of mpmath (&gt;=1.1.0, &lt;1.4)
DEBUG Selecting: mpmath==1.3.0 [compatible] (mpmath-1.3.0-py3-none-any.whl)
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\index\f866c880cdd09fc8\markupsafe.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\mpmath\mpmath-1.3.0-py3-none-any.lock`
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\markupsafe.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/43/e3/7d92a15f894aa0c9c4b49b8ee9ac9850d6e63b03c9c32c0367a13ae62209/mpmath-1.3.0-py3-none-any.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\mpmath\mpmath-1.3.0-py3-none-any.lock`
DEBUG Found stale response for: https://pypi.org/simple/markupsafe/
DEBUG Sending revalidation request for: https://pypi.org/simple/markupsafe/
DEBUG Found not-modified response for: https://pypi.org/simple/markupsafe/
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\simple-v18\pypi\markupsafe.lock`
DEBUG Searching for a compatible version of markupsafe (&gt;=2.0)
DEBUG Selecting: markupsafe==3.0.3 [compatible] (markupsafe-3.0.3-cp313-cp313-win_amd64.whl)
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\markupsafe\markupsafe-3.0.3-cp313-cp313-win_amd64.lock`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/05/73/c4abe620b841b6b791f2edc248f556900667a5a1cf023a6646967ae98335/markupsafe-3.0.3-cp313-cp313-win_amd64.whl.metadata
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\markupsafe\markupsafe-3.0.3-cp313-cp313-win_amd64.lock`
DEBUG Tried 14 versions: filelock 1, fsspec 1, jinja2 1, markupsafe 1, mpmath 1, networkx 1, numpy 1, pillow 1, setuptools 1, sympy 1, torch 1, torchaudio 1, torchvision 1, typing-extensions 1
DEBUG marker environment resolution took 2.225s
Resolved 14 packages in 2.22s
DEBUG Registry requirement already cached: markupsafe==3.0.3
DEBUG Registry requirement already cached: sympy==1.14.0
DEBUG Registry requirement already cached: torch==2.9.0
DEBUG Registry requirement already cached: torchvision==0.24.0
DEBUG Registry requirement already cached: jinja2==3.1.6
DEBUG Registry requirement already cached: typing-extensions==4.15.0
DEBUG Identified uncached distribution: pillow==12.0.0
DEBUG Registry requirement already cached: fsspec==2025.9.0
DEBUG Registry requirement already cached: filelock==3.20.0
DEBUG Registry requirement already cached: torchaudio==2.9.0
DEBUG Registry requirement already cached: numpy==2.3.4
DEBUG Registry requirement already cached: mpmath==1.3.0
DEBUG Registry requirement already cached: networkx==3.5
DEBUG Registry requirement already cached: setuptools==80.9.0
DEBUG Preserving seed package: pip==25.2
DEBUG Preserving seed package: uv==0.9.5
DEBUG Acquired lock for `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\pillow\pillow-12.0.0-cp313-cp313-win_amd64.lock`
DEBUG No cache entry for: https://files.pythonhosted.org/packages/6d/2a/dd43dcfd6dae9b6a49ee28a8eedb98c7d5ff2de94a5d834565164667b97b/pillow-12.0.0-cp313-cp313-win_amd64.whl
Downloading pillow (6.7MiB)
 Downloading pillow
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\wheels-v5\pypi\pillow\pillow-12.0.0-cp313-cp313-win_amd64.lock`
Prepared 1 package in 1.11s
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\markupsafe\py.typed` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\ua9IDhnAAKjvyr1P5gJup\markupsafe\py.typed`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\PIL\AvifImagePlugin.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\Zeo7jev3ACKws2yIq4Pm_\PIL\AvifImagePlugin.py`, attempting to copy files as a fallback
warning: Failed to hardlink files; falling back to full copy. This may lead to degraded performance.
         If the cache and target directories are on different filesystems, hardlinking may not be supported.
         If this is intentional, set `export UV_LINK_MODE=copy` or use `--link-mode=copy` to suppress this warning.
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\filelock\asyncio.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\0lasub7_4uDoyR1nfpN7r\filelock\asyncio.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\fsspec\archive.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\lW9zz7SthyokLRPMwA1ZU\fsspec\archive.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\typing_extensions-4.15.0.dist-info\licenses\LICENSE` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\7Yj60n768ZUpua7nFef03\typing_extensions-4.15.0.dist-info\licenses\LICENSE`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\jinja2\async_utils.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\EiSar_R78bOeWeeJPtwAZ\jinja2\async_utils.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\functorch\compile\__init__.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\6iWLlC4TbjNcaROmlsxio\functorch\compile\__init__.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\torchvision\datasets\caltech.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\FSaRCEw7H8csD05sfHSXy\torchvision\datasets\caltech.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\networkx\algorithms\approximation\clique.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\U-IU_DUhy-psbMtpqSPXq\networkx\algorithms\approximation\clique.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\isympy.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\mSmBNixOk2ZG2nanJCCMY\isympy.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\numpy\char\__init__.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\p0bWBYKxD9F2pXJqwVeNn\numpy\char\__init__.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\torchaudio\compliance\kaldi.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\EBjm_rEzn9g7mGTLR_0pm\torchaudio\compliance\kaldi.py`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\distutils-precedence.pth` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\eiw0GgaILPnMlYIB2s9Ld\distutils-precedence.pth`, attempting to copy files as a fallback
DEBUG Failed to hardlink `d:\.myenv\Lib\site-packages\mpmath\calculus\approximation.py` to `C:\Users\user\AppData\Local\uv\cache\archive-v0\Nh8SS3VjKEfBIlemi8Gyu\mpmath\calculus\approximation.py`, attempting to copy files as a fallback
Installed 14 packages in 7.74s
 + filelock==3.20.0
 + fsspec==2025.9.0
 + jinja2==3.1.6
 + markupsafe==3.0.3
 + mpmath==1.3.0
 + networkx==3.5
 + numpy==2.3.4
 + pillow==12.0.0
 + setuptools==80.9.0
 + sympy==1.14.0
 + torch==2.9.0
 + torchaudio==2.9.0
 + torchvision==0.24.0
 + typing-extensions==4.15.0
DEBUG Released lock at `d:\.myenv\.lock`
DEBUG Released lock at `C:\Users\user\AppData\Local\uv\cache\.lock`
</code></pre>
Platform
<p>windows 11 x86_64</p>
Version
<p>0.9.5</p>
Python version
<p>3,10, 3.11, 3.12, 3.13</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/loscrossos">@loscrossos</a> on 2025-10-28 21:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-10-28 23:32</div>
            <div class="timeline-body"><p>I don&#x27;t think this is doing what you suggest it&#x27;s doing (in pip). For example, this still installs from the PyTorch index even on macOS:</p>
<pre><code>--extra-index-url=https://download.pytorch.org/whl/cu129 ; sys_platform  != &#x27;darwin&#x27;
torch==2.9.0 ; sys_platform  != &#x27;darwin&#x27;
torch ; sys_platform  == &#x27;darwin&#x27;
torchvision
torchaudio
</code></pre>
<p>It seems like pip effectively ignores the markers. We should do the same for compatibility, but pulling in indexes conditionally like that is not supported by either tool in <code>requirements.txt</code> format.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-10-28 23:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-10-28 23:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/loscrossos">@loscrossos</a> on 2025-10-29 14:09</div>
            <div class="timeline-body"><p>holy canoly, you are right!</p>
<p>i never noticed. was too busy looking at PEP, which is a bit vague in that markers exist but does not say where they are <em>not</em> applied.</p>
<p>in my first example pip will indeed simply ignore the markers and concatenate the indexes one after another (which makes sense as those are extra indexes)... thats why i never noticed.. by chance it always did what i expected.</p>
<p>pips output when running the first example on Macos:</p>
<pre><code>Looking in indexes: https://pypi.org/simple, https://download.pytorch.org/whl/nightly/cpu, https://download.pytorch.org/whl/cu129
Ignoring torch: markers &#x27;sys_platform != &quot;darwin&quot;&#x27; don&#x27;t match your environment
</code></pre>
<p>indeed it installs torch==2.9.0 (not the nightly from pytorch).</p>
<p>at least compatibilty got a bit closer.</p>
<p>I opened an issue on pip to see if this is intended (in order to not start replicating bug behavior from pip, which might be fixed some day)... i would expect PEP508/Pypa Spec to apply to the whole file.</p>
<p>https://github.com/pypa/pip/issues/13637</p>
<p>thanks for the quick reaction!!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ichard26">@ichard26</a> on 2025-10-29 14:57</div>
            <div class="timeline-body"><p>Hi,</p>
<p>I&#x27;ve replied to the linked pip issue (<a href="https://github.com/pypa/pip/issues/13637">pypa/pip#13637</a>#issuecomment-3462024847), but TL;DR is CLI handling is not covered by the Dependency Specifier specification (as that&#x27;s tool specific) so pip is free to do whatever it wants. In practice, conditional flags seems like a feature pip could gain support for, but I consider that unlikely since we&#x27;ve generally stopped innovating the <code>requirements.txt</code> format.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-10-29 15:11</div>
            <div class="timeline-body"><p>Also replied on the pip issue, IMO pip should deprecate and eventually remove this allowed syntax if it&#x27;s already ignored, as it&#x27;s clearly confusing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/loscrossos">@loscrossos</a> on 2025-10-29 15:23</div>
            <div class="timeline-body"><p>thanks for the quick reply!</p>
<p>i like how this PEP went circular in the definition, taking existing requirements.txt as the basis and here we are, me complaining that requirements.txt does not behave like the PEP on pip :P</p>
<p>yes this would be a great feature but i also agree, with limited ressources to concentrate on future standards.</p>
<p>i like requirements.txt as its an easy to use format for simple tasks and is quite portable (and it can be referenced from a pyptroject.toml if projects grow) and full cross-OS with the env markers.</p>
<p>I would implement the behavior as a PR for pip, if i had the time as it is small but enables powerful functions where a full pylock file might be overkill and a hand crafted file fulfilly the goal perfectly.. see example above. As now users expect uv to behave the same as pip (or the other way round), would that be ok for you? (im talking about a maybe within a year intention) or do you prefer to let good oll req.txt die? at the end of the day i think its at least a win that both tools now behave consistently.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:49 UTC
    </footer>
</body>
</html>
