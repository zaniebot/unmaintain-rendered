<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessing wrong g++ compiler when using uv to install the package qutip on linux redhat - astral-sh/uv #17457</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Accessing wrong g++ compiler when using uv to install the package qutip on linux redhat</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17457">#17457</a>
        opened by <a href="https://github.com/BenjaminDAnjou">@BenjaminDAnjou</a>
        on 2026-01-14 02:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BenjaminDAnjou">@BenjaminDAnjou</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I am working on a remote server that runs Linux RedHat and I have a strange error that I'm having a hard time to pin down.</p>
<p>I am trying to install the <a href="https://qutip.readthedocs.io/en/stable/">qutip</a> package using <code>uv add</code>:</p>
<pre><code>cd
mkdir project
cd project
uv init --python 3.13.3
uv --verbose add qutip
</code></pre>
<p>This produces the error:</p>
<pre><code>      [stderr]
      error: command '/usr/bin/aarch64-linux-gnu-g++' failed: No such file
      or directory

      hint: This usually indicates a problem with the package or the build
      environment.
  help: If you want to add the package regardless of the failed resolution,
        provide the `--frozen` flag to skip locking and syncing.
DEBUG Released lock at `/net/nfs-iq/home-gh/username/project/.venv/.lock`
DEBUG Released lock at `/home/username/.cache/uv/.lock`
</code></pre>
<p>It seems like uv is looking for the wrong compiler. It feels like it should be looking for</p>
<pre><code>/usr/bin/aarch64-redhat-linux-g++
</code></pre>
<p>which is the compiler that exists on my distribution.</p>
<p>Weirdly, this problem only occurs for the <code>qutip</code> package. The other packages I use don't have this issue. But if I try to install <code>qutip</code> with <code>pyenv</code> and <code>pyenv-virtualenv</code> using <code>pip</code>, I have no issue at all. So there seems to be part of this that is <code>uv</code> specific.</p>
<p>Let me know what you think, and whether you think this is issue is more appropriately directed to the devs of <code>qutip</code>. This is a bit beyond me.</p>
<p><strong>UPDATE:</strong> I managed to get someone else to try on the same machine, and they did not have the same issue. So there must be something in my environment that causes this issue when interacting with both <code>qutip</code> and <code>uv</code>. I will report back if I get more information.</p>
<p><strong>OS INFO:</strong> For completeness, the output of <code>cat /etc/os-release</code> is:</p>
<pre><code>NAME=&quot;Rocky Linux&quot;
VERSION=&quot;9.6 (Blue Onyx)&quot;
ID=&quot;rocky&quot;
ID_LIKE=&quot;rhel centos fedora&quot;
VERSION_ID=&quot;9.6&quot;
PLATFORM_ID=&quot;platform:el9&quot;
PRETTY_NAME=&quot;Rocky Linux 9.6 (Blue Onyx)&quot;
ANSI_COLOR=&quot;0;32&quot;
LOGO=&quot;fedora-logo-icon&quot;
CPE_NAME=&quot;cpe:/o:rocky:rocky:9::baseos&quot;
HOME_URL=&quot;https://rockylinux.org/&quot;
VENDOR_NAME=&quot;RESF&quot;
VENDOR_URL=&quot;https://resf.org/&quot;
BUG_REPORT_URL=&quot;https://bugs.rockylinux.org/&quot;
SUPPORT_END=&quot;2032-05-31&quot;
ROCKY_SUPPORT_PRODUCT=&quot;Rocky-Linux-9&quot;
ROCKY_SUPPORT_PRODUCT_VERSION=&quot;9.6&quot;
REDHAT_SUPPORT_PRODUCT=&quot;Rocky Linux&quot;
REDHAT_SUPPORT_PRODUCT_VERSION=&quot;9.6&quot;
</code></pre>
<h3>Platform</h3>
<p>Linux 5.14.0-427.16.1.el9_4.aarch64+64k aarch64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.9.25</p>
<h3>Python version</h3>
<p>Python 3.13.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @BenjaminDAnjou on 2026-01-14 02:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Error using uv to install the package qutip on linux redhat" to "Accessing wrong g++ compiler when using uv to install the package qutip on linux redhat" by @BenjaminDAnjou on 2026-01-14 02:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2026-01-14 09:35</div>
            <div class="timeline-body"><p>CC @geofft @jjhelmus</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2026-01-14 13:37</div>
            <div class="timeline-body"><blockquote>
<p>UPDATE: I managed to get someone else to try on the same machine, and they did not have the same issue. So there must be something in my environment that causes this issue when interacting with both qutip and uv. I will report back if I get more information.</p>
</blockquote>
<p>@BenjaminDAnjou I also tried to repo using an isolated container but was unable to do so. See below</p>
<pre><code class="language-shell">&gt; docker run -it --rm rockylinux:9 bash -c 'cd; curl -LsSf https://astral.sh/uv/install.sh | sh; source .bashrc; mkdir project; cd project; uv init --python 3.13.3; uv --verbose add qutip'
Initialized project `project`
DEBUG uv 0.9.25
DEBUG Acquired shared lock for `/root/.cache/uv`
DEBUG Found project root: `/root/project`
DEBUG No workspace root found, using project root
DEBUG Acquired exclusive lock for `/root/project`
DEBUG Reading Python requests from version file at `/root/project/.python-version`
DEBUG Using Python request `3.13.3` from version file at `.python-version`
DEBUG Checking for Python environment at: `.venv`
DEBUG Using request timeout of 30s
DEBUG Searching for Python 3.13.3 in managed installations or search path
DEBUG Searching for managed installations at `/root/.local/share/uv/python`
DEBUG Found `cpython-3.9.18-linux-x86_64-gnu` at `/usr/bin/python3` (first executable in the search path)
DEBUG Skipping interpreter at `/usr/bin/python3` from first executable in the search path: does not satisfy request `3.13.3`
DEBUG Acquired exclusive lock for `/root/.local/share/uv/python`
INFO Fetching requested Python...
DEBUG Downloading https://github.com/astral-sh/python-build-standalone/releases/download/20250529/cpython-3.13.3%2B20250529-x86_64-unknown-linux-gnu-install_only_stripped.tar.gz
DEBUG Extracting cpython-3.13.3-20250529-x86_64-unknown-linux-gnu-install_only_stripped.tar.gz to temporary location: /root/.local/share/uv/python/.temp/.tmpCCJcNt
Downloading cpython-3.13.3-linux-x86_64-gnu (download) (33.7MiB)
 Downloaded cpython-3.13.3-linux-x86_64-gnu (download)
DEBUG Moving /root/.local/share/uv/python/.temp/.tmpCCJcNt/python to /root/.local/share/uv/python/cpython-3.13.3-linux-x86_64-gnu
DEBUG Released lock at `/root/.local/share/uv/python/.lock`
Using CPython 3.13.3
Creating virtual environment at: .venv
DEBUG Assessing Python executable as base candidate: /root/.local/share/uv/python/cpython-3.13.3-linux-x86_64-gnu/bin/python3.13
DEBUG Using base executable for virtual environment: /root/.local/share/uv/python/cpython-3.13.3-linux-x86_64-gnu/bin/python3.13
DEBUG Released lock at `/tmp/uv-cca5eaf0b6b257de.lock`
DEBUG Acquired exclusive lock for `.venv`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: project @ file:///root/project
DEBUG No workspace root found, using project root
DEBUG Solving with installed Python version: 3.13.3
DEBUG Solving with target Python version: &gt;=3.13.3
DEBUG Adding direct dependency: project*
DEBUG Searching for a compatible version of project @ file:///root/project (*)
DEBUG Adding direct dependency: qutip*
DEBUG No cache entry for: https://pypi.org/simple/qutip/
DEBUG Searching for a compatible version of qutip (*)
DEBUG Selecting: qutip==5.2.2 [compatible] (qutip-5.2.2-cp313-cp313-macosx_10_13_x86_64.whl)
DEBUG No cache entry for: https://files.pythonhosted.org/packages/15/04/e4e659c9b6da5d27be78a506d7b90c583eda5ab26dcb723314678c523df0/qutip-5.2.2-cp313-cp313-macosx_10_13_x86_64.whl.metadata
DEBUG Adding transitive dependency for qutip==5.2.2: numpy&gt;=1.22
DEBUG Adding transitive dependency for qutip==5.2.2: packaging*
DEBUG Adding transitive dependency for qutip==5.2.2: scipy&gt;=1.9, &lt;1.16.0 | &gt;=1.16.0+
DEBUG No cache entry for: https://pypi.org/simple/numpy/
DEBUG No cache entry for: https://pypi.org/simple/packaging/
DEBUG No cache entry for: https://pypi.org/simple/scipy/
DEBUG No cache entry for: https://files.pythonhosted.org/packages/20/12/38679034af332785aac8774540895e234f4d07f7545804097de4b666afd8/packaging-25.0-py3-none-any.whl.metadata
WARN Skipping file for numpy: numpy-1.0.1.dev3460.win32-py2.4.exe
WARN Skipping file for numpy: numpy-1.3.0.win32-py2.5.exe
WARN Skipping file for numpy: numpy-1.5.0.win32-py2.6.exe
WARN Skipping file for numpy: numpy-1.5.1.win32-py2.5-nosse.exe
WARN Skipping file for numpy: numpy-1.5.1.win32-py2.6-nosse.exe
WARN Skipping file for numpy: numpy-1.5.1.win32-py2.7-nosse.exe
WARN Skipping file for numpy: numpy-1.5.1.win32-py3.1-nosse.exe
WARN Skipping file for numpy: numpy-1.6.0.win32-py2.5.exe
WARN Skipping file for numpy: numpy-1.6.0.win32-py2.6.exe
WARN Skipping file for numpy: numpy-1.6.0.win32-py2.7.exe
WARN Skipping file for numpy: numpy-1.6.0.win32-py3.1.exe
WARN Skipping file for numpy: numpy-1.6.0.win32-py3.2.exe
WARN Skipping file for numpy: numpy-1.6.1.win32-py2.5.exe
WARN Skipping file for numpy: numpy-1.6.1.win32-py2.6.exe
WARN Skipping file for numpy: numpy-1.6.1.win32-py2.7.exe
WARN Skipping file for numpy: numpy-1.6.1.win32-py3.1.exe
WARN Skipping file for numpy: numpy-1.6.1.win32-py3.2.exe
WARN Skipping file for numpy: numpy-1.6.2.win32-py2.5.exe
WARN Skipping file for numpy: numpy-1.6.2.win32-py2.6.exe
WARN Skipping file for numpy: numpy-1.6.2.win32-py2.7.exe
WARN Skipping file for numpy: numpy-1.6.2.win32-py3.1.exe
WARN Skipping file for numpy: numpy-1.6.2.win32-py3.2.exe
WARN Skipping file for numpy: numpy-1.7.0.win32-py2.5.exe
WARN Skipping file for numpy: numpy-1.7.0.win32-py2.6.exe
WARN Skipping file for numpy: numpy-1.7.0.win32-py2.7.exe
WARN Skipping file for numpy: numpy-1.7.0.win32-py3.1.exe
WARN Skipping file for numpy: numpy-1.7.0.win32-py3.2.exe
WARN Skipping file for numpy: numpy-1.7.0.win32-py3.3.exe
WARN Skipping file for numpy: numpy-1.7.1.win32-py2.5.exe
WARN Skipping file for numpy: numpy-1.7.1.win32-py2.6.exe
WARN Skipping file for numpy: numpy-1.7.1.win32-py2.7.exe
WARN Skipping file for numpy: numpy-1.7.1.win32-py3.1.exe
WARN Skipping file for numpy: numpy-1.7.1.win32-py3.2.exe
WARN Skipping file for numpy: numpy-1.7.1.win32-py3.3.exe
DEBUG Searching for a compatible version of numpy (&gt;=1.22)
DEBUG Selecting: numpy==2.4.1 [compatible] (numpy-2.4.1-cp313-cp313-macosx_10_13_x86_64.whl)
DEBUG No cache entry for: https://files.pythonhosted.org/packages/04/68/732d4b7811c00775f3bd522a21e8dd5a23f77eb11acdeb663e4a4ebf0ef4/numpy-2.4.1-cp313-cp313-macosx_10_13_x86_64.whl.metadata
DEBUG No cache entry for: https://files.pythonhosted.org/packages/0c/51/3468fdfd49387ddefee1636f5cf6d03ce603b75205bf439bbf0e62069bfd/scipy-1.17.0-cp313-cp313-macosx_10_14_x86_64.whl.metadata
DEBUG Searching for a compatible version of packaging (*)
DEBUG Selecting: packaging==25.0 [compatible] (packaging-25.0-py3-none-any.whl)
DEBUG Searching for a compatible version of scipy (&gt;=1.9, &lt;1.16.0 | &gt;=1.16.0+)
DEBUG Selecting: scipy==1.17.0 [compatible] (scipy-1.17.0-cp313-cp313-macosx_10_14_x86_64.whl)
DEBUG Adding transitive dependency for scipy==1.17.0: numpy&gt;=1.26.4, &lt;2.7
DEBUG Tried 5 versions: numpy 1, packaging 1, project 1, qutip 1, scipy 1
DEBUG all marker environments resolution took 0.377s
Resolved 5 packages in 380ms
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: project @ file:///root/project
DEBUG No workspace root found, using project root
DEBUG Resolving despite existing lockfile due to mismatched requirements for: `project==0.1.0`
  Requested: {Requirement { name: PackageName(&quot;qutip&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: GreaterThanEqual, version: &quot;5.2.2&quot; }]), index: None, conflict: None }, origin: None }}
  Existing: {Requirement { name: PackageName(&quot;qutip&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([]), index: None, conflict: None }, origin: None }}
DEBUG Solving with installed Python version: 3.13.3
DEBUG Solving with target Python version: &gt;=3.13.3
DEBUG Adding direct dependency: project*
DEBUG Searching for a compatible version of project @ file:///root/project (*)
DEBUG Adding direct dependency: qutip&gt;=5.2.2
DEBUG Searching for a compatible version of qutip (&gt;=5.2.2)
DEBUG Selecting: qutip==5.2.2 [preference] (qutip-5.2.2-cp313-cp313-macosx_10_13_x86_64.whl)
DEBUG Adding transitive dependency for qutip==5.2.2: numpy&gt;=1.22
DEBUG Adding transitive dependency for qutip==5.2.2: packaging*
DEBUG Adding transitive dependency for qutip==5.2.2: scipy&gt;=1.9, &lt;1.16.0 | &gt;=1.16.0+
DEBUG Searching for a compatible version of numpy (&gt;=1.22)
DEBUG Selecting: numpy==2.4.1 [preference] (numpy-2.4.1-cp313-cp313-macosx_10_13_x86_64.whl)
DEBUG Searching for a compatible version of packaging (*)
DEBUG Selecting: packaging==25.0 [preference] (packaging-25.0-py3-none-any.whl)
DEBUG Searching for a compatible version of scipy (&gt;=1.9, &lt;1.16.0 | &gt;=1.16.0+)
DEBUG Selecting: scipy==1.17.0 [preference] (scipy-1.17.0-cp313-cp313-macosx_10_14_x86_64.whl)
DEBUG Adding transitive dependency for scipy==1.17.0: numpy&gt;=1.26.4, &lt;2.7
DEBUG Tried 5 versions: numpy 1, packaging 1, project 1, qutip 1, scipy 1
DEBUG all marker environments resolution took 0.001s
DEBUG Using request timeout of 30s
DEBUG Identified uncached distribution: qutip==5.2.2
DEBUG Identified uncached distribution: numpy==2.4.1
DEBUG Identified uncached distribution: packaging==25.0
DEBUG Identified uncached distribution: scipy==1.17.0
DEBUG No cache entry for: https://files.pythonhosted.org/packages/63/1e/12fbf2a3bb240161651c94bb5cdd0eae5d4e8cc6eaeceb74ab07b12a753d/scipy-1.17.0-cp313-cp313-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl
DEBUG No cache entry for: https://files.pythonhosted.org/packages/92/98/bf98e661b24387bbf559a5015341c64d04ea3e58d28eed4b05402bc33bae/qutip-5.2.2-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.whl
DEBUG No cache entry for: https://files.pythonhosted.org/packages/20/12/38679034af332785aac8774540895e234f4d07f7545804097de4b666afd8/packaging-25.0-py3-none-any.whl
DEBUG No cache entry for: https://files.pythonhosted.org/packages/ba/87/d341e519956273b39d8d47969dd1eaa1af740615394fe67d06f1efa68773/numpy-2.4.1-cp313-cp313-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl
Downloading numpy (15.6MiB)
Downloading scipy (33.4MiB)
Downloading qutip (29.9MiB)
 Downloaded numpy
 Downloaded qutip
 Downloaded scipy
Prepared 4 packages in 4.59s
Installed 4 packages in 69ms
 + numpy==2.4.1
 + packaging==25.0
 + qutip==5.2.2
 + scipy==1.17.0
DEBUG Released lock at `/root/project/.venv/.lock`
DEBUG Released lock at `/root/.cache/uv/.lock`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BenjaminDAnjou">@BenjaminDAnjou</a> on 2026-01-14 14:42</div>
            <div class="timeline-body"><p>So we managed to fix the problem. What we had to do was to explicitly delete all the <code>uv</code> packets (in <code>~/.local/share/uv</code>) and the <code>uv</code> cache (in <code>~/.cache/uv</code>), and the problem was fixed.</p>
<p>It's hard to know exactly what happened. Maybe an interrupted process left in files that were supposed to be deleted after execution. In any case, I'll leave this here in case anyone has the same issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @konstin on 2026-01-14 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @konstin on 2026-01-14 14:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-14 15:43:21 UTC
    </footer>
</body>
</html>
