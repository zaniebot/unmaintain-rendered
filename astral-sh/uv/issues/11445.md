```yaml
number: 11445
title: Allow providing a uv.lock file to uv sync for clarity?
type: issue
state: closed
author: nbelakovski
labels:
  - question
assignees: []
created_at: 2025-02-12T14:18:10Z
updated_at: 2025-03-04T14:55:10Z
url: https://github.com/astral-sh/uv/issues/11445
synced_at: 2026-01-10T01:57:26Z
```

# Allow providing a uv.lock file to uv sync for clarity?

---

_Issue opened by @nbelakovski on 2025-02-12 14:18_

### Question

I'm new to uv, and one thing I'm struggling with is the nomenclature with sync, frozen, and locked.

uv sync seems to pull double/triple duty in that it can either sync my uv.lock to my venv, or it can sync my pyproject.toml+updates to my uv.lock (which is also done by `uv lock`) and to my venv.

The documentation for uv sync isn't great, since the "locking and syncing" page barely mentions uv sync, and the CLI reference clarifies things when it says "The project is re-locked before syncing unless the --locked or --frozen flag is provided.", but this phrase is a bit deep into the documentation and not too easy to find.

I think it would be clearer if uv sync could be provided uv.lock or pyproject.toml, so instead of `uv sync --frozen` you would do `uv sync uv.lock`, and you could also do `uv sync pyproject.toml` to disambiguate what uv sync is doing (and maybe by default `uv sync` looks for pyproject.toml, i.e. the existing behavior).

I think there are maybe other ways to solve this problem but the point is that `uv sync --frozen` is rather confusing for newcomers who want to install what's in uv.lock to replicate their coworker's environment.

### Platform

_No response_

### Version

_No response_

---

_Label `question` added by @nbelakovski on 2025-02-12 14:18_

---

_Comment by @nbelakovski on 2025-02-12 14:23_

Here's another suggestion, although this would be a breaking change unfortunately:

Have the default behavior of `uv sync` be `uv sync --frozen` and introduce `--relock` to have uv sync update the lockfile. `--relock` makes it clear that uv sync will invoke uv lock before running, and it separates the two tools. It's definitely super confusing for new people when uv sync results in an updated lockfile, which is presumably what uv lock is for, in addition to updating the env.

I hope you find these useful, I'm just trying to provide feedback as a newcomer to the tool!

---

_Comment by @konstin on 2025-03-04 14:24_

We consider `uv run` the main starter entrypoint to uv: This subcommand reads your requirements (from pyproject.toml) and runs your code with them, creating a venv, locking and syncing all in the background, with the lockfile more a side effect to keep things stable and reproducible.

`uv sync` will keep the lockfile unchanged if possible, but it updates the lockfile if the requirements changed to avoid a mismatch between `pyproject.toml` and `.venv`. The locked and frozen options were mainly designed for CI and deployment, where someone may have forgotten to re-lock (or re-sync) after changing `pyproject.toml` or wants to add only a single file to an image respectively.

I hope this sheds more light onto why uv sets these defaults to how they currently are.

---

_Comment by @zanieb on 2025-03-04 14:53_

I've updated the "Locking and syncing" page

---

_Comment by @zanieb on 2025-03-04 14:55_

> I think there are maybe other ways to solve this problem but the point is that uv sync --frozen is rather confusing for newcomers who want to install what's in uv.lock to replicate their coworker's environment.

The only reason this would not replicate the environment, is if the `pyproject.toml` has changed and the lockfile has not been updated. In this case, many people would be surprised if the `pyproject.toml` changes were ignored.

I don't think we're likely to change anything here. These are fundamental behaviors of uv. Hopefully we can clarify things through documentation and establishing new norms.

---

_Closed by @zanieb on 2025-03-04 14:55_

---
