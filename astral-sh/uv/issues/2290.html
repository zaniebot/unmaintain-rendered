<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv pip install halo fails - astral-sh/uv #2290</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv pip install halo fails</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2290">#2290</a>
        opened by <a href="https://github.com/marvin8">@marvin8</a>
        on 2024-03-07 23:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/marvin8">@marvin8</a> on 2024-03-07 23:47</div>
            <div class="timeline-body"><p>I am unable to install the package <code>halo</code> in my docker image based on Alpine linux</p>
<p>When I try to run <code>uv pip install halo</code> in my docker image based on Alpine linux, the install fails with the error message below:</p>
<pre><code>Resolved 6 packages in 1.10s
error: Failed to download distributions
  Caused by: Failed to fetch wheel: halo==0.0.31
  Caused by: Failed to build: halo==0.0.31
  Caused by: Build backend failed to build wheel through `build_wheel()`:
--- stdout:

--- stderr:
/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/dist.py:472: SetuptoolsDeprecationWarning: Invalid dash-separated options
!!

        ********************************************************************************
        Usage of dash-separated 'description-file' will not be supported in future
        versions. Please use the underscore name 'description_file' instead.

        By 2024-Sep-26, you need to update your project and remove deprecated calls
        or your builds will no longer be supported.

        See https://setuptools.pypa.io/en/latest/userguide/declarative_config.html for details.
        ********************************************************************************

!!
  opt = self.warn_dash_deprecation(opt, section)
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 11, in &lt;module&gt;
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 410, in build_wheel
    return self._build_with_temp_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 395, in _build_with_temp_dir
    self.run_setup()
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 487, in run_setup
    super().run_setup(setup_script=setup_script)
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 311, in run_setup
    exec(code, locals())
  File &quot;&lt;string&gt;&quot;, line 16, in &lt;module&gt;
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/__init__.py&quot;, line 103, in setup
    return distutils.core.setup(**attrs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/_distutils/core.py&quot;, line 172, in setup
    ok = dist.parse_command_line()
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/_distutils/dist.py&quot;, line 475, in parse_command_line
    args = self._parse_command_opts(parser, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/dist.py&quot;, line 865, in _parse_command_opts
    nargs = _Distribution._parse_command_opts(self, parser, args)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/_distutils/dist.py&quot;, line 534, in _parse_command_opts
    cmd_class = self.get_command_class(command)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/setuptools/dist.py&quot;, line 710, in get_command_class
    self.cmdclass[command] = cmdclass = ep.load()
                                        ^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/importlib/metadata/__init__.py&quot;, line 205, in load
    module = import_module(match.group('module'))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/usr/local/lib/python3.12/importlib/__init__.py&quot;, line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1387, in _gcd_import
  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1360, in _find_and_load
  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1331, in _find_and_load_unlocked
  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 935, in _load_unlocked
  File &quot;&lt;frozen importlib._bootstrap_external&gt;&quot;, line 995, in exec_module
  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 488, in _call_with_frames_removed
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/wheel/bdist_wheel.py&quot;, line 27, in &lt;module&gt;
    from .macosx_libfile import calculate_macosx_platform_tag
  File &quot;/root/.cache/uv/.tmpf8murB/.venv/lib/python3.12/site-packages/wheel/macosx_libfile.py&quot;, line 43, in &lt;module&gt;
    import ctypes
  File &quot;/usr/local/lib/python3.12/ctypes/__init__.py&quot;, line 8, in &lt;module&gt;
    from _ctypes import Union, Structure, Array
ModuleNotFoundError: No module named '_ctypes'
---
</code></pre>
<p>Is this something I need to take up with the maintainers of <a href="https://github.com/manrajgrover/halo"><code>halo</code></a> or is this something <code>uv</code> can fix?</p>
<p>Maybe I am missing some dependency in my Alpine based image?</p>
<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-07 23:49</div>
            <div class="timeline-body"><p>@konstin - Do you mind taking a look at this one?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marvin8">@marvin8</a> on 2024-03-07 23:52</div>
            <div class="timeline-body"><p>As I was typing I noticed a new version of <code>uv</code> has been release. I can confirm that the new version 0.1.16 is failing in the same way.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-07 23:52</div>
            <div class="timeline-body"><p>Just to confirm, is <code>pip</code> able to install the package without error?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marvin8">@marvin8</a> on 2024-03-07 23:56</div>
            <div class="timeline-body"><p>Actually... no, <code>python3 -m pip install halo</code> does not install either with very similar error.</p>
<p>Must be an issue with the package then.</p>
<p>I'll close this issue, doesn't seem to be <code>uv</code> related... sorry for the bother.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @marvin8 on 2024-03-07 23:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:25 UTC
    </footer>
</body>
</html>
