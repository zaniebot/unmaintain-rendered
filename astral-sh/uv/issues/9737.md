```yaml
number: 9737
title: Migration command/guide?
type: issue
state: open
author: samuelcolvin
labels:
  - question
assignees: []
created_at: 2024-12-09T10:53:07Z
updated_at: 2024-12-12T22:13:21Z
url: https://github.com/astral-sh/uv/issues/9737
synced_at: 2026-01-10T01:57:22Z
```

# Migration command/guide?

---

_Issue opened by @samuelcolvin on 2024-12-09 10:53_

Is there any command or migration guide for converting an existing project to using uv?

`uv init` doesn't work, and I'm a bit unclear on the steps required.

(I maintain too many packages, I'm excited about `uv` making that maintenance easier, not looking forward to the overhead of migration)

---

_Comment by @samuelcolvin on 2024-12-09 12:06_

from https://github.com/samuelcolvin/rtoml/pull/85 it seems like the process is:
* create a `.python-version` file if you don't want to use 3.13 by default
* start adding dev dependencies `uv add --dev ...`

That's kind of all, then you need to update all the places you used your old build system, but no command could help with that.

I think a short section in the docs is all that's needed.

---

_Label `documentation` added by @AlexWaygood on 2024-12-09 12:49_

---

_Comment by @zanieb on 2024-12-09 18:49_

Docs work is tracked in https://github.com/astral-sh/uv/issues/5200

There was a proposed change adding `uv add -r pyproject.toml` support but it never got finished due to concerns about expectations around what would be copied.. can't find it right now. Perhaps https://github.com/astral-sh/uv/commit/9fec29d152f25680008c3201e0a7c4330fb6a863

There's also https://github.com/astral-sh/uv/pull/6374 which is similar.

I'd like `uv init` to "work" with an existing `pyproject.toml`, but I'm not sure what the behaviors should be yet.

---

_Label `documentation` removed by @zanieb on 2024-12-09 18:50_

---

_Label `question` added by @zanieb on 2024-12-09 18:50_

---

_Comment by @rbavery on 2024-12-12 22:12_

I've been following the steps here for three projects and they have worked well. I also make changes to make uv's integration with pytorch sources work.

```
torchgpu = [
    "torch==2.5.1+cu121",
    "torchvision==0.20.1+cu121",
]

[[tool.poetry.source]]
name = "pytorch-gpu"
url = "https://download.pytorch.org/whl/cu121"
verify_ssl = true
```

becomes

```
torchgpu = [
    "torch==2.5.1",
    "torchvision==0.20.1",
]

[[tool.uv.index]]
name = "pytorch-cu121"
url = "https://download.pytorch.org/whl/cu121"
explicit = true

[tool.uv.sources]
torch = [
  { index = "pytorch-cu121", marker = "platform_system != 'Darwin'"},
]
torchvision = [
  { index = "pytorch-cu121", marker = "platform_system != 'Darwin'"},
]

```

---
