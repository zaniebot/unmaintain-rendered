<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uv script example on windows gives error - astral-sh/uv #8238</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Uv script example on windows gives error</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8238">#8238</a>
        opened by <a href="https://github.com/mert-kurttutan">@mert-kurttutan</a>
        on 2024-10-16 02:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mert-kurttutan">@mert-kurttutan</a> on 2024-10-16 02:24</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>Hi all,
Thanks for the tooling and project.
When I run the example.py commands from readme.md it gives utf-8 error on windows.</p>
<pre><code class="language-ps1">(base) (example) PS C:\path\to\my\dir\example&gt; echo 'import requests; print(requests.get(&quot;https://astral.sh&quot;))' &gt; example.py
(base) (example) PS C:\path\to\my\dir\example&gt; uv add --script example.py requests
error: invalid utf-8 sequence of 1 bytes from index 0
</code></pre>
<p>uv verbose result:</p>
<pre><code class="language-ps1">(base) (example) PS C:\path\to\my\dir\example&gt; uv --verbose add --script example.py requests 
DEBUG uv 0.4.22 (34be3af84 2024-10-15)
DEBUG Reading requests from `C:\path\to\my\dir\example\.python-version`
DEBUG Searching for Python 3.11 in managed installations, system path, or `py` launcher
DEBUG Found `cpython-3.11.10-windows-x86_64-none` at `C:\path\to\my\dir\example\.venv\Scripts\python.exe` (active virtual environment)
error: invalid utf-8 sequence of 1 bytes from index 0
</code></pre>
<p>Uv version: <code>uv 0.4.22 (34be3af84 2024-10-15)</code></p>
<p>Is this supposed to happen?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mert-kurttutan">@mert-kurttutan</a> on 2024-10-16 02:24</div>
            <div class="timeline-body"><p>I am running it from powershell</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mert-kurttutan">@mert-kurttutan</a> on 2024-10-16 02:39</div>
            <div class="timeline-body"><p>The issue seems have nothing to do with uv, but rather piped output in powershell.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @mert-kurttutan on 2024-10-16 02:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lionderful">@lionderful</a> on 2025-04-17 07:41</div>
            <div class="timeline-body"><blockquote>
<p>The issue seems have nothing to do with uv, but rather piped output in powershell.</p>
</blockquote>
<p>Why closed this issue ? How did you resolve this problem ?</p>
<p>I meet the same problem with powershell or cmd with uv 0.6.14 (a4cec56dc 2025-04-09)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mert-kurttutan">@mert-kurttutan</a> on 2025-04-23 02:32</div>
            <div class="timeline-body"><p>@lionderful</p>
<p>Instead the 1st line in my answer, you need the following pipe command for powershell:</p>
<pre><code class="language-ps1">&quot;import requests; print(requests.get('https://astral.sh'))&quot; | Out-File -FilePath example.py -Encoding utf8
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mert-kurttutan">@mert-kurttutan</a> on 2025-04-23 02:33</div>
            <div class="timeline-body"><p>putting PR for this extra info would be better user experience if you want to attempt</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lionderful">@lionderful</a> on 2025-04-23 02:44</div>
            <div class="timeline-body"><p>thank you, man!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:00 UTC
    </footer>
</body>
</html>
