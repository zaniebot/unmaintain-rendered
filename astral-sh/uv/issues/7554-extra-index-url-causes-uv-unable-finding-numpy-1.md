```yaml
number: 7554
title: "`--extra-index-url` causes `uv` unable finding `numpy>=1.23,<1.24`"
type: issue
state: closed
author: zhou13
labels:
  - question
assignees: []
created_at: 2024-09-19T16:58:17Z
updated_at: 2024-09-19T17:03:55Z
url: https://github.com/astral-sh/uv/issues/7554
synced_at: 2026-01-12T15:59:14Z
```

# `--extra-index-url` causes `uv` unable finding `numpy>=1.23,<1.24`

---

_@zhou13_

To reproduce
```bash
echo "--extra-index-url https://download.pytorch.org/whl/cu118" > requirements.in
echo "numpy>=1.23,<1.24" >> requirements.in
uv pip compile --python-platform linux --python-version 3.10 requirements.in
```
I got
```
  × No solution found when resolving dependencies:
  ╰─▶ Because only the following versions of numpy are available:
          numpy<1.23
          numpy>1.24
      and you require numpy>=1.23,<1.24, we can conclude that your requirements are unsatisfiable.
```

However, `numpy==1.23.5` exists. You can verify it by
```bash
echo "numpy>=1.23,<1.24" > requirements.in
uv pip compile --python-platform linux --python-version 3.10 requirements.in
```
I got
```
# This file was autogenerated by uv via the following command:
#    uv pip compile --python-platform linux --python-version 3.10 requirements.in
numpy==1.23.5
    # via -r requirements.in
```

## The current uv version (`uv --version`)
```
uv 0.4.12 (2545bca69 2024-09-18)
```

---

_Comment by @charliermarsh on 2024-09-19 16:59_

You will need `--index-strategy unsafe-first-match`. Read here: https://docs.astral.sh/uv/pip/compatibility/#packages-that-exist-on-multiple-indexes

---

_Label `question` added by @charliermarsh on 2024-09-19 16:59_

---

_Comment by @zhou13 on 2024-09-19 17:02_

Thank you for the quick response!

---

_Closed by @zhou13 on 2024-09-19 17:02_

---

_Comment by @charliermarsh on 2024-09-19 17:03_

No problem. We have an open issue to add dedicated error messages for this to make it more obvious.

---
