<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No password prompt when uv add git+ssh with password protected ssh key - astral-sh/uv #17125</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No password prompt when uv add git+ssh with password protected ssh key</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/17125">#17125</a>
        opened by <a href="https://github.com/d3vyce">@d3vyce</a>
        on 2025-12-13 15:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/d3vyce">@d3vyce</a> on 2025-12-13 15:20</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hello,</p>
<p>It's a display bug that occurs when I try to install a Python package from Git via SSH (and an SSH key protected by a password). The command I use is as follows:</p>
<pre><code class="language-bash">(venv) user@fedora:~/$ uv pip install &quot;git+ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git&quot;
Using Python 3.13.9 environment at: venv
   Updating ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git (HEAD)
⠙ Resolving dependencies...
</code></pre>
<p>The command remains stuck on “Resolving dependencies...”.</p>
<p>If I now execute the same command but with “-v,” I am prompted for the ssh key password:</p>
<pre><code class="language-bash">(venv) user@fedora:~/$ uv pip install &quot;git+ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git&quot; -v
DEBUG uv 0.9.17
DEBUG Acquired shared lock for `/home/user/.cache/uv`
DEBUG Searching for default Python interpreter in virtual environments
DEBUG Found `cpython-3.13.9-linux-x86_64-gnu` at `/home/user/Documents/venv/bin/python3` (active virtual environment)
Using Python 3.13.9 environment at: venv
DEBUG Acquired exclusive lock for `venv`
DEBUG At least one requirement is not satisfied: git+ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git
DEBUG Using request timeout of 30s
DEBUG Attempting GitHub fast path for: git+ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git
DEBUG Fetching source distribution from Git: ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git
DEBUG Acquired exclusive lock for `ssh://git.XXXXX.XX/XXXXX/XXXXX`
DEBUG Updating Git source `ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git`
   Updating ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git (HEAD)
DEBUG Performing a Git fetch for: ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git
Enter passphrase for key '/home/user/.ssh/id_ed25519':
</code></pre>
<p>With the first command (without the verbose option), it is possible to type the password despite the message “Resolving dependencies...” and press ENTER. This works and gives the following result:</p>
<pre><code class="language-bash">(venv) user@fedora:~/$ uv pip install &quot;git+ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git&quot;
Using Python 3.13.9 environment at: venv
   Updating ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git (HEAD)
    Updated ssh://git@git.XXXXX.XX/XXXXX/XXXXX.git (43f537dbfd214229ac0e0253b51c1b914928b1d6)
Resolved 35 packages in 2.85s
Audited 35 packages in 0.31ms
</code></pre>
<h3>Platform</h3>
<p>Fedora release 43 (Forty Three)</p>
<h3>Version</h3>
<p>uv 0.9.17</p>
<h3>Python version</h3>
<p>Python 3.13.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @d3vyce on 2025-12-13 15:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-16 10:47</div>
            <div class="timeline-body"><p>Is this a duplicate of https://github.com/astral-sh/uv/issues/12685?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lagamura">@lagamura</a> on 2025-12-16 16:24</div>
            <div class="timeline-body"><p>A workaround is using an ssh-agent and adding your key before executing <code>uv sync</code>.</p>
<pre><code class="language-shell">eval $(ssh-agent -s)
ssh-add ~/.ssh/&lt;private_key&gt;
uv sync
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
