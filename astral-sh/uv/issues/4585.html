<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow `uv add` to specify optional dependency groups - astral-sh/uv #4585</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow `uv add` to specify optional dependency groups</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/4585">#4585</a>
        opened by <a href="https://github.com/blueraft">@blueraft</a>
        on 2024-06-27 11:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/blueraft">@blueraft</a> on 2024-06-27 11:45</div>
            <div class="timeline-body"><p>I didn't see an issue related to this so figured I'd create one.</p>
<p><code>pdm</code> allows extra dependency groups by  by providing -G/--group <name> option, similar functionality for <code>uv</code> would be nice to have.</p>
<p><a href="https://pdm-project.org/en/latest/usage/dependency/#add-dependencies">pdm reference</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-27 17:40</div>
            <div class="timeline-body"><p>I think you should rephrase the issue around supporting dependency groups if that's what you're looking for. We started with a single dev dependency group for simplicity (though internally it's implemented more generically) and <code>uv add</code> already supports <code>--dev</code>. So the request here is really around supporting multiple dependency groups. We want to get more signal on why that's necessary before increasing the user complexity.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2024-06-27 19:19</div>
            <div class="timeline-body"><p>I think this is not really about dependency groups as in poetry, if that's what you're referring to here.</p>
<p>This is about adding additional dependencies to extra groups defined in <code>optional-dependencies</code>.</p>
<pre><code class="language-toml">[project]
name = &quot;foo&quot;
version = &quot;0.1.0&quot;
dependencies = [&quot;requests&quot;]

[project.optional-dependencies]
scraping = [&quot;beautifulsoup4&quot;]
</code></pre>
<p>In the above case <code>pdm add -G scraping selenium</code> adds <code>selenium</code> to the scraping group.</p>
<pre><code class="language-toml">[project]
name = &quot;foo&quot;
version = &quot;0.1.0&quot;
dependencies = [&quot;requests&quot;]

[project.optional-dependencies]
scraping = [
    &quot;beautifulsoup4&quot;,
    &quot;selenium&gt;=4.22.0&quot;,
]
</code></pre>
<p>Of course it's fine not to support that, I can manually add it in the toml file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-27 19:31</div>
            <div class="timeline-body"><p>Oh sorry, I misunderstood -- you want to add to an extra group! Yes this should be supported. I thought it was but looks like not yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @ibraheemdev by @ibraheemdev on 2024-06-27 19:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-06-27 19:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @charliermarsh on 2024-06-27 19:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2024-06-27 19:38</div>
            <div class="timeline-body"><p>All good, perhaps <code>--group/-G</code> is not the best name for this but I just went with the <code>pdm</code> way  ü§∑‚Äç‚ôÇÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @zanieb on 2024-06-27 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4607.html">astral-sh/uv#4607</a> on 2024-06-28 00:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2024-06-28 01:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2024-06-28 01:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:58 UTC
    </footer>
</body>
</html>
