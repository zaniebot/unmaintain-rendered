<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UV PyTorch indexes not found for cu126 - astral-sh/uv #12774</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>UV PyTorch indexes not found for cu126</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12774">#12774</a>
        opened by <a href="https://github.com/bakas-george">@bakas-george</a>
        on 2025-04-09 08:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bakas-george">@bakas-george</a></div>
            <div class="timeline-body">Summary
<p>Hello,</p>
<p>By default, torch installation via <code>uv</code> using CUDA 12.6 fails due to missing support in the <a href="https://docs.astral.sh/uv/guides/integration/pytorch/#using-a-pytorch-index">default</a> uv PyTorch indexes:</p>
<ul>
<li>The uv PyTorch index does not support CUDA 12.6 yet whereas CUDA 12.4 is officially supported on uv.</li>
</ul>
<p>The issue is that you can manually override the index url on the command line:</p>
<pre><code>uv pip install torch --index-url https://download.pytorch.org/whl/cu126
</code></pre>
<p>but when specified in the <code>pyproject.toml</code> this is not overridden.</p>
Platform
<p>Linux Ubuntu 24.04 LTS</p>
Version
<p>uv 0.6.13</p>
Python version
<p>3.13.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/bakas-george">@bakas-george</a> on 2025-04-09 08:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-09 12:28</div>
            <div class="timeline-body"><p>Sorry, what do you mean by “by default”? How would uv know to look on the PyTorch index if it wasn’t specified?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bakas-george">@bakas-george</a> on 2025-04-09 12:55</div>
            <div class="timeline-body"><p>It was specified in the <code>pyproject.toml</code> like this:</p>
<pre><code>[[tool.uv.index]]
name = &quot;torch-gpu&quot;
url = &quot;https://download.pytorch.org/whl/cu126&quot;
explicit = true
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-09 14:40</div>
            <div class="timeline-body"><p>Okay, but what error are you experiencing when you do that? uv doesn&#x27;t hard-code any distinction between those indexes. All PyTorch indexes should work equally well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-10 14:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-10 14:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-10 14:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rulller">@rulller</a> on 2025-04-14 07:54</div>
            <div class="timeline-body"><p>When running <code>uv sync</code> it does not install some additional libraries needed for <code>pytorch</code> with <code>cuda</code>.</p>
<p>On the other hand, when running <code>uv pip install torch --index https://download.pytorch.org/whl/cu126</code> the libraries are installed.</p>
<p>These libraries are:</p>
<pre><code> + nvidia-cublas-cu12==12.6.4.1
 + nvidia-cuda-cupti-cu12==12.6.80
 + nvidia-cuda-nvrtc-cu12==12.6.77
 + nvidia-cuda-runtime-cu12==12.6.77
 + nvidia-cudnn-cu12==9.5.1.17
 + nvidia-cufft-cu12==11.3.0.4
 + nvidia-curand-cu12==10.3.7.77
 + nvidia-cusolver-cu12==11.7.1.2
 + nvidia-cusparse-cu12==12.5.4.2
 + nvidia-cusparselt-cu12==0.6.3
 + nvidia-nccl-cu12==2.21.5
 + nvidia-nvjitlink-cu12==12.6.85
 + nvidia-nvtx-cu12==12.6.77
 + triton==3.2.0
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-14 08:08</div>
            <div class="timeline-body"><p>Can you share your <code>pyproject.toml</code>?</p>
<p>If you are using <code>explicit = true</code>, it will work different than <code>--index https://download.pytorch.org/whl/cu126</code>, does it work without <code>explicit = true</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KukumavMozolo">@KukumavMozolo</a> on 2025-04-15 12:31</div>
            <div class="timeline-body"><p>Thats a known bug wiith pytorch 2.6.0 and cu126, use cu124
<a href="https://github.com/python-poetry/poetry/issues/10152">python-poetry/poetry#10152</a>
<a href="https://github.com/pytorch/pytorch/issues/146679">pytorch/pytorch#146679</a>#issue-2837429944
also allready mentioned here i think: <a href="https://github.com/astral-sh/uv/issues/10693">astral-sh/uv#10693</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jbohnslav">@jbohnslav</a> on 2025-07-03 16:04</div>
            <div class="timeline-body"><p>This issue still exists for pytorch nightly + cuda 12.6 today.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:11 UTC
    </footer>
</body>
</html>
