<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv API does not match pip for non-pypi packages - astral-sh/uv #2494</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>uv API does not match pip for non-pypi packages</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/2494">#2494</a>
        opened by <a href="https://github.com/charles-cooper">@charles-cooper</a>
        on 2024-03-17 14:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charles-cooper">@charles-cooper</a> on 2024-03-17 14:52</div>
            <div class="timeline-body"><pre><code>$ uv --version
uv 0.1.21
</code></pre>
<p>first of all, thank you for making such a great tool!</p>
<p>my issue is that the uv CLI does not match pip for locally installed packages or packages installed from url.</p>
<p>examples:</p>
<pre><code>$ uv pip install .
error: Failed to parse `.`
  Caused by: URL requirement must be preceded by a package name. Add the name of the package before the URL (e.g., `package_name @ /path/to/file`).
</code></pre>
<pre><code>$ uv pip install .[test]
error: Failed to parse `.[test]`
  Caused by: URL requirement must be preceded by a package name. Add the name of the package before the URL (e.g., `package_name @ /path/to/file`).
.[test]
^^^^^^^
</code></pre>
<pre><code>$ uv pip install &quot;git+https://github.com:vyperlang/titanoboa&quot;
error: Failed to parse `git+https://github.com:vyperlang/titanoboa`
  Caused by: Expected one of `@`, `(`, `&lt;`, `=`, `&gt;`, `~`, `!`, `;`, found `+`
git+https://github.com:vyperlang/titanoboa
   ^
</code></pre>
<p>these can be worked around by including the package name, as in <code>uv pip install &quot;my_package @ .&quot;</code>, but it's a bit redundant and requires extra typing. it will also fail if you type the package name wrong, because uv infers the package name from the package metadata anyways:</p>
<pre><code>$ uv pip install &quot;asdlkj @ .&quot;
error: Failed to build: asdlkj @ file:///home/charles/titanoboa
  Caused by: Package metadata name `titanoboa` does not match given name `asdlkj`
</code></pre>
<p>so the <code>&quot;asdlkj @&quot;</code> part can just be completely dropped i think. matching pip here, or even going further and allowing you to skip the <code>.</code> (so <code>uv pip install</code>) would be great.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2495.html">astral-sh/uv#2495</a> on 2024-03-17 15:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-17 15:52</div>
            <div class="timeline-body"><p>Hi! All of these examples are #313 which we intend to address soon.</p>
<p>See that issue or our <a href="https://github.com/astral-sh/uv/blob/main/PIP_COMPATIBILITY.md#direct-url-dependencies-without-package-names">pip-compatibility guide</a> for more context.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-03-17 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-03-17 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-22 21:27</div>
            <div class="timeline-body"><p>This is supported as of <code>v0.1.24</code>. You can <code>uv pip install .</code> directly, without including a package name.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charles-cooper">@charles-cooper</a> on 2024-03-23 01:49</div>
            <div class="timeline-body"><p>awesome, thank you!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:19 UTC
    </footer>
</body>
</html>
