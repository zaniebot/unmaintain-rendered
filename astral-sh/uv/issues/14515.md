```yaml
number: 14515
title: Install dependency packages using an external virtual environment
type: issue
state: open
author: fishsixs
labels:
  - question
assignees: []
created_at: 2025-07-09T00:56:49Z
updated_at: 2025-08-19T15:40:08Z
url: https://github.com/astral-sh/uv/issues/14515
synced_at: 2026-01-10T01:57:33Z
```

# Install dependency packages using an external virtual environment

---

_Issue opened by @fishsixs on 2025-07-09 00:56_

### Question

Create a virtual environment by specifying the path with uv.
```bash
PS E:\source> uv venv  D:\venv\uv_py311        
Using CPython 3.11.6 interpreter at: C:\Users\xxx\AppData\Local\Programs\Python\Python311\python.exe
Creating virtual environment at: D:\venv\uv_py311 
Activate with: D:\venv\uv_py311 \Scripts\activate
```
Activate the virtual environment
```bash
(uv_py311) PS E:\source> 
```
When adding dependency packages, a warning is issued and the virtual environment of the current project is automatically created at the same time
```bash
(uv_py311) PS E:\source> uv add fastapi
warning: `VIRTUAL_ENV=D:\venv\uv_py311` does not match the project environment path `.venv` and will be ignored; use `--active` to target the active environment instead
Using CPython 3.11.6 interpreter at: C:\Users\ST\AppData\Local\Programs\Python\Python311\python.exe
Creating virtual environment at: .venv

```
I want to add dependency packages using an external virtual environment. What should I do? Thank you



### Platform

Windows11

### Version

uv 0.7.19 (38ee6ec80 2025-07-02)

---

_Label `question` added by @fishsixs on 2025-07-09 00:56_

---

_Comment by @charliermarsh on 2025-07-09 00:58_

You can set [`UV_PROJECT_ENVIRONMENT`](https://docs.astral.sh/uv/reference/environment/#uv_project_environment) to point to your external environment.

---

_Comment by @fishsixs on 2025-07-09 01:31_

> 您可以设置为 [](https://docs.astral.sh/uv/reference/environment/#uv_project_environment) 指向您的外部环境。

Since installing uv, it seems that uv.toml doesn't exist. Can uv.toml configure environment variables? How should I create uv.toml? Thank you


---

_Comment by @konstin on 2025-08-19 15:38_

Currently, this option can only be configured as environment variable. https://github.com/astral-sh/uv/issues/1495 and https://github.com/astral-sh/uv/issues/12587 may be interesting for you.

---
