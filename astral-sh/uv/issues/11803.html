<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No `uv tool update-shell` suggestion in powershell - astral-sh/uv #11803</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No <code>uv tool update-shell</code> suggestion in powershell</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11803">#11803</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-02-26 17:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body">Summary
<p>I&#x27;m using powershell 7.4.6 on Windows 11. When the tool directory is not in PATH, our hint on powershell is missing the <code>uv tool update-shell</code> hint:</p>
<pre><code>$ uv tool install black
Resolved 7 packages in 10ms
Installed 7 packages in 57ms
 + black==25.1.0
 + click==8.1.8
 + colorama==0.4.6
 + mypy-extensions==1.0.0
 + packaging==24.2
 + pathspec==0.12.1
 + platformdirs==4.3.6
Installed 2 executables: black.exe, blackd.exe
warning: `C:\Users\Konsti\.local\bin` is not on your PATH. To use installed tools, run `$env:PATH = &quot;C:`\Users`\Konsti`\.local`\bin;$env:PATH&quot;`.
</code></pre>
<p><code>uv tool update-shell</code> is the correct suggestion here and does work, we should show it here.</p>
<p>Additionally, the escape backticks are conflicting with the outer backticks.</p>
Platform
<p>Windows 11 x86_64</p>
Version
<p>uv 0.6.3 (a0b9f22a2 2025-02-24)</p>
Python version
<p>n/a</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-02-26 17:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-02-26 17:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-27 00:07</div>
            <div class="timeline-body"><p>Hm... Is the <code>SHELL</code> env var set? It&#x27;s hard to know why this isn&#x27;t triggering without more logging.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-27 08:47</div>
            <div class="timeline-body"><p>I think we match this branch because powershell has no config files (but we can still install it, cause on windows, PATH is in the registry, not in the shell config), this just needs some cross shell testing on windows (if you&#x27;re running bash on windows, do we edit the registry or the bash config?):</p>
<p>https://github.com/astral-sh/uv/blob/4c161d284bac47104db1ccd2e73daeb2e4d0d182/crates/uv/src/commands/tool/common.rs#L304</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-28 02:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-01 03:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:30 UTC
    </footer>
</body>
</html>
