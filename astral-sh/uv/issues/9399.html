<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Install from lockfile to system python (no venv) (Containerized env). - astral-sh/uv #9399</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Install from lockfile to system python (no venv) (Containerized env).</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9399">#9399</a>
        opened by <a href="https://github.com/g-bar">@g-bar</a>
        on 2024-11-24 20:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/g-bar">@g-bar</a> on 2024-11-24 20:44</div>
            <div class="timeline-body"><p>I'm using uv to manage my dependencies in a Dockerfile.
Like so:</p>
<pre><code>FROM python:3.12

ENV UV_SYSTEM_PYTHON=true
RUN pip install --no-cache-dir uv
COPY uv.lock pyproject.toml ./
RUN uv sync --frozen
</code></pre>
<p>I though the <code>UV_SYSTEM_PYTHON=true</code> sufficed but it's still creating a venv. Apparently the envvar and --system flag only apply to uv pip install, but that requires to specify the packages. I want to install from uv.lock.</p>
<p>I'm looking for something like poetry's <code>POETRY_VIRTUALENVS_CREATE</code> : https://python-poetry.org/docs/configuration#virtualenvscreate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-11-24 22:53</div>
            <div class="timeline-body"><p>If you're going to install using <code>uv sync</code> into the system Python, you should consider setting the <code>UV_PROJECT_ENVIRONMENT</code> variable.
https://docs.astral.sh/uv/concepts/projects/config/#project-environment-path</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-11-25 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-25 00:56</div>
            <div class="timeline-body"><p>Yeah, you need to use <code>UV_PROJECT_ENVIRONMENT</code> here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/g-bar">@g-bar</a> on 2024-11-30 20:15</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @g-bar on 2024-11-30 20:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
