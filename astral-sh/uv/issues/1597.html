<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question: `uv pip compile pyproject.toml -o requirements.txt` generate empty `requirements.txt` - astral-sh/uv #1597</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Question: `uv pip compile pyproject.toml -o requirements.txt` generate empty `requirements.txt`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1597">#1597</a>
        opened by <a href="https://github.com/XiaoConstantine">@XiaoConstantine</a>
        on 2024-02-17 15:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/XiaoConstantine">@XiaoConstantine</a> on 2024-02-17 15:43</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<h2>Context:</h2>
<p>Trying to convert a simple poetry project with uv.</p>
<pre><code class="language-bash">❯ uname -a
Darwin Xiaos-MBP.fios-router.home 23.2.0 Darwin Kernel Version 23.2.0: Wed Nov 15 21:53:34 PST 2023; root:xnu-10002.61.3~2/RELEASE_ARM64_T8103 arm64
</code></pre>
<pre><code class="language-bash">❯ uv -V
uv 0.1.3
</code></pre>
<p>My <code>pyproject.toml</code> file:</p>
<pre><code class="language-toml">[tool.poetry.dependencies]
python = &quot;^3.9&quot;
torch = &quot;^1.13.1&quot;
huggingface = &quot;^0.0.1&quot;
transformers = {extras = [&quot;torch&quot;], version = &quot;^4.37.1&quot;}
</code></pre>
<p>Running following commands:</p>
<ol>
<li>Create venv:</li>
</ol>
<pre><code class="language-bash">uv venv
</code></pre>
<ol start="2">
<li>Activate venv:</li>
</ol>
<pre><code class="language-bash">source ./venv/bin/activate
</code></pre>
<ol start="3">
<li>Compile the requriements txt from pyproject toml</li>
</ol>
<pre><code class="language-❯"> uv::requirements::from_source source=pyproject.toml
 uv::requirements::from_source source=requirements.txt
warning: Requirements file requirements.txt does not contain any dependencies
    0.007549s DEBUG uv_interpreter::virtual_env Found a virtualenv through VIRTUAL_ENV at: /Users/xiao/development/github.com/XiaoConstantine/butler/.venv
    0.008561s DEBUG uv_interpreter::interpreter Using cached markers for: /Users/xiao/development/github.com/XiaoConstantine/butler/.venv/bin/python
    0.008567s DEBUG uv::commands::pip_compile Using Python 3.9.16 interpreter at /Users/xiao/development/github.com/XiaoConstantine/butler/.venv/bin/python for builds
 uv_client::flat_index::from_entries
 uv_resolver::resolver::solve
      0.163449s   0ms DEBUG uv_resolver::resolver Solving with target Python version 3.9.16
   uv_resolver::resolver::choose_version package=root
   uv_resolver::resolver::get_dependencies package=root, version=0a0.dev0
Resolved 0 packages in 164ms
</code></pre>
<p>Also tried with <code>uv -n</code> (no-cache) but seems the same result</p>
<p>Is this due to the dependency or I missed something? Thanks in advance!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-17 16:30</div>
            <div class="timeline-body"><p>Hi! Thanks for giving the project a try. We don't read Poetry's dependency format, just the <a href="https://peps.python.org/pep-0621/#dependencies-optional-dependencies">PEP 621</a> standard.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-02-17 16:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @zanieb on 2024-02-17 16:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/XiaoConstantine">@XiaoConstantine</a> on 2024-02-17 17:05</div>
            <div class="timeline-body"><p>Ah makes sense! Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @XiaoConstantine on 2024-02-17 17:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-25 20:30</div>
            <div class="timeline-body"><p>As of https://github.com/astral-sh/uv/pull/2633 we support reading this directly.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:33:55 UTC
    </footer>
</body>
</html>
