<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specify Python platform via environment variable - astral-sh/uv #15241</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Specify Python platform via environment variable</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/15241">#15241</a>
        opened by <a href="https://github.com/tlinhart">@tlinhart</a>
        on 2025-08-12 15:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tlinhart">@tlinhart</a> on 2025-08-12 15:44</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hi,
is it possible to specify Python platform for <code>uv sync</code> via an environment variable? A lot of options is supported but I couldn't find a way to specify this one <a href="https://docs.astral.sh/uv/reference/cli/#uv-sync--python-platform">in the documentation</a>.</p>
<p>Use case: I use Pulumi IaC where the stack runs on ARM64 architecture on AWS in production. However, sometimes I need to provision the stack from local computer (x86_64 architecture) before deploying via GitHub Actions CI. I use <code>uv</code> toolchain with Pulumi but need it to install dependencies for the target architecture, e.g. when creating Lambda deployment packages or Docker images. AFAIK there's no way how I can supply command line options for <code>uv</code> when running Pulumi so env variable seems like the only option.</p>
<h3>Platform</h3>
<p>Ubuntu 24.04.3 x86_64</p>
<h3>Version</h3>
<p>uv 0.8.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @tlinhart on 2025-08-12 15:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 17:10</div>
            <div class="timeline-body"><p>This seems okay to me. The use-case makes sense!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @zanieb on 2025-08-12 17:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2025-08-12 17:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @zanieb on 2025-08-12 17:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 17:11</div>
            <div class="timeline-body"><p>We might want to bikeshed the name a little / if this is scoped to the top-level interface or affects <code>uv pip</code>?</p>
<p>You might want to also ask Pulumi to just expose this? It's a little dangerous for us to expose an option like this as a persistent setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tlinhart">@tlinhart</a> on 2025-08-12 17:21</div>
            <div class="timeline-body"><p>I'm not sure how <code>uv pip</code> is implemented, but if it's just a wrapper for <code>pip</code> then it already allows specifying the platform via <code>--platform</code> option. Or, using <code>platform</code> key under <code>install</code> section in <code>pip.conf</code> which is the way I did it when I used a <code>pip</code> toolchain with Pulumi.</p>
<p>When it comes to Pulumi, there might be a way to add another runtime option similar to e.g. <code>nodeargs</code> (see https://www.pulumi.com/docs/iac/concepts/projects/project-file/#runtime-options). However, I still find it useful to be able to specify it via an env variable directly to <code>uv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 17:24</div>
            <div class="timeline-body"><p>It's not a wrapper for <code>pip</code>.</p>
<p>We do support it via a flag https://docs.astral.sh/uv/reference/cli/#uv-pip-install--python-platform</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pulumi/pulumi/issues/20277.html">pulumi/pulumi#20277</a> on 2025-08-12 17:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15308.html">astral-sh/uv#15308</a> on 2025-08-15 13:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
