<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package installation does not respect lockfile; why? - astral-sh/uv #15361</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Package installation does not respect lockfile; why?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15361">#15361</a>
        opened by <a href="https://github.com/bocytko">@bocytko</a>
        on 2025-08-18 20:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/bocytko">@bocytko</a> on 2025-08-18 20:46</div>
            <div class="timeline-body"><h3>Question</h3>
<p>There is a breaking change in openai 1.100.0 and we discovered that installing packages from source (<code>uv tool install https://github.com/...</code> or <code>pip install --editable .</code> does not respect the lockfile. Is this expected behavior?</p>
<p>Is there any flag that can be set during installation in order to enforce the lockfile to be used in during installation process?</p>
<hr />
<p><code>pyproject.toml</code>:</p>
<pre><code class="language-toml">[project]
name = &quot;uv-test&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.10&quot;
dependencies = [
    &quot;openai&gt;=1.90.0&quot;,
]
</code></pre>
<p><code>uv.lock</code>:</p>
<pre><code>cat uv.lock | grep openai
name = &quot;openai&quot;
sdist = { url = &quot;https://files.pythonhosted.org/packages/8a/d2/ef89c6f3f36b13b06e271d3cc984ddd2f62508a0972c1cbcc8485a6644ff/openai-1.99.9.tar.gz&quot;, hash = &quot;sha256:f2082d155b1ad22e83247c3de3958eb4255b20ccf4a1de2e6681b6957b554e92&quot;, size = 506992 }
    { url = &quot;https://files.pythonhosted.org/packages/e8/fb/df274ca10698ee77b07bff952f302ea627cc12dac6b85289485dd77db6de/openai-1.99.9-py3-none-any.whl&quot;, hash = &quot;sha256:9dbcdb425553bae1ac5d947147bebbd630d91bbfc7788394d4c4f3a35682ab3a&quot;, size = 786816 },
    { name = &quot;openai&quot; },
requires-dist = [{ name = &quot;openai&quot;, specifier = &quot;&gt;=1.90.0&quot; }]
</code></pre>
<hr />
<p>Install:</p>
<pre><code>pip install --editable .
Obtaining file:///Users/X/repos/uv-test
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Collecting openai&gt;=1.90.0
  Downloading openai-1.100.0-py3-none-any.whl (786 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 786.5/786.5 kB 5.0 MB/s eta 0:00:00
</code></pre>
<p>Reinstall:</p>
<pre><code>Requirement already satisfied: openai&gt;=1.90.0 in /Users/X/.pyenv/versions/3.10.9/lib/python3.10/site-packages (from uv-test==0.1.0) (1.100.0)
</code></pre>
<h3>Platform</h3>
<p>MacOS 15.5 (24F74), Darwin 24.5.0 arm64</p>
<h3>Version</h3>
<p>uv 0.8.11 (Homebrew 2025-08-14)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @bocytko on 2025-08-18 20:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-18 20:53</div>
            <div class="timeline-body"><p>Yes <code>uv pip install</code> and <code>uv tool install</code> do not use the lockfile. Both of those interfaces interact with the project as a standard Python package, e.g., it's built and installed as it would be by any other tool. The lockfile is only used within the project, e.g., <code>uv run</code> and <code>uv sync</code>.</p>
<p>It'd be nice to have a <code>uv tool install --locked</code> mode that reads the lockfile, e.g., see https://github.com/astral-sh/uv/issues/13410</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bocytko">@bocytko</a> on 2025-08-18 22:33</div>
            <div class="timeline-body"><blockquote>
<p>It'd be nice to have a <code>uv tool install --locked</code> mode that reads the lockfile</p>
</blockquote>
<p>Agreed! Thank you for the quick response.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bocytko on 2025-08-18 22:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:11 UTC
    </footer>
</body>
</html>
