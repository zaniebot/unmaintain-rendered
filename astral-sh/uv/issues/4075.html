<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avoid redundant enumeration of all package versions during solve failure - astral-sh/uv #4075</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Avoid redundant enumeration of all package versions during solve failure</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/4075">#4075</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-06-05 21:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-05 21:00</div>
            <div class="timeline-body"><pre><code>error: Because the current Python version (3.9.6) does not satisfy Python&gt;=3.11,&lt;4.0 and all versions of rooster-blue depend on Python&gt;=3.11,&lt;4.0, we can conclude that all versions of rooster-blue cannot be used.
And because only the following versions of rooster-blue are available:
    rooster-blue==0.0.1
    rooster-blue==0.0.2
    rooster-blue==0.0.3
    rooster-blue==0.0.4
and you require rooster-blue, we can conclude that the requirements are unsatisfiable.
</code></pre>
<p>There's no reason for this message to be so verbose. We already said all versions of rooster-blue cannot be used. The conclusion could be:</p>
<pre><code>And because you require rooster-blue, we can conclude that the requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @charliermarsh on 2024-06-05 21:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-05 21:18</div>
            <div class="timeline-body"><p>How would you go about solving this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-05 21:29</div>
            <div class="timeline-body"><p>I'm not sure. I think the latter half comes from</p>
<p>https://github.com/astral-sh/uv/blob/57ea55d2185213236e68fef82135f1cfc1686043/crates/uv-resolver/src/pubgrub/report.rs#L280-L293</p>
<p>which doesn't have a obvious way to inspect that we previously concluded that &quot;all versions cannot be used&quot;.</p>
<p>Maybe we don't need to know that we said that previously and instead we should just have better handling at</p>
<p>https://github.com/astral-sh/uv/blob/57ea55d2185213236e68fef82135f1cfc1686043/crates/uv-resolver/src/pubgrub/report.rs#L92-L99</p>
<p>and collapse that to &quot;all versions&quot; when we see we're enumerating all of the available versions</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5046.html">astral-sh/uv#5046</a> on 2024-07-14 16:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9884.html">astral-sh/uv#9884</a> on 2024-12-13 20:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9885.html">astral-sh/uv#9885</a> on 2024-12-13 21:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-12-16 21:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:19 UTC
    </footer>
</body>
</html>
