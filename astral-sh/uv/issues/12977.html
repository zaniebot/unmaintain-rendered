<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv python upgrade --all` to update all managed Python versions - astral-sh/uv #12977</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv python upgrade --all` to update all managed Python versions</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/12977">#12977</a>
        opened by <a href="https://github.com/johnthagen">@johnthagen</a>
        on 2025-04-18 23:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-18 23:55</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Similar to how <code>uv lock --upgrade</code> updates all Python <em>dependencies</em> to their latest versions, it would be convenient if there was a single command that would update all currently installed uv-managed Python <em>interpreters</em> to their latest patch releases.</p>
<h3>Example</h3>
<p>If the user has Python 3.11, 3.12, and 3.13 installed, rather than having to type:</p>
<pre><code>uv python install --reinstall 3.11
uv python install --reinstall 3.12
uv python install --reinstall 3.13
</code></pre>
<p>The user could type</p>
<pre><code>uv python upgrade --all
</code></pre>
<p>This also removes the need for the user to <em>remember</em> which all versions are installed if they simply want to upgrade them all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @johnthagen on 2025-04-18 23:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 00:02</div>
            <div class="timeline-body"><p>Related existing command <code>uv python uninstall --all</code></p>
<ul>
<li>https://docs.astral.sh/uv/reference/cli/#uv-python-uninstall--all</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-19 00:04</div>
            <div class="timeline-body"><p>I think <code>uv python install --reinstall any</code> might do this already, just as an fyi.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-19 00:05</div>
            <div class="timeline-body"><blockquote>
<p>This also removes the need for the user to remember which all versions are installed if they simply want to upgrade them all.</p>
</blockquote>
<p>We actually want to expose a different way to do this, e.g., <code>uv python upgrade</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 00:05</div>
            <div class="timeline-body"><p>I will also mention, in case it's useful, that as a new user it was a <em>bit</em> strange that there was no <code>uv python update</code> command. As far as I can tell <code>--reinstall</code> is how you &quot;update&quot; a uv-managed Python version, but that name was hard to discover and feels like it expresses a different intent.</p>
<p>Perhaps a better UX could be <code>uv python update --all</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 00:07</div>
            <div class="timeline-body"><blockquote>
<p>We actually want to expose a different way to do this, e.g., <code>uv python upgrade</code>.</p>
</blockquote>
<p>@zanieb Posted at the same time ðŸ˜„ . Yes, I think something like that would be great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv python install --reinstall-all` to update all managed Python versions" to "`uv python upgrade --all` to update all managed Python versions" by @johnthagen on 2025-04-19 00:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 00:10</div>
            <div class="timeline-body"><p>I updated the title to <code>uv python upgrade --all</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../johnthagen/python-blueprint/issues/95.html">johnthagen/python-blueprint#95</a> on 2025-04-19 00:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 00:15</div>
            <div class="timeline-body"><blockquote>
<p>I think <code>uv python install --reinstall any</code> might do this already, just as an fyi.</p>
</blockquote>
<p>@zanieb I couldn't find <code>any</code> documented: https://docs.astral.sh/uv/guides/install-python/</p>
<p>Is this part of the official public API or an internal implementation detail? Curious if it's something that can be relied on, or simply missing documentation? I'd be happy to contribute docs for it if it's intended to be something public/supported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 00:19</div>
            <div class="timeline-body"><p>~~Well, it <em>does</em> seem to work, so that's cool~~</p>
<p>Actually it doesn't <em>upgrade</em> the versions, it only reinstalls the existing versions that are already installed.</p>
<pre><code>$ uv python install --reinstall any
cpython-3.13.1-macos-aarch64-none ------------------------------ 2.05 MiB/14.88 MiB
cpython-3.12.9-macos-aarch64-none ------------------------------ 2.03 MiB/14.89 MiB
cpython-3.13.2-macos-aarch64-none ------------------------------ 1.96 MiB/14.90 MiB
cpython-3.9.21-macos-aarch64-none ------------------------------ 1.95 MiB/16.16 MiB
cpython-3.10.16-macos-aarch64-none ------------------------------ 1.96 MiB/16.64 MiB
cpython-3.11.11-macos-aarch64-none ------------------------------ 1.95 MiB/17.18 MiB  
</code></pre>
<p>This is unlike running with a single version <code>uv python install 3.9 --reinstall</code>, which got the latest version (<code>3.9.22</code> vs. <code>3.9.21</code>):</p>
<pre><code>$ uv python install --reinstall 3.9
cpython-3.9.22-macos-aarch64-none ------------------------------ 9.06 MiB/16.16 MiB
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-19 02:16</div>
            <div class="timeline-body"><blockquote>
<p>Actually it doesn't upgrade the versions, it only reinstalls the existing versions that are already installed.</p>
</blockquote>
<p>Yeah the behavior of <code>uv python install &lt;version&gt; --reinstall</code> doing an upgrade instead of a reinstall is only around for backwards compatibility while we figure out the best way to expose upgrades. A little more context on that in https://github.com/astral-sh/uv/pull/11072#discussion_r1934895986. Surprisingly, <code>uv python install --reinstall 3.9</code> won't actually remove 3.9.21 or upgrade your virtual environments to 3.9.22, it just adds 3.922 (and it will be used in subsequent requests). That's part of why we want to make some holistic investments into Python version upgrades.</p>
<blockquote>
<p>Is this part of the official public API or an internal implementation detail?</p>
</blockquote>
<p><code>any</code> is part of our <code>PythonRequest</code> type</p>
<p>https://github.com/astral-sh/uv/blob/91410acf82a958f1dbbc3c99a240e543de2d5255/crates/uv-python/src/discovery.rs#L51-L52</p>
<p>https://github.com/astral-sh/uv/blob/91410acf82a958f1dbbc3c99a240e543de2d5255/crates/uv-python/src/discovery.rs#L1388-L1394</p>
<p>it's not discussed in the documentation because it's not really an important part of the user interface (more of an internal concept), but you can rely on it â€” we won't break it outside of a breaking release (and I don't know why we'd ever break it). You could add documentation for it if you want, but I'm not sure what we'd say? The fact that it's useful in<code> uv python install --reinstall</code> is sort of a hack.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/johnthagen">@johnthagen</a> on 2025-04-19 11:03</div>
            <div class="timeline-body"><p>@zanieb Thanks for the context! I agree that leaving the status quo as-is until some kind of <code>python upgrade</code> is implemented would be best.</p>
<p>Hopefully this issue can help others curious about this topic as well in the meantime.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bmrobin">@bmrobin</a> on 2025-04-29 12:58</div>
            <div class="timeline-body"><p>i'm finding this issue because i was searching for a way to upgrade the minor &amp; patch versions i have installed</p>
<p>i recently switched from homebrew to uv to manage my installed python executables, and i am used to using <code>brew upgrade</code> to bump the minor &amp; patch versions. i searched <a href="https://docs.astral.sh/uv/concepts/python-versions/#installing-python-executables">the documentation</a> and the <code>uv python -h</code> output and don't see a way to update the installed version i have</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/13954.html">astral-sh/uv#13954</a> on 2025-06-10 20:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @jtfmumm on 2025-06-20 14:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
