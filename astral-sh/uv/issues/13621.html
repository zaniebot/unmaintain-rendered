<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doc improvement: add section to Docker integration that demonstrates system level install - astral-sh/uv #13621</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Doc improvement: add section to Docker integration that demonstrates system level install</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/13621">#13621</a>
        opened by <a href="https://github.com/rsyring">@rsyring</a>
        on 2025-05-23 17:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rsyring">@rsyring</a></div>
            <div class="timeline-body"><p>Figuring this out took me way longer than it should have even though the hint was right there in the docs.  I just didn&#x27;t grok it and repeatedly struck out with both ChatGPT and Claude 4.0.</p>
<p>My suggestion is to add a minimally complete Dockerfile example demonstrating system install to the docs.  Add it right below: https://docs.astral.sh/uv/guides/integration/docker/#using-the-environment and label it &quot;Project install to system&quot; or similar.</p>
<p>You might want to pick a more typical image and environment path than this example.  But what I have here is complete and verified as a starting place.</p>
<pre><code>from public.ecr.aws/lambda/python:3.12 as app

# env
env FLASK_DEBUG=0
# System install
env UV_PROJECT_ENVIRONMENT=/var/lang/
# Optimize startup time
env UV_COMPILE_BYTECODE=1
# Hardlinks don&#x27;t work in docker images anyway, so don&#x27;t warn me or take time trying
env UV_LINK_MODE=copy

# uv install
# grab /uvx too if you need it
copy --from=ghcr.io/astral-sh/uv:latest /uv /usr/local/bin/

##  App
workdir /app

# Build / deps
copy pyproject.toml hatch.toml readme.md uv.lock .
copy src/poster/version.py src/poster/version.py
run --mount=type=cache,target=/root/.cache/uv \
    uv sync --frozen --no-dev --inexact

# Source files after the build for better caching/speed when deps haven&#x27;t changed
copy src/poster src/poster
copy src/lambda_handler.py src

# The lamba runtime environment will use this dotted path as the entry point to our app when
# the lambda function is invoked.  It must be a function, it doesn&#x27;t handle class methods.
cmd [&quot;lambda_handler.entry&quot;]
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:47 UTC
    </footer>
</body>
</html>
