```yaml
number: 14951
title: Option to Preserve Multi-Line Expressions in Parentheses
type: issue
state: closed
author: Alesh
labels:
  - enhancement
assignees: []
created_at: 2025-07-29T09:49:21Z
updated_at: 2025-07-29T15:41:51Z
url: https://github.com/astral-sh/uv/issues/14951
synced_at: 2026-01-10T01:57:33Z
```

# Option to Preserve Multi-Line Expressions in Parentheses

---

_Issue opened by @Alesh on 2025-07-29 09:49_

### Summary

Currently, ruff reformats multi-line expressions within parentheses (e.g., assert statements) into a single line if they fit within the configured line-length. This can reduce readability for intentionally split expressions. I propose adding a configuration option to preserve multi-line expressions in parentheses as they are written.

Original code (intentionally split for readability):
```python
assert (
    chunk[0].begin == normalize_time("00:01:00")
    and
    chunk[-1].end == normalize_time("00:02:00")
)
```

After ruff format:
```python
assert chunk[0].begin == normalize_time("00:01:00") and chunk[-1].end == normalize_time(
    "00:02:00"
)
```
Desired behavior: 
Preserve the original multi-line formatting in parentheses when a new configuration option is enabled. e.g., 
```ini
[tool.ruff.format] 
preserve-multi-line-parentheses = true 
```

This feature will improve the readability of projects where complex expressions may be intentionally broken across multiple lines for clarity.

### Example

_No response_

---

_Label `enhancement` added by @Alesh on 2025-07-29 09:49_

---

_Comment by @FishAlchemist on 2025-07-29 10:43_

You're in the wrong repository. Here is uv; you should post this in Ruff. (https://github.com/astral-sh/ruff/issues).

---

_Comment by @Alesh on 2025-07-29 15:40_

Sorry, my mistake.

---

_Closed by @Alesh on 2025-07-29 15:41_

---
