<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use old version of pip - astral-sh/uv #8007</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use old version of pip</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8007">#8007</a>
        opened by <a href="https://github.com/JhonatanRian">@JhonatanRian</a>
        on 2024-10-08 15:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/JhonatanRian">@JhonatanRian</a> on 2024-10-08 15:58</div>
            <div class="timeline-body"><p>Is it possible to configure uv to use an old version of pip?</p>
<p>In a legacy project, there are certain libraries that are not installed with a more recent pip version. I can only install them using an old version of pip, such as 21.1.1, for example.</p>
<p>I need to use uv to manage the project, but it always updates the virtual environment's pip to the most recent version, making it impossible to run commands such as: <code>uv sync</code> or  <code>uv pip sync requirements.txt</code>.</p>
<p>an example of the error when I'm using the most current pip:</p>
<pre><code class="language-bash"> &gt;&gt;&gt; uv pip sync requirements.txt      
Resolved 81 packages in 1.72s
error: Failed to prepare distributions
  Caused by: Failed to fetch wheel: django-allauth==0.40.0
  Caused by: Build backend failed to determine extra requires with `build_wheel()` with exit status: 1
--- stdout:

--- stderr:
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 14, in &lt;module&gt;
  File &quot;/Users/jhonatanryan/.cache/uv/builds-v0/.tmpY8W3jk/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 332, in get_requires_for_build_wheel
    return self._get_build_requires(config_settings, requirements=[])
  File &quot;/Users/jhonatanryan/.cache/uv/builds-v0/.tmpY8W3jk/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 302, in _get_build_requires
    self.run_setup()
  File &quot;/Users/jhonatanryan/.cache/uv/builds-v0/.tmpY8W3jk/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 503, in run_setup
    super().run_setup(setup_script=setup_script)
  File &quot;/Users/jhonatanryan/.cache/uv/builds-v0/.tmpY8W3jk/lib/python3.8/site-packages/setuptools/build_meta.py&quot;, line 318, in run_setup
    exec(code, locals())
  File &quot;&lt;string&gt;&quot;, line 7, in &lt;module&gt;
ImportError: cannot import name 'convert_path' from 'setuptools' (/Users/jhonatanryan/.cache/uv/builds-v0/.tmpY8W3jk/lib/python3.8/site-packages/setuptools/__init__.py)
---
</code></pre>
<p>I checked the documentation to see if it was possible to configure this, but I didn't find anything about it.
https://docs.astral.sh/uv/reference/settings/</p>
<p>Remembering that even if I downgrade pip, uv itself updates it when a command that uses pip is run</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-10-08 16:16</div>
            <div class="timeline-body"><p>For this case, you can try installing an old setuptools version manually, then disabling build isolation (https://docs.astral.sh/uv/concepts/projects/#build-isolation) before the build.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @konstin on 2024-10-08 16:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JhonatanRian">@JhonatanRian</a> on 2024-10-10 21:03</div>
            <div class="timeline-body"><p>I work as @konstin mentioned, I needed to install <code>setuptools</code> and <code>wheel</code> with <code>pip</code> manually. like this:</p>
<pre><code class="language-shell">uv pip install setuptools==56.0.0 wheel&gt;=0.44.0
</code></pre>
<p>Then I synchronized the requirements packages to pyproject:</p>
<pre><code>uv add -r requirements.txt
</code></pre>
<p>OBSERVATION: For each new environment, it is always necessary to first install <code>setuptools</code> and <code>wheel</code> manually with <code>pip</code> and only then use &quot;pip sync&quot;. After this process, the next time you delete uv.lock or .venv, <code>uv sync</code> will not break, it is as if it saves the processes performed in cache (I don't know what actually happens).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @JhonatanRian on 2024-10-10 21:03</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:00 UTC
    </footer>
</body>
</html>
