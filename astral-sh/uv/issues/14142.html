<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv tool` not playing nice with the &quot;jupyter&quot; metapackage and in general with packages providing executables via dependencies - astral-sh/uv #14142</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv tool</code> not playing nice with the &quot;jupyter&quot; metapackage and in general with packages providing executables via dependencies</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/14142">#14142</a>
        opened by <a href="https://github.com/callegar">@callegar</a>
        on 2025-06-19 08:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/callegar">@callegar</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Installing jupyterlab using <code>uv tool</code> makes sense, since jupyter knows how to &quot;install&quot; specific kernels.</p>
<p>The problem is that <code>uv tool</code> does not play very well with how jupyter is packaged.</p>
<p>If you do <code>uv tool install jupyter</code> which is supposed to be the &quot;official&quot; way to install jupyter, that fails because &quot;there are no executables provided&quot; by that package. This is because the package is a metapackage: the executables are provided via the dependencies.</p>
<p>Similarly <code>uv tool install jupyterlab</code> does not provide a <code>jupyter</code> executable.</p>
<p>Currently you need to work around the issue with <code>uv tool install jupyter-core --with jupyterlab</code> that is not that nice to use and remember.</p>
<h3>Platform</h3>
<p>Manjaro</p>
<h3>Version</h3>
<p>0.7.13</p>
<h3>Python version</h3>
<p>3.13.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @callegar on 2025-06-19 08:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-06-21 02:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @charliermarsh on 2025-06-21 02:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-06-21 02:38</div>
            <div class="timeline-body"><p>Un-marking this as a bug since it doesn't seem like there's a bug here, more a request for these cases to be handled more seamlessly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/callegar">@callegar</a> on 2025-06-21 09:11</div>
            <div class="timeline-body"><p>Thanks for updating the status.</p>
<p>Maybe, could it be a possibility to assure that when the <code>tool</code> subcommand, is used, not only the executables for the binary itself but also those of the dependencies are considered? Alternatively, could a <code>--with-exes</code> be introduced for that?</p>
<p>Having to remember a combination of packages (whether a should be on <code>--with</code> and b as the main tool or viceversa) is always a bit of a usability problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stackfun">@stackfun</a> on 2025-06-25 20:07</div>
            <div class="timeline-body"><p>+1 on <code>--with-exes</code> or something along those lines. I'd also like to install the executables of the transitive dependencies of my package.</p>
<p>I think the <a href="https://docs.astral.sh/uv/concepts/tools/#including-additional-dependencies">uv tool documentation</a> is currently unclear when the executables will be added. In my testing, sometimes <code>uv tool install &lt;my pkg&gt; --with pytest</code> adds the pytest executable, in other cases, it does not. I'm unable to detect a pattern in uv's behavior here.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:31:50 UTC
    </footer>
</body>
</html>
