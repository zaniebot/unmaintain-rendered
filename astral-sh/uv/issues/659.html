<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prerelease not selected for msgraph-core - astral-sh/uv #659</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Prerelease not selected for msgraph-core</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/659">#659</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-12-15 11:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2023-12-15 11:15</div>
            <div class="timeline-body"><p>Puffin:</p>
<pre><code>No solution found when resolving: msgraph-sdk

Caused by:
    Because there is no version of msgraph-core available matching &gt;=1.0.0a2 and msgraph-sdk==1.0.0 depends on msgraph-core&gt;=1.0.0a2, msgraph-sdk==1.0.0 is forbidden.
</code></pre>
<p>pip-tools:</p>
<pre><code>[...]
msgraph-core==1.0.0a4
    # via msgraph-sdk
msgraph-sdk==1.0.0
    # via -r target/requirements.in
[...]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-12-15 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-12-15 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-15 16:52</div>
            <div class="timeline-body"><p>I'll take a look, this might be intentional based on our pre-release strategy?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-15 18:40</div>
            <div class="timeline-body"><p>This works correctly with <code>--prerelease allow</code> which is as-intended. We only allow pre-releases if you explicitly specify a pre-release version as an initial dependency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @charliermarsh by @charliermarsh on 2023-12-15 18:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-15 18:46</div>
            <div class="timeline-body"><p>Thinking about what a better error message would look like here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-15 18:47</div>
            <div class="timeline-body"><p>@konstin -- I think we should change our pre-release semantics such that we allow pre-releases under the &quot;if necessary&quot; policy if there's no non-pre marker that satisfies the version. Right now, we only allow under &quot;if necesary&quot; if <em>all</em> versions of a package are pre-release. But that seems incorrect based on https://peps.python.org/pep-0440/#handling-of-pre-releases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/666.html">astral-sh/uv#666</a> on 2023-12-15 20:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-12-15 20:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-16 20:24</div>
            <div class="timeline-body"><p>A few options:</p>
<ul>
<li>Just leave it, stick to our current behavior.</li>
<li>Just leave it, but add a dedicated error message to suggest using <code>--prerelease allow</code>.</li>
<li>Allow pre-releases if it's <em>ever</em> necessary (i.e., if the only versions satisfying a range are pre-releases, even if the user didn't request it). Right now, we allow pre-releases if <em>all</em> versions of a package are pre-releases, but that's a much stricter constraint. The downside of this change is that we'd start to select pre-releases when they weren't explicitly requested.</li>
<li>Try to allow pre-releases whenever at least one requiring package uses a pre-release marker for the package. Might be impossible...</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/697.html">astral-sh/uv#697</a> on 2023-12-19 05:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-12-29 02:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:56 UTC
    </footer>
</body>
</html>
