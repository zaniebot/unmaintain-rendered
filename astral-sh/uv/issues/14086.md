```yaml
number: 14086
title: "Add ROCm detection to `--torch-backend`"
type: issue
state: closed
author: charliermarsh
labels:
  - enhancement
  - preview
assignees: []
created_at: 2025-06-16T19:20:44Z
updated_at: 2025-06-21T15:21:07Z
url: https://github.com/astral-sh/uv/issues/14086
synced_at: 2026-01-10T01:57:32Z
```

# Add ROCm detection to `--torch-backend`

---

_Issue opened by @charliermarsh on 2025-06-16 19:20_

For inspiration: https://github.com/pytorch/pytorch/blob/7cf38d2a0521c5ca292a720bce00617be749a0e7/.github/actions/setup-rocm/action.yml#L24-L49

---

_Label `enhancement` added by @charliermarsh on 2025-06-16 19:21_

---

_Label `preview` added by @charliermarsh on 2025-06-16 19:21_

---

_Comment by @charliermarsh on 2025-06-21 01:15_

```
>>> import torch, pprint
>>> torch.__version__
'2.5.1+rocm6.2'
>>> pprint.pp(torch.cuda.get_arch_list())
['gfx900', 'gfx906', 'gfx908', 'gfx90a', 'gfx1030', 'gfx1100', 'gfx942']
```

---

_Comment by @charliermarsh on 2025-06-21 01:16_

```
>>> torch.__version__
'2.7.1+rocm6.3'
>>> pprint.pp(torch.cuda.get_arch_list())
['gfx900',
 'gfx906',
 'gfx908',
 'gfx90a',
 'gfx942',
 'gfx1030',
 'gfx1100',
 'gfx1101',
 'gfx1102',
 'gfx1200',
 'gfx1201']
```

---

_Comment by @charliermarsh on 2025-06-21 01:18_

```
>>> torch.__version__
'2.6.0+rocm6.1'
>>> pprint.pp(torch.cuda.get_arch_list())
['gfx900',
 'gfx906',
 'gfx908',
 'gfx90a',
 'gfx942',
 'gfx1030',
 'gfx1100',
 'gfx1101']
```

---

_Comment by @charliermarsh on 2025-06-21 01:18_

```
>>> torch.__version__
'2.4.1+rocm6.0'
>>> pprint.pp(torch.cuda.get_arch_list())
['gfx900', 'gfx906', 'gfx908', 'gfx90a', 'gfx1030', 'gfx1100', 'gfx942']
```

---

_Comment by @charliermarsh on 2025-06-21 01:20_

```
>>> torch.__version__
'2.7.1+rocm6.2.4'
>>> pprint.pp(torch.cuda.get_arch_list())
['gfx900',
 'gfx906',
 'gfx908',
 'gfx90a',
 'gfx942',
 'gfx1030',
 'gfx1100',
 'gfx1101',
 'gfx1102',
 'gfx1200',
 'gfx1201']
```

---

_Referenced in [astral-sh/uv#14176](../../astral-sh/uv/pulls/14176.md) on 2025-06-21 01:59_

---

_Closed by @charliermarsh on 2025-06-21 15:21_

---
