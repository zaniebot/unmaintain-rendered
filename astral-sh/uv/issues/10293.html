<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request: Option to Remove Build Artifacts - astral-sh/uv #10293</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature Request: Option to Remove Build Artifacts</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10293">#10293</a>
        opened by <a href="https://github.com/SHi-ON">@SHi-ON</a>
        on 2025-01-03 18:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/SHi-ON">@SHi-ON</a> on 2025-01-03 18:23</div>
            <div class="timeline-body"><p><strong>Summary:</strong>
I would like to request a feature that adds an option to remove build artifacts generated by the <code>uv build</code> command. This feature would help in keeping the project directory clean and managing disk space more efficiently.</p>
<p><strong>Use Case:</strong>
Currently, after running <code>uv build</code>, the generated build artifacts remain in the project directory. In certain scenarios, such as continuous integration and deployment pipelines, it is beneficial to remove these artifacts once they are no longer needed. An option to automatically clean up these artifacts would streamline the build process and reduce manual intervention.</p>
<p><strong>Proposed Solution:</strong>
Introduce a new command-line option (e.g., <code>--clean</code> or <code>--remove-artifacts</code>) in the <code>uv build</code> command that removes the generated build artifacts after the build process is completed.</p>
<p><strong>Benefits:</strong></p>
<ul>
<li>Simplifies the build process by reducing the need for manual cleanup.</li>
<li>Helps in managing disk space by removing unnecessary files.</li>
<li>Improves the efficiency of CI/CD pipelines by automating the cleanup process.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-sh">uv build --clean
</code></pre>
<p>Thank you for considering this feature request. I believe it will greatly benefit developers who use <code>uv</code> in their projects.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-01-03 20:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @zanieb by @zanieb on 2025-01-03 20:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2025-01-03 23:14</div>
            <div class="timeline-body"><p>I'd expect something like this to be part of uv clean instead</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2025-01-07 19:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2025-01-07 19:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/negentropicdev">@negentropicdev</a> on 2025-09-11 19:23</div>
            <div class="timeline-body"><p>This just surprised me. <code>uv publish</code> tries to publish everything in dist, not just the current version's build. Was surprised there's not a clean command.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tombohub">@tombohub</a> on 2025-09-23 21:15</div>
            <div class="timeline-body"><p>Does that mean we need to delete <code>./dist</code> folder before building and publishing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sistason">@sistason</a> on 2025-10-15 11:14</div>
            <div class="timeline-body"><p>yes, that is the current workaround. <code>rm -r ./dist &amp;&amp; uv build &amp;&amp; uv publish</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alexchandel">@alexchandel</a> on 2025-10-17 22:25</div>
            <div class="timeline-body"><p>This option would be nice, because when scripting for multiple platforms (e.g. Windows and non-Windows), <code>rm -r</code> does not work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @konstin by @konstin on 2025-10-20 09:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/16371.html">astral-sh/uv#16371</a> on 2025-10-20 10:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-20 10:05</div>
            <div class="timeline-body"><p>I've opened https://github.com/astral-sh/uv/pull/16371 for the <code>rm -r ./dist &amp;&amp; uv build &amp;&amp; uv publish</code> use case.</p>
<p>@SHi-ON Your post sounds like you <code>uv build &amp;&amp; rm -r ./dist</code> instead. Is that correct, and if so, why are you calling <code>uv build</code> instead of e.g. <code>uv pip install .</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SHi-ON">@SHi-ON</a> on 2025-10-20 13:01</div>
            <div class="timeline-body"><p>@konstin I initially suggested an after-the-fact cleanup, but it probably makes more sense to clear any stale build artifacts <em>before</em> <code>uv publish</code> now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-10-27 18:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
