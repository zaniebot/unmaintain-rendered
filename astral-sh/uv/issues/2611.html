<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL credentials are not used for downloading packages - astral-sh/uv #2611</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>URL credentials are not used for downloading packages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2611">#2611</a>
        opened by <a href="https://github.com/NiklasRosenstein">@NiklasRosenstein</a>
        on 2024-03-22 11:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/NiklasRosenstein">@NiklasRosenstein</a></div>
            <div class="timeline-body"><ul>
<li><strong>Platform</strong>: amd64-darwin</li>
<li><strong>UV version</strong>: 0.1.23</li>
</ul>
<p>I&#x27;m using UV with an <code>--index-url</code> that contains basic auth credentials (e.g. for the form <code>https://username@password:hostname/simple</code>. It appears that UV is using the URL correctly to read the index, but on accessing individual packages it does not.</p>
<pre><code>$ uv pip install --index-url https://[REDACTED]:[REDACTED]@[REDACTED]/artifactory/api/pypi/python-all/simple requests
error: Failed to download: requests==2.31.0
  Caused by: HTTP status client error (403 Forbidden) for url (https://[REDACTED]/artifactory/api/pypi/python-all/packages/packages/70/8e/0e2d847013cb52cd35b38c009bb167a1a26b2ce6cd6965bf26b47bc0bf44/requests-2.31.0-py3-none-any.whl#sha256=58cd2187c01e70e6e26505bca751777aa9f2ee0b7f4300988b709f44e013003f)
</code></pre>
<p>A similar request works without issues using Pip:</p>
<pre><code>$ pip install --index-url https://[REDACTED]:[REDACTED]@[REDACTED]/artifactory/api/pypi/python-all/simple flask
Defaulting to user installation because normal site-packages is not writeable
Looking in indexes: https://[REDACTED]:****@[REDACTED]/artifactory/api/pypi/python-all/simple
Collecting flask
...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-22 14:11</div>
            <div class="timeline-body"><p>Thanks for the report! Can you reproduce this on <code>v0.1.22</code> as well? We just changed some things here.</p>
<p>Could you also share the <code>-v</code> verbose logs with your password omitted?</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-22 14:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-22 14:24</div>
            <div class="timeline-body"><p>Ah sorry this is actually fixed by <a href="https://github.com/astral-sh/uv/pull/2592">astral-sh/uv#2592</a> already it&#x27;s just not released in 0.1.23 like I thought.</p>
<p>We&#x27;ll have this released soon. You can see the pull request for details. Let me know if you have a chance to build from source to test it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-22 14:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:34 UTC
    </footer>
</body>
</html>
