<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Install packages with uv inside docker container without environment - astral-sh/uv #12712</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Install packages with uv inside docker container without environment</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12712">#12712</a>
        opened by <a href="https://github.com/brunolnetto">@brunolnetto</a>
        on 2025-04-07 10:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/brunolnetto">@brunolnetto</a> on 2025-04-07 10:31</div>
            <div class="timeline-body"><p>I want to install the requirement packages on an image container with uv. Below, there is an example with airflow and pip. I know, there are multiple ways to do it, but I know none. Could you help me?</p>
<p>Dockerfile</p>
<pre><code>FROM apache/airflow:2.7.2-python3.10

USER root
WORKDIR /opt/airflow

# Install gettext (used by envsubst)
RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends gettext &amp;&amp; \
    rm -rf /var/lib/apt/lists/*

# Create DBT profile directory and fix permissions
RUN mkdir -p /opt/airflow/dbt_profiles &amp;&amp; \
    chown -R airflow: /opt/airflow

# Copy only the requirements first to leverage Docker cache
COPY requirements.txt .

USER airflow

# Upgrade pip and install Python dependencies
RUN pip install --upgrade pip &amp;&amp; \
    pip install --user -r requirements.txt

# Copy the rest of the code after installing dependencies
COPY --chown=airflow:airflow . .
</code></pre>
<p>requirements.txt</p>
<pre><code>apache-airflow==2.10.5
apache-airflow-providers-openlineage==2.1.1
dbt-core==1.9.4
dbt-postgres==1.9.0
pandas==2.2.3
protobuf==5.29.4
proto-plus
pyarrow[pandas]==10.0.1
requests==2.32.3
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @brunolnetto on 2025-04-07 10:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1560.html">astral-sh/uv#1560</a> on 2025-04-08 09:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @brunolnetto on 2025-04-08 22:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/0xKoios">@0xKoios</a> on 2025-10-09 07:48</div>
            <div class="timeline-body"><p>Does it work? I need to use <code>uv</code> with my pipeline too</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brunolnetto">@brunolnetto</a> on 2025-10-09 13:29</div>
            <div class="timeline-body"><p>@0xKoios customize with this repo content: https://github.com/astral-sh/uv-docker-example</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:04 UTC
    </footer>
</body>
</html>
