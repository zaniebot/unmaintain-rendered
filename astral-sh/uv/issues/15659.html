<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>python-version should support multiple versions using newline separated string like actions/setup-python - astral-sh/uv #15659</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>python-version should support multiple versions using newline separated string like actions/setup-python</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15659">#15659</a>
        opened by <a href="https://github.com/ssbarnea">@ssbarnea</a>
        on 2025-09-03 12:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ssbarnea">@ssbarnea</a> on 2025-09-03 12:49</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>With github own <code>actions/setup-python</code> the <code>python-version</code> argument accepts multiple versions as strings with newline separator, like:</p>
<pre><code class="language-yaml">- uses: astral-sh/setup-uv@v6
  with:
    python-version: |
      3.12
      3.14
</code></pre>
<p>This is currently not supported by <code>astral-sh/setup-uv</code> which silently accepts the argument and passes it into UV_PYTHON variable as seen in the logs:</p>
<pre><code>Added /home/runner/.local/bin to the path
Added /opt/hostedtoolcache/uv/0.8.14/x86_64 to the path
Set UV_PYTHON to 3.10
3.13
Set UV_CACHE_DIR to /home/runner/work/_temp/setup-uv-cache
</code></pre>
<p>What is even worse is that the setup-uv action reports succeess, but uv is not really functional after</p>
<pre><code class="language-shell">  env:
    GITHUB_TOKEN: ***
    FORCE_COLOR: 1
    PY_COLORS: 1
    UV_PYTHON: 3.13
  3.13
    UV_CACHE_DIR: /Users/runner/work/_temp/setup-uv-cache
+ python3 --version
Python 3.13.7
+ which -a python3
/usr/local/bin/python3
/Library/Frameworks/Python.framework/Versions/Current/bin/python3
+ which -a uv
/usr/bin/python3
/Users/runner/hostedtoolcache/uv/0.8.14/x86_64/uv
+ uv --version
uv 0.8.14 (af856fb88 2025-08-28)
+ uv tool install --with tox-uv tox
error: No interpreter found for executable name `3.13
3.13` in managed installations or search path
</code></pre>
<p>Basically uv silently ignores the unrecognized value of UV_PYTHON until one tries to use <code>uv tool install</code>.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @ssbarnea on 2025-09-03 12:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12950.html">astral-sh/uv#12950</a> on 2025-09-03 12:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../astral-sh/setup-uv/issues/544.html">astral-sh/setup-uv#544</a> on 2025-09-03 12:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eifinger">@eifinger</a> on 2025-09-03 13:01</div>
            <div class="timeline-body"><p>Hi @ssbarnea can you please post an example workflow that would make use of this if we would support it?</p>
<p>We aim to be compatible with setup-python as much as possible but some workflows/use cases can and should be solved differently when using uv</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../ansible/actions/issues/4.html">ansible/actions#4</a> on 2025-09-03 13:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../ansible/actions/pulls/5.html">ansible/actions#5</a> on 2025-09-03 13:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-03 14:12</div>
            <div class="timeline-body"><p>I'm a little wary to support this, but there is precedent in the <code>.python-version</code> file for multiple newline separated Python version values.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:12 UTC
    </footer>
</body>
</html>
