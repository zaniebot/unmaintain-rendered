<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Failed to build inflate64 - astral-sh/uv #13433</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Failed to build inflate64</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/13433">#13433</a>
        opened by <a href="https://github.com/NewAtair">@NewAtair</a>
        on 2025-05-13 16:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/NewAtair">@NewAtair</a></div>
            <div class="timeline-body">Summary
<p>Hello all,</p>
<p>uv fails to build</p>
<p><code>uv add -v py7zr</code></p>
<p>Detailed log: <a>https://gist.github.com/NewAtair/c307de9fbe2f571233ced47f1ce02e08.js</a></p>
<p>Last lines of the log:</p>
<blockquote>
<p>DEBUG Reverting changes to <code>uv.lock</code>
x Failed to build <code>inflate64==1.0.1</code>
|-&gt; The build backend returned an error
<code>-&gt; Call to </code>setuptools.build_meta.build_wheel` failed (exit code: 1)</p>
</blockquote>
<pre><code>  [stdout]
  running bdist_wheel
  running build
  running build_py
  copying src\inflate64\__init__.py -&gt; build\lib.win-amd64-cpython-313\inflate64
  running egg_info
  writing src\inflate64.egg-info\PKG-INFO
  writing dependency_links to src\inflate64.egg-info\dependency_links.txt
  writing requirements to src\inflate64.egg-info\requires.txt
  writing top-level names to src\inflate64.egg-info\top_level.txt
  writing manifest file &#x27;src\inflate64.egg-info\SOURCES.txt&#x27;
  reading manifest file &#x27;src\inflate64.egg-info\SOURCES.txt&#x27;
  reading manifest template &#x27;MANIFEST.in&#x27;
  adding license file &#x27;COPYING&#x27;
  writing manifest file &#x27;src\inflate64.egg-info\SOURCES.txt&#x27;
  copying src\inflate64\py.typed -&gt; build\lib.win-amd64-cpython-313\inflate64
  running build_ext
  building &#x27;inflate64._inflate64&#x27; extension

  [stderr]
  C:\Users\username\AppData\Local\uv\cache\builds-v0\.tmp9ZApHf\Lib\site-packages\setuptools_scm\git.py:310: UserWarning: git archive did not support describe output
    warnings.warn(&quot;git archive did not support describe output&quot;)
  C:\Users\username\AppData\Local\uv\cache\builds-v0\.tmp9ZApHf\Lib\site-packages\setuptools_scm\git.py:328: UserWarning: unprocessed git archival found (no export subst applied)
    warnings.warn(&quot;unprocessed git archival found (no export subst applied)&quot;)
  C:\Users\username\AppData\Local\uv\cache\builds-v0\.tmp9ZApHf\Lib\site-packages\setuptools\config\_apply_pyprojecttoml.py:82: SetuptoolsDeprecationWarning: `project.license` as
  a TOML table is deprecated
  !!

          ********************************************************************************
          Please use a simple string containing a SPDX expression for `project.license`. You can also use `project.license-files`. (Both options available on setuptools&gt;=77.0.0).

          By 2026-Feb-18, you need to update your project and remove deprecated calls
          or your builds will no longer be supported.

          See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license for details.
          ********************************************************************************

  !!
    corresp(dist, value, root_dir)
  C:\Users\username\AppData\Local\uv\cache\builds-v0\.tmp9ZApHf\Lib\site-packages\setuptools\config\_apply_pyprojecttoml.py:61: SetuptoolsDeprecationWarning: License classifiers
  are deprecated.
  !!

          ********************************************************************************
          Please consider removing the following classifiers in favor of a SPDX license expression:

          License :: OSI Approved :: GNU Lesser General Public License v2 or later (LGPLv2+)

          See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license for details.
          ********************************************************************************

  !!
    dist._finalize_license_expression()
  C:\Users\username\AppData\Local\uv\cache\builds-v0\.tmp9ZApHf\Lib\site-packages\setuptools\dist.py:761: SetuptoolsDeprecationWarning: License classifiers are deprecated.
  !!

          ********************************************************************************
          Please consider removing the following classifiers in favor of a SPDX license expression:

          License :: OSI Approved :: GNU Lesser General Public License v2 or later (LGPLv2+)

          See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license for details.
          ********************************************************************************

  !!
    self._finalize_license_expression()
  ERROR setuptools_scm._file_finders.git listing git files failed - pretending there aren&#x27;t any
  warning: no previously-included files found matching &#x27;.gitignore&#x27;
  warning: no previously-included files found matching &#x27;.woodpecker.yml&#x27;
  no previously-included directories found matching &#x27;ci&#x27;
  no previously-included directories found matching &#x27;ISSUE_TEMPLATE&#x27;
  error: Microsoft Visual C++ 14.0 or greater is required. Get it with &quot;Microsoft C++ Build Tools&quot;: https://visualstudio.microsoft.com/visual-cpp-build-tools/</code></pre>
<p>hint: This usually indicates a problem with the package or the build environment.
help: If you want to add the package regardless of the failed resolution, provide the <code>--frozen</code> flag to skip locking and syncing.
PS C:\Tools\Scripte\Python allgemein&gt;</p>
<p>If  run with</p>
<p><code>pip install --use-pep517 --no-cache --force-reinstall py7zr</code></p>
<p>than it is successful with:</p>
<p><code>Successfully installed brotli-1.1.0 inflate64-1.0.1 multivolumefile-0.2.3 psutil-7.0.0 py7zr-0.22.0 pybcj-1.0.6 pycryptodomex-3.22.0 pyppmd-1.1.1 pyzstd-0.17.0 texttable-1.7.0 typing-extensions-4.13.2</code></p>
<p>If I  install py7zr with conda, there are no issues too.</p>
<p>So I&#x27;m a bit puzzled.</p>
Platform
<p>Windows 11 Version 23H2</p>
Version
<p>uv  0.7.3 (3c413f74b 2025-05-07)</p>
Python version
<p>Python 3.13.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/NewAtair">@NewAtair</a> on 2025-05-13 16:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-13 17:02</div>
            <div class="timeline-body"><p>Does pip use the same Python version as uv, and does pip also show building inflate64?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NewAtair">@NewAtair</a> on 2025-05-13 19:56</div>
            <div class="timeline-body"><p>Hi,</p>
<p>according to:</p>
<p><code>PS C:\&gt; pip --version pip 25.1.1 from C:\Users\username\AppData\Local\Programs\Python\Python312\Lib\site-packages\pip (python 3.12)</code></p>
<p>and here ist the log from</p>
<p><code>PS C:\&gt; pip install --use-pep517 --no-cache --force-reinstall --verbose py7zr</code></p>
<p><a>https://gist.github.com/NewAtair/032810460f135775a4f0a8e8c5532208.js</a></p>
<p>So pip ist downloading and not building inflate64.</p>
<p>With Python 3.12 it is working:</p>
<p><code>PS C:\TEMP&gt; mkdir test PS C:\TEMP&gt; cd test PS C:\TEMP\test&gt; uv venv --python 3.12 --seed PS C:\TEMP\test&gt; .venv\Scripts\activate PS C:\TEMP\test&gt; uv pip install --verbose py7zr </code></p>
<p>See Log: <a>https://gist.github.com/NewAtair/6b9fd9519f59d497d04f711eedab8e75</a></p>
<p>This is very interesting, because with conda and Python 3.13.3 I don&#x27;t have those issues.</p>
<p>Kind regard</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-13 21:03</div>
            <div class="timeline-body"><p>Conda is a different ecosystem that uses its own prebuilt packages from a different build service. They may have Python 3.13 conda packages, but on PyPI, there are only wheels up to 3.12.</p>
<p>To use PyPI with uv/pip, you either need to downgrade to an older Python version (below 3.13) or follow the guidance in the error message and configure your machine for building the package:</p>
<blockquote>
<p>error: Microsoft Visual C++ 14.0 or greater is required. Get it with &quot;Microsoft C++ Build Tools&quot;: https://visualstudio.microsoft.com/visual-cpp-build-tools/</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/konstin">@konstin</a> on 2025-05-13 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-05-13 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ravencentric">@Ravencentric</a> on 2025-05-13 22:01</div>
            <div class="timeline-body"><p>Upstream issue: <a href="https://github.com/miurahr/py7zr/issues/640">miurahr/py7zr#640</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NewAtair">@NewAtair</a> on 2025-05-14 13:31</div>
            <div class="timeline-body"><p>General question (for a newbie): Wehen the update will be available?
To install Microsoft Visual C++ 14.0 is not a feasible solution.</p>
<p>Anyway, thank you for the clarification.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-14 13:46</div>
            <div class="timeline-body"><p>This is not a bug in uv, as the error message says, this is about for which platforms and Python versions inflate64 has wheel and how inflate64&#x27;s build system works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NewAtair">@NewAtair</a> on 2025-05-14 14:02</div>
            <div class="timeline-body"><p>Maybe I&#x27;m was not clear enough before. I know that ist not a bug within uv so I have to wait for the updates further upstream for the updates of py7zr, inflate64, and ect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2025-10-19 12:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:38:37 UTC
    </footer>
</body>
</html>
