<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv.lock` doesn't include hashes for path-based wheels - astral-sh/uv #16818</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv.lock</code> doesn't include hashes for path-based wheels</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16818">#16818</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2025-11-22 20:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>Sometimes?</p>
<p>E.g.:</p>
<pre><code>❯ uv add ~/Downloads/triton-3.3.1-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl --no-sync
Using CPython 3.14.0
Resolved 3 packages in 1.14s
</code></pre>
<p>Then:</p>
<pre><code>version = 1
revision = 3
requires-python = &quot;&gt;=3.14&quot;

[[package]]
name = &quot;foo&quot;
version = &quot;0.1.0&quot;
source = { virtual = &quot;.&quot; }
dependencies = [
    { name = &quot;triton&quot; },
]

[package.metadata]
requires-dist = [{ name = &quot;triton&quot;, path = &quot;../../Downloads/triton-3.3.1-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl&quot; }]

[[package]]
name = &quot;setuptools&quot;
version = &quot;80.9.0&quot;
source = { registry = &quot;https://pypi.org/simple&quot; }
sdist = { url = &quot;https://files.pythonhosted.org/packages/18/5d/3bf57dcd21979b887f014ea83c24ae194cfcd12b9e0fda66b957c69d1fca/setuptools-80.9.0.tar.gz&quot;, hash = &quot;sha256:f36b47402ecde768dbfafc46e8e4207b4360c654f1f3bb84475f0a28628fb19c&quot;, size = 1319958, upload-time = &quot;2025-05-27T00:56:51.443Z&quot; }
wheels = [
    { url = &quot;https://files.pythonhosted.org/packages/a3/dc/17031897dae0efacfea57dfd3a82fdd2a2aeb58e0ff71b77b87e44edc772/setuptools-80.9.0-py3-none-any.whl&quot;, hash = &quot;sha256:062d34222ad13e0cc312a4c02d73f059e86a4acbfbdea8f8f76b28c99f306922&quot;, size = 1201486, upload-time = &quot;2025-05-27T00:56:49.664Z&quot; },
]

[[package]]
name = &quot;triton&quot;
version = &quot;3.3.1&quot;
source = { path = &quot;../../Downloads/triton-3.3.1-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl&quot; }
dependencies = [
    { name = &quot;setuptools&quot; },
]

[package.metadata]
requires-dist = [
    { name = &quot;autopep8&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;cmake&quot;, marker = &quot;extra == 'build'&quot;, specifier = &quot;&gt;=3.20&quot; },
    { name = &quot;isort&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;lit&quot;, marker = &quot;extra == 'build'&quot; },
    { name = &quot;llnl-hatchet&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;matplotlib&quot;, marker = &quot;extra == 'tutorials'&quot; },
    { name = &quot;numpy&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;pandas&quot;, marker = &quot;extra == 'tutorials'&quot; },
    { name = &quot;pytest&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;pytest-forked&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;pytest-xdist&quot;, marker = &quot;extra == 'tests'&quot; },
    { name = &quot;scipy&quot;, marker = &quot;extra == 'tests'&quot;, specifier = &quot;&gt;=1.7.1&quot; },
    { name = &quot;setuptools&quot;, specifier = &quot;&gt;=40.8.0&quot; },
    { name = &quot;tabulate&quot;, marker = &quot;extra == 'tutorials'&quot; },
]
provides-extras = [&quot;build&quot;, &quot;tests&quot;, &quot;tutorials&quot;]
</code></pre>
<p>But sometimes they <em>do</em> get included:</p>
<pre><code>version = 1
revision = 3
requires-python = &quot;&gt;=3.14&quot;

[[package]]
name = &quot;foo&quot;
version = &quot;0.1.0&quot;
source = { virtual = &quot;.&quot; }
dependencies = [
    { name = &quot;iniconfig&quot; },
]

[package.metadata]
requires-dist = [{ name = &quot;iniconfig&quot;, path = &quot;../../Downloads/iniconfig-2.3.0-py3-none-any.whl&quot; }]

[[package]]
name = &quot;iniconfig&quot;
version = &quot;2.3.0&quot;
source = { path = &quot;../../Downloads/iniconfig-2.3.0-py3-none-any.whl&quot; }
wheels = [
    { filename = &quot;iniconfig-2.3.0-py3-none-any.whl&quot;, hash = &quot;sha256:f631c04d2c48c52b84d0d0549c99ff3859c98df65b3101406327ecc7d53fbf12&quot; },
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2025-11-22 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-11-23 20:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-11-23 20:27</div>
            <div class="timeline-body"><p>I figured this out. The wheels get filtered out because they don’t match the required Python version, so it ends up emitting an invalid lockfile. We should error in the resolver.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-11-26 01:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:33:31 UTC
    </footer>
</body>
</html>
