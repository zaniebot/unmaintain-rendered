<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv add` git dependency using ssh protocol - astral-sh/uv #9060</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv add` git dependency using ssh protocol</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9060">#9060</a>
        opened by <a href="https://github.com/theelderbeever">@theelderbeever</a>
        on 2024-11-12 15:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-11-12 15:24</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>The docs <a href="https://docs.astral.sh/uv/pip/packages/#installing-a-package">here</a> suggest, accurately, that git repo dependencies are able to to be added as a project dependency by <code>uv add git+https://path.to.project/repo.git</code> which works correctly. What is the proper syntax for adding via ssh? Our private repos don't allow https. Everything I have tried so far. says the file doesn't end in a known extension or that the the path isn't a repo.</p>
<p>TLDR: How do I <code>uv add</code> with an ssh git path instead of https?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-11-12 15:28</div>
            <div class="timeline-body"><p><code>git+ssh</code>?
https://docs.astral.sh/uv/configuration/authentication/#git-authentication</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-11-12 15:42</div>
            <div class="timeline-body"><p>@FishAlchemist Not sure how I missed that. Regardless that just gives a public key rejection. Which I have this repo checked out via ssh so that shouldn't be the case. Any idea what <code>uv</code> uses for the public key?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-11-12 16:06</div>
            <div class="timeline-body"><p>@theelderbeever
I'm unsure about the specific public key used by UV, but it seems that UV simply calls the Git CLI when working with Git repositories. Therefore, is it possible that your SSH authentication has passed, but you're unable to clone the project using Git over SSH?</p>
<p>I recall that uv switched to using the Git CLI for some reason. I don't think uv is switched back to using an embedded one yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-11-12 16:12</div>
            <div class="timeline-body"><p>So I think that is the strange thing... I <em>CAN</em> clone the project with the default ssh url that github generates ie: <code>git@github.com:&lt;organization&gt;/&lt;repository&gt;.git</code>. But if you try and add any form of <code>ssh://</code> to the urls in anyway I will get unauthenticated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-11-12 16:43</div>
            <div class="timeline-body"><p>@theelderbeever It can be used, but the format will be slightly different from git clone.
For Example https://github.com/navdeep-G/setup.py</p>
<ul>
<li><code>uv add git+ssh://git@github.com/navdeep-G/setup.py.git</code></li>
<li><code>git clone git@github.com:navdeep-G/setup.py.git</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-11-12 17:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-12 17:49</div>
            <div class="timeline-body"><p>Yeah I think you want <code>uv add git+ssh://git@github.com/...</code>. We just call through to the Git CLI, so it's possible that there's something wrong with your Git authentication itself?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-11-12 17:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-11-12 18:17</div>
            <div class="timeline-body"><p>@charliermarsh After some digging I think I figured it out...</p>
<p><code>git+ssh://git@github.com/...</code> - requires READ and WRITE access on the repo being added
<code>git clone git@github.com/...</code> - only needs READ access to the repo</p>
<p>From the standpoint of being able to depend on ssh access only repositories where you may want to maintain fine grained access to the repo this seems like a limitation of <code>uv</code>. Any ideas here? I wouldn't necessarily say this is closed unless it should be a different issue instead?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
