<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for `UV_CACHE_DIR=/dev/null` or equivalent - astral-sh/uv #1382</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support for `UV_CACHE_DIR=/dev/null` or equivalent</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1382">#1382</a>
        opened by <a href="https://github.com/hauntsaninja">@hauntsaninja</a>
        on 2024-02-15 23:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-15 23:15</div>
            <div class="timeline-body"><p>It would be useful to do the equivalent of <code>uv pip install --no-cache</code> via env var</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 23:15</div>
            <div class="timeline-body"><p>Like specifically to another location or to disable it entirely? Is there an explicit use-case where this is important?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-02-15 23:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-15 23:16</div>
            <div class="timeline-body"><p>To disable it entirely, I think to another location currently works</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 23:17</div>
            <div class="timeline-body"><p>It'd be nice to be cross-platform so I think <code>UV_NO_CACHE</code> makes more sense than changing the value of the directory and trying to guess what value we want?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-15 23:22</div>
            <div class="timeline-body"><p>Yeah, that's the better UI</p>
<p>In a world where hard links were commonly used for Python packaging I'm not sure I would have a use case. But my current use case is that I have some code that builds a container where for reasons I currently feel most comfortable using <code>--link-mode=copy</code> and I'd prefer to not end up with two copies and various things are wrapped by scripts so chaining command lines is not trivial. More generally, this is a env var pip has, so if I can get similar behaviour when using <code>uv</code> it reduces FUD when porting</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-15 23:23</div>
            <div class="timeline-body"><blockquote>
<p>But my current use case is that I have some code that builds a container where for reasons I currently feel most comfortable using --link-mode=copy and I'd prefer to not end up with two copies</p>
</blockquote>
<p>This part is also interesting, maybe worth considering better support for this workflow in <code>uv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1383.html">astral-sh/uv#1383</a> on 2024-02-15 23:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-15 23:34</div>
            <div class="timeline-body"><blockquote>
<p>maybe worth considering</p>
</blockquote>
<p>I'm really glad uv defaults to reflink / hard links. I just have a little FUD about some things specific to my codebase, so not sure how strongly you should consider that specific bit. Definitely consider containers though!</p>
<p>I do generally like that pip exposes a lot of its configuration via env vars. I think that was a good choice for a low-ish level tool</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-02-15 23:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-15 23:36</div>
            <div class="timeline-body"><p>Thank you! :-)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:17 UTC
    </footer>
</body>
</html>
