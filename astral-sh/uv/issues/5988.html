<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `editable: false` for workspace dependencies - astral-sh/uv #5988</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support `editable: false` for workspace dependencies</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/5988">#5988</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-08-10 00:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-10 00:28</div>
            <div class="timeline-body"><p>See: #5985.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-08-10 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @charliermarsh on 2024-08-10 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-10 12:01</div>
            <div class="timeline-body"><p>I'm wondering if this should be a property of the workspace member itself rather than a property of the <em>dependency</em>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-10 16:11</div>
            <div class="timeline-body"><p>The more I think about this, the less I like it. Even if we support <code>editable: false</code>, the <em>requiring</em> package will still be installed as editable. I think editable should either be (1) a property of the package (not the dependency), or better (2) a global setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-10 16:31</div>
            <div class="timeline-body"><p>I don't think we need to make a decision on this for the upcoming stabilizations, but don't have strong feelings about how it works. Curious to hear from @konstin and community members trying out workspaces.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-10 16:33</div>
            <div class="timeline-body"><p>Agree. Just hard for me to imagine a use-case where <code>root</code> depends on <code>child</code>, and you want <code>child</code> installed as non-editable but <code>root</code> as editable? And then there's <em>no</em> way to install <code>root</code> as non-editable?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> removed by @zanieb on 2024-08-20 18:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LucidDan">@LucidDan</a> on 2025-01-10 03:24</div>
            <div class="timeline-body"><p>I have one scenario I ran into that led me to this issue.</p>
<p>If I'm building a mono-repo using uv workspaces, and I have a type stubs package that I want to have in my repo as a workspace that is used by several projects...mypy doesn't work properly with editable dependencies (see https://github.com/python/mypy/issues/12313, apparently there is no plan to change this behaviour)</p>
<p>In that case, I need the type stubs package installed non-editable, even when the rest of the workspaces are editable.
I work around this by defining the type stub as a path dependency instead of a workspace source, eg:</p>
<pre><code>[tool.uv.sources]
demo = { workspace = true }
lh = { workspace = true }
my-typestubs = { path = &quot;packages/my-typestubs&quot;, editable = false }
</code></pre>
<p>This is a reasonable workaround - it just means I end up with a separate lock and .venv inside the type stubs package, and its slightly slower than if I could keep it as a workspace.</p>
<p>I can't really judge if this is something many people would want to do, but for me at least, it's a valid use case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-10 04:44</div>
            <div class="timeline-body"><p>Thanks for weighing in! cc @AlexWaygood</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xmakro">@xmakro</a> on 2025-06-06 03:59</div>
            <div class="timeline-body"><p>We are also running into this use case in a large monorepo.</p>
<pre><code>[tool.uv.sources]
demo = { workspace = true, editable = false }
</code></pre>
<p>would be ideal</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:32 UTC
    </footer>
</body>
</html>
