<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a `--output` and `-o` flag to `uv export` - astral-sh/uv #7058</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add a `--output` and `-o` flag to `uv export`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7058">#7058</a>
        opened by <a href="https://github.com/SamEdwardes">@SamEdwardes</a>
        on 2024-09-05 01:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/SamEdwardes">@SamEdwardes</a> on 2024-09-05 01:18</div>
            <div class="timeline-body"><p><strong>Background</strong></p>
<p>Thank you for adding the <code>uv export</code> command. It is a great feature. One improvement that would be helpful is to include an option to export the data to a file. For example, currently you can do this:</p>
<pre><code class="language-bash">uv export &gt; requirements.txt
</code></pre>
<p>However, it would be a nice feature to have an output flag. For example:</p>
<pre><code class="language-bash">uv export --output requirements.txt
# or...
uv export -o requirements.txt
</code></pre>
<p>This is the same approach that poetry uses: https://python-poetry.org/docs/cli/#export</p>
<p><strong>Why</strong></p>
<p>Using <code>&gt;</code> or <code>&gt;&gt;</code> requires the user to have more advanced shell knowledge. Having an output flag could be easier for users.</p>
<p><strong>System</strong></p>
<pre><code class="language-bash">‚ùØ uv --version
uv 0.4.5 (42b6bfbad 2024-09-04)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-09-05 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-09-05 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-05 14:16</div>
            <div class="timeline-body"><p>We can also do an atomic write with this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @zanieb on 2024-09-05 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-05 21:50</div>
            <div class="timeline-body"><p>Also needed for https://github.com/astral-sh/uv-pre-commit/issues/16</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 21:51</div>
            <div class="timeline-body"><p>Why is it needed there vs. piping the output? Just curious.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-05 22:00</div>
            <div class="timeline-body"><p>I think so users can customize the file name via <code>args:</code>? (mostly echoing the chat there)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SamEdwardes">@SamEdwardes</a> on 2024-09-06 00:10</div>
            <div class="timeline-body"><blockquote>
<p>Why is it needed there vs. piping the output? Just curious.</p>
</blockquote>
<p>It is definitely not needed. But I think it is a nice to have:</p>
<ul>
<li>Less experience shell users may not be familiar with piping.</li>
<li>More consistent API across <code>uv</code> (e.g. <code>uv pip compile requirements.in --output-file requirements.txt</code>)<ul>
<li>So maybe using <code>--output-file</code> is the best choice to be consistent</li>
</ul>
</li>
<li>More consistent with other tools:<ul>
<li>Poetry: <code>poetry export --output</code> (https://python-poetry.org/docs/cli/#export)</li>
<li>Pip tools: <code>pip-compile --all-build-deps --all-extras --output-file=constraints.txt</code> (https://github.com/jazzband/pip-tools)</li>
</ul>
</li>
<li>On the other hand... I did some research and some other tools have no export option:<ul>
<li>conda: https://stackoverflow.com/a/57845418/11349897</li>
<li>pipenv: <code>pipenv requirements &gt; requirements.txt</code> (https://pipenv.pypa.io/en/latest/advanced.html#generating-a-requirements-txt)</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-06 00:16</div>
            <div class="timeline-body"><p>I will do this quickly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-09-06 00:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-06 00:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-06 00:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SamEdwardes">@SamEdwardes</a> on 2024-09-06 15:50</div>
            <div class="timeline-body"><p>Awesome thank you Charlie!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-09-06 18:31</div>
            <div class="timeline-body"><blockquote>
<p>Why is it needed there vs. piping the output? Just curious.</p>
</blockquote>
<p>I think this feature is necessary, mainly due to text encoding issues.  UV writes files would allow us to unify text encoding. If we use piped output, the encoding would depend on the settings or defaults, just like how PowerShell has different encoding behaviors.</p>
<p>https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_character_encoding?view=powershell-7.4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gandalfsaxe">@gandalfsaxe</a> on 2024-12-12 14:26</div>
            <div class="timeline-body"><p>@charliermarsh Just out of curiosity, why does <code>uv export</code> by default only print the result to the terminal, and I need to explicitly add <code>uv export -o requirements.txt</code>?</p>
<p>I'm sure there's a good reason for this, it's just that every time I do need to use the <code>uv export</code> command, it's because I need the <code>requirements.txt</code> file for some legacy systems / pipelines - so I was wondering why the file generation is not just the default behavior?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 04:38:44 UTC
    </footer>
</body>
</html>
