<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build backend: only warn on invalid entry point names - astral-sh/uv #14442</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Build backend: only warn on invalid entry point names</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14442">#14442</a>
        opened by <a href="https://github.com/Tpt">@Tpt</a>
        on 2025-07-03 15:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Tpt">@Tpt</a> on 2025-07-03 15:39</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Currently UV build backend fails with <code>Entrypoint names must consist of letters, numbers, dots, underscores and dashes</code> error if the entry point name is not valid according to <a href="https://packaging.python.org/en/latest/specifications/entry-points/#data-model">the data model</a>.</p>
<p>However it seems that this validation is only a SHOULD and not a MUST <q>For new entry points, it is recommended to use only letters, numbers, underscores, dots and dashes (regex [\w.-]+).</q>.</p>
<p>Would it make sense to convert this error into a warning? It is blocking the migration of one of my projects to <code>uv_build</code></p>
<h3>Example</h3>
<pre><code class="language-toml">[project.entry-points.&quot;foo.bar&quot;]
&quot;https://example/&quot; = &quot;package:module&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @Tpt on 2025-07-03 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">build-backend</span> added by @konstin on 2025-07-03 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-07-03 15:58</div>
            <div class="timeline-body"><p>Why do you need an entrypoint outside the recommendation for your project?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-03 15:58</div>
            <div class="timeline-body"><p>Is that the entry point name in your actual project?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Tpt">@Tpt</a> on 2025-07-03 16:02</div>
            <div class="timeline-body"><p>@konstin I abuse entry points to allow installation of data dependencies using Pypi. Some Python packages do not contain any code but only data that are registered and exposed ot other Python packages using entry points. The URL format is there for historical reason and I might hack a bit to make it fit the entry-point data model recommandations.</p>
<p>@zanieb Not exactly but it's the idea: the entry point names are URLs (mostly for historical reasons).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nejch">@nejch</a> on 2025-07-23 11:42</div>
            <div class="timeline-body"><p>@zanieb another real-world example here would be MkDocs plugins namespaced by their package to avoid conflicts (e.g. custom search plugins like the one in mkdocs-material overriding the default mkdocs search plugin).</p>
<p>I'm pretty sure mkdocs-material (used for docs here as well) wouldn't be able to switch to uv at the moment:
https://github.com/squidfunk/mkdocs-material/blob/master/pyproject.toml#L77-L86</p>
<p>I'm not sure why they chose this approach to use slashes but it's pretty established there now.
Edit: more context here https://github.com/squidfunk/mkdocs-material/issues/4581</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14867.html">astral-sh/uv#14867</a> on 2025-07-24 09:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-07-24 12:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:08 UTC
    </footer>
</body>
</html>
