<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv venv ignores UV_VENV_HOME on Windows - astral-sh/uv #15549</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv venv ignores UV_VENV_HOME on Windows</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15549">#15549</a>
        opened by <a href="https://github.com/svenviktorjonsson">@svenviktorjonsson</a>
        on 2025-08-27 12:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/svenviktorjonsson">@svenviktorjonsson</a></div>
            <div class="timeline-body">Summary
Summary
<p>The <code>uv venv</code> command on Windows consistently ignores the <code>UV_VENV_HOME</code> environment variable. Instead of creating a virtual environment in the specified directory, it always defaults to creating a <code>.venv</code> folder in the current working directory.</p>
<hr>
Steps to Reproduce
<ol>
<li>Set the <code>UV_VENV_HOME</code> environment variable permanently in PowerShell:<pre><code>[System.Environment]::SetEnvironmentVariable(&quot;UV_VENV_HOME&quot;, &quot;$HOME\.virtualenvs&quot;, &quot;User&quot;)
</code></pre>
</li>
<li>Open a new, clean PowerShell terminal to ensure the variable is loaded.</li>
<li>Confirm the variable is set:<pre><code>echo $env:UV_VENV_HOME
# Expected output: C:\Users\YourUser\.virtualenvs
</code></pre>
</li>
<li>Navigate to any empty project directory.</li>
<li>Run the environment creation command:<pre><code>uv venv
</code></pre>
</li>
</ol>
<hr>
Expected Behavior
<p><code>uv</code> should create a new virtual environment inside the directory specified by <code>UV_VENV_HOME</code> (e.g., <code>C:\Users\YourUser\.virtualenvs\project-name</code>).</p>
<hr>
Actual Behavior
<p><code>uv</code> ignores the <code>UV_VENV_HOME</code> variable and creates a <code>.venv</code> folder in the current working directory.</p>
Testing run
üöÄ STARTING TEST: Checking if uv respects UV_VENV_HOME...
<ol>
<li>Setting $env:UV_VENV_HOME to &#x27;C:\Users\user.name.virtualenvs\uv-test-location&#x27;</li>
<li>Creating a temporary test directory at &#x27;uv-temp-test-project&#x27;</li>
<li>Running <code>uv venv</code>...
Using CPython 3.11.9 interpreter at: C:\Python\Python311\python.exe
Creating virtual environment at: .venv
Activate with: .venv\Scripts\activate</li>
<li>Checking for a local &#x27;.venv&#x27; folder...</li>
</ol>
<hr>
‚ùå TEST FAILED!
<code>uv</code> created a local &#x27;.venv&#x27; folder, ignoring the environment variable.
<p>üßπ Cleaning up...</p>
<ul>
<li>Removing temporary project directory: uv-temp-test-project</li>
<li>Unsetting $env:UV_VENV_HOME</li>
</ul>
<hr>
‚ú® Test complete.
Platform
<p>Windows 10</p>
Version
<p>uv 0.8.13 (ede75fe62 2025-08-21)</p>
Python version
<p>Python 3.11.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/svenviktorjonsson">@svenviktorjonsson</a> on 2025-08-27 12:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/svenviktorjonsson">@svenviktorjonsson</a> on 2025-08-27 12:27</div>
            <div class="timeline-body"><p>correction:</p>
<p>C:\Users\user.name.virtualenvs\uv-test-location was missing an \ and should be consistent with earlier example path:
C:\Users\YourUser.virtualenvs\uv-test-location</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-27 14:16</div>
            <div class="timeline-body"><p><code>UV_VENV_HOME</code> is not something we support. Did you get that from an LLM or something..?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-27 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-27 14:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:10 UTC
    </footer>
</body>
</html>
