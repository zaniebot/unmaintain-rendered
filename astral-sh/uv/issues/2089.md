```yaml
number: 2089
title: uv complains venvs it creates are externally managed
type: issue
state: closed
author: Julian
labels:
  - bug
assignees: []
created_at: 2024-02-29T16:47:36Z
updated_at: 2024-02-29T21:56:40Z
url: https://github.com/astral-sh/uv/issues/2089
synced_at: 2026-01-10T01:57:04Z
```

# uv complains venvs it creates are externally managed

---

_Issue opened by @Julian on 2024-02-29 16:47_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

Hi there. I'm trying to use `uv` for the first time and am having a hard time figure out how to use it to install things into virtual environments. More specifically, this command:

```
python3.12 -m venv venv && venv/bin/python -m pip install uv && venv/bin/uv venv uv-venv && venv/bin/uv pip install --python uv-venv/bin/python httpx
```

which installs uv then creates a virtual environment using uv then tries to install something into it

results in:

```
Collecting uv
  Using cached uv-0.1.12-py3-none-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl.metadata (19 kB)
Using cached uv-0.1.12-py3-none-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl (19.0 MB)
/Users/julian/Desktop/venv/lib/python3.12/site-packages/pip/_internal/metadata/importlib/_dists.py:73: DeprecationWarning: Unimplemented abstract methods {'locate_file'}
  return cls(files, info_location)
Installing collected packages: uv
Successfully installed uv-0.1.12
Using Python 3.12.2 interpreter at /Users/julian/Desktop/venv/bin/python3
Creating virtualenv at: uv-venv
Activate with: source uv-venv/bin/activate
error: The interpreter at /opt/homebrew/opt/python@3.12/Frameworks/Python.framework/Versions/3.12 is externally managed, and indicates the following:

  To install Python packages system-wide, try brew install

Consider creating a virtual environment with `uv venv`.
```

when that was exactly how the venv was created.



<details>
<summary>with `--verbose`</summary>

```
Collecting uv
  Using cached uv-0.1.12-py3-none-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl.metadata (19 kB)
Using cached uv-0.1.12-py3-none-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl (19.0 MB)
/Users/julian/Desktop/venv/lib/python3.12/site-packages/pip/_internal/metadata/importlib/_dists.py:73: DeprecationWarning: Unimplemented abstract methods {'locate_file'}
  return cls(files, info_location)
Installing collected packages: uv
Successfully installed uv-0.1.12
 uv_interpreter::python_query::find_default_python 
      0.000881s   0ms DEBUG uv_interpreter::python_query Starting interpreter discovery for default Python
      0.001712s   0ms DEBUG uv_interpreter::interpreter Cached interpreter info for Python 3.12.2, skipping probing: venv/bin/python3
Using Python 3.12.2 interpreter at /Users/julian/Desktop/venv/bin/python3
Creating virtualenv at: uv-venv
Activate with: source uv-venv/bin/activate
 uv::requirements::from_source source=httpx
 uv_interpreter::python_query::find_requested_python request=uv-venv/bin/python
      0.000438s   0ms DEBUG uv_interpreter::python_query Starting interpreter discovery for Python uv-venv/bin/python
      0.000767s   0ms DEBUG uv_interpreter::interpreter Cached interpreter info for Python 3.12.2, skipping probing: /opt/homebrew/Cellar/python@3.12/3.12.2_1/Frameworks/Python.framework/Versions/3.12/bin/python3.12
    0.000785s DEBUG uv::commands::pip_install Using Python 3.12.2 environment at /opt/homebrew/opt/python@3.12/bin/python3.12
error: The interpreter at /opt/homebrew/opt/python@3.12/Frameworks/Python.framework/Versions/3.12 is externally managed, and indicates the following:

```
</details>

(This is on macOS)

---

_Comment by @charliermarsh on 2024-02-29 16:50_

I think this may be fixed on `main` -- we were incorrectly following symlinks in one location. I'll be cutting a release today, it should fix this for you.

---

_Comment by @charliermarsh on 2024-02-29 16:51_

(Alternatively, if you activate the virtual environment, or use `VIRTUAL_ENV= uv-venv ` instead of `--python`, that will work too.)

---

_Assigned to @charliermarsh by @charliermarsh on 2024-02-29 16:51_

---

_Label `bug` added by @charliermarsh on 2024-02-29 16:51_

---

_Comment by @Julian on 2024-02-29 16:52_

Ah unlucky timing for me! Great! Thanks will give one of those a shot!

---

_Comment by @charliermarsh on 2024-02-29 21:52_

Do you mind trying this again with the latest release?

---

_Comment by @Julian on 2024-02-29 21:54_

Works perfect. Usual props!

---

_Closed by @Julian on 2024-02-29 21:54_

---

_Comment by @charliermarsh on 2024-02-29 21:56_

Awesome, thanks!

---
