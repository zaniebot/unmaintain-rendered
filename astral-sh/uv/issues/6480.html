<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv tool install not working with Git Credential Manager for private GitHub repository - astral-sh/uv #6480</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv tool install not working with Git Credential Manager for private GitHub repository</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6480">#6480</a>
        opened by <a href="https://github.com/daviewales">@daviewales</a>
        on 2024-08-23 00:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/daviewales">@daviewales</a></div>
            <div class="timeline-body"><p><strong>OS</strong>: Windows 11
<strong>command invoked</strong>: <code>uv tool install git+https://git@github.com/example/private-repo.git</code>
<strong>uv --version</strong>: <code>uv 0.3.1 (be17d132a 2024-08-21)</code></p>
<p>Error message:</p>
<pre><code>error: Git operation failed
  Caused by: failed to clone into: AppData\Local\uv\git-v0\db\1ac2ec12aa800fea
  Caused by: process didn&#x27;t exit successfully: `git fetch --force --update-head-ok https://git@github.com/example/private-repo.git +HEAD:refs/remotes/origin/HEAD` (exit code: 128)
--- stderr
remote: Support for password authentication was removed on August 13, 2021.
remote: Please see https://docs.github.com/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.
fatal: Authentication failed for &#x27;https://github.com/swsphn/github-tools.git/&#x27;
</code></pre>
<p><code>pipx</code> is able to install this repository.
It triggers Git Credential Manager to authenticate me in the browser. (For some reason it does this multiple times, but eventually works.)</p>
<p><code>uv tool install</code> appears to attempt unsupported direct password authentication, and does not trigger Git Credential Manager.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-23 00:44</div>
            <div class="timeline-body"><p>Thanks for the report. Can you use SSH credentials instead of HTTPS? Or authenticate prior to the command and use a <a href="https://git-scm.com/docs/git-credential-store">Git credential store</a>? Our supported authentication schemes are discussed in the documentation: https://docs.astral.sh/uv/configuration/authentication/#git-authentication</p>
<p>I don&#x27;t think we&#x27;ll support interactive authentication anytime soon.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-23 00:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/daviewales">@daviewales</a> on 2024-08-23 03:25</div>
            <div class="timeline-body"><p>Thanks. I&#x27;m using <a href="https://github.com/git-ecosystem/git-credential-manager">Git Credential Manager</a>, which is supposed to be the best way to manage git credentials on Windows. (Windows and <code>ssh-agent</code> don&#x27;t play well.) Do you call a local git binary, or do you roll your own git support? I believe (could be wrong!) that pip and pipx use the local git binary, which automatically knows to talk to Git Credential Manager.</p>
<p>OK.... I just tried this again, and <code>uv</code> triggered the Git Credential Manager prompt, which allowed me to authenticate in the browser. It then successfully installed the package from the private repository.</p>
<p>So, I guess it works after all. I&#x27;ll report back if the issue occurs again.
Until that, maybe it was just a temporary glitch somewhere.
Closing for now as I can&#x27;t reproduce it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/daviewales">@daviewales</a> on 2024-08-23 03:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:33:07 UTC
    </footer>
</body>
</html>
