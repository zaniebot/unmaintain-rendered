<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slower than poetry on downloading wheels - astral-sh/uv #2706</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>slower than poetry on downloading wheels</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2706">#2706</a>
        opened by <a href="https://github.com/messense">@messense</a>
        on 2024-03-28 05:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/messense">@messense</a></div>
            <div class="timeline-body">

<p>Comparing <code>poetry install</code> with <code>uv install</code> a <code>poetry export</code>ed <code>requirments.txt</code>:</p>
<ul>
<li><code>poetry</code> takes 4m5s, peak network speed is 528 Mibps</li>
<li><code>uv</code> takes 4m17s, peak network speed is 229 Mibps (Resolve is fast, only took 1.39s)</li>
</ul>
<pre><code>Resolved 173 packages in 1.39s
Downloaded 173 packages in 4m 15s
Installed 173 packages in 141ms
</code></pre>
<p>It seems that <code>uv</code> does not download wheels in parallel yet, and it&#x27;s a bottleneck for some use cases.</p>
<hr>
<p>uv platform: Ubuntu 22.04
uv version: 0.1.24</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">performance</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-03-28 06:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-03-28 08:54</div>
            <div class="timeline-body"><p>Can you provide the requirements.txt or a similar one that reproduces that problem?</p>
<p>For context, we download and streaming unzip the wheels in parallel, maybe it&#x27;s the unzipping that makes it look slower?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-03-28 08:57</div>
            <div class="timeline-body"><p>Here you go:</p>


<pre><code>--find-links https://storage.googleapis.com/jax-releases/jax_cuda_releases.html

aiobotocore==2.5.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
aiohttp-cors==0.7.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
aiohttp==3.8.5 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
aioitertools==0.11.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
aiosignal==1.3.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
appnope==0.1.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot; and sys_platform == &quot;darwin&quot;
asttokens==2.2.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
async-timeout==4.0.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
attrs==23.1.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
backcall==0.2.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
blinker==1.7.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
boto3==1.28.17 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
botocore==1.31.17 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
bottleneck==1.3.7 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
cachetools==5.3.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
certifi==2023.7.22 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
cffi==1.15.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot; and platform_python_implementation == &quot;PyPy&quot;
cftime==1.6.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
charset-normalizer==3.2.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
clarabel==0.5.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
click==8.1.7 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
cloudpathlib[s3]==0.15.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
cloudpickle==2.2.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
colorama==0.4.6 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot; and (platform_system == &quot;Windows&quot; or sys_platform == &quot;win32&quot;)
colorful==0.5.5 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
comm==0.1.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
contourpy==1.1.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
cvxpy==1.3.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
cycler==0.11.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
debugpy==1.8.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
decorator==5.1.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
dill==0.3.8 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
distlib==0.3.7 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
dm-tree==0.1.8 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ecos==2.0.12 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
einops==0.7.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
etcd3 @ https://github.com/kragniz/python-etcd3/archive/e58a899579ba416449c4e225b61f039457c8072a.zip ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
executing==1.2.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
filelock==3.13.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
flask==3.0.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
fonttools==4.42.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
frozendict==2.3.10 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
frozenlist==1.4.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
fsspec==2023.6.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
google-api-core==2.11.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
google-auth==2.22.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
googleapis-common-protos==1.60.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
graphviz==0.20.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
grpcio==1.59.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
idna==3.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ipython==8.14.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ipywidgets==8.1.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
itsdangerous==2.1.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jax[cuda12-pip]==0.4.16 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jaxlib==0.4.16+cuda12.cudnn89 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jedi==0.19.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jinja2==3.1.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jmespath==1.0.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
joblib==1.3.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jsonschema-specifications==2023.7.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jsonschema==4.19.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
jupyterlab-widgets==3.0.8 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
kaleido==0.2.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
kiwisolver==1.4.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
lightgbm==4.2.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
lightning-utilities==0.11.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
llvmlite==0.40.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
markupsafe==2.1.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
mashumaro[msgpack]==3.10 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
matplotlib-inline==0.1.6 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
matplotlib==3.7.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ml-dtypes==0.3.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
mpmath==1.3.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
msgpack==1.0.5 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
multidict==6.0.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
multiprocess==0.70.16 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
netcdf4==1.6.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
networkx==3.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
numba==0.57.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
numexpr==2.8.7 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
numpy==1.24.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cublas-cu12==12.1.3.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cuda-cupti-cu12==12.1.105 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cuda-nvcc-cu12==12.4.99 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cuda-nvrtc-cu12==12.1.105 ; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot; and python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cuda-runtime-cu12==12.1.105 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cudnn-cu12==8.9.2.26 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cufft-cu12==11.0.2.54 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-curand-cu12==10.3.2.106 ; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot; and python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cusolver-cu12==11.4.5.107 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-cusparse-cu12==12.1.0.106 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-nccl-cu12==2.19.3 ; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot; and python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-nvjitlink-cu12==12.3.101 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
nvidia-nvtx-cu12==12.1.105 ; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot; and python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
opencensus-context==0.1.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
opencensus==0.11.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
opt-einsum==3.3.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
osqp==0.6.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
packaging==23.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pandas==2.1.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pandas[aws,computation,parquet,performance]==2.1.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
parso==0.8.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pathos==0.3.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
patsy==0.5.6 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pendulum==2.1.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pexpect==4.8.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot; and sys_platform != &quot;win32&quot;
pickleshare==0.7.5 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pillow==10.0.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
platformdirs==3.10.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
plotly==5.16.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
polars==0.20.13 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pox==0.3.4 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ppft==1.7.6.8 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
prometheus-client==0.19.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
prompt-toolkit==3.0.39 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
protobuf==4.25.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
psutil==5.9.6 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ptyprocess==0.7.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot; and sys_platform != &quot;win32&quot;
pure-eval==0.2.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
py-spy==0.3.14 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pyarrow==15.0.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pyasn1-modules==0.3.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pyasn1==0.5.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pycparser==2.21 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot; and platform_python_implementation == &quot;PyPy&quot;
pydantic==1.10.13 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pygments==2.16.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pyinstrument==4.5.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pyparsing==3.0.9 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
python-dateutil==2.8.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pytz==2023.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pytzdata==2020.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
pyyaml==6.0.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
qdldl==0.1.7.post0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
ray[default,tune]==2.10.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
referencing==0.30.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
requests==2.31.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
rpds-py==0.9.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
rsa==4.9 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
s3fs==2023.6.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
s3transfer==0.6.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
scikit-learn==1.3.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
scipy==1.11.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
scs==3.2.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
seaborn==0.12.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
setproctitle==1.3.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
setuptools==68.1.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
shap==0.44.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
sitecustomize-entrypoints==1.1.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
six==1.16.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
slack-bolt==1.18.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
slack-sdk==3.26.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
slicer==0.0.7 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
smart-open==6.3.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
stack-data==0.6.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
statsmodels==0.14.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
sympy==1.12 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
tabulate==0.9.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
tenacity==8.2.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
tensorboardx==2.6.2.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
threadpoolctl==3.2.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
torch==2.2.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
torchmetrics==1.3.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
tqdm==4.66.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
traitlets==5.9.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
triton==2.2.0 ; platform_system == &quot;Linux&quot; and platform_machine == &quot;x86_64&quot; and python_version &lt; &quot;3.11&quot; and python_version &gt;= &quot;3.10&quot;
typing-extensions==4.10.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
tzdata==2023.3 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
urllib3==1.26.16 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
virtualenv==20.21.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
wcwidth==0.2.6 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
werkzeug==3.0.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
widgetsnbextension==4.0.8 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
wrapt==1.15.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
xarray==2023.8.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
xgboost==2.0.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
xlrd==2.0.1 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
yarl==1.9.2 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
zstandard==0.22.0 ; python_version &gt;= &quot;3.10&quot; and python_version &lt; &quot;3.11&quot;
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-03-28 09:01</div>
            <div class="timeline-body"><blockquote>
<p>For context, we download and streaming unzip the wheels in parallel, maybe it&#x27;s the unzipping that makes it look slower?</p>
</blockquote>
<p>From the network usage, it seems that <code>uv</code> is only downloading one wheel at a time.</p>
<p>All downloads go through a HTTP proxy, the <code>uv install</code> network speed is very close to download a big wheel (for example <code>pytorch</code>) from pypi using <code>wget</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-28 18:25</div>
            <div class="timeline-body"><p>The 4m15s is combined for downloading and unzipping. Unzipping many of those wheels is extremely slow, so it&#x27;s not... <em>totally</em> surprising. Though if you&#x27;re only seeing a single download at a time, that&#x27;s confusing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-28 18:28</div>
            <div class="timeline-body"><blockquote>
<p>From the network usage, it seems that uv is only downloading one wheel at a time.</p>
</blockquote>
<p>How did you come to this conclusion? What are you observing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-28 18:42</div>
            <div class="timeline-body"><p>Separately, have you confirmed that your proxy isn&#x27;t single-threaded?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/konstin">@konstin</a> on 2024-03-28 18:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-03-28 21:54</div>
            <div class="timeline-body"><blockquote>
<p>Separately, have you confirmed that your proxy isn&#x27;t single-threaded?</p>
</blockquote>
<p>Yes, it is not. Poetry go through the same proxy to download and unzip wheels but takes less time with higher network utilization.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-28 22:00</div>
            <div class="timeline-body"><p>How are you measuring the time it takes for Poetry to download <em>and</em> unzip the wheels? How are you separating that from the time it takes for Poetry to install the wheels?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-28 22:08</div>
            <div class="timeline-body"><p>E.g., Poetry doesn&#x27;t unzip as it downloads. It downloads zipped wheels, then passes zipped wheels to https://github.com/pypa/installer. So you can&#x27;t directly measure the &quot;download time&quot; between the two tools, uv is doing significantly more work. (I&#x27;m mostly trying to understand how you determined that uv isn&#x27;t downloading in parallel.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-03-28 22:20</div>
            <div class="timeline-body"><p>I&#x27;m on mobile so can&#x27;t provide more details, will post more info next week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-28 22:21</div>
            <div class="timeline-body"><p>Thanks very much, I&#x27;d like to improve this if we can.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-04-02 08:00</div>
            <div class="timeline-body"><p>I&#x27;m unable to post images here on work computer, but the symptom is that <code>poetry</code> can utilize twice more network resources than <code>uv</code>, and <code>uv</code> CPU usage is around 1%.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-02 12:29</div>
            <div class="timeline-body"><p>Strange... We definitely download in parallel so not sure why the network usage looks different. My guess is it&#x27;s related to our download+unzip behavior but I don&#x27;t know.</p>
<p>@konstin will look into it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/konstin">@konstin</a> on 2024-04-29 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/ibraheemdev">@ibraheemdev</a> by <a href="https://github.com/konstin">@konstin</a> on 2024-04-29 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-04-30 18:46</div>
            <div class="timeline-body"><p>On my machine the downloads complete in 3m 18s. We are definitely downloading in parallel, I can see the progress running from the <a href="https://github.com/astral-sh/uv/pull/3252">astral-sh/uv#3252</a> branch. @messense can you provide the <code>pyproject.toml</code> you used to install with poetry?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-05-13 09:24</div>
            <div class="timeline-body"><p>I don&#x27;t have the <code>pyproject.toml</code> at hand, but you can probably using <code>poetry add</code> command to add everything in the <code>requirements.txt</code> to a <code>pyproject.toml</code>.</p>
<p>BTW, 3m18s still feels slow, does it fully utilize your network?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-05-16 17:02</div>
            <div class="timeline-body"><p>@messense Here&#x27;s the progress output:</p>
<p>https://github.com/astral-sh/uv/assets/34988408/26b288de-d17a-4544-bfa5-c993529e8780</p>
<p>You can see we finish the smaller downloads relatively quickly. We&#x27;re really limited by the slowest download here, I&#x27;m not sure there&#x27;s much we can do better.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2024-05-21 06:31</div>
            <div class="timeline-body"><p>Closing now that it only takes ~1m11s in my environment using uv 0.1.45.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/messense">@messense</a> on 2024-05-21 06:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:39 UTC
    </footer>
</body>
</html>
