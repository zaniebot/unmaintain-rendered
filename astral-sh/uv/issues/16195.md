```yaml
number: 16195
title: String interpolation bug in uv-managed python3.12
type: issue
state: closed
author: masalim2
labels:
  - bug
assignees: []
created_at: 2025-10-08T20:56:09Z
updated_at: 2025-10-09T05:33:37Z
url: https://github.com/astral-sh/uv/issues/16195
synced_at: 2026-01-10T01:57:35Z
```

# String interpolation bug in uv-managed python3.12

---

_Issue opened by @masalim2 on 2025-10-08 20:56_

### Summary

- I am using uv 0.6.2 in a Ubuntu 23.04 VM (emulated x86_64 via [Orbstack](https://orbstack.dev/) hosted on an M1 Mac)
- `uv python list` shows an installation at `.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu/bin/python3.12`.  

I observe a really strange behavior when attempting to string interpolate a float with this build of Python:
```
uv run python --version
Python 3.12.9
# Python 3.12.9 (main, Feb 12 2025, 14:50:50) [Clang 19.1.6 ] on linux

# What!?
uv run python -c 'print("%g" % 95)'
90

uv run python -c 'print("%.1f" % 95.0)'
90.0
```

If I use a different python installation, it seems fine:

```
# Python 3.12.8 (main, Jan 13 2025, 14:13:40) [GCC 12.3.0] on linux
.pyenv/shims/python3 --version
Python 3.12.8

.pyenv/shims/python3 -c 'print("%g" % 95.0)'
95

.pyenv/shims/python3 -c 'print("%.1f" % 95.0)'
95.0
```

Is this a clang versus gcc issue? It's weird that the build is located under `.local/share/uv/python/cpython-3.12.9-linux-x86_64-gnu` but the Python REPL startup info shows Clang 19.1.6 -- not sure if this is just an edge case in my particular VM, but I thought I couldn't be the only to stumble into this and it might be worth checking with the community!  

Thank you for all your amazing work on uv.  

### Platform

Linux 6.15.11-orbstack-00542-g4f455d264886 x86_64 GNU/Linux

### Version

uv 0.6.2

### Python version

Python 3.12.9

**Edit:** The issue does persist after updating uv to 0.9.0 and uv-managed Python 3.12.11.

---

_Label `bug` added by @masalim2 on 2025-10-08 20:56_

---

_Comment by @zanieb on 2025-10-08 23:28_

I wonder if this is a duplicate of https://github.com/astral-sh/uv/issues/15690

---

_Comment by @masalim2 on 2025-10-09 00:38_

> I wonder if this is a duplicate of [#15690](https://github.com/astral-sh/uv/issues/15690)

It certainly looks like it! Sorry, failed to find the related issue on a cursory search. Like the reporter of the original issue, I too can only reproduce the issue with the UV-managed binaries.  I agree that itâ€™s not fair to call this a bug in uv. Maybe something specific to the uv builds is exposing a latent bug in the emulation. 

---

_Comment by @zanieb on 2025-10-09 01:33_

Yeah we use a different compiler toolchain so it's entirely plausible that's the root cause. It looks like you can disable Rosetta to workaround it until they release the fix!

---

_Closed by @masalim2 on 2025-10-09 05:33_

---
