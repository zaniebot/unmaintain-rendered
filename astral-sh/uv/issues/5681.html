<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No solution found when resolving dependencies - astral-sh/uv #5681</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No solution found when resolving dependencies</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/5681">#5681</a>
        opened by <a href="https://github.com/nguyenvulong">@nguyenvulong</a>
        on 2024-08-01 03:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/nguyenvulong">@nguyenvulong</a> on 2024-08-01 03:29</div>
            <div class="timeline-body"><p>Requirement file: from https://github.com/ggerganov/llama.cpp</p>
<ul>
<li>This command worked fine</li>
</ul>
<pre><code>pip install llama.cpp/requirements/requirements-convert_hf_to_gguf.txt
</code></pre>
<ul>
<li>But adding <code>uv</code> caused the bug</li>
</ul>
<pre><code>uv pip install llama.cpp/requirements/requirements-convert_hf_to_gguf.txt
</code></pre>
<p>Error</p>
<pre><code>× No solution found when resolving dependencies:
  ╰─▶ Because only the following versions of numpy are available:
          numpy&lt;1.26.4
          numpy&gt;=1.27.dev0
      and you require numpy&gt;=1.26.4,&lt;1.27.dev0, we can conclude that the requirements are unsatisfiable.

      hint: numpy was requested with a pre-release marker (e.g., numpy&gt;=1.26.4,&lt;1.27.dev0), but pre-releases weren't enabled
      (try: `--prerelease=allow`)
</code></pre>
<p>when using <code>--prerelease=allow</code></p>
<pre><code>❯ uv  pip install -r llama.cpp/requirements/requirements-convert_hf_to_gguf.txt --prerelease=allow
  × No solution found when resolving dependencies:
  ╰─▶ Because only the following versions of numpy are available:
          numpy&lt;1.26.4
          numpy&gt;=1.27.dev0
      and you require numpy&gt;=1.26.4,&lt;1.27.dev0, we can conclude that the requirements are unsatisfiable.
</code></pre>
<ul>
<li>The current uv platform (I have no idea what &quot;uv platform&quot; is, so I provide the OS information instead)</li>
</ul>
<pre><code>Linux dev4-1 5.15.0-113-generic #123-Ubuntu
Description:	Ubuntu 22.04.4 LTS
Release:	22.04
Codename:	jammy

Python 3.12.4
pip 24.0
conda 24.1.2 (I tried both conda and venv, both failed)
</code></pre>
<ul>
<li>The current uv version (<code>uv --version</code>).
<code>uv 0.2.27</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-01 03:57</div>
            <div class="timeline-body"><p>Hi! This is a known difference from <code>pip</code>, please see the <a href="https://github.com/astral-sh/uv/blob/main/PIP_COMPATIBILITY.md#pre-release-compatibility">relevant section in the compatibility guide</a>. As noted in the hint after the error, you need to include <code>--prerelease=allow</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-08-01 03:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nguyenvulong">@nguyenvulong</a> on 2024-08-01 04:34</div>
            <div class="timeline-body"><p>Actually I saw that hint and tried it before, it's the same error output.
Sorry I will update the question with this message as well</p>
<pre><code>❯ uv  pip install -r llama.cpp/requirements/requirements-convert_hf_to_gguf.txt --prerelease=allow
  × No solution found when resolving dependencies:
  ╰─▶ Because only the following versions of numpy are available:
          numpy&lt;1.26.4
          numpy&gt;=1.27.dev0
      and you require numpy&gt;=1.26.4,&lt;1.27.dev0, we can conclude that the requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2024-08-01 07:27</div>
            <div class="timeline-body"><p>The fix to this issue: https://github.com/astral-sh/uv/issues/4890#issuecomment-2218309488</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nguyenvulong">@nguyenvulong</a> on 2024-08-01 07:33</div>
            <div class="timeline-body"><p>Thank you, it worked!</p>
<p>Full command.</p>
<pre><code>uv  pip install -r llama.cpp/requirements/requirements-convert_hf_to_gguf.txt --prerelease=allow --index-strategy unsafe-first-match
</code></pre>
<p>I will close the issue now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @nguyenvulong on 2024-08-01 07:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../nguyenvulong/QA/issues/84.html">nguyenvulong/QA#84</a> on 2024-08-02 00:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:31 UTC
    </footer>
</body>
</html>
