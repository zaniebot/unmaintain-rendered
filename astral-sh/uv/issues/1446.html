<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Can't install fasttext with uv - astral-sh/uv #1446</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Can't install fasttext with uv</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1446">#1446</a>
        opened by <a href="https://github.com/ivanychev">@ivanychev</a>
        on 2024-02-16 07:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ivanychev">@ivanychev</a> on 2024-02-16 07:17</div>
            <div class="timeline-body"><p>Reproduce:</p>
<pre><code class="language-bash">python -m venv venv  # Python 3.10
source venv/bin/activate
uv pip install fasttext==0.9.2
</code></pre>
<p>Error:</p>
<pre><code>error: Failed to download and build: fasttext==0.9.2
  Caused by: Failed to build: fasttext==0.9.2
  Caused by: Build backend failed to determine metadata through `prepare_metadata_for_build_wheel`:
--- stdout:

--- stderr:
/private/var/folders/m0/mgh9dmxj53s9ytmy_m0zvfqm0000gn/T/.tmpZAGWL2/.venv/bin/python: No module named pip
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 38, in __init__
ModuleNotFoundError: No module named 'pybind11'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 10, in &lt;module&gt;
  File &quot;/private/var/folders/m0/mgh9dmxj53s9ytmy_m0zvfqm0000gn/T/.tmpZAGWL2/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 366, in prepare_metadata_for_build_wheel
    self.run_setup()
  File &quot;/private/var/folders/m0/mgh9dmxj53s9ytmy_m0zvfqm0000gn/T/.tmpZAGWL2/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 480, in run_setup
    super().run_setup(setup_script=setup_script)
  File &quot;/private/var/folders/m0/mgh9dmxj53s9ytmy_m0zvfqm0000gn/T/.tmpZAGWL2/.venv/lib/python3.10/site-packages/setuptools/build_meta.py&quot;, line 311, in run_setup
    exec(code, locals())
  File &quot;&lt;string&gt;&quot;, line 72, in &lt;module&gt;
  File &quot;&lt;string&gt;&quot;, line 41, in __init__
RuntimeError: pybind11 install failed.
â€”
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ivanychev">@ivanychev</a> on 2024-02-16 07:19</div>
            <div class="timeline-body"><p>FYI,</p>
<pre><code>uv pip install pybind11
uv pip install fasttext==0.9.2
</code></pre>
<p>also fails with the same error</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @dhruvmanila on 2024-02-16 07:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 16:19</div>
            <div class="timeline-body"><p>I think the problem here is that <code>fasttext</code> sort of &quot;secretly&quot; depends on pip: https://github.com/facebookresearch/fastText/blob/b733943e84263f432fa47588643822194ee03dd1/setup.py#L40. But it's not declared as a build dependency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 16:19</div>
            <div class="timeline-body"><p>This may need to be fixed in <code>fasttext</code> itself, or we'd have to special-case <code>fasttext</code> in uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-02-21 13:24</div>
            <div class="timeline-body"><p>This has been fixed on fasttext's side by adding a pyproject.toml, <code>uv pip install &quot;fasttext @ git+https://github.com/facebookresearch/fastText&quot;</code> installs succesfully.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-02-21 13:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:42:56 UTC
    </footer>
</body>
</html>
