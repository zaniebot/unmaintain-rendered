```yaml
number: 11522
title: "`uv tool install` doesn't have a separate `index-url` config"
type: issue
state: open
author: thatch
labels:
  - question
assignees: []
created_at: 2025-02-14T20:36:59Z
updated_at: 2025-02-14T21:01:55Z
url: https://github.com/astral-sh/uv/issues/11522
synced_at: 2026-01-10T01:57:26Z
```

# `uv tool install` doesn't have a separate `index-url` config

---

_Issue opened by @thatch on 2025-02-14 20:36_

### Summary

I had a user report today that their

```
[pip]
index-url = ...
```

wasn't taking effect.  They expected `uv tool install` to use the same settings as `uv pip install`, and in fact it appears that `tool.index-url` is disallowed.  The global setting at the top level does work.  Thoughts on...

1. Supporting `tool.index-url` (the first place I looked, if the first subcommand should be the section name)
2. Warning in `uv tool install` if you have pip.index.url but not global index-url 
3. Falling back to `pip.index-url` when both `tool.index-url` and global `index-url` are missing

### Platform

Any

### Version

0.6.0

### Python version

_No response_

---

_Label `bug` added by @thatch on 2025-02-14 20:36_

---

_Comment by @zanieb on 2025-02-14 20:41_

The `[pip]` settings intentionally only apply to `uv pip`. 

See https://docs.astral.sh/uv/configuration/files/#configuring-the-pip-interface

I don't think we should fallback to it when the top-level configuration is missing.

We could warn if the command fails due to a missing package and an index is present in `[pip]`? But it'd be kind of hard to implement.

---

_Label `bug` removed by @zanieb on 2025-02-14 20:41_

---

_Label `question` added by @zanieb on 2025-02-14 20:41_

---

_Comment by @zsimic on 2025-02-14 20:45_

Makes sense from the coding design perspective (keep config separate), however what would the use case be for having 2 distinct pypi mirrors? Would it ever make sense to have this?
```
index-url = "foo"
[pip]
index-url = "bar"
```

I think this is hard to grok/follow, what does that do?
If I use `uv pip install` then one mirror is used, but a different one for `uv tool`? I can't imagine a legit case for it.

---

_Comment by @zanieb on 2025-02-14 20:48_

The `[pip]` section is provided for backwards compatibility. I'd generally recommend not using it.


---

_Comment by @thatch on 2025-02-14 21:01_

Experimenting, it seems `uv venv --seed` already use the `[pip]` settings though.  I didn't spot any commands that have their own `index-url` yet?

---
