<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should pyproject.toml conflicts be less strict? - astral-sh/uv #15320</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Should pyproject.toml conflicts be less strict?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15320">#15320</a>
        opened by <a href="https://github.com/alexrockhill">@alexrockhill</a>
        on 2025-08-15 22:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/alexrockhill">@alexrockhill</a> on 2025-08-15 22:57</div>
            <div class="timeline-body"><h3>Question</h3>
<pre><code>git clone https://github.com/braindecode/braindecode.git
cd braindecode
uv sync
</code></pre>
<p>Causes</p>
<pre><code>braindecode$ uv sync
Using CPython 3.13.3
Removed virtual environment at: .venv
Creating virtual environment at: .venv
  × No solution found when resolving dependencies for split (python_full_version &gt; '3.9' and python_full_version
  │ &lt; '3.10'):
  ╰─▶ Because the requested Python version (&gt;3.9) does not satisfy Python&gt;=3.10 and mne&gt;=1.10.0 depends on
      Python&gt;=3.10, we can conclude that mne&gt;=1.10.0 cannot be used.
      And because only the following versions of mne are available:
          mne&lt;=1.10.0
          mne==1.10.1
      we can conclude that mne&gt;=1.10.0 cannot be used.
      And because your project depends on mne&gt;=1.10.0 and your project requires braindecode[docs], we can conclude
      that your project's requirements are unsatisfiable.

      hint: The `requires-python` value (&gt;3.9) includes Python versions that are not supported by your dependencies
      (e.g., mne&gt;=1.10.0 only supports &gt;=3.10). Consider using a more restrictive `requires-python` value (like
      &gt;=3.10).
</code></pre>
<p>as described here: https://github.com/braindecode/braindecode/issues/763</p>
<p>Since I have 3.13 pinned or any other version &gt;= 3.10. It seems unexpected to me that <code>uv sync</code> would fail instead of just realizing that although the minimum version requirements are incompatible, they are not applicable. Clearly this is most relevant for using <code>uv</code> in packages not managed by <code>uv</code> by their maintainers but this seems like maybe a simple bug fix?</p>
<p>If you just edit the <code>pyproject.toml</code> file to say <code>requires-python&gt;=3.10</code> then it syncs just fine also important to mention (the dependency <code>mne</code> requires &gt;= 3.10).</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @alexrockhill on 2025-08-15 22:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-15 22:59</div>
            <div class="timeline-body"><p>See https://docs.astral.sh/uv/concepts/resolution/#universal-resolution</p>
<p>The failure is in constructing a lockfile that is valid for the project, not in performing a sync for 3.13 specifically.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alexrockhill">@alexrockhill</a> on 2025-08-15 23:23</div>
            <div class="timeline-body"><p>Thanks! Maybe the question is then should the uv.lock file just handle that and override the pyproject.toml? Probably not and you leave that to the library to handle as I was asking about/suggesting in the linked issue. That answers my question but I think from a user experience, not ideal, so maybe something to consider, I'm not sure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @alexrockhill on 2025-08-15 23:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
