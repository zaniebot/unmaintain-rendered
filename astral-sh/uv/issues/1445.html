<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: Support uv venv --prompt  - astral-sh/uv #1445</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: Support uv venv --prompt</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1445">#1445</a>
        opened by <a href="https://github.com/frague59">@frague59</a>
        on 2024-02-16 07:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/frague59">@frague59</a></div>
            <div class="timeline-body"><p>Hi,
<code>venv</code> has an mainly undocumented feature :</p>
<pre><code class="language-sh">$ python3.9 -m venv --prompt=&lt;my prompt&gt; ./venv
</code></pre>
<p>This command creates the virtuelenv, and append a prompt parameter ti the <code>pyvenv.cfg</code> file :</p>
<pre><code class="language-sh">$ cat ./venv/pyvenv.cfg
home = /usr/local/bin
include-system-site-packages = false
version = 3.9.16
prompt = '&lt;my prompt&gt;'
</code></pre>
<p>This option is useful when you use several virtualenvs, as the active venv prompt can be displayed by the (linux) prompt, like <a href="https://liquidprompt.readthedocs.io/en/stable/">liquidprompt</a> or <a href="https://starship.rs/">starship</a></p>
<p>Thanks !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @dhruvmanila on 2024-02-16 07:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/reinout">@reinout</a> on 2024-02-16 10:26</div>
            <div class="timeline-body"><p>I second this. I use <code>--prompt</code> a lot because I have lots of projects. It is easy to forget to deactivate when moving from one to the other. Just seeing <code>(.venv) reinout@mycomputer:~/some/project/ $</code> doesn't help to spot the difference.</p>
<p>(Note that I suspect there are nicer ways to handle it and perhaps <code>uv</code> could make the prompt default to the directory name etc.... but the idea at the moment is probably to keep everything the same and just mimick pip/venv as good as possible :-) So supporting <code>--prompt</code> is good enough for now.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/methane">@methane</a> on 2024-02-16 11:19</div>
            <div class="timeline-body"><p>Please support <code>--prompt .</code> and make it as a default behavior.
I use this alias for daily job.</p>
<pre><code>alias mkvenv='python3 -m venv --prompt . .venv
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @MichaReiser on 2024-02-16 11:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by @MichaReiser on 2024-02-16 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 18:59</div>
            <div class="timeline-body"><p>I believe we discussed this multiple times internally, not sure why it didn't happen.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @konstin by @zanieb on 2024-02-16 18:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/reinout">@reinout</a> on 2024-02-17 01:16</div>
            <div class="timeline-body"><p>I'm also on a mac, which matches your observation. I'd guess we can expect the same behaviour on linux.
So: windows by default does the &quot;right&quot; thing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @dhruvmanila by @dhruvmanila on 2024-02-17 03:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @konstin by @dhruvmanila on 2024-02-17 03:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @dhruvmanila by @dhruvmanila on 2024-02-17 04:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/greywidget">@greywidget</a> on 2024-02-17 10:32</div>
            <div class="timeline-body"><blockquote>
<p>I'm also on a mac, which matches your observation. I'd guess we can expect the same behaviour on linux. So: windows by default does the &quot;right&quot; thing?</p>
</blockquote>
<p>@reinout I was just double checking Windows to add some more info for the PR which is waiting to be merged, when I realised that my comment was incorrect.
In my case the venv prompt I was seeing was coming from ohmyposh.</p>
<p>If I run (for example) the old version of Powershell (where I don't have ohmyposh set up) the prompt defaults to the name you gave to the venv (which we know defaults to .venv)</p>
<p>Apologies for the confusion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">virtualenv</span> added by @zanieb on 2024-02-18 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-02-19 19:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/reinout">@reinout</a> on 2024-02-19 19:21</div>
            <div class="timeline-body"><p>If I read #1570 correctly, the upcoming behaviour is that <code>uv venv</code> even automatically sets the prompt to the name of the current directory (instead of <code>.venv</code>)? That's extra luxurious üëç Then I won't even need <code>--prompt</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-02-19 19:30</div>
            <div class="timeline-body"><p>@reinout Yes, that's correct. All thanks to @methane for the idea and the PR :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:30 UTC
    </footer>
</body>
</html>
