<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Include minimal git lib in uv binary - astral-sh/uv #12324</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Include minimal git lib in uv binary</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12324">#12324</a>
        opened by <a href="https://github.com/strangemonad">@strangemonad</a>
        on 2025-03-19 22:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/strangemonad">@strangemonad</a> on 2025-03-19 22:10</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>This could be worded in a few different ways, ultimately, in the case of using uv to build docker images, if your project has a git dependency, it seems that uv tries to shell out to the git it finds on the current PATH.</p>
<p>It would be great if there was a way to not require this dependency (eg <code>RUN --mount=from=ghcr.io/astral-sh/uv,source=/uv,target=/bin/uv  uv sync</code> is awfully convenient and  <code>apt update  &amp;&amp; apt install git...</code> kinda sucks if you don't have to run it.</p>
<p>I could also see a use case for embedded git for running scripts in git as tools with nothing else installed on the system (eg uv tool run ... where there's no local git on the path or a really old git). Of course, it probably makes sense to have some sort of <code>--no-embedded-git</code> option where the fallback is to shell out.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @strangemonad on 2025-03-19 22:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-19 22:44</div>
            <div class="timeline-body"><p>We actually used to use an embedded git library but there's not robust support for authentication so we decided to drop it.</p>
<p>See https://github.com/astral-sh/uv/pull/1781</p>
<p>We could reconsider eventually.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @zanieb on 2025-03-19 22:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/phitoduck">@phitoduck</a> on 2025-07-09 00:51</div>
            <div class="timeline-body"><p>Was coming to ask for this. It's funny how often you go to install a git-based package using uv, only to discover that you need to install git.</p>
<p>This has come up for us while using an ML pipeline tool called Metaflow--which supports using uv as a backend to create venvs for different ML steps.</p>
<p>But having auth support would be vital since usually the reason, you're pip-install-ing something from <code>git</code> is because it's an internal (and therefore private) package/repo. So I support the rationale for why the initial support was dropped.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:02 UTC
    </footer>
</body>
</html>
