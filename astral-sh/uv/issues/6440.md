```yaml
number: 6440
title: "FRs: Commit lint and changelog generation"
type: issue
state: open
author: chrisrodrigue
labels:
  - wish
  - projects
assignees: []
created_at: 2024-08-22T14:35:07Z
updated_at: 2025-10-17T14:35:37Z
url: https://github.com/astral-sh/uv/issues/6440
synced_at: 2026-01-10T01:57:14Z
```

# FRs: Commit lint and changelog generation

---

_Issue opened by @chrisrodrigue on 2024-08-22 14:35_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

This issue is an extension of #6298 (version bumping) for related enhancements. Combining into one issue so as not to inundate the team (but can split into multiple issues if that is preferred).

Standards-compliant project management actions like auto-version bumping ([SemVer](https://semver.org/)), changelog generation ([Keep a Changelog](https://keepachangelog.com/en/1.1.0/)) and commit message linting ([Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)) might be good tasks for the project management tool to tackle and promote best practices for development. It would consolidate the tooling even further, save time for the developer, and reduce the cognitive load. Defining the rules and formats in `pyproject.toml` could provide consistency and configurability for any codebase. 

## Example 

### `pyproject.toml`
```toml
[tool.uv.bump]
version-files = ["src/project/__init__.py:__version__"]
version-format = "semver2"

[tool.uv.commit]
lint-commits = true
commit-format = "conventional-commits"

[tool.uv.changelog]
generate-on-bump = true
include-date = true
date-format = "iso8601"

[tool.uv.changelog-map]
feat = "â­ Features"
fix = "ðŸ› Bug Fixes"
chore = "ðŸ§¹ Chores"
ci = "ðŸš€ Continuous Integration"
docs = "ðŸ“š Documentation"
perf = "ðŸ”¥ Performance Improvements"
refactor = "ðŸ”¨ Refactoring"
revert = "ðŸ”„ Reverts"
style = "ðŸŽ¨ Styling"
test = "ðŸ§ª Tests"
```

### Command line usage

Commiting via `uv` will lint the commit message for applicable conventional commit tags and reject if there isnâ€™t one. This can just shell out to git detected on the path.

```
uv commit â€œfix: Always invoke found interpreter when `uv run python` is used (#6363)â€
```
or 
```
uv commit fix â€œAlways invoke â€¦â€
```

Bumping will bump versions for all listed files or file sections (e.g. `__version__.py` or `__init__.py:__version__`). Not sure if thereâ€™s a consensus on the best place to put the version so `version-files` provides flexibility.

```
uv bump
```

Changelog generation can also be its own command if `generate-on-bump` is not desired.

```
uv changelog
```

### Generated changelog

`CHANGELOG.md`
```md
# Changelog

## 0.3.1 (2024-08-21)

### ðŸ› Bug Fixes

- Always invoke found interpreter when `uv run python` is used ([#6363](https://github.com/astral-sh/uv/pull/6363))

### ðŸ“š Documentation 

- Remove the preview default value of `python-preference` ([#6301](https://github.com/astral-sh/uv/pull/6301))
- Update env vars doc about `XDG_*` variables on macOS ([#6337](https://github.com/astral-sh/uv/pull/6337))
```

---

_Comment by @chrisrodrigue on 2024-08-22 14:36_

See also: [Commitizen](https://github.com/commitizen-tools/commitizen), a tool that provides these capabilities.

---

_Label `wish` added by @zanieb on 2024-08-22 15:24_

---

_Label `projects` added by @zanieb on 2024-08-22 15:24_

---

_Comment by @zanieb on 2024-08-22 15:25_

This would be cool, of course. We use [rooster](https://github.com/zanieb/rooster) right now, but it's not polished at all.

I think we need to focus on a lot of other things before this though.

---

_Comment by @deadnews on 2024-08-22 15:51_

By the way, there is [git-cliff](https://github.com/orhun/git-cliff), and it works for any projects, not just python ones.

---

_Referenced in [astral-sh/uv#6298](../../astral-sh/uv/issues/6298.md) on 2024-10-14 17:52_

---

_Comment by @phi-friday on 2024-10-17 12:08_

https://github.com/astral-sh/uv/issues/6298#issuecomment-2350938745
> Using uvx hatch version ... is mostly fine, but I can't use it when it's a stub only package because there is no *.py.

I need a way to work around this case.
It would be great if this was considered. 
As someone else pointed out, it can be solved by doing the following, but it's ugly.
https://github.com/astral-sh/uv/issues/6298#issuecomment-2411738585
> As a workaround, I use this in my project:
> `sed -i -e "s/0.0.0/${GITHUB_REF#refs/*/}/" pyproject.toml`

---

_Comment by @mayurankv on 2025-10-17 14:35_

I too would love this!

---
