```yaml
number: 7614
title: "Provide better error message when python version is invalid in `.venv`"
type: issue
state: open
author: CoderJoshDK
labels: []
assignees: []
created_at: 2024-09-21T14:46:55Z
updated_at: 2024-09-21T14:46:55Z
url: https://github.com/astral-sh/uv/issues/7614
synced_at: 2026-01-10T01:57:17Z
```

# Provide better error message when python version is invalid in `.venv`

---

_Issue opened by @CoderJoshDK on 2024-09-21 14:46_

When running a command that requires the `.venv` (such as `uv pip install ruff`), and the python version in that `.venv` is no longer a valid version, the following error is displayed:
```log
error: No virtual environment found; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
```
However, I would highly prefer if the error was more specific / accurate about the issue. A `.venv` *was* found; it was just not "valid". The error should state that, over just saying that "No virtual environment found".

To reproduce this, you can do the following:

```sh
uv python install 3.10
uv venv --python=3.10
uv pip install ruff
uv python uninstall 3.10
uv pip install ruff -U
```

In practice, this error typically triggers when I update my python version to a new patch version. And also, the instruction it suggests, to fix the error, is still correct. I just sometimes get confused when I see that message and also clearly see that I *do* have a `.venv`

<details><summary>Verbose Error</summary>
<p>

MacOS 15

```sh
> uv pip install ruff -U --verbose
DEBUG uv 0.4.13 (Homebrew 2024-09-19)
DEBUG Searching for default Python interpreter in system path
DEBUG Python interpreter not found at `/Users/joshie/Dev/uv-test/.venv/bin/python3`
DEBUG Found `cpython-3.12.6-macos-aarch64-none` at `/opt/homebrew/bin/python3` (search path)
DEBUG Ignoring Python interpreter at `/opt/homebrew/opt/python@3.12/bin/python3.12`: system interpreter not explicitly requested
DEBUG Found `cpython-3.11.10-macos-aarch64-none` at `/opt/homebrew/bin/python3.11` (search path)
DEBUG Ignoring Python interpreter at `/opt/homebrew/opt/python@3.11/bin/python3.11`: system interpreter not explicitly requested
DEBUG Found `cpython-3.12.6-macos-aarch64-none` at `/opt/homebrew/bin/python3.12` (search path)
DEBUG Ignoring Python interpreter at `/opt/homebrew/opt/python@3.12/bin/python3.12`: system interpreter not explicitly requested
DEBUG Found `cpython-3.9.6-macos-aarch64-none` at `/usr/bin/python3` (search path)
DEBUG Ignoring Python interpreter at `/Library/Developer/CommandLineTools/usr/bin/python3`: system interpreter not explicitly requested
error: No virtual environment found; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
```

</p>
</details> 

---
