<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[feat] Log parent package when erroring during dependency install - astral-sh/uv #7040</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[feat] Log parent package when erroring during dependency install</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/7040">#7040</a>
        opened by <a href="https://github.com/benniekiss">@benniekiss</a>
        on 2024-09-04 17:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/benniekiss">@benniekiss</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>When installing a package that pulls in additional dependencies, and a dependency of those dependencies fails to build, there is no indication of which parent package required the failing package or version.</p>
<p>It would be helpful if the chain of package dependencies was shown for failing packages, that way it is easier to find the problematic package and fix any version issues.</p>
<p>Currently, a failing dependency install looks like this. <code>numba</code> is not directly required in <code>pyproject.toml</code> or by <code>pyannote-audio</code></p>
<pre><code>[1/2] STEP 12/13: RUN uv pip install -r pyproject.toml     --no-cache --override overrides.txt     pyannote-audio
Resolved 136 packages in 1.37s
error: Failed to prepare distributions
  Caused by: Failed to fetch wheel: numba==0.53.1
  Caused by: Build backend failed to determine extra requires with `build_wheel()` with exit status: 1
--- stdout:

--- stderr:
/tmp/.tmpXEpsT6/built-wheels-v3/index/b2a7eb67d4c26b82/numba/0.53.1/pa9iWh_E6d_DuuXIyvWlT/numba-0.53.1.tar.gz/versioneer.py:335: SyntaxWarning: invalid escape sequence '\s'
  LONG_VERSION_PY['git'] = '''
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 14, in &lt;module&gt;
  File &quot;/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 332, in get_requires_for_build_wheel
    return self._get_build_requires(config_settings, requirements=[])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 302, in _get_build_requires
    self.run_setup()
  File &quot;/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 503, in run_setup
    super().run_setup(setup_script=setup_script)
  File &quot;/tmp/.tmpXEpsT6/builds-v0/.tmpLn5qoW/lib/python3.12/site-packages/setuptools/build_meta.py&quot;, line 318, in run_setup
    exec(code, locals())
  File &quot;&lt;string&gt;&quot;, line 50, in &lt;module&gt;
  File &quot;&lt;string&gt;&quot;, line 47, in _guard_py_ver
RuntimeError: Cannot install on Python version 3.12.5; only versions &gt;=3.6,&lt;3.10 are supported.
---
Error: building at STEP &quot;RUN uv pip install -r pyproject.toml     --no-cache --override overrides.txt     pyannote-audio&quot;: while running runtime: exit status 2
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @zanieb on 2024-09-04 17:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-04 17:56</div>
            <div class="timeline-body"><p>Makes sense to me, I like the idea.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2024-09-04 17:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:52 UTC
    </footer>
</body>
</html>
