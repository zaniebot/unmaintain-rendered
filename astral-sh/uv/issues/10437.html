<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a --no-dev option to `uv pip` commands - astral-sh/uv #10437</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add a --no-dev option to <code>uv pip</code> commands</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10437">#10437</a>
        opened by <a href="https://github.com/soapergem">@soapergem</a>
        on 2025-01-09 16:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/soapergem">@soapergem</a></div>
            <div class="timeline-body"><p>It would be nice to include a <code>--no-dev</code> option to commands like:</p>
<ul>
<li>uv pip install</li>
<li>uv pip freeze</li>
</ul>
<p>This option is already supported in other contexts (uv sync, uv run, etc.). And this is frankly necessary for the specific use case of working with Cloud Functions. Both Google Cloud Functions and Azure Functions require you package a requirements.txt file in order to deploy. And AWS Lambda effectively requires you to run <code>uv pip install --target . .</code> to bundle the dependencies directly within the same folder. In other words, all three require the use of uv's pip interface.</p>
<p>And with any cloud function, it is desirable to keep the package size as small as possible, which means excluding dev dependencies from the final artifact. There doesn't seem to be a way to do that through uv's pip interface at the moment but would be easily remedied by simply adding a <code>--no-dev</code> option.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-09 18:06</div>
            <div class="timeline-body"><p>What does <code>--no-dev</code> do in this context? <code>uv pip install</code> doesn't include development dependencies by default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/soapergem">@soapergem</a> on 2025-01-10 01:15</div>
            <div class="timeline-body"><p>Here's an example of the problem:</p>
<pre><code class="language-bash">uv init
uv add boto3
uv add --dev pytest
uv pip freeze &gt; requirements.txt
</code></pre>
<p>That last command will include pytest, iniconfig, packaging, and pluggy. I want to be able to call <code>uv pip freeze --no-dev</code> and exclude those dev depedencies.</p>
<p>EDIT: it looks like you are right, this isn't a problem with <code>uv pip install</code>. So it's really just an issue with <code>uv pip freeze</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-10 01:33</div>
            <div class="timeline-body"><p>You should probably use uv export, not uv pip freeze. uv export has a no-dev flag.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2025-01-10 01:36</div>
            <div class="timeline-body"><p>Yeah, <code>uv pip freeze</code> should do what <code>pip freeze</code> does and look at your currently installed environment and not the uv project information.</p>
<p>Otherwise it's going to get really confusing trying to use <code>uv pip</code> and think about where it starts to dip into the uv project api.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-10 04:42</div>
            <div class="timeline-body"><p>Hopefully these answers cleared things up. The <code>uv pip</code> interface does not read from projects (matching the upstream <code>pip</code> behavior) and cannot determine if packages in the environment are development dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-01-10 04:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/soapergem">@soapergem</a> on 2025-01-10 13:26</div>
            <div class="timeline-body"><p>It does clear things up! I was previously unaware of <code>uv export</code> so thanks for highlighting that.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:29:13 UTC
    </footer>
</body>
</html>
