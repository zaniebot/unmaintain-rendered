<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Can't compile pyproject.toml to requirements.txt - astral-sh/uv #1619</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Can't compile pyproject.toml to requirements.txt</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1619">#1619</a>
        opened by <a href="https://github.com/Pixel-Minions">@Pixel-Minions</a>
        on 2024-02-18 00:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Pixel-Minions">@Pixel-Minions</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>Hi,</p>
<p>I am running issues with the compilation of pyproject.toml to requirements.txt, I am using:
`uv pip compile pyproject.toml -o requirements.txt.</p>
<p><img src="https://github.com/astral-sh/uv/assets/1145623/ad32cf05-5ab6-4951-b1a0-a7d1160556f8" alt="image" /></p>
<p>This is the content of the toml:</p>
<pre><code class="language-toml">[tool.poetry]
name = &quot;test package&quot;
version = &quot;1.0.0&quot;
description = &quot;test team&quot;
authors = [&quot;test &lt;test@example.com&gt;&quot;]

[tool.poetry.dependencies]
python = &quot;^3.7&quot;
boto3 = &quot;^1.29&quot;
QtPy = &quot;^2.4&quot;
Fileseq = &quot;^1.15&quot;
sentry-sdk = &quot;^1.35&quot;
qtmodern = &quot;^0.2&quot;
pystray = &quot;^0.19&quot;
rpyc = &quot;^5.3&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kpeez">@kpeez</a> on 2024-02-18 00:30</div>
            <div class="timeline-body"><p>Your pyproject.toml is set up for poetry. You need to modify it to something like the following:</p>
<pre><code class="language-bash">[project]
name = &quot;test package&quot;
version = &quot;1.0.0&quot;
description = &quot;test team&quot;
authors = [{name = &quot;test&quot;, email=&quot;test@example.com&quot;}]
dependencies = [
    &quot;boto3&quot;, 
    &quot;QtPy&quot;, 
    &quot;Fileseq&quot;,
    &quot;sentry-sdk&quot;,
    &quot;qtmodern&quot;,
    &quot;pystray&quot;, 
    &quot;rpyc&quot;,
]
</code></pre>
<p>then running <code>uv pip compile -o requirements.txt pyproject.toml</code> should work as expected.</p>
<p>If you have additional optional dependencies those are specified in a different section:</p>
<pre><code>[project.optional-dependencies]
dev = [
    &quot;ruff&quot;,
    &quot;mypy&quot;,
    &quot;pytest&quot;,
]
</code></pre>
<p>and can be generated by running <code>uv pip compile -o requirements-dev.txt --extra=dev pyproject.toml</code></p>
<p>If you want to specify specific package versions you can <a href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/">see here for more info</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Can't compile pyproject.toml to requirements.py" to "Can't compile pyproject.toml to requirements.txt" by @AlexWaygood on 2024-02-18 00:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Pixel-Minions">@Pixel-Minions</a> on 2024-02-18 01:16</div>
            <div class="timeline-body"><p>Amazing @AlexWaygood , it works! Thank you. I would have loved to have the conversion from poetry to standard pyproject just because I have some many more. Can I briefly ask @AlexWaygood if does it support virtual environments from embedded versions of python? I tried a moment ago but it seems it doesn't. I can create an issue about it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-02-18 02:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-18 02:12</div>
            <div class="timeline-body"><p>Ah yeah, unfortunately we don't support Poetry's metadata format, which is custom to Poetry. Perhaps we should add a custom error message here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 07:42</div>
            <div class="timeline-body"><p>Also reported in https://github.com/astral-sh/uv/issues/1597</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-18 07:48</div>
            <div class="timeline-body"><p>Closing in favor of https://github.com/astral-sh/uv/issues/1630. Thanks for reporting!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-02-18 07:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-25 20:30</div>
            <div class="timeline-body"><p>As of https://github.com/astral-sh/uv/pull/2633 we support reading this directly.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:43 UTC
    </footer>
</body>
</html>
