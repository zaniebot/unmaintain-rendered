<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv sync` cannot find `triton==3.2.0` even when it exists - astral-sh/uv #11128</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv sync</code> cannot find <code>triton==3.2.0</code> even when it exists</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11128">#11128</a>
        opened by <a href="https://github.com/steve2972">@steve2972</a>
        on 2025-01-31 08:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/steve2972">@steve2972</a> on 2025-01-31 08:06</div>
            <div class="timeline-body"><h3>Summary</h3>
<pre><code>$ uv sync
  × No solution found when resolving dependencies:
  ╰─▶ Because only triton&lt;3.2.0 is available and your project depends on triton&gt;=3.2.0, we can conclude that your project's requirements are unsatisfiable.
$ uv --version
uv 0.5.26
</code></pre>
<h3>Platform</h3>
<p>Linux 5.15.0-78-generic x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.5.26</p>
<h3>Python version</h3>
<p>Python 3.12.8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @steve2972 on 2025-01-31 08:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-01-31 10:23</div>
            <div class="timeline-body"><p>Can you please share a minimized pyproject.toml that reproduces your problem? Without that, we cannot reproduce your problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @konstin on 2025-01-31 10:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/steve2972">@steve2972</a> on 2025-01-31 11:52</div>
            <div class="timeline-body"><p>Hi, the <code>pyproject.toml</code> I'm using is as follows:</p>
<pre><code>[project]
... Various descriptions ...
requires-python = &quot;==3.12.*&quot;
dependencies = [
    &quot;accelerate&gt;=1.2.1&quot;,
    &quot;bitsandbytes&gt;=0.45.0&quot;,
    &quot;peft&gt;=0.14.0&quot;,
    &quot;trl&gt;=0.13.0&quot;,
    &quot;unsloth[cu124-torch250]&quot;,
]

[tool.uv]
override-dependencies = [
    &quot;torch==2.5.1&quot;,
    &quot;xformers==0.0.28.post3&quot;,
]

[tool.uv.sources]
torch = [
    { index = &quot;pytorch-cu124&quot; },
]
unsloth = { git = &quot;https://github.com/unslothai/unsloth.git&quot; }

[[tool.uv.index]]
name = &quot;pytorch-cu124&quot;
url = &quot;https://download.pytorch.org/whl/cu124&quot;
explicit = true
</code></pre>
<p>This works when running just <code>uv sync</code> from a previous lock file, but triton doesn't seem to install when using <code>uv sync -U</code>. The error reads as follows:</p>
<pre><code>error: distribution `triton==3.1.0 @ direct+https://github.com/woct0rdho/triton-windows/releases/download/v3.1.0-windows.post5/triton-3.1.0-cp312-cp312-win_amd64.whl` can't be installed because the binary distribution is incompatible with the current platform
</code></pre>
<p>I've tried to fix the error by adding <code>&quot;triton&gt;=3.2.0&quot;</code> in the project dependencies, which only leads to the error saying triton 3.2.0 doesn't exist...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/steve2972">@steve2972</a> on 2025-01-31 12:53</div>
            <div class="timeline-body"><p>Oh, I found the error. It seems another one of my libraries depended on <code>triton==3.1.0</code> causing the error.
I fixed it by adding <code>triton==3.2.0</code> to override-dependencies!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @steve2972 on 2025-01-31 12:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:54 UTC
    </footer>
</body>
</html>
