<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to install uv system wide? - astral-sh/uv #12875</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How to install uv system wide?</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/12875">#12875</a>
        opened by <a href="https://github.com/vitrinite">@vitrinite</a>
        on 2025-04-14 09:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/vitrinite">@vitrinite</a> on 2025-04-14 09:08</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hello</p>
<p>I have jupyterhub server and I would like to use uv for all my user.
After looking at the documentation I try to install uv system wide by  using
curl -LsSf https://astral.sh/uv/install.sh &gt; installuv.sh
export UV_INSTALL_DIR=&quot;/usr/local/bin&quot;
sudo -E sh installuv.sh
Everything seems good uv and uvx are in /usr/local/bin/.</p>
<p>But $(uv python dir) and $(uv tool dir) are in /home/adminuser/.local/share/uv/ and there is also a directory in<br />
/home/adminuser/.config =&gt; did not this potentially prevent the other user to use properly uv?
When I try to use uv from the  adminuser account, uv have not the same the behavior as when I install just for one user, it is like the environment was imposed to be the one of the python system install.
For example, init a new project into an empty directory with uv init.
uv pip list inside the directory reply
Using Python 3.12.6 environment at: /opt/tljh/user
and the list is not empty but correspond to the environment of the user.</p>
<p>What should I do to make uv available to all my users without having each of them to install uv?</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @vitrinite on 2025-04-14 09:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-14 09:45</div>
            <div class="timeline-body"><p>In jupyterhub, are the users system users, or does jupyterhub do separate user management?</p>
<p>You can configure the install directories with <code>UV_PYTHON_INSTALL_DIR</code>, <code>UV_TOOL_DIR</code> and <code>UV_TOOL_BIN_DIR</code> to set it to a global location. Usually though, it's easier to have a uv installation per user, e.g. the user that runs the jupyterhub process; a uv installation is small (just the <code>uv</code> and <code>uvx</code> binaries), so there is not much overhead re-installing it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vitrinite">@vitrinite</a> on 2025-04-18 10:10</div>
            <div class="timeline-body"><p>In my jupyterhub, my users are the users of the system.</p>
<p>It seems to me that uv have also a sort of cache, so that the packages are not store multiple time? Should this directories have special permission, so that all the user can use it?
I have set UV_PYTHON_INSTALL_DIR, UV_TOOL_DIR and UV_TOOL_BIN_DIR as you propose. The installation was fine, I can publish environnement with ipykernel fine.
Should I made the environnement variable permanent or it was just for the installation?</p>
<p>Thanks for your reply</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-22 09:10</div>
            <div class="timeline-body"><p>The environment variables are just for installation. To avoid permission problems (uv links files and directories on installation), each user should have their own cache, without sharing it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ThomasHezard">@ThomasHezard</a> on 2025-04-23 15:53</div>
            <div class="timeline-body"><p>Hello üëã</p>
<p>I am also wondering how to install <code>uv</code> system-wide.<br />
We (me and my team) are working on multiple projects with multiple Python versions, and multiple versions of many different dependencies. Hence, our <code>uv</code> caches are quite large.<br />
I was looking for a way to share <code>uv</code> and all its cache in order to avoid taking that much space for each user on the team's workstations when I found this discussion.</p>
<p>Two questions</p>
<ul>
<li>What is the reason behind your recommandation for each user to have their own <code>uv</code> cache?</li>
<li>Is there a way to share <code>uv</code> and all its cache properly on an Ubuntu 24.04 system?</li>
</ul>
<p>Thanks for you help üôè</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-24 08:01</div>
            <div class="timeline-body"><p>Even though we generally develop and test for a single user scenario, with permissions set so that all users have read and write access, there is nothing preventing a multi-user scenario with a shared <code>UV_CACHE_DIR</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/angel-devicente">@angel-devicente</a> on 2025-05-02 06:38</div>
            <div class="timeline-body"><p>Hello,</p>
<p>I'm also considering the use of &quot;uv&quot; system-wide, but I was hoping &quot;uv&quot; would have a tiered cache system, so that I could have a global read-only cache with all the common packages, while users could have their own local cache for packages not found in the global cache. Is something like this possible or planned?</p>
<p>Thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-02 08:08</div>
            <div class="timeline-body"><p>We currently don't have any plans for a tiered cache.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/angel-devicente">@angel-devicente</a> on 2025-05-02 15:32</div>
            <div class="timeline-body"><p>And there is no other way to cater for that scenario, right? (i.e. a read-only selection of packages which users can re-use to create their own virtual environments without wasting space for each user?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/oraluben">@oraluben</a> on 2025-06-03 02:43</div>
            <div class="timeline-body"><blockquote>
<p>Even though we generally develop and test for a single user scenario, with permissions set so that all users have read and write access, there is nothing preventing a multi-user scenario with a shared <code>UV_CACHE_DIR</code>.</p>
</blockquote>
<p>Hi @konstin , I found this issue while looking for a global uv cache dir. By default folder created by each user are not writable by other users, so if user A uses <code>uv pip install</code> and create a, let's say <code>/var/cache/uv</code>, other users are not able to update the cache. Do you have some idea how to workaround this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-03 03:08</div>
            <div class="timeline-body"><p>@oraluben there's some commentary in https://github.com/astral-sh/uv/issues/5611</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
