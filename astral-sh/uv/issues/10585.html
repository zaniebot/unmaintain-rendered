<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Searching for managed installations under \Romaing\uv\python is not exist - astral-sh/uv #10585</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Searching for managed installations under \Romaing\uv\python is not exist</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10585">#10585</a>
        opened by <a href="https://github.com/an2416">@an2416</a>
        on 2025-01-14 04:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/an2416">@an2416</a> on 2025-01-14 04:00</div>
            <div class="timeline-body"><p>Hi</p>
<p>I'm trying to use CrewAI.
CrewAI is implemented based on UV.
during execution, I found some issue as below.</p>
<p><strong>[cmd]</strong>
uv sync -v</p>
<pre><code>**[output]**
(.venv1) PS [path]&gt; uv sync -v
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `[path]`
DEBUG No workspace root found, using project root
DEBUG Using Python request `&gt;=3.10, &lt;3.13` from `requires-python` metadata
warning: `VIRTUAL_ENV=[path]` does not match the project environment path `.venv` and will be ignored
DEBUG Searching for Python &gt;=3.10, &lt;3.13 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\[PC name]\AppData\Roaming\uv\python`
</code></pre>
<p>I expected some files is exist under \AppData\Roaming\uv\python and processed properly.
But, I couldn't find \uv folder under Roaming folder. and uv sync process also stopped as soon.</p>
<p>Could you let me know how to fix it ?</p>
<p>Note : I found crash dump files under &quot;\AppData\Local\CrashDumps\uv.exe.34096.dmp&quot;. how can I check it? Is there any way to debug it ?</p>
<p>Thanks,
KHAN</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-01-14 05:42</div>
            <div class="timeline-body"><p>Run <code>uv python dir</code> to check where uv is looking for managed Python.
Have you set the environment variable <code>UV_PYTHON_INSTALL_DIR</code>?</p>
<p>Edit:
But how come there's a dmp file? Shouldn't the logs be more complete?
https://docs.astral.sh/uv/configuration/environment/#rust_log</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/an2416">@an2416</a> on 2025-01-14 06:28</div>
            <div class="timeline-body"><p>I didn't set the environment variable <code>UV_PYTHON_INSTALL_DIR</code> Is it required? (If yes, could you let me know what path is proper path for it)
<code>uv python dir</code> result is shown as <code>C:\Users\[PC name]\AppData\Roaming\uv\python</code>.
But, <code>\uv\python</code>dir is not exist.
should I run <code>uv venv --python [version]</code> as well ? (this cmd is also not working.)</p>
<pre><code>(.venv1) PS D:\test&gt; uv venv --python 3.11.6 -v
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `test`
DEBUG No workspace root found, using project root
warning: `VIRTUAL_ENV=D:\.venv1` does not match the project environment path `.venv` and will be ignored
DEBUG Using Python request `3.11.6` from explicit request
DEBUG Searching for Python 3.11.6 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\[PC name]\AppData\Roaming\uv\python`
//// STOP PROCESS and EXIT
</code></pre>
<p>Note1 : I just installed uv via pip. and My env is windows10
Note2 : I don't know why dumpfile is exist at commented path... I think that log file is recorded error log. isn't it ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2025-01-14 06:34</div>
            <div class="timeline-body"><p><code>UV_PYTHON_INSTALL_DIR</code> doesn't necessarily need to be set. I just want to confirm why your path is <code>uv\python</code>.
Windows 11 x86-64:
<img src="https://github.com/user-attachments/assets/2071ec5c-5b96-4d41-b793-15d1aed3f56b" alt="Image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/an2416">@an2416</a> on 2025-01-15 01:59</div>
            <div class="timeline-body"><p>My python path is under Local dir. Not Roaming folder.
how to change uv python dir ? Is it dectected automatically?
BTW, I'm trying to reinstall python !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-15 02:43</div>
            <div class="timeline-body"><p>It sounds like you just haven't installed Python via uv. We'll use other Python installations on your machine if we can find one.</p>
<p>Are you looking for <code>uv python install</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/an2416">@an2416</a> on 2025-01-15 03:07</div>
            <div class="timeline-body"><p>actually, I'm trying to use it on office. So, I have to setup on proxy environment.</p>
<p>if I use uv python install, I faced on follwoing problem. Is UV able to set proxy? or just setting windows proxy is enough ?</p>
<pre><code>(.venv1) PS D:\&gt; uv python install
error: Failed to install cpython-3.13.1-windows-x86_64-none
  Caused by: Failed to download https://github.com/astral-sh/python-build-standalone/releases/download/20250106/cpython-3.13.1%2B20250106-x86_64-pc-windows-msvc-install_only_stripped.tar.gz
  Caused by: Request failed after 3 retries
  Caused by: error sending request for url (https://github.com/astral-sh/python-build-standalone/releases/download/20250106/cpython-3.13.1%2B20250106-x86_64-pc-windows-msvc-install_only_stripped.tar.gz)
  Caused by: client error (Connect)

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-15 18:41</div>
            <div class="timeline-body"><p>We respect the standard <code>HTTPS_PROXY</code> / <code>ALL_PROXY</code> variables and probably respect your system configuration too? You may need <code>--native-tls</code> as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/an2416">@an2416</a> on 2025-01-22 02:19</div>
            <div class="timeline-body"><p>Finally, I passed above issue.
But, still not working <code>uv sync</code> as below.
after print DEBUG Found managed installation, process is stopped.</p>
<pre><code>DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `D:\`
DEBUG No workspace root found, using project root
DEBUG Using Python request `&gt;=3.10, &lt;3.13` from `requires-python` metadata
warning: `VIRTUAL_ENV=D:\.venv1` does not match the project environment path `.venv` and will be ignored
DEBUG Searching for Python &gt;=3.10, &lt;3.13 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\[PC]\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.11.11-windows-x86_64-none`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-22 03:13</div>
            <div class="timeline-body"><p>@an2416 please share the full command you're running and all the output. Can you set <code>RUST_LOG=uv=trace</code> as well to enable more logs?</p>
<p>See #9452 for guidance on reports.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-22 03:14</div>
            <div class="timeline-body"><p>When you say <code>//// STOP PROCESS and EXIT</code> are you indicating that the process is stuck and you killed it? Or it exited?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/an2416">@an2416</a> on 2025-01-22 04:07</div>
            <div class="timeline-body"><p>I set RUST_LOG=trace as environment variable. (env. Windows 10, windows powershell, uv 0.5.18)
and use cmd <code>uv sync --verbose</code>
the output is as below.</p>
<pre><code>(.venv1) PS D:\crewai\crewai\crewtest&gt; uv sync --verbose
DEBUG uv 0.5.18 (27d1bad55 2025-01-11)
DEBUG Found project root: `D:\crewai\crewai\crewtest`
DEBUG No workspace root found, using project root
DEBUG Using Python request `&gt;=3.10, &lt;3.13` from `requires-python` metadata
warning: `VIRTUAL_ENV=D:\crewai\crewai\.venv1` does not match the project environment path `.venv` and will be ignored
DEBUG Searching for Python &gt;=3.10, &lt;3.13 in managed installations, search path, or registry
DEBUG Searching for managed installations at `C:\Users\kwanghyuk.an\AppData\Roaming\uv\python`
DEBUG Found managed installation `cpython-3.11.11-windows-x86_64-none`
TRACE Querying interpreter executable at C:\Users\[PC name]\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe
</code></pre>
<p>I expected next step should be executed. (when I try to uv sync on my Mac, uv execute installation process.)
uv process is stuck after printing TRACE log.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-22 06:25</div>
            <div class="timeline-body"><p>Do you have an antivirus active or something? It seems like the interpreter is broken.</p>
<p>Can you run <code>C:\Users\[PC name]\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe</code> manually?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/an2416">@an2416</a> on 2025-01-22 06:39</div>
            <div class="timeline-body"><p>python.exe is working when I execute it manually.
Note : It is being tested in an environment where the company security program is installed. As far as I know, there are no special security programs other than proxy. It is difficult to check more because the error message does not appear.</p>
<pre><code>(.venv1) PS D:\crewai\crewai\crewtest&gt; C:\Users\[PC name]\AppData\Roaming\uv\python\cpython-3.11.11-windows-x86_64-none\python.exe
Python 3.11.11 (main, Jan  5 2025, 05:35:58) [MSC v.1942 64 bit (AMD64)] on win32
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-22 06:50</div>
            <div class="timeline-body"><p>Unfortunately I'm not sure how to debug this since I can't reproduce it and the executable works fine on its own.</p>
<p>You could try executing the contents of https://github.com/astral-sh/uv/blob/main/crates/uv-python/python/get_interpreter_info.py or adding additional <code>print</code> debug logs there and building uv locally to determine where it's freezing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-20 22:50</div>
            <div class="timeline-body"><p>I'm going to close this as stale. Feel free to let me know if you have more information.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-03-20 22:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by @zanieb on 2025-03-20 22:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:32:05 UTC
    </footer>
</body>
</html>
