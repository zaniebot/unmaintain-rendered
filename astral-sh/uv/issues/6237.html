<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Include `bin/uv` in `uv venv` - astral-sh/uv #6237</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Include <code>bin/uv</code> in <code>uv venv</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6237">#6237</a>
        opened by <a href="https://github.com/gotmax23">@gotmax23</a>
        on 2024-08-19 23:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gotmax23">@gotmax23</a></div>
            <div class="timeline-body"><ul>
<li><p><strong>A minimal code snippet that reproduces the bug.</strong></p>
<pre><code class="language-console">$ uv venv venv
$ ./venv/bin/uv install ipython
no such file or directory: ./venv/bin/uv
</code></pre>
</li>
<li><p><strong>The current uv platform.</strong></p>
<p>Fedora 40 with Python 3.12</p>
</li>
<li><p><strong>The current uv version (<code>uv --version</code>).</strong></p>
<p>0.2.35</p>
</li>
</ul>
<p>It would be great if a uv binary was included in virtual environments' bin directories so it would be possible to install packages inside using uv without having to activate the venv, similar to how standard virtual environments' pip entrypoints work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-19 23:49</div>
            <div class="timeline-body"><p>You can pass <code>--python .venv</code> to install into that environment -- uv doesn't need to be installed inside it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-20 00:06</div>
            <div class="timeline-body"><p>e.g.</p>
<pre><code>❯ uv venv venv
Using Python 3.12.1
Creating virtualenv at: venv
Activate with: source venv/bin/activate
❯ uv pip install httpx --python ./venv
Resolved 7 packages in 207ms
Installed 7 packages in 17ms
 + anyio==4.4.0
 + certifi==2024.7.4
 + h11==0.14.0
 + httpcore==1.0.5
 + httpx==0.27.0
 + idna==3.7
 + sniffio==1.3.1
</code></pre>
<p>or</p>
<pre><code>❯ VIRTUAL_ENV=venv uv pip install httpx
Audited 1 package in 4ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-08-20 00:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gotmax23">@gotmax23</a> on 2024-08-20 19:42</div>
            <div class="timeline-body"><p>I didn't know that <code>--python</code> could be used like this; thanks. I guess I'm just really used to invoking pip like this in scripts, but I could always adapt...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/paveldikov">@paveldikov</a> on 2024-08-20 23:01</div>
            <div class="timeline-body"><p>This sort of relates to the <code>--seed</code> option although it's kind of obscure (and a compatibility shim?) I suppose. Its existence probably steers people from discovering the <code>--python</code> pattern -- it took me some time before I had the same a-ha moment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nixshal">@nixshal</a> on 2024-08-22 06:04</div>
            <div class="timeline-body"><blockquote>
<p>This sort of relates to the <code>--seed</code> option although it's kind of obscure (and a compatibility shim?) I suppose. Its existence probably steers people from discovering the <code>--python</code> pattern -- it took me some time before I had the same a-ha moment.</p>
</blockquote>
<p>Same here.</p>
<blockquote>
<pre><code>❯ uv venv venv
Using Python 3.12.1
Creating virtualenv at: venv
Activate with: source venv/bin/activate
❯ uv pip install httpx --python ./venv
</code></pre>
</blockquote>
<p>Is this trick not included in the <a href="https://docs.astral.sh/uv/pip/environments/#using-a-virtual-environment">docs</a> for any specific reason?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-22 15:37</div>
            <div class="timeline-body"><p>It's sort of mentioned in https://docs.astral.sh/uv/concepts/python-versions/#requesting-a-version — we could add a note where you linked but it's not mentioned there because that section is about <em>using</em> the packages in the environment — not installing things into it. I can look into clarifying it though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nixshal">@nixshal</a> on 2024-08-23 01:52</div>
            <div class="timeline-body"><p>Thank you @zanieb .</p>
<p>I do think the mistake is on my side, I was using uv by invoking uv via Python (using the parent interpreter's environment).</p>
<p>Installing uv via the standalone installer fixed my issues here and I was able to follow the docs; turns out it was a powershell elevated access setting I needed to fix in order to get the standalone installer working.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-08-23 13:00</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:12 UTC
    </footer>
</body>
</html>
