```yaml
number: 15294
title: add integration tests for venv activation scripts
type: issue
state: open
author: 2bndy5
labels: []
assignees: []
created_at: 2025-08-15T01:45:37Z
updated_at: 2025-08-15T01:45:51Z
url: https://github.com/astral-sh/uv/issues/15294
synced_at: 2026-01-10T01:57:34Z
```

# add integration tests for venv activation scripts

---

_Issue opened by @2bndy5 on 2025-08-15 01:45_

Following a discussion about the topic of venv activation scripts:
> I think someone just needs to validate and pull in those upstream changes [from virtualenv package] into our virtual environment activation scripts. Ideally, we'd have some test coverage that makes it apparent we're resolving the problem.
>
> -- originally from https://github.com/astral-sh/uv/issues/14917#issuecomment-3186780343

Then in https://github.com/astral-sh/uv/pull/15272:

>> What are the requirements of the requested test(s)? I added a nushell activation test. Do you want more tests for all other supported shell(s)? I'm of the impression that nushell needed a test to detect breakages because nushell is still in v0.x. I have only ever used bash and pwsh (with much reluctance).
>
> It'd be ideal to have test coverage for them all, but I don't think it's necessary to do here! Especially if you're reluctant :) We can open an issue to track it.

Let this be the issue to track adding integration/unit tests for activating venv in variously supported shells.

## Proposed idea

An aggregated discussion between zanieb and myself across the aforementioned threads:

>> I see now that integration tests are written directly in the CI.yml workflow (an overwhelmingly long file). While unconventional per rust standards, this makes writing integration tests easier.
>
> _we could_ do another testing strategy within our test suite, e.g., we'd add a new `test-nushell` feature then assume nushell is available and add a snapshot test for the activation script that's gated by the feature. Then, we'd install nushell in the Linux cargo test run.


---

_Renamed from "add integration tests for venv activation" to "add integration tests for venv activation scripts" by @2bndy5 on 2025-08-15 01:45_

---

_Referenced in [astral-sh/uv#15272](../../astral-sh/uv/pulls/15272.md) on 2025-08-15 01:47_

---
