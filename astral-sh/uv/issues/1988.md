```yaml
number: 1988
title: "`Failed to spawn the python child process: The system cannot find the file specified.`"
type: issue
state: closed
author: astrojuanlu
labels:
  - bug
  - windows
assignees: []
created_at: 2024-02-26T18:09:00Z
updated_at: 2024-02-28T12:50:58Z
url: https://github.com/astral-sh/uv/issues/1988
synced_at: 2026-01-10T01:57:04Z
```

# `Failed to spawn the python child process: The system cannot find the file specified.`

---

_Issue opened by @astrojuanlu on 2024-02-26 18:09_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

Still not able to provide a minimal reproducer, but I'm putting this here in case it helps other folks.

I'm trying to replace `pip` with `uv pip` on my CI and I've been mostly successful, with the exception on Windows. There I'm getting an error like this:

```
> pytest tests
(uv internal error) Failed to spawn the python child process: The system cannot find the file specified.
```

this is despite `pytest` being present, as can be seen with a `uv pip freeze` right before.

See https://github.com/kedro-org/kedro-plugins/actions/runs/8052616036/job/21993159176 for an example of this.

The way I fixed it is by replacing `pytest` with `python -m pytest`.

I added a `type ${Python_ROOT_DIR}\\Scripts\\pytest` to understand what's there, see https://github.com/kedro-org/kedro-plugins/actions/runs/8053504403/job/21996069725?pr=569

I'm using `uv==0.1.11`, released minutes ago.

I'm unfamiliar with how scripts are created on Windows, is `uv` doing anything special here?

---

_Comment by @MichaReiser on 2024-02-26 18:13_

I think the issue is related to https://github.com/astral-sh/uv/issues/1779

The `VIRTUAL_ENV=<global_python>` hack doesn't work on Windows because the Python executable is in a different location than what's expected by `uv`. We're working on a proper support for global installation. 

For now, you can work around it by creating a virtual env instead of pointing `VIRTUAL_ENV` to the global python path.


---

_Assigned to @charliermarsh by @charliermarsh on 2024-02-26 18:52_

---

_Label `bug` added by @charliermarsh on 2024-02-26 23:17_

---

_Label `windows` added by @charliermarsh on 2024-02-26 23:17_

---

_Referenced in [astral-sh/uv#2000](../../astral-sh/uv/pulls/2000.md) on 2024-02-27 01:56_

---

_Closed by @charliermarsh on 2024-02-28 02:10_

---

_Closed by @charliermarsh on 2024-02-28 02:10_

---

_Comment by @kexul on 2024-02-28 12:36_

I'm still getting this error with the newest version of uv. 

---

_Comment by @konstin on 2024-02-28 12:44_

Do you mean 0.1.11 or the main branch?

---

_Comment by @kexul on 2024-02-28 12:45_

> Do you mean 0.1.11 or the main branch?

0.1.11


---

_Comment by @MichaReiser on 2024-02-28 12:48_

> > Do you mean 0.1.11 or the main branch?
> 
> 0.1.11

Charlie's changes have not been released yet. Please create a new issue if you're still experience issues with the new version that we release soon and include more details: What commands did you run? What's your operating system? What package do you use, etc.



---

_Comment by @kexul on 2024-02-28 12:50_

> > > Do you mean 0.1.11 or the main branch?
> > 
> > 
> > 0.1.11
> 
> Charlie's changes have not been released yet. Please create a new issue if you're still experience issues with the new version that we release soon and include more details: What commands did you run? What's your operating system? What package do you use, etc.

Get it! Thanks for your great work!

---

_Referenced in [astral-sh/uv#6008](../../astral-sh/uv/issues/6008.md) on 2024-08-11 14:44_

---
