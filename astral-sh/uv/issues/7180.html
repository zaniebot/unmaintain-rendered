<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature request: support for script aliases - astral-sh/uv #7180</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature request: support for script aliases</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7180">#7180</a>
        opened by <a href="https://github.com/matejpekar">@matejpekar</a>
        on 2024-09-07 20:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/matejpekar">@matejpekar</a></div>
            <div class="timeline-body"><p>Hi! Our team currently relies heavily on <strong>PDM</strong> and we&#x27;d like to migrate to <strong>uv</strong>. However, we&#x27;re missing a crucial feature: the ability to define and run <a href="https://pdm-project.org/latest/usage/scripts">script aliases</a> directly from the <code>pyproject.toml</code> file.</p>
<p>Here’s an example of the scripts we currently use to streamline our workflow:</p>
<pre><code>[tool.pdm.scripts]
train = &quot;python -m project mode=fit&quot;
validate = &quot;python -m project mode=validate&quot;
test = &quot;python -m project mode=test&quot;
l = { composite = [&quot;lint&quot;, &quot;format&quot;] }
lint = &quot;ruff check --fix&quot;
format = &quot;ruff format&quot;
post_install = { composite = [
    &quot;pre-commit autoupdate&quot;,
    &quot;pre-commit install&quot;,
    &quot;pre-commit install --hook-type commit-msg&quot;,
] }
</code></pre>
<p>This setup allows us to:</p>
<ul>
<li>Easily run various modes (e.g., <code>pdm train &lt;...args&gt;</code>).</li>
<li>Automatically install <code>pre-commit</code> hooks when running <code>pdm install</code>.</li>
<li>Reference these scripts in our GitLab CI/CD templates.</li>
</ul>
Key Features:
<ul>
<li><strong>Script Definition in <code>pyproject.toml</code></strong>: Ability to define shell scripts that can be run directly from the <code>pyproject.toml</code> file.</li>
<li><strong>Composite Commands</strong>: Support for composite scripts, where a single command triggers multiple actions (e.g., <code>l</code> runs both <code>lint</code> and <code>format</code>).</li>
<li><strong>Pre/Post Hooks</strong>: Hooks like <code>post_sync</code> to automate tasks such as installing <code>pre-commit</code> hooks after <code>uv sync</code>.</li>
<li><strong>Script Skipping</strong>: A way to skip certain scripts, possibly with a <code>--skip</code> flag.</li>
</ul>
Additional Suggestion:
<p>It would be great if we could run scripts directly without an intermediary command like <code>run</code>. For example, instead of <code>uv run &lt;script&gt;</code>, we could use <code>uv &lt;script&gt;</code>. In case of a conflict with default commands, <code>uv run &lt;script&gt;</code> could be used as a fallback.</p>
<hr>
<p>We’d love to see similar functionality in <strong>uv</strong>, inspired by PDM or npm/yarn.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gusutabopb">@gusutabopb</a> on 2024-09-07 23:26</div>
            <div class="timeline-body"><p>Looks like a duplicate of <a href="https://github.com/astral-sh/uv/issues/5903">astral-sh/uv#5903</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-07 23:38</div>
            <div class="timeline-body"><p>Yep I think this is covered there already. Thanks for the write-up though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-07 23:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-07 23:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:33:48 UTC
    </footer>
</body>
</html>
