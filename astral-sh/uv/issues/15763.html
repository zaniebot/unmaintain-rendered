<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Why does uv always automatically switch to Python 3.11? - astral-sh/uv #15763</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Why does uv always automatically switch to Python 3.11?</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15763">#15763</a>
        opened by <a href="https://github.com/ConanZH429">@ConanZH429</a>
        on 2025-09-10 03:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ConanZH429">@ConanZH429</a></div>
            <div class="timeline-body"><h3>Question</h3>
<p>I have executed the following commands:
uv python install 3.12
uv init --python 3.12
uv venv --python 3.12
uv python pin 3.12
..venv\Scripts\activate</p>
<p>Then I ran:
uv add numpy</p>
<p>After that, uv automatically started installing Python 3.11, and subsequently displayed the following prompt:
Using CPython 3.11.13
error: The requested interpreter resolved to Python 3.11.13, which is incompatible with the project's Python requirement: &gt;=3.12 (from project.requires-python)</p>
<p>This is quite strange. Why does it always automatically switch to Python 3.11?</p>
<h3>Platform</h3>
<p>Windows11</p>
<h3>Version</h3>
<p>uv 0.8.16 (2de677b0d 2025-09-09)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ConanZH429 on 2025-09-10 03:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-10 08:07</div>
            <div class="timeline-body"><p>I can't reproduce this, can you share verbose logs (<code>uv add numpy -v</code>)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nbaju1">@nbaju1</a> on 2025-09-10 09:43</div>
            <div class="timeline-body"><p>I can reproduce this if there is a <code>.python-version</code> file with <code>3.11</code> already present in the same folder when running those commands.</p>
<p>Same if the env var <code>UV_PYTHON</code> is set to <code>3.11</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Yuli-yx">@Yuli-yx</a> on 2025-09-12 02:23</div>
            <div class="timeline-body"><blockquote>
<p>I can't reproduce this, can you share verbose logs (<code>uv add numpy -v</code>)?</p>
</blockquote>
<p>Hi, I have the issue. This is my logs, it really confuses me since I set all python version to be 3.12, and uv always switches to python 3.11.</p>
<p><img width="1103" height="442" alt="Image" src="https://github.com/user-attachments/assets/e56827fc-9e0d-46bc-bc72-19ebbb8e0c7f" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nbaju1">@nbaju1</a> on 2025-09-12 06:09</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>I can't reproduce this, can you share verbose logs (<code>uv add numpy -v</code>)?</p>
</blockquote>
<p>Hi, I have the issue. This is my logs, it really confuses me since I set all python version to be 3.12, and uv always switches to python 3.11.</p>
</blockquote>
<p>Can you confirm that you don't have the <code>.python-version</code> file set or the <code>UV_PYTHON</code> env var set by running <code>Get-Content .python-version</code> and <code>Get-ChildItem Env:UV_PYTHON</code> (assuming you're running in powershell) before running the uv commands in the same directory?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-12 11:48</div>
            <div class="timeline-body"><p>&quot;from explicit request&quot; indicates that you've set <code>UV_PYTHON=3.11</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Yuli-yx">@Yuli-yx</a> on 2025-09-12 14:14</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<blockquote>
<p>I can't reproduce this, can you share verbose logs (<code>uv add numpy -v</code>)?</p>
</blockquote>
<p>Hi, I have the issue. This is my logs, it really confuses me since I set all python version to be 3.12, and uv always switches to python 3.11.</p>
</blockquote>
<p>Can you confirm that you don't have the <code>.python-version</code> file set or the <code>UV_PYTHON</code> env var set by running <code>Get-Content .python-version</code> and <code>Get-ChildItem Env:UV_PYTHON</code> (assuming you're running in powershell) before running the uv commands in the same directory?</p>
</blockquote>
<p>Thank you for reply.
I've explicitly set .python-verison to be 3.12. For <code>UV_PYTHON</code>, I will try to run your command as soon as I get back to work. I already checked the user env variable and system env variable in windows setting and there was a UV_PYTHON= 3.11 in user env variable but the problem still exists after i manually deleted it or changed it to 3.12.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ConanZH429">@ConanZH429</a> on 2025-10-30 01:21</div>
            <div class="timeline-body"><p>In addition to these steps @Yuli-yx , I also completely uninstalled UV and reinstalled it twice before resolving the issue.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:51 UTC
    </footer>
</body>
</html>
