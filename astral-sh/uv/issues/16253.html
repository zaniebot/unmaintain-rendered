<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv does not distinguish between 3.14 and 3.14t while creating virtual environment - astral-sh/uv #16253</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv does not distinguish between 3.14 and 3.14t while creating virtual environment</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16253">#16253</a>
        opened by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a>
        on 2025-10-11 14:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a> on 2025-10-11 14:15</div>
            <div class="timeline-body"><p><strong>Description:</strong>
After changing the Python version from 3.14t (Free threaded python) to 3.14 using uv python pin, uv sync does not remove the old virtual environment or create a new one with the updated Python version.</p>
<p><strong>Steps to Reproduce:</strong></p>
<pre><code class="language-powershell">PS D:\Dhaval-WebDev\Test\venus&gt; cat .python-version
3.14t

PS D:\Dhaval-WebDev\Test\venus&gt; uv sync
Using CPython 3.14.0
Creating virtual environment at: .venv
Resolved 1 package in 83ms
Audited in 0.01ms

PS D:\Dhaval-WebDev\Test\venus&gt; uv run python
Python 3.14.0 free-threading build (main, Oct 10 2025, 12:50:21) [MSC v.1944 64 bit (AMD64)] on win32
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.base_prefix
'C:\\Users\\DHAVAL\\AppData\\Roaming\\uv\\python\\cpython-3.14.0+freethreaded-windows-x86_64-none'
&gt;&gt;&gt; sys.prefix
'D:\\Dhaval-WebDev\\Test\\venus\\.venv'

PS D:\Dhaval-WebDev\Test\venus&gt; uv python pin 3.14
Updated `.python-version` from `3.14t` -&gt; `3.14`
PS D:\Dhaval-WebDev\Test\venus&gt; cat .python-version
3.14

PS D:\Dhaval-WebDev\Test\venus&gt; uv sync
Resolved 1 package in 2ms
Audited in 0.01ms

PS D:\Dhaval-WebDev\Test\venus&gt; uv run python
Python 3.14.0 free-threading build (main, Oct 10 2025, 12:50:21) [MSC v.1944 64 bit (AMD64)] on win32
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.base_prefix
'C:\\Users\\DHAVAL\\AppData\\Roaming\\uv\\python\\cpython-3.14.0+freethreaded-windows-x86_64-none'
&gt;&gt;&gt; sys.prefix
'D:\\Dhaval-WebDev\\Test\\venus\\.venv'
</code></pre>
<p><strong>Expected Behavior:</strong>
After changing the Python version from <code>3.14t</code> (Free-threaded Python) to <code>3.14</code> using <code>uv python pin</code>, <code>uv sync</code> should:</p>
<ol>
<li>Remove the old virtual environment created with <code>3.14t</code>.</li>
<li>Create a new virtual environment <code>.venv</code> using Python <code>3.14</code>.</li>
</ol>
<p><strong>Actual Behavior:</strong>
<code>uv sync</code> doesn't do anything; it thinks everything is up to date.</p>
<p><strong>Extra Context:</strong><br />
If we manually delete the <code>.venv</code> and then run <code>uv sync</code>, it correctly creates a new virtual environment using the updated <code>.python-version</code> → <code>3.14</code>.<br />
At that time, there are no issues.</p>
<h3>Platform</h3>
<p>Microsoft Windows 11 Home Single Language</p>
<h3>Version</h3>
<p>uv 0.9.2 (141369ce7 2025-10-10)</p>
<h3>Python version</h3>
<p>Python 3.14.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @DhavalGojiya on 2025-10-11 14:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a> on 2025-10-11 14:30</div>
            <div class="timeline-body"><p>Also noticed:</p>
<pre><code class="language-powershell">PS D:\Dhaval-WebDev\Test\venus&gt; cat .python-version
3.14t

PS D:\Dhaval-WebDev\Test\venus&gt; uv sync
Using CPython 3.14.0
Creating virtual environment at: .venv
Resolved 1 package in 83ms
Audited in 0.01ms
</code></pre>
<p>Here, <code>uv sync</code> says <code>Using CPython 3.14.0</code> - shouldn't it say <code>Using CPython 3.14t</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-31 14:23</div>
            <div class="timeline-body"><p>A request for 3.14 is currently considered compatible with a 3.14 free-threaded interpreter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a> on 2025-10-31 15:33</div>
            <div class="timeline-body"><blockquote>
<p>A request for 3.14 is currently considered compatible with a 3.14 free-threaded interpreter.</p>
</blockquote>
<p>Ok, so this needs to be addressed, right? Since the runtime environments are different for both versions - especially when testing GitHub Actions with multiple Python versions locally - it’s unable to create the 3.14t environment, but that’s the one I actually want.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-31 18:26</div>
            <div class="timeline-body"><blockquote>
<p>it’s unable to create the 3.14t environment, but that’s the one I actually want.</p>
</blockquote>
<p>What do you mean? In this case, you can just request <code>3.14t</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a> on 2025-10-31 18:33</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>it’s unable to create the 3.14t environment, but that’s the one I actually want.</p>
</blockquote>
<p>What do you mean? In this case, you can just request <code>3.14t</code>?</p>
</blockquote>
<p>Uv is not removing old virtual environment and creating the new one.
This is what the issue was created for.</p>
<pre><code>PS D:\Dhaval-WebDev\Test\venus&gt; uv python pin 3.14
Updated `.python-version` from `3.14t` -&gt; `3.14`
PS D:\Dhaval-WebDev\Test\venus&gt; cat .python-version
3.14

PS D:\Dhaval-WebDev\Test\venus&gt; uv sync
Resolved 1 package in 2ms
Audited in 0.01ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-31 19:53</div>
            <div class="timeline-body"><p>In that case you're going from 3.14t -&gt; 3.14, but in your last message you said you could not create a 3.14t environment that you want?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a> on 2025-10-31 20:15</div>
            <div class="timeline-body"><blockquote>
<p>In that case you're going from 3.14t -&gt; 3.14, but in your last message you said you could not create a 3.14t environment that you want?</p>
</blockquote>
<p>What I mean is, I can create a virtual environment with any version I want using uv.
But if I already have a virtual environment with Python 3.14, and I want to create a new virtual environment for project using 3.14t, I first need to remove the .venv/ folder before reinstalling, and then run uv sync again - as you can see in the first message log.</p>
<p>If you see the first message ( long output written by me), I think you find the issue.
I am also not sure, that is it really an issue or is just uv behave like this.</p>
<p>Because as per my knowledge If you change <code>.python-version</code> file and then again run <code>uv sync</code>, uv will first delete <code>.venv</code> folder and re create a requested python versions virtual environment that satisfies (<code>.python-version</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-31 20:58</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv/pull/16537 would address this</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DhavalGojiya">@DhavalGojiya</a> on 2025-11-04 10:50</div>
            <div class="timeline-body"><p>I think the following PRs:</p>
<ul>
<li>https://github.com/astral-sh/uv/pull/16536</li>
<li>https://github.com/astral-sh/uv/pull/16537</li>
</ul>
<p>addressed this issue.</p>
<blockquote>
<p>Here, <code>uv sync</code> says <strong>Using CPython 3.14.0</strong> — shouldn't it say <strong>Using CPython 3.14t</strong>?</p>
</blockquote>
<p>This one is also covered, right?<br />
Can we close this issue, @zanieb?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-11-09 16:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 03:17:47 UTC
    </footer>
</body>
</html>
