<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv pip doesn't accept --trusted-host inside requirements.txt, but vanilla pip does - astral-sh/uv #11441</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv pip doesn't accept --trusted-host inside requirements.txt, but vanilla pip does</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11441">#11441</a>
        opened by <a href="https://github.com/Gualor">@Gualor</a>
        on 2025-02-12 09:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gualor">@Gualor</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hello, I was trying out <code>uv</code> for the first time for a possible replacement of anaconda (due to restrictive license).</p>
<p>I created a virtual environment and tried running <code>uv pip</code> using the same requirements.txt I use with standard <code>pip</code>, however I get the following:</p>
<pre><code class="language-txt">$ uv pip install -r requirements.txt
warning: Ignoring unsupported option in `requirements.txt`: `--trusted-host` (hint: pass `--trusted-host` on the command line instead)
warning: Ignoring unsupported option in `requirements.txt`: `--trusted-host` (hint: pass `--trusted-host` on the command line instead)
Using Python 3.9.13 environment at: C:\mypath\.uv\myenv
⠹ Resolving dependencies...                                                                   × Failed to fetch: `https://pypi.ngc.nvidia.com/networkx/`
  ├─▶ Request failed after 3 retries
  ├─▶ error sending request for url (https://pypi.ngc.nvidia.com/networkx/)
  ├─▶ client error (Connect)
  ╰─▶ invalid peer certificate: UnknownIssuer
  help: Consider enabling use of system TLS certificates with the `--native-tls`
        command-line flag
</code></pre>
<p>Thank you for the support!</p>
<h3>Platform</h3>
<p>MINGW64_NT-10.0-22631 3.5.3.x86_64 x86_64 Msys</p>
<h3>Version</h3>
<p>uv 0.5.30 (ddbc6e315 2025-02-10)</p>
<h3>Python version</h3>
<p>Python 3.9.13</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @Gualor on 2025-02-12 09:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-12 14:45</div>
            <div class="timeline-body"><p>Unfortunately IIRC this is an intentional behavior (hence the hint that’s visible in the output). This setting is potentially insecure (it opens you up to various attacks by disabling SSL), so we require that it’s passed on the CLI or in a pyproject.toml or uv.toml file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2025-02-12 14:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2025-02-12 14:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @charliermarsh on 2025-02-12 14:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gualor">@Gualor</a> on 2025-02-12 15:11</div>
            <div class="timeline-body"><p>I see the issue, I just thought <code>uv pip</code> was 100% compatible with <code>pip</code>, thanks for the explanation.</p>
<p>Running the above command with --trusted-host as CLI argument instead of option in requirements.txt worked fine, so I will close the issue.</p>
<p>BR,
Lorenzo</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Gualor on 2025-02-12 15:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-12 15:12</div>
            <div class="timeline-body"><p>We have a few intentional differences https://docs.astral.sh/uv/pip/compatibility/</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:29:51 UTC
    </footer>
</body>
</html>
