<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for selection of specific versions per user / sync - astral-sh/uv #7763</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support for selection of specific versions per user / sync</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7763">#7763</a>
        opened by <a href="https://github.com/relativityhd">@relativityhd</a>
        on 2024-09-28 18:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/relativityhd">@relativityhd</a> on 2024-09-28 18:32</div>
            <div class="timeline-body"><p>First: I love <code>uv</code>, thank you very much for working on such a nice piece of software!</p>
<p>I have a question / feature request which involves installing <code>GDAL</code> (and <code>PyTorch</code>).</p>
<p>Currently, I have project setup with <code>rye</code> to install the Python-bindings for <code>GDAL</code>.GDAL itself is a geo-software written in C++ which is not easy to install, especially having multiple versions of it installed at the same time is nearly impossible, without having conda. Therefore, everyone in our team uses a slightly different version of GDAL, some 3.8.4, some 3.6.4 and so on. All of these are compatible with our code, therefore having different versions installed is no problem. The big problem with the Python-bindings is, that they require the exact same version of python-binding package installed as the currently installed GDAL software. Therefore, I utilized python extras configured with Rye, so that each of us can define their GDAL version when installing the python environment with</p>
<pre><code class="language-sh">rye sync --features gdal38
</code></pre>
<p>and I put this in my <code>pyproject.toml</code>:</p>
<pre><code class="language-toml">[project.optional-dependencies]
gdal39 = [&quot;gdal==3.9.2&quot;]
gdal38 = [&quot;gdal==3.8.5&quot;]
gdal384 = [&quot;gdal==3.8.4&quot;]
gdal37 = [&quot;gdal==3.7.3&quot;]
gdal36 = [&quot;gdal==3.6.4&quot;]
</code></pre>
<details>

<summary>A similar thing can be applied to CUDA versions:</summary>

<pre><code class="language-toml">[project.optional-dependencies]
cpu = [&quot;torch==2.2.0+cpu&quot;, &quot;torchvision==0.17.0+cpu&quot;]
cuda11 = [
    &quot;torch==2.2.0+cu118&quot;,
    &quot;torchvision==0.17.0+cu118&quot;,
    &quot;cupy-cuda11x&gt;=13.3.0&quot;,
    &quot;cucim-cu11&gt;=24.8.0&quot;,
]
cuda12 = [
    &quot;torch==2.2.0+cu121&quot;,
    &quot;torchvision==0.17.0+cu121&quot;,
    &quot;cupy-cuda12x&gt;=13.3.0&quot;,
    &quot;cucim-cu12==24.8.*&quot;,
]

[[tool.rye.sources]]
name = &quot;nvidia&quot;
url = &quot;https://pypi.nvidia.com&quot;

[[tool.rye.sources]]
name = &quot;pytorch-cpu&quot;
url = &quot;https://download.pytorch.org/whl/cpu&quot;

[[tool.rye.sources]]
name = &quot;pytorch-cu11&quot;
url = &quot;https://download.pytorch.org/whl/cu118&quot;

[[tool.rye.sources]]
name = &quot;pytorch-cu12&quot;
url = &quot;https://download.pytorch.org/whl/cu121&quot;

</code></pre>
</details>

<p>This is probably an antipattern, since it depends on disjoint extras, something @charliermarsh mentioned to be not supported by uv (https://github.com/astral-sh/uv/pull/7745#discussion_r1779668158)</p>
<p>Now to my question: <strong>Is there a better way of accomplishing this with uv (or in the future planned)?</strong></p>
<p>If not, I'd like to open a feature request to supporting this use-case. One idea would be custom markers, which could be setted by the user when syncing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-28 19:07</div>
            <div class="timeline-body"><p>We plan to support disjoint extras in the future, hopefully in the next few weeks or months.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/relativityhd">@relativityhd</a> on 2024-09-28 21:25</div>
            <div class="timeline-body"><p>Thank you for the quick reply! Therefore my configuration isn't an antipattern? Looking forward for the feature!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @relativityhd on 2024-09-28 21:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:57 UTC
    </footer>
</body>
</html>
