<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Failure in the Nannyml Monitoring Library Installation - astral-sh/uv #15936</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Failure in the Nannyml Monitoring Library Installation</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/15936">#15936</a>
        opened by <a href="https://github.com/castillouparela">@castillouparela</a>
        on 2025-09-18 20:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/castillouparela">@castillouparela</a> on 2025-09-18 20:06</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi team,</p>
<p>I've recently started integrating machine learning monitoring tools into my data science project. One of these tools is nannyml, which installs perfectly fine using the traditional method:</p>
<blockquote>
<p>pip install nannyml</p>
</blockquote>
<p>However, when I try to add it using uv via:</p>
<blockquote>
<p>uv add nannyml</p>
</blockquote>
<p>I encounter the following error:</p>
<p><code>Using CPython 3.11.4 interpreter at: C:\Users\&lt;myuser&gt;\AppData\Local\Programs\Python\Python311\python.exe Creating virtual environment at: .venv Resolved 91 packages in 1.68s error: Distribution `kaleido==0.2.1.post1 @ registry+https://pypi.org/simple` can't be installed because it doesn't have a source distribution or wheel for the current platform</code></p>
<p><code>hint: You're on Windows (`win_amd64`), but `kaleido` (v0.2.1.post1) only has wheels for the following platform: `manylinux2014_armv7l`; consider adding your platform to `tool.uv.required-environments` to ensure uv resolves to a version with compatible wheels</code></p>
<p>I tried pinning the version of kaleido, but the error persists. Even installing the full requirements via uv leads to similar issues. It seems the problem is related to the wheel resolution for kaleido on Windows.</p>
<p>I'm raising this issue in hopes that it can be reviewed and potentially resolved in future versions of uv.</p>
<p>Thanks in advance!</p>
<h3>Platform</h3>
<p>Windows 11 x_86_64</p>
<h3>Version</h3>
<p>0.8.18</p>
<h3>Python version</h3>
<p>3.11.4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @castillouparela on 2025-09-18 20:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-18 21:06</div>
            <div class="timeline-body"><p>What did you pin the version to?</p>
<p>Did you try setting <code>tool.uv.required-environments</code> as described in the hint?</p>
<p>You can see they only published a Linux wheel for that version https://inspector.pypi.io/project/kaleido/0.2.1.post1/</p>
<p>In contrast, https://inspector.pypi.io/project/kaleido/0.2.1/ includes a Windows wheel.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/castillouparela">@castillouparela</a> on 2025-09-18 22:51</div>
            <div class="timeline-body"><p>Yes, following your recommendation, I was able to successfully install the library using uv by explicitly specifying the operating system where it's being executed. That workaround worked well on my Windows machine.</p>
<p>However, I'm concerned about cross-platform compatibility. Specifically, I'm unsure whether this setup will work when running on Linux machines or when submitting pull requests that trigger CI/CD pipelines using Unix-based agents (e.g., GitHub Actions).</p>
<p>Hereâ€™s the pyproject.toml configuration that worked for me:</p>
<pre><code>[project]
name = &quot;test-nannyml&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.11&quot;
dependencies = [
   &quot;nannyml&gt;=0.13.1&quot;,
]
[tool.uv]
required-environments = [
   &quot;sys_platform == 'win32'&quot;,
]
</code></pre>
<p>Let me know if there's a recommended way to make this configuration more portable across platforms, or if there's a best practice for handling such cases in multi-platform environments.</p>
<p>Thanks again for the support!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-18 23:39</div>
            <div class="timeline-body"><p>Yes, this should work on Unix still.</p>
<p><code>required-environments</code> just ensures that there are wheels for the listed environments, whereas we'll otherwise select the newest version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-09-18 23:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-09-18 23:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @castillouparela on 2025-10-06 18:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
