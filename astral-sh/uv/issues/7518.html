<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request: `uv run --with-source` - astral-sh/uv #7518</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature Request: <code>uv run --with-source</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7518">#7518</a>
        opened by <a href="https://github.com/ahal">@ahal</a>
        on 2024-09-18 20:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ahal">@ahal</a></div>
            <div class="timeline-body"><p>This would be the opposite of the <code>--no-sources</code> flag, where we would temporarily resolve dependencies using a source that is <em>not</em> defined in <code>pyproject.toml</code>.</p>
<p>One use case for this is when you&#x27;re working on something in one project, that&#x27;s blocking some feature work in another project. Sometimes the upstream work needs to be tested in the downstream project. Currently you can accomplish this by temporarily adding a source that points at a local path or a pull request, e.g:</p>
<pre><code>[tool.uv.sources]
foo = { path = &quot;/path/to/my/wip&quot; }
</code></pre>
<p>But it&#x27;s all too easy to forget to remove this again and editing the config file twice just to run one command is a bit clunky. I&#x27;d love to see something like:</p>
<pre><code>uv run --with-source &quot;foo=path:/path/to/my/wip&quot;
</code></pre>
<p>as a way to temporarily <em>add</em> a source. I think this would complement <code>--no-sources</code> nicely.  I don&#x27;t have any strong preferences on the format of the argument.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-18 22:02</div>
            <div class="timeline-body"><p>We layer environments so I think this should just work with <code>uv run --with /path/to/my/wip ...</code>. Is that not the case for you?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-18 22:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ahal">@ahal</a> on 2024-09-20 18:49</div>
            <div class="timeline-body"><p>Thanks, I got tunnel visioned in on the sources config that it didn&#x27;t occur to me to check <code>--with</code>. This works great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ahal">@ahal</a> on 2024-09-20 18:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:34:09 UTC
    </footer>
</body>
</html>
