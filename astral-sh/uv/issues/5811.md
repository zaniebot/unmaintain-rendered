```yaml
number: 5811
title: "Allow defining persistent command options in `pyproject.toml`"
type: issue
state: closed
author: chrisrodrigue
labels: []
assignees: []
created_at: 2024-08-06T10:48:14Z
updated_at: 2024-08-09T13:33:41Z
url: https://github.com/astral-sh/uv/issues/5811
synced_at: 2026-01-10T01:57:12Z
```

# Allow defining persistent command options in `pyproject.toml`

---

_Issue opened by @chrisrodrigue on 2024-08-06 10:48_

I’m wishing for a way to specify persistent options for `uv` commands in `pyproject.toml`.

This is a generalized solution to issues such as #5737.

## Example

```toml
[tool.uv.options]
venv = [ "--relocatable" ]
pip = { install = [ "--offline", "--no-build-isolation" ] }
```

Invoking `uv venv` would then implicitly pass the option  `--relocatable`. 

Perhaps it could print a message to let the user know that options were collected from `pyproject.toml` to respect the principle of least astonishment.

---

_Comment by @chrisrodrigue on 2024-08-06 11:03_

Thinking out loud…

How would this feature handle options that take arguments (such as `--find-links`) or options that could be used multiple times (such as `-e`/`--editable`)?

---

_Comment by @zanieb on 2024-08-06 14:51_

I feel like it'd probably be better to just provide these as configuration options, e.g. `tool.uv.pip.offline` or `tool.uv.venv.relocatable`. Why set this per-command using CLI flags?

---

_Comment by @chrisrodrigue on 2024-08-07 02:02_

I think it comes down to style and ease of maintenance. 

The kv pair approach is verbose. The array approach seems tidier to me and uses fewer lines of TOML. 

Setting it per command is mostly for flexibility and consistency. Would you rather make this work for all commands (both current and future) or have to manually maintain config options?

---

_Comment by @zanieb on 2024-08-07 02:10_

Basically, yeah I think we'd rather maintain an explicit configuration schema that applies for all commands or follows a clear hierarchy for sections of commands (as with `uv.pip`) rather than have a way to dynamically inject untyped arguments in front of commands — it's more aligned with the user experience we typically deliver.

I see the benefits of your suggestion though.

---

_Closed by @zanieb on 2024-08-09 13:33_

---
