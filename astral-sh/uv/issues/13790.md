```yaml
number: 13790
title: "Setting an environment variable changes help display of bare `uv`"
type: issue
state: open
author: zanieb
labels:
  - external
assignees: []
created_at: 2025-06-02T21:32:05Z
updated_at: 2025-09-18T13:21:32Z
url: https://github.com/astral-sh/uv/issues/13790
synced_at: 2026-01-10T01:57:31Z
```

# Setting an environment variable changes help display of bare `uv`

---

_Issue opened by @zanieb on 2025-06-02 21:32_

As reported in #13789

```
❯ UV_CACHE_DIR=/ uv
error: 'uv' requires a subcommand but one was not provided
  [subcommands: run, init, add, remove, version, sync, lock, export, tree, tool, python, pip, venv, virtualenv, v, build, publish, build-backend, cache, self, clean, generate-shell-completion, --generate-shell-completion, help]

Usage: uv [OPTIONS] <COMMAND>

For more information, try '--help'.
```

vs

```
❯ uv
An extremely fast Python package manager.

Usage: uv [OPTIONS] <COMMAND>

Commands:
  run      Run a command or script
  init     Create a new project
  add      Add dependencies to the project
  remove   Remove dependencies from the project
  version  Read or update the project's version
  sync     Update the project's environment
  lock     Update the project's lockfile
  export   Export the project's lockfile to an alternate format
  tree     Display the project's dependency tree
  tool     Run and install commands provided by Python packages
  python   Manage Python versions and installations
  pip      Manage Python packages with a pip-compatible interface
  venv     Create a virtual environment
  build    Build Python packages into source distributions and wheels
  publish  Upload distributions to an index
  cache    Manage uv's cache
  self     Manage the uv executable
  help     Display documentation for a command

...
```


---

_Comment by @zanieb on 2025-06-02 21:32_

This is almost certainly a Clap behavior we should report upstream.

---

_Label `external` added by @zanieb on 2025-06-02 21:32_

---

_Comment by @zanieb on 2025-06-02 21:34_

Related to https://github.com/astral-sh/uv/issues/9873

---

_Comment by @Elypha on 2025-09-18 13:21_

Hi! The problem still seems to be around. Just to add information that the same issue can be produced by setting the `UV_CONFIG_FILE` env as well, so far as I know.

---
