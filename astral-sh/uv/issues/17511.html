<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature: short form for --extra option - astral-sh/uv #17511</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature: short form for --extra option</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/17511">#17511</a>
        opened by <a href="https://github.com/osma">@osma</a>
        on 2026-01-16 08:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/osma">@osma</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Our project (<a href="https://github.com/NatLibFi/Annif">Annif</a>) has just <a href="https://github.com/NatLibFi/Annif/pull/923">switched</a> from Poetry to uv. It has quite a few extras (optional dependencies) so the <code>--extra</code> option is needed a lot. We also had to write <a href="https://github.com/NatLibFi/Annif/blob/27e4ac72f220e7b88fc7011046a965882de07dc4/Dockerfile#L24-L27">a little for loop in our Dockerfile</a> just to construct the <code>--extra</code> options for <code>uv sync</code>, where previously (with Poetry) a simple variable substitution did the trick.</p>
<p>Unlike Poetry, uv currently only supports a long <code>--extra</code> option that may be repeated. To improve the developer experience, I would like to propose shorter forms of that option, matching what Poetry supports.</p>
<p>In Poetry, I can run <code>poetry install -E foo,bar</code> to install the package with the extras <code>foo</code> and <code>bar</code>.</p>
<p><code>uv sync</code> (current version 0.9.26 on Linux) doesn't support the short form <code>-E</code>:</p>
<pre><code>$ uv sync -E foo
error: unexpected argument '-E' found

Usage: uv sync [OPTIONS]

For more information, try '--help'.
</code></pre>
<p><code>uv sync --extra</code> also doesn't support a comma-separated list of extras:</p>
<pre><code>$ uv sync --extra foo,bar
error: invalid value 'foo,bar' for '--extra &lt;EXTRA&gt;': Extra names must start and end with a letter or digit and may only contain -, _, ., and alphanumeric characters

For more information, try '--help'.
</code></pre>
<p>Since both of these currently trigger errors, I think it should be unproblematic to add support for the shorter forms, i.e.</p>
<ol>
<li>A short option <code>-E</code> that works the same way as <code>--extra</code></li>
<li>Support for a comma-separated value for <code>--extra</code> / <code>-E</code> as an alternative for repeating the option</li>
</ol>
<p>PS. I tried looking for existing issues with similar proposals but couldn't find any. I hope I didn't miss something.</p>
<h3>Example</h3>
<p>I would like this command to work (when extras <code>foo</code> and <code>bar</code> are defined):</p>
<pre><code>uv sync -E foo,bar</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @osma on 2026-01-16 08:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-16 09:59:15 UTC
    </footer>
</body>
</html>
