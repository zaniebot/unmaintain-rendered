<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specify URL dependencies with environment markers - astral-sh/uv #7097</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Specify URL dependencies with environment markers</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7097">#7097</a>
        opened by <a href="https://github.com/tudoroancea">@tudoroancea</a>
        on 2024-09-05 20:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tudoroancea">@tudoroancea</a> on 2024-09-05 20:17</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>Hi there,</p>
<p>First let me thank you for all the incredible work you put into uv, it really is becoming a tool I am trying to use in every one of my python projects. One use case I still can't really solve with uv is the following: I have a dependency that does not have (yet) a published PyPI wheel (it's a nightly release) and only wheels available through a <a href="https://github.com/casadi/casadi/releases/nightly-main">GitHub release</a>.
I wanted to know if there was a way to specify an URL dependency that can incorporate environment markers to provide one wheel URL for Linux and one for macOS.
Based on the documentation it doesn't look like it, but it would definitely be useful for using dependencies to scientific packages (or any non-pure-python packages) in a truly cross-platform way.</p>
<p>Thanks in advance,</p>
<p>Ted</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-05 20:38</div>
            <div class="timeline-body"><p>I think you should be able to do something like this:</p>
<pre><code class="language-toml">dependencies = [
   &quot;package_name @ https://github.com/path/to/wheel.whl ; sys_platform == 'darwin'&quot;,
   &quot;package_name @ https://github.com/path/to/other_wheel.whl ; sys_platform == 'linux'&quot;,
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-09-05 20:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tudoroancea">@tudoroancea</a> on 2024-09-06 08:46</div>
            <div class="timeline-body"><p>This works after also adding the following in the <code>pyproject.toml</code>:</p>
<pre><code class="language-toml">[tool.hatch.metadata]
allow-direct-references = true # to allow the syntax 'pkg @ url' in dependencies
</code></pre>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @tudoroancea on 2024-09-06 08:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:42 UTC
    </footer>
</body>
</html>
