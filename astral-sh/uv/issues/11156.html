<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unable to install nvidia-cudnn-cu12==9.7.0.66 - astral-sh/uv #11156</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unable to install nvidia-cudnn-cu12==9.7.0.66</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11156">#11156</a>
        opened by <a href="https://github.com/OliverKillane">@OliverKillane</a>
        on 2025-02-01 20:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/OliverKillane">@OliverKillane</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<h3>Bug</h3>
<p>Failing to install <code>nvidia-cudnn-cu12</code> as part of pytorch.</p>
<ul>
<li><a href="https://github.com/OliverKillane/bug-reports/tree/main/uv-install-pytorch">Logs and instructions to reproduce here</a></li>
</ul>
<h3>Logs</h3>
<pre><code class="language-bash">UV_CONCURRENT_DOWNLOADS=1 uv add nvidia-cudnn-cu12==9.7.066
</code></pre>
<pre><code class="language-bash">Resolved 6 packages in 7ms
⠦ Preparing packages... (0/1)
nvidia-cudnn-cu12 ------------------------------ 114.61 MiB/693.05 MiB
nvidia-cudnn-cu12 ------------------------------ 190.28 MiB/693.05 MiB  
</code></pre>
<p>Looks like it starts downloading itself again, then freezes with the above?!</p>
<pre><code class="language-bash">UV_CONCURRENT_DOWNLOADS=1 uv add nvidia-cudnn-cu12==9.7.066 --verbose
</code></pre>
<pre><code class="language-bash">DEBUG uv 0.5.26 (b0e9781da 2025-02-01)
DEBUG Found project root: `/home/oliverkillane/files/bug-reports/uv-install-pytorch`
DEBUG No workspace root found, using project root
DEBUG Reading Python requests from version file at `/home/oliverkillane/files/bug-reports/uv-install-pytorch/.python-version`
DEBUG Using Python request `3.12` from version file at `.python-version`
DEBUG Checking for Python environment at `.venv`
DEBUG The virtual environment's Python version satisfies `3.12`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: uv-install-pytorch @ file:///home/oliverkillane/files/bug-reports/uv-install-pytorch
DEBUG No workspace root found, using project root
DEBUG Ignoring existing lockfile due to mismatched requirements for: `uv-install-pytorch==0.1.0`
  Requested: {Requirement { name: PackageName(&quot;nvidia-cublas-cu12&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: Equal, version: &quot;12.4.5.8&quot; }]), index: None, conflict: None }, origin: None }, Requirement { name: PackageName(&quot;nvidia-cudnn-cu12&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: Equal, version: &quot;9.7.0.66&quot; }]), index: None, conflict: None }, origin: None }, Requirement { name: PackageName(&quot;nvidia-cusolver-cu12&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: Equal, version: &quot;11.6.1.9&quot; }]), index: None, conflict: None }, origin: None }}
  Existing: {Requirement { name: PackageName(&quot;nvidia-cublas-cu12&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: Equal, version: &quot;12.4.5.8&quot; }]), index: None, conflict: None }, origin: None }, Requirement { name: PackageName(&quot;nvidia-cusolver-cu12&quot;), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([VersionSpecifier { operator: Equal, version: &quot;11.6.1.9&quot; }]), index: None, conflict: None }, origin: None }}
DEBUG Solving with installed Python version: 3.12.8
DEBUG Solving with target Python version: &gt;=3.12
DEBUG Adding direct dependency: uv-install-pytorch*
DEBUG Searching for a compatible version of uv-install-pytorch @ file:///home/oliverkillane/files/bug-reports/uv-install-pytorch (*)
DEBUG Adding direct dependency: nvidia-cublas-cu12&gt;=12.4.5.8, &lt;12.4.5.8+
DEBUG Adding direct dependency: nvidia-cudnn-cu12&gt;=9.7.0.66, &lt;9.7.0.66+
DEBUG Adding direct dependency: nvidia-cusolver-cu12&gt;=11.6.1.9, &lt;11.6.1.9+
DEBUG Found stale response for: https://pypi.org/simple/nvidia-cublas-cu12/
DEBUG Sending revalidation request for: https://pypi.org/simple/nvidia-cublas-cu12/
DEBUG Found not-modified response for: https://pypi.org/simple/nvidia-cublas-cu12/
DEBUG Searching for a compatible version of nvidia-cublas-cu12 (&gt;=12.4.5.8, &lt;12.4.5.8+)
DEBUG Selecting: nvidia-cublas-cu12==12.4.5.8 [preference] (nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_aarch64.whl)
DEBUG Found stale response for: https://pypi.org/simple/nvidia-cudnn-cu12/
DEBUG Sending revalidation request for: https://pypi.org/simple/nvidia-cudnn-cu12/
DEBUG Found not-modified response for: https://pypi.org/simple/nvidia-cudnn-cu12/
DEBUG Found stale response for: https://pypi.org/simple/nvidia-cusolver-cu12/
DEBUG Sending revalidation request for: https://pypi.org/simple/nvidia-cusolver-cu12/
DEBUG Found not-modified response for: https://pypi.org/simple/nvidia-cusolver-cu12/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/7f/7f/7fbae15a3982dc9595e49ce0f19332423b260045d0a6afe93cdbe2f1f624/nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_aarch64.whl.metadata
DEBUG Searching for a compatible version of nvidia-cudnn-cu12 (&gt;=9.7.0.66, &lt;9.7.0.66+)
DEBUG Selecting: nvidia-cudnn-cu12==9.7.0.66 [compatible] (nvidia_cudnn_cu12-9.7.0.66-py3-none-manylinux_2_27_aarch64.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/fe/8a/0efe67ee6d4d6e05d93e6deb9ae9520884e413f83dd2e012d62ec7e9589d/nvidia_cudnn_cu12-9.7.0.66-py3-none-manylinux_2_27_aarch64.whl.metadata
DEBUG Adding transitive dependency for nvidia-cudnn-cu12==9.7.0.66: nvidia-cublas-cu12*
DEBUG Searching for a compatible version of nvidia-cusolver-cu12 (&gt;=11.6.1.9, &lt;11.6.1.9+)
DEBUG Selecting: nvidia-cusolver-cu12==11.6.1.9 [preference] (nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_aarch64.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/46/6b/a5c33cf16af09166845345275c34ad2190944bcc6026797a39f8e0a282e0/nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_aarch64.whl.metadata
DEBUG Adding transitive dependency for nvidia-cusolver-cu12==11.6.1.9: nvidia-cublas-cu12*
DEBUG Adding transitive dependency for nvidia-cusolver-cu12==11.6.1.9: nvidia-cusparse-cu12*
DEBUG Adding transitive dependency for nvidia-cusolver-cu12==11.6.1.9: nvidia-nvjitlink-cu12*
DEBUG Found stale response for: https://pypi.org/simple/nvidia-cusparse-cu12/
DEBUG Sending revalidation request for: https://pypi.org/simple/nvidia-cusparse-cu12/
DEBUG Found not-modified response for: https://pypi.org/simple/nvidia-cusparse-cu12/
DEBUG Searching for a compatible version of nvidia-cusparse-cu12 (*)
DEBUG Selecting: nvidia-cusparse-cu12==12.5.7.53 [preference] (nvidia_cusparse_cu12-12.5.7.53-py3-none-manylinux2014_aarch64.manylinux_2_17_aarch64.whl)
DEBUG Found stale response for: https://pypi.org/simple/nvidia-nvjitlink-cu12/
DEBUG Sending revalidation request for: https://pypi.org/simple/nvidia-nvjitlink-cu12/
DEBUG Found not-modified response for: https://pypi.org/simple/nvidia-nvjitlink-cu12/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/2e/a2/313db0453087f5324a5900380ca2e57e050c8de76f407b5e11383dc762ae/nvidia_cusparse_cu12-12.5.7.53-py3-none-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata
DEBUG Adding transitive dependency for nvidia-cusparse-cu12==12.5.7.53: nvidia-nvjitlink-cu12*
DEBUG Searching for a compatible version of nvidia-nvjitlink-cu12 (*)
DEBUG Selecting: nvidia-nvjitlink-cu12==12.8.61 [preference] (nvidia_nvjitlink_cu12-12.8.61-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/03/f8/9d85593582bd99b8d7c65634d2304780aefade049b2b94d96e44084be90b/nvidia_nvjitlink_cu12-12.8.61-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl.metadata
DEBUG Tried 6 versions: nvidia-cublas-cu12 1, nvidia-cudnn-cu12 1, nvidia-cusolver-cu12 1, nvidia-cusparse-cu12 1, nvidia-nvjitlink-cu12 1, uv-install-pytorch 1
DEBUG all marker environments resolution took 0.147s
Resolved 6 packages in 159ms
DEBUG Using request timeout of 30s
DEBUG Requirement already installed: nvidia-cublas-cu12==12.4.5.8
DEBUG Identified uncached distribution: nvidia-cudnn-cu12==9.7.0.66
DEBUG Requirement already installed: nvidia-cusolver-cu12==11.6.1.9
DEBUG Requirement already installed: nvidia-cusparse-cu12==12.5.7.53
DEBUG Requirement already installed: nvidia-nvjitlink-cu12==12.8.61
DEBUG No cache entry for: https://files.pythonhosted.org/packages/4b/6d/afece827c6cb52d8a193e558a69a47012d27c34548450476594a876f9ba7/nvidia_cudnn_cu12-9.7.0.66-py3-none-manylinux_2_27_x86_64.whl
WARN Streaming failed for nvidia-cudnn-cu12==9.7.0.66; downloading wheel to disk (error decoding response body)
DEBUG No cache entry for: https://files.pythonhosted.org/packages/4b/6d/afece827c6cb52d8a193e558a69a47012d27c34548450476594a876f9ba7/nvidia_cudnn_cu12-9.7.0.66-py3-none-manylinux_2_27_x86_64.whl
DEBUG Reverting changes to `pyproject.toml`
DEBUG Reverting changes to `uv.lock`
  × Failed to download `nvidia-cudnn-cu12==9.7.0.66`
  ├─▶ Failed to write to the distribution cache
  ╰─▶ Failed to download distribution due to network timeout. Try increasing UV_HTTP_TIMEOUT (current value: 30s).
  help: `nvidia-cudnn-cu12` (v9.7.0.66) was included because `uv-install-pytorch` (v0.1.0) depends on `nvidia-cudnn-cu12
</code></pre>
<h3>Platform</h3>
<p>Ubuntu 22.04</p>
<pre><code class="language-bash">neofetch
OS: Ubuntu 22.04.3 LTS on Windows 10 x86_64 # (from neofetch) is actually running on windows 11
</code></pre>
<pre><code class="language-bash">uname -orsm
Linux 5.15.167.4-microsoft-standard-WSL2 x86_64 GNU/Linux
</code></pre>
<h3>Version</h3>
<p>uv 0.5.26 (b0e9781da 2025-02-01)</p>
<h3>Python version</h3>
<p>Python 3.12</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @OliverKillane on 2025-02-01 20:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-02 12:02</div>
            <div class="timeline-body"><p>Does this happen every time, and if so, is there a pattern when it freezes?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/OliverKillane">@OliverKillane</a> on 2025-02-02 13:42</div>
            <div class="timeline-body"><p>I don't think this is a uv bug.</p>
<ul>
<li>With change in network, works fine &amp; interestingly does not start downloading <code>nvidia-cudnn-cu12</code> twice.
I have no idea why, but this looks like a me problem, not a uv problem.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @OliverKillane on 2025-02-02 13:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adwaithhs">@adwaithhs</a> on 2025-08-25 14:49</div>
            <div class="timeline-body"><p>This bug is still there, I think.</p>
<pre><code class="language-bash">uv --version
uv 0.8.11
</code></pre>
<pre><code class="language-bash">UV_HTTP_TIMEOUT=1000 uv add -r requirements.txt
</code></pre>
<pre><code class="language-bash">⠙ Preparing packages... (12/15)
nvidia-cusparse-cu12       ------------------------------ 174.94 MiB/349.49 MiB
nvidia-cusparse-cu12       ------------------------------ 329.78 MiB/349.49 MiB
nvidia-cublas-cu12         ------------------------------ 177.76 MiB/554.32 MiB
nvidia-cublas-cu12         ------------------------------ 334.72 MiB/554.32 MiB
nvidia-cudnn-cu12          ------------------------------ 180.81 MiB/674.02 MiB
nvidia-cudnn-cu12          ------------------------------ 344.87 MiB/674.02 MiB             
</code></pre>
<p>I was using mobile hotspot. this happened when the net stopped for some seconds. I didn't want to <code>Ctrl+C</code> and lose progress.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adwaithhs">@adwaithhs</a> on 2025-08-25 14:54</div>
            <div class="timeline-body"><pre><code>cat /etc/os-release
NAME=&quot;Linux Mint&quot;
VERSION=&quot;21.3 (Virginia)&quot;
ID=linuxmint
ID_LIKE=&quot;ubuntu debian&quot;
PRETTY_NAME=&quot;Linux Mint 21.3&quot;
VERSION_ID=&quot;21.3&quot;
HOME_URL=&quot;https://www.linuxmint.com/&quot;
SUPPORT_URL=&quot;https://forums.linuxmint.com/&quot;
BUG_REPORT_URL=&quot;http://linuxmint-troubleshooting-guide.readthedocs.io/en/latest/&quot;
PRIVACY_POLICY_URL=&quot;https://www.linuxmint.com/&quot;
VERSION_CODENAME=virginia
UBUNTU_CODENAME=jammy

</code></pre>
<pre><code>uname -orsm
Linux 6.5.0-14-generic x86_64 GNU/Linux
</code></pre>
<p><code>python 3.12</code></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:29:40 UTC
    </footer>
</body>
</html>
