<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `export --format=json` - astral-sh/uv #12792</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support `export --format=json`</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12792">#12792</a>
        opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a>
        on 2025-04-09 21:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-04-09 21:53</div>
            <div class="timeline-body"><p>I'm writing <a href="https://github.com/InSyncWithFoo/uv-for-vscode">a VS Code extension for uv</a>. One of the features it supports is editor commands, which helps with running uv commands from the editor. For <code>uv remove</code>, the user will choose the packages to remove from a given list.</p>
<p>To generate this list, I have been using <code>pip list</code>, but it also lists transitive dependencies and other installed packages. <code>export</code> does what I want, but there's only one output format, <code>requirements.txt</code>, which is not easily parsable.</p>
<p><code>--format=json</code> should be supported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @InSyncWithFoo on 2025-04-09 21:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-10 14:18</div>
            <div class="timeline-body"><p>What would be the difference between parsing this JSON and parsing the <code>uv.lock</code> directly?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-04-10 15:51</div>
            <div class="timeline-body"><p>That approach has a few drawbacks:</p>
<ul>
<li>The extension is written in JS/TS, which has native support for parsing JSON but not TOML.</li>
<li>To parse <code>uv.lock</code>, I will have to find out where it is, then read it from JS/TS code. This, aside from being a less robust reimplementation of something uv can do, is a chance for subtle bugs.</li>
<li><code>uv.lock</code>'s format is documented as &quot;<a href="https://docs.astral.sh/uv/concepts/projects/layout/#the-lockfile">specific to uv and not usable by other tools</a>&quot;.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-10 15:54</div>
            <div class="timeline-body"><blockquote>
<p>uv.lock's format is documented as &quot;<a href="https://docs.astral.sh/uv/concepts/projects/layout/#the-lockfile">specific to uv and not usable by other tools</a>&quot;.</p>
</blockquote>
<p>Note this is in reference to other package managers and is targeting explaining the concept to beginners. The lockfile schema is stable and versioned.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-04-10 15:59</div>
            <div class="timeline-body"><blockquote>
<p>The lockfile schema is stable and versioned.</p>
</blockquote>
<p>Thanks for the correction. Regardless, maintaining a TypeScript mirror won't be easy and I would prefer not having to do so.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kiran-4444">@kiran-4444</a> on 2025-05-08 05:29</div>
            <div class="timeline-body"><p>I'd like to work on this if this is planned.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-13 12:02</div>
            <div class="timeline-body"><p>I don't think I'm opposed per say, but want buy-in from other maintainers. @Gankra / @konstin ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-13 12:20</div>
            <div class="timeline-body"><p>Which packages <code>uv remove</code> can remove is tied to the internals of uv and may change with new versions, an example was adding support for dependency groups. For an IDE extension that has to integrate deeply with uv, I'd recommend reading the toml directly including handling of different format versions. Once you integrate deeply enough, you usually need to go below the main abstraction layer anyway.</p>
<p>If we want to improve IDE integration, I'd go for a dedicated hidden subcommand where we can add hooks, which could also prepare for deeper LSP integration, but that's a big project and need more design upfront than currently feasible.</p>
<p>We could export more dependency graph information, but <code>uv export</code> feels like the wrong subcommand for it, maybe <code>uv tree</code>? <code>uv export</code> currently specifically target format that are read by other tools, while <code>uv tree</code> is more general dependency information.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-07-04 07:32</div>
            <div class="timeline-body"><p>Now that <code>uv export</code> supports <code>pylock.toml</code> as a format, this issue has become less relevant. I'll keep it open though, just in case someone feels strongly about it.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:04 UTC
    </footer>
</body>
</html>
