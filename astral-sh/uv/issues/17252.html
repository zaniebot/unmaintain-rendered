<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to use different index only for [dev] group? - astral-sh/uv #17252</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>How to use different index only for [dev] group?</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/17252">#17252</a>
        opened by <a href="https://github.com/phistep">@phistep</a>
        on 2025-12-29 15:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/phistep">@phistep</a> on 2025-12-29 15:28</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I am using <code>mido</code> MIDI library. It has only recently added type hints and those have not landed in a stable release. I want normal users to just use the latest stable release, as it supports all features I need at runtime. But for myself, I want to use the latest git rev when developing, so that I get full type checking (with ty ;)</p>
<pre><code class="language-toml">[project.optional-dependencies]
midi = [&quot;mido[ports-rtmidi]&quot;]

[dependency-groups]
dev = [
    &quot;ruff&quot;,
    &quot;ty&quot;,
    &quot;mido&gt;=1.3.4&quot;, # https://github.com/mido/mido/pull/624
]

[tool.uv.sources]
mido = { git = &quot;https://github.com/mido/mido&quot;, group = &quot;dev&quot; }
</code></pre>
<p>This always pulls in <code>mido==1.3.4.dev21...</code> from github</p>
<p>What I want:</p>
<ul>
<li><code>uv sync --extra midi</code>: <code>mido[ports-rtmidi]==1.3.3</code> (PyPI)</li>
<li><code>uv sync --dev</code>: <code>mido==1.3.4.dev12...</code> (Github)</li>
<li><code>uv sync --dev --extra midi</code>: <code>mido[ports-rtmidi]==1.3.4.dev12...</code> (Github)</li>
</ul>
<p>How do I configure the <code>pyproject.toml</code> correctly?</p>
<h3>Platform</h3>
<p>Darwin 24.5.0 arm64</p>
<h3>Version</h3>
<p>uv 0.7.19 (38ee6ec80 2025-07-02)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @phistep on 2025-12-29 15:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2026-01-06 18:07</div>
            <div class="timeline-body"><p>How do users install your library, as a package from PyPI or as a Git dependency?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/phistep">@phistep</a> on 2026-01-07 09:41</div>
            <div class="timeline-body"><p>As a package from PyPI. t's more of an application than a library actually. I want users to just do <code>uv tool install vhsh[midi]</code> from PyPI to get whatever latest <code>mido[ports-rtmidi]</code> with their installation. For me as a dev, I want to pull in the latest Git version to do the type checking</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2026-01-07 10:04</div>
            <div class="timeline-body"><p><code>[tool.uv.sources]</code> isn't exported/used by PyPI packages, so this should already work. You can test this with <code>uv build</code>, then installing the downstream package with <code>uv pip install --find-links dist/</code>.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:30 UTC
    </footer>
</body>
</html>
