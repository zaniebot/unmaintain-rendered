<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `uv` parser to linehaul  - astral-sh/uv #2568</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add `uv` parser to linehaul </h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2568">#2568</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2024-03-20 17:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-20 17:06</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv/pull/2493 updated <code>uv</code> to include additional metadata in the requests sent to PyPI (or any package index). I tried to query the PyPI big data table but no <code>uv</code> records are showing up yet. I believe this is due to the fact that linehaul doesn't recognize <code>uv</code> because it doesn't have a <code>uv</code> parser configuration in</p>
<p>https://github.com/pypi/linehaul-cloud-function/blob/main/linehaul/ua/parser.py</p>
<p>We should contribute a <code>uv</code> parser upstream (copy PIPs configuration?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-03-20 17:44</div>
            <div class="timeline-body"><p>I was planning on adding one over the next few weeks as time permits unless someone wants to give it a shot.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @samypr100 by @konstin on 2024-03-20 19:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2024-03-20 19:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-04 03:52</div>
            <div class="timeline-body"><p>Nice, thanks for putting that PR up @samypr100.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-04-23 15:43</div>
            <div class="timeline-body"><p>Seems like stats are coming in @MichaReiser @charliermarsh</p>
<img width="552" alt="uv_stats" src="https://github.com/astral-sh/uv/assets/3933065/de29cf81-5b7b-4efe-9208-a2c910c7e714">

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-23 15:45</div>
            <div class="timeline-body"><p>Yes. Thanks for implementing it. It works like a charm.</p>
<p>Oh that's an interesting query! I so far only tracked downloads by uv version (our users are really up to date), and downloads overall.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-04-23 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-04-24 01:06</div>
            <div class="timeline-body"><p>Yea, I already ate my free tier ðŸ˜†</p>
<p>Here's one for the top 10 downloaded packages using uv in the last day. Nice to see that pandas came out at the top when using <code>uv</code>.</p>
<pre><code class="language-sql">#standardSQL
SELECT
  file.project AS project_name,
  COUNT(*) AS num_downloads
FROM
  `bigquery-public-data.pypi.file_downloads`
WHERE
  DATE(timestamp) BETWEEN DATE_SUB(CURRENT_DATE(), INTERVAL 1 DAY) AND CURRENT_DATE()
  AND details.installer.name = 'uv'
GROUP BY
  project_name
ORDER BY
  num_downloads DESC
LIMIT 10
</code></pre>
<p>uv</p>
<p>|project_name     |num_downloads|
|-----------------|-------------|
|boto3            |1130187      |
|botocore         |516449       |
|packaging        |320548       |
|setuptools       |303500       |
|typing-extensions|295516       |
|pandas           |289491       |
|urllib3          |274027       |
|requests         |268572       |
|pytest           |267713       |
|click            |255924       |</p>
<p>pip</p>
<p>|project_name     |num_downloads|
|-----------------|-------------|
|boto3            |51247219     |
|botocore         |22762858     |
|urllib3          |19826296     |
|requests         |17587337     |
|wheel            |16842258     |
|idna             |15655970     |
|certifi          |15591192     |
|setuptools       |15371830     |
|charset-normalizer|15286527     |
|typing-extensions|14930478     |</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:34:00 UTC
    </footer>
</body>
</html>
