<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>activate.nu error - astral-sh/uv #1490</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>activate.nu error</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1490">#1490</a>
        opened by <a href="https://github.com/Arengard">@Arengard</a>
        on 2024-02-16 13:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Arengard">@Arengard</a> on 2024-02-16 13:59</div>
            <div class="timeline-body"><p>Scripts\activate.nu:95:1]
95 │ export alias pydoc = python -m pydoc
96 │ export alias deactivate = overlay hide activate
·                           ───┬───
·                              ╰── not allowed in pipeline
╰────
help: 'overlay' keyword is not allowed in pipeline. Use 'overlay' by itself, outside of a pipeline.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MichaReiser on 2024-02-16 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AucaCoyan">@AucaCoyan</a> on 2024-02-16 15:37</div>
            <div class="timeline-body"><p>Mmm this is a <code>virtualenv</code> issue, which is caused by upstream <code>nushell</code> shell script.
to better readability, I copy and paste in a monospaced font</p>
<pre><code class="language-bash">  × Statement used in pipeline.
    ╭─[C:\Users\aucac\repos\exp-python\uv\.venv\Scripts\activate.nu:95:1]
 95 │ export alias pydoc = python -m pydoc
 96 │ export alias deactivate = overlay hide activate
    ·                           ───┬───
    ·                              ╰── not allowed in pipeline
    ╰────
  help: 'overlay' keyword is not allowed in pipeline. Use 'overlay' by itself, outside of a pipeline.
</code></pre>
<p>I could track this issue <a href="https://github.com/pypa/virtualenv/issues?q=is%3Aissue+activate.nu">firstly in <code>virtualenv</code></a> and then <a href="https://github.com/nushell/nushell/issues?q=is%3Aissue+%27overlay%27+keyword+is+not+allowed+in+pipeline.+Use+%27overlay%27+by+itself%2C+outside+of+a+pipeline.">in the issues of nushell/nushell</a></p>
<p>I think is solvable, but it has nothing to do with <code>uv</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 16:59</div>
            <div class="timeline-body"><p>Thank you! I think we vendor this script so we'd need to update once fixed upstream.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/melMass">@melMass</a> on 2024-02-17 18:34</div>
            <div class="timeline-body"><p>Hi,</p>
<p>Nushell user here, and I partly wrote that script. What version of nushell are you on?</p>
<img src="https://github.com/astral-sh/uv/assets/7041726/b1ce1bf8-0b66-4688-8905-d39368952e23" width=400/>

<p>I'm currently refactoring the script but it should still work as is in nushell 0.89+</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">virtualenv</span> added by @zanieb on 2024-02-18 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AucaCoyan">@AucaCoyan</a> on 2024-04-29 15:03</div>
            <div class="timeline-body"><p>Hi! I'm using uv and venv in nushell with no errors. Do you keep getting issues @Arengard ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Arengard on 2024-04-29 20:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:56 UTC
    </footer>
</body>
</html>
