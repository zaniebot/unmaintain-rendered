<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv add --index` fails to install PyTorch CUDA packages on Windows - astral-sh/uv #11532</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv add --index` fails to install PyTorch CUDA packages on Windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11532">#11532</a>
        opened by <a href="https://github.com/AbyssSkb">@AbyssSkb</a>
        on 2025-02-15 05:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/AbyssSkb">@AbyssSkb</a> on 2025-02-15 05:04</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Is there a way to directly install the CUDA version of PyTorch via the command line on Windows and support project dependency management with uv?</p>
<p>I tried installing PyTorch using <code>uv add torch --index</code> on my computer, but it ultimately failed. The documentation doesn't seem to mention this. Why does <code>uv add torch --index</code> fail to install PyTorch?</p>
<p>Although I can install PyTorch by modifying the <code>pyproject.toml</code> file as mentioned in the documentation, I want to know if it is possible to install it directly through the command line (which is simpler and more familiar).</p>
<pre><code class="language-bash">&gt; uv add torch --index https://download.pytorch.org/whl/cu126
Resolved 16 packages in 4.52s
error: Distribution `markupsafe==3.0.2 @ registry+https://download.pytorch.org/whl/cu126` can't be installed because it doesn't have a source distribution or wheel for the current platform

hint: You're using CPython 3.10 (`cp310`), but `markupsafe` (v3.0.2) only has wheels with the following Python implementation tag: `cp313`
</code></pre>
<h3>Platform</h3>
<p>Windows 11 x86_64</p>
<h3>Version</h3>
<p>uv 0.6.0 (591f38c25 2025-02-14)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @AbyssSkb on 2025-02-15 05:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-15 13:52</div>
            <div class="timeline-body"><p>Unfortunately I don't <em>think</em> there's a way to avoid this right now due to how the PyTorch index is structured... They have a <code>markupsafe</code> wheel, but only for Linux. By default, if we see a package (like <code>markupsafe</code>) on an index that the user provided (like the PyTorch index), we avoid looking at <em>other</em> indexes for the same package, as a security concern.</p>
<p>If we supported a <code>--constraints</code> flag here, you could do <code>--constraints markupsafe&lt;3.0.2</code>, but even that isn't great. Hmm.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AbyssSkb on 2025-09-09 07:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:00 UTC
    </footer>
</body>
</html>
