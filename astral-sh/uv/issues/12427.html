<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for Platform-Specific Environment Files in ``.python-version`` - astral-sh/uv #12427</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support for Platform-Specific Environment Files in <code>.python-version</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/12427">#12427</a>
        opened by <a href="https://github.com/meitham">@meitham</a>
        on 2025-03-24 11:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/meitham">@meitham</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<h1>Feature Request: Support for Platform-Specific Environment Files (e.g. <code>uv-version.toml</code>)</h1>
<p>I’m a heavy user of <a href="https://github.com/pyenv/pyenv">pyenv</a> which works well on Linux but not as well on Windows. As I migrate from pyenv to uv (starting with Windows), I’ve encountered a conflict due to uv’s reuse of the <code>.python-version</code> file.</p>
<h2>The Issue</h2>
<ul>
<li><strong>pyenv Usage:</strong> pyenv standardised the <code>.python-version</code> file to store the name of the virtual environment.</li>
<li><strong>uv Expectation:</strong> uv expects the same file to contain a semver for Python.</li>
<li><strong>Resulting Conflict:</strong> This difference means that both tools cannot coexist in the same working directory without interference.</li>
</ul>
<h2>Proposed Solution</h2>
<p>It would be beneficial to allow uv to use a separate configuration file—say, <code>uv-version.toml</code>—that supports different environment definitions per platform. For example, the file might look like this:</p>
<pre><code class="language-toml">[versions]
windows = &quot;.win-env&quot;
linux = &quot;.linux-env&quot;
</code></pre>
<p>This approach would allow a single git checkout (shared between Windows and WSL) to support distinct environments for each platform, resolving the current conflict between uv and pyenv.</p>
<h2>Questions</h2>
<ul>
<li>Is this feature feasible within uv’s design?</li>
<li>Alternatively, is there an existing uv feature or workaround that addresses cross-platform environment configuration?  Perhaps <code>uv.toml</code> can be extended to cover this use case, removing the need for <code>.python-version</code> and <code>.env</code> files?</li>
</ul>
<p>Thank you,
Meitham</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @meitham on 2025-03-24 11:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 18:20</div>
            <div class="timeline-body"><blockquote>
<p>pyenv standardised the .python-version file to store the name of the virtual environment.</p>
</blockquote>
<p>To be clear, this is <code>pyenv-virtualenv</code> which is an <em>extension</em> of <code>pyenv</code>. This is not a part of the standard use of the file, and I think is arguably a misuse. See also https://github.com/astral-sh/uv/pull/7935</p>
<blockquote>
<p>It would be beneficial to allow uv to use a separate configuration file—say, uv-version.toml—that supports different environment definitions per platform.</p>
</blockquote>
<p>I'm not sure I follow. You want a different environment path per platform? How does this interact with the <code>.python-version</code> file? Are you talking about <code>.env</code> files?</p>
<blockquote>
<p>Perhaps uv.toml can be extended to cover this use case, removing the need for .python-version and .env files?</p>
</blockquote>
<p>See https://github.com/astral-sh/uv/issues/4970</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-04-01 18:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by @zanieb on 2025-04-01 18:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:30:36 UTC
    </footer>
</body>
</html>
