<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv Created Virtual Environment is not Usable by PyCharm - astral-sh/uv #2317</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv Created Virtual Environment is not Usable by PyCharm</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2317">#2317</a>
        opened by <a href="https://github.com/bwanshoom">@bwanshoom</a>
        on 2024-03-09 12:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bwanshoom">@bwanshoom</a></div>
            <div class="timeline-body"><p>PyCharm will not recognize a virtual environment created by uv. I&#x27;m not sure what it&#x27;s looking for in a virtual environment, but one created by python -m venv .venv is somehow different from one created by uv venv --seed.</p>
<p>I can select the uv created environment, but PyCharm won&#x27;t use it, save it or load it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bwanshoom">@bwanshoom</a> on 2024-03-09 12:05</div>
            <div class="timeline-body"><p>Answering my own issue - uv does not create an Include directory like the Python venv module does. That directory is empty with the python venv, so just creating an empty Include directory in the uv venv allows PyCharm to use the uv virtual environment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 12:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 12:55</div>
            <div class="timeline-body"><p>The thing I&#x27;m surprised by is that <code>virtualenv</code> doesn&#x27;t create an <code>include</code> either, but <code>python -m venv</code> does. Do you see the same problem if you use <code>virtualenv</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:04</div>
            <div class="timeline-body"><p>Can you give me steps to repro? Specifically, what do you do in the PyCharm UI that isn&#x27;t working?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bwanshoom">@bwanshoom</a> on 2024-03-09 13:09</div>
            <div class="timeline-body"><p>Yes, it&#x27;s on Windows. Interestingly, virtualenv does not fail even without the Include directory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bwanshoom">@bwanshoom</a> on 2024-03-09 13:14</div>
            <div class="timeline-body"><p>Repro steps:</p>
<ol>
<li>In PyCharm, open Settings =&gt; Python Interpreter</li>
<li>Click Add Interpreter =&gt; Add Local Interpreter</li>
<li>Click Existing then browse to the uv venv (e.g. xxxx\.venv\Scripts\python.exe)</li>
<li>Click OK, then click OK again</li>
<li>If PyCharm likes the interpreter, it will read the installed packages and display them. With the uv one, it won&#x27;t show anything. If you close settings and go back in, there will be no interpreter selected for the project</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:46</div>
            <div class="timeline-body"><p>Thanks, I can reproduce on Windows! (But not macOS.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:54</div>
            <div class="timeline-body"><p>Hmm, I actually can&#x27;t reproduce this though when I use <code>--seed</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 13:55</div>
            <div class="timeline-body"><p>Can you try removing the interpreter from PyCharm, re-running with <code>--seed</code>, re-opening PyCharm, and trying again...?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bwanshoom">@bwanshoom</a> on 2024-03-09 14:02</div>
            <div class="timeline-body"><p>I did that originally and it wasn&#x27;t working, but now after doing it with a new project it is working. I think I was running into some kind of internal caching in PyCharm so this is probably not a uv issue after all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 14:43</div>
            <div class="timeline-body"><p>Yeah, I see similar flakiness in the caching. I had to remove the interpreter and restart. Anyway, thank you for filing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-09 14:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:22 UTC
    </footer>
</body>
</html>
