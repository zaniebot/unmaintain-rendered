<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv run &lt;script&gt;` ignores inline script metadata for scripts with no file extension - astral-sh/uv #9483</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`uv run &lt;script&gt;` ignores inline script metadata for scripts with no file extension</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9483">#9483</a>
        opened by <a href="https://github.com/Julian">@Julian</a>
        on 2024-11-27 19:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Julian">@Julian</a> on 2024-11-27 19:45</div>
            <div class="timeline-body"><p>PEP 722 inline script metadata seems like it's ignored if the script does not have a <code>.py</code> file extension. Here's a short reproduction, showing it doesn't work :</p>
<pre><code>⊙  chmod +x; cat foo
#!/usr/bin/env python3
# /// script
# requires-python = &quot;&gt;=3.11&quot;
# dependencies = [
#   &quot;jsonschema&quot;,
# ]
# ///
import jsonschema

~/Desktop 
⊙  uv run ./foo
Traceback (most recent call last):
  File &quot;/Users/julian/Desktop/./foo&quot;, line 8, in &lt;module&gt;
    import jsonschema
ModuleNotFoundError: No module named 'jsonschema'

~/Desktop 
⊙  mv foo foo.py

~/Desktop 
⊙  uv run ./foo.py
Reading inline script metadata from `./foo.py`
Installed 5 packages in 16ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-11-27 19:48</div>
            <div class="timeline-body"><p><code>uv run --script</code> should cover this, see https://github.com/astral-sh/uv/issues/7396.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-11-27 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Julian">@Julian</a> on 2024-11-27 19:53</div>
            <div class="timeline-body"><p>Aha. Thanks for the link, that does seem to do it. Though I guess it seems a bit confusing to me at first glance (specifically I'd have expected separate commands for <code>uv run &lt;command&gt;</code> and <code>uv run &lt;somefile&gt;</code> so that it's never ambiguous which is meant, and the extra argument then wouldn't be needed. But closing, as indeed that works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Julian on 2024-11-27 19:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
