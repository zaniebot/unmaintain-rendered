<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make a genuinely relocatable variant of --relocatable (i.e. fix or remove activate.csh/nu) - astral-sh/uv #16973</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Make a genuinely relocatable variant of --relocatable (i.e. fix or remove activate.csh/nu)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16973">#16973</a>
        opened by <a href="https://github.com/amluto">@amluto</a>
        on 2025-12-03 19:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/amluto">@amluto</a></div>
            <div class="timeline-body">Summary
<p>Right now, <code>uv venv --relocatable</code> hardcodes the venv path in bin/activate.csh and bin/activate.nu.  I&#x27;m trying to use uv to build a deployable artifact for a Python application (not for outside distribution -- wheels are fine for this; I want to deploy it to my own prod system).</p>
<p>Prior to using uv, I worked fairly hard to avoid leaking the working directory into the build.  Right now, I have:</p>
<pre><code>uv venv --relocatable &quot;$dist_path&quot;
# uv venv --relocatable will create two non-relocatable files.  We don&#x27;t need them.
rm -- &quot;$dist_path/bin/activate.csh&quot; &quot;$dist_path/bin/activate.nu&quot;
</code></pre>
<p>which is rather sad.  Would uv consider either finding a way to fix up activate.csh and activate.nu or having a variant of --relocatable that means &quot;make it genuinely fully relocatable&quot; and omits the offending files?</p>
<p>See also #6970.  uv is <em>so close</em> to being a fantastic tool for deploying Python code.</p>
Example
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/amluto">@amluto</a> on 2025-12-03 19:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-04 15:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-04 15:22</div>
            <div class="timeline-body"><p>It seems reasonable to make them relocatable unless there are firm blockers to that in which case... I guess I&#x27;d omit them? That&#x27;s a breaking change though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-09 14:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:41:12 UTC
    </footer>
</body>
</html>
