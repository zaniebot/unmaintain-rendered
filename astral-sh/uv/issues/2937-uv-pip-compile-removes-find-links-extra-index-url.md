---
number: 2937
title: uv pip compile removes --find-links, --extra-index-url etc from requirements.txt, by design?
type: issue
state: closed
author: artemisart
labels:
  - duplicate
  - question
assignees: []
created_at: 2024-04-09T16:33:01Z
updated_at: 2024-04-09T16:41:10Z
url: https://github.com/astral-sh/uv/issues/2937
synced_at: 2026-01-10T01:23:23Z
---

# uv pip compile removes --find-links, --extra-index-url etc from requirements.txt, by design?

---

_Issue opened by @artemisart on 2024-04-09 16:33_

`pip compile` from pip-tools keeps the --find-links and (extra) index-urls from its inputs (both command-line and source files) and saves them to the output file, but `uv pip compile` removes them, is this by design ? Is there an option to enable it ? Thanks!

To reproduce:
```sh
uv --version  # uv 0.1.29
echo -e '-f https://download.pytorch.org/whl/torch_stable.html\ntorch==1.9.1+cu111' > requirements.in
uv pip compile requirements.in --output-file requirements-uv.txt
pip-compile requirements.in  # pip-tools 7.4.1 but this is not new
```
Gives requirements-uv.txt:
```
# This file was autogenerated by uv via the following command:
#    uv pip compile requirements.in --output-file requirements-uv.txt
torch==1.9.1+cu111
typing-extensions==4.11.0
    # via torch
```
And requirements.txt from pip-tools:
```
#
# This file is autogenerated by pip-compile with Python 3.9
# by the following command:
#
#    pip-compile requirements.in
#
--find-links https://download.pytorch.org/whl/torch_stable.html

torch==1.9.1+cu111
    # via -r requirements.in
typing-extensions==4.11.0
    # via torch
```

Keeping the --find-links and --extra-index-url is really useful to keep the lockfile contained, otherwise we can't install with uv pip install -r requirements.txt as it's missing all these urls.

---

_Renamed from "uv pip compile removes --find-links, --extra-index-url etc from requirements.txt, bug?" to "uv pip compile removes --find-links, --extra-index-url etc from requirements.txt, by design?" by @artemisart on 2024-04-09 16:33_

---

_Comment by @zanieb on 2024-04-09 16:34_

Hi there are [several duplicate issues](https://github.com/astral-sh/uv/issues?q=is%3Aissue+emit-index-url+is%3Aclosed) about this.

You're looking for `--emit-index-url` and `--emit-find-links`.

---

_Closed by @zanieb on 2024-04-09 16:34_

---

_Label `duplicate` added by @zanieb on 2024-04-09 16:35_

---

_Label `question` added by @zanieb on 2024-04-09 16:35_

---

_Comment by @artemisart on 2024-04-09 16:39_

Oh yes sorry I think I only searched for --find-links and missed those, is it possible to configure the --emit* in a config file maybe? thanks @zanieb 

---

_Comment by @zanieb on 2024-04-09 16:41_

No problem it happens a lot :) I blame GitHub's search.

Not a this time. We're designing a persistent configuration file now though. 

---
