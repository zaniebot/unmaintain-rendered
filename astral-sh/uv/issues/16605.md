```yaml
number: 16605
title: "uv got stack while installing tensorrt-llm from NVIDIA's repo"
type: issue
state: open
author: Inokinoki
labels:
  - bug
assignees: []
created_at: 2025-11-05T17:46:56Z
updated_at: 2025-12-16T13:02:36Z
url: https://github.com/astral-sh/uv/issues/16605
synced_at: 2026-01-10T01:57:36Z
```

# uv got stack while installing tensorrt-llm from NVIDIA's repo

---

_Issue opened by @Inokinoki on 2025-11-05 17:46_

### Summary

Installing got stuck on Ubuntu 24.04, Python 3.12.3 at:

```
uv pip install --extra-index-url https://pypi.nvidia.com/ tensorrt-llm
Resolved 151 packages in 7.16s
      Built tensorrt-cu12==10.11.0.33
      Built tensorrt==10.11.0.33
Prepared 24 packages in 1m 32s
███████████████████░ [149/151] onnx==1.19.1
```

When I did ctrl-C to terminate it and retry, it crashed:

```
RUST_BACKTRACE=full uv pip install --extra-index-url https://pypi.nvidia.co
m/ tensorrt-llm
Resolved 151 packages in 2.03s
░░░░░░░░░░░░░░░░░░░░ [0/1] Installing wheels...                                                                                           
thread 'main' panicked at /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library/std/src/thread/mod.rs:1742:40:
called `Option::unwrap()` on a `None` value
stack backtrace:
   0:     0x63fed0b91d21 - <unknown>
   1:     0x63fed0800123 - <unknown>
   2:     0x63fed0b913c2 - <unknown>
   3:     0x63fed0b91b63 - <unknown>
   4:     0x63fed0b91176 - <unknown>
   5:     0x63fed0bd4bf5 - <unknown>
   6:     0x63fed0bd4b89 - <unknown>
   7:     0x63fed0bd771c - <unknown>
   8:     0x63fed046eb3f - <unknown>
   9:     0x63fed046eb8b - <unknown>
  10:     0x63fed046eda8 - <unknown>
  11:     0x63fed18b34dd - <unknown>
  12:     0x63fed1320573 - <unknown>
  13:     0x63fed18b24f1 - <unknown>
  14:     0x710a5062a1ca - __libc_start_call_main
                               at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  15:     0x710a5062a28b - __libc_start_main_impl
                               at ./csu/../csu/libc-start.c:360:3
  16:     0x63fed04e4689 - <unknown>
  17:                0x0 - <unknown>
```

I think that this is not enough as information. But I'd glad to provide any further information, if I can run `uv` in more verbose mode somehow.

### Platform

Ubuntu 24.04 (Linux 6.14.0-33-generic x86_64 GNU/Linux)

### Version

uv 0.7.15

### Python version

Python 3.12.3

---

_Label `bug` added by @Inokinoki on 2025-11-05 17:46_

---

_Comment by @konstin on 2025-12-16 13:02_

Huh that shouldn't happen. Can you try a debug build of uv? 
```
git clone https://github.com/astral-sh/uv
cd uv
cargo build
target/debug/uv pip install --extra-index-url https://pypi.nvidia.com/ tensorrt-llm # or: `cargo run pip install ...`
```

I can't reproduce this, though it's an unrelated error:

```
$ uv venv -p 3.12 -c -q && uv pip install --extra-index-url https://pypi.nvidia.com/ tensorrt-llm
  × Failed to resolve dependencies for `tensorrt-llm` (v0.17.0.post1)
  ╰─▶ Package `flashinfer` was included as a URL dependency. URL dependencies must be expressed as direct requirements or constraints. Consider adding `flashinfer @ git+https://github.com/flashinfer-ai/flashinfer.git@06309c4e` to your dependencies or constraints file.
```

---
