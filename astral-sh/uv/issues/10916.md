```yaml
number: 10916
title: "uv fails to respect `python-requires` of a package"
type: issue
state: closed
author: PhilipVinc
labels:
  - duplicate
assignees: []
created_at: 2025-01-23T22:14:25Z
updated_at: 2025-01-29T16:13:43Z
url: https://github.com/astral-sh/uv/issues/10916
synced_at: 2026-01-10T01:57:25Z
```

# uv fails to respect `python-requires` of a package

---

_Issue opened by @PhilipVinc on 2025-01-23 22:14_

### Summary

I've recently been trying to install the pypi package `quspin-extensions`, which requires python<3.13

However, I did not notice this at first, and was working in a python 3.13 project and uv happily installed the `sdist` even if he should have errored.

Trying to install it with pip in a blank python 3.13 environment yields the following message
```python
.venv ❯ python -m pip install --verbose --force-reinstall --no-cache quspin_extensions
Using pip 24.3.1 from /Users/filippo.vicentini/Dropbox/Ricerca/Scratch/pyscf-numpy/.venv/lib/python3.13/site-packages/pip (python 3.13)
  Link requires a different Python (3.13.1 not in: '<3.13,>=3.9'): https://files.pythonhosted.org/packages/03/b0/9d43a52069ecea0422455bbf205d61af27e0f813ff598e18237b6422fc48/quspin_extensions-0.1.3.tar.gz (from https://pypi.org/simple/quspin-extensions/) (requires-python:<3.13,>=3.9)
  Link requires a different Python (3.13.1 not in: '<3.13,>=3.9'): https://files.pythonhosted.org/packages/fb/4e/92514c2f15023dc745a4194241f2323ee46676ab3fe656a1efc31f7b90c0/quspin_extensions-0.1.4.tar.gz (from https://pypi.org/simple/quspin-extensions/) (requires-python:<3.13,>=3.9)
  Link requires a different Python (3.13.1 not in: '<3.13,>=3.9'): https://files.pythonhosted.org/packages/2b/aa/7452ac4f62e5b1b57e6a55d35923026c92dd19a02fe5a18686a0cbaa3612/quspin_extensions-0.1.6.tar.gz (from https://pypi.org/simple/quspin-extensions/) (requires-python:<3.13,>=3.9)
ERROR: Ignored the following versions that require a different python version: 0.1.3 Requires-Python <3.13,>=3.9; 0.1.4 Requires-Python <3.13,>=3.9; 0.1.6 Requires-Python <3.13,>=3.9
ERROR: Could not find a version that satisfies the requirement quspin_extensions (from versions: none)
ERROR: No matching distribution found for quspin_extensions
```

instead uv does the following
```python
❯ cat pyproject.toml
[project]
name = "pyscf-numpy"
version = "0.1.0"
description = "Add your description here"
requires-python = ">=3.12"
dependencies = [
    "quspin-extensions>=0.1.6",
]
```

sync
```python
❯ uv sync
Using CPython 3.13.1
Creating virtual environment at: .venv
Resolved 5 packages in 1ms
Installed 4 packages in 34ms
 + gmpy2==2.2.1
 + numpy==2.1.3
 + quspin-extensions==0.1.6
 + scipy==1.15.1
```

here there is the verbose installation log https://gist.github.com/PhilipVinc/630f528b72a6e1c56345add6eb91c270

### Platform

Darwin 24.2.0 arm64

### Version

uv 0.5.23 (ba42467f1 2025-01-23)

### Python version

Python 3.13.1

---

_Label `bug` added by @PhilipVinc on 2025-01-23 22:14_

---

_Referenced in [QuSpin/QuSpin#742](../../QuSpin/QuSpin/issues/742.md) on 2025-01-23 22:14_

---

_Comment by @zanieb on 2025-01-23 22:17_

Thanks for all the details in the report! Unfortunately this is by-design and a duplicate. Please see https://github.com/astral-sh/uv/issues/4022 (and the linked issues there).

---

_Label `bug` removed by @zanieb on 2025-01-23 22:18_

---

_Label `duplicate` added by @zanieb on 2025-01-23 22:18_

---

_Closed by @charliermarsh on 2025-01-29 16:13_

---

_Referenced in [astral-sh/uv#4022](../../astral-sh/uv/issues/4022.md) on 2025-09-18 09:11_

---
