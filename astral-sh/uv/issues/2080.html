<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local version identifiers resolved incorrectly - astral-sh/uv #2080</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Local version identifiers resolved incorrectly</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2080">#2080</a>
        opened by <a href="https://github.com/rodgar-nvkz">@rodgar-nvkz</a>
        on 2024-02-29 13:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rodgar-nvkz">@rodgar-nvkz</a> on 2024-02-29 13:42</div>
            <div class="timeline-body"><p>Hello,
I'm having trouble installing specific versions of torch and torchvision with CUDA support using uv. I'm trying to install torch==1.12.1+cu113 and torchvision==0.13.1+cu113 but I'm encountering dependency resolution issues. I couldn't find an existing issue that addresses this concern, so I'm opening a new one.</p>
<p>Here's the command I'm using:
<code>uv pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 --index-url https://download.pytorch.org/whl/cu113</code></p>
<p>And here's the error message I'm getting:</p>
<pre><code>  × No solution found when resolving dependencies:
  ╰─▶ Because torchvision==0.13.1+cu113 depends on torch==1.12.1 and you require torch==1.12.1+cu113, we can conclude that you require==0a0.dev0 and torchvision==0.13.1+cu113 are incompatible.
      And because you require torchvision==0.13.1+cu113, we can conclude that the requirements are unsatisfiable.
</code></pre>
<p>A verbose stack trace can be found <a href="https://gist.github.com/rodgar-nvkz/a2913abeb2831164ebefd61c89bf58ce">here</a>.</p>
<p>It seems like the +cu113 part in torch==1.12.1+cu113 is not treated as a local version identifier by uv, but rather as a version label. According to <a href="https://packaging.python.org/en/latest/specifications/version-specifiers/#local-version-identifiers">Python Packaging User Guide</a>, local version labels are used to denote project-specific versions.
Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @BurntSushi on 2024-02-29 13:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-29 13:55</div>
            <div class="timeline-body"><p>I believe this is a duplicate of #1855. And note the work-around linked from there: https://github.com/astral-sh/uv/issues/1497#issuecomment-1959429864</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-02-29 13:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-16 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-16 14:25</div>
            <div class="timeline-body"><p>This will be supported in the next release via https://github.com/astral-sh/uv/pull/2430.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:43:07 UTC
    </footer>
</body>
</html>
