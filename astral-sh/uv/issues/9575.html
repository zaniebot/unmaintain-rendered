<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Different `uv pip compile --python-platform` behavior between Homebrew-installed and python-installed versions - astral-sh/uv #9575</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Different <code>uv pip compile --python-platform</code> behavior between Homebrew-installed and python-installed versions</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9575">#9575</a>
        opened by <a href="https://github.com/kukushechkin">@kukushechkin</a>
        on 2024-12-02 12:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kukushechkin">@kukushechkin</a> on 2024-12-02 12:44</div>
            <div class="timeline-body"><p>It looks like python-installed <code>uv</code> does not respect the <code>--python-platform</code>.</p>
<p>The package <code>pyqir==0.10.6</code> has <a href="https://pypi.org/project/pyqir/#files">3 wheels</a>:</p>
<ul>
<li>pyqir-0.10.6-cp38-abi3-win_amd64.whl</li>
<li>pyqir-0.10.6-cp38-abi3-manylinux_2_31_x86_64.whl</li>
<li>pyqir-0.10.6-cp38-abi3-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl</li>
</ul>
<p>Now trying to run <code>pip compile</code> for the specific <code>linux</code> on arm64 macOS with differently installed <code>uv</code>:</p>
<pre><code>➜ echo &quot;pyqir==0.10.6&quot; &gt; some_req.in

➜ brew install uv
➜ uv --version
uv 0.5.5 (Homebrew 2024-11-27)
➜ uv pip compile --python-platform=x86_64-manylinux_2_31 some_req.in
Resolved 1 package in 663ms
# This file was autogenerated by uv via the following command:
#    uv pip compile some_req.in
pyqir==0.10.6
    # via -r some_req.in

➜ uv pip install uv==0.5.5
➜ python -m uv --version
uv 0.5.5 (95cd8b8b3 2024-11-27)
➜ python -m uv pip compile --python-platform=x86_64-manylinux_2_31 some_req.in
  × No solution found when resolving dependencies:
  ╰─▶ Because pyqir==0.10.6 has no wheels with a matching platform tag and you require pyqir==0.10.6, we can conclude that your requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-02 13:35</div>
            <div class="timeline-body"><p>I believe this is a duplicate of #9521 and is fixed on main.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-02 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-12-02 13:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:50 UTC
    </footer>
</body>
</html>
