<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`run_groups_requires_python` flakes with `Removed virtual environment at ...` - astral-sh/uv #14160</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`run_groups_requires_python` flakes with `Removed virtual environment at ...`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/14160">#14160</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-06-20 15:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-20 15:36</div>
            <div class="timeline-body"><pre><code>    running 1 test
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    Snapshot: run_groups_requires_python-4
    Source: crates/uv/tests/it/run.rs:4690
    ────────────────────────────────────────────────────────────────────────────────
    Expression: snapshot
    ────────────────────────────────────────────────────────────────────────────────
    -old snapshot
    +new results
    ────────────┬───────────────────────────────────────────────────────────────────
        1     1 │ exit_code: 0
        2     2 │ ----- stdout -----
        3     3 │ 
        4     4 │ ----- stderr -----
              5 │+Using CPython 3.12.[X] interpreter at: [PYTHON-3.12]
              6 │+Removed virtual environment at: .venv
              7 │+Creating virtual environment at: .venv
        5     8 │ Resolved 6 packages in [TIME]
        6       │-Audited 2 packages in [TIME]
              9 │+Installed 2 packages in [TIME]
             10 │+ + sniffio==1.3.1
             11 │+ + typing-extensions==4.10.0
    ────────────┴───────────────────────────────────────────────────────────────────
    Stopped on the first failure. Run `cargo insta test` to run all snapshots.
    test run::run_groups_requires_python ... FAILED
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ci-flake</span> added by @zanieb on 2025-06-20 15:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-20 15:36</div>
            <div class="timeline-body"><p>Presumably related to</p>
<ul>
<li>#13745</li>
<li>#13744</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-20 15:53</div>
            <div class="timeline-body"><p>Just hit this in https://github.com/astral-sh/uv/actions/runs/15782642131/job/44491853582?pr=14161</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-20 16:43</div>
            <div class="timeline-body"><p>Hm @oconnor663 hit this too in https://github.com/astral-sh/uv/pull/14153#issuecomment-2992025139</p>
<p>Maybe this is a new problem?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-20 18:12</div>
            <div class="timeline-body"><p>It's a brand-new test from #13735 (merged last week) so it's certainly possible it's acutely problematic. slams the heck out of <code>uv run python</code> too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14153.html">astral-sh/uv#14153</a> on 2025-06-20 18:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on 2025-06-21 09:32</div>
            <div class="timeline-body"><p>The first time it shows up is a couple commits after #13735 on #14047 so it may have been an existing issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14275.html">astral-sh/uv#14275</a> on 2025-06-26 14:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14331.html">astral-sh/uv#14331</a> on 2025-06-27 20:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-06-30 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/16165.html">astral-sh/uv#16165</a> on 2025-10-07 22:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:28 UTC
    </footer>
</body>
</html>
