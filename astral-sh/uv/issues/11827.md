```yaml
number: 11827
title: Using workspace for a library with included example dir
type: issue
state: open
author: pohlt
labels:
  - question
assignees: []
created_at: 2025-02-27T10:37:03Z
updated_at: 2025-02-27T13:10:33Z
url: https://github.com/astral-sh/uv/issues/11827
synced_at: 2026-01-10T01:57:27Z
```

# Using workspace for a library with included example dir

---

_Issue opened by @pohlt on 2025-02-27 10:37_

### Question

I'm trying to use the concept of workspaces for my project. The project itself is a library (let's call in `mylib`) with the following folder layout:
* mylib folder
  * pyproject.toml (including `[tool.uv.workspace] members=["examples"]`)
  * mylib folder (with the library sources)
    * main.py
  * examples folder
     * example.py (using mylib and other libs)
     * pyproject.toml (including mylib as a dependency among others and `[tool.uv.sources] mylib={workspace=true}`

When I go to the examples folder and do a `uv sync` it de-installs all dependencies mentioned in the examples folder and vice versa.

I would like to keep the example requirements out of the mylib requirements, but if someone wants to run the examples she could install them with a `uv sync`.

Does that (layout, use of workspaces, ...) make sense?

### Platform

Linux 6.12.15-200.fc41.x86_64 x86_64 GNU/Linux

### Version

uv 0.6.3

---

_Label `question` added by @pohlt on 2025-02-27 10:37_

---

_Comment by @konstin on 2025-02-27 13:07_

Do you want a shared resolution and lockfile for mylib and examples, or do you want separate resolutions and lockfiles for them? Shared means their version constraints influence each other, separate means they can diverge in versions and their versions would be managed separately.

---

_Comment by @pohlt on 2025-02-27 13:10_

Since the examples should match the current version of the lib, I'd prefer a shared resolution.
I'm wondering if some extra dependencies in the mylib `pyproject.toml` (only required for the examples) wouldn't match my use case...

---
