<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group `requires-python` silently drops groups with `uv pip compile --group` - astral-sh/uv #15889</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Group <code>requires-python</code> silently drops groups with <code>uv pip compile --group</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15889">#15889</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-09-16 09:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p><strong>pyproject.toml</strong></p>
<pre><code class="language-toml">[tool.uv.dependency-groups.ml1]
requires-python = &quot;&gt;=3.14&quot;

[tool.uv.dependency-groups.ml2]
requires-python = &quot;&gt;=3.12&quot;

[dependency-groups]
ml1 = [&quot;tqdm&quot;]
ml2 = [&quot;tqdm&quot;]
</code></pre>
<p>Running <code>uv-debug pip compile --group pyproject.toml:ml1</code> in this scenario emits an empty group when Python 3.13 is active. This is technically correct: Under Python 3.13, this group should be skipped. It's confusing to users though since we're ignoring the group they just explicitly selected, the user most likely didn't intend to create an empty lockfile.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @konstin on 2025-09-16 09:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`tool.uv.dependency-groups.{group}.requires-python` silently drops groups with `uv pip compile --group`" to "Grouo `requires-python` silently drops groups with `uv pip compile --group`" by @konstin on 2025-09-16 09:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Grouo `requires-python` silently drops groups with `uv pip compile --group`" to "Group `requires-python` silently drops groups with `uv pip compile --group`" by @konstin on 2025-09-16 09:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-16 13:17</div>
            <div class="timeline-body"><p>Hm yeah I think we should error in the same way we do for projects.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:55 UTC
    </footer>
</body>
</html>
