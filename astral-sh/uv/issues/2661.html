<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip install` should create a virtualenv if no `venv` is found - astral-sh/uv #2661</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv pip install</code> should create a virtualenv if no <code>venv</code> is found</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/2661">#2661</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-03-25 23:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>This seems like a better (and more beginner-friendly) default behavior than erroring.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-25 23:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-26 02:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2024-03-26 15:37</div>
            <div class="timeline-body"><p>As a non beginner I would strongly prefer it to error out, as a non beginner I would be happy to set something in the config or an environment variable.</p>
<p>Also please don&#x27;t do this inside an activated conda environment.</p>
<p>Also consider the behavior for &quot;--dry-run&quot;, it should not create a new venv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adzenith">@adzenith</a> on 2024-03-27 02:26</div>
            <div class="timeline-body"><p>Alternatively, it could print out a helpful message. I think of when you try to <code>git commit</code> for the first time. Here I unset user.name to trigger it:
<img alt="image" src="https://github.com/astral-sh/uv/assets/614934/663ca1d6-f52a-4e14-9748-3b7a934028fa">
Then beginners can create a venv without having to hit Google and pros can realize they have their venv set up wrong and act accordingly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gwdekker">@gwdekker</a> on 2024-03-27 19:44</div>
            <div class="timeline-body"><p>I think this might run into issues for cases where the user is not in the directory where they should be, for example they are by accident one directory above where they think they are. Erroring with a helpful error message is much preferable I feel in that case than assuming the intention. I think the original design decision of either trying to find a virtual env, or explicitly asking for one to get created, is preferable to silently creating one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/liquidcarbon">@liquidcarbon</a> on 2024-04-03 14:57</div>
            <div class="timeline-body"><p>Ran into this exact situation when I first tried <code>uv</code>!  Error is not right, but non-transparent default doesn&#x27;t seem right either.</p>
<p>It could be helpful to</p>
<ol>
<li><strong>have a flag for WHERE to install</strong>.  Like:</li>
</ol>
<pre><code>--venv=.venv
or
--where=elsewhere/.venv
</code></pre>
<p>For the very first uv pip install, in the absence existing <code>.venv</code> or this flag, why not go interactive?</p>
<ol>
<li><strong>on successful install or dry run, have <code>uv</code> print not just WHAT was installed but also WHERE it was installed</strong> and might as well point out WHICH installer did the work in case there&#x27;s more than one.  I feel like if <code>pip</code> did that, millions of hours of productivity would have been saved.</li>
</ol>
<p>Quite often I found myself lost in venv&#x27;s and <code>--python</code> flags and where did the installed files go - it&#x27;s partially why I did #2807</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrojuanlu">@astrojuanlu</a> on 2024-04-03 15:28</div>
            <div class="timeline-body"><p>Strong +1 to this. We&#x27;ve become numb to how difficult venvs are to explain to beginners. If the default is to create one, they become a bit more invisible and that lowers the barrier of entry, in a way fulfilling the dream of PEP 582</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-22 13:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:30:37 UTC
    </footer>
</body>
</html>
