<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using workspace for a library with included example dir - astral-sh/uv #11827</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Using workspace for a library with included example dir</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11827">#11827</a>
        opened by <a href="https://github.com/pohlt">@pohlt</a>
        on 2025-02-27 10:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pohlt">@pohlt</a> on 2025-02-27 10:37</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I'm trying to use the concept of workspaces for my project. The project itself is a library (let's call in <code>mylib</code>) with the following folder layout:</p>
<ul>
<li>mylib folder<ul>
<li>pyproject.toml (including <code>[tool.uv.workspace] members=[&quot;examples&quot;]</code>)</li>
<li>mylib folder (with the library sources)<ul>
<li>main.py</li>
</ul>
</li>
<li>examples folder<ul>
<li>example.py (using mylib and other libs)</li>
<li>pyproject.toml (including mylib as a dependency among others and <code>[tool.uv.sources] mylib={workspace=true}</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>When I go to the examples folder and do a <code>uv sync</code> it de-installs all dependencies mentioned in the examples folder and vice versa.</p>
<p>I would like to keep the example requirements out of the mylib requirements, but if someone wants to run the examples she could install them with a <code>uv sync</code>.</p>
<p>Does that (layout, use of workspaces, ...) make sense?</p>
<h3>Platform</h3>
<p>Linux 6.12.15-200.fc41.x86_64 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.6.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @pohlt on 2025-02-27 10:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-02-27 13:07</div>
            <div class="timeline-body"><p>Do you want a shared resolution and lockfile for mylib and examples, or do you want separate resolutions and lockfiles for them? Shared means their version constraints influence each other, separate means they can diverge in versions and their versions would be managed separately.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pohlt">@pohlt</a> on 2025-02-27 13:10</div>
            <div class="timeline-body"><p>Since the examples should match the current version of the lib, I'd prefer a shared resolution.
I'm wondering if some extra dependencies in the mylib <code>pyproject.toml</code> (only required for the examples) wouldn't match my use case...</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:26 UTC
    </footer>
</body>
</html>
