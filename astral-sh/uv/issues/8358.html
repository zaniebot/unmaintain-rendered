<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fail to install pytorch (cpu) on MacOS intel chip - astral-sh/uv #8358</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fail to install pytorch (cpu) on MacOS intel chip</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8358">#8358</a>
        opened by <a href="https://github.com/fzyzcjy">@fzyzcjy</a>
        on 2024-10-19 12:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/fzyzcjy">@fzyzcjy</a> on 2024-10-19 12:23</div>
            <div class="timeline-body"><p>Hi thanks for the tool! However I cannot do it and here are my attempts:</p>
<h3>version</h3>
<pre><code>uv --version
uv 0.4.24 (b9cd54913 2024-10-17)
</code></pre>
<h3>setup</h3>
<pre><code>(base) ➜  temp uv init hello_uv
Initialized project `hello-uv` at `/Users/tom/temp/hello_uv`
(base) ➜  temp cd hello_uv 
(base) ➜  hello_uv git:(main) ✗ ls
README.md      hello.py       pyproject.toml
</code></pre>
<h3>attempt 1</h3>
<pre><code>(base) ➜  hello_uv git:(main) ✗ uv add torch
Using CPython 3.9.12 interpreter at: /Users/tom/opt/anaconda3/bin/python
Creating virtual environment at: .venv
Resolved 24 packages in 44.33s
error: Distribution `torch==2.5.0 @ registry+https://pypi.org/simple` can't be installed because it doesn't have a source distribution or wheel for the current platform
</code></pre>
<h3>attempt 2</h3>
<pre><code>(base) ➜  hello_uv git:(main) ✗ uv add torch --extra-index-url=https://download.pytorch.org/whl/cpu 
warning: Indexes specified via `--extra-index-url` will not be persisted to the `pyproject.toml` file; use `--index` instead.
Resolved 23 packages in 11.67s
error: Distribution `torch==2.5.0 @ registry+https://download.pytorch.org/whl/cpu` can't be installed because it doesn't have a source distribution or wheel for the current platform
</code></pre>
<h3>attempt 3</h3>
<pre><code>(base) ➜  hello_uv git:(main) ✗ uv add torch --index-url=https://download.pytorch.org/whl/cpu      
warning: Indexes specified via `--index-url` will not be persisted to the `pyproject.toml` file; use `--default-index` instead.
Resolved 11 packages in 9.48s
error: Distribution `torch==2.5.0+cpu @ registry+https://download.pytorch.org/whl/cpu` can't be installed because it doesn't have a source distribution or wheel for the current platform
</code></pre>
<h3>attempt 4</h3>
<pre><code>[project]
name = &quot;project&quot;
version = &quot;0.1.0&quot;
dependencies = [
  &quot;torch==2.1.2 ; platform_system != 'Windows'&quot;,
]
</code></pre>
<pre><code>(base) ➜  hello_uv git:(main) ✗ uv sync            
warning: No `requires-python` value found in the workspace. Defaulting to `&gt;=3.11`.
  × No solution found when resolving dependencies for split (platform_system == 'Windows'):
  ╰─▶ Because there is no version of torch{platform_system == 'Windows'}==2.1.2+cu121 and your project depends on
      torch{platform_system == 'Windows'}==2.1.2+cu121, we can conclude that your project's requirements are unsatisfiable.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5945.html">astral-sh/uv#5945</a> on 2024-10-19 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6523.html">astral-sh/uv#6523</a> on 2024-10-19 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-10-20 10:13</div>
            <div class="timeline-body"><p>Try: <code>uv add torch&lt;2.3.0</code>
Starting from PyTorch 2.3.0, the minimum requirement for macOS is <code>macOS 11.0+ ARM64</code>.
Therefore, you are restricted to installing PyTorch versions prior to 2.3.0.
https://pypi.org/project/torch/2.3.0/#files</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fzyzcjy">@fzyzcjy</a> on 2024-10-20 13:29</div>
            <div class="timeline-body"><p>Oh I see, thank you so much!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @fzyzcjy on 2024-10-20 13:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-10-20 15:07</div>
            <div class="timeline-body"><p>@charliermarsh Is it normal to install for a PyTorch 2.5.0 wheel that wasn't built for Intel (x86-64) macOS?</p>
<p>The documentation states that macOS (x86_64) is supported, so UV should run correctly on that device. Otherwise, the documentation should be downgraded it.
https://github.com/astral-sh/uv/blob/7d883fc12f23ff271797e3769ae942c26a91b359/docs/reference/platforms.md?plain=1#L1-L8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9515.html">astral-sh/uv#9515</a> on 2024-11-29 00:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../tisu19021997/snipai/issues/4.html">tisu19021997/snipai#4</a> on 2025-01-12 05:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../spinalcordtoolbox/spinalcordtoolbox/issues/4781.html">spinalcordtoolbox/spinalcordtoolbox#4781</a> on 2025-02-05 17:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../CodeUpdaterBot/ClickUi/issues/3.html">CodeUpdaterBot/ClickUi#3</a> on 2025-03-24 19:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../vllm-project/vllm/issues/17212.html">vllm-project/vllm#17212</a> on 2025-04-29 02:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:00 UTC
    </footer>
</body>
</html>
