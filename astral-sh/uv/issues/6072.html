<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error: Failed to install cpython-3.12.4-macos-aarch64-none: Request failed after 3 retries - astral-sh/uv #6072</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>error: Failed to install cpython-3.12.4-macos-aarch64-none: Request failed after 3 retries</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/6072">#6072</a>
        opened by <a href="https://github.com/pdpark">@pdpark</a>
        on 2024-08-13 23:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pdpark">@pdpark</a> on 2024-08-13 23:18</div>
            <div class="timeline-body"><p>Comand: <code>uv python install</code>
Output: <code>error: Failed to install cpython-3.12.4-macos-aarch64-none: Request failed after 3 retries</code></p>
<p>Re-ran command with verbose flag and got this output (three times):</p>
<pre><code class="language-sh">DEBUG Transient request failure for https://github.com/indygreg/python-build-standalone/releases/download/20240726/cpython-3.12.4%2B20240726-aarch64-apple-darwin-install_only_stripped.tar.gz, retrying: error sending request for url (https://github.com/indygreg/python-build-standalone/releases/download/20240726/cpython-3.12.4%2B20240726-aarch64-apple-darwin-install_only_stripped.tar.gz)
  Caused by: client error (Connect)
  Caused by: invalid peer certificate: UnknownIssuer
</code></pre>
<p>UV version: <code>uv 0.2.36 (Homebrew 2024-08-13)</code>
Platform: MacOS Sonoma 14.5 on M1 Pro Apple Silicon</p>
<p>Notes: Python version specified in <code>pyproject.toml</code>:</p>
<pre><code class="language-toml">[project]
requires-python = &quot;&gt;=3.12&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-13 23:30</div>
            <div class="timeline-body"><p>Hi! Do you have a proxy running? Are you using <code>UV_NATIVE_TLS</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-08-13 23:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pdpark">@pdpark</a> on 2024-08-13 23:54</div>
            <div class="timeline-body"><p>Not using UV_NATIVE_TLS.</p>
<p>Looks like it may be a proxy issue. Will have to fall back to pyenv for now.</p>
<p>Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-14 00:09</div>
            <div class="timeline-body"><p>I can only presume you are able to access GitHub normally? You can set <code>UV_NATIVE_TLS=true</code> or use the <code>--native-tls</code> flag if you need to use your system certificates with uv. We do not use the system certificate store by default, but I presume you're using a proxy with a certificate that is registered with your system.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pdpark">@pdpark</a> on 2024-08-14 00:09</div>
            <div class="timeline-body"><p>Just a suggestion since this may be an issue for others: instead of downloading pre-compiled versions of python you could build python locally like <code>pyenv</code> does. This zig project could make that a lot easier, I think (and, likely, faster): <code>https://github.com/allyourcodebase/cpython</code>. It would likely require significant contributions to mature that project to the point where it could act as a full replacement for <code>pyenv</code>, but it would be a great alternative.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-14 00:11</div>
            <div class="timeline-body"><p>It's going to be <em>way</em> slower to locally build optimized versions of Python â€” thats why we offer pre-built distributions. They're hosted on GitHub and you can use <code>UV_PYTHON_INSTALL_MIRROR</code> if you need to install them from a different host .</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pdpark">@pdpark</a> on 2024-08-14 00:21</div>
            <div class="timeline-body"><p>Yep, of course! I meant faster than pyenv ğŸ˜„.</p>
<p>Here's a great discussion about how pre-building Python wheels for PyPI (not exactly the same issue, but related...) is getting out of hand with the number of build targets exploding, and how the zig build system could be a better option: https://www.youtube.com/watch?v=i9nFvSpcCzo</p>
<p>Thanks for your help!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-14 00:24</div>
            <div class="timeline-body"><p>No problem. Feel free to let us know if you have any more problems.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-08-14 00:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pdpark">@pdpark</a> on 2024-08-14 00:31</div>
            <div class="timeline-body"><blockquote>
<p>Hi! Do you have a proxy running? Are you using <code>UV_NATIVE_TLS</code>?</p>
</blockquote>
<p>BTW I tried again this time using the <code>--native-tls</code> flag and it worked!</p>
<p>Interesting that it installed Python <code>3.12.4</code>, though. Python <code>3.12.5</code> is the latest version of <code>3.12</code>. It's only been out for about a week, so maybe it hasn't been compiled yet?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-14 00:44</div>
            <div class="timeline-body"><p>Oh, thank I can add it. I'm annoyed, I thought I subscribed to release notifications!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-14 01:32</div>
            <div class="timeline-body"><p>Adding here: https://github.com/indygreg/python-build-standalone/pull/299</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pdpark">@pdpark</a> on 2024-08-14 15:00</div>
            <div class="timeline-body"><p>FYI: this issue (<code>uv python</code> not having 12.5 available) came up on the most recent episode of Python Bytes (they're big fans of UV): https://www.youtube.com/watch?v=0Sa0z2XXwwk</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Symbolk">@Symbolk</a> on 2025-03-24 02:40</div>
            <div class="timeline-body"><p>How did I resolve the issue by checking the uv-h: <code>uv venv openr1 --python 3.11 --native-tls --allow-insecure-host https://github.com</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sjwyg">@sjwyg</a> on 2025-04-07 14:55</div>
            <div class="timeline-body"><p>I use pip install uv, and then execute &quot;uv add requests&quot; to add dependency, but it didn't work. like this:</p>
<p>uv add requests</p>
<p>Using CPython 3.12.4 interpreter at: C:\Users\g00026547.conda\envs\py312\python.exe
Creating virtual environment at: .venv
â ‹ uv-rumen==0.1.0<br />
error: Failed to fetch: <code>https://pypi.tuna.tsinghua.edu.cn/simple/requests/</code>
Caused by: Request failed after 3 retries
Caused by: error sending request for url (https://pypi.tuna.tsinghua.edu.cn/simple/requests/)
Caused by: client error (Connect)
Caused by: tcp connect error: ç”±äºè¿æ¥æ–¹åœ¨ä¸€æ®µæ—¶é—´åæ²¡æœ‰æ­£ç¡®ç­”å¤æˆ–è¿æ¥çš„ä¸»æœºæ²¡æœ‰ååº”ï¼Œè¿æ¥å°è¯•å¤±è´¥ã€‚ (os error 10060)
Caused by: ç”±äºè¿æ¥æ–¹åœ¨ä¸€æ®µæ—¶é—´åæ²¡æœ‰æ­£ç¡®ç­”å¤æˆ–è¿æ¥çš„ä¸»æœºæ²¡æœ‰ååº”ï¼Œè¿æ¥å°è¯•å¤±è´¥ã€‚ (os error 10060)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sjwyg">@sjwyg</a> on 2025-04-07 14:58</div>
            <div class="timeline-body"><p>and use chrome visit &quot;https://pypi.tuna.tsinghua.edu.cn/simple/requests/&quot; is successful, and use pip is also successful.
only uv can't</p>
<p>i think it's a problem about proxy, but i don't know how to resolve it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Alphayellowcat">@Alphayellowcat</a> on 2025-08-28 10:23</div>
            <div class="timeline-body"><blockquote>
<p>and use chrome visit &quot;https://pypi.tuna.tsinghua.edu.cn/simple/requests/&quot; is successful, and use pip is also successful. only uv can't</p>
<p>I think it's a problem about proxy, but I don't know how to resolve it</p>
</blockquote>
<p>It should be a difference between the snapshot version and the official version, causing there to be no URL to fetch from.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:59 UTC
    </footer>
</body>
</html>
