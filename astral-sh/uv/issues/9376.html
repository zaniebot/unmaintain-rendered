<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>loop over python versions in github actions - astral-sh/uv #9376</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>loop over python versions in github actions</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9376">#9376</a>
        opened by <a href="https://github.com/zkurtz">@zkurtz</a>
        on 2024-11-23 01:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zkurtz">@zkurtz</a> on 2024-11-23 01:30</div>
            <div class="timeline-body"><p><a href="https://github.com/zkurtz/dummio/blob/619e049bb005f0e30c0e17fe3822eb7de02dc625/.github/workflows/ci.yml#L13-L23">Here</a> is what I did and it seems to work. But is that really the recommended way? It feels a bit hacky to overwrite <code>.python-version</code>. FWIW I'd appreciate any other feedback on that workflow config. I'm trying to set up uv with a few repos and would like to get my setup right.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-11-23 01:59</div>
            <div class="timeline-body"><p>ðŸ‘‹ I believe you can use <a href="https://docs.astral.sh/uv/configuration/environment/#uv_python">UV_PYTHON</a> instead</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @samypr100 on 2024-11-23 01:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zkurtz">@zkurtz</a> on 2024-11-23 13:23</div>
            <div class="timeline-body"><p>Seems to be working:</p>
<pre><code>    - name: Set the python version for UV
      run: echo &quot;UV_PYTHON=${{ matrix.python-version }}&quot; &gt;&gt; $GITHUB_ENV
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zkurtz on 2024-11-23 13:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-26 00:08</div>
            <div class="timeline-body"><p>I'd be happy to review a pull request adding documentation if needed. There's a bit at http://docs.astral.sh/uv/guides/integration/github/#setting-up-python but this sounds different.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zkurtz">@zkurtz</a> on 2024-11-26 11:20</div>
            <div class="timeline-body"><p>Although https://github.com/astral-sh/uv/issues/9376#issuecomment-2495478626 seems to be working, I'm still not clear if that's considered a recommendable/canonical approach. From the docs you linked ^^, there is also this option</p>
<pre><code>      - name: Set up Python ${{ matrix.python-version }}
        run: uv python install ${{ matrix.python-version }}
</code></pre>
<p>but it's not obvious to me whether the python version here specifically overrides the python version that would be used by subsequent <code>uv run</code> commands, which should obey the <code>.python-version</code> file regardless of which other versions of python happen to be available on the system</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-26 15:41</div>
            <div class="timeline-body"><p>Yeah <code>uv run</code> would respect the <code>.python-version</code> file and ignore the installed version</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zkurtz">@zkurtz</a> on 2024-11-26 21:53</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv/pull/9454</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9454.html">astral-sh/uv#9454</a> on 2024-11-26 23:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:24 UTC
    </footer>
</body>
</html>
