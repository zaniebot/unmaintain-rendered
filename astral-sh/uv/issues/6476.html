<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow adding a dependency with no version constraint - astral-sh/uv #6476</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow adding a dependency with no version constraint</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/6476">#6476</a>
        opened by <a href="https://github.com/skykasko">@skykasko</a>
        on 2024-08-22 23:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/skykasko">@skykasko</a></div>
            <div class="timeline-body"><p><code>uv add</code> adds a lower bound version constraint by default. For example, calling <code>uv add requests</code> currently adds the dependency <code>&quot;requests&gt;=2.32.3&quot;</code> to <code>pyproject.toml</code>.</p>
<p>It's possible to have uv use different upper and/or lower bounds, but I could not find a way to add a dependency without any version constraint at all. For example, I want the dependency <code>&quot;requests&quot;</code> added to <code>pyproject.toml</code> without any bounds.</p>
<p>The current default behavior is fine, but I think there should be some way to add an unconstrained dependency, either with a global configuration setting that changes the default behavior, or with a command-line option for <code>uv add</code>.</p>
<p>Apologies if I missed something in the documentation and this is already possible. (Of course I could edit <code>pyproject.toml</code> manually, but it doesn't seem like that should be necessary.)</p>
<p>Thanks for the great work on a fantastic project!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-22 23:58</div>
            <div class="timeline-body"><p>You can use <code>--raw-sources</code> to avoid adding a lower bound.</p>
<p>Thanks for the praise.</p>
<p>cc myself #5605 â€” we should cover this in the project concept documentation if we don't yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-08-22 23:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2024-08-22 23:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-23 00:00</div>
            <div class="timeline-body"><p>This is also not covered in the <code>--raw-sources</code> reference documentation.</p>
<p>@charliermarsh should we consider an easier name for this too? <code>--raw-sources</code> doesn't feel intuitive. Should it just be <code>--raw</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-23 00:00</div>
            <div class="timeline-body"><p>That seems ok to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @zanieb on 2024-08-23 00:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-08-23 00:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-08-23 00:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Simon-Stone">@Simon-Stone</a> on 2025-05-14 14:02</div>
            <div class="timeline-body"><p>Just stumbled over this issue looking for this specific functionality and not finding it in the help. Isn't <code>--raw</code> and <code>--raw-sources</code> a little confusing? Wouldn't something more specific like <code>--no-version</code> be more intuitive?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-15 08:18</div>
            <div class="timeline-body"><p><code>--raw</code> summarizes a number of features, including not inferring a version and not using <code>tool.uv.sources</code>. We avoid adding even more features to <code>uv add</code> by only using a single flag instead of flags for turning each automatism off manually.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skykasko">@skykasko</a> on 2025-05-15 12:03</div>
            <div class="timeline-body"><p>@konstin: There doesn't appear to be a <code>--raw</code> option as far as I can tell. Did you mean <code>--raw-sources</code>?</p>
<pre><code class="language-shellsession">&gt; uv add --raw pandas
error: unexpected argument '--raw' found

  tip: a similar argument exists: '--raw-sources'

Usage: uv add --raw-sources &lt;PACKAGES|--requirements &lt;REQUIREMENTS&gt;&gt;

For more information, try '--help'.
&gt; uv --version
uv 0.7.3
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-15 12:04</div>
            <div class="timeline-body"><p>We're renaming <code>--raw-sources</code> to <code>--raw</code>, it will be part of the next release: https://github.com/astral-sh/uv/pull/13348. <code>--raw-sources</code> will remain as an alias for <code>--raw</code> for backwards compatiblity. <code>--raw</code> is easier to understand in this context, so I went with the new option.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skykasko">@skykasko</a> on 2025-05-15 21:04</div>
            <div class="timeline-body"><p>That's a good improvement! Could an example of using <code>uv add --raw httpx</code> be added to https://docs.astral.sh/uv/concepts/projects/dependencies/#adding-dependencies? I believe that page is where I originally saw the example of how to add a version constraint, and got confused because I couldn't figure out how to omit the constraint.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:24 UTC
    </footer>
</body>
</html>
