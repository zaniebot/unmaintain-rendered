```yaml
number: 10118
title: uv pip install --prefix should search package in prefix path
type: issue
state: closed
author: Freed-Wu
labels:
  - question
assignees: []
created_at: 2024-12-23T04:20:42Z
updated_at: 2024-12-23T12:36:34Z
url: https://github.com/astral-sh/uv/issues/10118
synced_at: 2026-01-10T01:57:23Z
```

# uv pip install --prefix should search package in prefix path

---

_Issue opened by @Freed-Wu on 2024-12-23 04:20_

```
❯ uv pip install --break-system-packages --prefix ~/.local hyuga
Using Python 3.12.7 environment at /nix/store/rmcswikkmjlp0rp5302dx8ydbqpgd14y-python3-3.12.7-env
Resolved 10 packages in 2.92s
error: Failed to prepare distributions
  Caused by: Failed to download and build `hyrule==0.7.0`
  Caused by: Build backend failed to determine requirements with `build_wheel()` (exit status: 1)

[stderr]
Traceback (most recent call last):
  File "<string>", line 8, in <module>
ModuleNotFoundError: No module named 'setuptools'
❯ uv pip install --break-system-packages --prefix ~/.local setuptools
Using Python 3.12.7 environment at /nix/store/rmcswikkmjlp0rp5302dx8ydbqpgd14y-python3-3.12.7-env
Resolved 1 package in 2ms
Installed 1 package in 8ms
 + setuptools==75.6.0
❯ uv pip install --break-system-packages --prefix ~/.local hyuga
Using Python 3.12.7 environment at /nix/store/rmcswikkmjlp0rp5302dx8ydbqpgd14y-python3-3.12.7-env
Resolved 10 packages in 3ms
error: Failed to prepare distributions
  Caused by: Failed to download and build `hy==1.0.0`
  Caused by: Build backend failed to determine requirements with `build_wheel()` (exit status: 1)

[stderr]
Traceback (most recent call last):
  File "<string>", line 8, in <module>
ModuleNotFoundError: No module named 'setuptools'
```

`pip install` will not have this bug.

---

_Comment by @zanieb on 2024-12-23 05:19_

This looks like expected behavior from build isolation https://docs.astral.sh/uv/pip/compatibility/#pep-517-build-isolation

---

_Label `question` added by @zanieb on 2024-12-23 05:19_

---

_Comment by @Freed-Wu on 2024-12-23 07:15_

Oh, I note `--no-build-isolation`

https://docs.astral.sh/uv/reference/build_failures/#module-is-missing-or-cannot-be-imported

---

_Closed by @Freed-Wu on 2024-12-23 07:15_

---
