<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How a simple index can be implemented so that uv can query git packages? - astral-sh/uv #12868</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How a simple index can be implemented so that uv can query git packages?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/12868">#12868</a>
        opened by <a href="https://github.com/pmabres">@pmabres</a>
        on 2025-04-14 03:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pmabres">@pmabres</a> on 2025-04-14 03:31</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I have a simple index that maps out to git packages and works just fine on pip.</p>
<p>However is using a deprecated egg format when trying to define the project version.</p>
<p>An example of how a <a> link would be seen in my index:</p>
<pre><code>&lt;a href=&quot;git+ssh://git@github.com/my_org/my_awesome_package.git@v0.1.0#egg=my_awesome_package-0.1.0&quot;&gt;0.1.0&lt;/a&gt;
</code></pre>
<p>It is important to note, that without specifying the egg format in the url, the package won't be recognized by either uv or pip, so at this point this is the only reliable way of exposing git url packages in a custom index.</p>
<p>Is there any current approach to solve this issue?
Neither #egg format or just bare git url works when trying to import a package with uv using a custom index by specifying the <code>--extra-index-url</code> parameter.</p>
<p>I have seen that egg meta decoding has been dropped in 0.5.30 so I did try with 0.5.29 but cannot install packages with the #egg fragment either:
https://github.com/astral-sh/uv/pull/11340/files</p>
<h3>Platform</h3>
<p>Darwin 24.3.0 x86_64</p>
<h3>Version</h3>
<p>uv 0.5.29 (ca73c4754 2025-02-05)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @pmabres on 2025-04-14 03:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-14 07:51</div>
            <div class="timeline-body"><p>uv limits URL dependencies to be either direct dependencies or come from other URL dependencies, so it does not support git URLs in other index pages, such as the href in your example.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pmabres">@pmabres</a> on 2025-04-14 09:17</div>
            <div class="timeline-body"><blockquote>
<p>uv limits URL dependencies to be either direct dependencies or come from other URL dependencies, so it does not support git URLs in other index pages, such as the href in your example.</p>
</blockquote>
<p>Ah , what a shame.
So it wouldn't be possible to have a company wide index that points towards git urls and use uv to install these packages?
Do you happen to have any ideas of how other people might solve this with a set of private packages instead of using git urls for installing them as dependencies?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-14 09:36</div>
            <div class="timeline-body"><p>Usually, companies have an internal package registry, to which they build and publish their internal packages to. There is often either a dedicated registry, or there is a registry feature in a product that is already used (with github being the exception for not having a Python registry) This has the advantage that installation and deployment can use hash-checked wheels and does not have to build these packages. There are other approaches such as vendoring built wheels or use using the flat layout with a simple file storage when a registry is not required.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pmabres">@pmabres</a> on 2025-04-14 10:58</div>
            <div class="timeline-body"><blockquote>
<p>Usually, companies have an internal package registry, to which they build and publish their internal packages to. There is often either a dedicated registry, or there is a registry feature in a product that is already used (with github being the exception for not having a Python registry) This has the advantage that installation and deployment can use hash-checked wheels and does not have to build these packages. There are other approaches such as vendoring built wheels or use using the flat layout with a simple file storage when a registry is not required.</p>
</blockquote>
<p>Yeah we were trying to achieve this but wanted something quick as we are using GitHub. I've known about other products that do offer private registries such as gitlab but the benefit of going with a public registry with private repositories is that our authentication method relies on ssh and there aren't many changes to our devs tooling when it comes to installing packages.
Thanks for your time</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-04-14 12:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:04 UTC
    </footer>
</body>
</html>
