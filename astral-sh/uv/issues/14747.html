<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIRTUAL_ENV=.venv` does not match the project environment path.  Forced to use --active - astral-sh/uv #14747</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>VIRTUAL_ENV=.venv` does not match the project environment path.  Forced to use --active</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14747">#14747</a>
        opened by <a href="https://github.com/Allena101">@Allena101</a>
        on 2025-07-19 14:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Allena101">@Allena101</a></div>
            <div class="timeline-body">Question
<p>I keep getting this messege now and i cannot figure out why. There is a chance it has to do with the mentioned vscode workspace , but I cant figure out how to close that either.</p>
<p>I tried creating several new projects in new folders and also giving the environment a different name (e.g. myVENV) and i get the exact same message each time.</p>
<p>Googling the issue as well as asking llm Models does not make me understand what is going on nor give a solution for a fix.</p>
<p>Hope the terminal message explains enough:</p>
<p>Adding <code>adk-interview-assistant-7</code> as member of workspace <code>/home/magnus</code>
Initialized project <code>adk-interview-assistant-7</code>
(.venv) magnus@DESKTOP-4ME2A7J:~/code_projects/adk_interview_assistant_7$ uv add google-adk ipykernel
warning: <code>VIRTUAL_ENV=.venv</code> does not match the project environment path <code>/home/magnus/.venv</code> and will be ignored; use <code>--active</code> to target the active environment instead</p>
Platform
<p>wsl ubuntu</p>
Version
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/Allena101">@Allena101</a> on 2025-07-19 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Allena101">@Allena101</a> on 2025-07-19 14:23</div>
            <div class="timeline-body"><p>After some hours fiddling i am pretty sure that workspace is the issue. Though now i cannot figure out how to delete this workspace. It seems like my root project folder (i mean the folder that i have all my projects in) are no all part of a workspace. And the option of right clicking on a folder and removing it from workspace does not show up from me. I also dont see any of the workspace files anywhere. I only get mentions of workspace once i try using uv add.</p>
<p>So this might just be me not being able to figure out vscode workspace.</p>
<p>Pip install seems to work without this issue though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Allena101">@Allena101</a> on 2025-07-19 14:29</div>
            <div class="timeline-body"><p>OK, i did find the remove folder from workspace command but all this does it throw me out of the project folder and back to my root wsl folder. So i have no idea what is going on</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Allena101">@Allena101</a> on 2025-07-19 15:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/HasTarC0d3">@HasTarC0d3</a> on 2025-07-25 13:15</div>
            <div class="timeline-body"><p>Continously facing this problem with all the project I am working after starting using uv recently. I am getting the message:</p>
<blockquote>
<p>uv add pkgname --group dev
warning: <code>VIRTUAL_ENV=.venv</code> does not match the project environment path <code>/Users/username/.venv</code> and will be ignored; use <code>--active</code> to target the active environment instead</p>
</blockquote>
<p>While trying to ignore this, when I try to <code>uv add</code> and <code>uv sync</code> it is deleting my current .venv folder and recreating with the version of <code>/Users/username/.venv</code>.</p>
<pre><code>uv add pkgname --active --group dev
Using CPython 3.13.1
Removed virtual environment at: .venv
Creating virtual environment at: .venv
</code></pre>
<p>Totally not helping and missing the whole point of creating virtual environment. If anyone can solve this, please help.</p>
<p>Platform: MacOS 15.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-25 13:21</div>
            <div class="timeline-body"><p>You should just <code>deactivate</code> the environment? Can you say more about what you&#x27;re trying to do?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Allena101">@Allena101</a> on 2025-07-26 13:19</div>
            <div class="timeline-body"><blockquote>
<p>You should just <code>deactivate</code> the environment? Can you say more about what you&#x27;re trying to do?</p>
</blockquote>
<p>Hi  ðŸ‘‹ Sorry I did solve this issue before. I did click the &quot;close issue&quot; button but maybe i am misunderstanding the proper protocol to use here.</p>
<p>Anyways, it turned out that I had ran uv init in my WSL root folder. What confused me alot , and i tried to explain here, is when the error message mentions workspace which made me think it had to do with vscode and not uv.</p>
<p>So when i deleted the uv files in my wsl root folder everything went back to normal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vykhovanets">@vykhovanets</a> on 2025-12-03 09:58</div>
            <div class="timeline-body"><p>Hi!</p>
<p>I have global <code>.venv</code> in the root, that is activated, not to polute system python installations, and also I have the <code>.venv</code> in each uv-based project, and when I do <code>uv run ..</code> I see such warning - It doesn&#x27;t matter, but would be cool to be able to suppress it somehow.</p>
<p>because for me having <code>.venv</code> in a root activated by default is not an error, but a way I work.</p>
<p>What I get:</p>
<pre><code>warning: `VIRTUAL_ENV=/Users/&lt;user&gt;/.venv` does not match the project environment path `.venv` and will be ignored; use `--active` to target the active environment instead
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:39:31 UTC
    </footer>
</body>
</html>
