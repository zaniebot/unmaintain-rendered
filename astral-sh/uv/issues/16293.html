<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Failed to detect platform - astral-sh/uv #16293</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Failed to detect platform</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/16293">#16293</a>
        opened by <a href="https://github.com/NiuBlibing">@NiuBlibing</a>
        on 2025-10-14 10:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/NiuBlibing">@NiuBlibing</a> on 2025-10-14 10:31</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I'm install nvitop by uv by local mirrors without windows packages sync(My local mirror only sync linux packages), it throws error:</p>
<pre><code>  × No solution found when resolving dependencies:
  ╰─▶ Because there are no versions of windows-curses{sys_platform == 'win32'} and nvitop==1.5.3 depends on windows-curses{sys_platform == 'win32'}&gt;=2.2.0, we can conclude
      that nvitop==1.5.3 cannot be used.
      And because only nvitop&lt;=1.5.3 is available, we can conclude that nvitop&gt;=1.5.3 cannot be used.
      And because your project depends on nvitop&gt;=1.5.3 and your project requires test3[build], we can conclude that your project's requirements are unsatisfiable.
</code></pre>
<p>I try to add explicit sources and <code>required-environments</code>:</p>
<pre><code>
[[tool.uv.index]]
url = &quot;https://mylocalmirror.net/simple&quot;
default = true

[tool.uv.sources]
nvitop = { index = &quot;tsinghua&quot; }
windows-curses = { index = &quot;tsinghua&quot; }
colorama = { index = &quot;tsinghua&quot; }

[[tool.uv.index]]
name = &quot;tsinghua&quot;
url = &quot;https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple&quot;
explicit = true
</code></pre>
<pre><code>[tool.uv]
# Require that the package is available for macOS ARM and x86 (Intel).
required-environments = [
    &quot;sys_platform == 'linux'&quot;,,
]
</code></pre>
<h3>Platform</h3>
<p>manjaro</p>
<h3>Version</h3>
<p>uv 0.8.19 (fc7c2f8b5 2025-09-19)</p>
<h3>Python version</h3>
<p>3.13.6</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @NiuBlibing on 2025-10-14 10:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-14 11:41</div>
            <div class="timeline-body"><p>Does it work with <code>environments</code> instead of <code>required-environments</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NiuBlibing">@NiuBlibing</a> on 2025-10-15 07:45</div>
            <div class="timeline-body"><p>It works, thanks a lot!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @NiuBlibing on 2025-10-15 07:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
