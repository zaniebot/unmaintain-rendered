```yaml
number: 3579
title: Still get error running uv pip compile with --python-version specified when Python 2 is on the PATH
type: issue
state: closed
author: notatallshaw-gts
labels: []
assignees: []
created_at: 2024-05-14T14:28:47Z
updated_at: 2024-05-20T22:00:54Z
url: https://github.com/astral-sh/uv/issues/3579
synced_at: 2026-01-10T01:57:08Z
```

# Still get error running uv pip compile with --python-version specified when Python 2 is on the PATH

---

_Issue opened by @notatallshaw-gts on 2024-05-14 14:28_

This is a follow up to https://github.com/astral-sh/uv/issues/3474 that was closed by https://github.com/astral-sh/uv/pull/3476

I am still getting the same error:

```
$ python -V
Python 3.11.2

$ uv self update
info: Checking for updates...
success: Upgraded `uv` to v0.1.43! https://github.com/astral-sh/uv/releases/tag/0.1.43

$ uv -V
uv 0.1.43

$ uv cache clean
Clearing cache at: /scratch/.cache/uv
Removed 31527 files (1.0GiB)

$ uv pip compile --python-version 3.10.6  -c base-constraints.txt temp-requirements.txt
error: Querying Python at `/usr/bin/python` failed with status exit status: 2 with exit status: 2
--- stdout:

--- stderr:
Unknown option: -I
usage: /usr/bin/python [option] ... [-c cmd | -m mod | file | -] [arg] ...
Try `python -h' for more information.
---

$ /usr/bin/python -V
Python 2.7.15
```


---

_Comment by @charliermarsh on 2024-05-14 14:30_

It's because `usage: /usr/bin/python [option], we're matching against `usage: python [option]`. I can fix it, but that's why it worked in my case but not yours.

---

_Referenced in [astral-sh/uv#3580](../../astral-sh/uv/pulls/3580.md) on 2024-05-14 14:31_

---

_Closed by @charliermarsh on 2024-05-14 14:40_

---

_Comment by @notatallshaw-gts on 2024-05-14 14:43_

Thanks again for your quick fix!

I'll keep reporting issues as long as you don't mind supporting quirky edge cases old Linux distros (Fedora 29) can produce.

---

_Comment by @charliermarsh on 2024-05-20 21:09_

Out now in [v0.1.45](https://github.com/astral-sh/uv/releases/tag/0.1.45). Please report if you're still running into problems, always welcome!

---

_Comment by @notatallshaw-gts on 2024-05-20 22:00_

Thanks, I am now able to get uv commands to run under this scenario! 

I have found a very curious difference between the output of pip and uv, I am investigating now to see if it's a bug in one or the other.

---
