<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add uvx --with-inline-requirements-from - astral-sh/uv #10381</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add uvx --with-inline-requirements-from</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/10381">#10381</a>
        opened by <a href="https://github.com/Julian">@Julian</a>
        on 2025-01-08 01:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Julian">@Julian</a> on 2025-01-08 01:30</div>
            <div class="timeline-body"><p>This is an admittedly niche idea -- in that I'm not sure how popular PEP723 itself is, it's a niche use case itself, and this is an even smaller one. But if you'll indulge me (and if I haven't missed an existing issue asking for this, which I don't immediately see)...</p>
<p>The use case is given a script with inline script metadata, say:</p>
<pre><code class="language-python">#!/usr/bin/env python3
# /// script
# requires-python = &quot;&gt;=3.12&quot;
# dependencies = [
#   &quot;attrs&quot;,
#   &quot;rich&quot;,
#   &quot;rich-click&quot;,
#   &quot;imagehash&quot;,
# ]
# ///

importantstuff
</code></pre>
<p>how should one run <code>pyright</code> on this script? In particular, pyright wants to be run in a virtual environment where all of the dependencies / imports are available.</p>
<p>Of course pyright is just an example, there are quite a few other tools that work this way, <code>pip-audit</code>, <code>pip-licenses</code>, many others.</p>
<p>It would seem like it'd be nice to able to run:</p>
<pre><code>uvx --with-inline-requirements-from myscript.py pyright myscript.py
</code></pre>
<p>to satisfy this.</p>
<p>Again, no hard feelings if this is closed, or certainly if it is bottom of the priority list! But filing as it would indeed be something I'd use.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-08 04:49</div>
            <div class="timeline-body"><p>I think this might be solved by adding <code>--script</code> to <code>uv export</code>, e.g., <code>uv export --script script.py | uvx --with-requirements - pyright</code> or accepting scripts as a &quot;requirements&quot; file, e.g., <code>uvx --with-requirements script.py pyright</code>.</p>
<p>Relevant discussions for those at</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/8609</li>
<li>https://github.com/astral-sh/uv/issues/7032#issuecomment-2329574482</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2025-01-08 04:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @zanieb on 2025-01-08 04:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2025-01-08 04:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Julian">@Julian</a> on 2025-01-08 11:26</div>
            <div class="timeline-body"><p>Aha! I haven't had my coffee yet but this maybe even looks like a dupe of #7032?</p>
<p>I see Charlie mention essentially this: https://github.com/astral-sh/uv/issues/7032#issuecomment-2329582395</p>
<p>So perhaps going to close this even and I'll keep an eye on whichever design there wins out.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Julian on 2025-01-08 11:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15296.html">astral-sh/uv#15296</a> on 2025-11-16 09:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:32:01 UTC
    </footer>
</body>
</html>
