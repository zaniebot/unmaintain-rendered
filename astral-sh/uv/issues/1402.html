<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confusing error if uv thinks `requires-python` is invalid - astral-sh/uv #1402</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Confusing error if uv thinks `requires-python` is invalid</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1402">#1402</a>
        opened by <a href="https://github.com/avx-rvandegrift">@avx-rvandegrift</a>
        on 2024-02-16 00:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/avx-rvandegrift">@avx-rvandegrift</a> on 2024-02-16 00:28</div>
            <div class="timeline-body"><p>Here's another oddity:</p>
<pre><code>$ uv pip install junos-eznc==2.6.5
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of junos-eznc==2.6.5 and you require junos-eznc==2.6.5, we can conclude that the requirements are unsatisfiable.
</code></pre>
<p>And yet: https://pypi.org/project/junos-eznc/2.6.5/#files</p>
<p>With <code>--verbose</code>, the problem turns out to be somewhat different:</p>
<pre><code>$ uv pip install --verbose junos-eznc==2.6.5
...
 uv_resolver::resolver::process_request request=Prefetch junos-eznc ==2.6.5
       uv_client::cached_client::fresh_request url=&quot;https://pypi.org/simple/junos-eznc&quot;
       uv_client::cached_client::new_cache file=/home/rvandegrift/.cache/uv/simple-v0/pypi/junos-eznc.rkyv
       uv_client::registry_client::parse_simple_api package=junos-eznc
            0.082628s   3ms  WARN uv_client::registry_client Skipping file for junos-eznc: Invalid 'requires-python' value
            0.082663s   3ms  WARN uv_client::registry_client Skipping file for junos-eznc: Invalid 'requires-python' value
            ... # this repeats a dozen or two times
 uv_resolver::version_map::from_metadata
        0.084030s  61ms DEBUG uv_resolver::resolver Searching for a compatible version of junos-eznc (==2.6.5)
      0.084056s  61ms DEBUG uv_resolver::resolver No compatible version found for: junos-eznc
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of junos-eznc==2.6.5 and you require junos-eznc==2.6.5, we can conclude that the requirements are unsatisfiable.

</code></pre>
<p>Here's the info from that package:</p>
<pre><code>$ lesspipe ~/junos_eznc-2.6.5-py2.py3-none-any.whl | grep -i requires-python
Requires-Python: &gt;=3.*, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-02-16 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 00:29</div>
            <div class="timeline-body"><p>Thanks for the report! Similar at https://github.com/astral-sh/uv/issues/1361 and https://github.com/astral-sh/uv/issues/1357</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 00:35</div>
            <div class="timeline-body"><p>Two things here:</p>
<ol>
<li>Our version parser should allow this</li>
<li>We should try to propagate invalid distributions into the solver, seems kind of hard cc @BurntSushi</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 01:33</div>
            <div class="timeline-body"><p>I'll fix the <code>requires-python</code> part (1).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-02-16 01:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-02-16 02:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 05:42:56 UTC
    </footer>
</body>
</html>
