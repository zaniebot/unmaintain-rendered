<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Requirements.txt empty after compile error - astral-sh/uv #1879</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Requirements.txt empty after compile error</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1879">#1879</a>
        opened by <a href="https://github.com/luchiago">@luchiago</a>
        on 2024-02-22 17:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/luchiago">@luchiago</a> on 2024-02-22 17:44</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>I've tried to compile my project requirements from <code>pyproject.toml</code> and even with the hint <code>specify dependencies in the `project.dependencies` section; `tool.poetry.dependencies` is not currently supported</code>, my previous <code>requirements.txt</code> filled with dependencies was erased. I don't think that's a correct behavior</p>
<p><code>uv pip compile pyproject.toml -o requirements.txt --verbose</code></p>
<pre><code class="language-bash"> uv::requirements::from_source source=pyproject.toml
warning: `pyproject.toml` does not contain any dependencies (hint: specify dependencies in the `project.dependencies` section; `tool.poetry.dependencies` is not currently supported)
 uv::requirements::from_source source=requirements.txt
    0.002724s DEBUG uv_interpreter::virtual_env Found a virtualenv named .venv at: /home/lucas/api/.venv
    0.002795s DEBUG uv_interpreter::interpreter Using cached markers for: /home/lucas/api/.venv/bin/python
    0.002820s DEBUG uv::commands::pip_compile Using Python 3.9.7 interpreter at /home/lucas/api/.venv/bin/python for builds
    0.003060s DEBUG uv_client::registry_client Using registry request timeout of 300s
 uv_client::flat_index::from_entries
 uv_resolver::resolver::solve
      0.004159s   0ms DEBUG uv_resolver::resolver Solving with target Python version 3.9.7
   uv_resolver::resolver::choose_version package=root
   uv_resolver::resolver::get_dependencies package=root, version=0a0.dev0
</code></pre>
<p>My <code>requirements.txt</code> after the command:</p>
<pre><code class="language-txt"># This file was autogenerated by uv via the following command:
#    uv pip compile pyproject.toml -o requirements.txt --verbose

</code></pre>
<p>uv version: <code>0.1.7</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/luchiago">@luchiago</a> on 2024-02-22 17:45</div>
            <div class="timeline-body"><p>If this an actual error and unexpected behavior, I would like to start working on it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-22 21:21</div>
            <div class="timeline-body"><p>I think is expected, you've asked us to compile requirements for a file with no requirements. We allow this, but we warn you to help figure out if you've made a mistake.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-02-22 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/luchiago">@luchiago</a> on 2024-02-23 11:51</div>
            <div class="timeline-body"><p>Ok then. Thanks for the reply! I thought it was a strange behavior because even though it was a mistake on my <code>pyprojetc.toml</code> wouldn't clear my actual <code>requirements.txt</code> with the dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @luchiago on 2024-02-23 11:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:57 UTC
    </footer>
</body>
</html>
