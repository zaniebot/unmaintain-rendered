<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv pip install editable fails with bad interpreter - astral-sh/uv #11266</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv pip install editable fails with bad interpreter</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/11266">#11266</a>
        opened by <a href="https://github.com/tamaralyne">@tamaralyne</a>
        on 2025-02-05 22:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tamaralyne">@tamaralyne</a></div>
            <div class="timeline-body">Summary
<p>When I install a local package with editable, I get the following error when I try to use it:</p>
<pre><code>❯ example
zsh: /home/tamara/example/virtualenv/bin/example: bad interpreter: /home/tamara/.cache/uv/builds-v0/.tmp7sBhSi/bin/python: no such file or directory
</code></pre>
<p>Directory structure:</p>
<pre><code>EXAMPLE/
    |-&gt; setup.py
    |-&gt; bin
        |-&gt; example
    |-&gt; example
        |-&gt; example.py
        |-&gt; __init__.py
        |-&gt; ...
</code></pre>
<p>setup.py:</p>
<pre><code>#!/usr/bin/python

from setuptools import find_packages
from setuptools import setup

__version__ = None
exec(open(&#x27;example/__version__.py&#x27;).read())

setup(
        name=&#x27;example&#x27;,
        version=__version__,
        python_requires=&#x27;&gt;=3.12.0&#x27;,
        packages=find_packages(),
        scripts=[&#x27;bin/example&#x27;],
        dependency_links=[],
)
</code></pre>
<p>bin/example:</p>
<pre><code>#!/usr/bin/python

from argparse import ArgumentParser
from example import Example

if __name__ == &#x27;__main__&#x27;:
    parser = ArgumentParser(description=&#x27;example&#x27;)

    parser.add_argument(
            &#x27;--test&#x27;,
            nargs=&#x27;+&#x27;
    )
    example_args = parser.parse_args()

    example = Example(example_args)
    example.run()
</code></pre>
<p>example.py:</p>
<pre><code>class Example:

    def __init__(self, example_args):
        self.test = example_args.test

    def run(self):
        print(&quot;Starting Example&quot;)
        print(self.test)

</code></pre>
<p>Set up:</p>
<pre><code>❯ uv python install 3.12
❯ uv venv ./virtualenv --python 3.12
Using CPython 3.12.8
Creating virtual environment at: ./virtualenv
Activate with: source virtualenv/bin/activate
❯ source virtualenv/bin/activate
❯ uv pip install -v -e .
DEBUG uv 0.5.28
DEBUG Searching for default Python interpreter in virtual environments
DEBUG Found `cpython-3.12.8-linux-x86_64-gnu` at `/home/tamara/example/virtualenv/bin/python3` (active virtual environment)
Using Python 3.12.8 environment at: virtualenv
DEBUG Acquired lock for `virtualenv`
DEBUG At least one requirement is not satisfied: file:///home/tamara/example
DEBUG Using request timeout of 30s
DEBUG No static `pyproject.toml` available for: file:///home/tamara/example (MissingPyprojectToml)
DEBUG Acquired lock for `/home/tamara/.cache/uv/sdists-v7/editable/91e9e0d05b32be98`
DEBUG Using cached metadata for: file:///home/tamara/example
DEBUG Released lock at `/home/tamara/.cache/uv/sdists-v7/editable/91e9e0d05b32be98/.lock`
DEBUG Solving with installed Python version: 3.12.8
DEBUG Solving with target Python version: &gt;=3.12.8
DEBUG Adding direct dependency: example*
DEBUG Searching for a compatible version of example @ file:///home/tamara/example (*)
DEBUG Tried 1 versions: example 1
DEBUG marker environment resolution took 0.001s
Resolved 1 package in 5ms
DEBUG Directory source requirement already cached: example==1.0.6 (from file:///home/tamara/example)
Installed 1 package in 35ms
 + example==1.0.6 (from file:///home/tamara/example)
DEBUG Released lock at `/home/tamara/example/virtualenv/.lock`
</code></pre>
<p>Error:</p>
<pre><code>❯ example
zsh: /home/tamara/example/virtualenv/bin/example: bad interpreter: /home/tamara/.cache/uv/builds-v0/.tmp7sBhSi/bin/python: no such file or directory
</code></pre>
<p>Without editable then I don&#x27;t have this issue:</p>
<pre><code>❯ example
Starting Example
</code></pre>
Platform
<p>Linux 6.12.10-arch1-1 x86_64 GNU/Linux</p>
Version
<p>uv 0.5.28</p>
Python version
<p>Python 3.12.8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/tamaralyne">@tamaralyne</a> on 2025-02-05 22:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-05 22:57</div>
            <div class="timeline-body"><p>This might be the same as <a href="https://github.com/astral-sh/uv/issues/2744">astral-sh/uv#2744</a>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tamaralyne">@tamaralyne</a> on 2025-02-06 15:11</div>
            <div class="timeline-body"><p>Yes, it is thanks. I will close this one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/tamaralyne">@tamaralyne</a> on 2025-02-06 15:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:37:07 UTC
    </footer>
</body>
</html>
