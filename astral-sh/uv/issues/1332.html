<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support remote constraints files - astral-sh/uv #1332</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support remote constraints files</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1332">#1332</a>
        opened by <a href="https://github.com/manojkarthick">@manojkarthick</a>
        on 2024-02-15 20:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/manojkarthick">@manojkarthick</a></div>
            <div class="timeline-body"><p>Big fan of <code>ruff</code> and just checking out <code>uv</code> from the twitter announcement. Thanks a lot for creating this and improving the python ecosystem.</p>
<p>Looks like constraints using <code>--constraint</code> flag inside a <code>requirements.txt</code> file is not supported?</p>
<p>I&#x27;m receiving the following error:</p>
<pre><code>‚ùØ uv pip install -r requirements.txt
error: Error parsing included file in `requirements.txt` at position 0
  Caused by: failed to open file `/Users/manojkarthick/code/sandbox/uvtest/&quot;https://raw.githubusercontent.com/apache/airflow/constraints-2.6.3/constraints-3.10.txt&quot;`
  Caused by: No such file or directory (os error 2)
</code></pre>

Requirements file with constraints that fails

<pre><code>--constraint &quot;https://raw.githubusercontent.com/apache/airflow/constraints-2.6.3/constraints-3.10.txt&quot;
virtualenv==20.23.1
boto3==1.26.161
cachetools==5.3.1
pandas==1.5.3
numpy==1.24.4
pendulum==2.1.2
psycopg2-binary==2.9.6
protobuf==4.23.4
PyGithub==1.59.0
SQLAlchemy==1.4.49
apache-airflow-providers-amazon==8.2.0
apache-airflow-providers-http==4.4.2
apache-airflow-providers-common-sql==1.5.2
apache-airflow-providers-jdbc==4.0.0
apache-airflow-providers-postgres==5.5.1
apache-airflow-providers-docker==3.7.1
apache-airflow-providers-ssh==3.7.1
apache-airflow-providers-apache-spark==4.1.1
apache-airflow-providers-snowflake==4.2.0
apache-airflow-providers-slack==7.3.1
apache-airflow-providers-elasticsearch==4.5.1
apache-airflow-providers-databricks==4.3.0
apache-airflow-providers-github==2.3.1
snowflake-connector-python==3.0.4
snowflake-sqlalchemy==1.4.7
protobuf==4.23.4
fsspec==2023.6.0
attrs==23.1.0
requests==2.31.0
uszipcode==1.0.1
clickhouse-connect==0.7.0
</code></pre>


<p>I do see <a href="https://github.com/astral-sh/uv/issues/172">astral-sh/uv#172</a>, so please feel free to close this issue if it&#x27;s redundant.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 20:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 20:36</div>
            <div class="timeline-body"><p>Hi! Thanks for the kind words.</p>
<p>It looks like we support this during <code>pip compile</code> but not <code>pip install</code> which seems like an oversight.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 20:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Support pip constraints in requirements.txt files&quot; to &quot;Support pip constraints in requirements.txt files in `uv pip install`&quot; by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 20:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-15 20:37</div>
            <div class="timeline-body"><p>Could the issue here be that it&#x27;s a remote URL? I&#x27;m not sure we support that yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-15 20:41</div>
            <div class="timeline-body"><p>Yeah actually that does look like the case, adding test coverage for <code>pip install</code> with constraints right now...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/recrsn">@recrsn</a> on 2024-02-16 13:12</div>
            <div class="timeline-body"><p>Looks like we don&#x27;t have support for remote constraint URLs yet, not even on the <code>--constraint</code> flag</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 17:38</div>
            <div class="timeline-body"><p>Yeah this is the problem not the presence of <code>--constraint</code> (<a href="https://github.com/astral-sh/uv/pull/1334">astral-sh/uv#1334</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Support pip constraints in requirements.txt files in `uv pip install`&quot; to &quot;Support remote constraints files&quot; by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-16 17:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jannisko">@jannisko</a> on 2024-02-17 20:24</div>
            <div class="timeline-body"><p>So I guess this could be solved by replacing the <code>PathBuf</code> here
https://github.com/astral-sh/uv/blob/8675f66e74dc2c7d45b65e9aef21479c97dd0015/crates/uv/src/main.rs#L174
with something like a <code>DynObjectStore</code>: https://docs.rs/object_store/latest/object_store/#configuration-system to automatically dispatch to a local file or url depending on what is given. I&#x27;d be down to implement this if you think the additional dependency is worth it.
If you know another crate that could help us do this let me know. üôÇ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-17 20:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jensens">@jensens</a> on 2024-02-28 22:28</div>
            <div class="timeline-body"><p>I think my problem is related:</p>
<pre><code>(venv) ~/ws/sandbox/cplone$ uv pip install -r requirements.txt 
error: Error parsing included file in `requirements.txt` at position 0
  Caused by: failed to open file `https://dist.plone.org/release/6.0.9/constraints.txt`
  Caused by: No such file or directory (os error 2)
(venv) ~/ws/sandbox/cplone$ uv --version
uv 0.1.10
</code></pre>
<p>requirements.txt:</p>
<pre><code>-c https://dist.plone.org/release/6.0.9/constraints.txt
waitress_fastlisten
Plone
</code></pre>
<p>That said, this is an essential feature of pip to get remote constraints.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-06 04:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:12 UTC
    </footer>
</body>
</html>
