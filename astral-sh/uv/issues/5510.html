<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show dedicated hint for `--unsafe-first-match` with PyTorch index - astral-sh/uv #5510</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Show dedicated hint for `--unsafe-first-match` with PyTorch index</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/5510">#5510</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-07-27 18:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-27 18:41</div>
            <div class="timeline-body"><p>This is so common that we should special-case it for a list of packages (like <code>requests</code>): https://github.com/astral-sh/rye/issues/1282#issuecomment-2254213458</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @charliermarsh on 2024-07-27 18:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-22 18:37</div>
            <div class="timeline-body"><p>@zanieb -- For this one, do you think it's sufficient to show this if: we fail to resolve (can't find a valid version), and the failing package came from the first index, i.e., there are more indexes remaining? Is that too noisy?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-22 19:50</div>
            <div class="timeline-body"><p>Yeah, I think the minimal idea is that if we have a <code>NoVersions</code> incompatibility, there are multiple indexes, and you're using <code>first-match</code> we should hint. This is so common that I don't mind it being noisy to start. I think we should implement this ASAP, I started looking into it but need to figure out what index information is available to the reporter and what we have to thread</p>
<p>I have a few improvements in mind but am not sure what information is available, e.g.:</p>
<ul>
<li>Confirm that we didn't check all of the indexes for the package (i.e., as you suggested)</li>
<li>Confirm if the package is available on a subsequent index</li>
<li>Confirm if there is a version in the range available on a subsequent index</li>
</ul>
<p>I think with these we could provide really helpful messages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-22 20:28</div>
            <div class="timeline-body"><blockquote>
<p>Confirm if the package is available on a subsequent index</p>
</blockquote>
<p>This is the hard one, because with <code>--first-match</code>, we don't even check subsequent indexes. So we'd either have to (1) start checking subsequent indexes, or (2) make new network requests in the error reporter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-22 23:01</div>
            <div class="timeline-body"><p>I figured that might be the case, but we can try to solve that later.</p>
<p>I think it'd be okay to have a low-priority pool checking the subsequent indexes in the background then finish the checks if needed for a no-solution error? ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-09-23 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/7645.html">astral-sh/uv#7645</a> on 2024-09-23 16:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-23 19:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-23 19:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:31 UTC
    </footer>
</body>
</html>
