<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`UV_TOOL_PYTHON` for using `uv tool` with CWD-aware version managers - astral-sh/uv #17253</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`UV_TOOL_PYTHON` for using `uv tool` with CWD-aware version managers</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/17253">#17253</a>
        opened by <a href="https://github.com/jklaiho">@jklaiho</a>
        on 2025-12-29 15:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jklaiho">@jklaiho</a> on 2025-12-29 15:54</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I use <a href="https://mise.jdx.dev">mise</a> as a multi-language and multi-tool version manager for Python, NodeJS and more. I prefer this to having separate version managers for everything. This means I never use Python versions managed with uv either. I enforce this with <code>~/.config/uv/uv.toml</code>:</p>
<pre><code>python-downloads = &quot;never&quot;
python-preference = &quot;only-system&quot;
</code></pre>
<p>There's a bunch of Python CLI tools that I want to have globally installed, like Ansible, IPython, changelog-cli etc. I currently have a mise-installed Python 3.13.11 set as the global default Python (set in <code>~/.config/mise/config.toml</code>). I treat it as sort of an &quot;LTS&quot; Python, to which I'll link all my global CLI tools. I'll only replace it with a newer version as it nears EOL status, performing any necessary reinstalls of the tools to link them to the new Python version.</p>
<p>Individual code projects will have local <code>mise.toml</code> files, specifying which other mise-installed version of Python gets automatically used when my CWD is underneath the project directory. This is extremely convenient and I rely upon it heavily as I maintain a lot of legacy projects at work, with many Python versions between 3.6 and 3.14 present.</p>
<p>(In addition to mise, <a href="https://asdf-vm.com">asdf</a> works the same way, just with <code>.tool-versions</code> files. I haven't researched other Python version managers to see if they have similar CWD automation, but it's conceivable.)</p>
<p>Overall, <code>uv tool install</code> works great. However: the installed tool is linked to whatever the currently active Python is, so the Python version a tool gets ends up being dependent on my CWD â€” unless I manually remember to use <code>uv tool install --python &lt;path&gt;</code> or <code>UV_PYTHON=&lt;path&gt; uv tool install</code>, which I inevitably will not, plus it's pretty cumbersome. This is not desirable. I spend a lot of time underneath these project directories, and have seen tools inadvertently linked to a non-&quot;LTS&quot; Python a couple of times already.</p>
<p><code>UV_TOOL_PYTHON</code> would solve this in an elegant way. I'd set it to <code>~/.local/share/mise/installs/python/3.13.11/bin/python</code> and only update the variable when I eventually replace my &quot;LTS&quot; global Python 3.13.11 with a newer version.</p>
<p>I don't want to use a single Python version for all uv operations, just the ones involving <code>uv tool</code>, so <code>UV_PYTHON</code> isn't suitable. If the user had also set <code>UV_PYTHON</code>, <code>UV_TOOL_PYTHON</code> would override it when running <code>uv tool</code>, being the more specific variable.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @jklaiho on 2025-12-29 15:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:30 UTC
    </footer>
</body>
</html>
