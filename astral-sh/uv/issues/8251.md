```yaml
number: 8251
title: Does uv provide package handling for multiple code locations?
type: issue
state: closed
author: GellertPalfi
labels:
  - question
assignees: []
created_at: 2024-10-16T12:19:23Z
updated_at: 2025-04-28T19:11:44Z
url: https://github.com/astral-sh/uv/issues/8251
synced_at: 2026-01-10T01:57:18Z
```

# Does uv provide package handling for multiple code locations?

---

_Issue opened by @GellertPalfi on 2024-10-16 12:19_

I would like to switch to uv, however Im running dagster that have multiple code locations with some common dependencies but some are only there for one project some only the other, they are now listed in 2 req.txt files:
Location A:
```
dagster==1.7
dagster-dbt==0.23
pandas==2.1.4
```  
Location B:
```
dagster==1.7
dagster-dbt==0.23
pyarrow==16.0.0
```
Is it possible to set this with only one pyproject.toml file?   
Something like this:
```
Common:
dagster==1.7
dagster-dbt==0.23

Location A:
pandas==2.1.4

Location B:
pyarrow==16.0.0
```  
Im open to suggestions if this looks completly wrong.  
Also i dont necessarily want to have multiple `.python_version` files as python is always the same for all locations

---

_Comment by @charliermarsh on 2024-10-16 12:33_

By code locations, do you mean indexes, like PyPI?

---

_Label `question` added by @charliermarsh on 2024-10-16 12:33_

---

_Comment by @GellertPalfi on 2024-10-17 06:58_

No, sorry. This is a dagster concept, basically they are just different folders, with seperate requirements as seen above but still in one project

---

_Comment by @zanieb on 2024-10-17 14:06_

Sounds like https://docs.astral.sh/uv/concepts/workspaces/

---

_Comment by @zanieb on 2024-10-17 14:07_

We don't let you define the common dependencies in the workspace root yet though

---

_Comment by @GellertPalfi on 2024-10-18 07:16_

I looked at this, but we have conflicting dependencies, so i see that i should use path dependencies. However its not super clear for me how to use it based on the example in the documentation. Do you have any more examples?

---

_Closed by @GellertPalfi on 2024-10-25 12:18_

---

_Comment by @tspencerdata on 2025-04-28 19:11_

Did you ever find a solution on this one? 

I have a similar situation and am thinking of moving to uv. I was thinking of setting it up along these lines, but wondering if it would work:

/dagster-project/
├── workspace.yaml
├── code_loc1/
│   ├── pyproject.toml
│   ├── uv.lock
│   └── src/...
├── code_loc2/
│   ├── pyproject.toml
│   ├── uv.lock
│   └── src/...
├── code_loc3/
│   ├── pyproject.toml
│   ├── uv.lock
│   └── src/...
├── .venvs/
│   ├── code_loc1/
│   ├── code_loc2/
│   └── code_loc3/

---
