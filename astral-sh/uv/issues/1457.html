<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv pip compile`: Add a nicer (more automated) way of dealing with multiple files (e.g. main + dev dependencies) - astral-sh/uv #1457</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv pip compile`: Add a nicer (more automated) way of dealing with multiple files (e.g. main + dev dependencies)</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1457">#1457</a>
        opened by <a href="https://github.com/ThiefMaster">@ThiefMaster</a>
        on 2024-02-16 09:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ThiefMaster">@ThiefMaster</a> on 2024-02-16 09:01</div>
            <div class="timeline-body"><p>I suggested this in a <a href="https://github.com/astral-sh/uv/issues/1350#issuecomment-1947371031">comment on another issue</a> but maybe this deserves its own issue since it's quite a bit more than what I suggested in that issue itself:</p>
<blockquote>
<p>How about a <code>uv pip compile --auto</code> mode that looks for <code>requirements*.{in,txt}</code>, checks if there are dependencies between them (e.g. <code>-c requirements.txt</code> in a <code>requirements.something.in</code>), and then compiles them in the proper order?</p>
<p>This would also be REALLY amazing for upgrades. Imagine just being able to <code>uv compile --auto --upgrade-package somepackage</code> if you want to upgrade that package, and uv then automatically updates it in your main dependencies and/or dev dependencies, depending on where it's defined :)</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-02-16 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @zanieb on 2024-02-16 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">project-management</span> added by @zanieb on 2024-02-16 14:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Spenhouet">@Spenhouet</a> on 2024-04-20 07:46</div>
            <div class="timeline-body"><p>At the moment we work with a <code>requirements.txt</code> and a <code>requirements-dev.txt</code>. On a local dev system one will install the venv using both requirements files. Installing into a production Docker container, only the <code>requirements.txt</code> will be installed.</p>
<p>I came here while looking into if uv supports this use-case, and I'm not sure. Also not sure if this issue is addressing the same use-case. Some confirmation would be helpful @charliermarsh.</p>
<p>I did not yet play around with uv, only read the docs. I assume one would need to specify two <code>requirements.in</code> files? I do like the approach of the javascript world where both type of dependencies are defined in the <code>package.json</code> but with separate keys and it is possible to build for a target env (dev vs. prod). Given uv will work on a .lock file, I wonder if this will incorporate this use case and provide independent/dependent package resolutions. Installing the dev dependencies should not change versions on the main application dependencies etc. I have no insight on how this is done in <code>package.json/package-lock.json</code>, but I imagine that managing this package resolution isn't easy.</p>
<p>I hope this use-case is clear and something uv will consider to support. If it's not clear, I'm happy to expand. If it requires a separate issue to this one, I'm happy to create a new issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marioweid">@marioweid</a> on 2024-12-18 07:01</div>
            <div class="timeline-body"><p>This would be a great feature.
I miss it for the CI to run tests that have pytest in their dev dependency.
We don't have uv/rye in our ci workers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ThiefMaster">@ThiefMaster</a> on 2024-12-18 10:05</div>
            <div class="timeline-body"><blockquote>
<p>We don't have uv/rye in our ci workers.</p>
</blockquote>
<p>Why not change that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-02 10:52</div>
            <div class="timeline-body"><p>I don't think we'll invest more into new features on top of requirements-files</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-12-02 10:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:17 UTC
    </footer>
</body>
</html>
