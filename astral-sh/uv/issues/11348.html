<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run script that has inline deps with project deps - astral-sh/uv #11348</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Run script that has inline deps with project deps</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/11348">#11348</a>
        opened by <a href="https://github.com/cibere">@cibere</a>
        on 2025-02-09 08:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/cibere">@cibere</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Add an option like <code>--with-project</code> to <code>uv run</code> so that you can execute a script that has inline metadata with the project's dependencies</p>
<h3>Example</h3>
<p>lets say i have a script called <code>script.py</code> with inline metadata that says the script requires <code>aiohttp</code>. And let's also say that this is in a project that has <code>requests</code> as a dependency.
If you want to run the script with the project's dependencies, you would just do something like <code>uv run --with-project script</code>, and <code>script.py</code> would run with the aiohttp dependency and request dependency installed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @cibere on 2025-02-09 08:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cibere">@cibere</a> on 2025-02-09 08:57</div>
            <div class="timeline-body"><p>For some context, I'm requesting this because in a project that I'm working on, there are a bunch of scripts that have their own dependencies, but then also all import a shared file with its own dependencies.</p>
<p>My current solution that Charlie suggested was to just add that shared dependency to the metadata of each script, which works since there is only one shared dependency, but for bigger projects with more dependencies, that could get pretty complicated to manage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @charliermarsh on 2025-02-09 18:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:29:47 UTC
    </footer>
</body>
</html>
