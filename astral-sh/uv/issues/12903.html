<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv tool run should not perform network request if version is fully frozen - astral-sh/uv #12903</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv tool run should not perform network request if version is fully frozen</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/12903">#12903</a>
        opened by <a href="https://github.com/gsemet">@gsemet</a>
        on 2025-04-15 20:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/gsemet">@gsemet</a> on 2025-04-15 20:27</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>For example when i do a</p>
<pre><code class="language-bash">uv tool run -- poetry@2.0.0 
</code></pre>
<p>Once installed, any subsequent execution shall not make any network access. i am able to get a network error when my proxy goes down, while there is nothing to do, since the tool is already installed in the right version.</p>
<p>When using @latest i guess i understand the automatic update, when executing n times the same command line versioned, it would be better to avoid unuseful network connection error.</p>
<p>This is not the <code>uv tool run --offline</code> mode, if the tool is not installed it needs to be installed.
It is not <code>--reinstall</code>, i do not want the package to be reinstalled if the version is already the right one.</p>
<p>It may be <code>--resolution=lowest</code> if we are sure it does not try to perform any network connectivity if there is not need to. And i need my tool and all its dependencies to be at the &quot;latest&quot; of there dependencies at the time it has been installed.</p>
<p>My proposal:</p>
<pre><code class="language-bash">uv tool run -- toolname@2.0.0
</code></pre>
<p>when version is a number, install the package. no network check whatsoever if the version already matches.</p>
<p>to force update to later of v2, allow syntax such as @2, @2.0 to perform a network connection to check if any new package 2.0.x is available.</p>
<pre><code>uv tool run -- toolname@2

### Platform

Mac OS

### Version

0.6.11

### Python version

3.10
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @gsemet on 2025-04-15 20:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @konstin on 2025-04-16 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2025-04-16 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-17 12:37</div>
            <div class="timeline-body"><p>Yeah I think this shouldn't make a network request.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tjni">@tjni</a> on 2025-05-06 05:32</div>
            <div class="timeline-body"><p>I think I have a similar request (but not exactly the same).</p>
<p>I'd like to always use <code>uvx run package@latest</code> to quickly deliver the latest code changes to my consumers, but dependency resolution for my package takes about a minute. I think I'm looking for a way to make the semantics of <code>latest</code> mean: check for a new version but if the latest version is still the same as last time, use the cached one without dependency resolution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/17089.html">astral-sh/uv#17089</a> on 2025-12-11 18:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:03 UTC
    </footer>
</body>
</html>
