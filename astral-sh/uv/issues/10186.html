<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv publish` raise error `Caused by: error decoding response body` - astral-sh/uv #10186</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`uv publish` raise error `Caused by: error decoding response body`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10186">#10186</a>
        opened by <a href="https://github.com/andrew000">@andrew000</a>
        on 2024-12-26 23:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/andrew000">@andrew000</a> on 2024-12-26 23:20</div>
            <div class="timeline-body"><p>Using <code>astral-sh/setup-uv@v5</code> and UV_VERSION <code>latest</code> or <code>0.5.12</code> causes error when publishing package: https://github.com/andrew000/FTL-Extract/actions/runs/12509313775/job/34898612613#step:8:12</p>
<p>Using UV_VERSION <code>0.5.11</code> works good:
https://github.com/andrew000/FTL-Extract/actions/runs/12509365391/job/34898720613</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Frazzer951">@Frazzer951</a> on 2024-12-26 23:23</div>
            <div class="timeline-body"><p>I'm also getting the same error when trying to install a package through an AWS code-artifact. <code>0.5.12</code> fails while <code>0.5.11</code> works fine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-26 23:24</div>
            <div class="timeline-body"><p>Thank you. @andrew000 -- do you know if you intend to be using trusted publishing?</p>
<p>(@Frazzer951 -- I assume you mean <em>publishing</em>? Or are you seeing a different issue?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-26 23:27</div>
            <div class="timeline-body"><p>It looks like this might be due to a change in <code>reqwest</code>. I will likely revert and publish a new version: https://github.com/seanmonstar/reqwest/commit/d36c0f5fd93f8190c9f39990ce4ec859c2b6d567</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Frazzer951">@Frazzer951</a> on 2024-12-26 23:28</div>
            <div class="timeline-body"><p>@charliermarsh Mine occurs when doing a <code>uv pip install</code></p>
<pre><code class="language-sh">&gt; uv pip install -e &quot;.[dev]&quot; --index-url https://&lt;&lt;AWS CodeArtifact Url&gt;&gt;
Using Python 3.11.9 environment at: /Users/luke/.pyenv/versions/3.11.9/envs/analytics
  × Failed to build `pipeline @ file:///Users/luke/Sonarverse/analytics`
  ├─▶ Failed to resolve requirements from `build-system.requires`
  ├─▶ No solution found when resolving: `setuptools`
  ├─▶ Failed to fetch: `https://&lt;&lt;AWS CodeArtifact Url&gt;&gt;/setuptools/`
  ├─▶ error decoding response body
  ╰─▶ there are extra bytes after body has been decompressed
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-26 23:28</div>
            <div class="timeline-body"><p>Got it, thanks. I'll go ahead and revert!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/10187.html">astral-sh/uv#10187</a> on 2024-12-26 23:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-12-26 23:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-12-26 23:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-26 23:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-26 23:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10191.html">astral-sh/uv#10191</a> on 2024-12-27 13:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:24 UTC
    </footer>
</body>
</html>
