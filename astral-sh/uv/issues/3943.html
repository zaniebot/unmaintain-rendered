<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missing test coverage for `tool.uv` behaviours - astral-sh/uv #3943</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Missing test coverage for `tool.uv` behaviours</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3943">#3943</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-05-31 13:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2024-05-31 13:43</div>
            <div class="timeline-body"><p>In #3904, we added support for a whole class of new <code>tool.uv</code> behaviors, but no tests for them yet.</p>
<ul>
<li>[x] Tests path dependencies into another workspace than the current. Consider two workspaces one disk, one workspace with packages A, B and another workspace with C, D, and path dependencies (editable or not) A -&gt; B, B -&gt; C, C -&gt; D where A is the current project. We should test that B -&gt; C correct resolves so that c -&gt; D uses the workspace package D. https://github.com/astral-sh/uv/pull/4833</li>
<li>[x] Test that we don't read <code>tool.uv</code> information from index packages, url archives or path archives, neither <code>tool.uv.sources</code> nor <code>tool.uv.workspace</code>.</li>
<li>[x] Test that all combinations of editable and non-editable dependencies both in and across workspace work. Editable should take precedence over non-editable, e.g. if you require a package both as editable and non-editable, it becomes an editable.</li>
<li>[x] Test that <code>tool.uv.sources</code> inheritance from the workspace to the project works.</li>
<li>[x] Test that extras work with workspaces, specifically if the extra is part of another workspace package. We should check what cargo is doing here.</li>
<li>[x] https://github.com/astral-sh/uv/issues/4603</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @konstin on 2024-05-31 13:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3904.html">astral-sh/uv#3904</a> on 2024-05-31 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-06 23:28</div>
            <div class="timeline-body"><p>We should also test the <code>requires-python</code> behavior for workspaces -- what happens when no project has a <code>requires-python</code>? What happens when a single project has a <code>requires-python</code>? Etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/4119.html">astral-sh/uv#4119</a> on 2024-06-06 23:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-13 02:39</div>
            <div class="timeline-body"><p>See also: https://github.com/astral-sh/uv/pull/4298</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4298.html">astral-sh/uv#4298</a> on 2024-06-13 02:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4499.html">astral-sh/uv#4499</a> on 2024-06-28 14:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4833.html">astral-sh/uv#4833</a> on 2024-07-07 20:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add missing tests for `tool.uv` behaviour" to "Missing for `tool.uv` behaviours" by @konstin on 2024-07-09 10:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Missing for `tool.uv` behaviours" to "Missing `tool.uv` behaviours" by @konstin on 2024-07-09 10:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Missing `tool.uv` behaviours" to "Missing test coverage for `tool.uv` behaviours" by @charliermarsh on 2024-07-30 15:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-07-30 15:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @charliermarsh on 2024-07-30 15:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6045.html">astral-sh/uv#6045</a> on 2024-08-12 20:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6046.html">astral-sh/uv#6046</a> on 2024-08-12 21:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6047.html">astral-sh/uv#6047</a> on 2024-08-12 21:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6050.html">astral-sh/uv#6050</a> on 2024-08-12 23:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6051.html">astral-sh/uv#6051</a> on 2024-08-12 23:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-12 23:50</div>
            <div class="timeline-body"><p>Did these! They surfaced a few bugs too which is great.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-08-12 23:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:28 UTC
    </footer>
</body>
</html>
