<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missing test coverage for `tool.uv` behaviours - astral-sh/uv #3943</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Missing test coverage for <code>tool.uv</code> behaviours</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/3943">#3943</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-05-31 13:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>In #3904, we added support for a whole class of new <code>tool.uv</code> behaviors, but no tests for them yet.</p>
<ul>
<li>[x] Tests path dependencies into another workspace than the current. Consider two workspaces one disk, one workspace with packages A, B and another workspace with C, D, and path dependencies (editable or not) A -&gt; B, B -&gt; C, C -&gt; D where A is the current project. We should test that B -&gt; C correct resolves so that c -&gt; D uses the workspace package D. <a href="https://github.com/astral-sh/uv/pull/4833">astral-sh/uv#4833</a></li>
<li>[x] Test that we don&#x27;t read <code>tool.uv</code> information from index packages, url archives or path archives, neither <code>tool.uv.sources</code> nor <code>tool.uv.workspace</code>.</li>
<li>[x] Test that all combinations of editable and non-editable dependencies both in and across workspace work. Editable should take precedence over non-editable, e.g. if you require a package both as editable and non-editable, it becomes an editable.</li>
<li>[x] Test that <code>tool.uv.sources</code> inheritance from the workspace to the project works.</li>
<li>[x] Test that extras work with workspaces, specifically if the extra is part of another workspace package. We should check what cargo is doing here.</li>
<li>[x] <a href="https://github.com/astral-sh/uv/issues/4603">astral-sh/uv#4603</a></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/konstin">@konstin</a> on 2024-05-31 13:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-06 23:28</div>
            <div class="timeline-body"><p>We should also test the <code>requires-python</code> behavior for workspaces -- what happens when no project has a <code>requires-python</code>? What happens when a single project has a <code>requires-python</code>? Etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-13 02:39</div>
            <div class="timeline-body"><p>See also: <a href="https://github.com/astral-sh/uv/pull/4298">astral-sh/uv#4298</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Add missing tests for `tool.uv` behaviour&quot; to &quot;Missing for `tool.uv` behaviours&quot; by <a href="https://github.com/konstin">@konstin</a> on 2024-07-09 10:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Missing for `tool.uv` behaviours&quot; to &quot;Missing `tool.uv` behaviours&quot; by <a href="https://github.com/konstin">@konstin</a> on 2024-07-09 10:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Missing `tool.uv` behaviours&quot; to &quot;Missing test coverage for `tool.uv` behaviours&quot; by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 15:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 15:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-30 15:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-12 23:50</div>
            <div class="timeline-body"><p>Did these! They surfaced a few bugs too which is great.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-12 23:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:31:19 UTC
    </footer>
</body>
</html>
