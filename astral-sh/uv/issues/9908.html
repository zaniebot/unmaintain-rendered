<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suggestion: read Python versions from PyPI Trove Classifiers - astral-sh/uv #9908</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Suggestion: read Python versions from PyPI Trove Classifiers</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/9908">#9908</a>
        opened by <a href="https://github.com/RomainBrault">@RomainBrault</a>
        on 2024-12-15 09:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/RomainBrault">@RomainBrault</a> on 2024-12-15 09:57</div>
            <div class="timeline-body"><p>Would it be possible to have an option to read Python versions from trove classifiers ?</p>
<p>I.e. read</p>
<pre><code class="language-string">Programming Language :: Python :: 3.13
</code></pre>
<p>in <code>pyproject.toml</code> instead of <code>.python-version(s)</code>.</p>
<p>Rational:</p>
<ul>
<li>Many people using pypi will set this metadata. I guess it is wildly adopted.</li>
<li>It is used in some Github actions as metadata (e.g. https://github.com/hynek/build-and-inspect-python-package)</li>
<li>It would help maintenance by avoiding duplication of information</li>
</ul>
<p>Bonus:</p>
<ul>
<li>In this case accessing the python versions would require some toml parsing and string splitting. Thus it would be helpful to have in uv something that give a clean list of the project Python versions or even the intersection of the project Python versions and the set of UV available Python.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-12-15 16:48</div>
            <div class="timeline-body"><p>The classifiers are for all supported versions, right? This should already be available via <code>requires-python</code>, with the exception of whether or not the latest version is supported in some cases?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RomainBrault">@RomainBrault</a> on 2024-12-16 07:26</div>
            <div class="timeline-body"><p>requires-python are just some bounds and not a list of Python versions. You donÂ´t need to provide an upper one or set it very loose like python&lt;4.0. You can also set exception on minor version in the requires-python segment.</p>
<p>On the other hand the trove classifiers are usually a list of labels of major python versions supported, which looks similar in purpose (while still a bit different) to the .python-versions file.</p>
<p>Maybe I miss the intended purpose of <code>.python-version file</code>. From what I understood from the doc, it provide a convenient way to do <code>uv python install</code> for a bunch of Python versions/interpreter listed in <code>.python-versions</code>. In the case where this list is just a bunch of major python version this information is already in the trove classifiers.</p>
<p>Trove classifier are related but independent from requires-python, as requires-python can have loose bound for forward compatibility (library). For a major version of Python represented by a trove classifier, the user (or uv) should pull the latest Python version for this major, respecting the bound given by requires-python.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @zanieb on 2024-12-16 20:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @zanieb on 2024-12-16 20:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
