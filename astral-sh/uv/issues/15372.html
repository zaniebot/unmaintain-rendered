<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv init should do git init before getting author information from git - astral-sh/uv #15372</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv init should do git init before getting author information from git</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15372">#15372</a>
        opened by <a href="https://github.com/sebastianw">@sebastianw</a>
        on 2025-08-19 08:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sebastianw">@sebastianw</a> on 2025-08-19 08:42</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>When using git to get the author information for <code>pyproject.toml</code>, I wondered why it was only getting my name but not my email address.</p>
<p>I use <code>includeIf</code> in <code>.gitconfig</code> to set email address depending on folder (work/private):</p>
<pre><code class="language-gitconfig">
[user]
name = My Name

[includeIf &quot;gitdir:~/repositories/work/&quot;]
  path = ./.gitconfig.work
[includeIf &quot;gitdir:~/repositories/privat/&quot;]
  path = ./.gitconfig.privat
</code></pre>
<p>git will only include these files when called in a directory with a <code>.git</code> subdirectory, as the config states:</p>
<blockquote>
<p>The data that follows the keyword gitdir: is used as a glob pattern. If the location of the .git directory matches the pattern, the include condition is met.</p>
<p>The .git location may be auto-discovered, or come from $GIT_DIR environment variable. If the repository is auto-discovered via a .git file (e.g. from submodules, or a linked worktree), the .git location would be the final location where the .git directory is, not where the .git file is.</p>
</blockquote>
<p>When doing <code>uv init</code> it seems that the author information is collected from git before the git repository gets initialized which means it can't get the email information.</p>
<p>If possible it would be nice if uv could init git before collecting the author information from it so that the email address is included in <code>pyproject.toml</code>.</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @sebastianw on 2025-08-19 08:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2025-08-19 10:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15377.html">astral-sh/uv#15377</a> on 2025-08-19 10:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-08-19 13:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:11 UTC
    </footer>
</body>
</html>
