<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker image ghcr.io/astral-sh/... returns 403 Forbidden when pulling - astral-sh/uv #14513</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Docker image ghcr.io/astral-sh/... returns 403 Forbidden when pulling</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/14513">#14513</a>
        opened by <a href="https://github.com/kbukum1">@kbukum1</a>
        on 2025-07-08 23:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kbukum1">@kbukum1</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The official uv Docker image <code>ghcr.io/astral-sh/uv:0.7.1</code> is returning a 403 Forbidden error when attempting to pull it from GitHub Container Registry. This prevents using the image in Dockerfiles or pulling it directly.</p>
<h3>Minimal reproducible example:</h3>
<pre><code class="language-bash">docker pull ghcr.io/astral-sh/uv:0.7.1
</code></pre>
<p>Full error output:</p>
<pre><code>ERROR: failed to solve: ghcr.io/astral-sh/uv:0.7.1: failed to resolve source metadata for ghcr.io/astral-sh/uv:0.7.1: failed to authorize: failed to fetch oauth token: unexpected status from GET request to https://ghcr.io/token?scope=repository%3Aastral-sh%2Fuv%3Apull&amp;service=ghcr.io: 403 Forbidden
</code></pre>
<p>Additional context:</p>
<ul>
<li>This also fails when using the image in a Dockerfile with COPY --from=ghcr.io/astral-sh/uv:0.7.1</li>
<li>The error suggests an authentication/authorization issue with the GitHub Container Registry</li>
<li>Version 0.7.19 appears to have the same issue</li>
</ul>
<h3>Platform</h3>
<p>macOS 14 arm64</p>
<h3>Version</h3>
<p>uv 0.7.19 (attempting to access via Docker image)</p>
<h3>Python version</h3>
<p>N/A</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @kbukum1 on 2025-07-08 23:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-09 00:04</div>
            <div class="timeline-body"><p>I cannot reproduce</p>
<pre><code>‚ùØ docker pull ghcr.io/astral-sh/uv:0.7.1
0.7.1: Pulling from astral-sh/uv
</code></pre>
<p>Are you rate limited or something..?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @zanieb on 2025-07-09 00:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2025-07-09 00:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbukum1">@kbukum1</a> on 2025-07-09 00:12</div>
            <div class="timeline-body"><p>@zanieb ,</p>
<p>Here are some examples:</p>
<pre><code>=&gt; [internal] load metadata for docker.io/library/python:3.13.3-bookworm                                                0.9s
 =&gt; [auth] astral-sh/uv:pull token for ghcr.io                                                                           0.0s
------
 &gt; [internal] load metadata for ghcr.io/astral-sh/uv:0.7.1:
------
Dockerfile:181
--------------------
 179 |     
 180 |     # Install uv by copying from the official image
 181 | &gt;&gt;&gt; COPY --from=ghcr.io/astral-sh/uv:0.7.1 /uv /uvx /usr/local/bin/
 182 |     
 183 |     COPY --chown=dependabot:dependabot cargo $DEPENDABOT_HOME/cargo
--------------------
ERROR: failed to solve: ghcr.io/astral-sh/uv:0.7.1: failed to resolve source metadata for ghcr.io/astral-sh/uv:0.7.1: failed to authorize: failed to fetch oauth token: unexpected status from GET request to https://ghcr.io/token?scope=repository%3Aastral-sh%2Fuv%3Apull&amp;service=ghcr.io: 403 Forbidden

View build details: docker-desktop://dashboard/build/des
</code></pre>
<pre><code>git:(kamil/cleanup_cooldown) docker pull ghcr.io/astral-sh/uv:0.7.1
Error response from daemon: error from registry: denied
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbukum1">@kbukum1</a> on 2025-07-09 00:14</div>
            <div class="timeline-body"><p>Checked with my colleague, he is also getting error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-09 11:53</div>
            <div class="timeline-body"><p>Maybe try <code>docker logout ghcr.io</code>? Do you an expired token?</p>
<p>Regardless, the image is public.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbukum1">@kbukum1</a> on 2025-07-09 15:03</div>
            <div class="timeline-body"><blockquote>
<p>docker logout ghcr.io</p>
</blockquote>
<p>Thanks, @zanieb. <code>docker logout ghcr.io</code> worked out. After that I was able to rerun the docker to build the image.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbukum1 on 2025-07-09 15:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:32:03 UTC
    </footer>
</body>
</html>
