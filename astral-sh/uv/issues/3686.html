<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hint to &quot;try: `--prerelease=allow`&quot; when I already am - astral-sh/uv #3686</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Hint to &quot;try: `--prerelease=allow`&quot; when I already am</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/3686">#3686</a>
        opened by <a href="https://github.com/adamtheturtle">@adamtheturtle</a>
        on 2024-05-21 04:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/adamtheturtle">@adamtheturtle</a> on 2024-05-21 04:51</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>Apologies for not minimising this reproduction - I do not have the time right now and I hope that this report is still useful.
I am trying to restore an old project, https://github.com/adamtheturtle/dcos-e2e.</p>
<p>I try to install dependencies:</p>
<pre><code class="language-shell">$ uv --version
uv 0.1.45
$ uv pip install --exclude-newer 2018-10-08 --prerelease=allow --verbose .
INFO Found a virtualenv through VIRTUAL_ENV at: /Users/adam/.virtualenvs/dcos-e2e
DEBUG Cached interpreter info for Python 3.12.3, skipping probing: /Users/adam/.virtualenvs/dcos-e2e/bin/python
DEBUG Using Python 3.12.3 environment at /Users/adam/.virtualenvs/dcos-e2e/bin/python
DEBUG Trying to lock if free: /Users/adam/.virtualenvs/dcos-e2e/.lock
DEBUG At least one requirement is not satisfied: file:///Users/adam/Documents/forks/dcos-e2e
DEBUG Using registry request timeout of 30s
DEBUG Trying to lock if free: /Users/adam/Library/Caches/uv/built-wheels-v3/path/ffcc5eebe36891de/.lock
DEBUG Preparing metadata for: file:///Users/adam/Documents/forks/dcos-e2e
DEBUG No static `PKG-INFO` available for: file:///Users/adam/Documents/forks/dcos-e2e (MissingPkgInfo)
DEBUG No static `pyproject.toml` available for: file:///Users/adam/Documents/forks/dcos-e2e (MissingPyprojectToml)
DEBUG Solving with target Python version 3.12.3
DEBUG Adding direct dependency: setuptools&gt;=40.8.0
DEBUG Found fresh response for: https://pypi.org/simple/setuptools/
DEBUG Searching for a compatible version of setuptools (&gt;=40.8.0)
DEBUG No compatible version found for: setuptools
error: Failed to build: `file:///Users/adam/Documents/forks/dcos-e2e`
  Caused by: Failed to install requirements from setup.py build (resolve)
  Caused by: No solution found when resolving: setuptools&gt;=40.8.0
  Caused by: Because only setuptools&lt;40.8.0 is available and you require setuptools&gt;=40.8.0, we can conclude that the requirements are unsatisfiable.

hint: Pre-releases are available for setuptools in the requested range (e.g., 63.0.0b1), but pre-releases weren't enabled (try: `--prerelease=allow`)
</code></pre>
<p>I would not expect the <code>hint</code> at the bottom - I am already using <code>--prerelease=allow</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @konstin on 2024-05-21 09:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-21 11:44</div>
            <div class="timeline-body"><p>Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-05-21 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-21 18:41</div>
            <div class="timeline-body"><p>Mmm we don't propagate pre-releases to source distribution builds IIRC.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-21 18:58</div>
            <div class="timeline-body"><p>Not sure what to do here. I guess: don't show this at all for source builds?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pyprojectx/pyprojectx/issues/114.html">pyprojectx/pyprojectx#114</a> on 2024-08-22 07:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-10-15 00:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8192.html">astral-sh/uv#8192</a> on 2024-10-15 00:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-10-15 01:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:19 UTC
    </footer>
</body>
</html>
