<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON schema requires `version` in `tool.uv.dependency-metadata` - astral-sh/uv #9443</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>JSON schema requires `version` in `tool.uv.dependency-metadata`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/9443">#9443</a>
        opened by <a href="https://github.com/zeevro">@zeevro</a>
        on 2024-11-26 15:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zeevro">@zeevro</a> on 2024-11-26 15:10</div>
            <div class="timeline-body"><pre><code>$ uvx --from validate-pyproject[all,store] validate-pyproject pyproject.toml -vv
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.black` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.cibuildwheel` schema
[INFO] validate_pyproject.api.load_builtin_plugin defines `tool.distutils` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.hatch` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.mypy` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.pdm` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.poetry` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.pyright` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.ruff` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.scikit-build` schema
[INFO] validate_pyproject.api.load_builtin_plugin defines `tool.setuptools` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.setuptools_scm` schema
[INFO] validate_pyproject_schema_store.schema.get_schema defines `tool.uv` schema
Invalid file: pyproject.toml
[ERROR] `tool.uv.dependency-metadata[1]` must contain ['version'] properties

DESCRIPTION:
    A subset of the Python Package Metadata 2.3 standard as specified in
    &lt;https://packaging.python.org/specifications/core-metadata/&gt;.

GIVEN VALUE:
    {
        &quot;name&quot;: &quot;dkimpy&quot;,
        &quot;requires-dist&quot;: [
            &quot;dnspython&gt;=2.0.0&quot;
        ]
    }

OFFENDING RULE: 'required'

DEFINITION:
    {
        &quot;type&quot;: &quot;object&quot;,
        &quot;required&quot;: [
            &quot;name&quot;,
            &quot;version&quot;
        ],
        &quot;properties&quot;: {
            &quot;name&quot;: {
                &quot;description&quot;: &quot;The normalized name of a package.\n\nConverts the name to lowercase and collapses runs of `-`, `_`, and `.` down to a single `-`. For example, `---`, `.`, and `__` are all converted to a single `-`.\n\nSee: &lt;https://packaging.python.org/en/latest/specifications/name-normalization/&gt;&quot;,
                &quot;type&quot;: &quot;string&quot;
            },
            &quot;provides-extras&quot;: {
                &quot;default&quot;: [],
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: {
                    &quot;description&quot;: &quot;The normalized name of an extra dependency.\n\nConverts the name to lowercase and collapses runs of `-`, `_`, and `.` down to a single `-`. For example, `---`, `.`, and `__` are all converted to a single `-`.\n\nSee: - &lt;https://peps.python.org/pep-0685/#specification/&gt; - &lt;https://packaging.python.org/en/latest/specifications/name-normalization/&gt;&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }
            },
            &quot;requires-dist&quot;: {
                &quot;default&quot;: [],
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: {
                    &quot;description&quot;: &quot;A PEP 508 dependency specifier, e.g., `ruff &gt;= 0.6.0`&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }
            },
            &quot;requires-python&quot;: {
                &quot;description&quot;: &quot;PEP 508-style Python requirement, e.g., `&gt;=3.10`&quot;,
                &quot;type&quot;: [
                    &quot;string&quot;,
                    &quot;null&quot;
                ]
            },
            &quot;version&quot;: {
                &quot;description&quot;: &quot;PEP 440-style package version, e.g., `1.2.3`&quot;,
                &quot;type&quot;: &quot;string&quot;
            }
        }
    }
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9468.html">astral-sh/uv#9468</a> on 2024-11-27 13:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2024-11-27 13:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-11-27 13:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:01 UTC
    </footer>
</body>
</html>
