```yaml
number: 14268
title: uv sync fails to install torch due to platform mismatch (manylinux_2_27_x86_64 vs manylinux_2_28_x86_64)
type: issue
state: closed
author: Lastsource
labels:
  - question
assignees: []
created_at: 2025-06-26T06:37:18Z
updated_at: 2025-06-26T17:33:02Z
url: https://github.com/astral-sh/uv/issues/14268
synced_at: 2026-01-10T01:57:32Z
```

# uv sync fails to install torch due to platform mismatch (manylinux_2_27_x86_64 vs manylinux_2_28_x86_64)

---

_Issue opened by @Lastsource on 2025-06-26 06:37_

### Question

Running the command:

```
GIT_LFS_SKIP_SMUDGE=1 uv sync
```

results in the error:

```
Resolved 274 packages in 1ms
error: Distribution `torch==2.7.0 @ registry+https://pypi.org/simple` can't be installed because it doesn't have a source distribution or wheel for the current platform

hint: You're on Linux (`manylinux_2_27_x86_64`), but `torch` (v2.7.0) only has wheels for the following platforms: `manylinux_2_28_aarch64`, `manylinux_2_28_x86_64`, `macosx_11_0_arm64`, `win_amd64`; consider adding your platform to `tool.uv.required-environments` to ensure uv resolves to a version with compatible wheels
````

I have updated my system’s GLIBC and confirmed that `manylinux_2_28` is supported by Python and pip. For example, these commands confirm it:

```bash
ldd --version
Output ldd (Debian GLIBC 2.28-10+deb10u4) 2.28

python3 -c "import platform; print(platform.platform())"
Output Linux-5.4.0-150-generic-x86_64-with-glibc2.28

pip debug --verbose | grep manylinux_2_28
Shows manylinux_2_28_x86_64 support
```
However, `uv` still behaves as if the platform is `manylinux_2_27_x86_64` and fails to install the compatible torch wheel.

### Platform

_No response_

### Version

_No response_

---

_Label `question` added by @Lastsource on 2025-06-26 06:37_

---

_Comment by @konstin on 2025-06-26 09:40_

Can you run with `--refresh`? The glibc version that a Python interpreter uses is cached, and this flag updates it.

---

_Comment by @Lastsource on 2025-06-26 10:31_

> Can you run with `--refresh`? The glibc version that a Python interpreter uses is cached, and this flag updates it.

I commented out `rerun-sdk` and successfully ran `uv sync` — thank you!
![Image](https://github.com/user-attachments/assets/112a4c7a-1157-450d-9341-f96f4e47d7fa)
Then I tried running sync again with `"rerun-sdk>=0.21.0"` (not commented out), but I encountered a new issue:
![Image](https://github.com/user-attachments/assets/91c22101-2802-4ba7-8a09-fe98206629d9)
Should I continue with upgrading glibc?

---

_Comment by @konstin on 2025-06-26 10:40_

I can't speak for your specific setup, but I generally recommend using a newer linux distribution in that case.

---

_Closed by @charliermarsh on 2025-06-26 17:33_

---
