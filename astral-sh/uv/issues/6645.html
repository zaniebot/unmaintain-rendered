<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `UV_DEFAULT_PYTHON` environment variable - astral-sh/uv #6645</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>UV_DEFAULT_PYTHON</code> environment variable</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/6645">#6645</a>
        opened by <a href="https://github.com/unique1o1">@unique1o1</a>
        on 2024-08-26 15:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/unique1o1">@unique1o1</a></div>
            <div class="timeline-body"><p>When adding a <code>.python-version</code> file to a project and afterward using <code>uv sync</code>, the UV_PYTHON env variable takes more precedence over <code>.python-version</code> and doesn't change to the python version specified inside <code>.python-version</code>.</p>
<p>My Question:</p>
<p>Is this the intended behaviour?</p>
<p>UV version: 0.3.3 (deea6025a 2024-08-23)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-08-26 15:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-26 16:34</div>
            <div class="timeline-body"><p>I think this is intentional. <code>UV_PYTHON</code> is equivalent to setting <code>--python</code> and both take precedence over <code>.python-version</code> files. If you wanted different behavior, I think we'd need to introduce some sort of <code>UV_DEFAULT_PYTHON</code> variable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-08-26 16:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/unique1o1">@unique1o1</a> on 2024-08-27 10:30</div>
            <div class="timeline-body"><p>IMO, having <code>UV_DEFAULT_PYTHON</code>  will be more useful than  <code>UV_PYTHON</code>, since we already have <code>--python</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2024-08-27 11:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "UV_PYTHON env variable takes precedence over .python-version" to "Add `UV_DEFAULT_PYTHON` environment variable" by @zanieb on 2024-08-27 11:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @zanieb on 2024-08-27 11:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @zanieb by @zanieb on 2024-08-27 11:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ksamuel">@ksamuel</a> on 2025-02-03 08:12</div>
            <div class="timeline-body"><p>I agree. I mistakenly used <code>UV_PYTHON</code> to set the default python version when none is passed, and was surprised when running <code>uv run python</code> in a project started a different shell version than the one in .python-version.</p>
<p>Having a <code>UV_DEFAULT_PYTHON</code> (and signal it exists in the doc  and help message for <code>UV_PYTHON</code>) would help avoid this surprise. It's not uncommon to stick to a default version of Python for a while, and update it when needed, so an env var makes for that makes sense.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:32 UTC
    </footer>
</body>
</html>
