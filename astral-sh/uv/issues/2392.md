```yaml
number: 2392
title: "`uv pip compile` uses overly specific `python_version` with `-p` markers"
type: issue
state: closed
author: charliermarsh
labels:
  - bug
assignees: []
created_at: 2024-03-12T20:38:50Z
updated_at: 2024-03-13T00:11:51Z
url: https://github.com/astral-sh/uv/issues/2392
synced_at: 2026-01-10T01:57:05Z
```

# `uv pip compile` uses overly specific `python_version` with `-p` markers

---

_Issue opened by @charliermarsh on 2024-03-12 20:38_

`echo "pandas" | cargo run pip compile - -p 3.11.8` fails to include NumPy, I think we must be treating `python_version` as `3.11.8` instead of `3.11` in the markers or something. Pandas requirements are:

```
Requires-Dist: numpy<2,>=1.22.4; python_version < "3.11"
Requires-Dist: numpy<2,>=1.23.2; python_version == "3.11"
Requires-Dist: numpy<2,>=1.26.0; python_version >= "3.12"
```


---

_Label `bug` added by @charliermarsh on 2024-03-12 20:38_

---

_Referenced in [astral-sh/rye#875](../../astral-sh/rye/issues/875.md) on 2024-03-12 20:38_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-03-12 20:39_

---

_Referenced in [astral-sh/uv#2395](../../astral-sh/uv/pulls/2395.md) on 2024-03-12 21:16_

---

_Closed by @charliermarsh on 2024-03-13 00:11_

---
