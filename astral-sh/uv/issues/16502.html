<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[uv lock] Git Submodule Isolation support - astral-sh/uv #16502</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[uv lock] Git Submodule Isolation support</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16502">#16502</a>
        opened by <a href="https://github.com/DEKHTIARJonathan">@DEKHTIARJonathan</a>
        on 2025-10-29 20:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DEKHTIARJonathan">@DEKHTIARJonathan</a></div>
            <div class="timeline-body">Summary
<p>Given that <code>uv</code> supports creating monorepo. It started to become very very useful to start aggregating many projects using <code>git submodule</code>.</p>
<p><code>uv lock</code> functions with no problem at the top level of the monorepo. Unfortunately, it seems impossible to lock (independently) each <code>git submodule</code>.</p>
Why this matters ?
<p>Well, in a monorepo you don&#x27;t necessarily want only the top repo to provide a <code>uv.lock</code>, it&#x27;s very useful to also be able to lock the submodule.</p>
<p>Right now the only way to do that is to clone twice the repo (once in the monorepo, once outside), it&#x27;s quite annoying.</p>
Ideally
<p>One of these would probably sort of work well:</p>
<pre><code>uv lock --isolate-submodule
uv lock --project .  # this one exist but doesn&#x27;t work
uv lock --directory .  # this one exist but doesn&#x27;t work
</code></pre>
<p>I think the implementation would be reasonably simple but extremely helpful to manage monorepos.</p>
Example
<pre><code>[project]
name = &quot;My_Monorepo&quot;
version = &quot;1.0.0&quot;
dependencies = []
requires-python = &quot;&gt;=3.10&quot;

[tool.uv]
package = false

[tool.uv.sources]
mysubmodule = { workspace = true }

[tool.uv.workspace]
members = [
    &quot;mysubmodule&quot;,
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/DEKHTIARJonathan">@DEKHTIARJonathan</a> on 2025-10-29 20:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[uv lock] Git Submodule support&quot; to &quot;[uv lock] Git Submodule Isolation support&quot; by <a href="https://github.com/DEKHTIARJonathan">@DEKHTIARJonathan</a> on 2025-10-29 20:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-30 10:32</div>
            <div class="timeline-body"><p>In a workspace with submodules, I recommend path dependencies with <code>editable = true</code> over workspace dependencies. A path dependency means that the other package also exists on its own and can have its own lockfile and some extra and group options apply, otherwise workspace dependencies are internally treated as editable path dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> removed by <a href="https://github.com/konstin">@konstin</a> on 2025-10-30 10:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-10-30 10:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:40:50 UTC
    </footer>
</body>
</html>
