<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cargo run --bin uvx requires a manual step - astral-sh/uv #6847</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>cargo run --bin uvx requires a manual step</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6847">#6847</a>
        opened by <a href="https://github.com/dimaqq">@dimaqq</a>
        on 2024-08-30 01:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dimaqq">@dimaqq</a> on 2024-08-30 01:10</div>
            <div class="timeline-body"><p>To reproduce:</p>
<ul>
<li>cargo clean</li>
<li>cargo run --bin uvx</li>
</ul>
<p>fails with</p>
<pre><code class="language-command">&gt; cargo run --bin uvx
   Compiling proc-macro2 v1.0.86
   Compiling unicode-ident v1.0.12
...[snip]...
   Compiling tikv-jemallocator v0.6.0
   Compiling uv v0.4.0 (/code/uv/crates/uv)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 51.71s
     Running `target/debug/uvx`
error: No such file or directory (os error 2)
</code></pre>
<p>My understanding is that &quot;uv&quot; (crate? lib?) is compiled but uv binary is not linked:</p>
<pre><code class="language-command">&gt; ls -lt target/debug/
total 1112
-rw-r--r--@    1 dima  staff   15467 30 Aug 10:08 uvx.d
drwxr-xr-x@ 6082 dima  staff  194624 30 Aug 10:08 deps/
-rwxr-xr-x@    1 dima  staff  551992 30 Aug 10:08 uvx*
drwxr-xr-x@   44 dima  staff    1408 30 Aug 10:08 incremental/
drwxr-xr-x@   82 dima  staff    2624 30 Aug 10:07 build/
drwxr-xr-x@    2 dima  staff      64 30 Aug 10:07 examples/
</code></pre>
<p>Meanwhile, uvx parses arguments and exec's (I think) uv, which is not there.</p>
<p>To work around:</p>
<ul>
<li>[opt] cargo clean</li>
<li>cargo run -- --help  # builds uv</li>
<li>cargo run --bin uvx -- --help  # ok!</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6848.html">astral-sh/uv#6848</a> on 2024-08-30 01:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-30 12:45</div>
            <div class="timeline-body"><p>You should just run <code>cargo run -- tool run</code> -- <code>uvx</code> isn't intended to be run directly during development :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-08-30 12:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-30 12:45</div>
            <div class="timeline-body"><p><code>uvx</code> depends on a <code>uv</code> binary existing alongside it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-30 12:48</div>
            <div class="timeline-body"><p>For what it's worth, I do use <code>cargo run --bin uvx</code> sometimes to test things <em>specific</em> to the uvx interface â€” but yeah you need a compiled <code>uv</code> binary.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:35 UTC
    </footer>
</body>
</html>
