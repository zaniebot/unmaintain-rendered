<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sync does not pull latest commit from github dependency - astral-sh/uv #9146</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>sync does not pull latest commit from github dependency</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9146">#9146</a>
        opened by <a href="https://github.com/fccoelho">@fccoelho</a>
        on 2024-11-15 12:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/fccoelho">@fccoelho</a></div>
            <div class="timeline-body"><p>I have a dependency on one of my projects, which is based on GitHub.</p>
<p>When I used Poetry, the <code>poetry update</code> command would always pull the latest commit in the repo of the dependency.
That allowed my project to be in sync with the very latest changes in the main branch of the dependency.</p>
<p><code>uv sync</code> does not do that by default. apparently it pulls the latest release or tag, I am not sure.</p>
<p>Is there some flag or option to change this default behavior to match that of poetry?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2024-11-15 13:51</div>
            <div class="timeline-body"><p><code>uv sync</code>: Syncing ensures that all project dependencies are installed and up-to-date with the lockfile.
Therefore, you need to relock your dependencies. You can do this using <code>uv lock --upgrade</code>. If you want to specify a package to upgrade, use <code>--upgrade-package &lt;package&gt;</code>
https://docs.astral.sh/uv/concepts/projects/#upgrading-locked-package-versions</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-15 13:59</div>
            <div class="timeline-body"><p>Yeah you want <code>uv lock --upgrade</code> or <code>uv lock --upgrade package &lt;package&gt;</code>, as @FishAlchemist said.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-15 13:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fccoelho">@fccoelho</a> on 2024-11-15 16:45</div>
            <div class="timeline-body"><p>Thanks, for the suggestion to use the <code>--upgrade</code> option.</p>
<p>I haven&#x27;t tried it yet because meanwhile I have found another solution to this issue: simply adding a <code>branch=&quot;main&quot;</code> to the dependency on pyproject.toml, like so:</p>
<pre><code>[tool.uv.sources]
mydep = { git = &quot;https://github.com/author/mydep&quot;, branch = &quot;main&quot; }
</code></pre>
<p>Makes <code>uv sync</code> always sync to the latest commit in the branch.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-15 16:48</div>
            <div class="timeline-body"><p>I&#x27;m not sure that that&#x27;s true. Is it possible that it just worked on first <code>uv sync</code>, when you added it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fccoelho">@fccoelho</a> on 2024-11-15 17:12</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m not sure that that&#x27;s true. Is it possible that it just worked on first <code>uv sync</code>, when you added it?</p>
</blockquote>
<p>Yes, you&#x27;re right. It worked before because I had also created a new tag in the dependency repo. So <code>uv sync</code> automatically upgraded to it. Now I tested without adding a new tag, after a new commit, and it didn&#x27;t upgrade.</p>
<p>The <code>uv lock --upgrade-package &lt;package name&gt;</code> worked as expected, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-18 19:28</div>
            <div class="timeline-body"><p>I think this <em>is</em> working as expected then.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-18 19:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-18 19:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:35:30 UTC
    </footer>
</body>
</html>
