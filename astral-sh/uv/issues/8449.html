<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request: Environment variable or CLI parameter to disable manylinux wheels - astral-sh/uv #8449</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Feature Request: Environment variable or CLI parameter to disable manylinux wheels</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/8449">#8449</a>
        opened by <a href="https://github.com/pythonweb2">@pythonweb2</a>
        on 2024-10-22 13:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pythonweb2">@pythonweb2</a> on 2024-10-22 13:02</div>
            <div class="timeline-body"><p>UV supports PEP 600 (partially), for disablement of manylinux wheels, which is great. (https://docs.astral.sh/uv/pip/compatibility/#manylinux_compatible-enforcement).</p>
<p>One of the feature requests of pip years ago was to have a CLI option to also enable this behavior (see https://github.com/pypa/pip/issues/3689#issuecomment-237369552).</p>
<p>My request is to add that CLI option (e.g. <code>--no-manylinux</code>), or if that is too much, perhaps another option that would probably(?) be easier to implement would be a <code>UV_NO_MANYLINUX</code> environment variable that could be set to disable this.</p>
<p>The reason I think this would be helpful, is that when managing a project with a lockfile, there doesn't seem to be a clean way in a Dockerfile or pipeline to first install one package (e.g. no-manylinux), and then install the rest of the dependencies afterwards. It seems like <code>uv sync --frozen</code> will create then <code>venv</code>, then install the dependencies you have in the lockfile, with no option to install something in the venv before installation.</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-22 16:14</div>
            <div class="timeline-body"><p>Regarding installing something before syncing, you could do something like this?</p>
<pre><code>uv venv
uv pip install &lt;package&gt;
uv sync --frozen --inexact
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pythonweb2">@pythonweb2</a> on 2024-10-22 16:37</div>
            <div class="timeline-body"><p>Well that is less painful of a workaround than I was expecting. I was thinking I would need to export the dependencies, then install them with <code>uv pip install</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-22 16:59</div>
            <div class="timeline-body"><p>Well, you'll need to export it if you want the version to come from the lockfile. We're also considering adding an <code>--only-install-package</code> in the same way as we have <code>--no-install-package</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pythonweb2">@pythonweb2</a> on 2024-10-22 17:05</div>
            <div class="timeline-body"><p>My apologies, I didn't quite understand. Are you saying that running <code>uv sync --frozen --inexact</code> won't install the packages that are in the lockfile into the project venv?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-22 17:07</div>
            <div class="timeline-body"><p><code>uv pip install &lt;package&gt;</code> won't install the version of <code>package</code> defined in your lockfile, if any.</p>
<p><code>uv sync --frozen --inexact</code> will respect your lockfile yes, it just won't remove extraneous packages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pythonweb2">@pythonweb2</a> on 2024-10-22 17:10</div>
            <div class="timeline-body"><p>Ok, that is more clear now. Yes I think having something like <code>--only-install-package</code> would be nice, that way I could add the <code>no-manylinux</code> package to my dependencies, and just run <code>uv sync --only-install-package no-manylinux</code> before running the <code>uv sync --frozen</code> command.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @charliermarsh on 2024-11-20 00:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2024-11-20 00:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:23 UTC
    </footer>
</body>
</html>
