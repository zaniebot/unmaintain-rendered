```yaml
number: 2112
title: uv pip install --resolution lowest-direct not working with in editable installs
type: issue
state: closed
author: tlambert03
labels:
  - bug
assignees: []
created_at: 2024-03-01T14:55:37Z
updated_at: 2024-03-01T16:00:46Z
url: https://github.com/astral-sh/uv/issues/2112
synced_at: 2026-01-10T01:57:04Z
```

# uv pip install --resolution lowest-direct not working with in editable installs

---

_Issue opened by @tlambert03 on 2024-03-01 14:55_

First off, *thank you* for the `--resolution=lowest` feature.  It's a huge boon to developers.

I'm seeing odd behavior with uv 0.1.13 when trying to install my local package (which uses `pyproject.toml` to declare deps) in editable mode.  Specifically, it works if I use `uv pip install --resolution lowest -e .` but does *not* work with `uv pip install --resolution lowest-direct -e .`.  However, `uv pip compile` works in both cases.

my pyproject.toml includes these dependencies
```toml
dependencies = [
    "platformdirs >=3.0.0",
    "numpy >=1.26",
    "wrapt >=1.12.1",
]
```

and here is some example output

```shell

$ uv --version
uv 0.1.13

$ uv venv
Using Python 3.12.2 interpreter at: /opt/homebrew/opt/python@3.12/bin/python3.12
Creating virtualenv at: .venv
Activate with: source .venv/bin/activate

$ source .venv/bin/activate
```

pip compile works fine with both resolution cases

```shell
$ uv pip compile --resolution lowest pyproject.toml
Resolved 3 packages in 190ms
# This file was autogenerated by uv via the following command:
#    uv pip compile --resolution lowest pyproject.toml
numpy==1.26.0
platformdirs==3.0.0
wrapt==1.12.1

$ uv pip compile --resolution lowest-direct pyproject.toml
Resolved 3 packages in 128ms
# This file was autogenerated by uv via the following command:
#    uv pip compile --resolution lowest-direct pyproject.toml
numpy==1.26.0
platformdirs==3.0.0
wrapt==1.12.1
```

but when I try to install with `--resolution lowest-direct`, I get the latest versions of my direct dependencies

```shell

$ uv pip install --resolution lowest-direct -e .
   Built file:///~/dev/self/my-package
Built 1 editable in 436ms
Resolved 4 packages in 1ms
Installed 4 packages in 7ms
 + numpy==1.26.4
 + platformdirs==4.2.0
 + my-package==0.9.3.dev0+g56e35ea.d20240301 (from file:///~/dev/self/my-package)
 + wrapt==1.16.0
```

`--resolution lowest` *does* work with editable installs (but I want to use `lowest-direct`)

```
$ uv pip install --resolution lowest -e . --force-reinstall
   Built file:///~/dev/self/my-package
Built 1 editable in 307ms
Resolved 4 packages in 1ms
Installed 4 packages in 7ms
 - numpy==1.26.4
 + numpy==1.26.0
 - platformdirs==4.2.0
 + platformdirs==3.0.0
 - my-package==0.9.3.dev0+g56e35ea.d20240301 (from file:///~/dev/self/my-package)
 + my-package==0.9.3.dev0+g56e35ea.d20240301 (from file:///~/dev/self/my-package)
 - wrapt==1.16.0
 + wrapt==1.12.1
```

Thanks

---

_Assigned to @charliermarsh by @charliermarsh on 2024-03-01 14:56_

---

_Label `bug` added by @charliermarsh on 2024-03-01 14:56_

---

_Comment by @charliermarsh on 2024-03-01 14:56_

I think we're not considering dependencies in editables to be "direct", but we probably should.

---

_Comment by @charliermarsh on 2024-03-01 15:17_

Fixing now.

---

_Comment by @tlambert03 on 2024-03-01 15:18_

you're awesome

---

_Referenced in [astral-sh/uv#2114](../../astral-sh/uv/pulls/2114.md) on 2024-03-01 15:27_

---

_Closed by @charliermarsh on 2024-03-01 16:00_

---
