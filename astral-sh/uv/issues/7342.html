<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Feature request] Avoiding .venv in production - astral-sh/uv #7342</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Feature request] Avoiding .venv in production</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7342">#7342</a>
        opened by <a href="https://github.com/pkucmus">@pkucmus</a>
        on 2024-09-12 20:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pkucmus">@pkucmus</a></div>
            <div class="timeline-body"><p>Related to: https://github.com/astral-sh/uv/issues/7341</p>
<p>When making a Docker image with my application I would like to achieve the equivalent of Poetry's <code>POETRY_VIRTUALENVS_CREATE=false</code> to use the only Python interpreter in the container. This would reduce need for consideration over the .venv directory being mixed in the host and in the container (as the container would not have one)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jond01">@jond01</a> on 2024-09-12 20:27</div>
            <div class="timeline-body"><p>Don't the following satisfy your request:</p>
<ul>
<li><code>--system</code> flag:
https://docs.astral.sh/uv/reference/settings/#pip_system</li>
<li><code>UV_SYSTEM_PYTHON=true</code> environment variable:
https://docs.astral.sh/uv/configuration/environment/</li>
</ul>
<p>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-12 20:33</div>
            <div class="timeline-body"><p>Please see https://docs.astral.sh/uv/concepts/projects/#configuring-the-project-environment-path and https://docs.astral.sh/uv/guides/integration/docker/#using-the-environment</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-12 20:37</div>
            <div class="timeline-body"><p>This was addressed in https://github.com/astral-sh/uv/pull/6834</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-09-12 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-09-12 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-09-12 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pkucmus">@pkucmus</a> on 2024-09-12 20:51</div>
            <div class="timeline-body"><p>Sorry, I saw this but did not connect the dots that it's about that problem, for anyone else, https://github.com/astral-sh/uv/pull/6834#issuecomment-2319253359 this is a perfect solution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-13 01:44</div>
            <div class="timeline-body"><p>No problem we can work on improving it. Is there anything in the docs that would be helpful to change?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pkucmus">@pkucmus</a> on 2024-09-13 08:07</div>
            <div class="timeline-body"><blockquote>
<p>Don't the following satisfy your request:</p>
<pre><code>* `--system` flag:
  [docs.astral.sh/uv/reference/settings#pip_system](https://docs.astral.sh/uv/reference/settings/#pip_system)

* `UV_SYSTEM_PYTHON=true` environment variable:
  [docs.astral.sh/uv/configuration/environment](https://docs.astral.sh/uv/configuration/environment/)</code></pre>
<p>?</p>
</blockquote>
<p>Don't see the <code>--system</code> flag in 0.4.9 but I do see --python-preference=only-system
but then when I set <code>ENV UV_PYTHON_PREFERENCE=only-system</code> <code>uv sync --frozen --no-install-project --no-dev</code> still creates <code>.venv</code>
<code>uv --system sync</code> errors out <code>error: unexpected argument '--system' found</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pkucmus">@pkucmus</a> on 2024-09-13 08:10</div>
            <div class="timeline-body"><p>@zanieb I'm currently looking into moving from pyenv, pipx, Poetry to uv and set uv as a company standard, I will explore more and can share my journey and/or feedback here, if that &quot;Poetry user's journey&quot; point of view would be at all helpful to you and your team working on uv.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:05 UTC
    </footer>
</body>
</html>
