<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv cannot spawn gunicorn in uv project - astral-sh/uv #15246</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv cannot spawn gunicorn in uv project</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/15246">#15246</a>
        opened by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a>
        on 2025-08-12 22:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CNOCTAVE">@CNOCTAVE</a></div>
            <div class="timeline-body">Summary
<p>For example, without uv,
$ gunicorn --chdir=/data/www/octave_docs/octave_docs_search_api search_api:app -w 4 -k uvicorn.workers.UvicornWorker --bind 127.0.0.1:8001
this code runs well.
But, with uv,
$ uv run gunicorn --chdir=/data/www/octave_docs/octave_docs_search_api search_api:app -w 4 -k uvicorn.workers.UvicornWorker --bind 127.0.0.1:8001
throws an error of &quot;error: Failed to spawn <code>gunicorn</code> Caused by: No such file or directory&quot;</p>
Platform
<p>Fedora 42 Cloud</p>
Version
<p>uv 0.8.9</p>
Python version
<p>Python 3.12.3</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:11</div>
            <div class="timeline-body"><p>I also tried:
$ uv run -- gunicorn --chdir=/data/www/octave_docs/octave_docs_search_api search_api:app -w 4 -k uvicorn.workers.UvicornWorker --bind 127.0.0.1:8001
this code throws the exactly same error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 22:12</div>
            <div class="timeline-body"><p>Can you share <code>-vv</code> logs of the <code>uv run</code> invocation please?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 22:12</div>
            <div class="timeline-body"><p>This is also not trivially reproducible, e.g.,</p>
<pre><code>❯ uv init example
Initialized project `example` at `/Users/zb/workspace/uv/example`
❯ cd example
❯ uv add gunicorn
Using CPython 3.14.0rc1 interpreter at: /Users/zb/.local/bin/python3.14
Creating virtual environment at: .venv
Resolved 3 packages in 207ms
Prepared 1 package in 110ms
Installed 2 packages in 12ms
 + gunicorn==23.0.0
 + packaging==25.0
❯ uv run gunicorn

Error: No application module specified.
</code></pre>
<p>So we will need more information about your setup.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:13</div>
            <div class="timeline-body"><p><img alt="Image" src="https://github.com/user-attachments/assets/9ab2136d-4c8a-40ab-a9d5-a17d7dc5a1fb"> @zanieb nothing more verbose</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:14</div>
            <div class="timeline-body"><blockquote>
<p>This is also not trivially reproducible, e.g.,</p>
<pre><code>❯ uv init example
Initialized project `example` at `/Users/zb/workspace/uv/example`
❯ cd example
❯ uv add gunicorn
Using CPython 3.14.0rc1 interpreter at: /Users/zb/.local/bin/python3.14
Creating virtual environment at: .venv
Resolved 3 packages in 207ms
Prepared 1 package in 110ms
Installed 2 packages in 12ms
 + gunicorn==23.0.0
 + packaging==25.0
❯ uv run gunicorn

Error: No application module specified.
</code></pre>
<p>So we will need more information about your setup.</p>
</blockquote>
<p>ok.</p>
<pre><code># cd /data/www/octave_docs
# uv init octave_docs_search_api --python 3.12.3
# cp search_api.py ./octave_docs_search_api/
# cp requirements.txt ./octave_docs_search_api/
# cd octave_docs_search_api
# uv add -r requirements.txt
</code></pre>
<p>where the requirements.txt is:</p>
<pre><code>fastapi[all]~=0.109.2
starlette~=0.36.3
typing_extensions~=4.9.0
pydantic~=2.5.3
python-jose[cryptography]~=3.3.0
passlib~=1.7.4
uvicorn~=0.27.0
snowflake-util~=1.0.0b6
setuptools
gunicorn
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 22:14</div>
            <div class="timeline-body"><p>Please don&#x27;t use screenshots.</p>
<p>You&#x27;re passing <code>-vv</code> to guvicorn there instead of to <code>uv run</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:16</div>
            <div class="timeline-body"><blockquote>
<p>Please don&#x27;t use screenshots.</p>
<p>You&#x27;re passing <code>-vv</code> to guvicorn there instead of to <code>uv run</code>.</p>
</blockquote>
<p>im using vnc.
uv misc doesnt support
$ uv something &gt; log.txt
I want to export log too ^_^</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:17</div>
            <div class="timeline-body"><p><img alt="Image" src="https://github.com/user-attachments/assets/76d4b1e4-8d7f-45cc-9fd8-5343640cc302"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 22:18</div>
            <div class="timeline-body"><p>What does <code>head .venv/bin/gunicorn</code> show?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:19</div>
            <div class="timeline-body"><p><img alt="Image" src="https://github.com/user-attachments/assets/d430677e-ebfc-49c9-9d58-7c39b643313a">No such file or directory</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 22:21</div>
            <div class="timeline-body"><p>What version of gunicorn is being installed? Does it persist if you <code>uv venv --clear</code>? It&#x27;s weird the file is missing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CNOCTAVE">@CNOCTAVE</a> on 2025-08-12 22:24</div>
            <div class="timeline-body"><p>gunicorn==23.0.0
It persists.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-12 22:48</div>
            <div class="timeline-body"><p>How about <code>uv venv --clear &amp;&amp; uv run --no-cache gunicorn</code>? Are other entry points broken? This is pretty weird. Unlikely I&#x27;ll be able to diagnose without a minimal reproduction on my machine or complete logs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/niels1voo">@niels1voo</a> on 2025-08-22 20:27</div>
            <div class="timeline-body"><p>same issue for me on amazonlinux:2023 deployed on fargate. locally it starts up fine with docker compose. same error as OP on ECS. going to rollback uv version until one works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-22 22:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nicolaygerold">@nicolaygerold</a> on 2025-10-10 06:34</div>
            <div class="timeline-body"><p>I hit this because the shebang in the .venv/bin/gunicorn was incorrect. I moved the project to a different folder.
rm -rf .venv &amp;&amp; uv sync did it for the local dev (also dockerized).
I would look into your deploy scripts whether anything could produce a false shebang and check the shebang in gunicorn.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rubms">@rubms</a> on 2025-10-23 14:35</div>
            <div class="timeline-body"><p>I&#x27;ve had the same issues. It works locally but in ECS it times out. My recommendation: don&#x27;t use uv inside the container, and use the system Python environment instead. I tried with <code>uv pip install --system</code> but it still failed. The only way I made it work:</p>
<pre><code>RUN uv export --frozen --no-hashes -o requirements.txt
RUN pip install -r requirements.txt
</code></pre>
<p>This way I have the advantages of uv locally, but in CI/CD I leverage the container Python instance and prevent the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-10-23 15:52</div>
            <div class="timeline-body"><p>If you have a Dockerfile that reproduces this problem, please share it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Clover-Kevin-Chen">@Clover-Kevin-Chen</a> on 2026-01-21 15:35</div>
            <div class="timeline-body"><p>I also ran into this problem, and the issue for me was that using a multi-stage Dockerfile, the last stage was copying over the dependencies from the build stage, but they had different WORKDIR, so that was causing the issue - once the 2 WORKDIR were the same, the problem was fixes (also using <code>uv run gunicorn ...</code>)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-21 16:08:38 UTC
    </footer>
</body>
</html>
