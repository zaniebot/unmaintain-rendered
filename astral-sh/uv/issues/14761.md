```yaml
number: 14761
title: build backend toml parse failure on pyproject readme
type: issue
state: closed
author: CoderJoshDK
labels:
  - bug
assignees: []
created_at: 2025-07-20T20:56:39Z
updated_at: 2025-07-20T21:39:47Z
url: https://github.com/astral-sh/uv/issues/14761
synced_at: 2026-01-10T01:57:33Z
```

# build backend toml parse failure on pyproject readme

---

_Issue opened by @CoderJoshDK on 2025-07-20 20:56_

### Summary

When upgrading one of my packages to use the new build backend, I got the following error:

```sh
Resolved 20 packages in 1ms
  × Failed to build `wiopy @ file:///Users/joshie/Dev/projects/github/Walmart%20Wrapper`
  ├─▶ The build backend returned an error
  ╰─▶ Call to `uv_build.build_editable` failed (exit status: 1)

      [stderr]
      Error: Invalid pyproject.toml

      Caused by:
          TOML parse error at line 6, column 10
            |
          6 | readme = {file = "README.md", content-type = "text/markdown"}
            |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
          data did not match any variant of untagged enum Readme


      Stack backtrace:
         0: __mh_execute_header
         1: __mh_execute_header
         2: __mh_execute_header
         3: __mh_execute_header
         4: __mh_execute_header

      hint: This usually indicates a problem with the package or the build environment.
```

This parsing error should likely not happen. [Looking at the packaging docs](https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#readme), this pattern seems possible. Because the file ends in `md`, I will modify my pyproject to be just `readme = "README.md`; but I figured this was still work raising. 

To reproduce:

```sh
uv init --package test
cd test
vim pyproject.toml  # modify readme setting to match `readme = {file = "README.md", content-type = "text/markdown"}`
```

### Platform

Darwin 24.5.0 arm64

### Version

uv 0.8.0 (Homebrew 2025-07-17)

### Python version

Python 3.13.5

---

_Label `bug` added by @CoderJoshDK on 2025-07-20 20:56_

---

_Comment by @charliermarsh on 2025-07-20 21:18_

Thanks, will take a look.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-07-20 21:22_

---

_Referenced in [astral-sh/uv#14762](../../astral-sh/uv/pulls/14762.md) on 2025-07-20 21:38_

---

_Closed by @charliermarsh on 2025-07-20 21:38_

---

_Comment by @charliermarsh on 2025-07-20 21:39_

Thank you, fixed in https://github.com/astral-sh/uv/pull/14762.

---
