<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should error on `uv run pip`? - astral-sh/uv #7215</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Should error on <code>uv run pip</code>?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/7215">#7215</a>
        opened by <a href="https://github.com/Kludex">@Kludex</a>
        on 2024-09-09 11:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Kludex">@Kludex</a></div>
            <div class="timeline-body"><p>Hi there,</p>
<p>It took me some time to realize I was running <code>uv run pip</code> instead of <code>uv pip</code>.</p>
<p>I don't really know the difference, but when running <code>uv run</code> after what I did with <code>uv run pip</code> was removed from the <code>.venv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-09-11 04:33</div>
            <div class="timeline-body"><p>isn't that intended? i believe the later invocation of <code>uv pip</code> / <code>pip</code> is expected to write over the current state of the virtual environment, e.g.</p>
<pre><code>$ uv pip install pandas
Resolved 6 packages in 13ms
Installed 6 packages in 48ms
 + numpy==2.1.1
 + pandas==2.2.2
 + python-dateutil==2.9.0.post0
 + pytz==2024.2
 + six==1.16.0
 + tzdata==2024.1
</code></pre>
<p>followed by</p>
<pre><code>$ uv pip install numpy~=1.0
Resolved 1 package in 10ms
Uninstalled 1 package in 41ms
Installed 1 package in 14ms
 - numpy==2.1.1
 + numpy==1.26.4
</code></pre>
<p>overrides the numpy version.</p>
<p>also given that <code>uv run</code> is designed to (someone correct me if i'm wrong here) support <em>any</em> arbitrary command that follows, erring on a particular command (i.e. <code>pip</code>) feels like a hack.</p>
<p>in fact, i think there may be some use cases (albeit not ideal) where one wants to combine the use of <code>pip</code> and <code>uv pip</code> (e.g. if <code>pip</code> and <code>uv pip</code> behave differently in some configuration).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-09-22 23:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-21 21:45</div>
            <div class="timeline-body"><p>Probably a duplicate of https://github.com/astral-sh/uv/issues/5839</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-10-21 21:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:59 UTC
    </footer>
</body>
</html>
