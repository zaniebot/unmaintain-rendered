<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pip compile with local disk package without hard dependency on uv? - astral-sh/uv #3593</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>pip compile with local disk package without hard dependency on uv?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/3593">#3593</a>
        opened by <a href="https://github.com/Nomelas">@Nomelas</a>
        on 2024-05-14 21:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Nomelas">@Nomelas</a> on 2024-05-14 21:13</div>
            <div class="timeline-body"><p>This is my situation,</p>
<p>In my project i have a <code>pyproject.toml</code> which contains my dependencies and maps my <code>lib</code> directory as a local package.
When i run <code>pip install .</code> it installs my dependencies and my lib directory as my project name (my-project for example) and version specified in my <code>pyproject.toml</code> (version is actually dynamic).</p>
<p>In order to have <code>uv pip compile</code> also include my local package, i needed to create a requirements.in which contains only <code>.</code> (i have a separate one for requirements-dev.in containing <code>-e .[dev]</code> for additional development dependencies).</p>
<p>When I run <code>uv pip compile requirements.in -o requirements.txt</code>, it generates the file as expected except for the line;
<code>my-project @ .</code></p>
<p>When I run <code>uv pip compile requirements-dev.in -o requirements-dev.txt</code>, it generates the file as expected except for the line;
<code>-e .</code></p>
<p>Now, when I run vanilla <code>pip install -r requirements-dev.txt</code> it works as expected, but when I run <code>pip install -r requirements.txt</code>, it complains that the line <code>my-project @ .</code> is not valid. This works fine however when running <code>uv pip install -r requirements.txt</code> but my goal is to not have a hard dependency on uv when installing already pinned versions like this. Is it possible to accomplish this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "pip compile with local disk package?" to "pip compile with local disk package without hard dependency on uv?" by @Nomelas on 2024-05-14 21:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Nomelas">@Nomelas</a> on 2024-05-14 22:51</div>
            <div class="timeline-body"><p>manually replacing &quot;my-project @ .&quot; with &quot;.&quot; makes it work with pip, but there must be a better way?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-14 23:09</div>
            <div class="timeline-body"><p>Yes, pip does not support relative paths with named dependencies, and we always output with names. You can track and chime in here if you'd like: https://github.com/astral-sh/uv/issues/3180</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-14 23:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-05-15 03:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:19 UTC
    </footer>
</body>
</html>
