<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No type annotations for find_uv_bin - astral-sh/uv #1677</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No type annotations for find_uv_bin</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1677">#1677</a>
        opened by <a href="https://github.com/gaborbernat">@gaborbernat</a>
        on 2024-02-19 01:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gaborbernat">@gaborbernat</a></div>
            <div class="timeline-body"><p>I'm using <code>find_uv_bin</code> inside https://github.com/tox-dev/tox-uv/blob/main/src/tox_uv/_venv.py#L14, but mypy complain that this method is not exposed (no <code>__all__</code> containing it) and also no type annotations for it (because https://peps.python.org/pep-0561/#packaging-type-information is missing from the Python package, plus actual type annotations for it)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-19 02:04</div>
            <div class="timeline-body"><p>Hi! This is not a public function, <code>__main__</code> is intended for internal use only.</p>
<p>We could consider exposing <code>find_uv_bin</code> in <code>__init__</code> but I would say in general we are very hesitant to commit to a Python API at this stage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-02-19 02:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2024-02-19 02:11</div>
            <div class="timeline-body"><p>In the world of Python <code>__main__</code> is a public module... You might want to move it to something like _uv... But I'd ask for this one method to be public ðŸ˜…</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-19 02:27</div>
            <div class="timeline-body"><p>I mean, it's Python everything is &quot;public&quot;. I don't think <code>__main__</code> is a module you're meant to be importing things from. It's meant to be a script entrypoint for the module.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2024-02-19 02:41</div>
            <div class="timeline-body"><p>That's not true by convention anything starting with an underscore is considered private.</p>
<p>Magic modules are also considered public as far as I understand, so yes, they are meant to be importable. They just also serve another functionality on top of that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-19 03:35</div>
            <div class="timeline-body"><p>I would strongly discourage you from importing from our <code>__main__</code> module. Whether by convention or not (I cannot find any documentation saying either way), this is not a part of our public API.</p>
<p>It looks like it does have type annotations already? I'm happy to add a <code>py.typed</code> marker and consider moving it to <code>__init__.py</code> though if it's useful. I'm surprised we haven't gotten similar requests in Ruff (which has an identical setup).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @zanieb on 2024-02-19 04:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-02-20 15:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:23:47 UTC
    </footer>
</body>
</html>
