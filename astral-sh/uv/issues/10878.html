<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add option to save pypi token with cli command - astral-sh/uv #10878</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Add option to save pypi token with cli command</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/10878">#10878</a>
        opened by <a href="https://github.com/thewh1teagle">@thewh1teagle</a>
        on 2025-01-22 22:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/thewh1teagle">@thewh1teagle</a> on 2025-01-22 22:26</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><code>uv auth login</code> will be useful to enter pypi token once and save it automatically in uv configuration. currently I need to declare the pypi token in environment variable each time when I publish.
we can take inspiration from github cli.</p>
<h3>Example</h3>
<pre><code class="language-console">uv auth login
&gt; Please open https://pypi.org/manage/account/token and create new token and then paste it here. Finally - press Enter
&gt; *********************
&gt; Success! token saved in ~/.uv-token
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @thewh1teagle on 2025-01-22 22:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MithicSpirit">@MithicSpirit</a> on 2025-01-22 22:49</div>
            <div class="timeline-body"><p>There are precedents for this kind of behavior. For example, github-cli has a similar feature with <code>gh auth login</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../davep/hike/pulls/125.html">davep/hike#125</a> on 2025-08-18 10:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/asmaier">@asmaier</a> on 2025-10-31 14:43</div>
            <div class="timeline-body"><p>In the meantime <code>uv</code> has added and <code>uv auth login</code> cli command, see https://docs.astral.sh/uv/concepts/authentication/cli/ .</p>
<p>To use it with pypi do the following</p>
<pre><code>$ uv auth login upload.pypi.org                      
username: __token__
password: 
</code></pre>
<p>As username you have to enter <code>__token__</code>. As password copy-paste your token from pypi.
To publish your packages on pypi you can then simply do</p>
<pre><code>$ uv publish --username __token__
</code></pre>
<blockquote>
<p>[!CAUTION]
Be aware that this will store your token <strong>unencrypted</strong> in your home directory. You can see it in clear text at</p>
<pre><code>$ less ~/.local/share/uv/credentials/credentials.toml
</code></pre>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-12-18 15:03</div>
            <div class="timeline-body"><p>We're working on improving the auth experience to make it more ergonomic and have better keyring integration, but the general feature now exists.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-12-18 15:03</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:25 UTC
    </footer>
</body>
</html>
