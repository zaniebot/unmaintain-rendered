```yaml
number: 10882
title: uv export does not check for existence of groups when used with --frozen
type: issue
state: closed
author: gazpachoking
labels:
  - enhancement
assignees: []
created_at: 2025-01-23T02:46:31Z
updated_at: 2025-02-14T15:54:29Z
url: https://github.com/astral-sh/uv/issues/10882
synced_at: 2026-01-10T01:57:25Z
```

# uv export does not check for existence of groups when used with --frozen

---

_Issue opened by @gazpachoking on 2025-01-23 02:46_

### Summary

When doing a uv export with `--group` or `--only-group`, a non-zero exit code and error are normally shown.
```console
$ uv export --only-group aoeu
error: Group `aoeu` is not defined in the project's `dependency-group` table
```
However, non-existent groups are not checked for when the `--frozen` flag is defined.
```console
$ uv export --only-group aoeu --frozen
# This file was autogenerated by uv via the following command:
#    uv export --only-group aoeu --frozen
```

### Platform

Windows 11 x86_64

### Version

uv 0.5.23

### Python version

3.11.0

---

_Label `bug` added by @gazpachoking on 2025-01-23 02:46_

---

_Comment by @charliermarsh on 2025-01-23 02:49_

Yeah I think this is fine. With `--frozen`, we don't require that all of the `pyproject.toml` files are available, since it's common for users to run this in a Docker layer, and only copy over the workspace root. So there actually _can_ be groups referenced that aren't visible to the command.

---

_Comment by @charliermarsh on 2025-01-23 02:52_

We can maybe shift this to being based on the lockfile instead? So look at the lockfile to figure out the available groups, rather than looking at the `pyproject.toml`.


---

_Comment by @gazpachoking on 2025-01-23 03:03_

> We can maybe shift this to being based on the lockfile instead? So look at the lockfile to figure out the available groups, rather than looking at the `pyproject.toml`.

That's actually exactly what I'm doing in a script right now when I found this issue. I tried to eliminate that check it in favor of `uv export` handling the erroring when I found out it doesn't.

---

_Comment by @charliermarsh on 2025-01-23 03:07_

Yeah, I _think_ we should be able to fix it.

---

_Referenced in [Flexget/Flexget#4190](../../Flexget/Flexget/pulls/4190.md) on 2025-01-23 03:45_

---

_Label `bug` removed by @charliermarsh on 2025-01-23 13:52_

---

_Label `enhancement` added by @charliermarsh on 2025-01-23 13:52_

---

_Assigned to @charliermarsh by @charliermarsh on 2025-01-23 18:53_

---

_Referenced in [astral-sh/uv#11499](../../astral-sh/uv/pulls/11499.md) on 2025-02-14 00:14_

---

_Closed by @zanieb on 2025-02-14 15:54_

---

_Closed by @zanieb on 2025-02-14 15:54_

---

_Referenced in [Flexget/Flexget#4352](../../Flexget/Flexget/pulls/4352.md) on 2025-04-14 11:07_

---
