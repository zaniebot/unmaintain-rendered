<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pin to latest version in uv.lock - astral-sh/uv #14466</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Pin to latest version in uv.lock</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/14466">#14466</a>
        opened by <a href="https://github.com/Shlomixg">@Shlomixg</a>
        on 2025-07-05 15:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Shlomixg">@Shlomixg</a> on 2025-07-05 15:07</div>
            <div class="timeline-body"><h3>Question</h3>
<h2>TL;DR</h2>
<p>How can we configure <code>uv</code> to always install the latest version of a package <strong>without modifying <code>uv.lock</code></strong>?</p>
<h2>Use case</h2>
<p>We're using an internal package which receives frequent updates, lets say it's name is <code>pypack-dev</code>.</p>
<p>Before migrating to <code>uv</code>, we managed this dependency in a <code>requirements.txt</code> file using <code>pip</code>, without version pinning. This allowed us to always install the most recent version each time a dev container started. That behavior is essential for us as we don't want to manually update the package multiple times a day on multiple containers.</p>
<p>Since migrating to <code>uv</code>, we've moved the dependency into <code>pyproject.toml</code>, unpinned, under the <code>dev</code> group:</p>
<pre><code class="language-pyproject.toml">[dependency-groups]
dev = [&quot;pypack-dev&quot;, &quot;debugpy&quot;]
</code></pre>
<p>Running <code>uv lock</code> correctly locks the current latest version:</p>
<pre><code class="language-toml">[[package]]
name = &quot;pypack-dev&quot;
version = &quot;1.2.30&quot;
</code></pre>
<p>We also tried enabling auto-upgrade for it:</p>
<pre><code class="language-pyproject.toml">[tool.uv]
upgrade-package = [&quot;pypack-dev&quot;]
</code></pre>
<p>This works in that <code>uv lock</code> + <code>uv sync</code> brings in the latest version.</p>
<h2>The problem</h2>
<p>However, this creates a new problem. Each run of <code>uv lock</code> updates <code>uv.lock</code>:</p>
<pre><code class="language-toml">[[package]]
name = &quot;pypack-dev&quot;
version = &quot;1.2.35&quot;
</code></pre>
<p>That leads to constant changes in <code>uv.lock</code>, which causes <strong>merge conflicts and noise in Git</strong>.
But we don’t need to track this specific dependency’s version history in <code>uv.lock</code>.</p>
<p>We also tried <code>uv pip install -U pypack-dev</code>, which works but isn’t viable for us since we can’t reliably inject that into every dev container lifecycle.</p>
<h2>What we’re looking for</h2>
<p>Is there a way to configure uv to:</p>
<ul>
<li>Always install the latest version of a specific package</li>
<li>Without updating <code>uv.lock</code></li>
<li>And without falling back to pip or scripting around container startup?</li>
</ul>
<p>We’d appreciate any guidance on best practices here!</p>
<h3>Platform</h3>
<p>Debian 12</p>
<h3>Version</h3>
<p>uv 0.7.19</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @Shlomixg on 2025-07-05 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-07-07 09:53</div>
            <div class="timeline-body"><p>For reproducibility, <code>uv sync</code> locks all packages in <code>uv.lock</code> and installs that version. If updates happen in regular intervals, there are tools such as dependabot and renovate that can regularly update packages, but we're unlikely to installs versions outside the lockfile as an option.</p>
<p>To install something in a higher version separate from the project workflow, you can use <code>uv pip install --upgrade</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-08 16:20</div>
            <div class="timeline-body"><p>Unfortunately, I don't know that we can provide a great solution here. It's somewhat against the nature of the lockfile to <em>not</em> pin the version, since you lose reproducibility and hermeticity.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Shlomixg">@Shlomixg</a> on 2025-07-09 05:42</div>
            <div class="timeline-body"><p>So for now the best practice is to use <code>uv pip install -U</code>?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:28 UTC
    </footer>
</body>
</html>
