<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add zip support for uv run - astral-sh/uv #13286</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add zip support for uv run</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/13286">#13286</a>
        opened by <a href="https://github.com/mraesener-aubex">@mraesener-aubex</a>
        on 2025-05-04 19:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mraesener-aubex">@mraesener-aubex</a> on 2025-05-04 19:35</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I've implemented a little tool which kind of just wraps around <code>uv run</code> by providing two commands &quot;zip&quot; and &quot;run&quot; with defaults and some options. so you can just do <code>pytron zip</code> within a folder and you'll get a <code>robot.zip</code> file and then anywhere else you can just <code>pytron run</code> the robot.zip again.</p>
<p>this is more or less cloned functionality from rcc.exe which was closed source recently and I think it could be a great feature for uv.</p>
<p>I'm not sure if I'm seasoned enough in Rust yet that I'd give a PR a try - but first I'd like to maybe start a discussion and ask what you guys think about this and if you'd be willing to continue somewhere along those lines.</p>
<p>https://github.com/aubex/pytron</p>
<p>disclaimer: this has nothing to do with &quot;pytron&quot; available on pypi, I just liked the name and didn't bother to check if it's already taken.</p>
<h3>Example</h3>
<h3><code>pytron zip</code> - Package Your Project</h3>
<pre><code class="language-bash">pytron zip [directory] -o [output.zip] [--ignore-patterns]
</code></pre>
<h3><code>pytron run</code> - Execute Python Code</h3>
<pre><code class="language-bash">pytron run [UV_ARGS] [ZIPFILE/SCRIPT] [SCRIPT_ARGS]
</code></pre>
<p>as an after thought I realized that I didn't check yet how <code>uv run</code> handles arguments which are meant to be passed to the invoked script - so this would probably change the syntax here and maybe I implemented something unnecessary.</p>
<p>since I already have this implemented I can also just paste the help texts to maybe make the idea super clear (hopefully):</p>
<pre><code class="language-bash">pytron -h
Usage: pytron &lt;COMMAND&gt;

Commands:
  zip   Zip files in a directory into robot.zip respecting .gitignore
  run   Run a script - either directly or from a zip archive
  help  Print this message or the help of the given subcommand(s)

Options:
  -h, --help     Print help
  -V, --version  Print version
</code></pre>
<pre><code class="language-bash">pytron zip -h
Zip files in a directory into robot.zip respecting .gitignore

Usage: pytron zip [OPTIONS] [DIRECTORY]

Arguments:
  [DIRECTORY]  Directory to zip [default: .]

Options:
  -o, --output &lt;OUTPUT&gt;
          Output zip filename [default: robot.zip]
  -i, --ignore-patterns &lt;IGNORE_PATTERNS&gt;
          Additional patterns to ignore (besides .gitignore) These are treated as gitignore patterns Default patterns include &quot;.git&quot; directory Pass an empty string to override all default excludes
  -h, --help
          Print help
</code></pre>
<pre><code class="language-bash">pytron run -h
Run a script - either directly or from a zip archive

Arguments are separated using a double-dash (--) or by specifying a script/zipfile path:
  - Arguments before -- or before the zipfile path are passed to uv run
  - Arguments after -- or after the zipfile path are passed to the script

Special flags:
  -h/--help: Show this help message (pytron's help)
  -hh/--uv-run-help: Show uv's help message

Usage: pytron run [UV_ARGS] [ZIPFILE] [SCRIPT] [SCRIPT_ARGS]...

Arguments:
  [ZIPFILE]
          Path to the zip file or script
          If a zip file (.zip), will extract and run the specified script from it
          If a Python file (.py), will run it directly using uv

          [default: robot.zip]

  [SCRIPT]
          Script to run from the zip (if zipfile is a zip archive)
          If running a script directly, this is optional

          [default: main.py]

  [UV_ARGS]...
          Arguments passed to the uv run command
          These appear before the -- separator or before the zipfile path
          Examples:
            --with-pip
            --system-site-packages
            -v (verbose)

  [SCRIPT_ARGS]...
          Arguments passed to your Python script
          These appear after the -- separator or after the zipfile path
          Examples:
            --verbose
            --config=config.json
            -o output.txt

Options:
  -h, --help
          Print help (see a summary with '-h')
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @mraesener-aubex on 2025-05-04 19:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:05 UTC
    </footer>
</body>
</html>
