```yaml
number: 7184
title: Duplicate binaries in uv cache
type: issue
state: closed
author: yankeexe
labels:
  - needs-mre
  - cache
assignees: []
created_at: 2024-09-08T03:01:28Z
updated_at: 2024-09-16T17:55:53Z
url: https://github.com/astral-sh/uv/issues/7184
synced_at: 2026-01-10T01:57:16Z
```

# Duplicate binaries in uv cache

---

_Issue opened by @yankeexe on 2024-09-08 03:01_

## Issue
`uv` is creating duplicate binaries for the same version in the cache, increasing the cache size.
Ideally, if the same version exists in the cache then there should not be multiple copies of it. 

<img width="1242" alt="image" src="https://github.com/user-attachments/assets/d6a3cfc4-10d9-4f96-9391-232fc0bdbe6a">

## Solution maybe? 

To optimize storage, would it be possible to create a symbolic link (softlink) or hardlink to the existing binary instead of duplicating it? This approach could maintain any internal indexing or read mechanisms without increasing the cache size.


## System
**uv version:** uv 0.4.5 (42b6bfbad 2024-09-04)
**platform**: Darwin -  Sonoma 14.6.1



---

_Label `cache` added by @zanieb on 2024-09-08 13:16_

---

_Comment by @zanieb on 2024-09-08 13:17_

Thanks for the report. Not sure what's up here, but @charliermarsh might have an idea. Does this behavior persist if you clear the cache? I wonder if we changed our cache key function so there's a duplicate here from an old version of uv.

---

_Comment by @charliermarsh on 2024-09-08 14:00_

Are you seeing this repeatedly?

---

_Comment by @yankeexe on 2024-09-16 17:53_

@charliermarsh Tried installing, uninstalling, re-installing the `ruff` package with `uv tool install` and ` uv pip install`. 
This is what I was doing when I noticed this issue. 

I don't see this issue anymore. 

---

_Comment by @zanieb on 2024-09-16 17:55_

Thanks for following up!

---

_Closed by @zanieb on 2024-09-16 17:55_

---

_Label `needs-mre` added by @zanieb on 2024-09-16 17:55_

---
