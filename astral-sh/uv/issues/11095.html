<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add monorepo support to uv with `uv init --monorepo` and other supporting commands - astral-sh/uv #11095</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add monorepo support to uv with `uv init --monorepo` and other supporting commands</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/11095">#11095</a>
        opened by <a href="https://github.com/matthewadams">@matthewadams</a>
        on 2025-01-30 14:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/matthewadams">@matthewadams</a> on 2025-01-30 14:19</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>As mentioned in https://github.com/astral-sh/uv/issues/10960, the completion of that issue could lead to new features in uv that might include monorepo scaffolding via something like <code>uv init --monorepo</code> and even, given an existing, uv-compliant monorepo, scaffolding where a developer could add new libraries and applications to the monorepo, like:</p>
<pre><code>mkdir -p &quot;$MONOREPO_ROOT_DIR&quot;
cd &quot;$MONOREPO_ROOT_DIR&quot;
uv init --monorepo --interactive # prompts for libraries &amp; applications to be included, addressing public/private visibility

# perhaps adds monorepo metadata to the root pyproject.toml file or a file like monorepo.uv or uv.toml describing the projects comprising the monorepo

# ...some time later...

# thanks to uv monorepo metadata, uv is monorepo-aware

uv monorepo init --lib foobar # adds a new library project to the monorepo
# maybe supports visibility options like --public, --private, or even --unpublished
# for libraries intended to be embedded in apps
uv monorepo init --app myapp --embeds-libs foobar,snafu # adds a new app that embeds libraries foobar &amp; snafu
</code></pre>
<p>My suspicion is that the implementation could be monorepo lipstick over <code>uv</code> workspaces.  Also, it just occurred to me that, while this is needed in a literal monorepo, the more general concept, for lack of a better term, might be &quot;multimodule project&quot;, &quot;multiproject&quot;, &quot;solution&quot;, etc.  Feel free to rename.</p>
<h3>Example</h3>
<p>See https://github.com/matthewadams/uv-monorepo for WIP <code>uv</code> monorepo.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @matthewadams on 2025-01-30 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10960.html">astral-sh/uv#10960</a> on 2025-01-30 14:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rsyring">@rsyring</a> on 2025-02-21 18:18</div>
            <div class="timeline-body"><p>FWIW, it seems like this is expanding the scope of uv too much?</p>
<p>Perhaps what you need is something like mise and it's <a href="https://mise.jdx.dev/tasks/">tasks</a> and you can then build up the tasks/commands you need to help manage the mono repo.  One nice benefit of that is mise tasks are hierarchical.  So each project in the monorepo can have it's own tasks but the monorepo itself can have additional tasks.  Yet they are all managed the same way and visible with <code>mise tasks</code>.  Maybe not too.  :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matthewadams">@matthewadams</a> on 2025-02-21 21:11</div>
            <div class="timeline-body"><p>@rsyring Thanks for the tip on <code>mise</code>.  However, I still am not clear on how best to structure the python monorepo/multiproject, including its <code>pyproject.toml</code> settings and/or other project files &amp; directories.  If you could fork https://github.com/matthewadams/uv-monorepo and issue a PR that demonstrates how this might work, I'd love it.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:02 UTC
    </footer>
</body>
</html>
