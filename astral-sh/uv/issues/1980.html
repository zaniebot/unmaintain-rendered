<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`install_git_private_https_pat_and_username` breaks git - astral-sh/uv #1980</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>install_git_private_https_pat_and_username</code> breaks git</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1980">#1980</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-02-26 09:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Running <code>install_git_private_https_pat_and_username</code> inserts the user and password for astral-test-user into my keyring:</p>
<p><img src="https://github.com/astral-sh/uv/assets/6826232/3507bf99-4003-4130-ba1f-ba2be453cedf" alt="image" /></p>
<p>This breaks my git setup because now <em>all</em> invocations in any repository with a github remote try to use the astral-test-user for github:</p>
<pre><code>$ git push
remote: Permission to astral-sh/uv.git denied to astral-test-bot.
fatal: unable to access 'https://github.com/astral-sh/uv/': The requested URL returned error: 403
</code></pre>
<p>The test suite should not change a developer's user wide settings, especially if that breaks git.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2024-02-26 09:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @zanieb on 2024-02-28 18:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-28 18:20</div>
            <div class="timeline-body"><p>This is annoying... sorry.</p>
<p>The solution is probably to create a temporary <a href="https://git-scm.com/docs/git-config#SCOPES">git config</a> then configure or disable the <a href="https://git-scm.com/docs/gitcredentials">git credential helper</a> â€” I don't think we should need one enabled at all this test.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2024-03-22 04:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> removed by @charliermarsh on 2024-03-22 04:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @charliermarsh on 2024-03-22 04:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-07-01 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-01 14:50</div>
            <div class="timeline-body"><p>@konstin is this fixed.... or did we just turn the test off?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-07-01 14:52</div>
            <div class="timeline-body"><p>You're right, we only turned the test off</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @konstin on 2024-07-01 14:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2024-07-01 21:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sid-38">@sid-38</a> on 2025-11-30 03:49</div>
            <div class="timeline-body"><p>@zanieb @konstin , I have created a PR to resolve this. Take a look and let me know if it needs any changes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-12-01 11:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:24:01 UTC
    </footer>
</body>
</html>
