<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The requirements.txt file generated does not match pyproject.toml - astral-sh/uv #1437</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>The requirements.txt file generated does not match pyproject.toml</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/1437">#1437</a>
        opened by <a href="https://github.com/iphils">@iphils</a>
        on 2024-02-16 05:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/iphils">@iphils</a></div>
            <div class="timeline-body"><p>I tried to generate a set of locked dependencies from an input of pyproject.toml file so that I could use that to install the dependencies ( as I cannot perform a command like &quot;uv poetry install&quot; )</p>
<p>but the requirements.txt file generated was essentially blank.
Not sure why.
<a href="https://github.com/astral-sh/uv/files/14306346/requirements.txt">requirements.txt</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 05:44</div>
            <div class="timeline-body"><p>Are you able to share the exact command you ran?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/iphils">@iphils</a> on 2024-02-16 05:51</div>
            <div class="timeline-body"><p>This is the command
<code>uv pip compile pyproject.toml -o requirements.txt </code></p>
<p>And the toml file is from the below project:
https://github.com/cognitedata/cdf-project-templates</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 06:04</div>
            <div class="timeline-body"><p>So I think the issue here is that the <code>pyproject.toml</code> for that file uses Poetry&#x27;s custom metadata syntax for its dependencies, but <code>uv</code> only supports reading the standardized metadata under <code>[project.dependencies]</code>. You can see an example of what that looks like here: https://github.com/python-trio/trio/blob/ea8f4be2454f7aaf984852f60ff7ce2b966e695e/pyproject.toml#L38.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-02-16 07:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EnriqueSoria">@EnriqueSoria</a> on 2024-02-16 08:55</div>
            <div class="timeline-body"><blockquote>
<p>So I think the issue here is that the <code>pyproject.toml</code> for that file uses Poetry&#x27;s custom metadata syntax for its dependencies, but <code>uv</code> only supports reading the standardized metadata under <code>[project.dependencies]</code>. You can see an example of what that looks like here: https://github.com/python-trio/trio/blob/ea8f4be2454f7aaf984852f60ff7ce2b966e695e/pyproject.toml#L38.</p>
</blockquote>
<p>Is adding support for poetry <a href="https://python-poetry.org/docs/managing-dependencies/#dependency-groups">dependency groups</a> (or something similar) within your plans?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2024-02-19 18:52</div>
            <div class="timeline-body"><p>Duplicate of #1619 , #1630 and others</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-19 18:55</div>
            <div class="timeline-body"><p>Yep, folding into #1630</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-19 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-19 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-19 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-19 18:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:29:23 UTC
    </footer>
</body>
</html>
