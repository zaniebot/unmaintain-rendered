<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UV Python Install will not find Homebrew Installed dylibs - astral-sh/uv #8576</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>UV Python Install will not find Homebrew Installed dylibs</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8576">#8576</a>
        opened by <a href="https://github.com/sonnen-coviance">@sonnen-coviance</a>
        on 2024-10-25 20:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sonnen-coviance">@sonnen-coviance</a></div>
            <div class="timeline-body">

<p>Currently using <code>uv</code> on a MacBook Pro with an Apple processor and am running into some issues using <code>uv python install</code>.</p>
<p>The issue is that C libraries installed by <code>homebrew</code> are not found by Python libraries when using Python installed through <code>uv python install</code> but are found when <code>uv</code> uses a version of python installed via homebrew.</p>
<p>It seems like Homebrew does some hacking during the Python install process in order to get dylibs installed via Homebrew to be found.</p>
<p>See:
https://github.com/Homebrew/homebrew-core/blob/ed6d3f73a6cd3d779d0254f4ae5ba39b99d3217b/Formula/python@3.10.rb#L185-L192</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-25 20:25</div>
            <div class="timeline-body"><p>Hi! Yeah Homebrew special-cases their libraries in their Python distributions. It&#x27;s unclear if we should do the same in ours.</p>
<p>This is a duplicate of</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/7896</li>
<li>https://github.com/astral-sh/uv/issues/7764</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-25 20:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sonnen-coviance">@sonnen-coviance</a> on 2024-10-25 20:27</div>
            <div class="timeline-body"><p>Thank you for pointing me to that! I think it would be nice behavior if UV could handle this. It was very confusing to troubleshoot across a few projects since UV picked up some already installed versions of python via brew but required installing python for others. This caused some python deps to fail to find libs in some projects but not others.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-25 20:34</div>
            <div class="timeline-body"><p>Let&#x27;s track in #7764.</p>
<p>Yeah I can understand how that would be confusing. When does it fail? At runtime?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-25 20:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sonnen-coviance">@sonnen-coviance</a> on 2024-10-25 20:41</div>
            <div class="timeline-body"><p>@zanieb Yep, at runtime when one of the python dependencies tries to call a C lib.</p>
<p>I&#x27;m specifically running into it with the clib of <code>libmagic</code> and the python package <code>filemagic</code>. I could make a minimal example with some logs if that would be helpful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-25 20:42</div>
            <div class="timeline-body"><p>Unfortunately that&#x27;s hard for us to add a special case error message (e.g., like we do for build errors). A minimal example can&#x27;t hurt! Just post it in the other issue please.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:35:03 UTC
    </footer>
</body>
</html>
