```yaml
number: 2247
title: Markers (incorrectly?) require the variable to be to the left of the operator
type: issue
state: closed
author: kbattocchi
labels:
  - bug
assignees: []
created_at: 2024-03-06T18:08:45Z
updated_at: 2024-03-07T12:22:17Z
url: https://github.com/astral-sh/uv/issues/2247
synced_at: 2026-01-10T01:57:05Z
```

# Markers (incorrectly?) require the variable to be to the left of the operator

---

_Issue opened by @kbattocchi on 2024-03-06 18:08_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

For a marker like `python_version<='3.8'`, pip also allows `'3.8'>=python_version`.  However `uv` (version 0.1.15) requires the variable to be on the left hand side.

E.g. `pip install "pytest;'1.0'>python_version"` correctly does nothing and `pip install "pytest;'4.0'>python_version"` correctly always installs the library, but the corresponding `uv pip install --system "pytest;'1.0'>python_version"` and `uv pip install --system "pytest;'4.0'>python_version"` throw an error.

(Technically, the grammar seems to also allow comparisons where both sides of the operator are variables, or both are strings, but `pip` doesn't seem to actually handle those correctly...)

---

_Label `bug` added by @charliermarsh on 2024-03-06 18:22_

---

_Comment by @charliermarsh on 2024-03-06 18:22_

_Probably_ a bug but I defer to @konstin.

---

_Assigned to @konstin by @konstin on 2024-03-07 11:38_

---

_Referenced in [astral-sh/uv#2273](../../astral-sh/uv/pulls/2273.md) on 2024-03-07 12:12_

---

_Closed by @konstin on 2024-03-07 12:22_

---
