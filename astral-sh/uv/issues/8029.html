<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add support for iOS and Android platform tags - astral-sh/uv #8029</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Add support for iOS and Android platform tags</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/8029">#8029</a>
        opened by <a href="https://github.com/freakboy3742">@freakboy3742</a>
        on 2024-10-09 00:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/freakboy3742">@freakboy3742</a> on 2024-10-09 00:51</div>
            <div class="timeline-body"><p>PEP 730 added support for iOS as a tier 3 supported platform, using the platform tags:</p>
<ul>
<li><code>ios_X_Y_arm64_iphoneos</code> (iOS ARM64 device)</li>
<li><code>ios_X_Y_arm64_iphonesimulator</code> (iOS simulator running on ARM64 macOS)</li>
<li><code>ios_X_Y_x86_64_iphonesimulator</code> (iOS simulator running on x86_64 macOS)</li>
</ul>
<p>where <code>X_Y</code> is the minimum iOS API version. <code>13.0</code> is the default version supported by a CPython build; 12.0 is known to work except for some warnings when compiling the sqlite3 module. As with macOS, a 13.0 wheel will work on iOS 18, but a 18.0 wheel won't run on a device running iOS 13.</p>
<p>PEP 738 added support for Android as a tier 3 supported platform, using the tags:</p>
<ul>
<li><code>android_X_arm64_v8a</code> (Android ARM64 device, or emulator on ARM64 hardware)</li>
<li><code>android_X_x86_64</code> (Android emulator on x86_64 hardware)</li>
</ul>
<p>where <code>X</code> is the Android SDK level; <code>21</code> by default. As with iOS, the value of <code>X</code> is the oldest device SDK that is supported.</p>
<p><code>uv pip install</code> should add support for these tags to the list allowed by <code>--python-platform</code>.</p>
<p>As with macOS, it may also be desirable to include shortcuts so that a full tag isn't required; however, this can't be a simple &quot;ios&quot;/&quot;android&quot; shortcut. For iOS, at least 2 shortcuts will be required, as <code>iphoneos</code> and <code>iphonesimulator</code> are different ABIs. There is also the need to accomodate architecture targeting, most Android developers on Linux/Windows will have x86_64 devices, but need to be able to target ARM64 Android devices as part of build/release processes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @charliermarsh on 2024-12-27 14:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-12-27 14:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-27 14:37</div>
            <div class="timeline-body"><p>Makes sense, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @charliermarsh on 2024-12-27 14:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-27 16:56</div>
            <div class="timeline-body"><p>Is there any reference code for detecting whether the current Python is Android / iOS, and at what versions?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/freakboy3742">@freakboy3742</a> on 2024-12-28 02:16</div>
            <div class="timeline-body"><p>@charliermarsh <code>sys.platform</code> returns <code>ios</code> on iOS (on both device and simulator), and <code>android</code> on Android. The current OS version can be determined using <code>platform.ios_ver()</code> and <code>platform.android_ver()</code> respectively. <code>ios_ver()</code> also has a flag that tells you if you're on a simulator or device; <code>android_ver()</code> can tell you the API level in addition to the OS version.</p>
<p>Two caveats on this.</p>
<p>Firstly, on Python 3.12 and earlier, iOS is officially unsupported. However, Android <em>can</em> be compiled with 3.12 and earlier; but it returns <code>sys.platform == &quot;linux&quot;</code>. This was one of the big changes that came from PEP 738 and Tier 3 support in Python 3.13.</p>
<p>Secondly, the most important use case for iOS/Android installs is <em>not</em> running natively on the platform. For most practical purposes, you will <em>not</em> be performing an install (pip, uv or otherwise) <em>on</em> iOS or Android. iOS and Android installs will almost always be cross-platform installs, running on a macOS/Linux/Windows build system targeting an iOS/Android host.</p>
<p>This is essentially a limitation of the platforms themselves - when you ship an app using the respective app stores for each platform, they need to be fully self-contained, with all code that will be executed at runtime. While it is technically possible to download code at runtime, you won't be able to use the normal <code>uv</code> interface, as there is no ability to invoke subprocesses on either platform. You'd need to wrap uv as a Python module and invoke it programmatically in a thread of the app itself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/freakboy3742">@freakboy3742</a> on 2024-12-28 02:35</div>
            <div class="timeline-body"><p>For reference, this is the patch adding support for iOS to pip: pypa/pip#12962 (released in pip 24.3).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-28 02:42</div>
            <div class="timeline-body"><p>Perfect, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pypa/cibuildwheel/pulls/2286.html">pypa/cibuildwheel#2286</a> on 2025-02-24 06:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15640.html">astral-sh/uv#15640</a> on 2025-09-02 20:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15646.html">astral-sh/uv#15646</a> on 2025-09-02 23:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-09-03 22:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:23 UTC
    </footer>
</body>
</html>
