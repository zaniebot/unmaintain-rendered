```yaml
number: 7113
title: "absent directory in find-links causes TOML parse errors: \"relative URL without a base\""
type: issue
state: closed
author: garthk
labels:
  - error messages
assignees: []
created_at: 2024-09-06T02:17:52Z
updated_at: 2024-09-20T18:54:14Z
url: https://github.com/astral-sh/uv/issues/7113
synced_at: 2026-01-10T01:57:16Z
```

# absent directory in find-links causes TOML parse errors: "relative URL without a base"

---

_Issue opened by @garthk on 2024-09-06 02:17_

G'day, again!

UV warns it failed to parse its configuration if `find-links = ["dist"]` but dist doesn't exist:

```plaintext
$ uv sync
warning: Failed to parse `pyproject.toml` during settings discovery:
  TOML parse error at line 266, column 1
      |
  266 | [tool.uv]
      | ^^^^^^^^^
  relative URL without a base

Resolved 2 packages in 2ms
Audited 1 package in 0.06ms
```

UV applies the rest of its configuration and continues:

```plaintext
$ uv pip list        
warning: Failed to parse `pyproject.toml` during settings discovery:
  TOML parse error at line 8, column 1
    |
  8 | [tool.uv]
    | ^^^^^^^^^
  relative URL without a base

Package Version
------- -------
cowsay  6.1
```

Opinions:

- The warning should be shorter than seven lines, and more helpful. Which setting couldn't be parsed? Which line?
- Failure to parse settings should be an error if the setting might have been relevant to the command.

<details><summary>Reproduction script:</summary>

```sh
cd "$(mktemp -d)"
uv init                                      
printf  >> pyproject.toml  '%s\n' '[tool.uv]' 'find-links = ["dist"]' 'dev-dependencies= ["cowsay"]'
uv sync
uv pip list
uv sync --verbose
```
</details>

<details><summary>Verbose output:</summary>

```plaintext
$ uv sync --verbose
warning: Failed to parse `pyproject.toml` during settings discovery:
  TOML parse error at line 8, column 1
    |
  8 | [tool.uv]
    | ^^^^^^^^^
  relative URL without a base

DEBUG uv 0.4.5 (Homebrew 2024-09-04)
DEBUG Found project root: `/tmp/demo`
DEBUG No workspace root found, using project root
DEBUG Reading requests from `/tmp/demo/.python-version`
DEBUG The virtual environment's Python version satisfies `Python 3.12`
DEBUG Using request timeout of 30s
DEBUG Acquired lock for `~/.cache/uv/built-wheels-v3/path/3188e031165e9209`
DEBUG Found static `pyproject.toml` for: tmp-tjwfaj0qd5 @ file:///tmp/demo
DEBUG No workspace root found, using project root
DEBUG Released lock at `~/.cache/uv/built-wheels-v3/path/3188e031165e9209/.lock`
DEBUG Existing `uv.lock` satisfies workspace requirements
Resolved 2 packages in 2ms
DEBUG Using request timeout of 30s
DEBUG Requirement already installed: cowsay==6.1
Audited 1 package in 0.06ms
```
</details>


---

_Label `error messages` added by @charliermarsh on 2024-09-14 00:37_

---

_Referenced in [astral-sh/uv#7598](../../astral-sh/uv/pulls/7598.md) on 2024-09-20 18:30_

---

_Closed by @charliermarsh on 2024-09-20 18:54_

---

_Closed by @charliermarsh on 2024-09-20 18:54_

---
