```yaml
number: 15606
title: Monorepo project, DRY dependencies
type: issue
state: closed
author: Bradley-McCallion
labels:
  - question
assignees: []
created_at: 2025-08-31T10:53:12Z
updated_at: 2025-09-01T21:46:18Z
url: https://github.com/astral-sh/uv/issues/15606
synced_at: 2026-01-10T01:57:35Z
```

# Monorepo project, DRY dependencies

---

_Issue opened by @Bradley-McCallion on 2025-08-31 10:53_

### Question

I am currently trying to manage my python firebase functions in a monorepo structure using `uv` as the main project tool.m The main structure of my repo is as follows:
```
.
├── README.md
├── firebase.json
├── pyproject.toml
├── src
│   ├── domain1
│   └── domain2
└── uv.lock
```
Where the dependencies for the whole repo are managed in the root `pyproject.toml` which has the following structure:
```
[project]
name = "python-firebase-functions"
version = "0.0.0"
readme = "README.md"
description = "Template for Python Firebase Functions"
authors = [{ name = "BlokxBlok", email = "contact@blokxblok.com" }]
requires-python = ">=3.13"
dependencies = ["firebase-functions"] # shared deps

[dependency-groups]
dev = [
    "pytest",
    "pytest-cov",
    "functions-framework",
    "flask",
    "cloudevents",
    "requests",
    "types-requests",
    "pathlib",
    "dotenv",
    "ruff",
    "black",
    "mypy",
]

domain1= ["firebase-admin", "google-cloud-firestore"]
domain2 = ["sendgrid"]
```

Since python-based firebase functions requires legacy `requirements.txt` for function dependency management, I then export the required dependencies for each project via: `uv export --only-group domain1--no-hashes > src/domain1`. However, this does not include the shared dependencies from `project.dependencies`. My current workaround is compromise the DRY nature of the dependencies and repeat the `firebase-functions` dependency in all groups. However, is there a combination of options I can use in the export command to get my desired behaviour - that is, to have it export only the dependencies from the `domain1` group **and** the shared dependencies.

### Platform

Linux 5.15.167.4-microsoft-standard-WSL2 x86_64 GNU/Linux

### Version

uv 0.7.14 (Homebrew 2025-06-23)

---

_Label `question` added by @Bradley-McCallion on 2025-08-31 10:53_

---

_Comment by @konstin on 2025-09-01 07:21_

Does 

```
uv export --group domain1
```

work for you?

Otherwise you can also try `{include-group = "shared"}` and have a shared dependency group.

---

_Comment by @Bradley-McCallion on 2025-09-01 18:43_

Hey @konstin `--group` also seems to include dev dependencies from a quick test.

I guess I could have a separate `shared` group and just not use the root `project.dependencies` then run `--only-group domain1 --only-group shared --no-hashes > src/domain1`

---

_Comment by @konstin on 2025-09-01 18:46_

To exclude dev dependencies, but include the group you want, you can use:

```
uv export --group domain1 --no-dev
```

---

_Comment by @Bradley-McCallion on 2025-09-01 21:46_

You're right that works too! Thanks for this!

---

_Closed by @Bradley-McCallion on 2025-09-01 21:46_

---
