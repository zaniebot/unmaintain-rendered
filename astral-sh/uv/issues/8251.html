<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Does uv provide package handling for multiple code locations? - astral-sh/uv #8251</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Does uv provide package handling for multiple code locations?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/8251">#8251</a>
        opened by <a href="https://github.com/GellertPalfi">@GellertPalfi</a>
        on 2024-10-16 12:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GellertPalfi">@GellertPalfi</a></div>
            <div class="timeline-body"><p>I would like to switch to uv, however Im running dagster that have multiple code locations with some common dependencies but some are only there for one project some only the other, they are now listed in 2 req.txt files:
Location A:</p>
<pre><code>dagster==1.7
dagster-dbt==0.23
pandas==2.1.4
</code></pre>
<p>Location B:</p>
<pre><code>dagster==1.7
dagster-dbt==0.23
pyarrow==16.0.0
</code></pre>
<p>Is it possible to set this with only one pyproject.toml file?<br>
Something like this:</p>
<pre><code>Common:
dagster==1.7
dagster-dbt==0.23

Location A:
pandas==2.1.4

Location B:
pyarrow==16.0.0
</code></pre>
<p>Im open to suggestions if this looks completly wrong.<br>
Also i dont necessarily want to have multiple <code>.python_version</code> files as python is always the same for all locations</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-10-16 12:33</div>
            <div class="timeline-body"><p>By code locations, do you mean indexes, like PyPI?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-10-16 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/GellertPalfi">@GellertPalfi</a> on 2024-10-17 06:58</div>
            <div class="timeline-body"><p>No, sorry. This is a dagster concept, basically they are just different folders, with seperate requirements as seen above but still in one project</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-17 14:06</div>
            <div class="timeline-body"><p>Sounds like https://docs.astral.sh/uv/concepts/workspaces/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-17 14:07</div>
            <div class="timeline-body"><p>We don&#x27;t let you define the common dependencies in the workspace root yet though</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/GellertPalfi">@GellertPalfi</a> on 2024-10-18 07:16</div>
            <div class="timeline-body"><p>I looked at this, but we have conflicting dependencies, so i see that i should use path dependencies. However its not super clear for me how to use it based on the example in the documentation. Do you have any more examples?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/GellertPalfi">@GellertPalfi</a> on 2024-10-25 12:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tspencerdata">@tspencerdata</a> on 2025-04-28 19:11</div>
            <div class="timeline-body"><p>Did you ever find a solution on this one?</p>
<p>I have a similar situation and am thinking of moving to uv. I was thinking of setting it up along these lines, but wondering if it would work:</p>
<p>/dagster-project/
├── workspace.yaml
├── code_loc1/
│   ├── pyproject.toml
│   ├── uv.lock
│   └── src/...
├── code_loc2/
│   ├── pyproject.toml
│   ├── uv.lock
│   └── src/...
├── code_loc3/
│   ├── pyproject.toml
│   ├── uv.lock
│   └── src/...
├── .venvs/
│   ├── code_loc1/
│   ├── code_loc2/
│   └── code_loc3/</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:34:49 UTC
    </footer>
</body>
</html>
