<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow conflicting optional dependencies and dependency groups - astral-sh/uv #6981</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow conflicting optional dependencies and dependency groups</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6981">#6981</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-09-03 21:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-03 21:41</div>
            <div class="timeline-body"><p>A project should be able to declare mutually exclusive optional dependencies, which have conflicting requirements and are solved separately.</p>
<p>This problem is challenging because if any optional dependency group can be incompatible with any other group, we need to perform a resolution for every possible dependency group combination.</p>
<p>Note, following the recent standardization of local dependency groups, this issue includes allowing conflicts in those as well. The underlying changes that need to happen in the resolver are the same.</p>
<p>See also https://github.com/astral-sh/uv/issues/6729</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @zanieb on 2024-09-03 21:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/6729.html">astral-sh/uv#6729</a> on 2024-09-03 21:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/6830.html">astral-sh/uv#6830</a> on 2024-09-11 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../dagster-io/dagster/pulls/23814.html">dagster-io/dagster#23814</a> on 2024-09-23 21:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/6935.html">astral-sh/uv#6935</a> on 2024-09-25 21:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WelanderJacob">@WelanderJacob</a> on 2024-09-30 14:33</div>
            <div class="timeline-body"><p>We're currently adopting uv in our company and recently encountered this issue. I was wondering if there are any updates or timeline on when this feature might be addressed? It would be really valuable for us.</p>
<p>Anyway, thanks for all the fantastic work on uv!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-30 16:33</div>
            <div class="timeline-body"><p>We're working on this now, but we consider it a difficult / high risk problem so I'm not sure when we'll have a solution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8024.html">astral-sh/uv#8024</a> on 2024-10-08 23:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8110.html">astral-sh/uv#8110</a> on 2024-10-10 21:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../DetachHead/basedpyright/pulls/813.html">DetachHead/basedpyright#813</a> on 2024-10-26 12:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8814.html">astral-sh/uv#8814</a> on 2024-11-04 19:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Allow conflicting optional dependencies" to "Allow conflicting optional dependencies and dependency groups" by @zanieb on 2024-11-04 19:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @zanieb on 2024-11-04 19:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../kkrt-labs/kakarot/issues/1588.html">kkrt-labs/kakarot#1588</a> on 2024-11-07 17:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8976.html">astral-sh/uv#8976</a> on 2024-11-09 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-11-13 14:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @zanieb on 2024-11-13 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-13 15:08</div>
            <div class="timeline-body"><p>@BurntSushi since this tracks dependency groups as well, I've reopened it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9086.html">astral-sh/uv#9086</a> on 2024-11-13 15:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9096.html">astral-sh/uv#9096</a> on 2024-11-13 19:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-11-14 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> removed by @zanieb on 2024-11-15 14:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ben-grmbl">@Ben-grmbl</a> on 2025-08-07 11:15</div>
            <div class="timeline-body"><p>To anyone arriving here from google, this was implemented, <a href="https://docs.astral.sh/uv/concepts/projects/config/#conflicting-dependencies">here is the documentation </a> on how to use it</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:39 UTC
    </footer>
</body>
</html>
