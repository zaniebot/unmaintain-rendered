<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow conflicting optional dependencies and dependency groups - astral-sh/uv #6981</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow conflicting optional dependencies and dependency groups</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6981">#6981</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-09-03 21:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>A project should be able to declare mutually exclusive optional dependencies, which have conflicting requirements and are solved separately.</p>
<p>This problem is challenging because if any optional dependency group can be incompatible with any other group, we need to perform a resolution for every possible dependency group combination.</p>
<p>Note, following the recent standardization of local dependency groups, this issue includes allowing conflicts in those as well. The underlying changes that need to happen in the resolver are the same.</p>
<p>See also https://github.com/astral-sh/uv/issues/6729</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @zanieb on 2024-09-03 21:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/WelanderJacob">@WelanderJacob</a> on 2024-09-30 14:33</div>
            <div class="timeline-body"><p>We're currently adopting uv in our company and recently encountered this issue. I was wondering if there are any updates or timeline on when this feature might be addressed? It would be really valuable for us.</p>
<p>Anyway, thanks for all the fantastic work on uv!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-30 16:33</div>
            <div class="timeline-body"><p>We're working on this now, but we consider it a difficult / high risk problem so I'm not sure when we'll have a solution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Allow conflicting optional dependencies" to "Allow conflicting optional dependencies and dependency groups" by @zanieb on 2024-11-04 19:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @zanieb on 2024-11-04 19:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-11-13 14:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @zanieb on 2024-11-13 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-11-13 15:08</div>
            <div class="timeline-body"><p>@BurntSushi since this tracks dependency groups as well, I've reopened it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-11-14 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> removed by @zanieb on 2024-11-15 14:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Ben-grmbl">@Ben-grmbl</a> on 2025-08-07 11:15</div>
            <div class="timeline-body"><p>To anyone arriving here from google, this was implemented, <a href="https://docs.astral.sh/uv/concepts/projects/config/#conflicting-dependencies">here is the documentation </a> on how to use it</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:26:49 UTC
    </footer>
</body>
</html>
