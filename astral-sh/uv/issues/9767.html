<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unknown command: 'export_schema' - astral-sh/uv #9767</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unknown command: &#x27;export_schema&#x27;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/9767">#9767</a>
        opened by <a href="https://github.com/MrMegaMango">@MrMegaMango</a>
        on 2024-12-10 11:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MrMegaMango">@MrMegaMango</a></div>
            <div class="timeline-body"><p>$ uv run python manage.py export_schema graphql_api.schema:schema --path ../../packages/graphql/src/schema.graphql
warning: No <code>requires-python</code> value found in the workspace. Defaulting to <code>&gt;=3.11</code>.
{&quot;message&quot;: &quot;starting Prometheus metrics server on port 9090&quot;, &quot;search_id&quot;: &quot;&quot;, &quot;context_id&quot;: &quot;&quot;, &quot;report_generator_id&quot;: &quot;&quot;, &quot;timestamp&quot;: &quot;2024-12-10T11:22:17.751629Z&quot;, &quot;severity&quot;: &quot;INFO&quot;, &quot;labels&quot;: {&quot;searchId&quot;: &quot;&quot;, &quot;contextId&quot;: &quot;&quot;}}
Unknown command: &#x27;export_schema&#x27;
Type &#x27;manage.py help&#x27; for usage.
error: script &quot;generate&quot; exited with code 1
error: script &quot;generate:all&quot; exited with code 1
make[1]: *** [graphql] Error 1
make: *** [codegen] Error 2</p>
<p>I think this is a django/strawberry thing, running without uv directly by python is ok</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 13:34</div>
            <div class="timeline-body"><p>In order to help, I&#x27;d like need a more complete reproduction. For example, a minimal GitHub repo to emulate the problem, with a set of commands I can run.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-mre</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 13:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2024-12-10 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-15 14:05</div>
            <div class="timeline-body"><p>The origianal question should be rephrased as:
how do I pass arguments correctly when using <code>uv run</code> to replace <code>python</code>?</p>
<blockquote>
<p>uv run manage.py export_schema graphql_api.schema:schema --path ../../packages/graphql/src/schema.graphql
Unknown command: &#x27;export_schema&#x27;</p>
</blockquote>
<p>vs</p>
<blockquote>
<p>python manage.py export_schema graphql_api.schema:schema --path ../../packages/graphql/src/schema.graphql
works</p>
</blockquote>
<p><img src="https://github.com/user-attachments/assets/048766f3-0d6d-4dfc-8870-880692c07808" alt="Image">
https://strawberry.rocks/docs/django/guide/export-schema</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-15 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-15 14:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-16 23:39</div>
            <div class="timeline-body"><pre><code>python manage.py help
[auth]
    changepassword
    createsuperuser

[channels]
    runworker

[contenttypes]
    remove_stale_contenttypes

[daphne]
    runserver

[django]
    check
    compilemessages
    createcachetable
    dbshell
    diffsettings
    dumpdata
    flush
    inspectdb
    loaddata
    makemessages
    makemigrations
    migrate
    optimizemigration
    sendtestemail
    shell
    showmigrations
    sqlflush
    sqlmigrate
    sqlsequencereset
    squashmigrations
    startapp
    startproject
    test
    testserver

[graphql_api]
    migrate_references
    populate_per_user_data

[sessions]
    clearsessions

[staticfiles]
    collectstatic
    findstatic

[strawberry_django]
    export_schema
</code></pre>
<p>vs</p>
<pre><code>uv run manage.py help
Type &#x27;manage.py help &#x27; for help on a specific subcommand.
Available subcommands:
[django]
check
compilemessages
createcachetable
dbshell
diffsettings
dumpdata
flush
inspectdb
loaddata
makemessages
makemigrations
migrate
optimizemigration
runserver
sendtestemail
shell
showmigrations
sqlflush
sqlmigrate
sqlsequencereset
squashmigrations
startapp
startproject
test
testserver
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-16 23:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-16 23:43</div>
            <div class="timeline-body"><p>similar to this https://micro.webology.dev/2024/08/23/uv-run-django.html
but adding</p>
/// script
requires-python = &quot;&gt;=3.11&quot;
dependencies = [
&quot;strawberry-graphql-django&quot;,
]
///
<p>still doesn&#x27;t make a difference</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-17 10:23</div>
            <div class="timeline-body"><p>it was a import error on local editable dependency hidden by django, calling django.setup() early exposes the error</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MrMegaMango">@MrMegaMango</a> on 2025-01-17 10:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:36:05 UTC
    </footer>
</body>
</html>
