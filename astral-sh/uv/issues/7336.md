```yaml
number: 7336
title: Configure constraints file in config files
type: issue
state: closed
author: robertschweizer
labels:
  - duplicate
assignees: []
created_at: 2024-09-12T16:43:31Z
updated_at: 2024-11-20T00:39:25Z
url: https://github.com/astral-sh/uv/issues/7336
synced_at: 2026-01-10T01:57:16Z
```

# Configure constraints file in config files

---

_Issue opened by @robertschweizer on 2024-09-12 16:43_

Thanks a lot for this great project!

It would be cool if `uv.toml` and `pyproject.toml` allowed specifying 

```toml
constraint = "https://host.local/my-global-constraints.txt
```

`uv` currently only allows passing this as environment variable or with the `--constraint` CLI argument.

In our team, we have a shared global constraints file that's used by all our projects. This way we can quickly exclude broken upstream package versions across all our projects. 

With pip, we set the `PIP_CONSTRAINT` variable in all CI pipelines, and for local development, every engineer has `constraint = https://host.local/my-global-constraints.txt` in their global `pip.conf` file. With `uv`, this is not possible right now. If it were supported in config files, we might just configure it in every project's `pyproject.toml`.

The same thing would be useful for us in build constraints.

---

_Comment by @zanieb on 2024-09-12 16:57_

This is roughly a duplicate of https://github.com/astral-sh/uv/issues/6518

You probably want to read the discussion there regarding constraints from URLs.

---

_Label `duplicate` added by @zanieb on 2024-09-12 16:58_

---

_Comment by @pabarcgar on 2024-09-13 09:22_

Hi @zanieb , thank you for the quick reply. The issue @robertschweizer mentions is for projects we build using 'uv pip install'.  In #6518 you say that 'constraint-dependencies' setting is applied to every single uv command and therefore passing a URL to it is not desirable. 

Would it be possible to support 'constraint' and 'build-constraint' settings in the [tool.uv.pip] pyproject.toml section instead? 

---

_Comment by @charliermarsh on 2024-09-13 13:06_

I'm pretty sure that `constraint-dependencies` in `[tool.uv]` is respected within the current workspace for `uv pip` commands. So if the `pyproject.toml` in the current directory has:

```toml
[tool.uv]
constraint-dependencies = ["anyio>3"]
```

Then `uv pip` commands in that directory will respect the `anyio>3` constraint.

---

_Comment by @pabarcgar on 2024-09-13 17:42_

Hi @charliermarsh , thank you for your reply, I think you are right, but what we need is to be able to pass an URL. In the related issue #6518 this is discussed, but URL support is dismissed because that config is used for every uv command and that URL would be accessed unnecessarily. That is reasonable, and that is why we ask to add 'constraint' settings in the [tool.uv.pip] (so the URL is only accessed for URL commands). Does it make sense?

---

_Comment by @charliermarsh on 2024-11-20 00:39_

Let's combine with #6518.

---

_Closed by @charliermarsh on 2024-11-20 00:39_

---

_Referenced in [astral-sh/uv#6518](../../astral-sh/uv/issues/6518.md) on 2025-04-10 10:20_

---
