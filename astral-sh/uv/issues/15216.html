<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specify installation order for some packages - astral-sh/uv #15216</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Specify installation order for some packages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/15216">#15216</a>
        opened by <a href="https://github.com/hongquan">@hongquan</a>
        on 2025-08-11 03:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/hongquan">@hongquan</a> on 2025-08-11 03:54</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><a href="https://pypi.org/project/urllib3-future/">urllib3-future</a> is meant to shadow <a href="https://pypi.org/project/urllib3/">urllib3</a>, so it provides the same import module name as <code>urllib3</code>.
My project indirectly depends on both (one via <a href="https://pypi.org/project/niquests/">niquests</a>, one via something I don't remember). I am happily to let <code>urllib3-future</code> overwrite <code>urllib3</code>. But because <em>uv</em> install packages in parallel, sometimes, <em>urllib3-future</em> is installed after <em>urllib3</em>, sometimes before.</p>
<p>Is there any way to tell <code>uv</code> to install <code>urllib3-future</code> after <code>urllib3</code>?</p>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @hongquan on 2025-08-11 03:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-08-11 11:12</div>
            <div class="timeline-body"><p>Unfortunately we support anything like that, no. The closest thing is that we now warn (IIRC) if two packages try to shadow each other. You would <em>probably</em> need to use two separate dependency groups or extras, and install them in order.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hongquan">@hongquan</a> on 2025-08-11 11:59</div>
            <div class="timeline-body"><p>Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @hongquan on 2025-08-11 11:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:11 UTC
    </footer>
</body>
</html>
