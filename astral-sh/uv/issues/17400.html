<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv python dir` reports incorrect location - astral-sh/uv #17400</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv python dir</code> reports incorrect location</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/17400">#17400</a>
        opened by <a href="https://github.com/berzi">@berzi</a>
        on 2026-01-10 09:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/berzi">@berzi</a></div>
            <div class="timeline-body">Summary
<p>This might very well be me misunderstanding the command, but in that case I reckon at least documentation improvement would make sense.</p>
<p><code>uv python dir</code> (with or without <code>--bin</code>) outputs a directory that does not exist which is different than what <code>uv run python -c &quot;import sys; print(sys.executable)&quot;</code> outputs.</p>
<p>In my case specifically:</p>
<pre><code># uv run python -c &quot;import sys; print(sys.executable)&quot;
/app/.venv/bin/python3
# uv python dir --bin
/root/.local/bin
# uv python dir
/root/.local/share/uv/python
</code></pre>
<p>This is run in a docker compose container with this environment:</p>
<pre><code>ENV UV_LINK_MODE=copy
ENV UV_NO_MANAGED_PYTHON=1
ENV UV_PYTHON_DOWNLOADS=never
ENV UV_CACHE_DIR=/app/.cache/uv
ENV VIRTUAL_ENV=/app/.venv
</code></pre>
<p>With uv installed this way in the Dockerfile:</p>
<pre><code>COPY --from=ghcr.io/astral-sh/uv:0.9.15 /uv /uvx /bin/
</code></pre>
<p>I was under the impression that the uv command would give me the location of the actual binary that runs when I run Python through uv, but that is evidently not the case here. If this is correct behaviour, then:</p>
<ul>
<li>Shouldn&#x27;t this be clearer in the docs?</li>
<li>What use case does the command have?</li>
</ul>
<p>Or maybe it&#x27;s actually a bug that the <code>UV_CACHE_DIR</code> is not taken into account?</p>
Platform
<p>Linux 6.6.87.2-microsoft-standard-WSL2 x86_64 GNU/Linux</p>
Version
<p>uv 0.9.15</p>
Python version
<p>Python 3.14.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/berzi">@berzi</a> on 2026-01-10 09:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-10 11:11</div>
            <div class="timeline-body"><p>Please see <code>uv help python dir</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-10 11:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-10 11:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/berzi">@berzi</a> on 2026-01-10 11:18</div>
            <div class="timeline-body"><p>The help, just as the web docs, explain how the directory is selected, but in no way do they hint that the output may not actually exist or correspond to the true location of the binary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-10 11:52</div>
            <div class="timeline-body"><p>Sorry I don&#x27;t get the confusion? This is the &quot;uv Python installation directory&quot; where we store versions of Python. This is also described in our storage reference https://docs.astral.sh/uv/reference/storage/#python-versions and is consistent with other <code>dir</code> commands in our interface.</p>
<blockquote>
<p>I was under the impression that the uv command would give me the location of the actual binary that runs when I run Python through uv, but that is evidently not the case here.</p>
</blockquote>
<p>It sounds like you want <code>uv python find</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/berzi">@berzi</a> on 2026-01-10 12:03</div>
            <div class="timeline-body"><p>‼️ Ok, my bad, I overlooked <code>uv python find</code> completely.</p>
<p>It took me a moment to understand why the shown dir would not exist (= because it only stores &quot;global&quot;, i.e. non-venv, python versions installed through uv, which may not exist because uv runs things through the python in the venv).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/berzi">@berzi</a> on 2026-01-10 12:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2026-01-10 16:07</div>
            <div class="timeline-body"><p>I can look at clarifying the top-level help here. I do appreciate the feedback!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:41:30 UTC
    </footer>
</body>
</html>
