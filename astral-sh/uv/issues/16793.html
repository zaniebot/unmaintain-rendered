<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I/O operation failed during extraction - astral-sh/uv #16793</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>I/O operation failed during extraction</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/16793">#16793</a>
        opened by <a href="https://github.com/wpcarro">@wpcarro</a>
        on 2025-11-20 20:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/wpcarro">@wpcarro</a> on 2025-11-20 20:31</div>
            <div class="timeline-body"><h3>Question</h3>
<p><code>uv add numcodecs</code> is failing, but I'm not sure how to troubleshoot the root cause</p>
<p>All I see is <code>Streaming failed for numcodecs==0.16.4; downloading wheel to disk (I/O operation failed during extraction)</code></p>
<p>Any troubleshooting tips? I'd like to be able to self-service better</p>
<h3>Platform</h3>
<p>Linux 6.12.22+bpo-amd64 x86_64 GNU/Linux</p>
<h3>Version</h3>
<p>uv 0.8.14</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @wpcarro on 2025-11-20 20:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nooscraft">@nooscraft</a> on 2025-11-21 03:33</div>
            <div class="timeline-body"><p>Yeah, that error message is pretty unhelpful, it's hiding the actual I/O error details. The underlying <code>std::io::Error</code> should tell us what's really going on, but it's not being surfaced properly. That's definitely something we should fix.</p>
<p>In the meantime, here's are a few troubleshooting steps:</p>
<p><strong>Disk space</strong> - Check with:</p>
<pre><code class="language-bash">df -h ~/.cache/uv
</code></pre>
<p>If it's full, either free up space or point uv to a different cache location:</p>
<pre><code class="language-bash">UV_CACHE_DIR=/somewhere/with/space uv add numcodecs
</code></pre>
<p><strong>Permissions</strong> - Quick test:</p>
<pre><code class="language-bash">touch ~/.cache/uv/test &amp;&amp; rm ~/.cache/uv/test
</code></pre>
<p>If that fails, the cache dir probably has wrong ownership. Fix it or use a different location.</p>
<p><strong>Corrupted cache</strong> - The wheel might be borked in cache. Try:</p>
<pre><code class="language-bash">uv cache clean numcodecs
uv add numcodecs
</code></pre>
<p><strong>Filesystem issues</strong> - Check if the mount is weird or read-only:</p>
<pre><code class="language-bash">mount | grep cache
touch ~/.cache/uv/test_write &amp;&amp; rm ~/.cache/uv/test_write
</code></pre>
<p>To get the actual error details, run with backtrace:</p>
<pre><code class="language-bash">RUST_BACKTRACE=1 uv add numcodecs 2&gt;&amp;1 | tee uv-error.log
</code></pre>
<p>That should show the real <code>std::io::Error</code> with the OS error code, which will tell us exactly what's failing.</p>
<p>You can also manually test the wheel to see if it's corrupted:</p>
<pre><code class="language-bash"># Grab the wheel URL from PyPI
curl -O &lt;wheel-url&gt;
unzip -t &lt;wheel-file&gt;.whl
</code></pre>
<p>Start with the cache clean and disk space steps, and see how it goes. If it's still failing, paste the backtrace output</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-11-24 15:56</div>
            <div class="timeline-body"><p>The message you share should be a warning, can you share the complete output you get?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
