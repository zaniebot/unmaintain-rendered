<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I/O operation failed during extraction - astral-sh/uv #16793</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>I/O operation failed during extraction</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/16793">#16793</a>
        opened by <a href="https://github.com/wpcarro">@wpcarro</a>
        on 2025-11-20 20:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/wpcarro">@wpcarro</a></div>
            <div class="timeline-body">Question
<p><code>uv add numcodecs</code> is failing, but I&#x27;m not sure how to troubleshoot the root cause</p>
<p>All I see is <code>Streaming failed for numcodecs==0.16.4; downloading wheel to disk (I/O operation failed during extraction)</code></p>
<p>Any troubleshooting tips? I&#x27;d like to be able to self-service better</p>
Platform
<p>Linux 6.12.22+bpo-amd64 x86_64 GNU/Linux</p>
Version
<p>uv 0.8.14</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/wpcarro">@wpcarro</a> on 2025-11-20 20:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nooscraft">@nooscraft</a> on 2025-11-21 03:33</div>
            <div class="timeline-body"><p>Yeah, that error message is pretty unhelpful, it&#x27;s hiding the actual I/O error details. The underlying <code>std::io::Error</code> should tell us what&#x27;s really going on, but it&#x27;s not being surfaced properly. That&#x27;s definitely something we should fix.</p>
<p>In the meantime, here&#x27;s are a few troubleshooting steps:</p>
<p><strong>Disk space</strong> - Check with:</p>
<pre><code>df -h ~/.cache/uv
</code></pre>
<p>If it&#x27;s full, either free up space or point uv to a different cache location:</p>
<pre><code>UV_CACHE_DIR=/somewhere/with/space uv add numcodecs
</code></pre>
<p><strong>Permissions</strong> - Quick test:</p>
<pre><code>touch ~/.cache/uv/test &amp;&amp; rm ~/.cache/uv/test
</code></pre>
<p>If that fails, the cache dir probably has wrong ownership. Fix it or use a different location.</p>
<p><strong>Corrupted cache</strong> - The wheel might be borked in cache. Try:</p>
<pre><code>uv cache clean numcodecs
uv add numcodecs
</code></pre>
<p><strong>Filesystem issues</strong> - Check if the mount is weird or read-only:</p>
<pre><code>mount | grep cache
touch ~/.cache/uv/test_write &amp;&amp; rm ~/.cache/uv/test_write
</code></pre>
<p>To get the actual error details, run with backtrace:</p>
<pre><code>RUST_BACKTRACE=1 uv add numcodecs 2&gt;&amp;1 | tee uv-error.log
</code></pre>
<p>That should show the real <code>std::io::Error</code> with the OS error code, which will tell us exactly what&#x27;s failing.</p>
<p>You can also manually test the wheel to see if it&#x27;s corrupted:</p>
<pre><code># Grab the wheel URL from PyPI
curl -O &lt;wheel-url&gt;
unzip -t &lt;wheel-file&gt;.whl
</code></pre>
<p>Start with the cache clean and disk space steps, and see how it goes. If it&#x27;s still failing, paste the backtrace output</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-11-24 15:56</div>
            <div class="timeline-body"><p>The message you share should be a warning, can you share the complete output you get?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:41:06 UTC
    </footer>
</body>
</html>
