```yaml
number: 219
title: Support a write-only mode for the cache
type: issue
state: closed
author: charliermarsh
labels:
  - wish
assignees: []
created_at: 2023-10-29T18:54:26Z
updated_at: 2023-12-10T01:56:44Z
url: https://github.com/astral-sh/uv/issues/219
synced_at: 2026-01-10T01:57:00Z
```

# Support a write-only mode for the cache

---

_Issue opened by @charliermarsh on 2023-10-29 18:54_

Useful to, e.g., refresh dependencies and ignore any HTTP caching semantics.

---

_Label `wish` added by @charliermarsh on 2023-10-29 18:54_

---

_Comment by @charliermarsh on 2023-11-08 03:01_

We need some kind of workflow to support "refreshing" a URL dependency. Any ideas? What would the ideal workflow look like?

---

_Comment by @konstin on 2023-11-08 09:47_

On pip-compile, make `HEAD` request to check if it has changed, and if so, clean the cache entry so it gets refetched?

---

_Comment by @charliermarsh on 2023-12-04 03:40_

@konstin - Do you think we could now support purging the cache for a specific dependency?

---

_Comment by @konstin on 2023-12-04 09:34_

Assuming you only consider index dependencies and not url or git dependencies, yes. Remove:
* `simple-v0/<index>/<package_name>.json`
* `built-wheels-v0/<index>/<package_name>-*`
* `wheels-v0/<index>/<package_name>-*`

What's the use case for this?

---

_Comment by @charliermarsh on 2023-12-04 14:37_

To enable the workflow of force-refreshing a dependency, especially for URL and path dependencies.

---

_Comment by @charliermarsh on 2023-12-10 01:56_

We now support `--reinstall` and purge which captures the intended supported workflow.

---

_Closed by @charliermarsh on 2023-12-10 01:56_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-12-10 01:56_

---
