<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trying to understand which python-build-standalone to mirror - astral-sh/uv #17171</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Trying to understand which python-build-standalone to mirror</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/17171">#17171</a>
        opened by <a href="https://github.com/keestux">@keestux</a>
        on 2025-12-18 11:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/keestux">@keestux</a> on 2025-12-18 11:02</div>
            <div class="timeline-body"><h3>Question</h3>
<p>With <code>create-python-mirror.py</code> I can mirror the necessary Python builds for my air-gapped use of <code>uv</code>.</p>
<p>What I don't understand is how I can figure out which build dates a certain version of <code>uv</code> needs. I did it the clumsy way by installing uv version a.b.c and then do</p>
<pre><code class="language-sh">uv -v python install 3.11 |&amp; grep -E '^DEBUG (uv|Downloading'
</code></pre>
<p>It will produce output like this</p>
<pre><code class="language-txt">DEBUG uv 0.8.14
DEBUG Downloading https://github.com/astral-sh/python-build-standalone/releases/download/20250828/cpython-3.11.13%2B20250828-x86_64-unknown-linux-gnu-install_only_stripped.tar.gz
</code></pre>
<p>So, this uv version needs <code>20250828</code>. But where in the <code>uv</code> source code can I find that it sets this build date?</p>
<p>Also, there is a problem with the mirror script (or with <code>crates/uv-python/download-metadata.json</code> which it is using to decide what to mirror). There is no <code>20250828</code> in there anymore. So, uv 0.8.14 cannot be used. I'm trying to understand what rules to put in place for uv versions and mirrored Python builds.</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @keestux on 2025-12-18 11:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-12-18 23:48</div>
            <div class="timeline-body"><p>Each version of uv can support arbitrary build dates. The build dates are from the <code>python-build-standalone</code> repository. You should be able to find them all in the download metadata? We replace older builds with newer ones where we can to reduce the size of this embedded JSON file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeitarR">@MeitarR</a> on 2025-12-26 19:46</div>
            <div class="timeline-body"><p>The solution for air-gapped use is to overwrite the versions json using <a href="https://docs.astral.sh/uv/reference/settings/#python-downloads-json-url">python-downloads-json-url</a></p>
<p>There is an open PR that adds the generation of the json to this script https://github.com/astral-sh/uv/pull/16475</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:30 UTC
    </footer>
</body>
</html>
