<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colored prompt for (fish) shell for active virtual environment - astral-sh/uv #7467</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Colored prompt for (fish) shell for active virtual environment</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/issues/7467">#7467</a>
        opened by <a href="https://github.com/Geo5">@Geo5</a>
        on 2024-09-17 15:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Geo5">@Geo5</a></div>
            <div class="timeline-body"><p>It is just a minor style thing, but for me it would be really nice, if the shell prompt for the active virtual env would be colored like in the CPython venv case: <a href="https://github.com/python/cpython/blob/main/Lib/venv/scripts/common/activate.fish#L60">https://github.com/python/cpython/blob/main/Lib/venv/scripts/common/activate.fish#L60</a>
Currently it does not contain color: <a href="https://github.com/astral-sh/uv/blob/main/crates/uv-virtualenv/src/activator/activate.fish#L118">https://github.com/astral-sh/uv/blob/main/crates/uv-virtualenv/src/activator/activate.fish#L118</a></p>
<p>I do not know if this applies to other shells than fish as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/luckylinux">@luckylinux</a> on 2024-11-07 17:23</div>
            <div class="timeline-body"><p>I was also surprised by this.</p>
<p>I do NOT use <code>fish</code> as I'm developing on Windows at Work, however:</p>
<ul>
<li>Command Prompt venv is also NOT Colored</li>
<li>Powershell venv Prompt is also NOT Colored</li>
</ul>
<p>Whereas if you install a &quot;default&quot; venv based on the Standard Python installation (x86_64 exe File downloaded from Python Website) using <code>python -m venv uv</code> it shows correctly as colored.</p>
<p>I just also did a Quick attempt on Ubuntu GNU/Linux 24.04 (Noble) with BASH and there even the &quot;standard&quot; venv created by <code>python -m venv uv</code> is NOT colored. So I guess my BASH Shell Profile has something missing/extra/misconfigured.</p>
<p>Not sure why this customization by uv though :disappointed:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Violet-Vibes">@Violet-Vibes</a> on 2025-09-30 07:58</div>
            <div class="timeline-body"><p>Took me a long time using my google kung-fu for finding this.</p>
<p>I solved it by adding the following code to my powershell profile (via <code>notepad $PROFILE</code>), this will essentially skip the uv prompt changes when running the activation script and instead use the good old green .venv (or whatever the virtual env name is).</p>
<pre><code class="language-powershell">$env:VIRTUAL_ENV_DISABLE_PROMPT = $true

function prompt {
    if ($env:VIRTUAL_ENV) {
        Write-Host &quot;($(Split-Path $env:VIRTUAL_ENV -Leaf)) &quot; -ForegroundColor Green -NoNewline
    }
    &quot;PS $($executionContext.SessionState.Path.CurrentLocation)$('&gt;' * ($nestedPromptLevel + 1)) &quot;
}
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:27:11 UTC
    </footer>
</body>
</html>
