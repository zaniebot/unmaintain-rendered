<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integration with VS Code &quot;Python Environments&quot; extension - astral-sh/uv #15787</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Integration with VS Code &quot;Python Environments&quot; extension</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/15787">#15787</a>
        opened by <a href="https://github.com/schlich">@schlich</a>
        on 2025-09-11 12:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/schlich">@schlich</a> on 2025-09-11 12:26</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>uv is not listed as an option in the setting for either &quot;Default env manager&quot; or &quot;default package manager&quot; in the new &quot;Python Environments&quot; VS Code extension:</p>
<p><img width="535" height="220" alt="Image" src="https://github.com/user-attachments/assets/5e7192eb-80e0-4030-b7e1-5ab35663e99d" /></p>
<p>This is causing issues with third-party extensions that rely on the Python extension for various operations.</p>
<h3>Example</h3>
<p>In the GitHub Copilot extension, you may configure agents to use the extensions for basic tool calls:</p>
<p><img width="592" height="332" alt="Image" src="https://github.com/user-attachments/assets/5d81d4a5-e7d8-4ec0-87d0-7be96ce5b0b7" /></p>
<p>This defaults to pip, and it's unclear if it's possible to configure it to use uv, especially considering that the Python Environment extension appears to be specifically looking for other extensions:</p>
<p><img width="498" height="263" alt="Image" src="https://github.com/user-attachments/assets/3b73aa3c-303e-4acc-a225-be974adaa741" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @schlich on 2025-09-11 12:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-11 12:45</div>
            <div class="timeline-body"><p>My understanding is that uv is transparently used if pip is selected? e.g., see https://github.com/microsoft/vscode-python-environments/issues/809</p>
<p>cc @eleanorjboyd</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-11 12:45</div>
            <div class="timeline-body"><p>(Note this follows a discussion in <a href="https://discord.com/channels/1039017663004942429/1415660422308040745">Discord</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-11 12:46</div>
            <div class="timeline-body"><p>Separately from that question, a &quot;Python Environments&quot; VS Code extension for uv is also tracked in https://github.com/astral-sh/uv/issues/11314</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eleanorjboyd">@eleanorjboyd</a> on 2025-09-12 17:30</div>
            <div class="timeline-body"><p>yes that is correct @zanieb it is used in the background! @karthiknadig thinking maybe we open an issue on the python envs repo and gather some feedback on if what makes sense for <code>uv</code> short term. I also got some pushback on https://github.com/microsoft/vscode-python-environments/issues/809 from others like @brettcannon since it feels that doesn't achieve what we want out of the experience and would be more confusing then helpful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/schlich">@schlich</a> on 2025-09-12 17:47</div>
            <div class="timeline-body"><p>Ok, thanks @eleanorjboyd .  So does uv use venv under the hood? @zanieb?  I thought it used virtualenv, but maybe that was just for an early release.... maybe that was part of my confusion.  Definitely could be hallucinating that memory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-12 17:56</div>
            <div class="timeline-body"><p>uv implements virtual environment creation natively, it doesn't use venv or virtualenv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jtkiley">@jtkiley</a> on 2025-09-13 17:13</div>
            <div class="timeline-body"><p>This extension is helpful, and having better <code>uv</code> support would be nice.</p>
<p>As it stands, you can add a package to the environment via the extension GUI, and it will disappear the next time <code>uv sync</code> is run. It's obvious when you know it's using <code>pip</code> and not updating <code>pyproject.toml</code>. However, it's a hard-to-understand beginner trap, because it'll work and then at some point it won't. In devcontainers, it'll happen in every rebuild or <code>uv sync</code>.</p>
<p>I talked about it in context in https://github.com/astral-sh/uv/issues/12197#issuecomment-3224624792, too.</p>
<p>Having package installs from the GUI work like you'd expect would be really nice for beginners.   It's really nice using <code>uv add</code> and having important packages recorded and versions pinned via the lock file automatically (compared to <code>pip install ...</code>, <code>pip freeze</code>, copy-paste to <code>requirements.txt</code>, and edit down to important packages). Having all that be true via the GUI would be even easier for beginners, who are often initially wary of the terminal.</p>
<p>What I don't know is whether this all also applies when VS Code suggests installing a package, but I would think so (e.g., paraphrasing, &quot;Hey, you need <code>ipykernel</code> if you want to use Jupyter notebooks. Do you want me to install it?&quot;).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15960.html">astral-sh/uv#15960</a> on 2025-09-20 16:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:05 UTC
    </footer>
</body>
</html>
