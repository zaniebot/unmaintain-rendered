```yaml
number: 14940
title: "uv doesn't install build dependencies in `no-build-isolation` mode for current project"
type: issue
state: closed
author: tudoroancea
labels:
  - question
assignees: []
created_at: 2025-07-28T13:15:50Z
updated_at: 2025-08-05T10:54:38Z
url: https://github.com/astral-sh/uv/issues/14940
synced_at: 2026-01-10T01:57:33Z
```

# uv doesn't install build dependencies in `no-build-isolation` mode for current project

---

_Issue opened by @tudoroancea on 2025-07-28 13:15_

### Question

# Problem
I am working on a project with C++ extensions that are built with `scikit-build-core`. To have proper editable installations, [they recommend to use `--no-build-isolation`](https://scikit-build-core.readthedocs.io/en/latest/configuration/index.html#editable-installs).

I have seen [in the uv docs](https://docs.astral.sh/uv/concepts/projects/config/#build-isolation) that this flag is properly supported for dependencies of your project, but nothing was mentioned on the _project itself_.

When trying to build it, it actually fails to build because uv doesn't pre-install the build dependencies.
I have put together a MRE in the [following repo](https://github.com/tudoroancea/uv-build-isolation-current-project).

# Current workaround
Currently, the you have to preinstall the build dependencies yourself. You can create a dependency group `build` to simplify the procedure, and even add it to the default groups to avoid `uv sync` removing it. But either way, you have to duplicate the list between the `[dependency-groups]` table and `[build-system]` table since you cannot include a dependency group in the `build-system.requires`.

Please propose better workarounds if you have some.

# Question
Is this expected behavior? Is there some limitation that I am not aware of? I would find it reasonable to expect `uv sync`/`uv run` to preinstall the build dependencies by themselves.

Thank you a lot for your help

### Platform

macOS 15.5 arm64

### Version

uv 0.8.0 (0b2357294 2025-07-17)

---

_Label `question` added by @tudoroancea on 2025-07-28 13:15_

---

_Comment by @zanieb on 2025-07-28 13:23_

This is expected. `--no-build-isolation` is sort of a hammer. Ideally, `scikit-build-core` would work without it. 

fwiw, the documentation you link to says

> you should preinstall your dependencies.

---

_Comment by @zanieb on 2025-07-28 13:26_

Related https://github.com/astral-sh/uv/issues/14383

---

_Closed by @charliermarsh on 2025-08-05 10:54_

---

_Referenced in [astral-sh/uv#15248](../../astral-sh/uv/issues/15248.md) on 2025-08-13 03:03_

---
