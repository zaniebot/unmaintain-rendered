```yaml
number: 12959
title: "Support extras inference so that  `uvx mylib[extra] <args> `  ‚Äújust works‚Äù without needing `--from`"
type: issue
state: closed
author: aaronsteers
labels:
  - enhancement
assignees: []
created_at: 2025-04-18T03:28:38Z
updated_at: 2025-04-18T21:27:08Z
url: https://github.com/astral-sh/uv/issues/12959
synced_at: 2026-01-10T01:57:29Z
```

# Support extras inference so that  `uvx mylib[extra] <args> `  ‚Äújust works‚Äù without needing `--from`

---

_Issue opened by @aaronsteers on 2025-04-18 03:28_

### Summary

Right now, to install & run a tool with extras in one shot you must say:

```bash
uvx --from 'airbyte‚Äëcdk[cli]' airbyte‚Äëcdk <args>
```

It would be wonderful if `uvx` could recognize the common PEP¬†508 extras syntax when used in the ‚Äútool‚Äù position and automatically infer the equivalent `--from` behind the scenes. That way we could provide the more consise and typeable:

```bash
uvx airbyte‚Äëcdk[cli] sync --help
```

instead of requiring the more verbose:

```bash
uvx --from 'airbyte‚Äëcdk[cli]' airbyte‚Äëcdk sync --help
```

* * *

### Motivation & Precedent

*   **Ease of typing**  
    Repeating the library name twice (`airbyte‚Äëcdk` in this case) in CLI invocations adds friction and cognitive load, especially for quick one‚Äëoff runs.
    
*   **pipx**  
    `pipx run package[extras] ‚Ä¶` lets you specify extras directly in the package specifier, without a separate flag.
    
*   **npx / npm exec**  
    You can say `npx pkg@version ‚Ä¶` or `npm exec --package pkg@version ‚Ä¶ cmd` in a similarly discoverable, ergonomic way.
    
*   **PEP¬†508**  
    Extras are already a first‚Äëclass concept in Python packaging; leveraging that syntax feels idiomatic to Python users.
    

* * *

### Proposed Behavior

1.  **Detect** when the first argument to `uvx` matches `<name>[<extras>]`.
    
2.  **Automatically transform** it into:
    
    ```bash
    uvx --from '<name>[<extras>]' <name> [remaining args‚Ä¶]
    ```
    
3.  **Fall back** to the existing logic if no extras‚Äëbrackets are detected.
    

* * *

### Example

```bash
# Today ‚Äî awkward repetition
uvx --from 'airbyte‚Äëcdk[cli]' airbyte‚Äëcdk sync

# With extras‚Äëinference ‚Äî succinct
uvx airbyte‚Äëcdk[cli] sync
```

* * *

### Alternatives Considered

*   **Aliases** or shell functions: always external to `uvx` itself
    
*   **Persistent install** via `uv tool install`, but that loses the ‚Äúone‚Äëshot‚Äù convenience
    
*   A new flag like `uvx --extras`, which still forces an extra keystroke and a flag
    

* * *

### Thank You!

I am a huge fan of `uv` and I love how powerful¬†`uvx` is by extension. This tiny quality‚Äëof‚Äëlife improvement would make it that much smoother for ephemeral CLI usage. Thanks for considering! üôè



---

_Label `enhancement` added by @aaronsteers on 2025-04-18 03:28_

---

_Comment by @Ravencentric on 2025-04-18 12:26_

The proposed syntax already works:
```console
‚ùØ uv --version
uv 0.6.14 (a4cec56dc 2025-04-09)
‚ùØ uvx --version
uv-tool-uvx 0.6.14 (a4cec56dc 2025-04-09)
‚ùØ uvx httpx[cli] https://httpbin.org/json
Installed 13 packages in 139ms
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 429
Connection: keep-alive
Server: gunicorn/19.9.0
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: true

{
    "slideshow": {
        "author": "Yours Truly",
        "date": "date of publication",
        "slides": [
            {
                "title": "Wake up to WonderWidgets!",
                "type": "all"
            },
            {
                "items": [
                    "Why <em>WonderWidgets</em> are great",
                    "Who <em>buys</em> WonderWidgets"
                ],
                "title": "Overview",
                "type": "all"
            }
        ],
        "title": "Sample Slide Show"
    }
}
```

---

_Comment by @aaronsteers on 2025-04-18 21:27_

Oh, awesome! Sorry I missed this. Resolving! üôè 

---

_Closed by @aaronsteers on 2025-04-18 21:27_

---
