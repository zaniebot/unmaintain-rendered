<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FR: Encode `flit-core` build backend in `uv` - astral-sh/uv #6423</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>FR: Encode <code>flit-core</code> build backend in <code>uv</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/6423">#6423</a>
        opened by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a>
        on 2024-08-22 12:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-08-22 12:03</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

<p>I have previously floated the idea of <code>uv</code> defining/providing its own backend (see #3957) since the standard library does not provide this critical capability. I think that <code>hatchling</code> is a great build backend to use in the meantime and I am happy to see that it has been adopted as the default backend (#5527) when initializing projects.</p>
<p>I want to float the idea of base85 (or other more efficient) encoding a default backend in <code>uv</code> to bootstrap offline systems with a way to build when utilizing commands such as <code>uv init</code> or <code>uv sync</code>. Inspiration for this can be seen in the <a href="https://raw.githubusercontent.com/pypa/get-pip/main/public/get-pip.py"><code>get-pip.py</code> bootstrapping script</a>.</p>
<p>Not only do I think that encoding/decoding a blessed backend will aid offline users, but I also think that it could improve performance by eliminating downloads for the transient build environment for users who elect to use the provided default.</p>
<p>While <code>hatchling</code> is a nice backend, it has numerous dependencies (<code>packaging</code>, <code>pathspec</code>, <code>pluggy</code>, <code>tomli</code>, <code>trove-classifiers</code>) that would need to be co-encoded, complicating maintenance and bloating the binary. I think <code>flit-core</code> is a great modern and minimalist alternative since it has no dependencies itself. It supports editable installations and a number of other common tasks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "FR: encode default backend in uv binary" to "FR: Encode default backend in uv binary" by @chrisrodrigue on 2024-08-22 12:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "FR: Encode default backend in uv binary" to "FR: Encode default backend in uv" by @chrisrodrigue on 2024-08-22 12:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-08-22 12:29</div>
            <div class="timeline-body"><p>Iâ€™d be happy to implement this myself as a build time job that dynamically downloads and encodes the <a href="https://pypi.org/project/flit-core/#files">remote build backend</a> when thereâ€™s a new version found.</p>
<p>But feel free to close this as an absolutely terrible idea ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "FR: Encode default backend in uv" to "FR: Encode `flit-core` build backend in uv" by @chrisrodrigue on 2024-08-22 12:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "FR: Encode `flit-core` build backend in uv" to "FR: Encode `flit-core` build backend in `uv`" by @chrisrodrigue on 2024-08-22 12:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisrodrigue">@chrisrodrigue</a> on 2024-08-22 12:55</div>
            <div class="timeline-body"><p>Thereâ€™s a <a href="https://github.com/taylordotfish/base116"><code>base116</code></a> crate that advertises a data size increase of only 1/6 (versus 1/4 for base85) by leveraging UTF-8 over pure ASCII encoding.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-22 15:40</div>
            <div class="timeline-body"><p>I think we'd implement our own build backend before embedding a Python one into uv itself.</p>
<p>Related:</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/6299</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-22 15:41</div>
            <div class="timeline-body"><p>It's a cool idea though. The offline use-case for #3957 is interesting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-08-22 15:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:30:39 UTC
    </footer>
</body>
</html>
