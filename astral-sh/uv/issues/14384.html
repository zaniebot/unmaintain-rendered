<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>is run uv sync after uv venv [specify_location] should sync packages on .venv (default environemntt) - astral-sh/uv #14384</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>is run uv sync after uv venv [specify_location] should sync packages on .venv (default environemntt)</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/14384">#14384</a>
        opened by <a href="https://github.com/hamzeh-pm">@hamzeh-pm</a>
        on 2025-07-01 03:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/hamzeh-pm">@hamzeh-pm</a> on 2025-07-01 03:32</div>
            <div class="timeline-body"><h3>Question</h3>
<p>hello
i run</p>
<pre><code class="language-bash">uv venv /opt/venv
uv sync 
</code></pre>
<p>but <strong>uv</strong> create .venv in current directory and install all packages of this environment. is this expected behavior?
is there specific option for ***uv sync** to specify the venv location?</p>
<h3>Platform</h3>
<p><em>No response</em></p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @hamzeh-pm on 2025-07-01 03:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on 2025-07-01 12:02</div>
            <div class="timeline-body"><p>You could activate with <code>source /opt/venv/bin/activate</code> and then run <code>uv sync --active</code>. Or you could also run:</p>
<pre><code>VIRTUAL_ENV=&quot;opt/venv&quot; uv sync --active
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-01 12:58</div>
            <div class="timeline-body"><p>Or you could set <code>UV_PROJECT_ENVIRONMENT</code> to your target directory, but yeah this behavior is intentional â€” uv is stateless and <code>uv venv</code> does not effect the project environment location.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-07-02 00:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hamzeh-pm">@hamzeh-pm</a> on 2025-07-02 03:05</div>
            <div class="timeline-body"><p>tnx for answering, the stateless answer is very convincing keep up the good work. in the context of my docker 2 stage build, i use to build package with pip to get ride of test and docs for security reasons. is there anything in uv to help me simulate that process ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-02 03:12</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv-docker-example/blob/main/multistage.Dockerfile is our multistage example. You can also do <code>uv sync --no-dev</code> to exclude your development dependencies. If you're trying to exclude additional content that's in your source tree, you'd want something like <code>uv build &amp;&amp; uv pip install dist/&lt;your-project&gt;.whl</code>? I'm not sure what your pip workflow looked like. If you give more details, I can probably give a clearer answer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hamzeh-pm">@hamzeh-pm</a> on 2025-07-02 03:21</div>
            <div class="timeline-body"><p>this is my first time switching to uv, before it i use to build python packages using</p>
<pre><code>RUN pip wheel --wheel-dir /usr/src/app/wheels \
    -r requirements.txt```
in build stage and then 
```COPY --from=python-build-stage /usr/src/app/wheels /wheels/

RUN pip install --no-cache-dir --no-index --find-links=/wheels/ /wheels/* \
  &amp;&amp; rm -rf /wheels/
</code></pre>
<p>copy the wheel content in to my run stage and install them this way i don't have to be concern of test and docs for security and size reasons.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-07-02 13:06</div>
            <div class="timeline-body"><p>We don't support <code>pip wheel</code> (https://github.com/astral-sh/uv/issues/1681) but you could do something like <code>UV_PROJECT_ENVIRONMENT=/usr/src/app/.venv uv sync --no-editable --no-dev</code> then copy that directory over as long as the Python interpreter used matches.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hamzeh-pm">@hamzeh-pm</a> on 2025-07-04 07:49</div>
            <div class="timeline-body"><p>tnx for answering. you are very helpful to me. i don't know rust but if any python project to contribute i happily will do it. have good one</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:28 UTC
    </footer>
</body>
</html>
