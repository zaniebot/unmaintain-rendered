<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for `uv pip install --user` - astral-sh/uv #1584</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support for `uv pip install --user`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/issues/1584">#1584</a>
        opened by <a href="https://github.com/Chaz6">@Chaz6</a>
        on 2024-02-17 12:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Chaz6">@Chaz6</a> on 2024-02-17 12:03</div>
            <div class="timeline-body"><p><code>uv pip install</code> does not support the flag <code>--user</code>. The help for <code>pip install --user</code> is as follows:-</p>
<pre><code>  --user                      Install to the Python user install directory for your platform. Typically ~/.local/, or
                              %APPDATA%\Python on Windows. (See the Python documentation for site.USER_BASE for full details.)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-17 19:35</div>
            <div class="timeline-body"><p>Related #1526, we do not allow installation outside of a virtual environment right now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-02-17 19:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by @zanieb on 2024-02-17 19:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2059.html">astral-sh/uv#2059</a> on 2024-02-28 22:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-02-28 22:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2387.html">astral-sh/uv#2387</a> on 2024-03-12 17:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Rotonen">@Rotonen</a> on 2024-04-08 13:08</div>
            <div class="timeline-body"><p>For a bit more context beyond tiered-managed-yet-sans-virtualenv academic and enterprise (modified cacerts, PKI trust - not everything can use <code>truststore</code> yet) userspace deployments, this also has a practical use in building Docker containers, which assemble software from multiple ecosystems and/or have some security policies in place (only centrally curated base images can do <code>USER root</code>, all internal build time steps beyond those base images must run as uid &gt;= 1000).</p>
<p>In those situations it's convenient or necessary to be able to <code>COPY --from=python-build /home/&lt;user&gt;/.local/...</code> the local Python eggs across build stages.</p>
<p>Currently one could work around this by using a virtualenv and an entrypoint script to load that virtualenv up.</p>
<p>But there is a tendency towards extremely minimal hardened images (for general open reference check out what Microsoft is doing with the Dotnet chiseled Ubuntu images). These kinds of runtime images do not ship a shell, thus making the entrypoint workaround impossible. That leaves setting the virtualenv up manually via ENV as the main workaround, and that has implementation time ripple effects around templating of containers when doing internal containers at scale (or leaving it as a fragile pile of copy paste snippets, which people either get right, or don't).</p>
<p>In general implementing <code>uv pip install --user</code> will remove a lot of workarounds needed for uv to &quot;just work&quot; across a wider variety of non-happy-path deployment scenarios currently out there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../open-webui/open-webui/pulls/1533.html">open-webui/open-webui#1533</a> on 2024-04-16 20:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2352.html">astral-sh/uv#2352</a> on 2024-04-21 10:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-17 13:44</div>
            <div class="timeline-body"><p>I'm going to close this in favor of https://github.com/astral-sh/uv/issues/2077 which has a bunch more discussion in it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-05-17 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by @zanieb on 2024-05-17 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pwndbg/pwndbg/issues/3124.html">pwndbg/pwndbg#3124</a> on 2025-06-23 01:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:56 UTC
    </footer>
</body>
</html>
