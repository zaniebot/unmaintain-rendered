<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv publish for dev versions - astral-sh/uv #16028</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv publish for dev versions</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/issues/16028">#16028</a>
        opened by <a href="https://github.com/berkorbay">@berkorbay</a>
        on 2025-09-25 17:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/berkorbay">@berkorbay</a> on 2025-09-25 17:39</div>
            <div class="timeline-body"><h3>Question</h3>
<p>When I have a pre-release with a dev versioning (e.g. 1.3.1.dev0) and I try <code>uv publish</code> I get the error that version 1.3.0 is already uploaded (&quot;Caused by: Upload failed with status code 400 Bad Request. Server says: 400 File already exists&quot;).</p>
<p>Though I can upload it with poetry easily.</p>
<h3>Platform</h3>
<p>macOS</p>
<h3>Version</h3>
<p>uv 0.7.2 (481d05d8d 2025-04-30)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @berkorbay on 2025-09-25 17:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-09-25 17:40</div>
            <div class="timeline-body"><p>Can you share verbose logs?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/berkorbay">@berkorbay</a> on 2025-09-25 18:36</div>
            <div class="timeline-body"><p>Just realized, I have multiple versions under dist/ and uv gets the first one.</p>
<pre><code>DEBUG uv 0.7.2 (481d05d8d 2025-04-30)
DEBUG Not a distribution filename: `.gitignore`
Publishing 114 files https://upload.pypi.org/legacy/
DEBUG Using request timeout of 900s
Uploading packagex-0.1.0-py3-none-any.whl (11.5KiB)
DEBUG Hashing dist/packagex-0.1.0-py3-none-any.whl
DEBUG Using HTTP Basic authentication
DEBUG Response code for https://upload.pypi.org/legacy/: 400 Bad Request
DEBUG Upload error response: {&quot;message&quot;: &quot;The server could not comply with the request since it is either malformed or otherwise incorrect.\n\n\nFile already exists ('packagex-0.1.0-py3-none-any.whl', with blake2_256 hash 'cc9732fd69049c8c3cc0a233cec84604d81fa08a4df5a111febb3b91ce692a42'). See https://pypi.org/help/#file-name-reuse for more information.\n\n&quot;, &quot;code&quot;: &quot;400 File already exists ('packagex-0.1.0-py3-none-any.whl', with blake2_256 hash 'cc9732fd69049c8c3cc0a233cec84604d81fa08a4df5a111febb3b91ce692a42'). See https://pypi.org/help/#file-name-reuse for more information.&quot;, &quot;title&quot;: &quot;Bad Request&quot;}
error: Failed to publish `dist/packagex-0.1.0-py3-none-any.whl` to https://upload.pypi.org/legacy/
  Caused by: Upload failed with status code 400 Bad Request. Server says: 400 File already exists ('packagex-0.1.0-py3-none-any.whl', with blake2_256 hash 'cc9732fd69049c8c3cc0a233cec84604d81fa08a4df5a111febb3b91ce692a42'). See https://pypi.org/help/#file-name-reuse for more information.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-25 18:51</div>
            <div class="timeline-body"><p>Sounds like you should either remove the old distributions or pass the specific distributions you want to upload to <code>uv publish</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/16030.html">astral-sh/uv#16030</a> on 2025-09-25 19:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/berkorbay">@berkorbay</a> on 2025-09-25 19:34</div>
            <div class="timeline-body"><blockquote>
<p>Sounds like you should either remove the old distributions or pass the specific distributions you want to upload to <code>uv publish</code>.</p>
</blockquote>
<p>That's one way to go. Instead I successfully tried and succeeded in <code>poetry publish</code> :) I recently transitioned this package from poetry to uv so poetry still lingers around. Next time I will try to specify the file.</p>
<p>Weakly irrelevant but I need to use --token every time I use <code>uv publish</code> (ps. I did not add token to zsh environment but it is in .env of my project) but it is not the case with Poetry. It makes the publishing much more seamless.</p>
<p>Don't get me wrong, I love using uv. Though Poetry in this case has the better practice for my use case. Perhaps a little peek ðŸ‘€ at Poetry process would help as I understand you both use twine under the hood?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-25 19:37</div>
            <div class="timeline-body"><p>We don't use twine under the hood, we've implement publishing ourselves. We support persistent credentials via the <code>uv auth login</code> interface, but it's fairly new so it's not discussed often in the documentation yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-25 19:37</div>
            <div class="timeline-body"><p>Presumably Poetry is just skipping the existing artifact with a different SHA? We don't really want to hide that from you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-25 19:38</div>
            <div class="timeline-body"><p>This does remind me of https://github.com/astral-sh/uv/issues/14010 though</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @berkorbay on 2025-09-28 09:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:12 UTC
    </footer>
</body>
</html>
