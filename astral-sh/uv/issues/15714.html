<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow setting .env file path in pyproject.toml or self-contained script front-matter - astral-sh/uv #15714</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Allow setting .env file path in pyproject.toml or self-contained script front-matter</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/uv/issues/15714">#15714</a>
        opened by <a href="https://github.com/strangemonad">@strangemonad</a>
        on 2025-09-07 18:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/strangemonad">@strangemonad</a> on 2025-09-07 18:07</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>It would be very convenient to pre-configure projects to load an env file without having to instruct people to set <code>[UV_ENV_FILE](https://docs.astral.sh/uv/reference/environment/#uv_env_file)=... uv .</code> or <code>uv run --env-file...</code>. Instead, the project (or standalone script) could be optionally configured with a default <code>[tool.uv] env-file=...</code></p>
<ol>
<li>This would continue the tradition of making <code>uv run ...</code> a convenient and easy entry-point to projects</li>
<li>Continue allowing the env-vars and config file settings to match for most options.</li>
</ol>
<p><strong>Security concerns</strong>
Since this potentially exposes a security concerns (beyond the existing exposure of executing code) a few different approaches could be taken if the <code>env-file</code> setting is set in config:</p>
<ol>
<li>Create a new setting eg <code>UV_ALLOW_ENV_FILE=NEVER_ALLOW | ALWAYS_PROMPT | PROMPT_ONCE_PER_PROJECT (first time) | ALWAYS</code></li>
<li>Potentially restrict the path of <code>env-file</code> when set in config (e.g. to be contained in the project directory) to prevent exposures like a self-contained script loading <code>~/.env-secrets</code></li>
</ol>
<h3>Example</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @strangemonad on 2025-09-07 18:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-08 13:45</div>
            <div class="timeline-body"><p>Related https://github.com/astral-sh/uv/issues/14500</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:29 UTC
    </footer>
</body>
</html>
