<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add user feedback when building source distributions in the resolver - astral-sh/uv #347</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add user feedback when building source distributions in the resolver</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/347">#347</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-11-06 22:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>It looks like Cargo, notice the bold green lines at the top (which appear during the resolution, to indicate Git fetches and source distribution builds):</p>
<img width="868" alt="Screen Shot 2023-11-06 at 11 28 47 PM" src="https://github.com/astral-sh/puffin/assets/1309177/9647a480-7be7-41e9-b1d3-69faefd054ae">

<img width="868" alt="Screen Shot 2023-11-06 at 11 28 51 PM" src="https://github.com/astral-sh/puffin/assets/1309177/6bc491aa-5b51-4b37-9ee1-257f1bc1c049">

<p>Closes https://github.com/astral-sh/puffin/issues/287 although we can do a lot more here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-06 22:44</div>
            <div class="timeline-body"><p>Actually, I'm going to add Git fetches to this too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-07 01:59</div>
            <div class="timeline-body"><p>Going absolutely insane trying to get indicatif to work here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-07 04:20</div>
            <div class="timeline-body"><p>Okay, it now also communicates back to the user when we fetch / update a Git repo.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @charliermarsh on 2023-11-07 04:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @charliermarsh on 2023-11-07 04:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/puffin-cli/src/commands/reporters.rs</code>:201 on 2023-11-07 09:20</div>
            <div class="timeline-body"><p>In my experience multiprogress glitches a lot, i think that's why cargo doesn't use it. I'd go with something like</p>
<pre><code>Downloaded pydantic-code
Updated https://github.com/numpy/numpy.git (5e595f)
â ‹ numpy (build), pydantic (git clone), torch (download 150/670MB), ...and 5 more
</code></pre>
<p>Though i also like the cargo way where it doesn't tell you what finished, but only what started.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2023-11-07 09:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-11-07 14:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/puffin-cli/src/commands/reporters.rs</code>:201 on 2023-11-07 14:11</div>
            <div class="timeline-body"><p>The good news at least is this implementation entirely decouples the event layer from the reporting layer, so we can easily change the internals here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-11-07 14:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/puffin-cli/src/commands/reporters.rs</code>:201 on 2023-11-07 14:13</div>
            <div class="timeline-body"><p>We could also look at Cargo's implementation because we're not <em>really</em> using multi-progress here. We just have static text (that changes once) on top, followed by a single dynamic progress bar.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-11-07 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-11-07 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-11-07 14:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:34:40 UTC
    </footer>
</body>
</html>
