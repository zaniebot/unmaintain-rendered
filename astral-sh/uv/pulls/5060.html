<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update pyo3 - astral-sh/uv #5060</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update pyo3</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/5060">#5060</a>
        opened by <a href="https://github.com/renovate">@renovate</a>
        on 2024-07-15 00:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/renovate">@renovate</a></div>
            <div class="timeline-body"><p><a href="https://renovatebot.com"><img src="https://app.renovatebot.com/images/banner.svg" alt="Mend Renovate"></a></p>
<p>This PR contains the following updates:</p>
<p>| Package | Type | Update | Change |
|---|---|---|---|
| <a href="https://togithub.com/pyo3/pyo3">pyo3</a> | workspace.dependencies | minor | <code>0.21.0</code> -&gt; <code>0.22.0</code> |
| <a href="https://togithub.com/vorner/pyo3-log">pyo3-log</a> | workspace.dependencies | minor | <code>0.10.0</code> -&gt; <code>0.11.0</code> |</p>
<hr>
Release Notes

pyo3/pyo3 (pyo3)

<a href="https://togithub.com/pyo3/pyo3/blob/HEAD/CHANGELOG.md#0221---2024-07-06"><code>v0.22.1</code></a>
<p><a href="https://togithub.com/pyo3/pyo3/compare/v0.22.0...v0.22.1">Compare Source</a></p>
Added
<ul>
<li>Add <code>#[pyo3(submodule)]</code> option for declarative <code>#[pymodule]</code>s. <a href="https://togithub.com/PyO3/pyo3/pull/4301">#â€‹4301</a></li>
<li>Implement <code>PartialEq&lt;bool&gt;</code> for <code>Bound&lt;&#x27;py, PyBool&gt;</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4305">#â€‹4305</a></li>
</ul>
Fixed
<ul>
<li>Return <code>NotImplemented</code> instead of raising <code>TypeError</code> from generated equality method when comparing different types. <a href="https://togithub.com/PyO3/pyo3/pull/4287">#â€‹4287</a></li>
<li>Handle full-path <code>#[pyo3::prelude::pymodule]</code> and similar for <code>#[pyclass]</code> and <code>#[pyfunction]</code> in declarative modules.<a href="https://togithub.com/PyO3/pyo3/pull/4288">#â€‹4288</a></li>
<li>Fix 128-bit int regression on big-endian platforms with Python &lt;3.13. <a href="https://togithub.com/PyO3/pyo3/pull/4291">#â€‹4291</a></li>
<li>Stop generating code that will never be covered with declarative modules. <a href="https://togithub.com/PyO3/pyo3/pull/4297">#â€‹4297</a></li>
<li>Fix invalid deprecation warning for trailing optional on <code>#[setter]</code> function. <a href="https://togithub.com/PyO3/pyo3/pull/4304">#â€‹4304</a></li>
</ul>
<a href="https://togithub.com/pyo3/pyo3/blob/HEAD/CHANGELOG.md#0220---2024-06-24"><code>v0.22.0</code></a>
<p><a href="https://togithub.com/pyo3/pyo3/compare/v0.21.2...v0.22.0">Compare Source</a></p>
Packaging
<ul>
<li>Update <code>heck</code> dependency to 0.5. <a href="https://togithub.com/PyO3/pyo3/pull/3966">#â€‹3966</a></li>
<li>Extend range of supported versions of <code>chrono-tz</code> optional dependency to include version 0.10. <a href="https://togithub.com/PyO3/pyo3/pull/4061">#â€‹4061</a></li>
<li>Update MSRV to 1.63. <a href="https://togithub.com/PyO3/pyo3/pull/4129">#â€‹4129</a></li>
<li>Add optional <code>num-rational</code> feature to add conversions with Python&#x27;s <code>fractions.Fraction</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4148">#â€‹4148</a></li>
<li>Support Python 3.13. <a href="https://togithub.com/PyO3/pyo3/pull/4184">#â€‹4184</a></li>
</ul>
Added
<ul>
<li>Add <code>PyWeakref</code>, <code>PyWeakrefReference</code> and <code>PyWeakrefProxy</code>. <a href="https://togithub.com/PyO3/pyo3/pull/3835">#â€‹3835</a></li>
<li>Support <code>#[pyclass]</code> on enums that have tuple variants. <a href="https://togithub.com/PyO3/pyo3/pull/4072">#â€‹4072</a></li>
<li>Add support for scientific notation in <code>Decimal</code> conversion. <a href="https://togithub.com/PyO3/pyo3/pull/4079">#â€‹4079</a></li>
<li>Add <code>pyo3_disable_reference_pool</code> conditional compilation flag to avoid the overhead of the global reference pool at the cost of known limitations as explained in the performance section of the guide. <a href="https://togithub.com/PyO3/pyo3/pull/4095">#â€‹4095</a></li>
<li>Add <code>#[pyo3(constructor = (...))]</code> to customize the generated constructors for complex enum variants. <a href="https://togithub.com/PyO3/pyo3/pull/4158">#â€‹4158</a></li>
<li>Add <code>PyType::module</code>, which always matches Python <code>__module__</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4196">#â€‹4196</a></li>
<li>Add <code>PyType::fully_qualified_name</code> which matches the &quot;fully qualified name&quot; defined in <a href="https://peps.python.org/pep-0737">PEP 737</a>. <a href="https://togithub.com/PyO3/pyo3/pull/4196">#â€‹4196</a></li>
<li>Add <code>PyTypeMethods::mro</code> and <code>PyTypeMethods::bases</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4197">#â€‹4197</a></li>
<li>Add <code>#[pyclass(ord)]</code> to implement ordering based on <code>PartialOrd</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4202">#â€‹4202</a></li>
<li>Implement <code>ToPyObject</code> and <code>IntoPy&lt;PyObject&gt;</code> for <code>PyBackedStr</code> and <code>PyBackedBytes</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4205">#â€‹4205</a></li>
<li>Add <code>#[pyclass(hash)]</code> option to implement <code>__hash__</code> in terms of the <code>Hash</code> implementation <a href="https://togithub.com/PyO3/pyo3/pull/4206">#â€‹4206</a></li>
<li>Add <code>#[pyclass(eq)]</code> option to generate <code>__eq__</code> based on <code>PartialEq</code>, and <code>#[pyclass(eq_int)]</code> for simple enums to implement equality based on their discriminants. <a href="https://togithub.com/PyO3/pyo3/pull/4210">#â€‹4210</a></li>
<li>Implement <code>From&lt;Bound&lt;&#x27;py, T&gt;&gt;</code> for <code>PyClassInitializer&lt;T&gt;</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4214">#â€‹4214</a></li>
<li>Add <code>as_super</code> methods to <code>PyRef</code> and <code>PyRefMut</code> for accesing the base class by reference. <a href="https://togithub.com/PyO3/pyo3/pull/4219">#â€‹4219</a></li>
<li>Implement <code>PartialEq&lt;str&gt;</code> for <code>Bound&lt;&#x27;py, PyString&gt;</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4245">#â€‹4245</a></li>
<li>Implement <code>PyModuleMethods::filename</code> on PyPy. <a href="https://togithub.com/PyO3/pyo3/pull/4249">#â€‹4249</a></li>
<li>Implement <code>PartialEq&lt;[u8]&gt;</code> for <code>Bound&lt;&#x27;py, PyBytes&gt;</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4250">#â€‹4250</a></li>
<li>Add <code>pyo3_ffi::c_str</code> macro to create <code>&amp;&#x27;static CStr</code> on Rust versions which don&#x27;t have 1.77&#x27;s <code>c&quot;&quot;</code> literals. <a href="https://togithub.com/PyO3/pyo3/pull/4255">#â€‹4255</a></li>
<li>Support <code>bool</code> conversion with <code>numpy</code> 2.0&#x27;s <code>numpy.bool</code> type <a href="https://togithub.com/PyO3/pyo3/pull/4258">#â€‹4258</a></li>
<li>Add <code>PyAnyMethods::{bitnot, matmul, floor_div, rem, divmod}</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4264">#â€‹4264</a></li>
</ul>
Changed
<ul>
<li>Change the type of <code>PySliceIndices::slicelength</code> and the <code>length</code> parameter of <code>PySlice::indices()</code>. <a href="https://togithub.com/PyO3/pyo3/pull/3761">#â€‹3761</a></li>
<li>Deprecate implicit default for trailing optional arguments <a href="https://togithub.com/PyO3/pyo3/pull/4078">#â€‹4078</a></li>
<li><code>Clone</code>ing pointers into the Python heap has been moved behind the <code>py-clone</code> feature, as it must panic without the GIL being held as a soundness fix. <a href="https://togithub.com/PyO3/pyo3/pull/4095">#â€‹4095</a></li>
<li>Add <code>#[track_caller]</code> to all <code>Py&lt;T&gt;</code>, <code>Bound&lt;&#x27;py, T&gt;</code> and <code>Borrowed&lt;&#x27;a, &#x27;py, T&gt;</code> methods which can panic. <a href="https://togithub.com/PyO3/pyo3/pull/4098">#â€‹4098</a></li>
<li>Change <code>PyAnyMethods::dir</code> to be fallible and return <code>PyResult&lt;Bound&lt;&#x27;py, PyList&gt;&gt;</code> (and similar for <code>PyAny::dir</code>). <a href="https://togithub.com/PyO3/pyo3/pull/4100">#â€‹4100</a></li>
<li>The global reference pool (to track pending reference count decrements) is now initialized lazily to avoid the overhead of taking a mutex upon function entry when the functionality is not actually used. <a href="https://togithub.com/PyO3/pyo3/pull/4178">#â€‹4178</a></li>
<li>Emit error messages when using <code>weakref</code> or <code>dict</code> when compiling for <code>abi3</code> for Python older than 3.9. <a href="https://togithub.com/PyO3/pyo3/pull/4194">#â€‹4194</a></li>
<li>Change <code>PyType::name</code> to always match Python <code>__name__</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4196">#â€‹4196</a></li>
<li>Remove CPython internal ffi call for complex number including: add, sub, mul, div, neg, abs, pow. Added PyAnyMethods::{abs, pos, neg} <a href="https://togithub.com/PyO3/pyo3/pull/4201">#â€‹4201</a></li>
<li>Deprecate implicit integer comparision for simple enums in favor of <code>#[pyclass(eq_int)]</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4210">#â€‹4210</a></li>
<li>Set the <code>module=</code> attribute of declarative modules&#x27; child <code>#[pymodule]</code>s and <code>#[pyclass]</code>es. <a href="https://togithub.com/PyO3/pyo3/pull/4213">#â€‹4213</a></li>
<li>Set the <code>module</code> option for complex enum variants from the value set on the complex enum <code>module</code>. <a href="https://togithub.com/PyO3/pyo3/pull/4228">#â€‹4228</a></li>
<li>Respect the Python &quot;limited API&quot; when building for the <code>abi3</code> feature on PyPy or GraalPy. <a href="https://togithub.com/PyO3/pyo3/pull/4237">#â€‹4237</a></li>
<li>Optimize code generated by <code>#[pyo3(get)]</code> on <code>#[pyclass]</code> fields. <a href="https://togithub.com/PyO3/pyo3/pull/4254">#â€‹4254</a></li>
<li><code>PyCFunction::new</code>, <code>PyCFunction::new_with_keywords</code> and <code>PyCFunction::new_closure</code> now take <code>&amp;&#x27;static CStr</code> name and doc arguments (previously was <code>&amp;&#x27;static str</code>). <a href="https://togithub.com/PyO3/pyo3/pull/4255">#â€‹4255</a></li>
<li>The <code>experimental-declarative-modules</code> feature is now stabilized and available by default. <a href="https://togithub.com/PyO3/pyo3/pull/4257">#â€‹4257</a></li>
</ul>
Fixed
<ul>
<li>Fix panic when <code>PYO3_CROSS_LIB_DIR</code> is set to a missing path. <a href="https://togithub.com/PyO3/pyo3/pull/4043">#â€‹4043</a></li>
<li>Fix a compile error when exporting an exception created with <code>create_exception!</code> living in a different Rust module using the <code>declarative-module</code> feature. <a href="https://togithub.com/PyO3/pyo3/pull/4086">#â€‹4086</a></li>
<li>Fix FFI definitions of <code>PY_VECTORCALL_ARGUMENTS_OFFSET</code> and <code>PyVectorcall_NARGS</code> to fix a false-positive assertion. <a href="https://togithub.com/PyO3/pyo3/pull/4104">#â€‹4104</a></li>
<li>Disable <code>PyUnicode_DATA</code> on PyPy: not exposed by PyPy. <a href="https://togithub.com/PyO3/pyo3/pull/4116">#â€‹4116</a></li>
<li>Correctly handle <code>#[pyo3(from_py_with = ...)]</code> attribute on dunder (<code>__magic__</code>) method arguments instead of silently ignoring it. <a href="https://togithub.com/PyO3/pyo3/pull/4117">#â€‹4117</a></li>
<li>Fix a compile error when declaring a standalone function or class method with a Python name that is a Rust keyword. <a href="https://togithub.com/PyO3/pyo3/pull/4226">#â€‹4226</a></li>
<li>Fix declarative modules discarding doc comments on the <code>mod</code> node. <a href="https://togithub.com/PyO3/pyo3/pull/4236">#â€‹4236</a></li>
<li>Fix <code>__dict__</code> attribute missing for <code>#[pyclass(dict)]</code> instances when building for <code>abi3</code> on Python 3.9. <a href="https://togithub.com/PyO3/pyo3/pull/4251">#â€‹4251</a></li>
</ul>



vorner/pyo3-log (pyo3-log)

<a href="https://togithub.com/vorner/pyo3-log/blob/HEAD/CHANGELOG.md#0110"><code>v0.11.0</code></a>
<ul>
<li>Update to pyo3 0.22.</li>
<li><code>Logger</code> not longer implements <code>Clone</code></li>
</ul>


<hr>
Configuration
<p>ðŸ“… <strong>Schedule</strong>: Branch creation - &quot;before 4am on Monday&quot; (UTC), Automerge - At any time (no schedule defined).</p>
<p>ðŸš¦ <strong>Automerge</strong>: Disabled by config. Please merge this manually once you are satisfied.</p>
<p>â™» <strong>Rebasing</strong>: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.</p>
<p>ðŸ‘» <strong>Immortal</strong>: This PR will be recreated if closed unmerged. Get <a href="https://togithub.com/renovatebot/renovate/discussions">config help</a> if that&#x27;s undesired.</p>
<hr>
<ul>
<li>[ ] If you want to rebase/retry this PR, check this box</li>
</ul>
<hr>
<p>This PR has been generated by <a href="https://www.mend.io/free-developer-tools/renovate/">Mend Renovate</a>. View repository job log <a href="https://developer.mend.io/github/astral-sh/uv">here</a>.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2024-07-15 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-15 00:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:46:34 UTC
    </footer>
</body>
</html>
