<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix incorrect file permissions in wheel packages - astral-sh/uv #14930</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix incorrect file permissions in wheel packages</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/14930">#14930</a>
        opened by <a href="https://github.com/yumeminami">@yumeminami</a>
        on 2025-07-28 04:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/yumeminami">@yumeminami</a> on 2025-07-28 04:22</div>
            <div class="timeline-body"><p>Fixes #14920</p>
<h2>Summary</h2>
<p>Problem: When building wheel packages, metadata files (such as RECORD, METADATA, WHEEL, and
license files) were being created with incorrect Unix permissions (--w--wx---), lacking
read permissions and having unexpected executable permissions.</p>
<p>Solution: The fix ensures that all metadata files in wheel packages are created with proper
644 (rw-r--r--) permissions by:</p>
<ul>
<li>Adding explicit unix_permissions(0o644) setting in the write_bytes method for metadata
files</li>
<li>Updating permission constants to use octal notation for clarity</li>
<li>Improving code comments to document the permission settings</li>
</ul>
<p>Impact: This change ensures wheel packages created by uv have standard file permissions
consistent with other Python build tools like setuptools, improving compatibility and
following Python packaging best practices.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-07-28 13:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @charliermarsh on 2025-07-28 13:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @konstin by @zanieb on 2025-07-28 13:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2025-07-28 13:55</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2025-07-28 13:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-07-28 13:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2025-07-28 13:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zaporter-work">@zaporter-work</a> on 2025-07-30 00:03</div>
            <div class="timeline-body"><p>Hi! Thank you for this fix!</p>
<p>Would you be willing to do a minor release for this patch? Any packages built with this version of uv_build are problematic. I've just spent a few hours tracking this down from a stubs-only transitive dependency which happened to be on 0.8.3 -- it caused our CI to fail with a PermissionDenied error while inflating our built PEX files.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-07-30 01:06</div>
            <div class="timeline-body"><p>Do you mean a patch release? We're planning to release tomorrow as part of our regular cadence, but likely won't release tonight.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zaporter-work">@zaporter-work</a> on 2025-07-30 01:37</div>
            <div class="timeline-body"><p>@charliermarsh Ah perfect -- thanks for the quick response. I didn't realize your scheduled release is tomorrow -- that is great. Thanks for the work on this project!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kieran-ryan">@kieran-ryan</a> on 2025-08-05 16:21</div>
            <div class="timeline-body"><p>Thanks for the swift resolution @yumeminami! Verified resolved in v0.8.4! ðŸ™Œ</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:47:16 UTC
    </footer>
</body>
</html>
