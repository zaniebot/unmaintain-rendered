<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support transitive dependencies in Git workspaces - astral-sh/uv #8665</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support transitive dependencies in Git workspaces</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/8665">#8665</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-10-29 16:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>When resolving workspace dependencies (from one workspace member to another) from a workspace that's in git, we need to emit these transitive dependencies as git dependencies, not path dependencies as all other workspace deps. This fixes a bug where we would treat them as path dependencies inside the checkout directory, leading either to clashes (between a local path and another direct git dependency) or invalid lockfiles (referencing the checkout dir in the lockfile when we should be referencing the git repo).</p>
<p>Fixes #8087
Fixes #4920
Fixes #3936 since we needed that information anyway</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2024-10-29 16:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-10-30 19:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-10-30 19:06</div>
            <div class="timeline-body"><p>Looks good to me. There's one failure on Windows, but I can look at fixing it in a separate PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Fix git workspace transitive dependencies" to "Support transitive dependencies in Git workspaces" by @charliermarsh on 2024-10-30 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-10-30 19:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-10-30 19:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-30 19:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:40:23 UTC
    </footer>
</body>
</html>
