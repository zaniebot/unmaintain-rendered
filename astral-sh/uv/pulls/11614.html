<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make fetching github releases faster - astral-sh/uv #11614</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Make fetching github releases faster</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/11614">#11614</a>
        opened by <a href="https://github.com/j178">@j178</a>
        on 2025-02-19 03:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a></div>
            <div class="timeline-body"><p>I noticed that the latest two <code>sync-python-releases</code> jobs failed due to <code>httpx.RemoteProtocolError: peer closed connection without sending complete message body (incomplete chunked read)</code>.</p>
<p>For the current python-build-standalone release, each request page (defaulting to 30 items per page) takes about 20 seconds and loads around 32MB of data. This extensive data load might be causing the request to frequently fail.</p>
<p>In this PR, I reduced number of items per page to 10 and added <code>Accept-Encoding: gzip, deflate</code> to the request header. Now, it takes about 6 seconds to load, and the compressed response size has been reduced to 534KB. I hope this would addresses the request failure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Reduce fetching github releases faster&quot; to &quot;Make fetching github releases faster&quot; by <a href="https://github.com/j178">@j178</a> on 2025-02-19 03:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/j178">@j178</a> on 2025-02-19 04:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/konstin">@konstin</a> on 2025-02-19 08:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-19 14:57</div>
            <div class="timeline-body"><p>I worry a little that more requests means we&#x27;re more likely to encounter the rate limit, but ü§∑‚Äç‚ôÄÔ∏è</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-19 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-19 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-19 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-02-20 14:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:50:57 UTC
    </footer>
</body>
</html>
