<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `--app` and `--lib` options to `uv init` - astral-sh/uv #6689</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>--app</code> and <code>--lib</code> options to <code>uv init</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/6689">#6689</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-08-27 14:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 14:05</div>
            <div class="timeline-body"><p>Changes the <code>uv init</code> experience with a focus on working for more use-cases out of the box.</p>
<ul>
<li>Adds <code>--app</code> and <code>--lib</code> options to control the created project style</li>
<li>Changes the default from a library with <code>src/</code> and a build backend (<code>--lib</code>) to an application that is not packaged (<code>--app</code>)</li>
<li>Hides the <code>--virtual</code> option and replaces it with <code>--package</code> and <code>--no-package</code></li>
<li><code>--no-package</code> is not allowed with <code>--lib</code> right now, but it could be in the future once we understand a use-case</li>
<li>Creates a runnable project<ul>
<li>Applications have a <code>hello.py</code> file which you can run with <code>uv run hello.py</code></li>
<li>Packaged applications, e.g., <code>uv init --app --package</code> create a package and script entrypoint, which you can run with <code>uv run hello</code></li>
<li>Libraries provide a demo API function, e.g., <code>uv run python -c &quot;import name; print(name.hello())&quot;</code> â€” this is unchanged</li>
</ul>
</li>
</ul>
<p>Closes #6471</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-08-27 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "zb/init app lib" to "Add `--app` and `--lib` options to `uv init`*" by @zanieb on 2024-08-27 14:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add `--app` and `--lib` options to `uv init`*" to "Add `--app` and `--lib` options to `uv init`" by @zanieb on 2024-08-27 14:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-27 15:47</div>
            <div class="timeline-body"><p>Instead of <code>hello.py</code> I explored <code>app/__main__.py</code> and <code>uv run python -m app</code>. I'm not sure what's better, but we might want to go with the simplest possible option? Thoughts? Seems nice to have some namespacing? Maybe we can do something different depending on if the directory is empty or not?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-08-27 16:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-cli/src/lib.rs</code>:2117 on 2024-08-27 16:45</div>
            <div class="timeline-body"><p><code>overrides_with</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-08-27 16:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-08-27 16:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-cli/src/lib.rs</code>:2108 on 2024-08-27 16:48</div>
            <div class="timeline-body"><p>&quot;to be built as a Python package&quot; maybe? Lets mention that the package will include a build system?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-08-27 16:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:2117 on 2024-08-27 16:48</div>
            <div class="timeline-body"><pre><code class="language-suggestion">    #[arg(long, overrides_with = &quot;package&quot;, conflicts_with = &quot;lib&quot;)]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-08-27 16:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:2117 on 2024-08-27 16:48</div>
            <div class="timeline-body"><p>Makes sense to me, I think. That's our standard pattern right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @zanieb on 2024-08-27 17:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2024-08-27 18:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-08-27 18:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-08-27 18:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:01:11 UTC
    </footer>
</body>
</html>
