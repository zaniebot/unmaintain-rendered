<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document uv-with-Jupyter workflows - astral-sh/uv #7625</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Document uv-with-Jupyter workflows</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/7625">#7625</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-09-22 17:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-22 17:56</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This is a work-in-progress as I actually want to change some behaviors here.</p>
<p>Closes https://github.com/astral-sh/uv/issues/6329.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @charliermarsh on 2024-09-22 17:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-22 18:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/guides/integration/jupyter.md</code>:36 on 2024-09-22 18:03</div>
            <div class="timeline-body"><p>Actually, it looks like this is solvable using kernel <code>ipython kernel install</code> (https://github.com/astral-sh/uv/issues/6329#issuecomment-2302252543).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/guides/integration/jupyter.md</code>:36 on 2024-09-22 18:15</div>
            <div class="timeline-body"><p>I sort of think we should <em>not</em> be discovering the tool environment here, though. Modifying the project environment isn't great, but modifying the tool environment is even worse! It means subsequent users of the tool have these same modifications. I'd propose that we skip tool and ephemeral environments when considering active virtual environments. \cc @zanieb</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-22 18:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-22 19:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/guides/integration/jupyter.md</code>:69 on 2024-09-22 19:17</div>
            <div class="timeline-body"><p>It would be nice if we could find a way to make this work without requiring that you install <code>ipykernel</code> into the project environment itself. (We don't want users to have to add <code>ipykernel</code> as a project dependency just to interact with their project in a notebook.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a> reviewed on 2024-09-22 22:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/bluss">@bluss</a> on <code>docs/guides/integration/jupyter.md</code>:17 on 2024-09-22 22:40</div>
            <div class="timeline-body"><p>I'm sure there are various opinions are about this, but <code>jupyter notebook</code> is the legacy interface and jupyterlab is the current interface. I don't know what relation other people have to this, would it give a better impression to use jupyterlab here? Command <code>jupyter lab</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-22 23:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/guides/integration/jupyter.md</code>:17 on 2024-09-22 23:36</div>
            <div class="timeline-body"><p>Yeah I went back and forth. I'm fine to use <code>jupyter lab</code>, no big deal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a> reviewed on 2024-09-23 09:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/bluss">@bluss</a> on <code>docs/guides/integration/jupyter.md</code>:69 on 2024-09-23 09:59</div>
            <div class="timeline-body"><p>Why is that not wanted?</p>
<p>But the 'Uv Run' kernelspec I posted in the other issue seems to be the most normal way to achieve exactly that - it runs the kernel using <code>uv run --with ipykernel</code>. Maybe a vscode extension is a better user interface, most of my questions are around the interface and if it's worth it (Because vscode already picks up <code>.venv</code> natively, is it worth the fuss with kernelspecs or other ways to do it - or can those external configuration ways of working be put on the long term plan, that is working on better uv + vscode integration to make these cases easy or automatic in the long run.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-23 12:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/guides/integration/jupyter.md</code>:69 on 2024-09-23 12:42</div>
            <div class="timeline-body"><p>Well, if I'm working on a project, and I want to play with that project in a notebook, I don't want to add notebook dependencies as dependencies to the <em>project</em>. I don't want them recorded in the lock, etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/radames">@radames</a> on 2024-09-23 18:26</div>
            <div class="timeline-body"><p>Just one note, following a fresh new setup with vscode</p>
<pre><code>uv init my-notebook
cd my-notebook
uv add --dev ipykernel
uv run ipython kernel install --user --name=uv
code .
</code></pre>
<pre><code>!uv pip install diffusers
/usr/bin/sh: 1: uv: not found
</code></pre>
<p>The notebook kernel couldn't find the correct env path for <code>uv</code> nor <code>pip</code> , not sure if it's specific to my env however <code>uv</code> is set correct via my <code>.zshrc</code> and <code>.profile</code> <code>. &quot;$HOME/.cargo/env&quot;</code>. Doing the same steps with <code>pip</code> doesn't lead to an issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-23 18:28</div>
            <div class="timeline-body"><p>Good call, I experienced the same (though I don't see that when running Jupyter directly).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @charliermarsh on 2024-09-23 18:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/bluss">@bluss</a> on <code>docs/guides/integration/jupyter.md</code>:139 on 2024-09-23 18:36</div>
            <div class="timeline-body"><p>s/device/dev/</p>
<p>I like the new updates :slightly_smiling_face:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/radames">@radames</a> on 2024-09-23 18:45</div>
            <div class="timeline-body"><p>indeed <code>uv run --with jupyter jupyter lab</code> works, however it looks like there are still some PATH issues. <code>pyproject.toml</code> is not an error, just started it from a fresh dir</p>
<img width="710" alt="image" src="https://github.com/user-attachments/assets/0eef1b7b-34b8-48c1-8708-db1e369ea66b">

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a> reviewed on 2024-09-23 18:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-23 18:46</div>
            <div class="timeline-body"><p>Do you mean that <code>!pip list</code> and <code>!nvidia-smi</code> are missing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-23 18:55</div>
            <div class="timeline-body"><p>Does <code>!nvidia-smi</code> work in other Jupyter notebooks for you?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/radames">@radames</a> on 2024-09-23 19:12</div>
            <div class="timeline-body"><blockquote>
<p>Does <code>!nvidia-smi</code> work in other Jupyter notebooks for you?</p>
</blockquote>
<p>yes, starting a jupyter lab from a new conda env, the env path are working correctly</p>
<pre><code>conda create -n temp python=3.10 
pip install jupyterlab
jupyter lab  
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-23 23:03</div>
            <div class="timeline-body"><p>I haven't been able to reproduce that unfortunately.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a> reviewed on 2024-09-25 18:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/bluss">@bluss</a> on <code>docs/guides/integration/jupyter.md</code>:17 on 2024-09-25 18:48</div>
            <div class="timeline-body"><p>I think that's the best, it's what jupyter promotes as <code>#1</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:9 on 2024-09-25 23:20</div>
            <div class="timeline-body"><p>Just personal preference</p>
<pre><code class="language-suggestion">If you're working within a [project](../../concepts/projects.md), you can start a Jupyter server
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:13 on 2024-09-25 23:22</div>
            <div class="timeline-body"><p>Future: I wonder if we want <code>uvx --with-project jupyter lab</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:16 on 2024-09-25 23:24</div>
            <div class="timeline-body"><p>&quot;Within&quot;: Where's the notebook? Can we provide a link to the localhost URL where the notebook server starts by default then say &quot;Within <em>a</em> notebook&quot;.</p>
<p>Maybe instead of &quot;any other <code>uv run</code> invocation&quot; we should say &quot;any other file in the project&quot;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:21 on 2024-09-25 23:25</div>
            <div class="timeline-body"><pre><code class="language-suggestion">more to it. However, if you need to install additional packages from within the notebook, there are a few extra
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:47 on 2024-09-25 23:27</div>
            <div class="timeline-body"><p>Could be cool to have a command that emits the project name, so you could do <code>--name=$(uv ...)</code> as a one-liner that actually works in any project.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:53 on 2024-09-25 23:27</div>
            <div class="timeline-body"><p>For consistency: &quot;When creating a new notebook, select the <code>project</code> kernel from the dropdown&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:54 on 2024-09-25 23:28</div>
            <div class="timeline-body"><p>&quot;Then, you can use&quot; or &quot;Then use&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:91 on 2024-09-25 23:29</div>
            <div class="timeline-body"><pre><code class="language-suggestion">start a Jupyter server at any time with `uv tool run jupyter lab`. This will run a Jupyter
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-25 23:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/jupyter.md</code>:148 on 2024-09-25 23:30</div>
            <div class="timeline-body"><pre><code class="language-suggestion">`!uv pip install pydantic` to install `pydantic` into the project's virtual environment without
updating the project's dependencies.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-09-25 23:31</div>
            <div class="timeline-body"><p>Small comments</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-26 00:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/guides/integration/jupyter.md</code>:13 on 2024-09-26 00:51</div>
            <div class="timeline-body"><p>Yeah I kinda like that. The repeated <code>jupyter</code> would be nice to avoid.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-09-26 00:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-26 00:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-09-26 00:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/akilicarslan">@akilicarslan</a> on 2025-01-18 15:34</div>
            <div class="timeline-body"><p>I am struggling to run black code formatter for jupyter file with uv and vscode. Format notebook or format cell does not work entirely.
Can you help me please? What am I missing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-21 18:30</div>
            <div class="timeline-body"><p>@akilicarslan please open a new issue as described in #9452</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:13 UTC
    </footer>
</body>
</html>
