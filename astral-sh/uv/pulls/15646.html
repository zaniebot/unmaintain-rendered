<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support Android platform tags - astral-sh/uv #15646</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support Android platform tags</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/15646">#15646</a>
        opened by <a href="https://github.com/timrid">@timrid</a>
        on 2025-09-02 23:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>This implements the Android part of https://github.com/astral-sh/uv/issues/8029</p>
<p>FYI: @freakboy3742 @mhsmith</p>
<!-- What's the purpose of the change? What does it do, and why? -->

<h2>Test Plan</h2>
<p>Create a venv with uv and run <code>cargo run pip install --python-platform aarch64-linux-android pybase64</code>. Then the Android binary of pybase64 should be installed inside the venv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2025-09-03 01:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:821 on 2025-09-03 01:33</div>
            <div class="timeline-body"><p>Should this return a structured error?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2025-09-03 01:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:805 on 2025-09-03 01:35</div>
            <div class="timeline-body"><p>Is there a link we could include for the supported values here (e.g., to documentation)? I see <code>arm64_v8a</code>  and <code>x86_64</code> in the linked issue (https://github.com/astral-sh/uv/issues/8029), but not the other two.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 07:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:821 on 2025-09-03 07:48</div>
            <div class="timeline-body"><p>Added an structured error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 07:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:805 on 2025-09-03 07:49</div>
            <div class="timeline-body"><p>This is described in <a href="https://peps.python.org/pep-0738/#architectures">PEP738</a>. I added a link to it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mhsmith">@mhsmith</a> reviewed on 2025-09-03 09:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/mhsmith">@mhsmith</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:805 on 2025-09-03 09:12</div>
            <div class="timeline-body"><p>The live specification is now in the <a href="https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/#android">packaging user guide</a>, so I'll suggest a change to the link.</p>
<p>The 32-bit architectures are not officially supported by Python, but it's possible people might use them unofficially.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/mhsmith">@mhsmith</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:788 on 2025-09-03 09:13</div>
            <div class="timeline-body"><pre><code class="language-suggestion">    // Source: https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/#android
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/mhsmith">@mhsmith</a> on <code>crates/uv-configuration/src/target_triple.rs</code>:847 on 2025-09-03 09:18</div>
            <div class="timeline-body"><pre><code class="language-suggestion">/// Return the Android API level as parsed from the environment.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/mhsmith">@mhsmith</a> on <code>crates/uv-configuration/src/target_triple.rs</code>:488 on 2025-09-03 09:24</div>
            <div class="timeline-body"><p>In Python 3.14 the minimum API level has been <a href="https://github.com/python/cpython/blob/main/Android/android-env.sh">increased to 24</a>, and packages on PyPI will be tagged accordingly. So I'm not sure what's the best way to handle this in uv, but it would be preferable not to exclude all of those packages by default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mhsmith">@mhsmith</a> reviewed on 2025-09-03 09:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:788 on 2025-09-03 09:31</div>
            <div class="timeline-body"><p>In https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/#android the schema is described as <code>android_apilevel_abi</code>. So I should probably rename <code>AndroidArch</code> to <code>AndroidAbi</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 09:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mhsmith">@mhsmith</a> reviewed on 2025-09-03 09:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/mhsmith">@mhsmith</a> on <code>crates/uv-configuration/src/target_triple.rs</code>:488 on 2025-09-03 09:38</div>
            <div class="timeline-body"><p>Maybe the default in uv could just be increased to 24, and then it would accept wheels tagged as 24 and below on all Python versions. This would be similar to macOS, where uv defaults to a minimum version of 12.0, even though <a href="https://www.python.org/downloads/release/python-3137/">Python itself</a> is still compatible with 10.13.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mhsmith">@mhsmith</a> reviewed on 2025-09-03 09:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/mhsmith">@mhsmith</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:788 on 2025-09-03 09:41</div>
            <div class="timeline-body"><p>Yes, that would make sense, since that's the term used in all the Android documentation. They don't currently have multiple ABIs per architecture, but they have done in the past (e.g. <code>armeabi-v7a-hard</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 09:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-configuration/src/target_triple.rs</code>:488 on 2025-09-03 09:55</div>
            <div class="timeline-body"><p>Ok, I will change that.</p>
<p>(Actually macOS defaults to a <a href="https://github.com/astral-sh/uv/blob/ad35d120d66e43caf4073c27c06e432adadf9867/crates/uv-configuration/src/target_triple.rs#L260">minimum version of 13.0</a>. The <a href="https://github.com/astral-sh/uv/blob/ad35d120d66e43caf4073c27c06e432adadf9867/crates/uv-cli/src/lib.rs#L1449">uv docs are wrong</a>. I fixed that in https://github.com/astral-sh/uv/pull/15640.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 10:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-configuration/src/target_triple.rs</code>:488 on 2025-09-03 10:03</div>
            <div class="timeline-body"><p>Changed the default from 21 to 24.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 10:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-platform-tags/src/tags.rs</code>:788 on 2025-09-03 10:03</div>
            <div class="timeline-body"><p>Changed <code>AndroidArch</code> to <code>AndroidAbi</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-09-03 14:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2025-09-03 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2025-09-03 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-09-03 14:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:44:37 UTC
    </footer>
</body>
</html>
