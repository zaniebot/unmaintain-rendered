<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add support for unnamed local directory requirements - astral-sh/uv #2571</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add support for unnamed local directory requirements</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/2571">#2571</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-03-20 19:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-20 19:39</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>For example: <code>cargo run pip install .</code></p>
<p>The strategy taken here is to attempt to extract the package name from the distribution without executing the PEP 517 build steps. We could choose to do that in the future if this proves lacking, but it adds complexity.</p>
<p>Part of: https://github.com/astral-sh/uv/issues/313.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-03-20 20:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-20 20:17</div>
            <div class="timeline-body"><p>\cc @BurntSushi - Here I want to match <code>setup(name=&quot;foo&quot;)</code>-like calls.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @charliermarsh on 2024-03-20 23:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-03-20 23:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @charliermarsh on 2024-03-20 23:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gotmax23">@gotmax23</a> reviewed on 2024-03-21 00:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/gotmax23">@gotmax23</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:15</div>
            <div class="timeline-body"><p>I do not think frontends are supposed to use build backendâ€“specific heuristics to retrieve metadata.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-03-21 00:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:23</div>
            <div class="timeline-body"><p>I'm fine with it. These are just heuristics to support non-spec compliant requirement definitions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/gotmax23">@gotmax23</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:31</div>
            <div class="timeline-body"><p>Why not run <code>prepare_metadata_for_build_wheel()</code> and use the metadata from there like pip does?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gotmax23">@gotmax23</a> reviewed on 2024-03-21 00:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-03-21 00:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:33</div>
            <div class="timeline-body"><p>I don't want to pay that cost here when all we need is the project <em>name</em> (which is far less to ask than the project <em>metadata</em>). I'll consider it though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-03-21 00:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:37</div>
            <div class="timeline-body"><p>I'll look into how challenging it would be.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gotmax23">@gotmax23</a> reviewed on 2024-03-21 00:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/gotmax23">@gotmax23</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:43</div>
            <div class="timeline-body"><p>The project name is part of the Core metadata spec just like <code>Requires-Dist</code> or anything else, but I understand. Thanks for looking into it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gotmax23">@gotmax23</a> reviewed on 2024-03-21 00:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/gotmax23">@gotmax23</a> on <code>crates/uv/src/requirements.rs</code>:688 on 2024-03-21 00:49</div>
            <div class="timeline-body"><p>Also, it's <em>possible</em> for a build backend to exist that isn't setuptools or poetry and doesn't use PEP 621 metadata.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-03-21 02:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-03-21 03:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-21 03:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-03-21 03:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 14:49:26 UTC
    </footer>
</body>
</html>
