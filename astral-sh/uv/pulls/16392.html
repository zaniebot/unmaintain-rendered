<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve hint on `pip install --system` when externally managed - astral-sh/uv #16392</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve hint on `pip install --system` when externally managed</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/16392">#16392</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-10-21 17:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-21 17:06</div>
            <div class="timeline-body"><p>I had some qualms with https://github.com/astral-sh/uv/pull/16318</p>
<ol>
<li>The snapshot was specific to uv's managed interpreter due to inclusion of the externally-managed output. This will break downstream distros. We either need to filter the message, or, as done here, install a managed interpreter.</li>
<li>It had a custom filter for the interpreter path, which we shouldn't need. If needed, we should fix that in the test context.</li>
<li>We already had an implicit hint to create a virtual environment. The change in styling of the new hint hint following it is confusing. It's also confusing to hint creating a virtual environment when <code>--system</code> was used.</li>
<li>There were unresolved requested changes to the language for the message / it didn't fit stylistic with our existing ones.</li>
<li>The message was also very confusing for a uv-managed interpreter, which is both a &quot;system&quot; Python interpreter (in that it's global) and the opposite of a &quot;system&quot; interpreter per UV_PYTHON_PREFERENCE.</li>
</ol>
<p>Also problematic, but not addressed here, is that there are other commands that display an externally-managed message, e.g., <code>uv pip sync</code>, but #16318 was just limited to <code>pip install</code>. We should not just implement this in one place â€” I'll open a tracking issue to consolidate and reuse the logic.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2025-10-21 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @zanieb on 2025-10-21 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2025-10-21 17:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-21 17:48</div>
            <div class="timeline-body"><p>cc @cmnemoi maybe a few things to learn from here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-10-21 17:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-10-21 17:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-10-21 17:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:30:35 UTC
    </footer>
</body>
</html>
