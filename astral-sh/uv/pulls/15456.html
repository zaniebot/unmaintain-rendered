<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add keyring integration for git credentials - astral-sh/uv #15456</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add keyring integration for git credentials</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/15456">#15456</a>
        opened by <a href="https://github.com/jtfmumm">@jtfmumm</a>
        on 2025-08-22 15:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/jtfmumm">@jtfmumm</a> on 2025-08-22 15:33</div>
            <div class="timeline-body"><p>This PR adds native keyring integration for persisting and fetching git credentials. On successful authentication for a git repo, credentials are persisted to the system keyring if <code>keyring-provider = &quot;native&quot;</code>. Future invocations will be able to find these credentials even in the absence of a git credential helper (though you must currently still provide a username on future invocations, see https://github.com/astral-sh/uv/issues/10866).</p>
<p>Credentials are stored in the system keyring with a <code>uv-credentials:</code> prefix (see #14559), e.g., the keyring service for a GitHub repo would be named <code>uv-credentials:https://github.com/&lt;org&gt;/&lt;repo&gt;</code>.</p>
<p>TODO:</p>
<ul>
<li>Add a test for <code>uv sync</code> (there is currently only a new test for <code>uv add</code>). I've successfully tested <code>uv sync</code> locally but ideally we should have an automated test.</li>
</ul>
<p>Depends on #14559.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on <code>crates/uv-git/src/credentials.rs</code>:24 on 2025-08-22 15:38</div>
            <div class="timeline-body"><p>This method was switched to <code>async</code> for calling <code>KeyringProvider::store_if_native</code>, as was <code>store_credentials_from_url</code> below.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jtfmumm">@jtfmumm</a> reviewed on 2025-08-22 15:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jtfmumm">@jtfmumm</a> reviewed on 2025-08-22 15:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on <code>crates/uv-git/src/source.rs</code>:75 on 2025-08-22 15:41</div>
            <div class="timeline-body"><p>This method was switched to <code>async</code> in order to call <code>KeyringProvider::fetch_if_native</code>. As a result, a immediately invoked closure below was converted to a <code>spawn_blocking</code> call. It's worth noting that this change holds whether or not the keyring provider is configured to be native.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:47:24 UTC
    </footer>
</body>
</html>
