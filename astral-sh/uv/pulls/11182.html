<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Respect concurrency limits in parallel index fetch - astral-sh/uv #11182</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Respect concurrency limits in parallel index fetch</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/11182">#11182</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-02-03 13:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>With the parallel simple index fetching, we would only acquire one download concurrency token, meaning that we could in the worst case make times the number of indexes more requests than the user requested limit. We fix this by passing the semaphore down to the simple API method.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2025-02-03 13:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @konstin on 2025-02-03 13:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-02-03 15:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2025-02-03 15:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-02-03 15:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-02-03 15:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:41:50 UTC
    </footer>
</body>
</html>
