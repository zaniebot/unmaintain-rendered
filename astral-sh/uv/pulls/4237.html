<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support unnamed requirements in `uv add` - astral-sh/uv #4237</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support unnamed requirements in <code>uv add</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/4237">#4237</a>
        opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a>
        on 2024-06-11 16:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-06-11 16:21</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Support unnamed URL requirements in <code>uv add</code>. For example, <code>uv add git+https://github.com/pallets/flask</code>.</p>
<p>Part of https://github.com/astral-sh/uv/issues/3959.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @ibraheemdev on 2024-06-11 16:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-06-11 16:23</div>
            <div class="timeline-body"><p>I'm not 100% sure about all the CLI arguments here, would appreciate a more thorough audit of those. For example, I didn't add <code>--only-binary</code> because that doesn't seem very useful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ibraheemdev">@ibraheemdev</a> reviewed on 2024-06-11 16:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on <code>crates/pypi-types/src/requirement.rs</code>:56 on 2024-06-11 16:24</div>
            <div class="timeline-body"><p>This is a little weird because we lose the distinction between empty version specifiers and <code>None</code>, but that doesn't seem relevant for formatting at least.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-11 19:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/project/add.rs</code>:70 on 2024-06-11 19:03</div>
            <div class="timeline-body"><p>I think it would be more conventional for this piece to be in <code>main.rs</code> (or, at least, we do that for the other commands).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-11 19:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/project/add.rs</code>:99 on 2024-06-11 19:03</div>
            <div class="timeline-body"><p>Can we define this <code>NoBinary</code> as <code>let no_binary = NoBinary::default()</code>, and put it with all the other defaults below? Like, move that block up to line 75 or so?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-11 19:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/project/add.rs</code>:99 on 2024-06-11 19:04</div>
            <div class="timeline-body"><p>I'd like to have something that looks like the <code>// TODO(charlie): Respect project configuration.</code> block in <code>do_lock</code>, just so we have consistency and it's easier to fix them all later.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-11 19:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/cli.rs</code>:1967 on 2024-06-11 19:06</div>
            <div class="timeline-body"><p>I think you could feasibly omit this, <code>keyring_provider</code>, <code>python_version</code>, <code>python_platform</code>, <code>link_mode</code>, <code>build_isolation</code>, ... We don't support them in <code>lock</code> or <code>sync</code> or <code>run</code> yet and need to tackle the problem holistically. Honestly, it might be <em>best</em> to omit them for now so we don't tie ourselves to them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @ibraheemdev on 2024-06-14 12:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-06-14 13:57</div>
            <div class="timeline-body"><p>Moved to https://github.com/astral-sh/uv/pull/4326 (switched to a local branch).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2024-06-14 13:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:54:21 UTC
    </footer>
</body>
</html>
