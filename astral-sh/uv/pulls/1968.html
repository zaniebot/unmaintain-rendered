<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add example for compile current env packages - astral-sh/uv #1968</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add example for compile current env packages</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/1968">#1968</a>
        opened by <a href="https://github.com/T-256">@T-256</a>
        on 2024-02-25 20:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/T-256">@T-256</a></div>
            <div class="timeline-body">Summary
<p>I was going to create a feature-request issue for adding graph like showing of currently installed dependencies in venv, but then I found <code>uv pip freeze | uv pip compile</code> is what I&#x27;m looking for.</p>
<p>As one who manually pip-installs packages every once in a while (instead of edit <code>requirements.in</code> each time), after a while I would need to have graph of installed packages (e.g. to see how uninstallinga packages effects on others).</p>
<p>I found this command is so useful and wondered if we could have this in docs as one of <code>uv</code> features.</p>
Test Plan


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mitsuhiko">@mitsuhiko</a> on 2024-02-26 12:40</div>
            <div class="timeline-body"><p>~~I don&#x27;t think that command works in the general sense. For instance if you try to run this on the <code>rye</code> project you will see this failure:~~</p>
<pre><code>$ ~/.rye/uv/0.1.9/uv pip freeze | ~/.rye/uv/0.1.9/uv pip compile -
error: Couldn&#x27;t parse requirement in `-` at position 570
  Caused by: Trailing `(from file:///Users/mitsuhiko/Development/rye)` is not allowed
rye-dev==1.0.0 (from file:///Users/mitsuhiko/Development/rye)
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</code></pre>
<p>~~(Still need to check if newer uv produces a different freeze output but I&#x27;m guessing not)~~</p>
<p>Nevermind. It does produce a better output on newer versions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-03 20:16</div>
            <div class="timeline-body"><p>Can you say a bit more about how / when you use this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-03 20:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2024-03-03 20:28</div>
            <div class="timeline-body"><blockquote>
<p>Can you say a bit more about how / when you use this?</p>
</blockquote>
<p>When I need a dependencies-tree in an environment, and I didn&#x27;t have/use <code>requirements.in</code>.
So, first step is to export deps using <code>pip freeze</code>. Also, I don&#x27;t want to create temporary <code>requirements.in</code>, so I pipe it to <code>pip compile</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-03-18 14:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>README.md</code>:87 on 2024-03-18 14:28</div>
            <div class="timeline-body"><p>Can we include a pipe here?</p>
<pre><code>echo flask | uv pip compile - -o requirements.txt  # Read from stdin.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-03-18 14:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>README.md</code>:88 on 2024-03-18 14:29</div>
            <div class="timeline-body"><pre><code>uv pip freeze | uv pip compile - -o requirements.txt  # Lock the current environment.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-18 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-19 01:06</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-19 01:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-19 01:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:43:56 UTC
    </footer>
</body>
</html>
