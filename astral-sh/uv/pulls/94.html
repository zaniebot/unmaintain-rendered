<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix tempdir rename - astral-sh/uv #94</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix tempdir rename</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/94">#94</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-10-12 18:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>This fixes two bugs on linux:</p>
<p><code>/tmp</code> and <code>$HOME</code> are technically on two different partitions on my machine, which means that rename-as-atomic-dir-write doesn't work. The solution is to create the temp dir in the target directory.</p>
<p>zip files may contain directory entries, we can't create files for them but need to create directories. We could skip them though because iirc they are not in the RECORD so they won't be uninstalled.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2023-10-12 18:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2023-10-12 18:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-10-12 18:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:34:31 UTC
    </footer>
</body>
</html>
