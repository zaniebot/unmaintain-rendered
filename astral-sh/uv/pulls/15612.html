<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove the native system store from the keyring providers - astral-sh/uv #15612</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Remove the native system store from the keyring providers</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/15612">#15612</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-08-31 20:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>We&#x27;re not sure what the best way to expose the native store to users is yet and it&#x27;s a bit weird that you can use this in the <code>uv auth</code> commands but can&#x27;t use any of the other keyring provider options. The simplest path forward is to just not expose it to users as a keyring provider, and instead frame it as a preview alternative to the plaintext uv credentials store. We can revisit the best way to expose configuration before stabilization.</p>
<p>Note this pull request retains the <em>internal</em> keyring provider implementation â€” we can refactor it out later but I wanted to avoid a bunch of churn here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-31 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-09-01 02:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2025-09-01 02:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-auth/src/store.rs</code>:35 on 2025-09-01 02:53</div>
            <div class="timeline-body"><p>I think this could have some surprising effects... For example, if you run with <code>--preview</code>, suddenly all the creds you stored with the default backend are now gone, and auth will fail. How can we avoid that? Make this a dedicated setting? Make it tiered?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-01 13:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-auth/src/store.rs</code>:35 on 2025-09-01 13:27</div>
            <div class="timeline-body"><p>I think it&#x27;d need a dedicated setting, which I was wary to add here but we should definitely figure out. I think we&#x27;ll actually still always <em>read</em> from the plaintext store in the middleware? but, e.g., <code>logout</code> wouldn&#x27;t work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2025-09-01 14:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-auth/src/store.rs</code>:35 on 2025-09-01 14:03</div>
            <div class="timeline-body"><p>(Wary because it expands the scope of the PR? Or for another reason?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-01 14:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-auth/src/store.rs</code>:35 on 2025-09-01 14:31</div>
            <div class="timeline-body"><p>Yeah not necessarily because of the scope of the pull request, but wary because we then need to choose a name for a flag and be fairly certain that&#x27;s what we want. Part of the intent of this pull request was to defer that decision.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-02 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-02 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-09-02 13:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:53:49 UTC
    </footer>
</body>
</html>
