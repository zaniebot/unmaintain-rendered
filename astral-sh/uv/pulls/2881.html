<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Rust crate reqwest to 0.12.0 - astral-sh/uv #2881</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update Rust crate reqwest to 0.12.0</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/2881">#2881</a>
        opened by <a href="https://github.com/renovate">@renovate</a>
        on 2024-04-08 03:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/renovate">@renovate</a></div>
            <div class="timeline-body"><p><a href="https://renovatebot.com"><img src="https://app.renovatebot.com/images/banner.svg" alt="Mend Renovate" /></a></p>
<p>This PR contains the following updates:</p>
<p>| Package | Type | Update | Change |
|---|---|---|---|
| <a href="https://togithub.com/seanmonstar/reqwest">reqwest</a> | dev-dependencies | minor | <code>0.11.23</code> -&gt; <code>0.12.0</code> |
| <a href="https://togithub.com/seanmonstar/reqwest">reqwest</a> | workspace.dependencies | minor | <code>0.11.23</code> -&gt; <code>0.12.0</code> |</p>
<hr />
<h3>Release Notes</h3>
<details>
<summary>seanmonstar/reqwest (reqwest)</summary>

<h3><a href="https://togithub.com/seanmonstar/reqwest/blob/HEAD/CHANGELOG.md#v0123"><code>v0.12.3</code></a></h3>
<p><a href="https://togithub.com/seanmonstar/reqwest/compare/v0.12.2...v0.12.3">Compare Source</a></p>
<ul>
<li>Add <code>FromStr</code> for <code>dns::Name</code>.</li>
<li>Add <code>ClientBuilder::built_in_webpki_certs(bool)</code> to enable them separately.</li>
<li>Add <code>ClientBuilder::built_in_native_certs(bool)</code> to enable them separately.</li>
<li>Fix sending <code>content-length: 0</code> for GET requests.</li>
<li>Fix response body <code>content_length()</code> to return value when timeout is configured.</li>
<li>Fix <code>ClientBuilder::resolve()</code> to use lowercase domain names.</li>
</ul>
<h3><a href="https://togithub.com/seanmonstar/reqwest/blob/HEAD/CHANGELOG.md#v0122"><code>v0.12.2</code></a></h3>
<p><a href="https://togithub.com/seanmonstar/reqwest/compare/v0.12.1...v0.12.2">Compare Source</a></p>
<ul>
<li>Fix missing ALPN when connecting to socks5 proxy with rustls.</li>
<li>Fix TLS version limits with rustls.</li>
<li>Fix not detected ALPN h2 from server with native-tls.</li>
</ul>
<h3><a href="https://togithub.com/seanmonstar/reqwest/blob/HEAD/CHANGELOG.md#v0121"><code>v0.12.1</code></a></h3>
<p><a href="https://togithub.com/seanmonstar/reqwest/compare/v0.12.0...v0.12.1">Compare Source</a></p>
<ul>
<li>Fix <code>ClientBuilder::interface()</code> when no TLS is enabled.</li>
<li>Fix <code>TlsInfo::peer_certificate()</code> being truncated with rustls.</li>
<li>Fix panic if <code>http2</code> feature disabled but TLS negotiated h2 in ALPN.</li>
<li>Fix <code>Display</code> for <code>Error</code> to not include its source error.</li>
</ul>
<h3><a href="https://togithub.com/seanmonstar/reqwest/blob/HEAD/CHANGELOG.md#v0120"><code>v0.12.0</code></a></h3>
<p><a href="https://togithub.com/seanmonstar/reqwest/compare/v0.11.27...v0.12.0">Compare Source</a></p>
<ul>
<li>Upgrade to <code>hyper</code>, <code>http</code>, and <code>http-body</code> v1.</li>
<li>Add better support for converting to and from <code>http::Request</code> and <code>http::Response</code>.</li>
<li>Add <code>http2</code> optional cargo feature, default on.</li>
<li>Add <code>charset</code> optional cargo feature, default on.</li>
<li>Add <code>macos-system-configuration</code> cargo feature, default on.</li>
<li>Change all optional dependencies to no longer be exposed as implicit features.</li>
<li>Add <code>ClientBuilder::interface(str)</code> to specify the local interface to bind to.</li>
<li>Experimental: disables the <code>http3</code> feature temporarily.</li>
</ul>
<h4>v0.11.27</h4>
<ul>
<li>Add <code>hickory-dns</code> feature, deprecating <code>trust-dns</code>.</li>
<li>(wasm) Fix <code>Form::text()</code> to not set octet-stream for plain text fields.</li>
</ul>
<h4>v0.11.26</h4>
<ul>
<li>Revert <code>system-configuration</code> upgrade, which broke MSRV on macOS.</li>
</ul>
<h4>v0.11.25</h4>
<ul>
<li>Fix <code>Certificate::from_pem_bundle()</code> parsing.</li>
<li>Fix Apple linker errors from detecting system proxies.</li>
</ul>
<h4>v0.11.24</h4>
<ul>
<li>Add <code>Certificate::from_pem_bundle()</code> to add a bundle.</li>
<li>Add <code>http3_prior_knowledge()</code> to blocking client builder.</li>
<li>Remove <code>Sync</code> bounds requirement for <code>Body::wrap_stream()</code>.</li>
<li>Fix HTTP/2 to retry <code>REFUSED_STREAM</code> requests.</li>
<li>Fix instances of converting <code>Url</code> to <code>Uri</code> that could panic.</li>
</ul>
<h4>v0.11.23</h4>
<ul>
<li>Add <code>Proxy::custom_http_auth(val)</code> for setting the raw <code>Proxy-Authorization</code> header when connecting to proxies.</li>
<li>Fix redirect to reject locations that are not <code>http://</code> or <code>https://</code>.</li>
<li>Fix setting <code>nodelay</code> when TLS is enabled but URL is HTTP.</li>
<li>(wasm) Add <code>ClientBuilder::user_agent(val)</code>.</li>
<li>(wasm) add <code>multipart::Form::headers(headers)</code>.</li>
</ul>
<h4>v0.11.22</h4>
<ul>
<li>Fix compilation on Windows when <code>trust-dns</code> is enabled.</li>
</ul>
<h4>v0.11.21</h4>
<ul>
<li>Add automatically detecting macOS proxy settings.</li>
<li>Add <code>ClientBuilder::tls_info(bool)</code>, which will put <code>tls::TlsInfo</code> into the response extensions.</li>
<li>Fix trust-dns resolver from possible hangs.</li>
<li>Fix connect timeout to be split among multiple IP addresses.</li>
</ul>
<h4>v0.11.20</h4>
<ul>
<li>Fix <code>deflate</code> decompression back to using zlib, as outlined in the spec.</li>
</ul>
<h4>v0.11.19</h4>
<ul>
<li>Add <code>ClientBuilder::http1_ignore_invalid_headers_in_responses()</code> option.</li>
<li>Add <code>ClientBuilder::http1_allow_spaces_after_header_name_in_responses()</code> option.</li>
<li>Add support for <code>ALL_PROXY</code> environment variable.</li>
<li>Add support for <code>use_preconfigured_tls</code> when combined with HTTP/3.</li>
<li>Fix <code>deflate</code> decompression from using the zlib decoder.</li>
<li>Fix <code>Response::{text, text_with_charset}()</code> to strip BOM characters.</li>
<li>Fix a panic when HTTP/3 is used if UDP isn't able to connect.</li>
<li>Fix some dependencies for HTTP/3.</li>
<li>Increase MSRV to 1.63.</li>
</ul>
<h4>v0.11.18</h4>
<ul>
<li>Fix <code>RequestBuilder::json()</code> method from overriding a previously set <code>content-type</code> header. An existing value will be left in place.</li>
<li>Upgrade internal dependencies for rustls and compression.</li>
</ul>
<h4>v0.11.17</h4>
<ul>
<li>Upgrade internal dependencies of Experimental HTTP/3 to use quinn v0.9</li>
<li>(wasm) Fix blob url support</li>
</ul>
<h4>v0.11.16</h4>
<ul>
<li>Chore: set MSRV in <code>Cargo.toml</code>.</li>
<li>Docs: fix build on docs.rs</li>
</ul>
<h4>v0.11.15</h4>
<ul>
<li>Add <code>RequestBuilder</code> methods to split and reconstruct from its parts.</li>
<li>Add experimental HTTP/3 support.</li>
<li>Fix <code>connection_verbose</code> to log <code>write_vectored</code> calls.</li>
<li>(wasm) Make requests actually cancel if the future is dropped.</li>
</ul>
<h4>v0.11.14</h4>
<ul>
<li>Adds <code>Proxy::no_proxy(url)</code> that works like the NO_PROXY environment variable.</li>
<li>Adds <code>multipart::Part::headers(headers)</code> method to add custom headers.</li>
<li>(wasm) Add <code>Response::bytes_stream()</code>.</li>
<li>Perf: several internal optimizations reducing copies and memory allocations.</li>
</ul>
<h4>v0.11.13</h4>
<ul>
<li>Add <code>ClientBuilder::dns_resolver()</code> option for custom DNS resolvers.</li>
<li>Add <code>ClientBuilder::tls_sni(bool)</code> option to enable or disable TLS Server Name Indication.</li>
<li>Add <code>Identity::from_pkcs8_pem()</code> constructor when using <code>native-tls</code>.</li>
<li>Fix <code>redirect::Policy::limited(0)</code> from following any redirects.</li>
</ul>
<h4>v0.11.12</h4>
<ul>
<li>Add <code>ClientBuilder::resolve_to_addrs()</code> which allows a slice of IP addresses to be specified for a single host.</li>
<li>Add <code>Response::upgrade()</code> to await whether the server agrees to an HTTP upgrade.</li>
</ul>
<h4>v0.11.11</h4>
<ul>
<li>Add HTTP/2 keep-alive configuration methods on <code>ClientBuilder</code>.</li>
<li>Add <code>ClientBuilder::http1_allow_obsolete_multiline_headers_in_responses()</code>.</li>
<li>Add <code>impl Service&lt;Request&gt;</code> for <code>Client</code> and <code>&amp;'_ Client</code>.</li>
<li>(wasm) Add <code>RequestBuilder::basic_auth()</code>.</li>
<li>Fix <code>RequestBuilder::header</code> to not override <code>sensitive</code> if user explicitly set on a <code>HeaderValue</code>.</li>
<li>Fix rustls parsing of elliptic curve private keys.</li>
<li>Fix Proxy URL parsing of some invalid targets.</li>
</ul>
<h4>v0.11.10</h4>
<ul>
<li>Add <code>Error::url()</code> to access the URL of an error.</li>
<li>Add <code>Response::extensions()</code> to access the <code>http::Extensions</code> of a response.</li>
<li>Fix <code>rustls-native-certs</code> to log an error instead of panicking when loading an invalid system certificate.</li>
<li>Fix passing Basic Authorization header to proxies.</li>
</ul>
<h4>v0.11.9</h4>
<ul>
<li>Add <code>ClientBuilder::http09_responses(bool)</code> option to allow receiving HTTP/0.9 responses.</li>
<li>Fix HTTP/2 to retry requests interrupted by an HTTP/2 graceful shutdown.</li>
<li>Fix proxy loading from environment variables to ignore empty values.</li>
</ul>
<h4>v0.11.8</h4>
<ul>
<li>Update internal webpki-roots dependency.</li>
</ul>
<h4>v0.11.7</h4>
<ul>
<li>Add <code>blocking::ClientBuilder::resolve()</code> option, matching the async builder.</li>
<li>Implement <code>From&lt;tokio::fs::File&gt;</code> for <code>Body</code>.</li>
<li>Fix <code>blocking</code> request-scoped timeout applying to bodies as well.</li>
<li>(wasm) Fix request bodies using multipart vs formdata.</li>
<li>Update internal <code>rustls</code> to 0.20.</li>
</ul>
<h4>v0.11.6</h4>
<ul>
<li>(wasm) Fix request bodies more.</li>
</ul>
<h4>v0.11.5</h4>
<ul>
<li>Add <code>ClientBuilder::http1_only()</code> method.</li>
<li>Add <code>tls::Version</code> type, and <code>ClientBuilder::min_tls_version()</code> and <code>ClientBuilder::max_tls_version()</code> methods.</li>
<li>Implement <code>TryFrom&lt;Request&gt;</code> for <code>http::Request</code>.</li>
<li>Implement <code>Clone</code> for <code>Identity</code>.</li>
<li>Fix <code>NO_PROXY</code>environment variable parsing to more closely match curl's. Comma-separated entries are now trimmed for whitespace, and <code>*</code> is allowed to match everything.</li>
<li>Fix redirection to respect <code>https_only</code> option.</li>
<li>(wasm) Add <code>Body::as_bytes()</code> method.</li>
<li>(wasm) Fix sometimes wrong conversation of bytes into a <code>JsValue</code>.</li>
<li>(wasm) Avoid dependency on serde-serialize feature.</li>
</ul>
<h4>v0.11.4</h4>
<ul>
<li>Add <code>ClientBuilder::resolve()</code> option to override DNS resolution for specific domains.</li>
<li>Add <code>native-tls-alpn</code> Cargo feature to use ALPN with the native-tls backend.</li>
<li>Add <code>ClientBuilder::deflate()</code> option and <code>deflate</code> Cargo feature to support decoding response bodies using deflate.</li>
<li>Add <code>RequestBuilder::version()</code> to allow setting the HTTP version of a request.</li>
<li>Fix allowing &quot;invalid&quot; certificates with the <code>rustls-tls</code> backend, when the server uses TLS v1.2 or v1.3.</li>
<li>(wasm) Add <code>try_clone</code> to <code>Request</code> and <code>RequestBuilder</code></li>
</ul>
<h4>v0.11.3</h4>
<ul>
<li>Add <code>impl From&lt;hyper::Body&gt; for reqwest::Body</code>.</li>
<li>(wasm) Add credentials mode methods to <code>RequestBuilder</code>.</li>
</ul>
<h4>v0.11.2</h4>
<ul>
<li>Add <code>CookieStore</code> trait to customize the type that stores and retrieves cookies for a session.</li>
<li>Add <code>cookie::Jar</code> as a default <code>CookieStore</code>, easing creating some session cookies before creating the <code>Client</code>.</li>
<li>Add <code>ClientBuilder::http2_adaptive_window()</code> option to configure an adaptive HTTP2 flow control behavior.</li>
<li>Add <code>ClientBuilder::http2_max_frame_size()</code> option to adjust the maximum HTTP2 frame size that can be received.</li>
<li>Implement <code>IntoUrl</code> for <code>String</code>, making it more convenient to create requests with <code>format!</code>.</li>
</ul>
<h4>v0.11.1</h4>
<ul>
<li>Add <code>ClientBuilder::tls_built_in_root_certs()</code> option to disable built-in root certificates.</li>
<li>Fix <code>rustls-tls</code> glue to more often support ALPN to upgrade to HTTP/2.</li>
<li>Fix proxy parsing to assume <code>http://</code> if no scheme is found.</li>
<li>Fix connection pool idle reaping by enabling hyper's <code>runtime</code> feature.</li>
<li>(wasm) Add <code>Request::new()</code> constructor.</li>
</ul>
<h3><a href="https://togithub.com/seanmonstar/reqwest/blob/HEAD/CHANGELOG.md#v01127"><code>v0.11.27</code></a></h3>
<p><a href="https://togithub.com/seanmonstar/reqwest/compare/v0.11.26...v0.11.27">Compare Source</a></p>
<ul>
<li>Add <code>hickory-dns</code> feature, deprecating <code>trust-dns</code>.</li>
<li>(wasm) Fix <code>Form::text()</code> to not set octet-stream for plain text fields.</li>
</ul>
</details>

<hr />
<h3>Configuration</h3>
<p>ðŸ“… <strong>Schedule</strong>: Branch creation - &quot;on Monday&quot; (UTC), Automerge - At any time (no schedule defined).</p>
<p>ðŸš¦ <strong>Automerge</strong>: Disabled by config. Please merge this manually once you are satisfied.</p>
<p>â™» <strong>Rebasing</strong>: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.</p>
<p>ðŸ”• <strong>Ignore</strong>: Close this PR and you won't be reminded about these updates again.</p>
<hr />
<ul>
<li>[ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box</li>
</ul>
<hr />
<p>This PR has been generated by <a href="https://www.mend.io/free-developer-tools/renovate/">Mend Renovate</a>. View repository job log <a href="https://developer.mend.io/github/astral-sh/uv">here</a>.</p>
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2024-04-08 03:04</div>
            <div class="timeline-body"><h3>âš  Artifact update problem</h3>
<p>Renovate failed to update artifacts related to this branch. You probably do not want to merge this PR as-is.</p>
<p>â™» Renovate will retry this branch, including artifacts, only when one of the following happens:</p>
<ul>
<li>any of the package files in this branch needs updating, or</li>
<li>the branch becomes conflicted, or</li>
<li>you click the rebase/retry checkbox if found above, or</li>
<li>you rename this PR's title to start with &quot;rebase!&quot; to trigger it manually</li>
</ul>
<p>The artifact failure details are included below:</p>
<h5>File name: Cargo.lock</h5>
<pre><code>Command failed: cargo update --config net.git-fetch-with-cli=true --manifest-path crates/uv/Cargo.toml --package reqwest@0.11.26 --precise 0.12.3
    Updating crates.io index
error: failed to select a version for the requirement `reqwest = &quot;^0.11.10&quot;`
candidate versions found which didn't match: 0.12.3
location searched: crates.io index
required by package `reqwest-middleware v0.2.5`
    ... which satisfies dependency `reqwest-middleware = &quot;^0.2.4&quot;` (locked to 0.2.5) of package `requirements-txt v0.0.1 (/tmp/renovate/repos/github/astral-sh/uv/crates/requirements-txt)`
perhaps a crate was updated and forgotten to be re-vendored?

</code></pre>
<h5>File name: Cargo.lock</h5>
<pre><code>Command failed: cargo update --config net.git-fetch-with-cli=true --manifest-path Cargo.toml --package reqwest@0.11.26 --precise 0.12.3
    Updating crates.io index
error: failed to select a version for the requirement `reqwest = &quot;^0.11.10&quot;`
candidate versions found which didn't match: 0.12.3
location searched: crates.io index
required by package `reqwest-middleware v0.2.5`
    ... which satisfies dependency `reqwest-middleware = &quot;^0.2.4&quot;` (locked to 0.2.5) of package `requirements-txt v0.0.1 (/tmp/renovate/repos/github/astral-sh/uv/crates/requirements-txt)`
perhaps a crate was updated and forgotten to be re-vendored?

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @renovate[bot] on 2024-04-08 03:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-08 03:55</div>
            <div class="timeline-body"><p>Being managed in https://github.com/astral-sh/uv/pull/2817</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-04-08 03:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2024-04-08 03:55</div>
            <div class="timeline-body"><h3>Renovate Ignore Notification</h3>
<p>Because you closed this PR without merging, Renovate will ignore this update (<code>0.12.0</code>). You will get a PR once a newer version is released. To ignore this dependency forever, add it to the <code>ignoreDeps</code> array of your Renovate config.</p>
<p>If you accidentally closed this PR, or if you changed your mind: rename this PR to get a fresh replacement PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-04-08 03:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:36:25 UTC
    </footer>
</body>
</html>
