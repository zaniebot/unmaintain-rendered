<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat(uvx): support both package@version and package==version syntaxes - astral-sh/uv #12488</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat(uvx): support both package@version and package==version syntaxes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/12488">#12488</a>
        opened by <a href="https://github.com/Aditya-PS-05">@Aditya-PS-05</a>
        on 2025-03-26 14:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Aditya-PS-05">@Aditya-PS-05</a> on 2025-03-26 14:32</div>
            <div class="timeline-body"><h1>Support both package@version and package==version syntaxes for --with</h1>
<h2>Problem</h2>
<p>Currently, the <code>--with</code> option in <code>uvx</code> only supports the <code>package==version</code> syntax, while other options like <code>--from</code> support the more intuitive <code>package@version</code> syntax. This inconsistency can be confusing for users, as reported in #12472.</p>
<h2>Solution</h2>
<p>This PR extends the <code>--with</code> option to support both syntaxes:</p>
<ul>
<li><code>package@version</code> (e.g., <code>flask@2.0.0</code>)</li>
<li><code>package==version</code> (e.g., <code>flask==2.0.0</code>)</li>
</ul>
<p>The changes are made in <code>crates/uv-cli/src/comma.rs</code> to handle both version specifier formats.</p>
<h2>Testing</h2>
<p>The changes have been tested with:</p>
<pre><code class="language-bash"># Using @ syntax
uvx --with &quot;flask@2.0.0&quot; my-tool

# Using == syntax
uvx --with &quot;flask==2.0.0&quot; my-tool
</code></pre>
<h2>Documentation</h2>
<p>The documentation in <code>docs/concepts/tools.md</code> already includes information about both syntaxes being supported. The CLI reference in <code>docs/reference/cli.md</code> has been updated to clarify this as well.</p>
<h2>Related Issues</h2>
<p>Fixes #12472</p>
<h2>Notes</h2>
<p>This change maintains backward compatibility while improving user experience by supporting the more intuitive <code>@</code> syntax that users are familiar with from other <code>uvx</code> commands.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-01 18:46</div>
            <div class="timeline-body"><p>Can you add tests specifically covering <code>uv tool run --with</code>?</p>
<p>We'll need to determine if we want this behavior still. cc @charliermarsh</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @zanieb on 2025-04-01 18:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Aditya-PS-05">@Aditya-PS-05</a> on 2025-04-02 19:21</div>
            <div class="timeline-body"><blockquote>
<p>Can you add tests specifically covering <code>uv tool run --with</code>?</p>
<p>We'll need to determine if we want this behavior still. cc @charliermarsh</p>
</blockquote>
<p>Sure, I add tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @zanieb on 2025-04-02 20:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-05-21 11:27</div>
            <div class="timeline-body"><p>I'm going to close this for now. I'm hesitant to support it, and in my testing the current changes aren't sufficient:</p>
<pre><code>error: Failed to parse: `flask@2.0.0`
  Caused by: Expected path (`/Users/crmarsh/workspace/uv/2.0.0`) to end in a supported file extension: `.whl`, `.tar.gz`, `.zip`, `.tar.bz2`, `.tar.lz`, `.tar.lzma`, `.tar.xz`, `.tar.zst`, `.tar`, `.tbz`, `.tgz`, `.tlz`, or `.txz`
flask@2.0.0
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-05-21 11:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:22 UTC
    </footer>
</body>
</html>
