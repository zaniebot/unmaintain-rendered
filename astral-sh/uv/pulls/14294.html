<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow local indexes to reference remote files - astral-sh/uv #14294</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow local indexes to reference remote files</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/14294">#14294</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2025-06-26 19:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Previously, we assumed that local indexes only referenced local files. However, it's fine for a local index (like, a <code>file://</code>-based Simple API) to reference a remote file, and in fact Pyodide operates this way.</p>
<p>Closes https://github.com/astral-sh/uv/issues/14227.</p>
<h2>Test Plan</h2>
<p>Ran <code>UV_INDEX=$(pyodide config get package_index) cargo run add anyio</code>, which produced this lockfile:</p>
<pre><code class="language-toml">version = 1
revision = 2
requires-python = &quot;&gt;=3.13.2&quot;

[[package]]
name = &quot;anyio&quot;
version = &quot;4.9.0&quot;
source = { registry = &quot;../../../Library/Caches/.pyodide-xbuildenv-0.30.5/0.27.7/xbuildenv/pyodide-root/package_index&quot; }
dependencies = [
    { name = &quot;idna&quot; },
    { name = &quot;sniffio&quot; },
]
wheels = [
    { url = &quot;https://cdn.jsdelivr.net/pyodide/v0.27.7/full/anyio-4.9.0-py3-none-any.whl&quot;, hash = &quot;sha256:e1d9180d4361fd71d1bc4a7007fea6cae1d18792dba9d07eaad89f2a8562f71c&quot; },
]

[[package]]
name = &quot;foo&quot;
version = &quot;0.1.0&quot;
source = { virtual = &quot;.&quot; }
dependencies = [
    { name = &quot;anyio&quot; },
]

[package.metadata]
requires-dist = [{ name = &quot;anyio&quot;, specifier = &quot;&gt;=4.9.0&quot; }]

[[package]]
name = &quot;idna&quot;
version = &quot;3.7&quot;
source = { registry = &quot;../../../Library/Caches/.pyodide-xbuildenv-0.30.5/0.27.7/xbuildenv/pyodide-root/package_index&quot; }
wheels = [
    { url = &quot;https://cdn.jsdelivr.net/pyodide/v0.27.7/full/idna-3.7-py3-none-any.whl&quot;, hash = &quot;sha256:9d4685891e3e37434e09b1becda7e96a284e660c7aea9222564d88b6c3527c09&quot; },
]

[[package]]
name = &quot;sniffio&quot;
version = &quot;1.3.1&quot;
source = { registry = &quot;../../../Library/Caches/.pyodide-xbuildenv-0.30.5/0.27.7/xbuildenv/pyodide-root/package_index&quot; }
wheels = [
    { url = &quot;https://cdn.jsdelivr.net/pyodide/v0.27.7/full/sniffio-1.3.1-py3-none-any.whl&quot;, hash = &quot;sha256:9215f9917b34fc73152b134a3fc0a2eb0e4a49b0b956100cad75e84943412bb9&quot; },
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2025-06-26 19:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2025-06-26 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-06-26 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-06-26 20:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:43:45 UTC
    </footer>
</body>
</html>
