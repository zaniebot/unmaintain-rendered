<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revert &quot;feat(ci): build loongarch64 binaries in CI (#15387)&quot; - astral-sh/uv #15820</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Revert &quot;feat(ci): build loongarch64 binaries in CI (#15387)&quot;</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/15820">#15820</a>
        opened by <a href="https://github.com/woodruffw">@woodruffw</a>
        on 2025-09-12 21:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/woodruffw">@woodruffw</a></div>
            <div class="timeline-body"><p>This reverts commit 2fd9e53b258e5cbf3ce683c613ae228b7f66bcec.</p>
<h2>Summary</h2>
<p>TL;DR: This build currently relies on an unofficial upstream Debian image build, which means that it doesn't provide the stability or provenance guarantees that we'd like to accompany first-party builds of uv.</p>
<h2>Test Plan</h2>
<p>See what happens in CI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @woodruffw on 2025-09-12 21:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-09-12 21:05</div>
            <div class="timeline-body"><p>Integration test on GCP appears to be an unrelated flake.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-09-12 21:07</div>
            <div class="timeline-body"><p>cc @SkyBird233</p>
<p>Unfortunately, we don't feel comfortable using the community built trixie image here. We spent some time auditing it today and decided need stronger guarantees around the provenance of a build platform for uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @woodruffw on 2025-09-12 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @woodruffw on 2025-09-12 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-09-12 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SkyBird233">@SkyBird233</a> on 2025-09-16 09:32</div>
            <div class="timeline-body"><p>Hi @zanieb, the lack of support of LoongArch with Docker is one of the reasons why I haven't added support for <code>build-docker.yml</code>. But if I didn't get it wrong, the Debian Trixie image is just for testing the wheel and running a <code>--help</code> command in a LoongArch environment, which is not that related to the building process. Also, it seems that Docker is not going to add LoongArch support (and build official images) in the foreseeable future (docker-library/official-images#16404), so I think that image is suitable here.
If that's still not enough, should we move another image or does it mean thar we can only wait for an official one?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-09-16 14:28</div>
            <div class="timeline-body"><blockquote>
<p>If that's still not enough, should we move another image or does it mean thar we can only wait for an official one?</p>
</blockquote>
<p>I think we'd need to use an official image here -- the lack of an official image means that we have trouble establishing provenance for the various build changes needed to produce the image here. Similarly, without an official image we're concerned about ABI and other environmental stability.</p>
<p>(Your point about the image just being used for testing is fair, but unfortunately we need to apply a high standard for <em>anything</em> that enters our CI, since being trusted to run on every PR means a significant commitment to both stability and security on our end.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-16 14:48</div>
            <div class="timeline-body"><p>It's plausible we could just drop testing of the loongarch artifacts.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SkyBird233">@SkyBird233</a> on 2025-09-16 16:47</div>
            <div class="timeline-body"><p>Thanks for your detailed reply. If it's accaptable to skip tests for LoongArch for now, should I update my changes and re-submit the pull requests?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:44:42 UTC
    </footer>
</body>
</html>
