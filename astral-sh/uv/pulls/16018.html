<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `--outdated` to `uv python uninstall` - astral-sh/uv #16018</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>--outdated</code> to <code>uv python uninstall</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/16018">#16018</a>
        opened by <a href="https://github.com/yumeminami">@yumeminami</a>
        on 2025-09-24 18:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yumeminami">@yumeminami</a></div>
            <div class="timeline-body">

Summary


<p>add <code>--outdated</code> flag in <code>uv python uninstall</code> to remove old Python versions</p>
<p>close <a href="https://github.com/astral-sh/uv/issues/15805">astral-sh/uv#15805</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-29 18:35</div>
            <div class="timeline-body"><p>Hey! I took a look at the implementation and made some tweaks in <a href="https://github.com/astral-sh/uv/pull/16018">astral-sh/uv#16018</a>/commits/b385cee2dccba38c1358ddd1a6aa007b873f8f95</p>
<p>I think we should continue to allow and respect requests, e.g., <code>uv python uninstall --outdated pypy</code> seems totally valid, so I adjusted things to handle that. I didn&#x27;t add corresponding test coverage though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:200 on 2025-09-29 18:37</div>
            <div class="timeline-body"><p>I wonder if we should always return <code>Success</code> unless requests were made? I&#x27;ll think about making a tracking issue. It&#x27;s a little weird to have different behavior for <code>--outdated</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-29 18:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:5563 on 2025-09-29 18:43</div>
            <div class="timeline-body"><p>I think you&#x27;ll need to be a bit clearer here. Maybe &quot;the latest patch version for each minor version&quot;? and provide an example?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-29 18:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yumeminami">@yumeminami</a> reviewed on 2025-10-05 14:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/yumeminami">@yumeminami</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:200 on 2025-10-05 14:48</div>
            <div class="timeline-body"><p>@zanieb I think the return code is 0 when there are no matchings because it indicates no failure, similar to commands like <code>apt autoremove</code> and <code>docker system prune</code>, which return 0 even when there&#x27;s nothing to clean up, nothing to uninstall.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yumeminami">@yumeminami</a> reviewed on 2025-10-05 15:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/yumeminami">@yumeminami</a> on <code>crates/uv-cli/src/lib.rs</code>:5563 on 2025-10-05 15:06</div>
            <div class="timeline-body"><p>I updated the description of the <code>outdated</code> param in <a href="https://github.com/astral-sh/uv/pull/16018">astral-sh/uv#16018</a>/commits/6db50debbec87f9266a78b23ce8ae023841810f5.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yumeminami">@yumeminami</a> on 2025-10-05 15:32</div>
            <div class="timeline-body"><blockquote>
<p>Hey! I took a look at the implementation and made some tweaks in <a href="https://github.com/astral-sh/uv/commit/b385cee2dccba38c1358ddd1a6aa007b873f8f95">b385cee</a></p>
<p>I think we should continue to allow and respect requests, e.g., <code>uv python uninstall --outdated pypy</code> seems totally valid, so I adjusted things to handle that. I didn&#x27;t add corresponding test coverage though.</p>
</blockquote>
<p>@zanieb I‘ve added corresponding test in <a href="https://github.com/astral-sh/uv/pull/16018">astral-sh/uv#16018</a>/commits/59c090c5adb784a8254d28f11cc6ff3e6a2f32b5 <code>python_uninstall_outdated_pypy</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/yumeminami">@yumeminami</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:81 on 2025-10-05 15:32</div>
            <div class="timeline-body"><p>@zanieb The custom error message &quot;No targets specified for uninstall&quot; was causing
snapshot test failures in several python_install tests. https://github.com/astral-sh/uv/actions/runs/18260396431/job/51987532018</p>
<p>Should restore the previous approach or update all snapshots?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yumeminami">@yumeminami</a> reviewed on 2025-10-05 15:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Feat/python uninstall outdated&quot; to &quot;Add `--outdated` to `uv python uninstall`&quot; by <a href="https://github.com/konstin">@konstin</a> on 2025-10-06 08:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-10-06 08:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:81 on 2025-10-06 16:54</div>
            <div class="timeline-body"><p>I think it&#x27;s okay to change this error message in the snapshots. Thanks for checking in!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-10-06 16:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:200 on 2025-10-06 16:54</div>
            <div class="timeline-body"><p>Yeah that makes sense to me. I just think we&#x27;ll want to do something similar for the other case — separate from this pull request.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-10-06 16:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/yumeminami">@yumeminami</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:81 on 2025-10-09 09:50</div>
            <div class="timeline-body"><p>@zanieb Updated related error messages in test cases, <a href="https://github.com/astral-sh/uv/pull/16018">astral-sh/uv#16018</a>/commits/c9ad625f4827783bab417846aad7981c20199957.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yumeminami">@yumeminami</a> reviewed on 2025-10-09 09:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yumeminami">@yumeminami</a> reviewed on 2025-10-09 09:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/yumeminami">@yumeminami</a> on <code>crates/uv/src/commands/python/uninstall.rs</code>:200 on 2025-10-09 09:50</div>
            <div class="timeline-body"><p>yeah I agree.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-10-27 02:10</div>
            <div class="timeline-body"><p>Defer to @zanieb to merge.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/powercoconola">@powercoconola</a> on 2025-11-25 19:08</div>
            <div class="timeline-body"><p>Hi just checking on this - does anything more need to be done or is help needed in some way for this to be merged?
Thanks for all the work on this!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:54:06 UTC
    </footer>
</body>
</html>
