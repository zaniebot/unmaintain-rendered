<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use `tracing` for user-facing output - astral-sh/uv #63</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use <code>tracing</code> for user-facing output</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/63">#63</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-10-08 19:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>The setup is now as follows:</p>
<ul>
<li>All user-facing logging goes through <code>tracing</code> at an <code>info</code> leve. (This excludes messages that go to <code>stdout</code>, like the compiled <code>requirements.txt</code> file.)</li>
<li>We have <code>--quiet</code> and <code>--verbose</code> command-line flags to set the tracing filter and format defaults. So if you use <code>--verbose</code>, we include timestamps and targets, and filter at <code>puffin=debug</code> level.</li>
<li>However, we always respect <code>RUST_LOG</code>. So you can override the <em>filter</em> via <code>RUST_LOG</code>.</li>
</ul>
<p>For example: the standard setup filters to <code>puffin=info</code>, and doesn&#x27;t show timestamps or targets:</p>
<img alt="Screen Shot 2023-10-08 at 3 41 22 PM" src="https://github.com/astral-sh/puffin/assets/1309177/54ca4db6-c66a-439e-bfa3-b86dee136e45">

<p>If you run with <code>--verbose</code>, you get debug logging, but confined to our crates:</p>
<img alt="Screen Shot 2023-10-08 at 3 41 57 PM" src="https://github.com/astral-sh/puffin/assets/1309177/c5c1af11-7f7a-4038-a173-d9eca4c3630b">

<p>If you want verbose logging with <em>all</em> crates, you can add <code>RUST_LOG=debug</code>:</p>
<img alt="Screen Shot 2023-10-08 at 3 42 39 PM" src="https://github.com/astral-sh/puffin/assets/1309177/0b5191f4-4db0-4db9-86ba-6f9fa521bcb6">

<p>I think this is a reasonable setup, though we can see how it feels and refine over time.</p>
<p>Closes <a href="https://github.com/astral-sh/puffin/issues/57">astral-sh/puffin#57</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-08 19:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-08 19:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-10-08 19:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:42:25 UTC
    </footer>
</body>
</html>
