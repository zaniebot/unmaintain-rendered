<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `uv workspace list --paths` - astral-sh/uv #16776</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>uv workspace list --paths</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/16776">#16776</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-11-19 15:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-19 15:40</div>
            <div class="timeline-body"><p>I initially thought I didn't need this, but in some contexts, the workspace member name is not useful at all and I just want to iterate over the paths without composing with <code>uv workspace dir --package &lt;name&gt;</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2025-11-19 15:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "zb/workspace list paths" to "Add `uv workspace list --paths`" by @zanieb on 2025-11-19 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-19 15:47</div>
            <div class="timeline-body"><p>Otherwise, the code I'm replacing looks like</p>
<pre><code class="language-diff">index b66739d4..b15e6d79 100644
--- a/.../runner.py
+++ b/.../runner.py
@@ -45,13 +45,21 @@
 
 def find_workspace_members() -&gt; Generator[pathlib.Path]:
     &quot;&quot;&quot;Yield the root directories of all workspace members with tests.&quot;&quot;&quot;
-    # TODO(zanieb): Use `uv metadata` for workspace member discovery once that exists
-    for path in WORKSPACE_ROOT.glob(&quot;foo-*/pyproject.toml&quot;):
-        member_root = path.parent
-        if not (member_root / &quot;tests&quot;).is_dir():
-            continue
-
-        yield member_root
+    output = subprocess.check_output(
+        [&quot;uv&quot;, &quot;workspace&quot;, &quot;list&quot;, &quot;--preview&quot;], cwd=WORKSPACE_ROOT
+    )
+    for member in output.decode().splitlines():
+        member_root = (
+            subprocess.check_output(
+                [&quot;uv&quot;, &quot;workspace&quot;, &quot;dir&quot;, &quot;--preview&quot;, &quot;--package&quot;, member],
+                cwd=WORKSPACE_ROOT,
+            )
+            .decode()
+            .strip()
+        )
+        path = pathlib.Path(member_root)
+        if (path / &quot;tests&quot;).is_dir():
+            yield path
 
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zsol by @zanieb on 2025-11-20 18:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zsol">@zsol</a> approved on 2025-11-20 19:34</div>
            <div class="timeline-body"><p><a href="https://gitme.me/image?url=https%3A%2F%2Fmedia0.giphy.com%2Fmedia%2FNEvPzZ8bd1V4Y%2Fgiphy-downsized-medium.gif&token=nice" data-gitmeme-token="nice"><img src="https://media0.giphy.com/media/NEvPzZ8bd1V4Y/giphy-downsized-medium.gif" title="Created by gitme.me with /nice"
        alt="nice"/></a></p>
<p>I was going to suggest listing both names and paths, but I realized paths are more powerful (one can always cd into it and look up the name).
Thoughts about changing the default to list paths and have a <code>--names</code> option instead?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-20 19:36</div>
            <div class="timeline-body"><p>You can also compose it the other direction, e.g., <code>uv workspace dir --package &lt;name&gt;</code>. I'm not sure one is inherently more powerful than the other. I find the names a little friendlier for the default output / consistent with the rest of uv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-11-20 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-11-20 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-20 19:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:32 UTC
    </footer>
</body>
</html>
