<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initialize a Git repository in `uv init` - astral-sh/uv #5476</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Initialize a Git repository in <code>uv init</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/5476">#5476</a>
        opened by <a href="https://github.com/j178">@j178</a>
        on 2024-07-26 12:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/j178">@j178</a> on 2024-07-26 12:12</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Similiar to <code>cargo init --vcs &lt;VCS&gt;</code>, this PR adds the <code>--vcs &lt;VCS&gt;</code> flag for <code>uv init</code>, allowing to create a version control system during initialization. By default, <code>uv init</code> will create a Git repository if the <code>--vcs</code> flag is not provided. Use <code>--vcs none</code> to disable this feature.</p>
<p>Currently, only Git is supported. While Cargo also supports hg, pijul, and fossil, this initial PR only includes Git. We can add more later if there are any user requests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv init` initializes a git repo" to "`uv init` initializes a Git repo" by @j178 on 2024-07-26 12:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a> reviewed on 2024-07-26 12:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/j178">@j178</a> on <code>crates/uv/src/commands/project/init.rs</code>:368 on 2024-07-26 12:20</div>
            <div class="timeline-body"><p>This list of git ignores is taken from rye: https://github.com/astral-sh/rye/blob/main/rye/src/templates/gitignore.j2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @j178 on 2024-07-27 09:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/samypr100">@samypr100</a> reviewed on 2024-07-27 23:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/samypr100">@samypr100</a> on <code>crates/uv/src/commands/project/init.rs</code>:411 on 2024-07-27 23:49</div>
            <div class="timeline-body"><p>Might be worth using <code>which::which</code> (similar to interpreter search) to find <code>git</code> first and use its full bin path, and that also allows us to only run this when git is found in the path</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-08-01 20:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:411 on 2024-08-01 20:23</div>
            <div class="timeline-body"><p>üëç agreed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-08-01 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @j178 on 2024-08-07 12:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Ravencentric">@Ravencentric</a> reviewed on 2024-09-04 15:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Ravencentric">@Ravencentric</a> on <code>crates/uv/src/commands/project/init.rs</code>:368 on 2024-09-04 15:45</div>
            <div class="timeline-body"><p>There's a more complete gitignore for python projects <a href="https://github.com/github/gitignore/blob/main/Python.gitignore">here</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-04 15:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:368 on 2024-09-04 15:47</div>
            <div class="timeline-body"><p>(fwiw I find that way overbearing and would prefer to do a minimal gitignore)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Ravencentric">@Ravencentric</a> reviewed on 2024-09-04 15:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Ravencentric">@Ravencentric</a> on <code>crates/uv/src/commands/project/init.rs</code>:368 on 2024-09-04 15:52</div>
            <div class="timeline-body"><p>I agree, especially the tool specific (pdm, poetry, pipfile, etc) ones can go, but I think atleast some from it could be hand picked and included by default, such as .mypy_cache</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2024-09-06 16:03</div>
            <div class="timeline-body"><h2><a href="https://codspeed.io/astral-sh/uv/branches/j178:init-vcs">CodSpeed Performance Report</a></h2>
<h3>Merging #5476 will <strong>not alter performance</strong></h3>
<p><sub>Comparing <code>j178:init-vcs</code> (5861e4b) with <code>main</code> (4ba0e56)</sub></p>
<h3>Summary</h3>
<p><code>‚úÖ 14</code> untouched benchmarks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @j178 on 2024-09-07 02:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv init` initializes a Git repo" to "`uv init` initializes a git repo" by @j178 on 2024-09-08 07:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @j178 on 2024-09-08 07:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/project/init.rs</code>:368 on 2024-09-17 03:25</div>
            <div class="timeline-body"><p>I actually like the GitHub <code>.gitignore</code> and I always use it as a starter in my projects :D</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-09-17 03:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 03:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:368 on 2024-09-17 03:52</div>
            <div class="timeline-body"><p>(And it drives me crazy, lol)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 03:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-configuration/src/vcs_options.rs</code>:55 on 2024-09-17 03:54</div>
            <div class="timeline-body"><p>It seems problematic not to capture and display the output of the command on failure. We have some utilities for this, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 03:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-configuration/src/vcs_options.rs</code>:37 on 2024-09-17 03:56</div>
            <div class="timeline-body"><p>Does this mean if you don't have <code>git</code> installed and don't pass <code>--vcs git</code> we'll fail instead of just not using <code>git</code>? We might want to avoid that, either by returning a specific error variant here that the caller can ignore or by creating a separate case for the &quot;default&quot; behavior?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 03:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-configuration/src/vcs_options.rs</code>:44 on 2024-09-17 03:57</div>
            <div class="timeline-body"><p>Should we warn? It seems okay to just log this as <code>debug!</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 03:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-configuration/src/vcs_options.rs</code>:44 on 2024-09-17 03:59</div>
            <div class="timeline-body"><p>It looks like this is going to be handled by the caller with <code>existing_vcs_repo</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:113 on 2024-09-17 04:00</div>
            <div class="timeline-body"><p>I feel like if you do <code>--vcs mercurial</code> and we're in a git repository we should fail instead of warning and ignoring?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 04:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 04:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:118 on 2024-09-17 04:01</div>
            <div class="timeline-body"><p>Should we be discarding <em>all</em> errors here. For example, I think the <code>git</code> doesn't exist case makes sense to ignore, but not the <code>git init</code> command failed case. I'm not quite sure where the line is when a VCS isn't requested. Do you know what other tools do?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 04:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:118 on 2024-09-17 04:01</div>
            <div class="timeline-body"><p>(This may be a case for using <code>thiserror</code> or changing your API)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-17 04:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-configuration/src/vcs_options.rs</code>:37 on 2024-09-17 04:03</div>
            <div class="timeline-body"><p>I see this is handled downstream in a way quite similar to my note :) I added <a href="https://github.com/astral-sh/uv/pull/5476/files#r1762250146">a comment</a> there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-09-26 02:24</div>
            <div class="timeline-body"><p>Addressed @zanieb's feedback!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`uv init` initializes a git repo" to "Initialize a Git repository in `uv init`" by @charliermarsh on 2024-09-26 02:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-09-26 02:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2024-09-26 02:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-09-26 02:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-09-26 02:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/j178">@j178</a> on 2024-09-26 03:38</div>
            <div class="timeline-body"><p>Thanks @charliermarsh ‚ù§Ô∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-09-26 03:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/3f6a">@3f6a</a> on 2025-02-25 06:03</div>
            <div class="timeline-body"><p>Is there a way to disable git repo creation by default globally?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:12 UTC
    </footer>
</body>
</html>
