<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exit with zero when `uv tool install` request is already satisfied - astral-sh/uv #4986</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Exit with zero when <code>uv tool install</code> request is already satisfied</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/4986">#4986</a>
        opened by <a href="https://github.com/billy-doyle">@billy-doyle</a>
        on 2024-07-11 04:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/billy-doyle">@billy-doyle</a></div>
            <div class="timeline-body">

Summary
<p><code>uv tool install X</code> fails for tools already installed and exits with code 1. Allow already installed tools to exit with code 0.</p>
Test Plan


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-11 04:16</div>
            <div class="timeline-body"><p>In theory, there will be a test snapshot that will fail because of this change in <code>tool_install.rs</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/billy-doyle">@billy-doyle</a> on 2024-07-11 04:46</div>
            <div class="timeline-body"><p>@zanieb modified the tests</p>
<p>tested locally with <code>cargo test tool_install</code>. Are these &quot;success: true exit_code: 0 ----- stdout ----- ...&quot; autogenerated? I modified by hand but i did see in CONTRIBUTING.md <code>cargo dev generate-json-schema</code> although it did not fix anything there</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-11 14:22</div>
            <div class="timeline-body"><p>@billy-doyle usually you&#x27;d do <code>cargo install cargo-insta</code> and <code>cargo insta test -- &lt;test-name&gt;</code>. I&#x27;m not sure why we don&#x27;t cover that in the contributing guide! We ought to add it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;feat/uv-tool-exit-0&quot; to &quot;Exit with zero when `uv tool install` request is already satisfied&quot; by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-11 14:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-07-11 14:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-11 14:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 00:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:46:29 UTC
    </footer>
</body>
</html>
