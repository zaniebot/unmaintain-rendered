<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add debug message when skipping Python downloads - astral-sh/uv #14509</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add debug message when skipping Python downloads</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/14509">#14509</a>
        opened by <a href="https://github.com/Grinkers">@Grinkers</a>
        on 2025-07-08 18:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Grinkers">@Grinkers</a> on 2025-07-08 18:56</div>
            <div class="timeline-body"><h1>Description</h1>
<p>Several users, myself included, had some issues with Anki (recently migrated to uv).
https://forums.ankiweb.net/t/bug-anki-25-07-fails-to-launch-on-linux/63475</p>
<p>zanieb came in and gave us pointers, including looking at our uv logs.
https://github.com/ankitects/anki/pull/4074#issuecomment-3046992777
log: https://github.com/Grinkers/uv/pull/1#issuecomment-3047538135</p>
<p>The actual issue was that I had a system config in /etc/uv/uv.toml but uv wasn't giving useful feedback for its combining/unification.</p>
<p>A higher level issue is that there's nice logs, however logging is initialized after! We want to log files read, but need to read the files to know what log level to use.
https://github.com/astral-sh/uv/blob/7e48292fac968b015c4521e193b09e27af1d5c7b/crates/uv-settings/src/lib.rs#L68
https://github.com/astral-sh/uv/blob/7e48292fac968b015c4521e193b09e27af1d5c7b/crates/uv/src/lib.rs#L354</p>
<p>zanieb mentioned there's https://github.com/astral-sh/uv/issues/13123, so consider this a +1 to that.</p>
<h2>Result</h2>
<p>The end of the output will be:</p>
<pre><code>DEBUG Downloads disabled. Skipping...
DEBUG Released lock at `/tmp/uv-823c7b0e73da3e08.lock`
error: No interpreter found for Python 3.13.5 in managed installations
</code></pre>
<p>Sorry for the minuscule sized PR. Feel free to close if there's a bigger logging pass.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-07-08 18:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-07-09 14:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @zanieb on 2025-07-09 14:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">tracing</span> added by @zanieb on 2025-07-09 14:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Debug message when skipping Python downloads." to "Add debug message when skipping Python downloads" by @zanieb on 2025-07-09 14:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-07-09 15:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-07-09 15:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-07-09 16:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:55:41 UTC
    </footer>
</body>
</html>
