<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add automatic .py extension for script initialization - astral-sh/uv #12328</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add automatic .py extension for script initialization</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/12328">#12328</a>
        opened by <a href="https://github.com/chhoumann">@chhoumann</a>
        on 2025-03-20 06:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/chhoumann">@chhoumann</a></div>
            <div class="timeline-body">Summary
<p>When initializing a script with <code>uv init --script</code>, automatically append .py extension if the user didn&#x27;t specify it.</p>
<p>This is a quality-of-life feature that follows the principle of least surprise. Most users would expect a Python script to have a .py extension, and many may forget to add it manually. At least, I did prior to making this PR :)</p>
Test Plan
<p>Added a new test case <code>init_script_auto_py_extension()</code> that verifies the behavior works correctly:</p>
<ul>
<li>Verified the extension is correctly added, and the file is created with the right path</li>
<li>Confirmed the output messages to the user correctly display the path with extension</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chhoumann">@chhoumann</a> on 2025-03-20 07:14</div>
            <div class="timeline-body"><p>I noticed the test <code>cache_prune::prune_unzipped</code> is failing, but I believe it&#x27;s unrelated to the changes in this PR. PR #12327 (which adds UV_PROJECT environment variable support) is seeing the same test failure despite making completely different changes.</p>
<p>My local testing shows the new <code>init_script_auto_py_extension</code> test passes, and the functionality works as expected.</p>
<p>The error message in the failing test changed slightly in format. Happy to help address this if needed, or we could handle it in a separate PR if that would be preferred. Thanks for reviewing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-20 18:40</div>
            <div class="timeline-body"><p>I think if we want to do this, we&#x27;ll probably want to do it everywhere <code>--script</code> is accepted? I&#x27;m not sure how I feel. It&#x27;s a bit easier to sell here, but the lack of consistency would bother me. Let me try to get some opinions from the rest of the team.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-21 18:13</div>
            <div class="timeline-body"><p>I think we&#x27;re leaning away from this for now â€” it&#x27;s valid to write Python scripts without the extension. Thanks for contributing though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-21 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chhoumann">@chhoumann</a> on 2025-03-21 18:23</div>
            <div class="timeline-body"><p>Thanks for considering this idea! Totally understand that Python doesn&#x27;t require extensions. Appreciate the feedback and looking forward to finding other ways to contribute to uv!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:51:26 UTC
    </footer>
</body>
</html>
