<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build backend: Make preview default and add configuration docs - astral-sh/uv #12804</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Build backend: Make preview default and add configuration docs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/12804">#12804</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-04-10 12:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/konstin">@konstin</a> on 2025-04-10 12:14</div>
            <div class="timeline-body"><p>Add configuration documentation for the build backend and make it the preview default.</p>
<p>The build backend should generally work with default configuration unless you want specific features such as flat layout or module renaming, there is only a dedicated configuration, but no concept or guide page for the build backend. Once the build backend is stable, we can update the guide documentation to explain that uv defaults to its own build backend, but other build backends are also supported.</p>
<p>The uv build backend becomes the default in preview, giving it more exposure from users and preparing it to make it the default proper. The current documentation retains warnings that the build backend is in preview.</p>
<p>To see current uses of <code>uv_build</code> on GitHub: https://github.com/search?q=path%3A**%2Fpyproject.toml+uv_build%3E%3D0&amp;type=code</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @konstin on 2025-04-10 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @konstin on 2025-04-10 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/init.rs</code>:450 on 2025-04-16 16:22</div>
            <div class="timeline-body"><p>Should we also test <code>uv init --package --preview</code>?</p>
<p>I'd also expect, though it could be a future change, for <code>uv init --preview</code> to package by default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:7 on 2025-04-16 16:23</div>
            <div class="timeline-body"><pre><code class="language-suggestion">    The uv build backend is currently in preview and may change without warning.

    When preview mode is not enabled, uv uses [hatchling](https://pypi.org/project/hatchling/) as the default build backend.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:9 on 2025-04-16 16:24</div>
            <div class="timeline-body"><p>Maybe</p>
<pre><code class="language-suggestion">A build backend transforms a source tree (i.e., a directory) into a source distribution or a wheel. While uv
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:10 on 2025-04-16 16:25</div>
            <div class="timeline-body"><pre><code class="language-suggestion">supports all build backends (as specified by PEP 517), it includes a `uv_build` backend that integrates tightly
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:11 on 2025-04-16 16:25</div>
            <div class="timeline-body"><pre><code class="language-suggestion">with uv to improve performance and user experience.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:13 on 2025-04-16 16:25</div>
            <div class="timeline-body"><p>Can we link to a universal wheel definition?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:17 on 2025-04-16 16:26</div>
            <div class="timeline-body"><pre><code class="language-suggestion">To use the uv build backend in an existing project, add it to the `[build-system]` section in your `pyproject.toml`:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:21 on 2025-04-16 16:27</div>
            <div class="timeline-body"><p>Should we add a note admonition about the bounds here?</p>
<p>We'll also need to add this file to the Rooster update targets if we want to use the current version as a lower bound.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:25 on 2025-04-16 16:27</div>
            <div class="timeline-body"><pre><code class="language-suggestion">You can also create a new project that uses the uv build backend with `uv init`:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:31 on 2025-04-16 16:28</div>
            <div class="timeline-body"><pre><code class="language-suggestion">`uv_build` is a separate package from uv, optimized for portability and small binary size. `uv`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:31 on 2025-04-16 16:29</div>
            <div class="timeline-body"><p>I wonder if we should omit the backticks from <code>uv</code> here? I don't have strong feelings. I would maybe say, &quot;The <code>uv</code> package...&quot; if you want to keep them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:38 on 2025-04-16 16:35</div>
            <div class="timeline-body"><pre><code class="language-suggestion">To select which files to include in the source distribution, uv first adds the included files and
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:39 on 2025-04-16 16:35</div>
            <div class="timeline-body"><pre><code class="language-suggestion">directories, then removes the excluded files and directories. This means that exclusions always take precedence over inclusions.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:50 on 2025-04-16 16:36</div>
            <div class="timeline-body"><p>Can you use &quot;uv&quot; instead of &quot;we&quot; throughout?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:75 on 2025-04-16 16:36</div>
            <div class="timeline-body"><p>Should this last sentence be in a <code>!!! important</code> or warning admonition or is it not critical to highlight?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>mkdocs.template.yml</code>:143 on 2025-04-16 16:38</div>
            <div class="timeline-body"><p>I know specifying &quot;uv&quot; might be helpful for disambiguation, but I think it's okay given we have the disclaimer at the top. I would rather avoid the redundancy / length.</p>
<pre><code class="language-suggestion">      - Build backend: configuration/build_backend.md
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>mkdocs.template.yml</code>:143 on 2025-04-16 16:38</div>
            <div class="timeline-body"><p>On another note, all the other files use <code>-</code> instead of <code>_</code>, can you update that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-16 16:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build_backend.md</code>:3 on 2025-04-16 16:40</div>
            <div class="timeline-body"><p>We should also link to the build system config in here</p>
<p>https://docs.astral.sh/uv/concepts/projects/config/#build-systems</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-04-23 13:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>docs/configuration/build_backend.md</code>:75 on 2025-04-23 13:37</div>
            <div class="timeline-body"><p>The worst case that can happen is that it is moderately slow, unless you're on an NFS have another reason for extremely high IO latency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-04-25 08:20</div>
            <div class="timeline-body"><p>I've addressed all comments, this is ready for another round.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @konstin on 2025-04-25 08:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-05 13:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>pyproject.toml</code>:89 on 2025-05-05 13:34</div>
            <div class="timeline-body"><p>This looks wrong</p>
<pre><code class="language-suggestion">  &quot;docs/configuration/build-backend.md&quot;,
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-05 13:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build-backend.md</code>:18 on 2025-05-05 13:34</div>
            <div class="timeline-body"><p>This needs to be relative</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-05 13:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/configuration/build-backend.md</code>:30 on 2025-05-05 13:34</div>
            <div class="timeline-body"><p>This needs to be relative</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-05-05 13:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2025-05-05 13:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-05-05 13:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-05 13:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:22 UTC
    </footer>
</body>
</html>
