```yaml
number: 4608
title: "Update `cargo-dist` to v0.17.0"
type: pull_request
state: merged
author: charliermarsh
labels:
  - releases
assignees: []
merged: true
base: main
head: charlie/cargo-dist
created_at: 2024-06-28T00:49:15Z
updated_at: 2024-06-28T14:59:11Z
url: https://github.com/astral-sh/uv/pull/4608
synced_at: 2026-01-10T13:48:28Z
```

# Update `cargo-dist` to v0.17.0

---

_Pull request opened by @charliermarsh on 2024-06-28 00:49_

## Summary

See: https://github.com/axodotdev/cargo-dist/releases/tag/v0.17.0.

Relevant:

> The only reason you might want to override this setting is if you're using [dispatch-releases = true](https://opensource.axo.dev/cargo-dist/book/reference/config.html#dispatch-releases) and you really want your git tag to be the last operation in your release process (because creating a GitHub Release necessarily creates the git tag if it doesn't yet exist, and many organizations really don't like when you delete/change git tags). In this case setting github-release = "announce" will accomplish that, but the above race conditions would then apply.

We _do_ use `dispatch-releases = true`, and we _do_ want the git tag to be the last operation, so we need to set `github-release = "announce"` to preserve our current behavior.


---

_Label `release` added by @charliermarsh on 2024-06-28 00:49_

---

_Review requested from @zanieb by @charliermarsh on 2024-06-28 00:49_

---

_Review comment by @konstin on `.github/workflows/release.yml`:52 on 2024-06-28 07:26_

That one is EOL in 10 months, should we pick a newer one?

---

_@zanieb approved on 2024-06-28 14:28_

---

_@konstin approved on 2024-06-28 14:31_

---

_@zanieb reviewed on 2024-06-28 14:35_

---

_Review comment by @zanieb on `.github/workflows/release.yml`:52 on 2024-06-28 14:35_

I am presuming this is generated by their tool?

---

_@konstin reviewed on 2024-06-28 14:45_

---

_Review comment by @konstin on `.github/workflows/release.yml`:52 on 2024-06-28 14:45_

I see, we probably have to do https://opensource.axo.dev/cargo-dist/book/ci/customizing.html#custom-runners, but not critical

---

_Merged by @charliermarsh on 2024-06-28 14:59_

---

_Closed by @charliermarsh on 2024-06-28 14:59_

---

_Branch deleted on 2024-06-28 14:59_

---
