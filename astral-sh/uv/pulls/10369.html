<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create `main.py` instead of `hello.py` in `uv init` - astral-sh/uv #10369</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Create <code>main.py</code> instead of <code>hello.py</code> in <code>uv init</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/10369">#10369</a>
        opened by <a href="https://github.com/Gankra">@Gankra</a>
        on 2025-01-07 15:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a></div>
            <div class="timeline-body"><p>Initially it seemed like <code>app.py</code> might be slightly more desirable but people seem to overwhelmingly favour <code>main.py</code> as a good &quot;generic&quot; name.</p>
<p>Fixes #7782</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-01-07 15:31</div>
            <div class="timeline-body"><p>The only concern I have with this is it changes intro docs, so there will be an awkward period where people have older versions of uv that make <code>hello.py</code> but the guide says they make <code>app.py</code>. Dunno if we want to make the docs hedge for a bit or what.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-07 15:33</div>
            <div class="timeline-body"><blockquote>
<p>The only concern I have with this is it changes intro docs, so there will be an awkward period where people have older versions of uv that make <code>hello.py</code> but the guide says they make <code>app.py</code>. Dunno if we want to make the docs hedge for a bit or what.</p>
</blockquote>
<p>I'd just go for it â€” you could add an admonition about older versions if you want though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2025-01-07 15:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-07 15:35</div>
            <div class="timeline-body"><p>Arguably this is sort of breaking, though I'm not sure we consider <code>uv init</code> to be a typical programmatic interface. @charliermarsh thoughts?</p>
<p>If we decide it's breaking, we'll just hold it until 0.6.0 (for which there is a <a href="https://github.com/astral-sh/uv/issues?q=is%3Aissue%20state%3Aopen%20milestone%3Av0.6.0">milestone</a> to track other breaking changes).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "rename hello.py to app.py" to "Create `app.py` instead of `hello.py` in `uv init`" by @Gankra on 2025-01-07 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-01-07 16:37</div>
            <div class="timeline-body"><p>It probably makes sense to defer this to v0.6. We could do a v0.6 in the near future though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "v0.6.0" by @zanieb on 2025-01-07 17:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> added by @zanieb on 2025-01-07 17:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-07 17:22</div>
            <div class="timeline-body"><p>Sorry for giving you an unmergable task!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bengt">@Bengt</a> on 2025-01-24 12:12</div>
            <div class="timeline-body"><ol>
<li>For reference,</li>
</ol>
<ul>
<li><a href="https://github.com/search?q=path%3Ahello.py&amp;type=code">there are currently 50.700 <code>hello.py</code> files on GitHub</a>,</li>
<li><a href="https://github.com/search?q=path%3Acli.py&amp;type=code">there are currently 132.000 <code>cli.py</code> files on GitHub</a>, and</li>
<li><a href="https://github.com/search?q=path%3Aexample.py&amp;type=code">there are currently 175.000 <code>example.py</code> files on GitHub</a>.</li>
</ul>
<ol start="2">
<li><p>In Python, default file names vary a bit with the domain, and hence one's expectations might be shaped in various ways. <code>app.py</code> is indeed common, with <a href="https://github.com/search?q=path%3Aapp.py&amp;type=code">currently about 721.000 <code>app.py</code> files on GitHub</a>.</p>
</li>
<li><p>Still, <code>main.py</code> is an even more common name. At the time of writing, <a href="https://github.com/search?q=path%3Amain.py&amp;type=code">there are 2.2 million <code>main.py</code> files on GitHub</a>. Interestingly, this is exactly because 'main' is a commonly used name in the Python world, like <code>main()</code>, <code>__main__</code>, or <code>__main__.py</code>. To adhere to this pythonic naming scheme and avoid surprises, <code>main.py</code> should in my opinion be default in <code>uv init</code>.</p>
</li>
<li><p>I do not feel like there is one, universally accepted best practice for naming your first file. I think we would therefore need a command line argument for naming the default file. The command line option should also include a way to disable creating a default file altogether. Currently, one needs to advise <code>uv init &amp;&amp; rm hello.py</code>, which seems unnecessarily convoluted and is not portable to PowerShell, so portable instructions require duplication. m(</p>
</li>
<li><p>The default file is handy if one starts from scratch, but cumbersome if there is an existing codebase. With an existing code base, the use case is to introduce uv to it, not build something new. In projects with preexisting code, uv would ideally detect the presence of a codebase and not create a default file. This should be equivalent to using the deactivation functionality mentioned in 4.</p>
</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-01-24 14:14</div>
            <div class="timeline-body"><p>Wow, thanks for all the great insight! That all seems pretty agreeable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-24 15:10</div>
            <div class="timeline-body"><p>We are already tracking (5) in https://github.com/astral-sh/uv/issues/6750</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-08 17:53</div>
            <div class="timeline-body"><p>It seems like FastAPI generally recommends <code>main.py</code>, at least <a href="https://fastapi.tiangolo.com/tutorial/first-steps/">here</a>, though in my testing <code>fastpi dev</code> auto-detects both <code>main.py</code> and <code>app.py</code> (but not <code>hello.py</code>). Here's the full list: https://github.com/fastapi/fastapi-cli/blob/9a4741816dc288bbd931e693166117d98ee14dea/src/fastapi_cli/discover.py#L19-L26.</p>
<p>On the other hand, it looks like Flask auto-detects <code>app.py</code>, but not <code>main.py</code> (https://flask.palletsprojects.com/en/stable/cli/).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Create `app.py` instead of `hello.py` in `uv init`" to "Create `main.py` instead of `hello.py` in `uv init`" by @Gankra on 2025-02-11 17:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-02-12 15:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:808 on 2025-02-12 15:09</div>
            <div class="timeline-body"><p>Presumably we should do this too? It's sort of breaking</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:808 on 2025-02-12 15:09</div>
            <div class="timeline-body"><p>(Separate PR presumably. #6750)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-02-12 15:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-02-12 16:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/project/init.rs</code>:808 on 2025-02-12 16:39</div>
            <div class="timeline-body"><p>Wait so does that block this PR or just noticing it because it got poked?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-02-12 16:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/init.rs</code>:808 on 2025-02-12 16:49</div>
            <div class="timeline-body"><p>It doesn't block this no, but we should probably do it for v0.6.0?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-02-13 21:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-02-13 21:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-02-13 21:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Kludex">@Kludex</a> on 2025-02-18 11:45</div>
            <div class="timeline-body"><p><code>main</code> is far better choice than any alternative. Good job.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-02-18 15:40</div>
            <div class="timeline-body"><p>:D thanks Marcelo</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eisenhowerj">@eisenhowerj</a> on 2025-05-16 06:29</div>
            <div class="timeline-body"><p>Is it possible to have no <em>example</em> file as the default?</p>
<p>It seems the purpose of <code>hello.py</code> or <code>main.py</code> is to make the &quot;first time&quot; experience easier to document, here: https://github.com/astral-sh/uv/blob/4aa72089a1b73c61feb956d2cf1c95344c9d7d4a/docs/guides/projects.md?plain=1#L39</p>
<p>What I propose (because I'm getting tired of delete/rename hello.py on every project I create): <code>uv init --getting-started</code>. Easy to document, easy to remove once you know what you're doing.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:41:20 UTC
    </footer>
</body>
</html>
