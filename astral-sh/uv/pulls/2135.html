<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolve versions appearing in multiple extra indexes - astral-sh/uv #2135</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Resolve versions appearing in multiple extra indexes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/2135">#2135</a>
        opened by <a href="https://github.com/sapir">@sapir</a>
        on 2024-03-02 23:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sapir">@sapir</a></div>
            <div class="timeline-body">Summary
<p>This is intended to fix an issue similar to <a href="https://github.com/astral-sh/uv/issues/1451">astral-sh/uv#1451</a> and <a href="https://github.com/astral-sh/uv/pull/2083">astral-sh/uv#2083</a> for a case where there are multiple private extra-index-urls. afaik they&#x27;re all equally trusted, so there shouldn&#x27;t be any security issue.</p>
Test Plan
<p>I really don&#x27;t know how to test this properly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/notatallshaw">@notatallshaw</a> on 2024-03-03 19:05</div>
            <div class="timeline-body"><blockquote>
<p>afaik they&#x27;re all equally trusted, so there shouldn&#x27;t be any security issue.</p>
</blockquote>
<p>Why would you make that assumption? It&#x27;s very possible the user does not know the trust level of an index, that they could be using multiple public indexes. This assumption is the problem that pip is now stuck with, and leads to dependency confusion attacks.</p>
<p>I appreciate that isn&#x27;t a review of this PR but the approach, but I don&#x27;t see an open issue linked that this is supposed to solve.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-03 19:25</div>
            <div class="timeline-body"><p>I appreciate the PR (nice job figuring this out) but I think we&#x27;re unlikely to merge this, especially without some kind of user opt-in, since it does create additional safety issues that don&#x27;t exist today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sapir">@sapir</a> on 2024-03-03 22:44</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>afaik they&#x27;re all equally trusted, so there shouldn&#x27;t be any security issue.</p>
</blockquote>
<p>Why would you make that assumption? It&#x27;s very possible the user does not know the trust level of an index, that they could be using multiple public indexes. This assumption is the problem that pip is now stuck with, and leads to dependency confusion attacks.</p>
<p>I appreciate that isn&#x27;t a review of this PR but the approach, but I don&#x27;t see an open issue linked that this is supposed to solve.</p>
</blockquote>
<p>Apologies, I meant that this is my actual use case, where I trust the extra indexes equally. For now I&#x27;ve solved it by instead setting up a kind of reverse proxy that combines the various indexes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/sapir">@sapir</a> on 2024-03-03 22:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:44:03 UTC
    </footer>
</body>
</html>
