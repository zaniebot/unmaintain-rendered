<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add package change summaries to `uv sync` json output - astral-sh/uv #16660</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add package change summaries to `uv sync` json output</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/uv/pull/16660">#16660</a>
        opened by <a href="https://github.com/terror">@terror</a>
        on 2025-11-10 04:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/terror">@terror</a> on 2025-11-10 04:50</div>
            <div class="timeline-body"><p>Initial work for https://github.com/astral-sh/uv/issues/16653</p>
<p>This PR adds a lightweight install summary to <code>uv sync --output-format json</code> by threading the changelog returned from the pip operations into the sync report: the JSON now includes a <code>sync.packages</code> array detailing each added, removed, or reinstalled distribution (with version and optional source URL), so users can inspect the plan without parsing stderr.</p>
<p>As stated in https://github.com/astral-sh/uv/issues/16653, this is a preview change. We'll likely need to iterate on this in a few other changes (or keep adding onto this one).</p>
<p>Some ideas:</p>
<ul>
<li>Wire this up with <code>--dry-run</code></li>
<li>Richer context (dependency group, editable/file path, source index, etc)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-11-10 14:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/sync.rs</code>:1299 on 2025-11-10 14:46</div>
            <div class="timeline-body"><p><code>PackageName</code> supports serialization, no? We shouldn't resolve to strings here unless we need to.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/sync.rs</code>:1253 on 2025-11-10 14:47</div>
            <div class="timeline-body"><p>After looking at it... I wonder if we should call it <code>changes</code>? I worry <code>packages</code> could be confusing because it doesn't imply it's only the packages that changed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-11-10 14:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-11-10 14:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/sync.rs</code>:1253 on 2025-11-10 14:48</div>
            <div class="timeline-body"><p>Unless we <em>also</em> want to enumerate all the packages that are unchanged here, with <code>action: check</code>... hm.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-10 15:02</div>
            <div class="timeline-body"><p>What's your plan for dry-run? I think a clear path forward there is important to understand, even if we don't implement it here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2025-11-10 15:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/16981.html">astral-sh/uv#16981</a> on 2025-12-04 15:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/terror">@terror</a> on 2025-12-04 16:16</div>
            <div class="timeline-body"><p>Closing in favour of https://github.com/astral-sh/uv/pull/16981 :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @terror on 2025-12-04 16:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-12-09 01:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
