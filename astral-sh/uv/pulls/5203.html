<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Process completed Python installs and uninstalls as a stream - astral-sh/uv #5203</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Process completed Python installs and uninstalls as a stream</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/5203">#5203</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-07-19 01:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This ensures that we process Python installs and uninstalls as soon as they complete, rather than waiting for them all to complete, then processing them sequentially. In practice, it shouldn't be much of a difference (since the processing is code is fairly light), but it strikes me as more correct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @charliermarsh on 2024-07-19 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @charliermarsh on 2024-07-19 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-07-19 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @charliermarsh on 2024-07-19 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-07-19 01:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a> reviewed on 2024-07-19 02:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/j178">@j178</a> on <code>crates/uv/src/commands/python/install.rs</code>:146 on 2024-07-19 02:41</div>
            <div class="timeline-body"><p>Is it possible that the progress bar might be interleaved with the error message in line 178?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a> reviewed on 2024-07-19 04:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/j178">@j178</a> on <code>crates/uv/src/commands/python/install.rs</code>:146 on 2024-07-19 04:00</div>
            <div class="timeline-body"><p>Yes, it is. I manually altered one installation's SHA-256 checksum, and the progress bar was indeed interleaved by the hash mismatch error.
<img src="https://github.com/user-attachments/assets/b69578a4-54c4-4d0a-9582-bd04f1e28fd9" alt="image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-07-19 11:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/python/install.rs</code>:146 on 2024-07-19 11:36</div>
            <div class="timeline-body"><p>Yeah I considered that at the time. Is it actually bad though? Otherwise you donâ€™t get feedback until all downloads complete.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2024-07-19 12:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/src/commands/python/install.rs</code>:146 on 2024-07-19 12:15</div>
            <div class="timeline-body"><p>In my experience, if you don't clear the progress bar before printing (using the process bar's printer), the terminal likes to eat part of the error message</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-07-19 12:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/python/install.rs</code>:146 on 2024-07-19 12:28</div>
            <div class="timeline-body"><p>Ok, I'll move it after then.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-07-19 12:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-07-19 12:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-07-19 12:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:38:14 UTC
    </footer>
</body>
</html>
