<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address linter findings in build-binaries.yml - astral-sh/uv #15019</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Address linter findings in build-binaries.yml</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/15019">#15019</a>
        opened by <a href="https://github.com/woodruffw">@woodruffw</a>
        on 2025-08-01 20:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/woodruffw">@woodruffw</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Addresses (mostly minor) findings in <code>build-binaries.yml</code>. This is 99% replacing template expansions with shell-interpolated variables, plus adding <code>persist-credentials: false</code> to every checkout.</p>
<h2>Test Plan</h2>
<p>See what happens in CI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @woodruffw on 2025-08-01 20:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @woodruffw by @woodruffw on 2025-08-01 20:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @woodruffw on 2025-08-01 20:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-08-01 20:46</div>
            <div class="timeline-body"><pre><code>  /home/runner/work/_actions/uraimo/run-on-arch-action/d94c13912ea685de38fccc1109385b83fd79427d/src/run-on-arch-commands.sh: line 3: PACKAGE_NAME: unbound variable
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-08-01 20:57</div>
            <div class="timeline-body"><p>Oh huh, the <code>uraimo/run-on-arch-action</code> stuff is abstracted a bit. I'll be able to fix that tonight...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/woodruffw">@woodruffw</a> on 2025-08-04 16:03</div>
            <div class="timeline-body"><p>This is good for another look -- one thing this made me realize is that we could probably drop the <code>addnab/docker-run-action</code> dependency, but I can follow up on that later.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @zanieb on 2025-08-04 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>.github/workflows/build-binaries.yml</code>:43 on 2025-08-06 08:41</div>
            <div class="timeline-body"><p>Is there a difference between <code>permissions: {}</code> and <code>permissions: </code>? Asking cause we usually do the second one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>.github/workflows/build-binaries.yml</code>:692 on 2025-08-06 08:53</div>
            <div class="timeline-body"><p>nit: defined by the global env</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2025-08-06 08:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "chore(ci): address findings in build-binaries.yml" to "Address linter findings in build-binaries.yml" by @konstin on 2025-08-06 12:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/woodruffw">@woodruffw</a> reviewed on 2025-08-06 14:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/woodruffw">@woodruffw</a> on <code>.github/workflows/build-binaries.yml</code>:43 on 2025-08-06 14:50</div>
            <div class="timeline-body"><p>I <em>think</em> there's no difference between the two, assuming by <code>permissions:</code> you mean without a trailing block mapping. The GitHub docs suggest <code>permissions: {}</code> as the way to explicitly request that no permissions be given to the workflow so that's always what I've done.</p>
<p>(I couldn't find anywhere else in uv where <code>permissions:</code> is used with a missing block mapping though, so maybe I misunderstood you?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>.github/workflows/build-binaries.yml</code>:43 on 2025-08-06 15:24</div>
            <div class="timeline-body"><p>Yep i meant empty without a trailing block, such as at: https://github.com/astral-sh/uv/blob/60ddaddc9cdbb1a4561acb87296dd15f62aaf208/.github/workflows/ci.yml#L6-L7</p>
<p>If it's the GitHub suggestion let's do that, this is a nit anyway.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-08-06 15:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-08-06 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-08-06 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-08-06 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/woodruffw">@woodruffw</a> reviewed on 2025-08-06 16:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/woodruffw">@woodruffw</a> on <code>.github/workflows/build-binaries.yml</code>:43 on 2025-08-06 16:00</div>
            <div class="timeline-body"><p>Ah, gotcha! Yeah, AFAIK there's no semantic difference between those.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:44:13 UTC
    </footer>
</body>
</html>
