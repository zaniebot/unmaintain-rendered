<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support iOS platform tags - astral-sh/uv #15640</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support iOS platform tags</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/15640">#15640</a>
        opened by <a href="https://github.com/timrid">@timrid</a>
        on 2025-09-02 20:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a></div>
            <div class="timeline-body">

Summary
<p>This implements the iOS part of <a href="https://github.com/astral-sh/uv/issues/8029">astral-sh/uv#8029</a></p>
<p>FYI: @freakboy3742</p>


Test Plan
<p>Create a venv with uv and run <code>cargo run pip install --python-platform arm64-apple-ios pillow</code>. Then the iOS binary of pillow should be installed inside the venv.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-02 21:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-02 22:02</div>
            <div class="timeline-body"><p>Thanks for contributing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timrid">@timrid</a> reviewed on 2025-09-03 07:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timrid">@timrid</a> on <code>crates/uv-platform-tags/src/platform_tag.rs</code>:298 on 2025-09-03 07:59</div>
            <div class="timeline-body"><p>@freakboy3742 Is <code>multiarch</code> the correct name in <code>ios_{major}_{minor}_{multiarch}</code>? I took it from <a href="https://peps.python.org/pep-0730/#platform-identification">here</a>, but <a href="https://packaging.python.org/en/latest/specifications/platform-compatibility-tags/#ios">here</a> it is called <code>arch_sdk</code>, so I am unsure what is a better name. If changing from <code>multiarch</code> to <code>arch_sdk</code> the Enum name <code>IosMultiarch</code> has also to be renamed to <code>IosArchSdk</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-03 14:24</div>
            <div class="timeline-body"><p>@timrid -- Do you mind rebasing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/freakboy3742">@freakboy3742</a> on <code>crates/uv-platform-tags/src/platform_tag.rs</code>:298 on 2025-09-03 21:56</div>
            <div class="timeline-body"><p>The second link you&#x27;ve provided has a clarification a little further down:</p>
<blockquote>
<p>The combination of <code>arch_sdk</code> is referred to as the “multiarch”.</p>
</blockquote>
<p>That is &quot;multi arch&quot; is the combination of the arch, followed by the sdk. <code>arch</code> will be <code>arm64</code> or <code>x86_64</code>; <code>sdk</code> will be <code>iphoneos</code> or <code>iphonesimulator</code>; and multiarch will end up being one of <code>arm64_iphoneos</code>, <code>arm64_iphonesimulator</code> or <code>x86_64_iphonesimulator</code>.</p>
<p>So - if you&#x27;re defining a constant for the entire &quot;content  after major and minor&quot;, it would be called &quot;multiarch&quot;; but if you were to break it down further, you could have independent constants for &quot;arch&quot; and &quot;sdk&quot;; but you wouldn&#x27;t have an &quot;arch_sdk&quot;.</p>
<p>In the context, I don&#x27;t think there&#x27;s a lot of use for splitting multiarch into its constituent parts; if only because you could accidentlly construct <code>x86_64_iphoneos</code>, which won&#x27;t be (and is unlikely to ever be) legal.</p>
<p>So - my suggestion would be to keep the constant as currently defined.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/freakboy3742">@freakboy3742</a> reviewed on 2025-09-03 21:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-09-03 22:24</div>
            <div class="timeline-body"><p>This is great, thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-03 22:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-09-03 22:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:53:50 UTC
    </footer>
</body>
</html>
