<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Py.typed - astral-sh/uv #1685</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Py.typed</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/1685">#1685</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2024-02-19 11:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a></div>
            <div class="timeline-body"><p>Suggested implementation for https://github.com/astral-sh/uv/issues/1677</p>
<h2>Summary</h2>
<p>Add <code>py.typed</code> + cautionary docstring.
Importing these functions is discouraged, but not prohibited: users can do so at their own risk.</p>
<p>Included some best practices in the Python part, we should set the right example !</p>
<p>Atomic commits, see commit message for details.</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-02-19 15:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>python/uv/__main__.py</code>:4 on 2024-02-19 15:51</div>
            <div class="timeline-body"><p>We are explicitly not using <code>pathlib</code> because it's slower to import</p>
<ul>
<li>https://github.com/astral-sh/ruff/pull/9315</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>python/uv/__init__.py</code>:6 on 2024-02-19 15:52</div>
            <div class="timeline-body"><p>Let's not import then from <code>__main__</code>, let's do it the other way around (define them here and import them there).</p>
<p>I think <code>detect_virtualenv</code> should remain private as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-02-19 15:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-02-19 15:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>python/uv/__main__.py</code>:4 on 2024-02-19 15:52</div>
            <div class="timeline-body"><p>Can you revert those changes?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-02-19 15:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>python/uv/__init__.py</code>:4 on 2024-02-19 15:53</div>
            <div class="timeline-body"><pre><code class="language-suggestion">The Python API of `uv` is not guaranteed to be stable and may change at any time.
</code></pre>
<p>Fixed a typo and this seems sufficient. I was only strongly discouraging people from importing from <code>__main__</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2024-02-19 15:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-02-20 08:04</div>
            <div class="timeline-body"><p>Superseded by https://github.com/astral-sh/uv/pull/1728</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sbrugman on 2024-02-20 08:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:35:38 UTC
    </footer>
</body>
</html>
