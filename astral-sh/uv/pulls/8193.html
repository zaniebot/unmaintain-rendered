<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chore(uv): more env var mappings - astral-sh/uv #8193</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>chore(uv): more env var mappings</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/8193">#8193</a>
        opened by <a href="https://github.com/samypr100">@samypr100</a>
        on 2024-10-15 02:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/samypr100">@samypr100</a> on 2024-10-15 02:49</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Small follow up to https://github.com/astral-sh/uv/pull/8151</p>
<h2>Test Plan</h2>
<p>Existing tests</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-10-15 02:50</div>
            <div class="timeline-body"><p>I'm a little hesitant to add more build dependencies, but ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @zanieb on 2024-10-15 02:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @samypr100 on 2024-10-15 02:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-10-15 07:54</div>
            <div class="timeline-body"><p>Perf impact:</p>
<p>main:</p>
<pre><code>$ hyperfine --prepare &quot;cargo clean -p uv-cli&quot; &quot;cargo build -p uv-cli&quot;
Benchmark 1: cargo build -p uv-cli
  Time (mean ¬± œÉ):      2.096 s ¬±  0.019 s    [User: 2.851 s, System: 0.343 s]
  Range (min ‚Ä¶ max):    2.070 s ‚Ä¶  2.131 s    10 runs
</code></pre>
<p>PR:</p>
<pre><code>Benchmark 1: cargo build -p uv-cli
  Time (mean ¬± œÉ):      2.093 s ¬±  0.044 s    [User: 2.853 s, System: 0.336 s]
  Range (min ‚Ä¶ max):    2.056 s ‚Ä¶  2.208 s    10 runs
</code></pre>
<pre><code>$ hyperfine --prepare &quot;cargo clean -p uv-cli &amp;&amp; cargo clean -p uv-static&quot; &quot;cargo build -p uv-cli&quot;
Benchmark 1: cargo build -p uv-cli
  Time (mean ¬± œÉ):      5.169 s ¬±  0.044 s    [User: 6.628 s, System: 1.756 s]
  Range (min ‚Ä¶ max):    5.121 s ‚Ä¶  5.278 s    10 runs
</code></pre>
<p>We indeed increase the dep tree, but given that uv-cli already is pretty much at the top of the build DAG, the perf impact is negligible, i.e. we build uv-static while building other workspace crates that uv-cli depends on.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-10-15 11:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-10-15 11:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-15 12:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:01:59 UTC
    </footer>
</body>
</html>
