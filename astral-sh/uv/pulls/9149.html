<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build backend: Include readme and license files - astral-sh/uv #9149</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Build backend: Include readme and license files</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/9149">#9149</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-11-15 13:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>When building source distributions, we need to include the readme, so it can become part the METADATA body when building the wheel. We also need to support the license files from PEP 639. When building the source distribution, we copy those file relative to their origin, when building the wheel, we copy them to <code>.dist-info/licenses</code>.</p>
<p>The test for idempotence in wheel building is merged into the file listing test, which also covers that source tree -&gt; source dist -&gt; wheel is equivalent to source tree -&gt; wheel, though we do need to check for file inclusion stronger here.</p>
<p>Best reviewed commit-by-commit</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @konstin on 2024-11-15 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @BurntSushi by @konstin on 2024-11-15 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>crates/uv-build-backend/src/metadata.rs</code>:591 on 2024-11-15 13:49</div>
            <div class="timeline-body"><p>Do you need access to everything? Would it be reasonable to expose only what you need through methods?</p>
<p>(I suggest this for abstract &quot;encapsulation is good&quot; reasons, and nothing in particular that is concrete. And I do sympathize with just making internals crate-public as that can often be easier.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>scripts/packages/built-by-uv/third-party-licenses/PEP-401.txt</code>:4 on 2024-11-15 13:57</div>
            <div class="timeline-body"><p>Lol! https://peps.python.org/pep-0401/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> approved on 2024-11-15 13:58</div>
            <div class="timeline-body"><p>Looks reasonable to me!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2024-11-15 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-11-15 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-11-15 14:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:40:39 UTC
    </footer>
</body>
</html>
