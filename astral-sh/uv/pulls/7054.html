<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ci(docker)!: adjust entrypoint and cmd for inherited images - astral-sh/uv #7054</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ci(docker)!: adjust entrypoint and cmd for inherited images</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/7054">#7054</a>
        opened by <a href="https://github.com/samypr100">@samypr100</a>
        on 2024-09-04 23:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/samypr100">@samypr100</a></div>
            <div class="timeline-body">Summary
<p>Closes <a href="https://github.com/astral-sh/uv/issues/7030">astral-sh/uv#7030</a></p>
<p>This removes our custom <code>ENTRYPOINT</code> just for the additional docker tags, and makes it empty (to avoid possible upstream surprises if any) and moves running uv to <code>CMD</code> for consistency.</p>
<p>This approach is probably the in-between solution from the discussion in <a href="https://github.com/astral-sh/uv/issues/7030">astral-sh/uv#7030</a>#issuecomment-2329443719 and would work for everyone&#x27;s use cases.</p>
Test Plan
<p>Tested release workflow in https://github.com/samypr100/uv/actions/runs/10711049920</p>
<p>The default CMD still gives a nice default.</p>
<pre><code>&gt; docker run ghcr.io/samypr100/uv:0.4.5-alpine
An extremely fast Python package manager.

Usage: uv [OPTIONS] &lt;COMMAND&gt;

Commands:
  run      Run a command or script
  init     Create a new project
  add      Add dependencies to the project
  remove   Remove dependencies from the project
  sync     Update the project&#x27;s environment
  lock     Update the project&#x27;s lockfile
  export   Export the project&#x27;s lockfile to an alternate format
  tree     Display the project&#x27;s dependency tree
  tool     Run and install commands provided by Python packages
  python   Manage Python versions and installations
  pip      Manage Python packages with a pip-compatible interface
  venv     Create a virtual environment
  build    Build Python packages into source distributions and wheels
  cache    Manage uv&#x27;s cache
  version  Display uv&#x27;s version
  help     Display documentation for a command
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-09-04 23:39</div>
            <div class="timeline-body"><p>Yeah makes sense to me</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-04 23:40</div>
            <div class="timeline-body"><p>This is technically breaking but since the images are so new I&#x27;m tempted to go with it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/samypr100">@samypr100</a> on 2024-09-04 23:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2024-09-04 23:43</div>
            <div class="timeline-body"><blockquote>
<p>This is technically breaking but since the images are so new I&#x27;m tempted to go with it.</p>
</blockquote>
<p>Yea, I agree.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">release</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-04 23:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-04 23:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-04 23:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-09-04 23:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:48:04 UTC
    </footer>
</body>
</html>
