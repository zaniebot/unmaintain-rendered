<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be compatible with non-PEP440 version under env var UV_NON_PEP440_COMPAT - astral-sh/uv #11434</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Be compatible with non-PEP440 version under env var UV_NON_PEP440_COMPAT</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/11434">#11434</a>
        opened by <a href="https://github.com/JakkuSakura">@JakkuSakura</a>
        on 2025-02-12 04:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/JakkuSakura">@JakkuSakura</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Under env var UV_NON_PEP440_COMPAT, the version parser will tolerate non-PEP440 versions like the legacy pip. This will probably fix https://github.com/astral-sh/uv/issues/5478</p>
<h2>Test Plan</h2>
<p>Tests included</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-02-12 04:44</div>
            <div class="timeline-body"><!-- __CODSPEED_PERFORMANCE_REPORT_COMMENT__ -->

<!-- __CODSPEED_INSTRUMENTATION_PERFORMANCE_REPORT_COMMENT__ -->

<h2><a href="https://codspeed.io/astral-sh/uv/branches/JakkuSakura%3Aversion-compat">CodSpeed Performance Report</a></h2>
<h3>Merging #11434 will <strong>degrade performances by 13.14%</strong></h3>
<p><sub>Comparing <code>JakkuSakura:version-compat</code> (5dac27b) with <code>main</code> (1cd9c37)</sub></p>
<h3>Summary</h3>
<p><code>❌ 1</code> regressions<br />
<code>✅ 13</code> untouched benchmarks</p>
<blockquote>
<p>:warning: <em>Please fix the performance issues or <a href="https://codspeed.io/astral-sh/uv/branches/JakkuSakura%3Aversion-compat">acknowledge them on CodSpeed</a>.</em></p>
</blockquote>
<h3>Benchmarks breakdown</h3>
<p>|     | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ❌ | <code>wheelname_tag_compatibility[flyte-short-incompatible]</code> | 771.4 ns | 888.1 ns | -13.14% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JakkuSakura">@JakkuSakura</a> on 2025-02-12 09:17</div>
            <div class="timeline-body"><p>Seems the CI for windows is random and unrelated</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @zanieb on 2025-02-12 14:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @konstin removed by @konstin on 2025-02-12 16:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @konstin on 2025-02-12 16:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-12 16:31</div>
            <div class="timeline-body"><p>I appreciate the PR but I'd prefer not to support this. It seems to be a violation of standards. What's the concrete problem you're trying to solve?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JakkuSakura">@JakkuSakura</a> on 2025-02-20 07:41</div>
            <div class="timeline-body"><p>Understood. We are migrating our legacy python codebase to latest python version and ecosystem. Our versioning is non-standard because our codebase predates the standard. Having this feature help us to migrate our projects to uv. Without this, it's not possible to use tools other than legacy pip and setup.py. Fixing them one by one would take a long time.</p>
<p>I hoped to help other users with this PR, but fine just living in a fork</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-27 00:36</div>
            <div class="timeline-body"><p>Okay, got it. I do appreciate the PR but I think I'd prefer to pass on this change given that it hasn't been highly requested by users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-02-27 00:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:41:59 UTC
    </footer>
</body>
</html>
