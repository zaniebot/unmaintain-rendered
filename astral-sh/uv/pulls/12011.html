<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add doc on 'uv init --build-backend` default and caveat (#11502) - astral-sh/uv #12011</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add doc on 'uv init --build-backend` default and caveat (#11502)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/12011">#12011</a>
        opened by <a href="https://github.com/dd-ssc">@dd-ssc</a>
        on 2025-03-06 17:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dd-ssc">@dd-ssc</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Amend user documentation with details on <code>uv init</code> build backend defaults.
Doc caveat: Omitting <code>--build-backend</code> and passing <code>--build-backend hatch</code> do not result in identical projects.</p>
<h2>Test Plan</h2>
<p>Following the instructions in <a href="https://github.com/astral-sh/uv/blob/main/CONTRIBUTING.md#documentation">CONTRIBUTING.md#documentation</a>:</p>
<ul>
<li>run <code>cargo dev generate-all</code></li>
<li>run the doc dev server</li>
<li>add my changes</li>
<li>inspect the result in a browser: Looks ok âœ….</li>
<li>run <code>npx prettier --prose-wrap always --write &quot;**/*.md&quot;</code></li>
</ul>
<h2>Updated Test Plan</h2>
<p>It seems the instructions don't mention the CLI reference section getting generated from Rust code: I modified the <code>.md</code> file directly and that caused some PR checks to fail ğŸ™ˆ. New plan:</p>
<ul>
<li>add the new documentation to <code>crates/uv-cli/src/lib.rs</code></li>
<li>run <code>cargo dev generate-cli-reference</code></li>
<li>run the doc dev server</li>
<li>inspect the result in a browser: Looks ok âœ….</li>
<li>run <code>npx prettier --prose-wrap always --write &quot;**/*.md&quot;</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-06 18:17</div>
            <div class="timeline-body"><p>Where do we suggest that <code>--build-backend hatch</code> should be the same as the default?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dd-ssc">@dd-ssc</a> on 2025-03-06 18:37</div>
            <div class="timeline-body"><blockquote>
<p>Where do we suggest that <code>--build-backend hatch</code> should be the same as the default?</p>
</blockquote>
<p>Nowhere, AFAIK - but IMHO, if <code>hatch</code> is used as the default, then it seems logical to assume that omitting <code>--build-backend</code> and passing <code>--build-backend hatch</code> have the same effect, i.e. result in identical projects. Might be just me ğŸ¤·ğŸ»â€â™‚ï¸</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-06 18:44</div>
            <div class="timeline-body"><p><code>hatch</code> isn't used as the default though, it's only used with <code>--package</code> or <code>--lib</code> which I think call out this difference from <code>--app</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dd-ssc">@dd-ssc</a> on 2025-03-06 19:00</div>
            <div class="timeline-body"><p>Possibly - I've just taken that info from @konstin at https://github.com/astral-sh/uv/issues/11502#issuecomment-2695259348  ğŸ¤·ğŸ»â€â™‚ï¸</p>
<p>As mentioned in that issue - to me (and to possibly many other users), the info about uv's build backend default is absolutely crucial - and in fact removes a hard block in our projects, because now I know where to look for info on how to achieve my original goal: The <a href="https://hatch.pypa.io/latest">hatchling docs</a> âœ…. Hence this PR.</p>
<p>I might make it a habit in the future though to pass <code>--build-backend hatch</code> explicitly to <code>uv init</code>, just so that the build backend is explicitly written into <code>pyproject.toml</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dd-ssc on 2025-03-06 19:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-06 19:08</div>
            <div class="timeline-body"><p>I see, yeah sorry about the confusion. We're moving forward with our own build backend ASAP so you don't need to do that. <code>uv init --package</code> should be equivalent for you,.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dd-ssc">@dd-ssc</a> on 2025-03-06 19:10</div>
            <div class="timeline-body"><p>Sorry, I messed up the PR ğŸ™ˆ
Seems best to submit a new one: https://github.com/astral-sh/uv/pull/12017</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:42:19 UTC
    </footer>
</body>
</html>
