<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `[tool.uv.dependency-groups].mygroup.requires-python` - astral-sh/uv #13735</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>[tool.uv.dependency-groups].mygroup.requires-python</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/13735">#13735</a>
        opened by <a href="https://github.com/Gankra">@Gankra</a>
        on 2025-05-30 17:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a></div>
            <div class="timeline-body"><p>This requires some more tests and almost certainly some error messages, but, I think this is the implementation?</p>
<p>The first commit is a large driveby move of the RequiresPython type to uv-distribution-types to allow us to generate the appropriate markers at this point in the code. It also migrates RequiresPython from pubgrub::Range to version_ranges::Ranges, and makes several pub(crate) items pub, as it's no longer defined in uv_resolver.</p>
<p>Fixes #11606</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-distribution/src/metadata/requires_dist.rs</code>:145 on 2025-05-30 17:17</div>
            <div class="timeline-body"><p>In earlier commits this is done in LowerRequirement::from_requirement as charlie suggested, but after implementing+testing I realized this is &quot;too late&quot; because of dependency-group <code>includes</code>, which gets erased during flattening, making us forget where requirements come from.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-distribution/src/metadata/requires_dist.rs</code>:139 on 2025-05-30 17:19</div>
            <div class="timeline-body"><p>Note we source these independent of SourceStrategy -- this is... I think Fine because it's similar to dev-dependencies handling, which is also unconditional. (We litigate this a bit in the past and were leaning towards the behaviour I implement here).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-distribution/src/metadata/requires_dist.rs</code>:149 on 2025-05-30 17:23</div>
            <div class="timeline-body"><p>Note: the legacy special <code>tool.uv.dev-dependencies</code> group gets injected post-flattening. Currently this means we don't support <code>tool.uv.dependency-groups.dev.requires-python</code> affecting it. I think this is <em>fine</em> (you can just migrate to <code>dependency-groups.dev</code> if you want to apply requires-python to it).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:188 on 2025-05-30 17:24</div>
            <div class="timeline-body"><p>This is the actual place where the work happens</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/pyproject.rs</code>:363 on 2025-05-30 17:26</div>
            <div class="timeline-body"><pre><code class="language-suggestion">        example = r#&quot;
            [tool.uv.dependency-groups]
            mygroup = {requires-python = &quot;&gt;=3.12&quot;}
        &quot;#
</code></pre>
<p>Is probably more idiomatic here, in terms of the normal dependency-groups table.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/lock.rs</code>:21014 on 2025-05-30 17:28</div>
            <div class="timeline-body"><p>Interesting case where requires-python markers + includes lead to non-obvious contradiction markers (here python &gt;= 3.13 + python &lt; 3.13 result from including one group into another and applying both their requires-pythons as appropriate).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-05-30 17:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/lock.rs</code>:20883 on 2025-05-30 17:30</div>
            <div class="timeline-body"><p><code>&gt;= 3.12.1</code> becoming <code>&gt;= 3.12.[X]</code> is hopefully a Me Learning Stuff moment and not a The Implementation Is Broken moment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @Gankra on 2025-05-30 20:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-02 09:05</div>
            <div class="timeline-body"><p>I find the current behavior around adding markers to the group members unintuitive:</p>
<pre><code class="language-toml">[project]
name = &quot;debug&quot;
version = &quot;0.1.0&quot;
requires-python = &quot;&gt;=3.9&quot;
dependencies = [&quot;typing-extensions&quot;]

[dependency-groups]
docs = [&quot;sphinx&quot;]

[tool.uv.dependency-groups]
docs = { requires-python = &quot;&gt;=3.12&quot; }
</code></pre>
<p>When I now run</p>
<pre><code>uv run -p 3.11 --group docs sphinx-build
</code></pre>
<p>it fails to run sphinx, but it doesn't tell me that the docs groups requires a newer Python version. I would have expected this call to fail and report that I need at least Python 3.12. Similar to how the project <code>requires-python</code> works:</p>
<pre><code>$ uv run -p 3.8 --group docs sphinx-build
Using CPython 3.8.18 interpreter at: /home/konsti/.local/bin/python3.8
error: The requested interpreter resolved to Python 3.8.18, which is incompatible with the project's Python requirement: `&gt;=3.9`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-02 16:35</div>
            <div class="timeline-body"><p>I agree I'd prefer a better diagnostic, zanie mentioned last week that I might need to do some work on... i think they said &quot;resolver hints&quot; or something? Or are you saying lowering to markers is entirely wrong, and I need to be resolving this metadata in a different part of uv?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-02 16:44</div>
            <div class="timeline-body"><p>My preference is that the requires-python is a mandatory bound, so <code>uv run -p 3.8 --group docs sphinx-build</code> would error. This would match the name <code>requires-python</code> and how <code>project.requires-python</code> works (both for the current project and transitively). If we're implementing the current mechanism of adding this as markers to each requirement, I would choose a different name for it to make the semantic differences with <code>requires-python</code> clearer.</p>
<p>Separately, do want to land baf989515e8b2b5f38ca7cf9066a87830da430c3 as a split out PR? r+ me it's a pure refactoring anyway.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-02 16:46</div>
            <div class="timeline-body"><blockquote>
<p>Separately, do want to land https://github.com/astral-sh/uv/commit/baf989515e8b2b5f38ca7cf9066a87830da430c3 as a split out PR? r+ me it's a pure refactoring anyway.</p>
</blockquote>
<p>The ranges migration is good but if moving it out of the crate is based on me misunderstanding this problem I'd rather not land that part.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-02 16:49</div>
            <div class="timeline-body"><p>I'll take a closer look at how the top-level requires-python is implemented to better understand what that impl would look like.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-02 16:58</div>
            <div class="timeline-body"><p>Konsti is talking about confirming the selected Python interpreter meets the resolved <code>requires-python</code> range for the group. You'll need to ensure we're taking the fully resolved <code>requires-python</code> request into account when selecting a Python interpreter.</p>
<p>Separately, what I was talking about, is if there are conflicts between the <code>requires-python</code> in multiple groups or with the <code>project.requires-python</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-06-02 17:10</div>
            <div class="timeline-body"><p>My preference is pretty much https://github.com/astral-sh/uv/issues/11606#issuecomment-2735124600: I think the current changes are required to get the right resolver behavior (split at the reuires-python version and resolve the dependencies only in the upper split, since e.g. sphinx has a higher requires-python itself and otherwise fails to resolve; Adding the markers should facilitate that), but I think we should also error when the Python version is too low for the group. CC @zanieb wdyt?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-02 18:28</div>
            <div class="timeline-body"><p>Yes, that's correct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4658 on 2025-06-10 13:29</div>
            <div class="timeline-body"><p>Participating in interpreter discovery</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 13:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 13:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4727 on 2025-06-10 13:32</div>
            <div class="timeline-body"><p>We now get a proper high-level error, although this already-kinda-obtuse error message is now even more cryptic because at this point in the code we've forgotten all the requires-python sources and discarded the enabled groups, so we're just like &quot;here's the intersection of all active requirements in your workspace&quot;.</p>
<p>Having better diagnostics about this situation I think should be future work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 13:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4740 on 2025-06-10 13:32</div>
            <div class="timeline-body"><p>Another pre-existing cryptic error that is now even spookier with group-requires-python.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 13:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4839 on 2025-06-10 13:34</div>
            <div class="timeline-body"><p>In this pre-existing error we <em>are</em> still holding onto the sources of all the requires-pythons and dump every active one. I've enhanced it to display group requires-pythons, as can be seen here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 13:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4740 on 2025-06-10 13:36</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv/pull/11964 may help</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 13:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/sync.rs</code>:8949 on 2025-06-10 13:37</div>
            <div class="timeline-body"><p>A bunch of malformed dependency-group errors have churned slightly, because group flattenings are now evaluated extremely early (before we've even done interpreter discovery), making it a sort of global error instead of one associated with a particular build.</p>
<p>I think I can add context back here though, the code that hits this still knows what project/pyproject had the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-06-10 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-06-10 17:50</div>
            <div class="timeline-body"><!-- __CODSPEED_PERFORMANCE_REPORT_COMMENT__ -->

<!-- __CODSPEED_WALLTIME_PERFORMANCE_REPORT_COMMENT__ -->

<h2><a href="https://codspeed.io/astral-sh/uv/branches/gankra%2Fgroup-python-real">CodSpeed Walltime Performance Report</a></h2>
<h3>Merging #13735 will <strong>not alter performance</strong></h3>
<p><sub>Comparing <code>gankra/group-python-real</code> (403adea) with <code>main</code> (26db29c)</sub></p>
<h3>Summary</h3>
<p><code>‚úÖ 12</code> untouched benchmarks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-10 18:20</div>
            <div class="timeline-body"><p>(This PR should now be complete and ready to merge, pending approval)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-configuration/src/dependency_groups.rs</code>:307 on 2025-06-10 18:22</div>
            <div class="timeline-body"><p>Nit: Newline?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:36 on 2025-06-10 18:23</div>
            <div class="timeline-body"><p>Confusing comment</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:71 on 2025-06-10 18:24</div>
            <div class="timeline-body"><pre><code class="language-suggestion">        // Add the `dev` group, if the legacy `dev-dependencies` is defined.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:171 on 2025-06-10 18:25</div>
            <div class="timeline-body"><p>It can't be <code>unwrap_or_default</code> because it's borrowed?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:149 on 2025-06-10 18:26</div>
            <div class="timeline-body"><p>What's this clause? A comment may be helpful here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:178 on 2025-06-10 18:30</div>
            <div class="timeline-body"><p>I might say...</p>
<pre><code class="language-suggestion">                // Add the group requires-python as a marker to each requirement
                // We don't use `full_requires_python` because each `include-group`
                // should already have markers.
</code></pre>
<p>btw what if the <code>include-group</code> doesn't have a <code>requires-python</code>? Won't the requirements be missing the marker then?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:167 on 2025-06-10 18:31</div>
            <div class="timeline-body"><p>Is this like..</p>
<pre><code class="language-suggestion">                // Update the full requires-python to the intersection with this group's requires-python
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:168 on 2025-06-10 18:32</div>
            <div class="timeline-body"><p>This is a bit misleading, these are specifiers, not versions, right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:173 on 2025-06-10 18:33</div>
            <div class="timeline-body"><p>Should there be a method on <code>VersionSpecifiers</code> to do this extension? It's a bit clunky doing it here twice?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-10 18:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:123 on 2025-06-10 18:35</div>
            <div class="timeline-body"><p>We might want to rename this, since <code>python_full_version</code> is a marker. maybe like <code>requires_python_intersection</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 18:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:149 on 2025-06-10 18:53</div>
            <div class="timeline-body"><p>This is me getting way too cute and trying to keep the requires_python as an <code>Option&lt;VersionSpecifiers&gt;</code>, without a ton of matching on Options -- if both entries are None then we make an empty <code>Box&lt;[]&gt;</code>, and then we turn that back into <code>None</code> with this <code>then_some</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 18:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:168 on 2025-06-10 18:53</div>
            <div class="timeline-body"><p>Yes good call</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 18:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:173 on 2025-06-10 18:54</div>
            <div class="timeline-body"><p>Yeah I spent way too long assuming there would be, I'll add it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 18:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:171 on 2025-06-10 18:54</div>
            <div class="timeline-body"><p>Yep</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:36 on 2025-06-10 19:08</div>
            <div class="timeline-body"><p>Refactor gunk, good catch.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 19:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-10 19:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:178 on 2025-06-10 19:47</div>
            <div class="timeline-body"><p>Say we have:</p>
<pre><code>[dependency-groups]
dev = [&quot;devdep&quot;, {include-group = &quot;test&quot;}]
test = [&quot;testdep&quot;]

[tool.uv.dependency-groups]
dev = {requires-python = &quot;&gt;= 3.10&quot;}
test = {requires-python = &quot;&lt; 3.12&quot;}
</code></pre>
<p>Then we will first process test and get this, note that the requires-python has been applied to all of its requirements already:</p>
<pre><code class="language-rust">&quot;test&quot;: FlatDependencyGroup {
  requires_python: Some(&quot;&lt; 3.12&quot;),
  requirements: [&quot;testdep; python_full_version &lt; 3.12&quot;]
}
</code></pre>
<p>Then we will process &quot;dev&quot;, and we will get this:</p>
<pre><code class="language-rust">&quot;test&quot;: FlatDependencyGroup {
  requires_python: Some(&quot;&gt;= 3.10, &lt;3.12&quot;),
  requirements: [
    &quot;testdep; python_full_version &gt;= 3.10, &lt; 3.12&quot;,
    &quot;devdep; python_full_version &gt;= 3.10&quot;,
  ]
}
</code></pre>
<p>Note that <code>testdep</code>, has both markers on it, while <code>devdep</code> only has dev's.</p>
<p>This is because test's marker was applied when it was computed, and then when computing dev we copied the entire requirement from dev. Then we applied dev's marker to everything that got flattened into it.</p>
<p>If dev had no requires-python then this would produce the correct result: testdep would have a marker and devdep wouldn't.</p>
<p>If test had no requires-python then this would produce the correct result: testdep and devdep would have devdep's marker.</p>
<p>In theory this could permit like &quot;half&quot; a dependency-group to get installed based on your python version, but in practice the top-level interpreter checks will complain because the requires_python_intersection drops that granularity when we hand it off to interpreter discovery/validation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-10 19:51</div>
            <div class="timeline-body"><p>(the current test failures are an issue that's on main)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/pyproject.rs</code>:365 on 2025-06-11 20:33</div>
            <div class="timeline-body"><p>We may need to document that you can't declare group members here and that those need to go in <code>[dependency-groups]</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 20:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-workspace/src/pyproject.rs</code>:365 on 2025-06-11 20:38</div>
            <div class="timeline-body"><p>Hmm interesting yeah.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/lock.rs</code>:20883 on 2025-06-11 20:47</div>
            <div class="timeline-body"><p>We insert filters for the patch version of the Python versions in the environment. It applies to 3.12 because of <code>let context = TestContext::new(&quot;3.12&quot;);</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4727 on 2025-06-11 20:50</div>
            <div class="timeline-body"><p>Huh? Why is there a reference to a workspace at all here? This doesn't seem quite right, and seems bad enough that we need to improve it here because we're recommending installing a workspace member?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4730 on 2025-06-11 20:50</div>
            <div class="timeline-body"><p>Use <code>with_filtered_python_sources</code> instead of toggling cfg</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4836 on 2025-06-11 20:53</div>
            <div class="timeline-body"><p>Are the backticks doing anything for us here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4837 on 2025-06-11 20:54</div>
            <div class="timeline-body"><p>In <code>uv tree</code>, we'd say</p>
<blockquote>
<p>anyio v4.3.0 (group: foo)</p>
</blockquote>
<p>Maybe we should match that format here?</p>
<blockquote>
<p>project (group: bar)</p>
</blockquote>
<p>We also have a format for displaying group names in resolver errors, I can't find an example off the top of my head, but we should find an example and consider using it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 20:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4836 on 2025-06-11 20:56</div>
            <div class="timeline-body"><p>This is a pre-existing format but happy to clean it up</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4837 on 2025-06-11 20:56</div>
            <div class="timeline-body"><pre><code>‚ùØ uv init example
Initialized project `example` at `/Users/zb/workspace/uv/example`
‚ùØ cd example/
‚ùØ uv add --group foo ruff==0.2.0
Using CPython 3.13.2
Creating virtual environment at: .venv
Resolved 2 packages in 3ms
Installed 1 package in 2ms
 + ruff==0.2.0
‚ùØ uv add --group bar ruff==0.3.0
  √ó No solution found when resolving dependencies:
  ‚ï∞‚îÄ‚ñ∂ Because example:foo depends on ruff==0.2.0 and example:bar depends on ruff==0.3.0, we can conclude that
      example:bar and example:foo are incompatible.
      And because your project requires example:bar and example:foo, we can conclude that your project's
      requirements are unsatisfiable.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip
        locking and syncing.
</code></pre>
<p>So <code>project:group</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/sync.rs</code>:8957 on 2025-06-11 20:57</div>
            <div class="timeline-body"><p>Should we say &quot;Project <code>example</code> has ...&quot;? I think that's more consistent with some other errors.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:518 on 2025-06-11 20:58</div>
            <div class="timeline-body"><p>This isn't used, should we include it? Should it be <code>&gt;=3.9</code> instead?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:511 on 2025-06-11 20:58</div>
            <div class="timeline-body"><p>Why wouldn't we select 3.11 since that's first and matches the range?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:511 on 2025-06-11 20:59</div>
            <div class="timeline-body"><p>(Spoiler, the snapshot says we do select 3.11)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:545 on 2025-06-11 20:59</div>
            <div class="timeline-body"><p>This doesn't tell us anything because we selected 3.11 above too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 20:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:578 on 2025-06-11 20:59</div>
            <div class="timeline-body"><p>How is this intended to be different from the above case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:664 on 2025-06-11 21:00</div>
            <div class="timeline-body"><p>This shouldn't be a workspace, still confused about this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/lock_target.rs</code>:223 on 2025-06-11 21:05</div>
            <div class="timeline-body"><p>Should we talk through this? What's the question? We're figuring out the <code>requires-python</code> to use for locking the whole workspace? This is the intersection of all the workspace member values? (It's confusing that the documentation for <code>find_requires_python</code> says &quot;union&quot;). I don't think we want to narrow it further if a dependency group only supports a subset of Python versions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/lock_target.rs</code>:223 on 2025-06-11 21:06</div>
            <div class="timeline-body"><p>(tbh I'm not really sure why we'd want to narrow if a workspace member supports a subset either, I think the workspace member should just not be installable outside its supported versions, but I don't know if we support that concept today)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/mod.rs</code>:204 on 2025-06-11 21:06</div>
            <div class="timeline-body"><p>Noted elsewhere, but I don't think we should invent a new format here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/version.rs</code>:383 on 2025-06-11 21:09</div>
            <div class="timeline-body"><p>I'm not sure if this TODO makes sense in this context anymore.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/version.rs</code>:383 on 2025-06-11 21:09</div>
            <div class="timeline-body"><p>I think it's about <code>install_options</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-11 21:10</div>
            <div class="timeline-body"><p>Why not? What happens if you do <code>uv python pin 3.12</code> but a dependency group requires <code>&gt;=3.13</code>? What if it's the <code>dev</code> group?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-distribution/src/metadata/requires_dist.rs</code>:149 on 2025-06-11 21:12</div>
            <div class="timeline-body"><p>Can we error eagerly if you use both?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4836 on 2025-06-11 21:13</div>
            <div class="timeline-body"><p>Ah okay thanks for clarifying. Probably worth cleaning up.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 21:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/venv.rs</code>:578 on 2025-06-11 21:16</div>
            <div class="timeline-body"><p>It swaps the order of which of two sources of constraints is the dominant one, to make sure both sources are considered.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 21:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/venv.rs</code>:511 on 2025-06-11 21:18</div>
            <div class="timeline-body"><p>Oh wild, this is based on the preexisting test above it, I never noticed it purposely scrambled them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 21:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/project/lock_target.rs</code>:223 on 2025-06-11 21:30</div>
            <div class="timeline-body"><p>Yeah the way this value gets used is very strange, now that I've had more time to think about this I'm fairly confident we want the impl I have checked in.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/venv.rs</code>:578 on 2025-06-11 21:33</div>
            <div class="timeline-body"><p>How does it demonstrate anything if the result doesn't change? ü§î</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 21:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/project/version.rs</code>:383 on 2025-06-11 21:33</div>
            <div class="timeline-body"><p>Yeah the comment can probably be killed, I think it's just gesturing to the confusing nature of all these <code>project</code> commands invoking sync as subroutine when syncing can require a million different settings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 21:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-11 21:34</div>
            <div class="timeline-body"><p>I believe my concern here was if we do this we'll have to add all the dependency-group flags to <code>pin</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-11 21:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-11 21:37</div>
            <div class="timeline-body"><p>I don't think you <em>need</em> to add the group flags, per-say. You almost definitely shouldn't. It's just used to power a warning, right? You probably don't want your pinned Python version to be incompatible with your default groups. I'm not even sure you want it to be incompatible with your non-default groups? because then <code>--group foo</code> will fail without an explicit <code>-p &lt;version&gt;</code> which is super annoying.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 23:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/venv.rs</code>:578 on 2025-06-11 23:41</div>
            <div class="timeline-body"><p><code>uv venv</code> aiui completely clobbers the old venv, so each one of these invocations is independent (I've now fixed the issue where 3.11 was first so now these constraints actually do something non-trivial)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 23:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4837 on 2025-06-11 23:46</div>
            <div class="timeline-body"><p>Hmm in this case with other suggestions we'll end up with:</p>
<pre><code> - project: &gt;=3.9, &lt;3.10 
 - project:group: &gt;=3.10
</code></pre>
<p>Which looks a little weird to me but actually it's growing on me</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 23:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/venv.rs</code>:664 on 2025-06-11 23:51</div>
            <div class="timeline-body"><p>Previously this error was only possible within a workspace because it required multiple packages, now a single package can contradict itself... maybe &quot;Found conflicting Python requirements&quot;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-11 23:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-11 23:58</div>
            <div class="timeline-body"><p>So I don't think we should ever use the intersection of --all-groups without the user asking, because although it's very dubious for this to come up, I think it should be allowed for two groups to have conflicting requires-pythons.</p>
<p>There is one place in the code where assert_pin_compatible_project is <code>?</code>ed instead of immediately discarded as a warning:</p>
<pre><code>if let Some(virtual_project) = &amp;virtual_project {
        if let Some(request_version) = pep440_version_from_request(&amp;request) {
             assert_pin_compatible_with_project(
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 00:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4730 on 2025-06-12 00:03</div>
            <div class="timeline-body"><p>Thanks! (Seems there's some part of the codebase not doing this..)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 00:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4727 on 2025-06-12 00:35</div>
            <div class="timeline-body"><p>In general even a single package is a workspace, but the pre-existing error previously was only relevant with a non-trivial workspace.</p>
<p>So this is a funny rube-goldberg situation:</p>
<ul>
<li>we compute all the requires_pythons with precise source info included</li>
<li>then we intersect them together and throw out all that info</li>
<li>then we figure out our python version (in this case with an explicit request)</li>
<li>then we check if that version matches our intersected requires_python</li>
<li>oh no it doesn't, ok let's try to come up with a Useful error message</li>
<li>oh look this package on its own has a requires-python that's compatible, you could just install that on its own?</li>
</ul>
<p>And because we specifically recommend <code>uv pip install</code> the instructions are actually accidentally correct? Because it's an extremely obtuse way to express &quot;disable the dependency-groups of the package&quot;. Fixing up this error is a bit annoying because all the context gets dropped... I'm trying to see if it's easy to hold onto that context.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 00:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4727 on 2025-06-12 00:58</div>
            <div class="timeline-body"><p>Ok the more I look at this the more I'm extremely dubious of this &quot;extra helpful&quot; diagnostic we've had for quite a while: https://github.com/astral-sh/uv/blob/f5305653238378376cd33f1a00d6b9eb511bef36/crates/uv/src/commands/project/mod.rs#L467-L483</p>
<p>I think maybe it dates from a period where validate_project_requires_python was less pervasively invoked by everything...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 02:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/sync.rs</code>:349 on 2025-06-12 02:12</div>
            <div class="timeline-body"><p>The polarity changes here: instead of saying &quot;btw here's a random Good package&quot; we now go &quot;btw here's all the Bad packages (and/or groups)&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 02:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:4727 on 2025-06-12 02:13</div>
            <div class="timeline-body"><p>Now we more coherently point at the group as problematic, and don't suggest some cryptic workaround.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 02:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/sync.rs</code>:349 on 2025-06-12 02:17</div>
            <div class="timeline-body"><p>I've completely removed the &quot;btw here's a random Good package&quot; message because... it seemed very confusing and random, especially since it could appear on basically any random uv command.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 02:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-distribution/src/metadata/requires_dist.rs</code>:149 on 2025-06-12 02:19</div>
            <div class="timeline-body"><p>Hmm... like &quot;you're using Modern dependency-groups features, please migrate off Legacy dependency-groups?&quot; even if there's no actual interaction with how they're using them?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-workspace/Cargo.toml</code>:47 on 2025-06-12 08:26</div>
            <div class="timeline-body"><pre><code class="language-suggestion">uv-configuration = { workspace = true }
</code></pre>
<p>this dep should go into the uv section</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/run.rs</code>:136 on 2025-06-12 08:30</div>
            <div class="timeline-body"><p>This reads oddly, we're first saying it's the project's requirement, then we're saying in the next sentence the requirement is from foo. Can we merge the two sentences?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/run.rs</code>:4678 on 2025-06-12 08:30</div>
            <div class="timeline-body"><p>nice!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/lock.rs</code>:20664 on 2025-06-12 08:34</div>
            <div class="timeline-body"><p>In the new tests, are we covering a scenario where a dependency group package couldn't be installed on an older python version, so that we have a realistic use case in the tests that would fail without the requires-python?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/src/commands/project/add.rs</code>:204 on 2025-06-12 08:42</div>
            <div class="timeline-body"><p>Not your fault, but uv will happily do</p>
<pre><code>uv add --group science numpy --script main.py
</code></pre>
<p>to create</p>
<pre><code class="language-python"># /// script
# requires-python = &quot;&gt;=3.13&quot;
#
# [dependency-groups]
# science = [
#     &quot;numpy&quot;,
# ]
# ///
</code></pre>
<p>it doesn't like</p>
<pre><code>uv sync --group science --script main.py
</code></pre>
<p>otoh, but there's some gap here; maybe something for a separate PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-workspace/src/pyproject.rs</code>:356 on 2025-06-12 09:17</div>
            <div class="timeline-body"><p>nit: the other docstrings end with a dot.</p>
<pre><code class="language-suggestion">    /// Additional settings for `dependency-groups`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-06-12 09:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 12:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/project/add.rs</code>:204 on 2025-06-12 12:51</div>
            <div class="timeline-body"><p>Yeah that sounds like a bug in <code>uv add</code>, nowhere in the code believes this can happen.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 13:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:136 on 2025-06-12 13:02</div>
            <div class="timeline-body"><p>Hmm maybe</p>
<p>error: The requested interpreter resolved to Python 3.9.[X], which is incompatible with the project's Python requirement: <code>&gt;=3.11, &lt;4</code> (from <code>foo</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 13:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/lock.rs</code>:20664 on 2025-06-12 13:05</div>
            <div class="timeline-body"><p>Hmm what kind of &quot;can't be installed&quot; are you picturing? A registry package with a requires-python?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 13:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/add.rs</code>:204 on 2025-06-12 13:07</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv/issues/13988</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 17:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-12 17:46</div>
            <div class="timeline-body"><blockquote>
<p>So I don't think we should ever use the intersection of --all-groups without the user asking, because although it's very dubious for this to come up, I think it should be allowed for two groups to have conflicting requires-pythons.</p>
</blockquote>
<p>I agree, but we might want do something like use the intersection of all then fallback to the default if that was empty? Especially for cases where we're just powering a warning. The intent of groups <code>requires-python</code> is mostly about narrowing, rather than conflicting.</p>
<blockquote>
<p>There is one place in the code where assert_pin_compatible_project is ?ed instead of immediately discarded as a warning</p>
</blockquote>
<p>What is this case though?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 17:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:4727 on 2025-06-12 17:51</div>
            <div class="timeline-body"><p>Yeah it seems like we may want to drop that and open an issue to follow up on it?</p>
<blockquote>
<p>In general even a single package is a workspace</p>
</blockquote>
<p>Even if this is true internally, we shouldn't leak that to the user. Most users don't need or use workspaces.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 17:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-workspace/src/dependency_groups.rs</code>:178 on 2025-06-12 17:53</div>
            <div class="timeline-body"><p>I think this sounds right, but the comment in the code is confusing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:136 on 2025-06-12 17:54</div>
            <div class="timeline-body"><p>What's <code>foo</code> here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 17:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 17:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-12 17:55</div>
            <div class="timeline-body"><blockquote>
<p>What is this case though?</p>
</blockquote>
<p>You're in any kind of project/workspace and you requested a python version. We then refuse to proceed if the workspace's intersected requires-python conflicts with that (or if the workspace has an empty intersection). I suppose it's not entirely unreasonable to error if <em>any</em> of your dependency-groups would be incompatible with it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 17:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:136 on 2025-06-12 17:56</div>
            <div class="timeline-body"><p>Package name (can also be <code>mypackage:group</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 17:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-12 17:59</div>
            <div class="timeline-body"><p>This is sort of a landmine :D we'll want test cases covering the interactions here.</p>
<p>The problem is, once you pin a Python version, it's the default request. So <em>every</em> project command will fail if it's not compatible with the selected groups? If it's incompatible with the <code>requires-python</code> of the project, yeah we should hard error because it's <em>never</em> usable. If it's incompatible with the default groups, we have a big problem and.. should probably error too? If it's incompatible with some opt-in groups, they'll still have to use <code>-p</code> to use those groups, which is bad? but probably a warning.</p>
<p>I think we'll need to call this function with various levels of groups activated to get the full warning / error experience we need.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 18:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-12 18:05</div>
            <div class="timeline-body"><p>Fair, sadness.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 18:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-12 18:06</div>
            <div class="timeline-body"><p>I feel like we could ship with &quot;no it's just an error if --all-groups fails&quot; because this is a new opt-in feature, and loosen it if people actually complain?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 18:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/run.rs</code>:136 on 2025-06-12 18:07</div>
            <div class="timeline-body"><p>I think it's really weird to say &quot;(from <code>foo</code>)&quot; in a single project workspace (where <code>foo</code> is the name of the project). It's too confusing.</p>
<p>I'd maybe say...</p>
<p>For a project:</p>
<blockquote>
<p>error: The requested interpreter resolved to Python 3.9.[X], which is incompatible with the project's Python requirement: &gt;=3.11, &lt;4</p>
</blockquote>
<p>Keep it simple for the normal case. Adding the project name here isn't helpful. If anything, I'd append</p>
<blockquote>
<p>(from <code>project.requires-python</code>)</p>
</blockquote>
<p>For a group in a project:</p>
<blockquote>
<p>error: The requested interpreter resolved to Python 3.9.[X], which is incompatible with the project's Python requirement: &gt;=3.11, &lt;4 (from group <code>foo</code>)</p>
</blockquote>
<p>I don't love this still, because what does it mean for the Python requirement to be from group <code>foo</code>? Is that <em>just</em> foo's Python requirement? Maybe something like:</p>
<blockquote>
<p>error: The requested interpreter resolved to Python 3.9.[X], which is incompatible with the group <code>foo</code>'s Python requirement: &gt;=3.11, &lt;4 (from <code>tool.uv.dependency-groups.foo.requires-python</code>)</p>
</blockquote>
<p>For workspaces with multiple projects, it gets more complicated?</p>
<blockquote>
<p>error: The requested interpreter resolved to Python 3.9.[X], which is incompatible with the workspace's Python requirement: &gt;=3.11, &lt;4 (from member <code>foo</code>).</p>
</blockquote>
<p>Once again, I don't know what it means to be &quot;from member&quot;, just going off the language you had. It might make more sense as:</p>
<blockquote>
<p>error: The requested interpreter resolved to Python 3.9.[X], which is incompatible with the workspace member <code>foo</code>'s Python requirement: &gt;=3.11, &lt;4</p>
</blockquote>
<p>And it gets more complicated for groups of workspace members, but I think we need to be on the same page about what <code>from</code> means in order to talk about a message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-12 18:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-12 18:09</div>
            <div class="timeline-body"><p>I think I'd be wary of that, it'd make more sense as a warning.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-12 18:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/run.rs</code>:136 on 2025-06-12 18:52</div>
            <div class="timeline-body"><p>context: if you have a bunch of requires-pythons and you intersect them together, and then you ask &quot;is this SPECIFIC version in that intersection&quot;, and the answer comes back &quot;no&quot;: there must exist at least one requires-python that, on its own, excluded that version.</p>
<p>(As an example, if you have 4 sources that specify <code>&gt;= 3.10</code>, <code>&gt;=3.11</code>, <code>&gt;= 3.12</code>, and <code>&lt;3.13</code> you get an intersection of <code>&gt;= 3.12, &lt;3.13</code> and your request for &quot;3.10&quot; fails. We can then go &quot;hey the things that specify <code>&gt;=3.11</code> and <code>&gt;=3.12</code> are the ones that are specifically incompatible&quot;.)</p>
<p>I'm making these error messages print out <em>all</em> requires-python (sources) that excluded the requested python. There are a few cases of this:</p>
<ul>
<li>there's only one requires-python and it excluded it, simple print that one</li>
<li>there's lots of requires-pythons, but one was more extreme and excluded it, simple print just that one</li>
<li>there's lots of requires-pythons, many excluded it, print all of those</li>
</ul>
<p>The idea here is the user can then go:</p>
<ul>
<li>oh i didn't need that thing =&gt; disable it somehow</li>
<li>ok but I needed that thing =&gt;<ul>
<li>change the version they request</li>
<li><em>OR</em> change the requires-python bound</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-06-12 19:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/lock.rs</code>:20664 on 2025-06-12 19:42</div>
            <div class="timeline-body"><p>yeah, like we have with sphinx in the issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-06-13 09:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/lock.rs</code>:20664 on 2025-06-13 09:59</div>
            <div class="timeline-body"><p>As far as i can tell, in the current tests, you could remove the <code>requires-python</code>, and it would continue working, so it would be good to have a case that breaks if the <code>requires-python</code> aren't there or aren't respected because the packages themselves don't support it, to bake the motivating use case into the test case. if we don't have the packages for this already, packse is great for modelling this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-13 18:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/src/commands/python/pin.rs</code>:326 on 2025-06-13 18:49</div>
            <div class="timeline-body"><p>Note: The python pin behaviour is messy enough that we're going to punt this to a followup.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-06-13 19:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv/tests/it/sync.rs</code>:400 on 2025-06-13 19:21</div>
            <div class="timeline-body"><p>This is now an opportunity for us to emit a Better diagnostic suggesting group-requires-python (let's make this a followup...).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-06-13 21:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @Gankra on 2025-06-13 22:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Gankra on 2025-06-13 22:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-06-13 22:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:43:21 UTC
    </footer>
</body>
</html>
