<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stable sorting of requirements.txt in universal mode - astral-sh/uv #5334</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Stable sorting of requirements.txt in universal mode</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/5334">#5334</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-07-23 14:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/konstin">@konstin</a> on 2024-07-23 14:22</div>
            <div class="timeline-body"><p>The <code>RequirementsTxtComparator</code> was written assuming there is one distribution per package name. This changed with the universal resolution, which allows multiple versions or urls for the same package name. The sorting we emitted for these new entries was incidental.</p>
<p>With this change, we properly sort these entries by name, version and then url in universal mode.</p>
<p>This is an output format change for <code>--universal</code> users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2024-07-23 14:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @konstin on 2024-07-23 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-07-23 14:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-07-23 14:46</div>
            <div class="timeline-body"><p>Not sure what's going on with those two CI jobs, but they are not related to changes in this PR</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2024-07-23 14:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-07-23 14:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-07-23 14:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:37:39 UTC
    </footer>
</body>
</html>
