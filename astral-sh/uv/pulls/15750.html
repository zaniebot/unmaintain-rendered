<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warn when using `uv_build` settings without `uv_build` - astral-sh/uv #15750</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Warn when using <code>uv_build</code> settings without <code>uv_build</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/15750">#15750</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-09-09 12:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>To help with cases such as https://github.com/astral-sh/uv/issues/15655.</p>
<p>A question is when to show this warning. I've used sources as a proxy as URL dependencies with enabled sources are likely those controlled by the user, and they include workspace and <code>git clone</code>d path dependencies.</p>
<p>The first commit is a refactoring, the second commit the implementation.</p>
<p>Fixes https://github.com/astral-sh/uv/issues/15740</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">error messages</span> added by @konstin on 2025-09-09 12:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">build-backend</span> added by @konstin on 2025-09-09 12:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-09-12 14:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-build-frontend/src/lib.rs</code>:604 on 2025-09-12 14:14</div>
            <div class="timeline-body"><p>One potential drawback is that we assume that all future versions will have <code>build-system = &quot;uv_build&quot;</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zsol">@zsol</a> approved on 2025-09-16 15:27</div>
            <div class="timeline-body"><p>I've been wanting to make this refactor for a while now</p>
<p><a href="https://gitme.me/image?url=https%3A%2F%2Fmedia2.giphy.com%2Fmedia%2FyyZRSvISN1vvW%2Fgiphy.gif&token=nice" data-gitmeme-token="nice"><img src="https://media2.giphy.com/media/yyZRSvISN1vvW/giphy.gif" title="Created by gitme.me with /nice"
        alt="nice"/></a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-16 15:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1061 on 2025-09-16 15:53</div>
            <div class="timeline-body"><p>Can we avoid warning multiple times here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-16 15:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1073 on 2025-09-16 15:53</div>
            <div class="timeline-body"><p>I think I'd cut some of this redundant text</p>
<pre><code class="language-suggestion">    warning: There are settings for `uv_build` defined in `tool.uv.build-backend`, but the project does not use the `uv_build` backend: [TEMP_DIR]/pyproject.toml
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1059 on 2025-09-16 15:54</div>
            <div class="timeline-body"><p>We might want to rephrase so it's clearer what we're referring to at the end, e.g., &quot;but the <code>uv_build</code> backend is not used by the project at: PATH&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-09-16 15:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-09-17 10:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1061 on 2025-09-17 10:50</div>
            <div class="timeline-body"><p>I need to figure our something that works despite the different paths</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/HACK55515">@HACK55515</a> on 2025-10-26 12:02</div>
            <div class="timeline-body"><p>aok -_-</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1061 on 2025-11-24 10:11</div>
            <div class="timeline-body"><p>I've removed the path, it's clearer this was got Git dependencies too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-11-24 10:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-build-frontend/src/lib.rs</code>:608 on 2025-12-03 13:09</div>
            <div class="timeline-body"><p>(I'm not sure I'd understand this comment without the context from this pull request review)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-12-03 13:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-12-03 13:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1147 on 2025-12-03 13:12</div>
            <div class="timeline-body"><p>Does it make sense to say &quot;<code>pyproject.toml</code> of&quot;? Isn't that the only place it can be defined?</p>
<p>Does it make sense to say the version? If it's first-party, isn't the version just noise? (and it's present in the built file name too if really helpful).</p>
<p>I think I'd be confused about what it means that it doesn't use uv_build, maybe it'd help to show the other backend?</p>
<p>I think I might say</p>
<blockquote>
<p>project-name defines settings for <code>uv_build</code> in <code>tool.uv.build-backend</code>, but does not use <code>uv_build</code> (<hint>)</p>
</blockquote>
<p>where <code>&lt;hint&gt;</code> is like</p>
<blockquote>
<p>(no <code>build-system</code> is defined)</p>
</blockquote>
<p>or</p>
<blockquote>
<p>(<code>build-system</code> uses <code>hatchling</code>)</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-12-11 14:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/tests/it/build_backend.rs</code>:1147 on 2025-12-11 14:50</div>
            <div class="timeline-body"><p>I've updated the hint to show only the package name and also show the actual build backend</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:44:40 UTC
    </footer>
</body>
</html>
