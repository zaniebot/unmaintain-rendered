<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add iOS support for Python discovery - astral-sh/uv #16686</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add iOS support for Python discovery</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/16686">#16686</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-11-11 11:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>iOS support exist nominally (https://github.com/astral-sh/uv/pull/15640), but Python discovery currently fails.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2025-11-11 11:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/henryiii">@henryiii</a> on 2025-11-11 15:51</div>
            <div class="timeline-body"><pre><code>Using CPython 3.13.9 interpreter at: /Library/Frameworks/Python.framework/Versions/3.13/bin/python3.13
Creating virtual environment at: /private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-y837m8qq/cp313-ios_arm64_iphoneos/build/venv
Activate with: source /private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-y837m8qq/cp313-ios_arm64_iphoneos/build/venv/bin/activate
error: Failed to inspect Python interpreter from active virtual environment at `/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-y837m8qq/cp313-ios_arm64_iphoneos/build/venv/bin/python3`
  Caused by: Querying Python at `/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-y837m8qq/cp313-ios_arm64_iphoneos/build/venv/bin/python3` failed with exit status exit status: 1
[stderr]
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
    import sys; sys.path = [&quot;/Users/runner/.cache/uv/.tmpjHV1nh&quot;] + sys.path; from python.get_interpreter_info import main; main()
                                                                                                                            ~~~~^^
  File &quot;/Users/runner/.cache/uv/.tmpjHV1nh/python/get_interpreter_info.py&quot;, line 581, in main
    os_and_arch = get_operating_system_and_architecture()
  File &quot;/Users/runner/.cache/uv/.tmpjHV1nh/python/get_interpreter_info.py&quot;, line 516, in get_operating_system_and_architecture
    version = platform.ios_ver().version.split(&quot;.&quot;)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'IOSVersionInfo' object has no attribute 'version'
</code></pre>
<p>(From https://github.com/pypa/cibuildwheel/pull/2586)</p>
<p>See https://github.com/python/cpython/blob/d890aba748e5213585f9f906888999227dc3fa9c/Lib/platform.py#L517-L521</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-11-11 17:02</div>
            <div class="timeline-body"><p>Could you try again with the fix?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-11-11 17:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-11-11 17:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-python/python/get_interpreter_info.py</code>:668 on 2025-11-11 17:14</div>
            <div class="timeline-body"><p>This looks like a formatter version mismatch</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/henryiii">@henryiii</a> on 2025-11-11 23:46</div>
            <div class="timeline-body"><p>Makes it past this part, I think!</p>
<pre><code>----------------------------- Captured stderr call -----------------------------
Using CPython 3.13.9 interpreter at: /Library/Frameworks/Python.framework/Versions/3.13/bin/python3.13
Creating virtual environment at: /private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv
Activate with: source /private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/bin/activate
error: Failed to inspect Python interpreter from active virtual environment at `/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/bin/python3`
  Caused by: Querying Python at `/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/bin/python3` returned an invalid response: missing field `simulator`

[stdout]
{&quot;result&quot;: &quot;success&quot;, &quot;markers&quot;: {&quot;implementation_name&quot;: &quot;cpython&quot;, &quot;implementation_version&quot;: &quot;3.13.9&quot;, &quot;os_name&quot;: &quot;posix&quot;, &quot;platform_machine&quot;: &quot;arm64&quot;, &quot;platform_python_implementation&quot;: &quot;CPython&quot;, &quot;platform_release&quot;: &quot;13.0&quot;, &quot;platform_system&quot;: &quot;iOS&quot;, &quot;platform_version&quot;: &quot;&quot;, &quot;python_full_version&quot;: &quot;3.13.9&quot;, &quot;python_version&quot;: &quot;3.13&quot;, &quot;sys_platform&quot;: &quot;ios&quot;}, &quot;sys_base_prefix&quot;: &quot;/Users/runner/Library/Caches/cibuildwheel/Python-3.13-iOS-support.b12/Python.xcframework/ios-arm64&quot;, &quot;sys_base_exec_prefix&quot;: &quot;/Users/runner/Library/Caches/cibuildwheel/Python-3.13-iOS-support.b12/Python.xcframework/ios-arm64&quot;, &quot;sys_prefix&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv&quot;, &quot;sys_base_executable&quot;: &quot;/Library/Frameworks/Python.framework/Versions/3.13/bin/python3.13&quot;, &quot;sys_executable&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/bin/python3&quot;, &quot;sys_path&quot;: [&quot;/Library/Frameworks/Python.framework/Versions/3.13/lib/python313.zip&quot;, &quot;/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13&quot;, &quot;/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/lib-dynload&quot;, &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/lib/python3.13/site-packages&quot;], &quot;site_packages&quot;: [&quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/lib/python3.13/site-packages&quot;], &quot;stdlib&quot;: &quot;/Users/runner/Library/Caches/cibuildwheel/Python-3.13-iOS-support.b12/Python.xcframework/ios-arm64/lib/python3.13&quot;, &quot;standalone&quot;: false, &quot;scheme&quot;: {&quot;platlib&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/lib/python3.13/site-packages&quot;, &quot;purelib&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/lib/python3.13/site-packages&quot;, &quot;include&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/include/site/python3.13&quot;, &quot;scripts&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv/bin&quot;, &quot;data&quot;: &quot;/private/var/folders/6c/pzd640_546q6_yfn24r65c_40000gn/T/cibw-run-t2e7gdvz/cp313-ios_arm64_iphoneos/build/venv&quot;}, &quot;virtualenv&quot;: {&quot;purelib&quot;: &quot;lib/python3.13/site-packages&quot;, &quot;platlib&quot;: &quot;lib/python3.13/site-packages&quot;, &quot;include&quot;: &quot;include/site/python3.13&quot;, &quot;scripts&quot;: &quot;bin&quot;, &quot;data&quot;: &quot;&quot;}, &quot;platform&quot;: {&quot;os&quot;: {&quot;name&quot;: &quot;ios&quot;, &quot;major&quot;: 13, &quot;minor&quot;: 0}, &quot;arch&quot;: &quot;iphoneos&quot;}, &quot;manylinux_compatible&quot;: false, &quot;gil_disabled&quot;: false, &quot;debug_enabled&quot;: false, &quot;pointer_size&quot;: &quot;64&quot;}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2025-11-12 11:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-11-12 11:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-12 11:03</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:45:16 UTC
    </footer>
</body>
</html>
