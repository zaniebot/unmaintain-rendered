<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invalidate interpreter marker cache - astral-sh/uv #529</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Invalidate interpreter marker cache</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/529">#529</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-12-03 22:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-03 22:22</div>
            <div class="timeline-body"><p>In a refactor, we lost the cache invalidation behavior for interpreter markers, leading to stale interpreter errors for me when creating environments with different Python versions. Specifically, the modification timestamp used to be part of the <em>cache key</em> when we used <code>cacache</code>. Now it's not -- but it's stored within the cache. So we need to validate the key after-the-fact.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-12-03 22:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-12-03 22:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-12-03 22:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-12-03 22:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 15:45:06 UTC
    </footer>
</body>
</html>
