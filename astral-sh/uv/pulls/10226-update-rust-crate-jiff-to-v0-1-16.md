```yaml
number: 10226
title: Update Rust crate jiff to v0.1.16
type: pull_request
state: merged
author: renovate
labels:
  - internal
assignees: []
merged: true
base: main
head: renovate/jiff-0.x-lockfile
created_at: 2024-12-30T02:24:22Z
updated_at: 2024-12-30T02:55:17Z
url: https://github.com/astral-sh/uv/pull/10226
synced_at: 2026-01-10T11:44:39Z
```

# Update Rust crate jiff to v0.1.16

---

_Pull request opened by @renovate on 2024-12-30 02:24_

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [jiff](https://redirect.github.com/BurntSushi/jiff) | workspace.dependencies | patch | `0.1.15` -> `0.1.16` |

---

### Release Notes

<details>
<summary>BurntSushi/jiff (jiff)</summary>

### [`v0.1.16`](https://redirect.github.com/BurntSushi/jiff/blob/HEAD/CHANGELOG.md#0116-2024-12-26)

[Compare Source](https://redirect.github.com/BurntSushi/jiff/compare/0.1.15...0.1.16)

\===================
This release includes a new `jiff::fmt::friendly` module for formatting and
parsing durations in a more human readable format than what ISO 8601 specifies.
ISO 8601 remains the "default" duration format in Jiff due to its widespread
support. Here are some examples:

```text
40d
40 days
1y1d
1yr 1d
3d4h59m
3 days, 4 hours, 59 minutes
3d 4h 59m
2h30m
2h 30m
1mo
1w
1 week
1w4d
1 wk 4 days
1m
0.0021s
0s
0d
0 days
3 mins 34s 123ms
3 mins 34.123 secs
3 mins 34,123s
1y1mo1d1h1m1.1s
1yr 1mo 1day 1hr 1min 1.1sec
1 year, 1 month, 1 day, 1 hour, 1 minute 1.1 seconds
1 year, 1 month, 1 day, 01:01:01.1
```

To quickly demonstrate this new feature, here's a simple CLI program using
Clap:

```rust,no_run
use clap::Parser;
use jiff::{Span, Zoned};

#[derive(Parser, Debug)]

#[command(version, about, long_about = None)]
struct Args {
    duration: Span,
}

fn main() {
    let args = Args::parse();
    println!("adding duration to now: {}", &Zoned::now() + args.duration);
}
```

And running the program:

```text
$ cargo run -q -- '1 year, 2 months, 5 hours'
adding duration to now: 2026-02-26T18:58:22-05:00[America/New_York]
$ cargo run -q -- 'P1Y2MT5H'  # ISO 8601 durations are supported too!
adding duration to now: 2026-02-26T19:00:57-05:00[America/New_York]
```

With Jiff, you should no longer need to pull in crates like
[`humantime`](https://docs.rs/humantime) and
[`humantime-serde`](https://docs.rs/humantime-serde)
to accomplish a similar task.

While this new format doesn't support any kind of internationalization, the
prevalence of the `humantime` crate suggests there's a desire for something
like this. The "friendly" format is meant to service all the same use cases
as `humantime` does for durations, but in a way that doesn't let you shoot
yourself in the foot.

The new "friendly" format is now the default for the `Debug` implementations
of both `Span` and `SignedDuration`. It's also available via the "alternate"
`Display` implementations for `Span` and `SignedDuration` as well. Moreover,
the `FromStr` trait implementations for both `Span` and `SignedDuration` will
parse *both* the ISO 8601 duration and this new "friendly" format. Finally,
when `serde` integration is enabled, the `Deserialize` implementations for
`SignedDuration` and `Span` also automatically parse either ISO 8601 or the
friendly format. For serialization, ISO 8601 remains the default, but the
`jiff::fmt::serde` module provides easy to use helpers to switch to the
friendly format.

The `jiff::fmt::friendly` module documentation provides many more details,
including a complete grammar for the format.

Enhancements:

-   [#&#8203;143](https://redirect.github.com/BurntSushi/jiff/pull/143):
    Add `Hash` implementation for `Zoned` and `Timestamp`.

Bug fixes:

-   [#&#8203;60](https://redirect.github.com/BurntSushi/jiff/issues/60):
    Use a better `Debug` output format for `SignedDuration` and `Span`.
-   [#&#8203;111](https://redirect.github.com/BurntSushi/jiff/issues/111):
    Add a new "friendly" duration format.
-   [#&#8203;138](https://redirect.github.com/BurntSushi/jiff/issues/138):
    Fix deserialization in `serde_yml` and `serde_yaml` crates.
-   [#&#8203;161](https://redirect.github.com/BurntSushi/jiff/pull/161):
    Fix `serde` dependency configuration so that it builds in no-std mode.

</details>

---

### Configuration

ðŸ“… **Schedule**: Branch creation - "before 4am on Monday" (UTC), Automerge - At any time (no schedule defined).

ðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

â™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

ðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR was generated by [Mend Renovate](https://mend.io/renovate/). View the [repository job log](https://developer.mend.io/github/astral-sh/uv).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS44NS4wIiwidXBkYXRlZEluVmVyIjoiMzkuODUuMCIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiaW50ZXJuYWwiXX0=-->


---

_Label `internal` added by @renovate[bot] on 2024-12-30 02:24_

---

_Merged by @charliermarsh on 2024-12-30 02:55_

---

_Closed by @charliermarsh on 2024-12-30 02:55_

---

_Branch deleted on 2024-12-30 02:55_

---
