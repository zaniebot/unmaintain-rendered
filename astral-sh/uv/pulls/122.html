<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Install source distribution requirements with puffin itself instead of pip - astral-sh/uv #122</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Install source distribution requirements with puffin itself instead of pip</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/122">#122</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-10-18 19:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>This is also a lot faster. Unfortunately it copies a lot of code from the sync cli since the <code>Printer</code> is private.</p>
<p>The first commit are some refactorings i made when i thought about how i could reuse the existing code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-18 19:08</div>
            <div class="timeline-body"><p>Perf numbers:</p>
<pre><code class="language-console">$ /home/konsti/projects/puffin/crates/puffin-build/test.sh
    Finished dev [unoptimized + debuginfo] target(s) in 0.07s
     Running `/home/konsti/projects/puffin/target/debug/puffin-build --wheels wheels downloads/tqdm-4.66.1.tar.gz`
2023-10-18T19:08:22.153016Z DEBUG puffin_build: Unpacking for build downloads/tqdm-4.66.1.tar.gz
2023-10-18T19:08:22.159925Z  INFO extract_archive: puffin_build: close time.busy=6.85ms time.idle=7.50µs
2023-10-18T19:08:22.163314Z DEBUG resolve_and_install: puffin_build: Installing 3 build requirements
2023-10-18T19:08:22.200051Z  INFO resolve_and_install: puffin_build: close time.busy=36.7ms time.idle=59.7µs
2023-10-18T19:08:22.200079Z DEBUG puffin_build: Calling `setuptools.build_meta.get_requires_for_build_wheel()`
2023-10-18T19:08:22.426338Z  INFO run_python_script{python_interpreter=&quot;/tmp/.tmpTzccP5/.venv/bin/python&quot;}: puffin_build: close time.busy=226ms time.idle=6.10µs
2023-10-18T19:08:22.426444Z DEBUG build{wheel_dir=&quot;wheels&quot;}: puffin_build: Calling `setuptools.build_meta.build_wheel(metadata_directory=None)`
2023-10-18T19:08:22.537135Z  INFO build{wheel_dir=&quot;wheels&quot;}:run_python_script{python_interpreter=&quot;/tmp/.tmpTzccP5/.venv/bin/python&quot;}: puffin_build: close time.busy=111ms time.idle=5.50µs
2023-10-18T19:08:22.537191Z  INFO build{wheel_dir=&quot;wheels&quot;}: puffin_build: close time.busy=111ms time.idle=3.34µs
Wheel built to /home/konsti/projects/puffin/crates/puffin-build/wheels/tqdm-4.66.1-py3-none-any.whl
2023-10-18T19:08:22.540709Z DEBUG puffin_build: Took 388ms
    Finished dev [unoptimized + debuginfo] target(s) in 0.06s
     Running `/home/konsti/projects/puffin/target/debug/puffin-build --wheels wheels downloads/geoextract-0.3.1.tar.gz`
2023-10-18T19:08:22.632965Z DEBUG puffin_build: Unpacking for build downloads/geoextract-0.3.1.tar.gz
2023-10-18T19:08:22.634100Z  INFO extract_archive: puffin_build: close time.busy=1.08ms time.idle=6.77µs
2023-10-18T19:08:22.634362Z DEBUG resolve_and_install: puffin_build: Installing 3 build requirements
2023-10-18T19:08:22.692932Z  INFO resolve_and_install: puffin_build: close time.busy=58.5ms time.idle=49.8µs
2023-10-18T19:08:22.835477Z  INFO build{wheel_dir=&quot;wheels&quot;}: puffin_build: close time.busy=142ms time.idle=8.86µs
Wheel built to /home/konsti/projects/puffin/crates/puffin-build/wheels/geoextract-0.3.1-py3-none-any.whl
2023-10-18T19:08:22.841334Z DEBUG puffin_build: Took 208ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2023-10-18 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2023-10-18 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-10-18 19:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:34:32 UTC
    </footer>
</body>
</html>
