<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a link to the Concepts &gt; Build systems page to 'uv init --build-backend` documentation (#11502) - astral-sh/uv #12017</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add a link to the Concepts &gt; Build systems page to 'uv init --build-backend` documentation (#11502)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/12017">#12017</a>
        opened by <a href="https://github.com/dd-ssc">@dd-ssc</a>
        on 2025-03-06 19:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/dd-ssc">@dd-ssc</a> on 2025-03-06 19:09</div>
            <div class="timeline-body"><!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>~~Amend user documentation with details on <code>uv init</code> build backend defaults.
Doc caveat: Omitting <code>--build-backend</code> and passing <code>--build-backend hatch</code> do not result in identical projects.~~</p>
<p>Amending pull request with better approach:
Add a link to the Concepts &gt; Build systems page to 'uv init --build-backend` documentation.
This works, but I'm not sure how happy developers are about markdown links in the code ü§∑üèª‚Äç‚ôÇÔ∏è.</p>
<p>Second attempt at submitting a PR; see first attempt https://github.com/astral-sh/uv/pull/12011 for some comments.</p>
<h2>Test Plan</h2>
<p>Following the instructions in <a href="https://github.com/astral-sh/uv/blob/main/CONTRIBUTING.md#documentation">CONTRIBUTING.md#documentation</a>:</p>
<ul>
<li>run <code>cargo dev generate-all</code></li>
<li>run the doc dev server</li>
<li>add my changes</li>
<li>inspect the result in a browser: Looks ok ‚úÖ.</li>
<li>run <code>npx prettier --prose-wrap always --write &quot;**/*.md&quot;</code></li>
</ul>
<h2>Updated Test Plan</h2>
<p>It seems the instructions don't mention the CLI reference section getting generated from Rust code: I modified the <code>.md</code> file directly and that caused some PR checks to fail üôà. New plan:</p>
<ul>
<li>add the new documentation to <code>crates/uv-cli/src/lib.rs</code></li>
<li>run <code>cargo dev generate-cli-reference</code></li>
<li>run the doc dev server</li>
<li>inspect the result in a browser: Looks ok ‚úÖ.</li>
<li>run <code>npx prettier --prose-wrap always --write &quot;**/*.md&quot;</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-03-07 14:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-cli/src/lib.rs</code>:2613 on 2025-03-07 14:17</div>
            <div class="timeline-body"><p>This is a consequence of &quot;Implicitly sets <code>--package</code>.&quot;, as only packaged projects have a build backend, as of now. (This may change with the uv build backend becoming the default). Maybe we need to phrase it the other way round: If not set explicitly and the project is non-packaged, the default is no build-system entry.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add doc on 'uv init --build-backend` default and caveat (#11502)" to "Add a link to the Concepts > Build systems page to 'uv init --build-backend` documentation (#11502)" by @dd-ssc on 2025-03-09 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dd-ssc">@dd-ssc</a> reviewed on 2025-03-09 18:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dd-ssc">@dd-ssc</a> on <code>crates/uv-cli/src/lib.rs</code>:2613 on 2025-03-09 18:56</div>
            <div class="timeline-body"><p>I have learned in the mean time that <em>If not passed, uv will use <code>hatch</code></em> is indeed not correct; the rest might be true, but is missing the point; things are a little more involved than I initially understood.</p>
<p>A possibly better way forward: Replace my earlier changes by a link to the appropriate section in the <em>Concepts</em> chapter so people new to the project know where to look.</p>
<details>
  <summary>Details</summary>

<p>(For some reason, my comments tend to get far longer than intended ü•¥ --&gt; adding a TL;DR above and hiding this in details block to keep things concise.)</p>
<blockquote>
<p>This is a consequence of &quot;Implicitly sets <code>--package</code>.&quot;, as only packaged projects have a build backend, as of now. (This may change with the uv build backend becoming the default). Maybe we need to phrase it the other way round: If not set explicitly and the project is non-packaged, the default is no build-system entry.</p>
</blockquote>
<p>I'm afraid you've somewhat lost me there ü•¥. Please remember: I'm a not a uv developer, but a newbie uv user.</p>
<p>To give you an idea of the extent of my cluelessness: I have never heard of most of the build backends listed by <code>uv init --help</code>; in the last 20+ years of commercial python development, I never had to. Also, this is not something I am concerned with when starting out with uv.</p>
<p>Maybe it helps to look at the user experience of the first 10 minutes of getting started with uv as it was for me - and as it possibly is for many new users:</p>
<ol>
<li>I take a quick look at <a href="https://docs.astral.sh/uv/getting-started/installation">Installing uv</a> and run</li>
</ol>
<pre><code class="language-shell">$ brew install uv
   ...
</code></pre>
<ol start="2">
<li>I check <a href="https://docs.astral.sh/uv/guides/projects#creating-a-new-project">Creating a new project</a> and run</li>
</ol>
<pre><code class="language-shell">$ uv init &lt;name of my project&gt;
   ...
</code></pre>
<ol start="3">
<li>I add configuration to the generated <code>pyproject.toml</code> as needed for my project, possibly copying / adapting things from an existing project. Most of the standard stuff is somewhat straight forward (<code>authors</code>, <code>dependencies</code>, <code>description</code>, etc.); I build the project to verify things work as expected:</li>
</ol>
<pre><code class="language-shell">$ uv build
   ...
</code></pre>
<ol start="4">
<li><p>I want to configure &quot;non-standard&quot; things; adding non-source files to the package in my case. At this stage I figure the required setting probably depends on the build backend. However, there is no information on which build backend is actually used. Also, I realize there isn't even a <code>[build-system]</code> in the generated <code>pyproject.toml</code> at all ü§®.</p>
</li>
<li><p>I post an <a href="https://github.com/astral-sh/uv/issues/11502">issue, asking for help</a>.</p>
</li>
<li><p>Someone has to spend time to <a href="https://github.com/astral-sh/uv/issues/11502#issuecomment-2695259348">write a response</a> to help me out - thanks again, @konstin üôèüèª.</p>
<p>It is only now that I have all the info I need to continue: I head over to the <a href="https://hatch.pypa.io/latest/config/build">hatch docs</a>, read up and can get on with my work üòå. Of course, the additional info provided by @konstin also helped a great deal üëç.</p>
</li>
<li><p>I create two quick test projects using <code>uv init</code> and <code>uv init --build-backend hatch</code> and am surprised they don't produce the same results: Apparently, I misinterpreted <em>hatchling, our default with <code>uv init</code></em> as <em>if no <code>--build-backend</code> argument is passed, then <code>hatch</code> is used as default argument</em>.</p>
</li>
<li><p>In order to prevent that anyone in the future needs to overcome the same obstacles while getting started with uv, I amend the documentation with what I learned and observed and submit this PR.</p>
</li>
</ol>
<hr />
<p>It is only now as I write this comment that I find the time to dig a little deeper and look into e.g. <a href="https://docs.astral.sh/uv/concepts/projects/config/#build-systems">Build systems</a> - after all, who reads a section titled <em>Concepts</em> when they're only starting out with a new tool ?</p>
<p>My key learning from this: <code>uv init</code> alone creates a <code>pyproject.toml</code> that makes <code>uv</code> do stuff that uv developers possibly understand, but I don't --&gt; always use <code>uv init --build-backend hatch</code> to create new projects.</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-03-09 19:33</div>
            <div class="timeline-body"><p>Unfortunately we can't add links like this, because it'll be present in the <code>uv help</code> output in the CLI. We still haven't decided on the best way to support links from the reference to the rest of the documentation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dd-ssc">@dd-ssc</a> on 2025-03-10 05:52</div>
            <div class="timeline-body"><p>Yeah, I thought as much.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dd-ssc on 2025-03-10 05:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:21 UTC
    </footer>
</body>
</html>
