<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publish to DockerHub - astral-sh/uv #14088</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Publish to DockerHub</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/14088">#14088</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-06-16 19:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>The primary motivation here is to avoid confusion with non-official repositories, e.g., https://github.com/astral-sh/uv/issues/13958 which could lead to attacks against our users.</p>
<p>Resolves</p>
<ul>
<li>https://github.com/astral-sh/uv/issues/12679</li>
<li>#8699</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">releases</span> added by @zanieb on 2025-06-16 19:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @zanieb on 2025-06-17 01:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-17 01:25</div>
            <div class="timeline-body"><p>The test plan here is unclear to me, I might release these from a fork and just delete the images?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @Gankra by @zanieb on 2025-06-17 01:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @samypr100 by @zanieb on 2025-06-17 01:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @Gankra by @zanieb on 2025-06-17 01:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samypr100">@samypr100</a> on 2025-06-17 02:31</div>
            <div class="timeline-body"><p>I think <code>docker-retag-base</code> should be skipped when publishing to docker hub, or at least filter out the new <code>docker.io/astral/uv</code> tags that will show up in <code>needs.docker-publish-base.outputs.image-tags</code> unless the intent is to do the re-push for both?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-17 13:24</div>
            <div class="timeline-body"><blockquote>
<p>I think <code>docker-retag-base</code> should be skipped when publishing to docker hub, or at least filter out the new <code>docker.io/astral/uv</code> tags that will show up in <code>needs.docker-publish-base.outputs.image-tags</code> unless the intent is to do the re-push for both?</p>
</blockquote>
<p>I was wondering that. I'm not sure if it matters? It seems easy enough to skip it, so I added it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>.github/workflows/build-docker.yml</code>:93 on 2025-06-17 14:13</div>
            <div class="timeline-body"><p>oh boy back in my element with github ci yml fake-js ternary exprs</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>.github/workflows/build-docker.yml</code>:90 on 2025-06-17 14:14</div>
            <div class="timeline-body"><p>Wait why is this comment obsolete but the code didn't change?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>.github/workflows/build-docker.yml</code>:273 on 2025-06-17 14:18</div>
            <div class="timeline-body"><p>Is there a reason to not attest the other image? Only github's hub cares about this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> approved on 2025-06-17 14:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Gankra">@Gankra</a> on 2025-06-17 14:22</div>
            <div class="timeline-body"><p>The nice thing about testing this live is that the docker publish stuff runs during the build step, so if the docker releases bomb out we will only have docker images to mop up and not like, pypi.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-17 14:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/build-docker.yml</code>:273 on 2025-06-17 14:32</div>
            <div class="timeline-body"><p>uhh maybe we should attest the DockerHub ones, I'm not sure how if it works tbh.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-17 14:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/build-docker.yml</code>:90 on 2025-06-17 14:32</div>
            <div class="timeline-body"><p>I can restore that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-17 14:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/build-docker.yml</code>:90 on 2025-06-17 14:33</div>
            <div class="timeline-body"><p>The latter block does not have the comment, so I think I just made them the same. It's sort of apparent? idk.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/samypr100">@samypr100</a> reviewed on 2025-06-18 03:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/samypr100">@samypr100</a> on <code>.github/workflows/build-docker.yml</code>:273 on 2025-06-18 03:16</div>
            <div class="timeline-body"><p>It would be a tad different as we'd have to use <code>push-to-registry: true</code> for DockerHub alongside with subject name must start with <code>index.docker.io</code> rather than <code>docker.io</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/samypr100">@samypr100</a> approved on 2025-06-18 03:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-18 12:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/build-docker.yml</code>:273 on 2025-06-18 12:06</div>
            <div class="timeline-body"><p>I think I'd prefer to do that afterwards</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-06-18 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-06-18 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-06-18 16:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:43:37 UTC
    </footer>
</body>
</html>
