<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple entries in PUFFIN_PYTHON_PATH for windows tests - astral-sh/uv #1254</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Multiple entries in PUFFIN_PYTHON_PATH for windows tests</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/1254">#1254</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-02-05 22:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>There are no binary installers for the latests patch versions of cpython for windows, and building them is hard. As an alternative, we download python-build-standanlone cpythons and put them into <code>&lt;project root&gt;/bin</code>. On unix, we can symlink <code>pythonx.y.z</code> into this directory and point <code>PUFFIN_PYTHON_PATH</code> to it. On windows, all pythons are called <code>python.exe</code> and they don&#x27;t like being linked. Instead, we add the path to each directory containing a <code>python.exe</code> to <code>PUFFIN_PYTHON_PATH</code>, similar to the regular <code>PATH</code>. The python discovery on windows was extended to respect <code>PUFFIN_PYTHON_PATH</code> where needed.</p>
<p>These changes mean that we don&#x27;t need to (sym)link pythons anymore and could drop that part to the script.</p>
<p>435 tests run: 389 passed (21 slow), 46 failed, 1 skipped</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by <a href="https://github.com/konstin">@konstin</a> on 2024-02-05 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/konstin">@konstin</a> on 2024-02-05 22:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/konstin">@konstin</a> on 2024-02-05 22:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-02-06 19:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/konstin">@konstin</a> on 2024-02-06 19:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2024-02-06 19:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-02-06 19:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:43:32 UTC
    </footer>
</body>
</html>
