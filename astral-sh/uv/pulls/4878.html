<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Rust crate windows to 0.58.0 - autoclosed - astral-sh/uv #4878</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update Rust crate windows to 0.58.0 - autoclosed</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/4878">#4878</a>
        opened by <a href="https://github.com/renovate">@renovate</a>
        on 2024-07-08 00:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/renovate">@renovate</a></div>
            <div class="timeline-body"><p><a href="https://renovatebot.com"><img src="https://app.renovatebot.com/images/banner.svg" alt="Mend Renovate"></a></p>
<p>This PR contains the following updates:</p>
<p>| Package | Type | Update | Change |
|---|---|---|---|
| <a href="https://togithub.com/microsoft/windows-rs">windows</a> | dependencies | minor | <code>0.57.0</code> -&gt; <code>0.58.0</code> |</p>
<hr>
Release Notes

microsoft/windows-rs (windows)

<a href="https://togithub.com/microsoft/windows-rs/releases/tag/0.58.0"><code>v0.58.0</code></a>
<p><a href="https://togithub.com/microsoft/windows-rs/compare/0.57.0...0.58.0">Compare Source</a></p>
<p>This release includes updates to metadata for new or fixed API definitions (<a href="https://togithub.com/microsoft/windows-rs/issues/3111">#â€‹3111</a>, <a href="https://togithub.com/microsoft/windows-rs/issues/3136">#â€‹3136</a>), various improvements and fixes to code generation, compliance with new Rust warnings, additional COM authoring support improvements (<a href="https://togithub.com/microsoft/windows-rs/issues/3065">#â€‹3065</a>), limited non-Windows support (<a href="https://togithub.com/microsoft/windows-rs/issues/3135">#â€‹3135</a>), and more.</p>
<p>It includes major updates to the following crates, mainly due to breaking changes in metadata for API definitions.</p>
<ul>
<li><code>riddle</code> 0.58.0</li>
<li><code>windows</code> 0.58.0</li>
<li><code>windows-bindgen</code> 0.58.0</li>
<li><code>windows-core</code> 0.58.0</li>
<li><code>windows-implement</code> 0.58.0</li>
<li><code>windows-interface</code> 0.58.0</li>
<li><code>windows-metadata</code> 0.58.0</li>
</ul>
<p>It also includes major updates to the following utility crates.</p>
<ul>
<li><code>windows-result</code> 0.2.0</li>
<li><code>windows-registry</code> 0.2.0</li>
</ul>
<p>The <code>windows-result</code> crate now provides limited non-Windows support, and the <code>windows-registry</code> crate offers new lossless queries for binary and wide string values.</p>
<p>And it includes minor updates to the <code>windows-targets</code> crates, with the addition of several new APIs.</p>
<ul>
<li><code>windows-targets</code> 0.52.6</li>
</ul>
<p>This release also includes the first published version of the <code>windows-strings</code> crate, moving the string types from the <code>windows-core</code> crate into a dedicated crate as a smaller dependency. It also offers an efficient <code>HSTRING</code> builder (<a href="https://togithub.com/microsoft/windows-rs/issues/3133">#â€‹3133</a>).</p>
<p>To clarify, the only crates that continue to support limited non-Windows builds are:</p>
<ul>
<li><code>windows-bindgen</code> and <code>windows-metadata</code> for code generation on non-Windows platforms.</li>
<li><code>windows-core</code> and <code>windows-result</code> for COM support on non-Windows platforms.</li>
</ul>
What&#x27;s Changed
<ul>
<li>Fix default <code>rustfmt</code> for repo by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3084">https://github.com/microsoft/windows-rs/pull/3084</a></li>
<li>Simplify standalone test by calling <code>windows-bindgen</code> directly by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3086">https://github.com/microsoft/windows-rs/pull/3086</a></li>
<li>Disable docs and tests for test crates by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3085">https://github.com/microsoft/windows-rs/pull/3085</a></li>
<li>Simplify pointer writes in generated code by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3089">https://github.com/microsoft/windows-rs/pull/3089</a></li>
<li>Infer return type in generated bindings by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3090">https://github.com/microsoft/windows-rs/pull/3090</a></li>
<li>Allow <code>windows-result</code> to work on non-Windows platforms by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3082">https://github.com/microsoft/windows-rs/pull/3082</a></li>
<li>Change tests/standalone so that a tool regenerates its sources by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3091">https://github.com/microsoft/windows-rs/pull/3091</a></li>
<li>Bump braces from 3.0.2 to 3.0.3 in /web/features by <a href="https://togithub.com/dependabot">@â€‹dependabot</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3092">https://github.com/microsoft/windows-rs/pull/3092</a></li>
<li>Use malloc on non-Windows platforms by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3095">https://github.com/microsoft/windows-rs/pull/3095</a></li>
<li>COM interface impls move from MyApp to MyApp_Impl (&quot;outer&quot; object) by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3065">https://github.com/microsoft/windows-rs/pull/3065</a></li>
<li>Workaround for false dead code warning by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3098">https://github.com/microsoft/windows-rs/pull/3098</a></li>
<li>The <code>Debug</code> derive macro does not need to be qualified by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3097">https://github.com/microsoft/windows-rs/pull/3097</a></li>
<li>Harden detection of missing nested types by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3099">https://github.com/microsoft/windows-rs/pull/3099</a></li>
<li>Use tools to generate bindings for library crates by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3102">https://github.com/microsoft/windows-rs/pull/3102</a></li>
<li>Allow <code>unused</code> to deal with new warning about &quot;unused&quot; private fields in structs  by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3103">https://github.com/microsoft/windows-rs/pull/3103</a></li>
<li>Remove <code>mio</code> dependency by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3107">https://github.com/microsoft/windows-rs/pull/3107</a></li>
<li>Support some edge cases for the next Win32 metadata update by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3109">https://github.com/microsoft/windows-rs/pull/3109</a></li>
<li>Simplify how extension code for <code>windows</code> crate works by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3110">https://github.com/microsoft/windows-rs/pull/3110</a></li>
<li>Directly invoke bindgen instead of recursively calling <code>cargo run ...</code> by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3113">https://github.com/microsoft/windows-rs/pull/3113</a></li>
<li>Update Win32 metadata by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3111">https://github.com/microsoft/windows-rs/pull/3111</a></li>
<li>Don&#x27;t compile <code>windows</code> and <code>windows-sys</code> in unit test mode by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3112">https://github.com/microsoft/windows-rs/pull/3112</a></li>
<li>Remove unused dependencies by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3117">https://github.com/microsoft/windows-rs/pull/3117</a></li>
<li>Test cross-compilation with stable gnullvm targets by <a href="https://togithub.com/mati865">@â€‹mati865</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3104">https://github.com/microsoft/windows-rs/pull/3104</a></li>
<li>Add flexible registry type and byte query support by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3120">https://github.com/microsoft/windows-rs/pull/3120</a></li>
<li>Remove unnecessary test cfg checks by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3124">https://github.com/microsoft/windows-rs/pull/3124</a></li>
<li>Add <code>windows-strings</code> crate by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3125">https://github.com/microsoft/windows-rs/pull/3125</a></li>
<li>Lock down <code>windows-core</code> internals by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3129">https://github.com/microsoft/windows-rs/pull/3129</a></li>
<li>Remove &quot;std&quot; writer from <code>windows-bindgen</code> by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3130">https://github.com/microsoft/windows-rs/pull/3130</a></li>
<li>Allow <code>Error</code> and <code>Result&lt;()&gt;</code> to be the same size as <code>HRESULT</code> by <a href="https://togithub.com/sivadeilra">@â€‹sivadeilra</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3126">https://github.com/microsoft/windows-rs/pull/3126</a></li>
<li>Remove boxing support from <code>windows-core</code> crate by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3131">https://github.com/microsoft/windows-rs/pull/3131</a></li>
<li>Use conventional testing for <code>windows_slim_errors</code> by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3132">https://github.com/microsoft/windows-rs/pull/3132</a></li>
<li>Clarify support for non-Windows targets by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3135">https://github.com/microsoft/windows-rs/pull/3135</a></li>
<li>Add <code>HSTRING</code> builder and registry support  by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3133">https://github.com/microsoft/windows-rs/pull/3133</a></li>
<li>Update Windows metadata to 10.0.26100.1 by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3136">https://github.com/microsoft/windows-rs/pull/3136</a></li>
<li>Implement <code>Send</code> and <code>Sync</code> for <code>Weak&lt;T&gt;</code> by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3138">https://github.com/microsoft/windows-rs/pull/3138</a></li>
<li>Remove <code>Future</code> implementation by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3142">https://github.com/microsoft/windows-rs/pull/3142</a></li>
<li>Ensure that <code>HSTRING</code> builder provides initialized memory by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3141">https://github.com/microsoft/windows-rs/pull/3141</a></li>
<li>Make new <code>windows-strings</code> crate Windows-only by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3143">https://github.com/microsoft/windows-rs/pull/3143</a></li>
<li>Release 0.58.0 by <a href="https://togithub.com/kennykerr">@â€‹kennykerr</a> in <a href="https://togithub.com/microsoft/windows-rs/pull/3140">https://github.com/microsoft/windows-rs/pull/3140</a></li>
</ul>
<p><strong>Full Changelog</strong>: https://github.com/microsoft/windows-rs/compare/0.57.0...0.58.0</p>


<hr>
Configuration
<p>ðŸ“… <strong>Schedule</strong>: Branch creation - &quot;before 4am on Monday&quot; (UTC), Automerge - At any time (no schedule defined).</p>
<p>ðŸš¦ <strong>Automerge</strong>: Disabled by config. Please merge this manually once you are satisfied.</p>
<p>â™» <strong>Rebasing</strong>: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.</p>
<p>ðŸ”• <strong>Ignore</strong>: Close this PR and you won&#x27;t be reminded about this update again.</p>
<hr>
<ul>
<li>[ ] If you want to rebase/retry this PR, check this box</li>
</ul>
<hr>
<p>This PR was generated by <a href="https://www.mend.io/free-developer-tools/renovate/">Mend Renovate</a>. View the <a href="https://developer.mend.io/github/astral-sh/uv">repository job log</a>.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2024-07-08 00:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Update Rust crate windows to 0.58.0&quot; to &quot;Update Rust crate windows to 0.58.0 - autoclosed&quot; by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2024-07-23 08:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2024-07-23 08:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-07-23 08:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:46:25 UTC
    </footer>
</body>
</html>
