<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unify editable and unnamed URL parsing - astral-sh/uv #3946</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unify editable and unnamed URL parsing</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/3946">#3946</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-05-31 20:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body">Summary
<p>This will help prevent bugs like #3934 by unifying the implementations for editables and non-editable unnamed requirements. Specifically, both of these now go through the same parsing paths and use the same struct representations (with the exception that the editable flag is flipped in the first case):</p>
<pre><code>-e ./foo/bar
./foo/bar
</code></pre>
<p>We also now support PEP 508 in editable URLs. It turns out this is just a limitation in pip, so it&#x27;s correct to support it. For example, this now works:</p>
<pre><code>-e black[d] @ file://${PROJECT_ROOT}/scripts/packages/black_editable
</code></pre>
<p>Closes #3941.</p>
<p>Closes #3942.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-31 20:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-31 20:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-31 20:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/pep508-rs/src/unnamed.rs</code>:379 on 2024-05-31 20:22</div>
            <div class="timeline-body"><p>Is it guaranteed that the parentheses are always balanced?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-05-31 20:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-31 20:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/pep508-rs/src/unnamed.rs</code>:379 on 2024-05-31 20:51</div>
            <div class="timeline-body"><p>Good call, thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2024-05-31 20:57</div>
            <div class="timeline-body"><a href="https://codspeed.io/astral-sh/uv/branches/charlie/editable-url">CodSpeed Performance Report</a>
Merging #3946 will <strong>improve performances by 6.5%</strong>
<p>Comparing <code>charlie/editable-url</code> (8146a88) with <code>main</code> (8c11f99)</p>
Summary
<p><code>⚡ 1</code> improvements
<code>✅ 12</code> untouched benchmarks</p>
Benchmarks breakdown
<p>|     | Benchmark | <code>main</code> | <code>charlie/editable-url</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ⚡ | <code>wheelname_tag_compatibility[flyte-short-incompatible]</code> | 955.8 ns | 897.5 ns | +6.5% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-31 21:03</div>
            <div class="timeline-body"><p>Deleted a few hundred lines of code but added a few hundred in tests and snapshots.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-31 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-31 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-05-31 21:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:45:37 UTC
    </footer>
</body>
</html>
