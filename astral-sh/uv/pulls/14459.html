<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `self update --output-format=json` - astral-sh/uv #14459</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support <code>self update --output-format=json</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/14459">#14459</a>
        opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a>
        on 2025-07-04 10:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Resolves #14455.</p>
<p><code>self update --output-format=json</code> outputs the result in JSON. The outputs <em>should</em> look like these:</p>
<pre><code class="language-jsonl">{&quot;result&quot;:&quot;offline&quot;}
{&quot;result&quot;:&quot;externally-installed&quot;}
{&quot;result&quot;:&quot;multiple-installations&quot;,&quot;current&quot;:&quot;/home/some/bin&quot;,&quot;other&quot;:&quot;/home/some/other/bin&quot;}
{&quot;result&quot;:&quot;github-rate-limit-exceeded&quot;}
{&quot;result&quot;:&quot;on-latest&quot;,&quot;version&quot;:&quot;0.7.19&quot;}
{&quot;result&quot;:&quot;would-update&quot;,&quot;from&quot;:&quot;0.7.18&quot;,&quot;to&quot;:&quot;latest&quot;}
{&quot;result&quot;:&quot;would-update&quot;,&quot;from&quot;:&quot;0.7.18&quot;,&quot;to&quot;:&quot;0.7.19&quot;}
{&quot;result&quot;:&quot;updated&quot;,&quot;from&quot;:null,&quot;to&quot;:&quot;0.7.19&quot;,&quot;tag&quot;:&quot;0.7.19&quot;}
{&quot;result&quot;:&quot;updated&quot;,&quot;from&quot;:&quot;0.7.18&quot;,&quot;to&quot;:&quot;0.7.19&quot;,&quot;tag&quot;:&quot;0.7.19&quot;}
</code></pre>
<h2>Test Plan</h2>
<p>Unit tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @InSyncWithFoo on 2025-07-04 10:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-07-04 11:30</div>
            <div class="timeline-body"><p>I'm not sure how to test the more important cases (<code>on-latest</code>, <code>would-update</code>, <code>updated</code>). Existing tests don't seem to cover them either.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @InSyncWithFoo on 2025-07-04 12:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:43:52 UTC
    </footer>
</body>
</html>
