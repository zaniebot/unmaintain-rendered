<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>docs(git): add subdirectory example - astral-sh/uv #10894</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>docs(git): add subdirectory example</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/10894">#10894</a>
        opened by <a href="https://github.com/mkniewallner">@mkniewallner</a>
        on 2025-01-23 12:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2025-01-23 12:29</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Closes #10889.</p>
<p>As kinda hinted in the issue, would adding a <code>--subdirectory</code> flag to <code>uv add</code> make sense? This would IMO be more discoverable.</p>
<h2>Test Plan</h2>
<p>Ran the command added to the documentation:</p>
<pre><code class="language-console">$ uv add git+https://github.com/langchain-ai/langchain#subdirectory=libs/langchain
Resolved 40 packages in 203ms
   Built langchain @ git+https://github.com/langchain-ai/langchain@f2ea62f63209130bfc56b1fe7d0fa7c299bbf352#subdirectory=libs/langchain
Prepared 19 packages in 837ms
Installed 37 packages in 14ms
[...]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-01-23 13:58</div>
            <div class="timeline-body"><p>Nice, thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2025-01-23 13:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-01-23 13:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @charliermarsh on 2025-01-23 13:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-01-23 13:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mickvangelderen">@mickvangelderen</a> on 2025-01-23 14:09</div>
            <div class="timeline-body"><blockquote>
<p>As kinda hinted in the issue, would adding a <code>--subdirectory</code> flag to <code>uv add</code> make sense? This would IMO be more discoverable.</p>
</blockquote>
<p>@mkniewallner You will have to refactor how unnamed package name resolution works. Currently the resolution works by checking out an URL which accepts this <code>#subdirectory=&lt;subdirectory&gt;</code> fragment.</p>
<p>The code here https://github.com/astral-sh/uv/commit/8a6fac04f55dcafacf684916aa4b972bc145d2fb does the easy part, passing around a subdirectory parameter, but you also need to figure out how to change this https://github.com/astral-sh/uv/blob/e3a09888abaa2cd504e7511b1bd38c1f4efc9c56/crates/uv/src/commands/project/add.rs#L256-L357.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:19 UTC
    </footer>
</body>
</html>
