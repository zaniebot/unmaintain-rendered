```yaml
number: 4986
title: "Exit with zero when `uv tool install` request is already satisfied"
type: pull_request
state: merged
author: billy-doyle
labels: []
assignees: []
merged: true
base: main
head: feat/uv-tool-exit-0
created_at: 2024-07-11T04:16:01Z
updated_at: 2024-07-12T00:43:31Z
url: https://github.com/astral-sh/uv/pull/4986
synced_at: 2026-01-10T13:42:52Z
```

# Exit with zero when `uv tool install` request is already satisfied

---

_Pull request opened by @billy-doyle on 2024-07-11 04:16_

<!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

## Summary

`uv tool install X` fails for tools already installed and exits with code 1. Allow already installed tools to exit with code 0.

## Test Plan

<!-- How was it tested? -->


---

_Comment by @zanieb on 2024-07-11 04:16_

In theory, there will be a test snapshot that will fail because of this change in `tool_install.rs`

---

_Comment by @billy-doyle on 2024-07-11 04:46_

@zanieb modified the tests

tested locally with `cargo test tool_install`. Are these "success: true exit_code: 0 ----- stdout ----- ..." autogenerated? I modified by hand but i did see in CONTRIBUTING.md `cargo dev generate-json-schema` although it did not fix anything there

---

_Comment by @zanieb on 2024-07-11 14:22_

@billy-doyle usually you'd do `cargo install cargo-insta` and `cargo insta test -- <test-name>`. I'm not sure why we don't cover that in the contributing guide! We ought to add it.

---

_Renamed from "feat/uv-tool-exit-0" to "Exit with zero when `uv tool install` request is already satisfied" by @zanieb on 2024-07-11 14:22_

---

_@zanieb approved on 2024-07-11 14:22_

---

_Review requested from @charliermarsh by @zanieb on 2024-07-11 14:22_

---

_Merged by @charliermarsh on 2024-07-12 00:43_

---

_Closed by @charliermarsh on 2024-07-12 00:43_

---
