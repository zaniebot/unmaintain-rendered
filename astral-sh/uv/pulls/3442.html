<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update activate_this.py to use runpy instead of exec in the docstring - astral-sh/uv #3442</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update activate_this.py to use runpy instead of exec in the docstring</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/3442">#3442</a>
        opened by <a href="https://github.com/FredStober">@FredStober</a>
        on 2024-05-07 23:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/FredStober">@FredStober</a></div>
            <div class="timeline-body">Summary
<p>runpy.run_path was added in python 2.7 and 3.2 - and every python that is not EOL supports it.</p>
<p>It is arguably nicer to read and the path is only given once in the command.</p>
<p>At least right now, runpy - unlike exec with S102 - is not flagged by any bandit-derived ruff check.
(I guess because it loads from a file instead of a simple string...)</p>
<p>Because of the import, it is also not a one-liner anymore. (But that could be fixed with an <strong>import</strong>(&#x27;runpy&#x27;).run_path...)</p>
Test Plan
<p>import runpy
runpy.run_path(&#x27;/path/to/venv/bin/activate_this.py&#x27;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-08 00:47</div>
            <div class="timeline-body"><p>Welcome to the project and thanks for contributing! I&#x27;m not sure this merits diverging from virtualenv â€” we copy these implementations from there and the less divergence we have the easier it is for us to maintain. Maybe it&#x27;d be worth checking if they&#x27;re interested in it upstream?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FredStober">@FredStober</a> on 2024-05-13 01:13</div>
            <div class="timeline-body"><p>The updated documentation was merged into the upstream virtualenv library - and this PR brings the same change to uv</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-05-13 01:14</div>
            <div class="timeline-body"><p>Thanks for taking this upstream!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 01:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 01:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:45:14 UTC
    </footer>
</body>
</html>
