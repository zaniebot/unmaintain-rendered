<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>optionally disable file locking - astral-sh/uv #13760</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>optionally disable file locking</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/13760">#13760</a>
        opened by <a href="https://github.com/CodeMan62">@CodeMan62</a>
        on 2025-06-01 12:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/CodeMan62">@CodeMan62</a> on 2025-06-01 12:30</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Closes #13626
this PR adds a <code>UV_UNSAFE_IGNORE_FLOCK</code> to disable file locking (flock) operations</p>
<h2>Test Plan</h2>
<p>manual testing</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-06-01 12:46</div>
            <div class="timeline-body"><!-- __CODSPEED_PERFORMANCE_REPORT_COMMENT__ -->

<!-- __CODSPEED_WALLTIME_PERFORMANCE_REPORT_COMMENT__ -->

<h2><a href="https://codspeed.io/astral-sh/uv/branches/CodeMan62%3Adisable-file-locking">CodSpeed Walltime Performance Report</a></h2>
<h3>Merging #13760 will <strong>improve performances by 15.79%</strong></h3>
<p><sub>Comparing <code>CodeMan62:disable-file-locking</code> (184fbca) with <code>main</code> (13a86a2)</sub></p>
<h3>Summary</h3>
<p><code>⚡ 1</code> improvements<br />
<code>✅ 11</code> untouched benchmarks</p>
<h3>Benchmarks breakdown</h3>
<p>|     | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ⚡ | <code>wheelname_parsing_failure[flyte-long-extension]</code> | 110 ns | 95 ns | +15.79% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-01 15:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:3601 on 2025-06-01 15:16</div>
            <div class="timeline-body"><p>This needs to be a global option if we're going to expose it in the CLI. I'd be tempted to just access the environment variable directly instead though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-static/src/env_vars.rs</code>:153 on 2025-06-01 15:16</div>
            <div class="timeline-body"><p>Just wondering, why &quot;IGNORE&quot; instead of &quot;DISABLE&quot;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-01 15:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @zanieb on 2025-06-01 15:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-01 15:17</div>
            <div class="timeline-body"><p>(Moving this to a draft because this option doesn't do anything yet)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CodeMan62">@CodeMan62</a> reviewed on 2025-06-01 15:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/CodeMan62">@CodeMan62</a> on <code>crates/uv-static/src/env_vars.rs</code>:153 on 2025-06-01 15:47</div>
            <div class="timeline-body"><p>this name was preffered in issue but let me change it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CodeMan62">@CodeMan62</a> on 2025-07-11 14:17</div>
            <div class="timeline-body"><p>closing as it was stale and also issue is closed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @CodeMan62 on 2025-07-11 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-07-11 14:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:55:36 UTC
    </footer>
</body>
</html>
