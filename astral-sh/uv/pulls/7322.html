<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `uv run -m foo` to run a module - astral-sh/uv #7322</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support <code>uv run -m foo</code> to run a module</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/7322">#7322</a>
        opened by <a href="https://github.com/j178">@j178</a>
        on 2024-09-12 04:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Resolves #6638</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @j178 on 2024-09-12 05:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/j178">@j178</a> on 2024-09-12 14:21</div>
            <div class="timeline-body"><p>I'm having trouble with the command <code>uv run -m venv -h</code>; the <code>-h</code> option is being interpreted by the global arguments of <code>uv</code> instead of being passed down to <code>venv</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-12 15:18</div>
            <div class="timeline-body"><p>Ah that's tough. I'm not sure if we can support passing arguments to modules in that way?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-12 15:18</div>
            <div class="timeline-body"><p>It seems like an argument against this interface since it's a bit ambiguous. I wonder if Clap even supports parsing the rest as a command?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eth3lbert">@eth3lbert</a> on 2024-09-12 16:21</div>
            <div class="timeline-body"><p>The simplest solution I could think of would be to make <code>-m</code> an <code>Option&lt;bool&gt;</code> (or bool with default_value?) flag with num_args=0 and an action that sets it to true. Then, we could simply leverage the command as external subcommand (args in this case) as before. However, I'm unsure how to guarantee that the command is followed by the <code>-m</code> flag exactly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @j178 on 2024-09-25 06:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:39:33 UTC
    </footer>
</body>
</html>
