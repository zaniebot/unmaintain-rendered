<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log which requirements were or weren't satisfied - astral-sh/uv #3319</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Log which requirements were or weren't satisfied</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/3319">#3319</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-04-30 09:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Previously, a noop <code>uv pip install</code> would only show &quot;Audited {} package(s)&quot; but no details, not even with <code>-vv</code>. Now it debug logs which requirements were met and it also debug logs which requirement was missing to trigger the full routine, allowing it investigate caching behaviour.</p>
<p>First <code>uv pip install -v jupyter</code>:</p>
<pre><code>DEBUG At least one requirement is not satisfied: jupyter
</code></pre>
<p>Second <code>uv pip install -v jupyter</code>:</p>
<pre><code>DEBUG Found a virtualenv named .venv at: /home/konsti/projects/uv-main/.venv
DEBUG Cached interpreter info for Python 3.12.1, skipping probing: .venv/bin/python
DEBUG Using Python 3.12.1 environment at .venv/bin/python
DEBUG Trying to lock if free: .venv/.lock
DEBUG Requirement satisfied: anyio
DEBUG Requirement satisfied: anyio&gt;=3.1.0
DEBUG Requirement satisfied: argon2-cffi-bindings
DEBUG Requirement satisfied: argon2-cffi&gt;=21.1
DEBUG Requirement satisfied: arrow&gt;=0.15.0
DEBUG Requirement satisfied: asttokens&gt;=2.1.0
DEBUG Requirement satisfied: async-lru&gt;=1.0.0
DEBUG Requirement satisfied: attrs&gt;=22.2.0
DEBUG Requirement satisfied: babel&gt;=2.10
...
DEBUG Requirement satisfied: webencodings
DEBUG Requirement satisfied: webencodings&gt;=0.4
DEBUG Requirement satisfied: websocket-client&gt;=1.7
DEBUG Requirement satisfied: widgetsnbextension~=4.0.10
DEBUG All editables satisfied: 
Audited 1 package in 12ms
</code></pre>
<p>This will clash with the <code>tool.uv.sources</code> PR, i'll rebase it on top.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2024-04-30 09:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-30 14:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-installer/src/site_packages.rs</code>:513 on 2024-04-30 14:58</div>
            <div class="timeline-body"><p>Should this derive debug and such?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-30 14:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-installer/src/site_packages.rs</code>:521 on 2024-04-30 14:59</div>
            <div class="timeline-body"><p>Can you add a comment as to why we only have one item here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-30 15:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/pip_install.rs</code>:189 on 2024-04-30 15:00</div>
            <div class="timeline-body"><p>Can we make these ones trace?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-installer/src/site_packages.rs</code>:296 on 2024-04-30 15:00</div>
            <div class="timeline-body"><p>This comment looks wrong</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-30 15:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-04-30 15:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-30 15:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/pip_install.rs</code>:189 on 2024-04-30 15:12</div>
            <div class="timeline-body"><p>I guess I'm actually okay with debug.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2024-04-30 15:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-installer/src/site_packages.rs</code>:513 on 2024-04-30 15:30</div>
            <div class="timeline-body"><p>Added a debug derive and a docstring</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2024-04-30 15:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv/src/commands/pip_install.rs</code>:189 on 2024-04-30 15:31</div>
            <div class="timeline-body"><p>These should stay debug messages, they are similar to the message about the packages that we installed. They are the nearly final messages (this is the early exist path), they are only followed by:</p>
<pre><code>DEBUG All editables satisfied: [...]
Audited 1 package in 12ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2024-04-30 15:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-installer/src/site_packages.rs</code>:296 on 2024-04-30 15:31</div>
            <div class="timeline-body"><p>good catch</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2024-04-30 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-04-30 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-04-30 15:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:36:50 UTC
    </footer>
</body>
</html>
