<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEBUG: Windows flake - astral-sh/uv #8347</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>DEBUG: Windows flake</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/8347">#8347</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-10-18 19:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>Debugging #6940</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-18 22:52</div>
            <div class="timeline-body"><p>Got a snapshot without filters</p>
<pre><code>[crates\uv\tests\it\common\mod.rs:1152:5] &amp;snapshot = &quot;success: false
exit_code: 2
----- stdout -----

----- stderr -----
warning: `VIRTUAL_ENV=E:\\uv-tmp\\.tmpHTBFBl\\temp\\.venv` does not match the project environment path `.venv` and will be ignored
Using CPython 3.12.7 interpreter at: C:\\hostedtoolcache\\windows\\Python\\3.12.7\\x64\\python.exe
Creating virtual environment at: .venv
Resolved 8 packages in 229ms
error: Failed to prepare distributions
  Caused by: Failed to build `seeds @ file:///E:/uv-tmp/.tmpHTBFBl/temp/albatross-virtual-workspace/packages/seeds`
  Caused by: Build backend failed to build editable through `build_editable` (exit code: 1)

[stderr]
Traceback (most recent call last):
  File \&quot;&lt;string&gt;\&quot;, line 11, in &lt;module&gt;
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\hatchling\\build.py\&quot;, line 83, in build_editable
    return os.path.basename(next(builder.build(directory=wheel_directory, versions=[&#x27;editable&#x27;])))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\hatchling\\builders\\plugin\\interface.py\&quot;, line 90, in build
    self.metadata.validate_fields()
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\hatchling\\metadata\\core.py\&quot;, line 260, in validate_fields
    self.core.validate_fields()
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\hatchling\\metadata\\core.py\&quot;, line 1352, in validate_fields
    getattr(self, attribute)
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\hatchling\\metadata\\core.py\&quot;, line 1223, in dependencies
    self._dependencies = list(self.dependencies_complex)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\hatchling\\metadata\\core.py\&quot;, line 1174, in dependencies_complex
    from packaging.requirements import InvalidRequirement, Requirement
  File \&quot;E:\\uv-tmp\\.tmpHTBFBl\\cache\\builds-v0\\.tmpavQDxb\\Lib\\site-packages\\packaging\\requirements.py\&quot;, line 7, in &lt;module&gt;
    from ._parser import parse_requirement as _parse_requirement
  File \&quot;&lt;frozen importlib._bootstrap&gt;\&quot;, line 1360, in _find_and_load
  File \&quot;&lt;frozen importlib._bootstrap&gt;\&quot;, line 1331, in _find_and_load_unlocked
  File \&quot;&lt;frozen importlib._bootstrap&gt;\&quot;, line 935, in _load_unlocked
  File \&quot;&lt;frozen importlib._bootstrap_external&gt;\&quot;, line 991, in exec_module
  File \&quot;&lt;frozen importlib._bootstrap_external&gt;\&quot;, line 1128, in get_code
  File \&quot;&lt;frozen importlib._bootstrap_external&gt;\&quot;, line 1186, in get_data
PermissionError: [Errno 13] Permission denied: &#x27;E:\\\\uv-tmp\\\\.tmpHTBFBl\\\\cache\\\\builds-v0\\\\.tmpavQDxb\\\\Lib\\\\site-packages\\\\packaging\\\\_parser.py&#x27;
&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-19 00:14</div>
            <div class="timeline-body"><p>With <a href="https://github.com/astral-sh/uv/pull/8347/commits/56d5cc4d5ac73f1ffd24d8bfd24b0f43fee1e68d">56d5cc4</a> it hasn&#x27;t reproduced in ~60m</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-10-20 18:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:48:52 UTC
    </footer>
</body>
</html>
