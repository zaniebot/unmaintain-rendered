<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Align supported Config-settings with example in docs - astral-sh/uv #12947</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Align supported Config-settings with example in docs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/12947">#12947</a>
        opened by <a href="https://github.com/maxmynter">@maxmynter</a>
        on 2025-04-17 15:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a></div>
            <div class="timeline-body">

<p>Closes #12929</p>
Summary
<p>Untag the <code>config-settings</code> value to support JSON schema according to the <a href="https://docs.astral.sh/uv/reference/settings/#config-settings">docs</a>.</p>
<pre><code>[tool.uv]
config-settings = { editable_mode = &quot;compat&quot; }
</code></pre>


Test Plan
<p>Verified using the &quot;Even Better TOML&quot; extension with paths to old and new <code>uv.schema.json</code>.</p>
Notes
<p>I could not reproduce the issue with either the <code>taplo</code> (on which Even Better Toml is built, afaik) and <code>check-jsonschema</code> CLI tools; with both old and new versions of the <code>uv.schema.json</code> validated the <code>pyproject.toml</code>.</p>
<p>Maybe for these there is some additional regularization going on and that&#x27;s also how a breaking case ended up in the docs?
I&#x27;m unsure on how to test for this.</p>
<p>After about an hour, the Even better TOML VSCode extension was the only way to reproduce failing validation.</p>
<p>Let me know if I can do something else.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2025-04-17 16:57</div>
            <div class="timeline-body"><p>Awesome, thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-17 16:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-17 16:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-17 16:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/udifuchs">@udifuchs</a> on 2025-04-17 16:59</div>
            <div class="timeline-body"><blockquote>
<p>I could not reproduce the issue with either the <code>taplo</code> (on which Even Better Toml is built, afaik) and <code>check-jsonschema</code> CLI tools; with both old and new versions of the <code>uv.schema.json</code> validated the <code>pyproject.toml</code>.</p>
</blockquote>
<p>My guess is that you were using the command:</p>
<pre><code>check-jsonschema --schemafile uv.json
</code></pre>
<p>In that case, your test file should be without the <code>[tools.uv]</code> header:</p>
<pre><code>config-settings = { editable_mode = &quot;compat&quot; }
</code></pre>
<p>The test examples I gave in the issue were for a <code>pyproject.toml</code>. To check it, you need to specify the pyproject schema file from the schemastore.</p>
<p>The reason the file did validate for you is that uv.json is missing an <code>&quot;additionalProperties&quot;: false</code> at the top level. I am not if this is intentional or not.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:51:47 UTC
    </footer>
</body>
</html>
