<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve readability of progress bars - astral-sh/uv #16509</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve readability of progress bars</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/16509">#16509</a>
        opened by <a href="https://github.com/cbrnr">@cbrnr</a>
        on 2025-10-30 08:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/cbrnr">@cbrnr</a> on 2025-10-30 08:46</div>
            <div class="timeline-body"><!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Improve readability of progress bars by drawing the right portions in dimmed black instead of dimmed green. This makes it much easier to distinguish from the left (finished) part, which is drawn in green.</p>
<p>Fixes #6908.</p>
<!-- What's the purpose of the change? What does it do, and why? -->

<h2>Test Plan</h2>
<p>Tested locally, looks as follows:</p>
<p><img width="1100" height="731" alt="white" src="https://github.com/user-attachments/assets/2a396e96-27ef-41ed-8b03-a0de2061af12" />
<img width="1100" height="731" alt="black" src="https://github.com/user-attachments/assets/85d03a3a-a1dc-4389-9e51-fd486e60e067" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @konstin on 2025-10-30 10:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @konstin on 2025-10-30 10:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-30 14:04</div>
            <div class="timeline-body"><p>Funny, this doesn't change anything with my terminal color scheme :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-10-30 14:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-10-30 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-10-30 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-10-30 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eliegoudout">@eliegoudout</a> on 2025-10-31 10:18</div>
            <div class="timeline-body"><p>Isn't it more likely to have users with dimm black terminal (Who would have worse readability then) than users with dimm Green terminal?
Just a thought.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cbrnr">@cbrnr</a> on 2025-10-31 12:33</div>
            <div class="timeline-body"><p>Readability is also improved with dark background, see my screenshot. The point is that you see the actual progress, not so much the unfinished bars to the right.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eliegoudout">@eliegoudout</a> on 2025-10-31 13:13</div>
            <div class="timeline-body"><blockquote>
<p>Readability is also improved with dark background, see my screenshot.</p>
</blockquote>
<p>The dark mode is not universal and many people have different &quot;dark mode&quot; terminal color. My point is that it may be that some users may have the exact color you used as a background color, making them lose readability. Of course, people may also have &quot;dark green&quot; background (in which case, the previous colors would be worse), but my point is that the latter is less likely than the former, isn't it?</p>
<p>My point only stands if the internals define a hardcoded color though, I don't know if it's the case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eliegoudout">@eliegoudout</a> on 2025-10-31 13:17</div>
            <div class="timeline-body"><p>Just so you know, here's the situation locally on my side on a PowrShell (I don't really use that, but people may)</p>
<h5>Previous version</h5>
<p><img width="584" height="55" alt="image" src="https://github.com/user-attachments/assets/4f69440f-fcc5-40be-8667-566cdec4a988" /></p>
<h5>Your improved version</h5>
<p><img width="584" height="103" alt="image" src="https://github.com/user-attachments/assets/10bf7137-bfc7-4afa-b26b-2a4a781c034a" /></p>
<hr />
<p>As you can see, previous version was bad, and your version is better, but still shows complete black for incomplete part. In this case, it's still a win, but if the former version was working well (with an actual dark green), then your update would be a regression on my side.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cbrnr">@cbrnr</a> on 2025-10-31 14:19</div>
            <div class="timeline-body"><p>@eliegoudout don't you think this is clearly better? This change is intentional, you can actually see the progress, whereas previously, I can see only one single green bar. I get it that on some terminals with black background, dimmed black might be pure black, but since it is clear where the 100% mark is, you can still see the progress (because the green color wasn't changed at all, it is just better visible now). Or do you have to see the unfinished (remaining) part of the bar (and if so why)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cbrnr">@cbrnr</a> on 2025-10-31 14:20</div>
            <div class="timeline-body"><p>I think this also heavily depends on the terminal you are using. Which one is it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eliegoudout">@eliegoudout</a> on 2025-11-03 15:29</div>
            <div class="timeline-body"><blockquote>
<p>don't you think this is clearly better?</p>
</blockquote>
<p>First of all, yes! On the screens I provided, the new version is clearly better. But I tink this is only because my console does not show the correct colors for the first version (dimmed green), no?</p>
<p>I would have liked to see the rendering for your console before your PR.</p>
<p>My point is simply that previously, since the colors were <em>green vs dimmed green</em>, there was almost no risk of a user having the dimmed green badly displayed. However, with the new version (<em>green vs dimmed <strong>black</strong></em>), there is a greater risk or users having a &quot;conflict of colors&quot; with their own console background.</p>
<p>Honestly, I think it's just splitting hairs at this point, but I was simply sharing my (very mild) concern :)</p>
<hr />
<blockquote>
<p>I think this also heavily depends on the terminal you are using. Which one is it?</p>
</blockquote>
<p>The default (i think) Windows PowerShell terminal</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cbrnr">@cbrnr</a> on 2025-11-03 15:47</div>
            <div class="timeline-body"><p>No worries, I think it is good to discuss any regressions!</p>
<blockquote>
<p>I would have liked to see the rendering for your console before your PR.</p>
</blockquote>
<p>I posted it <a href="https://github.com/astral-sh/uv/issues/6908#issuecomment-3460651875">here</a>. This was the intended look, and it was really hard to distinguish the two green colors.</p>
<blockquote>
<p>My point is simply that previously, since the colors were <em>green vs dimmed green</em>, there was almost no risk of a user having the dimmed green badly displayed. However, with the new version (<em>green vs dimmed <strong>black</strong></em>), there is a greater risk or users having a &quot;conflict of colors&quot; with their own console background.</p>
</blockquote>
<p>True, but even if a dark (dimmed black) background makes the right portion of the bar invisible now, the progress is still clearly visible. So even this special case is an improvement vs. the previous green/dimmed green IMO.</p>
<blockquote>
<p>The default (i think) Windows PowerShell terminal</p>
</blockquote>
<p>It looks like special (Unicode?) characters are not working either for you. I recommend Windows Terminal (and not Command Prompt aka cmd.exe) on Windows; this should fix both the colors and the Unicode issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eliegoudout">@eliegoudout</a> on 2025-11-03 17:11</div>
            <div class="timeline-body"><p>Thanks for your answer! Indeed, the previous renders your showed are pretty bad! And you're right that even if the incomplete part is invisible, it's still better than the terrible rendering from before.</p>
<p>I mean, we could argue for ages about the perfect color(s), but at least, seing the previous rendering, I agree that there is no regression at all.</p>
<p>All the best!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:30:37 UTC
    </footer>
</body>
</html>
