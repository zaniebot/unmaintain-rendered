<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow `py3x-none` tags in newer than Python 3.x - astral-sh/uv #7867</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow <code>py3x-none</code> tags in newer than Python 3.x</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/7867">#7867</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-10-02 10:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Unlike <code>cp36-...</code>, which requires exactly CPython 3.6, <code>py36-none</code> is compatible with all versions starting at Python 3.6.</p>
<p>Note that <code>py3x-none</code> should not be used. Instead, use <code>py3-none</code> with <code>requires-python</code>.</p>
<p>Fixes #7800</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @konstin on 2024-10-02 10:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-resolver/src/requires_python.rs</code>:362 on 2024-10-02 11:17</div>
            <div class="timeline-body"><p>Does this entire part make sense? In the example above, I thought cp36 was a lower-bound, so it <em>would</em> match<code>==3.10.*</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-10-02 11:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2024-10-02 14:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>crates/uv-resolver/src/requires_python.rs</code>:362 on 2024-10-02 14:12</div>
            <div class="timeline-body"><p><code>cpxx-&lt;...&gt;-&lt;...&gt;</code> as a python tag only really makes sense in combination with a matching ABI tag, <code>cp311-none</code> doesn't really make sense: why are you requiring CPython if you're not requiring its ABI? For pragmatic reasons, we're following pip (on python 3.12), <code>cp</code> is an exact python tag unless we use <code>abi3</code>, then it's a minimum version, while <code>py</code> is a lower bound:</p>
<pre><code>$ pip debug --verbose | grep manylinux_2_39_x86_64
WARNING: This command is only meant for debugging. Do not use this with automation for parsing and getting these details, since the output and options of this command may change without notice.
  cp312-cp312-manylinux_2_39_x86_64
  cp312-abi3-manylinux_2_39_x86_64
  cp312-none-manylinux_2_39_x86_64
  cp311-abi3-manylinux_2_39_x86_64
  cp310-abi3-manylinux_2_39_x86_64
  cp39-abi3-manylinux_2_39_x86_64
  cp38-abi3-manylinux_2_39_x86_64
  cp37-abi3-manylinux_2_39_x86_64
  cp36-abi3-manylinux_2_39_x86_64
  cp35-abi3-manylinux_2_39_x86_64
  cp34-abi3-manylinux_2_39_x86_64
  cp33-abi3-manylinux_2_39_x86_64
  cp32-abi3-manylinux_2_39_x86_64
  py312-none-manylinux_2_39_x86_64
  py3-none-manylinux_2_39_x86_64
  py311-none-manylinux_2_39_x86_64
  py310-none-manylinux_2_39_x86_64
  py39-none-manylinux_2_39_x86_64
  py38-none-manylinux_2_39_x86_64
  py37-none-manylinux_2_39_x86_64
  py36-none-manylinux_2_39_x86_64
  py35-none-manylinux_2_39_x86_64
  py34-none-manylinux_2_39_x86_64
  py33-none-manylinux_2_39_x86_64
  py32-none-manylinux_2_39_x86_64
  py31-none-manylinux_2_39_x86_64
  py30-none-manylinux_2_39_x86_64
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-10-02 23:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-resolver/src/requires_python.rs</code>:367 on 2024-10-02 23:00</div>
            <div class="timeline-body"><p>What if the version is greater than our own upper-bound on Python? E.g., <code>py310</code> but the user has <code>== 3.8.*</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-10-03 17:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-resolver/src/requires_python.rs</code>:367 on 2024-10-03 17:01</div>
            <div class="timeline-body"><p>I guess we don't handle this at all here yet (upper bounds).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-10-03 17:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-10-03 17:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-03 17:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:39:55 UTC
    </footer>
</body>
</html>
