<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>packaged app: use executable named for the project and main function - astral-sh/uv #7670</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>packaged app: use executable named for the project and main function</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/7670">#7670</a>
        opened by <a href="https://github.com/bluss">@bluss</a>
        on 2024-09-24 19:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/bluss">@bluss</a> on 2024-09-24 19:09</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Create a function main as the default for a packaged app. Configure the default executable as:</p>
<p><code>example-packaged-app = &quot;example_packaged_app:main&quot;</code></p>
<p>Which is often what you want - the executable has the same name as the app.
The purpose is to more often hit what the user wants, so they don't have
to even rename the command to start developing.</p>
<h2>Test Plan</h2>
<ul>
<li>existing tests are updated</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a> reviewed on 2024-09-24 19:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/bluss">@bluss</a> on <code>crates/uv/tests/init.rs</code>:1426 on 2024-09-24 19:11</div>
            <div class="timeline-body"><p>Maybe I'm mistaken here, but I think this test shows that <code>uv init --virtual</code> is already creating something with a build system and executable, this is fishy.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Use main as default function in packaged app" to "packaged app: use executable named for the project and function main" by @bluss on 2024-09-24 19:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "packaged app: use executable named for the project and function main" to "packaged app: use executable named for the project and main function" by @bluss on 2024-09-24 19:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2024-09-24 19:39</div>
            <div class="timeline-body"><p>I asked @zanieb briefly in discord before posting this one. It's a small but &quot;opinionated&quot; change I guess. Next step could be to add a <a href="https://docs.python.org/3/library/__main__.html#main-py-in-python-packages">minimal</a> <code>__main__.py</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-24 19:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/init.rs</code>:1426 on 2024-09-24 19:40</div>
            <div class="timeline-body"><p>Yeah this is fishy â€” <code>--virtual</code> is legacy now but shouldn't be doing this. Let's tackle it separately though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/concepts/projects.md</code>:250 on 2024-09-24 19:41</div>
            <div class="timeline-body"><p>This should be <code>:main</code> right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-24 19:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-09-24 19:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a> reviewed on 2024-09-24 19:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/bluss">@bluss</a> on <code>docs/concepts/projects.md</code>:250 on 2024-09-24 19:48</div>
            <div class="timeline-body"><p>oops, fixed.</p>
<p>Also I'm very used to force pushing but shouldn't do that since you squash merge here anyway. I just haven't learned the lesson yet..</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-09-24 20:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/concepts/projects.md</code>:250 on 2024-09-24 20:04</div>
            <div class="timeline-body"><p>Oh we force push all the time, don't worry about that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-27 13:30</div>
            <div class="timeline-body"><p>I'm off today but I'll try to get this in early next week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-09-30 22:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2024-09-30 22:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-09-30 22:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @zanieb on 2024-09-30 22:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-09-30 23:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:01:42 UTC
    </footer>
</body>
</html>
