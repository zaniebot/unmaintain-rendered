<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uv-resolver: deduplicate resolution markers - astral-sh/uv #9780</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>uv-resolver: deduplicate resolution markers</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/9780">#9780</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2024-12-10 18:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>Since we don't (currently) include conflict markers with our
<code>resolution-markers</code> in the lock file, it's possible that we end up
with duplicate markers. This happens when the resolver creates more
than one fork with the same PEP 508 markers but different conflict
markers, <em>and</em> where those PEP 508 markers don't simplify to &quot;always
true&quot; after accounting for <code>requires-python</code>.</p>
<p>This change should be a strict improvement on the status quo. We aren't
removing any information. It is possible that we should be writing
conflict markers here (like we do for dependency edges), but I haven't
been able to come up with a case or think through a scenario where they
are necessary.</p>
<p>Fixes #9296</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @BurntSushi on 2024-12-10 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @charliermarsh removed by @BurntSushi on 2024-12-10 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @BurntSushi on 2024-12-10 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @BurntSushi on 2024-12-10 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @BurntSushi on 2024-12-10 18:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">lock</span> added by @BurntSushi on 2024-12-10 18:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-12-10 19:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2024-12-10 19:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-12-10 19:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-12-10 19:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:40:59 UTC
    </footer>
</body>
</html>
