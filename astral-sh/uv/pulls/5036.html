<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Respect the libc of the execution environment with `uv python list` - astral-sh/uv #5036</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Respect the libc of the execution environment with <code>uv python list</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/5036">#5036</a>
        opened by <a href="https://github.com/Di-Is">@Di-Is</a>
        on 2024-07-13 14:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Di-Is">@Di-Is</a> on 2024-07-13 14:31</div>
            <div class="timeline-body"><p>Fix #4988</p>
<h2>Summary</h2>
<p>Running <code>uv python list</code> on glibc-based Linux will list musl pythons.</p>
<pre><code class="language-bash">$ uv version
uv 0.2.24
$ uv python list
warning: `uv python list` is experimental and may change without warning.
cpython-3.12.3-linux-x86_64-musl     &lt;download available&gt;
cpython-3.12.3-linux-x86_64-gnu      /usr/bin/python3
cpython-3.12.3-linux-x86_64-gnu      /bin/python3
cpython-3.11.9-linux-x86_64-musl     &lt;download available&gt;
cpython-3.10.14-linux-x86_64-musl    &lt;download available&gt;
cpython-3.9.19-linux-x86_64-musl     &lt;download available&gt;
cpython-3.8.19-linux-x86_64-musl     &lt;download available&gt;
cpython-3.7.9-linux-x86_64-musl      &lt;download available&gt;
</code></pre>
<p>Change it to show Python matching the environment's libc as follows.</p>
<pre><code class="language-bash">$ uv python list
warning: `uv python list` is experimental and may change without warning.
cpython-3.12.3-linux-x86_64-gnu     /usr/bin/python3
cpython-3.12.3-linux-x86_64-gnu     /bin/python3
cpython-3.12.3-linux-x86_64-gnu     &lt;download available&gt;
cpython-3.11.9-linux-x86_64-gnu     &lt;download available&gt;
cpython-3.10.14-linux-x86_64-gnu    &lt;download available&gt;
cpython-3.9.19-linux-x86_64-gnu     &lt;download available&gt;
cpython-3.8.19-linux-x86_64-gnu     &lt;download available&gt;
cpython-3.7.9-linux-x86_64-gnu      &lt;download available&gt;
</code></pre>
<p>Also, if --all-platforms is specified, change to list Python for all architectures and libc.</p>
<pre><code class="language-bash">$ uv python list --all-platforms
warning: `uv python list` is experimental and may change without warning.
cpython-3.12.3-windows-x86_64-none       &lt;download available&gt;
cpython-3.12.3-windows-x86-none          &lt;download available&gt;
cpython-3.12.3-macos-x86_64-none         &lt;download available&gt;
cpython-3.12.3-macos-aarch64-none        &lt;download available&gt;
cpython-3.12.3-linux-x86_64-musl         &lt;download available&gt;
cpython-3.12.3-linux-x86_64-gnu          /usr/bin/python3
cpython-3.12.3-linux-x86_64-gnu          /bin/python3
cpython-3.12.3-linux-x86_64-gnu          &lt;download available&gt;
cpython-3.12.3-linux-s390x-gnu           &lt;download available&gt;
cpython-3.12.3-linux-powerpc64le-gnu     &lt;download available&gt;
cpython-3.12.3-linux-armv7-gnueabihf     &lt;download available&gt;
cpython-3.12.3-linux-armv7-gnueabi       &lt;download available&gt;
cpython-3.12.3-linux-aarch64-gnu         &lt;download available&gt;
...
</code></pre>
<h2>Test Plan</h2>
<p>The following commands were executed on the command line to confirm the results in Ubuntu 24.04.</p>
<ul>
<li><code>cargo run python list</code></li>
<li><code>cargo run python list --all-platforms</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Fix python list" to "Respect the libc of the execution environment with `uv python list`." by @Di-Is on 2024-07-13 14:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-13 15:00</div>
            <div class="timeline-body"><p>Thank you! Note we don't have proper musl detection yet (see https://github.com/astral-sh/uv/pull/4160 and https://github.com/astral-sh/uv/issues/4242)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @charliermarsh on 2024-07-13 16:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Respect the libc of the execution environment with `uv python list`." to "Respect the libc of the execution environment with `uv python list`" by @Di-Is on 2024-07-14 10:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Di-Is">@Di-Is</a> on 2024-07-14 11:46</div>
            <div class="timeline-body"><p>Hi @zanieb!</p>
<p>I see, the function to detect the type of libc has not been implemented yet.
Since various conflicts are likely to occur, we will not make any changes to this MR for now.</p>
<p>I hope that the problem reported in #4988 will be fixed somehow.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-07-14 16:14</div>
            <div class="timeline-body"><p>I think this is an improvement regardless of our detection abilities, thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2024-07-14 16:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-07-14 16:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-07-19 06:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:43:11 UTC
    </footer>
</body>
</html>
