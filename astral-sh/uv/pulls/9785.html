<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Don't fail with `--no-build` when static metadata is available - astral-sh/uv #9785</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Don&#x27;t fail with <code>--no-build</code> when static metadata is available</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/9785">#9785</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-12-10 19:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body">Summary
<p>This optimization isn&#x27;t quite right, because we can successfully extract metadata without having to build from source. (The builder itself will error if we reach the point at which we need to build, but builds are disabled.)</p>
<p>Closes <a href="https://github.com/astral-sh/uv/issues/9776">astral-sh/uv#9776</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 19:53</div>
            <div class="timeline-body"><p>I traced it back, and it looks like this code was added at the point in time when we <em>always</em> ran PEP 517 build hooks. Now, we can&#x27;t know if we have to run hooks until we&#x27;ve downloaded the distribution -- so it&#x27;s correct to continue, and fail later.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 20:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-10 20:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-12-10 20:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:49:46 UTC
    </footer>
</body>
</html>
