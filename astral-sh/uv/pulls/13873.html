<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support python@latest for newest, stable, discoverable Python - astral-sh/uv #13873</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support python@latest for newest, stable, discoverable Python</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/13873">#13873</a>
        opened by <a href="https://github.com/maxmynter">@maxmynter</a>
        on 2025-06-05 20:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<p>Closes #13535</p>
<h2>Summary</h2>
<p>Support <code>python@latest</code> to find and use the latest stable Python version available on the system.
It finds the highest discoverable, stable Python version excluding prerelease</p>
<!-- What's the purpose of the change? What does it do, and why? -->

<h2>Test Plan</h2>
<p>Tested locally with <code>target/debug/uv tool run python@latest --version</code>.
Added test cases in <code>crates/uv-python/src/lib.rs</code></p>
<!-- How was it tested? -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-06-06 03:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-06-06 12:47</div>
            <div class="timeline-body"><p>When (attempting) merge conflict resolution I seem to have regressed some of the snapshots. I will take some time later today, to look into it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/oconnor663">@oconnor663</a> on <code>crates/uv-python/src/discovery.rs</code>:1062 on 2025-06-06 19:36</div>
            <div class="timeline-body"><p>What's the difference between this <code>Latest</code> behavior and the existing sort that <code>python_interpreters</code> is already returning, which I believe is determined over here: https://github.com/astral-sh/uv/blob/5b0133c0ecedf71a23e5d9bf6fbefc91008e5101/crates/uv-python/src/installation.rs#L480-L492</p>
<p>Via here: https://github.com/astral-sh/uv/blob/5b0133c0ecedf71a23e5d9bf6fbefc91008e5101/crates/uv-python/src/managed.rs#L240</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/oconnor663">@oconnor663</a> reviewed on 2025-06-06 19:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/oconnor663">@oconnor663</a> on 2025-06-06 19:38</div>
            <div class="timeline-body"><p>We might want to update this comment to refer to a different word that &quot;sounds like a version specifier but actually isn't and also ends with <code>t</code>&quot;. Maybe...&quot;oldest&quot;? ðŸ˜„</p>
<p>https://github.com/astral-sh/uv/blob/5b0133c0ecedf71a23e5d9bf6fbefc91008e5101/crates/uv-python/src/discovery.rs#L2468-L2469</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-06-06 23:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/uv-python/src/discovery.rs</code>:1062 on 2025-06-06 23:12</div>
            <div class="timeline-body"><p>Refactored to use the implemented <code>Ord</code> in <a href="https://github.com/astral-sh/uv/pull/13873/commits/5a45d4ee85611c8975938cceba3ebfa0571a79c7">5a45d4e</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @oconnor663 by @maxmynter on 2025-06-06 23:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/oconnor663">@oconnor663</a> reviewed on 2025-06-07 00:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/oconnor663">@oconnor663</a> on <code>crates/uv-python/src/discovery.rs</code>:1062 on 2025-06-07 00:55</div>
            <div class="timeline-body"><p>What I'm thinking is more like, what's the behavior difference between <code>@latest</code> and <code>@any</code>? (I'm sure there's something I just haven't figured out what.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-07 05:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-python/src/discovery.rs</code>:1062 on 2025-06-07 05:11</div>
            <div class="timeline-body"><p>I would expect <code>@latest</code> to scan <em>all</em> Python interpreters and select the latest version, whereas <code>@any</code> would stop on the first interpreter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-07 05:12</div>
            <div class="timeline-body"><p>Thanks for the pull request! I'll review it next week.</p>
<p>I wonder if we want to do this. Should <code>@latest</code> just be an alias for 3.13? I think if I had automatic Python downloads turned on I'd expect the latest version of 3.13 to be installed? I also worry scanning all the interpreters on the system will be slow? I think we need to consider the user experience a bit here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/oconnor663">@oconnor663</a> reviewed on 2025-06-09 16:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/oconnor663">@oconnor663</a> on <code>crates/uv-python/src/discovery.rs</code>:1062 on 2025-06-09 16:52</div>
            <div class="timeline-body"><p>@zanieb how do you think about that in combination with the fact that the list that <code>@any</code> looks at is already sorted by version? (IIUC it's actually sorted by implementation [e.g. <code>cpython</code>] first and then version.) So picking the latest and picking the first are approximately the same operation?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-06-09 19:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-python/src/discovery.rs</code>:1062 on 2025-06-09 19:58</div>
            <div class="timeline-body"><p><code>@any</code> isn't sorted by version during discovery though, because we short-circuit when we find an interpreter that meets the request. Sorting only makes a difference when selecting a Python download or iterating over managed Python installations.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-06-12 15:54</div>
            <div class="timeline-body"><p>Yeah, we could hardcode a specific stable python version and then bump if whenever a new stable one is released.
I think if I do <code>@latest</code> that may also just be what i expect -- take and / or download the newest stable one.</p>
<p>If I wanted the newest on my system not overall, I propably have a reason for this specific version and know which one it is. At that point it's probably better to be explicit and use <code>@x.yz</code> instead of <code>@latest</code> anyway.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-13 11:43</div>
            <div class="timeline-body"><p>I think with downloads enabled, I'd expect it to take the latest available stable download. Otherwise, I'd expect it to take the latest on my machine.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:43:27 UTC
    </footer>
</body>
</html>
