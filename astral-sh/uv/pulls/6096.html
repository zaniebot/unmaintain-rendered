<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>docs: use stricter validation options - astral-sh/uv #6096</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>docs: use stricter validation options</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/6096">#6096</a>
        opened by <a href="https://github.com/mkniewallner">@mkniewallner</a>
        on 2024-08-14 23:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mkniewallner">@mkniewallner</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p><code>mkdocs</code> supports <a href="https://www.mkdocs.org/user-guide/configuration/#validation">validation rules for links</a>, which can be tightened to report more issues than the default configuration. I used the recommended &quot;maximal strictness&quot; configuration from the documentation.</p>
<p>Adding the <code>anchors</code> rule helped spot 4 errors:</p>
<pre><code class="language-console">WARNING -  Doc file 'guides/install-python.md' contains a link '../concepts/python-versions.md#python-distributions', but the doc 'concepts/python-versions.md' does not contain an anchor '#python-distributions'.
WARNING -  Doc file 'guides/install-python.md' contains a link '../concepts/python-versions.md#discovery-order', but the doc 'concepts/python-versions.md' does not contain an anchor '#discovery-order'.
WARNING -  Doc file 'guides/projects.md' contains a link '../concepts/projects.md#lock-file', but the doc 'concepts/projects.md' does not contain an anchor '#lock-file'.
WARNING -  Doc file 'pip/environments.md' contains a link '../concepts/python-versions.md#discovery-order', but the doc 'concepts/python-versions.md' does not contain an anchor '#discovery-order'.
</code></pre>
<h2>Test Plan</h2>
<p>Local run of the documentation + <code>mkdocs build --strict</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @mkniewallner on 2024-08-14 23:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-08-15 00:27</div>
            <div class="timeline-body"><p>Awesome! Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2024-08-15 00:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @zanieb on 2024-08-15 00:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2024-08-15 00:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-08-15 00:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-08-15 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2024-08-15 00:30</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/uv/actions/runs/10396684003/job/28791143067 whoops, this broke the main build. That's because <code>anchors</code> is mkdocs 1.6+, and apparently insiders dependencies are installing 1.5.0.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-15 00:34</div>
            <div class="timeline-body"><p>Ah just noticed this broke on my branch. Thanks for noting it too :D</p>
<p>We'll need to upgrade insiders, but I recall there were some regressions we were blocked by...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2024-08-15 00:36</div>
            <div class="timeline-body"><blockquote>
<p>Ah just noticed this broke on my branch. Thanks for noting it too :D</p>
<p>We'll need to upgrade insiders, but I recall there were some regressions we were blocked by...</p>
</blockquote>
<p>Ah, too bad! We can remove <code>anchors</code> for now if that's problematic, it's the only option that is 1.6+ only.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:38:53 UTC
    </footer>
</body>
</html>
