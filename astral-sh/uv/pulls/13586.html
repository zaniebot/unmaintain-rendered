<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use codspeed runner for wall time benchmarking - astral-sh/uv #13586</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use codspeed runner for wall time benchmarking</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/13586">#13586</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-05-21 21:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>We couldn't use the CodSpeed &quot;walltime&quot; runner because it required administrative permissions on our repositories, but following some feedback they've adjusted the required permissions so we can give it a try now.</p>
<p>As a brief background, CodSpeed uses Valgrind for instrumented benchmarking, emulating the execution for improved stability on GitHub's runners. This is nice, but means things like allocs and io are not measured. Now, they support standard wall time benchmarking, using their own managed runners for stable measurements. Here, we add support for those while retaining the old workflow â€” you can toggle between views in their UI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @zanieb on 2025-05-21 21:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Use codspeed runner for benchmarking" to "Use codspeed runner for wall time benchmarking" by @zanieb on 2025-05-22 19:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-22 19:07</div>
            <div class="timeline-body"><p>I think the only problem here is you only get 120 free minutes (monthly?). We'll use way more than that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @zanieb on 2025-05-27 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @konstin by @zanieb on 2025-05-28 15:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-28 15:12</div>
            <div class="timeline-body"><p>Curious for your thoughts @konstin</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @BurntSushi by @zanieb on 2025-05-29 13:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>.github/workflows/ci.yml</code>:2250 on 2025-05-29 13:07</div>
            <div class="timeline-body"><p>Can we do <code>x86-64</code> instead? Or add <code>x86-64</code>? I feel like <code>x86-64</code> would be ideal here for Linux at least.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> approved on 2025-05-29 13:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-05-29 13:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/ci.yml</code>:2250 on 2025-05-29 13:16</div>
            <div class="timeline-body"><p>We cannot, unfortunately. That's the machine they're using because it's way cheaper. They might add x86-64 in the future.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> reviewed on 2025-05-29 13:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>.github/workflows/ci.yml</code>:2250 on 2025-05-29 13:26</div>
            <div class="timeline-body"><p>Bummer. This will still help for I/O and allocs though. (I have this vague sense that because x86-64 is CISC, that instruction count measurements are less good than they are for something like aarch64, which is RISC.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-05-29 17:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-05-29 17:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-29 17:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-05-30 08:08</div>
            <div class="timeline-body"><p>I'd love to try this out, something with more stable IO could make our benchmarks more sensitive and easier to interpret.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:43:15 UTC
    </footer>
</body>
</html>
