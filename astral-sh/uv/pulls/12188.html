<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Replace change detection GitHub Action - astral-sh/uv #12188</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Replace change detection GitHub Action</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/12188">#12188</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2025-03-15 15:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p><code>tj-actions/changed-files</code> no longer exists due to a malicious commit. This PR replaces it with a minimal shell script to get us unblocked.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @charliermarsh on 2025-03-15 16:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @charliermarsh on 2025-03-15 16:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @charliermarsh on 2025-03-15 16:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> removed by @charliermarsh on 2025-03-15 16:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @charliermarsh on 2025-03-15 16:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Replace change detection" to "Replace change detection GitHub Action" by @charliermarsh on 2025-03-15 16:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-03-15 16:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/ci.yml</code>:43 on 2025-03-15 16:26</div>
            <div class="timeline-body"><p>These backticks are going to evaluate</p>
<pre><code>❯ echo &quot;foo `bar`&quot;
zsh: command not found: bar
foo 
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @charliermarsh on 2025-03-15 16:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/ci.yml</code>:42 on 2025-03-15 16:44</div>
            <div class="timeline-body"><p>I'd use <code>&quot;${file}&quot;</code> throughout — I don't think there's an attack vector here because of the way you're iterating but it's safer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/ci.yml</code>:67 on 2025-03-15 16:45</div>
            <div class="timeline-body"><pre><code class="language-suggestion">          done &lt;&lt;&lt; &quot;${CHANGED_FILES}&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/ci.yml</code>:68 on 2025-03-15 16:45</div>
            <div class="timeline-body"><pre><code class="language-suggestion">          echo &quot;code_any_changed=${CODE_CHANGED}&quot; &gt;&gt; &quot;$GITHUB_OUTPUT&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>.github/workflows/ci.yml</code>:43 on 2025-03-15 16:47</div>
            <div class="timeline-body"><p>It might be worth retaining the comment on why we run tests on these files</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-03-15 16:48</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2025-03-15 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-03-15 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-03-15 17:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vladyslav-burylov">@vladyslav-burylov</a> on 2025-03-16 15:27</div>
            <div class="timeline-body"><p>Hi, @charliermarsh. First of all, thank you for the above remediating security risk quickly.</p>
<p>Could you please kindly comment if you have plans to disclose some sort of post-mortem outlining potential impact on uv users? Are there any actions which should be done on user side to remediate impact of potentially leaked uv CI secrets?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-03-16 15:40</div>
            <div class="timeline-body"><p>Good question: There's no action required on the user side and no impact to our users. We rotated all secrets in the repository, and no secrets that facilitate PyPI publishing were exposed since we use Trusted Publishing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vladyslav-burylov">@vladyslav-burylov</a> on 2025-03-16 15:41</div>
            <div class="timeline-body"><p>Good! Thank you so much for quick response!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:42:25 UTC
    </footer>
</body>
</html>
