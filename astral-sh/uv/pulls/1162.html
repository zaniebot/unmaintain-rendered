<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix bootstrap install script on windows - astral-sh/uv #1162</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix bootstrap install script on windows</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/1162">#1162</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-01-29 08:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Windows doesn&#x27;t support symlinks, doesn&#x27;t use a <code>bin</code> directory and all pythons are called <code>python.exe</code>.</p>
<p>Note that this is still broken, <code>.\bin\python3.10.13</code> is missing its .exe extension and renaming it to <code>.\bin\python3.10.13.exe</code> makes it complain about not finding python310.dll.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/konstin">@konstin</a> on 2024-01-29 08:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-01-29 09:00</div>
            <div class="timeline-body"><p>I could link the dll to the same directory, but that doesn&#x27;t work with different patch versions since the dlls have only major and minor version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-01-29 15:24</div>
            <div class="timeline-body"><p>How are we <em>supposed</em> to register new Python versions?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-01-29 16:20</div>
            <div class="timeline-body"><p>You have to register them in the windows registry (<a href="https://peps.python.org/pep-0514/">PEP 514</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-01-29 16:38</div>
            <div class="timeline-body"><p>An alternative would be a nested PATH:</p>
<ul>
<li>bin<ul>
<li>3.8.18<ul>
<li>python.exe</li>
</ul>
</li>
<li>3.12.1<ul>
<li>python.exe</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-01-29 16:58</div>
            <div class="timeline-body"><p>How does discovery work with the nested path?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-01-29 18:01</div>
            <div class="timeline-body"><p>We would have to implement this ourselves, i don&#x27;t know a way that works with <code>which</code>.</p>
<p>I think the lack of a PATH that can be used with different versions is the main reason why <code>py</code>, the python launcher for windows, is shipped by default on windows; There&#x27;s isn&#x27;t really another good to launch a specific python version (without knowing the full path ahead of time)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-01-29 21:20</div>
            <div class="timeline-body"><blockquote>
<p>We would have to implement this ourselves</p>
</blockquote>
<p>I mean I guess I&#x27;m fine with having the <code>Interpreter::find_executable</code> utility do a special scan of the <code>PUFFIN_PYTHON_PATH</code> on Windows for now?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-02-03 16:20</div>
            <div class="timeline-body"><p>@zanieb Can we still merge this? Currently the script doesn&#x27;t run at all (no symlinking) and this also adds pipx support</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-02-03 16:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/konstin">@konstin</a> on 2024-02-03 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2024-02-03 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-02-03 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/methane">@methane</a> reviewed on 2024-02-20 06:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/methane">@methane</a> on <code>scripts/bootstrap/install.py</code>:7 on 2024-02-20 06:12</div>
            <div class="timeline-body"><p>What is this comment?
Does pipx support this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/methane">@methane</a> reviewed on 2024-02-20 06:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/methane">@methane</a> on <code>scripts/bootstrap/install.py</code>:7 on 2024-02-20 06:18</div>
            <div class="timeline-body"><p>It seems I used old pipx. Now I can ran it.
I understand this is <a href="https://peps.python.org/pep-0723/">PEP 723</a>.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:43:27 UTC
    </footer>
</body>
</html>
