<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publish to `crates.io` - astral-sh/uv #16770</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Publish to <code>crates.io</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/16770">#16770</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2025-11-18 18:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/zanieb">@zanieb</a> on 2025-11-18 18:02</div>
            <div class="timeline-body"><p><em>No description provided.</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @Gankra by @zanieb on 2025-11-20 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @zanieb on 2025-11-20 17:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Prepare library crates for publish" to "Publish to `crates.io`" by @zanieb on 2025-11-20 17:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>scripts/bump-workspace-crate-versions.py</code>:68 on 2025-11-20 18:08</div>
            <div class="timeline-body"><p>This is a script a human would run and put up as a PR, and so any issues where an ecosystem package happens to have this version would be fine..? Oh nice you set the replace limit to 1, perfect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>scripts/bump-workspace-crate-versions.py</code>:68 on 2025-11-20 18:09</div>
            <div class="timeline-body"><p>This comment brought to you by &quot;I'm lowkey excited I've been dogfooding python enough to recognize basic things like this&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> approved on 2025-11-20 18:10</div>
            <div class="timeline-body"><p>All looks reasonable</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-11-20 18:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>scripts/bump-workspace-crate-versions.py</code>:68 on 2025-11-20 18:21</div>
            <div class="timeline-body"><p>Yeah this should be pretty safe though of course it's janky. Unfortunately using the Python tomli-w library breaks the manifest in serious ways.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-11-20 18:56</div>
            <div class="timeline-body"><!-- __CODSPEED_PERFORMANCE_REPORT_COMMENT__ -->

<h2><a href="https://codspeed.io/astral-sh/uv/branches/zb%2Fcrates?utm_source=github&amp;utm_medium=comment&amp;utm_content=header">CodSpeed Performance Report</a></h2>
<h3>Merging #16770 will <strong>not alter performance</strong></h3>
<p><sub>Comparing <code>zb/crates</code> (0968891) with <code>main</code> (5eda329)</sub></p>
<h3>Summary</h3>
<p><code>âœ… 6</code> untouched</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/github-advanced-security[bot]">@github-advanced-security[bot]</a> reviewed on 2025-11-20 20:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/github-advanced-security[bot]">@github-advanced-security[bot]</a> on <code>.github/workflows/ci.yml</code>:195 on 2025-11-20 20:05</div>
            <div class="timeline-body"><p>prefer trusted publishing for authentication</p>
<p><a href="https://github.com/astral-sh/uv/security/code-scanning/182">Show more details</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-11-20 21:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-11-20 21:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-20 21:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/homeworkprod">@homeworkprod</a> reviewed on 2025-11-21 00:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/homeworkprod">@homeworkprod</a> on <code>scripts/bump-workspace-crate-versions.py</code>:68 on 2025-11-21 00:22</div>
            <div class="timeline-body"><p>@Gankra: Are you referring to recognizing the meaning of the &quot;magic number&quot; <code>1</code> here?</p>
<p>Passing it as keyword argument would make more obvious: <code>contents.replace(old, new, count=1)</code></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:32 UTC
    </footer>
</body>
</html>
