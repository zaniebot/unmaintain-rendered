<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow quotes around command-line options in `requirement.txt files` - astral-sh/uv #11644</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow quotes around command-line options in <code>requirement.txt files</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/11644">#11644</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2025-02-19 22:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body">Summary
<p>Closes #11592.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Allow quotes around command-line options in requirement.txt files&quot; to &quot;Allow quotes around command-line options in `requirement.txt files`&quot; by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-19 22:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">compatibility</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-19 22:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nkitsaini">@nkitsaini</a> reviewed on 2025-02-20 02:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/nkitsaini">@nkitsaini</a> on <code>crates/uv-requirements-txt/src/lib.rs</code>:923 on 2025-02-20 02:38</div>
            <div class="timeline-body"><p>Escaping only works for double quotes. Single quotes preserve their content as-is. So one cannot include single quote inside single quotes.</p>
<p>Optional: There are a lot more weird rules to POSIX parsing, which is what pip relies on. It might be better to offload this to some shell parser. For example even in double quotes if the forward slash is followed by non-escape character, the forward slash and character both will be preserved.</p>
<p>Just some examples:</p>
<ul>
<li><code>-e &quot;foo&quot;&quot;bar&quot;</code> is valid and is equivalent to <code>-c foobar</code></li>
<li><code>-e &#x27;foo&#x27;\&#x27;&#x27;bar&#x27;</code> is equivalent to <code>-c &quot;foo&#x27;bar&quot;</code></li>
<li><code>-e &quot;\ab&quot;</code> preserves the forward slash also</li>
</ul>
<p><a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#:~:text=a%20token%20separator.-,2.2.2%20Single%2DQuotes,-Enclosing%20characters%20in">reference</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">no-build</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-20 05:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2025-02-20 08:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-20 20:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-02-20 20:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-02-20 20:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:50:58 UTC
    </footer>
</body>
</html>
