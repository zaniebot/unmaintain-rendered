<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update the Git fetch API to be async - astral-sh/uv #6791</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update the Git fetch API to be async</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/6791">#6791</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-08-29 04:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>Putting this up as a follow-up to <a href="https://github.com/astral-sh/uv/pull/6790">astral-sh/uv#6790</a></p>
<p>Drops the awkward nested tokio runtime in favor of making parts of the Git fetch API async. More work will be required to wrap some of the Git CLI calls in <code>spawn_blocking</code> to avoid blocking the runtime during slow subprocess invocations.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-08-29 04:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-git/src/git.rs</code>:723 on 2024-08-29 04:29</div>
            <div class="timeline-body"><p>We can remove this, which is nice.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-29 16:57</div>
            <div class="timeline-body"><p>I&#x27;m still in favor of this personally!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-29 17:01</div>
            <div class="timeline-body"><p>Yeah we just need to make sure we&#x27;re doing the right thing in all the subprocess calls â€” it will be a second before I prioritize this.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:47:55 UTC
    </footer>
</body>
</html>
