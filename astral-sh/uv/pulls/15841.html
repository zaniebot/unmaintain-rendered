<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add GHE support for gist resolution with GH_HOST - astral-sh/uv #15841</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add GHE support for gist resolution with GH_HOST</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/15841">#15841</a>
        opened by <a href="https://github.com/harshithvh">@harshithvh</a>
        on 2025-09-14 15:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/harshithvh">@harshithvh</a> on 2025-09-14 15:51</div>
            <div class="timeline-body"><!--
Thank you for contributing to uv! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<ul>
<li><strong>GH_HOST environment variable</strong></li>
<li><strong>URL-based host detection</strong></li>
<li><strong>GitHub CLI-compatible API patterns</strong> using <code>/api/v3/</code> endpoints</li>
<li><strong>Dual pattern support</strong>: subdomain (<code>gist.enterprise.com</code>) and path (<code>enterprise.com/gist/</code>)</li>
</ul>
<p>Thanks for this (https://github.com/astral-sh/uv/issues/15109#issuecomment-3211400349) @jorgehermo9 üôè</p>
<p>closes #15109</p>
<h2>Test Plan</h2>
<ul>
<li>URL-based vs environment-based detection scenarios</li>
<li>integration tests for all Enterprise patterns</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jorgehermo9">@jorgehermo9</a> on 2025-09-14 18:21</div>
            <div class="timeline-body"><p>As I commented in https://github.com/astral-sh/uv/issues/15109#issuecomment-3211400349 I think we shouldn't use the <code>GH_HOST</code> env var unless we add something like <code>uv run --gist &lt;gist_id&gt;</code>, because with what we have right now, we already know the host we should use, as the input is the gist's web url and not only the id. Allowing the <code>GH_HOST</code> would be pointless in my opinion (at least right now)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harshithvh">@harshithvh</a> on 2025-09-14 18:35</div>
            <div class="timeline-body"><blockquote>
<p>As I commented in <a href="https://github.com/astral-sh/uv/issues/15109#issuecomment-3211400349">#15109 (comment)</a> I think we shouldn't use the <code>GH_HOST</code> env var unless we add something like <code>uv run --gist &lt;gist_id&gt;</code>, because with what we have right now, we already know the host we should use, as the input is the gist's web url and not only the id. Allowing the <code>GH_HOST</code> would be pointless in my opinion (at least right now)</p>
</blockquote>
<p>Hm, I don't see the harm/downside in keeping GH_HOST support, when we add <code>uv run --gist &lt;gist_id&gt;</code> enterprise users will need GH_HOST. Removing it now = breaking change later.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harshithvh">@harshithvh</a> on 2025-10-31 11:13</div>
            <div class="timeline-body"><p>@zanieb , it would be great if you could review this when you have some time
Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:30:32 UTC
    </footer>
</body>
</html>
