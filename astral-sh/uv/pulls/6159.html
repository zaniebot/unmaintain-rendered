<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tests: fix marker emitting tests - astral-sh/uv #6159</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>tests: fix marker emitting tests</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/6159">#6159</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2024-08-16 17:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>The test output seems to depend on using Python 3.12.1 specifically.
While I&#x27;m not sure how it happens, it seems like these can get out of
sync between CI and local testing. In this case, I had a problem where
the marker expressions emitted locally were tied to Python 3.12.4, but
the tests in CI were tied to Python 3.12.1. Changing the test to require
3.12.1 specifically fixes this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-08-16 17:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-08-16 19:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;tests: update snapshots and delete unreferenced snapshots&quot; to &quot;tests: fix marker emitting tests&quot; by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-08-19 12:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-08-19 12:48</div>
            <div class="timeline-body"><p>I&#x27;ve changed this PR to tweak the failing tests to specifically require Python <code>3.12.1</code> instead of just <code>3.12</code>. These tests in particular seem sensitive to the specific Python patch version, and this was out of sync between my local environment and CI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-08-19 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-08-19 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-08-19 13:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:47:27 UTC
    </footer>
</body>
</html>
