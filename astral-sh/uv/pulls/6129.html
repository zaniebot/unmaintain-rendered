<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add debug representation for `MarkerTree` - astral-sh/uv #6129</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add debug representation for <code>MarkerTree</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/6129">#6129</a>
        opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a>
        on 2024-08-15 21:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ibraheemdev">@ibraheemdev</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Adds a simple <code>Debug</code> representation for <code>MarkerTree</code> based on the underlying decision diagram. For example, <code>python_version == '3.7' and os_name == 'Linux') or os_name == 'Windows'</code> is displayed as:</p>
<pre><code>python_version&lt;3.7 | &gt;3.7 -&gt; 
  os_name&lt;Windows | &gt;Windows -&gt; false
  os_name==Windows -&gt; true
python_version==3.7 -&gt; 
  os_name&lt;Linux | &gt;Linux, &lt;Windows | &gt;Windows -&gt; false
  os_name==Linux | ==Windows -&gt; true
</code></pre>
<p>I'm not sure we want to use this form for our debug logs because it could be confusing to users but we've also run into issues where markers looked equal when simplified despite being represented slightly differently..</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @ibraheemdev on 2024-08-15 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2024-08-15 21:29</div>
            <div class="timeline-body"><p>We should probably add a separate method <code>display_maybe_empty</code> for user facing output.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @ibraheemdev on 2024-08-15 21:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-08-16 14:14</div>
            <div class="timeline-body"><blockquote>
<p>but we've also run into issues where markers looked equal when simplified despite being represented slightly differently..</p>
</blockquote>
<p>Can you show an example? I really like how our <code>Debug</code> implementation works today, especially since it fits on one line. (Although that does break down for larger markers.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> removed by @zanieb on 2024-08-20 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-09-06 20:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:38:53 UTC
    </footer>
</body>
</html>
