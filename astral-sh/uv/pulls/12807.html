<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix CLI reference with code block - astral-sh/uv #12807</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix CLI reference with code block</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/12807">#12807</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-04-10 13:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Due to https://github.com/clap-rs/clap/issues/5900, clap folds docstring code blocks in a way that breaks the rendering of the <code>uv publish --index</code> option to html. As a workaround, <code>verbatim_doc_comment</code> prevents this.</p>
<p>Release:
<img src="https://github.com/user-attachments/assets/66d9af51-ac23-47f6-a859-7b20a4f1f4a2" alt="image" /></p>
<p>PR:
<img src="https://github.com/user-attachments/assets/6a32a5a6-1dd8-49ff-a853-9df02f0141ad" alt="image" /></p>
<p>Release:</p>
<pre><code>      --index &lt;INDEX&gt;
          The name of an index in the configuration to use for publishing.
          
          The index must have a `publish-url` setting, for example:
          
          ```toml [[tool.uv.index]] name = &quot;pypi&quot; url =
          &quot;https://pypi.org/simple&quot; publish-url =
          &quot;https://upload.pypi.org/legacy/&quot; ```
          
          The index `url` will be used to check for existing files to skip
          duplicate uploads.
          
          With these settings, the following two calls are equivalent:
          
          ``` uv publish --index pypi uv publish --publish-url
          https://upload.pypi.org/legacy/ --check-url https://pypi.org/simple
          ```
          
          [env: UV_PUBLISH_INDEX=]
</code></pre>
<p>PR:</p>
<pre><code>      --index &lt;INDEX&gt;
          The name of an index in the configuration to use for publishing.
          
          The index must have a `publish-url` setting, for example:
          
          ```toml
          [[tool.uv.index]]
          name = &quot;pypi&quot;
          url = &quot;https://pypi.org/simple&quot;
          publish-url = &quot;https://upload.pypi.org/legacy/&quot;
          ```
          
          The index `url` will be used to check for existing files to skip
          duplicate uploads.
          
          With these settings, the following two calls are equivalent:
          
          ```shell
          uv publish --index pypi
          uv publish --publish-url https://upload.pypi.org/legacy/
          --check-url https://pypi.org/simple
          ```
          
          [env: UV_PUBLISH_INDEX=]
</code></pre>
<p>Fixes #12652</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @konstin on 2025-04-10 13:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jtfmumm">@jtfmumm</a> approved on 2025-04-10 13:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-04-10 15:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-04-10 15:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-04-10 15:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:42:45 UTC
    </footer>
</body>
</html>
