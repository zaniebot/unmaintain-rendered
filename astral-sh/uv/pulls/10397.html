<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>improve shell compatibility of venv activate scripts - astral-sh/uv #10397</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>improve shell compatibility of venv activate scripts</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/10397">#10397</a>
        opened by <a href="https://github.com/Gankra">@Gankra</a>
        on 2025-01-08 15:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a></div>
            <div class="timeline-body"><p>The shellcheck action we uses misses some files, so they fell out of spec for what we support. This PR first and foremost adds them to the scanning list, and then fixes the issues found.</p>
<p>Fixes #7480</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @Gankra on 2025-01-08 17:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2025-01-08 17:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-01-08 17:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @Gankra on 2025-01-08 18:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Gankra on 2025-01-08 18:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-01-08 18:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andypost">@andypost</a> on 2025-01-11 00:53</div>
            <div class="timeline-body"><p>This change caused our CI to fail using <code>alpine:edge</code> image</p>
<pre><code>web-1  | /srv/scripts/run.sh: /srv/.venv/bin/activate: line 81: OSTYPE: parameter not set
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andypost">@andypost</a> on 2025-01-11 01:12</div>
            <div class="timeline-body"><p>Claude said to add default</p>
<pre><code class="language-sh"># Set default OSTYPE if not set
: &quot;${OSTYPE:=unknown}&quot;
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:41:21 UTC
    </footer>
</body>
</html>
