```yaml
number: 4082
title: "Respect existing `.egg-info` files in site packages"
type: pull_request
state: merged
author: charliermarsh
labels:
  - compatibility
assignees: []
merged: true
base: main
head: charlie/egg-link
created_at: 2024-06-06T00:54:03Z
updated_at: 2024-06-25T21:21:12Z
url: https://github.com/astral-sh/uv/pull/4082
synced_at: 2026-01-10T13:48:28Z
```

# Respect existing `.egg-info` files in site packages

---

_Pull request opened by @charliermarsh on 2024-06-06 00:54_

## Summary

As with other `.egg-info` and `.egg-link` distributions, it's easy to support _existing_ `.egg-info` files. Like pip, we refuse to uninstall these, since there's no way to know which files are part of the distribution.

Closes https://github.com/astral-sh/uv/issues/4059.

## Test Plan

Verify that `vtk` is included here, which is installed as a `.egg-link` file:

```
> conda create -c conda-forge -n uv-test python h5py vtk pyside6 cftime psutil

> cargo run pip freeze --python /opt/homebrew/Caskroom/miniforge/base/envs/uv-test/bin/python
aiohttp @ file:///Users/runner/miniforge3/conda-bld/aiohttp_1713964997382/work
aiosignal @ file:///home/conda/feedstock_root/build_artifacts/aiosignal_1667935791922/work
attrs @ file:///home/conda/feedstock_root/build_artifacts/attrs_1704011227531/work
cached-property @ file:///home/conda/feedstock_root/build_artifacts/cached_property_1615209429212/work
cftime @ file:///Users/runner/miniforge3/conda-bld/cftime_1715919201099/work
frozenlist @ file:///Users/runner/miniforge3/conda-bld/frozenlist_1702645558715/work
h5py @ file:///Users/runner/miniforge3/conda-bld/h5py_1715968397721/work
idna @ file:///home/conda/feedstock_root/build_artifacts/idna_1713279365350/work
loguru @ file:///Users/runner/miniforge3/conda-bld/loguru_1695547410953/work
msgpack @ file:///Users/runner/miniforge3/conda-bld/msgpack-python_1715670632250/work
multidict @ file:///Users/runner/miniforge3/conda-bld/multidict_1707040780513/work
numpy @ file:///Users/runner/miniforge3/conda-bld/numpy_1707225421156/work/dist/numpy-1.26.4-cp312-cp312-macosx_11_0_arm64.whl
pip==24.0
psutil @ file:///Users/runner/miniforge3/conda-bld/psutil_1705722460205/work
pyside6==6.7.1
setuptools==70.0.0
shiboken6==6.7.1
vtk==9.2.6
wheel==0.43.0
wslink @ file:///home/conda/feedstock_root/build_artifacts/wslink_1716591560747/work
yarl @ file:///Users/runner/miniforge3/conda-bld/yarl_1705508643525/work
```


---

_Label `compatibility` added by @charliermarsh on 2024-06-06 00:54_

---

_Marked ready for review by @charliermarsh on 2024-06-06 00:54_

---

_Merged by @charliermarsh on 2024-06-06 01:00_

---

_Closed by @charliermarsh on 2024-06-06 01:00_

---

_Branch deleted on 2024-06-06 01:00_

---

_Renamed from "Respect existing `.egg-link` files in site packages" to "Respect existing `.egg-info` files in site packages" by @charliermarsh on 2024-06-25 21:21_

---
