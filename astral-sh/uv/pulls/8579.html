<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat(docs): add Google Artifact Registry index instructions - astral-sh/uv #8579</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat(docs): add Google Artifact Registry index instructions</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/8579">#8579</a>
        opened by <a href="https://github.com/stegayet">@stegayet</a>
        on 2024-10-25 22:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/stegayet">@stegayet</a> on 2024-10-25 22:21</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This commit adds Google Artifact Registry authentication instructions for both basic HTTP authentication and keyring methods.</p>
<h2>Test Plan</h2>
<p>Locally tested using both methods.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Tsafaras">@Tsafaras</a> reviewed on 2024-10-26 10:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Tsafaras">@Tsafaras</a> on <code>docs/guides/integration/alternative-indexes.md</code>:69 on 2024-10-26 10:28</div>
            <div class="timeline-body"><p>What about using a Service Account?</p>
<p>That's how I approach it in a CI environment, at least. Following this <a href="https://cloud.google.com/docs/authentication#auth-decision-tree">Google guide</a> too.
Not sure if you have a better approach.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-10-26 16:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2024-10-26 16:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/stegayet">@stegayet</a> reviewed on 2024-10-28 08:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/stegayet">@stegayet</a> on <code>docs/guides/integration/alternative-indexes.md</code>:69 on 2024-10-28 08:17</div>
            <div class="timeline-body"><p>I can mention other authentication methods indeed :+1:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Tsafaras">@Tsafaras</a> on <code>docs/guides/integration/alternative-indexes.md</code>:114 on 2024-10-29 21:17</div>
            <div class="timeline-body"><p>Can you please double check that it works for you?
Because it doesn't work for me at all, so I don't know if I'm doing something wrong, or if something's wrong with your guide.</p>
<p>I can successfully make it work <em>without</em> <code>uv</code> though, if I use this:</p>
<pre><code class="language-bash">python -m venv .venv
source .venv/bin/activate
pip install keyring keyrings.google-artifactregistry-auth
</code></pre>
<p>and adding the AR's repo index to <code>pip.conf</code>:</p>
<pre><code class="language-bash">cat &gt; .venv/pip.conf &lt;&lt; EOF
[global]
extra-index-url = https://{LOCATION}-python.pkg.dev/{PROJECT}/{REPOSITORY/simple/
EOF
</code></pre>
<p>Then I can install packages either from PyPI or from my private AR:</p>
<p><img src="https://github.com/user-attachments/assets/fb1865fe-8b5d-4cef-89a8-dcdb710050fa" alt="image" /></p>
<p>But with <code>uv</code>, it doesn't work, no matter what I've tried so far. I can't even install from PyPI...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Tsafaras">@Tsafaras</a> reviewed on 2024-10-29 21:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-10-29 22:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/guides/integration/alternative-indexes.md</code>:114 on 2024-10-29 22:32</div>
            <div class="timeline-body"><p>@Tsafaras are you including the <code>oauth2accesstoken</code> username as described there?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-10-29 22:45</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2024-10-29 22:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-10-29 22:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Tsafaras">@Tsafaras</a> on <code>docs/guides/integration/alternative-indexes.md</code>:114 on 2024-10-30 07:22</div>
            <div class="timeline-body"><p>Yes, I tried all combinations of the guide and none of them worked for me.
I even tried stuff that's not in the guide, still nothing...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Tsafaras">@Tsafaras</a> reviewed on 2024-10-30 07:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-30 08:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:02:11 UTC
    </footer>
</body>
</html>
