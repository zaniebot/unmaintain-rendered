<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`uv tool run` suggest valid commands when command is not found - astral-sh/uv #4997</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>uv tool run</code> suggest valid commands when command is not found</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/4997">#4997</a>
        opened by <a href="https://github.com/blueraft">@blueraft</a>
        on 2024-07-11 19:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/blueraft">@blueraft</a> on 2024-07-11 19:20</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Resolves #4979.</p>
<h2>Test Plan</h2>
<p><code>cargo test</code></p>
<img width="619" alt="Screenshot 2024-07-11 at 22 45 36" src="https://github.com/user-attachments/assets/62526010-9123-43f5-9f8d-1f9e89f6be59">

<img width="636" alt="Screenshot 2024-07-11 at 22 45 23" src="https://github.com/user-attachments/assets/a348cd73-f891-40b1-8934-afbd1aa19326">

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2024-07-11 20:15</div>
            <div class="timeline-body"><blockquote>
<img alt="Screenshot 2024-07-11 at 21 18 05" width="506" src="https://private-user-images.githubusercontent.com/11220895/347964190-bcc2484d-4813-4405-989a-e08316f053a8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjA3Mjg3ODksIm5iZiI6MTcyMDcyODQ4OSwicGF0aCI6Ii8xMTIyMDg5NS8zNDc5NjQxOTAtYmNjMjQ4NGQtNDgxMy00NDA1LTk4OWEtZTA4MzE2ZjA1M2E4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA3MTElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNzExVDIwMDgwOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc0YzE2NDdhMTA1NTQwMjA4NDBkMWRkYzA4MzM0M2QzZWE2NWQ0NzAyOTgyMTdhZDM3ZjUxOTQ0OTdiNzJhMDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.cAhRWa_8yEu3LG31k9h__-UmBeaVaEqpxgTK6O6cVWI">
As new user I expect to hint about `--from` when not used:

</blockquote>
<pre><code>However, the following executables are available via `uvx --from fastapi-cli &lt;EXECUTABLE&gt;`:
    - fastapi.exe
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2024-07-11 20:44</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<img alt="Screenshot 2024-07-11 at 21 18 05" width="506" src="https://private-user-images.githubusercontent.com/11220895/347964190-bcc2484d-4813-4405-989a-e08316f053a8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjA3Mjg3ODksIm5iZiI6MTcyMDcyODQ4OSwicGF0aCI6Ii8xMTIyMDg5NS8zNDc5NjQxOTAtYmNjMjQ4NGQtNDgxMy00NDA1LTk4OWEtZTA4MzE2ZjA1M2E4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA3MTElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNzExVDIwMDgwOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc0YzE2NDdhMTA1NTQwMjA4NDBkMWRkYzA4MzM0M2QzZWE2NWQ0NzAyOTgyMTdhZDM3ZjUxOTQ0OTdiNzJhMDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.cAhRWa_8yEu3LG31k9h__-UmBeaVaEqpxgTK6O6cVWI">

</blockquote>
<p>As new user I expect to hint about <code>--from</code> when not used:</p>
<pre><code>However, the following executables are available via `uvx --from fastapi-cli &lt;EXECUTABLE&gt;`:
    - fastapi.exe
</code></pre>
</blockquote>
<p>Thanks! that makes sense, I went with <code>uv tool run --from cmd &lt;EXECUTABLE&gt;</code> instead because <code>uvx</code> is just an alias.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/T-256">@T-256</a> reviewed on 2024-07-11 21:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/T-256">@T-256</a> on <code>crates/uv/src/commands/tool/run.rs</code>:157 on 2024-07-11 21:01</div>
            <div class="timeline-body"><p>Could it be ignored when user already used <code>--from</code>? I think he don't need to know about this hint. So IMO list of available executables is enough for him.</p>
<pre><code class="language-rust">                if !entry_points.is_empty() {
                    let from_option_hint = if from == None { &quot; via `uv tool run --from {from} &lt;EXECUTABLE&gt;`&quot; } else { &quot;&quot; }
                    writeln!(
                        printer.stdout(),
                        &quot;However, the following executables are available{from_option_hint}:&quot;,
                    )?;
                }
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-07-12 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2024-07-12 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2024-07-12 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @charliermarsh on 2024-07-12 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-07-12 01:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 01:45</div>
            <div class="timeline-body"><p>Nice, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-07-12 02:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-07-12 02:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a> reviewed on 2024-07-12 03:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/j178">@j178</a> on <code>crates/uv/src/commands/tool/run.rs</code>:144 on 2024-07-12 03:28</div>
            <div class="timeline-body"><p>Are executables from sub-depencencies considered as <em>available</em>? For instance, <code>uv tool run --from fastapi</code>, <code>uvicorn</code> is also an available executable, but it is not listed here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-07-12 03:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/tool/run.rs</code>:144 on 2024-07-12 03:31</div>
            <div class="timeline-body"><p>I think we'll want a separate flag to opt-in to that, per https://github.com/astral-sh/uv/issues/4994</p>
<p>Maybe we should even warn or error if someone uses an executable that's not provided by the <code>--from</code> package?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:43:10 UTC
    </footer>
</body>
</html>
