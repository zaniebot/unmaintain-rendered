<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use optimized versions of managed Python on Linux - astral-sh/uv #4775</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use optimized versions of managed Python on Linux</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/4775">#4775</a>
        opened by <a href="https://github.com/Di-Is">@Di-Is</a>
        on 2024-07-03 14:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Di-Is">@Di-Is</a> on 2024-07-03 14:41</div>
            <div class="timeline-body"><p>Fix #4774.</p>
<h2>Summary</h2>
<p>Change the python interpreter for linux installed with <code>uv python</code> to an optimized one.</p>
<h2>Test Plan</h2>
<p>I ran the following command on Linux (glibc) to confirm that an optimized (not debug built) Python is installed.</p>
<pre><code class="language-bash"># install python
uv python install 3.12.3

# check build type
uv run python -c &quot;import sysconfig;print(sysconfig.get_config_var('Py_DEBUG'))&quot;
0
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Replace linux python downloaded by `uv python` command with optimized one" to "Replace python interpreter for linux downloaded by `uv python` command with optimized one" by @Di-Is on 2024-07-03 14:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-03 15:55</div>
            <div class="timeline-body"><p>:D of course I see this <em>after</em> I've debugged it and found this is the problem. Glad we agree though! Thanks for opening a pull request.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-07-03 15:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Replace python interpreter for linux downloaded by `uv python` command with optimized one" to "Use optimized versions of managed Python on Linux" by @zanieb on 2024-07-03 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2024-07-03 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @zanieb on 2024-07-03 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2024-07-03 15:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-07-03 15:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-07-03 21:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/helderco">@helderco</a> on <code>crates/uv-python/download-metadata.json</code>:22 on 2024-07-05 14:42</div>
            <div class="timeline-body"><p>The archive for <code>lto</code> is more than 3 times the size of <code>debug</code>.</p>
<p>Looking at the docs, there's an <a href="https://gregoryszorc.com/docs/python-build-standalone/main/distributions.html#install-only-archive">Install Only Archive</a>. Does uv need the <em>full</em> variant?</p>
<pre><code>cpython-3.12.3+20240415-aarch64-unknown-linux-gnu-debug-full.tar.zst	48MB
cpython-3.12.3+20240415-aarch64-unknown-linux-gnu-lto-full.tar.zst	178MB
cpython-3.12.3+20240415-aarch64-unknown-linux-gnu-install_only.tar.gz	24.4MB
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/helderco">@helderco</a> reviewed on 2024-07-05 14:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-07-05 15:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-python/download-metadata.json</code>:22 on 2024-07-05 15:37</div>
            <div class="timeline-body"><p>I'm not sure why Rye opted not to use these (and our download preferences are based on the implementation over there). Here's an issue for discussion https://github.com/astral-sh/uv/issues/4834</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 13:48:47 UTC
    </footer>
</body>
</html>
