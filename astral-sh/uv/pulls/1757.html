<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fix 'pip install' for zips with bunk permissions - astral-sh/uv #1757</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>fix &#x27;pip install&#x27; for zips with bunk permissions</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/1757">#1757</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2024-02-20 15:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>This fixes an issue where installing a source dist from a <code>zip</code> file could
fail if the permissions in the <code>zip</code> file were bunk. Namely, after extracting
a <code>zip</code> file, we go through each record and set the permissions on each file
based on the permissions recorded in the <code>zip</code> file. But apparently, those
permissions are sometimes present but <code>0</code>, which in turn caused us to set the
permissions to <code>0</code> on files and thus prevent our access to them.</p>
<p>We fix this by treating &quot;absent permissions&quot; and &quot;permissions of mode 0&quot; as the
same thing.</p>
<p>Fixes #1453</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-20 15:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-20 15:13</div>
            <div class="timeline-body"><p>This fix is actually duplicative with <a href="https://github.com/astral-sh/uv/pull/1743">astral-sh/uv#1743</a>, which also fixes #1453 (but in a better way). So I removed the &quot;fix&quot; from this PR, but kept the regression test and a couple other small fixups. Once #1743 is merged, we should be able to bring this one in. (CI for this branch will fail on the regression test until then.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-20 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-20 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-20 15:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-02-20 15:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:43:47 UTC
    </footer>
</body>
</html>
