<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `--with-requirements script.py` and `-r script.py` to include inline dependency metadata from another script - astral-sh/uv #12763</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support `--with-requirements script.py` and `-r script.py` to include inline dependency metadata from another script</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/12763">#12763</a>
        opened by <a href="https://github.com/blueraft">@blueraft</a>
        on 2025-04-08 21:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/blueraft">@blueraft</a> on 2025-04-08 21:08</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Closes #6542</p>
<h2>Test Plan</h2>
<p><code>cargo test</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:4384 on 2025-04-08 21:46</div>
            <div class="timeline-body"><p>I'm not sure how we'll want to reframe the documentation here.</p>
<p>Maybe we want something like..</p>
<blockquote>
<p>Run with all packages listed in the given requirements files.</p>
<p>The following formats are accepted:</p>
<ul>
<li><code>requirements.txt</code>-formatted files</li>
<li><code>pyproject.toml</code></li>
<li><code>setup.cfg</code> and <code>setup.py</code></li>
<li><code>.py</code> files with PEP 723 metadata</li>
</ul>
</blockquote>
<p>I'm not sure if we want to enumerate those everywhere? Are they all supported everywhere?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-08 21:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-08 21:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-04-08 21:47</div>
            <div class="timeline-body"><p>We'll probably want to support PEP 723 scripts as requirements sources everywhere if we support them somewhere. It's probably reasonable to start with <code>uv run</code> and <code>uv tool run</code>? but we'll probably want to consider other use-cases too. I'd be surprised if it was just supported in <code>uv tool run</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-08 21:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:4386 on 2025-04-08 21:50</div>
            <div class="timeline-body"><p>Separately from the documentation, we need to make sure we want <code>--with-requirements</code> to support this format. It means we won't be able to read requirements from a PEP 723 script without a <code>.py</code> extension (which is more common than I expected) unless we want to start sniffing for the metadata block? Maybe that's reasonable?</p>
<p>Another option is like <code>--with-script</code>, which only really applies to <code>uv run</code> / <code>uv tool run</code> (i.e., we'd need something else in <code>uv pip install</code> like <code>--script &lt;path&gt;</code> instead of <code>-r &lt;path&gt;</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-04-08 21:51</div>
            <div class="timeline-body"><p>That was more straight-forward than I assumed! I think we'll need to align on the interface.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-08 21:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-04-08 21:55</div>
            <div class="timeline-body"><p>Bringing <code>uv run</code> into the picture does complicate things a little, like <code>uv run --with-script foo.py $EDITOR</code> ‚Äî I guess we are supposed to layer on top of the project environment there but then we can't use the stable script environment path?</p>
<p>@sharkdp I would be curious how you expect this to behave / what your dream interface is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2025-04-09 00:55</div>
            <div class="timeline-body"><ul>
<li>Also consider it for <code>uv run</code>: https://github.com/astral-sh/uv/issues/7032</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv-cli/src/lib.rs</code>:4386 on 2025-04-09 12:53</div>
            <div class="timeline-body"><p>I like the <code>--with-script</code> option. The <code>.py</code> extension issue would be gone and  makes it easier to add similar options to other commands later. Better than having <code>--with-requirements</code> act slightly differently in different places.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-04-09 12:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-04-09 12:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv-cli/src/lib.rs</code>:4384 on 2025-04-09 12:55</div>
            <div class="timeline-body"><p>This is the help text for <code>uv pip install -r</code>, where <code>pyproject.toml</code> is also supported</p>
<pre><code class="language-bash">  -r, --requirements &lt;REQUIREMENTS&gt;            Install all packages listed in the given `requirements.txt` files
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:4384 on 2025-04-09 13:32</div>
            <div class="timeline-body"><p>Looks outdated :) we can probably update those holistically separately if you prefer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-09 13:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jtfmumm">@jtfmumm</a> reviewed on 2025-04-09 13:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/jtfmumm">@jtfmumm</a> on <code>crates/uv-cli/src/lib.rs</code>:4386 on 2025-04-09 13:41</div>
            <div class="timeline-body"><p>Would <code>--with-script &lt;script&gt;</code> mean we're just using the requirements from <code>&lt;script&gt;</code> or that we're running it? For the former, I think something like <code>--with-script-requirements</code> would be less confusing (I'd read <code>uv run --with-script</code> to mean we're running that script).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-04-09 13:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-cli/src/lib.rs</code>:4386 on 2025-04-09 13:45</div>
            <div class="timeline-body"><p>Given every other format has a specific filename(?) we could just have a rule that if none match we assume it's a pep723 script. I like that at least <code>--with-requirements</code> seems to more imply the script is being invoked, so if we want a separate argument it would be nice to preserve that (<code>--script</code> or <code>--with-script</code> is further from that).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-04-09 13:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv-cli/src/lib.rs</code>:4384 on 2025-04-09 13:46</div>
            <div class="timeline-body"><p>yeah I can make a separate PR for that!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-09 13:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:4386 on 2025-04-09 13:56</div>
            <div class="timeline-body"><blockquote>
<p>Would --with-script <script> mean we're just using the requirements from <script> or that we're running it?</p>
</blockquote>
<p>It'd mean we're using the requirements for it. I suggested <code>--with-script-requirements</code> in another thread but worry it's too verbose :/ that's why I leaned towards the option of overloading <code>--with-requirements</code>.</p>
<blockquote>
<p>Given every other format has a specific filename(?)</p>
</blockquote>
<p>We actually already fall-through like this for the <code>requirements.txt</code> format, since those names are frequently arbitrary.</p>
<blockquote>
<p>I like that at least --with-requirements seems to more imply the script is being invoked,</p>
</blockquote>
<p>The script isn't being invoked though.</p>
<p>Note we already have <code>--script</code> for <code>uv run</code>. It takes no additional arguments, but specifies that the &quot;command&quot; we receive should be parsed as a script path and executed as such.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-09 19:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-04-09 19:17</div>
            <div class="timeline-body"><p>What I wanted to do originally was to run an (external) <em>tool</em>, with the virtual env. (including the requirements defined by a PEP 723 script) &quot;activated&quot;. So exactly what you indicated above for <code>$EDITOR</code>, just with arbitrary tools (like a type checker that needs to be aware of all script dependencies in order to type check it correctly):</p>
<pre><code class="language-bash">uv run --with-script foo.py &lt;tool&gt;
</code></pre>
<p>I think I do <em>not</em> want <code>uv tool run --with-script foo.py ‚Ä¶</code>, which, in my limited understanding, would do something different: I guess it would allow me to run a tool <em>from</em> the requirements of <code>foo.py</code>, but without having the virtual env. of the project itself &quot;activated&quot;.</p>
<p>I'm afraid I don't know enough about uv's CLI design goals to give any advise on how the command line option should be called. But given how often I wanted this option, I'd personally be in favor of something shorter. <code>--with-script</code> seems very reasonable to me. If it becomes <code>--with-requirements script.py</code>, I'd also be happy with that, but I think I might have had more difficulty discovering it in the <code>--help</code> text, as I would have intuitively searched for something with &quot;script&quot; in the name.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-09 19:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-04-09 19:23</div>
            <div class="timeline-body"><p>I think this new option would be more generally useful if I could not just replace a &quot;script runner&quot; (as indicated in <a href="https://github.com/astral-sh/uv/issues/6542#issuecomment-2307709992">this comment</a>), but control the full command line of the tool that is being called, even if that means that I have to repeat <code>foo.py</code> twice. So <code>uv run --with-script foo.py tool --option</code> would simply call <code>tool --option</code> without implicitly passing <code>foo.py</code> as a positional argument (<code>tool --option foo.py</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Gankra">@Gankra</a> reviewed on 2025-04-09 19:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Gankra">@Gankra</a> on <code>crates/uv-cli/src/lib.rs</code>:4386 on 2025-04-09 19:56</div>
            <div class="timeline-body"><p>(oh whoops typo: meant to say <code>--with-requirements</code> implies the script <em>isn't</em> being invoked)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-04-09 20:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-04-09 20:11</div>
            <div class="timeline-body"><blockquote>
<p>So uv run --with-script foo.py tool --option would simply call tool --option without implicitly passing foo.py as a positional argument (tool --option foo.py).</p>
</blockquote>
<p>Totally agree we shouldn't do this ‚Äî that was an original use-case that I think is too narrow.</p>
<blockquote>
<p>I think I do not want uv tool run --with-script foo.py ‚Ä¶, which, in my limited understanding, would do something different: I guess it would allow me to run a tool from the requirements of foo.py, but without having the virtual env. of the project itself &quot;activated&quot;.</p>
</blockquote>
<p>If we're being consistent with todays semantics:</p>
<p><code>uv tool run --with-script foo.py &lt;tool&gt;</code> would: install your script dependencies with the <code>&lt;tool&gt;</code> and its dependencies, invoke <code>&lt;tool&gt;</code>. The environment would be isolated from the project (today, that's how <code>uv tool run</code> works ‚Äî though we could change it to layer on top of the project environment in the future so, e.g., <code>uv tool run mypy</code> works)</p>
<p><code>uv run --with-script foo.py &lt;tool&gt;</code> would: install the script dependencies into a virtual environment, layer that virtual environment on top of the project environment (if in a project), then invoke <code>&lt;tool&gt;</code>. You could use <code>--no-project</code> to ignore the project dependencies.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-10 17:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-04-10 17:39</div>
            <div class="timeline-body"><p>That sounds great</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-15 14:06</div>
            <div class="timeline-body"><p>@blueraft I wonder if we can push this forward? I think support in <code>--with-requirements</code> might make sense still, given we read a bunch of other file types there. I wonder if we can just sniff for a PEP 723 inline metadata entry in the script if there's no file extension?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blueraft">@blueraft</a> on 2025-05-15 15:52</div>
            <div class="timeline-body"><blockquote>
<p>I wonder if we can just sniff for a PEP 723 inline metadata entry in the script if there's no file extension?</p>
</blockquote>
<p>Yeah, I think we could do that. Let me give that a try!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @blueraft on 2025-05-19 14:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gesslerpd">@gesslerpd</a> reviewed on 2025-06-25 16:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/gesslerpd">@gesslerpd</a> on <code>crates/uv/src/commands/tool/run.rs</code>:91 on 2025-06-25 16:46</div>
            <div class="timeline-body"><p>This is great, stumbled upon this while trying to use <code>uv export</code> to implement a similar setup.</p>
<blockquote>
<p><code>uv run --with-script foo.py &lt;tool&gt;</code> would: install the script dependencies into a virtual environment, layer that virtual environment on top of the project environment (if in a project), then invoke <code>&lt;tool&gt;</code>. You could use <code>--no-project</code> to ignore the project dependencies.</p>
</blockquote>
<p>Not sure a good syntax or extra flag for this but it would be nice if there was a way to opt into the <code>--with-script</code> arg being passed last but then specifying a <code>&lt;tool&gt;</code> earlier so this feature can be used directly in shebangs w/o wrappers.</p>
<p>E.g.</p>
<pre><code>#!/usr/bin/env -S uv run --tool pytest --with-script
</code></pre>
<p>Effectively all &quot;with script&quot; args are passed as positional args to the tool in this mode.</p>
<p>So resulting command is equivalent to <code>uv run --with-script &lt;script&gt; &lt;tool&gt; &lt;script&gt;</code></p>
<p>This might be difficult if extra args are required to be passed to <code>&lt;tool&gt;</code> but thought I'd throw idea out there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2025-07-28 13:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/lib.rs</code>:1178 on 2025-08-15 13:35</div>
            <div class="timeline-body"><p>I'm sorry if this is something we've talked about before (trying to pick this back up now), but why are we doing all this here instead of in <code>RequirementsSource::from_requirements_file</code>? It feels weird to parse these eagerly then filter them from the subsequent call?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-15 13:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-08-15 14:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv/src/lib.rs</code>:1178 on 2025-08-15 14:01</div>
            <div class="timeline-body"><p>As far as I can tell, <code>RequirementsSource::from_requirements_file</code> is used in a bunch of places, but we may not want to support reading requirements from a PEP723 script in all of those instances. I guess we could pass a flag to that function whether to accept PEP723 scripts or not but no strong preference there</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-15 14:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/lib.rs</code>:1178 on 2025-08-15 14:04</div>
            <div class="timeline-body"><p>I see. I think I probably would expect it to support PEP 723 scripts everywhere, e.g., <code>--with-requirements &lt;path&gt;</code> being equivalent to <code>pip install -r &lt;path&gt;</code> and <code>pip compile &lt;path&gt;</code>. I wonder if there are edge-cases where we <em>wouldn't</em> want it? Like <code>-r script.py</code> inside a <code>requirements.txt</code> file? Do we already allow <code>-r pyproject.toml</code> inside <code>requirements.txt</code> files? If so, I guess this would be fine?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-08-15 14:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv/src/lib.rs</code>:1178 on 2025-08-15 14:27</div>
            <div class="timeline-body"><blockquote>
<p><code>--with-requirements &lt;path&gt;</code> being equivalent to <code>pip install -r &lt;path&gt;</code></p>
</blockquote>
<p>Does this mean we would also support <code>uv pip install -r script.py</code>?</p>
<blockquote>
<p>Do we already allow -r pyproject.toml inside requirements.txt files?</p>
</blockquote>
<p>This doesn't seem to be supported</p>
<pre><code>‚ùØ cat requirements.txt
-r pyproject.toml
flask
‚ùØ uv pip install -r requirements.txt
error: Error parsing included file in `requirements.txt` at position 0
  Caused by: Unexpected '[', expected '-c', '-e', '-r' or the start of a requirement at pyproject.toml:1:1
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/lib.rs</code>:1178 on 2025-08-15 14:37</div>
            <div class="timeline-body"><blockquote>
<p>Does this mean we would also support uv pip install -r script.py?</p>
</blockquote>
<p>Yeah, I think so. I think it'd be inconsistent otherwise, and I'm not sure why we shouldn't support it.</p>
<blockquote>
<p>This doesn't seem to be supported</p>
</blockquote>
<p>Thank goodness :) though I'm confused by that error message ü§î</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-15 14:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @blueraft on 2025-08-15 16:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/add.rs</code>:125 on 2025-08-18 17:58</div>
            <div class="timeline-body"><pre><code class="language-suggestion">                bail!(&quot;Adding requirements from a PEP 723 script is not supported in `uv add`&quot;);
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 17:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 17:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/src/commands/project/add.rs</code>:125 on 2025-08-18 17:59</div>
            <div class="timeline-body"><p>We probably could support this fwiw ‚Äî it seems less confusing than importing from another project. It seems good to wait until there's a clear use-case though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-requirements/src/specification.rs</code>:190 on 2025-08-18 18:00</div>
            <div class="timeline-body"><p>I'd probably omit the <code>run ... to initialize</code> hint. That belongs outside the error message. The dependencies would be empty too, so it'd have no meaningful effect for this kind of usage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 18:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 18:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-requirements/src/specification.rs</code>:199 on 2025-08-18 18:00</div>
            <div class="timeline-body"><p>Similarly, I'd omit the <code>run ...</code> here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-requirements/src/sources.rs</code>:16 on 2025-08-18 18:06</div>
            <div class="timeline-body"><p>We should stylize this consistently</p>
<pre><code class="language-suggestion">    /// Dependencies were provided via a PEP 723 script.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 18:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/it/tool_run.rs</code>:2716 on 2025-08-18 18:07</div>
            <div class="timeline-body"><p>I wonder if we should just say &quot;script metadata tag&quot;? I generally don't want the specification to be a user-facing concept and prefer to refer to &quot;inline script metadata&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 18:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-08-18 19:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv-requirements/src/specification.rs</code>:190 on 2025-08-18 19:36</div>
            <div class="timeline-body"><p>Done</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Support `--with-requirements script.py` to include inline dependency metadata from another script" to "Support `--with-requirements script.py` and `-r script.py` to include inline dependency metadata from another script" by @blueraft on 2025-08-18 19:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @blueraft on 2025-08-18 19:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 21:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:1803 on 2025-08-18 21:32</div>
            <div class="timeline-body"><p>We don't wrap PEP 723 in backticks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-requirements/src/specification.rs</code>:190 on 2025-08-18 21:33</div>
            <div class="timeline-body"><pre><code class="language-suggestion">                            &quot;`{}` does not contain inline script metadata&quot;,
</code></pre>
<p>Just bike-shedding the message, but note we don't end with a period for single sentence errors..</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2025-08-18 21:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/blueraft">@blueraft</a> reviewed on 2025-08-19 08:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/blueraft">@blueraft</a> on <code>crates/uv-requirements/src/specification.rs</code>:190 on 2025-08-19 08:17</div>
            <div class="timeline-body"><p>Done</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-09-05 16:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-09-05 16:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-09-05 16:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-09-05 16:45</div>
            <div class="timeline-body"><p>Thank you so much for your patience here!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @zanieb on 2025-09-05 16:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:38:41 UTC
    </footer>
</body>
</html>
