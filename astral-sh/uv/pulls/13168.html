<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Rust crate rustix to v1 - astral-sh/uv #13168</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update Rust crate rustix to v1</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/13168">#13168</a>
        opened by <a href="https://github.com/renovate">@renovate</a>
        on 2025-04-28 03:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/renovate">@renovate</a></div>
            <div class="timeline-body"><p>This PR contains the following updates:</p>
<p>| Package | Type | Update | Change |
|---|---|---|---|
| <a href="https://redirect.github.com/bytecodealliance/rustix">rustix</a> | workspace.dependencies | major | <code>0.38.37</code> -&gt; <code>1.0.0</code> |</p>
<hr>
Release Notes

bytecodealliance/rustix (rustix)

<a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.4...v1.0.5"><code>v1.0.5</code></a>
<p><a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.4...v1.0.5">Compare Source</a></p>
<a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.3...v1.0.4"><code>v1.0.4</code></a>
<p><a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.3...v1.0.4">Compare Source</a></p>
<a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.2...v1.0.3"><code>v1.0.3</code></a>
<p><a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.2...v1.0.3">Compare Source</a></p>
<a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.1...v1.0.2"><code>v1.0.2</code></a>
<p><a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.1...v1.0.2">Compare Source</a></p>
<a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.0...v1.0.1"><code>v1.0.1</code></a>
<p><a href="https://redirect.github.com/bytecodealliance/rustix/compare/v1.0.0...v1.0.1">Compare Source</a></p>
<a href="https://redirect.github.com/bytecodealliance/rustix/releases/tag/v1.0.0"><code>v1.0.0</code></a>: 1.0.0
<p><a href="https://redirect.github.com/bytecodealliance/rustix/compare/v0.38.44...v1.0.0">Compare Source</a></p>
<p>This release introduces the [<code>Buffer</code> trait][Buffer trait], which is used in [<code>read</code>][read], [<code>pread</code>][pread], [<code>recv</code>][recv], [<code>recvfrom</code>][recvfrom], [<code>getrandom</code>][getrandom], [<code>readlinkat_raw</code>][readlinkat_raw], [<code>epoll::wait</code>][epoll::wait], [<code>kevent</code>][kevent], [<code>port::getn</code>][port::getn], [<code>getxattr</code>][getxattr], [<code>lgetxattr</code>][lgetxattr], [<code>fgetxattr</code>][fgetxattr], [<code>listxattr</code>][listxattr], [<code>llistxattr</code>][llistxattr], and [<code>flistxattr</code>][flistxattr], and adds support for reading data into uninitialized buffers, as well as safely reading data into the spare capacity of <code>Vec</code>s.</p>
<p>This release also simplifies the way network addresses are handled. Instead of having separate functions with <code>_v4</code>, <code>_v6</code>, <code>_unix</code>, <code>_xdp</code>, and now <code>_netlink</code> suffixes, rustix now uses a [<code>SocketAddrArg</code> trait][SocketAddrArg trait] so that functions such as [<code>bind</code>][bind], [<code>connect</code>][connect], [<code>sendto</code>][sendto], and [<code>sendmsg_addr</code>][sendmsg_addr] can accept any type of address, and are easier to extend to new address types in the future.</p>
<p>And, this release simplifies the <code>ioctl</code> API, replacing opcode wrapper types with const generics.</p>
<p>This updates several APIs to add Linux 6.13 features, and raw linux-raw-sys types are no longer exposed in the public API, so it should be easier to stay up to date with new Linux releases.</p>
<p>And many more new features, bug fixes, and cleanups. See the <a href="https://redirect.github.com/bytecodealliance/rustix/blob/main/CHANGES.md#changes-from-038x-to-1x">CHANGES.md file</a> for the full list of breaking changes.</p>


<hr>
Configuration
<p>üìÖ <strong>Schedule</strong>: Branch creation - &quot;before 4am on Monday&quot; (UTC), Automerge - At any time (no schedule defined).</p>
<p>üö¶ <strong>Automerge</strong>: Disabled by config. Please merge this manually once you are satisfied.</p>
<p>‚ôª <strong>Rebasing</strong>: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.</p>
<p>üîï <strong>Ignore</strong>: Close this PR and you won&#x27;t be reminded about this update again.</p>
<hr>
<ul>
<li>[ ] If you want to rebase/retry this PR, check this box</li>
</ul>
<hr>
<p>This PR was generated by <a href="https://mend.io/renovate/">Mend Renovate</a>. View the <a href="https://developer.mend.io/github/astral-sh/uv">repository job log</a>.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2025-04-28 03:18</div>
            <div class="timeline-body">‚ö†Ô∏è Artifact update problem
<p>Renovate failed to update an artifact related to this branch. You probably do not want to merge this PR as-is.</p>
<p>‚ôª Renovate will retry this branch, including artifacts, only when one of the following happens:</p>
<ul>
<li>any of the package files in this branch needs updating, or</li>
<li>the branch becomes conflicted, or</li>
<li>you click the rebase/retry checkbox if found above, or</li>
<li>you rename this PR&#x27;s title to start with &quot;rebase!&quot; to trigger it manually</li>
</ul>
<p>The artifact failure details are included below:</p>
File name: Cargo.lock
<pre><code>Command failed: cargo update --config net.git-fetch-with-cli=true --manifest-path Cargo.toml --package rustix@0.38.44 --precise 1.0.5
    Updating crates.io index
error: failed to select a version for the requirement `rustix = &quot;^0.38.30&quot;`
candidate versions found which didn&#x27;t match: 1.0.5
location searched: crates.io index
required by package `which v7.0.2`
    ... which satisfies dependency `which = &quot;^7.0.0&quot;` (locked to 7.0.2) of package `uv-trampoline-builder v0.0.1 (/tmp/renovate/repos/github/astral-sh/uv/crates/uv-trampoline-builder)`
    ... which satisfies path dependency `uv-trampoline-builder` (locked to 0.0.1) of package `uv v0.6.17 (/tmp/renovate/repos/github/astral-sh/uv/crates/uv)`

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2025-04-28 03:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2025-04-28 09:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/konstin">@konstin</a> on 2025-04-28 09:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-04-28 09:57</div>
            <div class="timeline-body">



<a href="https://codspeed.io/astral-sh/uv/branches/renovate%2Frustix-1.x">CodSpeed Performance Report</a>
Merging #13168 will <strong>degrade performances by 10.55%</strong>
<p>Comparing <code>renovate/rustix-1.x</code> (dbec56a) with <code>main</code> (cfe82dc)</p>
Summary
<p><code>‚ùå 1</code> regressions<br>
<code>‚úÖ 13</code> untouched benchmarks</p>
<blockquote>
<p>:warning: <em>Please fix the performance issues or <a href="https://codspeed.io/astral-sh/uv/branches/renovate%2Frustix-1.x">acknowledge them on CodSpeed</a>.</em></p>
</blockquote>
Benchmarks breakdown
<p>|     | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ‚ùå | <code>wheelname_tag_compatibility[flyte-short-incompatible]</code> | 742.2 ns | 829.7 ns | -10.55% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-28 12:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-04-28 12:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-04-28 12:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:52:01 UTC
    </footer>
</body>
</html>
