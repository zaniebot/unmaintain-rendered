<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix incorrect run instructions in fastapi integration guide - astral-sh/uv #13891</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix incorrect run instructions in fastapi integration guide</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/uv/pull/13891">#13891</a>
        opened by <a href="https://github.com/scottstephens">@scottstephens</a>
        on 2025-06-06 19:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/scottstephens">@scottstephens</a></div>
            <div class="timeline-body">Summary
<p>The documentation describing how to run a fastapi project in the uv/fastapi integration guide is incorrect. The existing directions result in the error &quot;Failed to canonicalize script path&quot;. This change updates the documentation to add the <code>-m</code> flag to the <code>uv run</code> command , which is necessary to run a module from a uv project dependency.</p>
Test Plan
<p>The CI build should ensure that documentation still builds properly. This is a documentation-only change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-06 19:26</div>
            <div class="timeline-body"><p>Did you not get the FastAPI CLI when using <code>fastapi[standard]</code> as the dependency?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/scottstephens">@scottstephens</a> on 2025-06-06 19:32</div>
            <div class="timeline-body"><p>@zanieb Nope, this is what I have as my dependency: <code>fastapi[standard]&gt;=0.115.11</code>, and it works with <code>uv run -m fastapi dev</code>, but not with <code>uv run fastapi dev</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-06 19:33</div>
            <div class="timeline-body"><pre><code>â¯ uv venv
Using CPython 3.13.2
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
â¯ uv pip install &#x27;fastapi[standard]&gt;=0.115.11&#x27;
Resolved 35 packages in 347ms
Installed 35 packages in 51ms
 + annotated-types==0.7.0
 + anyio==4.9.0
 + certifi==2025.4.26
 + click==8.2.1
 + dnspython==2.7.0
 + email-validator==2.2.0
 + fastapi==0.115.12
 + fastapi-cli==0.0.7
 + h11==0.16.0
 + httpcore==1.0.9
 + httptools==0.6.4
 + httpx==0.28.1
 + idna==3.10
 + jinja2==3.1.6
 + markdown-it-py==3.0.0
 + markupsafe==3.0.2
 + mdurl==0.1.2
 + pydantic==2.11.5
 + pydantic-core==2.33.2
 + pygments==2.19.1
 + python-dotenv==1.1.0
 + python-multipart==0.0.20
 + pyyaml==6.0.2
 + rich==14.0.0
 + rich-toolkit==0.14.7
 + shellingham==1.5.4
 + sniffio==1.3.1
 + starlette==0.46.2
 + typer==0.16.0
 + typing-extensions==4.14.0
 + typing-inspection==0.4.1
 + uvicorn==0.34.3
 + uvloop==0.21.0
 + watchfiles==1.0.5
 + websockets==15.0.1
â¯ uv run fastapi
Usage: fastapi [OPTIONS] COMMAND [ARGS]...
Try &#x27;fastapi --help&#x27; for help.
â•­â”€ Error â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Missing command.                                                                                                                                                                                                                          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â¯ uv run fastapi dev

   FastAPI   Starting development server ğŸš€
 
             Searching for package file structure from directories with __init__.py files
 
             Could not find a default file to run, please provide an explicit path
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-06-06 19:34</div>
            <div class="timeline-body"><p>That seems weird?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/scottstephens">@scottstephens</a> on 2025-06-06 19:52</div>
            <div class="timeline-body"><p>Hm, tried a minimal repro closer to my actual project&#x27;s setup, and <code>uv run fastapi dev</code> worked there.</p>
<p>Seems there must be something going on with my real project specifically, or some nuance of it I&#x27;m not capturing in the minimal repro.</p>
<pre><code>scott@msi-scott MINGW64 ~/dev/repros/uv-fastapi
$ uv init
Initialized project `uv-fastapi`

scott@msi-scott MINGW64 ~/dev/repros/uv-fastapi (main)
$ uv add fastapi[standard]
Using CPython 3.13.2
Creating virtual environment at: .venv
Resolved 37 packages in 1.08s
Prepared 35 packages in 1.50s
Installed 35 packages in 239ms
&lt;snip&gt;

scott@msi-scott MINGW64 ~/dev/repros/uv-fastapi (main)
$ uv run fastapi dev

   FastAPI   Starting development server ğŸš€

             Searching for package file structure from directories with __init__.py files

             Could not find FastAPI app in module, try using --app

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/scottstephens">@scottstephens</a> on 2025-06-06 20:01</div>
            <div class="timeline-body"><p>Ugh, deleted the lock file in the real project and tried again without the <code>-m</code> and it started working.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/scottstephens">@scottstephens</a> on 2025-06-06 20:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:52:31 UTC
    </footer>
</body>
</html>
