<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tweak build dependency hint wording - astral-sh/uv #16445</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>tweak build dependency hint wording</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/uv/pull/16445">#16445</a>
        opened by <a href="https://github.com/KTibow">@KTibow</a>
        on 2025-10-25 01:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/KTibow">@KTibow</a> on 2025-10-25 01:23</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>old hint wording is like</p>
<pre><code>hint: This error likely indicates that `pufferlib@3.0.0` depends on `pybind11`, but doesn't declare it as a build
dependency. If `pufferlib` is a first-party package, consider adding `pybind11` to its `build-system.requires`.
Otherwise, either add it to your `pyproject.toml` under:

[tool.uv.extra-build-dependencies]
pufferlib = [&quot;pybind11&quot;]

or `uv pip install pybind11` into the environment and re-run with `--no-build-isolation`.
</code></pre>
<p>which, in the case where it's a first-party package, is a little vague and deemphasized.</p>
<p>this pr uses wording that treats both cases as equals:</p>
<pre><code>hint: This error likely indicates that `pufferlib@3.0.0` depends on `pybind11`, but doesn't declare it as a build
dependency. You likely should tweak your `pyproject.toml`:
# if pufferlib is first-party
[build-system]
requires = [&quot;pybind11&quot;]
# otherwise
[tool.uv.extra-build-dependencies]
pufferlib = [&quot;pybind11&quot;]

or `uv pip install pybind11` into the environment and re-run with `--no-build-isolation`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @KTibow on 2025-10-25 01:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @KTibow on 2025-10-25 02:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-28 12:23</div>
            <div class="timeline-body"><p>I think we need to consider how we want to do multiline code formatting in hints like this. I believe that's why we have different instructions for the first-party case (it's also less common, and I think it's probably fair to de-emphasize?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KTibow">@KTibow</a> on 2025-10-28 21:06</div>
            <div class="timeline-body"><p>If this change doesn't make sense, an alternative is to automatically detect whether the package seems first-party (not necessarily with rigor). Then this deemphasis would be very logical.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-10-29 14:52</div>
            <div class="timeline-body"><p>First-party in this case could just be that you <em>own</em> the package. There's no way easy to detect that.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 06:30:35 UTC
    </footer>
</body>
</html>
