<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trim trailing slashes to fix workspace discovery - astral-sh/uv #15133</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Trim trailing slashes to fix workspace discovery</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/15133">#15133</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2025-08-07 12:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Previously, workspace discovery would miss a valid workspace root is the project path has a trailing slash. This would cause <code>uv build</code> to use the wrong target directory.</p>
<p>This is a breaking change. Specifically, the output path changes from <code>&lt;workspace root&gt;/&lt;child&gt;/dist/</code> to <code>&lt;workspace root&gt;/dist/</code> when using <code>uv build &lt;child&gt;/</code> in the workspace root.</p>
<p><strong>Setup</strong> Create a workspace with a member.</p>
<pre><code>uv init
uv init --lib child
</code></pre>
<p><strong>Before</strong></p>
<pre><code>$ uv build child/
Building source distribution (uv build backend)...
Building wheel from source distribution (uv build backend)...
Successfully built child/dist/child-0.1.0.tar.gz
Successfully built child/dist/child-0.1.0-py3-none-any.whl
$ uv build child
Building source distribution (uv build backend)...
Building wheel from source distribution (uv build backend)...
Successfully built dist/child-0.1.0.tar.gz
Successfully built dist/child-0.1.0-py3-none-any.whl
</code></pre>
<p><strong>After</strong></p>
<pre><code>$ uv build child/
Building source distribution (uv build backend)...
Building wheel from source distribution (uv build backend)...
Successfully built dist/child-0.1.0.tar.gz
Successfully built dist/child-0.1.0-py3-none-any.whl
$ uv build child
Building source distribution (uv build backend)...
Building wheel from source distribution (uv build backend)...
Successfully built dist/child-0.1.0.tar.gz
Successfully built dist/child-0.1.0-py3-none-any.whl
</code></pre>
<p>Fixes #13914</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-08-07 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> added by <a href="https://github.com/konstin">@konstin</a> on 2025-08-07 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.9.0&quot; by <a href="https://github.com/konstin">@konstin</a> on 2025-08-07 15:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2025-08-07 15:22</div>
            <div class="timeline-body"><p>Tentatively putting this into the 0.9 milestone for the output path change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-10-07 20:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/geofft">@geofft</a> on 2025-10-07 20:49</div>
            <div class="timeline-body"><p>I don&#x27;t see the actual diff in the before/new sections above, I think?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/konstin">@konstin</a> on 2025-10-07 20:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2025-10-07 20:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-10-07 20:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:53:29 UTC
    </footer>
</body>
</html>
