<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement `--show-version-specifiers` for `tree` - astral-sh/uv #5240</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement <code>--show-version-specifiers</code> for <code>tree</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/5240">#5240</a>
        opened by <a href="https://github.com/ChannyClaus">@ChannyClaus</a>
        on 2024-07-20 06:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ChannyClaus">@ChannyClaus</a></div>
            <div class="timeline-body">Summary
<p>resolves <a href="https://github.com/astral-sh/uv/issues/5217">astral-sh/uv#5217</a></p>
Test Plan
<p>existing tests pass (should be perfectly backwards compatible) + added a few tests to cover the new functionality. in particular, in addition to the simple use of <code>--emit-version-specifier</code>, its interaction with <code>--invert</code> and <code>--package</code> flags are tested.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ChannyClaus">@ChannyClaus</a> reviewed on 2024-07-20 07:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on <code>crates/uv/tests/pip_tree.rs</code>:1536 on 2024-07-20 07:08</div>
            <div class="timeline-body"><p>conflicting feelings towards the space after the comma - curious what others think</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ChannyClaus">@ChannyClaus</a> reviewed on 2024-07-20 07:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on <code>crates/uv/tests/pip_tree.rs</code>:1692 on 2024-07-20 07:13</div>
            <div class="timeline-body"><pre><code>        ‚îî‚îÄ‚îÄ scikit-learn v1.4.1.post1 [requires: scipy &gt;=1.6.0]
</code></pre>
<p>feeling similarly conflicted about the lack of space after the package name here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Enayaaa">@Enayaaa</a> reviewed on 2024-07-20 07:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Enayaaa">@Enayaaa</a> on <code>crates/uv/tests/pip_tree.rs</code>:1692 on 2024-07-20 07:23</div>
            <div class="timeline-body"><p>Purely from feeling i think space should be emited :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;implement `--emit-version-specifier`&quot; to &quot;implement `--emit-version-specifier` for `tree`&quot; by <a href="https://github.com/ChannyClaus">@ChannyClaus</a> on 2024-07-20 13:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-20 15:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-20 15:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-20 15:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-07-20 15:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:2766 on 2024-07-20 15:49</div>
            <div class="timeline-body"><p>Can we add a short flag for this too?</p>
<p>We should probably use <code>--show-</code> not <code>--emit-</code> to match the rest of our CLI. <code>--emit-</code> is specific to the <code>pip compile</code> output.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-07-20 17:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-cli/src/lib.rs</code>:2766 on 2024-07-20 17:49</div>
            <div class="timeline-body"><p>I think a short flag is hard here (<code>-e</code> and <code>-s</code> are both useful for global things (e.g., we use both in Ruff), it would be a shame to make them blocked on this flag in the future).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv-cli/src/lib.rs</code>:2766 on 2024-07-20 17:53</div>
            <div class="timeline-body"><p>Yeah maybe &quot;-V&quot; or similar would make sense? I don&#x27;t think a short-flag for the &quot;emit&quot; or &quot;show&quot; portion makes sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-07-20 17:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-07-20 18:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-07-20 18:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv-cli/src/lib.rs</code>:2766 on 2024-07-20 18:24</div>
            <div class="timeline-body"><p>Apparently <code>-V</code> is in use by <code>--version</code> already (fails at runtime), interesting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;implement `--emit-version-specifier` for `tree`&quot; to &quot;Implement `--show-version-specifiers` for `tree`&quot; by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-20 18:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-07-20 18:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/uv/src/commands/pip/tree.rs</code>:329 on 2024-07-20 18:25</div>
            <div class="timeline-body"><p>I added a little more abstraction around this and the formatting code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-20 18:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-20 18:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-07-20 19:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/uv/tests/pip_tree.rs</code>:1536 on 2024-07-20 19:04</div>
            <div class="timeline-body"><p>This is the canonical display for version specifiers ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:46:42 UTC
    </footer>
</body>
</html>
