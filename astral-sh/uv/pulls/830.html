<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add tracing_durations_export feature to puffin-cli - astral-sh/uv #830</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add tracing_durations_export feature to puffin-cli</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/830">#830</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2024-01-08 10:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>The optional <code>tracing-durations-export</code> feature allows creating parallelism plots from all puffin-cli commands without affecting production builds.</p>
<p>Usage:</p>
<pre><code>virtualenv --clear -p 3.10 .venv310 &amp;&amp; TRACING_DURATIONS_FILE=target/traces/jupyter-no-cache.ndjson RUST_LOG=puffin=info VIRTUAL_ENV=.venv310 cargo run --bin puffin --profile profiling --features tracing-durations-export -- pip-install -v --no-cache jupyter
virtualenv --clear -p 3.10 .venv310 &amp;&amp; TRACING_DURATIONS_FILE=target/traces/jupyter.ndjson RUST_LOG=puffin=info VIRTUAL_ENV=.venv310 cargo run --bin puffin --profile profiling --features tracing-durations-export -- pip-install -v jupyter
</code></pre>
<p>Output, plotted in collapsed mode for readability:</p>
<p>Cached jupyter:</p>
<p><img src="https://github.com/astral-sh/puffin/assets/6826232/f7e03c68-0438-4cf4-bceb-9a4a146cc506" alt="jupyter" /></p>
<p>Uncached jupyter:</p>
<p><img src="https://github.com/astral-sh/puffin/assets/6826232/cfdd3383-7a9d-43d6-b8d0-201f64611596" alt="image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-01-08 14:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2024-01-08 15:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2024-01-08 15:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-01-08 15:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:35:05 UTC
    </footer>
</body>
</html>
