<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set glibc versions for standalone installers - astral-sh/uv #10142</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Set glibc versions for standalone installers</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/uv/pull/10142">#10142</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2024-12-24 13:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-24 13:16</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Per Discord, it sounds like <code>cargo-dist</code> will assume that 2.31 is our minimum glibc version, since we're building our own binaries. (You can confirm this by looking at <a href="https://github.com/astral-sh/uv/releases/download/0.5.11/uv-installer.sh">uv-installer.sh</a>.)</p>
<p><code>cargo-dist</code> now supports specifying a glibc override for each target: https://opensource.axo.dev/cargo-dist/book/reference/config.html#min-glibc-version. This is great, since we use 2.17 everywhere, but 2.28 for ARM.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">releases</span> added by @charliermarsh on 2024-12-24 13:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-12-24 13:35</div>
            <div class="timeline-body"><p>Ran <code>dist build -a global --tag=v0.5.11</code> locally, and verified that <code>target/distrib/uv-installer.sh</code> contains the right versions, e.g.:</p>
<pre><code>&quot;armv7-unknown-linux-gnueabihf&quot;)
    _archive=&quot;uv-armv7-unknown-linux-gnueabihf.tar.gz&quot;
    if ! check_glibc &quot;2&quot; &quot;17&quot;; then
        _archive=&quot;&quot;
    fi
    if [ -n &quot;$_archive&quot; ]; then
        echo &quot;$_archive&quot;
        return 0
    fi
    _archive=&quot;uv-armv7-unknown-linux-musleabihf.tar.gz&quot;
    if [ -n &quot;$_archive&quot; ]; then
        echo &quot;$_archive&quot;
        return 0
    fi
    ;;
...
&quot;aarch64-unknown-linux-gnu&quot;)
    _archive=&quot;uv-aarch64-unknown-linux-gnu.tar.gz&quot;
    if ! check_glibc &quot;2&quot; &quot;28&quot;; then
        _archive=&quot;&quot;
    fi
    if [ -n &quot;$_archive&quot; ]; then
        echo &quot;$_archive&quot;
        return 0
    fi
    _archive=&quot;uv-aarch64-unknown-linux-musl.tar.gz&quot;
    if [ -n &quot;$_archive&quot; ]; then
        echo &quot;$_archive&quot;
        return 0
    fi
    ;;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-12-24 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-24 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-12-24 13:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:16 UTC
    </footer>
</body>
</html>
