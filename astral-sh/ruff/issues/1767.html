<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feature request: `flake8-future-annotations` - astral-sh/ruff #1767</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feature request: <code>flake8-future-annotations</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1767">#1767</a>
        opened by <a href="https://github.com/danieleades">@danieleades</a>
        on 2023-01-10 12:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/danieleades">@danieleades</a></div>
            <div class="timeline-body"><p>see https://pypi.org/project/flake8-future-annotations/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 12:18</div>
            <div class="timeline-body"><p>Will <a href="https://github.com/charliermarsh/ruff/pull/1762">charliermarsh/ruff#1762</a> resolve this? (Supporting isort&#x27;s <code>add-imports</code> setting?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 12:59</div>
            <div class="timeline-body"><p>If so, that should go out today :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danieleades">@danieleades</a> on 2023-01-10 13:00</div>
            <div class="timeline-body"><p>Not exactly. That feature will just insert the import indiscriminately in every file, whereas the plugin will (by default) only insert them where they would do something.
It&#x27;s a subtle distinction, maybe not worth worrying about</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danieleades">@danieleades</a> on 2023-01-10 13:06</div>
            <div class="timeline-body"><p>These kinds of overlaps in functionality beg the question- what does the future of ruff look like? Right now it&#x27;s aiming at being a drop-in replacement for existing tools, along with their various quirks and configuration.
Is there going to be a ruff V2 that drops this legacy interface and prioritises self-consistency? What does that look like?
Not related to this feature, just curious</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 23:15</div>
            <div class="timeline-body"><p>Yeah I think for now, I&#x27;m gonna run with the <code>add-imports</code> approach. I like that it generalizes to other <code>__future__</code> imports (and other imports more broadly), and in doing some Code Search, it seems relatively popular. So I&#x27;m going to mark as closed <em>for now</em> by #1762.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 23:21</div>
            <div class="timeline-body"><blockquote>
<p>These kinds of overlaps in functionality beg the question- what does the future of ruff look like? Right now it&#x27;s aiming at being a drop-in replacement for existing tools, along with their various quirks and configuration. Is there going to be a ruff V2 that drops this legacy interface and prioritises self-consistency? What does that look like? Not related to this feature, just curious</p>
</blockquote>
<p>Yes! @not-my-profile actually just created some issues that&#x27;ll help move us in that direction (<a href="https://github.com/charliermarsh/ruff/issues/1773">charliermarsh/ruff#1773</a>, <a href="https://github.com/charliermarsh/ruff/issues/1774">charliermarsh/ruff#1774</a>).</p>
<p>To lay out my current thinking (still early):</p>
<ul>
<li>I&#x27;d like to move to a world in which we have our own categorization and lint rule names. If your project is fully on Ruff, it doesn&#x27;t really make sense to think in terms of Flake8 plugins. And Ruff, ideally, wouldn&#x27;t be bound by Flake8 conventions.</li>
<li>That said, compatibility with Flake8 is extremely helpful for adoption, and I don&#x27;t want to give that up yet. So I&#x27;d like to continue to support the Flake8-style interface, and maintain the mapping from Flake8 plugins + rules to Ruff rules.</li>
<li>I&#x27;m hoping that, since this is all happening <em>within</em> Ruff, we can provide tooling to automatically upgrade your codebase from Flake8 compatibility mode to first-class-Ruff mode. This would involve rewriting your <code>pyproject.toml</code>, and changing your action comments (<code># noqa</code>, <code># isort: skip</code>, etc.). So in theory, if you&#x27;re fully on Ruff, we should be able to make it pretty easy to &quot;upgrade&quot;.</li>
<li>Eventually, it could be the case that we no longer support the Flake8 compatibility mode; or even, that the Flake8 compatibility mode continues to exist, but internally, we&#x27;re just remapping your configuration to the first-class-Ruff version (whatever that looks like at runtime).</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 23:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:29 UTC
    </footer>
</body>
</html>
