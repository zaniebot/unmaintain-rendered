<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuring for Neovim - invalid client settings - astral-sh/ruff #16945</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Configuring for Neovim - invalid client settings</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/16945">#16945</a>
        opened by <a href="https://github.com/jacanchaplais">@jacanchaplais</a>
        on 2025-03-24 11:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jacanchaplais">@jacanchaplais</a> on 2025-03-24 11:14</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I am getting an error in neovim <code>LSP[ruff] Ruff received invalid client settings - falling back to default client settings.</code> I'd really appreciate help on how to fix this.</p>
<p>I have installed ruff via micromamba into a virtual environment. I set up neovim for ruff using the docs, and not much else. I am using pyright alongside ruff.</p>
<p>Here are my config files:</p>
<details>
 <summary>Micromamba config: environment.yml</summary>

<pre><code class="language-yaml">name: tesseract
variables:
  PYTHONBREAKPOINT: ipdb.set_trace
channels:
  - conda-forge
dependencies:
  - python=3
  - click=8.1.8
  - fastapi=0.115.11
  - httpx=0.28.1
  - ipdb
  - ipython
  - jinja2=3.1.6
  - jsf=0.11.2
  - jupyterlab
  - jupyterlab-lsp
  - jupyterlab_vim
  - numpy=2.2.4
  - pandas
  - pip
  - plotly
  - pre-commit=4.1.0
  - pybase64=1.4.1
  - pydantic=2.10.6
  - pytest-cov=6.0.0
  - pytest-mock=3.14.0
  - pytest=8.3.5
  - pyyaml=6.0.1
  - requests=2.32.3
  - rich=13.9.4
  - setuptools
  - tqdm
  - typeguard=4.4.2
  - typer=0.15.2
  - uvicorn=0.34.0
  - ruff
  - pip:
    - &quot;tesseract-core&quot;
    - &quot;jax&quot;
    - &quot;moto[server]==5.1.1&quot;
    - &quot;fsspec[http,s3]==2025.3.0&quot;
    - &quot;msgpack==1.1.0&quot;
</code></pre>
</details>

<details>

 <summary>Neovim config: init.lua</summary>

<pre><code class="language-lua">require &quot;paq&quot; {
    &quot;savq/paq-nvim&quot;, -- Let Paq manage itself

    &quot;neovim/nvim-lspconfig&quot;,
    &quot;hrsh7th/nvim-cmp&quot;,
    &quot;hrsh7th/cmp-nvim-lsp&quot;,
    &quot;hrsh7th/cmp-path&quot;,
    &quot;hrsh7th/cmp-cmdline&quot;,
    &quot;hrsh7th/cmp-vsnip&quot;,
    &quot;hrsh7th/vim-vsnip&quot;,
    &quot;nvim-lua/plenary.nvim&quot;,
    &quot;vim-airline/vim-airline&quot;,
    &quot;navarasu/onedark.nvim&quot;,
    &quot;tpope/vim-fugitive&quot;,
    &quot;junegunn/fzf&quot;,
    &quot;junegunn/fzf.vim&quot;,
    &quot;preservim/nerdtree&quot;,
    &quot;airblade/vim-gitgutter&quot;,
    &quot;christoomey/vim-tmux-navigator&quot;,
    &quot;lukas-reineke/indent-blankline.nvim&quot;,
    &quot;mbbill/undotree&quot;,
    &quot;voldikss/vim-floaterm&quot;,
    &quot;m-pilia/vim-ccls&quot;,
    &quot;danymat/neogen&quot;,
    &quot;rust-lang/rust.vim&quot;,

    { &quot;lervag/vimtex&quot;, opt = true }, -- Use braces when passing options
    { 'nvim-treesitter/nvim-treesitter', build = ':TSUpdate' },
}

require('onedark').setup {
  style = 'darker',
  transparent = true,
}

require('neogen').setup {
  enabled = true,
  snippet_engine = 'vsnip',
  languages = {
    python = {
      template = { annotation_convention = 'numpydoc' }
    }
  }
}

local opts = { noremap = true, silent = true }
vim.api.nvim_set_keymap(&quot;n&quot;, &quot;&lt;Leader&gt;nf&quot;, &quot;:lua require('neogen').generate()&lt;CR&gt;&quot;, opts)

require('onedark').load()
 -- Set up nvim-cmp.
local cmp = require'cmp'

local has_words_before = function()
  unpack = unpack or table.unpack
  local line, col = unpack(vim.api.nvim_win_get_cursor(0))
  return col ~= 0 and vim.api.nvim_buf_get_lines(0, line - 1, line, true)[1]:sub(col, col):match(&quot;%s&quot;) == nil
end

local feedkey = function(key, mode)
  vim.api.nvim_feedkeys(vim.api.nvim_replace_termcodes(key, true, true, true), mode, true)
end

cmp.setup({
  snippet = {
    -- REQUIRED - you must specify a snippet engine
    expand = function(args)
      vim.fn[&quot;vsnip#anonymous&quot;](args.body) -- For `vsnip` users.
      -- require('luasnip').lsp_expand(args.body) -- For `luasnip` users.
      -- require('snippy').expand_snippet(args.body) -- For `snippy` users.
      -- vim.fn[&quot;UltiSnips#Anon&quot;](args.body) -- For `ultisnips` users.
      -- vim.snippet.expand(args.body) -- For native neovim snippets (Neovim v0.10+)
    end,
  },
  window = {
    -- completion = cmp.config.window.bordered(),
    -- documentation = cmp.config.window.bordered(),
  },
  mapping = cmp.mapping.preset.insert({
    ['&lt;C-f&gt;'] = cmp.mapping.scroll_docs(-4),
    ['&lt;C-g&gt;'] = cmp.mapping.scroll_docs(4),
    ['&lt;C-Space&gt;'] = cmp.mapping.complete(),
    ['&lt;C-e&gt;'] = cmp.mapping.abort(),
    ['&lt;CR&gt;'] = cmp.mapping.confirm({ select = true }), -- Accept currently selected item. Set `select` to `false` to only confirm explicitly selected items.
    [&quot;&lt;Tab&gt;&quot;] = cmp.mapping(function(fallback)
      if cmp.visible() then
        cmp.select_next_item()
      elseif vim.fn[&quot;vsnip#available&quot;](1) == 1 then
        feedkey(&quot;&lt;Plug&gt;(vsnip-expand-or-jump)&quot;, &quot;&quot;)
      elseif has_words_before() then
        cmp.complete()
      else
        fallback() -- The fallback function sends a already mapped key. In this case, it's probably `&lt;Tab&gt;`.
      end
    end, { &quot;i&quot;, &quot;s&quot; }),

    [&quot;&lt;S-Tab&gt;&quot;] = cmp.mapping(function()
      if cmp.visible() then
        cmp.select_prev_item()
      elseif vim.fn[&quot;vsnip#jumpable&quot;](-1) == 1 then
        feedkey(&quot;&lt;Plug&gt;(vsnip-jump-prev)&quot;, &quot;&quot;)
      end
    end, { &quot;i&quot;, &quot;s&quot; }),
  }),

  sources = cmp.config.sources({
    { name = 'nvim_lsp' },
    { name = 'vsnip' }, -- For vsnip users.
    -- { name = 'luasnip' }, -- For luasnip users.
    -- { name = 'ultisnips' }, -- For ultisnips users.
    -- { name = 'snippy' }, -- For snippy users.
  }, {
    { name = 'buffer' },
  })
})

-- To use git you need to install the plugin petertriho/cmp-git and uncomment lines below
-- Set configuration for specific filetype.
--[[ cmp.setup.filetype('gitcommit', {
  sources = cmp.config.sources({
    { name = 'git' },
  }, {
    { name = 'buffer' },
  })
})
require(&quot;cmp_git&quot;).setup() ]]-- 

-- Use buffer source for `/` and `?` (if you enabled `native_menu`, this won't work anymore).
cmp.setup.cmdline({ '/', '?' }, {
  mapping = cmp.mapping.preset.cmdline(),
  sources = {
    { name = 'buffer' }
  }
})

-- Use cmdline &amp; path source for ':' (if you enabled `native_menu`, this won't work anymore).
cmp.setup.cmdline(':', {
  mapping = cmp.mapping.preset.cmdline(),
  sources = cmp.config.sources({
    { name = 'path' }
  }, {
    { name = 'cmdline' }
  }),
  matching = { disallow_symbol_nonprefix_matching = false }
})

-- Set up lspconfig.
local capabilities = require('cmp_nvim_lsp').default_capabilities()
local pyright_markdown = {
    textDocument = {
        hover = {
            contentFormat = { &quot;plaintext&quot; },
            dynamicRegistration = true,
        },
    }
}
local pyright_capabilities = vim.tbl_deep_extend(&quot;force&quot;, capabilities, pyright_markdown)

require('lspconfig').pyright.setup{
  capabilities = pyright_capabilities
}
require('lspconfig').ruff.setup({
  capabilities = capabilities,
  autostart = true,
  init_options = {
    settings = {
      -- Ruff language server settings go here
    }
  }
})

vim.api.nvim_create_autocmd(&quot;LspAttach&quot;, {
  group = vim.api.nvim_create_augroup('lsp_attach_disable_ruff_hover', { clear = true }),
  callback = function(args)
    local client = vim.lsp.get_client_by_id(args.data.client_id)
    if client == nil then
      return
    end
    if client.name == 'ruff' then
      -- Disable hover in favor of Pyright
      client.server_capabilities.hoverProvider = false
    end
  end,
  desc = 'LSP: Disable hover capability from Ruff',
})

require('lspconfig').nil_ls.setup{
  capabilities = capabilities
}
require('lspconfig').nimls.setup{
  capabilities = capabilities
}
require('lspconfig').ccls.setup{
  capabilities = capabilities
}
require('lspconfig').rust_analyzer.setup{
  capabilities = capabilities
}

vim.g.maplocalleader = '&lt;space&gt;'
vim.g.python3_host_prog = '/home/jacan/Documents/code/python/.micromamba/envs/hep/bin/python' -- virtual env set

vim.g.floaterm_keymap_new = '&lt;Leader&gt;to'
vim.g.floaterm_keymap_toggle = '&lt;Leader&gt;tt'
vim.g.floaterm_keymap_prev = '&lt;Leader&gt;tb'
vim.g.floaterm_keymap_next = '&lt;Leader&gt;tn'
vim.g.floaterm_keymap_kill = '&lt;Leader&gt;tq'

vim.opt.tabstop = 4 -- A TAB character looks like 4 spaces
vim.opt.expandtab = true -- TAB key insert spaces instead of TAB char
vim.opt.softtabstop = 4 -- Num of spaces inserted
vim.opt.shiftwidth = 4 -- Num of spaces indented
vim.opt.number = true
vim.opt.ignorecase = true
vim.opt.smartcase = true
vim.opt.hlsearch = false
vim.opt.wrap = true
vim.opt.breakindent = true
vim.opt.termguicolors = true
vim.opt.updatetime = 100
vim.opt.colorcolumn = &quot;72,79&quot;
vim.opt.mouse = &quot;&quot;

vim.cmd('syntax enable')
vim.cmd('filetype plugin indent on')
-- vim.cmd('hi Normal guibg=NONE ctermbg=NONE')
vim.cmd [[
  highlight Normal guibg=none
  highlight NonText guibg=none
  highlight Normal ctermbg=none
  highlight NonText ctermbg=none
]]

vim.keymap.set('n', '&lt;leader&gt;n', '&lt;cmd&gt;NERDTreeFocus&lt;cr&gt;', {desc = 'Go to NERDTREE'})
vim.keymap.set('n', '&lt;C-n&gt;', '&lt;cmd&gt;NERDTreeToggle&lt;cr&gt;', {desc = 'Toggle NERDTREE'})
vim.keymap.set('n', '&lt;C-f&gt;', '&lt;cmd&gt;NERDTreeFind&lt;cr&gt;', {desc = 'Find with NERDTREE'})

vim.keymap.set('n', '&lt;leader&gt;o', '&lt;cmd&gt;Files&lt;cr&gt;')
vim.keymap.set('n', '&lt;leader&gt;O', '&lt;cmd&gt;Files!&lt;cr&gt;')
vim.keymap.set('n', '&lt;leader&gt;g', '&lt;cmd&gt;GFiles --cached --others --exclude-standard&lt;cr&gt;')
vim.keymap.set('n', '&lt;leader&gt;G', '&lt;cmd&gt;GFiles! --cached --others --exclude-standard&lt;cr&gt;')
vim.keymap.set('n', '&lt;leader&gt;u', vim.cmd.UndotreeToggle)
vim.keymap.set('t', '&lt;C-Esc&gt;', '&lt;C-\\&gt;&lt;C-n&gt;', { noremap = true, silent = true })
</code></pre>
</details>

<details>

 <summary>Ruff config: ruff.toml</summary>

<pre><code class="language-toml"># Set to the lowest supported Python version.
# !! tesseract_runtime still supports Python 3.9 !!
target-version = &quot;py39&quot;

# Set the target line length for formatting.
line-length = 88

# Exclude a variety of commonly ignored directories.
extend-exclude = [
    &quot;.venv&quot;,
    &quot;_version.py&quot;,
    &quot;tesseract_core/**/vendor/**/*.py&quot;,
]

# Also lint/format Jupyter Notebooks.
extend-include = [ &quot;*.ipynb&quot; ]

src = [&quot;.&quot;]

[lint]
# Select and/or ignore rules for linting.
# Full list of available rules: https://docs.astral.sh/ruff/rules/
extend-select = [
    &quot;ANN&quot;, # Type annotations
    &quot;B&quot;, # Flake8 bugbear
    &quot;D&quot;, # Pydocstyle
    &quot;E&quot;, # Pycodestyle errors
    &quot;F&quot;, # Pyflakes
    &quot;I&quot;, # Isort
    &quot;NPY&quot;, # Numpy
    &quot;RUF&quot;, # Ruff-specific rules
    &quot;UP&quot;, # Pyupgrade
    &quot;W&quot;, # Pycodestyle warnings
]
ignore = [
    &quot;E731&quot;, # Do not assign a lambda expression, use a def
    &quot;D100&quot;, # Pydocstyle: missing docstring in public module
    &quot;D104&quot;, # Pydocstyle: missing docstring in public package
    &quot;D105&quot;, # Pydocstyle: missing docstring in magic method
    &quot;D107&quot;, # Pydocstyle: missing docstring in __init__
    &quot;D203&quot;, # Pydocstyle: one blank line before class' docstring. Conflicts with D211
    &quot;D213&quot;, # Pydocstyle: multiline docstring summary start on 2nd line. Conflicts with D212
    &quot;ANN202&quot;, # Type annotations: allow missing return type for private functions
    &quot;ANN401&quot;, # Type annotations: allow Any
]

[lint.extend-per-file-ignores]
# Ignore missing docstrings and type annotations for selected directories
&quot;./*.py&quot; = [&quot;D101&quot;, &quot;D102&quot;, &quot;D103&quot;, &quot;ANN&quot;]
&quot;tests/*&quot; = [&quot;D101&quot;, &quot;D102&quot;, &quot;D103&quot;, &quot;ANN&quot;]
&quot;examples/**/*&quot; = [&quot;D101&quot;, &quot;D102&quot;, &quot;D103&quot;, &quot;ANN&quot;]
&quot;tesseract_core/sdk/templates/*&quot; = [&quot;D101&quot;, &quot;D102&quot;, &quot;D103&quot;, &quot;ANN&quot;]

[lint.pydocstyle]
convention = &quot;google&quot;

[lint.pycodestyle]
max-line-length = 120 # Allow some flexibility in line lengths: up to 120 cols
max-doc-length = 120

[format]
# Enable reformatting of code snippets in docstrings.
docstring-code-format = true
</code></pre>
</details>

<p>and here is the output of <code>:LspLog</code> in neovim</p>
<pre><code>[ERROR][2025-03-24 09:40:10] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:40:10.469021432  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 09:40:10] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:40:10.474995059  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 09:40:10] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:40:10.475359185  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 09:48:35] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:35.882156882  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 09:48:41] LSP logging initiated
[WARN][2025-03-24 09:48:41] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 09:48:41] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:41.458030699  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 09:48:41] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:41.458181578  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 09:48:41] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:41.468512806  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 09:48:41] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:41.468818064  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 09:48:41] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:41.470228855  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 09:48:41] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:41.470500193  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 09:48:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:46.171311480  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 09:48:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:46.171813034  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 09:48:47] LSP logging initiated
[WARN][2025-03-24 09:48:47] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 09:48:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:47.603308891  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 09:48:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:47.603401694  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 09:48:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:47.612987565  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 09:48:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:47.613394917  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 09:48:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:47.613587705  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 09:48:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 09:48:47.614679896  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:03:52] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:03:52.208332089  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:03:52] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:03:52.208506422  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:03:52] LSP logging initiated
[WARN][2025-03-24 10:03:52] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:03:52] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;error: unexpected argument '--stdio' found\n\nUsage: ruff server [OPTIONS]\n\nFor more information, try '--help'.\n&quot;
[ERROR][2025-03-24 10:03:52] ...m/lsp/client.lua:974	&quot;LSP[ruff]&quot;	&quot;on_error&quot;	{  code = &quot;ON_EXIT_CALLBACK_ERROR&quot;,  err = &quot;...pack/paqs/start/nvim-lspconfig/lua/lspconfig/manager.lua:109: bad argument #1 to 'pairs' (table expected, got nil)&quot;}
[ERROR][2025-03-24 10:03:52] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;error: unexpected argument '--stdio' found\n\nUsage: ruff server [OPTIONS]\n\nFor more information, try '--help'.\n&quot;
[START][2025-03-24 10:17:13] LSP logging initiated
[WARN][2025-03-24 10:17:13] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:17:13] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;error: unexpected argument '--stdio' found\n\nUsage: ruff server [OPTIONS]\n\nFor more information, try '--help'.\n&quot;
[ERROR][2025-03-24 10:17:13] ...m/lsp/client.lua:974	&quot;LSP[ruff]&quot;	&quot;on_error&quot;	{  code = &quot;ON_EXIT_CALLBACK_ERROR&quot;,  err = &quot;...pack/paqs/start/nvim-lspconfig/lua/lspconfig/manager.lua:109: bad argument #1 to 'pairs' (table expected, got nil)&quot;}
[ERROR][2025-03-24 10:17:13] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;error: unexpected argument '--stdio' found\n\nUsage: ruff server [OPTIONS]\n\nFor more information, try '--help'.\n&quot;
[START][2025-03-24 10:17:42] LSP logging initiated
[WARN][2025-03-24 10:17:42] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:17:42] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:17:42.551308263  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:17:42] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:17:42.551335050  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:17:42] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:17:42.561656109  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:17:42] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:17:42.562050465  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:17:42] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:17:42.562074671  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:17:42] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:17:42.564272431  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:23:18] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:18.558588408  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:23:18] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:18.558683180  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:23:20] LSP logging initiated
[WARN][2025-03-24 10:23:20] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:23:20] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:20.398615354  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:23:20] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:20.398778788  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:23:20] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:20.408530994  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:23:20] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:20.409200439  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:23:20] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:20.409553538  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:23:20] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:20.410915476  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:23:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:28.329793782  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:23:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:23:28.330181471  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:28:47] LSP logging initiated
[WARN][2025-03-24 10:28:47] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:28:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:47.232055679  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:28:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:47.232205238  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:28:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:47.241987690  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:28:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:47.242239563  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:28:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:47.242684463  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:28:47] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:47.243130360  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:28:50] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:50.010212010  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:28:50] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:28:50.010432440  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:35:48] LSP logging initiated
[WARN][2025-03-24 10:35:48] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:35:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:35:48.730066494  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:35:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:35:48.730196688  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:35:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:35:48.739474165  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:35:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:35:48.740035694  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:35:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:35:48.741474190  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:35:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:35:48.742734524  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[START][2025-03-24 10:37:46] LSP logging initiated
[WARN][2025-03-24 10:37:46] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:37:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:37:46.698816028  INFO No workspace(s) were provided during initialization. Using the current working directory as a default workspace: /home/jacan/Downloads\n2025-03-24 10:37:46.698859997  INFO No workspace settings found for file:///home/jacan/Downloads, using default settings\n2025-03-24 10:37:46.699670488  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:37:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:37:46.698749860  INFO No workspace(s) were provided during initialization. Using the current working directory as a default workspace: /home/jacan/Downloads\n2025-03-24 10:37:46.698867237  INFO No workspace settings found for file:///home/jacan/Downloads, using default settings\n2025-03-24 10:37:46.699670467  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:37:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:37:46.705285525  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:37:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:37:46.706502453  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:37:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:37:46.719117371  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:37:46] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:37:46.720469100  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:39:18] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:39:18.112096833  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:39:18] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:39:18.112528520  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:42:10] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:10.430603590  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:42:10] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:10.430681852  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:42:12] LSP logging initiated
[WARN][2025-03-24 10:42:12] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 10:42:12] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:42:12] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:12.179201143  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:42:12] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:12.179197509  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:42:12] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:12.191118555  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:42:12] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:12.191516275  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:42:12] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:12.192551444  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:42:12] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:12.194915303  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:42:26] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:26.814626163  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:42:26] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:26.814641728  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:42:28] LSP logging initiated
[WARN][2025-03-24 10:42:28] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 10:42:28] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:42:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:28.323440888  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:42:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:28.323437242  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:42:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:28.335196078  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n2025-03-24 10:42:28.336245004  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:42:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:28.336239756  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 10:42:28] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:28.337916505  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[START][2025-03-24 10:42:43] LSP logging initiated
[WARN][2025-03-24 10:42:43] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 10:42:43] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:42:43] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:43.205155040  INFO No workspace(s) were provided during initialization. Using the current working directory as a default workspace: /home/jacan/Downloads\n2025-03-24 10:42:43.205237707  INFO No workspace settings found for file:///home/jacan/Downloads, using default settings\n2025-03-24 10:42:43.206064152  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:42:43] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:43.205330125  INFO No workspace(s) were provided during initialization. Using the current working directory as a default workspace: /home/jacan/Downloads\n2025-03-24 10:42:43.205378493  INFO No workspace settings found for file:///home/jacan/Downloads, using default settings\n2025-03-24 10:42:43.206064220  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:42:43] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:43.209279103  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:42:43] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:43.211937729  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:42:43] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:43.228538289  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:42:43] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:43.230861476  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 10:42:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:48.445964186  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:42:48] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:42:48.446265878  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:47:13] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:13.236475822  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:47:13] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:13.236753626  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 10:47:34] LSP logging initiated
[WARN][2025-03-24 10:47:34] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 10:47:34] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 10:47:34] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:34.377753540  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:47:34] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:34.377834365  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 10:47:34] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:34.390222159  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n2025-03-24 10:47:34.390701040  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:47:34] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:34.390434224  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n2025-03-24 10:47:34.392121427  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 10:47:36] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:36.221747970  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 10:47:36] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 10:47:36.221912991  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[START][2025-03-24 11:02:25] LSP logging initiated
[WARN][2025-03-24 11:02:25] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 11:02:25] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 11:02:25] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:02:25.189369388  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 11:02:25] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:02:25.189361243  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 11:02:25] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:02:25.200979882  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 11:02:25] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:02:25.201314499  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 11:02:25] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:02:25.202011486  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 11:02:25] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:02:25.203162284  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[START][2025-03-24 11:05:03] LSP logging initiated
[WARN][2025-03-24 11:05:03] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 11:05:03] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 11:05:03] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:03.165959000  INFO No workspace(s) were provided during initialization. Using the current working directory as a default workspace: /home/jacan/Downloads\n2025-03-24 11:05:03.166021710  INFO No workspace settings found for file:///home/jacan/Downloads, using default settings\n2025-03-24 11:05:03.166857589  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 11:05:03] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:03.166046540  INFO No workspace(s) were provided during initialization. Using the current working directory as a default workspace: /home/jacan/Downloads\n2025-03-24 11:05:03.166094843  INFO No workspace settings found for file:///home/jacan/Downloads, using default settings\n2025-03-24 11:05:03.166718922  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 11:05:03] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:03.168733926  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 11:05:03] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:03.172292835  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 11:05:03] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:03.188953406  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 11:05:03] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:03.190922252  INFO Registering workspace: /home/jacan/Downloads\n&quot;
[ERROR][2025-03-24 11:05:06] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:06.182923644  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 11:05:06] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:06.183094925  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 11:05:15] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:15.094641949  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 11:05:15] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:15.094744539  INFO Shutdown request received. Waiting for an exit notification...\n&quot;
[ERROR][2025-03-24 11:05:15] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:15.158032645  INFO Exit notification received. Server shutting down...\n&quot;
[START][2025-03-24 11:05:15] LSP logging initiated
[WARN][2025-03-24 11:05:15] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[WARN][2025-03-24 11:05:15] .../lua/vim/lsp.lua:628	&quot;buf_attach_client called on unloaded buffer (id: 1): &quot;
[ERROR][2025-03-24 11:05:16] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:16.078616541  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 11:05:16] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:16.079951204  INFO No workspace settings found for file:///home/jacan/Documents/work/tesseract-core, using default settings\n&quot;
[ERROR][2025-03-24 11:05:16] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:16.090534633  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 11:05:16] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:16.091035842  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
[ERROR][2025-03-24 11:05:16] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:16.091599385  INFO Registering workspace: /home/jacan/Documents/work/tesseract-core\n&quot;
[ERROR][2025-03-24 11:05:16] .../vim/lsp/rpc.lua:770	&quot;rpc&quot;	&quot;/home/jacan/.micromamba/envs/tesseract/bin/ruff&quot;	&quot;stderr&quot;	&quot;2025-03-24 11:05:16.092740032  WARN LSP client does not support dynamic capability registration - automatic configuration reloading will not be available.\n&quot;
</code></pre>
<h3>Version</h3>
<p>ruff 0.11.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @jacanchaplais on 2025-03-24 11:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Configuring for Neovim" to "Configuring for Neovim - invalid client settings" by @jacanchaplais on 2025-03-24 11:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jacanchaplais">@jacanchaplais</a> on 2025-03-24 11:28</div>
            <div class="timeline-body"><p>Never mind, it turns out that just having a single setting in the <code>settings</code> in the lspconfig setup was enough to make it go away. Classic n00b error. Nothing to see here...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @jacanchaplais on 2025-03-24 11:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:15 UTC
    </footer>
</body>
</html>
