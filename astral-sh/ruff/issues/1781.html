<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breaking up violations into sub files - astral-sh/ruff #1781</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Breaking up violations into sub files</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1781">#1781</a>
        opened by <a href="https://github.com/colin99d">@colin99d</a>
        on 2023-01-11 12:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-11 12:52</div>
            <div class="timeline-body"><p>Minor formatting issue. But the violations file is like 6000 lines. Should we make a folder called violations, and then have a file for each linter?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-12 01:02</div>
            <div class="timeline-body"><p>I think @not-my-profile has some opinions on this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @charliermarsh on 2023-01-12 01:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-12 14:55</div>
            <div class="timeline-body"><p>I agree that <code>violations.rs</code> should be split up. In particular I think the violation structs/impls should be defined next to the respective rule implementations (so e.g. <code>LineTooLong</code> next to the <code>line_too_long</code> function). However before we start splitting up <code>violations.rs</code> I'd like to do the following first:</p>
<ol>
<li>#1816</li>
<li>#1547</li>
</ol>
<p>After that I'd also like to split up the <code>rules.rs</code> files where it makes sense ... I think we could split up <code>violations.rs</code> at the same time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-16 08:23</div>
            <div class="timeline-body"><p>Since the larger refactors I wanted to do first have been done, I have just opened the PR #1909 to kick off our larger refactoring effort that among other things entails the splitting up of <code>violations.rs</code>.</p>
<p>I'll still have to improve our <code>ConfigurationOptions</code> proc macro so that we can also split up the <code>Options</code> structs though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-16 17:25</div>
            <div class="timeline-body"><p>Should we keep this open, or close out now that the first PR in the effort has been merged? I don't expect us to sink resources into a <em>full</em> migration right now. Rather, I'm hoping we establish the preferred pattern, then migrate over time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-16 20:59</div>
            <div class="timeline-body"><p>You can close it if you like. I was just wanting to see if we had plans to refactor it, since it is a little annoying to add to, but if its a lot of work to change then dont worry about it. Also, thanks both of you for all the work on developer experience over the last two weeks. Definitely a much better experience today than it was two weeks ago.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-02-03 18:20</div>
            <div class="timeline-body"><p>It looks like a solution to this was created. I will close.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @colin99d on 2023-02-03 18:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:07 UTC
    </footer>
</body>
</html>
