```yaml
number: 22204
title: FURB192 fix should always be unsafe?
type: issue
state: closed
author: harupy
labels:
  - fixes
  - preview
assignees: []
created_at: 2025-12-26T10:40:28Z
updated_at: 2025-12-29T14:17:35Z
url: https://github.com/astral-sh/ruff/issues/22204
synced_at: 2026-01-10T01:56:57Z
```

# FURB192 fix should always be unsafe?

---

_Issue opened by @harupy on 2025-12-26 10:40_

### Summary

The FURB192 fix is currently marked as unsafe only when `reverse` is present, but it should always be unsafe.

### Examples where `min/max` leads to a behavior change

```python
data = ["a", "b"]
sorted(data, key=len)[-1]  # "b" (last equal item)
max(data, key=len)  # "a" (first equal item)


class Item:
    def __init__(self, k, name):
        self.k = k
        self.name = name

    def __lt__(self, other):
        return self.k < other.k


items = [Item(1, "a"), Item(1, "b")]
sorted(items)[-1].name  # "b"
max(items).name  # "a"
```

Output

```
FURB192 [*] Prefer `max` over `sorted()` to compute the maximum value in a sequence
 --> examples.py:2:1
  |
1 | data = ["a", "b"]
2 | sorted(data, key=len)[-1]  # "b" (last equal item)
  | ^^^^^^^^^^^^^^^^^^^^^^^^^
3 | max(data, key=len)  # "a" (first equal item)
  |
help: Replace with `max`
1 | data = ["a", "b"]
  - sorted(data, key=len)[-1]  # "b" (last equal item)
2 + max(data, key=len)  # "b" (last equal item)
3 | max(data, key=len)  # "a" (first equal item)
4 | 
5 | 

FURB192 [*] Prefer `max` over `sorted()` to compute the maximum value in a sequence
  --> examples.py:16:1
   |
15 | items = [Item(1, "a"), Item(1, "b")]
16 | sorted(items)[-1].name  # "b"
   | ^^^^^^^^^^^^^^^^^
17 | max(items).name  # "a"
   |
help: Replace with `max`
13 | 
14 | 
15 | items = [Item(1, "a"), Item(1, "b")]
   - sorted(items)[-1].name  # "b"
16 + max(items).name  # "b"
17 | max(items).name  # "a"

Found 2 errors.
[*] 2 fixable with the `--fix` option.
```

### Version

9693375e101ffb7749c160230ca90d820161a5da

---

_Comment by @ntBre on 2025-12-26 15:20_

Nice catch! It makes sense to me to mark it always unsafe. We already have some pretty extensive docs about its unsafety around breaking ties too.

---

_Label `preview` added by @ntBre on 2025-12-26 15:20_

---

_Label `fixes` added by @ntBre on 2025-12-26 15:20_

---

_Comment by @harupy on 2025-12-26 15:26_

@ntBre Thanks for the comment! Can I file a PR for this?

---

_Referenced in [astral-sh/ruff#22210](../../astral-sh/ruff/pulls/22210.md) on 2025-12-26 15:49_

---

_Comment by @harupy on 2025-12-27 10:36_

@ntBre Filed #22210 :)

---

_Closed by @ntBre on 2025-12-29 14:17_

---
