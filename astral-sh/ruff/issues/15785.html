<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D205 false positive from Ruff on python script - astral-sh/ruff #15785</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>D205 false positive from Ruff on python script</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15785">#15785</a>
        opened by <a href="https://github.com/vpkarle">@vpkarle</a>
        on 2025-01-28 13:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vpkarle">@vpkarle</a></div>
            <div class="timeline-body">Description
<p><strong>Summary:</strong>
Ruff is flagging a D205 warning (blank line required) on docstrings even though the code is compliant with the rule.
The script complies with pydocstyle checks.</p>
<p><strong>Steps to reproduce:</strong>
Create a python script file (myFile.py) which with below lines.</p>
<pre><code>&quot;&quot;&quot;
This script processes images in a folder, extracts metadata,
and displays metadata.

See ReadMe for more details.
&quot;&quot;&quot;

import os
import subprocess
import sys
</code></pre>
<p>Run command &quot;ruff check myFile.py&quot;</p>
<p><strong>Actual output:</strong></p>
<pre><code>myFile.py:1:1: D205 1 blank line required between summary line and description
  |
1 | / &quot;&quot;&quot;
2 | | This script processes images in a folder, extracts metadata,
3 | | and displays metadata.
4 | |
5 | | See ReadMe for more details.
6 | | &quot;&quot;&quot;
  | |___^ D205
7 |
8 |   import cv2
  |
  = help: Insert single blank line
</code></pre>
<p><strong>Expected behavior:</strong>
Ruff should not flag this docstring with a D205 warning.</p>
<p><strong>Version:</strong> <code>ruff-0.9.3</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-01-28 15:38</div>
            <div class="timeline-body"><p>I can reproduce this with this code and <code>ruff check --select D205 d205.py</code>. I&#x27;ll have to check the intention behind D205 to know if this is a bug or intended behavior, but I also noticed that if you put the whole first/summary line on a single line, it doesn&#x27;t trigger D205:</p>
<pre><code>&quot;&quot;&quot;
This script processes images in a folder, extracts metadata, and displays metadata.

See ReadMe for more details.
&quot;&quot;&quot;

import os
import subprocess
import sys
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-01-29 10:58</div>
            <div class="timeline-body"><p>I think the rule only checks for first line without considering whether the line actually finishes the sentence or not. So, it&#x27;s seeing that there&#x27;s no blank line after &quot;extracts metadata,&quot; which triggers the diagnostic. The PEP does specify &quot;one-line summary&quot; but I can&#x27;t find if that allows the summary itself to be multiline, I think it doesn&#x27;t. If so, then this is working as expected. What do you think @ntBre ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-01-29 10:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-01-29 13:57</div>
            <div class="timeline-body"><p>I think you&#x27;re right that it&#x27;s working as intended. From <a href="https://peps.python.org/pep-0257/#multi-line-docstrings">PEP 257</a>:</p>
<blockquote>
<p>Multi-line docstrings consist of a summary line just like a one-line docstring, followed by a blank line, followed by a more elaborate description. The summary line may be used by automatic indexing tools; it is <strong>important that it fits on one line</strong> and is separated from the rest of the docstring by a blank line.</p>
</blockquote>
<p>The numpy and Google style guides linked from the pydocstyle docs are similar, with <a href="https://google.github.io/styleguide/pyguide.html#381-docstrings">Google&#x27;s</a> probably being the clearest:</p>
<blockquote>
<p>A docstring should be organized as a summary line (one physical line not exceeding 80 characters)</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-02 18:44</div>
            <div class="timeline-body"><p>What I find confusing here is that we report the entire docstring. I&#x27;d find it easier to understand if the rule highlights the <code>and displays metadata</code> part of the docstring.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-02 18:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-02 18:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:23 UTC
    </footer>
</body>
</html>
