<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup &quot;ecosystem CI&quot; to avoid regressions for existing users - astral-sh/ruff #2677</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Setup &quot;ecosystem CI&quot; to avoid regressions for existing users</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2677">#2677</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-02-09 02:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-09 02:27</div>
            <div class="timeline-body"><p>I'd like to setup a CI job to run Ruff over some open-source projects that use it already (and are known to have &quot;passing&quot; Ruff configurations). For example, we could have a job that checks out a known-to-be-passing commit of Pandas, and runs latest Ruff over the codebase.</p>
<p>This would be helpful to spot regressions beyond Ruff's own test suite. Similar to https://github.com/vitejs/vite-ecosystem-ci.</p>
<p>Lots of details to work out. E.g, sometimes we'll see new lint failures due to <em>improvements</em> in Ruff (new rules, but also, bug fixes that eliminate false negatives), so this may need to be advisory rather than a blocker to release. We'll also need to pin commits for whichever projects we choose to include.</p>
<p>If anyone is interested in owning this, I'd love help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @charliermarsh on 2023-02-09 02:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sciyoshi">@sciyoshi</a> on 2023-02-09 03:24</div>
            <div class="timeline-body"><p>Do you imagine this running on every PR? Or simply as a nightly scheduled build?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-09 03:27</div>
            <div class="timeline-body"><p>Probably nightly to start.</p>
<p>(I already do some of this manually before releasing, but it's very one-off -- if we have a new rule that I feel is sufficiently complex, I'll run it over Zulip, Bokeh, or a few other projects that I have checked-out locally.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-09 03:45</div>
            <div class="timeline-body"><p>As recent examples of the kinds of things I'd want to catch earlier:</p>
<ul>
<li>We broke some stuff in <code>cibuildwheel</code> and <code>build</code> (#2613)</li>
<li>Not sure what repo it's in but we regressed on <code>N815</code> (#2673)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jackenmen">@Jackenmen</a> on 2023-02-09 09:19</div>
            <div class="timeline-body"><p>Few examples from different Python projects running a primer on pull requests and commenting the results:</p>
<ul>
<li>https://github.com/python/mypy/pull/14657#issuecomment-1423390756</li>
<li>https://github.com/PyCQA/pylint/pull/7518#issuecomment-1256287492</li>
<li>https://github.com/psf/black/pull/3445#issuecomment-1356323523</li>
</ul>
<p>This is done as a diff between main branch and the pull request so if one finds reported changes acceptable and merges them, they will no longer be reported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2023-02-17 10:53</div>
            <div class="timeline-body"><p>(I'd be interested to set this up)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-03-10 22:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:29:17 UTC
    </footer>
</body>
</html>
