<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Additional configuration file `.ruff.toml` - astral-sh/ruff #2988</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Additional configuration file <code>.ruff.toml</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2988">#2988</a>
        opened by <a href="https://github.com/s0undt3ch">@s0undt3ch</a>
        on 2023-02-17 14:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/s0undt3ch">@s0undt3ch</a></div>
            <div class="timeline-body">

<p>First of all, Thank You for this blazing fast tool!
I must also say that some of my smaller projects(because it will be easier and faster) will get migrated to <code>ruff</code> pretty soon.</p>
<p>There are however a few big projects which it will not be that easy to fix in one batch.
They even have parts where the rules are not the same.
The good news is, while they are not in a monorepo, ruff&#x27;s monorepo support and configuration extending by means of additional <code>pyproject.toml</code> and <code>ruff.toml</code> will simplify this.
We will not be using additional <code>pyproject.toml</code> files since, as I mentioned, they are big, but non monorepo, projects.
That leaves us with <code>ruff.toml</code>.
However, I feel like a <code>.ruff.toml</code> would be something that would immediately &quot;say&quot;, this is a local configuration file as opposed to something that the project requires to make it work.</p>
<p>Would it be possible to, additionally, check for, and support, <code>.ruff.toml</code> configuration files?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-02-17 15:02</div>
            <div class="timeline-body"><blockquote>
<p>We will not be using additional pyproject.toml files since, as I mentioned, they are big, but non monorepo, projects.</p>
</blockquote>
<p>I don&#x27;t understand this at all. What is the problem with using <code>pyproject.toml</code> files?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/s0undt3ch">@s0undt3ch</a> on 2023-02-17 17:33</div>
            <div class="timeline-body"><blockquote>
<p>I don&#x27;t understand this at all. What is the problem with using <code>pyproject.toml</code> files?</p>
</blockquote>
<p>We use <code>pyproject.toml</code> at the root of the repo.
When I say we won&#x27;t use it, I&#x27;m referring to directories within the repo, it&#x27;ll be confusing since <code>pyproject.toml</code> is used to configure a project. Having more than one suggests more projects, and thus a monorepo layout, which is not the case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-17 17:36</div>
            <div class="timeline-body"><p>Ah yeah, <code>ruff.toml</code> is designed for this purpose. So the question is whether we&#x27;d support <code>.ruff.toml</code> -- which wouldn&#x27;t change semantics at all, right? Just the nomenclature?</p>
<p>My initial reaction is that I&#x27;d rather not support multiple file names... and yet, ESLint does expect everything except <code>package.json</code> to be dot-prefixed: https://eslint.org/docs/latest/use/configure/configuration-files#configuration-file-formats. So there&#x27;s definitely precedent.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-17 17:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/s0undt3ch">@s0undt3ch</a> on 2023-02-17 17:58</div>
            <div class="timeline-body"><p><code>ruff.toml</code> and <code>.ruff.toml</code> would do and behave the exact same way.
It&#x27;s just a matter of making it &quot;less&quot; visible if there&#x27;s a need to have a few of them on the repository.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-17 17:59</div>
            <div class="timeline-body"><p>Yeah totally understand. Lemme think on it for a bit! It&#x27;s a reasonable request.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/s0undt3ch">@s0undt3ch</a> on 2023-02-17 18:03</div>
            <div class="timeline-body"><p>For additional context on why we would need multiple config files, we have some rules we apply to our application code, and the rules for tests are a bit more relaxed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/s0undt3ch">@s0undt3ch</a> on 2023-02-17 18:03</div>
            <div class="timeline-body"><blockquote>
<p>Yeah totally understand. Lemme think on it for a bit! It&#x27;s a reasonable request.</p>
</blockquote>
<p>Thank You.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KyleKing">@KyleKing</a> on 2023-02-17 20:36</div>
            <div class="timeline-body"><p>I personally would use <code>.ruff.toml</code>, if available. Other major Python tools support: <code>.flake8</code>, <code>.mypy.ini</code>, <code>.pylintrc</code>, etc.</p>
<blockquote>
<p>For additional context on why we would need multiple config files, we have some rules we apply to our application code, and the rules for tests are a bit more relaxed.</p>
</blockquote>
<p>I don&#x27;t know if you have considered it, but you may want to try <code>per-file-ignores</code> rather than multiple configuration files. This is from one of my projects:</p>
<pre><code>[per-file-ignores]
&#x27;*tests/*.py&#x27; = [
    &#x27;ANN201&#x27;,  # Missing return type annotation for public function
    &#x27;S101&#x27;,    # Matches &#x27;assert&#x27;
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/s0undt3ch">@s0undt3ch</a> on 2023-02-17 21:15</div>
            <div class="timeline-body"><blockquote>
<p>I don&#x27;t know if you have considered it, but you may want to try <code>per-file-ignores</code> rather than multiple configuration files.</p>
</blockquote>
<p>Just started testing the tool.
Didn&#x27;t know it supported globs. Good to know.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-17 21:44</div>
            <div class="timeline-body"><p>Yeah <code>per-file-ignores</code> is the recommended route for sub-package configuration if all you need to do is turn rules off (which is common for tests).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-24 23:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:32 UTC
    </footer>
</body>
</html>
