<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disallow Certain Rules from Inline Error Supression - astral-sh/ruff #8797</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Disallow Certain Rules from Inline Error Supression</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8797">#8797</a>
        opened by <a href="https://github.com/travis-cook-sfdc">@travis-cook-sfdc</a>
        on 2023-11-20 22:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/travis-cook-sfdc">@travis-cook-sfdc</a></div>
            <div class="timeline-body"><p>hi there -</p>
<p>I help to manage a fairly large repo at my company.</p>
<p>In certain scenarios, we&#x27;d like to use ruff rule <a href="https://docs.astral.sh/ruff/rules/banned-api/">TID251</a> to help prevent certain functions from being used in our repo.</p>
<p>While this rule currently works fine, anyone can add <code>noqa: TID251</code> to their code.  I have no problem with someone doing this, but I wish there was a way to have this trigger a required review by the repo owner.</p>
<p>Ideally, we could use <code>per-file-ignores</code> to ignore this rule in certain allow-listed cases, but there&#x27;s a few issues here:</p>
<pre><code>[tool.ruff.per-file-ignores]
&quot;__init__.py&quot; = [&quot;TID251&quot;]
&quot;path/to/file.py&quot; = [&quot;TID251&quot;]
</code></pre>
<p>1️⃣  It&#x27;s still possible to do an in-line ignore.  It could be nice to not allow inline ignores for this rule
2️⃣ This allows all banned apis in this file as opposed to just one specific.</p>
<p>Perhaps ruff isn&#x27;t the right tool for the job here, but wanted to bring this up as a potential feature.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-21 01:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-21 01:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KotlinIsland">@KotlinIsland</a> on 2024-07-11 04:08</div>
            <div class="timeline-body"><p>take a look at <a href="https://pypi.org/project/pylint-module-boundaries/">pylint-module-boundaries</a>, maybe that would suite your situation better</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:46 UTC
    </footer>
</body>
</html>
