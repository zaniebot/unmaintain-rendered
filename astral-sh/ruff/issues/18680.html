<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New rule - unnecessary-generator-tuple (C400 but for tuples) - astral-sh/ruff #18680</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New rule - unnecessary-generator-tuple (C400 but for tuples)</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18680">#18680</a>
        opened by <a href="https://github.com/Andrej730">@Andrej730</a>
        on 2025-06-15 06:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Andrej730">@Andrej730</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The reasoning is the same as for https://docs.astral.sh/ruff/rules/unnecessary-generator-list/ - it's more direct and more performant.</p>
<pre><code class="language-python">import timeit

def bench(repeats):
    def decorator(func):
        total = timeit.timeit(func, number=repeats)
        avg = total / repeats
        print(f&quot;{func.__name__: &lt;35} - {avg * 1e6:.2f} μs&quot;)
        return func
    return decorator

@bench(repeats=10000)
def test_list_generator():
    # C400 Unnecessary generator (rewrite using `list()`)
    list(i for i in range(5000))

@bench(repeats=10000)
def test_list():
    list(range(5000))

@bench(repeats=10000)
def test_tuple_generator():
    # Currently undetected by Ruff.
    tuple(i for i in range(5000))

@bench(repeats=10000)
def test_tuple():
    tuple(range(5000))

# test_list_generator                 - 135.23 μs
# test_list                           - 27.07 μs
# test_tuple_generator                - 138.78 μs
# test_tuple                          - 34.86 μs
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-06-15 16:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @ntBre on 2025-06-15 16:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:52 UTC
    </footer>
</body>
</html>
