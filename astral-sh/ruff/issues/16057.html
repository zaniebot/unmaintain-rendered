<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>different `line-length`s for `.pyi` and `.py` - astral-sh/ruff #16057</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>different <code>line-length</code>s for <code>.pyi</code> and <code>.py</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/16057">#16057</a>
        opened by <a href="https://github.com/jorenham">@jorenham</a>
        on 2025-02-09 22:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jorenham">@jorenham</a> on 2025-02-09 22:51</div>
            <div class="timeline-body"><h3>Description</h3>
<p>From the style guide for stub files in the official Python typing docs (https://typing.readthedocs.io/en/latest/guides/writing_stubs.html#maximum-line-length):</p>
<blockquote>
<p>Stub files should be limited to 130 characters per line.</p>
</blockquote>
<p>I agree with this, and want to use <code>line-length=130</code> for all of my <code>.pyi</code> stub files (if this seems weirdly long to you, then look through some of the stubs of e.g. <a href="https://github.com/scipy/scipy-stubs"><code>scipy-stubs</code></a>, and you'll see why it is the way it is).
But at the same time, I also want to be able to use the oh-so-familiar <code>line-length</code> of <code>88</code> for my <code>.py</code>.</p>
<p>As far as I'm aware, there is currently no mechanism that allows for configuring the <code>line-length</code> for <code>.py</code> and <code>.pyi</code>.</p>
<p>For libraries where <code>.py</code> and <code>.pyi</code> live in separate directories, this can easily be worked around with a <code>ruff.toml</code> containing e.g.</p>
<pre><code class="language-toml">extend = &quot;../../pyproject.toml&quot;
line-length = 130
</code></pre>
<p>But for libraries such as NumPy, where the <code>.pyi</code> and the <code>.py</code> are harmoniously living side-by-side, this isn't an option. And I'm having trouble figuring out how I can achieve this &quot;two-sizes-fits-all&quot; configuration.</p>
<p>If I'm missing something; consider this a question. Elsewise, this could be labelled as either a gummy bear or a feature request; choose wisely.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @AlexWaygood on 2025-02-09 22:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-10 07:40</div>
            <div class="timeline-body"><p>Thanks for the nice write up and explaining your use case. This makes sense to me but, unfortunately, isn't supported today. What I think the solution to this is to allow file-level overrides (similar to <code>per-file-ignores</code> but for arbitrary settings).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-02-10 07:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:36 UTC
    </footer>
</body>
</html>
