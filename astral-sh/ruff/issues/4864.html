<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Rule to rewrite `pathlib.Path().joinpath` with `/` - astral-sh/ruff #4864</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New Rule to rewrite <code>pathlib.Path().joinpath</code> with <code>/</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4864">#4864</a>
        opened by <a href="https://github.com/mosauter">@mosauter</a>
        on 2023-06-05 13:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mosauter">@mosauter</a> on 2023-06-05 13:32</div>
            <div class="timeline-body"><p>In many projects I came around something like this:</p>
<pre><code class="language-python">from pathlib import Path

path_a = Path(&quot;.&quot;).joinpath(&quot;somewhere.xml&quot;)
path_b = Path(&quot;.&quot;) / &quot;somewhere.xml&quot;
</code></pre>
<p>I would like to have a rule that (optimally rewrites) one into another. I don't really care which one it is, all I want is consistency.</p>
<p>I could also imagine that this should be realized as a setting-variable, with either the one or other way to be preferred.</p>
<p>The main problem for an implementation that I see is that we don't have type recognition in ruff, and therefore I would just apply it onto any <code>joinpath</code> method that I find.</p>
<p>(And this is the only direction this could currently work with, as the reverse, meaning '/' to 'joinpath' is not really possible without getting the types of an expression)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mosauter">@mosauter</a> on 2023-06-05 13:33</div>
            <div class="timeline-body"><p>I could also see myself implementing this, but with the missing typing I don't know if it is sensible to start with it now or if it's better to wait until we have a more general solution for typing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-06-05 18:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-06-05 18:30</div>
            <div class="timeline-body"><p>I don't think we're able to implement this right now -- the number of cases we could enforce it in would be pretty limited.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by @charliermarsh on 2023-06-22 20:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-07-10 01:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vivodi">@vivodi</a> on 2025-03-13 13:09</div>
            <div class="timeline-body"><p>I advocate for this.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:17 UTC
    </footer>
</body>
</html>
