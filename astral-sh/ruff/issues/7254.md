```yaml
number: 7254
title: False positive for UP012?
type: issue
state: closed
author: fschulze
labels:
  - bug
assignees: []
created_at: 2023-09-10T05:58:43Z
updated_at: 2023-09-14T20:08:59Z
url: https://github.com/astral-sh/ruff/issues/7254
synced_at: 2026-01-10T01:56:49Z
```

# False positive for UP012?

---

_Issue opened by @fschulze on 2023-09-10 05:58_

``"Föö".encode("utf-8")`` triggers the rule, but can't be replaced with ``b"Föö"``. I use this quite often in tests.

---

_Label `bug` added by @charliermarsh on 2023-09-10 10:01_

---

_Comment by @charliermarsh on 2023-09-10 16:30_

Thanks!

---

_Comment by @jaap3 on 2023-09-12 14:30_

It can be replaced by `"Föö".encode()` (utf-8 is the default encoding). This stops the warning from triggering.

Not sure if that's the intention of the rule, but that's how I fixed it when I encountered it.

---

_Comment by @fschulze on 2023-09-13 05:22_

I think ``.encode()`` seems to be the right fix. I'm not sure since when that is the default though. The docs for 3.5 say it is the default and it says: "Changed in version 3.1: Support for keyword arguments added.", so I guess that is when the default was added as well.

So maybe only the message needs to be adjusted.

---

_Assigned to @charliermarsh by @charliermarsh on 2023-09-14 19:54_

---

_Comment by @charliermarsh on 2023-09-14 19:56_

Ah okay cool -- so I confirmed we do the right thing here, but the message needs to be updated to reflect the two cases.

---

_Referenced in [astral-sh/ruff#7393](../../astral-sh/ruff/pulls/7393.md) on 2023-09-14 19:59_

---

_Closed by @charliermarsh on 2023-09-14 20:09_

---
