<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[BUG] `ruff` does not correctly check mandatory arguments - astral-sh/ruff #19062</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[BUG] `ruff` does not correctly check mandatory arguments</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/19062">#19062</a>
        opened by <a href="https://github.com/yarnabrina">@yarnabrina</a>
        on 2025-07-01 01:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/yarnabrina">@yarnabrina</a> on 2025-07-01 01:28</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Consider the following snippet</p>
<pre><code class="language-python">&quot;&quot;&quot;Compare ruff and pylint behvaiour on missing mandatory arguments.&quot;&quot;&quot;


def add(x: int, y: int) -&gt; int:
    &quot;&quot;&quot;Add two integers.

    Parameters
    ----------
    x : int
        first integer
    y : int
        second integer

    Returns
    -------
    int
        sum of ``x`` and ``y``
    &quot;&quot;&quot;
    return x + y


add(1)

</code></pre>
<p>This code should fail with the following:</p>
<pre><code>Traceback (most recent call last):
  File &quot;/path/to/folder/ruff_bug_report.py&quot;, line 22, in &lt;module&gt;
    add(1)
TypeError: add() missing 1 required positional argument: 'y'
</code></pre>
<p>However, ruff check passes.</p>
<pre><code>❯ 
❯ ruff --version
ruff 0.11.12
❯ ruff check ruff_bug_report.py
All checks passed!
❯ 
</code></pre>
<p>It can be reproduced on https://play.ruff.rs/381e3098-8e90-4773-83eb-a798942191e7.</p>
<p>This check is part of pylint, e.g. <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/error/no-value-for-parameter.html">E1120</a>.</p>
<pre><code>❯ 
❯ pylint --version
pylint 3.3.7
astroid 3.3.10
Python 3.11.13 (main, Jun  3 2025, 18:38:25) [Clang 16.0.0 (clang-1600.0.26.6)]
❯ pylint ruff_bug_report.py
************* Module compare
compare.py:22:0: E1120: No value for argument 'y' in function call (no-value-for-parameter)

------------------------------------------------------------------
Your code has been rated at 0.00/10 (previous run: 0.00/10, +0.00)

❯ 
</code></pre>
<h3>Version</h3>
<p>ruff 0.11.12 (aee3af0f7 2025-05-29)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yarnabrina">@yarnabrina</a> on 2025-07-01 01:30</div>
            <div class="timeline-body"><p>Note: I created https://github.com/astral-sh/ruff/issues/13329 last year, which was told to fail because of ruff's lack of support of multi file analysis. This error is very similar to that one, but this is of course happening in a single module.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-01 13:17</div>
            <div class="timeline-body"><p>Thanks, it looks like we don't implement that pylint rule in Ruff yet.</p>
<p>However, it looks like our type checker does handle this case already: https://play.ty.dev/2204a404-fb5f-4a1c-a691-7b434b50202f</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-07-01 13:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by @ntBre on 2025-07-01 13:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yarnabrina">@yarnabrina</a> on 2025-07-01 15:34</div>
            <div class="timeline-body"><p>I wasn't even aware of <code>ty</code>, thanks for sharing. Is it going to be separate from <code>ruff</code> and essentially be like myly/pyright etc.?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-01 15:45</div>
            <div class="timeline-body"><p>Yes, for now it's a separate program in the vein of mypy and pyright. At some point we hope to use some of its type inference in Ruff, but we're a while away from that currently.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-07 08:53</div>
            <div class="timeline-body"><p>This is a feature better handled by a type checker than a linter as Brent already pointed out.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-07-07 08:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yarnabrina">@yarnabrina</a> on 2025-07-20 09:43</div>
            <div class="timeline-body"><p>@MichaReiser sorry for replying late, but can you please elaborate on your comment? The failure here is not with respect to types of passed arguments or returns, but because wrong signature is being used, is it not expected for a linter to check?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-21 13:38</div>
            <div class="timeline-body"><p>The signature is part of the function's type, so it's easier to write this kind of lint rule in a type checker, which already tracks function types more rigorously and across files, than in Ruff. At least that's what I was thinking.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yarnabrina">@yarnabrina</a> on 2025-07-23 15:50</div>
            <div class="timeline-body"><p>Ok, sure. I know that at least in our team type checkers are not that consistently used because of lack of stubs in our dependencies, so having it in <code>ruff</code> (which also has some other type annotation based rules) would have been easier for us. But let us start exploring <code>ty</code> and/or combination with <code>pylint</code>.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
