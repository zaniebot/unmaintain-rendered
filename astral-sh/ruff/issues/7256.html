<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D417: Error if arguments listed in docstring are not vertically aligned with 'Args:' - astral-sh/ruff #7256</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>D417: Error if arguments listed in docstring are not vertically aligned with 'Args:'</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/7256">#7256</a>
        opened by <a href="https://github.com/Laurent-Zerah">@Laurent-Zerah</a>
        on 2023-09-10 08:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Laurent-Zerah">@Laurent-Zerah</a> on 2023-09-10 08:13</div>
            <div class="timeline-body"><p>Following command:</p>
<pre><code>ruff check .\script.py
</code></pre>
<p>With <code>script.py</code> containing:</p>
<pre><code>def calculate_speed(distance: float, time: float) -&gt; float:
    &quot;&quot;&quot;Calculate speed as distance divided by time.

    Args:
    ----
        distance: Distance traveled.
        time: Time spent traveling.

    Returns:
    -------
        Speed as distance divided by time.

    &quot;&quot;&quot;
    return distance / time
</code></pre>
<p>Reports the following violation:</p>
<pre><code>script.py:3:5: D417 Missing argument descriptions in the docstring for `calculate_speed`: `distance`, `time`
</code></pre>
<p>Where Ruff version is <code>0.0.286</code> and the settings in <code>pyproject.toml</code> are as follows:</p>
<pre><code>[tool.ruff]
select = [&quot;ALL&quot;]
ignore= [&quot;D203&quot;, &quot;D213&quot;, &quot;FA102&quot;, &quot;FIX002&quot;, &quot;N817&quot;, &quot;S101&quot;, &quot;S311&quot;, &quot;S314&quot;, &quot;T201&quot;, &quot;TD002&quot;, &quot;TD003&quot;]
</code></pre>
<p>But if arguments are vertically aligned with <code>Args:</code>:</p>
<pre><code>def calculate_speed(distance: float, time: float) -&gt; float:
    &quot;&quot;&quot;Calculate speed as distance divided by time.

    Args:
    ----
    distance: Distance traveled.
    time: Time spent traveling.

    Returns:
    -------
        Speed as distance divided by time.

    &quot;&quot;&quot;
    return distance / time
</code></pre>
<p>Then Ruff does not complain.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by @charliermarsh on 2023-09-10 16:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-10 16:28</div>
            <div class="timeline-body"><p>Thanks! Closing as a duplicate of https://github.com/astral-sh/ruff/issues/7256. I wrote a comment there, but FWIW I don't necessary recommend mixing docstring conventions (e.g., this snippet uses NumPy-style underlines but Google-style indentation and section names) as it can lead to unintended results.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-09-10 16:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
