```yaml
number: 5448
title: Infer Python target version from Poetry dependencies
type: issue
state: closed
author: MicaelJarniac
labels: []
assignees: []
created_at: 2023-06-29T19:51:06Z
updated_at: 2023-06-30T00:03:41Z
url: https://github.com/astral-sh/ruff/issues/5448
synced_at: 2026-01-10T01:56:48Z
```

# Infer Python target version from Poetry dependencies

---

_Issue opened by @MicaelJarniac on 2023-06-29 19:51_

Ruff is able to infer `tool.ruff.target-version` from `project.requires-python`, but not from Poetry's `tool.poetry.dependencies.python`.

Poetry is a rather large project, with [![Poetry stars](https://img.shields.io/github/stars/python-poetry/poetry?style=flat-square)](https://github.com/python-poetry/poetry) on GitHub, which is currently more than Ruff itself, at [![Ruff stars](https://img.shields.io/github/stars/astral-sh/ruff?style=flat-square)](https://github.com/astral-sh/ruff), so I'd say supporting it would be very nice and help a lot of people.

- https://github.com/python-poetry/poetry
- https://beta.ruff.rs/docs/settings/#target-version
- https://python-poetry.org/docs/pyproject/#dependencies-and-dependency-groups

`pyproject.toml` using Poetry:
```toml
[tool.poetry]
name = "my-project"
version = "0.0.0"
description = "My project."
authors = ["Author <author@example.com>"]

[tool.poetry.dependencies]
python = "^3.8"

[tool.ruff]
target-version = "py38"  # This shouldn't be, necessary
```

---

_Comment by @MicaelJarniac on 2023-06-29 19:57_

I've been told this is a known issue (although I still can't find the actual issue here), that Poetry's team has said they'll eventually support [PEP 621](https://peps.python.org/pep-0621/), and that this feature wouldn't be necessary.

---

_Closed by @MicaelJarniac on 2023-06-29 19:57_

---

_Comment by @charliermarsh on 2023-06-30 00:03_

For posterity, this conversation happened in Discord via a Poetry maintainer: https://discord.com/channels/1039017663004942429/1070132471699607623/1107271647657996448

---

_Referenced in [astral-sh/ruff#7957](../../astral-sh/ruff/issues/7957.md) on 2023-10-14 18:36_

---

_Referenced in [astral-sh/ruff#10175](../../astral-sh/ruff/issues/10175.md) on 2024-02-29 17:23_

---
