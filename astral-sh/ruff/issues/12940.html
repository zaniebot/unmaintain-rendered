<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N817 not correctly detecting `from xml.etree import ElementTree as ET` - astral-sh/ruff #12940</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>N817 not correctly detecting `from xml.etree import ElementTree as ET`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12940">#12940</a>
        opened by <a href="https://github.com/lengau">@lengau</a>
        on 2024-08-16 18:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lengau">@lengau</a> on 2024-08-16 18:31</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>In ruff 0.6.1, this file:</p>
<pre><code class="language-python">from xml.etree import ElementTree as ET

_ = ET
</code></pre>
<p>causes N817 to trigger an error with the default ruff settings,even though the default value of <code>lint.flake8-import-conventions</code> contains that mapping and it's supposed to be ignored according to <a href="https://docs.astral.sh/ruff/rules/camelcase-imported-as-acronym/">the docs</a>.</p>
<pre><code>$ ruff check --fix --unsafe-fixes --select ICN001,N817 sample.py 
sample.py:2:23: N817 CamelCase `ElementTree` imported as acronym `ET`
  |
2 | from xml.etree import ElementTree as ET
  |                       ^^^^^^^^^^^^^^^^^ N817
3 | 
4 | _ = ET
  |

Found 1 error.
</code></pre>
<pre><code class="language-python">import xml.etree.ElementTree as ET

_ = ET
</code></pre>
<p>failed in 0.6.0 but is fixed in 0.6.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-16 18:46</div>
            <div class="timeline-body"><p>Thanks for reporting. This was fixed in 0.6.1. Can you try upgrading?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lengau">@lengau</a> on 2024-08-16 18:49</div>
            <div class="timeline-body"><p>Thanks! I saw the 0.6.1 upgrade after reporting and will do so as soon as my <a href="https://github.com/snapcrafters/ruff/actions/runs/10424701636/job/28874026510">build completes</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lengau">@lengau</a> on 2024-08-16 19:02</div>
            <div class="timeline-body"><p>@MichaReiser thanks for the quick turnaround! I've amended the bug report, as the <code>from ... import ... as ...</code> form still fails.</p>
<p>I personally consider it low priority since I've just gone ahead and changed them to <code>import ... as ...</code> and let the auto-fixer fix them :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "N817 not correctly detecting `xml.etree.ElementTree`" to "N817 not correctly detecting `from xml.etree import ElementTree as ET`" by @lengau on 2024-08-16 19:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-17 11:20</div>
            <div class="timeline-body"><p>Ohh I see. Thanks for updating the issue and sorry for the oversight</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MichaReiser on 2024-08-17 11:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @MichaReiser by @MichaReiser on 2024-08-17 11:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/12946.html">astral-sh/ruff#12946</a> on 2024-08-17 11:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-08-17 12:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lengau">@lengau</a> on 2024-08-17 14:51</div>
            <div class="timeline-body"><p>That was quick! Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12916.html">astral-sh/ruff#12916</a> on 2024-08-19 18:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:53 UTC
    </footer>
</body>
</html>
