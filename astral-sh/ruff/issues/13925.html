<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support type-hint comments - astral-sh/ruff #13925</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support type-hint comments</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/13925">#13925</a>
        opened by <a href="https://github.com/FFY00">@FFY00</a>
        on 2024-10-25 11:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/FFY00">@FFY00</a> on 2024-10-25 11:57</div>
            <div class="timeline-body"><p>It would be nice if Ruff supported type-hint comments. These were in use before the type hint syntax was added to Python, which happened in 3.6.</p>
<p>While most projects have moved to syntax type-hints, there are projects with these still around. There may be a couple of reasons, like the project still haven't migrated to the new format, or the project needing to target older Python versions that do not support the new syntax.
For example, I am currently working on a project that introspects Python installations, and as such, I am maintaining a script that needs to run on older versions.</p>
<p>Example:</p>
<pre><code class="language-python">if False:  # TYPE_CHECKING
    from typing import Any


def generate_data(schema_version: str):  # type: (str) -&gt; dict[str, Any]
    ...
</code></pre>
<p>At the moment, Ruff issues F401 (&quot;imported but unused&quot;) for the import in the example, which is incorrect, as <code>Any</code> is used in the type-hint comment.</p>
<p>That said, I do realize this doesn't have that many users, so it'd be totally understandable if you opt to not support it.
If it helps, I can look into implementing this myself, as I'd like to get more familiarized with the Ruff codebase.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-10-25 14:21</div>
            <div class="timeline-body"><p>Thanks for the issue. Going to close as a duplicate of #1619 and #10501, however :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-10-25 14:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FFY00">@FFY00</a> on 2024-10-25 14:23</div>
            <div class="timeline-body"><p>Ah, sorry! I did search for this on the issue tracker, but didn't notice those issues.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:14 UTC
    </footer>
</body>
</html>
