<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] Move type-property tests to Markdown - astral-sh/ruff #15397</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] Move type-property tests to Markdown</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15397">#15397</a>
        opened by <a href="https://github.com/sharkdp">@sharkdp</a>
        on 2025-01-10 11:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-01-10 11:15</div>
            <div class="timeline-body"><p>The various type-property tests here …</p>
<p>https://github.com/astral-sh/ruff/blob/b861551b6ac928c25136d76151162f6fefc9cf71/crates/red_knot_python_semantic/src/types.rs#L4155-L4673</p>
<p>… can now be moved to Markdown-based tests which are more concise, easier to read, can be run without recompilation, and can contain additional prose for documentation.</p>
<p>An example on how to do this can be seen in <a href="https://github.com/astral-sh/ruff/pull/15353">this PR</a> which moved the <code>is_assignable_to</code> tests (ignore the changes in <code>property_tests.rs</code>).</p>
<p>If you would like to work on this, let us know and pick <em>one</em> of these:</p>
<ul>
<li>[x] <code>tuple_containing_never_simplifies_to_never</code></li>
<li>[x] <code>is_assignable_to</code></li>
<li>[x] <code>is_subtype_of</code></li>
<li>[x] <code>is_equivalent_to</code></li>
<li>[x] <code>is_disjoint_from</code></li>
<li>[x] <code>is_singleton</code></li>
<li>[x] <code>is_single_valued</code></li>
<li>[x] <code>is_fully_static</code></li>
<li>[x] truthiness</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @sharkdp on 2025-01-10 11:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @sharkdp on 2025-01-10 11:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-01-10 12:12</div>
            <div class="timeline-body"><blockquote>
<p>[...] and pick <em>one</em> of these</p>
</blockquote>
<p>Why only one? Wouldn't it be easier for both the contributor and the reviewers to have one instead of multiple PRs? These are closely related, after all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-01-10 13:02</div>
            <div class="timeline-body"><p>They are related tasks of course, but they can be cleanly separated. The Rust code in these tests changes from time to time (the latest refactoring that changed these was yesterday), and new test cases are added. So if we merge all of these into one giant contribution, it increases the risk for annoying merge conflicts that could be avoided otherwise. As a maintainer, I also prefer multiple smaller contributions. That said, obviously I won't complain if someone wants to tackle more or all of these at once.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-01-10 13:42</div>
            <div class="timeline-body"><p>I strongly agree that small, incremental PRs are much easier to review, and therefore much more helpful</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-01-20 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-01-20 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-01-20 07:42</div>
            <div class="timeline-body"><p>Thank you @InSyncWithFoo</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:15 UTC
    </footer>
</body>
</html>
