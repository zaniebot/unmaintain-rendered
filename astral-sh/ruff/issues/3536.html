<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Docu missing - astral-sh/ruff #3536</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>API Docu missing</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/3536">#3536</a>
        opened by <a href="https://github.com/buhtz">@buhtz</a>
        on 2023-03-15 09:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/buhtz">@buhtz</a></div>
            <div class="timeline-body"><p>Hello,</p>
<p>it seems to me that there is no documentation about the API. Is it called &quot;API Reference&quot;?</p>
<p>I do
import ruff</p>
<p>and then have no idea what to do with that module.</p>
<p>I don't want to run ruff from shell but in my own python scripts.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-03-15 09:39</div>
            <div class="timeline-body"><p>:wave: @buhtz</p>
<p>Ruff doesn't provide a public python API today, but we are considering adding it. Can you tell us a bit about your use case? It would help us prioritize and design the feature.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2023-03-15 11:34</div>
            <div class="timeline-body"><p>Dear Micha,
thanks for your reply.</p>
<p>I would like to call ruff from my unit tests. I know it is not recommended today but I never understood why I should to PEP8 testing while unit testing. Pre commit hooks are IMHO not an option because they add an additional layer and that hooks often do feel like hacks or workarounds to me and not as solutions.</p>
<p>Here an example how I do it with pycode style.</p>
<pre><code>class MirrorMirrorOnTheWall(unittest.TestCase):
    &quot;&quot;&quot;Check all py-files in the package incl. its test files if they are
    PEP8 compliant.
    &quot;&quot;&quot;
 
    # ...snipped...

    def test_pep8_conformance(self):
        &quot;&quot;&quot;PEP8 conformance&quot;&quot;&quot;

        for fp in self._collect_py_files():
            with self.subTest(fp):
                print(fp)
                pep = pycodestyle.Checker(fp, ignore=None)
                self.assertEqual(pep.check_all(), 0, fp.name)
</code></pre>
<p>A workaround is to use <code>subprocess.Popen()</code> of course.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-15 23:22</div>
            <div class="timeline-body"><p>Yeah we're not quite at the point at which we can offer a programmatic public API. The recommended solution is to go through <code>subprocess</code>, but we'll likely fix this at some point in the future :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-03-15 23:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:48 UTC
    </footer>
</body>
</html>
