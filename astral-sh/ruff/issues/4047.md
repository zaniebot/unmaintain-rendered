```yaml
number: 4047
title: False D417 when arguments some are keyword only.
type: issue
state: closed
author: AlexGiazitzis
labels:
  - bug
  - docstring
assignees: []
created_at: 2023-04-20T14:34:48Z
updated_at: 2023-04-25T05:32:17Z
url: https://github.com/astral-sh/ruff/issues/4047
synced_at: 2026-01-10T01:56:47Z
```

# False D417 when arguments some are keyword only.

---

_Issue opened by @AlexGiazitzis on 2023-04-20 14:34_

Running the command `ruff .\file.py` containing the snippet below, shows a D417 warning whilst all arguments are documented. If the Args section and all members of it is removed, the warning goes away, whilst arg1 is not documented. I've attached screenshots for each occasion. With the --isolated flag, no warning is emitted in both cases.

`ruff --version` output: `ruff 0.0.262`

```python
def func(arg1, *, arg2, arg3):
    """Do something.

    Args:
        arg1 (type): description

    Keyword Args:
        arg2 (type): description
        arg3 (type): description

    """
    ...
```

![Screenshot 2023-04-20 171734](https://user-images.githubusercontent.com/74965864/233396611-75c95421-f9b2-467b-9164-fdef5f98d4c8.png)


![Screenshot 2023-04-20 172433](https://user-images.githubusercontent.com/74965864/233396656-3c8210af-9433-4751-9c38-ea22fb686d66.png)


pyproject.toml
```toml
[tool.ruff]
line-length = 120
select = ["D", "E", "F"]
target-version = "py38"

[tool.ruff.pydocstyle]
convention = "google"

[tool.ruff.per-file-ignores]
"__init__.py" = ["F401"]

[tool.black]
line-length = 120
target-version = ['py38']
include = '''
(
      \.pyi?$
    | \.py?$
    | ^/tests/
    | ^/src/
)
'''
exclude = '''
(
  /(
      \.eggs         # exclude a few common directories in the
    | \.git          # root of the project
    | \.hg
    | \.mypy_cache
    | \.tox
    | \.venv
    | _build
    | __pycache__
    | buck-out
    | build
    | dist
    | .*/migrations
    | \.github
    | ci
    | node_modules
    | static
    | staticfiles
  )/
  | \.html
  | \.js
  | \.css
  | \.scss
)
'''

```

---

_Renamed from "False D417 when arguments are keyword only." to "False D417 when arguments some are keyword only." by @AlexGiazitzis on 2023-04-20 14:37_

---

_Comment by @evanrittenhouse on 2023-04-20 16:25_

Hmm, I can't find a `Keyword Args` section in the [Google style guide](https://google.github.io/styleguide/pyguide.html). I do see that `pytkdocs` supports the section under `Keyword Arguments`: https://github.com/mkdocstrings/pytkdocs/pull/105/files. Does it work if you use `Keyword Arguments`?

---

_Comment by @AlexGiazitzis on 2023-04-20 16:34_

Nope, same issue.

Edit: In sphinx [napoleon](https://sphinxcontrib-napoleon.readthedocs.io/en/latest/index.html#docstring-sections), it seems to be supported, which is why it seemed weird for the warning to trigger.
![image](https://user-images.githubusercontent.com/74965864/233430758-1156fa51-277a-45d9-baa5-3482320303f5.png)


---

_Label `docstring` added by @charliermarsh on 2023-04-21 02:06_

---

_Comment by @charliermarsh on 2023-04-21 02:07_

Looking at the code, we do respect those as Google-style sections ("Keyword Args" and "Keyword Arguments"). But I guess we don't include their contents as documented arguments when cross-referencing with the function signature. Pydocstyle has the same issue, it flags the above as `D417` too.

---

_Label `bug` added by @charliermarsh on 2023-04-21 02:07_

---

_Comment by @evanrittenhouse on 2023-04-21 02:08_

I can take a look at this

---

_Comment by @pawamoy on 2023-04-22 19:36_

With the new Python handler for mkdocstrings, we support the "keyword args" section with the following aliases (case insensitive): 

- keyword args
- keyword arguments
- other args
- other parameters

While checking this I spotted that the docs are not in sync with the code, and so I'll also add the following aliases:

- other arguments
- other params

Our parser takes some liberties with what's supported or not (because we're trying to reach a common denominator between the different docstring style standards), so it's up to you whether you want to support the same things or be strict with Napoleon's docs for example (keyword args and keyword arguments).

---

_Comment by @evanrittenhouse on 2023-04-22 20:31_

Gotcha, thanks for the heads up! I can add those aliases to the matcher as part of this fix if you think that's the way to go @charliermarsh 

---

_Comment by @charliermarsh on 2023-04-22 22:10_

I think it's reasonable to include those under the Google section.

---

_Comment by @charliermarsh on 2023-04-22 22:10_

(Thank you so much for chiming in, @pawamoy)

---

_Referenced in [astral-sh/ruff#4067](../../astral-sh/ruff/pulls/4067.md) on 2023-04-22 22:26_

---

_Closed by @charliermarsh on 2023-04-25 05:32_

---
