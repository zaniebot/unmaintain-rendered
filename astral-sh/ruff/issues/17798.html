<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`subprocess-without-shell-equals-true (S603)` false-positives on tuples - astral-sh/ruff #17798</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>subprocess-without-shell-equals-true (S603)</code> false-positives on tuples</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17798">#17798</a>
        opened by <a href="https://github.com/Avasam">@Avasam</a>
        on 2025-05-02 19:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Avasam">@Avasam</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>https://github.com/astral-sh/ruff/pull/17136 closed https://github.com/astral-sh/ruff/issues/17112 by adding an exception to string literals and arrays of string literals. But it didn't include tuples:</p>
<p><img src="https://github.com/user-attachments/assets/9a088e03-8620-49f2-a8b3-8174970e9d92" alt="Image" /></p>
<p>In this screenshot, you can see at line 309 that <code>S603</code> was removed because Ruff deemed it unused, but at line 315 I had to keep it.</p>
<p>MRE:</p>
<pre><code class="language-py">import subprocess
subprocess.check_output((&quot;literal&quot;, &quot;cmd&quot;, &quot;using&quot;, &quot;tuple&quot;), text=True)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ S607
</code></pre>
<h3>Version</h3>
<p>ruff 0.11.8</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-05-02 20:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @ntBre on 2025-05-02 20:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-02 20:43</div>
            <div class="timeline-body"><p>Thanks for the report! I think I'm missing the tuple in the screenshot, but I can definitely reproduce with your MRE on the playground: https://play.ruff.rs/7eeae789-402a-41bc-aa4a-0b2c007f217b</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2025-05-02 20:50</div>
            <div class="timeline-body"><p>I updated the description to point more precisely at where to look at in the screenshot.
But anyway that's why an MRE was provided (screenshots tend to make it hard to replicate)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-05-05 14:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:40 UTC
    </footer>
</body>
</html>
