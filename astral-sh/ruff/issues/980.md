```yaml
number: 980
title: Implement pygrep-hooks
type: issue
state: closed
author: JonathanPlasse
labels:
  - good first issue
  - plugin
assignees: []
created_at: 2022-12-01T16:42:17Z
updated_at: 2023-05-11T03:26:30Z
url: https://github.com/astral-sh/ruff/issues/980
synced_at: 2026-01-10T01:56:44Z
```

# Implement pygrep-hooks

---

_Issue opened by @JonathanPlasse on 2022-12-01 16:42_

# [pygrep-hooks](https://github.com/pre-commit/pygrep-hooks/blob/main/tests/hooks_test.py)

- [x] **`python-check-blanket-noqa`**: Enforce that `noqa` annotations always occur with specific codes. Sample annotations: `# noqa: F401`, `# noqa: F401,W203`
- [x] **`python-check-blanket-type-ignore`**: Enforce that `# type: ignore` annotations always occur with specific codes. Sample annotations: `# type: ignore[attr-defined]`, `# type: ignore[attr-defined, name-defined]`
- [ ] **`python-check-mock-methods`**: Prevent common mistakes of `assert mck.not_called()`, `assert mck.called_once_with(...)` and `mck.assert_called`.
- [x] **`python-no-eval`**: A quick check for the `eval()` built-in function
- [x] **`python-no-log-warn`**: A quick check for the deprecated `.warn()` method of python loggers
- [x] **`python-use-type-annotations`**: Enforce that python3.6+ type annotations are used instead of type comments


---

_Comment by @JonathanPlasse on 2022-12-01 17:03_

May be tag this issue `good first issue`.

---

_Label `good first issue` added by @charliermarsh on 2022-12-01 17:15_

---

_Label `rule` added by @charliermarsh on 2022-12-01 17:15_

---

_Comment by @JonathanPlasse on 2022-12-01 20:01_

I will implement `python-no-eval`.

---

_Referenced in [astral-sh/ruff#994](../../astral-sh/ruff/pulls/994.md) on 2022-12-02 10:11_

---

_Comment by @squiddy on 2022-12-15 17:36_

I'm working on `python-no-log-warn`.

---

_Referenced in [astral-sh/ruff#1250](../../astral-sh/ruff/pulls/1250.md) on 2022-12-15 19:38_

---

_Comment by @squiddy on 2022-12-17 12:17_

Working on `python-check-blanket-type-ignore` now.

---

_Referenced in [astral-sh/ruff#1440](../../astral-sh/ruff/pulls/1440.md) on 2022-12-29 17:22_

---

_Label `rule` removed by @charliermarsh on 2022-12-31 18:17_

---

_Label `plugin` added by @charliermarsh on 2022-12-31 18:17_

---

_Referenced in [astral-sh/ruff#1626](../../astral-sh/ruff/pulls/1626.md) on 2023-01-04 05:16_

---

_Referenced in [astropy/astropy#14297](../../astropy/astropy/pulls/14297.md) on 2023-01-23 19:56_

---

_Referenced in [materialsproject/pymatgen#2847](../../materialsproject/pymatgen/pulls/2847.md) on 2023-02-15 19:16_

---

_Comment by @JonathanPlasse on 2023-03-04 18:59_

- #3302 

---

_Comment by @finswimmer on 2023-04-30 19:36_

Hey,

`python-use-type-annotations` is marked as implemented in the OP. But it isn't, is it? ðŸ¤” 

fin swimmer

---

_Comment by @JonathanPlasse on 2023-04-30 19:45_

> Hey,
> 
> `python-use-type-annotations` is marked as implemented in the OP. But it isn't, is it? thinking
> 
> fin swimmer

> * [Add flake-pyi PYI033 "Do not use type comments in stubs" #3302](https://github.com/charliermarsh/ruff/pull/3302)

It is implemented as `PYI033`.

---

_Comment by @finswimmer on 2023-04-30 20:01_

> It is implemented as PYI033.

Hm, looks like this is only for stub files (`.pyi`) I cannot get it work for normal python files. :man_shrugging: 

---

_Referenced in [astral-sh/ruff#4166](../../astral-sh/ruff/pulls/4166.md) on 2023-04-30 21:20_

---

_Referenced in [astral-sh/ruff#4366](../../astral-sh/ruff/pulls/4366.md) on 2023-05-11 03:18_

---

_Closed by @charliermarsh on 2023-05-11 03:26_

---
