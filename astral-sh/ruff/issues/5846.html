<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow applying rule classes with noqa - astral-sh/ruff #5846</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow applying rule classes with noqa</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5846">#5846</a>
        opened by <a href="https://github.com/kieran-ryan">@kieran-ryan</a>
        on 2023-07-17 23:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kieran-ryan">@kieran-ryan</a> on 2023-07-17 23:00</div>
            <div class="timeline-body"><p>Multiple violations from the same rule class can be detected in a single statement e.g. two errors from the <code>FBT</code> rule class:</p>
<pre><code class="language-console">warning: Invalid `# noqa` directive on line 57: expected a comma-separated list of codes (e.g., `# noqa: F401, F841`).
package/main.py:57:5: FBT001 Boolean positional arg in function definition
package/main.py:57:20: FBT002 Boolean default value in function definition
Found 2 errors.
</code></pre>
<p>To suppress these violations, we can specify each error code as follows: <code># noqa: FBT001, FBT002</code>.</p>
<p>Suggest to provide the functionality to specify the rule class, similar to how we can select or ignore rules with this pattern i.e. <code># noqa: FBT</code>.</p>
<p>An autofix could be applied to update a noqa to use the rule class code where all rules of the class are specified e.g. autofix <code># noqa: NYP001, NYP002, NYP003</code> to <code># noqa: NYP</code>; and alternatively from the rule class back to specific error codes if its not suppressing violations for each rule in that class e.g. <code># noqa: NYP</code> back to <code># noqa: NYP001</code> - this would conflict with my first example as it would autofix <code># noqa: FBT</code> to <code># noqa: FBT001, FBT002</code> as the line does not violate all three errors of <code>FBT</code> - though is another option for how to approach this request.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">noqa</span> added by @charliermarsh on 2023-07-19 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-07-19 01:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:43 UTC
    </footer>
</body>
</html>
