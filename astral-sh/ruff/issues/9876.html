<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The `show-source` deprecation warning should have a clearer call to action - astral-sh/ruff #9876</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>The <code>show-source</code> deprecation warning should have a clearer call to action</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9876">#9876</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-02-07 16:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-07 16:14</div>
            <div class="timeline-body"><p>&quot;Please update your configuration&quot; should be more specific.</p>
<p>Raised in https://github.com/astral-sh/ruff/pull/9874</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @zanieb on 2024-02-07 16:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AbhinavMir">@AbhinavMir</a> on 2024-02-11 04:26</div>
            <div class="timeline-body"><p>Hi @zanieb - love Ruff, would love to contribute.</p>
<p>What's a good replacement?</p>
<p>Current message: <code>show-source</code> is deprecated and is now part of <code>output-format</code> in the form of <code>full</code> or <code>concise</code> options. Please update your configuration.</p>
<p>Modified message: <code>show-source</code> is deprecated and is now part of <code>output-format</code> in the form of <code>full</code> or <code>concise</code> options. Please update your configuration by replacing <code>show-source</code> with either <code>output-format = full</code> for viewing source code or <code>output-format = concise</code> (set as the default) for not showing source. This can be done in your configuration file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-11 05:15</div>
            <div class="timeline-body"><p>Hey @AbhinavMir! Love to hear that :)</p>
<p>I don't think we need to be quite so verbose. I haven't given the exact message a lot of thought but here are some ideas. This is a bit more work, but we should actually be able to <em>tell</em> which value they're using so if they use <code>show-source=true</code> we can say</p>
<blockquote>
<p>The <code>show-source</code> option has been deprecated. Use <code>output-format=full</code> instead.</p>
</blockquote>
<p>and for <code>show-source=false</code> we can say</p>
<blockquote>
<p>The <code>show-source</code> option has been deprecated. Use <code>output-format=text</code> instead.</p>
</blockquote>
<p>We may also be able to tell if this was provided via the CLI or a configuration file. If so, we can make even better suggestions e.g.</p>
<blockquote>
<p>The <code>show-source</code> option has been deprecated. Update your configuration file to use <code>output-format = text</code> instead.</p>
</blockquote>
<p>and</p>
<blockquote>
<p>The <code>--show-source</code> option has been deprecated. Use <code>--output-format=full</code> instead.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AbhinavMir">@AbhinavMir</a> on 2024-02-11 06:31</div>
            <div class="timeline-body"><p>Gotcha, I can probably prod into the code a bit more tomorrow, but it'd be great if you could point out where the options are being read from. The idea, I assume is, read the flags, show the correct output - but just wondering how this is architectured in the code base.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-07-12 03:10</div>
            <div class="timeline-body"><p>Should this issue be closed in light of #9814, which removes <code>show-source</code> as an option (along with its deprecation warning)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-07-12 03:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-12 03:32</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:32:42 UTC
    </footer>
</body>
</html>
