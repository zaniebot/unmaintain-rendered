<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interpreter can't open server - astral-sh/ruff #13788</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Interpreter can't open server</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13788">#13788</a>
        opened by <a href="https://github.com/FelixSoderstrom">@FelixSoderstrom</a>
        on 2024-10-17 07:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/FelixSoderstrom">@FelixSoderstrom</a> on 2024-10-17 07:40</div>
            <div class="timeline-body"><h3>Issue</h3>
<p>Ruff doesn't find server because it doesn't exist.
This issue arose when I moved my base interpreter to a different directory.
Other extensions work just fine.
I don't know why it's looking for server in &quot;../Desktop/Code&quot;. I never had python installed here.</p>
<h3>Log TLDR</h3>
<p>path\to\interpreter: can't open file '...Desktop\Code\server': [Errno 2] no such file or directory.</p>
<h3>Full log</h3>
<p><a href="https://github.com/user-attachments/files/17408926/message.txt">message.txt</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-10-17 08:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @MichaReiser on 2024-10-17 08:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-17 08:03</div>
            <div class="timeline-body"><p>I'm sorry you're running into this.</p>
<p>Hmm, I can't download the <code>message.txt</code>. I get some request error. Could you try reuploading the file or pasting its content in a code block?</p>
<p>Could you share your editor config with us. I wonder if you set <code>ruff.path</code> or similar.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by @MichaReiser on 2024-10-17 08:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FelixSoderstrom">@FelixSoderstrom</a> on 2024-10-17 08:37</div>
            <div class="timeline-body"><p>Hi thanks for looking into this. It's really appreciated.
I reuploaded the file but will send you a block just in case.</p>
<pre><code>2024-10-17 10:34:57.009 [info] Name: Ruff
2024-10-17 10:34:57.009 [info] Module: ruff
2024-10-17 10:34:57.009 [info] Using interpreter: C:\Python\python.exe
2024-10-17 10:34:57.009 [info] Using 'path' setting: C:\Python\python.exe
2024-10-17 10:34:57.009 [info] Resolved 'ruff.nativeServer: auto' to use the native server
2024-10-17 10:34:57.009 [info] Found Ruff 3.13.0 at C:\Python\python.exe
2024-10-17 10:34:57.009 [info] Server run command: C:\Python\python.exe server
2024-10-17 10:34:57.009 [info] Server: Start requested.
2024-10-17 10:34:57.009 [info] C:\Python\python.exe: can't open file 'c:\\Users\\Felix\\Desktop\\Code\\server': [Errno 2] No such file or directory

2024-10-17 10:34:57.010 [info] [Error - 10:34:56 AM] Server initialization failed.
2024-10-17 10:34:57.010 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097 
2024-10-17 10:34:57.010 [info] [Info  - 10:34:56 AM] Connection to server got closed. Server will restart.
2024-10-17 10:34:57.010 [info] true
2024-10-17 10:34:57.010 [info] [Error - 10:34:56 AM] Ruff client: couldn't create connection to server.
2024-10-17 10:34:57.010 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097 
2024-10-17 10:34:57.178 [info] [Error - 10:34:57 AM] Client Ruff: connection to server is erroring. Shutting down server.
2024-10-17 10:34:57.178 [info] [Error - 10:34:57 AM] Stopping server failed
2024-10-17 10:34:57.179 [info] Error: Client is not running and can't be stopped. It's current state is: startFailed
    at D.shutdown (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\common\client.js:914:19)
    at D.stop (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\common\client.js:885:21)
    at D.stop (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\node\main.js:150:22)
    at D.handleConnectionError (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\common\client.js:1146:18)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
2024-10-17 10:34:57.179 [info] [Error - 10:34:57 AM] Server initialization failed.
2024-10-17 10:34:57.179 [info]   Message: write EPIPE
  Code: -32099 
2024-10-17 10:34:57.179 [info] [Error - 10:34:57 AM] Ruff client: couldn't create connection to server.
2024-10-17 10:34:57.179 [info]   Message: write EPIPE
  Code: -32099 
2024-10-17 10:34:57.179 [error] Server: Start failed: Error: write EPIPE
2024-10-17 10:34:57.179 [info] [Error - 10:34:57 AM] Restarting server failed
2024-10-17 10:34:57.179 [info]   Message: write EPIPE
  Code: -32099 
2024-10-17 10:34:57.179 [info] C:\Python\python.exe: can't open file 'c:\\Users\\Felix\\Desktop\\Code\\server': [Errno 2] No such file or directory

2024-10-17 10:34:57.190 [info] [Info  - 10:34:57 AM] Connection to server got closed. Server will restart.
2024-10-17 10:34:57.190 [info] true
2024-10-17 10:34:57.357 [info] [Error - 10:34:57 AM] Client Ruff: connection to server is erroring. Shutting down server.
2024-10-17 10:34:57.357 [info] [Error - 10:34:57 AM] Stopping server failed
2024-10-17 10:34:57.357 [info] Error: Client is not running and can't be stopped. It's current state is: starting
    at D.shutdown (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\common\client.js:914:19)
    at D.stop (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\common\client.js:885:21)
    at D.stop (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\node\main.js:150:22)
    at D.handleConnectionError (c:\Users\Felix\.vscode\extensions\charliermarsh.ruff-2024.50.0-win32-x64\dist\webpack:\ruff\node_modules\vscode-languageclient\lib\common\client.js:1146:18)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
2024-10-17 10:34:57.357 [info] [Error - 10:34:57 AM] Server initialization failed.
2024-10-17 10:34:57.358 [info]   Message: write EPIPE
  Code: -32099 
2024-10-17 10:34:57.358 [info] [Error - 10:34:57 AM] Ruff client: couldn't create connection to server.
2024-10-17 10:34:57.358 [info]   Message: write EPIPE
  Code: -32099 
2024-10-17 10:34:57.358 [info] [Error - 10:34:57 AM] Restarting server failed
2024-10-17 10:34:57.358 [info]   Message: write EPIPE
  Code: -32099 
2024-10-17 10:34:57.359 [info] C:\Python\python.exe: can't open file 'c:\\Users\\Felix\\Desktop\\Code\\server': [Errno 2] No such file or directory

2024-10-17 10:34:57.367 [info] [Info  - 10:34:57 AM] Connection to server got closed. Server will restart.
2024-10-17 10:34:57.367 [info] true
2024-10-17 10:34:57.502 [info] C:\Python\python.exe: can't open file 'c:\\Users\\Felix\\Desktop\\Code\\server': [Errno 2] No such file or directory

2024-10-17 10:34:57.518 [info] [Error - 10:34:57 AM] Server initialization failed.
2024-10-17 10:34:57.518 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097 
2024-10-17 10:34:57.518 [info] [Info  - 10:34:57 AM] Connection to server got closed. Server will restart.
2024-10-17 10:34:57.518 [info] true
2024-10-17 10:34:57.518 [info] [Error - 10:34:57 AM] Ruff client: couldn't create connection to server.
2024-10-17 10:34:57.518 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097 
2024-10-17 10:34:57.624 [info] C:\Python\python.exe: can't open file 'c:\\Users\\Felix\\Desktop\\Code\\server': [Errno 2] No such file or directory

2024-10-17 10:34:57.690 [info] [Error - 10:34:57 AM] Server initialization failed.
2024-10-17 10:34:57.691 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097 
2024-10-17 10:34:57.691 [info] [Error - 10:34:57 AM] The Ruff server crashed 5 times in the last 3 minutes. The server will not be restarted. See the output for more information.
2024-10-17 10:34:57.691 [info] [Error - 10:34:57 AM] Ruff client: couldn't create connection to server.
2024-10-17 10:34:57.691 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097 
2024-10-17 10:34:57.691 [info] [Error - 10:34:57 AM] Restarting server failed
2024-10-17 10:34:57.691 [info]   Message: Pending response rejected since connection got disposed
  Code: -32097
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-10-17 08:41</div>
            <div class="timeline-body"><p>I think you've set the <code>ruff.path</code> to the Python interpreter while the value should be a path to the <code>ruff</code> executable: https://docs.astral.sh/ruff/editors/settings/#path</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FelixSoderstrom">@FelixSoderstrom</a> on 2024-10-17 08:46</div>
            <div class="timeline-body"><p>Very silly!
I got them mixed up in my 2AM shenanigans trying to fix this yesterday.
Thank you for helping me solve my upside down usb-problem!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @FelixSoderstrom on 2024-10-17 08:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> removed by @dhruvmanila on 2024-10-17 09:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:35:27 UTC
    </footer>
</body>
</html>
