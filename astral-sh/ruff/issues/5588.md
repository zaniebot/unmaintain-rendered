```yaml
number: 5588
title: "[pandas-vet] Constant column check with nunique"
type: issue
state: closed
author: sbrugman
labels:
  - rule
  - needs-decision
assignees: []
created_at: 2023-07-07T09:48:27Z
updated_at: 2023-07-17T09:44:19Z
url: https://github.com/astral-sh/ruff/issues/5588
synced_at: 2026-01-10T01:56:48Z
```

# [pandas-vet] Constant column check with nunique

---

_Issue opened by @sbrugman on 2023-07-07 09:48_

Newly proposed upstream rule: constant column check with nunique

```python
series.nunique() == 1
```

Rather use (in the absence of nans):

```python
v = series.values
(v[0] == v).all()
```

See https://github.com/deppen8/pandas-vet/issues/119



---

_Label `rule` added by @charliermarsh on 2023-07-08 19:14_

---

_Label `needs-decision` added by @charliermarsh on 2023-07-10 01:22_

---

_Comment by @sbrugman on 2023-07-12 15:45_

Note that https://github.com/pandas-dev/pandas/pull/54064 was merged to pandas. This adds documentation to the [cookbook](https://pandas.pydata.org/docs/dev/user_guide/cookbook.html#constant-series) on how users can check for constant columns. We can link to that page in the linting message.

There are quite some projects that [could benefit](https://github.com/search?q=%22nunique%28%29+%3D%3D+1%22+language%3APython+&type=code) from this rule.

(pandas-vet does not seem that active anymore)

---

_Referenced in [astral-sh/ruff#5802](../../astral-sh/ruff/pulls/5802.md) on 2023-07-16 09:43_

---

_Closed by @sbrugman on 2023-07-17 09:44_

---
