<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Panic] Ruff crashed on ruff format - Os { code: 2, kind: NotFound } - astral-sh/ruff #16017</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Panic] Ruff crashed on ruff format - Os { code: 2, kind: NotFound }</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/16017">#16017</a>
        opened by <a href="https://github.com/prdai">@prdai</a>
        on 2025-02-07 11:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/prdai">@prdai</a></div>
            <div class="timeline-body"><p>Ruff crashed while running <code>ruff format</code>. The error message indicates a missing file or directory:</p>
<pre><code>error: Ruff crashed. If you could open an issue at:

    https://github.com/astral-sh/ruff/issues/new?title=%5BPanic%5D

...quoting the executed command, along with the relevant file contents and `pyproject.toml` settings, we'd be very appreciative!

thread 'main' panicked at /root/.cargo/registry/src/index.crates.io-6f17d22bba15001f/path-dedot-3.1.1/src/lib.rs:330:70:
called `Result::unwrap()` on an `Err` value: Os { code: 2, kind: NotFound, message: &quot;No such file or directory&quot; }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<h3>Steps to Reproduce:</h3>
<ol>
<li>Run <code>ruff format</code> on the project.</li>
<li>Observe the crash.</li>
</ol>
<h3>Environment:</h3>
<ul>
<li><strong>Python version:</strong> 3.11.5</li>
<li><strong>OS:</strong> Ubuntu 24.04.1 LTS (WSL)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-07 11:35</div>
            <div class="timeline-body"><p>Thanks for the detailed write up.</p>
<p>The error message would suggest that the current working directory was deleted. Can you <code>cd</code> out of the current directory and <code>cd</code> into it again to verify that it still exists?</p>
<p>Relevant lines in path-dedot: https://github.com/magiclen/path-dedot/blob/36c197f922d4c8779594ce25b8ffc6cb0315c6a8/src/lib.rs#L328C1-L330C80</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2025-02-07 11:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/prdai">@prdai</a> on 2025-02-07 16:34</div>
            <div class="timeline-body"><p>Thank you for the prompt response! That was indeed the issueâ€”switching directories and running the command again resolved it. Appreciate the help :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @prdai on 2025-02-07 16:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:09 UTC
    </footer>
</body>
</html>
