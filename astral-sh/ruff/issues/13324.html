<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flake8 flag F811 when ruff not flag it - astral-sh/ruff #13324</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>flake8 flag F811 when ruff not flag it</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13324">#13324</a>
        opened by <a href="https://github.com/lrandrianasoloarinavalona">@lrandrianasoloarinavalona</a>
        on 2024-09-11 08:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lrandrianasoloarinavalona">@lrandrianasoloarinavalona</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>Hi, I don't know if it's one of the deviated behavior from flake8 or a bug.</p>
<p>It seem that RUFF flag F811 when it's a duplicate import, but weirdly, it don't work well with function. Here is a sample file.</p>
<pre><code class="language-python">&quot;&quot;&quot;test.&quot;&quot;&quot;


def _get_rejection_causes_for_image(image: str) -&gt; set:
    causes = set()
    del image
    return causes


def _get_rejection_causes_for_image(image: str) -&gt; set:
    causes = set()
    del image
    return causes


_get_rejection_causes_for_image(&quot;foo&quot;)

</code></pre>
<p><strong>Current behavior :</strong></p>
<p>Well <code>ruff check .</code> pass, flake8 flag F811</p>
<p><strong>Excpected Behavior :</strong></p>
<p>Ruff mark this as F811</p>
<p><strong>Ruff version :</strong></p>
<pre><code class="language-sh">root@e0723ae7ba6c:/repo# ruff --version
ruff 0.6.4
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-09-11 20:42</div>
            <div class="timeline-body"><p>Yeah, this is because the rule would ignore names like <code>_foo</code> (prefixed with one or more underscores) and others as per the <a href="https://docs.astral.sh/ruff/settings/#lint_dummy-variable-rgx"><code>dummy-variable-rgx</code></a> config value. I'll close this as it's working as expected, but feel free to ask any follow up questions that you might have.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-09-11 20:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lrandrianasoloarinavalona">@lrandrianasoloarinavalona</a> on 2024-09-12 01:30</div>
            <div class="timeline-body"><p>Okay, thank you. I've used to use underscore to mark a function/method as private.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:04 UTC
    </footer>
</body>
</html>
