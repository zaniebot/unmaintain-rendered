<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detecting unneeded `async` keywords on functions - astral-sh/ruff #9951</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Detecting unneeded <code>async</code> keywords on functions</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9951">#9951</a>
        opened by <a href="https://github.com/Greesb">@Greesb</a>
        on 2024-02-12 15:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Greesb">@Greesb</a></div>
            <div class="timeline-body"><p>Hello,</p>
<p>I refactored a bunch of code and thought about a rule that could be useful: detecting function defined with the <code>async</code> keywords not using any <code>await</code> inside it, example:</p>
<pre><code class="language-python">
async def unneeded_async() -&gt; None:  # should raise the error
    print(&quot;lol&quot;)

async def legit_async() -&gt; None:  # should not raise the error
    await some_stuff()
</code></pre>
<p>There's probably some use cases where the async is needed, but, imo, most of the time those async can be removed.</p>
<p>What do you think ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Detected unneeded `async` keywords`" to "Detected unneeded `async` keywords on functions" by @Greesb on 2024-02-12 15:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-12 15:55</div>
            <div class="timeline-body"><p>We like this idea :) this is a duplicate of #9833 though</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-02-12 15:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Greesb">@Greesb</a> on 2024-02-12 16:46</div>
            <div class="timeline-body"><p>Doesn't look like it is, the issue you mentioned is for detecting missing <code>await</code> keywords when calling <code>async</code> functions.</p>
<p>What i'm talking about is to detect functions that are defined with the <code>async</code> keyword but do not need it because there's no <code>await</code> inside them. @zanieb</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-12 19:23</div>
            <div class="timeline-body"><p>Yeah I see, it's a little mixed up over there as we're discussing both things.</p>
<p>We can track this separately.</p>
<p>@plredmond I'll move you over to this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @zanieb on 2024-02-12 19:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @zanieb on 2024-02-12 19:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Detected unneeded `async` keywords on functions" to "Detecting unneeded `async` keywords on functions" by @Greesb on 2024-02-12 20:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/plredmond">@plredmond</a> on 2024-02-12 22:43</div>
            <div class="timeline-body"><p>In progress implementation: https://github.com/astral-sh/ruff/compare/main...plredmond:ruff:issue9951-spurious_async</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @plredmond on 2024-04-16 17:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:49:37 UTC
    </footer>
</body>
</html>
