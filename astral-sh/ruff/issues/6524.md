```yaml
number: 6524
title: "`builtins-ignorelist` for attributes only"
type: issue
state: closed
author: benjamin-kirkbride
labels:
  - needs-decision
assignees: []
created_at: 2023-08-12T18:02:11Z
updated_at: 2024-01-11T17:59:41Z
url: https://github.com/astral-sh/ruff/issues/6524
synced_at: 2026-01-10T01:56:48Z
```

# `builtins-ignorelist` for attributes only

---

_Issue opened by @benjamin-kirkbride on 2023-08-12 18:02_

Looking at https://beta.ruff.rs/docs/rules/builtin-attribute-shadowing/#builtin-attribute-shadowing-a003: I agree with the point made here: https://stackoverflow.com/a/60423602/1342874

Specifically, I think that the following is fine, and in fact better than alternatives:
```python
@dataclass
class Row:
    id: int
    input: str
```

but of course the following is not fine: 
```python
id, input = row.id, row.input
```

My understanding is that the `builtins-ignorelist` is all or nothing; it makes it so that you can us `id` everywhere without warning, or nowhere without warning.

My proposal is that there is a `builtins-attributes-ignorelist` or something similar added for this.

---

_Comment by @charliermarsh on 2023-08-13 01:39_

Why not disable the rule entirely? It's intentionally categorized as a separate rule to enable that kind of granular on/off switch.

---

_Label `waiting-on-author` added by @charliermarsh on 2023-08-13 01:40_

---

_Comment by @benjamin-kirkbride on 2023-08-13 01:48_

Fair question :sweat_smile: 

I think there are some attributes that I would still want to list, like `str`, or `dict` or something, but I don't have a good argument for why I think that some things are okay (like `id`, `input`, `class`, etc) but others aren't..

---

_Comment by @tylerlaprade on 2023-08-13 16:37_

I ran across this as well. I really don't want `type` to be used as a Django model attribute because if I accidentally use `type` instead of `self.type`, my code will be completely wrong, but I won't get any warnings. But `id` and `filter` seem generally harmless for my usecases.

---

_Label `waiting-on-author` removed by @charliermarsh on 2023-08-14 13:20_

---

_Label `needs-decision` added by @charliermarsh on 2023-08-14 13:20_

---

_Comment by @Olegt0rr on 2023-09-05 06:24_

Just get  `A003 Class attribute exec is shadowing a python builtin` on a method.

```python
class Foo:
    def exec(self):
        ...
```

It's not a shadowing, cause I still can use builtin `exec`.

```python
class Foo:
    @staticmethod
    def exec():
        exec("print('it is not a shadowing')")

Foo.exec()

```

For me, shadowing is when an object covers the original object and confusion can occur when called.


```python
def foo(exec: str):
    print(exec)
    ...
    # and the later you may want to call builtin exec, but you can't
    exec("print('it is a shadowing')")

foo('bar')
```

Also `readers may mistake the attribute for the builtin` is a very strange explanation. 
My user has an id. And user's class should use it:
```
class User:
    id: int
```

`id_` - is ugly
`user_id` - is redundant and ugly, especially on call: `user.user_id`

What's wrong with reader, who can mess `id()` and `user.id`?

---

_Comment by @charliermarsh on 2023-09-05 11:28_

@Olegt0rr - That _is_ working as intended but it's a strange rule. You can see an example of what it's intended to catch [here](https://github.com/astral-sh/ruff/issues/4470):

```python
class C:
    @staticmethod
    def list() -> None:
        pass

    @staticmethod
    def repeat(value: int, times: int) -> list[int]:
        return [value] * times
```

The issue is that it _will_ be shadowed if you reference the builtin within the class scope.

---

_Referenced in [astral-sh/ruff#9462](../../astral-sh/ruff/pulls/9462.md) on 2024-01-11 02:33_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-01-11 02:34_

---

_Comment by @charliermarsh on 2024-01-11 02:35_

PR up that should make this rule _far_ more useful by only flagging actual shadowed reads (like in the example above) rather than the method definitions (which will almost always be fine): https://github.com/astral-sh/ruff/pull/9462

---

_Closed by @charliermarsh on 2024-01-11 17:59_

---
