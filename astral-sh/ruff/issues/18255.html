<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add rule to enforce blank line before control blocks (if/for/while/etc.) - astral-sh/ruff #18255</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add rule to enforce blank line before control blocks (if/for/while/etc.)</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18255">#18255</a>
        opened by <a href="https://github.com/MathieuLoutre">@MathieuLoutre</a>
        on 2025-05-22 14:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MathieuLoutre">@MathieuLoutre</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I'd like to suggest a rule that flags when a blank line is missing above a control block (if, for, while, try, with etc.) that isn't directly after a <code>def</code>. It improves readability especially when a block begins a new logical step or decision in a function.</p>
<p>Input</p>
<pre><code class="language-python">def process_data(data):
    if data not None:
        cleaned = clean(data)
        if not cleaned:
            return None
</code></pre>
<p>Output</p>
<pre><code class="language-python">def process_data(data):
    if data not None:
        cleaned = clean(data)

        if not cleaned:
            return None
</code></pre>
<p>I'm happy to try to implement this rule and contribute a PR if this seems like a good idea. Let me know where this best belongs and if you have any preferences for configuration or rule naming.</p>
<p>Thanks for all the work on Ruff!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-22 14:27</div>
            <div class="timeline-body"><p>Hi. Thanks for the suggestion</p>
<p>This seems similar to https://github.com/astral-sh/ruff/issues/13080 except that it should enforce blank lines before an if statement.</p>
<p>For now, we decided to not add any new formatting lint rules until we figured out how they'll fit into https://github.com/astral-sh/ruff/issues/1774.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-05-22 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2025-05-22 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MathieuLoutre">@MathieuLoutre</a> on 2025-05-22 14:36</div>
            <div class="timeline-body"><p>Thanks for the super quick reply, yes https://github.com/astral-sh/ruff/issues/13080 is related (and would be great too). Effectively trying to match some of the behaviour in https://eslint.style/rules/js/padding-line-between-statements</p>
<p>Are you waiting to organise the existing rules before you add ones or do you want some suggestions on how to categorise that particular rule?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:44 UTC
    </footer>
</body>
</html>
