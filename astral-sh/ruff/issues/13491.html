<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add new checks from flake8-errmsg - astral-sh/ruff #13491</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add new checks from flake8-errmsg</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13491">#13491</a>
        opened by <a href="https://github.com/wwuck">@wwuck</a>
        on 2024-09-24 05:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/wwuck">@wwuck</a></div>
            <div class="timeline-body">

<p>I would like to request adding two new checks from flake8-errmsg that have been added since the original checks were added to ruff.</p>
<ul>
<li>[ ] EM104: Check for missing parentheses for built-in exceptions.</li>
<li>[ ] EM105: Check for missing message for built-in exceptions.</li>
</ul>
<p>https://github.com/henryiii/flake8-errmsg/pull/23</p>
<p>Example <code>test.py</code>:</p>
<pre><code>def foo():
    raise Exception


def bar():
    raise Exception()
</code></pre>
<pre><code>test.py:2:5: EM104 Built-in Exceptions must not be thrown without being called
test.py:6:5: EM105 Built-in Exceptions must have a useful message
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/opk12">@opk12</a> on 2024-09-24 06:31</div>
            <div class="timeline-body"><p>Related: <a href="https://docs.astral.sh/ruff/rules/unnecessary-paren-on-raise-exception/">RSE102</a> <code>Unnecessary parentheses on raised exception [unnecessary-paren-on-raise-exception]</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-24 10:14</div>
            <div class="timeline-body"><blockquote>
<p>Related: <a href="https://docs.astral.sh/ruff/rules/unnecessary-paren-on-raise-exception/">RSE102</a> <code>Unnecessary parentheses on raised exception [unnecessary-paren-on-raise-exception]</code></p>
</blockquote>
<p>This is a great note. We would have to merge <code>RSE102</code> and <code>EM104</code> to avoid introducing conflicting rules, but that&#x27;s difficult because <code>RSE102</code> applies to all exceptions where <code>EM104</code> applies only to built-in exceptions, unless we extend its scope. This needs some design and a decision.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-24 10:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-24 10:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/opk12">@opk12</a> on 2024-09-25 06:54</div>
            <div class="timeline-body"><p>Newbie Q: is EM104 redundant with EM105 though?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/opk12">@opk12</a> on 2024-09-25 07:00</div>
            <div class="timeline-body"><p>Also, what about checking for any stdlib exception, even if not a builtin in <a href="https://docs.python.org/3/library/exceptions.html">this</a> sense? The original <a href="https://github.com/henryiii/flake8-errmsg/issues/13">feature request</a> argument (that is, ease of debugging and log file informativeness) applies if an exception has an unspecific name, or can be raised in very many places. I don&#x27;t know if stdlib non-builtin exceptions do exist after <a href="https://peps.python.org/pep-3151/">PEP 3151</a>, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-25 07:03</div>
            <div class="timeline-body"><blockquote>
<p>Newbie Q: is EM104 redundant with EM105 though?</p>
</blockquote>
<p>I consider EM104 a less opinionated version of EM105. Having the rules separate allows some users to only opt in to the stylistic EM104 without requiring an exception message. But yes, the rule is redundant if both EM104 and EM105 are enabled. This is a great point.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/michen00">@michen00</a> on 2026-01-15 04:53</div>
            <div class="timeline-body"><p>EM106 (Check for walrus assignment inside a <code>raise</code> call&#x27;s arguments) has been added too (<a href="https://github.com/henryiii/flake8-errmsg/pull/60">henryiii/flake8-errmsg#60</a>). I would love for <code>ruff</code> to support all of these.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:58 UTC
    </footer>
</body>
</html>
