<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reformatted code quality in example is quite poor - astral-sh/ruff #9380</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Reformatted code quality in example is quite poor</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9380">#9380</a>
        opened by <a href="https://github.com/stefanoborini">@stefanoborini</a>
        on 2024-01-03 13:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/stefanoborini">@stefanoborini</a></div>
            <div class="timeline-body"><p>From the example:</p>
<pre><code>With the above configuration, this code:


def f(x):
    &#x27;&#x27;&#x27;
    Something about `f`. And an example:

    .. code-block:: python

        foo, bar, quux = this_is_a_long_line(lion, hippo, lemur, bear)
    &#x27;&#x27;&#x27;
    pass
... will be reformatted (assuming the rest of the options are set to their defaults) as:


def f(x):
    &quot;&quot;&quot;
    Something about `f`. And an example:

    .. code-block:: python

        (
            foo,
            bar,
            quux,
        ) = this_is_a_long_line(
            lion,
            hippo,
            lemur,
            bear,
        )
    &quot;&quot;&quot;
    pass
</code></pre>
<p>I fail to see a circumstance where the second form is more pleasant and readable than the first. Is it possible to prevent such reorganisation configuration-wise?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-03 14:46</div>
            <div class="timeline-body"><p>Hey -- it&#x27;s hard to really take action on this issue, but the purpose of that example is to demonstrate the line-length rules for formatting code within docstrings, rather than provide any commentary on the style of the reformatted code. The style, though, is consistent with Black, and so within the formatter&#x27;s goals.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-03 14:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-03 14:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-03 14:46</div>
            <div class="timeline-body"><p>The short answer is no, apart from increasing the line length to prevent Ruff from wrapping lines in those cases. In that example, <a href="https://docs.astral.sh/ruff/settings/#format-docstring-code-line-length">docstring-code-line-length</a> is being set to 20 which is an extremely low value just for the purpose of demonstration.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:48 UTC
    </footer>
</body>
</html>
