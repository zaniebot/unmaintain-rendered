```yaml
number: 8717
title: "[FALSE POSITIVE] \"S608 Possible SQL injection\" when not applicable"
type: issue
state: open
author: amotl
labels:
  - bug
assignees: []
created_at: 2023-11-16T11:45:53Z
updated_at: 2023-11-16T15:49:41Z
url: https://github.com/astral-sh/ruff/issues/8717
synced_at: 2026-01-10T01:56:50Z
```

# [FALSE POSITIVE] "S608 Possible SQL injection" when not applicable

---

_Issue opened by @amotl on 2023-11-16 11:45_

Hi there,

thank you for your continued efforts in conceiving Ruff.

While working on https://github.com/crate-workbench/cratedb-toolkit/pull/81, we just observed a funny case of `S608 Possible SQL injection vector through string-based query construction` we would like to share with you. It is easy to reproduce using the most recent `ruff 0.1.5`.

```python
variants = ["foo", "bar"]
raise ValueError(f"Please select a value from the list of possible variants: {variants}.")
```

It looks like S608 is tripping because the f-string includes the keywords `select` and `from`. If you remove any of it, it will not trip. I don't know if there will be any solution for this worth to follow up on. It is easy for me to slap a `# noqa: S608` into the code, so you may want to close this issue right away.

With kind regards,
Andreas.


---

_Label `bug` added by @zanieb on 2023-11-16 15:49_

---

_Comment by @zanieb on 2023-11-16 15:49_

Thanks for the report!

---

_Referenced in [astral-sh/ruff#8723](../../astral-sh/ruff/pulls/8723.md) on 2023-11-16 15:49_

---
