<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLR0904: false positive when using overload - astral-sh/ruff #14727</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PLR0904: false positive when using overload</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14727">#14727</a>
        opened by <a href="https://github.com/Matt-Ord">@Matt-Ord</a>
        on 2024-12-02 12:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Matt-Ord">@Matt-Ord</a></div>
            <div class="timeline-body"><p>This triggers PLR0904</p>
<pre><code>
class Test:
    @overload
    def test_method(self, a: Literal[1]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[2]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[3]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[4]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[5]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[6]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[7]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[8]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[9]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[10]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[11]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[12]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[13]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[14]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[15]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[16]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[17]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[18]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[19]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[20]) -&gt; None: ...
    @overload
    def test_method(self, a: Literal[21]) -&gt; None: ...
    def test_method(self, a: Any) -&gt; None: ...

</code></pre>
<p>This rule should ignore overload impls</p>
<p>Using ruff 0.8.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MichaReiser on 2024-12-02 13:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @MichaReiser on 2024-12-02 13:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-02 13:09</div>
            <div class="timeline-body"><p>That makes sense to me. Thank you.</p>
<p>Rule code:</p>
<p>https://github.com/astral-sh/ruff/blob/14ba469fc099e0678859bba3ae6f67477d8934ec/crates/ruff_linter/src/rules/pylint/rules/too_many_public_methods.rs#L103-L107</p>
<p>Code to test if a function is annotated with <code>@overload</code></p>
<p>https://github.com/charliermarsh/ruff/blob/a73bebcf15e078c90cd590f0a8eb53313bbd5ea9/crates/ruff_python_semantic/src/analyze/visibility.rs#L30-L34</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Matt-Ord">@Matt-Ord</a> on 2024-12-02 13:12</div>
            <div class="timeline-body"><p>I'll have a go at fixing it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @Matt-Ord by @MichaReiser on 2024-12-02 13:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-02 14:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:42 UTC
    </footer>
</body>
</html>
