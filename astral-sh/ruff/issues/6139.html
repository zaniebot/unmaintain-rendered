<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ignore specific lines in every file - astral-sh/ruff #6139</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Ignore specific lines in every file</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/6139">#6139</a>
        opened by <a href="https://github.com/bryevdv">@bryevdv</a>
        on 2023-07-28 01:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/bryevdv">@bryevdv</a> on 2023-07-28 01:23</div>
            <div class="timeline-body"><p>Here is the situation I am in: We have received a new license comment header from corporate that we are mandated to use. The license header contains e.g. SPDX markers in a very specific format. We have no leeway to modify this header in any way, e.g by adding <code>noqa</code> to any lines, as this will interfere with some sort of mandatory automated license scanning.</p>
<p>Here is the problem:</p>
<ul>
<li>The first line of the license header is 99 characters long.</li>
<li>Our current enforced codebase line limit is 80 characters.</li>
<li>üò¶</li>
</ul>
<p>We <em>really</em> do not want to change the line length to 100 and cause every file to be reformatted, vandalizing <code>git blame</code> history in the process. How can we ignore this one line in every single file? Some config option ideas that seem like they would work:</p>
<ul>
<li>setting to ignore the first N lines of every file (and/or file glob)</li>
<li>setting to ignore specific line(s) of every file (and/or file glob)</li>
<li>Ignore any initial comment block entirely</li>
<li>setting to ignore any line in any file that matches a regex pattern</li>
</ul>
<p>Would it be possible to implement any of these in <code>ruff</code>? Alternatively is there any other existing solution I am missing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-28 01:26</div>
            <div class="timeline-body"><p>Haha. I feel your pain. I'm sure we can find a way to help. Are you able to post the license comment header here, if it's public? I am just curious if there's anything in it that we can leverage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">noqa</span> added by @charliermarsh on 2023-07-28 04:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-07-28 04:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bryevdv">@bryevdv</a> on 2023-07-28 18:02</div>
            <div class="timeline-body"><p>It's not a public file so will err on the side of caution. I'll just say it starts with a designated and identifiable classifier that could be matched, if matching was an option.</p>
<p>Also full disclosure, we were granted a last minute reprieve in the form of an alternate permissible spelling. So this is not quite as pressing as it was, but I do still think it is a useful feature and that this case is still one that definitely can occur in the wild.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-28 18:29</div>
            <div class="timeline-body"><p>üëç Yeah no worries, I only meant if it were, like, already committed in some public Git repo.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:09 UTC
    </footer>
</body>
</html>
