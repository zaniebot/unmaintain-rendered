<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provide a grouping rule for ruff formatter conflicting rules - astral-sh/ruff #8175</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Provide a grouping rule for ruff formatter conflicting rules</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/8175">#8175</a>
        opened by <a href="https://github.com/gaborbernat">@gaborbernat</a>
        on 2023-10-24 17:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2023-10-24 17:17</div>
            <div class="timeline-body"><p>Ruff warns these rules conflict with the formatter, would be nice if we could disable these in a single line then need to disable one by one:</p>
<pre><code class="language-toml">  &quot;COM812&quot;, # conflicts with formatter
  &quot;COM819&quot;, # conflicts with formatter
  &quot;E501&quot;, # conflicts with formatter
  &quot;ISC001&quot;, # conflicts with formatter
  &quot;Q000&quot;, # conflicts with formatter
  &quot;Q001&quot;, # conflicts with formatter
  &quot;Q002&quot;, # conflicts with formatter
  &quot;Q003&quot;, # conflicts with formatter
  &quot;W191&quot;, # conflicts with formatter
</code></pre>
<p>perhaps we could have rule FORM1 that would be an alias to all the rules conflicting with ruff formatter?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @zanieb on 2023-10-24 17:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2023-10-24 21:04</div>
            <div class="timeline-body"><p>My use case: I currently include <code>&quot;ALL&quot;</code> rules and deactivate the few groups and rules I don't want or conflict with type-checkers or formatters.
I don't really care about superfluous or unused rules because Ruff is so darn fast.</p>
<p>This ends up being less maintenance for me to stay up to date with new rules. And it's easier to document with comments what we <em>don't</em> want or agree with.</p>
<p>But having a way to configure &quot;ALL but rules obsoleted by formatter&quot; would be nice to simplify configs (and automatically stay up to date with formatter updates!).</p>
<p>I don't know if <code>501</code> should be included here though. Sometimes formatter can't go under max line length and it requires a manual fix (like cutting a string, moving a comment, etc)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8185.html">astral-sh/ruff#8185</a> on 2023-10-24 22:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8196.html">astral-sh/ruff#8196</a> on 2023-10-25 03:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-25 08:10</div>
            <div class="timeline-body"><p>#8196 removes the warnings for all but 2 rules, except if you changed the configuration for some of the potentially conflicting rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-27 02:20</div>
            <div class="timeline-body"><p>The latest release shipped a few improvements that should drastically reduce the warnings. Please take a look and comment on this issue if you think that  a dedicated grouping for conflicting rules would still be valuable and we'll reopen the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2023-10-27 02:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2023-10-27 02:32</div>
            <div class="timeline-body"><p>As long as the number is greater than one, I think it would still be helpful. So I'm asking to reopen this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @MichaReiser on 2023-10-27 02:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @MichaReiser on 2023-10-27 02:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8968.html">astral-sh/ruff#8968</a> on 2023-12-04 00:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/14339.html">astral-sh/ruff#14339</a> on 2024-11-14 15:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../NextGenContributions/.nitpick/pulls/3.html">NextGenContributions/.nitpick#3</a> on 2025-02-13 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Tedpac">@Tedpac</a> on 2025-06-22 03:09</div>
            <div class="timeline-body"><p>Is there any progress on this?</p>
<p>I'm honestly a little confused, because on the one hand, there are conflicts between the linter and the formatter, but on the other hand, there are conflicts between the rules themselves.</p>
<p>Currently, <a href="https://docs.astral.sh/ruff/linter/#rule-selection">the documentation</a> states that:</p>
<blockquote>
<p>Ruff will automatically disable any conflicting rules when <code>ALL</code> is enabled.</p>
</blockquote>
<p>I suppose this resolves the conflicts between the rules, but there will still be conflicts between the linter and the formatter, so this issue remains relevant. Am I correct?</p>
<p>If the above is correct, there is another issue that could be relevant when using <code>ALL</code>, and that is that I personally don't like Ruff automatically disabling conflicting rules (as stated in the documentation I quoted), because if there are two conflicting rules, it would be great if the user could see the warning and then disable one of the two rules, keeping the one they prefer. If this makes sense to anyone, I can open an issue for this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-22 08:17</div>
            <div class="timeline-body"><blockquote>
<p>because if there are two conflicting rules, it would be great if the user could see the warning and then disable one of the two rules,</p>
</blockquote>
<p>Ruff disables one of the rules and shows a warning. The user can then decide to decide which one of the two they want to disable.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
