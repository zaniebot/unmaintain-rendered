```yaml
number: 2060
title: "Feature request - support `flake8-use-pathlib` plugin"
type: issue
state: closed
author: Kilo59
labels:
  - plugin
assignees: []
created_at: 2023-01-21T15:27:57Z
updated_at: 2023-01-23T18:36:12Z
url: https://github.com/astral-sh/ruff/issues/2060
synced_at: 2026-01-10T01:56:45Z
```

# Feature request - support `flake8-use-pathlib` plugin

---

_Issue opened by @Kilo59 on 2023-01-21 15:27_

Would love to see support for the `flake8-use-pathlib` plugin for enforcing use of `pathlib` over `os`.

https://gitlab.com/RoPP/flake8-use-pathlib
https://pypi.org/project/flake8-use-pathlib/

For justification on why using `pathlib` is "better" than `os`.

https://realpython.com/python-pathlib/
https://treyhunner.com/2018/12/why-you-should-be-using-pathlib/
https://treyhunner.com/2019/01/no-really-pathlib-is-great/

####  `os.path` operations and their `pathlib` equivalents 
https://docs.python.org/3/library/pathlib.html#correspondence-to-tools-in-the-os-module


---

_Label `plugin` added by @charliermarsh on 2023-01-21 15:33_

---

_Comment by @JonathanPlasse on 2023-01-21 22:34_

- [x] `PL100`: `os.path.abspath("foo")` should be replaced by `foo_path.resolve()`
- [x] `PL101`: `os.chmod("foo", 0o444)` should be replaced by `foo_path.chmod(0o444)`
- [x] `PL102`: `os.mkdir("foo")` should be replaced by `foo_path.mkdir()`
- [x] `PL103`: `os.makedirs("foo/bar")` should be replaced by `bar_path.mkdir(parents=True)`
- [x] `PL104`: `os.rename("foo", "bar")` should be replaced by `foo_path.rename(Path("bar")`)
- [x] `PL105`: `os.replace("foo", "bar")` should be replaced by `foo_path.replace(Path("bar")`)
- [x] `PL106`: `os.rmdir("foo")` should be replaced by `foo_path.rmdir()`
- [x] `PL107`: `os.remove("foo")` should be replaced by `foo_path.unlink()`
- [x] `PL108`: `os.unlink("foo")` should be replaced by `foo_path.unlink()`
- [x] `PL109`: `os.getcwd()` should be replaced by `Path.cwd()`
- [x] `PL110`: `os.path.exists("foo")` should be replaced by `foo_path.exists()`
- [x] `PL111`: `os.path.expanduser("~/foo")` should be replaced by `foo_path.expanduser()`
- [x] `PL112`: `os.path.isdir("foo")` should be replaced by `foo_path.is_dir()`
- [x] `PL113`: `os.path.isfile("foo")` should be replaced by `foo_path.is_file()`
- [x] `PL114`: `os.path.islink("foo")` should be replaced by `foo_path.is_symlink()`
- [x] `PL115`: `os.readlink("foo")` should be replaced by `foo_path.readlink()`
- [x] `PL116`: `os.stat("foo")` should be replaced by `foo_path.stat()` or `foo_path.owner()` or `foo_path.group`
- [x] `PL117`: `os.path.isabs` should be replaced by `foo_path.is_absolute()`
- [x] `PL118`: `os.path.join("foo", "bar")` should be replaced by foo_path / "bar"
- [x] `PL119`: `os.path.basename("foo/bar")` should be replaced by `bar_path.name`
- [x] `PL120`: `os.path.dirname("foo/bar")` should be replaced by `bar_path.parent`
- [x] `PL121`: `os.path.samefile("foo", "bar")` should be replaced by `foo_path.samefile(bar_path)`
- [x] `PL122`: `os.path.splitext("foo.bar")` should be replaced by `foo_path.suffix`
- [x] `PL123`: `open("foo")` should be replaced by `Path("foo").open()`
- [x] `PL124`: `py.path.local` is in maintenance mode, use pathlib instead


---

_Comment by @sbrugman on 2023-01-22 17:11_

I'll make a PR for this today, super useful plugin 
(and hopefully get more expose for pathlib than another attempt for a couple of years back: https://github.com/sbrugman/pathlad)

---

_Comment by @charliermarsh on 2023-01-22 17:25_

Awesome. We should be well-positioned to implement this via `checker.resolve_call_path`. (I doubt we can autofix these though... maybe some subset of them?)

---

_Referenced in [astral-sh/ruff#2090](../../astral-sh/ruff/pulls/2090.md) on 2023-01-22 18:50_

---

_Comment by @charliermarsh on 2023-01-22 20:18_

Done by @sbrugman! #2090

---

_Closed by @charliermarsh on 2023-01-22 20:18_

---
