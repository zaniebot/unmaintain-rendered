<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatter: Add parentheses around too long strings - astral-sh/ruff #6059</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatter: Add parentheses around too long strings</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6059">#6059</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-07-25 09:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2023-07-25 09:57</div>
            <div class="timeline-body"><p>The formatter currently never adds parentheses around strings in the right hand side of an assignment. Black does add them if they help to match the line limit, otherwise it doesn't.</p>
<p>Input and identical ruff formatted output:</p>
<pre><code class="language-python">DEFAULT_FILE_STORAGE_DEPRECATED_MSG = &quot;The DEFAULT_FILE_STORAGE setting is deprecated. Use STORAGES instead.&quot;
DEFAULT_FILE_STORAGE_DEPRECATED_MSG = &quot;The DEFAULT_FILE_STORAGE setting is deprecated. Use STORAGES instead. This makes it so long that parentheses don't help&quot;
</code></pre>
<p>Black formatted output:</p>
<pre><code class="language-python">DEFAULT_FILE_STORAGE_DEPRECATED_MSG = (
    &quot;The DEFAULT_FILE_STORAGE setting is deprecated. Use STORAGES instead.&quot;
)
DEFAULT_FILE_STORAGE_DEPRECATED_MSG = &quot;The DEFAULT_FILE_STORAGE setting is deprecated. Use STORAGES instead. This makes it so long that parentheses don't help&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @konstin on 2023-07-25 09:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-08-03 06:05</div>
            <div class="timeline-body"><p>Closing because it is a sub problem of https://github.com/astral-sh/ruff/issues/6271</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2023-08-03 06:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Alpha" by @MichaReiser on 2023-08-16 07:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:49 UTC
    </footer>
</body>
</html>
