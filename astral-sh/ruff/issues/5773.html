<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propose type alias for recurring long type hints - astral-sh/ruff #5773</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Propose type alias for recurring long type hints</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5773">#5773</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2023-07-15 09:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sbrugman">@sbrugman</a> on 2023-07-15 09:01</div>
            <div class="timeline-body"><p>There is a pattern when using long type annotations multiple times that might make a useful linting rule. I've searched, but not found it (yet). (flake8-pyi #848, or flake-annotations might be candidates, but this might be just out of scope)</p>
<p>Motivating example:</p>
<pre><code class="language-python">from typing import Literal


def apply_strategy(
   data: list,
   strategy: Literal[&quot;first&quot;, &quot;cross_product&quot;, &quot;exhaustive&quot;, &quot;another_strategy&quot;]
) -&gt; None:
   &quot;&quot;&quot;Apply the strategy.&quot;&quot;&quot;
   ...

def suggest_strategy(
   data: list,
   strategy: Literal[&quot;first&quot;, &quot;cross_product&quot;, &quot;exhaustive&quot;, &quot;another_strategy&quot;]
) -&gt; None:
   &quot;&quot;&quot;Suggest the strategy.&quot;&quot;&quot;
   ...

</code></pre>
<p>In cases of long, recurring, type hints a linter can suggest usage of type aliases:</p>
<pre><code class="language-python">from typing import Literal

Strategy =  Literal[&quot;first&quot;, &quot;cross_product&quot;, &quot;exhaustive&quot;, &quot;another_strategy&quot;]

def apply_strategy(data: list, strategy: Strategy) -&gt; None:
   &quot;&quot;&quot;Apply the strategy.&quot;&quot;&quot;
   ...

def suggest_strategy(data: list, strategy: Strategy) -&gt; None:
   &quot;&quot;&quot;Suggest the strategy.&quot;&quot;&quot;
   ...

</code></pre>
<p>Apart from the naming of the type alias this would be autofixable. Perhaps only autofix if in addition to the type hints the argument/keyword arguments are the same.</p>
<p>Would this be something to include in <code>ruff</code>?
I think the rule may have large coverage since <code>Literal</code> is an elementary type hint, but could extend to any recurring pattern.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @zanieb on 2023-08-03 15:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:42 UTC
    </footer>
</body>
</html>
