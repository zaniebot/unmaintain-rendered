<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule request: Require uppercase variables to be typed with `typing.Final` - astral-sh/ruff #10137</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Rule request: Require uppercase variables to be typed with <code>typing.Final</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10137">#10137</a>
        opened by <a href="https://github.com/adamtheturtle">@adamtheturtle</a>
        on 2024-02-26 14:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/adamtheturtle">@adamtheturtle</a></div>
            <div class="timeline-body"><p>In my projects, when I spot an uppercase variable, I make sure to type it with <code>typing.Final</code>.</p>
<p>It would be nice to have this as a ruff rule.</p>
<p>For example, from the <a href="https://docs.python.org/3/library/typing.html#typing.Final">Python documentation's example of <code>typing.Final</code></a>:</p>
<pre><code class="language-python">MAX_SIZE: Final = 9000
MAX_SIZE += 1  # Error reported by type checker
</code></pre>
<p>I'd like:</p>
<pre><code class="language-python">MAX_SIZE = 9000 # ruff shows an error because this is not typed with `typing.Final`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-27 10:43</div>
            <div class="timeline-body"><p>I actually suggested something like this a while back for flake8-pyi: https://github.com/PyCQA/flake8-pyi/issues/122. But we rejected the idea because it would likely cause too many false positives for stub files, for which the most important thing is the need to exactly follow what the runtime does.</p>
<p>For runtime Python code, there would likely be a lower number of false positives than in <code>.pyi</code> files. I think it would be a useful lint.</p>
<p>Not sure where it would belong -- it does feel like it fits in pretty well with flake8-pyi, but it would be the first rule in that ruleset that would run on <code>.py</code> files and not <code>.pyi</code> files ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @AlexWaygood on 2024-02-27 10:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikeleppane">@mikeleppane</a> on 2024-02-28 07:18</div>
            <div class="timeline-body"><p>I agree. This would be a helpful rule and something that you want when following Python conventions/PEP8, assuming you are using typing. If you are not using types, this is just noise. However, I still believe this feeds the purpose.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:49:43 UTC
    </footer>
</body>
</html>
