<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: Allow single quotes for docstrings and configurable blank lines rather than strict PEP8 enforcement - astral-sh/ruff #17056</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: Allow single quotes for docstrings and configurable blank lines rather than strict PEP8 enforcement</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17056">#17056</a>
        opened by <a href="https://github.com/lethalbit">@lethalbit</a>
        on 2025-03-29 12:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lethalbit">@lethalbit</a> on 2025-03-29 12:57</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Ruff looks like an awesome tool, but these two things (docstring quotes and newline count) are preventing me from being able to adopt it for general, use, as I have a few codebases where we don't strictly follow PEP8 for readability reasons.</p>
<p>It would be steller if the Ruff formatter would follow the quote-style setting for docstrings, and add the ability to configure the number of blank newlines between blocks.</p>
<p>I understand having opinionated tooling and defaults, but I feel that the strict PEP8 adherence on some things but not others is detracting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2025-03-31 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2025-03-31 09:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @MichaReiser on 2025-03-31 09:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @MichaReiser on 2025-03-31 09:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2025-03-31 09:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @MichaReiser on 2025-03-31 09:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-31 09:13</div>
            <div class="timeline-body"><p>Hi @lethalbit</p>
<p>Thanks for the kind words.</p>
<p>https://github.com/astral-sh/ruff/issues/7615 covers the reasoning behind today's <code>quote-style</code> option. The main motivation to disallow configuring docstring quotes is to keep the configuration simple (one option instead of requiring one for each string type), which, from the feedback we received, has also been sufficient for the vast majority of users. We intentionally introduced <code>quote-style: &quot;preserve&quot;</code> for users who have specific quote-style rules and they can use https://docs.astral.sh/ruff/rules/#flake8-quotes-q to enforce their code style.</p>
<blockquote>
<p>to configure the number of blank newlines between blocks.</p>
</blockquote>
<p>I don't think this is something that we'll change soon but I'm open to changing the formatter to preserve 0-2 empty lines between statements and expressions in lists instead of enforcing a specific number of empty lines. This would be similar to what Prettier and Rust fmt do. The only downside is that it leads to less consistent formatting because the number of empty lines now depends on the author. But I think that's fine.  I'd expect that this would be shipped behind a configuration option.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lethalbit">@lethalbit</a> on 2025-03-31 17:19</div>
            <div class="timeline-body"><p>Hey, thanks for the reply~</p>
<p>The two big issues that those suggestions present is that it prevents us from actually using the format feature to ensure it's consistent with the projects style guide, which was one of the biggest selling points of Ruff for me.</p>
<p>So without that ability Ruff doesn't really fit in with the workflow then, which is unfortunate, as it's a wonderful tool but these two things really are a dealbreaker.</p>
<p>Anyway, thanks for the prompt response~</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sknaumov">@sknaumov</a> on 2025-08-30 06:12</div>
            <div class="timeline-body"><p>@MichaReiser I would want to try ruff to, but it won't be an easy ride because of the same issue - we are using <code>blue</code> in our projects =&gt; single quotes for regular strings and double quotes for triple-quoted strings.</p>
<p>I understand that having too many options, as was originally proposed in #7615, is harder to maintain and test, but <code>preserve</code> doesn't solve the problem.</p>
<p>I think that there is a solution - keep single option, but create 3 possible variants for it - <code>single</code>, <code>double</code> and, not sure about the best naming, but probably <code>pep8</code>, <code>single-pep8</code>, <code>blue</code> or <code>pythonic</code> (as Python interpreter itself uses this style) - so not to support exponential number of variants, but the 3 most common.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lethalbit">@lethalbit</a> on 2025-08-30 09:31</div>
            <div class="timeline-body"><p>I have a local copy I patched to fix this issue, it was really quite simple to do:</p>
<p>https://github.com/shrine-maiden-heavy-industries/ruff-smhi/commit/9995f6948a1548f578fddfed9b687da2c01e108b</p>
<p>There are still some other small things I'm poking at locally, such as being able to set the inter-class and inter-function gap width from 2 to 1 newline, but I don't suspect that will be much harder.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:37:06 UTC
    </footer>
</body>
</html>
