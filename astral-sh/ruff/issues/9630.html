<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Default Ruff configuration file reports schema error - astral-sh/ruff #9630</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1> Default Ruff configuration file reports schema error</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/9630">#9630</a>
        opened by <a href="https://github.com/ssteinerx">@ssteinerx</a>
        on 2024-01-23 19:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ssteinerx">@ssteinerx</a> on 2024-01-23 19:35</div>
            <div class="timeline-body"><p><a href="https://docs.astral.sh/ruff/configuration/">Ruff config</a> gives a .toml file that is equivalent to the default configuration.</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=tamasfe.even-better-toml">Even Better TOML</a> reports an error in that .toml file:</p>
<p>{&quot;quote-style&quot;:&quot;double&quot;,&quot;indent-style&quot;:&quot;space&quot;,&quot;skip-magic-trailing-comma&quot;:false,&quot;line-ending&quot;:&quot;auto&quot;,&quot;docstring-code-format&quot;:false,&quot;docstring-code-line-length&quot;:&quot;dynamic&quot;} is not valid under any of the given schemas</p>
<p>I reported this in the .toml validator used by Even Better TOML: <a href="https://github.com/tamasfe/taplo/issues/536">Taplo issue tracker #536</a> and they tell me the .toml file does not match the schema and that:</p>
<blockquote>
<blockquote>
<p>this is not a problem in Taplo but in the <a href="https://github.com/SchemaStore/schemastore/blob/master/src/schemas/json/ruff.json">Ruff schema</a>.</p>
</blockquote>
</blockquote>
<p>and that there's an <a href="https://github.com/SchemaStore/schemastore/issues/2731">issue for this in SchemaStore</a>.</p>
<p>I couldn't find another issue here about it, so here one is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-01-24 02:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-01-24 02:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-24 02:59</div>
            <div class="timeline-body"><p>Thanks -- let me check if the schema is out-of-date. We have to update it manually and it sometimes slips through the cracks during releases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-24 03:04</div>
            <div class="timeline-body"><p>The PR is here: https://github.com/SchemaStore/schemastore/pull/3549. But I don't expect any of those to fix the specific error you're reporting, those settings were added long ago. Let me try in VS Code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-24 03:06</div>
            <div class="timeline-body"><p>It seems like the <code>format</code> section isn't being picked up by the extension. But the schema file <em>looks</em> right to me on our side. Hmm...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-24 03:15</div>
            <div class="timeline-body"><p>Ah, I see, it's specifically this line:</p>
<pre><code class="language-toml"># Set the line length limit used when formatting code snippets in
# docstrings.
#
# This only has an effect when the `docstring-code-format` setting is
# enabled.
docstring-code-line-length = &quot;dynamic&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9632.html">astral-sh/ruff#9632</a> on 2024-01-24 03:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-24 03:34</div>
            <div class="timeline-body"><p>Thanks for reporting this, should be fixed by https://github.com/astral-sh/ruff/pull/9632.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-01-24 04:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:11 UTC
    </footer>
</body>
</html>
