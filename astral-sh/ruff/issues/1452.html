<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASCII control characters escaping in error messages - astral-sh/ruff #1452</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ASCII control characters escaping in error messages</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1452">#1452</a>
        opened by <a href="https://github.com/AA-Turner">@AA-Turner</a>
        on 2022-12-29 23:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/AA-Turner">@AA-Turner</a> on 2022-12-29 23:02</div>
            <div class="timeline-body"><p>Line feed literals, carriage returns, and tabs are all printed as their actual characters rather than the escaped sequence in error messages.</p>
<p>Note in the reproducer that a new line seperates '1' and '2', a sequence of spaces seperates '3' and '4', and that '6' has been printed at the start of the line as the terminal's cursor has interpreted the carriage return to overprint text.</p>
<p>Reproducer:</p>
<pre><code class="language-ps1con">(sphinx) PS S:\Development\sphinx&gt; ruff -V
ruff 0.0.199
(sphinx) PS S:\Development\sphinx&gt; type bug.py
if token == &quot;1\n2&quot;:
    pass

if token == &quot;3\t4&quot;:
    pass

if token == &quot;5\r6&quot;:
    pass
(sphinx) PS S:\Development\sphinx&gt; ruff bug.py --select S105
bug.py:1:13: S105 Possible hardcoded password: `&quot;1
2&quot;`
bug.py:4:13: S105 Possible hardcoded password: `&quot;3      4&quot;`
6&quot;`.py:7:13: S105 Possible hardcoded password: `&quot;5
Found 3 error(s).
</code></pre>
<p>A</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2022-12-29 23:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2022-12-30 07:10</div>
            <div class="timeline-body"><p>Sidenote: We do not want to escape all error message arguments: e.g. the messages (<code>.msg</code>) of the new <code>banned-api</code> setting should be interpolated into the error message without being escaped (so that they can contain newlines).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1493.html">astral-sh/ruff#1493</a> on 2022-12-31 03:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-31 03:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:49 UTC
    </footer>
</body>
</html>
