<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conviguation via Cargo.toml (`[package.metadata.ruff]`) - astral-sh/ruff #4970</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Conviguation via Cargo.toml (`[package.metadata.ruff]`)</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/4970">#4970</a>
        opened by <a href="https://github.com/tgross35">@tgross35</a>
        on 2023-06-08 18:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tgross35">@tgross35</a> on 2023-06-08 18:12</div>
            <div class="timeline-body"><p>Just a simple request - would it be possible to check <code>Cargo.toml</code> for rust configuration? This would be really cool for Rust projects that have a couple python scripts.</p>
<p>The <a href="https://doc.rust-lang.org/cargo/reference/manifest.html#the-metadata-table">metadata table</a> can hold anything, so I'm just imagining something like this:</p>
<pre><code class="language-toml">[package.metadata.ruff]
select = [&quot;E&quot;, &quot;F&quot;]
ignore = []
# ... standard ruff config
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Conviguation via Cargo.toml" to "Conviguation via Cargo.toml (`[package.metadata.ruff]`)" by @tgross35 on 2023-06-08 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tgross35">@tgross35</a> on 2023-06-08 19:10</div>
            <div class="timeline-body"><p>I can probably do this one but am wondering about precedence - how does merging configs work, or config precedence?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-06-09 08:05</div>
            <div class="timeline-body"><p>Would <a href="https://beta.ruff.rs/docs/configuration/#using-rufftoml">ruff.toml</a> also work for you? I see the appeal of reusing an existing toml file for configuration, but adding more possible files for configuration unfortunately makes understanding how ruff gets its configuration harder.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tgross35">@tgross35</a> on 2023-06-09 08:21</div>
            <div class="timeline-body"><p><code>ruff.toml</code> is our current solution. It works of course, it would just be nice to be able to avoid the extra file when there are only a few python files and a few lines of config.</p>
<p>Understood about the configuration options proliferation, that's just the opposite side of this problem :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-06-12 15:18</div>
            <div class="timeline-body"><p>I do see the benefit here... but we've been trying hard to avoid adding more configuration sources and file formats, so I'm gonna vote to pass on this for now. We may revisit in the future, it just doesn't seem like a great complexity-to-usefulness tradeoff at the moment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-06-12 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2023-06-12 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5102.html">astral-sh/ruff#5102</a> on 2023-06-14 21:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10493.html">astral-sh/ruff#10493</a> on 2024-04-02 08:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:50 UTC
    </footer>
</body>
</html>
