<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff's VSCode extension doesn't recongnize terminal command executions in jupyter notebooks - astral-sh/ruff #16484</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Ruff's VSCode extension doesn't recongnize terminal command executions in jupyter notebooks</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/16484">#16484</a>
        opened by <a href="https://github.com/juanbfactored">@juanbfactored</a>
        on 2025-03-03 21:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/juanbfactored">@juanbfactored</a> on 2025-03-03 21:47</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The ruff linter VS Code extension assigns syntax errors to any line using the terminal magic of &quot;!&quot; in any Jupyter notebook cell. For example, if I have a cell like this:</p>
<p><code>!brew install ruff</code></p>
<p>The extension will highlight this line and tell me I have a syntax error. For more reference see the image below</p>
<p><img width="560" alt="Image" src="https://github.com/user-attachments/assets/9b4cff56-b873-4880-8e5d-dfa74b0ee6bf" /></p>
<h3>Version</h3>
<p>2025.14.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-03-04 00:12</div>
            <div class="timeline-body"><p>Is this in an unsaved file/buffer possibly? I'm looking at the filename <code>ruff_demo.ipynb#.....</code> and thinking the bit after <code>#</code> may be confusing our file type detection.</p>
<p>I'm not able to reproduce this with a regular filename like <code>try.ipynb</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ntBre on 2025-03-04 00:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/juanbfactored">@juanbfactored</a> on 2025-03-04 15:11</div>
            <div class="timeline-body"><p>It is not an unsaved file or buffer. I cloned a repo and opened this notebook in VS Code. To make sure it wasn't related to any issues with the file, I closed the tab with the notebook, quit VS Code, and reopened it. The error is still there.</p>
<p>Additionally, I created another notebook <code>test.ipynb</code> and the same incorrect error was highlighted when I opened it in VS Code.</p>
<p><img width="448" alt="Image" src="https://github.com/user-attachments/assets/52544cad-de21-43d9-a15b-b7259d1e4b43" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-04 16:33</div>
            <div class="timeline-body"><p>Hmm, that's unexpected. I think that diagnostic might not be coming from Ruff because we don't have any message that says &quot;SyntaxError: invalid syntax (<filename>)&quot; or at least I can't find it.</p>
<p>Can you provide the entire message? It should end with &quot;Ruff&quot; like in the screenshot below. If it doesn't, then it might be some other extension that's causing it.</p>
<p><img width="964" alt="Image" src="https://github.com/user-attachments/assets/5cd2c345-b6ed-4736-aee1-7881268db200" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/juanbfactored">@juanbfactored</a> on 2025-03-04 18:20</div>
            <div class="timeline-body"><p>I don't have Pylance installed but when I did the error message went away. I don't know what is happening but it seems VS Code is checking for &quot;syntax errors&quot; with some other extension or functionality that may come from the Python extension. Anyway, thank you for taking a look at this and I'll be leaving Pylance installed to avoid these errors from showing up.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @juanbfactored on 2025-03-04 18:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:15 UTC
    </footer>
</body>
</html>
