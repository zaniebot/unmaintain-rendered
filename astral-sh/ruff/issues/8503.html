<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARG: Add option to enforce granularity - astral-sh/ruff #8503</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ARG: Add option to enforce granularity</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8503">#8503</a>
        opened by <a href="https://github.com/ofek">@ofek</a>
        on 2023-11-06 04:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ofek">@ofek</a> on 2023-11-06 04:07</div>
            <div class="timeline-body"><p>It would be nice if there was <a href="https://docs.astral.sh/ruff/settings/#flake8-unused-arguments">an option</a> for the ARG rules that would force ignore comments to apply just to the particular unused arguments. Often I want to take note in the code that one or two are intentionally ignored but the others should definitely not be. When this option exists there should be another rule added that would allow you to actually ignore the entire function/method.</p>
<p>Example from https://github.com/pypa/hatch/pull/1031, an implementation of <a href="https://peps.python.org/pep-0517/#build-wheel">PEP 517</a>:</p>
<pre><code>def build_wheel(
    wheel_directory: str,
    config_settings: dict[str, Any] | None = None,  # noqa: ARG001
    metadata_directory: str | None = None,  # noqa: ARG001
) -&gt; str:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-07 04:46</div>
            <div class="timeline-body"><p>Can you expand on this a bit, or give an example of what you mean? (Do the ignore comments in your example above not work as expected?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">waiting-on-author</span> added by @charliermarsh on 2023-11-07 04:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ofek">@ofek</a> on 2023-11-07 05:03</div>
            <div class="timeline-body"><p>No I mean I want to enforce the example from above rather than allowing the comment to apply to the entire function</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-07 05:08</div>
            <div class="timeline-body"><p>If I plug that into the <a href="https://play.ruff.rs/f7660caa-b0db-46ba-bba7-6b5bfc3572e3">playground</a>, I see that the second two arguments <em>are</em> ignored, while the first is flagged with <code>ARG001</code>. I'm really sorry because I suspect I'm still just misunderstanding the ask!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ofek">@ofek</a> on 2023-11-07 13:46</div>
            <div class="timeline-body"><p>I want this to produce an error:</p>
<pre><code>def build_wheel(wheel_directory, config_settings, metadata_directory) -&gt; str:  # noqa: ARG001
</code></pre>
<p>whereas this is allowed:</p>
<pre><code>def build_wheel(
    wheel_directory: str,
    config_settings,  # noqa: ARG001
    metadata_directory,  # noqa: ARG001
) -&gt; str:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-07 15:30</div>
            <div class="timeline-body"><p>Ahh got it, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">waiting-on-author</span> removed by @charliermarsh on 2023-11-07 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">noqa</span> added by @charliermarsh on 2023-11-07 15:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:31:53 UTC
    </footer>
</body>
</html>
