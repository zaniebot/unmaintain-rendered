<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow suppressing update check without suppressing error messages - astral-sh/ruff #476</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow suppressing update check without suppressing error messages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/476">#476</a>
        opened by <a href="https://github.com/andersk">@andersk</a>
        on 2022-10-26 16:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/andersk">@andersk</a></div>
            <div class="timeline-body"><p>Ruff has frequent releases, which is great, but it also means that the “new version available” message frequently adds noise to the output. Another source of noise is the “No pyproject.toml found. Falling back to default configuration…” message. A linter that prints expected noise can drown out unexpected errors, especially when it’s run from a script alongside many other linters.</p>
<pre><code>No pyproject.toml found.
Falling back to default configuration...
Found 1 error(s).
test.py:1:5: W292 No newline at end of file

A new version of ruff is available: v0.0.82 -&gt; v0.0.83
Run to update: pip3 install --upgrade ruff
</code></pre>
<p>Currently the only ways to suppress the update check are</p>
<ul>
<li>at compile time, by disabling the <code>update-informer</code> feature—not an option for those installing binaries;</li>
<li>at runtime, with the <code>-q</code>/<code>--quiet</code> option—not an option for those who want to see the actual diagnostics about the input code.</li>
</ul>
<p>There’s no way to suppress the pyproject.toml message.</p>
<p>Can we have an option to print <em>nothing</em> unless there are diagnostics about the input code? Perhaps this should be what <code>-q</code> means, and the existing <code>-q</code> should be <code>-qq</code> or <code>-s</code>/<code>--silent</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-26 17:58</div>
            <div class="timeline-body"><p>Agree with all of this. I think <code>-q</code> and <code>-s</code> make sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2022-10-26 19:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-10-26 20:03</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:45:25 UTC
    </footer>
</body>
</html>
