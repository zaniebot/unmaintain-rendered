<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>provide a exit code for `ruff format` (without --check) for source file syntax error - astral-sh/ruff #13419</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>provide a exit code for `ruff format` (without --check) for source file syntax error</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/13419">#13419</a>
        opened by <a href="https://github.com/trim21">@trim21</a>
        on 2024-09-20 05:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/trim21">@trim21</a> on 2024-09-20 05:54</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p><code>ruff format /path/to/file</code> now have 2 exit code, 0 for success and 2 for errors.</p>
<blockquote>
<p>0 if Ruff terminates successfully, regardless of whether any files were formatted.
2 if Ruff terminates abnormally due to invalid configuration, invalid CLI options, or an internal error.</p>
</blockquote>
<p>I proposal to add a exit code 1 for source file syntax error.</p>
<p>This would be helpful for IDE/editor plugins to know it's expected error or unexpected internal error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-09-20 08:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @MichaReiser on 2024-09-20 08:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-20 08:10</div>
            <div class="timeline-body"><p>Can you tell me more about your use case? Our long-term goal is that editors use the LSP to integrate Ruff because of performance and correctness concerns once we start adding multifile analysis support:</p>
<ul>
<li>Ruff needs to consider unsaved changes to avoid false positives.</li>
<li>Restarting Ruff on every keystroke would require re-checking your entire project and not just a single file. Yes, we plan to add some form of caching but the very least that Ruff has to do is to stat every referenced file to see if it has changed.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @trim21 on 2024-10-27 19:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:13 UTC
    </footer>
</body>
</html>
