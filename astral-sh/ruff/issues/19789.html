<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New rule from refurb: `FURB115` - astral-sh/ruff #19789</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>New rule from refurb: `FURB115`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/19789">#19789</a>
        opened by <a href="https://github.com/chirizxc">@chirizxc</a>
        on 2025-08-06 19:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/chirizxc">@chirizxc</a> on 2025-08-06 19:04</div>
            <div class="timeline-body"><p><img width="1146" height="457" alt="Image" src="https://github.com/user-attachments/assets/ff42d62c-e192-4fe8-99d2-e8815a5d2d50" /></p>
<pre><code class="language-python">fruits = [&quot;orange&quot;, &quot;apple&quot;]

if len(fruits) == 0:
    print(&quot;1&quot;)

if not fruits:
    print(&quot;1&quot;)

</code></pre>
<p>Use <code>not &lt;...&gt;</code> instead of <code>len(&lt;...&gt;) == 0</code></p>
<p>https://github.com/dosisod/refurb/blob/master/docs/checks.md#furb115-no-len-compare</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-08-06 19:26</div>
            <div class="timeline-body"><p>There is already a similar rule, <a href="https://docs.astral.sh/ruff/rules/len-test/#len-test-plc1802">len-test (PLC1802)</a>, but since <code>== 0</code> is a length test it doesn't error. <a href="https://play.ruff.rs/0ed26f41-c745-4a70-b4e2-3d8e5f71c44f">Example in playground</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-08-07 11:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @ntBre on 2025-08-07 11:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2025-08-07 21:34</div>
            <div class="timeline-body"><p>Note this may cause runtime errors with numpy arrays: <code>ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()</code></p>
<p>Just something to keep in mind.</p>
<pre><code class="language-py">import numpy as np

arr = np.array([[1,1], [2,2], [3,3], [4,4], [5,5]])

print(arr.size)
print(len(arr))
print(bool(arr))
</code></pre>
<pre><code>10
5

Traceback (most recent call last):
  File &quot;./prog.py&quot;, line 7, in &lt;module&gt;
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all() 
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:16 UTC
    </footer>
</body>
</html>
