<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No warnings 'too-many-blank-lines' or 'blank-line-between-methods'. - astral-sh/ruff #11351</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>No warnings 'too-many-blank-lines' or 'blank-line-between-methods'.</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/11351">#11351</a>
        opened by <a href="https://github.com/cdar">@cdar</a>
        on 2024-05-09 12:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/cdar">@cdar</a> on 2024-05-09 12:34</div>
            <div class="timeline-body"><p>Thank you for the project!</p>
<p>There are no wornings about blank lines (missing, present). Am I missing something?</p>
<p>Are there any tests for that?</p>
<pre><code>$ python3 -m venv venv
$ source venv/bin/activate
$ pip install ruff
$ ruff --version
ruff 0.4.3
$ cat &lt;&lt;EOF &gt; test.py
&gt; from enum import Enum
from itertools import dau



def a():
    pass
def b():
    pass
class Failure(Enum):
    pass
EOF
$ ruff check test.py
test.py:2:23: F401 [*] `itertools.dau` imported but unused
Found 1 error.
[*] 1 fixable with the `--fix` option.
</code></pre>
<p>search keywords: no blank lines</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-05-09 12:40</div>
            <div class="timeline-body"><p>The blank line rules are preview only rules and not enabled by default. You need to run <code>ruff check --extend-select E3 --preview test.py</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-05-09 12:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @cdar on 2024-05-09 12:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mathiasose">@mathiasose</a> on 2024-05-21 12:09</div>
            <div class="timeline-body"><p>@MichaReiser I have a question that seems related to this. What I'm seeing is that the formatter wants to remove blank lines but the checker doesn't inform about the same lines. So in pre-commit/CI <code>ruff check</code> isn't noticing changes that <code>ruff format</code> would do automatically.</p>
<p>When Django creates migrations it inserts a blank line after the <code>class</code> header before the <code>dependencies</code>:</p>
<pre><code class="language-python3"># Generated by Django 4.2.11 on 2024-05-15 08:56

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ...
    ]

    operations = [
        ...
    ]

</code></pre>
<p>If I run <code>ruff check path/to/migration_file.py</code> (I have <code>preview = true</code> and <code>E3</code> in <code>pyproject.toml</code>) it just tells me <code>All checks passed!</code>. But if I run <code>ruff format ruff check path/to/migration_file.py</code> I get <code>1 file reformatted</code> and it has removed the blank line.</p>
<p>Isn't <code>ruff check</code> supposed to tell me about all changes <code>ruff format</code> would do? Is there some other rule I need to enable?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-05-27 10:20</div>
            <div class="timeline-body"><blockquote>
<p>Isn't ruff check supposed to tell me about all changes ruff format would do? Is there some other rule I need to enable?</p>
</blockquote>
<p>It's our long-term goal that <code>ruff check</code> performs all necessary checks, that includes linting, formatting, type checking etc. However, we aren't there yet and <code>ruff check</code> only runs the lint rules today.</p>
<p>You have to run <code>ruff format --check</code> to verify if all files are correctly formatted (it also has a <code>--diff</code> option if you want to get a diagnostic for differences)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:12 UTC
    </footer>
</body>
</html>
