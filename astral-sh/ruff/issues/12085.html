<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>formatter: `COM812`, `ISC001` warning - astral-sh/ruff #12085</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>formatter: `COM812`, `ISC001` warning</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12085">#12085</a>
        opened by <a href="https://github.com/Mogost">@Mogost</a>
        on 2024-06-28 05:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Mogost">@Mogost</a> on 2024-06-28 05:59</div>
            <div class="timeline-body"><p>The following configuration triggers a warning message but shouldn't.
All linter rules are enabled but warning contains rules that are in ignore section.</p>
<pre><code>[tool.ruff]
line-length = 120
indent-width = 4

[tool.ruff.format]
quote-style = &quot;double&quot;
indent-style = &quot;space&quot;
skip-magic-trailing-comma = false
line-ending = &quot;auto&quot;
preview = true

[tool.ruff.lint]
select = [&quot;ALL&quot;]
ignore = [
...
    &quot;COM812&quot;,  # https://docs.astral.sh/ruff/rules/missing-trailing-comma/
    &quot;ISC001&quot;,  # https://docs.astral.sh/ruff/rules/single-line-implicit-string-concatenation/
]
</code></pre>
<pre><code>‚ùØ ruff format .
warning: The following rules may cause conflicts when used with the formatter: `COM812`, `ISC001`. To avoid unexpected behavior, we recommend disabling these rules, either by removing them from the `select` or `extend-select` configuration, or adding them to the `ignore` configuration.
2051 files left unchanged
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-28 07:02</div>
            <div class="timeline-body"><p>I tried to reproduce the issue with</p>
<pre><code class="language-toml">[tool.ruff]
preview=true

[tool.ruff.format]
preview = true
quote-style = &quot;double&quot;
indent-style = &quot;space&quot;
skip-magic-trailing-comma = false
line-ending = &quot;auto&quot;

[tool.ruff.lint]
select = [&quot;ALL&quot;]
ignore = [
    &quot;COM812&quot;,
    &quot;ISC001&quot;,
]
</code></pre>
<p>And ran</p>
<pre><code>$ uv tool run ruff format
warning: `uv tool run` is experimental and may change without warning.
Resolved 1 package in 3ms
Installed 1 package in 4ms
 + ruff==0.5.0
warning: `one-blank-line-before-class` (D203) and `no-blank-line-before-class` (D211) are incompatible. Ignoring `one-blank-line-before-class`.
warning: `multi-line-summary-first-line` (D212) and `multi-line-summary-second-line` (D213) are incompatible. Ignoring `multi-line-summary-second-line`.
13 files left unchanged
</code></pre>
<p>I do get warnings about incompatible linter rules but not about <code>COM812</code> or <code>ISC001</code> being incompatible with the formatter. Do you have an other <code>pyproject.tom</code> in a sub folder?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-06-28 07:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Mogost">@Mogost</a> on 2024-06-28 07:13</div>
            <div class="timeline-body"><p>Oops. There is indeed a subdirectory with its own pyproject.toml. As soon as I removed it, the problem went away. Thanks and sorry for the inconvenience.
And thanks for the awesome job!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Mogost on 2024-06-28 07:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../flake8-implicit-str-concat/flake8-implicit-str-concat/issues/56.html">flake8-implicit-str-concat/flake8-implicit-str-concat#56</a> on 2025-10-06 09:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:13 UTC
    </footer>
</body>
</html>
