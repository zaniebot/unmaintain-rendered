<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support `grouped` output format for `--statistics` - astral-sh/ruff #15031</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support <code>grouped</code> output format for <code>--statistics</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15031">#15031</a>
        opened by <a href="https://github.com/un-pogaz">@un-pogaz</a>
        on 2024-12-17 08:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/un-pogaz">@un-pogaz</a> on 2024-12-17 08:52</div>
            <div class="timeline-body"><p>Actualy, if your use the option --statistics to <code>ruff check</code>, Ruff will output the list of all rules violations but never specifie wich file has the errors. And if your don't use the option --statistics, Ruff generate a output that will content each singular rule violation, which can quickly become particularly unreadable.</p>
<p>In a generale way, there is no option to get a clear list of files with rules violations, and only them.</p>
<p>So, I suggest to add a option --statistics-per-files derivated from the original --statistics, or a additional option --per-files to append to the original one.</p>
<p>This option will output a statistics table, but grouped for each individual files that have a rule violations.
Like this:</p>
<pre><code>src/utils/catalogs.py:
5    W291    [*] trailing-whitespace
1    I001    [*] unsorted-imports
1    W292    [*] missing-newline-at-end-of-file
[*] fixable with `ruff check --fix`

src/formatter_functions.py:
3   INT003  [ ] printf-in-get-text-func-call
2   E721    [ ] type-comparison
1   F821    [ ] undefined-name

src/main.py:
1   I001    [*] unsorted-imports
1   F821    [ ] undefined-name
1   W191    [ ] tab-indentation
[*] fixable with `ruff check --fix`

[...]
</code></pre>
<p>This allow to quick know wich files need to be edit, open it in your IDE, IDE that will show you the exact position of each error in this file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-12-17 09:02</div>
            <div class="timeline-body"><p>Thanks for the suggestion! What do you think about using <code>--output-format=grouped</code>? That doesn't show the statistics but groups the diagnostics on a per-file basis.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @dhruvmanila on 2024-12-17 09:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/un-pogaz">@un-pogaz</a> on 2024-12-17 11:34</div>
            <div class="timeline-body"><p>Oh, thanks. This result is good for my usage.</p>
<p>So, their is no need to add a &quot;new&quot; option for <code>--statistics</code>, because <code>--output-format=grouped</code> can take this role, their just need to make them compatible together, which would be really handy and shorter (my output take ~5000 lines, need to clean up but usefull)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add a option --statistics-per-files" to "Support `grouped` output format for `--statistics`" by @dhruvmanila on 2024-12-18 05:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/y2kbugger">@y2kbugger</a> on 2025-12-23 19:37</div>
            <div class="timeline-body"><p>I'm hoping for an output format of json or toml for writing scripts against.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-24 07:42</div>
            <div class="timeline-body"><blockquote>
<p>I'm hoping for an output format of json or toml for writing scripts against.</p>
</blockquote>
<p>Have you tried <code>--output-format=json</code>:</p>
<pre><code>uvx ruff@latest check --statistics --output-format=json
warning: `incorrect-blank-line-before-class` (D203) and `no-blank-line-before-class` (D211) are incompatible. Ignoring `incorrect-blank-line-before-class`.
warning: `multi-line-summary-first-line` (D212) and `multi-line-summary-second-line` (D213) are incompatible. Ignoring `multi-line-summary-second-line`.
[
  {
    &quot;code&quot;: null,
    &quot;name&quot;: &quot;invalid-syntax&quot;,
    &quot;count&quot;: 12,
    &quot;fixable&quot;: false,
    &quot;fixable_count&quot;: 0
  },
  {
    &quot;code&quot;: &quot;D103&quot;,
    &quot;name&quot;: &quot;undocumented-public-function&quot;,
    &quot;count&quot;: 1,
    &quot;fixable&quot;: false,
    &quot;fixable_count&quot;: 0
  },
  {
    &quot;code&quot;: &quot;T201&quot;,
    &quot;name&quot;: &quot;print&quot;,
    &quot;count&quot;: 1,
    &quot;fixable&quot;: false,
    &quot;fixable_count&quot;: 0
  }
]
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:04 UTC
    </footer>
</body>
</html>
