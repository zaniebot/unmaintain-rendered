<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docs Request: Add examples of settings that can be turned on and off - astral-sh/ruff #11355</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Docs Request: Add examples of settings that can be turned on and off</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/11355">#11355</a>
        opened by <a href="https://github.com/DeflateAwning">@DeflateAwning</a>
        on 2024-05-09 22:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DeflateAwning">@DeflateAwning</a> on 2024-05-09 22:21</div>
            <div class="timeline-body"><p>I wish there were way more examples of the possible configuration settings in ruff. For example, it would be great to see an example of how to flip between these two auto-format modes:</p>
<pre><code class="language-python"># option 1 (default):
df = df.rename(
	{
		'source_name': 'second_merge_source_name',
	}
)

# option 2 (how I wish it was, by configuring it):
df = df.rename({
	'source_name': 'second_merge_source_name',
})
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-10 05:27</div>
            <div class="timeline-body"><p>I think this style is available in <code>--preview</code> mode of the formatter.</p>
<p>Agreed that a list of currently active preview style in the formatter should be visible.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @dhruvmanila on 2024-05-10 05:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 01:54</div>
            <div class="timeline-body"><p>It's all just under <code>--preview</code>, so there aren't really other settings to document or provide examples around. I'd vote to close, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DeflateAwning">@DeflateAwning</a> on 2024-05-13 02:00</div>
            <div class="timeline-body"><p>Oh neat! I think that should be added to the README and the &quot;Configuring Ruff&quot; section(s) of the docs then.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 02:01</div>
            <div class="timeline-body"><p>There's a separate section here: https://docs.astral.sh/ruff/preview/. Let me look into adding references to it elsewhere...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DeflateAwning">@DeflateAwning</a> on 2024-05-13 02:05</div>
            <div class="timeline-body"><p>Oh sorry, I think the point of my feature request might be being missed.</p>
<p>I'm glad that my specific formatting example is supported in the preview version! That's great.</p>
<p><strong>My real requests here though</strong> is that the list of settings that can be enabled/disabled should be clearly laid out somewhere in the documentation, with examples.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 02:07</div>
            <div class="timeline-body"><p>We enumerate al the settings here (https://docs.astral.sh/ruff/settings/#format), but the issue is that for the formatter, we don't really support many settings, and the ones that we <em>do</em> support are either already documented in such a way or are self-explanatory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DeflateAwning">@DeflateAwning</a> on 2024-05-13 02:17</div>
            <div class="timeline-body"><p>Perhaps the settings section could be split into 3 ~~sections~~ <em>sub-pages</em>: &quot;General&quot;, &quot;Formatting Rules&quot;, and &quot;Linting Rules&quot;. That page is quite long, and I missed that the section half-way down was the actual formatting rules.</p>
<p>Also, where are Preview formatting rules enumerated?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 02:20</div>
            <div class="timeline-body"><p>The page is an API reference though. It's intended to mirror the schema of the configuration file.</p>
<p>There are no preview formatting rules, per se. The <em>linter</em> is composed of <em>rules</em>, while the <em>formatter</em> just implements a single consistent style. For the formatter, you can either enable preview (and opt-in to style changes that haven't yet stabilized) or not, but there's no fine-grained control, and that's intentional. You should try running preview and see if you prefer the style.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-13 07:57</div>
            <div class="timeline-body"><p>I think what my suggestion here was to create a list of formatting styles which will be enabled in preview mode.</p>
<p>For example, we could just link it to the issue / PR (like https://github.com/astral-sh/ruff/issues/8897) or provide a brief description on the style with an example.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-13 14:18</div>
            <div class="timeline-body"><p>I don't know that it's worth it given that we have to keep it up-to-date, and yet preview is all-or-nothing, so users can't leverage that information to change their code style. What do you think?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-13 14:53</div>
            <div class="timeline-body"><p>As a user, I think I'd find it useful even if it's just a list of issue / PR list. If I enable preview formatting, I'm not sure what I'm going to see unless I run the formatter.</p>
<p>And, I think it should be pretty low effort as the list is already available here: https://github.com/astral-sh/ruff/blob/main/crates/ruff_python_formatter/src/preview.rs</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DeflateAwning">@DeflateAwning</a> on 2024-05-13 18:17</div>
            <div class="timeline-body"><p>What's the timescale of features making it from &quot;preview&quot; to regular mode (where the settings can be adjusted)? Are preview features ever scrapped?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-14 08:35</div>
            <div class="timeline-body"><blockquote>
<p>What's the timescale of features making it from &quot;preview&quot; to regular mode (where the settings can be adjusted)?</p>
</blockquote>
<p>Are you specifically referring to preview rules in the linter or the preview mode in the formatter? I'm assuming it's the latter. If so, it's usually inline with Black's preview to stable upgrade schedule which is at the start of a new year. You can read more about preview mode <a href="https://docs.astral.sh/ruff/preview/">here</a> and in the <a href="https://docs.astral.sh/ruff/versioning/#preview-mode">versioning docs</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-07-26 01:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
