<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`FBT003` should not fire on `NamedTuple`s - astral-sh/ruff #10231</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`FBT003` should not fire on `NamedTuple`s</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/10231">#10231</a>
        opened by <a href="https://github.com/tylerlaprade">@tylerlaprade</a>
        on 2024-03-04 21:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tylerlaprade">@tylerlaprade</a> on 2024-03-04 21:41</div>
            <div class="timeline-body"><pre><code>class Foo(NamedTuple):
    is_bar: bool
    baz_count: int

Foo(True, 3)
</code></pre>
<p><code>FBT003</code> complains about a positional boolean passed to a function, but the only alternative to initialize this tuple it <code>Foo(is_bar=True, baz_count=3)</code>, which defeats the purpose of using a <code>NamedTuple</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2024-03-05 01:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-05 01:35</div>
            <div class="timeline-body"><p>I'm not sure... To me it's within the scope and intent of the rule. For example, <code>Foo(True, False, True, 3)</code> <em>is</em> confusing, and you should be using keyword arguments in calls like that. I personally wouldn't activate this rule, since it's quite strict, but if it's enabled, I don't know that these constructors should be special-cased.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-03-05 11:02</div>
            <div class="timeline-body"><blockquote>
<p>which defeats the purpose of using a <code>NamedTuple</code></p>
</blockquote>
<p>Why do you say it defeats the purpose of a namedtuple? I think I might have a different idea to you about what the purpose of a namedtuple is ðŸ˜ƒ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tylerlaprade">@tylerlaprade</a> on 2024-03-05 16:17</div>
            <div class="timeline-body"><p>My team was previously using unnamed tuples, so I suggested <code>NamedTuple</code> as an upgrade that would still be compatible with all legacy code, but it created friction for them since they had to modify every place one was created rather than just find-and-replace <code>(a, b, c)</code> -&gt; <code>Foo(a, b, c)</code>.</p>
<p>That being said, I do see both points of view. It's nice to see what each argument represents, although it can feel verbose for tiny tuples that only have one boolean. I encouraged them to do the extra step of adding <code>a=</code>, <code>b=</code>, and <code>c=</code> to their tuples, which they begrudgingly did since I was blocking the PR with raw tuples, and Ruff was blocking it with named tuples with positional arguments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-11 17:25</div>
            <div class="timeline-body"><p>While I agree it could smooth things over during an upgrade, I don't think this makes sense for the spirit of the rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2024-03-11 17:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @zanieb on 2024-03-11 17:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wontfix</span> added by @zanieb on 2024-03-11 17:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @zanieb on 2024-03-11 17:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
