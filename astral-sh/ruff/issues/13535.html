<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISC001 in case of explicit string concatenation - astral-sh/ruff #13535</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ISC001 in case of explicit string concatenation</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13535">#13535</a>
        opened by <a href="https://github.com/spaceby">@spaceby</a>
        on 2024-09-27 10:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/spaceby">@spaceby</a></div>
            <div class="timeline-body"><pre><code class="language-python"># ISC001 working
s_1 = 'Hello ' 'world'

# ISC001 not working
s_2 = 'Hello ' + 'world'
</code></pre>
<p>https://play.ruff.rs/019ff1c5-bc88-4ea4-b664-680efe9dc7bd</p>
<p>I would like ISC001 to work with explicit string concatenation as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-27 10:49</div>
            <div class="timeline-body"><p>Does https://docs.astral.sh/ruff/rules/explicit-string-concatenation/ work for you?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-09-27 10:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceby">@spaceby</a> on 2024-09-27 11:06</div>
            <div class="timeline-body"><p>Do you mean using ISC003 to turn explicit string concatenation into implicit, and then using ISC001 to combine them?
This will not work in the following config:</p>
<pre><code class="language-toml">[tool.ruff.lint.flake8-implicit-str-concat]
allow-multiline = false
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-27 11:18</div>
            <div class="timeline-body"><p>Kind of. Taking a step back. What's motivating you for this rule? Do you want to detect any form of string concatenation where both sides are constants?</p>
<p>My main concern is that wich said rule, the only option to write very long string literals and keep them inside of a reasonable line length is to use a triple-quoted strings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @MichaReiser on 2024-09-27 11:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-09-27 11:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-09-27 11:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2024-09-27 11:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceby">@spaceby</a> on 2024-09-27 11:30</div>
            <div class="timeline-body"><p>Ruff has a rule that detects single-line implicit string concatenation <a href="https://docs.astral.sh/ruff/rules/single-line-implicit-string-concatenation/#single-line-implicit-string-concatenation-isc001">(ISC001)</a>
But ruff does not detect single-line explicit string concatenation
This is strange. This also has a negative impact on the readability of the code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-27 11:50</div>
            <div class="timeline-body"><p>To clarify. Do you only want to ban explicit string concatenation on a single line or in general?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceby">@spaceby</a> on 2024-09-27 11:51</div>
            <div class="timeline-body"><p>Only on a single line. As in ISC001</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-27 11:58</div>
            <div class="timeline-body"><p>I see. I'm very hesitant of adding said rule because it isn't compatible with the formatter (same as ISC001 and it now requires changes to the formatter but even then, isn't perfect).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @MichaReiser on 2024-09-27 11:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceby">@spaceby</a> on 2024-09-27 12:04</div>
            <div class="timeline-body"><p>ISC001 helped me find places where I forgot to add a comma in the list of strings.
This is a useful rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-09-27 12:13</div>
            <div class="timeline-body"><p>You want to <em>ban</em> explicit concatenation on a single line only? I don't think we're likely to support that, it's the first time we've heard that request, and implicit concatenations on a single line are a common source of bugs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceby">@spaceby</a> on 2024-09-27 12:19</div>
            <div class="timeline-body"><p>It seems like it would require an unreasonable amount of work.
Let's close this issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-09-27 12:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:10 UTC
    </footer>
</body>
</html>
