<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI: Show `--fix`ed and fixable issues too? - astral-sh/ruff #2149</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>CLI: Show <code>--fix</code>ed and fixable issues too?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2149">#2149</a>
        opened by <a href="https://github.com/akx">@akx</a>
        on 2023-01-25 07:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/akx">@akx</a></div>
            <div class="timeline-body"><p>I think it would be useful if the CLI listed the things it <code>--fix</code>es, or can fix; right now you get something like</p>
<pre><code>Found 8 error(s).
1 potentially fixable with the --fix option.
</code></pre>
<p>and if you run <code>--fix</code>, you'll get one error less and need look at the changes that have been applied and then figure out why. Instead, I think it'd be nicer if the flow was</p>
<pre><code>$ ruff .
file.py:2:9: NOM001 Ran out of pancakes in `__init__` (fixable)
Found 1 error(s).
1 potentially fixable with the --fix option.
$ ruff --fix .
file.py:2:9: NOM001 Ran out of pancakes in `__init__` (fixed)
Found 1 error(s).
1 fixed with the --fix option.
$
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-25 09:13</div>
            <div class="timeline-body"><p>I disagree ... I think it's better to follow the &quot;rule of silence&quot; from the Unix philosophy (<a href="http://www.catb.org/~esr/writings/taoup/html/ch01s06.html">1</a>,<a href="http://www.linfo.org/rule_of_silence.html">2</a>):</p>
<blockquote>
<p>When a program has nothing surprising to say, it should say nothing.</p>
</blockquote>
<p>(Besides any self-respecting programmer uses version control and will be able to see the fixes in detail by doing e.g. a <code>git diff</code>.)</p>
<p>So I'd rather keep the current default behavior. However I'd be alright with showing this output when a <code>--verbose</code> flag is supplied ... however in order to do that we'd probably have to firstly rename our current <code>--verbose</code> flag to debug ... which would be more fitting anyway since it currently literally prints [DEBUG] messages that are completely uninteresting for regular users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-25 12:22</div>
            <div class="timeline-body"><p>I actually made a change in #1701, a while ago, to include the list of fixes in a slightly different format (just telling you how many violations were fixed in each file, closer to Black's output, where it tells you which files are reformatted). But I was worried it was too verbose and wanted to get more feedback before sending it out (so it was reverted in #1711).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/akx">@akx</a> on 2023-01-25 12:49</div>
            <div class="timeline-body"><p>How about <code>--show-fixes</code> instead of <code>--verbose</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-25 13:02</div>
            <div class="timeline-body"><p>I don't think this is important enough to warrant a dedicated command-line flag ... every flag we add complicates the UI a bit and makes it harder to for the user to find the flags they're actually looking for.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-26 06:24</div>
            <div class="timeline-body"><p>I just opened #2188 for the larger issue of <code>-v</code> being user-unfriendly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2023-01-26 14:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aberres">@aberres</a> on 2023-02-24 19:51</div>
            <div class="timeline-body"><p>My 2cent: We call <code>ruff --fix</code> from <code>pre-commit</code> - I'd love to see a hint of what was changed to have a closer look. It is not always obvious when just a single line has new changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-24 20:00</div>
            <div class="timeline-body"><p>The <code>--show-fixes</code> flag exists which helps with this a bit.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aberres">@aberres</a> on 2023-02-24 20:24</div>
            <div class="timeline-body"><p>Ah, great, thank you. This is close enough.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-24 20:29</div>
            <div class="timeline-body"><p>Actually gonna close this because I think <code>--show-fixes</code> helped enough.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-24 20:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:10 UTC
    </footer>
</body>
</html>
