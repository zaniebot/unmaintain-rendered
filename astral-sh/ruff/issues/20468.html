<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reconsider `valid-magic-values` option - astral-sh/ruff #20468</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Reconsider <code>valid-magic-values</code> option</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/20468">#20468</a>
        opened by <a href="https://github.com/julianstirling">@julianstirling</a>
        on 2025-09-18 14:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/julianstirling">@julianstirling</a></div>
            <div class="timeline-body">Summary
<p>This was discussed before (See #6256). Pylint has a way to set valid magic values, ruff does not.</p>
<p>The reason for closing was given as:</p>
<blockquote>
<p>This was an intentional divergence, if I recall correctly, since we couldn&#x27;t find any motivating use-cases for parameterizing on specific values, the thinking being that if there&#x27;s a value that should be allowed that&#x27;s specific to the codebase, it should probably be encoded as a variable; and if a value should be allowed but isn&#x27;t specific to the codebase, it should probably just be allowed by default (like 0).</p>
</blockquote>
<p>I can think of a few examples which are not magic and specific, but maybe not everyone wants. For example:</p>
<p>We have a project that does a lot of image handing. Generally images are unit8, sometimes unit16 if getting raw data with higher bit depth. Often certain calculations that could overflow are done as a different datatype. Before conversion you often find yourself checking for overflows.</p>
<p>255 really is not magic in a codebase that does a lot of uint8 maths. But it may be considered so in other codebases. I would like (and 65535) to not be magic, but I can see reasonable arguments for them counting as magic in other codebases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-18 14:20</div>
            <div class="timeline-body"><p>Thanks for the suggestion and finding the old issue! There&#x27;s a bit more recent discussion in #10009.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-18 14:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:26 UTC
    </footer>
</body>
</html>
