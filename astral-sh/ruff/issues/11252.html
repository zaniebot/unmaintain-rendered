<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider emitting a warning for the use of continuation characters (except in strings) - astral-sh/ruff #11252</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider emitting a warning for the use of continuation characters (except in strings)</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11252">#11252</a>
        opened by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a>
        on 2024-05-02 19:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/NeilGirdhar">@NeilGirdhar</a></div>
            <div class="timeline-body"><p>The continuation character used outside of strings are no longer necessary as of Python 3.9 thanks to the new PEG parser.  This means that we can always use parentheses.  And parentheses have the advantage of not interfering with comments, and for some people are easier to read.</p>
<p>Also, doing a grep on Python source suggests that many Python programmers are preferring parenthesis continuationsâ€”except in strings.</p>
<p>Would it make sense to warn on them?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-03 00:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-03 00:40</div>
            <div class="timeline-body"><p>For completeness, can you give an example of the pattern you want to lint against, and the suggested alternative?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2024-05-03 01:55</div>
            <div class="timeline-body"><p>Sure, from the CPython source:</p>
<pre><code>        if self.size_read == self.chunksize and \
           self.align and \
           (self.chunksize &amp; 1):
            dummy = self.file.read(1)
</code></pre>
<p>I prefer:</p>
<pre><code>        if (self.size_read == self.chunksize and self.align
                and (self.chunksize &amp; 1)):
            dummy = self.file.read(1)
</code></pre>
<p>Of course, it&#x27;s a matter of opinion, but apparently <a href="https://discuss.python.org/t/python-should-allow-comments-after-continuation-line-bar/52416/29">according a core developor</a>:</p>
<blockquote>
<p>Guido and other core developers are not fans of using backslash to negate line-ends. Not only do fence pairs (parentheses, brackets, and braces) negate all contained line-ends, but the use of grouping parentheses has been expanded to eliminate most/all needs for line-end backslashes. For instance, 3.10 added the use of grouping parentheses to write <a href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with statements </a>over multiple lines without using backslash. AFAIK, this was the last required use of backslash, line-end in normal code.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-03 02:10</div>
            <div class="timeline-body"><p>Not a &#x27;decision&#x27; but as a heads up I&#x27;m generally hesitant to add more rules that are made redundant with the formatter.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:53 UTC
    </footer>
</body>
</html>
