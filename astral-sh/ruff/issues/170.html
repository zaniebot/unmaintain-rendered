<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support remaining Flake8 rules - astral-sh/ruff #170</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support remaining Flake8 rules</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/170">#170</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2022-09-12 19:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><h1>Summary</h1>
<p>Mega-issue to track support for the remaining Flake8 rules. This only includes rules that are (1) relevant for Python 3 and (2) relevant when using + compatible with Black.</p>
<p>If we can cross out these checks, then we can elevate ruff to an 0.1.0 release (with additional testing).</p>
<h2>pycodestyle</h2>
<ul>
<li>[x] <code>E721</code> (&quot;do not compare types, use <code>isinstance()</code>&quot;)</li>
</ul>
<h2>PyFlakes</h2>
<ul>
<li>[x] <code>F402</code> (&quot;import module from line N shadowed by loop variable&quot;)</li>
<li>[x] <code>F405</code> (&quot;name may be undefined, or defined from star imports: module&quot;)</li>
<li>[x] <code>F406</code> (&quot;<code>from module import *</code> only allowed at module level&quot;)</li>
<li>[x] <code>F632</code> (&quot;use ==/!= to compare str, bytes, and int literals&quot;)</li>
<li>[x] <code>F633</code> (&quot;use of &gt;&gt; is invalid with print function&quot;)</li>
<li>[x] <code>F722</code> (&quot;syntax error in forward annotation&quot;)</li>
<li>[ ] <code>F811</code> (&quot;redefinition of unused name from line N&quot;)</li>
</ul>
<h2>String formatting</h2>
<p>N.B. These are the least important to me, in part because I think they're low-value while requiring a lot of custom logic. I would be fine with an 0.1.0 release that didn't include these.</p>
<ul>
<li>[x] <code>F501</code> (&quot;invalid % format literal&quot;)</li>
<li>[x] <code>F502</code> (&quot;% format expected mapping but got sequence&quot;)</li>
<li>[x] <code>F503</code> (&quot;% format expected sequence but got mapping&quot;)</li>
<li>[x] <code>F504</code> (&quot;% format unused named arguments&quot;)</li>
<li>[x] <code>F505</code> (&quot;% format missing named arguments&quot;)</li>
<li>[x] <code>F506</code> (&quot;% format mixed positional and named arguments&quot;)</li>
<li>[x] <code>F507</code> (&quot;% format mismatch of placeholder and argument count&quot;)</li>
<li>[x] <code>F508</code> (&quot;% format with * specifier requires a sequence&quot;)</li>
<li>[x] <code>F509</code> (&quot;% format with unsupported format character&quot;)</li>
<li>[x] <code>F521</code> (&quot;.format(...) invalid format string&quot;)</li>
<li>[x] <code>F522</code> (&quot;.format(...) unused named arguments&quot;)</li>
<li>[x] <code>F523</code> (&quot;.format(...) unused positional arguments&quot;)</li>
<li>[x] <code>F524</code> (&quot;.format(...) missing argument&quot;)</li>
<li>[x] <code>F525</code> (&quot;.format(...) mixing automatic and manual numbering&quot;)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-14 13:15</div>
            <div class="timeline-body"><p>Ignoring the string-formatting issues, there's a set of issues here that require us to track the parents for every binding, not just for current node. That is: we need to be able to get <code>getParent</code> on any binding, so we can do things like &quot;determine whether two nodes are in different branches of an if/else&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Release 0.1.0" by @charliermarsh on 2022-09-15 13:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2022-09-15 13:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harupy">@harupy</a> on 2022-09-18 03:16</div>
            <div class="timeline-body"><p>@charliermarsh I would like to work on F402.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-21 15:21</div>
            <div class="timeline-body"><p>Removed one rule that Flake8 no longer supports (my list was stale), and another that I don't think is worth supporting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-21 15:27</div>
            <div class="timeline-body"><p>Also removing syntax error in doctest.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jackenmen">@Jackenmen</a> on 2022-09-21 15:27</div>
            <div class="timeline-body"><p>Hmm, I wanted F811 but I guess that both isort and usort offer the same functionality so it's better to leave it to them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-21 15:37</div>
            <div class="timeline-body"><p>(Doing F405 now.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-21 16:13</div>
            <div class="timeline-body"><p>Yeah we can revisit F811... I can see the usefulness. It's a bit tricky to get right and not a huge value-add so wanted to cut for 0.1.0.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cnpryer">@cnpryer</a> on 2022-10-06 23:56</div>
            <div class="timeline-body"><blockquote>
<p>This only includes rules that are (1) relevant for Python 3 and (2) relevant when using + compatible with Black.</p>
</blockquote>
<p>I hope this is the right place for this. I noticed that #68 was closed, so I figured the idea is to consolidate rules here.</p>
<p>Are E302 and W292 considered part of pre 0.1.0 scope?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-07 00:27</div>
            <div class="timeline-body"><p>If they're important to you, they can be! I thought those were made obsolete by Black, but if you need E302 and W292 I'm happy to implement.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cnpryer">@cnpryer</a> on 2022-10-07 01:28</div>
            <div class="timeline-body"><p>That's my bad! I totally forgot about this snippet from the readme.</p>
<blockquote>
<p>As a project, ruff is designed to be used alongside Black and, as such, will defer implementing stylistic lint rules that are obviated by autoformatting.</p>
</blockquote>
<p>I think I'm just conditioned to expect my linting and formatting tools to be less coupled together like this.</p>
<p>Also I'm not opposed to grab those! I just want to make sure that it's aligned with Ruff goals.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-07 01:40</div>
            <div class="timeline-body"><p>No problem at all! Right now, it's more of a prioritization decision than a strictly philosophical one. I'm not opposed to including stylistic rules, I just intentionally deprioritized those rules that were made irrelevant by Black.</p>
<p>Would of course welcome a PR on either of those if you ever feel up for it, but no pressure :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-11-28 02:32</div>
            <div class="timeline-body"><p>Thanks to @olliemath, we now support all of the string parsing rules! I'm going to close this out -- we're only missing <code>F811</code>, and I don't plan to implement it right now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-11-28 02:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NyanKiyoshi">@NyanKiyoshi</a> on 2022-12-02 08:39</div>
            <div class="timeline-body"><blockquote>
<p>Thanks to @olliemath, we now support all of the string parsing rules! I'm going to close this out -- we're only missing <code>F811</code>, and I don't plan to implement it right now.</p>
</blockquote>
<p>@charliermarsh, would it be possible to have a ticket to track the implementation of <code>F811</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-02 14:25</div>
            <div class="timeline-body"><p>@NyanKiyoshi - Done! #996</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-02 14:30</div>
            <div class="timeline-body"><p>I put off <code>F811</code> because it requires a bunch of logic to detect whether statements are defined in different <code>if</code> branches, etc. But it's certainly doable.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:45:18 UTC
    </footer>
</body>
</html>
