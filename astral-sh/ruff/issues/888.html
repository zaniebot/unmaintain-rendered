<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support # flake8: noqa tag at top of file to ignore entire file - astral-sh/ruff #888</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support # flake8: noqa tag at top of file to ignore entire file</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/888">#888</a>
        opened by <a href="https://github.com/jhallard">@jhallard</a>
        on 2022-11-23 06:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jhallard">@jhallard</a> on 2022-11-23 06:51</div>
            <div class="timeline-body"><p>We occasionally have files in our code base that we want to ignore certain flake8 errors for. Instead of marking each line, <code>flake8</code> allows one to simply tag the file with</p>
<pre><code># flake8: noqa F402
</code></pre>
<p>to ignore a specific error or</p>
<pre><code># flake8: noqa
</code></pre>
<p>to ignore all errors</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2022-11-23 14:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/onerandomusername">@onerandomusername</a> on 2022-12-02 04:08</div>
            <div class="timeline-body"><p>I might be in the minority here, but I appreciate that ruff <em>doesn't</em> support this. The same thing can be accomplished with providing the file in the pyproject.toml config key <code>tool.ruff.per-file-ignores</code>, and using this mandates a single list of all per file ignored error codes, which I think is less confusing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jhallard">@jhallard</a> on 2022-12-02 04:18</div>
            <div class="timeline-body"><p>Seems like an odd thing to appreciate <em>not</em> supporting? @onerandomusername if you don't like that way of specifying ignores, you'd be free to not use it, but since that method is used extensively in the wild, it makes it much easier to transition to <code>ruff</code> if it was supported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-02 14:26</div>
            <div class="timeline-body"><p>I don't personally use this but am happy to support it. I have to look at Flake8 to understand the exact behavior around when this does / doesn't get picked up.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-02 14:29</div>
            <div class="timeline-body"><p>I can probably do it today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-02 18:05</div>
            <div class="timeline-body"><p>@jhallard - AFAICT <code># flake8: noqa F402</code> isn't supported by Flake8, in that any <code># flake8: noqa</code> disables Flake8 for the entire file.</p>
<p>As an example:</p>
<pre><code class="language-py"># flake8: noqa F841

import os

def f():
    x = 1
</code></pre>
<p>This snippet contains an F841 violation (<code>F841 local variable 'x' is assigned to but never used</code>) and an F401 violation (<code>F401 'os' imported but unused</code>), but both are ignored no matter how I modify the <code>noqa</code> at the top. The Flake8 source code seems to suggest the same thing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1001.html">astral-sh/ruff#1001</a> on 2022-12-02 21:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-03 04:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:07 UTC
    </footer>
</body>
</html>
