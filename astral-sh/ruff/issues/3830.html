<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>False positive: SIM222 - astral-sh/ruff #3830</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>False positive: SIM222</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/3830">#3830</a>
        opened by <a href="https://github.com/AA-Turner">@AA-Turner</a>
        on 2023-03-31 16:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AA-Turner">@AA-Turner</a></div>
            <div class="timeline-body"><p>Ruff 0.0.260</p>
<p>Reproducer:</p>
<pre><code>(sphinx) PS I:\Development\sphinx&gt; ruff -V                                                 
ruff 0.0.260
(sphinx) PS I:\Development\sphinx&gt; type bug_sim222.py
a = &#x27;foo&#x27;

if a == &#x27;bar&#x27; and False:  # NoQA: SIM223
   pass

if 1 == 2 and False:  # NoQA: SIM223
   pass
(sphinx) PS I:\Development\sphinx&gt; ruff --isolated --show-source --select SIM bug_sim222.py
bug_sim222.py:3:4: SIM222 [*] Use `True` instead of `... or True`
  |
3 | if a == &#x27;bar&#x27; and False:  # NoQA: SIM223
  |    ^^^^^^^^^^^^^^^^^^^^ SIM222
  |
  = help: Replace with `True`

bug_sim222.py:6:4: SIM222 [*] Use `True` instead of `... or True`
  |
6 | if 1 == 2 and False:  # NoQA: SIM223
  |    ^^^^^^^^^^^^^^^^ SIM222
  |
  = help: Replace with `True`

Found 2 errors.
[*] 2 potentially fixable with the --fix option.
(sphinx) PS I:\Development\sphinx&gt; 
</code></pre>
<p>Note that the <code># NoQA: SIM223</code> is intentional, this is from a &#x27;TODO&#x27; part of a method.</p>
<p>In reducing the error case I wondered if the logic required a variable at all, and hence the second reprodcuer -- clearly this is statically false!</p>
<p>I don&#x27;t have a guess as to what is causing this, sorry!</p>
<p>Thanks,
Adam</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-31 16:28</div>
            <div class="timeline-body"><p>Oops!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-31 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-31 16:28</div>
            <div class="timeline-body"><p>\cc @JonathanPlasse - Not that you&#x27;re obligated to fix, but in the event that the fix is obvious to you :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-03-31 17:21</div>
            <div class="timeline-body"><p>Oops! Indeed! :sweat_smile:
I am much obliged to fix this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-31 18:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:35 UTC
    </footer>
</body>
</html>
