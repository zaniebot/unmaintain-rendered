<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>missing-maxsplit-arg (PLC0207) is wrong when accessing on the last value - astral-sh/ruff #18383</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>missing-maxsplit-arg (PLC0207) is wrong when accessing on the last value</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/18383">#18383</a>
        opened by <a href="https://github.com/fedexman">@fedexman</a>
        on 2025-05-30 06:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/fedexman">@fedexman</a> on 2025-05-30 06:49</div>
            <div class="timeline-body"><h3>Summary</h3>
<pre><code>&gt;&gt;&gt; url = &quot;www.example.com&quot;
&gt;&gt;&gt; url.split(&quot;.&quot;, maxsplit=1)[0]
'www'
&gt;&gt;&gt; url.split(&quot;.&quot;, maxsplit=1)[-1]
'example.com'
&gt;&gt;&gt; url.split(&quot;.&quot;)[-1]
'com'
</code></pre>
<p>we can see the the maxsplit change the result when getting the last element, but ruff suggest: PLC0207 Accessing only the first or <strong>last element</strong> of <code>str.split()</code> without setting <code>maxsplit=1</code>
but this rule doesn't make sense for the last element, it should only be suggested for the first element, or I'm missing something ðŸ¤”</p>
<h3>Version</h3>
<p>ruff 0.11.12 (aee3af0f7 2025-05-29)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-30 11:58</div>
            <div class="timeline-body"><p>You have to use <code>rsplit</code> for the fix in that case. We should update the error message and the docs to point this out.</p>
<pre><code class="language-pycon">&gt;&gt;&gt; url = &quot;www.example.com&quot;
&gt;&gt;&gt; url.split(&quot;.&quot;, maxsplit=1)[-1]
'example.com'
&gt;&gt;&gt; url.split(&quot;.&quot;)[-1]
'com'
&gt;&gt;&gt; url.rsplit(&quot;.&quot;, maxsplit=1)[-1]
'com'
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @ntBre on 2025-05-30 11:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @ntBre on 2025-05-30 11:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/18949.html">astral-sh/ruff#18949</a> on 2025-06-26 00:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-07-08 16:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:16 UTC
    </footer>
</body>
</html>
