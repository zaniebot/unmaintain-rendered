<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>noqa: E501 is incorrectly parsed at the end of a docstring - astral-sh/ruff #6610</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>noqa: E501 is incorrectly parsed at the end of a docstring</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6610">#6610</a>
        opened by <a href="https://github.com/mscheltienne">@mscheltienne</a>
        on 2023-08-16 08:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mscheltienne">@mscheltienne</a></div>
            <div class="timeline-body"><p>Hello, our CIs updated to a newer Ruff version and are now failing on an E501 error, marked with <code>noqa: E501</code>.</p>
<pre><code>def foo(...):
    &quot;&quot;&quot;
    super neat docstring with a long line (who does not love URLs)
    more lines
    ...
    &quot;&quot;&quot;  # noqa: E501
    pass
</code></pre>
<p>The command <code>ruff check path/to/the/file.py</code> returns:</p>
<pre><code>warning: Invalid `# noqa` directive on pycrostates/datasets/lemon/lemon.py:68: expected `:` followed by a comma-separated list of codes (e.g., `# noqa: F401, F841`).
pycrostates/datasets/lemon/lemon.py:68:89: E501 Line too long (152 &gt; 88 characters)
Found 1 error.
</code></pre>
<p>So for some reason, it&#x27;s incorrectly parsed.
Version: 0.0.284
<code>pyproject.toml</code>:</p>
<pre><code>[tool.ruff]
line-length = 88
extend-exclude = [
    &quot;doc&quot;,
    &quot;setup.py&quot;,
]

[tool.ruff.per-file-ignores]
&quot;__init__.py&quot; = [&quot;F401&quot;]
</code></pre>
<p>For x-ref to our project issue tracker: <a href="https://github.com/vferat/pycrostates/pull/115">vferat/pycrostates#115</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-08-16 08:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mscheltienne">@mscheltienne</a> on 2023-08-16 09:41</div>
            <div class="timeline-body"><p>Actually my bad, I misread the line number and missed the other badly formatted <code>noqa</code>..</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/mscheltienne">@mscheltienne</a> on 2023-08-16 09:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:40 UTC
    </footer>
</body>
</html>
