<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom auto-imports - astral-sh/ruff #11141</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Custom auto-imports</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11141">#11141</a>
        opened by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a>
        on 2024-04-25 06:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a> on 2024-04-25 06:23</div>
            <div class="timeline-body"><p>I have a handful of imports that are always under the same alias, e.g.:</p>
<pre><code>pn -&gt; import plotnine as pn
pl -&gt; import polars as pl
pd -&gt; import pandas as pd
Iter -&gt; from iterpy import Iter
</code></pre>
<p>I would love if Ruff could detect a missing import and, if it matches any of a set of patterns specified in settings, auto-add the corresponding import.</p>
<p>Is this possible with the current feature set? Or could it be added? Love to hear what you think!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bersbersbers">@bersbersbers</a> on 2024-04-25 07:39</div>
            <div class="timeline-body"><p><code>ruff --show-settings</code> shows me</p>
<pre><code>linter.flake8_import_conventions.aliases = {
        altair = alt,
        holoviews = hv,
        matplotlib = mpl,
        matplotlib.pyplot = plt,
        networkx = nx,
        numpy = np,
        pandas = pd,
        panel = pn,
        plotly.express = px,
        polars = pl,
        pyarrow = pa,
        seaborn = sns,
        tensorflow = tf,
        tkinter = tk,
}
</code></pre>
<p>Does that help?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a> on 2024-04-25 08:02</div>
            <div class="timeline-body"><p>This is pretty nice, thanks! It supports part of, but not all of the workflow. What I would love to be able to do is:</p>
<ol>
<li>Write some code, e.g. <code>pl.DataFrame({&quot;col1&quot;: [1,2,3})</code></li>
<li>Ruff detects a missing import for <code>pl</code>.</li>
<li>Because <code>pl</code> is in the list of &quot;known imports&quot;, it is automatically added to the top of the file as <code>import polars as pl</code></li>
</ol>
<p>VSCode has some of this functionality, but AFAICT, you cannot add your own rules: https://dev.to/krisplatis/auto-add-missing-imports-on-file-save-in-vs-code-1b89</p>
<p>AFAICT, flake8_import_conventions does not automatically add the import.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @AlexWaygood on 2024-04-25 08:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:12 UTC
    </footer>
</body>
</html>
