<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>(游꾸) new rule: `unconditional-break`/`unconditional-continue` within loop - astral-sh/ruff #6587</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>(游꾸) new rule: <code>unconditional-break</code>/<code>unconditional-continue</code> within loop</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6587">#6587</a>
        opened by <a href="https://github.com/KotlinIsland">@KotlinIsland</a>
        on 2023-08-15 04:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/KotlinIsland">@KotlinIsland</a></div>
            <div class="timeline-body"><pre><code class="language-py">for a in [1, 2, 3]:
    print(a)
    break  # error: unconditional-break
</code></pre>
<p>The <code>break</code> here is completely invalid and is most certainly a developer mistake.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "(游꾸) new rule: `unconditional-break` within `for` loop" to "(游꾸) new rule: `unconditional-break` within loop" by @KotlinIsland on 2023-08-15 04:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "(游꾸) new rule: `unconditional-break` within loop" to "(游꾸) new rule: `unconditional-break`/`unconditional-continue` within loop" by @KotlinIsland on 2023-08-15 04:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-08-16 03:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-08-16 03:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-16 03:54</div>
            <div class="timeline-body"><p>It makes sense, though my concern is that the rule may have low precision. It's probably not a very common error, and when it <em>does</em> appear in code, I can see situations in which it may be intentional. For example:</p>
<pre><code class="language-python">for a in some_list():
  use_the_first_element(a)
  break
</code></pre>
<p>I guess you could do this by slicing, or with <code>next</code>, but I'm worried that we'll find other such patterns that won't outweigh the usefulness.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dosisod">@dosisod</a> on 2023-08-17 03:13</div>
            <div class="timeline-body"><p>For reference this is covered by <a href="https://github.com/dosisod/refurb/blob/master/docs/checks.md#furb133-no-redundant-continue"><code>FURB133</code></a> in Refurb (see #1348). <code>FURB133</code> only covers <code>continue</code> though, whereas this would cover <code>break</code> as well. I'd agree that <code>break</code> changes the control flow (and may be intentional), whereas <code>continue</code> is harmless to remove.</p>
<p>I would say that a single <code>continue</code> at the end of a short <code>for</code> loop is not very useful to detect. But, if there is an <code>if</code>/<code>else</code> statement at the end of a <code>for</code> loop, the <code>continue</code> might go unnoticed. The <a href="https://github.com/dosisod/refurb/blob/master/test/data/err_133.py">test data</a> for <code>FURB133</code> gives some examples of <code>continue</code> statements that may go unnoticed.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:47:59 UTC
    </footer>
</body>
</html>
