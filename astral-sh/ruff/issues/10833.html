<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff fails to detect obvious AttributeErrors - astral-sh/ruff #10833</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ruff fails to detect obvious AttributeErrors</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10833">#10833</a>
        opened by <a href="https://github.com/edreamleo">@edreamleo</a>
        on 2024-04-08 09:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/edreamleo">@edreamleo</a> on 2024-04-08 09:09</div>
            <div class="timeline-body"><p>Consider the following file, say <code>test.py</code>:</p>
<pre><code class="language-python">class Test:
    __slots__ = ('good',)

def main():
    t = Test()
    print(t.bad)  # Obvious AttributeError
        
main()
</code></pre>
<p>Running <code>python -m ruff check test.py</code> fails to detect any error, with or without the <code>__slots__</code> statement.</p>
<p>~~Pylint used to detect such errors, at least in some cases, but no longer does.~~
Correction: pylint issues a<code>no-member</code> warning as expected.</p>
<p>Are there any plans to add such checks to Ruff?</p>
<p><strong>Context</strong></p>
<pre><code class="language-console">Python 3.12.0, PyQt version 6.6.3
Windows 11 AMD64 (build 10.0.22631) SP0
&gt;ruff --version
ruff 0.3.5
</code></pre>
<p><strong>pyproject.toml</strong></p>
<pre><code class="language-toml">[tool.ruff]
line-length = 120
</code></pre>
<p><strong>ruff.toml</strong></p>
<pre><code class="language-toml">[lint]
ignore = [
    &quot;E402&quot;, # Module level import not at top of file
    &quot;E701&quot;, # Multiple statements on one line (colon)
    &quot;E702&quot;, # Multiple statements on one line (semicolon)
    &quot;E711&quot;, # Comparison to `None` should be `cond is None`
    &quot;E731&quot;, # Do not assign a `lambda` expression, use a `def`
    &quot;E741&quot;, # Ambiguous variable name: `l`. Bad style, but only occurs in minor plugins.

    &quot;F401&quot;, # `xxx` imported but unused. Pyflakes checks this.
    &quot;F841&quot;, # Local variable `xxx` is assigned to but never used. Pyflakes checks this.
]

exclude = [
    # Exclude entire folders...
    &quot;leo/external/*.py&quot;,
    &quot;leo/external/npyscreen/*.py&quot;,
    &quot;leo/external/npyscreen/compatibility_code/*.py&quot;,
    &quot;leo/plugins/obsolete/*.py&quot;,
    &quot;leo/plugins/leo_babel/babel*.py&quot;,
    &quot;leo/plugins/leo_babel/tests/*.py&quot;,
    &quot;leo/scripts/*.py&quot;,
    # Exclude unusual plugins.
    &quot;leo/doc/sphinx-docs/conf.py&quot;,
    &quot;leo/plugins/md_docer.py&quot;,
    &quot;leo/plugins/qt_main.py&quot;,  # Generated automatically.
    &quot;leo/plugins/test/failed_import.py&quot;,  # Contains unused import of 'xyzzy'.
    &quot;leo/plugins/pygeotag/pygeotag.py&quot;,  # Contains strange errors.
    &quot;leo/test/scriptFile.py&quot;,  # Generated by *user* scripts.
    &quot;leo/unittests/py3_test_grammar.py&quot;,  # Contains many errors on purpose.
]
</code></pre>
<p>Edward</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by @MichaReiser on 2024-04-08 09:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-08 09:18</div>
            <div class="timeline-body"><p>Thanks for the detailed write up.</p>
<p>Yes, we do have plans to add checks like this in the future when we work on adding more static analysis (type checking like) capabilities to Ruff. This should unlock a whole new set of rules that Ruff can support :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/edreamleo">@edreamleo</a> on 2024-04-08 09:32</div>
            <div class="timeline-body"><p>@MichaReiser</p>
<blockquote>
<p>Thanks for the detailed write up.</p>
</blockquote>
<p>You're welcome! Thanks for your quick response.</p>
<blockquote>
<p>Yes, we do have plans to add checks like this in the future when we work on adding more static analysis (type checking like) capabilities to Ruff. This should unlock a whole new set of rules that Ruff can support :)</p>
</blockquote>
<p>“O frabjous day! Callooh! Callay!” He chortled in his joy.</p>
<p>Edward</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/albertosottile">@albertosottile</a> on 2025-07-17 10:47</div>
            <div class="timeline-body"><p>Any news on this? Is it still the case that Ruff misses all these errors? I had an example today, I am just trying to understand if I was unlucky or this is still a systematic issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-17 13:43</div>
            <div class="timeline-body"><p>Yes, it looks like <a href="https://play.ruff.rs/07024191-4aa2-46ea-b0b8-398bf8622972">ruff</a> does still miss these, but our upcoming type checker <a href="https://play.ty.dev/dba6bc54-434b-403f-9c08-65d22e937dbe">ty</a> catches it!</p>
<p>It will still be a while before we can use ty's capabilities in Ruff, though.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:33:26 UTC
    </footer>
</body>
</html>
