<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>option to format other filetypes (eg. `toml`, `yaml`, `json`, `md`, etc.) - astral-sh/ruff #10738</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>option to format other filetypes (eg. `toml`, `yaml`, `json`, `md`, etc.)</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/10738">#10738</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2024-04-02 13:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DetachHead">@DetachHead</a> on 2024-04-02 13:31</div>
            <div class="timeline-body"><p>it would be nice if ruff could format <code>toml</code>, <code>yaml</code> and <code>md</code> files.</p>
<p>i get that this may be considered out of scope for ruff, however in the nodejs ecosystem, the prettier formatter works on these filetypes in addition to js &amp; ts files, which is useful because most projects contain files written in those languages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KotlinIsland">@KotlinIsland</a> on 2024-04-02 13:33</div>
            <div class="timeline-body"><p>you can use <a href="https://dprint.dev/">dprint</a> with dprint-py: https://pypi.org/project/dprint-py/ ðŸš€ðŸš€ðŸš€</p>
<p>also, <a href="https://github.com/j178/prek">prek ðŸš€</a> and <a href="https://github.com/evilmartians/lefthook">lefthook</a> are really powerful next generation git-hook managers</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-02 13:36</div>
            <div class="timeline-body"><p>This is related to https://github.com/astral-sh/ruff/issues/9244</p>
<p>Yeah, that's something I want to do eventually and we have the infrastructure for it (<code>ruff_formatter</code> is entirely language agnostic). But there are some things we have to figure out (what parsers to use or implement our own? How to integrate it into existing commands) and implementing additional language is a large commitment</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2024-04-02 13:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @MichaReiser on 2024-04-02 13:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KotlinIsland">@KotlinIsland</a> on 2024-04-02 22:49</div>
            <div class="timeline-body"><p>I'm serious about <a href="https://dprint.dev/">dprint</a>, I would imagine it would be a massive amount of work, when dprint is doing exactly what you are setting out to achieve.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-03 06:14</div>
            <div class="timeline-body"><p>Integrating dprint as an optional formatter (that we call into when the project has installed it) is an option. But I'm unsure if that's the experience users seek. We need to do some designing around this and decide if we want to build out support for new languages ourselves or delegate to other formatters (even Prettier)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KotlinIsland">@KotlinIsland</a> on 2024-05-29 00:26</div>
            <div class="timeline-body"><p>Ruffs formatter is already integrated into dprint https://github.com/dprint/dprint-plugin-ruff ðŸš€</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DetachHead">@DetachHead</a> on 2024-05-29 01:03</div>
            <div class="timeline-body"><p>dprint also doesn't have a yaml formatter</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-05-29 01:40</div>
            <div class="timeline-body"><blockquote>
<p>dprint also doesn't have a yaml formatter</p>
</blockquote>
<p>I mean <em>technically</em> it has prettier as a process plugin. Which you can configure to run only on yaml.
As much as I dislike prettier for JS/TS, it does just fine for markup/static languages.</p>
<p>Edit: dprint now has a plugin that wraps Pretty YAML: https://dprint.dev/plugins/pretty_yaml/</p>
<p>There's also pre-commit's https://github.com/macisamuele/language-formatters-pre-commit-hooks which satisfies all my toml, yaml, ini, json (haven't tried the others) needs.</p>
<p>dprint also still doesn't work through pre-commit's free version if you have an online shared config.</p>
<p>Not saying this to discourage the OP's request. I too would like if Ruff handled common python config format (.ini for historical reasons for a bunch of tools, and toml). Just offering some options in the short term.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../networkx/nx-parallel/issues/73.html">networkx/nx-parallel#73</a> on 2024-08-05 17:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15152.html">astral-sh/ruff#15152</a> on 2024-12-27 06:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inoa-jboliveira">@inoa-jboliveira</a> on 2024-12-27 17:27</div>
            <div class="timeline-body"><p>Again I failed my github search and here I am with a duplicate.</p>
<p>Addressing the post 1st comment, toml file for me is almost nobrainer. It is essential part of python ecosystem including heavy usage in uv and ruff as configuration. For the other you have many different tools in pre-commit, prettier and so on. Also JSON is such an universal format that you can build your formatter in a couple minutes or ask chatgpt for one.</p>
<p>I would pick a format for toml file that is really just a cleanup with not many opinions (remove blank lines, extra or missing spaces, lines too long). For example it should not try to convert an object into a block or vice versa. Nor it should try to reorganize blocks or sort arrays.</p>
<p>If any of those features ever become needed they should be their own separated issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KotlinIsland">@KotlinIsland</a> on 2024-12-28 09:08</div>
            <div class="timeline-body"><blockquote>
<p>I mean <em>technically</em> it has prettier as a process plugin</p>
</blockquote>
<p>they have a yaml plugin now ðŸš€
https://dprint.dev/plugins/pretty_yaml/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-12-28 17:48</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>I mean <em>technically</em> it has prettier as a process plugin</p>
</blockquote>
<p>they have a yaml plugin now ðŸš€ <a href="https://dprint.dev/plugins/pretty_yaml/">dprint.dev/plugins/pretty_yaml</a></p>
</blockquote>
<p>You beat me to it updating my message ðŸ˜„  (I've updated it anyway). We're using that plugin at work now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ashrub-holvi">@ashrub-holvi</a> on 2025-10-21 07:39</div>
            <div class="timeline-body"><p>Yep, looks like dprint is a nice tool, but all pre-commit options are not well supported, see https://github.com/dprint/dprint/issues/442, perhaps https://github.com/dprint/dprint/issues/442#issuecomment-3166402560 is supported</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DetachHead">@DetachHead</a> on 2025-10-21 08:51</div>
            <div class="timeline-body"><p>imo this feature is no longer necessary now that <a href="https://pypi.org/project/dprint-py/">dprint can now be installed via pypi</a>, making it a viable solution for python projects.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-21 08:55</div>
            <div class="timeline-body"><p><a href="https://github.com/prettier/prettier/blob/main/src/language-yaml/index.js">Prettier's yaml implementation</a> doesn't look too complicated and should be relatively straightforward to port, given that we use a very similar formatter infrastructure.</p>
<p>The main open questions are:</p>
<ul>
<li>What Yaml parser to use (and how much this impacts ruff's binary size)</li>
<li>How to configure yaml support</li>
<li>How to make the formatter pick up yaml files in addition to python files</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ashrub-holvi">@ashrub-holvi</a> on 2025-10-21 09:11</div>
            <div class="timeline-body"><p>For YAML author of pre-commit <a href="https://github.com/pre-commit/pre-commit-hooks/issues/640#issuecomment-897201069">saying</a> it's not that actually easy to do it properly</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KotlinIsland">@KotlinIsland</a> on 2025-10-21 09:20</div>
            <div class="timeline-body"><blockquote>
<p>For YAML author of pre-commit <a href="https://github.com/pre-commit/pre-commit-hooks/issues/640#issuecomment-897201069">saying</a> it's not that actually easy to do it properly</p>
</blockquote>
<p>dprint has yaml support https://dprint.dev/plugins/pretty_yaml/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10227.html">astral-sh/ruff#10227</a> on 2025-10-21 12:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
