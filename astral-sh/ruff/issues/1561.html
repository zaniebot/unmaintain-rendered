<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>False-positive D214/405/410/411 - astral-sh/ruff #1561</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>False-positive D214/405/410/411</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1561">#1561</a>
        opened by <a href="https://github.com/twoertwein">@twoertwein</a>
        on 2023-01-02 20:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/twoertwein">@twoertwein</a> on 2023-01-02 20:03</div>
            <div class="timeline-body"><pre><code class="language-py">from typing import Any

def get_object(parent: object, attributes: list[str]) -&gt; Any:
    &quot;&quot;&quot;Traverse an object to get a nested attribute.

    Args:
        parent:
            Object to be traversed.
        attributes:
            Names of attributes.

    Returns:
        The nested object.
    &quot;&quot;&quot;
    ...
</code></pre>
<p>Ruff reports the following for the above code (<code>convention = &quot;google&quot;</code> in pyproject.toml):</p>
<blockquote>
<p>test.py:5:5: D410 Missing blank line after section (&quot;Args&quot;)
test.py:5:5: D405 Section name should be properly capitalized (&quot;attributes&quot;)
test.py:5:5: D214 Section is over-indented (&quot;attributes&quot;)
test.py:5:5: D411 Missing blank line before section (&quot;attributes&quot;)</p>
</blockquote>
<p>and transforms it to</p>
<pre><code class="language-py">from typing import Any

def get_object(parent: object, attributes: list[str]) -&gt; Any:
    &quot;&quot;&quot;Traverse an object to get a nested attribute.

    Args:
        parent:
            Object to be traversed.

    Attributes:
            Names of attributes.

    Returns:
        The nested object.
    &quot;&quot;&quot;
    ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-02 21:01</div>
            <div class="timeline-body"><p>Hah yeah that’s tough to fix in the general case. It’s hard to know that attributes is an actual parameter there and not an Attributed section (which is a valid Google docstring section) with improper spacing.</p>
<p>I think it would fix if you did “attributes (list[str]): …” as a workaround?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by @charliermarsh on 2023-01-02 21:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-02 21:26</div>
            <div class="timeline-body"><p>Either of these will work:</p>
<pre><code class="language-py">def get_object(parent: object, attributes: list[str]) -&gt; Any:
    &quot;&quot;&quot;Traverse an object to get a nested attribute.

    Args:
        parent: Object to be traversed.
        attributes: Names of attributes.

    Returns:
        The nested object.
    &quot;&quot;&quot;
    ...
</code></pre>
<p>Or:</p>
<pre><code class="language-py">def get_object(parent: object, attributes: list[str]) -&gt; Any:
    &quot;&quot;&quot;Traverse an object to get a nested attribute.

    Args:
        parent (object):
            Object to be traversed.
        attributes (list[str]):
            Names of attributes.

    Returns:
        The nested object.
    &quot;&quot;&quot;
    ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-02 21:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:04 UTC
    </footer>
</body>
</html>
