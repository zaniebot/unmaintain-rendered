```yaml
number: 20282
title: "`unreliable-callable-check` (B004) should be marked unsafe"
type: issue
state: closed
author: dscorbett
labels:
  - fixes
assignees: []
created_at: 2025-09-06T22:30:43Z
updated_at: 2025-09-12T19:27:19Z
url: https://github.com/astral-sh/ruff/issues/20282
synced_at: 2026-01-10T01:56:57Z
```

# `unreliable-callable-check` (B004) should be marked unsafe

---

_Issue opened by @dscorbett on 2025-09-06 22:30_

### Summary

The fix for [`unreliable-callable-check` (B004)](https://docs.astral.sh/ruff/rules/unreliable-callable-check/) should be marked unsafe because the replacement is not exactly equivalent to the original expression. (If they were equivalent, `callable` wouldnâ€™t have been reintroduced in Python 3.2.) [Example](https://play.ruff.rs/5ff82084-76d5-45ac-a269-dd0ed920e885):
```console
$ cat >b004.py <<'# EOF'
import operator
print(hasattr(operator, "__call__"))

class C:
    def __init__(self): self.__call__ = None
print(hasattr(C(), "__call__"))
# EOF

$ python b004.py
True
True

$ ruff --isolated check b004.py --select B004 --fix
Found 2 errors (2 fixed, 0 remaining).

$ python b004.py
False
False
```

### Version

ruff 0.12.12 (c6516e9b6 2025-09-04)

---

_Label `fixes` added by @ntBre on 2025-09-08 13:56_

---

_Referenced in [astral-sh/ruff#20318](../../astral-sh/ruff/pulls/20318.md) on 2025-09-09 16:30_

---

_Closed by @ntBre on 2025-09-12 19:27_

---
