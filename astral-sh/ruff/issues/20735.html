<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[feature request] external dependencies in `ruff analyze graph`? - astral-sh/ruff #20735</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[feature request] external dependencies in <code>ruff analyze graph</code>?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/20735">#20735</a>
        opened by <a href="https://github.com/gwdekker">@gwdekker</a>
        on 2025-10-07 06:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gwdekker">@gwdekker</a></div>
            <div class="timeline-body"><p><code>ruff analyze graph</code> is amazing! What do you guys think about adding external dependencies as well? I found some prior art here: https://grimp.readthedocs.io/en/stable/usage.html, and I am pretty sure I saw the maintainer of that package (@seddonym) here on the issue tracker as well - so there might be some good collaboration opportunity here. Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-07 09:43</div>
            <div class="timeline-body"><p>This should already be supported. But you have to tell ruff where to find the venv by using <code>--python</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-07 09:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">analyze</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-07 09:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gwdekker">@gwdekker</a> on 2025-10-07 10:46</div>
            <div class="timeline-body"><p>A thanks! So <code>ruff analyze graph --python .venv/bin/python</code> seems indeed to do the trick.</p>
<p>I would argue that it is not very obvious from a user perspective that this is a possibility - and to me it feels a bit odd for an astral tool to need to get so explicit about the location of a virtualenv, normally you guys are doing a great job letting people forget about the existence of virtual envs to start with. So maybe this could be improved from that perspective. But it is awesome that the underlying functionality is there and available, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-07 11:35</div>
            <div class="timeline-body"><blockquote>
<p>I would argue that it is not very obvious from a user perspective that this is a possibility - and to me it feels a bit odd for an astral tool to need to get so explicit about the location of a virtualenv, normally you guys are doing a great job letting people forget about the existence of virtual envs to start with</p>
</blockquote>
<p>We cold to port some of the detection logic over from ty.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-07 11:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:29 UTC
    </footer>
</body>
</html>
