<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLE0237 false positive for slots literal concatenation  - astral-sh/ruff #11333</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PLE0237 false positive for slots literal concatenation</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11333">#11333</a>
        opened by <a href="https://github.com/airallergy">@airallergy</a>
        on 2024-05-08 09:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/airallergy">@airallergy</a></div>
            <div class="timeline-body"><p>I have a class, whose slots are formed by concatenating other literal tuples via RUF005 style. Below <code>B</code> is reported to violate PLE0237, which is a false positive, I also tried a few variants of <code>B</code>:</p>
<ul>
<li><code>C</code>: If <code>B</code> is a subclass of any other class, PLE0237 seems to work fine</li>
<li><code>D</code>: If <code>B</code> slots has no other literal items, PLE0237 seems to work fine</li>
<li><code>E</code>: If <code>B</code> slots uses tuple concatenation, which violates RUF005, but PLE0237 seems to work fine</li>
</ul>
<pre><code>class A:
    pass


class B:
    names = (&quot;x&quot;,)
    __slots__ = (*names, &quot;a&quot;)

    def __init__(self) -&gt; None:
        self.x = 1  # PLE0237: Attribute `x` is not defined in class&#x27;s `__slots__`


class C(A):
    names = (&quot;x&quot;,)
    __slots__ = (*names, &quot;a&quot;)

    def __init__(self) -&gt; None:
        self.x = 1


class D:
    names = (&quot;x&quot;,)
    __slots__ = (*names,)

    def __init__(self) -&gt; None:
        self.x = 1


class E:
    names = (&quot;x&quot;,)
    __slots__ = names + (&quot;a&quot;,)  # RUF005: Consider `(*names, &quot;a&quot;)` instead of concatenation

    def __init__(self) -&gt; None:
        self.x = 1
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-09 11:30</div>
            <div class="timeline-body"><p>Thank you for opening this issue! I think we should ignore raising <code>PLE0237</code> if <code>__slots__</code> contain an unpacked argument.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-09 11:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-22 04:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-22 04:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:53 UTC
    </footer>
</body>
</html>
