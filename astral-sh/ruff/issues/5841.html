<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement flake8-import-restrictions - astral-sh/ruff #5841</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement flake8-import-restrictions</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5841">#5841</a>
        opened by <a href="https://github.com/justinchuby">@justinchuby</a>
        on 2023-07-17 21:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/justinchuby">@justinchuby</a></div>
            <div class="timeline-body"><p>When following the Google style guide and to avoid cyclic imports, we would really like to see the rule from https://github.com/atollk/flake8-import-restrictions#imr241</p>
<p>(import modules only and not the functions and classes from the modules)</p>
<blockquote>
<p>IMR241
When using the from syntax, only submodules are imported, not module elements.</p>
</blockquote>
<pre><code># Bad
from os.path import join

# Good
from os import path
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/justinchuby">@justinchuby</a> on 2023-07-17 21:04</div>
            <div class="timeline-body"><p>So itâ€™s a duplicate of <a href="https://github.com/astral-sh/ruff/issues/3045">astral-sh/ruff#3045</a>, but I found flake8-import-restrictions which has a good collection of related rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a> on 2023-07-17 21:47</div>
            <div class="timeline-body"><p>It&#x27;s not exactly equivalent, but the <a href="https://beta.ruff.rs/docs/settings/#flake8-import-conventions-banned-from"><code>banned-from</code></a> setting can get a similar violation with this config:</p>
<pre><code># ruff.toml
[flake8-import-conventions]
banned-from = [&quot;os.path&quot;]
</code></pre>
<pre><code>$ ruff check --select ICN myfile.py
myfile.py:2:1: ICN003 Members of `os.path` should not be imported explicitly
Found 1 error.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/justinchuby">@justinchuby</a> on 2023-07-17 21:49</div>
            <div class="timeline-body"><p>True but it is impossible to configure the list for all possible packages. It would be good to recognize an imported entity not being a module and error on that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-19 01:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-19 01:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-19 01:21</div>
            <div class="timeline-body"><p>We would need to integrate our Python module resolver to support this (doable).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/QuentinSoubeyranAqemia">@QuentinSoubeyranAqemia</a> on 2023-12-11 13:37</div>
            <div class="timeline-body"><p>I would also be interested in a rule to disallow importing members, and only allow importing module (or packages, but they are module too technically speaking), per the Google Code Style.
Having a config option for exceptions (like the <code>typing</code>, <code>typing_extensions</code> and <code>collections.abc</code> defined in the google style guide) would be most useful too.</p>
<p>I&#x27;m curious what is this &quot;Python module resolver&quot;? Is this an upcoming feature? Some internal that would need to be exposed to rules? Something devs are thinking of doing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Greesb">@Greesb</a> on 2025-05-28 13:04</div>
            <div class="timeline-body"><p>Any news on this feature ?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:39 UTC
    </footer>
</body>
</html>
