```yaml
number: 4477
title: False positive for F823 undefined-local when redefining builtin with partial
type: issue
state: closed
author: Hnasar
labels: []
assignees: []
created_at: 2023-05-17T19:57:15Z
updated_at: 2023-05-17T20:01:56Z
url: https://github.com/astral-sh/ruff/issues/4477
synced_at: 2026-01-10T01:56:47Z
```

# False positive for F823 undefined-local when redefining builtin with partial

---

_Issue opened by @Hnasar on 2023-05-17 19:57_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

_Edit: Nevermind, not actually an issue with ruff, sorry for the noise https://stackoverflow.com/questions/41029289/using-builtin-name-as-local-variable-but-also-as-builtin_

------ 

~Using ruff 0.0.267 If you have a function which redefines a builtin, then there's a false positive error for undefined-local~

Repro:
```py
# foo.py
import functools,sys

def main():
    print = functools.partial(print, file=sys.stderr)
    print(3)

main()
```

```
ruff --select=F foo.py 
foo.py:4:31: F823 Local variable `print` referenced before assignment
```

---

_Closed by @Hnasar on 2023-05-17 19:58_

---
