<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Linter panic] Panic when trying to fix code with arabic letters - astral-sh/ruff #3716</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>[Linter panic] Panic when trying to fix code with arabic letters</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/3716">#3716</a>
        opened by <a href="https://github.com/qarmin">@qarmin</a>
        on 2023-03-24 18:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/qarmin">@qarmin</a> on 2023-03-24 18:33</div>
            <div class="timeline-body"><p>Ruff  1bac206995043d7d533338b7f8b7db37f37bf43b</p>
<pre><code>ruff . --fix
</code></pre>
<p>File content</p>
<pre><code>sentences = [
    &quot;ಆಪಲ್ ಒಂದು ಯು.ಕೆ. ಸ್ಟಾರ್ಟ್ಅಪ್ ಅನ್ನು ೧ ಶತಕೋಟಿ ಡಾಲರ್ಗಳಿಗೆ ಖರೀದಿಸಲು ನೋಡುತ್ತಿದೆ.&quot;,
    &quot;ಸ್ವಾಯತ್ತ ಕಾರುಗಳು ವಿಾ ಹೊಣೆಗಾರಿಕೆಯನ್ನು ತಯಾರರ ಕಡೆಗೆ ಬದಲಾಯಿಸುತ್ತವೆ.&quot;,
    &quot;ಕಾಲುದಾರಿ ವಿತರಣಾ ರೋಬೋಟ್‌ಗಳನ್ನು ನಿಷೇಧಿುವುದನ್ನು ಸ್ಯಾನ್ ಫ್ರಾನ್ಸಿಸ್ಕೊ ​​ಪರಿಗಣಿಸುತ್ತದೆ.&quot;,
    &quot;ಲಂಡನ್ ಯುನೈಟೆಡ್ ಕಿಂಗ್‌ಡಂನ ದೊಡ್ಡ ನಗರ.&quot;,    &quot;ನೀನು ಎಲ್ಲಿದಿಯಾ?&quot;,
    &quot;ಫ್ರಾನ್ಸಾದ ಅಧ್ಯಕ್ಷರು ಯಾರು?&quot;,
    &quot;ಯುನೈಟೆಡ್ ಸ್ಟೇಟ್ಸ್ನ ರಾಜಧಾನಿ ಯಾವುದು?&quot;,
]
</code></pre>
<p>crash</p>
<pre><code>panicked at 'begin &lt;= end (876 &lt;= 651) when slicing `sentences = [
    &quot;ಆಪಲ್ ಒಂದು ಯು.ಕೆ. ಸ್ಟಾರ್ಟ್ಅಪ್ ಅನ್ನು ೧ ಶತಕೋಟಿ ಡಾಲರ್ಗಳಿಗೆ ಖರೀದಿಸಲು ನೋಡುತ್ತಿದೆ.&quot;,
    &quot;ಸ್ವಾಯತ್ತ ಕ`[...]', /home/rafal/test/ruff/crates/ruff_python_ast/src/source_code/locator.rs:45:10
Backtrace:    0: ruff_cli::panic::catch_unwind::{{closure}}
   1: &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::Fn&lt;Args&gt;&gt;::call
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/alloc/src/boxed.rs:2032:9
   2: std::panicking::rust_panic_with_hook
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:692:13
   3: std::panicking::begin_panic_handler::{{closure}}
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:579:13
   4: std::sys_common::backtrace::__rust_end_short_backtrace
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys_common/backtrace.rs:137:18
   5: rust_begin_unwind
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:575:5
   6: core::panicking::panic_fmt
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/core/src/panicking.rs:64:14
   7: core::str::slice_error_fail_rt
   8: core::str::slice_error_fail
             at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/core/src/str/mod.rs:86:9
   9: ruff_python_ast::source_code::locator::Locator::slice
  10: ruff::linter::lint_fix
  11: ruff_cli::diagnostics::lint_path
  12: rayon::iter::plumbing::bridge_producer_consumer::helper
  13: ruff_cli::commands::run::run
  14: ruff_cli::check
  15: ruff_cli::run
  16: ruff::main
  17: std::sys_common::backtrace::__rust_begin_short_backtrace
  18: main
  19: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  20: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:381:3
  21: _start

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-03-24 20:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3898.html">astral-sh/ruff#3898</a> on 2023-04-06 10:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-04-06 17:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
