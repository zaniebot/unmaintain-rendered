<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report unused private functions and variables - astral-sh/ruff #17208</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Report unused private functions and variables</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17208">#17208</a>
        opened by <a href="https://github.com/sk-">@sk-</a>
        on 2025-04-04 16:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sk-">@sk-</a></div>
            <div class="timeline-body">Summary
<p>Pylance has a nice feature in which unused private functions and variables are reported as unused.</p>
<p>For example the following code triggers two issues reported by Pylance:</p>
<ul>
<li>&quot;_UNUSED_CONSTANT&quot; is not accessed</li>
<li>&quot;_unused_function&quot; is not accessed</li>
</ul>
<pre><code>_UNUSED_CONSTANT = 3


def _unused_function() -&gt; None:
    pass
</code></pre>
<p>However, ruff does not flag any of the code (except for missing docs) even when running all the checks</p>
<pre><code>uv run ruff check --select ALL test_unused.py
test_unused.py:1:1: D100 Missing docstring in public module
test_unused.py:1:1: CPY001 Missing copyright notice at top of file
Found 2 errors.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-04 17:41</div>
            <div class="timeline-body"><p>This does sound like a nice feature, but I think it&#x27;s a duplicate of #872 and needs type inference.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-04 17:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sk-">@sk-</a> on 2025-04-04 18:55</div>
            <div class="timeline-body"><p>@ntBre note that this is a smaller feature than what is requested in #872, as it focuses only on private symbols which should only be used within the defining file.</p>
<p>So in order to implement this feature there is no need to implement multi file analysis (<a href="https://github.com/astral-sh/ruff/issues/872">astral-sh/ruff#872</a>#issuecomment-1955919200)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:47 UTC
    </footer>
</body>
</html>
