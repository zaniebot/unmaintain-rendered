<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Break long property chains - astral-sh/ruff #9999</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Break long property chains</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/9999">#9999</a>
        opened by <a href="https://github.com/winged">@winged</a>
        on 2024-02-15 13:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/winged">@winged</a> on 2024-02-15 13:00</div>
            <div class="timeline-body"><p>Given a code line like the following, Ruff and Black both don't break the line, even it would be possible (and make it more readable IMHO). Black kinda tries to shorten the line a bit, but it would still be too long for the given limit.</p>
<p>This happens for example when extracting data from deeply object data structure.</p>
<pre><code class="language-python"># Input:
foo = self.some_very.nested.data.which.is_really.really.deep_into_a_data_structure.far.beyond.line_length_limit

# Black 23.12.1:
foo = (
    self.some_very.nested.data.which.is_really.really.deep_into_a_data_structure.far.beyond.line_length_limit
)

# Ruff 0.2.1
foo = self.some_very.nested.data.which.is_really.really.deep_into_a_data_structure.far.beyond.line_length_limit
</code></pre>
<p>What I would like to see is breaking the property chain into multiple lines, something like this:</p>
<pre><code class="language-python"># Desired output:
foo = (
    self
    .some_very
    .nested
    .data
    .which
    .is_really
    .really
    .deep_into_a_data_structure
    .far
    .beyond
    .line_length_limit
)

# Alternative desired output (less readable, but also less wasted lines)
foo = (
    self.some_very.nested.data.which.is_really.really
    .deep_into_a_data_structure.far.beyond
    .line_length_limit
)
</code></pre>
<p>Note: This is closely related to #8598, thanks to <a href="https://discord.com/channels/1039017663004942429/1207664692885983242/1207666684324880464">Micha in Discord</a> for the pointer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @dhruvmanila on 2024-02-16 07:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">style</span> added by @dhruvmanila on 2024-02-16 07:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-02-16 07:23</div>
            <div class="timeline-body"><p>I like this and I'd prefer to break them all into individual lines like in your desired output.</p>
<p>There's the question of indentation as well. Is the following better?</p>
<pre><code class="language-python">foo = (
    self
	    .some_very
	    .nested
	    .data
	    .which
	    .is_really
	    .really
	    .deep_into_a_data_structure
	    .far
	    .beyond
	    .line_length_limit
)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-02-17 19:22</div>
            <div class="timeline-body"><p>Thanks for opening this issue. We'll need to look at this holistically to ensure the formatting is consistent. E.g. how should attributes be broken in binary expressions? Should this style only apply in assignment positions or also in clause headers?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
