<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E501 (line-too-long) auto-fixing - astral-sh/ruff #19346</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>E501 (line-too-long) auto-fixing</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/19346">#19346</a>
        opened by <a href="https://github.com/pwithams">@pwithams</a>
        on 2025-07-15 06:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pwithams">@pwithams</a> on 2025-07-15 06:49</div>
            <div class="timeline-body"><h3>Question</h3>
<p>I know auto-fixing E501 (line-too-long) (https://github.com/astral-sh/ruff/issues/7414) is tricky for many reasons, such as:</p>
<ul>
<li>comments may include machine-parsable content</li>
<li>some multi-line or doc strings may be sensitive to newlines</li>
</ul>
<p>I recently had to tidy a large codebase and found many E501 follow simple pattern fixes, such as &quot;go to line length, go back to break char, newline&quot;, etc.</p>
<p>Is there any appetite for a PR to include some basic unsafe fixing logic for E501? I created a poc and found that most are fairly simple to fix with line-based pattern matching and even just fixing a few cases could be useful. One or two more complex cases seemed more appropriate for token-based parsing which could be out of scope, though I saw somewhere talk of making E501 token aware.</p>
<p>The biggest downside seems to be the risk changing program logic, but the <code>--unsafe-fixes</code> option seems to be a good way to opt into this and accept some risk.</p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @pwithams on 2025-07-15 06:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-15 07:10</div>
            <div class="timeline-body"><p>Hi</p>
<p>You can use <code>ruff format</code> which fixes the majority of <code>line-too-long</code> violations. Implementing an auto fix for E501 would have to do very similar work (besides that it would need to be rewritten to work at a logical line level when performing fixes) to the formatter and we don't want to maintain the same logic twice.</p>
<p>That's why we don't plan on adding or supporting an autofix for E501. But thanks for expressing interested in contributing such a fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-07-15 07:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/omarkb93">@omarkb93</a> on 2025-09-20 20:37</div>
            <div class="timeline-body"><p>I understand the rationale given here, but there's no &quot;unsafe-fixes&quot; for the format version either, right? It still seems like there's a place for this or something similar. I have a large repo where my team is considering changing our line length requirement from 120 characters to 100 characters and it results in over 2000 E501 errors. Some basic unsafe fixes to automate the majority of this would be very welcome.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
