<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should `__main__.py` really be considered a public module? - astral-sh/ruff #4489</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Should `__main__.py` really be considered a public module?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/4489">#4489</a>
        opened by <a href="https://github.com/CobaltCause">@CobaltCause</a>
        on 2023-05-18 05:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/CobaltCause">@CobaltCause</a> on 2023-05-18 05:36</div>
            <div class="timeline-body"><p>Reading <a href="https://docs.python.org/3/library/__main__.html#main-py-in-python-packages">this</a>, I wouldn't think so; it seems to imply that nothing should be defined in that file and then imported elsewhere. Yet, <code>ruff</code> will give me such errors as <code>D100 Missing docstring in public module</code> in <code>__main__.py</code>, which I found surprising. I'm not entirely certain which behavior is correct, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-05-18 14:42</div>
            <div class="timeline-body"><p>According to <code>pydocstyle</code> <a href="https://github.com/PyCQA/pydocstyle/blob/07f6707e2c5612960347f7c00125620457f490a7/src/pydocstyle/parser.py#L157-L185">implementation</a>, <code>__main__.py</code> is public.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CobaltCause">@CobaltCause</a> on 2023-05-18 14:49</div>
            <div class="timeline-body"><p>Looking at <code>git blame</code>, that code hasn't been touched since 2020-09-05. Clicking through the version history on the page I linked in the issue description, <code>__main__.py</code> was added in Python 3.10 which was released on 2021-10-04. So I think <code>pydocstyle</code> simply doesn't account for this, since that code was written before this feature existed. Maybe I should open an issue over there as well?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-18 14:59</div>
            <div class="timeline-body"><p>I think it's worth asking over there, even just to get an opinion (regardless of whether it's changed in <code>pydocstyle</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-05-18 14:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by @charliermarsh on 2023-05-18 14:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CobaltCause">@CobaltCause</a> on 2023-05-18 17:02</div>
            <div class="timeline-body"><p>I've opened https://github.com/PyCQA/pydocstyle/issues/644</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-18 17:02</div>
            <div class="timeline-body"><p>Thanks :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @charliermarsh on 2023-07-10 01:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-10 01:13</div>
            <div class="timeline-body"><p>I'm gonna close for now to keep the issue tracker actionable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-07-10 01:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CobaltCause">@CobaltCause</a> on 2024-01-18 01:24</div>
            <div class="timeline-body"><p>Looks like pydocstyle was deprecated in favor of ruff somewhat recently</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:09 UTC
    </footer>
</body>
</html>
