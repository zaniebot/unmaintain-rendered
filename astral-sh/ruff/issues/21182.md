```yaml
number: 21182
title: "`import-not-from-defining-module`"
type: issue
state: closed
author: K4liber
labels: []
assignees: []
created_at: 2025-11-01T12:51:44Z
updated_at: 2025-11-03T18:36:03Z
url: https://github.com/astral-sh/ruff/issues/21182
synced_at: 2026-01-10T01:56:57Z
```

# `import-not-from-defining-module`

---

_Issue opened by @K4liber on 2025-11-01 12:51_

### Summary

Maybe such a rule already exists, but I didnt find it. If not, please let me know what do you think about the following case.

We have a module `pkg_a/module_a.py`:
```
class ClassA:
    pass
```
and a module `pkg_b/module_b.py`:
```
from pkg_a.module_a import ClassA


class ClassB:
    def compare(self, other: ClassA) -> bool:
        return str(self) == str(other)
```
In the main script we have:
```
from pkg_b.module_b import ClassA
from pkg_b.module_b import ClassB

class_b_instance = ClassB()
class_a_instance = ClassA()
print(class_a_instance)
print(class_b_instance)
```
and it works. I would like to not allow such imports as `from pkg_b.module_b import ClassB`. `ClassA` should be imported directly from the defining module `pkg_a/module_a.py`. If I remove the dependency `ClassA` from the module `pkg_b/module_b.py` then it will break my main script.

---

_Renamed from "`direct-import-from-defining-module`" to "`import-not-from-defining-module`" by @K4liber on 2025-11-01 20:17_

---

_Comment by @ntBre on 2025-11-03 18:36_

Thanks for the suggestion! I think this is a duplicate of #19559.

---

_Closed by @ntBre on 2025-11-03 18:36_

---
