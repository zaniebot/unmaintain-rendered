<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOC201 requires a returns section even when not required by the Google style guide - astral-sh/ruff #12636</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>DOC201 requires a returns section even when not required by the Google style guide</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12636">#12636</a>
        opened by <a href="https://github.com/dscorbett">@dscorbett</a>
        on 2024-08-02 17:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dscorbett">@dscorbett</a> on 2024-08-02 17:27</div>
            <div class="timeline-body"><p>DOC201 requires a returns section in a docstring when the Google docstring convention is enabled, but <a href="https://google.github.io/styleguide/pyguide.html#doc-function-returns">the Google style guide says</a> that that section “may also be omitted if the docstring starts with “Return”, “Returns”, “Yield”, or “Yields” (e.g. <code>&quot;&quot;&quot;Returns row from Bigtable as a tuple of strings.&quot;&quot;&quot;</code>) <em>and</em> the opening sentence is sufficient to describe the return value.” Ruff can’t validate whether the sentence is sufficient, so it should assume that if the docstring begins with the right word and the Google convention is enabled, the returns section was omitted intentionally.</p>
<pre><code class="language-console">$ ruff --version
ruff 0.5.6
$ cat doc201.py 
def f():
    &quot;&quot;&quot;Returns 1.&quot;&quot;&quot;
    return 1
$ ruff check --isolated --output-format concise --preview --select DOC201 --config 'lint.pydocstyle.convention = &quot;google&quot;' doc201.py
doc201.py:3:5: DOC201 `return` is not documented in docstring
Found 1 error.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-02 17:59</div>
            <div class="timeline-body"><p>Thanks for reporting this.</p>
<p>@augustelalande do you know if Ruff's implementations are compatible with the upstream rules regarding this behavior or is this something Ruff doesn't support yet?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by @AlexWaygood on 2024-08-02 18:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @AlexWaygood on 2024-08-02 18:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-03 12:22</div>
            <div class="timeline-body"><blockquote>
<p>...so it should assume that if the docstring begins with the right word and the Google convention is enabled, the returns section was omitted intentionally.</p>
</blockquote>
<p>I agree with this -- makes sense to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/12675.html">astral-sh/ruff#12675</a> on 2024-08-05 02:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-08-06 06:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-08-06 06:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:53 UTC
    </footer>
</body>
</html>
