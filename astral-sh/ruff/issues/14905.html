<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N816 doesn't flag lower-case variable names - astral-sh/ruff #14905</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>N816 doesn't flag lower-case variable names</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/14905">#14905</a>
        opened by <a href="https://github.com/isaacag">@isaacag</a>
        on 2024-12-11 08:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/isaacag">@isaacag</a> on 2024-12-11 08:19</div>
            <div class="timeline-body"><p>Context managers are not taken into consideration for variable naming conventions, despite PEP8 not making exceptions for them. The only way to trigger variable rules is to wrap them in other structures like a <code>def</code>.</p>
<pre><code class="language-python">def example_function():
    Variable = 10 # N806 triggered
    with open('file.txt') as file:
        Variable = file.read() # N806 triggered
</code></pre>
<pre><code class="language-python">with open('file.txt') as file:
    Variable = file.read() # No rule triggered
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-11 08:23</div>
            <div class="timeline-body"><p>The current behavior makes sense to me, considering that the rule is about variable names in functions and doesn't enforce lower case variable names in general.</p>
<blockquote>
<p>Checks for the use of non-lowercase variable names in functions.</p>
</blockquote>
<p>And <code>Variable</code> in the second example is a variable in the module scope.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-12-11 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/isaacag">@isaacag</a> on 2024-12-11 08:29</div>
            <div class="timeline-body"><p>If possible I think it would be nice to have an additional rule covering those cases, even if is another scope.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-11 08:59</div>
            <div class="timeline-body"><blockquote>
<p>If possible I think it would be nice to have an additional rule covering those cases, even if is another scope.</p>
</blockquote>
<p>There's https://docs.astral.sh/ruff/rules/mixed-case-variable-in-global-scope/ but it doesn't forbid using variable names that start with an uppercase character. I'm not sure why is but the rule matches the behavior of the upstream rule https://github.com/PyCQA/pep8-naming/pull/69</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/isaacag">@isaacag</a> on 2024-12-11 09:46</div>
            <div class="timeline-body"><p>That is odd, docs leave the impression that any non snake case variables will trigger the rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "PEP8 inconsistent variable rules for context managers" to "N816 doesn't flag lower-case variable names" by @MichaReiser on 2024-12-16 08:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @MichaReiser on 2024-12-16 08:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-12-16 08:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2024-12-16 08:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15069.html">astral-sh/ruff#15069</a> on 2024-12-20 07:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-23 08:21</div>
            <div class="timeline-body"><p>I merge this with https://github.com/astral-sh/ruff/issues/15069 that lists a few reasons</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-12-23 08:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:54 UTC
    </footer>
</body>
</html>
