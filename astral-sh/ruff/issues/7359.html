<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule suggestion: Emit warning for continuation characters in multi-line strings - astral-sh/ruff #7359</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Rule suggestion: Emit warning for continuation characters in multi-line strings</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/7359">#7359</a>
        opened by <a href="https://github.com/dosisod">@dosisod</a>
        on 2023-09-13 18:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dosisod">@dosisod</a> on 2023-09-13 18:13</div>
            <div class="timeline-body"><p>I recently came across the following bug/surprising behavior, and it doesn't seem to be picked up by Ruff, Black, Flake8, etc (to my knowledge). Basically, if you use a continuation character in a multi-line string, the continuation character will merge the 2 lines. This probably isn't what most people intended, they probably meant to include them verbatim. This is similar to W605 (invalid escape sequence), except that this is perfectly valid, just not what most people expect.</p>
<p>For example:</p>
<pre><code class="language-python">some_code = &quot;&quot;&quot;
x = 1 \
    + 2 \
    + 3
&quot;&quot;&quot;
</code></pre>
<p>This is actually printed out like so:</p>
<pre><code>x = 1     + 2     + 3
</code></pre>
<p>In short, Ruff should detect continuation characters inside multi-line strings and suggest/autofix it by turning the multi-line string into a raw string (similar to W605).</p>
<p>Cases where this shouldn't be detected are at the very start or end of a string, since this is usually indented:</p>
<pre><code class="language-python"># ok
some_code = &quot;&quot;&quot;\
print(&quot;hello world&quot;)
&quot;&quot;&quot;

# also ok
some_code = &quot;&quot;&quot;
print(&quot;hello world&quot;) \
&quot;&quot;&quot;
</code></pre>
<p>Any thoughts? Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-09-19 03:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-09-19 03:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:09 UTC
    </footer>
</body>
</html>
