<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword arguments in `super` should suppress the UP008 fix - astral-sh/ruff #19096</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Keyword arguments in `super` should suppress the UP008 fix</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/19096">#19096</a>
        opened by <a href="https://github.com/dscorbett">@dscorbett</a>
        on 2025-07-02 16:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dscorbett">@dscorbett</a> on 2025-07-02 16:12</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The fix for <a href="https://docs.astral.sh/ruff/rules/super-call-with-parameters/"><code>super-call-with-parameters</code> (UP008)</a> should be suppressed when the <code>super</code> call has any keyword arguments, or else it changes the programâ€™s behavior.</p>
<p><a href="https://play.ruff.rs/62afc9d8-44a6-45c8-a480-918becb28f8e">Playground</a></p>
<pre><code class="language-console">$ cat &gt;up008.py &lt;&lt;'# EOF'
class Ord(int):
    def __len__(self):
        return super(Ord, self, uhoh=True, **{&quot;error&quot;: True}).bit_length()
print(len(Ord(8)))
# EOF

$ python up008.py 2&gt;&amp;1 | tail -n 1
TypeError: super() takes no keyword arguments

$ ruff --isolated check up008.py --select UP008 --unsafe-fixes --fix
Found 1 error (1 fixed, 0 remaining).

$ python up008.py
4
</code></pre>
<h3>Version</h3>
<p>ruff 0.12.1 (32c54189c 2025-06-26)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @ntBre on 2025-07-02 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by @ntBre on 2025-07-02 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @ntBre on 2025-07-02 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-07-02 17:01</div>
            <div class="timeline-body"><p>Currently the fix simply deletes the range of the arguments.
https://github.com/astral-sh/ruff/blob/f76d3f87cfbfd8953087c521f36533f94f3b7304/crates/ruff_linter/src/rules/pyupgrade/rules/super_call_with_parameters.rs#L177-L183
One other thought, if the fix only deleted the first two args but left everything else, the behavior would be mostly unchanged:</p>
<pre><code>PS ~\Desktop\New_folder\ruff&gt;py -c @&quot;
</code></pre>
<pre><code class="language-py">class Ord(int):
    def __len__(self):
        return super(Ord, self, uhoh=True, **{&quot;error&quot;: True}).bit_length()
print(len(Ord(8)))
</code></pre>
<pre><code>&quot;@ 2&gt;&amp;1 | Select-Object -last 3
</code></pre>
<pre><code>    return super(Ord, self, uhoh=True, **{&quot;error&quot;: True}).bit_length()
           ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: super() takes no keyword arguments
</code></pre>
<pre><code>PS ~\Desktop\New_folder\ruff&gt;py -c @&quot;
</code></pre>
<pre><code class="language-py">class Ord(int):
    def __len__(self):
        return super(uhoh=True, **{&quot;error&quot;: True}).bit_length()
print(len(Ord(8)))
</code></pre>
<pre><code>&quot;@ 2&gt;&amp;1 | Select-Object -last 3
</code></pre>
<pre><code>    return super(uhoh=True, **{&quot;error&quot;: True}).bit_length()
           ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: super() takes no keyword arguments
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/19131.html">astral-sh/ruff#19131</a> on 2025-07-03 21:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-07-09 19:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:18 UTC
    </footer>
</body>
</html>
