```yaml
number: 20809
title: "Extend TD003 to allow \"Jira-style\" issue IDs on the same line"
type: issue
state: open
author: simonpercivall
labels:
  - good first issue
  - rule
assignees: []
created_at: 2025-10-11T09:15:00Z
updated_at: 2025-11-03T21:38:06Z
url: https://github.com/astral-sh/ruff/issues/20809
synced_at: 2026-01-10T01:56:57Z
```

# Extend TD003 to allow "Jira-style" issue IDs on the same line

---

_Issue opened by @simonpercivall on 2025-10-11 09:15_

### Summary

Rule: https://docs.astral.sh/ruff/rules/missing-todo-link/#missing-todo-link-td003

Extension to https://github.com/astral-sh/ruff/issues/8061, where this was changed for "GitHub-style" issue numbers, to allow them on the same line as the `TODO` comment.

### Current behavior
For issue _numbers_, this is allowed:
`# TODO: Move this part to the other place #6877`

but this is not:
`# TODO: Move this part to the other place RFFU-6877`

### Outcome
TD003 should accept issue IDs of the form `<PREFIX>-<NUMBER>` on the same line as the TODO comment, i.e.:

`# TODO: Move this part to the other place RFFU-6877`

---

_Comment by @MichaReiser on 2025-10-13 07:20_

I'm not that familiar with Jira style IDs but I think this is already supported:

```py
# TODO: this link has no issue
# PROJ-123
```

https://play.ruff.rs/10e254a1-e087-4163-9ffe-32977ec0ec99

Unless your IDs use a different format

---

_Label `needs-info` added by @MichaReiser on 2025-10-13 07:20_

---

_Comment by @simonpercivall on 2025-10-13 07:49_

Right, but that's not on the same line.

I edited the description to add an example. Sorry for being unclear in the description.

---

_Comment by @MichaReiser on 2025-10-13 08:15_

Oh right, I missed that part. 

I'd be fine with this change. We added same-line support in https://github.com/astral-sh/ruff/pull/15519 and followed VS Code's set of rules. But I don't see why the set of supported codes between same and own line should differ (it only seems confusing). @dylwil3 do you remember why we decided to use two different regex sets?

---

_Label `needs-info` removed by @MichaReiser on 2025-10-13 08:15_

---

_Label `rule` added by @MichaReiser on 2025-10-13 08:15_

---

_Comment by @dylwil3 on 2025-10-13 18:09_

I believe it was just to make the minimal change necessary in order to resolve the issue - probably I was more hesitant to make changes in general back then ðŸ˜„ I am certainly comfortable expanding the allowed forms

---

_Label `good first issue` added by @MichaReiser on 2025-10-13 19:18_

---

_Referenced in [astral-sh/ruff#20880](../../astral-sh/ruff/pulls/20880.md) on 2025-10-15 03:31_

---

_Comment by @snailUlitka on 2025-11-03 21:18_

Can I work on this issue?

---

_Comment by @ntBre on 2025-11-03 21:25_

It looks like @danparizher already has an open PR, but thank you for asking!

---

_Comment by @snailUlitka on 2025-11-03 21:38_

Oh, I missed that, my bad! Thanks for pointing it out :)

---
