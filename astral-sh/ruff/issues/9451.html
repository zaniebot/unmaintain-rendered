<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: Remove sequential blank lines in docstrings - astral-sh/ruff #9451</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: Remove sequential blank lines in docstrings</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9451">#9451</a>
        opened by <a href="https://github.com/stinodego">@stinodego</a>
        on 2024-01-10 00:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/stinodego">@stinodego</a></div>
            <div class="timeline-body"><p>I&#x27;d like a way to get rid of extraneous whitespace in docstrings.</p>
<p>Here&#x27;s an example of a docstring with way too much whitespace:</p>
<pre><code>def cool_function(x: int) -&gt; None:
    &quot;&quot;&quot;
    Do nothing.

    Parameters
    ----------
    x
        Description of x.



    Notes
    -----
    Hello.


    There.


    &quot;&quot;&quot;

</code></pre>
<p>I&#x27;d like ruff to format this down to:</p>
<pre><code>def cool_function(x: int) -&gt; None:
    &quot;&quot;&quot;
    Do nothing.

    Parameters
    ----------
    x
        Description of x.

    Notes
    -----
    Hello.

    There.

    &quot;&quot;&quot;
</code></pre>
<p>On a related note, there is currently no way to make sure there is <em>no</em> blank line after the last section (the opposite of <code>D413</code>). This would be a useful lint to have!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-10 19:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-10 19:44</div>
            <div class="timeline-body"><p>This looks useful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-10 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-11 07:28</div>
            <div class="timeline-body"><p>@stinodego would you expect this to happen as part of a lint rule or are you asking for docstring formatting?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/stinodego">@stinodego</a> on 2024-01-11 07:31</div>
            <div class="timeline-body"><p>I honestly don&#x27;t really know what the difference is between the two. Either is fine with me!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BrentWilkins">@BrentWilkins</a> on 2024-02-06 22:45</div>
            <div class="timeline-body"><p>This looks related to a change in <a href="https://github.com/astral-sh/ruff/pull/9654">this PR</a>. Ruff is calling this docstring bad:</p>
<pre><code>&quot;&quot;&quot;Make a summary line.

Note:
----
  Per the code comment the next two lines are blank. &quot;// The first blank line is the line containing the closing
      triple quotes, so we need at least two.&quot;

&quot;&quot;&quot;
</code></pre>
<blockquote>
<p>Missing blank line after last section (&quot;Note&quot;) Ruff(<a href="https://docs.astral.sh/ruff/rules/blank-line-after-last-section">D413</a>)</p>
</blockquote>
<p>I can&#x27;t see what&#x27;s different between what I have and the <code>Use instead:</code> section of <a href="https://docs.astral.sh/ruff/rules/blank-line-after-last-section/">the documentation</a>.</p>
<p>I can make Ruff happy by adding excessive blank lines:</p>
<pre><code>&quot;&quot;&quot;Make a summary line.

Note:
----
  Per the code comment the next two lines are blank. &quot;// The first blank line is the line containing the closing
      triple quotes, so we need at least two.&quot;


&quot;&quot;&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-06 22:50</div>
            <div class="timeline-body"><p>Seems like a bug in D413 (which was incorrectly implemented before that PR, and never really triggered), but I don&#x27;t think it&#x27;s related to this issue per se?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BrentWilkins">@BrentWilkins</a> on 2024-02-07 19:28</div>
            <div class="timeline-body"><p>Only in as much as this issue is to remove excessive whitespace like that bug is enforcing. I&#x27;ll create a new issue for that. Thanks.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:48 UTC
    </footer>
</body>
</html>
