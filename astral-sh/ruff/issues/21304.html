<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLW1514 doesn't catch argparse.FileType without encoding - astral-sh/ruff #21304</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PLW1514 doesn&#x27;t catch argparse.FileType without encoding</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/21304">#21304</a>
        opened by <a href="https://github.com/novas0x2a">@novas0x2a</a>
        on 2025-11-06 19:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/novas0x2a">@novas0x2a</a></div>
            <div class="timeline-body">Summary
<p><code>argparse.FileType</code> is essentially just a wrapper around <code>open</code>, so it would be helpful if <code>PLW1514</code> noticed when the encoding argument was missing. Important note: pylint does not catch this either, so this change would make ruff stricter than pylint (I&#x27;m not sure what the project policy on this is, but I figured I&#x27;d note it...)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-07 19:10</div>
            <div class="timeline-body"><p>This seems reasonable to me, but I&#x27;m curious what others think (cc @amyreese). I hadn&#x27;t heard of <code>argparse.FileType</code> before today and it seems to be <a href="https://docs.python.org/3/library/argparse.html#argparse.FileType">deprecated</a> as of 3.14, but that doesn&#x27;t necessarily mean we shouldn&#x27;t include it in the rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-07 19:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-07 19:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-11-11 23:48</div>
            <div class="timeline-body"><p>I also had not seen <code>argparse.FileType</code> before, and I&#x27;m also surprised that it&#x27;s deprecated without a clear replacement. ðŸ˜… I agree that this could be a useful extension of the existing lint rule, but I&#x27;m curious how widely that option is even used in the wider ecosystem as a measure of deciding whether it&#x27;s worth linting something that&#x27;s being deprecated.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:36 UTC
    </footer>
</body>
</html>
