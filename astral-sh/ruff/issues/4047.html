<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>False D417 when arguments some are keyword only. - astral-sh/ruff #4047</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>False D417 when arguments some are keyword only.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4047">#4047</a>
        opened by <a href="https://github.com/AlexGiazitzis">@AlexGiazitzis</a>
        on 2023-04-20 14:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexGiazitzis">@AlexGiazitzis</a></div>
            <div class="timeline-body"><p>Running the command <code>ruff .\file.py</code> containing the snippet below, shows a D417 warning whilst all arguments are documented. If the Args section and all members of it is removed, the warning goes away, whilst arg1 is not documented. I&#x27;ve attached screenshots for each occasion. With the --isolated flag, no warning is emitted in both cases.</p>
<p><code>ruff --version</code> output: <code>ruff 0.0.262</code></p>
<pre><code>def func(arg1, *, arg2, arg3):
    &quot;&quot;&quot;Do something.

    Args:
        arg1 (type): description

    Keyword Args:
        arg2 (type): description
        arg3 (type): description

    &quot;&quot;&quot;
    ...
</code></pre>
<p><img src="https://user-images.githubusercontent.com/74965864/233396611-75c95421-f9b2-467b-9164-fdef5f98d4c8.png" alt="Screenshot 2023-04-20 171734"></p>
<p><img src="https://user-images.githubusercontent.com/74965864/233396656-3c8210af-9433-4751-9c38-ea22fb686d66.png" alt="Screenshot 2023-04-20 172433"></p>
<p>pyproject.toml</p>
<pre><code>[tool.ruff]
line-length = 120
select = [&quot;D&quot;, &quot;E&quot;, &quot;F&quot;]
target-version = &quot;py38&quot;

[tool.ruff.pydocstyle]
convention = &quot;google&quot;

[tool.ruff.per-file-ignores]
&quot;__init__.py&quot; = [&quot;F401&quot;]

[tool.black]
line-length = 120
target-version = [&#x27;py38&#x27;]
include = &#x27;&#x27;&#x27;
(
      \.pyi?$
    | \.py?$
    | ^/tests/
    | ^/src/
)
&#x27;&#x27;&#x27;
exclude = &#x27;&#x27;&#x27;
(
  /(
      \.eggs         # exclude a few common directories in the
    | \.git          # root of the project
    | \.hg
    | \.mypy_cache
    | \.tox
    | \.venv
    | _build
    | __pycache__
    | buck-out
    | build
    | dist
    | .*/migrations
    | \.github
    | ci
    | node_modules
    | static
    | staticfiles
  )/
  | \.html
  | \.js
  | \.css
  | \.scss
)
&#x27;&#x27;&#x27;

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;False D417 when arguments are keyword only.&quot; to &quot;False D417 when arguments some are keyword only.&quot; by <a href="https://github.com/AlexGiazitzis">@AlexGiazitzis</a> on 2023-04-20 14:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on 2023-04-20 16:25</div>
            <div class="timeline-body"><p>Hmm, I can&#x27;t find a <code>Keyword Args</code> section in the <a href="https://google.github.io/styleguide/pyguide.html">Google style guide</a>. I do see that <code>pytkdocs</code> supports the section under <code>Keyword Arguments</code>: <a href="https://github.com/mkdocstrings/pytkdocs/pull/105">mkdocstrings/pytkdocs#105</a>/files. Does it work if you use <code>Keyword Arguments</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexGiazitzis">@AlexGiazitzis</a> on 2023-04-20 16:34</div>
            <div class="timeline-body"><p>Nope, same issue.</p>
<p>Edit: In sphinx <a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/index.html#docstring-sections">napoleon</a>, it seems to be supported, which is why it seemed weird for the warning to trigger.
<img src="https://user-images.githubusercontent.com/74965864/233430758-1156fa51-277a-45d9-baa5-3482320303f5.png" alt="image"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-21 02:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-21 02:07</div>
            <div class="timeline-body"><p>Looking at the code, we do respect those as Google-style sections (&quot;Keyword Args&quot; and &quot;Keyword Arguments&quot;). But I guess we don&#x27;t include their contents as documented arguments when cross-referencing with the function signature. Pydocstyle has the same issue, it flags the above as <code>D417</code> too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-21 02:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on 2023-04-21 02:08</div>
            <div class="timeline-body"><p>I can take a look at this</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pawamoy">@pawamoy</a> on 2023-04-22 19:36</div>
            <div class="timeline-body"><p>With the new Python handler for mkdocstrings, we support the &quot;keyword args&quot; section with the following aliases (case insensitive):</p>
<ul>
<li>keyword args</li>
<li>keyword arguments</li>
<li>other args</li>
<li>other parameters</li>
</ul>
<p>While checking this I spotted that the docs are not in sync with the code, and so I&#x27;ll also add the following aliases:</p>
<ul>
<li>other arguments</li>
<li>other params</li>
</ul>
<p>Our parser takes some liberties with what&#x27;s supported or not (because we&#x27;re trying to reach a common denominator between the different docstring style standards), so it&#x27;s up to you whether you want to support the same things or be strict with Napoleon&#x27;s docs for example (keyword args and keyword arguments).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on 2023-04-22 20:31</div>
            <div class="timeline-body"><p>Gotcha, thanks for the heads up! I can add those aliases to the matcher as part of this fix if you think that&#x27;s the way to go @charliermarsh</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-22 22:10</div>
            <div class="timeline-body"><p>I think it&#x27;s reasonable to include those under the Google section.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-22 22:10</div>
            <div class="timeline-body"><p>(Thank you so much for chiming in, @pawamoy)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-25 05:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:35 UTC
    </footer>
</body>
</html>
