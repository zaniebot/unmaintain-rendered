<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule Request: Enforce naming convention for internal vs. exported symbols - astral-sh/ruff #18380</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Rule Request: Enforce naming convention for internal vs. exported symbols</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18380">#18380</a>
        opened by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a>
        on 2025-05-30 01:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2025-05-30 01:54</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Detect top-level variables, functions, and classes that are <strong>not explicitly imported from other files</strong> (i.e., not <code>from some_file import some_variable</code>) and enforce that such items are named with a <strong>leading underscore</strong>, indicating they are private to the module.</p>
<p>Conversely, detect symbols that <strong>are exported</strong> (intended for external use) and ensure they are <strong>not</strong> prefixed with an underscore.</p>
<hr />
<h3>Rationale</h3>
<p>A leading underscore is a widely understood Python convention that signals a name is internal to the file or module. Enforcing this:</p>
<ul>
<li>Improves code readability and clarity of intent.</li>
<li>Makes it easier to detect dead code (unused internals).</li>
<li>Reduces accidental usage of internal APIs across modules.</li>
<li>Encourages consistent project structure and maintenance.</li>
</ul>
<p>If a variable is internal (i.e., not used outside the file), it should be named with a leading underscore. If it's meant to be part of the file's public interface, it should be clearly named without the underscore.</p>
<hr />
<h3>Implementation Notes</h3>
<p>This check could likely be implemented in tandem with #872, which tracks usage of top-level bindings.</p>
<p>Classify symbols into four groups:</p>
<ol>
<li><strong>Imported from another module</strong> (possibly re-exported in <code>__init__.py</code>)</li>
<li><strong>Exported by this file</strong> (e.g. part of the public API)</li>
<li><strong>Used only within this file</strong></li>
<li><strong>Unused (dead code)</strong></li>
</ol>
<h4>Recommendations:</h4>
<ul>
<li><strong>Groups 1 &amp; 2</strong>: Use names <strong>without</strong> a leading underscore.</li>
<li><strong>Group 3</strong>: Use names <strong>with</strong> a leading underscore.</li>
<li><strong>Group 4</strong>: Should be deleted.</li>
</ul>
<p>For non-library code (e.g., applications), group 2 may also be considered dead code unless explicitly required elsewhere.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Detect unmarked private variables and classes" to "RULE: Detect unmarked private variables and classes" by @NeilGirdhar on 2025-05-30 01:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "RULE: Detect unmarked private variables and classes" to "Rule Request: Enforce naming convention for internal vs. exported symbols" by @NeilGirdhar on 2025-05-30 02:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-05-30 05:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2025-05-30 05:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @MichaReiser on 2025-05-30 05:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:37:33 UTC
    </footer>
</body>
</html>
