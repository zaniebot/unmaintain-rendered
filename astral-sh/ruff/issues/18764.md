```yaml
number: 18764
title: C420 fix should be marked unsafe for comment deletion
type: issue
state: closed
author: MeGaGiGaGon
labels:
  - bug
  - fixes
  - help wanted
assignees: []
created_at: 2025-06-18T18:02:07Z
updated_at: 2025-06-19T09:43:06Z
url: https://github.com/astral-sh/ruff/issues/18764
synced_at: 2026-01-10T01:56:56Z
```

# C420 fix should be marked unsafe for comment deletion

---

_Issue opened by @MeGaGiGaGon on 2025-06-18 18:02_

### Summary

All of the other fixes in `C4` are marked unsafe for comment deletion, except for `C420`, despite it still deleting comments. It should be marked unsafe and have the same fix safety comment about comments as the rest. [playground](https://play.ruff.rs/50b9c2e2-5485-4b13-852f-1248194a7c9c)
```
PS ~\Desktop\New_folder>Get-Content issue.py
```
```py
{ # 1
a # 2
: # 3
None # 4
for # 5
a # 6
in # 7
iterable # 8
} # 9
```
```
PS ~\Desktop\New_folder>uvx ruff check issue.py --select C --fix --diff
```
```diff
--- issue.py
+++ issue.py
@@ -1,9 +1 @@
-{ # 1
-a # 2
-: # 3
-None # 4
-for # 5
-a # 6
-in # 7
-iterable # 8
-} # 9
+dict.fromkeys(iterable) # 9

Would fix 1 error.
```

### Version

ruff 0.12.0 (87f0feb21 2025-06-17) + playground

---

_Label `bug` added by @ntBre on 2025-06-18 18:08_

---

_Label `fixes` added by @ntBre on 2025-06-18 18:08_

---

_Label `help wanted` added by @ntBre on 2025-06-18 18:08_

---

_Referenced in [astral-sh/ruff#18768](../../astral-sh/ruff/pulls/18768.md) on 2025-06-18 20:06_

---

_Closed by @MichaReiser on 2025-06-19 09:43_

---
