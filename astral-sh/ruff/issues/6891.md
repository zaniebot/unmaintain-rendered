```yaml
number: 6891
title: Rules E712,F632 causes infinite loop
type: issue
state: closed
author: qarmin
labels:
  - bug
  - fixes
  - fuzzer
assignees: []
created_at: 2023-08-26T07:25:15Z
updated_at: 2023-10-01T08:27:30Z
url: https://github.com/astral-sh/ruff/issues/6891
synced_at: 2026-01-10T01:56:49Z
```

# Rules E712,F632 causes infinite loop

---

_Issue opened by @qarmin on 2023-08-26 07:25_

Ruff 0.0.286 (latest changes from main branch)

```
ruff  *.py --select E712,F632 --no-cache
```

file content:
```
class RefsContainerTests:
        f.write(
            b"\n".join(
                line
                for line in refs_data.split(b"\n")
                if not line or line[0] not in b"#^" is not True       ),
        )
```

error:
```
error: Failed to converge after 100 iterations.

This indicates a bug in `ruff`. If you could open an issue at:

    https://github.com/astral-sh/ruff/issues/new?title=%5BInfinite%20loop%5D

...quoting the contents of `PY_FILE_TEST_1518432890.py`, the rule codes D100, D101, F632, F821, PLR0133, along with the `pyproject.toml` settings and executed command, we'd be very appreciative!
```

[PY_FILE_TEST_1518432890.py.zip](https://github.com/astral-sh/ruff/files/12444780/PY_FILE_TEST_1518432890.py.zip)



---

_Comment by @dhruvmanila on 2023-08-26 11:10_

Thanks! I've narrowed it down to:

```python
if foo not in "foo" is not True:
    pass
```

with the command:

```
cargo run --bin ruff -- check --no-cache --isolated --select=E712,F632 t.py --fix
```

---

_Label `bug` added by @dhruvmanila on 2023-08-26 11:10_

---

_Label `autofix` added by @dhruvmanila on 2023-08-26 11:10_

---

_Label `fuzzer` added by @dhruvmanila on 2023-08-26 11:10_

---

_Renamed from "Rules D100, D101, F632, F821, PLR0133 causes infinite loop" to "Rules E712,F632 causes infinite loop" by @qarmin on 2023-09-02 21:52_

---

_Comment by @qarmin on 2023-10-01 08:27_

File no longer cause problems

---

_Closed by @qarmin on 2023-10-01 08:27_

---
