<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`missing-todo-link` (`TD003`) - false negative when text preceeding &quot;TODO&quot; - astral-sh/ruff #7628</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`missing-todo-link` (`TD003`) - false negative when text preceeding &quot;TODO&quot;</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/7628">#7628</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2023-09-24 11:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DetachHead">@DetachHead</a> on 2023-09-24 11:39</div>
            <div class="timeline-body"><pre><code class="language-py"># asdf TODO: no error here
# TODO: error
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-24 14:17</div>
            <div class="timeline-body"><p>This may need to be declared a reasonable limitation, because there's always going to be a tradeoff here between false negatives and false positives. If we detect <code>TD</code> rules here, it'll be impossible to use <code>TODO</code> in prose, like:</p>
<pre><code class="language-python"># This solves case X.
# We don't solve case Y. That's left as a TODO for future work.
</code></pre>
<p>The limitation we impose (IIUC) is that the TODO has to be at the start of the comment. I'm not sure we can rely on the colon either (i.e., detect any TODO followed by a colon, even if it's not at the start) because we have rules that detect the lack of colon, so it would be inconsistent in enforcement for those cases.</p>
<p>Any ideas?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-09-24 14:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
