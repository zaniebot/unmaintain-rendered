```yaml
number: 21381
title: Preview rule FURB103 reformats multiline strings
type: issue
state: closed
author: henryiii
labels:
  - bug
  - fixes
  - preview
assignees: []
created_at: 2025-11-11T15:01:45Z
updated_at: 2025-11-16T08:32:43Z
url: https://github.com/astral-sh/ruff/issues/21381
synced_at: 2026-01-10T01:56:57Z
```

# Preview rule FURB103 reformats multiline strings

---

_Issue opened by @henryiii on 2025-11-11 15:01_

### Summary

The preview rule FURB103 replaces real newlines with new line chars:

```diff
    -     with open(tmp_path / "pyproject.toml", "w") as f:
    -         f.write(
    -             dedent(
    -                 """
    -                 [project]
    -                 other = 1.234
    -                 """
    -             )
    -         )
    +     pathlib.Path(tmp_path / "pyproject.toml").write_text(dedent("""\n                [project]\n                other = 1.234\n                """))
```



### Version

recent (on a different machine ATM)

---

_Comment by @ntBre on 2025-11-11 15:38_

Thanks! It reproduces in the [playground](https://play.ruff.rs/6f757200-d599-43b1-a179-845e02b0a5b3) too.

---

_Label `bug` added by @ntBre on 2025-11-11 15:38_

---

_Label `fixes` added by @ntBre on 2025-11-11 15:38_

---

_Label `preview` added by @ntBre on 2025-11-11 15:39_

---

_Comment by @chirizxc on 2025-11-14 13:36_

@ntBre assign me please

---

_Assigned to @chirizxc by @ntBre on 2025-11-14 13:45_

---

_Comment by @chirizxc on 2025-11-14 13:55_

@ntBre code from https://github.com/astral-sh/ruff/pull/20790#discussion_r2417460630 works correctly in code from this PR:

<img width="1165" height="497" alt="Image" src="https://github.com/user-attachments/assets/2ec0113d-da1d-4ee3-9e3d-182c99abade2" />

Is it possible to use it instead of the old `make_suggestion`?

---

_Referenced in [astral-sh/ruff#21454](../../astral-sh/ruff/pulls/21454.md) on 2025-11-14 14:11_

---

_Closed by @MichaReiser on 2025-11-16 08:32_

---
