<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement `django-upgrade` - astral-sh/ruff #6927</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement <code>django-upgrade</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6927">#6927</a>
        opened by <a href="https://github.com/tjkuson">@tjkuson</a>
        on 2023-08-27 23:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tjkuson">@tjkuson</a></div>
            <div class="timeline-body"><p>I think <a href="https://github.com/adamchainz/django-upgrade"><code>django-upgrade</code></a> would be a good complement to the pre-existing Django-related ruff rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-28 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-28 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/browniebroke">@browniebroke</a> on 2023-09-03 13:47</div>
            <div class="timeline-body"><p>It will require adding a plugin specific setting as <code>django-upgrade</code> has a <code>--target-version</code> option for the Django version to target.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ulgens">@ulgens</a> on 2024-02-05 04:26</div>
            <div class="timeline-body"><p>I&#x27;d like to see <code>django-upgrade</code> too. It feels weird having <code>pyupgrade</code> but not <code>django-upgrade</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adamchainz">@adamchainz</a> on 2024-02-05 22:01</div>
            <div class="timeline-body"><p>As the django-upgrade author, I am a little concerned if Ruff reimplements it without dedicated developers who’ll update it for new fixers.</p>
<p>The Django community is gradually getting used to django-upgrade, and @carltongibson has even suggested making it an official tool. A few times now, contributors to Django have been able to implement a parallel fixer in django-upgrade, reducing the migration cost for changes. It’s unlikely that most Django contributors would be able to do the same in Ruff, since it uses Rust.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carltongibson">@carltongibson</a> on 2024-02-06 06:42</div>
            <div class="timeline-body"><p>Thanks for the ping Adam.</p>
<p>Yes, part of the whole idea is that PR authors can either implement fixers, or work closely with others who can, as the PR is being made. That seems to require close integration with Django, rather than moving further away.</p>
<p>Also, from a ruff POV, Django Upgrade is something you run once per major version of Django, so once every 8 months at most, rather than on every save, so Ruff&#x27;s selling point of speed isn&#x27;t relevant. From the outside it doesn&#x27;t seem to fit.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nijel">@nijel</a> on 2024-02-06 07:39</div>
            <div class="timeline-body"><p>I don&#x27;t think running once in 8 months is something reasonable to do. You want to have it applied to new code and anything what is not automated tends to be forgotten. Also django-upgrade is being improved at a different pace than Django releases. I&#x27;d love to see it included in ruff, but even if it is not, I would run it in pre-commit.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-06 16:28</div>
            <div class="timeline-body"><p>Thanks @adamchainz and @carltongibson -- that makes sense! I wouldn&#x27;t want to draw energy or attention away from an official resource like that, so we&#x27;ll avoid re-implementing this one.</p>
<p>I could imagine us adding a few of the rules that look helpful on a continuous basis though (like automatically adding the <code>on_delete</code> keyword argument), we could consider adding those to our existing Django rule set.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-06 16:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:41 UTC
    </footer>
</body>
</html>
