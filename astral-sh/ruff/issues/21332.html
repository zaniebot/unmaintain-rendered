<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`unused-noqa` (`RUF100`) - `Unnecessary` diagnostic tags should only cover the unused rule - astral-sh/ruff #21332</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>unused-noqa</code> (<code>RUF100</code>) - <code>Unnecessary</code> diagnostic tags should only cover the unused rule</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/21332">#21332</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2025-11-08 03:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DetachHead">@DetachHead</a></div>
            <div class="timeline-body"><p>similar to #21331</p>
<p><img width="727" height="50" alt="Image" src="https://github.com/user-attachments/assets/43de9889-fdd2-418b-adb3-f9b507d6073e" /></p>
<p>here, the greyed out comment makes it look like the entire <code>noqa</code> comment is unused, which isn't the case</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`unused-noqa` (`RUF100`) - `Unnecessary` diagnostic tags for should only cover the unused rule" to "`unused-noqa` (`RUF100`) - `Unnecessary` diagnostic tags should only cover the unused rule" by @DetachHead on 2025-11-08 03:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @ntBre on 2025-11-10 14:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by @ntBre on 2025-11-10 14:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/TaKO8Ki">@TaKO8Ki</a> on 2025-11-12 02:08</div>
            <div class="timeline-body"><p>I added the tag to this rule, so I will take this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-12 07:20</div>
            <div class="timeline-body"><p>Same here. I suspect that this is trickier to solve as it probably requires changes to <code>Diagnostic</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-26 07:10</div>
            <div class="timeline-body"><p>I think the solution here is to change the diagnostic range to only cover the code if the suppression contains multiple codes and only some codes are unused. Similar to what we do now in ty</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:53:34 UTC
    </footer>
</body>
</html>
