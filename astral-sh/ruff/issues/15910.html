<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatter/ Linter: Quote consistency - astral-sh/ruff #15910</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatter/ Linter: Quote consistency</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15910">#15910</a>
        opened by <a href="https://github.com/GutiCW">@GutiCW</a>
        on 2025-02-03 12:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/GutiCW">@GutiCW</a> on 2025-02-03 12:33</div>
            <div class="timeline-body"><p>If I configure them as single quotes, I wouldn't expect any string being wrapped in double quotes (simple or tripled).</p>
<p>Wouldn't it be more consistent to always force the according quotes?
E.g., single quotes: If it contains <code>'</code> -&gt; format to tripled single quotes <code>'''</code>, else simple single quote <code>'</code>.</p>
<h1>Keywords</h1>
<p>tripled single double quotes Q000 Q001 Q002 Q003</p>
<h1>Code snippet</h1>
<p><code>THREE_DOUBLE_QUOTES = &quot;&quot;&quot;John Doe's text.&quot;&quot;&quot;</code></p>
<h1>Config</h1>
<pre><code>quote-style = 'single'

[lint.flake8-quotes]
inline-quotes = 'single'
multiline-quotes = 'single'
</code></pre>
<h1>Sample</h1>
<p><a href="https://play.ruff.rs/10e85f60-1ffb-4bdb-ade9-fb130207f468">Playground</a></p>
<h1>Ruff</h1>
<p>v0.9.4</p>
<hr />
<p>Perhaps related:</p>
<ul>
<li>#7615</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Quote consistency" to "Formatter/ Linter: Quote consistency" by @GutiCW on 2025-02-03 12:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-03 12:42</div>
            <div class="timeline-body"><p>I'm unsure I fully understand the question, especially regarding the formatter consistency.</p>
<p>The formatter uses <code>&quot;</code> if a string contains a single quote (<code>'</code>) because it requires less space (2 quotes instead of 6). Triple-quoted strings are also primarily used for docstrings or multiline strings. It's also aligned with what many formatters of other ecosystems do and, therefore, is familiar to many users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2025-02-03 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/GutiCW">@GutiCW</a> on 2025-02-04 08:18</div>
            <div class="timeline-body"><p>Thanks for the quick reply.</p>
<p>Ok, so this is expected behavior - understandable as it's already widely used this way, and perhaps a matter of taste anyways.</p>
<p>Just summarizing my points:</p>
<ul>
<li>Multi-line strings: Why not always using the chosen quotes for multi-line strings?</li>
<li>If the string contains the quote character, format to chosen tripled quotes, else format to chosen simple quotes.</li>
</ul>
<p>That's what I meant with consistency - the chosen quote would be the only character defining a string, no matter what.</p>
<p>Kind regards.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-04 08:47</div>
            <div class="timeline-body"><p>Thanks for re-iterating. Yes, you can say this is a matter of taste and Ruff's formatter follows PEP8</p>
<blockquote>
<p>In Python, single-quoted strings and double-quoted strings are the same. This PEP does not make a recommendation for this. Pick a rule and stick to it. When a string contains single or double quote characters, however, use the other one to avoid backslashes in the string. It improves readability.
<a href="https://peps.python.org/pep-0008/#string-quotes">source</a></p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @GutiCW on 2025-02-04 10:00</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:16 UTC
    </footer>
</body>
</html>
