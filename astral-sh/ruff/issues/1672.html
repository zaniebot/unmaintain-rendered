<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D205 not fixable - astral-sh/ruff #1672</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>D205 not fixable</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1672">#1672</a>
        opened by <a href="https://github.com/baggiponte">@baggiponte</a>
        on 2023-01-06 01:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/baggiponte">@baggiponte</a></div>
            <div class="timeline-body"><p>When I run <code>ruff</code> (<code>0.0.211</code>) on my project dir, I get:</p>
<pre><code>src/futura_aws/s3.py:183:9: D205 1 blank line required between summary line and description
found 1 error(s).
</code></pre>
<p>According to the docs, this should be fixable, but I cannot make it work, whether I run <code>ruff src --fix</code></p>
<p>My settings:</p>
<pre><code>[tool.ruff]
line-length = 88
extend-select = [&quot;D&quot;, &quot;I&quot;]
fix = true
fixable = [&quot;D&quot;, &quot;E501&quot;, &quot;I001&quot;]

[tool.ruff.pydocstyle]
convention = &quot;numpy&quot;

[tool.ruff.per-file-ignores]
&quot;__init__.py&quot; = [&quot;F401&quot;]

</code></pre>

Extended configs

<pre><code>Resolved settings for: &quot;/Users/lucabaggi/Documents/dev/futura-aws/src/futura_aws/__init__.py&quot;
Settings {
    allowed_confusables: {},
    cache_dir: &quot;/Users/lucabaggi/Documents/dev/futura-aws/.ruff_cache&quot;,
    dummy_variable_rgx: ^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$,
    enabled: {
        E401,
        F822,
        F704,
        D411,
        F631,
        D405,
        F525,
        D300,
        F508,
        D210,
        F502,
        D204,
        F403,
        D106,
        E902,
        D100,
        E721,
        E402,
        F823,
        D418,
        F706,
        D412,
        F632,
        D406,
        F541,
        D301,
        F509,
        D211,
        F503,
        D205,
        F404,
        E999,
        D101,
        E722,
        E501,
        F841,
        D419,
        F707,
        F633,
        D407,
        F601,
        D400,
        F521,
        F504,
        D206,
        F405,
        D200,
        D102,
        E731,
        E711,
        F842,
        F722,
        D414,
        F634,
        D408,
        F602,
        F522,
        F505,
        D207,
        F406,
        D201,
        D103,
        E741,
        E712,
        F901,
        F811,
        F701,
        D409,
        F621,
        D403,
        F523,
        D214,
        F506,
        D208,
        F407,
        D202,
        F401,
        D104,
        E742,
        E713,
        F821,
        F702,
        D410,
        F622,
        D404,
        F524,
        D215,
        F507,
        D209,
        F501,
        F402,
        D105,
        E743,
        E714,
        I001,
    },
    exclude: GlobSet {
        len: 19,
        strats: [
            Extension(
                ExtensionStrategy(
                    {},
                ),
            ),
            BasenameLiteral(
                BasenameLiteralStrategy(
                    {},
                ),
            ),
            Literal(
                LiteralStrategy(
                    {
                        [
                            46,
                            98,
                            122,
                            114,
                        ]: [
                            0,
                        ],
                        [
                            46,
                            100,
                            105,
                            114,
                            101,
                            110,
                            118,
                        ]: [
                            1,
                        ],
                        [
                            46,
                            101,
                            103,
                            103,
                            115,
                        ]: [
                            2,
                        ],
                        [
                            46,
                            103,
                            105,
                            116,
                        ]: [
                            3,
                        ],
                        [
                            46,
                            104,
                            103,
                        ]: [
                            4,
                        ],
                        [
                            46,
                            109,
                            121,
                            112,
                            121,
                            95,
                            99,
                            97,
                            99,
                            104,
                            101,
                        ]: [
                            5,
                        ],
                        [
                            46,
                            110,
                            111,
                            120,
                        ]: [
                            6,
                        ],
                        [
                            46,
                            112,
                            97,
                            110,
                            116,
                            115,
                            46,
                            100,
                        ]: [
                            7,
                        ],
                        [
                            46,
                            114,
                            117,
                            102,
                            102,
                            95,
                            99,
                            97,
                            99,
                            104,
                            101,
                        ]: [
                            8,
                        ],
                        [
                            46,
                            115,
                            118,
                            110,
                        ]: [
                            9,
                        ],
                        [
                            46,
                            116,
                            111,
                            120,
                        ]: [
                            10,
                        ],
                        [
                            46,
                            118,
                            101,
                            110,
                            118,
                        ]: [
                            11,
                        ],
                        [
                            95,
                            95,
                            112,
                            121,
                            112,
                            97,
                            99,
                            107,
                            97,
                            103,
                            101,
                            115,
                            95,
                            95,
                        ]: [
                            12,
                        ],
                        [
                            95,
                            98,
                            117,
                            105,
                            108,
                            100,
                        ]: [
                            13,
                        ],
                        [
                            98,
                            117,
                            99,
                            107,
                            45,
                            111,
                            117,
                            116,
                        ]: [
                            14,
                        ],
                        [
                            98,
                            117,
                            105,
                            108,
                            100,
                        ]: [
                            15,
                        ],
                        [
                            100,
                            105,
                            115,
                            116,
                        ]: [
                            16,
                        ],
                        [
                            110,
                            111,
                            100,
                            101,
                            95,
                            109,
                            111,
                            100,
                            117,
                            108,
                            101,
                            115,
                        ]: [
                            17,
                        ],
                        [
                            118,
                            101,
                            110,
                            118,
                        ]: [
                            18,
                        ],
                    },
                ),
            ),
            Suffix(
                SuffixStrategy {
                    matcher: AhoCorasick {
                        imp: DFA(
                            PremultipliedByteClass(
                                PremultipliedByteClass(
                                    Repr {
                                        match_kind: Standard,
                                        anchored: false,
                                        premultiplied: true,
                                        start_id: 2,
                                        max_pattern_len: 0,
                                        pattern_count: 0,
                                        state_count: 3,
                                        max_match: 1,
                                        heap_bytes: 96,
                                        prefilter: None,
                                        byte_classes: ByteClasses( 0 =&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255]),
                                        trans: [
                                            2,
                                            1,
                                            2,
                                        ],
                                        matches: [
                                            [],
                                            [],
                                            [],
                                        ],
                                    },
                                ),
                            ),
                        ),
                        match_kind: Standard,
                    },
                    map: [],
                    longest: 0,
                },
            ),
            Prefix(
                PrefixStrategy {
                    matcher: AhoCorasick {
                        imp: DFA(
                            PremultipliedByteClass(
                                PremultipliedByteClass(
                                    Repr {
                                        match_kind: Standard,
                                        anchored: false,
                                        premultiplied: true,
                                        start_id: 2,
                                        max_pattern_len: 0,
                                        pattern_count: 0,
                                        state_count: 3,
                                        max_match: 1,
                                        heap_bytes: 96,
                                        prefilter: None,
                                        byte_classes: ByteClasses( 0 =&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255]),
                                        trans: [
                                            2,
                                            1,
                                            2,
                                        ],
                                        matches: [
                                            [],
                                            [],
                                            [],
                                        ],
                                    },
                                ),
                            ),
                        ),
                        match_kind: Standard,
                    },
                    map: [],
                    longest: 0,
                },
            ),
            RequiredExtension(
                RequiredExtensionStrategy(
                    {},
                ),
            ),
            Regex(
                RegexSetStrategy {
                    matcher: RegexSet([]),
                    map: [],
                },
            ),
        ],
    },
    extend_exclude: GlobSet {
        len: 0,
        strats: [],
    },
    external: {},
    fix: true,
    fix_only: false,
    fixable: {
        D417,
        D414,
        D411,
        D408,
        D405,
        D402,
        D300,
        D213,
        D210,
        D207,
        D204,
        D201,
        D106,
        D103,
        D100,
        D418,
        D415,
        D412,
        D409,
        D406,
        D403,
        D301,
        D214,
        D211,
        D208,
        D205,
        D202,
        D107,
        D104,
        D101,
        E501,
        D419,
        D416,
        D413,
        D410,
        D407,
        D404,
        D400,
        D215,
        D212,
        D209,
        D206,
        D203,
        D200,
        D105,
        D102,
        I001,
    },
    force_exclude: false,
    format: Text,
    ignore_init_module_imports: false,
    line_length: 88,
    per_file_ignores: [
        (
            GlobMatcher {
                pat: Glob {
                    glob: &quot;/Users/lucabaggi/Documents/dev/futura-aws/__init__.py&quot;,
                    re: &quot;(?-u)^/Users/lucabaggi/Documents/dev/futura\\-aws/__init__\\.py$&quot;,
                    opts: GlobOptions {
                        case_insensitive: false,
                        literal_separator: false,
                        backslash_escape: true,
                    },
                    tokens: Tokens(
                        [
                            Literal(
                                &#x27;/&#x27;,
                            ),
                            Literal(
                                &#x27;U&#x27;,
                            ),
                            Literal(
                                &#x27;s&#x27;,
                            ),
                            Literal(
                                &#x27;e&#x27;,
                            ),
                            Literal(
                                &#x27;r&#x27;,
                            ),
                            Literal(
                                &#x27;s&#x27;,
                            ),
                            Literal(
                                &#x27;/&#x27;,
                            ),
                            Literal(
                                &#x27;l&#x27;,
                            ),
                            Literal(
                                &#x27;u&#x27;,
                            ),
                            Literal(
                                &#x27;c&#x27;,
                            ),
                            Literal(
                                &#x27;a&#x27;,
                            ),
                            Literal(
                                &#x27;b&#x27;,
                            ),
                            Literal(
                                &#x27;a&#x27;,
                            ),
                            Literal(
                                &#x27;g&#x27;,
                            ),
                            Literal(
                                &#x27;g&#x27;,
                            ),
                            Literal(
                                &#x27;i&#x27;,
                            ),
                            Literal(
                                &#x27;/&#x27;,
                            ),
                            Literal(
                                &#x27;D&#x27;,
                            ),
                            Literal(
                                &#x27;o&#x27;,
                            ),
                            Literal(
                                &#x27;c&#x27;,
                            ),
                            Literal(
                                &#x27;u&#x27;,
                            ),
                            Literal(
                                &#x27;m&#x27;,
                            ),
                            Literal(
                                &#x27;e&#x27;,
                            ),
                            Literal(
                                &#x27;n&#x27;,
                            ),
                            Literal(
                                &#x27;t&#x27;,
                            ),
                            Literal(
                                &#x27;s&#x27;,
                            ),
                            Literal(
                                &#x27;/&#x27;,
                            ),
                            Literal(
                                &#x27;d&#x27;,
                            ),
                            Literal(
                                &#x27;e&#x27;,
                            ),
                            Literal(
                                &#x27;v&#x27;,
                            ),
                            Literal(
                                &#x27;/&#x27;,
                            ),
                            Literal(
                                &#x27;f&#x27;,
                            ),
                            Literal(
                                &#x27;u&#x27;,
                            ),
                            Literal(
                                &#x27;t&#x27;,
                            ),
                            Literal(
                                &#x27;u&#x27;,
                            ),
                            Literal(
                                &#x27;r&#x27;,
                            ),
                            Literal(
                                &#x27;a&#x27;,
                            ),
                            Literal(
                                &#x27;-&#x27;,
                            ),
                            Literal(
                                &#x27;a&#x27;,
                            ),
                            Literal(
                                &#x27;w&#x27;,
                            ),
                            Literal(
                                &#x27;s&#x27;,
                            ),
                            Literal(
                                &#x27;/&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;i&#x27;,
                            ),
                            Literal(
                                &#x27;n&#x27;,
                            ),
                            Literal(
                                &#x27;i&#x27;,
                            ),
                            Literal(
                                &#x27;t&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;.&#x27;,
                            ),
                            Literal(
                                &#x27;p&#x27;,
                            ),
                            Literal(
                                &#x27;y&#x27;,
                            ),
                        ],
                    ),
                },
                re: (?-u)^/Users/lucabaggi/Documents/dev/futura\-aws/__init__\.py$,
            },
            GlobMatcher {
                pat: Glob {
                    glob: &quot;__init__.py&quot;,
                    re: &quot;(?-u)^__init__\\.py$&quot;,
                    opts: GlobOptions {
                        case_insensitive: false,
                        literal_separator: false,
                        backslash_escape: true,
                    },
                    tokens: Tokens(
                        [
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;i&#x27;,
                            ),
                            Literal(
                                &#x27;n&#x27;,
                            ),
                            Literal(
                                &#x27;i&#x27;,
                            ),
                            Literal(
                                &#x27;t&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;_&#x27;,
                            ),
                            Literal(
                                &#x27;.&#x27;,
                            ),
                            Literal(
                                &#x27;p&#x27;,
                            ),
                            Literal(
                                &#x27;y&#x27;,
                            ),
                        ],
                    ),
                },
                re: (?-u)^__init__\.py$,
            },
            {
                F401,
            },
        ),
    ],
    required_version: None,
    respect_gitignore: true,
    show_source: false,
    src: [
        &quot;/Users/lucabaggi/Documents/dev/futura-aws&quot;,
    ],
    target_version: Py310,
    task_tags: [
        &quot;TODO&quot;,
        &quot;FIXME&quot;,
        &quot;XXX&quot;,
    ],
    update_check: true,
    flake8_annotations: Settings {
        mypy_init_return: false,
        suppress_dummy_args: false,
        suppress_none_returning: false,
        allow_star_arg_any: false,
    },
    flake8_bandit: Settings {
        hardcoded_tmp_directory: [
            &quot;/tmp&quot;,
            &quot;/var/tmp&quot;,
            &quot;/dev/shm&quot;,
        ],
    },
    flake8_bugbear: Settings {
        extend_immutable_calls: [],
    },
    flake8_errmsg: Settings {
        max_string_length: 0,
    },
    flake8_import_conventions: Settings {
        aliases: {
            &quot;numpy&quot;: &quot;np&quot;,
            &quot;matplotlib.pyplot&quot;: &quot;plt&quot;,
            &quot;pandas&quot;: &quot;pd&quot;,
            &quot;altair&quot;: &quot;alt&quot;,
            &quot;seaborn&quot;: &quot;sns&quot;,
        },
    },
    flake8_pytest_style: Settings {
        fixture_parentheses: true,
        parametrize_names_type: Tuple,
        parametrize_values_type: List,
        parametrize_values_row_type: Tuple,
        raises_require_match_for: [
            &quot;BaseException&quot;,
            &quot;Exception&quot;,
            &quot;ValueError&quot;,
            &quot;OSError&quot;,
            &quot;IOError&quot;,
            &quot;EnvironmentError&quot;,
            &quot;socket.error&quot;,
        ],
        raises_extend_require_match_for: [],
        mark_parentheses: true,
    },
    flake8_quotes: Settings {
        inline_quotes: Double,
        multiline_quotes: Double,
        docstring_quotes: Double,
        avoid_escape: true,
    },
    flake8_tidy_imports: Settings {
        ban_relative_imports: Parents,
        banned_api: {},
    },
    flake8_unused_arguments: Settings {
        ignore_variadic_names: false,
    },
    isort: Settings {
        combine_as_imports: false,
        force_wrap_aliases: false,
        split_on_trailing_comma: true,
        force_single_line: false,
        single_line_exclusions: {},
        known_first_party: {},
        known_third_party: {},
        order_by_type: true,
        extra_standard_library: {},
    },
    mccabe: Settings {
        max_complexity: 10,
    },
    pep8_naming: Settings {
        ignore_names: [
            &quot;setUp&quot;,
            &quot;tearDown&quot;,
            &quot;setUpClass&quot;,
            &quot;tearDownClass&quot;,
            &quot;setUpModule&quot;,
            &quot;tearDownModule&quot;,
            &quot;asyncSetUp&quot;,
            &quot;asyncTearDown&quot;,
            &quot;setUpTestData&quot;,
            &quot;failureException&quot;,
            &quot;longMessage&quot;,
            &quot;maxDiff&quot;,
        ],
        classmethod_decorators: [
            &quot;classmethod&quot;,
        ],
        staticmethod_decorators: [
            &quot;staticmethod&quot;,
        ],
    },
    pycodestyle: Settings {
        ignore_overlong_task_comments: false,
    },
    pydocstyle: Settings {
        convention: Some(
            Numpy,
        ),
    },
    pyupgrade: Settings {
        keep_runtime_typing: false,
    },
}
</code></pre>


<p>Please do let me know how can I be of more help! Thank you for your time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-06 01:24</div>
            <div class="timeline-body"><p>I think D205 falls into the category of &quot;sometimes fixable&quot;, in that we can fix it if there are <em>too many</em> blanks lines but not <em>too few</em> (the latter kept triggering false positives). There&#x27;s some discussion here: <a href="https://github.com/charliermarsh/ruff/issues/1084">charliermarsh/ruff#1084</a>.</p>
<p>Given that caveat, does it seem like Ruff is working as intended? Or no?</p>
<p>(Really appreciate all the settings you included here. If you want to include the docstring, that&#x27;d be great too! Thank you!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-06 01:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-06 04:02</div>
            <div class="timeline-body"><p>I think we should document whether autofixes always work or only sometimes work and in that case document when the autofix isn&#x27;t available ... I added that as a bullet point to #1467.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-06 04:20</div>
            <div class="timeline-body"><p>For now, to marginally improve things, we&#x27;ll no longer tell you the rule is &quot;potentially fixable&quot; in the command output if the error is the non-fixable case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-06 04:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baggiponte">@baggiponte</a> on 2023-01-06 10:29</div>
            <div class="timeline-body"><p>Thank you for your prompt reply!</p>
<blockquote>
<p>I think D205 falls into the category of &quot;sometimes fixable&quot;, in that we can fix it if there are too many blanks lines but not too few (the latter kept triggering false positives).
[...]
(Really appreciate all the settings you included here. If you want to include the docstring, that&#x27;d be great too! Thank you!)</p>
</blockquote>
<p>Sure, it basically was this:</p>
<pre><code>$ ruff src --show-source
src/futura_aws/s3.py:144:9: D205 1 blank line required between summary line and description
    |
144 |           &quot;&quot;&quot;Create a new bucket. Errors if the bucket already exists,
    |   _________^
145 | |         or the name is not available.
146 | |
147 | |         &quot;&quot;&quot;
    | |___________^ D205
    |
      = help: Insert single blank line

Found 1 error(s).
</code></pre>
<p>So, as you said, there were too few lines. As a side note: this happened because I split the line on two separate rows because it was too long - sometimes I wish <code>ruff</code> could run <code>black</code> too, or could autofix E501 (even in docstrings, where <code>black</code> does not work).</p>
<blockquote>
<p>Given that caveat, does it seem like Ruff is working as intended? Or no?</p>
</blockquote>
<p>Of course, always amazing!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:29 UTC
    </footer>
</body>
</html>
