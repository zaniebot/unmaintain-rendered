<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Broken link in mkdocs - astral-sh/ruff #2911</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Broken link in mkdocs</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2911">#2911</a>
        opened by <a href="https://github.com/lbellomo">@lbellomo</a>
        on 2023-02-15 04:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lbellomo">@lbellomo</a> on 2023-02-15 04:35</div>
            <div class="timeline-body"><p>The <a href="https://github.com/charliermarsh/ruff/blob/23d9309111c00daa6d4d70537a88118df22ca450/README.md?plain=1#L32">Near-parity</a> link is not in the <a href="https://beta.ruff.rs/docs/#how-does-ruff-compare-to-flake8">mkdocs</a> because it is in a different section. It should have <code>faq/</code> at the beginning of the link.</p>
<p>Something like this can be added to <code>generate_mkdocs.py</code> in the <code>main</code> to solve it:</p>
<pre><code>    # Make the documentation links in the README more relative.
    # content = content.replace(&quot;https://beta.ruff.rs&quot;, &quot;&quot;)

    # Add section at the start of the link
    content = content.replace(
        &quot;#how-does-ruff-compare-to-flake8&quot;,
        &quot;faq/#how-does-ruff-compare-to-flake8&quot;
    )
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-02-15 05:52</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
<p>Rather than adding more search and replace hacks to our mkdocs generation, I think we should rather just split the <code>README.md</code> into multiple files in the <code>docs</code> directory. So the FAQ section would be moved to <code>docs/faq.md</code>. This would also have the benefit that we could change the heading levels of the subsections to <code>&lt;h2&gt;</code> (currently they are <code>&lt;h3&gt;</code> which is wrong). And the above mentioned broken link could simply be changed to <code>[Near-parity](https://beta.ruff.rs/docs/faq/#how-does-ruff-compare-to-flake8)</code>.</p>
<p>I think this change is long overdue anyway since the README has become way too long.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @charliermarsh on 2023-02-15 13:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lbellomo">@lbellomo</a> on 2023-02-15 19:22</div>
            <div class="timeline-body"><p>I looked at this a bit and, if I understand correctly, the hardest thing to get this to work is to change <code>cargo dev generate-all</code> so that each sub command points to the correct section in docs/. Then there are small changes in the .md (such as changing the h3 to h2 and adding the h1) and <code>generate_mkdocs.py</code>.</p>
<p>Is it correct or am I missing something?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-02-15 20:07</div>
            <div class="timeline-body"><p>That sounds right to me.</p>
<p>I can get this started by making a PR to remove the <em>Supported Rules</em> and <em>Reference</em> sections from the README. If you want to help with this you could then follow up with the further splitting up, creating <code>docs/faq.md</code> and <code>docs/editor-integrations.md</code> (and updating <code>generate_mkdocs.py</code> accordingly).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-02-17 14:25</div>
            <div class="timeline-body"><p>This has been fixed by #2984.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-17 14:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:29:22 UTC
    </footer>
</body>
</html>
