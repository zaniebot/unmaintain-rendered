<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Import sorting is breaking file - astral-sh/ruff #9991</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Import sorting is breaking file</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9991">#9991</a>
        opened by <a href="https://github.com/theelderbeever">@theelderbeever</a>
        on 2024-02-14 21:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/theelderbeever">@theelderbeever</a></div>
            <div class="timeline-body"><p>I am using the vscode sort on save setting and the following happens when I save the file. Variations of this happen on multiple files to the point of affecting code as well.</p>
<p>Before:
<img alt="image" src="https://github.com/astral-sh/ruff/assets/29295582/47c0ae11-8741-4442-8fcc-eaa29a8d4e73"></p>
<p>After:
<img alt="image" src="https://github.com/astral-sh/ruff/assets/29295582/f747520d-3893-49d6-9c84-9bfdae2a69ad"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-02-14 21:50</div>
            <div class="timeline-body"><p>I think it has something to do with trailing commas in tuples</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-14 22:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">isort</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-14 22:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-14 22:02</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
<p>If you have time could you provide a minimal example (as text rather than a screenshot) that reproduces the problem? It&#x27;d be helpful to narrow down what exactly causes the problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-15 00:21</div>
            <div class="timeline-body"><p>Do you have the isort extension enabled? To me, this looks a lot like <a href="https://github.com/astral-sh/ruff-vscode/issues/128">astral-sh/ruff-vscode#128</a> which unfortunately is actually an unfixed VS Code bug (<a href="https://github.com/microsoft/vscode/issues/174295">microsoft/vscode#174295</a>) that results from having two extensions that both attempt to modify imports. Can you try disabling the isort extension?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-02-16 16:52</div>
            <div class="timeline-body"><p>@charliermarsh I had wondered if <code>isort</code> was implicated in this but, forgot that there was a dedicated extension for it. Just turned it off. The issue is weirdly intermittent so I won&#x27;t know if it fixes the problem for a bit. I think we can close for now and I can just reopen with better examples for @zanieb if it recurs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/theelderbeever">@theelderbeever</a> on 2024-02-16 16:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:50 UTC
    </footer>
</body>
</html>
