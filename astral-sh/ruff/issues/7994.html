<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inconsistent EXE001 behavior - astral-sh/ruff #7994</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Inconsistent EXE001 behavior</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/7994">#7994</a>
        opened by <a href="https://github.com/Scrat94">@Scrat94</a>
        on 2023-10-16 20:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Scrat94">@Scrat94</a> on 2023-10-16 20:17</div>
            <div class="timeline-body"><p>Hello,</p>
<p>Steps to reproduce:</p>
<ol>
<li>Have file <code>main.py</code></li>
<li>On the first line:  <code>#!/usr/bin/env python3</code></li>
<li>Run ruff locally on windows</li>
<li>Run ruff on Linux in GitLab CI runner</li>
</ol>
<p>Current behavior:</p>
<ul>
<li>Locally on windows no finding/error occurs</li>
<li>On GitLab Runner (Linux) the following error shows up: <code>main.py:1:1: EXE001 Shebang is present but file is not executable</code></li>
</ul>
<p>Expected behavior:</p>
<ul>
<li>Same result on local (windows) as well as on GitLab CI (Linux)</li>
</ul>
<p>Is my understanding correct, or is this the intended behavior? Much thanks in advance!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-16 20:41</div>
            <div class="timeline-body"><p>So, we don't enforce that rule on Windows at all, since IIUC there is no concept of file modes on Windows. So this may be expected, in that if the file isn't marked as executable, you wouldn't see an error on Windows, but <em>would</em> on Linux.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-16 20:41</div>
            <div class="timeline-body"><p>I'm wondering if you can run <code>git update-index --chmod=+x /path/to/exe</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Scrat94">@Scrat94</a> on 2023-10-16 21:08</div>
            <div class="timeline-body"><blockquote>
<p>So, we don't enforce that rule on Windows at all, since IIUC there is no concept of file modes on Windows. So this may be expected, in that if the file isn't marked as executable, you wouldn't see an error on Windows, but <em>would</em> on Linux.</p>
</blockquote>
<p>Thanks for the explanation, I guess I will just ignore the EXE-Rule(s). Currently cannot run the <code>git update-index --chmod=+x /path/to/exe</code></p>
<p>We can close the issue. Thanks for the quick reply.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Scrat94 on 2023-10-16 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-16 21:20</div>
            <div class="timeline-body"><p>No worries -- sorry for the confusion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-10-16 21:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:09 UTC
    </footer>
</body>
</html>
