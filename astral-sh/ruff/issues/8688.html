<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dataclasses: Detect subclasses trying setting a classvar for an inherited field - astral-sh/ruff #8688</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Dataclasses: Detect subclasses trying setting a classvar for an inherited field</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8688">#8688</a>
        opened by <a href="https://github.com/frenck">@frenck</a>
        on 2023-11-15 07:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/frenck">@frenck</a> on 2023-11-15 07:55</div>
            <div class="timeline-body"><p>It would be nice if Ruff was able to detect this case:</p>
<p><img src="https://github.com/astral-sh/ruff/assets/195327/6b725ca3-fff4-481a-8657-00f80e1924b0" alt="image" /></p>
<p>No linter available detects the case in B, which can lead to unexpected behavior.</p>
<p>../Frenck</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Detect subclasses trying setting a classvar for an inherited field" to "Dataclasses: Detect subclasses trying setting a classvar for an inherited field" by @frenck on 2023-11-15 07:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">multifile-analysis</span> added by @zanieb on 2023-11-15 15:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-15 15:50</div>
            <div class="timeline-body"><p>This seems sensible, but it's worth noting we are currently limited to looking for base classes in the same file so if your base dataclass type is defined somewhere else we will not be able to say if the field exists on it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-21 13:23</div>
            <div class="timeline-body"><p>@zanieb, what I understand is that this is a request for a new rule, and what you're saying is that implementing the rule today would be limited by the fact that Ruff doesn't support multi-file analysis. Is my understanding correct?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-03-21 13:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-21 15:53</div>
            <div class="timeline-body"><p>@MichaReiser that sounds right to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by @MichaReiser on 2024-10-24 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">multifile-analysis</span> removed by @MichaReiser on 2024-10-24 14:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:31:59 UTC
    </footer>
</body>
</html>
