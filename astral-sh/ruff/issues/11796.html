<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] switch from PreorderVisitor to regular Visitor - astral-sh/ruff #11796</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] switch from PreorderVisitor to regular Visitor</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11796">#11796</a>
        opened by <a href="https://github.com/carljm">@carljm</a>
        on 2024-06-07 15:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/carljm">@carljm</a> on 2024-06-07 15:15</div>
            <div class="timeline-body"><p>We don't need the extra features provided by <code>PreorderVisitor</code> (<code>enter_node</code>, <code>TraversalSignal</code> etc), and we prefer evaluation-order visit (which the regular visitor does) over source-order visit (which <code>PreorderVisitor</code> does).</p>
<p>Also in this issue we could consider renaming the visitors themselves; they are both preorder visitors (to the extent that description is even meaningful for this style of AST visitor; if you can override <code>visit_*</code> you can do things both before and after visiting children, so you can implement both preorder and postorder traversal) so it doesn't make sense to distinguish them on that axis. We should probably rename <code>PreorderVisitor</code> to <code>SourceOrderVisitor</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @carljm on 2024-06-07 15:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-06-07 16:33</div>
            <div class="timeline-body"><p>#11798 took care of the rename!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-17 06:54</div>
            <div class="timeline-body"><p>We must have done this in some refactor. @carljm I let you double check.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2024-07-19 20:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:34:08 UTC
    </footer>
</body>
</html>
