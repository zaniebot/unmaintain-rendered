<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D417 Argument descriptions only required if there is an &quot;Args&quot; section - astral-sh/ruff #2310</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>D417 Argument descriptions only required if there is an &quot;Args&quot; section</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2310">#2310</a>
        opened by <a href="https://github.com/jackdesert">@jackdesert</a>
        on 2023-01-28 19:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jackdesert">@jackdesert</a></div>
            <div class="timeline-body"><p>Expected the code snippet below to show D417. That is, expected it to tell me that the &quot;name&quot; argument does not have a description in the docstring. If I change the word &quot;Parameters&quot; to &quot;Args&quot;, then it will raise D417 as desired. Not sure if this is expected behavior, but it has been challenging to figure out.</p>
<p>Version: ruff 0.0.237</p>
<p>Code:</p>
<pre><code>
def hello(name):
    &quot;&quot;&quot;
    Do something.

    Parameters:
        other (str): what to call it

    Returns:
        bool: True if len(name) &gt; 0
    &quot;&quot;&quot;
    return len(name) &gt; 0
</code></pre>
<p>Command:</p>
<pre><code>ruff *.py
</code></pre>
<p>Output:</p>
<pre><code>run.py:1:1: D100 Missing docstring in public module
Found 1 error.
</code></pre>
<p>pyproject.toml:</p>
<pre><code>[tool.black]
skip-string-normalization = 1

[tool.ruff]
# Enable Pyflakes `E` and `F` codes by default.
select = [&quot;ALL&quot;]

# It appears that a single &quot;Q&quot; ignores all codes that start with Q
# but you could also disable single errors instead of classes of errors
ignore = [&quot;INP001&quot;, # implicit-namespace-package
          &quot;ANN&quot;,    # type annotations
          &quot;T20&quot;,    # flake8-print (warns when there are print statements)

          # One of these is to be disabled..
          # (I prefer disabling D212 (Multi-line docstring summary should start at the first line)
          #  because I like text inside a docstring
          #  to start the line below the three &quot;&quot;&quot;)
          #&quot;D213&quot;, # See <a href="https://github.com/charliermarsh/ruff/issues/2281">charliermarsh/ruff#2281</a>
          &quot;D212&quot;, # See <a href="https://github.com/charliermarsh/ruff/issues/2281">charliermarsh/ruff#2281</a>

          # One of these is to be disabled.
          # No strong preference here.
          # One expects a blank line before a class docstring
          #&quot;D203&quot;, # See <a href="https://github.com/charliermarsh/ruff/issues/2281">charliermarsh/ruff#2281</a>
          &quot;D211&quot;, # See <a href="https://github.com/charliermarsh/ruff/issues/2281">charliermarsh/ruff#2281</a>

]


# Allow autofix for all enabled rules (when `--fix`) is provided.
fixable = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;]
unfixable = []

# Exclude a variety of commonly ignored directories.
exclude = [
    &quot;.bzr&quot;,
    &quot;.direnv&quot;,
    &quot;.eggs&quot;,
    &quot;.git&quot;,
    &quot;.hg&quot;,
    &quot;.mypy_cache&quot;,
    &quot;.nox&quot;,
    &quot;.pants.d&quot;,
    &quot;.ruff_cache&quot;,
    &quot;.svn&quot;,
    &quot;.tox&quot;,
    &quot;.venv&quot;,
    &quot;__pypackages__&quot;,
    &quot;_build&quot;,
    &quot;buck-out&quot;,
    &quot;build&quot;,
    &quot;dist&quot;,
    &quot;node_modules&quot;,
    &quot;venv&quot;,
]
per-file-ignores = {}

# Same as Black.
line-length = 88

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = &quot;^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$&quot;

# Assume Python 3.10.
target-version = &quot;py310&quot;

[tool.ruff.mccabe]
# Unlike Flake8, default to a complexity level of 10.
max-complexity = 10

# This is how you tell Q000 errors to prefer single quotes
[tool.ruff.flake8-quotes]
inline-quotes = &quot;single&quot;

# I like the google docstyle
# See https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html
# and http://google.github.io/styleguide/pyguide.html
# https://gist.github.com/redlotus/3bc387c2591e3e908c9b63b97b11d24e
# If it complains that you do not have an argument description,
# make sure you have a section called &quot;Args:&quot;, not &quot;Arguments&quot; or &quot;Parameters&quot;
[tool.ruff.pydocstyle]
convention = &quot;google&quot;  # Or &quot;numpy&quot;, or &quot;pep257&quot;
#convention = &quot;pep257&quot;  # Or &quot;numpy&quot;, or &quot;pep257&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jackdesert">@jackdesert</a> on 2023-01-28 19:13</div>
            <div class="timeline-body"><p>I kept focusing in on the line with the actual argument instead of the &quot;Parameters&quot; heading.</p>
<p>The most helpful thing for me, being new to both ruff and pydocstyle, would be if it told me that I didn&#x27;t even have a section called &quot;Args&quot;.</p>
<p>But most confusing was when it didn&#x27;t raise any error at all. So even if it just raised the generic <code>D417 Missing argument description in the docstring: &#x27;name&#x27;</code> that would be better than not raising any error at all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-29 19:08</div>
            <div class="timeline-body"><p>Yeah &quot;Parameters&quot; isn&#x27;t a respected Google-style heading, so it basically ignores it. I believe <code>pydocstyle</code> has similar behavior. (They probably do warn when you use <code>Parameters</code>, but IMO for the wrong reason. IIRC, if you use <code>Parameters</code>, they infer that you&#x27;re using a NumPy-style docstring, which can cause other problems in how they validate it. Our configuration is more explicit.)</p>
<p>I think either <code>Args:</code> or <code>Arguments:</code> works in my testing.</p>
<p>One thing we could do to make this clearer is warn when you use a heading that isn&#x27;t in the list of valid Google section names (assuming you have <code>convention = &quot;google&quot;</code> set, and similarly for NumPy):</p>
<pre><code>[
    &quot;Args&quot;,
    &quot;Arguments&quot;,
    &quot;Attention&quot;,
    &quot;Attributes&quot;,
    &quot;Caution&quot;,
    &quot;Danger&quot;,
    &quot;Error&quot;,
    &quot;Example&quot;,
    &quot;Examples&quot;,
    &quot;Hint&quot;,
    &quot;Important&quot;,
    &quot;Keyword Args&quot;,
    &quot;Keyword Arguments&quot;,
    &quot;Methods&quot;,
    &quot;Note&quot;,
    &quot;Notes&quot;,
    &quot;Return&quot;,
    &quot;Returns&quot;,
    &quot;Raises&quot;,
    &quot;References&quot;,
    &quot;See Also&quot;,
    &quot;Tip&quot;,
    &quot;Todo&quot;,
    &quot;Warning&quot;,
    &quot;Warnings&quot;,
    &quot;Warns&quot;,
    &quot;Yield&quot;,
    &quot;Yields&quot;,
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jackdesert">@jackdesert</a> on 2023-01-30 15:28</div>
            <div class="timeline-body"><p>Warning about an incorrect heading would be awesome.</p>
<p>What is the expected behavior if there is no heading at all (when we want to see D417 errors)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 17:33</div>
            <div class="timeline-body"><blockquote>
<p>Warning about an incorrect heading would be awesome.</p>
</blockquote>
<p>Yeah we could easily do this. It might need to be marked as an explicitly-enabled rule though, and not something that&#x27;s automatically enabled as part of the <code>D</code> rule set, since it deviates from <code>pydocstyle</code>.</p>
<blockquote>
<p>What is the expected behavior if there is no heading at all (when we want to see D417 errors)?</p>
</blockquote>
<p>I <em>think</em> if you omit that section, there&#x27;s no way to enforce that the errors are present. I <em>think</em> that&#x27;s consistent with <code>pydocstyle</code> unfortunately.</p>
<p>I want to implement <code>darglint</code> (#458) which will be more comprehensive and would handle that, but I can&#x27;t work on it immediately.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 22:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wyardley">@wyardley</a> on 2024-01-12 20:55</div>
            <div class="timeline-body"><blockquote>
<p>The most helpful thing for me, being new to both ruff and pydocstyle, would be if it told me that I didn&#x27;t even have a section called &quot;Args&quot;.</p>
</blockquote>
<p>Agreed; also, it won&#x27;t catch misspellings / typos / etc. like if the section is headed
<code>Arguments</code> vs <code>Args</code>.</p>
<p>Now that pydocstyle seems to be <a href="https://github.com/PyCQA/pydocstyle#ruff-a-modern-alternative">deprecated in favor of this project</a>, are all the components related to it being maintained directly here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adamjstewart">@adamjstewart</a> on 2024-05-15 17:31</div>
            <div class="timeline-body"><p>Encountered this issue too because I was missing an <code>Args:</code> section entirely. I would expect D417 to be raised if <em>none</em> of my params are undocumented, not only when <em>some</em> of my params are undocumented.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-15 18:03</div>
            <div class="timeline-body"><p>This might need to be a new rule, like: you&#x27;re missing a required section.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adamjstewart">@adamjstewart</a> on 2024-05-15 19:13</div>
            <div class="timeline-body"><p>I would also be fine with a new rule for this, see #11435 which is related.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eirkkr">@eirkkr</a> on 2024-12-27 00:54</div>
            <div class="timeline-body"><p>+1 for a rule/rules which pick up missing docstring sections. I am overhauling my docstrings and this would be helpful.</p>
<p>There is already the preview rule &#x27;DOC201&#x27; which picks up missing &#x27;Returns&#x27; section, which is great.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/helmut-hoffer-von-ankershoffen">@helmut-hoffer-von-ankershoffen</a> on 2025-01-05 13:39</div>
            <div class="timeline-body"><p>+1 - Was very confusing that ruff did not spot missing Args section.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dconathan">@dconathan</a> on 2025-01-29 03:28</div>
            <div class="timeline-body"><blockquote>
<p>+1 - Was very confusing that ruff did not spot missing Args section.</p>
</blockquote>
<p>+1 here too</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PaleNeutron">@PaleNeutron</a> on 2025-03-25 01:14</div>
            <div class="timeline-body"><p>Nowadays, openai&#x27;s new agent SDK explicitly rely on docstring.  See  https://openai.github.io/openai-agents-python/tools/</p>
<p>Make sure all docstring&#x27;s format is correct is much more vital. We really need this feature.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:31 UTC
    </footer>
</body>
</html>
