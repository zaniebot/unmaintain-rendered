<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuzzer fails to build memchr - astral-sh/ruff #9368</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fuzzer fails to build memchr</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/9368">#9368</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-01-02 21:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zanieb">@zanieb</a> on 2024-01-02 21:34</div>
            <div class="timeline-body"><p>See https://github.com/astral-sh/ruff/actions/runs/7390478731/job/20105487965</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ci</span> added by @zanieb on 2024-01-02 21:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9369.html">astral-sh/ruff#9369</a> on 2024-01-02 21:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-01-02 22:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-02 22:57</div>
            <div class="timeline-body"><p>@addisoncrump -- Any chance it's obvious to you why this started failing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/addisoncrump">@addisoncrump</a> on 2024-01-02 23:27</div>
            <div class="timeline-body"><p>The CI tells the truth :dove: : https://github.com/astral-sh/ruff/actions/runs/7390478731/job/20105487965#step:6:39</p>
<p>It seems that musl is being set somehow.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/addisoncrump">@addisoncrump</a> on 2024-01-03 00:05</div>
            <div class="timeline-body"><p>Notably, it seems that the bin provided from binstall is a musl binary: https://github.com/astral-sh/ruff/actions/runs/7390478731/job/20105487965#step:5:39
This did not use to be the case: https://github.com/astral-sh/ruff/actions/runs/7389857960/job/20103579755#step:5:39</p>
<p>At a guess, this is some weird &quot;rust binary expects consistency&quot; issue. I'll try to repro locally.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/addisoncrump">@addisoncrump</a> on 2024-01-03 00:13</div>
            <div class="timeline-body"><p>Yup, just verified locally: building with <a href="https://github.com/rust-fuzz/cargo-fuzz/releases/tag/0.11.3">the version provided by cargo-fuzz upstream</a> causes a build failure as it expects musl.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../rust-fuzz/cargo-fuzz/issues/355.html">rust-fuzz/cargo-fuzz#355</a> on 2024-01-03 00:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-03 00:26</div>
            <div class="timeline-body"><p>Nice, thank you. I was able to get CI passing by pinning to the previous minor: https://github.com/astral-sh/ruff/pull/9372</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/addisoncrump">@addisoncrump</a> on 2024-01-03 00:36</div>
            <div class="timeline-body"><p>Resolved at record pace :rocket: I'll communicate upstream to try to resolve this there so we can remove the pinning. Don't close this issue yet?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9372.html">astral-sh/ruff#9372</a> on 2024-01-03 00:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-26 07:28</div>
            <div class="timeline-body"><blockquote>
<p>Resolved at record pace ðŸš€ I'll communicate upstream to try to resolve this there so we can remove the pinning. Don't close this issue yet?</p>
</blockquote>
<p>@addisoncrump Let us know when we're good to close the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/addisoncrump">@addisoncrump</a> on 2024-01-26 14:37</div>
            <div class="timeline-body"><p>You can close it this side, there's now a tracking issue upstream: https://github.com/taiki-e/install-action/pull/352</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-26 14:46</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-01-26 14:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14478.html">astral-sh/ruff#14478</a> on 2024-11-20 05:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
