<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff rule to standardise `import x.y.z as alias` and `from x.y import z as alias` - astral-sh/ruff #15639</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ruff rule to standardise <code>import x.y.z as alias</code> and <code>from x.y import z as alias</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15639">#15639</a>
        opened by <a href="https://github.com/epenet">@epenet</a>
        on 2025-01-21 13:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epenet">@epenet</a></div>
            <div class="timeline-body"><p>Hi,</p>
<p>The current Home Assistant code base has a mix of <code>import x.y.z as alias</code> and <code>from x.y import z as alias</code></p>
<p>This leads to funny aesthetics, for example:</p>
<pre><code class="language-python">from homeassistant.helpers import device_registry as dr
import homeassistant.helpers.issue_registry as ir
</code></pre>
<p>or</p>
<pre><code class="language-python">from homeassistant.const import CONF_DEVICE_CLASS, CONF_NAME
from homeassistant.core import HomeAssistant
import homeassistant.helpers.config_validation as cv
from homeassistant.helpers.entity_platform import AddEntitiesCallback
from homeassistant.helpers.typing import ConfigType, DiscoveryInfoType
</code></pre>
<p>It would be nice to have a rule to be able to enforce <code>from x.y import z as alias</code>, which will also unlock the grouping</p>
<pre><code class="language-python">from homeassistant.helpers import device_registry as dr, issue_registry as ir
</code></pre>
<p>or</p>
<pre><code class="language-python">from homeassistant.const import CONF_DEVICE_CLASS, CONF_NAME
from homeassistant.core import HomeAssistant
from homeassistant.helpers import config_validation as cv
from homeassistant.helpers.entity_platform import AddEntitiesCallback
from homeassistant.helpers.typing import ConfigType, DiscoveryInfoType
</code></pre>
<p>Current isort configuration:</p>
<pre><code class="language-toml">[tool.ruff.lint.isort]
force-sort-within-sections = true
known-first-party = [
    &quot;homeassistant&quot;,
]
combine-as-imports = true
split-on-trailing-comma = false
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epenet">@epenet</a> on 2025-01-21 13:46</div>
            <div class="timeline-body"><p>Note: these are linked PRs on HA code base</p>
<ul>
<li>https://github.com/home-assistant/core/pull/136146 (merged - fixes some initial violations)</li>
<li>https://github.com/home-assistant/core/pull/136156 (draft of a pylint plugin which would be better replaced with a ruff rule)</li>
<li>https://github.com/home-assistant/core/pull/136162 (pending - would fix all violations for <code>homeassistant</code> namespace)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-01-21 14:01</div>
            <div class="timeline-body"><p>I think that overall makes sense but I'm not sure if it should go into isort or any of the other import-related linters.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-01-21 14:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-01-21 18:12</div>
            <div class="timeline-body"><p>Is this a duplicate of https://github.com/astral-sh/ruff/issues/14070?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-01-22 05:25</div>
            <div class="timeline-body"><p>I think #14070 is different than what's being asked here in that the linked issue is requesting to maintain consistency between <code>import ...</code> and <code>from ...</code> style imports i.e., strictly use one or the other (IIUC reading the issue description).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-01-22 07:35</div>
            <div class="timeline-body"><blockquote>
<p>requesting to maintain consistency between import ... and from ... style imports i.e., strictly use one or the other (IIUC reading the issue description</p>
</blockquote>
<p>But isn't this the same as is requested in this issue ðŸ˜†?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-01-22 08:03</div>
            <div class="timeline-body"><p>I think @epenet might be able to provide more context here. Is the request here strictly about converting a <code>import x.y as z</code> to <code>from x import y as z</code> or does the conversion from <code>import x.y</code> to <code>from x import y</code> is also applicable here.</p>
<p>While writing this, I realized that considering both might be more useful and thus this can be marked as duplicate of #14070</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epenet">@epenet</a> on 2025-01-22 08:56</div>
            <div class="timeline-body"><p>I was not aware of #14070, and it is definitely related.
However, I think that #14070 is too broad as not all imports are equivalent, and you cannot always migrate in both directions between mixed &lt;=&gt; option 1 &lt;=&gt; option 2.</p>
<p>I'll try to add a comment there but maybe keep this open a little while longer...</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:02 UTC
    </footer>
</body>
</html>
