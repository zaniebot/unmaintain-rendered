<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redundant quotes are kept while `format`ting a string from multiple lines to one - astral-sh/ruff #14472</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Redundant quotes are kept while <code>format</code>ting a string from multiple lines to one</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14472">#14472</a>
        opened by <a href="https://github.com/yury-fedotov">@yury-fedotov</a>
        on 2024-11-20 01:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yury-fedotov">@yury-fedotov</a></div>
            <div class="timeline-body">Description
<p>Ruff formatter seems to keep redundant quotes at the edges of lines when collapsing them into one line.</p>
<blockquote>
<p>P.S. Maybe it&#x27;s me not using multiline strings properly, and current behavior is expected.</p>
</blockquote>
MRE
<p>With <code>line-length</code> set at <code>100</code>, running <code>ruff format</code> gives this diff:</p>
<pre><code>- st.warning(
-     &quot;This page is not implemented yet,&quot;
-     &quot; and is just a placeholder to test navigation.&quot;
- )
+ st.warning(&quot;This page is not implemented yet,&quot; &quot; and is just a placeholder to test navigation.&quot;)
</code></pre>
<p>With redundant <code>&quot; &quot;</code> in the middle.</p>
References and context
<ul>
<li>List of keywords you searched for before creating this issue: <code>multiline</code></li>
<li>The command you invoked: <code>ruff format</code></li>
<li>The current Ruff version: <code>0.7.1</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-11-20 02:20</div>
            <div class="timeline-body"><p>Would the lint rule <a href="https://docs.astral.sh/ruff/rules/single-line-implicit-string-concatenation/">ISC001</a> achieve what you&#x27;re after here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yury-fedotov">@yury-fedotov</a> on 2024-11-20 02:58</div>
            <div class="timeline-body"><blockquote>
<p>Would the lint rule <a href="https://docs.astral.sh/ruff/rules/single-line-implicit-string-concatenation/">ISC001</a> achieve what you&#x27;re after here?</p>
</blockquote>
<p>Good point! Let me close the issue then - I think the solution against this problem is as you stated, just use <code>ISC001</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/yury-fedotov">@yury-fedotov</a> on 2024-11-20 02:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-20 07:15</div>
            <div class="timeline-body"><p>Ruff&#x27;s formatter will join the two strings in an upcoming release early next year. See <a href="https://github.com/astral-sh/ruff/pull/13663">astral-sh/ruff#13663</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:00 UTC
    </footer>
</body>
</html>
