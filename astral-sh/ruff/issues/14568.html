<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>option for remapped/removed rules to report an error instead of a warning - astral-sh/ruff #14568</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>option for remapped/removed rules to report an error instead of a warning</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14568">#14568</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2024-11-25 01:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DetachHead">@DetachHead</a></div>
            <div class="timeline-body"><p>#14435 made it so that these are now reported as a warning instead of an error. however in my project i like having all checks as strict as possible, and would like my CI to fail if any outdated rules are present in my config. it would be nice if there was an option to enable the previous more strict behavior</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "option for remapped/removed rules to report and error instead of a warning" to "option for remapped/removed rules to report an error instead of a warning" by @DetachHead on 2024-11-25 01:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @MichaReiser on 2024-11-25 07:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-25 07:59</div>
            <div class="timeline-body"><p>A specific option just for remapped/removed rules seems too narrow to me. There are other configuration warnings (e.g. incompatible rules) that you may want to error on, to be as &quot;strict as possible&quot;</p>
<p>The way I envision this in Red Knot is that:</p>
<ul>
<li>There's a new warning severity</li>
<li>Warnings in configurations are emitted as regular &quot;diagnostics&quot; except that they point to the configuration file rather than a python file</li>
<li>There's a CLI flag (I don't remember the exact name) that allows promoting all warnings to errors OR specifying the maximum number of allowed warnings</li>
</ul>
<p>This has the advantage that it is a generic concept and allows for workflows where warnings are accepted locally (e.g. because a possibly undefined variable isn't something that needs fixing right away) but fail in CI.</p>
<p>Getting there for Ruff will require refactoring our diagnostic system first and introducing a warning severity (not necessarily for rules, but the diagnostic system must support it)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DetachHead">@DetachHead</a> on 2024-11-25 08:25</div>
            <div class="timeline-body"><p>sounds great, looking forward to red knot!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-12-29 01:03</div>
            <div class="timeline-body"><blockquote>
<ul>
<li>There's a new warning severity</li>
</ul>
</blockquote>
<p>Referencing https://github.com/astral-sh/ruff/issues/1256, that's something I've been wanting since the start ^^</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:38 UTC
    </footer>
</body>
</html>
