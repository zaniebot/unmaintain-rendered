<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISC001: Opportunity for more autofixes - astral-sh/ruff #7794</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ISC001: Opportunity for more autofixes</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/7794">#7794</a>
        opened by <a href="https://github.com/JelleZijlstra">@JelleZijlstra</a>
        on 2023-10-04 00:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/JelleZijlstra">@JelleZijlstra</a> on 2023-10-04 00:08</div>
            <div class="timeline-body"><p>Rule ISC001 merges adjacent implicitly concatenated strings. It can't always be autofixed, but I noticed a few occasions where Ruff didn't autofix issues that I would have expected it to fix for me:</p>
<pre><code>$ cat isc001.py 
&quot;&quot;&quot;hi&quot;&quot;&quot; &quot;bye&quot;
&quot;hi&quot; f&quot;{something}&quot;
$ python -m ruff check --select=ISC001 isc001.py --fix
a/gating_defs/isc001.py:1:1: ISC001 Implicitly concatenated string literals on one line
a/gating_defs/isc001.py:2:1: ISC001 Implicitly concatenated string literals on one line
Found 2 errors.
$ python -m ruff --version
ruff 0.0.292
</code></pre>
<p>In the first case, I assume it doesn't autofix because it doesn't know what quote style to use. But I think it's fine to assume that if the user used both triple and normal quotes, the triple quotes are &quot;bigger&quot; and should be in the output.</p>
<p>For the f-string case, there is a risk of issues if the non-fstring part contains braces. However, it should be safe to combine both strings into a single f-string if the non-f-string doesn't contain <code>{</code> or <code>}</code>. (You could also consider merging strings that do contain those characters and escape the braces, but that might be more controversial.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">autofix</span> added by @dhruvmanila on 2023-10-05 03:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @dhruvmanila on 2023-10-05 03:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @charliermarsh on 2024-01-04 03:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
