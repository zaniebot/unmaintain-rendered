<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: Rule + Autofix to upgrade `while 1` Python 2 code to `while True` - astral-sh/ruff #21870</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: Rule + Autofix to upgrade <code>while 1</code> Python 2 code to <code>while True</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/21870">#21870</a>
        opened by <a href="https://github.com/Avasam">@Avasam</a>
        on 2025-12-09 18:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Avasam">@Avasam</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>(note: I do not want to discuss the merits of banning <code>while True</code> here, there's other issues for that: https://github.com/astral-sh/ruff/issues/3845 / https://github.com/astral-sh/ruff/issues/20390)</p>
<p>I would like a pyupgrade-spirited autofixer to migrate <code>while 1:</code>, which may be common in projects that used to support Python 2, into a more idiomatic <code>while True:</code>.</p>
<p>It's not hard to search &amp; replace myself, but since it can be automated, I feel like it would fit right in with code modernization and consistency autofixers.</p>
<p><img width="220" height="240" alt="Image" src="https://github.com/user-attachments/assets/3713fdfd-5bf5-4d9a-8241-a59245e4fcaf" /></p>
<hr />
<p>Whilst my use case is specifically about <code>while 1:</code>. Such a rule could be generalized to &quot;Usage of an always-truthy literal as a <code>while</code> loop condition&quot; and catch stuff like <code>while &quot;always&quot;:</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @amyreese on 2025-12-09 18:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @amyreese on 2025-12-09 18:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-09 18:53</div>
            <div class="timeline-body"><blockquote>
<p>Whilst my use case is specifically about while 1:. Such a rule could be generalized to &quot;Usage of an always-truthy literal as a while loop condition&quot; and catch stuff like while &quot;always&quot;:</p>
</blockquote>
<p>This might be tricky or conflicting with a rule that helps you to catch accidental &quot;always true&quot; conditions. So I don't think we want to do this for all expressions that are always truthy but some well known cases</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2025-12-09 19:29</div>
            <div class="timeline-body"><blockquote>
<p>This might be tricky or conflicting with a rule that helps you to catch accidental &quot;always true&quot; conditions. So I don't think we want to do this for all expressions that are always truthy but some well known cases</p>
</blockquote>
<p>Agreed, that's why I scoped that additional suggestion to only literals (and not check any expressions), and only for &quot;while loop conditions&quot;.</p>
<p>I'd be perfectly happy with just <code>while 1:</code>. Just trying to think of the bigger picture.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:53:40 UTC
    </footer>
</body>
</html>
