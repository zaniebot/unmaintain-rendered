<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R is valid prefix at runtime but not included in JSON schema - astral-sh/ruff #17890</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>R is valid prefix at runtime but not included in JSON schema</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17890">#17890</a>
        opened by <a href="https://github.com/xixixao">@xixixao</a>
        on 2025-05-06 14:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/xixixao">@xixixao</a> on 2025-05-06 14:43</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><strong>Problem</strong>: <code>ruff check --select R</code> works, so <code>R</code> seems to be a valid rule selector.
But neither https://github.com/astral-sh/ruff/blob/main/ruff.schema.json nor https://github.com/SchemaStore/schemastore/edit/master/src/schemas/json/ruff.json include &quot;R&quot; in the list of valid select rules. This leads to <code>pyproject.toml</code> that includes &quot;R&quot; in <code>lint.select</code> items to error in IDEs.</p>
<p><strong>Fix</strong>: I didn't open a PR because I don't know whether R is or isn't supposed to be valid.</p>
<p><strong>Workaround</strong>: Use the more explicit <code>&quot;RET&quot;</code>, which is the only rule set that R enables.</p>
<h3>Version</h3>
<p>ruff 0.11.8 (75effb8ed 2025-05-01)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @AlexWaygood on 2025-05-06 15:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-06 15:24</div>
            <div class="timeline-body"><p>I'm not sure that allowing <code>R</code> to enable all <code>RET</code>, <code>RSE</code> and <code>RUF</code> is intentional. The main idea is that you can enable multiple rules from the same category, but not necessarily across categories.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xixixao">@xixixao</a> on 2025-05-06 15:43</div>
            <div class="timeline-body"><p>In fact I just debugged it and &quot;R&quot; only enables &quot;RET&quot;. Edited my first comment. Seems more likely that &quot;R&quot; at runtime is a bug (or perhaps a legacy behavior?).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-06 17:53</div>
            <div class="timeline-body"><p>Yeah, it may be a relict from before we had <code>RUF</code> rules. That seems even worse :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MichaReiser on 2025-05-06 17:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @MichaReiser on 2025-05-06 17:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-06 17:54</div>
            <div class="timeline-body"><p>@ntBre I think this shouldn't be too hard to fix. In case you're looking for a possible bug fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-06 17:56</div>
            <div class="timeline-body"><p>Thanks! I'll keep my eye on it if no contributors get to it first.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/VanOvermeire">@VanOvermeire</a> on 2025-05-06 19:15</div>
            <div class="timeline-body"><p>I was just exploring your tool and codebase when I saw this issue. Maybe I've misunderstood, but this seems like a one-line fix?</p>
<p>https://github.com/astral-sh/ruff/pull/17896</p>
<p>If so, apologies for stealing your bug @ntBre :D</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:37:24 UTC
    </footer>
</body>
</html>
