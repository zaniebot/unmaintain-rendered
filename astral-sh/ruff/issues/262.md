```yaml
number: 262
title: Fail hard on invalid configuration?
type: issue
state: closed
author: amotl
labels: []
assignees: []
created_at: 2022-09-23T21:46:56Z
updated_at: 2022-09-24T01:16:08Z
url: https://github.com/astral-sh/ruff/issues/262
synced_at: 2026-01-10T01:56:43Z
```

# Fail hard on invalid configuration?

---

_Issue opened by @amotl on 2022-09-23 21:46_

Dear Charlie,

on #124, `ruff` failed to properly load its configuration from `pyproject.toml`, like:
```
Failed to load pyproject.toml: unknown field `ignore`, expected one of `line-length`, `exclude`, `select` for key `tool.ruff` at line 199 column 1
```

I don't know if the program should fall back to a default configuration without further ado.
```
Falling back to default configuration...
```
At the first sight, the problem from the misconfiguration outlined above was not easy to spot, because the subsequent very large admonition output made the original error message scroll above the fold [^1].

Would making `ruff` fail hard be an option here?

With kind regards,
Andreas.

[^1]: We are using `line-length = 120`, so the output was pretty huge.

_Originally posted by @amotl in https://github.com/charliermarsh/ruff/issues/124#issuecomment-1240040300_
      

---

_Renamed from "Fail hard on invalid configuration" to "Fail hard on invalid configuration?" by @amotl on 2022-09-23 21:47_

---

_Referenced in [astral-sh/ruff#264](../../astral-sh/ruff/pulls/264.md) on 2022-09-23 22:04_

---

_Closed by @charliermarsh on 2022-09-24 01:16_

---
