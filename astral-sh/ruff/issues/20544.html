<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>new rule - ban importing specific names from a module if the whole module is already imported (or vice versa) - astral-sh/ruff #20544</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>new rule - ban importing specific names from a module if the whole module is already imported (or vice versa)</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/20544">#20544</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2025-09-24 07:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DetachHead">@DetachHead</a> on 2025-09-24 07:45</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>my codebase has a lot of imports like this in the same file:</p>
<pre><code class="language-py">from foo import some_module
from foo.some_module import a, b, c
</code></pre>
<p>which means there are often inconsistent usages of the names imported from that module:</p>
<pre><code class="language-py">a()
some_module.a()
</code></pre>
<p>it would be nice if ruff had a rule to enforce that only one kind of import is allowed for each module being imported in the current file.</p>
<p>note that i don't necessarily want to enforce one or the other, because whether we want to import the whole module or just a few names from it usually depends on how many names we want to import. so the rule would only complain if <em>both</em> methods of importing from the same module are present.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "ban importing specific names from a module if the whole module is already imported (or vice versa)" to "new rule - ban importing specific names from a module if the whole module is already imported (or vice versa)" by @DetachHead on 2025-09-24 07:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-09-24 12:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @ntBre on 2025-09-24 12:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-24 12:53</div>
            <div class="timeline-body"><p>I thought there was an existing request for this, but I was thinking of https://github.com/astral-sh/ruff/issues/10638, which seems a bit different.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../DetachHead/basedpyright/issues/1633.html">DetachHead/basedpyright#1633</a> on 2025-11-09 06:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/injust">@injust</a> on 2025-11-09 07:24</div>
            <div class="timeline-body"><p>Adding some context that was discussed over at https://github.com/DetachHead/basedpyright/issues/1633:</p>
<blockquote>
<p>There is definitely a valid use case for combining <code>import foo</code> and <code>from foo import bar</code> for the same module. For example, <code>randrange()</code> is self-explanatory in what it does, <code>choices()</code> is unclear and should be instead written as <code>random.choices()</code>.</p>
</blockquote>
<p>I don't disagree with this rule proposal, but I've definitely written code that goes against it (with good reason, I think).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
