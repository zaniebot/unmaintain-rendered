<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: Autofix for `future-annotations-in-stub`/`PYI044` - astral-sh/ruff #14186</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: Autofix for <code>future-annotations-in-stub</code>/<code>PYI044</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14186">#14186</a>
        opened by <a href="https://github.com/Avasam">@Avasam</a>
        on 2024-11-08 01:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Avasam">@Avasam</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>This one sounds like a pretty safe autofix, as the description of the rule says: &quot;<code>from __future__ import annotations</code> has no effect in stub files&quot;. It's basically the same autofix as https://docs.astral.sh/ruff/rules/unused-import/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by @MichaReiser on 2024-11-08 06:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @MichaReiser on 2024-11-08 06:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-11-08 06:24</div>
            <div class="timeline-body"><p>I think this autofix already exists but it's currently in preview.</p>
<pre><code class="language-console">➜   echo &quot;from __future__ import annotations&quot; &gt; tmp.pyi
➜   ruff check tmp.pyi --select PYI --preview --fix
Found 1 error (1 fixed, 0 remaining).
➜   cat tmp.pyi
➜  
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-11-08 07:39</div>
            <div class="timeline-body"><p>It was added a while ago in #12676. The fix is both safe and small, so it probably won't have to stay in preview for much longer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-11-08 07:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-11-08 15:45</div>
            <div class="timeline-body"><p>Ah I must've missed it being in preview then. I thought I did run with --preview, but maybe not. Thanks !</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:28 UTC
    </footer>
</body>
</html>
