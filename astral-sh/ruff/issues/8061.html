<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Align `TD003` with VSCode github extension automatic issue creation - astral-sh/ruff #8061</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Align `TD003` with VSCode github extension automatic issue creation</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8061">#8061</a>
        opened by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a>
        on 2023-10-19 09:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a> on 2023-10-19 09:19</div>
            <div class="timeline-body"><p>Rule: https://docs.astral.sh/ruff/rules/missing-todo-link/#missing-todo-link-td003</p>
<p>In VSCode, if I have a TODO without an issue number, it suggests creating an issue in the quick fix menu:</p>
<p><img src="https://github.com/astral-sh/ruff/assets/8526086/75e94f65-b515-48dc-94b1-593721501ada" alt="image" /></p>
<p>However, the syntax does not match with TD003.</p>
<p><img src="https://github.com/astral-sh/ruff/assets/8526086/21424bcc-4d60-4f39-8d21-65f798fc632d" alt="image" /></p>
<p><img src="https://github.com/astral-sh/ruff/assets/8526086/6cb41656-22fc-4460-9129-1f5ff59eb99f" alt="image" /></p>
<p>Would be super nice if those two were aligned!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a> on 2023-10-19 09:26</div>
            <div class="timeline-body"><p>It's a different type of rule than the currently implemented ones, since this numbering is on the same line as the TODO.</p>
<p>I imagine it'd be a separate branch in the control-flow in todos here.</p>
<p>https://github.com/astral-sh/ruff/blob/67b043482a5d2f34ee57d7947482ee3429084d54/crates/ruff_linter/src/rules/flake8_todos/rules/todos.rs#L234-L295</p>
<p>With a regex rule like <code># TODO: #[0-9]+ </code>.</p>
<p>It does diverge from flake8-todos, but I'd find it super valuable, and imagine other users would as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Align TD003 with VSCode github extension automatic issue creation" to "Align `TD003` with VSCode github extension automatic issue creation" by @MartinBernstorff on 2023-10-20 11:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-10-20 23:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-20 23:25</div>
            <div class="timeline-body"><p>I think we can support this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/a-recknagel">@a-recknagel</a> on 2023-10-23 14:12</div>
            <div class="timeline-body"><p>Could this be supported through a setting like</p>
<pre><code class="language-toml">[tool.ruff.flake8-todos]
link-regex = [
    &quot;.*\n\s*# https?://[\S]+^&quot;,  # link in comment on next line
    &quot;.*\(ABC[\d]+\)^&quot;,  # what I'd like to write, so that I can have # TODO(arne): improve code (ABC123)
]
</code></pre>
<p>where the regex is applied on the line where the TODO appears?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MartinBernstorff">@MartinBernstorff</a> on 2023-11-10 14:18</div>
            <div class="timeline-body"><p>@charliermarsh I might have some time over the weekend to implement this. Opinions on a link-regex option in toml vs. an adaptation of TD003? :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-10 14:36</div>
            <div class="timeline-body"><p>@MartinBernstorff - Nice! I think my preference would be to just adapt the logic to accept this for now, and parameterize later if we see more need for it. I prefer avoiding settings if we can just make the defaults better.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9627.html">astral-sh/ruff#9627</a> on 2024-01-23 18:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9986.html">astral-sh/ruff#9986</a> on 2024-02-14 18:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15519.html">astral-sh/ruff#15519</a> on 2025-01-15 23:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dylwil3 on 2025-01-15 23:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/20809.html">astral-sh/ruff#20809</a> on 2025-10-11 09:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:09 UTC
    </footer>
</body>
</html>
