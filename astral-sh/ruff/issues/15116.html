<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Updating benchmarks - astral-sh/ruff #15116</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Updating benchmarks</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15116">#15116</a>
        opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a>
        on 2024-12-23 03:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-12-23 03:05</div>
            <div class="timeline-body"><p><a href="https://github.com/astral-sh/ruff/issues/269">Almost 2 years ago</a> Ruff took 0.29 seconds to lint the CPython codebase from scratch on Charlie's setup. How long does it take now, with significantly more rules and logic?</p>
<p>My own results:</p>
<pre><code class="language-shell">$ time ruff check --select ALL --preview --silent
real    0m0.534s
user    0m0.544s
sys     0m0.319s

$ time ruff check --select ALL --silent
real    0m0.438s
user    0m0.495s
sys     0m0.199s

$ time ruff check --silent
real    0m0.032s
user    0m0.034s
sys     0m0.047s
</code></pre>
<p>In any case, the <code>README.md</code> graph should be updated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @dhruvmanila on 2024-12-23 04:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-12-23 04:23</div>
            <div class="timeline-body"><p>Yeah, makes sense. The benchmark scripts are located under <a href="https://github.com/astral-sh/ruff/tree/main/scripts/benchmarks"><code>./scripts/benchmarks</code></a>, which should still work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-23 09:02</div>
            <div class="timeline-body"><p>I took a quick look and I think we don't need to update them:</p>
<p>| Tool           | Duration Chart | Duration now | Ratio old/now        |
|----------------|----------------|--------------|----------------------|
|   Autoflake    |   6.18         |   2.243      |   0.36294498381877   |
|   Flake8       |   12.26        |   4.6        |   0.375203915171289  |
|   Pyflakes     |   15.79        |   9.37       |   0.593413552881571  |
|   Pycodestyle  |   46.92        |   21.13      |   0.450341005967604  |
|   Pylint       |   60           |   ??           |   0                  |
|   Ruff         |   0.29         |   0.08       |   0.275862068965517  |</p>
<p>It seems Ruff improved in performance more than any of the other tools. This might just be because I use a different machine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-12-23 09:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:05 UTC
    </footer>
</body>
</html>
