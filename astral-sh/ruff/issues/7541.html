<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`black_to_ruff`: automated migration of black configuration settings - astral-sh/ruff #7541</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`black_to_ruff`: automated migration of black configuration settings</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/7541">#7541</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-09-20 12:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2023-09-20 12:19</div>
            <div class="timeline-body"><p>Once the configuration for the formatter is implemented, we should write a tool, let's call it <code>black_to_ruff</code>, that automatically migrates as much of the black configuration to ruff configuration as possible. This should be based on or extend <code>flake8_to_ruff</code> which already reads some basic black config.</p>
<ul>
<li>[ ] Read the black configuration: line-length, target-version, skip-magic-trailing-comma, preview, include, exclude</li>
<li>[ ] Find the relevant ruff configuration, <code>pyproject.toml or </code>ruff.toml`</li>
<li>[ ] Ignore redundant options, warn and ignore for conflicting options</li>
<li>[ ] rewrite (toml_edit) the toml configuration file</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @konstin on 2023-09-20 12:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`blake_to_ruff`: automated migration of black configuration settings" to "`black_to_ruff`: automated migration of black configuration settings" by @konstin on 2023-09-20 12:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-09-20 12:51</div>
            <div class="timeline-body"><p>We may want to consider a <code>ruff init</code> or <code>ruff migrate</code> command that is part of ruff instead of <code>falke8_to_ruff</code> which is an independent binary</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-20 13:27</div>
            <div class="timeline-body"><p>I'm sort of medium on this, based on my experience with <code>flake8-to-ruff</code>. It's a nice idea in theory but ends up being a pain to translate from another tool's settings to our own (for example, how would we do includes and excludes, where Black uses a single regular expression?). And the payoff hasn't been great since it's a one-time tool. (Perhaps the discoverability is low given that it's a separate package and not a subcommand.) My hope is that our configuration is close enough to Black's that the migration should be trivial to do by-hand...</p>
<p>This isn't a hard no, but rather, I question whether it's a worthwhile investment (upfront and in ongoing maintenance) vs. other areas.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @MichaReiser on 2023-10-27 02:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 03:05</div>
            <div class="timeline-body"><p>I'm gonna close this as I'd prefer not to invest effort here. There are few enough configuration knobs that it's probably easy to just port the configuration than to download and figure out how to run a separate tool :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-11-03 03:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:10 UTC
    </footer>
</body>
</html>
