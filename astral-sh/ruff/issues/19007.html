<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simplify rule selection settings - astral-sh/ruff #19007</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Simplify rule selection settings</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/19007">#19007</a>
        opened by <a href="https://github.com/Tedpac">@Tedpac</a>
        on 2025-06-28 00:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Tedpac">@Tedpac</a> on 2025-06-28 00:15</div>
            <div class="timeline-body"><p>I've been thinking more deeply about an issue I raised a few days ago (#18884), and IMO, the rule selection settings can be simplified considerably.</p>
<h2>Proposal</h2>
<ol>
<li>Deprecate the <code>lint.select</code>/<code>lint.ignore</code> and <code>lint.extend-select</code>/<code>lint.extend-ignore</code> settings.</li>
<li>Implement the following settings:</li>
</ol>
<ul>
<li><code>lint.rules</code></li>
<li><code>lint.extend-rules</code></li>
</ul>
<ol start="3">
<li>Apply the same logic as <code>lint.select</code>/<code>lint.extend-select</code> to these settings, adding logic to ignore rules that start with <code>!</code>. For example, <code>!D213</code>. An alternative symbol could be <code>-</code> (e.g. <code>-D213</code>).</li>
</ol>
<h2>Why is this better?</h2>
<ol>
<li>Fewer settings (more simplicity).</li>
<li>Greater maintainability, since everything related to rule selection will be in a single setting. For example:</li>
</ol>
<pre><code class="language-toml">[tool.ruff.lint]
rules = [
  &quot;ALL&quot;,
  &quot;!D212&quot;, &quot;D213&quot;  # Start docstrings on the second line.
]

[tool.ruff.lint.pydocstyle]
convention = &quot;google&quot;
</code></pre>
<blockquote>
<p>[!NOTE]
On a single line (or block, if you prefer), you can select and ignore rules, as well as comment on what you want to achieve. This level of documentation and maintainability cannot be achieved with separate settings, as is currently the case.</p>
</blockquote>
<ol start="3">
<li>Better naming of settings:</li>
</ol>
<ul>
<li><code>rules</code> and <code>extend-rules</code> are <strong>explicit</strong>.</li>
<li><code>rules</code> and <code>extend-rules</code> are <strong>plural</strong>, as arrays should be.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-06-28 00:32</div>
            <div class="timeline-body"><p>My main thought is how would you mitigate churn/breakage? This change would require re-writing any configs and tools that rely on the old behavior, which would definitely be a substantial portion of the <code>ruff</code> ecosystem.</p>
<p>Another downside is that the existing behavior is consistent with other tools like <code>flake8</code> in python, which mitigates the cost of switching to <code>ruff</code>, as well as other language tools like <code>rust</code>'s <code>cargo</code>, which helps with familiarity to new users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Tedpac">@Tedpac</a> on 2025-06-28 02:23</div>
            <div class="timeline-body"><p>Thanks for the feedback!</p>
<p>To mitigate the impact of the change on the ecosystem, the transition should be gradual. Deprecation warnings would give users/tools time to migrate to the new settings. The documentation can include clear examples of how to transform the old settings into the new ones (which in theory is very simple). I can take care of the documentation.</p>
<p>You make a valid point about Flake8 compatibility being valuable for adoption. However, I'd argue that Ruff has already established its own identity with unique features that differentiate it from Flake8.</p>
<p>The current <code>select</code>/<code>ignore</code> pattern, while familiar, creates a cognitive burden where users need to think about rules in two separate places. The unified approach would make Ruff more intuitive, especially for new users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @ntBre on 2025-06-28 02:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @ntBre on 2025-06-28 02:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-28 06:30</div>
            <div class="timeline-body"><p>Thanks for the proposal</p>
<p>We reworked how rule selection works in our upcoming type checker and the proposal is similar to what you have but it also allows configuring different severities. See https://github.com/astral-sh/ty/blob/main/docs/reference/configuration.md</p>
<p>If we'll change ruff's configuration than probably to something that's closer or the same as ty than introducing another format</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:18 UTC
    </footer>
</body>
</html>
