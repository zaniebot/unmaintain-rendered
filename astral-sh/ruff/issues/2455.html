<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numpy deprecations - astral-sh/ruff #2455</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Numpy deprecations</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/2455">#2455</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2023-02-01 19:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sbrugman">@sbrugman</a> on 2023-02-01 19:52</div>
            <div class="timeline-body"><p>Numpy deprecated <code>np.bool</code> and other types in <a href="https://numpy.org/doc/stable/release/1.20.0-notes.html#using-the-aliases-of-builtin-types-like-np-int-is-deprecated">1.20</a>, which expired in the latest release <a href="https://numpy.org/doc/stable/release/1.24.0-notes.html#expired-deprecations">1.24</a>.</p>
<p>Deprecated name | Identical to | NumPy scalar type names
-- | -- | --
numpy.bool | bool | numpy.bool_
numpy.int | int | numpy.int_ (default), numpy.int64, or numpy.int32
numpy.float | float | numpy.float64, numpy.float_, numpy.double (equivalent)
numpy.complex | complex | numpy.complex128, numpy.complex_, numpy.cdouble(equivalent)
numpy.object | object | numpy.object_
numpy.str | str | numpy.str_
numpy.long | int | numpy.int_ (C long), numpy.longlong (largest integer type)
numpy.unicode | str | numpy.unicode_</p>
<p>Would be great to be able to automatically flag and fix this. Seen it pass by in multiple projects:
https://github.com/apache/spark/pull/37817
https://github.com/pandas-dev/pandas/pull/39019
https://github.com/dylan-profiler/visions/pull/184
https://github.com/plotly/plotly.py/issues/4010
https://stackoverflow.com/questions/67779374/deprecationwarning-np-bool</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-02-01 20:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 20:07</div>
            <div class="timeline-body"><p>It might be reasonable to add these as an <code>UP</code> rule, since those codes are made up anyway given that <code>pyupgrade</code> isn't actually a Flake8 plugin.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 20:09</div>
            <div class="timeline-body"><p>Although it might be incorrect to &quot;market&quot; rules as part of <code>pyupgrade</code> when they're in fact not.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-02-01 20:18</div>
            <div class="timeline-body"><p>Use <code>UPG</code> for &quot;upgrade&quot;? Or <code>UPN</code> for &quot;upgrade numpy&quot;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 20:20</div>
            <div class="timeline-body"><p>For now, if we did something like this, it's probably safest to put it in RUF or add a new category like <code>RX</code> that requires users to turn them on one-by-one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2023-02-01 20:20</div>
            <div class="timeline-body"><p>For the future effort of reorganizing rules, we might group them per dependency (if any). Now we have <code>pytest</code> and <code>pandas</code>. For now I'd opt for <code>flake8-numpy</code> or just <code>numpy</code> with <code>NPY</code>. (This allows to add all future rules related to the package there too). <code>RUF</code> is also fine of course.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 20:21</div>
            <div class="timeline-body"><p><code>NPY</code> is reasonable too, yeah.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-02-01 20:24</div>
            <div class="timeline-body"><p><code>NPY</code> makes so much sense. Good shout.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2023-02-02 15:01</div>
            <div class="timeline-body"><p>Also relevant for https://github.com/mlflow/mlflow/issues/4048</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2810.html">astral-sh/ruff#2810</a> on 2023-02-12 12:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-14 23:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12349.html">astral-sh/ruff#12349</a> on 2024-07-16 16:42</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
