<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use the indent-width setting for E111 and E114 - astral-sh/ruff #8705</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Use the indent-width setting for E111 and E114</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/8705">#8705</a>
        opened by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a>
        on 2023-11-15 22:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2023-11-15 22:37</div>
            <div class="timeline-body"><p><a href="https://docs.astral.sh/ruff/rules/indentation-with-invalid-multiple/">E111</a> should probably use the indent-width setting?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Use the indent-width setting for E111" to "Use the indent-width setting for E111 and E114" by @NeilGirdhar on 2023-11-15 22:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-15 23:10</div>
            <div class="timeline-body"><p>Hm it looks like these intentionally <em>do not</em> use this setting since there are notes about conflict with the formatter and they explicitly mention using a width of &quot;4&quot; in the documentation. I'm not sure I have the context to approve changing this. cc @charliermarsh / @MichaReiser</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-15 23:10</div>
            <div class="timeline-body"><p>I believe this is intentional since the pycodestyle rules are definitionally intended to adhere to PEP 8.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @zanieb on 2023-11-15 23:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2023-11-15 23:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-15 23:13</div>
            <div class="timeline-body"><p>Interestingly though, pycodestyle lets you configure the size.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-15 23:14</div>
            <div class="timeline-body"><p>Oh, it does?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-15 23:15</div>
            <div class="timeline-body"><p>Interesting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8708.html">astral-sh/ruff#8708</a> on 2023-11-15 23:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-15 23:19</div>
            <div class="timeline-body"><p>Here's a start https://github.com/astral-sh/ruff/pull/8708 â€” let me know if you're interested in writing the tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2023-11-16 20:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-28 03:34</div>
            <div class="timeline-body"><p>I thought I merged something related to this recently, but I can't find it...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-28 03:35</div>
            <div class="timeline-body"><p>Oh, I was thinking of https://github.com/astral-sh/ruff/pull/9506.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/asmaier">@asmaier</a> on 2024-04-26 15:54</div>
            <div class="timeline-body"><p>There is also a documentation bug at https://docs.astral.sh/ruff/rules/#pycodestyle-e-w . It says</p>
<pre><code>E111 Indentation is not a multiple of {indent_size}
...
E114 Indentation is not a multiple of {indent_size} (comment)</code></pre>
<p>However in settings the variable is called <code>indent-width</code>, see https://docs.astral.sh/ruff/settings/#indent-width</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-04-30 08:39</div>
            <div class="timeline-body"><blockquote>
<p>There is also a documentation bug at <a href="https://docs.astral.sh/ruff/rules/#pycodestyle-e-w">docs.astral.sh/ruff/rules/#pycodestyle-e-w</a> . It says</p>
<pre><code>E111 Indentation is not a multiple of {indent_size}
...
E114 Indentation is not a multiple of {indent_size} (comment)
</code></pre>
<p>However in settings the variable is called <code>indent-width</code>, see <a href="https://docs.astral.sh/ruff/settings/#indent-width">docs.astral.sh/ruff/settings/#indent-width</a></p>
</blockquote>
<p>Ah, that's because it's the name of the variable used internally: https://github.com/astral-sh/ruff/blob/c391c8b6cbbf798970f8a0ab4cfd3250eff38f1f/crates/ruff_linter/src/rules/pycodestyle/rules/logical_lines/indentation.rs#L76-L87</p>
<p>I think we should just rename that to <code>indent_width</code>. Do you want to open a PR for that? @asmaier</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-30 16:08</div>
            <div class="timeline-body"><p>Yeah let's just rename that variable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/11230.html">astral-sh/ruff#11230</a> on 2024-05-01 11:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sixshotx">@sixshotx</a> on 2025-05-06 01:34</div>
            <div class="timeline-body"><p>Looks like ruff still does not take <code>indent-width</code> for E111 and E114? I am using <code>0.9.1</code>.</p>
<pre><code>warning: The `format.indent-width` option with a value other than 4 is incompatible with `E111` and `E114`. We recommend disabling these rules when using the formatter, which enforces a consistent indentation width. Alternatively, set the `format.indent-width` option to `4`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../commaai/opendbc/pulls/2621.html">commaai/opendbc#2621</a> on 2025-08-04 22:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:11 UTC
    </footer>
</body>
</html>
