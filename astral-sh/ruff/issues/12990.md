```yaml
number: 12990
title: "`RUF018` Allow to calculate value for second `assert` expression in first expression"
type: issue
state: closed
author: minmax
labels:
  - rule
  - needs-triage
assignees: []
created_at: 2024-08-19T15:46:17Z
updated_at: 2024-12-10T07:11:24Z
url: https://github.com/astral-sh/ruff/issues/12990
synced_at: 2026-01-10T01:56:53Z
```

# `RUF018` Allow to calculate value for second `assert` expression in first expression

---

_Issue opened by @minmax on 2024-08-19 15:46_

Currently `assignment-in-assert` (`RUF018`) warns for every `:=` in `assert` section, but IMHO its ok to code like this:
```python
assert (count:=x - y) >= 1, f'Count lower then one: {count}'
```

So maybe disable `RUF018` for variables used only in second `assert` expression?


---

_Label `needs-triage` added by @MichaReiser on 2024-08-21 06:44_

---

_Label `rule` added by @MichaReiser on 2024-08-21 06:44_

---

_Comment by @minmax on 2024-12-09 22:26_

Already implemented in https://github.com/astral-sh/ruff/issues/14658

---

_Closed by @MichaReiser on 2024-12-10 07:11_

---
