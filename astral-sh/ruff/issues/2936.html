<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>converting f-strings to normal strings, contents are not correctly preserved  f'{{test}}' == '{test}' != '{{test}}' - astral-sh/ruff #2936</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>converting f-strings to normal strings, contents are not correctly preserved  f'{{test}}' == '{test}' != '{{test}}'</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/2936">#2936</a>
        opened by <a href="https://github.com/OliverTED">@OliverTED</a>
        on 2023-02-15 20:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/OliverTED">@OliverTED</a> on 2023-02-15 20:18</div>
            <div class="timeline-body"><p>The f-string f&quot;{{test}}&quot; without a variable, it is automatically converted to &quot;{{test}}&quot;.</p>
<p>But they are not the same. (See: https://peps.python.org/pep-0498/#escape-sequences ; e.g. f'{{ {4*10} }}' == '{ 40 }')</p>
<p>Expected: f&quot;{{test}}&quot; -&gt; &quot;{test}&quot;</p>
<p>BTW, Thanks for ruff ... !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-02-15 20:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-15 20:19</div>
            <div class="timeline-body"><p>Thanks for filing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-15 20:22</div>
            <div class="timeline-body"><p>(Confirmed, the autofix here just removes the prefix, but doesn't un-escape any curly contents.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2971.html">astral-sh/ruff#2971</a> on 2023-02-16 20:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-17 19:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
