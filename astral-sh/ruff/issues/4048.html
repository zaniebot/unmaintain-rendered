<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>support isort `use_parentheses` config - astral-sh/ruff #4048</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>support isort <code>use_parentheses</code> config</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4048">#4048</a>
        opened by <a href="https://github.com/andykais">@andykais</a>
        on 2023-04-20 15:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/andykais">@andykais</a></div>
            <div class="timeline-body">

<p>by default, isort will format the following imports:</p>
<pre><code>from foo.bar.baz import AndOneLastThing, AnotherThing, Baz, Foo, FooBar, FooBarBaz, OneMoreThing, SomeConfigurationThing, Something
</code></pre>
<p>as this:
<code>isort .</code></p>
<pre><code>from foo.bar.baz import AndOneLastThing, AnotherThing, Baz, Foo, FooBar, FooBarBaz, OneMoreThing, \
    SomeConfigurationThing, Something
</code></pre>
<p>while <code>ruff check . --fix</code> formats them as this:</p>
<pre><code>from foo.bar.baz import (
    AndOneLastThing,
    AnotherThing,
    Baz,
    Foo,
    FooBar,
    FooBarBaz,
    OneMoreThing,
    SomeConfigurationThing,
    Something,
)
</code></pre>
<p>Imo ruff has a better opinion about how these should be formatted, but we have a very large codebase, and we ideally we can migrate from flake8 and isort to ruff without any code changes necessary. The feature request here, would be if ruff could support the following config:</p>
<pre><code>
[isort]
use-parenthesis = false
</code></pre>
<p>ruff could keep <code>use-parenthesis = true</code> by default, to keep ruff&#x27;s existing behavior</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">isort</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-21 01:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-21 01:30</div>
            <div class="timeline-body"><p>I&#x27;m generally comfortable with adding configurable isort options as long as they don&#x27;t introduce &quot;excessive&quot; complexity (an entirely subjective measure). The main source of complexity I see here is around comments, since the continuation-line format doesn&#x27;t support inline (per-member) comments.</p>
<p>Trying to test it out locally, but do you have anything else set in your isort configuration? If I run isort with <code>use_parentheses = false</code> on that file, I get this output:</p>
<pre><code>from foo.bar.baz import (AndOneLastThing, AnotherThing, Baz, Foo, FooBar,
                         FooBarBaz, OneMoreThing, SomeConfigurationThing,
                         Something)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-21 01:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andykais">@andykais</a> on 2023-04-21 18:43</div>
            <div class="timeline-body"><p>ah. I actually think I was looking at the wrong piece of config. This is our actual config:</p>
<pre><code>[isort]
multi_line_output=2
</code></pre>
<p>which, I believe still has the comment issue you mentioned.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-10 01:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-10 01:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:35 UTC
    </footer>
</body>
</html>
