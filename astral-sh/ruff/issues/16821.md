```yaml
number: 16821
title: TC003 + pydantic.BaseModel
type: issue
state: closed
author: stiangrim
labels:
  - question
assignees: []
created_at: 2025-03-17T19:42:53Z
updated_at: 2025-03-17T20:14:18Z
url: https://github.com/astral-sh/ruff/issues/16821
synced_at: 2026-01-10T01:56:56Z
```

# TC003 + pydantic.BaseModel

---

_Issue opened by @stiangrim on 2025-03-17 19:42_

### Summary

Hi ðŸ‘‹ 
I have a problem with combining `TC003` with `BaseModel` from `pydantic`:

```
from __future__ import annotations

from typing import TYPE_CHECKING

if TYPE_CHECKING:
    import datetime

class DeliveryWindow(BaseModel):
    start_time: datetime.time
```

**`TC003`** tells me to move `datetime.time` inside `TYPE_CHECKING`, however creating an object of `DeliveryWindow` will cause an error:
```
{
    "error": "`DeliveryWindow` is not fully defined; you should define `datetime`, then call `DeliveryWindow.model_rebuild()`.\n\nFor further information visit https://errors.pydantic.dev/2.10/u/class-not-fully-defined",
    "error_type": "PydanticUserError"
}
```

### Version

0.11.0

---

_Comment by @stiangrim on 2025-03-17 19:56_

Closed as I found docs for this here:

https://docs.astral.sh/ruff/settings/#lint_flake8-type-checking_runtime-evaluated-base-classes

```
[tool.ruff.lint.flake8-type-checking]
runtime-evaluated-base-classes = ["pydantic.BaseModel"]
```

---

_Closed by @stiangrim on 2025-03-17 19:56_

---

_Label `question` added by @ntBre on 2025-03-17 20:14_

---
