```yaml
number: 3524
title: "[Panic] 'range end index 18446744073709551615 out of range for slice of length 0"
type: issue
state: closed
author: qarmin
labels:
  - bug
assignees: []
created_at: 2023-03-14T20:31:01Z
updated_at: 2023-03-14T22:02:17Z
url: https://github.com/astral-sh/ruff/issues/3524
synced_at: 2026-01-10T01:56:46Z
```

# [Panic] 'range end index 18446744073709551615 out of range for slice of length 0

---

_Issue opened by @qarmin on 2023-03-14 20:31_

Ruff 0.0.255
Command
```
ruff ~/Desktop/Ruff/Broken/AcquireFile6.py --config /home/rafal/Desktop/ruff.toml --fix --no-cache
```
Settings
```
select = ["ALL"]
```

[test_isinstance1.py.zip](https://github.com/charliermarsh/ruff/files/10973489/test_isinstance1.py.zip)

produce error 
```
error: `ruff` crashed. This indicates a bug in `ruff`. If you could open an issue at:

https://github.com/charliermarsh/ruff/issues/new?title=%5BPanic%5D

quoting the executed command, along with the relevant file contents and `pyproject.toml` settings, we'd be very appreciative!

thread 'main' panicked at 'range end index 18446744073709551615 out of range for slice of length 0', crates/ruff/src/rules/pyupgrade/rules/use_pep604_isinstance.rs:63:39

```

---

_Renamed from "[Infinite Loop] 'range end index 18446744073709551615 out of range for slice of length 0" to "[Panic] 'range end index 18446744073709551615 out of range for slice of length 0" by @qarmin on 2023-03-14 20:31_

---

_Comment by @charliermarsh on 2023-03-14 21:00_

Thanks! Are these all from the fuzzer?

---

_Label `bug` added by @charliermarsh on 2023-03-14 21:00_

---

_Comment by @qarmin on 2023-03-14 21:18_

From fuzzer, but not cargo-fuzz(#3507), only https://github.com/qarmin/create_broken_files - which takes valid files and broke them

---

_Assigned to @charliermarsh by @charliermarsh on 2023-03-14 21:56_

---

_Referenced in [astral-sh/ruff#3526](../../astral-sh/ruff/pulls/3526.md) on 2023-03-14 21:57_

---

_Closed by @charliermarsh on 2023-03-14 22:02_

---
