<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warnings about unused functions when `ruff_annotate_snippets` is built on Windows - astral-sh/ruff #17230</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Warnings about unused functions when <code>ruff_annotate_snippets</code> is built on Windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17230">#17230</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2025-04-06 12:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>See e.g. https://github.com/astral-sh/ruff/actions/runs/14292512574/job/40055575162?pr=17222:</p>
<pre><code>warning: function `setup` is never used
  --&gt; crates\ruff_annotate_snippets\tests\fixtures\main.rs:16:4
   |
16 | fn setup(input_path: std::path::PathBuf) -&gt; tryfn::Case {
   |    ^^^^^
   |
   = note: `#[warn(dead_code)]` on by default
warning: function `test` is never used
  --&gt; crates\ruff_annotate_snippets\tests\fixtures\main.rs:34:4
   |
34 | fn test(input_path: &amp;std::path::Path) -&gt; Result&lt;Data, Box&lt;dyn Error&gt;&gt; {
   |    ^^^^
warning: fields `renderer` and `message` are never read
  --&gt; crates\ruff_annotate_snippets\tests\fixtures\deserialize.rs:10:16
   |
8  | pub(crate) struct Fixture {
   |                   ------- fields in this struct
9  |     #[serde(default)]
10 |     pub(crate) renderer: RendererDef,
   |                ^^^^^^^^
11 |     pub(crate) message: MessageDef,
   |                ^^^^^^^
warning: `ruff_annotate_snippets` (test &quot;fixtures&quot;) generated 3 warnings
</code></pre>
<p>Cc. @BurntSushi</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @AlexWaygood on 2025-04-06 12:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">windows</span> added by @AlexWaygood on 2025-04-06 12:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-04-07 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-04-07 12:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:32 UTC
    </footer>
</body>
</html>
