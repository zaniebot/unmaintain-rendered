<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add an exception for `N802` for `BaseHTTPRequestHandler` subclasses' methods - astral-sh/ruff #9400</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add an exception for `N802` for `BaseHTTPRequestHandler` subclasses' methods</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/9400">#9400</a>
        opened by <a href="https://github.com/ZeeD">@ZeeD</a>
        on 2024-01-05 10:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ZeeD">@ZeeD</a> on 2024-01-05 10:02</div>
            <div class="timeline-body"><p>According to <a href="https://docs.python.org/3/library/http.server.html#http.server.BaseHTTPRequestHandler">the doc</a> you should use <code>BaseHTTPRequestHandler</code> subclassing it and implementing various <code>do_SPAM</code> methods, one for each request method.
But if in this basic snippet</p>
<pre><code class="language-python">from http.server import BaseHTTPRequestHandler
class MyRequestHandler(BaseHTTPRequestHandler):
    def do_GET(self) -&gt; None: ...
</code></pre>
<p><code>ruff</code> raises the error</p>
<pre><code>N802 Function name `do_GET` should be lowercase
</code></pre>
<p>I would suggest to add an exception for the various <code>do_XXX</code> methods of the subclasses of <code>BaseHTTPRequestHandler</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-05 12:27</div>
            <div class="timeline-body"><p>One thing you can do to help Ruff here is add the <code>@typing.override</code> or <code>@typing_extensions.override</code> decorator to your method to indicate to tools that it's overriding an existing method.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ZeeD">@ZeeD</a> on 2024-01-05 15:22</div>
            <div class="timeline-body"><p>Hi, thanks for the reply.
In this case I don't think it will work, as <code>BaseHTTPRequestHandler</code> does not implement such methods.
Instead they are part of an (informal) protocol, and retrieved dynamically via <code>getattr</code> - as you can see from https://github.com/python/cpython/blob/e56c53334f1adf5b4ea940036c76d18e80fe809d/Lib/http/server.py#L417-L424</p>
<p>BTW: if I add <code>@typing.override</code> I may trick <code>ruff</code>, but now <code>mypy</code> raises an error (because there is no <code>do_SPAM</code> method to override in <code>BaseHTTPRequestHandler</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/18907.html">astral-sh/ruff#18907</a> on 2025-06-24 02:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
