<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature request: include isort `line_length` option (to allow decouping of linting from formatting) - astral-sh/ruff #11290</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Feature request: include isort `line_length` option (to allow decouping of linting from formatting)</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/11290">#11290</a>
        opened by <a href="https://github.com/rwarren">@rwarren</a>
        on 2024-05-05 13:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rwarren">@rwarren</a> on 2024-05-05 13:35</div>
            <div class="timeline-body"><p>Ruff version: 0.4.3</p>
<h3>Request in short:</h3>
<p>It would be nice if Ruff's <code>isort</code> implementation supported isort's <code>line_length</code> setting independently from Ruff's global <code>line-length</code> setting.</p>
<p>The width threshold used for <em>warning</em> about line length issues should not exactly match the value used for automatic <em>formatting</em> (line wrapping). Warnings and auto-formatting are different things and it would be nice if Ruff didn't rigidly couple them.</p>
<p>This could be done here by just adding support for <code>line_length</code> in the <code>lint.isort</code> settings.</p>
<h3>Rationale:</h3>
<p>I use Ruff for linting, but do not use it for overall file formatting.  I do use Ruff's embedded <code>isort</code> formatting extensively.</p>
<p><strong>For linting the line length:</strong></p>
<ul>
<li>I want Ruff to tell me when a line is <em>definitely</em> too long (using <code>E501</code>) according to Ruff's <code>line-length</code> setting</li>
<li>I set <code>line-length</code> to be fairly long (150) to allow for edge cases when it just happens (e.g. an inline comment extending a few characters past normal expected line width)</li>
</ul>
<p><strong>For automatic line length formatting:</strong></p>
<ul>
<li>I do not use the black implementation</li>
<li>I do use Ruff's isort extensively (through &quot;Fix all auto-fixable problems&quot;)</li>
<li>I do <em>generally</em> want lines wrapped at 100 chars, but not religiously so like <code>black</code> would do<ul>
<li>fwiw, I handle line lengths in files with vertical rulers in vscode, as well as through the vscode Rewrap extension (with Ruff linting catching obscene line lengths)</li>
<li>I think the line length styling should mostly be up to the user/use-case, with the linter being configured to catch clear problems</li>
</ul>
</li>
</ul>
<p>In most cases long <code>from ... import ...</code> lines shouldn't happen in a code base, but (aside from this being a style choice) it is common in some libraries like PySide6, where lines like this are common:</p>
<pre><code>from PySide6.QtWidgets import QGraphicsItem, QGraphicsLineItem, QGraphicsPixmapItem, QGraphicsScene, QGraphicsTextItem, QGraphicsView, QVBoxLayout
</code></pre>
<p>The <code>isort</code> implementation nicely generated that line... but it is too long because the linter <code>line-length</code> threshold is intentionally long, and Ruff is wrapping using it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-05 13:37</div>
            <div class="timeline-body"><p>Thanks, though I think this is a duplicate of #3206?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">isort</span> added by @charliermarsh on 2024-05-05 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-05 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rwarren">@rwarren</a> on 2024-05-05 13:41</div>
            <div class="timeline-body"><p>... not sure how I missed #3206!!  ðŸ¤¦  It is a duplicate.</p>
<p>I think this is because I landed here after finding #4048 (about <code>use_parentheses</code>) and re-targeted the report while writing it.</p>
<p>Rationale here is basically in support of #3206. Shall I move the text over there?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3206.html">astral-sh/ruff#3206</a> on 2024-05-05 13:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:12 UTC
    </footer>
</body>
</html>
