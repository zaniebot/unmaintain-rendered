<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add default linter rules - astral-sh/ruff #11415</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add default linter rules</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11415">#11415</a>
        opened by <a href="https://github.com/AndreuCodina">@AndreuCodina</a>
        on 2024-05-13 20:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AndreuCodina">@AndreuCodina</a></div>
            <div class="timeline-body"><p>In my company we have lots of microservices and nanoservices, and a Python project prototype I maintain to guide how Python projects must be developed and updated.
It's a common complaint not to have default rules in our <code>pyproject.toml</code> files, and instead have &quot;magic letters&quot; just because &quot;I chose them&quot;.
My job is to ensure data engineers develop software as we do in .NET, i.e. with types.</p>
<p>I want to propose a group of default linter rules, and choose them with groups (letters), instead of choosing a subset.</p>
<p><strong>pyproject.toml</strong></p>
<pre><code class="language-toml">[tool.ruff.lint]
select = [&quot;F&quot;, &quot;E&quot;, &quot;W&quot;, &quot;N&quot;, &quot;I&quot;, &quot;ANN&quot;]
ignore = [&quot;E501&quot;, &quot;ANN101&quot;, &quot;ANN102&quot;, &quot;ANN401&quot;]
</code></pre>
<p>Reasoning of <code>select</code>:</p>
<ul>
<li>F: Unused variables, comparison with <code>==</code>, etc.</li>
<li>E, W, N: PEP 8.</li>
<li>I: Sort imports.</li>
<li>ANN: Mandatory return types.</li>
</ul>
<p>Reasoning of <code>ignore</code>:</p>
<ul>
<li>E501: Line too long hasn't an automatic fix.</li>
<li>ANN101, ANN102: Typing <code>self</code> and <code>cls</code> is strange in Python.</li>
<li>ANN401: The Python ecosystem is not prepared to not use <code>Any</code>.</li>
</ul>
<p>Besides, I always use this configuration:</p>
<pre><code class="language-toml">[tool.pyright]
typeCheckingMode = &quot;strict&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-13 21:00</div>
            <div class="timeline-body"><p>Hi!</p>
<p>We're going to recategorize all of the rules (roughly discussed in https://github.com/astral-sh/ruff/issues/1774) and define new defaults eventually. We're actively working on this, but I'm not sure when we'll be done because it's a big project and we want to get it right.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-13 21:02</div>
            <div class="timeline-body"><p>Similarly, this request fits into https://github.com/astral-sh/ruff/issues/1773 which is a part of that effort.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-14 08:00</div>
            <div class="timeline-body"><p>@zanieb Do you think this can be merged into either of the linked issue?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-14 14:58</div>
            <div class="timeline-body"><p>I'm okay with keeping it open for now unless there's a duplicate issue regarding defaults.</p>
<p>We should add a dedicated tracking issue for the full re-categorization work eventually.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @zanieb on 2024-05-14 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">linter</span> added by @zanieb on 2024-05-14 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AndreuCodina">@AndreuCodina</a> on 2024-08-18 09:02</div>
            <div class="timeline-body"><p>Should we include default rules for some project types? For instance, there're FastAPI rules (https://docs.astral.sh/ruff/rules/#fastapi-fast). It's a library very used, but I don't know if Ruff knows if a package (<code>fastapi</code> in this case) is installed and then it doesn't waste resources with those rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AndreuCodina">@AndreuCodina</a> on 2024-10-08 07:00</div>
            <div class="timeline-body"><p>Idea: how about declaring the rule &quot;strict&quot; as an alias for the linter rules I posted?</p>
<pre><code class="language-toml">[tool.ruff.lint]
select = [&quot;strict&quot;]
</code></pre>
<p>This aligns with Pyright:</p>
<pre><code class="language-toml">[tool.pyright]
typeCheckingMode = &quot;strict&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-10-11 01:42</div>
            <div class="timeline-body"><p>I'll link to https://github.com/astral-sh/ruff/issues/12352 and https://github.com/astral-sh/ruff/discussions/3363#discussioncomment-7266932 as well. With which you could make your own custom defaults for your needs and &quot;levels of strictness&quot;</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:50:16 UTC
    </footer>
</body>
</html>
