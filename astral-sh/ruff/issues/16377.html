<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider documenting syntax errors - astral-sh/ruff #16377</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider documenting syntax errors</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/16377">#16377</a>
        opened by <a href="https://github.com/ntBre">@ntBre</a>
        on 2025-02-25 17:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ntBre">@ntBre</a> on 2025-02-25 17:28</div>
            <div class="timeline-body"><p>One reason why we might want to have different error codes for different syntax errors is so that we can provide more detailed documentation for some syntax errors. This isn't <em>much</em> of a concern with the specific syntax error that @ntBre is adding here, as there's not much more to say than &quot;you can't use the <code>match</code> statement on Python &lt;3.10&quot;.[^1]. However, as we discussed on Brent's design proposal, it will be a concern with other syntax errors that we'll want to detect in the future -- for example, we have very nice docs for <a href="https://docs.astral.sh/ruff/rules/late-future-import/#late-future-import-f404"><code>F404</code></a> currently in Ruff, and it would be a shame to provide worse docs for red-knot users when we start detecting that syntax error in our brand new tool.</p>
<p>Some errors that we may want to provide per-error docs for are errors that only appear on older or newer Python versions. For example, the details around when you're able to parenthesize context managers on Python &lt;3.9 are pretty subtle. So are the details on when <code>match</code> patterns are considered <a href="https://peps.python.org/pep-0634/#irrefutable-case-blocks">irrefutable</a> (it's a syntax error to have more than one irrefutable pattern in a <code>match</code> statement on Python 3.10+).</p>
<p>@MichaReiser also pointed out in the comments on Brent's design doc that there are existing syntax errors the parser detects that probably might also benefit from better docs.</p>
<p>(To be clear, I'm not saying that we <em>have</em> to have multiple error codes for these syntax errors. And there are obviously costs as well as benefits, which Micha outlined well. But this is one possible motivation for why it might help to have different error codes for different syntax errors: it would allow users to easily look them up in our documentation.)</p>
<p>[^1]: That said, I actually don't think it would <em>hurt</em> to have a documentation page that links to the relevant PEPs that introduced the <code>match</code> statement, and/or the Python docs for the <code>match</code> statement.</p>
<p><em>Originally posted by @AlexWaygood in https://github.com/astral-sh/ruff/pull/16090#discussion_r1969810589</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @ntBre on 2025-02-25 17:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-02-25 17:35</div>
            <div class="timeline-body"><p>Thanks for opening the tracking issue! As I said in https://github.com/astral-sh/ruff/pull/16090#discussion_r1969858221, it's pretty important for me that we figure out a way to provide good documentation for the more complex errors you'll be tackling in this project, as it can sometimes be pretty subtle when and why something is a syntax error. I don't think we should stabilise these new errors before we have solid docs for the more complicated ones.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:45 UTC
    </footer>
</body>
</html>
