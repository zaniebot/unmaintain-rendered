<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to prevent ruff from collapsing multi-line items into a single line - astral-sh/ruff #11852</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How to prevent ruff from collapsing multi-line items into a single line</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11852">#11852</a>
        opened by <a href="https://github.com/AntiSol">@AntiSol</a>
        on 2024-06-13 08:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AntiSol">@AntiSol</a></div>
            <div class="timeline-body"><p>Hi There,</p>
<p>I had a bit of a look around but didn't find the answer I was looking for. it's very possible I just wasn't searching for the right thing - apologies if this is something that already has an answer.</p>
<p>If I write code like:</p>
<pre><code class="language-python">
def some_func(
    arg: str,
    arg2: int = 42
):
    return do_something(arg,arg2)
</code></pre>
<p>How can I stop ruff from collapsing this into a single line?</p>
<p>This also goes for things like dicts, e.g:</p>
<pre><code class="language-python">stay_on_multiple_lines_dammit = {
    'foo': bar,
    'baz': 'bork'
}
</code></pre>
<p>In most cases, if I've taken the time to split it into multiple lines, it's for readability, and I want to keep it that way.</p>
<p>I'm aware of the ability to turn off formatting for a block using <code>#fmt: off</code> and <code>#fmt: on</code>, but I find that most of the time ruff collapses these things, it's not what I want, so I'd like to prevent this collapsing from happening globally via some setting or by turning off some rule.</p>
<p>Note however that I do <em>not</em> have a problem with it doing the reverse, i.e if I declare</p>
<pre><code class="language-python">def some_func(arg: str, arg2: int = 42):
    return do_something(arg,arg2)
</code></pre>
<p>I don't have a problem with it breaking that into multiple lines similar to my first example if it's longer than my limit, and I want to keep that behaviour.</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tmke8">@tmke8</a> on 2024-06-13 10:18</div>
            <div class="timeline-body"><p>Add trailing commas, like this:</p>
<pre><code class="language-python">
def some_func(
    arg: str,
    arg2: int = 42,
):
    return do_something(arg,arg2)
</code></pre>
<p>and</p>
<pre><code class="language-python">stay_on_multiple_lines_dammit = {
    'foo': bar,
    'baz': 'bork',
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AntiSol">@AntiSol</a> on 2024-06-13 10:20</div>
            <div class="timeline-body"><p>ooh cool, easy! thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AntiSol on 2024-06-13 10:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:50:27 UTC
    </footer>
</body>
</html>
