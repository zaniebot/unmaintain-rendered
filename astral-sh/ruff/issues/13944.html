<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Rule + fixer: Use a list instead of calling split with string literals - astral-sh/ruff #13944</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New Rule + fixer: Use a list instead of calling split with string literals</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13944">#13944</a>
        opened by <a href="https://github.com/Avasam">@Avasam</a>
        on 2024-10-28 00:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Avasam">@Avasam</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>I've seen this pattern a handful of time:</p>
<pre><code class="language-py">&quot;&quot;&quot;
	itemA
	itemB
	itemC
&quot;&quot;&quot;.split()
</code></pre>
<p>or</p>
<pre><code class="language-py">&quot;a,b,c,d&quot;.split(&quot;,&quot;)
</code></pre>
<p>And I'd like a rule to transform usages of <code>join</code> with literals into actual inline lists without the overhead of calling &quot;join&quot;. My two examples above would become:</p>
<pre><code class="language-py">[
	&quot;itemA&quot;,
	&quot;itemB&quot;,
	&quot;itemC&quot;,
]
</code></pre>
<p>or</p>
<pre><code class="language-py">[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</code></pre>
<p>I don't think this rule exists in any linters that I'm aware of.</p>
<p>The exact details of how this gets formatted isn't important to this rule. Probably just rewrite everything on a single line and let formatting/other rules take care of the rest.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2024-10-28 05:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @dhruvmanila on 2024-10-28 05:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "New Rule + fixer: Use a list instead of calling join with string literals" to "New Rule + fixer: Use a list instead of calling split with string literals" by @Avasam on 2024-10-28 15:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-10-29 14:17</div>
            <div class="timeline-body"><p>Great suggestion, I think it's worth adding. With autofix this adds to developer experience as writing the comma-seperated pattern is sometimes just more convenient.</p>
<p>Real-world examples:</p>
<ul>
<li>https://github.com/apache/fury/blob/main/java/benchmark/analyze.py#L246</li>
<li>https://github.com/alibaba/AliceMind/blob/main/VECO/NLU/evaluate.py#L103</li>
<li>https://github.com/microsoft/DirectXShaderCompiler/blob/main/utils/hct/hctdb.py#L261</li>
<li>https://github.com/pandas-dev/pandas/blob/main/pandas/tests/reshape/merge/test_merge_asof.py#L61</li>
<li>https://github.com/numpy/numpy/blob/main/numpy/f2py/tests/test_return_real.py#L91</li>
</ul>
<p>Similar rule: https://docs.astral.sh/ruff/rules/static-join-to-f-string/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-30 08:07</div>
            <div class="timeline-body"><p>This seems reasonable. Although I'm somewhat surprised that people do this :D</p>
<p>The comma pattern seems easy enough to detect. The <code>split</code> without a <code>separator</code> needs some extra care to ensure we apply the exact same logic.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @MichaReiser on 2024-10-30 08:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">accepted</span> added by @MichaReiser on 2024-10-30 08:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-10-31 08:42</div>
            <div class="timeline-body"><p>For posterity, @AlexWaygood noticed that this rule exists in flake8-simplify:
https://github.com/MartinThoma/flake8-simplify/issues/86 (SIM905)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-11-02 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-11-02 17:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:22 UTC
    </footer>
</body>
</html>
