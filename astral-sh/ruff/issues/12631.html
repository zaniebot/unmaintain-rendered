<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiline-quotes on docstrings - astral-sh/ruff #12631</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Multiline-quotes on docstrings</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12631">#12631</a>
        opened by <a href="https://github.com/karolyi">@karolyi</a>
        on 2024-08-02 14:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/karolyi">@karolyi</a> on 2024-08-02 14:22</div>
            <div class="timeline-body"><p>Hello,</p>
<p>I started experimenting around with ruff to see if it can suit my needs and coding style. I've dropped it and went back to pylsp because while I can enforce strings to be single-quoted (docstrings included), I can't enforce that <em>multiline docstrings</em> be double-quoted, as in:</p>
<pre><code class="language-python">def single_docstring():
   'some docstring that lies in a single line'

def multiline_docstring():
    &quot;&quot;&quot;
    Some docstring
    that for some reason,
    will have to be broken into multiple lines.
    &quot;&quot;&quot;
</code></pre>
<p>It seems that with the current configurable options that is not to be achieved. The only ones I could find about this current state are:</p>
<pre><code class="language-toml">[lint.flake8-quotes]
docstring-quotes = 'single'
multiline-quotes = 'double'
inline-quotes = 'single'
</code></pre>
<p>And we haven't even talked about the autoformatting part.</p>
<p>I have some more qualms but this is the single most one that made me drop ruff, unfortunately. Let me know if or when this is/will-be achieavable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-02 21:36</div>
            <div class="timeline-body"><p>To be clear, you want <em>all</em> strings to be single-quoted, except for triple-quoted docstrings, which should be double-quoted?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-08-02 21:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by @charliermarsh on 2024-08-02 21:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karolyi">@karolyi</a> on 2024-08-02 21:42</div>
            <div class="timeline-body"><p>No. I'd like to have the <code>multiline-quotes</code> setting apply to docstrings as well, because it doesn't now. Or maybe to have a <code>multiline-docstring-quotes</code> setting? Everything regarding the quote style is okay with me so far, but I didn't go deeper into using ruff yet.</p>
<p>The basic rule is: if a docstring has to be broken into multiple lines, it should be triple quoted with double-quotes.</p>
<p>Is that doable?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-03 07:38</div>
            <div class="timeline-body"><p>No, I don't think the current settings support this specific linting.
It is technically doable to add support for it, it shouldn't be too hard actually but we should consider this carefully because it would introduce a new setting/option that needs to be kept in sync with the formatter setting (only compatible when using <code>quote-style=preserve</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karolyi">@karolyi</a> on 2024-08-03 09:13</div>
            <div class="timeline-body"><p>Indeed.</p>
<p>Yes it violates pep257, but enables more characters in one-line docstrings where I have set 72 chars as maximum limit (that is also a pep convention). Often times it wouldn't fit with 3 quotes.</p>
<p>That said you can take it or leave it, it was only a question if you would do it or not, it's absolutely not a must. I can keep continuing to use the current tooling I have.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-09-09 12:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karolyi">@karolyi</a> on 2024-09-09 12:05</div>
            <div class="timeline-body"><p>@MichaReiser can I get a quick rundown on how this got completed, if it really is?</p>
<p>I'd like to try ruff with that new setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-09 12:12</div>
            <div class="timeline-body"><p>Sorry. I should have added a comment.</p>
<p>I marked it as not-planned because we want to hold back on new options/rules that create incompatibilities with the formatter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-09-09 12:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karolyi">@karolyi</a> on 2024-09-09 12:13</div>
            <div class="timeline-body"><p>Thanks.</p>
<p>Please let me know by commenting in this issue, if ever this changes.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:13 UTC
    </footer>
</body>
</html>
