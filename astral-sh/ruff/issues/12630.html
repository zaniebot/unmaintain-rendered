<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[pydoclint] DOC502 should detect re-raised exceptions - astral-sh/ruff #12630</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[pydoclint] DOC502 should detect re-raised exceptions</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12630">#12630</a>
        opened by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a>
        on 2024-08-02 14:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a> on 2024-08-02 14:00</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>Consider</p>
<pre><code class="language-python"># repro_DOC.py

def my_func(arg: int) -&gt; int:
    &quot;&quot;&quot;Doer of things.

    Args:
        arg (int): The number to be doubled.

    Returns:
        int: The doubled number.

    Raises:
        TypeError: If arg cannot be multiplied by 2.
    &quot;&quot;&quot;
    try:
        return arg * 2
    except TypeError:
        print(&quot;arg should be an integer&quot;)
        raise
</code></pre>
<p><code>pydoclint</code> correctly detects the exception is re-reraised:</p>
<pre><code class="language-console">$ pydoclint --style=google repro_DOC.py
Loading config from user-specified .toml file: pyproject.toml
No config found in pyproject.toml.
Skipping files that match this pattern: \.git|\.tox
repro_DOC.py
ðŸŽ‰ No violations ðŸŽ‰
</code></pre>
<p>Ruff does not</p>
<pre><code class="language-console">$ ruff check --select DOC repro_DOC.py
repro_DOC.py:12:1: DOC502 Raised exception is not explicitly raised: `TypeError`
   |
 7 |           arg (int): The number to be doubled.
 8 |   
 9 | /     Raises:
10 | |         TypeError: If arg cannot be multiplied by 2.
11 | |     &quot;&quot;&quot;
   | |____^ DOC502
12 |       try:
13 |           return arg * 2
   |
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[pydoclint" to "[pydoclint] DOC502 should detect re-raised exceptions" by @edgarrmondragon on 2024-08-02 14:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @AlexWaygood on 2024-08-02 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by @AlexWaygood on 2024-08-02 14:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @AlexWaygood by @AlexWaygood on 2024-08-02 14:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/12639.html">astral-sh/ruff#12639</a> on 2024-08-02 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-08-02 21:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-08-02 21:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../meltano/sdk/pulls/2590.html">meltano/sdk#2590</a> on 2024-08-05 23:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:53 UTC
    </footer>
</body>
</html>
