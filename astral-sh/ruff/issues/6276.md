```yaml
number: 6276
title: Extend checks for PLR0124 
type: issue
state: closed
author: chbndrhnns
labels:
  - needs-info
assignees: []
created_at: 2023-08-02T15:31:49Z
updated_at: 2023-08-04T13:51:43Z
url: https://github.com/astral-sh/ruff/issues/6276
synced_at: 2026-01-10T01:56:48Z
```

# Extend checks for PLR0124 

---

_Issue opened by @chbndrhnns on 2023-08-02 15:31_

I had this piece of code where ruff complained about the first assert statement and not about the second. I figure it could also complain about the second for the same reason.

```py
def test_eq__by_memory_location(self):
    class MyClass:
        ...

    instance1 = MyClass()
    instance2 = MyClass()

    assert instance1 is instance1
    assert id(instance1) == id(instance1)
```

---

_Comment by @charliermarsh on 2023-08-02 21:30_

Thanks! Is the request here to flag `id(instance1) == id(instance1)`? It seems challenging given that we can't know that an arbitrary function `f` is "pure" and returns the same outputs for the same inputs.

---

_Label `waiting-on-author` added by @charliermarsh on 2023-08-02 21:30_

---

_Comment by @dhruvmanila on 2023-08-03 07:28_

Is it that the check should apply specific to the builtin `id` function or is the idea to apply it on any user defined function?

---

_Comment by @chbndrhnns on 2023-08-03 07:43_

I was thinking of extending the check to some known (and safe) internal methods, like `hash`, `id`, `len` (there might be more).

---

_Assigned to @charliermarsh by @charliermarsh on 2023-08-04 01:28_

---

_Referenced in [astral-sh/ruff#6324](../../astral-sh/ruff/pulls/6324.md) on 2023-08-04 01:39_

---

_Closed by @charliermarsh on 2023-08-04 13:51_

---
