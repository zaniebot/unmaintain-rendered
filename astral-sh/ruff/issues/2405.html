<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`ruff init` - astral-sh/ruff #2405</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`ruff init`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/2405">#2405</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-01-31 18:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 18:15</div>
            <div class="timeline-body"><p>I often see projects that do something like this in their <code>pyproject.toml</code>:</p>
<pre><code class="language-toml">[tool.ruff]
target-version = &quot;py39&quot;
line-length = 88
select = [
    &quot;A&quot;,      # flake8-builtins
    # &quot;ARG&quot;,  # flake8-unused-arguments
    # &quot;ANN&quot;,  # flake8-annotations
    &quot;B&quot;,      # flake8-bugbear
    # &quot;BLE&quot;,  # flake8-blind-except
    # &quot;C4&quot;,   # flake8-comprehensions
    # &quot;COM&quot;,  # flake8-commas
    &quot;DTZ&quot;,    # flake8-datetimez
    &quot;D&quot;,      # pydocstyle
    &quot;E&quot;,      # pydocstyle
    # &quot;ERA&quot;,  # eradicate
    # &quot;EM&quot;,   # flake8-errmsg
    &quot;EXE&quot;,    # flake8-executable
    &quot;F&quot;,      # flake8
    &quot;G&quot;,      # flake8-logging-format
    &quot;ICN&quot;,    # flake8-import-conventions
    &quot;INP&quot;,    # flake8-no-pep420
    &quot;ISC&quot;,    # flake8-implicit-str-concat
    &quot;N&quot;,      # pep8-naming
    # &quot;PD&quot;,   # pandas-vet
    &quot;PIE&quot;,    # flake8-pie
    # &quot;PGH&quot;,  # pygrep-hooks                [Enable]
    # &quot;PT&quot;,   # flake8-pytest-style         [Enable]
    # &quot;PTH&quot;,  # flake8-use-pathlib
    &quot;Q&quot;,      # flake8-quotes
    &quot;RET&quot;,    # flake8-return
    &quot;S&quot;,      # flake8-bandit
    &quot;SIM&quot;,    # flake8-simplify
    &quot;T10&quot;,    # flake8-debugger
    &quot;T20&quot;,    # flake8-print
    # &quot;TCH&quot;,  # flake8-type-checking
    &quot;TID&quot;,    # flake8-tidy-imports
    &quot;UP&quot;,     # pyupgrade
    &quot;W&quot;,      # pydocstyle
    &quot;YTT&quot;     # flake8-2020
]
ignore = [
    &quot;B008&quot;,
    &quot;B905&quot;,
    &quot;D104&quot;,
    &quot;D200&quot;,
    &quot;D202&quot;,
    &quot;D205&quot;,
    &quot;D301&quot;,
    &quot;D400&quot;,
    &quot;N801&quot;,
    &quot;N802&quot;,
    &quot;N803&quot;,
    &quot;N806&quot;,
    &quot;N813&quot;,
    &quot;N815&quot;,
    &quot;N816&quot;,
    &quot;PIE804&quot;,
    &quot;RET504&quot;,
    &quot;RET505&quot;,
    &quot;RET506&quot;,
    &quot;RET507&quot;,
    &quot;RET508&quot;,
    &quot;UP007&quot;
]
typing-modules = [&quot;colour.hints&quot;]
fixable = [&quot;B&quot;, &quot;E&quot;, &quot;F&quot;, &quot;PIE&quot;, &quot;SIM&quot;,&quot;UP&quot;, &quot;W&quot;]

[tool.ruff.pydocstyle]
convention = &quot;numpy&quot;
</code></pre>
<p>Or, I'll see that projects have copied the &quot;default&quot; configuration included in <a href="https://github.com/charliermarsh/ruff#configuration">the docs</a>.</p>
<p>It could be interesting to ship a <code>ruff init</code> command that generates something similar, with useful defaults.</p>
<p>As a proposal to tear down, <code>ruff init</code> would:</p>
<ul>
<li>Generate the &quot;default&quot; configuration from the docs, but...</li>
<li>Include all code classes in <code>select</code>, with each code followed by a comment to indicate the name of the source plugin as seen above. All of the classes would be commented out apart from <code>E</code> and <code>F</code> (our current defaults).</li>
<li>Include all code classes in <code>fixable</code>, with each code followed by a comment to indicate the name of the source plugin as seen above, and a few of the more aggressive sections commented out (like <code>SIM</code> and <code>B</code>).</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2023-01-31 23:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/saadmk11">@saadmk11</a> on 2023-02-01 14:39</div>
            <div class="timeline-body"><p>Built a small implementation that outputs this:</p>
<pre><code class="language-toml">[tool.ruff]
line-length = 88
select = [
    &quot;F&quot;,      # pyflakes
    &quot;E&quot;,      # pycodestyle
    # &quot;W&quot;,    # pycodestyle
    # &quot;C90&quot;,  # mccabe
    # &quot;I&quot;,    # isort
    # &quot;N&quot;,    # pep8-naming
    # &quot;D&quot;,    # pydocstyle
    # &quot;UP&quot;,   # pyupgrade
    # &quot;YTT&quot;,  # flake8-2020
    # &quot;ANN&quot;,  # flake8-annotations
    # &quot;S&quot;,    # flake8-bandit
    # &quot;BLE&quot;,  # flake8-blind-except
    # &quot;FBT&quot;,  # flake8-boolean-trap
    # &quot;B&quot;,    # flake8-bugbear
    # &quot;A&quot;,    # flake8-builtins
    # &quot;COM&quot;,  # flake8-commas
    # &quot;C4&quot;,   # flake8-comprehensions
    # &quot;DTZ&quot;,  # flake8-datetimez
    # &quot;T10&quot;,  # flake8-debugger
    # &quot;EM&quot;,   # flake8-errmsg
    # &quot;EXE&quot;,  # flake8-executable
    # &quot;ISC&quot;,  # flake8-implicit-str-concat
    # &quot;ICN&quot;,  # flake8-import-conventions
    # &quot;G&quot;,    # flake8-logging-format
    # &quot;INP&quot;,  # flake8-no-pep420
    # &quot;PIE&quot;,  # flake8-pie
    # &quot;T20&quot;,  # flake8-print
    # &quot;PT&quot;,   # flake8-pytest-style
    # &quot;Q&quot;,    # flake8-quotes
    # &quot;RET&quot;,  # flake8-return
    # &quot;SIM&quot;,  # flake8-simplify
    # &quot;TID&quot;,  # flake8-tidy-imports
    # &quot;TCH&quot;,  # flake8-type-checking
    # &quot;ARG&quot;,  # flake8-unused-arguments
    # &quot;PTH&quot;,  # flake8-use-pathlib
    # &quot;ERA&quot;,  # eradicate
    # &quot;PD&quot;,   # pandas-vet
    # &quot;PGH&quot;,  # pygrep-hooks
    # &quot;PL&quot;,   # pylint
    # &quot;TRY&quot;,  # tryceratops
    # &quot;RSE&quot;,  # flake8-raise
    # &quot;RUF&quot;,  # ruff-specific rules
]

fixable = [
    &quot;F&quot;,      # pyflakes
    &quot;E&quot;,      # pycodestyle
    # &quot;W&quot;,    # pycodestyle
    # &quot;I&quot;,    # isort
    # &quot;D&quot;,    # pydocstyle
    # &quot;UP&quot;,   # pyupgrade
    # &quot;ANN&quot;,  # flake8-annotations
    # &quot;B&quot;,    # flake8-bugbear
    # &quot;COM&quot;,  # flake8-commas
    # &quot;C4&quot;,   # flake8-comprehensions
    # &quot;EXE&quot;,  # flake8-executable
    # &quot;G&quot;,    # flake8-logging-format
    # &quot;PIE&quot;,  # flake8-pie
    # &quot;T20&quot;,  # flake8-print
    # &quot;PT&quot;,   # flake8-pytest-style
    # &quot;Q&quot;,    # flake8-quotes
    # &quot;RET&quot;,  # flake8-return
    # &quot;SIM&quot;,  # flake8-simplify
    # &quot;ERA&quot;,  # eradicate
    # &quot;PD&quot;,   # pandas-vet
    # &quot;PL&quot;,   # pylint
    # &quot;TRY&quot;,  # tryceratops
    # &quot;RUF&quot;,  # ruff-specific rules
]
</code></pre>
<p>Do we need to add anything else by default?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 15:04</div>
            <div class="timeline-body"><p>I'm tempted to include the defaults for <code>src</code> and <code>exclude</code> too.</p>
<p>The bigger block though is deciding whether this is actually a good idea :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/saadmk11">@saadmk11</a> on 2023-02-01 15:14</div>
            <div class="timeline-body"><blockquote>
<p>The bigger block though is deciding whether this is actually a good idea :)</p>
</blockquote>
<p>@charliermarsh Do you mean including <code>src</code> and <code>exclude</code> or <code>ruff init</code> in general?</p>
<p>I think we can add some of the options and comment them out and list options can also be added as a empty list. E g: <code>ignore = []</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 15:20</div>
            <div class="timeline-body"><p>Oh sorry! I mean, determining whether <code>ruff init</code> is a good idea.</p>
<p>I do think it makes sense to include the defaults explicitly, like:</p>
<pre><code class="language-toml">src = [&quot;.&quot;]
</code></pre>
<p>...and so on.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/saadmk11">@saadmk11</a> on 2023-02-01 15:23</div>
            <div class="timeline-body"><blockquote>
<p>Oh sorry! I mean, determining whether <code>ruff init</code> is a good idea.</p>
</blockquote>
<p>Let me know if you decide to go through with it, I can submit a PR :)</p>
<blockquote>
<p>I do think it makes sense to include the defaults explicitly, like:</p>
<pre><code class="language-toml">src = [&quot;.&quot;]
</code></pre>
<p>...and so on.</p>
</blockquote>
<p>Sounds good üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-02-02 16:12</div>
            <div class="timeline-body"><p>One thing that could be really cool is creating files for other linters that ignore things we cover. For example, if we cover 50% of pylint's rules, we could generate a file that makes pylint ignore those rules. That way, their pylint takes way less time to run.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jackenmen">@Jackenmen</a> on 2023-02-03 10:01</div>
            <div class="timeline-body"><p>Hmm, personally I've been doing the opposite - synchronizing other tool's configurations with what I configured in ruff so that if anyone happens to run that other tool rather than ruff (maybe because that's what they have configured to run in their editor long ago and have never heard about ruff) will still be informed about issues with that subset of rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2023-02-13 20:59</div>
            <div class="timeline-body"><p>An option which sets <code>select=ALL</code> and all current violations in the project to <code>ignore</code> would be great. Then one could start with a config which is valid and improve from there on.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-05-18 16:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:49 UTC
    </footer>
</body>
</html>
