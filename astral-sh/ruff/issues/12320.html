<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Possible False Positive: too-many-arguments (PLR0913) considers `self` and `cls` - astral-sh/ruff #12320</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Possible False Positive: too-many-arguments (PLR0913) considers <code>self</code> and <code>cls</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12320">#12320</a>
        opened by <a href="https://github.com/Bibo-Joshi">@Bibo-Joshi</a>
        on 2024-07-14 17:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Bibo-Joshi">@Bibo-Joshi</a></div>
            <div class="timeline-body"><ul>
<li><p>List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.</p>
<ul>
<li>&quot;PRL0913&quot;</li>
<li>&quot;too-many-arguments&quot;</li>
<li>&quot;self&quot;</li>
<li>&quot;cls&quot;</li>
<li>&quot;false positve&quot;</li>
</ul>
</li>
<li><p>A minimal code snippet that reproduces the bug.</p>
<pre><code>class DemoClass:
    def __init__(self, one, two, three, four, five):
        pass

    @classmethod
    def bar(cls, one, two, three, four, five):
        pass

    @staticmethod
    def foo(one, two, three, four, five):
        pass
</code></pre>
</li>
<li><p>The command you invoked (e.g., <code>ruff /path/to/file.py --fix</code>), ideally including the <code>--isolated</code> flag.</p>
<pre><code>ruff check foo.py --isolated --select PLR0913
</code></pre>
<p>This produles the following output:</p>
<pre><code>(.venv) ~\PycharmProjects\test git:[dev]
ruff check foo.py --isolated --select PLR0913
foo.py:2:9: PLR0913 Too many arguments in function definition (6 &gt; 5)
  |
1 | class DemoClass:
2 |     def __init__(self, one, two, three, four, five):
  |         ^^^^^^^^ PLR0913
3 |         pass
  |

foo.py:6:9: PLR0913 Too many arguments in function definition (6 &gt; 5)
  |
5 |     @classmethod
6 |     def bar(cls, one, two, three, four, five):
  |         ^^^ PLR0913
7 |         pass
  |

Found 2 errors.
</code></pre>
<p>Apparently, ruff considers <code>self</code> and <code>cls</code> when computing the number of arguments. However, these arguments are mandatory anyway, are not visible to the consumer of these methods and don&#x27;t introduce any maintenance overhead. I propose that ruff ignores them.</p>
</li>
<li><p>~The current Ruff settings (any relevant sections from your <code>pyproject.toml</code>).~ used <code>--isolated</code> flag above</p>
</li>
<li><p>The current Ruff version (<code>ruff --version</code>): <code>ruff 0.5.1</code></p>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-15 06:28</div>
            <div class="timeline-body"><p>I&#x27;m not arguing whether the behavior is correct. But what I understand from Pylint&#x27;s source code is that it also counts <code>self</code> and <code>cls</code></p>
<p>https://github.com/pylint-dev/pylint/blob/a48cd4c6a872b6565bc58030b74585812f327f36/pylint/checkers/design_analysis.py#L536-L553</p>
<p>One important difference is that pylint <a href="https://pylint.pycqa.org/en/latest/user_guide/configuration/all-options.html#ignored-argument-names">supports a configuration</a> (Regex) to ignore arguments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-15 06:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-15 07:56</div>
            <div class="timeline-body"><p>FWIW, Pylint considers this as false-positive in <a href="https://github.com/pylint-dev/pylint/issues/8675">pylint-dev/pylint#8675</a> and I think that makes sense. The implementation should also consider decorators like <code>@staticmethod</code> and <code>@classmethod</code> when determining whether to count <code>self</code> / <code>cls</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-17 14:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-17 14:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-17 14:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bibo-Joshi">@Bibo-Joshi</a> on 2024-07-17 19:36</div>
            <div class="timeline-body"><p>That was lightning fast. Awesome, thanks :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:55 UTC
    </footer>
</body>
</html>
