<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement flake8-async - astral-sh/ruff #4246</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement flake8-async</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4246">#4246</a>
        opened by <a href="https://github.com/dacevedo12">@dacevedo12</a>
        on 2023-05-05 13:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dacevedo12">@dacevedo12</a></div>
            <div class="timeline-body"><p>https://github.com/cooperlees/flake8-async</p>
<p>It&#x27;d be good to implement (and hopefully extend) the concept of this project in enforcing best practices for asyncio usage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-05 17:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-08 19:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-08 19:48</div>
            <div class="timeline-body"><p>Looks pretty straightforward for anyone that&#x27;s interested in learning to write rules for Ruff.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inikolaev">@inikolaev</a> on 2023-05-14 12:34</div>
            <div class="timeline-body"><p>I want to give it a try - have a working prototype already and will push shortly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qdegraaf">@qdegraaf</a> on 2023-05-14 17:27</div>
            <div class="timeline-body"><blockquote>
<p>I want to give it a try - have a working prototype already and will push shortly.</p>
</blockquote>
<p>Missed this. Had some chats about working on this the last few days in the Discord but did not mention it here. Just opened PR, but as a first time contributor I might not have come up with the most elegant solution. Happy to close for your solution if it&#x27;s better, or merge the two or something else along those lines.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inikolaev">@inikolaev</a> on 2023-05-14 19:29</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>I want to give it a try - have a working prototype already and will push shortly.</p>
</blockquote>
<p>Missed this. Had some chats about working on this the last few days in the Discord but did not mention it here. Just opened PR, but as a first time contributor I might not have come up with the most elegant solution. Happy to close for your solution if it&#x27;s better, or merge the two or something else along those lines.</p>
</blockquote>
<p>I&#x27;m a first time contributor as well, feel free to peek at what I&#x27;ve done so far: <a href="https://github.com/charliermarsh/ruff/pull/4433">charliermarsh/ruff#4433</a></p>
<p>Still missing some docs for the violations</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inikolaev">@inikolaev</a> on 2023-05-14 19:30</div>
            <div class="timeline-body"><p>I should have checked open PRs as well, but assumed nobody was working on it yet :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qdegraaf">@qdegraaf</a> on 2023-05-14 21:23</div>
            <div class="timeline-body"><p>Yeah I could have been more clear as well üòÖ . Going to leave it to @charliermarsh to decide what&#x27;s to happen for this one and be a bit more transparent on the next one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dacevedo12">@dacevedo12</a> on 2023-05-14 21:41</div>
            <div class="timeline-body"><p>Please keep in mind the original one has a bug.</p>
<p>time.sleep -&gt; triggers rule
from time import sleep -&gt; doesnt</p>
<p>It also lacks validations for async defs that dont use await inside them.</p>
<p>Just pointing this out if the PRs port the code exactly as it is on that project to avoid the same mistakes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dacevedo12">@dacevedo12</a> on 2023-05-14 21:43</div>
            <div class="timeline-body"><p>Thanks for the contributions. I&#x27;d like to complement those myself but my skills in rust are currently lacking</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qdegraaf">@qdegraaf</a> on 2023-05-14 22:17</div>
            <div class="timeline-body"><blockquote>
<p>Please keep in mind the original one has a bug.</p>
<p>time.sleep -&gt; triggers rule from time import sleep -&gt; doesnt</p>
<p>It also lacks validations for async defs that dont use await inside them.</p>
<p>Just pointing this out if the PRs port the code exactly as it is on that project to avoid the same mistakes</p>
</blockquote>
<p>Good catch., cheers! I&#x27;ll mark mine as draft with some TODOs, but will hold off on implementing them in case <a href="https://github.com/charliermarsh/ruff/pull/4433">charliermarsh/ruff#4433</a> covers that already, in which case I can close mine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-15 02:15</div>
            <div class="timeline-body"><p>I&#x27;m going to move forward with reviewing #4432 since it strikes me as a bit more complete (uses scoping logic to detect the async function context, includes documentation for the rules). I&#x27;m sorry @inikolaev, I know it&#x27;s disappointing to put in work on a PR and not see it merged into the codebase, but we now have two similar PRs for the same scope of the work and so I have to choose between them somehow.</p>
<p>If you&#x27;re interested in contributing, I&#x27;d love to help you find something else to work on (e.g., I&#x27;d love to finish the <code>flake8-pyi</code> rules from <a href="https://github.com/charliermarsh/ruff/issues/848">charliermarsh/ruff#848</a>), but I totally understand if you&#x27;d rather not.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/inikolaev">@inikolaev</a> on 2023-05-15 05:31</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m going to move forward with reviewing #4432 since it strikes me as a bit more complete (uses scoping logic to detect the async function context, includes documentation for the rules). I&#x27;m sorry @inikolaev, I know it&#x27;s disappointing to put in work on a PR and not see it merged into the codebase, but we now have two similar PRs for the same scope of the work and so I have to choose between them somehow.</p>
<p>If you&#x27;re interested in contributing, I&#x27;d love to help you find something else to work on (e.g., I&#x27;d love to finish the <code>flake8-pyi</code> rules from #848), but I totally understand if you&#x27;d rather not.</p>
</blockquote>
<p>No worries, I will look for something else to implement üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-15 13:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:36 UTC
    </footer>
</body>
</html>
