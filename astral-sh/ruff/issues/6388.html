<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error: Failed to create fix for FormatLiterals: Failed to extract argument at: 1 - astral-sh/ruff #6388</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>error: Failed to create fix for FormatLiterals: Failed to extract argument at: 1</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6388">#6388</a>
        opened by <a href="https://github.com/domsj">@domsj</a>
        on 2023-08-07 13:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/domsj">@domsj</a></div>
            <div class="timeline-body"><pre><code>$ ruff check .
error: Failed to create fix for FormatLiterals: Failed to extract argument at: 1
$ echo $?
0
</code></pre>
<p>I&#x27;m sometimes getting this &quot;error&quot; since upgrading to ruff 0.0.282. Error between quotes, because it does seem to not error out due to this.
Clearing the cache (<code>rm -rf .ruff_cache</code>) allows to always reproduce it.</p>
<p>Unfortunately I don&#x27;t know which code in my project is causing the issue (and I can&#x27;t share the project).</p>
<p>Tried running with <code>-v</code>, but it&#x27;s not giving much insight either.</p>
<pre><code>$ rm -rf .ruff_cache/ &amp;&amp; ruff check . -v
...
[2023-08-07][15:08:00][ruff::rules::isort::categorize][DEBUG] Categorized &#x27;pandas&#x27; as Known(ThirdParty) (NoMatch)
[2023-08-07][15:08:00][ruff::rules::isort::categorize][DEBUG] Categorized &#x27;google.cloud&#x27; as Known(ThirdParty) (NoMatch)
error: Failed to create fix for FormatLiterals: Failed to extract argument at: 1
[2023-08-07][15:08:00][ruff::rules::isort::categorize][DEBUG] Categorized &#x27;logging&#x27; as Known(StandardLibrary) (KnownStandardLibrary)
...
[2023-08-07][15:08:00][ruff_cli::commands::run][DEBUG] Checked 51 files in: 429.3884ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-07 13:25</div>
            <div class="timeline-body"><p>I was able to reproduce by working backwards from the code -- it triggers on, e.g.:</p>
<pre><code>&quot;{1} {0}&quot;.format(...)
</code></pre>
<p>Cases in which the positional indices are non-sequential, but the number of arguments doesn&#x27;t match the number of indices (which is valid, but we try to reorder them).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-07 13:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-07 13:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-07 19:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:40 UTC
    </footer>
</body>
</html>
