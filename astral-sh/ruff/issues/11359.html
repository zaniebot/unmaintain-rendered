<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support select/ignore list of argument names for `ARG` rules - astral-sh/ruff #11359</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support select/ignore list of argument names for <code>ARG</code> rules</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11359">#11359</a>
        opened by <a href="https://github.com/mal">@mal</a>
        on 2024-05-10 08:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mal">@mal</a> on 2024-05-10 08:57</div>
            <div class="timeline-body"><p>Keywords: <code>ARG</code>, <code>ARG001</code>, <code>unused arguments</code></p>
<p>In cases where I have wanted to turn the ARG rules on it's typically only been certain arguments I care about policing (especially where meta-programming is involved), so it would be nice to be able to select/ignore certain argument names on which for ARG to report.</p>
<p>This is achievable with minor local modifications to the original flake8 plug-in, but so far as I am aware there's no low-cast way to do the same in <code>ruff</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-10 13:23</div>
            <div class="timeline-body"><p>You could use <a href="https://docs.astral.sh/ruff/settings/#lint_dummy-variable-rgx"><code>dummy-variable-rgx</code></a> which I believe will ignore <code>ARG</code> rules for variables that match the pattern. But outside of that we'd need a dedicated setting. What are some examples of the names you wanted to ignore here, just to help w/ motivating use-cases?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2024-05-10 13:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mal">@mal</a> on 2024-05-11 11:29</div>
            <div class="timeline-body"><p>In my case we have a dispatcher which inspects a function's signature to determine whether it should construct and send a context object. The construction of that object while not awfully slow, also isn't free. Sometimes we're able to refactor a handler function to remove the need for that context object, in which case the signature <em>should</em> be updated such that it never gets built or sent,</p>
<p>Using the ARG rules to check if this consistently named argument is ever unused is very appealing. At the same time, the code base is littered with various overridden methods (but being only py3.10, we don't yet have access to <code>@typing.override</code>), and monkey-patched functions which don't necessarily make use of all the args they must accept (and aren't suitable for that annotation afaiaa), so turning it on without being able to restrict it down the arg names we care about ends up filling the report with issues we can't easily resolve.</p>
<p>Unfortunately <code>dummy-variable-rgx</code>, being exclusionary and without support for lookaround (i.e. can't do <code>^(?!abc$)</code>), means (at least so far as I am aware) that it's not possible to use it to only check certain names. Perhaps a more lightweight solution than a select/ignore system would be something like <code>check-variable-rgx</code> which would serve as the inverse to dummy?</p>
<p>I understand this is very edge-case-y and so I appreciate your taking the time to dig a little deeper. ðŸ™‚</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/liiight">@liiight</a> on 2024-05-19 14:19</div>
            <div class="timeline-body"><p>I got to this issue after encountering it as well. While I wasn't aware of @charliermarsh suggestion to use <a href="https://docs.astral.sh/ruff/settings/#lint_dummy-variable-rgx">dummy-variable-rgx</a> which i'll definitely try, I recommend taking a look at the source of the ARG rule as they use some configuration in that flake8 project: https://github.com/nhoad/flake8-unused-arguments?tab=readme-ov-file#flake8-unused-arguments</p>
<p>Perhaps some of that configuration could be ported for Ruff as well?</p>
<p>Thanks in advance by the way, Ruff is amazing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-20 00:56</div>
            <div class="timeline-body"><p>Thanks! We do support <code>ignore-variadic-names</code>, and then we do most of those things by default (we ignore overloads, overrides, abstract methods, dunders, and stubs). @liiight are you looking to ignore a specific name / pattern here? Just wondering if adding a setting to allow certain unused names or patterns would solve your problem.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:33:51 UTC
    </footer>
</body>
</html>
