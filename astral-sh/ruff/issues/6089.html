<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detect unintentional infinite loop - astral-sh/ruff #6089</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Detect unintentional infinite loop</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/6089">#6089</a>
        opened by <a href="https://github.com/berzi">@berzi</a>
        on 2023-07-26 09:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/berzi">@berzi</a> on 2023-07-26 09:17</div>
            <div class="timeline-body"><p>Consider the following code:</p>
<pre><code class="language-python">counter: int = 0
while counter &lt; 100:
    do_stuff()
</code></pre>
<p>You may notice that <code>counter</code> is not actually changed at all within the loop, and since <code>int</code>s are immutable, whatever happens inside <code>do_stuff()</code> cannot change it either. This means it is statically possible to determine that this loop will not stop, and I think it would make for a very useful lint rule, since in more complex scenarios it's very easy for a human (or indeed a dumb AI) to forget to change the loop condition variable.</p>
<p>This should be perfectly achievable for any immutable type, and perhaps also for mutable ones to some extent (if the mutable variable isn't used inside the loop at all, we know that it won't be changed; this leaves the possibility open that the variable is passed down some function which does not end up changing it, but at least we've covered what human error we could).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-04 02:57</div>
            <div class="timeline-body"><p>I think this would require enough new control-flow analysis that we're unlikely to tackle it soon, and I want to keep the issue tracker actionable, so I'm gonna bias towards saying &quot;not now&quot;, for now. We may revisit in the future once we've improved our control-flow analysis capabilities.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-08-04 02:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:50 UTC
    </footer>
</body>
</html>
