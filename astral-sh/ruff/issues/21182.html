<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`import-not-from-defining-module` - astral-sh/ruff #21182</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`import-not-from-defining-module`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/21182">#21182</a>
        opened by <a href="https://github.com/K4liber">@K4liber</a>
        on 2025-11-01 12:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/K4liber">@K4liber</a> on 2025-11-01 12:51</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Maybe such a rule already exists, but I didnt find it. If not, please let me know what do you think about the following case.</p>
<p>We have a module <code>pkg_a/module_a.py</code>:</p>
<pre><code>class ClassA:
    pass
</code></pre>
<p>and a module <code>pkg_b/module_b.py</code>:</p>
<pre><code>from pkg_a.module_a import ClassA


class ClassB:
    def compare(self, other: ClassA) -&gt; bool:
        return str(self) == str(other)
</code></pre>
<p>In the main script we have:</p>
<pre><code>from pkg_b.module_b import ClassA
from pkg_b.module_b import ClassB

class_b_instance = ClassB()
class_a_instance = ClassA()
print(class_a_instance)
print(class_b_instance)
</code></pre>
<p>and it works. I would like to not allow such imports as <code>from pkg_b.module_b import ClassB</code>. <code>ClassA</code> should be imported directly from the defining module <code>pkg_a/module_a.py</code>. If I remove the dependency <code>ClassA</code> from the module <code>pkg_b/module_b.py</code> then it will break my main script.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`direct-import-from-defining-module`" to "`import-not-from-defining-module`" by @K4liber on 2025-11-01 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-03 18:36</div>
            <div class="timeline-body"><p>Thanks for the suggestion! I think this is a duplicate of #19559.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-11-03 18:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:18 UTC
    </footer>
</body>
</html>
