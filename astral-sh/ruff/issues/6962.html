<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow suggested manual fixes for unfixable rules - astral-sh/ruff #6962</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow suggested manual fixes for unfixable rules</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6962">#6962</a>
        opened by <a href="https://github.com/tylerlaprade">@tylerlaprade</a>
        on 2023-08-29 02:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tylerlaprade">@tylerlaprade</a></div>
            <div class="timeline-body"><p>My <code>unfixable</code> list is the set of rules that I don't want <em>automatically</em> fixed because I might need to make a judgement call. For example, do I really want to delete my <code># noqa</code> flagged by <code>RUF100</code>, or did I accidentally change something in the code so that the directive wasn't applied?</p>
<p>However, this does not mean I don't want to fix it. Once I make a decision, I'd like to use the contextual auto-suggested fix menu in my IDE to quickly fix the issue, should I so choose.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-29 04:04</div>
            <div class="timeline-body"><p>This should be fixed by a proposal that @zanieb is working on (consider this a cc :))</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2023-08-29 04:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-08-29 06:29</div>
            <div class="timeline-body"><blockquote>
<p>This should be fixed by a proposal that @zanieb is working on (consider this a cc :))</p>
</blockquote>
<p>I guess it depends and this use case brings up an important question: How should applicability work in the IDE context? Especially in combination with <code>codeActionsOnSave</code> (<code>source.fixAll</code>). My initial thinking is:</p>
<ul>
<li>manual fixes (and fixes demoted to manual): Ruff shows diagnostics but no code actions</li>
<li>suggested fixes: Ruff shows the diagnostic and the code action.</li>
<li>automatic fixes: Ruff shows the diagnostic and the code action, runs as part of <code>source.fixAll</code></li>
</ul>
<p>I'm uncertain whether suggested fixes should run as part of <code>source.fixAll</code>. Maybe? But it's what we so far recommended in the VS Code extension README and blindly accepting suggested fixes is probably not what we want. That's why I'm leaning towards</p>
<ul>
<li><code>source.fixAll</code>: Fixes automatic fixes</li>
<li><code>ruff.fixSuggested</code> Fixes suggested fixes</li>
</ul>
<p>Users can add both to their <code>codeActionsOnSave</code> if they want to run all fixes at save (not recommended).</p>
<p>The distinction of suggested fixes in the IDE would allow for the use case described by @tylerlaprade, but it may require them to promote some suggested fixes to automatic fixes if they want to run all fixes by default <strong>except</strong> the fixes on the denylist.</p>
<p>For context: The concept of applicability is outlined in https://github.com/astral-sh/ruff/issues/4181</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:48:09 UTC
    </footer>
</body>
</html>
