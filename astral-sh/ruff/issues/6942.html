<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLE1206 is not raised when there is no arguments passed to the logging method call. - astral-sh/ruff #6942</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PLE1206 is not raised when there is no arguments passed to the logging method call.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6942">#6942</a>
        opened by <a href="https://github.com/pavel-beaufort">@pavel-beaufort</a>
        on 2023-08-28 12:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pavel-beaufort">@pavel-beaufort</a></div>
            <div class="timeline-body"><p><code>PLE1206</code> (logging-too-few-args) error is not shown for such code snippet:</p>
<pre><code>logger.error(&quot;%r: no filename.&quot;)
</code></pre>
<p>0.0.286</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-08-28 14:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-28 17:25</div>
            <div class="timeline-body"><p>Pylint doesn't raise on single-argument either. I'm not sure why.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-28 17:55</div>
            <div class="timeline-body"><p>Okay, so I think this is intentional. If no message arguments are provided, the <code>logging</code> module treats the string as a literal. So this does not error:</p>
<pre><code class="language-python">logging.error(&quot;%s %s&quot;)
</code></pre>
<p>(It logs the literal <code>%s %s</code>.)</p>
<p>However, this <em>does</em> error:</p>
<pre><code class="language-python">logging.error(&quot;%s %s&quot;, 1)
</code></pre>
<p>With:</p>
<pre><code class="language-text">--- Logging error ---
Traceback (most recent call last):
  File &quot;/Users/crmarsh/.local/share/rtx/installs/python/3.11.2/lib/python3.11/logging/__init__.py&quot;, line 1110, in emit
    msg = self.format(record)
          ^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/crmarsh/.local/share/rtx/installs/python/3.11.2/lib/python3.11/logging/__init__.py&quot;, line 953, in format
    return fmt.format(record)
           ^^^^^^^^^^^^^^^^^^
  File &quot;/Users/crmarsh/.local/share/rtx/installs/python/3.11.2/lib/python3.11/logging/__init__.py&quot;, line 687, in format
    record.message = record.getMessage()
                     ^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/crmarsh/.local/share/rtx/installs/python/3.11.2/lib/python3.11/logging/__init__.py&quot;, line 377, in getMessage
    msg = msg % self.args
          ~~~~^~~~~~~~~~~
TypeError: not enough arguments for format string
Call stack:
  File &quot;/Users/crmarsh/workspace/ruff/foo.py&quot;, line 3, in &lt;module&gt;
    logging.error(&quot;%s %s&quot;, 1)
Message: '%s %s'
Arguments: (1,)
</code></pre>
<p>So, while it's a strange behavior, IMO it would be incorrect to raise an error here since omitting message arguments is a valid usage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-08-28 17:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:48:09 UTC
    </footer>
</body>
</html>
