<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Have option to ignore unknown rule selector codes - astral-sh/ruff #2557</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Have option to ignore unknown rule selector codes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2557">#2557</a>
        opened by <a href="https://github.com/mhvk">@mhvk</a>
        on 2023-02-03 21:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mhvk">@mhvk</a></div>
            <div class="timeline-body">

<p>In <code>astropy</code>, we&#x27;re very happily converting our style checking to <code>ruff</code> but the pace of <code>ruff</code> development causes some issues for me at least: I&#x27;ve set up my (emacs with flycheck) to auto-run <code>ruff</code>, but now any time the version of <code>ruff</code> installed on the system does not exactly match the one on which the exclude/include selection codes in <code>pyproject.toml</code> are based, such that a newly implemented (or removed) selector is not known, one just gets a failure and <code>ruff</code> does not run. (Specifically, in <code>astropy</code> we had listed <code>PLC2201</code> as something not to run, but this has been deprecated and now any time I visit a branch that does not yet have that one changed to <code>SIM300</code>, I get errors.)</p>
<p>Such problems could be alleviated if there were an option for ignoring unknown selector codes and just run with the ones that are recognized. Would it be possible to implement this? I don&#x27;t think it would even need a new code; it seems logical under &quot;-q&quot; (well, logical to the extent that I thought it was when I read &quot;Print lint violations, but nothing else&quot;).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-03 22:10</div>
            <div class="timeline-body"><p>Let me think on the broader request, but first: I&#x27;m sorry about the <code>PLC2201</code> thing. In hindsight, I should&#x27;ve changed that to a redirect (by pointing it to <code>SIM300</code>) rather than removing it entirely (which had the potential to cause breakages, as you experienced). It&#x27;s not something that I anticipate happening often, and I&#x27;ll try to be more careful about it going forward.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-03 22:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aberres">@aberres</a> on 2023-03-07 09:12</div>
            <div class="timeline-body"><p>I would welcome this as well. This way, one could add additional selects/ignores while not updating the version used in CI yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-18 16:47</div>
            <div class="timeline-body"><p>I think my preference is to err on the side of keeping configuration strict, and to try and avoid backwards-incompatible changes as much as possible. I&#x27;m also hopeful that slowing the pace of new rule rollouts will make this less challenging for users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-18 16:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:32 UTC
    </footer>
</body>
</html>
