<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Feature Request] User-Defined Deprecations? - astral-sh/ruff #12693</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Feature Request] User-Defined Deprecations?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12693">#12693</a>
        opened by <a href="https://github.com/alanhdu">@alanhdu</a>
        on 2024-08-05 16:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alanhdu">@alanhdu</a></div>
            <div class="timeline-body"><p>This is probably a big feature request (and apologies if it has already been asked about), but I am wondering whether there are plans for ruff to allow <em>user</em>-defined / config-defied lint rules?</p>
<p>In particular, I have some internal codebase functions that are deprecated and would like people to move off of. I can certainly try to write a custom CI rule for this, but it&#x27;d be super nice if I could somehow configure <code>ruff</code> to detect this (since it&#x27;s already integrated into our CI).</p>
<p>I admit I haven&#x27;t fully thought through what this would look like in practice. I&#x27;d love a world where I can specify in my toml file something like:</p>
<pre><code>[ruff.deprecated]
rule1 = { function=&quot;my.code.deprecated_function&quot;, message=&quot;This function is deprecated&quot;, replacement=&quot;some.other.function&quot;, safe=False}
</code></pre>
<p>Is something like this feasible?</p>
<p>(There&#x27;s a more general question about a plugin interface -- our codebase is big enough that having custom lint rules is useful, but it&#x27;s not OSS so upstreaming changes to ruff probably isn&#x27;t worthwhile and forking ruff to add our own rules seems undesirable).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-05 17:37</div>
            <div class="timeline-body"><p>Hi, thanks for the feature request! My instinct is that we should probably fold this into the broader discussion in <a href="https://github.com/astral-sh/ruff/issues/283">astral-sh/ruff#283</a>, which discusses design principles for plugins/user-specific lints.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-06 06:04</div>
            <div class="timeline-body"><p>I do like the idea and I see generic rules as a first step towards a customizable Ruff that doesn&#x27;t require plugin support.</p>
<p>This request is similar to <a href="https://github.com/astral-sh/ruff/issues/10131">astral-sh/ruff#10131</a>. Would Ruff&#x27;s <a href="https://docs.astral.sh/ruff/rules/banned-api/">banned-api</a> work for your use case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-10 09:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:56 UTC
    </footer>
</body>
</html>
