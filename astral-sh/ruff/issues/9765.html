<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve the format output with details about what needs to be formatted. - astral-sh/ruff #9765</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve the format output with details about what needs to be formatted.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9765">#9765</a>
        opened by <a href="https://github.com/vlkorsakov">@vlkorsakov</a>
        on 2024-02-01 23:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/vlkorsakov">@vlkorsakov</a> on 2024-02-01 23:15</div>
            <div class="timeline-body"><p>Please provide a more detailed output, including the line number and a description of what I need to format as in flake8. I think you can update the output for use with the --check flag only.</p>
<p><strong>code example:</strong></p>
<pre><code class="language-python">def foo():
    pass
def bar():
    pass
</code></pre>
<p><strong>flake8 output:</strong></p>
<pre><code class="language-shell">my_awesome_project/main.py:3:1: E302 expected 2 blank lines, found 0
my_awesome_project/main.py:4:9: W292 no newline at end of file
</code></pre>
<p><strong>ruff format --check output:</strong></p>
<pre><code class="language-shell">Would reformat: my_awesome_project/main.py
1 file would be reformatted
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @AlexWaygood on 2024-02-01 23:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-01 23:21</div>
            <div class="timeline-body"><p>Sounds like you're looking for #7352 with <code>ruff check</code> for those specific rules.</p>
<p>Note that the formatter and linter are different, but if you want to see the format changes, run <code>ruff format --diff</code>. See <a href="https://docs.astral.sh/ruff/formatter/#conflicting-lint-rules">this document</a> for information on how the linter and formatter overlap. It's unlikely that we'll be able to provide discrete &quot;codes&quot; or descriptions of what needs to be changed by the formatter. It works in a different way than lint rules and implementing it would be very challenging.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-02-01 23:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vlkorsakov">@vlkorsakov</a> on 2024-02-01 23:46</div>
            <div class="timeline-body"><blockquote>
<p>run <code>ruff format --diff</code></p>
</blockquote>
<p>This gives such a complex result. flake8's output is easier to understand. I think if you add more colours to diff (like in git diff), the output might become easier.</p>
<p>In general, I would like the result to be the same as &quot;check&quot; only because part of the pycodestyle rules are not supported right now (waiting for #9266), and I can only see what I missed by using the formatter. Thanks for the answer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-01 23:53</div>
            <div class="timeline-body"><p>You can get colors with something like <code>ruff format --diff | ydiff</code> (there are a bunch of different tools out there for viewing diffs). I agree that's not ideal though we should probably emit colored diffs by default!</p>
<blockquote>
<p>In general, I would like the result to be the same as &quot;check&quot;</p>
</blockquote>
<p>Yeah I agree this would be nice if it were feasible.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-02-23 21:32</div>
            <div class="timeline-body"><p>We plan to add color support to our diffs. See https://github.com/astral-sh/ruff/issues/9984 I'll close this in favour of that issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-02-23 21:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:32:37 UTC
    </footer>
</body>
</html>
