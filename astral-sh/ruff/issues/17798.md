```yaml
number: 17798
title: "`subprocess-without-shell-equals-true (S603)` false-positives on tuples"
type: issue
state: closed
author: Avasam
labels:
  - rule
  - help wanted
assignees: []
created_at: 2025-05-02T19:56:42Z
updated_at: 2025-05-05T14:50:45Z
url: https://github.com/astral-sh/ruff/issues/17798
synced_at: 2026-01-10T01:56:56Z
```

# `subprocess-without-shell-equals-true (S603)` false-positives on tuples

---

_Issue opened by @Avasam on 2025-05-02 19:56_

### Summary

https://github.com/astral-sh/ruff/pull/17136 closed https://github.com/astral-sh/ruff/issues/17112 by adding an exception to string literals and arrays of string literals. But it didn't include tuples:

![Image](https://github.com/user-attachments/assets/9a088e03-8620-49f2-a8b3-8174970e9d92)

In this screenshot, you can see at line 309 that `S603` was removed because Ruff deemed it unused, but at line 315 I had to keep it.

MRE:
```py
import subprocess
subprocess.check_output(("literal", "cmd", "using", "tuple"), text=True)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ S607
```


### Version

ruff 0.11.8

---

_Label `rule` added by @ntBre on 2025-05-02 20:41_

---

_Label `help wanted` added by @ntBre on 2025-05-02 20:41_

---

_Comment by @ntBre on 2025-05-02 20:43_

Thanks for the report! I think I'm missing the tuple in the screenshot, but I can definitely reproduce with your MRE on the playground: https://play.ruff.rs/7eeae789-402a-41bc-aa4a-0b2c007f217b

---

_Comment by @Avasam on 2025-05-02 20:50_

I updated the description to point more precisely at where to look at in the screenshot.
But anyway that's why an MRE was provided (screenshots tend to make it hard to replicate)

---

_Referenced in [astral-sh/ruff#17801](../../astral-sh/ruff/pulls/17801.md) on 2025-05-02 22:29_

---

_Closed by @ntBre on 2025-05-05 14:50_

---
