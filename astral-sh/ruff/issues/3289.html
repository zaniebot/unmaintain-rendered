<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request:  GitHub Action for Ruff - astral-sh/ruff #3289</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Feature Request:  GitHub Action for Ruff</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/3289">#3289</a>
        opened by <a href="https://github.com/brucearctor">@brucearctor</a>
        on 2023-03-01 05:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/brucearctor">@brucearctor</a> on 2023-03-01 05:59</div>
            <div class="timeline-body"><p>Would love an official GitHub Action for Ruff</p>
<p>The docs for Black to which this idea follows and could mimic:  https://black.readthedocs.io/en/stable/integrations/github_actions.html</p>
<p>The link to the code in black:  https://github.com/psf/black/blob/main/action/main.py</p>
<p>The docs from GH for creating an action:  https://docs.github.com/en/actions/creating-actions</p>
<p>@charliermarsh -- I'd be happy to write and submit a PR.  Is that something you/this-project would be interested in, potentially willing to accept [ naturally TBD on code, etc ]?</p>
<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danieleades">@danieleades</a> on 2023-03-01 09:05</div>
            <div class="timeline-body"><p>does a pre-commit action solve your use-case?</p>
<p>see https://github.com/charliermarsh/ruff-pre-commit
and https://github.com/pre-commit/action</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brucearctor">@brucearctor</a> on 2023-03-01 18:57</div>
            <div class="timeline-body"><p>Pre-Commit is ALSO great!</p>
<p>I hope my teams all use pre-commit, but I do not trust them to always use, which is why I would look to ruff to not surface any problems -  in, for example, GH - before allowing the code to be merged</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danieleades">@danieleades</a> on 2023-03-01 19:05</div>
            <div class="timeline-body"><p>using pre-commit in CI will give you what you're after, whether your team uses it locally or not. With the added advantage that they can opt in locally to the same checks that you run remotely</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a> on 2023-03-01 19:12</div>
            <div class="timeline-body"><p>One disadvantage of pre-commit (at least pre-commit.ci) is that it doesn't report annotations back to github, unlike what a <code>ruff check . --format github</code> run would do.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wichert">@wichert</a> on 2023-03-07 10:06</div>
            <div class="timeline-body"><p>Perhaps that could be handled by checking <a href="https://docs.github.com/en/actions/learn-github-actions/variables#default-environment-variables"><code>GITHUB_ACTIONS</code> environment variable</a>, and if it is set to <code>true</code> default to the <code>github</code> format?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jackenmen">@Jackenmen</a> on 2023-03-07 10:58</div>
            <div class="timeline-body"><blockquote>
<p>One disadvantage of pre-commit (at least pre-commit.ci) is that it doesn't report annotations back to github, unlike what a <code>ruff check . --format github</code> run would do.</p>
</blockquote>
<p>pre-commit ran from GH Actions can though. You would want to set the <code>RUFF_FORMAT</code> env var so that the output format is appropriate when ran in CI while kept default when ran locally.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/luator">@luator</a> on 2023-03-07 11:08</div>
            <div class="timeline-body"><p>The <a href="https://beta.ruff.rs/docs/editor-integrations/#github-actions">documentation</a> already includes an example how to set up a GitHub workflow.  It's not using a dedicated action but just some &quot;run&quot; commands but it seems to be simple enough for me that no special action is needed.  Or am I missing some scenario where this would not work?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brucearctor">@brucearctor</a> on 2023-03-07 16:20</div>
            <div class="timeline-body"><p>One can always run code.  There are a number of instances where packaging code to be a script, container, library, [ or action ], etc. can be nice ...</p>
<p>For naive users, I imagine also much easier to have all the recommended defaults set, and then surface any config options with associated explinations, in the GH Action documentation.</p>
<p>Is a packaged GH Action that people <em>could</em> use desirable to make it potentially easier on users  [ yes, the <code>run:</code> directive is a valid way to accomplish things ] ?  I would imagine that helps increase usability, but ...?  TBD, based on what this project expects of its userbase, the aims for support, etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a> on 2023-03-07 16:58</div>
            <div class="timeline-body"><blockquote>
<p>Perhaps that could be handled by checking <a href="https://docs.github.com/en/actions/learn-github-actions/variables#default-environment-variables"><code>GITHUB_ACTIONS</code> environment variable</a>, and if it is set to <code>true</code> default to the <code>github</code> format?</p>
</blockquote>
<p>@wichert that was actually removed in https://github.com/charliermarsh/ruff/pull/1697</p>
<blockquote>
<p>pre-commit ran from GH Actions can though. You would want to set the <code>RUFF_FORMAT</code> env var so that the output format is appropriate when ran in CI while kept default when ran locally.</p>
</blockquote>
<p>@Jackenmen yeah, even the official pre-commit action would work well with that env var, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mpizenberg">@mpizenberg</a> on 2023-03-10 10:17</div>
            <div class="timeline-body"><p>@brucearctor I’d be interested in such a gh action but I can understand not wanting the maintenance burden in the ruff repo. Maybe go ahead and create that action under your name if you think that’s relatively easy. From there it will be easier to see tradeoffs and popularity of the action. If useful, it can be integrated later?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kislyuk">@kislyuk</a> on 2023-03-21 14:30</div>
            <div class="timeline-body"><p>I too would love to see an officially supported ruff github action. I don't think any of the workarounds listed above (pre-commit hooks, etc.) are suitable workarounds for a standalone github action.</p>
<p>For reference, black and isort provide officially supported standalone github actions, and I think that has meaningfully contributed to their adoption among developers who work on github.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-21 14:35</div>
            <div class="timeline-body"><p>FWIW I don't mind supporting this, but I haven't looked into how the Black and isort Actions work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-21 14:39</div>
            <div class="timeline-body"><p>If I were to go about this, I'd probably just try to mirror the Black action.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-03-21 14:55</div>
            <div class="timeline-body"><blockquote>
<p>If I were to go about this, I'd probably just try to mirror the Black action</p>
</blockquote>
<p>Implementingent the functionality to check and format changed files only directly into ruff (or as a tool on top of it)  could be interesting. This is mainly because we'll need this for GitHub, GitLab... you name it integrations. The only part that, in my view, should be CI specific is:</p>
<ul>
<li>Installing ruff (if not using a package manager)</li>
<li>Transforming ruffs output into something that CI provider understands</li>
<li>Setting up the caching</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wishlist</span> added by @charliermarsh on 2023-03-21 21:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3756.html">astral-sh/ruff#3756</a> on 2023-03-27 04:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brucearctor">@brucearctor</a> on 2023-03-27 04:32</div>
            <div class="timeline-body"><p>I got a Draft PR together.  How does it look?  Can extend/modify if needed [ and happy to help maintain ].  Once others believe code looks good, I'm happy to add docs to https://github.com/charliermarsh/ruff/pull/3756 or follow up with docs in another PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3820.html">astral-sh/ruff#3820</a> on 2023-03-30 17:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/brucearctor">@brucearctor</a> on 2023-03-30 17:49</div>
            <div class="timeline-body"><p>Accidently closed, and doesn't look like can re-open.  Is now found --&gt; https://github.com/charliermarsh/ruff/pull/3820</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-03 23:43</div>
            <div class="timeline-body"><p>Rock on, this now exists as <a href="https://github.com/chartboost/ruff-action"><code>ruff-action</code></a> (docs added in https://github.com/charliermarsh/ruff/pull/3857).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-04-03 23:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../cfpb/regtech-data-validator/issues/35.html">cfpb/regtech-data-validator#35</a> on 2023-08-18 06:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8400.html">astral-sh/ruff#8400</a> on 2023-11-01 08:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../seedcase-project/team/issues/89.html">seedcase-project/team#89</a> on 2024-01-01 12:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
