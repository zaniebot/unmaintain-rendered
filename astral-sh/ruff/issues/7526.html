<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UP035: No violations when importing an entire module and using deprecated/moved class/method - astral-sh/ruff #7526</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>UP035: No violations when importing an entire module and using deprecated/moved class/method</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/7526">#7526</a>
        opened by <a href="https://github.com/einarwar">@einarwar</a>
        on 2023-09-19 17:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/einarwar">@einarwar</a></div>
            <div class="timeline-body">

<p>When explicitly importing deprecated/moved classes/methods UP035 works as expected. Example snippet that will raise a UP035:</p>
<pre><code>from typing import Mapping
# Import from `collections.abc` instead: `Mapping`Ruff[UP035](https://beta.ruff.rs/docs/rules/deprecated-import)
</code></pre>
<p>However, when importing the entire module from where the deprecated/moved submodule originally was, no error is raised. Example snippet:</p>
<pre><code>import typing
x: typing.Mapping[str, int] = {}
# No error is raised
</code></pre>
<p>I would think the expected behaviour would be to raise an UP035 violation on the line where the deprecated/moved class is defined, in the above case line 2.</p>
<p>Settings:
Ruff 0.0.290
Ruff-VSCode v2023.38.0 with <code>fromEnvironment</code> as import-strategy
Enabled UP in pyproject.toml</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jerr0328">@jerr0328</a> on 2024-07-11 14:54</div>
            <div class="timeline-body"><p>Seems like it&#x27;s also mentioned in #3936, I was surprised that ruff didn&#x27;t catch this but I guess it&#x27;s a bit trickier to catch and fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-10 12:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-10 12:24</div>
            <div class="timeline-body"><p>Flagging full qualified name usages does make sense to me. The only issue is that the rule only flags imports, not usages, which seems an issue with how the rule is designed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-10 12:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:42 UTC
    </footer>
</body>
</html>
