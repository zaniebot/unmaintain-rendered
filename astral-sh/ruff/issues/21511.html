<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COM818 requesting a comma on a function argument in multi-line formatting. - astral-sh/ruff #21511</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>COM818 requesting a comma on a function argument in multi-line formatting.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/21511">#21511</a>
        opened by <a href="https://github.com/a8">@a8</a>
        on 2025-11-18 15:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/a8">@a8</a></div>
            <div class="timeline-body">Summary
<p>Hi,</p>
<p>probably I&#x27;m doing something wrong.</p>
<p>Adding the COM lint rule in e. g. a pyproject.toml like</p>
<pre><code>[project]
name = &quot;blub&quot;

[tool.ruff]
lint.select = [
    &quot;COM&quot;,
]
</code></pre>
<p>for the code:</p>
<pre><code>def f(arg):
    print(arg)

f(
    &quot;argument&quot;
)
</code></pre>
<p>a <code>ruff check test.py</code> complains:</p>
<pre><code> &gt; ruff check code.py
COM812 [*] Trailing comma missing
 --&gt; code.py:8:15
  |
7 | f(
8 |     &quot;argument&quot;
  |               ^
9 | )
  |
help: Add trailing comma

Found 1 error.
[*] 1 fixable with the `--fix` option.
</code></pre>
<p>And indeed, if I let it fix my function call it converts the argument of type string into a tuple.</p>
<pre><code>&gt; ruff check --fix code.py
Found 1 error (1 fixed, 0 remaining).
</code></pre>
<pre><code>∝ ❯ cat code.py
#!/usr/bin/python3
&quot;&quot;&quot;Always add a docstring.&quot;&quot;&quot;

def f(arg):
    print(arg)

f(
    &quot;argument&quot;,
)
</code></pre>
<p>Note, the func call rewritten as:</p>
<pre><code>f(
    &quot;argument&quot;)
</code></pre>
<p>works like a charm.</p>
<p>Thanks,</p>
<p>Frank</p>
Version
<p>ruff 0.14.3 and 0.1.5</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/amyreese">@amyreese</a> on 2025-11-18 16:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-11-18 17:02</div>
            <div class="timeline-body"><p>Adding that comma doesn&#x27;t change the argument type to a tuple.</p>
<pre><code>$ cat foo.py
def f(arg):
    print(arg, type(arg))

f(
    &quot;argument&quot;
)
f(
    &quot;argument&quot;,
)
</code></pre>
<pre><code>$ python foo.py
argument &lt;class &#x27;str&#x27;&gt;
argument &lt;class &#x27;str&#x27;&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/a8">@a8</a> on 2025-11-19 08:19</div>
            <div class="timeline-body"><p>Indeed. Sorry!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/a8">@a8</a> on 2025-11-19 08:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:38 UTC
    </footer>
</body>
</html>
