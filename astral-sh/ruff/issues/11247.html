<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[PT013] Rationale is unconvincing. - astral-sh/ruff #11247</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[PT013] Rationale is unconvincing.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11247">#11247</a>
        opened by <a href="https://github.com/randolf-scholz">@randolf-scholz</a>
        on 2024-05-02 16:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/randolf-scholz">@randolf-scholz</a></div>
            <div class="timeline-body"><p><a href="https://docs.astral.sh/ruff/rules/pytest-incorrect-pytest-import/">Rule PT013</a> seems arbitrary. The rationale states:</p>
<blockquote>
<p>pytest should be imported as import pytest and its members should be accessed in the form of pytest.xxx.yyy for consistency and to make it easier for linting tools to analyze the code.</p>
</blockquote>
<p>But the same reasoning <em>&quot;make it easier for linting tools to analyze the code&quot;</em> could be applied to any library.</p>
<p>What are some concrete linting tools this applies to? If it makes no difference to <code>ruff</code>, should this be enabled by default in <code>ruff</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-03 00:46</div>
            <div class="timeline-body"><p>Yeah, I&#x27;m going to remove that piece from the rationale -- it makes no difference to Ruff. I don&#x27;t want to go as far as to remove or deprecate the rule, since it <em>can</em> be useful to enforce this convention (and I did some code search -- several large projects <em>do</em> enable this rule), but we should reframe the rationale.</p>
<p>(Note that this rule isn&#x27;t enabled by default in Ruff; you have to enable the <code>PT</code> category or <code>PT013</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-03 00:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/randolf-scholz">@randolf-scholz</a> on 2024-05-03 09:17</div>
            <div class="timeline-body"><blockquote>
<p>and I did some code search -- several large projects do enable this rule</p>
</blockquote>
<p>But is it cargo cult programming, or is there an actual good reason for it nowadays?</p>
<p>The rest of the PT-rules all look very sensible.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DanielYang59">@DanielYang59</a> on 2024-08-29 06:38</div>
            <div class="timeline-body"><p>Thanks for the helpful discussion, I happen to have similar question.</p>
<blockquote>
<p>I don&#x27;t want to go as far as to remove or deprecate the rule, since it <em>can</em> be useful to enforce this convention (and I did some code search -- several large projects <em>do</em> enable this rule)</p>
</blockquote>
<p>Not sure if we could/should set some exceptions for <code>approx</code> for example (<a href="https://docs.pytest.org/en/stable/reference/reference.html#pytest.approx">even pytest document use <code>from pytest import approx</code></a>), or only check certain patterns that is considered unconventional (for example <code>from pytest import raises/mark/fixture/...</code>). Because <code>approx</code> is heavily and repeatedly used for numerical comparisons <a href="https://github.com/materialsproject/pymatgen/pull/4022">materialsproject/pymatgen#4022</a>, and <code>pytest.approx</code> could be very verbose under such scenario.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:53 UTC
    </footer>
</body>
</html>
