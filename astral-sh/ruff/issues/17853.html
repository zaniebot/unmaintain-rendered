<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warn users of Python 3.14+ against `cls.__dict__.get(&quot;__annotations__&quot;, {})` - astral-sh/ruff #17853</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Warn users of Python 3.14+ against `cls.__dict__.get(&quot;__annotations__&quot;, {})`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/17853">#17853</a>
        opened by <a href="https://github.com/dylwil3">@dylwil3</a>
        on 2025-05-05 11:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dylwil3">@dylwil3</a> on 2025-05-05 11:37</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>cf https://github.com/astral-sh/ruff/pull/17658#pullrequestreview-2810350730 and https://github.com/astral-sh/ruff/pull/17658#issuecomment-2845922256</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dylwil3 on 2025-05-05 11:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/17658.html">astral-sh/ruff#17658</a> on 2025-05-05 11:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Warn user's of Python 3.14+ against `cls.__dict__.get("__annotations__", {})`" to "Warn users of Python 3.14+ against `cls.__dict__.get("__annotations__", {})`" by @AlexWaygood on 2025-05-05 11:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-05-05 12:54</div>
            <div class="timeline-body"><p>It might actually be good to emit this warning regardless of the target-version that Ruff infers. Just because somebody has <code>target-version = &quot;py38&quot;</code> in their config file doesn't mean that they're uninterested in their code working on Python 3.14. And there are more bulletproof ways of accessing the class's annotations that will work on all Python versions (either <code>inspect.get_annotations</code> or the <code>typing_extensions</code> backport of <code>annotationlib.get_annotations</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @AlexWaygood on 2025-05-19 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">python314</span> added by @AlexWaygood on 2025-05-19 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/18233.html">astral-sh/ruff#18233</a> on 2025-05-20 21:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/18236.html">astral-sh/ruff#18236</a> on 2025-05-21 02:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-06-20 13:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
