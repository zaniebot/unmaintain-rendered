```yaml
number: 20964
title: tidy EM102
type: issue
state: closed
author: dotysan
labels:
  - question
assignees: []
created_at: 2025-10-18T22:16:19Z
updated_at: 2025-10-20T07:29:21Z
url: https://github.com/astral-sh/ruff/issues/20964
synced_at: 2026-01-10T11:10:00Z
```

# tidy EM102

---

_Issue opened by @dotysan on 2025-10-18 22:16_

### Summary

When fixing this.
```py
        raise RuntimeError(
            "Failed to auto-install Playwright Chromium.\n"
            f"Command: {' '.join(cmd)}\n"
            f"stdout:\n{res.stdout}\n"
            f"stderr:\n{res.stderr}\n"
        )
```

<img width="535" height="117" alt="Image" src="https://github.com/user-attachments/assets/28212e4b-3199-4999-ae6d-7776bfc0961c" />

It did this:
```py
        msg = (
            "Failed to auto-install Playwright Chromium.\n"
            f"Command: {' '.join(cmd)}\n"
            f"stdout:\n{res.stdout}\n"
            f"stderr:\n{res.stderr}\n"
        )
        raise RuntimeError(
            msg
        )
```

Which generated a new COM812 Trailing comma missing.

But this would have been cleaner.
```py
        msg = (
            "Failed to auto-install Playwright Chromium.\n"
            f"Command: {' '.join(cmd)}\n"
            f"stdout:\n{res.stdout}\n"
            f"stderr:\n{res.stderr}\n"
        )
        raise RuntimeError(msg)

```

---

_Label `question` added by @MichaReiser on 2025-10-20 07:27_

---

_Comment by @MichaReiser on 2025-10-20 07:29_

Thanks for raising this.

I agree, collapsing the `RuntimeError` to a single line seems reasonable in this case. However, writing fixes comes with a lot of complexity and we try to keep the fixes of different rules separate from each other, so that we don't make any assumptions about which rules a project may or may not have enabled. 

Long term (#8232), the solution here is to run the formatter on the fix (only on projects that have the formatter enabled), which would collapse the `raise RuntimeError(msg)`.



---

_Closed by @MichaReiser on 2025-10-20 07:29_

---
