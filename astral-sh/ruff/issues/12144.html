<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>release 0.5.0 is different, was it intentional? - astral-sh/ruff #12144</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>release 0.5.0 is different, was it intentional?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12144">#12144</a>
        opened by <a href="https://github.com/alexeagle">@alexeagle</a>
        on 2024-07-02 05:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/alexeagle">@alexeagle</a> on 2024-07-02 05:09</div>
            <div class="timeline-body"><p>I see that https://github.com/astral-sh/ruff?tab=readme-ov-file#usage still references <code>v0.5.0</code> so I wonder if the following was inadventent:</p>
<ul>
<li>tag is <code>0.5.0</code> where all prior releases used a <code>v</code> prefix to denote &quot;this tag is a version&quot;</li>
<li>the artifacts uploaded to the GitHub release no longer have the version number in the filename</li>
<li>the tar files now contain an extra directory segment named <code>ruff-[platform]</code> and the <code>ruff</code> binary is nested in that directory.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-02 05:33</div>
            <div class="timeline-body"><p>Relevant discussion: https://github.com/astral-sh/ruff/discussions/12078. But, to answer your question, yes it was intentional with the new release pipeline. It's mentioned in the <a href="https://github.com/astral-sh/ruff/blob/main/CHANGELOG.md#breaking-changes">breaking changes section of the changelog</a> and the release notes. I'll quote it here:</p>
<blockquote>
<ul>
<li>The released archives now include an extra level of nesting, which can be removed with <code>--strip-components=1</code> when untarring.</li>
<li>The release artifact's file name no longer includes the version tag. This enables users to install via <code>/latest</code> URLs on GitHub.</li>
</ul>
</blockquote>
<hr />
<blockquote>
<p>I see that <a href="https://github.com/astral-sh/ruff?tab=readme-ov-file#usage">astral-sh/ruff#usage</a> still references <code>v0.5.0</code> so I wonder if the following was inadventent:</p>
</blockquote>
<p>Do you mean the reference in the pre-commit config? If so, then that uses the <a href="https://github.com/astral-sh/ruff-pre-commit/releases/tag/v0.5.0">version with <code>v</code> prefix</a>. I agree that this is a bit confusing. Maybe we should keep the deprecate the <code>v</code> prefix in pre-commit version to maintain consistency. /cc @charliermarsh</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @dhruvmanila on 2024-07-02 05:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alexeagle">@alexeagle</a> on 2024-07-02 15:39</div>
            <div class="timeline-body"><p>ah, thank you, I went looking through the breaking changes section and failed to find it. Will adjust our downstream scripts that install the release into Bazel.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-07-02 16:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-07-02 16:40</div>
            <div class="timeline-body"><p>Let us know if you think there's something we can do to make things easier in the future (though I think these are unlikely to change again for a while!)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:13 UTC
    </footer>
</body>
</html>
