```yaml
number: 1603
title: "Warning `D203` and `D211` are incompatible always raised"
type: issue
state: closed
author: ManonMarchand
labels: []
assignees: []
created_at: 2023-01-03T16:27:35Z
updated_at: 2023-01-25T23:21:26Z
url: https://github.com/astral-sh/ruff/issues/1603
synced_at: 2026-01-10T01:56:45Z
```

# Warning `D203` and `D211` are incompatible always raised

---

_Issue opened by @ManonMarchand on 2023-01-03 16:27_

Here is a minimal non working example for the issue discussed [here](https://github.com/charliermarsh/ruff/pull/1576#issuecomment-1369937183 "https://github.com/charliermarsh/ruff/pull/1576#issuecomment-1369937183"). 

In a clean repo with the files : 

- test.py (empty)
- .pre-commit-config.yaml

```
repos:
  - repo: https://github.com/charliermarsh/ruff-pre-commit
    # Ruff version.
    rev: 'v0.0.209'
    hooks:
     - id: ruff
```

- pyproject.toml

```
[tool.ruff.pydocstyle]
convention = "numpy"  # Accepts: "google", "numpy", or "pep257"

[tool.ruff]
extend-select = ["D"]
ignore = ["D203"]
```
Running `git add test.py` then `git commit -m "test"` raises the following warning

![image](https://user-images.githubusercontent.com/16650466/210398010-7ecd0f82-e6dc-4ff1-84f4-3fc176b444f7.png)

Which I don't understand cause the numpy convention and the ignore should both resolve the conflicting instructions. 

Thanks for your help and for this cool project! 

---

_Comment by @charliermarsh on 2023-01-03 18:24_

Ahh, this has to do with the way that `select` and `ignore` are resolved.

Can you instead try:

```toml
[tool.ruff.pydocstyle]
convention = "numpy"  # Accepts: "google", "numpy", or "pep257"

[tool.ruff]
extend-select = ["D"]
extend-ignore = ["D203"]
```

Or:

```toml
[tool.ruff.pydocstyle]
convention = "numpy"  # Accepts: "google", "numpy", or "pep257"

[tool.ruff]
select = ["D"]
ignore = ["D203"]
```

(The `extend` is always applied _after_ the non-`extend`. So above, you're removing `D203`, then adding all the `D` rules on top of that.)


---

_Closed by @charliermarsh on 2023-01-03 18:24_

---

_Comment by @charliermarsh on 2023-01-03 18:24_

(Just let me know if you continue to see issues after that change!)

---

_Referenced in [astral-sh/ruff#1611](../../astral-sh/ruff/pulls/1611.md) on 2023-01-04 01:34_

---

_Comment by @ManonMarchand on 2023-01-04 08:40_

Perfect like this thanks a lot! Maybe you could also consider changing the warning message to `Consider adding 'D103' to extend-ignore.` ?

---

_Comment by @rharish101 on 2023-01-25 23:16_

> (Just let me know if you continue to see issues after that change!)

I'm getting this warning with the following config (in `ruff.toml`) when using ruff 0.0.233:
```toml
extend-select = ["C90", "D", "I"]
line-length = 79

[pydocstyle]
convention = "google"
```

Shouldn't the "google" convention disable D203?

---

_Comment by @charliermarsh on 2023-01-25 23:19_

Taking a look.

---

_Comment by @charliermarsh on 2023-01-25 23:21_

The warning is spurious -- it's happening in the wrong place. I'll fix it now.

---

_Referenced in [astral-sh/ruff#2182](../../astral-sh/ruff/pulls/2182.md) on 2023-01-25 23:26_

---
