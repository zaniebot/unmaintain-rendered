<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UP024 fixer replaces wrong members with &quot;as&quot; alias import - astral-sh/ruff #1790</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>UP024 fixer replaces wrong members with &quot;as&quot; alias import</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1790">#1790</a>
        opened by <a href="https://github.com/spaceone">@spaceone</a>
        on 2023-01-11 22:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/spaceone">@spaceone</a></div>
            <div class="timeline-body"><pre><code>$ ruff --isolated  --select UP foo.py
foo.py:5:7: UP024 Replace aliased errors with `OSError`
foo.py:6:8: UP024 Replace aliased errors with `OSError`
Found 2 error(s).
2 potentially fixable with the --fix option.
$ cat foo.py
from socket import error as SocketError
from events import fire, error

try:
        fire(error())
except SocketError:
        print()
$ ruff --isolated  --select UP --fix foo.py
Found 2 error(s) (2 fixed, 0 remaining).
$ cat foo.py
from socket import error as SocketError
from events import fire, error

try:
        fire(OSError())
except OSError:
        print()
</code></pre>
<ol>
<li><code>fire(error())</code> must not be replaced</li>
<li>the leftover import is now useless</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 22:41</div>
            <div class="timeline-body"><p>We need to verify that it&#x27;s a builtin.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 22:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">autofix</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 22:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 23:43</div>
            <div class="timeline-body"><p>Wait, sorry, what&#x27;s incorrect here? The unused import will get removed if you enable unused import checks. And this rewrite is correct:</p>
<pre><code>&gt;&gt;&gt; from socket import error as SocketError
&gt;&gt;&gt; SocketError
&lt;class &#x27;OSError&#x27;&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 23:43</div>
            <div class="timeline-body"><p>Ah, wait, misread the code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 23:46</div>
            <div class="timeline-body"><p>Though it&#x27;s not obvious, this is the same underlying issue as #1690. Which is that our import tracking has a few limitations we need to rework.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-14 01:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:29 UTC
    </footer>
</body>
</html>
