<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUF200 does not detect invalid license field - astral-sh/ruff #13726</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>RUF200 does not detect invalid license field</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13726">#13726</a>
        opened by <a href="https://github.com/marcocaccin">@marcocaccin</a>
        on 2024-10-12 22:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/marcocaccin">@marcocaccin</a></div>
            <div class="timeline-body"><p><code>RUF200</code> should detect invalid contents of a <code>pyproject.toml</code> file, but the <code>license</code> field does not seem to be validated correctly.</p>
<p>Minimal example:</p>
<pre><code>[project]
name = &quot;xyz&quot;
version = &quot;0.0.1&quot;
license = &quot;MIT License&quot;
</code></pre>
<p>goes through, despite the value being set incorrectly (the <a href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license">specs</a> require this to be <code>license = {text = &quot;MIT License&quot;}</code>). This can be particularly surprising for people transitioning from <code>poetry</code>, where the syntax above was the expected one (yet in a differently named section), see for example <a href="https://github.com/rspeer/python-ftfy/issues/218">rspeer/python-ftfy#218</a></p>
<p>[Info] tested ruff versions: <code>0.4.1</code>, <code>0.6.9</code>; command: <code>ruff check --select ALL --isolated pyproject.toml</code></p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-13 14:19</div>
            <div class="timeline-body"><p>That makes sense. Ruff currently doesn&#x27;t support any linting for pyproject.toml or ruff toml files. We should definitely support this but it&#x27;s further out. I&#x27;ll merge this with <a href="https://github.com/astral-sh/ruff/issues/10487">astral-sh/ruff#10487</a> which asks for a very similar functionality</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-13 14:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:58 UTC
    </footer>
</body>
</html>
