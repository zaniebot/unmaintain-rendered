<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily property test run failed on Wed Apr 23 2025 - astral-sh/ruff #17579</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Daily property test run failed on Wed Apr 23 2025</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17579">#17579</a>
        opened by <a href="https://github.com/github-actions">@github-actions</a>
        on 2025-04-23 12:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/github-actions">@github-actions</a></div>
            <div class="timeline-body"><p>Run listed here: https://github.com/astral-sh/ruff/actions/runs/14617781267</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @github-actions[bot] on 2025-04-23 12:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @github-actions[bot] on 2025-04-23 12:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">testing</span> added by @github-actions[bot] on 2025-04-23 12:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-23 12:15</div>
            <div class="timeline-body"><p>Hmmmm</p>
<pre><code>test types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union ... FAILED
test types::property_tests::stable::all_types_assignable_to_object ... FAILED
test types::property_tests::stable::all_type_pairs_are_assignable_to_their_union ... FAILED
test types::property_tests::stable::disjoint_from_is_irreflexive ... FAILED
test types::property_tests::stable::assignable_to_is_reflexive ... FAILED
test types::property_tests::stable::equivalent_to_is_reflexive ... FAILED
test types::property_tests::stable::equivalent_to_is_symmetric ... FAILED
test types::property_tests::stable::equivalent_to_is_transitive ... FAILED
test types::property_tests::stable::all_fully_static_types_subtype_of_object ... FAILED
test types::property_tests::stable::gradual_equivalent_to_is_symmetric ... FAILED
test types::property_tests::stable::never_assignable_to_every_type ... FAILED
test types::property_tests::stable::non_fully_static_types_do_not_participate_in_subtyping ... FAILED
test types::property_tests::stable::never_subtype_of_every_fully_static_type ... FAILED
test types::property_tests::stable::disjoint_from_is_symmetric ... FAILED
test types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence ... FAILED
test types::property_tests::stable::subtype_of_is_antisymmetric ... FAILED
test types::property_tests::stable::subtype_of_implies_assignable_to ... FAILED
test types::property_tests::stable::subtype_of_is_reflexive ... FAILED
test types::property_tests::stable::singleton_implies_single_valued ... FAILED
test types::property_tests::stable::subtype_of_is_transitive ... FAILED
test types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent ... FAILED
test types::property_tests::stable::two_equivalent_types_are_also_gradual_equivalent ... FAILED
test types::property_tests::stable::subtype_of_implies_not_disjoint_from ... FAILED

failures:

---- types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union stdout ----

thread 'types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

thread 'types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n7&quot;)), annotated_ty: Some(Union([StringLiteral(&quot;&quot;), BuiltinsBoundMethod { class: &quot;str&quot;, method: &quot;isascii&quot; }, AlwaysTruthy])), default_ty: None }]), returns: Some(BuiltinsBoundMethod { class: &quot;int&quot;, method: &quot;bit_length&quot; }) }, BuiltinClassLiteral(&quot;object&quot;)]), AlwaysTruthy)
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::all_types_assignable_to_object stdout ----

thread 'types::property_tests::stable::all_types_assignable_to_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_types_assignable_to_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_types_assignable_to_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_types_assignable_to_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_types_assignable_to_object' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Intersection { pos: [], neg: [Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n9&quot;)), annotated_ty: Some(KnownClassInstance(TypeAliasType)), default_ty: Some(Tuple([SubclassOfBuiltinClass(&quot;str&quot;), BuiltinClassLiteral(&quot;int&quot;)])) }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n7&quot;)), annotated_ty: Some(Tuple([SubclassOfAbcClass(&quot;ABC&quot;)])), default_ty: None }]), returns: Some(StringLiteral(&quot;a&quot;)) }, BuiltinClassLiteral(&quot;int&quot;)] })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::all_type_pairs_are_assignable_to_their_union stdout ----

thread 'types::property_tests::stable::all_type_pairs_are_assignable_to_their_union' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_type_pairs_are_assignable_to_their_union' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Callable { params: List([]), returns: Some(None) }, BuiltinClassLiteral(&quot;int&quot;))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::disjoint_from_is_irreflexive stdout ----

thread 'types::property_tests::stable::disjoint_from_is_irreflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::disjoint_from_is_irreflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::disjoint_from_is_irreflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::disjoint_from_is_irreflexive' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([BuiltinClassLiteral(&quot;str&quot;), Callable { params: List([]), returns: Some(BuiltinsFunction(&quot;chr&quot;)) }]))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::assignable_to_is_reflexive stdout ----

thread 'types::property_tests::stable::assignable_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::assignable_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function
error: test failed, to rerun pass `-p red_knot_python_semantic --lib`

thread 'types::property_tests::stable::assignable_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::assignable_to_is_reflexive' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Intersection { pos: [BuiltinClassLiteral(&quot;int&quot;)], neg: [Callable { params: List([Param { kind: Variadic, name: Some(Name(&quot;n5&quot;)), annotated_ty: Some(Callable { params: List([]), returns: Some(KnownClassInstance(FunctionType)) }), default_ty: None }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n0&quot;)), annotated_ty: Some(KnownClassInstance(Tuple)), default_ty: None }]), returns: Some(SubclassOfBuiltinClass(&quot;object&quot;)) }] })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::equivalent_to_is_reflexive stdout ----

thread 'types::property_tests::stable::equivalent_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_reflexive' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([Callable { params: List([Param { kind: Variadic, name: Some(Name(&quot;n8&quot;)), annotated_ty: Some(Union([KnownClassInstance(TypeVar), AlwaysTruthy, BuiltinsFunction(&quot;ascii&quot;)])), default_ty: None }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n2&quot;)), annotated_ty: Some(BuiltinsBoundMethod { class: &quot;str&quot;, method: &quot;isascii&quot; }), default_ty: None }]), returns: Some(AbcInstance(&quot;ABCMeta&quot;)) }, BuiltinClassLiteral(&quot;str&quot;)]))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::equivalent_to_is_symmetric stdout ----

thread 'types::property_tests::stable::equivalent_to_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_symmetric' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Tuple([AbcClassLiteral(&quot;ABCMeta&quot;)]), Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n7&quot;)), annotated_ty: Some(Intersection { pos: [Tuple([AbcClassLiteral(&quot;ABCMeta&quot;)])], neg: [Union([BuiltinClassLiteral(&quot;bool&quot;), StringLiteral(&quot;&quot;), KnownClassInstance(TypeVar)])] }), default_ty: Some(Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n0&quot;)), annotated_ty: Some(Intersection { pos: [Union([BuiltinClassLiteral(&quot;int&quot;), BytesLiteral(&quot;\0&quot;)])], neg: [Callable { params: List([Param { kind: PositionalOrKeyword, name: Some(Name(&quot;n1&quot;)), annotated_ty: Some(Callable { params: List([Param { kind: KeywordVariadic, name: Some(Name(&quot;n3&quot;)), annotated_ty: Some(Callable { params: List([]), returns: Some(BytesLiteral(&quot;&quot;)) }), default_ty: None }]), returns: Some(SubclassOfAbcClass(&quot;ABCMeta&quot;)) }), default_ty: None }, Param { kind: KeywordOnly, name: Some(Name(&quot;n0&quot;)), annotated_ty: Some(KnownClassInstance(Tuple)), default_ty: Some(Callable { params: GradualForm, returns: Some(BuiltinClassLiteral(&quot;object&quot;)) }) }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n2&quot;)), annotated_ty: Some(Tuple([None])), default_ty: None }]), returns: Some(KnownClassInstance(Tuple)) }] }), default_ty: None }, Param { kind: KeywordOnly, name: Some(Name(&quot;n4&quot;)), annotated_ty: Some(Callable { params: GradualForm, returns: None }), default_ty: None }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n5&quot;)), annotated_ty: Some(Union([Union([SubclassOfBuiltinClass(&quot;str&quot;), IntLiteral(-1)]), Union([TypingLiteral, KnownClassInstance(List), KnownClassInstance(FunctionType)]), BuiltinsFunction(&quot;ascii&quot;)])), default_ty: None }]), returns: None }) }]), returns: None })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::equivalent_to_is_transitive stdout ----

thread 'types::property_tests::stable::equivalent_to_is_transitive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_transitive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_transitive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_transitive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::equivalent_to_is_transitive' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([Intersection { pos: [], neg: [BuiltinClassLiteral(&quot;int&quot;)] }, Callable { params: List([Param { kind: PositionalOrKeyword, name: Some(Name(&quot;n9&quot;)), annotated_ty: Some(Tuple([BuiltinsBoundMethod { class: &quot;int&quot;, method: &quot;bit_length&quot; }])), default_ty: Some(SubclassOfBuiltinClass(&quot;str&quot;)) }]), returns: Some(AbcInstance(&quot;ABCMeta&quot;)) }]), Tuple([StringLiteral(&quot;&quot;)]), IntLiteral(-1))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::all_fully_static_types_subtype_of_object stdout ----

thread 'types::property_tests::stable::all_fully_static_types_subtype_of_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_fully_static_types_subtype_of_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_fully_static_types_subtype_of_object' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::all_fully_static_types_subtype_of_object' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([BuiltinClassLiteral(&quot;object&quot;), Callable { params: List([Param { kind: KeywordVariadic, name: Some(Name(&quot;n6&quot;)), annotated_ty: Some(Union([LiteralString, AbcInstance(&quot;ABCMeta&quot;)])), default_ty: None }]), returns: Some(AlwaysTruthy) }]))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::gradual_equivalent_to_is_symmetric stdout ----

thread 'types::property_tests::stable::gradual_equivalent_to_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::gradual_equivalent_to_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::gradual_equivalent_to_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::gradual_equivalent_to_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::gradual_equivalent_to_is_symmetric' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([BuiltinClassLiteral(&quot;int&quot;), Callable { params: List([Param { kind: KeywordVariadic, name: Some(Name(&quot;n2&quot;)), annotated_ty: Some(KnownClassInstance(FunctionType)), default_ty: None }]), returns: Some(KnownClassInstance(NoDefaultType)) }]), Callable { params: GradualForm, returns: None })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::never_assignable_to_every_type stdout ----

thread 'types::property_tests::stable::never_assignable_to_every_type' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::never_assignable_to_every_type' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::never_assignable_to_every_type' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::never_assignable_to_every_type' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::never_assignable_to_every_type' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Intersection { pos: [BuiltinClassLiteral(&quot;bool&quot;), Callable { params: List([]), returns: Some(AlwaysTruthy) }], neg: [] })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::non_fully_static_types_do_not_participate_in_subtyping stdout ----

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_subtyping' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_subtyping' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_subtyping' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n4&quot;)), annotated_ty: Some(Union([Tuple([]), Tuple([BuiltinInstance(&quot;type&quot;)])])), default_ty: Some(Union([Union([LiteralString, SubclassOfAbcClass(&quot;ABCMeta&quot;)]), Union([SubclassOfBuiltinClass(&quot;type&quot;), BuiltinClassLiteral(&quot;str&quot;)])])) }, Param { kind: KeywordOnly, name: Some(Name(&quot;n8&quot;)), annotated_ty: None, default_ty: Some(IntLiteral(1)) }, Param { kind: KeywordOnly, name: Some(Name(&quot;n7&quot;)), annotated_ty: None, default_ty: Some(Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n1&quot;)), annotated_ty: Some(Tuple([BuiltinsBoundMethod { class: &quot;int&quot;, method: &quot;bit_length&quot; }])), default_ty: Some(StringLiteral(&quot;&quot;)) }, Param { kind: KeywordOnly, name: Some(Name(&quot;n2&quot;)), annotated_ty: None, default_ty: Some(KnownClassInstance(Str)) }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n3&quot;)), annotated_ty: Some(BuiltinClassLiteral(&quot;str&quot;)), default_ty: None }]), returns: None }) }, Param { kind: KeywordOnly, name: Some(Name(&quot;n1&quot;)), annotated_ty: None, default_ty: Some(Intersection { pos: [Union([SubclassOfAbcClass(&quot;ABCMeta&quot;), StringLiteral(&quot;a&quot;), AbcInstance(&quot;ABC&quot;)]), Tuple([AbcInstance(&quot;ABC&quot;)])], neg: [Tuple([])] }) }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n0&quot;)), annotated_ty: Some(Union([Intersection { pos: [BuiltinClassLiteral(&quot;str&quot;), BuiltinClassLiteral(&quot;str&quot;)], neg: [BytesLiteral(&quot;&quot;)] }, Tuple([]), Callable { params: List([]), returns: Some(KnownClassInstance(Object)) }])), default_ty: None }]), returns: Some(Tuple([])) }, Callable { params: GradualForm, returns: Some(Never) })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::never_subtype_of_every_fully_static_type stdout ----

thread 'types::property_tests::stable::never_subtype_of_every_fully_static_type' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::never_subtype_of_every_fully_static_type' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::never_subtype_of_every_fully_static_type' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([Callable { params: List([]), returns: Some(SubclassOfBuiltinClass(&quot;type&quot;)) }, BuiltinClassLiteral(&quot;bool&quot;)]))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::disjoint_from_is_symmetric stdout ----

thread 'types::property_tests::stable::disjoint_from_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::disjoint_from_is_symmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::disjoint_from_is_symmetric' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([Callable { params: List([Param { kind: Variadic, name: Some(Name(&quot;n6&quot;)), annotated_ty: Some(Tuple([BuiltinClassLiteral(&quot;str&quot;)])), default_ty: None }]), returns: Some(StringLiteral(&quot;&quot;)) }, BuiltinClassLiteral(&quot;str&quot;)]), SubclassOfAbcClass(&quot;ABC&quot;))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence stdout ----

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([BuiltinClassLiteral(&quot;int&quot;), Callable { params: List([Param { kind: KeywordVariadic, name: Some(Name(&quot;n2&quot;)), annotated_ty: Some(Intersection { pos: [], neg: [LiteralString, BuiltinClassLiteral(&quot;bool&quot;)] }), default_ty: None }]), returns: Some(KnownClassInstance(NoDefaultType)) }]), KnownClassInstance(NoDefaultType))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::subtype_of_is_antisymmetric stdout ----

thread 'types::property_tests::stable::subtype_of_is_antisymmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_is_antisymmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_is_antisymmetric' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_is_antisymmetric' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Intersection { pos: [BuiltinClassLiteral(&quot;bool&quot;)], neg: [Callable { params: List([Param { kind: PositionalOrKeyword, name: Some(Name(&quot;n5&quot;)), annotated_ty: Some(Callable { params: List([]), returns: Some(BuiltinsBoundMethod { class: &quot;int&quot;, method: &quot;bit_length&quot; }) }), default_ty: None }, Param { kind: Variadic, name: Some(Name(&quot;n6&quot;)), annotated_ty: Some(Intersection { pos: [BytesLiteral(&quot;&quot;), BuiltinInstance(&quot;type&quot;)], neg: [AbcClassLiteral(&quot;ABCMeta&quot;), BuiltinsBoundMethod { class: &quot;int&quot;, method: &quot;bit_length&quot; }] }), default_ty: None }]), returns: Some(SubclassOfBuiltinClass(&quot;object&quot;)) }] }, Intersection { pos: [Callable { params: GradualForm, returns: None }], neg: [] })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::subtype_of_implies_assignable_to stdout ----

thread 'types::property_tests::stable::subtype_of_implies_assignable_to' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_implies_assignable_to' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n5&quot;)), annotated_ty: Some(Union([Callable { params: List([Param { kind: KeywordVariadic, name: Some(Name(&quot;n1&quot;)), annotated_ty: Some(BuiltinClassLiteral(&quot;bool&quot;)), default_ty: None }]), returns: Some(None) }, Union([SubclassOfAbcClass(&quot;ABCMeta&quot;), BuiltinClassLiteral(&quot;object&quot;)]), AbcClassLiteral(&quot;ABC&quot;)])), default_ty: None }, Param { kind: KeywordOnly, name: Some(Name(&quot;n1&quot;)), annotated_ty: None, default_ty: Some(Union([Tuple([BuiltinClassLiteral(&quot;int&quot;)]), BuiltinsBoundMethod { class: &quot;int&quot;, method: &quot;bit_length&quot; }])) }]), returns: Some(Tuple([Never])) }, KnownClassInstance(Int))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::subtype_of_is_reflexive stdout ----

thread 'types::property_tests::stable::subtype_of_is_reflexive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_is_reflexive' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Intersection { pos: [BuiltinClassLiteral(&quot;bool&quot;)], neg: [Callable { params: List([Param { kind: Variadic, name: Some(Name(&quot;n8&quot;)), annotated_ty: Some(BuiltinsFunction(&quot;ascii&quot;)), default_ty: None }]), returns: Some(LiteralString) }] })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::singleton_implies_single_valued stdout ----

thread 'types::property_tests::stable::singleton_implies_single_valued' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::singleton_implies_single_valued' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([Intersection { pos: [BuiltinClassLiteral(&quot;str&quot;)], neg: [] }, Callable { params: List([Param { kind: PositionalOrKeyword, name: Some(Name(&quot;n6&quot;)), annotated_ty: Some(Tuple([KnownClassInstance(Object), AbcClassLiteral(&quot;ABCMeta&quot;)])), default_ty: None }]), returns: Some(KnownClassInstance(Str)) }]))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::subtype_of_is_transitive stdout ----

thread 'types::property_tests::stable::subtype_of_is_transitive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_is_transitive' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_is_transitive' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (BuiltinClassLiteral(&quot;str&quot;), Callable { params: List([]), returns: Some(Union([SubclassOfBuiltinClass(&quot;str&quot;), BuiltinsFunction(&quot;chr&quot;)])) }, Intersection { pos: [Callable { params: GradualForm, returns: None }], neg: [] })
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent stdout ----

thread 'types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Tuple([BuiltinsFunction(&quot;ascii&quot;)]), Union([Callable { params: List([Param { kind: KeywordOnly, name: Some(Name(&quot;n3&quot;)), annotated_ty: Some(KnownClassInstance(TypeVar)), default_ty: Some(Intersection { pos: [BuiltinClassLiteral(&quot;object&quot;)], neg: [SubclassOfBuiltinClass(&quot;str&quot;)] }) }]), returns: Some(StringLiteral(&quot;a&quot;)) }, BuiltinClassLiteral(&quot;bool&quot;)]))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::two_equivalent_types_are_also_gradual_equivalent stdout ----

thread 'types::property_tests::stable::two_equivalent_types_are_also_gradual_equivalent' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::two_equivalent_types_are_also_gradual_equivalent' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Callable { params: List([Param { kind: Variadic, name: Some(Name(&quot;n7&quot;)), annotated_ty: Some(Intersection { pos: [], neg: [Callable { params: List([Param { kind: PositionalOrKeyword, name: Some(Name(&quot;n0&quot;)), annotated_ty: Some(BuiltinClassLiteral(&quot;bool&quot;)), default_ty: Some(SubclassOfAny) }]), returns: Some(KnownClassInstance(SpecialForm)) }, Union([BuiltinsFunction(&quot;ascii&quot;), BuiltinClassLiteral(&quot;str&quot;), AbcInstance(&quot;ABC&quot;)])] }), default_ty: None }, Param { kind: KeywordOnly, name: Some(Name(&quot;n2&quot;)), annotated_ty: Some(Callable { params: GradualForm, returns: Some(Any) }), default_ty: None }, Param { kind: KeywordVariadic, name: Some(Name(&quot;n8&quot;)), annotated_ty: None, default_ty: None }]), returns: Some(Tuple([AbcInstance(&quot;ABC&quot;), AbcInstance(&quot;ABC&quot;)])) }, BuiltinClassLiteral(&quot;object&quot;))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;

---- types::property_tests::stable::subtype_of_implies_not_disjoint_from stdout ----

thread 'types::property_tests::stable::subtype_of_implies_not_disjoint_from' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_implies_not_disjoint_from' panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/87bf6b6/src/zalsa_local.rs:237:46:
cannot create a tracked struct disambiguator outside of a tracked function

thread 'types::property_tests::stable::subtype_of_implies_not_disjoint_from' panicked at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/quickcheck-1.0.3/src/tester.rs:165:28:
[quickcheck] TEST FAILED (runtime error). Arguments: (Union([BuiltinClassLiteral(&quot;bool&quot;), Callable { params: List([Param { kind: KeywordVariadic, name: Some(Name(&quot;n3&quot;)), annotated_ty: Some(Union([KnownClassInstance(TypeAliasType), KnownClassInstance(Bool)])), default_ty: None }]), returns: Some(BuiltinClassLiteral(&quot;bool&quot;)) }]), SubclassOfBuiltinClass(&quot;type&quot;))
Error: &quot;cannot create a tracked struct disambiguator outside of a tracked function&quot;


failures:
    types::property_tests::stable::all_fully_static_type_pairs_are_subtype_of_their_union
    types::property_tests::stable::all_fully_static_types_subtype_of_object
    types::property_tests::stable::all_type_pairs_are_assignable_to_their_union
    types::property_tests::stable::all_types_assignable_to_object
    types::property_tests::stable::assignable_to_is_reflexive
    types::property_tests::stable::disjoint_from_is_irreflexive
    types::property_tests::stable::disjoint_from_is_symmetric
    types::property_tests::stable::equivalent_to_is_reflexive
    types::property_tests::stable::equivalent_to_is_symmetric
    types::property_tests::stable::equivalent_to_is_transitive
    types::property_tests::stable::gradual_equivalent_to_is_symmetric
    types::property_tests::stable::never_assignable_to_every_type
    types::property_tests::stable::never_subtype_of_every_fully_static_type
    types::property_tests::stable::non_fully_static_types_do_not_participate_in_equivalence
    types::property_tests::stable::non_fully_static_types_do_not_participate_in_subtyping
    types::property_tests::stable::singleton_implies_single_valued
    types::property_tests::stable::subtype_of_implies_assignable_to
    types::property_tests::stable::subtype_of_implies_not_disjoint_from
    types::property_tests::stable::subtype_of_is_antisymmetric
    types::property_tests::stable::subtype_of_is_reflexive
    types::property_tests::stable::subtype_of_is_transitive
    types::property_tests::stable::two_equivalent_types_are_also_gradual_equivalent
    types::property_tests::stable::two_gradual_equivalent_fully_static_types_are_also_equivalent

test result: FAILED. 0 passed; 23 failed; 0 ignored; 0 measured; 210 filtered out; finished in 0.09s
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-23 12:16</div>
            <div class="timeline-body"><p>Ugh. I can reproduce this locally.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-23 12:17</div>
            <div class="timeline-body"><p>This looks like we call a function that creates tracked struct but it isn't enclosed by a salsa query (somehwere, doesn't have to be the function itself)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-23 12:18</div>
            <div class="timeline-body"><p>I'm bisecting it now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-23 12:23</div>
            <div class="timeline-body"><p><code>git bisect</code> points to e45f23b0ec1efd093c6588f9b7d56bf87c4eebae:</p>
<pre><code>e45f23b0ec1efd093c6588f9b7d56bf87c4eebae is the first bad commit
commit e45f23b0ec1efd093c6588f9b7d56bf87c4eebae
Author: Matthew Mckee &lt;matthewmckee04@yahoo.co.uk&gt;
Date:   Wed Apr 23 06:40:33 2025 +0100

    [red-knot] Class literal `__new__` function callable subtyping (#17533)
    
    ## Summary
    
    From
    https://typing.python.org/en/latest/spec/constructors.html#converting-a-constructor-to-callable
    
    this covers step 2 and partially step 3 (always respecting the
    `__new__`)
    
    ## Test Plan
    
    Update is_subtype_of.md
    
    ---------
    
    Co-authored-by: Carl Meyer &lt;carl@astral.sh&gt;

 .../mdtest/type_properties/is_subtype_of.md        | 50 ++++++++++++++++++++++
 crates/red_knot_python_semantic/src/types.rs       | 31 ++++++--------
 crates/red_knot_python_semantic/src/types/class.rs | 37 ++++++++++++++++
 3 files changed, 99 insertions(+), 19 deletions(-)
</code></pre>
<p>And I double-checked that the property tests all pass prior to that commit, but all fail after it. I don't see anything obviously wrong with the changes that commit made, though?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-23 12:37</div>
            <div class="timeline-body"><p>I think the problem is that <code>is_subtype_of</code> now calls <code>Class::into_callable</code> which calls <code>into_bound_method_type</code> which creates a salsa tracked <code>BoundMethodType</code></p>
<p>We'll need to introduce an intermediate salsa query in the property tests somewhere...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-04-23 13:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:37 UTC
    </footer>
</body>
</html>
