<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detect / Prohibit Implicit String Concatenation within a list, set, tuple - astral-sh/ruff #19809</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Detect / Prohibit Implicit String Concatenation within a list, set, tuple</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/19809">#19809</a>
        opened by <a href="https://github.com/lhegstrom">@lhegstrom</a>
        on 2025-08-07 15:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lhegstrom">@lhegstrom</a> on 2025-08-07 15:56</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>It's possible to write valid python code that looks like:</p>
<pre><code class="language-python">my_list = [
    &quot;a&quot; #missing comma 
    &quot;b&quot;,
    &quot;c&quot;,
]
</code></pre>
<p>This performs an implicit string concatenation within the list at runtime:</p>
<p><code>my_list = [&quot;ab&quot;, &quot;c&quot;]</code></p>
<p>Same for tuples and sets.</p>
<p>There is a single line implicit string concatenation rule:
https://docs.astral.sh/ruff/rules/single-line-implicit-string-concatenation/</p>
<p>But, this does not seem to pick up on implicit string concatenation within a iterable.</p>
<p>And, of course, if your list/set/tuple are long enough, black reformats them into a vertical orientation.</p>
<p>I've run into issues multiple times where someone sets some sort of configuration as a list or tuple, misses a comma, and the values are used to query against a database, etc. The error often goes undetected for a while before someone notices. Would love to have a rule that prohibits this implicit string concatenation within an iterable</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-07 15:59</div>
            <div class="timeline-body"><p>You can set <a href="https://docs.astral.sh/ruff/settings/#lintflake8-implicit-str-concat"><code>allow-multiline</code></a> to disallow multiline implicit string concatenation. However, this will disallow any multiline implicit string concatenation and not just in lists or sets.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2025-08-07 15:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lhegstrom">@lhegstrom</a> on 2025-08-07 16:10</div>
            <div class="timeline-body"><p>Ah, it looks like using both:
ISC001 and ISC002 + the disallow multiline resolves this. Thank you!</p>
<p>Closing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @lhegstrom on 2025-08-07 16:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:16 UTC
    </footer>
</body>
</html>
