<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>In `ruff` 0.0.258 the `pydocstyle` rules are being enabled and can't be disabled with `[tool.ruff.pydocstyle]` defined.  - astral-sh/ruff #3687</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>In `ruff` 0.0.258 the `pydocstyle` rules are being enabled and can't be disabled with `[tool.ruff.pydocstyle]` defined. </h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/3687">#3687</a>
        opened by <a href="https://github.com/bgianfo">@bgianfo</a>
        on 2023-03-23 17:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/bgianfo">@bgianfo</a> on 2023-03-23 17:50</div>
            <div class="timeline-body"><p>After upgrading we noticed that these D<XXX> rules (pydocstyle) are being enabled and suppressing them in the <code>ignore</code> section doesn't seem to take effect?</p>
<p>It seems the presence of this line in the <code>pyproject.toml</code> somehow enables the rule even though the ruleset isn't enabled?</p>
<pre><code class="language-toml">[tool.ruff.pydocstyle]
convention = &quot;google&quot;
</code></pre>
<p>Repro steps:</p>
<ul>
<li>The command you invoked (e.g., <code>ruff /path/to/file.py --fix</code>), ideally including the <code>--isolated</code> flag.</li>
</ul>
<pre><code class="language-bash"># ruff . --statistics
   2	UP031	[*] Use format specifiers instead of percent format
1515	D203 	[*] 1 blank line required before class docstring
 337	D213 	[*] Multi-line docstring summary should start at the second line
4915	D400 	[*] First line should end with a period
1814	D401 	[ ] First line of docstring should be in imperative mood: &quot;Main entry point for the script.&quot;
 136	D404 	[ ] First word of the docstring should not be &quot;This&quot;
4633	D407 	[*] Missing dashed underline after section (&quot;Args&quot;)
   6	D409 	[*] Section underline should match the length of its name (&quot;Returns&quot;)
   1	D413 	[*] Missing blank line after last section (&quot;Args&quot;)
</code></pre>
<ul>
<li>The current Ruff settings (any relevant sections from your <code>pyproject.toml</code>).</li>
</ul>
<pre><code class="language-toml">[tool.ruff]
# Support Python 3.8+.
target-version = &quot;py38&quot;

select = [
    &quot;E&quot;,   # pycodestyle
    &quot;EXE&quot;, # flake8-executable
    &quot;F&quot;,   # pyflakes
    &quot;A&quot;,   # flake8-builtins
    &quot;B&quot;,   # flake8-bugbear
    &quot;W&quot;,   # pycodestyle
    &quot;PGH&quot;, # pygrep-hooks
    &quot;PIE&quot;, # flake8-pie
    &quot;YTT&quot;, # flake8-2020
    &quot;PLC&quot;, # pylint
    &quot;PLE&quot;, # pylint
    &quot;PLR&quot;, # pylint
    &quot;PLW&quot;, # pylint
    &quot;RUF&quot;, # ruff rules
    &quot;UP&quot;,  # pyupgrade
    # TODO:
    # &quot;D&quot;,   # pydocstyle
    # &quot;I&quot;,   # isort
    # &quot;BLE&quot;, # flake8-blind-except
    # &quot;ANN&quot;, # flake8-annotations
]

ignore = [
    # Formatting errors.  Formatting is enforced by black.
    # Uncomment once ruff supports this, we can ignore it.
    # &quot;E2&quot;,   # Not yet implemented by ruff
    # &quot;E302&quot;, # Not yet implemented by ruff
    &quot;E501&quot;, # Line too long
    # &quot;W503&quot;, # line break before binary operator # Not yet implemented by ruff
    # &quot;W504&quot;, # line break after binary operator  # Not yet implemented by ruff
    # This is enforced by isort.
    &quot;E402&quot;,   # module level import not at top of file.
    # Temporarily suppressed warnings.
    # TODO: enable these
    &quot;A003&quot;,   # Class attribute is shadowing a python builtin
    &quot;B006&quot;,   # Do not use mutable data structures for argument defaults
    &quot;B008&quot;,   # Do not perform function call in argument defaults
    &quot;B011&quot;,   # Do not `assert False`
    &quot;B904&quot;,   # Within an `except` clause, raise exceptions with `raise ... from err`
    &quot;E722&quot;,   # do not use bare except, specify exception instead
    &quot;E731&quot;,   # Do not assign a lamda expression
    &quot;E741&quot;,   # ambiguous name
    &quot;F401&quot;,   # module imported but unused
    &quot;F403&quot;,   # unable to detect undefined names
    &quot;F405&quot;,   # future import(s) name after other statements
    &quot;F821&quot;,   # undefined name name
    &quot;W605&quot;,   # Invalid escape sequence
    &quot;RUF005&quot;, # Consider {expr} instead of concatenation
    &quot;RUF006&quot;, # Store a reference to the return value of asyncio.&lt;func&gt;
    &quot;RUF100&quot;, # Unused noqa directive
    &quot;PGH003&quot;, # use specific rule codes when ignoring type issues
    &quot;PLC1901&quot;,# `&lt;expression&gt;` can be simplified to `&lt;expression&gt;` as an empty string is falsey
    &quot;PLR0402&quot;,# Use in lieu of alias
    &quot;PLR0911&quot;,# Too many return statements
    &quot;PLR0912&quot;,# Too many branches
    &quot;PLR0913&quot;,# Too many arguments to function call 
    &quot;PLR0915&quot;,# Too many statements
    &quot;PLR2004&quot;,# Magic value used
    &quot;PLR5501&quot;,# Consider using elif
    &quot;PLW0602&quot;,# Using global without assignment
    &quot;PLW0603&quot;,# Using the global statement to update variable is discouraged
    &quot;PLW2901&quot;,# Outer for loop variable overwritten by inner assignment target
]

[tool.ruff.pydocstyle]
convention = &quot;google&quot;
</code></pre>
<ul>
<li>The current Ruff version (<code>ruff --version</code>).
0.0.258</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "In `ruff` 0.0.258 the `pydocstyle` rules are being enabled automatically and can't be disabled. " to "In `ruff` 0.0.258 the `pydocstyle` rules are being enabled and can't be disabled with `[tool.ruff.pydocstyle]` defined. " by @bgianfo on 2023-03-23 17:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-23 17:54</div>
            <div class="timeline-body"><p>Hey sorry -- thanks tons for the clear report, this was fixed today in #3685 and will go out in a new release in a bit.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-03-23 17:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
