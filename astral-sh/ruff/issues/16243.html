<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[B903] Preview rule feedback - astral-sh/ruff #16243</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[B903] Preview rule feedback</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/16243">#16243</a>
        opened by <a href="https://github.com/mikeshardmind">@mikeshardmind</a>
        on 2025-02-19 01:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mikeshardmind">@mikeshardmind</a> on 2025-02-19 01:44</div>
            <div class="timeline-body"><h3>Description</h3>
<ul>
<li>This rule probably shouldn't be on by default, it's extremely opinionated, and may result in slower import times for users. dataclasses imports inspect. Even in applications where inspect would always end up imported, dataclasses are more expensive to evaluate their type than a handwritten slotted class.</li>
<li>If this rule is going to exist, it probably shouldn't recommend namedtuples, see <a href="https://snarky.ca/dont-use-named-tuples-in-new-apis/">this post</a> for details about accidental API surface caused by their use which can create unintended API contracts for users of the type (eg. unpacking)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @ntBre on 2025-02-19 03:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2025-02-19 04:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-02-19 04:59</div>
            <div class="timeline-body"><p>Thank you for the feedback.</p>
<blockquote>
<ul>
<li>This rule probably shouldn't be on by default, it's extremely opinionated, and may result in slower import times for users. dataclasses imports inspect. Even in applications where inspect would always end up imported, dataclasses are more expensive to evaluate their type than a handwritten slotted class.</li>
</ul>
</blockquote>
<p>It won't be included in the default rule set (related to #1774).</p>
<blockquote>
<ul>
<li>If this rule is going to exist, it probably shouldn't recommend namedtuples, see <a href="https://snarky.ca/dont-use-named-tuples-in-new-apis/">this post</a> for details about accidental API surface caused by their use which can create unintended API contracts for users of the type (eg. unpacking)</li>
</ul>
</blockquote>
<p>Unless I'm mistaken, I don't think this recommends <code>namedtuple</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikeshardmind">@mikeshardmind</a> on 2025-02-19 05:35</div>
            <div class="timeline-body"><blockquote>
<p>It won't be included in the default rule set</p>
</blockquote>
<p>üëç</p>
<blockquote>
<p>Unless I'm mistaken, I don't think this recommends namedtuple?</p>
</blockquote>
<p>It does, in both in the hint shown by the VSC plugin, as well as in the <a href="https://docs.astral.sh/ruff/rules/class-as-data-structure/#why-is-this-bad">docs</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:54 UTC
    </footer>
</body>
</html>
