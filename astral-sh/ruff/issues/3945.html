<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F821 at struct - astral-sh/ruff #3945</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>F821 at struct</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/3945">#3945</a>
        opened by <a href="https://github.com/KyleJeong">@KyleJeong</a>
        on 2023-04-12 04:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/KyleJeong">@KyleJeong</a> on 2023-04-12 04:35</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>I use ALE with Ruff for Python lint.
I met &quot;F821 Undefined name strcut&quot; when I tried the code like this.</p>
<pre><code>sec, usec, caplen, wirelen, dummy = struct.unpack(....)
</code></pre>
<p>In my understanding, struct is a basic component of Python. So I didn't import anything.
The code worked fine, but Ruff gave me an F821 message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-12 14:42</div>
            <div class="timeline-body"><p>Hm, I believe <code>struct</code> is a standard library module that has to be imported, and not a builtin. E.g.:</p>
<pre><code>Python 3.11.2 (main, Mar 20 2023, 17:17:17) [Clang 13.1.6 (clang-1316.0.21.2.5)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; struct.unpack
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
NameError: name 'struct' is not defined
</code></pre>
<p>So it seems correct to warn here, but I'm wondering how your code worked without the import.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-04-12 14:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2023-04-12 17:55</div>
            <div class="timeline-body"><p>It is indeed a standard library module: https://docs.python.org/3.10/library/struct.html (TIL)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KyleJeong">@KyleJeong</a> on 2023-04-12 22:16</div>
            <div class="timeline-body"><p>Thank you for your response.
I will double-check soon and get back to you</p>
<p>On Thu, Apr 13, 2023, 2:55 AM Dhruv Manilawala <em><strong>@</strong></em>.***&gt;
wrote:</p>
<blockquote>
<p>It is indeed a standard library module:
https://docs.python.org/3.10/library/struct.html (TIL)</p>
<p>â€”
Reply to this email directly, view it on GitHub
<a href="https://github.com/charliermarsh/ruff/issues/3945#issuecomment-1505698648">https://github.com/charliermarsh/ruff/issues/3945#issuecomment-1505698648</a>,
or unsubscribe
<a href="https://github.com/notifications/unsubscribe-auth/AJON2KFU52TGSEWFTC333KLXA3UBHANCNFSM6AAAAAAW3EHQAQ">https://github.com/notifications/unsubscribe-auth/AJON2KFU52TGSEWFTC333KLXA3UBHANCNFSM6AAAAAAW3EHQAQ</a>
.
You are receiving this because you authored the thread.Message ID:
<em><strong>@</strong></em>.***&gt;</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-12 23:09</div>
            <div class="timeline-body"><p>Thanks :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KyleJeong">@KyleJeong</a> on 2023-04-13 02:32</div>
            <div class="timeline-body"><p>I am so sorry. You are correct. The sentence was designed to be executed in a specific condition. So I hadn't realized that that was the bug.</p>
<p>I used another linter, but it didn't recognize the problem. Only Ruff identified the problem.</p>
<p>Great linter!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-13 02:34</div>
            <div class="timeline-body"><p>No worries, I'm glad we could resolve :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-04-13 02:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
