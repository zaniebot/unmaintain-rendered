<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[FALSE POSITIVE] &quot;S608 Possible SQL injection&quot; when not applicable - astral-sh/ruff #8717</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[FALSE POSITIVE] &quot;S608 Possible SQL injection&quot; when not applicable</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8717">#8717</a>
        opened by <a href="https://github.com/amotl">@amotl</a>
        on 2023-11-16 11:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/amotl">@amotl</a> on 2023-11-16 11:45</div>
            <div class="timeline-body"><p>Hi there,</p>
<p>thank you for your continued efforts in conceiving Ruff.</p>
<p>While working on https://github.com/crate-workbench/cratedb-toolkit/pull/81, we just observed a funny case of <code>S608 Possible SQL injection vector through string-based query construction</code> we would like to share with you. It is easy to reproduce using the most recent <code>ruff 0.1.5</code>.</p>
<pre><code class="language-python">variants = [&quot;foo&quot;, &quot;bar&quot;]
raise ValueError(f&quot;Please select a value from the list of possible variants: {variants}.&quot;)
</code></pre>
<p>It looks like S608 is tripping because the f-string includes the keywords <code>select</code> and <code>from</code>. If you remove any of it, it will not trip. I don't know if there will be any solution for this worth to follow up on. It is easy for me to slap a <code># noqa: S608</code> into the code, so you may want to close this issue right away.</p>
<p>With kind regards,
Andreas.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @zanieb on 2023-11-16 15:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-16 15:49</div>
            <div class="timeline-body"><p>Thanks for the report!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8723.html">astral-sh/ruff#8723</a> on 2023-11-16 15:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:10 UTC
    </footer>
</body>
</html>
