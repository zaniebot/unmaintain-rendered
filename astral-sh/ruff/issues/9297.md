```yaml
number: 9297
title: "`per-file-ignores` with ALL creates a false positive"
type: issue
state: closed
author: tooruu
labels:
  - bug
assignees: []
created_at: 2023-12-28T04:07:44Z
updated_at: 2023-12-28T14:15:24Z
url: https://github.com/astral-sh/ruff/issues/9297
synced_at: 2026-01-10T01:56:51Z
```

# `per-file-ignores` with ALL creates a false positive

---

_Issue opened by @tooruu on 2023-12-28 04:07_

Given the following Python file
```py
# T201 disallows `print`
print("foo")  # noqa: T201
```
and the following Ruff configuration
```toml
select = ["ALL"]

[per-file-ignores]
"file.py" = ["ALL"]
```
`ruff check` will still raise error ``RUF100 [*] Unused `noqa` directive (unused: `T201`)``.


---

_Comment by @tooruu on 2023-12-28 04:13_

I'm trying to exclude files from linting but not formatting, without editing those files.

---

_Comment by @charliermarsh on 2023-12-28 12:34_

Seems like a bug as-described, will take a look.

---

_Comment by @charliermarsh on 2023-12-28 12:37_

We also support a dedicated exclude keyword under the lint namespace which will only exclude files from linting and is the preferred solution for what you’re describing, e.g.:

```toml
[lint]
exclude = ["file.py"]
```

---

_Label `bug` added by @charliermarsh on 2023-12-28 12:57_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-12-28 12:57_

---

_Comment by @tooruu on 2023-12-28 13:15_

> We also support a dedicated exclude keyword under the lint namespace which will only exclude files from linting and is the preferred solution for what you’re describing, e.g.:
> 
> ```toml
> [lint]
> exclude = ["file.py"]
> ```

Didn't realize it was under lint namespace! Thank you.

---

_Referenced in [astral-sh/ruff#9300](../../astral-sh/ruff/pulls/9300.md) on 2023-12-28 14:05_

---

_Comment by @charliermarsh on 2023-12-28 14:10_

Regardless, it _is_ a bug so fixed in the next release :) Thanks!

---

_Closed by @charliermarsh on 2023-12-28 14:15_

---
