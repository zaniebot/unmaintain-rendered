<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flake8-django: Ensure either `related_name` for each FK-based field or `default_related_name` per model is set - astral-sh/ruff #17079</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>flake8-django: Ensure either <code>related_name</code> for each FK-based field or <code>default_related_name</code> per model is set</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17079">#17079</a>
        opened by <a href="https://github.com/GitRon">@GitRon</a>
        on 2025-03-31 07:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/GitRon">@GitRon</a> on 2025-03-31 07:30</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Django's default related names with <code>*_set</code> are quite unintuitive. Therefore, all foreign keys (also One2One and M2M of course) should implement a custom related name, either per field or in the model meta options.</p>
<p>Since you can do quite magic things when following related names, it should be explicit what you are &quot;querying&quot; for.</p>
<p>I've tried adding it to the original package but it seems to be abandoned: https://github.com/rocioar/flake8-django/pull/53</p>
<p>If you need more info or sparring, just leave me a note ðŸ™‚</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-03-31 08:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/UnknownPlatypus">@UnknownPlatypus</a> on 2025-03-31 21:53</div>
            <div class="timeline-body"><p>I personally would like the opposite because guessing what <code>related_name</code> another developer chose is actually not that easy and while the <code>*_set</code> might seem unintuitive at first, it's predictable.
A flag would probably do it to accommodate for both</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/GitRon">@GitRon</a> on 2025-04-01 06:10</div>
            <div class="timeline-body"><p>Hi @UnknownPlatypus!</p>
<p>Thx for your thoughts.</p>
<blockquote>
<p>I personally would like the opposite because guessing what related_name another developer chose is actually not that easy and while the *_set might seem unintuitive at first, it's predictable.</p>
</blockquote>
<p>Generally, I'd be 100% with you. But since models represent data, it's highly semantic. I should really know what my data does and stands for. Therefore, I believe that - explicit is better than implicit - having to actively think about what my relationship means is worth something. Even if it's just the plural of the model in 95% of all cases.</p>
<blockquote>
<p>A flag would probably do it to accommodate for both</p>
</blockquote>
<p>What are you suggesting exactly? Can't follow your thought, sorry ðŸ˜”</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/UnknownPlatypus">@UnknownPlatypus</a> on 2025-04-01 07:44</div>
            <div class="timeline-body"><blockquote>
<p>What are you suggesting exactly? Can't follow your thought, sorry ðŸ˜”</p>
</blockquote>
<p>That this rule could either enforce that <strong>you never use</strong> <code>related_name</code> (hence relying on the <code>*_set</code> behavior) <strong>or always use it</strong>.</p>
<p>To me consistency is key, and my experience working on a rather large django code base showed me that people do the plural thing in many ways. For exemple, to reference a model named <code>MySuperModel</code>, you will end up with:</p>
<ul>
<li><code>related_name=&quot;my_super_models&quot;</code></li>
<li><code>related_name=&quot;mysupermodels&quot;</code></li>
<li><code>related_name=&quot;my_super_model_set&quot;</code></li>
</ul>
<p>So you end up trying to enforce a rule to make it consistent again and end up really close to the initial <code>*_set</code> that is not that bad overall.</p>
<blockquote>
<p>believe that - explicit is better than implicit</p>
</blockquote>
<p>I overall agree with you but in practice, it's really exhausting to be always searching for which plural variant another developer used and you end up losing quite some time. I think it's fine to expect a Django developer to know this, he will learn it quite fast anyway.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:37:06 UTC
    </footer>
</body>
</html>
