<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disable TC001, TC002, TC003 by default ? - astral-sh/ruff #14637</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Disable TC001, TC002, TC003 by default ?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14637">#14637</a>
        opened by <a href="https://github.com/RomainBrault">@RomainBrault</a>
        on 2024-11-27 16:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/RomainBrault">@RomainBrault</a></div>
            <div class="timeline-body"><p>It breaks runtime type checking.</p>
<p>See the discussions: https://github.com/beartype/beartype/discussions/460
And: <a href="https://github.com/beartype/beartype/pull/440">beartype/beartype#440</a>#issuecomment-2421528743</p>
<p>It also break library that use type information at runtime.</p>
<p>From flake8-type-checking itself, see: <a href="https://github.com/snok/flake8-type-checking/issues/52">snok/flake8-type-checking#52</a>#issuecomment-1004842907</p>
<p>Also <code>from __future__ import annotations</code> will be removed when Python 3.13 support will end. Moreover PEP 649, implemented in python 3.14, should solve the time penalty that TC001,2,3 try to resolve.</p>
<p>Alternative solutions:</p>
<p>disable starting from Python 3.14 only. Or do exception for all library that use runtime type information as in flake8 (e.g. beartype)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Disable TC001, TC002, TC003&quot; to &quot;Disable TC001, TC002, TC003 by default&quot; by <a href="https://github.com/RomainBrault">@RomainBrault</a> on 2024-11-27 16:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-27 16:38</div>
            <div class="timeline-body"><p>Hi @RomainBrault</p>
<p>The <code>TC</code> rules are all disabled by default. You have to opt-in to them manually. It&#x27;s possible that you did that by using the <code>ALL</code> selector but I&#x27;m not sure what Ruff should do different in that case. It would be very confusing if  <code>ALL</code> doesn&#x27;t select <em>all</em> rules</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-27 16:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RomainBrault">@RomainBrault</a> on 2024-11-27 17:20</div>
            <div class="timeline-body"><p>Indeed, i used the ALL selector ðŸ˜³ , thanks for pointing it out</p>
<p>however it would be nice to point out that <code>from __future__ import annotations</code> will be deprecated in Python 3.14 (thus not using the rule is encouraged for the version &gt;= 3.14) and the rule should be removed when 3.13 support will end.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Disable TC001, TC002, TC003 by default&quot; to &quot;Disable TC001, TC002, TC003 by default ?&quot; by <a href="https://github.com/RomainBrault">@RomainBrault</a> on 2024-11-27 17:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-27 17:27</div>
            <div class="timeline-body"><p>Thanks for pointing that out. We&#x27;ll revisit all rules when Python 3.14 is closer to reaching beta status, and I&#x27;ll close this as there&#x27;s nothing immediate that needs to be done now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-27 17:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:03 UTC
    </footer>
</body>
</html>
