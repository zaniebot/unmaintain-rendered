<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D212 and D213 show warnings even when ignored - astral-sh/ruff #17313</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>D212 and D213 show warnings even when ignored</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/17313">#17313</a>
        opened by <a href="https://github.com/nunokaeru">@nunokaeru</a>
        on 2025-04-09 13:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/nunokaeru">@nunokaeru</a> on 2025-04-09 13:59</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Creating an issue as a follow up on comment https://github.com/astral-sh/ruff/issues/8470#issuecomment-2785786287</p>
<pre><code>(&lt;redacted&gt;-py) nuno@fedora:~/github/&lt;redacted&gt;$ uvx ruff --version
Installed 1 package in 3ms
ruff 0.11.4
(&lt;redacted&gt;-py) nuno@fedora:~/github/&lt;redacted&gt;$ uvx ruff check .
warning: `multi-line-summary-first-line` (D212) and `multi-line-summary-second-line` (D213) are incompatible. Ignoring `multi-line-summary-second-line`.
All checks passed!
</code></pre>
<p>The <redacted> python repository is composed of the main app and two editable packages.</p>
<p><redacted>:</p>
<pre><code class="language-toml">[tool.uv]
package = false

[tool.uv.sources]
squishtests-pkg = { path = &quot;squishtests&quot;, editable = true }
translations = { path = &quot;translations&quot;, editable = true }

[tool.ruff]
line-length = 120

[tool.ruff.lint]
# Supported rules https://github.com/charliermarsh/ruff/#supported-rules
ignore = [&quot;F&quot;, &quot;E&quot;, &quot;W&quot;] # Ignore everything not in /squishtests
</code></pre>
<p><code>translations = { path = &quot;translations&quot;, editable = true }</code> does not have any <code>[tool.ruff]</code> sections, except for line-length.</p>
<p>squishtests:</p>
<pre><code class="language-toml">[tool.ruff]
line-length = 120

# Supported rules https://github.com/charliermarsh/ruff/#supported-rules
lint.select = [&quot;ALL&quot;]

lint.ignore = [
    &quot;ANN&quot;,    # flake8-annotations: Allow untyped code
    &quot;E501&quot;,   # Line lenght higher than 88 characters
    &quot;EM&quot;,     # Assigning a string to a variable before exceptions does not provide much benefit
    &quot;D&quot;,      # pydocstyle: Allow undocummented code
    &quot;S101&quot;,   # S101 - Usage of assert
    &quot;INP001&quot;, # Implicit namespace package -&gt; add __init__.py to fix
    &quot;COM812&quot;, # Use a trailing comma when calling methods
    &quot;PTH&quot;,    # TODO: Fix usage of os.path
    &quot;B023&quot;,   # Function definition does not bind loop variable `items` (our squish objects do not need this)
    &quot;ARG&quot;,    # TODO: Arguments not being used (check if we can just ignore context but not other args)
    &quot;ERA&quot;,    # TODO: commented out code
    &quot;C90&quot;,    # TODO: Complexity of functions, needs proper care
    &quot;G004&quot;,   # Logging with f-strings
    &quot;TCH&quot;,    # Imports used for TYPE CHECKING
    &quot;TRY003&quot;, # We want to send strings to exceptions
    &quot;S311&quot;,   # Standard pseudo-random generators are not suitable for cryptographic purposes
    &quot;S603&quot;,   # Bandit's rule where string literals are considered okay, but dynamically-computed values are not.
    &quot;TD003&quot;,  # Add issue link to TODO - We do not use issues
    &quot;TD004&quot;,  # Missing colon in TODO
    &quot;FIX002&quot;, # Line contains TODO
    &quot;UP007&quot;,  # Use X | Y or ( X | None ) in type hints, I prefer using Optional[X] instead
    &quot;RUF012&quot;, # Mutable class attributes should be annotated with `typing.ClassVar`
    &quot;ISC001&quot;, # single-line-implicit-string-concatenation
    &quot;T100&quot;,   # debugpy - need it for debugging
    &quot;A004&quot;,   # Shadowing a python builtin - Unfortunatelly needed because squish has its own 'test' and 'object' modules
    &quot;PLW1508&quot;,# Invalid type for environment variable default; expected `str` or `None` - I like environ.get(foo, False)
]

# Assume Python 3.10
target-version = &quot;py310&quot;

[tool.ruff.lint.isort]
known-third-party = [&quot;squish&quot;, &quot;objectmaphelper&quot;, &quot;test&quot;, &quot;remotesystem&quot;]

[tool.ruff.lint.per-file-ignores]
# F401 - Error of unused import (shared.scripts.envvars)
# F821 - Undefined imports of squish methods and @Given, @When decorators
# F811 - Redefinition of methods with same name (steps methods)
# S105 - Checks for hardcoded passwords
# F403 - File names.py should not exist, but it throws * import error

&quot;**steps.py&quot; = [&quot;F811&quot;, &quot;F821&quot;]
&quot;**page_actions.py&quot; = [&quot;F811&quot;, &quot;F821&quot;]
&quot;**test.py&quot; = [&quot;F821&quot;]
&quot;suite_**bdd_hooks.py&quot; = [&quot;F811&quot;, &quot;F821&quot;]
&quot;**tst_lock_screen**steps.py&quot; = [&quot;S105&quot;]
&quot;names.py&quot; = [&quot;ALL&quot;]
&quot;**test.feature&quot; = [&quot;ALL&quot;]

[tool.ruff.lint.mccabe]
max-complexity = 5

</code></pre>
<h3>Version</h3>
<p>0.11.4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-09 14:02</div>
            <div class="timeline-body"><p>Thanks for opening a new issue.</p>
<p>Is the configuration in <code>squishtests</code> a <code>pyproject.toml</code>?</p>
<p>Can you try running ruff with <code>uvx ruff check . -v</code> to see if there are any useful logs</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2025-04-09 14:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nunokaeru">@nunokaeru</a> on 2025-04-09 17:22</div>
            <div class="timeline-body"><ol>
<li>Yes all of <redacted>, translations and squishtests use pyproject.toml.</li>
<li>Will be slow at responding due to timezone differences, will look into creating a simple test repository where the issue is present tomorrow and share here.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nunokaeru">@nunokaeru</a> on 2025-04-10 06:43</div>
            <div class="timeline-body"><p>Closing the issue as I found out we have a <code>pyproject.toml</code> file in our repo a few folders deep that I didn't know about. Sorry for the noise.</p>
<p>It had this configuration;</p>
<pre><code>ignore = [
    &quot;F&quot;,
    &quot;E&quot;,
    &quot;W&quot;,
    &quot;D10&quot;,
    &quot;D203&quot;,
added this line now  --&gt;   &quot;D212&quot;,
    &quot;T201&quot;,
    &quot;TD003&quot;,
    &quot;FIX002&quot;,
    &quot;TRY&quot;,
    &quot;EM102&quot;,
    &quot;COM812&quot;,
    &quot;FBT&quot;,
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @nunokaeru on 2025-04-10 06:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-10 06:59</div>
            <div class="timeline-body"><p>No worries. Our logging here could be better and mention from which configuration file the conflict comes from. This is something we are aware of and want to improve.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:15 UTC
    </footer>
</body>
</html>
