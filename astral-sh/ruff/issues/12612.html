<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`TRY002` does not take into account `BaseException` - astral-sh/ruff #12612</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`TRY002` does not take into account `BaseException`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12612">#12612</a>
        opened by <a href="https://github.com/epenet">@epenet</a>
        on 2024-08-01 13:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/epenet">@epenet</a> on 2024-08-01 13:17</div>
            <div class="timeline-body"><p>Spotted in https://github.com/home-assistant/core/pull/123021</p>
<p>It seems that pylint doesn't like Exception nor BaseException
https://pylint.pycqa.org/en/latest/user_guide/messages/warning/broad-exception-raised.html</p>
<p>But ruff is quite happy to let BaseException pass</p>
<p>I think both should trigger a warning, same as regular Exception</p>
<p>It should be an easy fix in https://github.com/astral-sh/ruff/blob/a3e67abf4ce7b519152c03ff441424c18e4c18ee/crates/ruff_linter/src/rules/tryceratops/rules/raise_vanilla_class.rs#L71</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../home-assistant/core/pulls/123021.html">home-assistant/core#123021</a> on 2024-08-01 13:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "TRY002 does not take into account BaseException" to "`TRY002` does not take into account `BaseException`" by @epenet on 2024-08-01 13:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-08-01 20:39</div>
            <div class="timeline-body"><p>I think Ruff is correctly reproducing the rule from <a href="https://github.com/guilatrova/tryceratops">tryceratops</a>, which is implemented <a href="https://github.com/guilatrova/tryceratops/blob/0c6b8d5f4b0f447d5e59f804352020b233bdd4b9/src/tryceratops/analyzers/call.py#L27C1-L28C1">here</a>.</p>
<p>The pylint rule <a href="https://pylint.readthedocs.io/en/stable/user_guide/configuration/all-options.html#overgeneral-exceptions">--overgeneral-exceptions</a> used to coincide with this rule but has since changed in two ways:</p>
<ul>
<li>The rule is now configurable, so the user can specify which exceptions are too general.</li>
<li>The default configuration includes <code>BaseException</code>.</li>
</ul>
<p>So I think this needs a decision from the maintainers. Should we:</p>
<ol>
<li>Add <code>BaseException</code> to the TRY002 violation and call it a day (this would disagree with tryceratops).</li>
<li>Create a new rule in Pylint (not sure how to find the code) where <code>Exception</code> and <code>BaseException</code> both give violations.</li>
<li>Same as (2) but make it configurable as in Pylint.</li>
<li>Same as (3) and then also remove/redirect TRY0002.</li>
<li>Something else.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../guilatrova/tryceratops/issues/73.html">guilatrova/tryceratops#73</a> on 2024-08-01 22:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/12620.html">astral-sh/ruff#12620</a> on 2024-08-02 07:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-08-05 08:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:13 UTC
    </footer>
</body>
</html>
