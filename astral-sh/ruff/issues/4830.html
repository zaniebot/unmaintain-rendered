<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check for decorators - astral-sh/ruff #4830</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Check for decorators</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4830">#4830</a>
        opened by <a href="https://github.com/Bendabir">@Bendabir</a>
        on 2023-06-03 10:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Bendabir">@Bendabir</a> on 2023-06-03 10:46</div>
            <div class="timeline-body"><p>Hi,
I was wondering if Ruff would be able to check if a function, a method or a class is actually decorated by a given decorator. PyLint does support such thing through custom checkers and plugins (not native, but possible). Can we do the same with Ruff ðŸ¤” ?</p>
<p>The first use case I see is for deprecations. To the best of my knowledge, there's no deprecation mecanism built-in with Python, so it requires to use some extra stuff (such as <a href="https://pypi.org/project/Deprecated/">deprecated</a>) to decorate deprecated functions/methods. One downside of these approaches is that they only trigger (some warnings) at runtime. I could be nice to spot these deprecations ahead.</p>
<p>Thanks for your time ðŸ˜„</p>
<p>PS : I couldn't find any issue/question related to this, so feel free to redirect me if I missed something !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-06-03 12:10</div>
            <div class="timeline-body"><p>Yes, the decorators of functions and classes are available in the AST.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bendabir">@Bendabir</a> on 2023-06-03 12:58</div>
            <div class="timeline-body"><p>Okay, nice. I'll have a look. Thanks !</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Bendabir on 2023-06-03 12:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bendabir">@Bendabir</a> on 2023-06-03 14:13</div>
            <div class="timeline-body"><p>Hmmm, I checked what's available in the AST and I'm not sure that what I had in mind is feasible. I can indeed access the decorators when declaring the function. For example :</p>
<pre><code class="language-python">@deprecated(reason = &quot;Will be removed.&quot;, version = &quot;1.0.0&quot;)
def some_function():
    ...
</code></pre>
<p>However, when using the function itself, it's basically a call statement where I don't have access to much information.</p>
<pre><code class="language-python">some_function()
</code></pre>
<p>As I would like to check for decorated functions at call time, I would need to get the decorators information  and I'm not sure that's possible.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:15 UTC
    </footer>
</body>
</html>
