<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fatal crash in ipynb file - astral-sh/ruff #20789</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fatal crash in ipynb file</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/20789">#20789</a>
        opened by <a href="https://github.com/Matt-Ord">@Matt-Ord</a>
        on 2025-10-09 15:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Matt-Ord">@Matt-Ord</a> on 2025-10-09 15:28</div>
            <div class="timeline-body"><h3>Summary</h3>
<pre><code>panic: Panicked at crates/ruff_notebook/src/notebook.rs:281:21 when checking `/workspaces/thesis_calculations/scripts/local_basis/alpha_dynamics.ipynb`: `Transformed content out of bounds (2610..2609) for cell at 1`
--&gt; scripts/local_basis/alpha_dynamics.ipynb:1:1
info: This indicates a bug in Ruff.
info: If you could open an issue at https://github.com/astral-sh/ruff/issues/new?title=%5Bpanic%5D, we'd be very appreciative!
info: Backtrace:
   0: &lt;unknown&gt;
   1: &lt;unknown&gt;
   2: &lt;unknown&gt;
   3: &lt;unknown&gt;
   4: &lt;unknown&gt;
   5: &lt;unknown&gt;
   6: &lt;unknown&gt;
   7: &lt;unknown&gt;
   8: &lt;unknown&gt;
   9: &lt;unknown&gt;
  10: &lt;unknown&gt;
  11: &lt;unknown&gt;
  12: &lt;unknown&gt;
  13: &lt;unknown&gt;
  14: &lt;unknown&gt;
  15: &lt;unknown&gt;
  16: &lt;unknown&gt;
  17: &lt;unknown&gt;
  18: &lt;unknown&gt;
  19: &lt;unknown&gt;
  20: &lt;unknown&gt;
  21: start_thread
  22: clone


Found 1 error.
error: Panic during linting indicates a bug in Ruff. If you could open an issue at:

https://github.com/astral-sh/ruff/issues/new?title=%5BLinter%20panic%5D

...with the relevant file contents, the `pyproject.toml` settings, and the stack trace above, we'd be very appreciative!
</code></pre>
<p>The file</p>
<pre><code>{
 &quot;cells&quot;: [
  {
   &quot;cell_type&quot;: &quot;code&quot;,
   &quot;execution_count&quot;: null,
   &quot;id&quot;: &quot;775be936&quot;,
   &quot;metadata&quot;: {},
   &quot;outputs&quot;: [
    {
     &quot;name&quot;: &quot;stdout&quot;,
     &quot;output_type&quot;: &quot;stream&quot;,
     &quot;text&quot;: [
      &quot;Alpha Derivative\n&quot;
     ]
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle - \\lambda \\left(\\alpha - \\overline{\\alpha}\\right)$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle - \\frac{i \\left(\\alpha \\text{hbar}^{2} - \\overline{\\alpha} \\text{hbar}^{2} + \\omega^{2} \\alpha m^{2} + \\omega^{2} m^{2} \\overline{\\alpha}\\right)}{2 m \\text{hbar}}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle - \\frac{\\sqrt{2} \\sqrt{\\lambda} \\left(\\xi(t) \\beta \\text{hbar}^{2} - \\xi(t) \\text{hbar}^{2} + \\beta \\overline{\\xi(t)} \\overline{\\beta} \\text{hbar}^{2} - \\beta \\overline{\\xi(t)} \\text{hbar}^{2} + 4 K_{B} T \\xi(t) \\beta m + 4 K_{B} T \\xi(t) m + 4 K_{B} T \\beta m \\overline{\\xi(t)} \\overline{\\beta} + 4 K_{B} T \\beta m \\overline{\\xi(t)}\\right)}{4 \\sqrt{K_{B} T} \\sqrt{m} \\left(\\beta \\overline{\\beta} - 1\\right) \\text{hbar}}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle \\frac{\\sqrt{2} \\left(\\alpha + \\overline{\\alpha}\\right)}{2}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle \\frac{\\sqrt{2} i \\left(- \\alpha + \\overline{\\alpha}\\right) \\text{hbar}}{2}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;name&quot;: &quot;stdout&quot;,
     &quot;output_type&quot;: &quot;stream&quot;,
     &quot;text&quot;: [
      &quot;{alpha: sqrt(2)*\\langle x \\rangle/2 + sqrt(2)*I*\\langle p \\rangle/(2*hbar), conjugate(alpha): sqrt(2)*\\langle x \\rangle/2 - sqrt(2)*I*\\langle p \\rangle/(2*hbar)}\n&quot;
     ]
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle \\frac{\\langle p \\rangle}{m} - \\frac{\\sqrt{\\lambda} \\left(\\xi(t) \\beta \\overline{\\beta} \\text{hbar}^{2} + \\xi(t) \\beta \\text{hbar}^{2} - \\xi(t) \\overline{\\beta} \\text{hbar}^{2} - \\xi(t) \\text{hbar}^{2} + \\beta \\overline{\\xi(t)} \\overline{\\beta} \\text{hbar}^{2} - \\beta \\overline{\\xi(t)} \\text{hbar}^{2} + \\overline{\\xi(t)} \\overline{\\beta} \\text{hbar}^{2} - \\overline{\\xi(t)} \\text{hbar}^{2} + 4 K_{B} T \\xi(t) \\beta m \\overline{\\beta} + 4 K_{B} T \\xi(t) \\beta m + 4 K_{B} T \\xi(t) m \\overline{\\beta} + 4 K_{B} T \\xi(t) m + 4 K_{B} T \\beta m \\overline{\\xi(t)} \\overline{\\beta} + 4 K_{B} T \\beta m \\overline{\\xi(t)} + 4 K_{B} T m \\overline{\\xi(t)} \\overline{\\beta} + 4 K_{B} T m \\overline{\\xi(t)}\\right)}{4 \\sqrt{K_{B} T} \\sqrt{m} \\left(\\beta \\overline{\\beta} - 1\\right) \\text{hbar}}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle - 2 \\lambda \\langle p \\rangle - \\langle x \\rangle \\omega^{2} m - \\frac{i \\sqrt{\\lambda} \\left(\\xi(t) \\beta \\overline{\\beta} \\text{hbar}^{2} - \\xi(t) \\beta \\text{hbar}^{2} - \\xi(t) \\overline{\\beta} \\text{hbar}^{2} + \\xi(t) \\text{hbar}^{2} - \\beta \\overline{\\xi(t)} \\overline{\\beta} \\text{hbar}^{2} + \\beta \\overline{\\xi(t)} \\text{hbar}^{2} + \\overline{\\xi(t)} \\overline{\\beta} \\text{hbar}^{2} - \\overline{\\xi(t)} \\text{hbar}^{2} + 4 K_{B} T \\xi(t) \\beta m \\overline{\\beta} - 4 K_{B} T \\xi(t) \\beta m + 4 K_{B} T \\xi(t) m \\overline{\\beta} - 4 K_{B} T \\xi(t) m - 4 K_{B} T \\beta m \\overline{\\xi(t)} \\overline{\\beta} - 4 K_{B} T \\beta m \\overline{\\xi(t)} + 4 K_{B} T m \\overline{\\xi(t)} \\overline{\\beta} + 4 K_{B} T m \\overline{\\xi(t)}\\right)}{4 \\sqrt{K_{B} T} \\sqrt{m} \\left(\\beta \\overline{\\beta} - 1\\right)}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    },
    {
     &quot;data&quot;: {
      &quot;text/latex&quot;: [
       &quot;$\\displaystyle - \\frac{\\sqrt{2} i \\lambda \\langle p \\rangle}{\\text{hbar}} + \\frac{\\sqrt{2} \\left(\\langle p \\rangle \\text{hbar} - i \\langle x \\rangle \\omega^{2} m^{2}\\right)}{2 m \\text{hbar}} + \\frac{\\sqrt{2} \\sqrt{\\lambda} \\left(- \\frac{\\xi(t) \\beta \\text{hbar}^{2}}{4} + \\frac{\\xi(t) \\text{hbar}^{2}}{4} - \\frac{\\beta \\overline{\\xi(t)} \\overline{\\beta} \\text{hbar}^{2}}{4} + \\frac{\\beta \\overline{\\xi(t)} \\text{hbar}^{2}}{4} - K_{B} T \\xi(t) \\beta m - K_{B} T \\xi(t) m - K_{B} T \\beta m \\overline{\\xi(t)} \\overline{\\beta} - K_{B} T \\beta m \\overline{\\xi(t)}\\right)}{\\sqrt{K_{B} T} \\sqrt{m} \\left(\\beta \\overline{\\beta} - 1\\right) \\text{hbar}}$&quot;
      ],
      &quot;text/plain&quot;: [
       &quot;&lt;IPython.core.display.Math object&gt;&quot;
      ]
     },
     &quot;metadata&quot;: {},
     &quot;output_type&quot;: &quot;display_data&quot;
    }
   ],
   &quot;source&quot;: [
    &quot;import sympy as sp\n&quot;,
    &quot;\n&quot;,
    &quot;from thesis_calculations.open_harmonic import (\n&quot;,
    &quot;    get_closed_operator,\n&quot;,
    &quot;    get_noise_operator,\n&quot;,
    &quot;    get_open_operator,\n&quot;,
    &quot;    noise,\n&quot;,
    &quot;)\n&quot;,
    &quot;from thesis_calculations.squeezed_states import (\n&quot;,
    &quot;    alpha,\n&quot;,
    &quot;    as_b_expr,\n&quot;,
    &quot;    beta,\n&quot;,
    &quot;    display_latex,\n&quot;,
    &quot;    eval_groundstate,\n&quot;,
    &quot;    get_alpha_derivative,\n&quot;,
    &quot;    mu,\n&quot;,
    &quot;    nu,\n&quot;,
    &quot;    p_expr,\n&quot;,
    &quot;    x_expr,\n&quot;,
    &quot;)\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;def _simplify_squeeze_params(expr: sp.Expr) -&gt; sp.Expr:\n&quot;,
    &quot;    expr = sp.simplify(expr)\n&quot;,
    &quot;    expr = sp.simplify(expr.subs({nu: beta * mu}))\n&quot;,
    &quot;    expr = expr.subs({mu**2: 1 / (1 - beta * sp.conjugate(beta))})\n&quot;,
    &quot;    return sp.factor(sp.simplify(expr))\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;print(\&quot;Alpha Derivative\&quot;)  # noqa: T201\n&quot;,
    &quot;open_operator = get_open_operator()\n&quot;,
    &quot;open_derivative = get_alpha_derivative(get_open_operator())\n&quot;,
    &quot;open_derivative = _simplify_squeeze_params(open_derivative)\n&quot;,
    &quot;display_latex(open_derivative)\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;closed_derivative = get_alpha_derivative(get_closed_operator())\n&quot;,
    &quot;closed_derivative = _simplify_squeeze_params(closed_derivative)\n&quot;,
    &quot;display_latex(closed_derivative)\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;noise_derivative = get_alpha_derivative(get_noise_operator())\n&quot;,
    &quot;noise_derivative = _simplify_squeeze_params(noise_derivative)\n&quot;,
    &quot;display_latex(noise_derivative)\n&quot;,
    &quot;\n&quot;,
    &quot;derivative_alpha = open_derivative + closed_derivative + noise_derivative\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;expect_x_expr = eval_groundstate(as_b_expr(x_expr))\n&quot;,
    &quot;expect_p_expr = eval_groundstate(as_b_expr(p_expr))\n&quot;,
    &quot;expect_x = sp.Symbol(r\&quot;\\langle x \\rangle\&quot;, real=True)\n&quot;,
    &quot;expect_p = sp.Symbol(r\&quot;\\langle p \\rangle\&quot;, real=True)\n&quot;,
    &quot;\n&quot;,
    &quot;display_latex(expect_x_expr)\n&quot;,
    &quot;display_latex(expect_p_expr)\n&quot;,
    &quot;print(\n&quot;,
    &quot;    sp.solve(\n&quot;,
    &quot;        {\n&quot;,
    &quot;            sp.Eq(expect_x, expect_x_expr),\n&quot;,
    &quot;            sp.Eq(expect_p, expect_p_expr),\n&quot;,
    &quot;        },\n&quot;,
    &quot;        (alpha, sp.conjugate(alpha)),\n&quot;,
    &quot;    )\n&quot;,
    &quot;)\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;def _alpha_expr_as_xp(expr: sp.Expr) -&gt; sp.Expr:\n&quot;,
    &quot;    solutions = sp.solve(\n&quot;,
    &quot;        {\n&quot;,
    &quot;            sp.Eq(expect_x, expect_x_expr),\n&quot;,
    &quot;            sp.Eq(expect_p, expect_p_expr),\n&quot;,
    &quot;        },\n&quot;,
    &quot;        (alpha, sp.conjugate(alpha)),\n&quot;,
    &quot;    )\n&quot;,
    &quot;    expr = expr.subs(\n&quot;,
    &quot;        {\n&quot;,
    &quot;            alpha: solutions[alpha],\n&quot;,
    &quot;            sp.conjugate(alpha): solutions[sp.conjugate(alpha)],\n&quot;,
    &quot;        }\n&quot;,
    &quot;    )\n&quot;,
    &quot;    return sp.simplify(sp.expand(expr))\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;derivative_as_xp = (\n&quot;,
    &quot;    _alpha_expr_as_xp(open_derivative)\n&quot;,
    &quot;    + _alpha_expr_as_xp(closed_derivative)\n&quot;,
    &quot;    + _alpha_expr_as_xp(noise_derivative)\n&quot;,
    &quot;)\n&quot;,
    &quot;\n&quot;,
    &quot;derivative_x = expect_x_expr.subs({alpha: derivative_as_xp})\n&quot;,
    &quot;a, b = sp.expand(sp.simplify(derivative_x)).as_independent(noise)\n&quot;,
    &quot;display_latex(sp.simplify(a) + sp.factor(sp.simplify(b)))\n&quot;,
    &quot;\n&quot;,
    &quot;\n&quot;,
    &quot;derivative_p = expect_p_expr.subs({alpha: derivative_as_xp})\n&quot;,
    &quot;a, b = sp.expand(sp.simplify(derivative_p)).as_independent(noise)\n&quot;,
    &quot;display_latex(sp.simplify(a) + sp.factor(sp.simplify(b)))\n&quot;
   ]
  },
  {
   &quot;cell_type&quot;: &quot;code&quot;,
   &quot;execution_count&quot;: null,
   &quot;id&quot;: &quot;e4b7c166-1af3-4fc5-89eb-89b50c4e2b93&quot;,
   &quot;metadata&quot;: {},
   &quot;outputs&quot;: [],
   &quot;source&quot;: []
  },
  {
   &quot;cell_type&quot;: &quot;code&quot;,
   &quot;execution_count&quot;: null,
   &quot;id&quot;: &quot;92ab2eeb-d419-4f73-9ab8-cee2d85108ac&quot;,
   &quot;metadata&quot;: {},
   &quot;outputs&quot;: [],
   &quot;source&quot;: []
  }
 ],
 &quot;metadata&quot;: {
  &quot;kernelspec&quot;: {
   &quot;display_name&quot;: &quot;Python 3 (ipykernel)&quot;,
   &quot;language&quot;: &quot;python&quot;,
   &quot;name&quot;: &quot;python3&quot;
  },
  &quot;language_info&quot;: {
   &quot;codemirror_mode&quot;: {
    &quot;name&quot;: &quot;ipython&quot;,
    &quot;version&quot;: 3
   },
   &quot;file_extension&quot;: &quot;.py&quot;,
   &quot;mimetype&quot;: &quot;text/x-python&quot;,
   &quot;name&quot;: &quot;python&quot;,
   &quot;nbconvert_exporter&quot;: &quot;python&quot;,
   &quot;pygments_lexer&quot;: &quot;ipython3&quot;,
   &quot;version&quot;: &quot;3.14.0&quot;
  }
 },
 &quot;nbformat&quot;: 4,
 &quot;nbformat_minor&quot;: 5
}
</code></pre>
<p>The pyproject.toml</p>
<pre><code>[project]
name = &quot;thesis_calculations&quot;
version = &quot;0.0.1&quot;
description = &quot;A collection of scripts for my thesis&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.14,&lt;3.15&quot;
dependencies = [&quot;matplotlib&gt;=3.10.6&quot;, &quot;sympy&gt;=1.14.0&quot;]

[dependency-groups]
dev = [
    &quot;ruff&quot;,
    &quot;pytest &gt;=8.3.3,&lt;9.0.0&quot;,
    &quot;sphinx &gt;=8.1.3,&lt;9.0.0&quot;,
    &quot;pydata-sphinx-theme &gt;=0.16.0,&lt;0.17.0&quot;,
    &quot;jupyter&gt;=1.1.1&quot;,
    &quot;ty&gt;=0.0.1a21&quot;,
    &quot;ipykernel&gt;=6.30.1&quot;,
]


[tool.ruff]
unsafe-fixes = true
exclude = [&quot;.git&quot;, &quot;.git-rewrite&quot;, &quot;.vscode&quot;]

[tool.ruff.lint]
select = [&quot;ALL&quot;]
preview = true
ignore = [
    &quot;COM812&quot;,
    &quot;E501&quot;,
    &quot;S101&quot;,
    &quot;PT009&quot;,
    &quot;D100&quot;,
    &quot;D105&quot;,
    &quot;CPY001&quot;,
    &quot;TD003&quot;,
    &quot;TD002&quot;,
    &quot;DOC201&quot;,
    &quot;DOC402&quot;,
    &quot;PD&quot;,
]
fixable = [&quot;ALL&quot;]
unfixable = [&quot;T201&quot;]


[tool.ruff.lint.extend-per-file-ignores]
&quot;tests/**/*&quot; = [&quot;PLR6301&quot;, &quot;INP001&quot;, &quot;PLR0914&quot;, &quot;D101&quot;, &quot;D102&quot;, &quot;D103&quot;, &quot;D104&quot;]
&quot;scripts/**/*&quot; = [
    &quot;PLR6301&quot;,
    &quot;INP001&quot;,
    &quot;PLR0914&quot;,
    &quot;D101&quot;,
    &quot;D102&quot;,
    &quot;D103&quot;,
    &quot;D104&quot;,
]
&quot;examples/**/*&quot; = [&quot;INP001&quot;, &quot;T201&quot;]
&quot;docs/**/*&quot; = [&quot;INP001&quot;, &quot;I002&quot;]

[tool.ruff.lint.pylint]
allow-dunder-method-names = [
    &quot;__as_fundamental__&quot;,
    &quot;__from_fundamental__&quot;,
    &quot;__into_fundamental__&quot;,
    &quot;__as_transformed__&quot;,
    &quot;__into_transformed__&quot;,
    &quot;__from_transformed__&quot;,
    &quot;__convert_vector_into__&quot;,
    &quot;__into_inner__&quot;,
    &quot;__from_inner__&quot;,
]

[tool.ruff.lint.pydocstyle]
convention = &quot;numpy&quot;


[tool.pytest.ini_options]
testpaths = [&quot;tests&quot;]


[build-system]
requires = [&quot;setuptools&quot;]
build-backend = &quot;setuptools.build_meta&quot;

</code></pre>
<h3>Version</h3>
<p>ruff 0.14.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Matt-Ord">@Matt-Ord</a> on 2025-10-09 15:29</div>
            <div class="timeline-body"><p><code>ruff check --fix</code> breaks - but it can still do <code>ruff check</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Matt-Ord">@Matt-Ord</a> on 2025-10-09 15:29</div>
            <div class="timeline-body"><pre><code>T201 `print` found
  --&gt; scripts/local_basis/alpha_dynamics.ipynb:cell 1:56:1
   |
54 | display_latex(expect_x_expr)
55 | display_latex(expect_p_expr)
56 | print(
   | ^^^^^
57 |     sp.solve(
58 |         {
   |
help: Remove `print`

W391 [*] Too many newlines at end of cell
  --&gt; scripts/local_basis/alpha_dynamics.ipynb:cell 1:98:1
   |
96 |   a, b = sp.expand(sp.simplify(derivative_p)).as_independent(noise)
97 |   display_latex(sp.simplify(a) + sp.factor(sp.simplify(b)))
98 | /
99 | |
   | |__^
   |
help: Remove trailing newlines

Found 2 errors.
[*] 1 fixable with the --fix option.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-10-09 16:25</div>
            <div class="timeline-body"><p>Thanks for the report! I bisected this down from the rule selection in your config file to <a href="https://docs.astral.sh/ruff/rules/too-many-newlines-at-end-of-file/#too-many-newlines-at-end-of-file-w391">too-many-newlines-at-end-of-file (W391)</a>.</p>
<pre><code class="language-shell">&gt; ruff check try.ipynb --preview --select W391 --fix
panic: Panicked at crates/ruff_notebook/src/notebook.rs:281:21 when checking `/tmp/tmp.urp4TTz1Yw/try.ipynb`: `Transformed content out of bounds (2610..2609) for cell at 1`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @ntBre on 2025-10-09 16:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">notebook</span> added by @dylwil3 on 2025-10-10 19:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2025-10-10 19:38</div>
            <div class="timeline-body"><p>I wonder if this is an instance of https://github.com/astral-sh/ruff/issues/14445 ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-10-10 20:05</div>
            <div class="timeline-body"><p>Ah yeah, I bet so. I can reproduce with a three-cell notebook similar to your example there:</p>
<pre><code class="language-py"># cell 1 - extra newline

# cell 2 - empty
# cell 3 - empty
</code></pre>
<p>For some reason it doesn't seem to happen with only two cells, though.</p>
<details><summary>Notebook</summary>
<p>

<pre><code class="language-json">{
 &quot;cells&quot;: [
  {
   &quot;cell_type&quot;: &quot;code&quot;,
   &quot;execution_count&quot;: null,
   &quot;id&quot;: &quot;299ca21c-2f99-4373-b96f-14a2943e4094&quot;,
   &quot;metadata&quot;: {},
   &quot;outputs&quot;: [],
   &quot;source&quot;: [
    &quot;\n&quot;
   ]
  },
  {
   &quot;cell_type&quot;: &quot;code&quot;,
   &quot;execution_count&quot;: null,
   &quot;id&quot;: &quot;3fa51bcc-f9b1-4a2d-a24b-c8cd5f3df1f5&quot;,
   &quot;metadata&quot;: {},
   &quot;outputs&quot;: [],
   &quot;source&quot;: []
  },
  {
   &quot;cell_type&quot;: &quot;code&quot;,
   &quot;execution_count&quot;: null,
   &quot;id&quot;: &quot;f4be544b-e0e5-4981-903c-e57362835b1a&quot;,
   &quot;metadata&quot;: {},
   &quot;outputs&quot;: [],
   &quot;source&quot;: []
  }
 ],
 &quot;metadata&quot;: {
  &quot;kernelspec&quot;: {
   &quot;display_name&quot;: &quot;Python 3 (ipykernel)&quot;,
   &quot;language&quot;: &quot;python&quot;,
   &quot;name&quot;: &quot;python3&quot;
  },
  &quot;language_info&quot;: {
   &quot;codemirror_mode&quot;: {
    &quot;name&quot;: &quot;ipython&quot;,
    &quot;version&quot;: 3
   },
   &quot;file_extension&quot;: &quot;.py&quot;,
   &quot;mimetype&quot;: &quot;text/x-python&quot;,
   &quot;name&quot;: &quot;python&quot;,
   &quot;nbconvert_exporter&quot;: &quot;python&quot;,
   &quot;pygments_lexer&quot;: &quot;ipython3&quot;,
   &quot;version&quot;: &quot;3.13.7&quot;
  }
 },
 &quot;nbformat&quot;: 4,
 &quot;nbformat_minor&quot;: 5
}
</code></pre>
</p>
</details> 

</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
