<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider promoting platform.system over sys.platform and os.name - astral-sh/ruff #5622</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider promoting platform.system over sys.platform and os.name</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5622">#5622</a>
        opened by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a>
        on 2023-07-08 18:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/NeilGirdhar">@NeilGirdhar</a></div>
            <div class="timeline-body"><p>See <a href="https://stackoverflow.com/questions/1854/how-to-identify-which-os-python-is-running-on/58071295#58071295">this explanation</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Consider urging prefer platform.system over sys.platform and os.name&quot; to &quot;Consider promoting platform.system over sys.platform and os.name&quot; by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2023-07-08 18:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-10 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-10 01:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/real-or-random">@real-or-random</a> on 2025-03-26 12:29</div>
            <div class="timeline-body"><p>I disagree. Different methods have different purposes. As stated in the linked post, if you only care whether you&#x27;re on posix or not, <code>os.name == &quot;posix&quot;</code> is the right thing to do.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2025-03-26 12:40</div>
            <div class="timeline-body"><blockquote>
<p>I disagree. Different methods have different purposes. As stated in the linked post, if you only care whether you&#x27;re on posix or not, <code>os.name == &quot;posix&quot;</code> is the right thing to do.</p>
</blockquote>
<p>Why not do <code>platform.system() in {&#x27;Linux&#x27;, &#x27;Darwin&#x27;}</code>?  It&#x27;s easier to understand, it&#x27;s easier to alter if what you&#x27;re checking changes, and it doesn&#x27;t depend on what future Python versions do with &quot;OS specific modules&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/real-or-random">@real-or-random</a> on 2025-03-26 13:11</div>
            <div class="timeline-body"><blockquote>
<p>Why not do <code>platform.system() in {&#x27;Linux&#x27;, &#x27;Darwin&#x27;}</code>?</p>
</blockquote>
<p>This misses Android, iOS, and potentially FreeBSD.</p>
<p>It&#x27;s just a different check. If I want to know how to interpret the <a href="https://docs.python.org/3/library/os.html#os.popen"><code>os.popen</code> return code</a>, I may want to know whether I&#x27;m on a POSIX system or not, and the straightforward way to check this is <code>os.name == &quot;posix&quot;</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2025-03-26 13:15</div>
            <div class="timeline-body"><p>Got it, thanks.  Does <code>sys.platform</code> have common uses too?  It seems like most people will just check if it <code>startswith</code> something they know?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-26 13:36</div>
            <div class="timeline-body"><p><code>sys.platforms</code> is used and <a href="https://typing.python.org/en/latest/spec/directives.html#version-and-platform-checking">understood by type checkers</a> whereas <code>os.platform</code> isn&#x27;t (but some type checkers do support it, e.g. Pyright).</p>
<p>A use case where you want to use <code>sys.platform</code> is when checking for specific APIs, e.g. https://docs.python.org/3/library/sys.html#sys.activate_stack_trampoline which is only available on linux and not all posix systems.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-26 13:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2025-03-26 13:43</div>
            <div class="timeline-body"><blockquote>
<p><code>sys.platforms</code> is used and <a href="https://typing.python.org/en/latest/spec/directives.html#version-and-platform-checking">understood by type checkers</a> whereas <code>os.platform</code> isn&#x27;t (but some type checkers do support it, e.g. Pyright).</p>
<p>A use case where you want to use <code>sys.platform</code> is when checking for specific APIs, e.g. https://docs.python.org/3/library/sys.html#sys.activate_stack_trampoline which is only available on linux and not all posix systems.</p>
</blockquote>
<p>How would you check that?   Wouldn&#x27;t <code>platform.system() == &#x27;Linux&#x27;</code> be what you want?  As opposed to <code>sys.platform.startswith(&#x27;linux&#x27;)</code>, which seems much worse.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-26 15:35</div>
            <div class="timeline-body"><p>I&#x27;d use <code>sys.platform == &quot;linux&quot;</code>? <code>startswith</code> shouldn&#x27;t be necessary anymore because of</p>
<blockquote>
<p>Changed in version 3.3: On Linux, <a href="https://docs.python.org/3/library/sys.html#sys.platform">sys.platform</a> doesnâ€™t contain the major version anymore. It is always &#x27;linux&#x27;, instead of &#x27;linux2&#x27; or &#x27;linux3&#x27;.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2025-03-27 02:39</div>
            <div class="timeline-body"><p>Okay.  I&#x27;m not sure if it&#x27;s possible, but I think it would be good to come up with canonical ways of accomplishing various tasks and have Ruff nudge users towards these ways.  If <code>sys.platform == &#x27;linux&#x27;</code> is better than <code>platform.system() == &#x27;Linux&#x27;</code>, (or vice versa), it would be good to nudge everyone to write the same idea in the same way.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:38 UTC
    </footer>
</body>
</html>
