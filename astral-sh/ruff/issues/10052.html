<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature request: Allow separate line length for formatting - astral-sh/ruff #10052</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature request: Allow separate line length for formatting</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10052">#10052</a>
        opened by <a href="https://github.com/Hubro">@Hubro</a>
        on 2024-02-19 13:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Hubro">@Hubro</a> on 2024-02-19 13:53</div>
            <div class="timeline-body"><p>At my job we use Ruff for linting and Black for formatting. I just recently discovered that Ruff can now be used for formatting too, which is amazing news :rocket: The performance of Black has gotten on my nerve many times.</p>
<p>The problem is, my team has a soft line length limit at 88 characters and a hard limit at 100 characters. We've configured Black to wrap at 88 characters, but we don't raise any linter warnings before a line goes over 100 characters. This gives some extra headroom for lines that can't be cleanly wrapped, like lists of long strings.</p>
<p>When formatting with <code>ruff format</code>, it uses the same line length setting as the checker, meaning that it formats our entire codebase with line length 100 rather than 88. Currently it's not possible to specify a separate checker line length and formatter line length, which would be necessary to replicate our current ruff + Black setup.</p>
<p>I think it would be nice if it was possible to specify a line length under <code>[format]</code> which takes precedence when formatting:</p>
<pre><code class="language-toml">line-length = 100

[format]
line-length = 88
</code></pre>
<p>Otherwise it would be quite painful and hacky to adopt <code>ruff format</code> in our code base.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-02-19 14:00</div>
            <div class="timeline-body"><p>Hy. Is my assumption correct that you're using the <code>pcyodestyle</code> rules to enforce the max line length?</p>
<p>The pycodestyle rules allow overriding the <a href="https://docs.astral.sh/ruff/settings/#lint_pycodestyle_max-line-length">max line length</a> for linting (hard limit) where the formatter continues to use the global <code>line-length</code> (soft limit)</p>
<pre><code>line-length = 88 # The formatter wraps lines at a length of 88

[pycodestyle]
max-line-length = 100 # E501 reports lines that exceed the length of 100.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Hubro">@Hubro</a> on 2024-02-19 15:08</div>
            <div class="timeline-body"><p>Oh dang, perfect! Thank you! :heart:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Hubro on 2024-02-19 15:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:32:51 UTC
    </footer>
</body>
</html>
