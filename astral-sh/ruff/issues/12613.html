<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make logger object name patterns configurable - astral-sh/ruff #12613</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Make logger object name patterns configurable</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12613">#12613</a>
        opened by <a href="https://github.com/lpulley">@lpulley</a>
        on 2024-08-01 15:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lpulley">@lpulley</a></div>
            <div class="timeline-body">

<p>Currently, Ruff uses some hard-coded name &quot;patterns&quot; to determine whether a module-local object might be a logger (for the purposes of e.g. <code>flake8-logging-format</code> G rules).</p>
<p>https://github.com/astral-sh/ruff/blob/fc16d8d04d86aa94a8aac14bbb87089b64d443a1/crates/ruff_python_semantic/src/analyze/logging.rs#L60-L74</p>
<p>We&#x27;ve found that we have some loggers called <code>_LOG</code> which aren&#x27;t matched, and I was disappointed to find that these aren&#x27;t configurable. Maybe this should be a setting list of regular expressions or globs or something like that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lpulley">@lpulley</a> on 2024-08-01 15:43</div>
            <div class="timeline-body"><p>I suppose, at the very least, it would be nice to add <code>starts_with(&quot;_log&quot;)</code> and <code>starts_with(&quot;_LOG&quot;)</code>, but that seems like a band-aid.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-01 21:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-01 21:17</div>
            <div class="timeline-body"><p>This makes sense to me, at least short-term. The long term goal is to use type inference to detect if a variable is a logger</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-01 21:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2025-09-16 19:30</div>
            <div class="timeline-body"><p>from duplicate: <a href="https://github.com/astral-sh/ruff/issues/20436">astral-sh/ruff#20436</a></p>
<p>with config:</p>
<pre><code>[tool.ruff.lint]
logger-objects = [&#x27;foo.get_it&#x27;, &#x27;AUTH&#x27;]
</code></pre>
<p>The following use cases exists:</p>
<pre><code>from foo import get_it
get_it.info(&#x27;foo %s&#x27; % (1,))   # detected

blah = get_it()
blah.info(&#x27;foo %s&#x27; % (1,))  # not detected
get_it().info(&#x27;foo %s&#x27; % (1,))  # not detected

blub = get_it
blub.info(&#x27;foo %s&#x27; % (1,))  # also not detected

AUTH.info(&#x27;foo %s&#x27; % (1,))  # also not detected
</code></pre>
<p>So, I would like logger-objects to be the result of a function/method call.
Furthermore I would like to specify the log variable names, our loggers are called <code>AUTH</code>, <code>NETWORK</code>, <code>ACL</code>, etc. and therefor don&#x27;t match anything like <code>.*log.*</code>.
If I just put these names into logger-objects, they are ignored.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:56 UTC
    </footer>
</body>
</html>
