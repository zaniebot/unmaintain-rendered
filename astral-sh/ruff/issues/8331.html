<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatter: different than black when wrapping parentheses for `assert` - astral-sh/ruff #8331</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatter: different than black when wrapping parentheses for `assert`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/8331">#8331</a>
        opened by <a href="https://github.com/njzjz">@njzjz</a>
        on 2023-10-30 00:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/njzjz">@njzjz</a> on 2023-10-30 00:55</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>The ruff version is v0.1.3.</p>
<p>Original code:</p>
<pre><code class="language-py">class SomeClass:
    def some_method(necessary_key, kwargs):
        assert set(necessary_key).issubset(set(kwargs)), &quot;Must give neccessary key: %s&quot; % &quot;, &quot;.join(necessary_key)
</code></pre>
<p>Black:</p>
<pre><code class="language-py">class SomeClass:
    def some_method(necessary_key, kwargs):
        assert set(necessary_key).issubset(
            set(kwargs)
        ), &quot;Must give neccessary key: %s&quot; % &quot;, &quot;.join(necessary_key)
</code></pre>
<p>ruff:</p>
<pre><code class="language-py">class SomeClass:
    def some_method(necessary_key, kwargs):
        assert set(necessary_key).issubset(set(kwargs)), (
            &quot;Must give neccessary key: %s&quot; % &quot;, &quot;.join(necessary_key)
        )
</code></pre>
<p>See https://play.ruff.rs/f16cda56-ec7f-4b88-9dc9-1ba2dd18b39b</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2023-10-30 00:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Stable" by @MichaReiser on 2023-10-30 00:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8388.html">astral-sh/ruff#8388</a> on 2023-10-31 19:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2023-11-08 13:22</div>
            <div class="timeline-body"><p>The ruff style is better and much more readable! E.g. above examples and this here:</p>
<pre><code class="language-diff">-            assert (
-                not should_fail
-            ), &quot;Creating a school(%s) cli with dc_name=%s was unexpectedly successful&quot; % (
-                school,
-                dc_name,
+            assert not should_fail, (
+                &quot;Creating a school(%s) cli with dc_name=%s was unexpectedly successful&quot;
+                % (
+                    school,
+                    dc_name,
+                )
             )
</code></pre>
<p>please keep as is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone "Formatter: Stable" by @MichaReiser on 2024-02-13 11:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/13386.html">astral-sh/ruff#13386</a> on 2024-09-18 06:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/13663.html">astral-sh/ruff#13663</a> on 2024-10-23 11:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
