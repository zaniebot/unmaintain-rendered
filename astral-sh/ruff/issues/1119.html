<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Question] Re-raising errors and BLE001 - astral-sh/ruff #1119</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Question] Re-raising errors and BLE001</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1119">#1119</a>
        opened by <a href="https://github.com/notypecheck">@notypecheck</a>
        on 2022-12-07 13:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/notypecheck">@notypecheck</a></div>
            <div class="timeline-body"><p>Not sure if this is the right place to ask since this is a check from flake8-blind-except, but:
Using this check is a bit hard in some cases without ignoring it, for example when we want to report an exception and explicitly re-raise it:</p>
<pre><code class="language-py">try:
    return handler(request)
except Exception as e:
    sentry_sdk.capture_exception(e)
    raise
</code></pre>
<p>In my opinion catching <code>Exception</code> should be ok as long as you re-raise it ðŸ¤”</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-07 14:32</div>
            <div class="timeline-body"><p>I think I agree with this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-07 14:35</div>
            <div class="timeline-body"><p>Some discussion here about this being a good idea: https://github.com/PyCQA/flake8-bugbear/issues/174</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2022-12-07 14:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-12-07 15:26</div>
            <div class="timeline-body"><p>I am up for it.
Based on PyCQA/flake8-bugbear#174, we would forbid <code>BaseException</code> no matter what and forbid <code>Exception</code> if the exception is not re-raised.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-07 15:36</div>
            <div class="timeline-body"><p>I ended up implementing it here: https://github.com/charliermarsh/ruff/pull/1124. It only detects the simple case of a <code>raise</code> in the immediate exception handler body. We could improve it, but seems complex and not sure how common that is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-07 15:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-12-07 15:53</div>
            <div class="timeline-body"><p>It has been implemented in <a href="https://github.com/Zac-HD/flake8-trio/blob/5072c7d9e4afa340b94ef98fa901afdd563cac65/flake8_trio.py#L606-L608">flake8-trio</a>.
We could use the same approach.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-07 15:55</div>
            <div class="timeline-body"><p>Yeah I just didn't feel it was worth the complexity vs. the common case right now vs. some other things I need to get done. You're very welcome to work on it if you'd like, @JonathanPlasse!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:45:42 UTC
    </footer>
</body>
</html>
