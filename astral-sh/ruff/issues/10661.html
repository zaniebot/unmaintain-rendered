<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>failed to parse toml - astral-sh/ruff #10661</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>failed to parse toml</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/10661">#10661</a>
        opened by <a href="https://github.com/anantgupta129">@anantgupta129</a>
        on 2024-03-29 14:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/anantgupta129">@anantgupta129</a> on 2024-03-29 14:41</div>
            <div class="timeline-body"><pre><code class="language-toml"># Exclude a variety of commonly ignored directories.
exclude = [
    &quot;.bzr&quot;,
    &quot;.direnv&quot;,
    &quot;.eggs&quot;,
    &quot;.git&quot;,
    &quot;.git-rewrite&quot;,
    &quot;.hg&quot;,
    &quot;.ipynb_checkpoints&quot;,
    &quot;.mypy_cache&quot;,
    &quot;.nox&quot;,
    &quot;.pants.d&quot;,
    &quot;.pyenv&quot;,
    &quot;.pytest_cache&quot;,
    &quot;.pytype&quot;,
    &quot;.ruff_cache&quot;,
    &quot;.svn&quot;,
    &quot;.tox&quot;,
    &quot;.venv&quot;,
    &quot;.vscode&quot;,
    &quot;__pypackages__&quot;,
    &quot;_build&quot;,
    &quot;buck-out&quot;,
    &quot;build&quot;,
    &quot;dist&quot;,
    &quot;node_modules&quot;,
    &quot;site-packages&quot;,
    &quot;venv&quot;,
]

# Same as Black.
line-length = 99

# Assume Python 3.8
target-version = &quot;py38&quot;

[lint]
ignore = []
select = [
    &quot;E&quot;,  # pycodestyle errors
    &quot;W&quot;,  # pycodestyle warnings
    &quot;F&quot;,  # pyflakes
    &quot;I&quot;,  # isort (import ordering)
    &quot;D&quot;,  # pydocstyle
]
# Allow fix for all enabled rules (when `--fix`) is provided.
fixable = [&quot;ALL&quot;]
unfixable = []

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = &quot;^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$&quot;

# Sort imports in groups and by case
[lint.isort]
force-sort-within-sections = true
case_sensitive = true
sections = [&quot;FUTURE&quot;, &quot;STDLIB&quot;, &quot;THIRDPARTY&quot;, &quot;FIRSTPARTY&quot;, &quot;LOCALFOLDER&quot;]
force-wrap-aliases = true
combine-as-imports = true

[lint.pydocstyle]
# Use Google-style docstrings.
convention = &quot;google&quot;


[format]
# Like Black, use double quotes for strings.
quote-style = &quot;double&quot;

# Like Black, respect magic trailing commas.
skip-magic-trailing-comma = false

# Like Black, automatically detect the appropriate line ending.
line-ending = &quot;auto&quot;

# Enable auto-formatting of code examples in docstrings. Markdown,
# reStructuredText code/literal blocks and doctests are all supported..
docstring-code-format = true

# Set the line length limit used when formatting code snippets in
# docstrings.
#
# This only has an effect when the `docstring-code-format` setting is
# enabled.
docstring-code-line-length = &quot;dynamic&quot;
</code></pre>
<p>â†’ ruff check
ruff failed
Cause: Failed to parse ruff.toml
Cause: TOML parse error at line 38, column 1
|
38 | [lint]
| ^^^^^^^
unknown field <code>case_sensitive</code>, expected one of <code>force-wrap-aliases</code>, <code>force-single-line</code>, <code>single-line-exclusions</code>, <code>combine-as-imports</code>, <code>split-on-trailing-comma</code>, <code>order-by-type</code>, <code>force-sort-within-sections</code>, <code>case-sensitive</code>, <code>force-to-top</code>, <code>known-first-party</code>, <code>known-third-party</code>, <code>known-local-folder</code>, <code>extra-standard-library</code>, <code>relative-imports-order</code>, <code>required-imports</code>, <code>classes</code>, <code>constants</code>, <code>variables</code>, <code>no-lines-before</code>, <code>lines-after-imports</code>, <code>lines-between-types</code>, <code>forced-separate</code>, <code>section-order</code>, <code>no-sections</code>, <code>detect-same-package</code>, <code>from-first</code>, <code>length-sort</code>, <code>length-sort-straight</code>, <code>sections</code></p>
<p>help in error with the config</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-03-29 14:50</div>
            <div class="timeline-body"><p>Hi! As the error message states, <code>case_sensitive</code> isn't currently a valid field in the <code>lint.isort</code> table. You need to use <code>case-sensitive</code> (with a hyphen, not an underscore).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-03-29 14:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @AlexWaygood on 2024-03-29 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2024-03-29 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/anantgupta129">@anantgupta129</a> on 2024-03-30 05:10</div>
            <div class="timeline-body"><p>Hi @AlexWaygood</p>
<p>thanks for the reply
testing on this simple code</p>
<pre><code>
def climbStairs(n):
    if n == 1:
        return 1
    if n == 2:
        return 2

    dp = [0] * (n + 1)
    dp[1] = 1  # 1 way to reach the first step
    dp[2] = 2  # 2 ways to reach the second step

    for i in range(3 , n + 1 ) :
        # The number of ways to reach the current step is the sum of
        # the number of ways to reach the previous two steps
        dp[i] = dp[i - 1] + dp[i - 2]

    # x = n
    # y = 1
    # if x == 4: print(x, y); x, y = y , x

    return dp[n]
</code></pre>
<p>the white space in <code>range(3 , n + 1 ) :</code> not getting removed like in black <code>range(3, n + 1):</code> using command <code>ruff check  .\tmp.py --fix</code></p>
<p>how to enable this behaviour below is my ruff config</p>
<pre><code># Exclude a variety of commonly ignored directories.
exclude = [
    &quot;.bzr&quot;,
    &quot;.direnv&quot;,
    &quot;.eggs&quot;,
    &quot;.git&quot;,
    &quot;.git-rewrite&quot;,
    &quot;.hg&quot;,
    &quot;.ipynb_checkpoints&quot;,
    &quot;.mypy_cache&quot;,
    &quot;.nox&quot;,
    &quot;.pants.d&quot;,
    &quot;.pyenv&quot;,
    &quot;.pytest_cache&quot;,
    &quot;.pytype&quot;,
    &quot;.ruff_cache&quot;,
    &quot;.svn&quot;,
    &quot;.tox&quot;,
    &quot;.venv&quot;,
    &quot;.vscode&quot;,
    &quot;__pypackages__&quot;,
    &quot;_build&quot;,
    &quot;buck-out&quot;,
    &quot;build&quot;,
    &quot;dist&quot;,
    &quot;node_modules&quot;,
    &quot;site-packages&quot;,
    &quot;venv&quot;,
]

# Same as Black.
line-length = 99
indent-width = 4

# Assume Python 3.8
target-version = &quot;py38&quot;

extend-include = [&quot;*.ipynb&quot;]

[lint]
# Enable Pyflakes (`F`) and a subset of the pycodestyle (`E`)  codes by default.
# Unlike Flake8, Ruff doesn't enable pycodestyle warnings (`W`) or
# McCabe complexity (`C901`) by default.
select = [&quot;E4&quot;, &quot;E7&quot;, &quot;E9&quot;, &quot;F&quot;, &quot;B&quot;, &quot;Q&quot;, &quot;I&quot;, &quot;D&quot;, &quot;UP&quot;]
ignore = [&quot;D100&quot;, &quot;D103&quot;]

# Allow fix for all enabled rules (when `--fix`) is provided.
fixable = [&quot;ALL&quot;]
unfixable = []
extend-select = [&quot;D400&quot;, &quot;E501&quot;]

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = &quot;^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$&quot;

# Sort imports in groups and by case
[lint.isort]
force-sort-within-sections = true
case-sensitive = true
# sections = [&quot;FUTURE&quot;, &quot;STDLIB&quot;, &quot;THIRDPARTY&quot;, &quot;FIRSTPARTY&quot;, &quot;LOCALFOLDER&quot;]
force-wrap-aliases = true
combine-as-imports = true

[lint.pycodestyle]
max-doc-length = 101

[lint.pydocstyle]
# Use Google-style docstrings.
convention = &quot;google&quot;

[format]
# Like Black, use double quotes for strings.
quote-style = &quot;double&quot;


# Like Black, respect magic trailing commas.
skip-magic-trailing-comma = false

# Like Black, automatically detect the appropriate line ending.
line-ending = &quot;auto&quot;

# Enable auto-formatting of code examples in docstrings. Markdown,
# reStructuredText code/literal blocks and doctests are all supported.
docstring-code-format = true

# Set the line length limit used when formatting code snippets in
# docstrings.
#
# This only has an effect when the `docstring-code-format` setting is
# enabled.
docstring-code-line-length = &quot;dynamic&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-03-30 10:17</div>
            <div class="timeline-body"><p>Hi @anantgupta129 -- <code>ruff check</code> only runs the ruff linter on your code. To run the ruff formatter on your code, you'll need to run <code>ruff format</code> on your code as well as <code>ruff check</code> -- for example, <code>ruff format .\tmp.py</code>. The full documentation for the formatter is here: https://docs.astral.sh/ruff/formatter/.</p>
<p>Hope that helps :-)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
