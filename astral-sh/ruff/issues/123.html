<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`F401 imported but unused` when symbol is only used for type hints - astral-sh/ruff #123</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>F401 imported but unused</code> when symbol is only used for type hints</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/123">#123</a>
        opened by <a href="https://github.com/amotl">@amotl</a>
        on 2022-09-07 21:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/amotl">@amotl</a> on 2022-09-07 21:35</div>
            <div class="timeline-body"><p>Hi Charlie,</p>
<p>maybe similar to #83, <code>ruff</code> also marks spots as &quot;imported but unused&quot;, where the imported symbols are only used within type hints.</p>
<p>With kind regards,
Andreas.</p>
<h4>Example</h4>
<pre><code class="language-python">import dataclasses
from datetime import datetime


@dataclasses.dataclass
class Message:
    message: str
    datetime: datetime
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "F401 `datetime.datetime` imported but unused" to "`F401 imported but unused` when symbol is only used for type hints" by @amotl on 2022-09-07 23:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-08 02:34</div>
            <div class="timeline-body"><p>Wow, this is really tricky, I think it's because the type hint is <code>datetime: datetime</code> (as opposed to something like <code>x: datetime</code>), so we were parsing the left-hand side first, then assumed <code>: datetime</code> was a reference to that left-hand side. Good catch :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/127.html">astral-sh/ruff#127</a> on 2022-09-08 02:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-09-08 02:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amotl">@amotl</a> on 2022-09-08 08:07</div>
            <div class="timeline-body"><p>Oh wow, so I've catched that case accidentally ;]. Thank you for fixing it so quickly again!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/139.html">astral-sh/ruff#139</a> on 2022-09-10 12:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:28:18 UTC
    </footer>
</body>
</html>
