<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>allow publishing a more detailed graph - astral-sh/ruff #15195</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>allow publishing a more detailed graph</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/15195">#15195</a>
        opened by <a href="https://github.com/purajit">@purajit</a>
        on 2024-12-30 06:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/purajit">@purajit</a> on 2024-12-30 06:09</div>
            <div class="timeline-body"><p>In addition to the options to publish the graph based on module paths and including third-party deps
mentioned in https://github.com/astral-sh/ruff/issues/13431, publishing a <code>--detailed</code> graph would be great! It would allow people to build or
conceive of several other tools on top of ruff, and also allow ruff to swallow them up.</p>
<p>This could include information like:</p>
<ul>
<li>whether this is from a string or not<ul>
<li>if it could go so deep as to being able to detect whether it's being mocked, dynamically imported,
opened as a pkg resource, etc, that would be absolutely nuts, at least in obvious cases</li>
</ul>
</li>
<li>whether this is <code>TYPING</code>-only</li>
<li>whether this is a top-level import or not</li>
<li>whether private members are imported (I guess this starts pushing the graph towards being not
just for modules but for module members)</li>
<li>whether it's a relative import</li>
<li>any attached annotations (particularly pylint, also semgrep)</li>
</ul>
<p>I understand there would be some non-trivial restructure or reconsideration, since there could be multiple
dependencies on the same module with differing characteristics</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2024-12-30 08:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">analyze</span> added by @MichaReiser on 2024-12-30 08:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nickdrozd">@nickdrozd</a> on 2025-01-06 20:01</div>
            <div class="timeline-body"><p>This is a great idea. Other info that would be nice to have:</p>
<ul>
<li>Stats about module imports<ul>
<li>For a given module, how many modules import it?</li>
<li>Total number of imports</li>
<li>Modules that import the most / are imported the most</li>
</ul>
</li>
<li>Transitive imports, i.e. A imports from B, B imports from C, but also A imports from C (could indicate interface design flaw)</li>
<li>Could enforce a maximum number of module imports, since too many imports could indicate design flaw.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/purajit">@purajit</a> on 2025-01-06 23:22</div>
            <div class="timeline-body"><p>@nickdrozd aren't the first 2 derivable from the graph it already outputs? For example, my
project https://github.com/purajit/ruff-tools is all about transitive deps, as well as detecting
cyclical deps, etc. I feel any derivable information should be left up to individual users.</p>
<p>For the last one, that sounds like a new ruff linter rule so would be better as a separate proposal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/20736.html">astral-sh/ruff#20736</a> on 2025-11-04 06:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:54 UTC
    </footer>
</body>
</html>
