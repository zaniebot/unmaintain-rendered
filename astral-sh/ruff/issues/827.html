<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement pyupgrade - astral-sh/ruff #827</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement pyupgrade</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/827">#827</a>
        opened by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a>
        on 2022-11-20 11:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-11-20 11:15</div>
            <div class="timeline-body"><ul>
<li>[x] Set literals</li>
<li>[x] Dictionary comprehensions</li>
<li>[x] use <code>datetime.UTC</code> alias</li>
<li>[x] Format Specifiers</li>
<li>[x] printf-style string formatting</li>
<li>[x] Unicode literals</li>
<li>[x] Invalid escape sequences</li>
<li>[x] <code>is</code> / <code>is not</code> comparison to constant literals</li>
<li>[x] <code>.encode()</code> to bytes literals</li>
<li>[x] extraneous parens in <code>print(...)</code></li>
<li>[x] unittest deprecated aliases</li>
<li>[x] <code>super()</code> calls</li>
<li>[x] &quot;new style&quot; classes<ul>
<li>[x] rewrites class declaration</li>
<li>[x] removes <code>__metaclass__ = type</code> declaration</li>
</ul>
</li>
<li>[x] forced <code>str(&quot;native&quot;)</code> literals</li>
<li>[x] <code>.encode(&quot;utf-8&quot;)</code></li>
<li>[x] <code># coding: ...</code> comment</li>
<li>[x] <code>__future__</code> import removal</li>
<li>[x] Remove unnecessary py3-compat imports</li>
<li>[x] import replacements</li>
<li>[x] rewrite <code>mock</code> imports</li>
<li>[x] <code>yield</code> =&gt; <code>yield from</code></li>
<li>[x] Python2 and old Python3.x blocks</li>
<li>[x] remove <code>six</code> compatibility code</li>
<li>[x] <code>open</code> alias</li>
<li>[x] redundant <code>open</code> modes</li>
<li>[x] <code>OSError</code> aliases</li>
<li>[x] <code>typing.Text</code> str alias</li>
<li>[x] Unpacking list comprehensions</li>
<li>[x] Rewrite <code>xml.etree.cElementTree</code> to <code>xml.etree.ElementTree</code></li>
<li>[x] Rewrite <code>type</code> of primitive</li>
<li>[x] <code>typing.NamedTuple</code> / <code>typing.TypedDict</code> py36+ syntax<ul>
<li>[x] <code>typing.NamedTuple</code></li>
<li>[x] <code>typing.TypedDict</code></li>
</ul>
</li>
<li>[x] f-strings</li>
<li>[x] <code>subprocess.run</code>: replace <code>universal_newlines</code> with <code>text</code></li>
<li>[x] <code>subprocess.run</code>: replace <code>stdout=subprocess.PIPE, stderr=subprocess.PIPE</code> with <code>capture_output=True</code></li>
<li>[x] remove parentheses from <code>@functools.lru_cache()</code></li>
<li>[x] replace <code>@functools.lru_cache(maxsize=None)</code> with shorthand</li>
<li>[x] pep 585 typing rewrites</li>
<li>[x] pep 604 typing rewrites</li>
<li>[x] remove quoted annotations</li>
</ul>
<p>Please add the tests from pyupgrade to assure equivalent behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "pyupgrade implemented list" to "Implement pyupgrade" by @JonathanPlasse on 2022-11-20 14:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2022-11-20 15:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on 2022-11-22 08:04</div>
            <div class="timeline-body"><p>I guess I can just pick some rules in here for implementation?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-11-22 08:13</div>
            <div class="timeline-body"><blockquote>
<p>I guess I can just pick some rules in here for implementation?</p>
</blockquote>
<p>Yes, can you comment on the one you choose so there is no conflict?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on 2022-11-22 22:26</div>
            <div class="timeline-body"><p>I'll get started on <code>six</code> code</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2022-11-26 13:28</div>
            <div class="timeline-body"><p>I'll look at <code>yield -&gt; yield from</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/909.html">astral-sh/ruff#909</a> on 2022-11-26 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-02 22:12</div>
            <div class="timeline-body"><p>I'd like to knock out a few more of these. Now that the LSP supports autofix, they're even more valuable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1013.html">astral-sh/ruff#1013</a> on 2022-12-03 14:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-04 04:49</div>
            <div class="timeline-body"><p>I can do <code>Remove unnecessary py3-compat imports</code> and <code>import replacements</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1341.html">astral-sh/ruff#1341</a> on 2022-12-22 21:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1350.html">astral-sh/ruff#1350</a> on 2022-12-23 13:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2022-12-26 16:30</div>
            <div class="timeline-body"><p>I can dig into typing.Text str alias.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1391.html">astral-sh/ruff#1391</a> on 2022-12-26 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2022-12-26 23:36</div>
            <div class="timeline-body"><p>I am going to take these two next:</p>
<ul>
<li>subprocess.run: replace universal_newlines with text (UP021)</li>
<li>subprocess.run: replace stdout=subprocess.PIPE, stderr=subprocess.PIPE with capture_output=True (UP022)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1399.html">astral-sh/ruff#1399</a> on 2022-12-27 05:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1403.html">astral-sh/ruff#1403</a> on 2022-12-27 23:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1419.html">astral-sh/ruff#1419</a> on 2022-12-28 02:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1415.html">astral-sh/ruff#1415</a> on 2022-12-28 13:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2022-12-28 13:04</div>
            <div class="timeline-body"><p>Today I will work on:</p>
<ul>
<li>Rewrite xml.etree.cElementTree to xml.etree.ElementTree (UP023)</li>
<li>OSError aliases (UP024)</li>
<li>Unicode literals (UP025)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1426.html">astral-sh/ruff#1426</a> on 2022-12-28 15:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1434.html">astral-sh/ruff#1434</a> on 2022-12-29 02:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1447.html">astral-sh/ruff#1447</a> on 2022-12-29 20:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1448.html">astral-sh/ruff#1448</a> on 2022-12-29 20:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2022-12-29 20:32</div>
            <div class="timeline-body"><p>Going to start on rewrite mock imports (UP026)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1488.html">astral-sh/ruff#1488</a> on 2022-12-30 21:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> removed by @charliermarsh on 2022-12-31 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by @charliermarsh on 2022-12-31 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-01 13:45</div>
            <div class="timeline-body"><p>I will take .encode() to bytes literals (UP027)</p>
<p>Edit, looks like someone already took this (UP012)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-01 17:13</div>
            <div class="timeline-body"><p>I will take: Unpacking list comprehensions (UP027)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1534.html">astral-sh/ruff#1534</a> on 2023-01-01 19:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-01 19:37</div>
            <div class="timeline-body"><p>I will take: yield =&gt; yield from (UP028)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1544.html">astral-sh/ruff#1544</a> on 2023-01-02 03:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-02 17:58</div>
            <div class="timeline-body"><p>I will take: Format Specifiers (UP029) next</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1594.html">astral-sh/ruff#1594</a> on 2023-01-03 12:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../PaddlePaddle/Paddle/pulls/49522.html">PaddlePaddle/Paddle#49522</a> on 2023-01-04 04:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-11 01:52</div>
            <div class="timeline-body"><p>I will take:  printf-style string formatting (UP031) next. I will have this done by Sunday.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1803.html">astral-sh/ruff#1803</a> on 2023-01-12 01:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../yt-project/yt/issues/4203.html">yt-project/yt#4203</a> on 2023-01-12 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-15 21:13</div>
            <div class="timeline-body"><p>I will take: f-strings (UP032)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1905.html">astral-sh/ruff#1905</a> on 2023-01-16 03:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-16 21:08</div>
            <div class="timeline-body"><p>I will take: extraneous parens in print(...) (UP033)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1926.html">astral-sh/ruff#1926</a> on 2023-01-17 01:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-19 22:30</div>
            <div class="timeline-body"><p>I will take:  import replacements (UP035)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-19 22:32</div>
            <div class="timeline-body"><p>Import replacements might requiring auditing some of what we already do. Like, we do <em>some</em> of the replacements as part of the other Pyupgrade rules. I'm not totally sure what we're missing. (I'm also worried that it'll be a really tricky one to implement :joy:)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-20 03:02</div>
            <div class="timeline-body"><p>I am probably going to regret saying this, but this seems like its not too challenging. The process I was thinking is:</p>
<ol>
<li>Search <a href="https://github.com/asottile/pyupgrade/blob/main/pyupgrade/_plugins/imports.py#L43">this</a> dict for matches (converted to a rust hashmap)</li>
<li>Replace any specific items that match. If its a muli-line then we can move the replaced items to a new line. I would use libcst imports here</li>
<li>Return the new strings</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2049.html">astral-sh/ruff#2049</a> on 2023-01-21 03:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../fpgmaas/deptry/pulls/276.html">fpgmaas/deptry#276</a> on 2023-01-22 20:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-23 00:04</div>
            <div class="timeline-body"><p>I will take: Python2 and old Python3.x blocks (UP037)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2099.html">astral-sh/ruff#2099</a> on 2023-01-23 03:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2152.html">astral-sh/ruff#2152</a> on 2023-01-25 12:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-01-29 23:16</div>
            <div class="timeline-body"><p>I will take:  remove quoted annotations (UP038) AKA the LAST one üéâüéâüéâ.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 00:06</div>
            <div class="timeline-body"><p>@colin99d - Awesome. Like <code>pyupgrade</code> (IIUC), let's only enforce that when <code>from __future__ import annotations</code> is present.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2431.html">astral-sh/ruff#2431</a> on 2023-02-01 03:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bobronium">@Bobronium</a> on 2023-02-02 20:10</div>
            <div class="timeline-body"><p>I'm not sure where is a good place to drop this, but it would be great to have pydowngrade (AFAIK it's not a thing yet) along with pyupgrade.</p>
<p>This will allow to develop a project with newest set of features, and maintain compatibility with previous python version by downgrading certain things when building a wheel for specific version.</p>
<p>Hope it's not completely out of place üòÑ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/colin99d">@colin99d</a> on 2023-02-02 20:59</div>
            <div class="timeline-body"><p>Hello Bobronium,</p>
<p>I love the idea! As a developer on a python library myself, it is annoying not being able to add the newest features in my code, because some people are still on python 3.7. However, I see two issues with this idea:</p>
<ul>
<li>This would take a while to code (probably just as long as coding all the pyupgrade features), but with a much smaller potential use case.</li>
<li>Some of the lints would not be able to be reverted, for example, if you ran the lint that removes &quot;u&quot; before a string, then ruff would not know which strings to add it back to.</li>
</ul>
<p>I think a much better implementation for this would be to have your CI that uploads pip take the version that works for your oldest members, and then upgrade it to the correct version for each user group downloading it. While this doesn't help the developers, it would mean all users of the code get the newest features.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2501.html">astral-sh/ruff#2501</a> on 2023-02-02 21:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-05 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../OpenBB-finance/OpenBB/pulls/4160.html">OpenBB-finance/OpenBB#4160</a> on 2023-02-07 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../asdf-format/asdf/pulls/1352.html">asdf-format/asdf#1352</a> on 2023-02-07 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../materialsproject/pymatgen/pulls/2847.html">materialsproject/pymatgen#2847</a> on 2023-02-15 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sjdemartini">@sjdemartini</a> on 2023-02-22 21:51</div>
            <div class="timeline-body"><p>In testing this out using Ruff 0.0.251 and enabling &quot;UP&quot; rules, the first pyupgrade feature mentioned in the original checklist (&quot;Set literals&quot;, https://github.com/asottile/pyupgrade#set-literals) does not appear to be handled and is not listed under the rules here https://beta.ruff.rs/docs/rules/#pyupgrade-up, despite being checked off above. Perhaps it was actually never implemented? Should I file a new issue for this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 21:53</div>
            <div class="timeline-body"><p>@sjdemartini - I think those rules are handled instead by <a href="https://beta.ruff.rs/docs/rules/#flake8-comprehensions-c4"><code>flake8-comprehensions</code> rules</a>, like <code>C405</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sjdemartini">@sjdemartini</a> on 2023-02-22 21:55</div>
            <div class="timeline-body"><p>Aha, indeed, thank you Charlie!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 21:57</div>
            <div class="timeline-body"><p>No prob! Same is probably true of dictionary comprehensions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aureliojargas">@aureliojargas</a> on 2023-05-13 23:54</div>
            <div class="timeline-body"><p>First of all, thanks for the excellent tool! Loving it üòç</p>
<p>After reading those last comments here, I got curious on exactly which extra rules besides <code>UP</code> I should use to get the full pyupgrade functionality in ruff.</p>
<p>I haven't found that information in the docs, so <a href="https://gist.github.com/aureliojargas/70bd3667afd18f2a4f4e23d7ae5a2915">I did some testing</a> and the closer I got was:</p>
<pre><code class="language-bash">ruff --target-version py311 --select UP,C401,C402,C403,C404,C405,F632,W605 --fix foo.py
</code></pre>
<p>Description of those rules:</p>
<pre><code class="language-toml"># Activate all the rules that are pyupgrade-related
select = [
    &quot;UP&quot;,    # pyupgrade
    &quot;C401&quot;,  # flake8-comprehensions: unnecessary-generator-set
    &quot;C402&quot;,  # flake8-comprehensions: unnecessary-generator-dict
    &quot;C403&quot;,  # flake8-comprehensions: unnecessary-list-comprehension-set
    &quot;C404&quot;,  # flake8-comprehensions: unnecessary-list-comprehension-dict
    &quot;C405&quot;,  # flake8-comprehensions: unnecessary-literal-set
    &quot;F632&quot;,  # pyflakes: is-literal
    &quot;W605&quot;,  # pycodestyle: invalid-escape-sequence
]
</code></pre>
<p>The only pyupgrade feature not supported in ruff is <a href="https://github.com/asottile/pyupgrade#remove-six-compatibility-code">remove <code>six</code> compatibility code</a>.</p>
<p>The only ruff <code>UP</code> rule not supported in pyupgrade is <a href="https://beta.ruff.rs/docs/rules/#pyupgrade-up">UP038: non-pep604-isinstance: Use¬†<code>X | Y</code>¬†in¬†<code>{}</code> call instead of¬†<code>(X, Y)</code></a>.</p>
<p>On a side note, since this PR is highly ranked in the &quot;ruff pyupgrade&quot; search, maybe we could add the ruff rules IDs to the items in this PR description, exactly as being done in &quot;Implement Pylint&quot; (#970)? This way people can better correlate the pyupgrade feature name with the ruff rule. <a href="https://gist.github.com/aureliojargas/70bd3667afd18f2a4f4e23d7ae5a2915#ruff-rules-for-every-pyupgrade-fix">This may help</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-14 02:58</div>
            <div class="timeline-body"><p>Thanks, this is a great comment! I'd love to add the relevant annotations to the issue. If anyone is interested in writing a comment that does that, I'm happy to copy it into the description.</p>
<p>Edit: oh wait, that's basically exactly what you did in your <a href="https://gist.github.com/aureliojargas/70bd3667afd18f2a4f4e23d7ae5a2915#ruff-rules-for-every-pyupgrade-fix">linked issue</a>, thanks @aureliojargas!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/aureliojargas">@aureliojargas</a> on 2023-05-14 07:42</div>
            <div class="timeline-body"><p>Thanks @charliermarsh, I'm happy to provide it:</p>
<pre><code class="language-markdown">- [X] Set literals / `C401` `C403` `C405`
- [X] Dictionary comprehensions / `C402` `C404`
- [X] Format Specifiers / `UP030`
- [X] printf-style string formatting / `UP031`
- [X] Unicode literals / `UP025`
- [X] Invalid escape sequences / `W605`
- [X] `is` / `is not` comparison to constant literals / `F632`
- [X] `.encode()` to bytes literals / `UP012`
- [X] extraneous parens in `print(...)` / `UP034`
- [X] unittest deprecated aliases / `UP005`
- [X] `super()` calls / `UP008`
- [X] &quot;new style&quot; classes
    - [X] rewrites class declaration / `UP004`
    - [X] removes `__metaclass__ = type` declaration / `UP001`
- [X] forced `str(&quot;native&quot;)` literals / `UP018`
- [X] `.encode(&quot;utf-8&quot;)` / `UP012`
- [X] `# coding: ...` comment / `UP009`
- [X] `__future__` import removal / `UP010`
- [X] Remove unnecessary py3-compat imports / `UP029`
- [X] import replacements / `UP035`
- [X] rewrite `mock` imports / `UP026`
- [X] `yield` =&gt; `yield from` / `UP028`
- [X] Python2 and old Python3.x blocks / `UP036`
- [X] remove `six` compatibility code / not ported to ruff
- [X] `open` alias / `UP020`
- [X] redundant `open` modes / `UP015`
- [X] `OSError` aliases / `UP024`
- [X] `typing.Text` str alias / `UP019`
- [X] Unpacking list comprehensions / `UP027`
- [X] Rewrite `xml.etree.cElementTree` to `xml.etree.ElementTree` / `UP023`
- [X] Rewrite `type` of primitive / `UP003`
- [X] `typing.NamedTuple` / `typing.TypedDict` py36+ syntax
    - [X] `typing.NamedTuple`  / `UP014`
    - [X] `typing.TypedDict` / `UP013`
- [X] f-strings / `UP032`
- [X] `subprocess.run`: replace `universal_newlines` with `text` / `UP021`
- [X] `subprocess.run`: replace `stdout=subprocess.PIPE, stderr=subprocess.PIPE` with `capture_output=True` / `UP022`
- [X] remove parentheses from `@functools.lru_cache()` / `UP011`
- [X] replace `@functools.lru_cache(maxsize=None)` with shorthand / `UP033`
- [X] pep 585 typing rewrites / `UP006`
- [X] pep 604 typing rewrites / `UP007`
- [X] remove quoted annotations / `UP037`
- [X] use `datetime.UTC` alias / `UP017`

Please add the tests from pyupgrade to assure equivalent behavior.
</code></pre>
<p>BTW, the only change I did was moving the &quot;use <code>datetime.UTC</code> alias&quot; item to the end, because it was the only one not following the order from the <a href="https://github.com/asottile/pyupgrade/blob/main/README.md">pyupgrade README</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../Komorebi-AI/python-template/issues/23.html">Komorebi-AI/python-template#23</a> on 2023-10-24 20:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../mozilla/pontoon/pulls/3248.html">mozilla/pontoon#3248</a> on 2024-05-31 12:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/12592.html">astral-sh/ruff#12592</a> on 2024-07-31 10:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../Lightning-AI/tutorials/pulls/375.html">Lightning-AI/tutorials#375</a> on 2025-01-09 05:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../NabuCasa/snitun/pulls/328.html">NabuCasa/snitun#328</a> on 2025-02-07 03:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/19712.html">astral-sh/ruff#19712</a> on 2025-08-03 14:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:48 UTC
    </footer>
</body>
</html>
