<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Rule: Detect/Fix Circuitous Imports - astral-sh/ruff #20748</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New Rule: Detect/Fix Circuitous Imports</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/20748">#20748</a>
        opened by <a href="https://github.com/Redoubts">@Redoubts</a>
        on 2025-10-07 15:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Redoubts">@Redoubts</a> on 2025-10-07 15:24</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>I think it would be cool if there were a rule that checked and auto-fixed imports if they were unintentionally importing from a module that also was importing that module. For example, consider</p>
<pre><code>from mylib.a import A1
from mylib.b import B, A2
from mylib.c import C, A3
</code></pre>
<p>A1, A2, and A3 are all actually defined in <code>mylib.a</code>; <code>mylib.b</code> and <code>mylib.c</code> just happen to also be using A2 and A3. The A2 and A3 imports in the above snippet should be marked as fixable errors.</p>
<p>This should be considered bad because</p>
<ol>
<li>you might be importing more things than necessary. If you were just grabbing <code>A2</code> from <code>mylib.b</code>, then loading <code>mylib.b</code> was needless.</li>
<li>this is fragile, as A2 might move around in <code>mylib.b</code> or be removed one day.</li>
</ol>
<p>Possibly only for first-party and local imports</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-10-07 16:11</div>
            <div class="timeline-body"><p>I think this is a duplicate of https://github.com/astral-sh/ruff/issues/19559.</p>
<p>But I agree that it sounds like a useful rule! We just need multi-file analysis/type inference to enable it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-10-07 16:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:38:31 UTC
    </footer>
</body>
</html>
