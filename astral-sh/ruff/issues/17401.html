<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨FR: quote-style = &quot;smart&quot; - astral-sh/ruff #17401</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>✨FR: quote-style = &quot;smart&quot;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17401">#17401</a>
        opened by <a href="https://github.com/dotysan">@dotysan</a>
        on 2025-04-14 23:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dotysan">@dotysan</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Wonder if others would like to have ruff enforce this Perl-esque formatting?</p>
<ul>
<li><code>'normal string'</code> &lt;= un-expanding strings are still single-quoted</li>
<li><code>f&quot;formatted {foo}&quot;</code> &lt;= double-quotes here!</li>
<li><code>&quot;don't&quot;</code> and other exceptions still use double-quotes for readability</li>
</ul>
<p>Instead of blindly forcing all strings one way or the other (&quot;double&quot; | &quot;single&quot;). Or blindly accepting my possibly poorly written code (&quot;preserve&quot;). I propose a feature <code>quote-style = &quot;smart&quot;</code> (or some other name) that enforces single-quotes when it can, but always uses double-quotes for f-strings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @AlexWaygood on 2025-04-15 07:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @AlexWaygood on 2025-04-15 07:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> removed by @MichaReiser on 2025-04-21 10:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">style</span> added by @MichaReiser on 2025-04-21 10:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">style</span> removed by @MichaReiser on 2025-04-21 10:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @MichaReiser on 2025-04-21 10:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-22 09:07</div>
            <div class="timeline-body"><p>Ruff already gives you the &quot;smart&quot; behavior in that it picks the opposite quote when it helps to avoid escape sequences (<code>&quot;don't&quot;</code> instead of <code>'don\'t'</code> when using <code>quote-style=&quot;single&quot;</code>). The feature that's missing for what you describe is a more flexible quote configuration that allows specifying the preferred quote style for:</p>
<ul>
<li>normal strings</li>
<li>f-strings</li>
<li>(in the future) template strings</li>
</ul>
<p>Unfortunately, that won't be enough for some use cases. We would also have to support:</p>
<ul>
<li>docstrings</li>
<li>all of the above when using a triple quoted strings</li>
</ul>
<p>We intentionally decided against such a flexible configuration because it makes configuring the most common usages harder and the community has aligned around using either single quotes or double quotes. You can read more about our decision on the quote-style setting in https://github.com/astral-sh/ruff/issues/7615</p>
<p>The proposed settings would also require extending the <code>flake8-quotes</code> setting to be at least as flexible.</p>
<p>Because of the complexity it introduces for everyone, I don't see us supporting this unless there's wider demand for it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-04-22 09:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dotysan">@dotysan</a> on 2025-04-22 16:46</div>
            <div class="timeline-body"><p>Thank you for the careful consideration and explanation!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:34 UTC
    </footer>
</body>
</html>
