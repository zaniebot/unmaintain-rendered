```yaml
number: 6807
title: False-positive F401 when typing is used in comment
type: issue
state: closed
author: mmhw
labels: []
assignees: []
created_at: 2023-08-23T09:26:10Z
updated_at: 2023-08-23T13:29:35Z
url: https://github.com/astral-sh/ruff/issues/6807
synced_at: 2026-01-10T01:56:49Z
```

# False-positive F401 when typing is used in comment

---

_Issue opened by @mmhw on 2023-08-23 09:26_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->
```python
from typing import List, Callable, Tuple


keys = [
        ('IP', 'ip', str),
        ('Domain', 'domain', str)
]  # type: List[Tuple[str, str, Callable]]
```
`ruff --isolated file.py` (0.0.285) gives

> file.py:1:20: F401 [\*] `typing.Callable` imported but unused
file.py:1:30: F401 [\*] `typing.Tuple` imported but unused
file.py:1:37: F401 [\*] `typing.List` imported but unused
Found 3 errors.
[\*] 3 potentially fixable with the --fix option.

But if i remove the imports and run `mypy file.py` (1.5.1) i get the following error:

> file.py:1: error: Name "List" is not defined  [name-defined]
file.py:1: note: Did you forget to import it from "typing"? (Suggestion: "from typing import List")
Found 1 error in 1 file (checked 1 source file)

---

_Comment by @charliermarsh on 2023-08-23 13:29_

I believe this is the same as: https://github.com/astral-sh/ruff/issues/1619.

---

_Closed by @charliermarsh on 2023-08-23 13:29_

---
