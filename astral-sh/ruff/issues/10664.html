<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`ICN003`: Allow banning all `from` stdlib imports - astral-sh/ruff #10664</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>ICN003</code>: Allow banning all <code>from</code> stdlib imports</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10664">#10664</a>
        opened by <a href="https://github.com/Grub4K">@Grub4K</a>
        on 2024-03-29 22:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Grub4K">@Grub4K</a></div>
            <div class="timeline-body">

<p>Our project decided to no longer allow stdlib imports with <code>from</code> due to potentially clashing naming causing confusion.
We are currently resorting to including every stdlib in the <code>flake8-import-conventions</code> <code>banned-from</code> setting:</p>
<pre><code>[tool.ruff.lint.flake8-import-conventions]
banned-from = [&quot;abc&quot;, &quot;aifc&quot;, &quot;antigravity&quot;, &quot;argparse&quot;, &quot;array&quot;, &quot;ast&quot;, &quot;asynchat&quot;, &quot;asyncio&quot;, &quot;asyncore&quot;, &quot;atexit&quot;, &quot;...&quot;]
</code></pre>
<p>However this is very cumbersome. Is there a possiblity of referencing all stdlib modules? A shortcut like this could perhaps also be used for different importing settings.</p>
<p>I&#x27;ve searched for <code>ICN003</code>, <code>banned-from</code> and <code>banned-import-from</code>, but could not find anything related.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-30 00:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-04-01 08:57</div>
            <div class="timeline-body"><p>Thanks for the clear write-up!</p>
<p>I would rather go with adding this as a separate rule. @charliermarsh Is this why you marked this with &quot;rule&quot; label?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-02 02:58</div>
            <div class="timeline-body"><p>Why a separate rule if it&#x27;s the same idea?</p>
<p>cc @AlexWaygood</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-02 02:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-02 03:37</div>
            <div class="timeline-body"><blockquote>
<p>Is this why you marked this with &quot;rule&quot; label?</p>
</blockquote>
<p>(No, the &quot;rule&quot; label can represent either a new rule or a change to an existing rule.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-04-05 10:00</div>
            <div class="timeline-body"><blockquote>
<p>Why a separate rule if it&#x27;s the same idea?</p>
</blockquote>
<p>This might be a stretch but it could lead to name collisions. So, we could either have &quot;stdlib&quot; as a possible value or maybe provide a new config option for that rule (<code>banned-from-stdlib = true</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-04-05 14:49</div>
            <div class="timeline-body"><p>I&#x27;m curious why the stdlib would be special in terms of &quot;potentially clashing naming causing confusion.&quot; What about other third-party libraries? Should the option here really be <code>banned-from-non-first-party</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Grub4K">@Grub4K</a> on 2024-04-05 18:45</div>
            <div class="timeline-body"><p>Maybe <code>banned-from-non-first-party</code> could have <code>&quot;stdlib&quot;</code> as a sentinel to signify only stdlib for that case? Having it as a boolean option alone could mean not having enough granular control over what to ban?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Grub4K">@Grub4K</a> on 2025-12-25 17:06</div>
            <div class="timeline-body"><blockquote>
<p>This might be a stretch but it could lead to name collisions</p>
</blockquote>
<p>This could be avoided if we use something that is invalid as a name, like <code>:all:</code>. pip does this for <code>--no-binary</code> for example</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:52 UTC
    </footer>
</body>
</html>
