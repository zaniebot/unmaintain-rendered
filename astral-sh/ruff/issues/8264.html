<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider preferring preferred quote style if both styles require backslashes - astral-sh/ruff #8264</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider preferring preferred quote style if both styles require backslashes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8264">#8264</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-10-26 22:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-26 22:42</div>
            <div class="timeline-body"><p>Given:</p>
<pre><code class="language-python">&quot;json enter input={'a': 2} kwargs={\&quot;strict\&quot;: None, \&quot;context\&quot;: {\&quot;c\&quot;: 2}}&quot;
</code></pre>
<p>Black will reformat as:</p>
<pre><code class="language-python">'json enter input={\'a\': 2} kwargs={&quot;strict&quot;: None, &quot;context&quot;: {&quot;c&quot;: 2}}'
</code></pre>
<p>Ruff does the same thing, so it's not a compatibility issue. But I'm wondering if it makes more sense to bias towards the preferred quote style if you need backslashes regardless (even if the non-preferred style results in <em>fewer</em> backslashes).</p>
<p>This came up in the Pydantic migration: https://github.com/pydantic/pydantic/pull/7930/files#r1373829517</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @charliermarsh on 2023-10-26 22:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pydantic/pydantic/pulls/7930.html">pydantic/pydantic#7930</a> on 2023-10-26 22:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2023-10-26 23:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-26 23:24</div>
            <div class="timeline-body"><p>I'm leaning toward Black compatibility. It doesn't seem we have strong reasoning to diverge. E.g. for the above example, I find Black's formatting easier to read and it results in a shorter string overall.</p>
<pre><code>&quot;json enter input={'a': 2} kwargs={\&quot;strict\&quot;: None, \&quot;context\&quot;: {\&quot;c\&quot;: 2}}&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @MichaReiser on 2023-10-26 23:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2023-10-26 23:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">style</span> added by @MichaReiser on 2023-10-26 23:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @MichaReiser on 2023-10-27 02:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-11-28 06:09</div>
            <div class="timeline-body"><p>It doesn't seem to have come up again. We can improve our documentation if this comes up more often. @charliermarsh feel free to re-open if you disagree with my decision.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2023-11-28 06:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:10 UTC
    </footer>
</body>
</html>
