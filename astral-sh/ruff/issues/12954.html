<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLW0642 flags inplace operators called on self - astral-sh/ruff #12954</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>PLW0642 flags inplace operators called on self</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12954">#12954</a>
        opened by <a href="https://github.com/Skylion007">@Skylion007</a>
        on 2024-08-17 15:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Skylion007">@Skylion007</a> on 2024-08-17 15:33</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<pre><code>ruff check --select=&quot;PLW0642&quot;
</code></pre>
<pre><code class="language-python">    def symmetric_difference_update(self, other: Iterable[T]) -&gt; None:
         self ^= other  # type: ignore[operator, arg-type]
</code></pre>
<p>is errantly flagged by PLW0642, but I am in these case I'm calling an overloaded function <code>operator.ixor</code> on self, not trying to assign a new variable to it. The former would have an actual side affect here, while the later would not affect it at all (which this bug is trying to catch).</p>
<p>In this case, <code>other</code> is a set, and I can update typing if that the typing is what is confusing ruff, but I wanted to
version: <code>ruff 0.6.0</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-17 17:11</div>
            <div class="timeline-body"><p>It makes sense to me to exclude augmented assignments from this rule, and it would also mean we'd have more similar behaviour to pylint here. (Pylint seems to ignore augmented assignments for their version of this rule -- though they also ignore annotated assignments, which makes less sense to me.)</p>
<p>@diceroll123 -- was there a specific reason you decided to differ from pylint's behaviour here when you added this rule in https://github.com/astral-sh/ruff/pull/9267? :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @AlexWaygood on 2024-08-17 17:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/diceroll123">@diceroll123</a> on 2024-08-17 17:20</div>
            <div class="timeline-body"><p>Oversight on my part.</p>
<p>Is the desire to remove augmented assignments and keep annotated? ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-17 17:21</div>
            <div class="timeline-body"><blockquote>
<p>Is the desire to remove augmented assignments and keep annotated? ðŸ˜„</p>
</blockquote>
<p>Yeah, I think so!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @AlexWaygood on 2024-08-17 17:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">accepted</span> added by @AlexWaygood on 2024-08-17 17:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @AlexWaygood on 2024-08-17 17:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/12957.html">astral-sh/ruff#12957</a> on 2024-08-17 20:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-08-18 15:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:13 UTC
    </footer>
</body>
</html>
