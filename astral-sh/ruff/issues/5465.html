<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJ012 triggers one violation per missplaced database field. Could be grouped as one single one? - astral-sh/ruff #5465</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>DJ012 triggers one violation per missplaced database field. Could be grouped as one single one?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5465">#5465</a>
        opened by <a href="https://github.com/EricDepagne">@EricDepagne</a>
        on 2023-07-02 19:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/EricDepagne">@EricDepagne</a></div>
            <div class="timeline-body"><p>Hi all.
I&#x27; m using Ruff with a django project.
Whenever DJ012 is triggered (which in my case  is when Meta Class is before the database fields fields), each violation of the same rule in the same model is counted as one.
Would it be possible to group them all tgether, as they are technically the same, so to report only one?</p>
<p>Here&#x27; s a short example:</p>
<pre><code>class Activity(models.Model):
    &quot;&quot;&quot;
    Define an activity
    &quot;&quot;&quot;

    class Meta:
        verbose_name_plural = &quot;Activities&quot;
    name = models.CharField(max_length=50, blank=True)
    temp = ArrayField(
        models.PositiveSmallIntegerField(blank=True, default=0, null=True),
        default=list,
    )

</code></pre>
<p>will trigger two violations, as they are two fields after the class Meta that will trigger the rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-02 20:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-02 20:01</div>
            <div class="timeline-body"><p>Yeah, I think this would be better behavior. Nice idea.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-03 00:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-03 01:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EricDepagne">@EricDepagne</a> on 2023-07-03 06:08</div>
            <div class="timeline-body"><p>Wow! that&#x27; s an amazing time to fix a very minor issue that I only reported because I thought it might be a good idea!
Thank you so much!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:38 UTC
    </footer>
</body>
</html>
