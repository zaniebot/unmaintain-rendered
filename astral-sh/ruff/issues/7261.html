<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON schema should contain `&quot;NURSERY&quot;` - astral-sh/ruff #7261</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>JSON schema should contain <code>&quot;NURSERY&quot;</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/7261">#7261</a>
        opened by <a href="https://github.com/bersbersbers">@bersbersbers</a>
        on 2023-09-10 16:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bersbersbers">@bersbersbers</a></div>
            <div class="timeline-body"><p><code>&quot;NURSERY&quot;</code> is missing here
https://github.com/astral-sh/ruff/blob/9cb5ce750e9dead53eb8235e8cfb7cff653a1cd2/ruff.schema.json#L1683-L2754</p>
<p>leading to errors such as this:</p>
<p><img src="https://github.com/astral-sh/ruff/assets/12128514/1138220b-6dac-4418-b89e-60e2bc5ba515" alt="image"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-09-10 17:02</div>
            <div class="timeline-body"><p>This may be addressed by #7195</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bersbersbers">@bersbersbers</a> on 2023-09-11 18:39</div>
            <div class="timeline-body"><blockquote>
<p>This may be addressed by #7195</p>
</blockquote>
<p>Doesn&#x27;t look like it to me: https://github.com/astral-sh/ruff/commit/6566d00295b93af489e0d64d26d05138f5500f00#diff-0a03bc8f85db936902b6bfe61e0893160ee1c00de4253de91aa4fdb00202d73f doesn&#x27;t seem to add <code>&quot;NURSERY&quot;</code> nor <code>&quot;PREVIEW&quot;</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-11 18:41</div>
            <div class="timeline-body"><p>I think these are manually excluded. The original intent was to hide them from autocompleting since we wanted to discourage ALL usage. But it ends up being too confusing that they’re marked as errors (we should fix).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-09-11 18:44</div>
            <div class="timeline-body"><p>I think we&#x27;ll want to exclude NURSERY since it&#x27;s deprecated but include PREVIEW — I need to do a bit more work to decide if a PREVIEW selector makes sense though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-11 18:45</div>
            <div class="timeline-body"><p>In the case of nursery… I’m not sure — it seems wrong to mark a valid value as invalid.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-09-11 18:49</div>
            <div class="timeline-body"><p>It&#x27;s only valid as in &quot;if you are using it currently we will not break your workflow on the next release&quot; — I hope to remove it entirely soon. I could go either way on including it in the schema but would generally prefer to push people not to use it. Perhaps we can use a <code>deprecated</code> keyword per <a href="https://github.com/json-schema-org/json-schema-spec/pull/737">json-schema-org/json-schema-spec#737</a></p>
<p>If someone wants to look into support for marking schema items as deprecated I&#x27;d be curious to review :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-14 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-14 00:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-14 18:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:42 UTC
    </footer>
</body>
</html>
