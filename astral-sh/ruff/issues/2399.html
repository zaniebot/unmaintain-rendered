<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIM103: false positive - astral-sh/ruff #2399</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>SIM103: false positive</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/2399">#2399</a>
        opened by <a href="https://github.com/spaceone">@spaceone</a>
        on 2023-01-31 15:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/spaceone">@spaceone</a> on 2023-01-31 15:58</div>
            <div class="timeline-body"><pre><code>def foo(exc):
    if exc.getcode() == 401:
        return False
    else:
        return False
</code></pre>
<p>causes:
<code>foo.py:2:5: SIM103 Return the condition `exc.getcode() == 401` directly</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-01-31 17:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 17:26</div>
            <div class="timeline-body"><p>Definitely a bug, but where did you run into this :joy:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2023-01-31 17:39</div>
            <div class="timeline-body"><p>https://github.com/univention/univention-corporate-server/commit/37e560e5282fab764ff6496131b28bf0d492b900#diff-45af649ef64d42abac0d51f47809588eaf0aff8501ff6fc0dc6a8580134f25c1R141-R144 ;-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-01-31 17:40</div>
            <div class="timeline-body"><p>Amazing ðŸ˜†</p>
<p><code>SIM103</code> definitely doesn't make sense. It could become:</p>
<pre><code class="language-python">def foo(exc):
    exc.getcode()  # Still have to call because of potential side effects.
    return False
</code></pre>
<p>But then there could also be side effects if someone overloaded <code>__eq__</code> to do some evil... ðŸ™ˆ</p>
<p>Maybe a check to identify that all branches have the same statements within?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-01-31 17:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2404.html">astral-sh/ruff#2404</a> on 2023-01-31 17:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-31 17:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:08 UTC
    </footer>
</body>
</html>
