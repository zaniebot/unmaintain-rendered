<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add UP rule: rewrite TypeVar defaults for Generator / AsyncGenerator - astral-sh/ruff #13269</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add UP rule: rewrite TypeVar defaults for Generator / AsyncGenerator</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13269">#13269</a>
        opened by <a href="https://github.com/hugovk">@hugovk</a>
        on 2024-09-06 12:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hugovk">@hugovk</a></div>
            <div class="timeline-body">

<p>There&#x27;s a new check in pyupgrade to rewrite using PEP 696 TypeVar defaults:</p>
<ul>
<li>https://github.com/asottile/pyupgrade#pep-696-typevar-defaults</li>
<li>https://github.com/asottile/pyupgrade/pull/948</li>
</ul>
<pre><code>from collections.abc import Generator, AsyncGenerator

-def f() -&gt; Generator[int, None, None]:
+def f() -&gt; Generator[int]:
     yield 1
</code></pre>
<pre><code>from collections.abc import Generator, AsyncGenerator

-async def f() -&gt; AsyncGenerator[int, None]:
+async def f() -&gt; AsyncGenerator[int]:
     yield 1
</code></pre>
<p>See the <a href="https://github.com/asottile/pyupgrade/pull/948">asottile/pyupgrade#948</a>/files for some variations.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-09-07 12:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-09-07 12:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">accepted</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-09-07 12:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vieira127">@vieira127</a> on 2024-09-07 12:47</div>
            <div class="timeline-body"><p>May I work on this one?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/vieira127">@vieira127</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-09 11:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vieira127">@vieira127</a> on 2024-09-22 10:38</div>
            <div class="timeline-body"><p>I think we already have this rule implemented: UP043</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-22 11:00</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:57 UTC
    </footer>
</body>
</html>
