<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement remaining `pycodestyle` rules - astral-sh/ruff #2402</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement remaining <code>pycodestyle</code> rules</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2402">#2402</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-01-31 17:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>Note: some of the checked-off rules are still gated behind the <code>logical_lines</code> feature flag. To see the list of rules enabled in the current release, refer to the <a href="https://github.com/charliermarsh/ruff#error-e">docs</a>.</p>
E1  Indentation
<ul>
<li>[x] <code>E101</code> (&quot;indentation contains mixed spaces and tabs&quot;)</li>
<li>[x] <code>E111</code> (&quot;indentation is not a multiple of four&quot;)</li>
<li>[x] <code>E112</code> (&quot;expected an indented block&quot;)</li>
<li>[x] <code>E113</code> (&quot;unexpected indentation&quot;)</li>
<li>[x] <code>E114</code> (&quot;indentation is not a multiple of four (comment)&quot;)</li>
<li>[x] <code>E115</code> (&quot;expected an indented block (comment)&quot;)</li>
<li>[x] <code>E116</code> (&quot;unexpected indentation (comment)&quot;)</li>
<li>[x] <code>E117</code> (&quot;over-indented&quot;)</li>
<li>[ ] <code>E122</code> (&quot;continuation line missing indentation or outdented&quot;)</li>
<li>[ ] <code>E124</code> (&quot;closing bracket does not match visual indentation&quot;)</li>
<li>[ ] <code>E125</code> (&quot;continuation line with same indent as next logical line&quot;)</li>
<li>[ ] <code>E127</code> (&quot;continuation line over-indented for visual indent&quot;)</li>
<li>[ ] <code>E128</code> (&quot;continuation line under-indented for visual indent&quot;)</li>
<li>[ ] <code>E129</code> (&quot;visually indented line with same indent as next logical line&quot;)</li>
<li>[ ] <code>E131</code> (&quot;continuation line unaligned for hanging indent&quot;)</li>
</ul>
E2  Whitespace
<ul>
<li>[x] <code>E201</code> (&quot;whitespace after ‚Äò(‚Äô&quot;)</li>
<li>[x] <code>E202</code> (&quot;whitespace before ‚Äò)‚Äô&quot;)</li>
<li>[x] <code>E203</code> (&quot;whitespace before ‚Äò,‚Äô, ‚Äò;‚Äô, or ‚Äò:‚Äô&quot;)</li>
<li>[x] <code>E211</code> (&quot;whitespace before ‚Äò(‚Äô&quot;)</li>
<li>[x] <code>E221</code> (&quot;multiple spaces before operator&quot;)</li>
<li>[x] <code>E222</code> (&quot;multiple spaces after operator&quot;)</li>
<li>[x] <code>E223</code> (&quot;tab before operator&quot;)</li>
<li>[x] <code>E224</code> (&quot;tab after operator&quot;)</li>
<li>[x] <code>E225</code> (&quot;missing whitespace around operator&quot;)</li>
<li>[x] <code>E227</code> (&quot;missing whitespace around bitwise or shift operator&quot;)</li>
<li>[x] <code>E228</code> (&quot;missing whitespace around modulo operator&quot;)</li>
<li>[x] <code>E231</code> (&quot;missing whitespace after ‚Äò,‚Äô, ‚Äò;‚Äô, or ‚Äò:‚Äô&quot;)</li>
<li>[x] <code>E251</code> (&quot;unexpected spaces around keyword / parameter equals&quot;)</li>
<li>[x] <code>E261</code> (&quot;at least two spaces before inline comment&quot;)</li>
<li>[x] <code>E262</code> (&quot;inline comment should start with ‚Äò# ‚Äò&quot;)</li>
<li>[x] <code>E265</code> (&quot;block comment should start with ‚Äò# ‚Äò&quot;)</li>
<li>[x] <code>E266</code> (&quot;too many leading ‚Äò#‚Äô for block comment&quot;)</li>
<li>[x] <code>E271</code> (&quot;multiple spaces after keyword&quot;)</li>
<li>[x] <code>E272</code> (&quot;multiple spaces before keyword&quot;)</li>
<li>[x] <code>E273</code> (&quot;tab after keyword&quot;)</li>
<li>[x] <code>E274</code> (&quot;tab before keyword&quot;)</li>
<li>[x] <code>E275</code> (&quot;missing whitespace after keyword&quot;)</li>
</ul>
E3  Blank line
<ul>
<li>[x] <code>E301</code> (&quot;expected 1 blank line, found 0&quot;)</li>
<li>[x] <code>E302</code> (&quot;expected 2 blank lines, found 0&quot;)</li>
<li>[x] <code>E303</code> (&quot;too many blank lines (3)&quot;)</li>
<li>[x] <code>E304</code> (&quot;blank lines found after function decorator&quot;)</li>
<li>[x] <code>E305</code> (&quot;expected 2 blank lines after end of function or class&quot;)</li>
<li>[x] <code>E306</code> (&quot;expected 1 blank line before a nested definition&quot;)</li>
</ul>
E4  Import
<ul>
<li>[x] <code>E401</code> (&quot;multiple imports on one line&quot;)</li>
<li>[x] <code>E402</code> (&quot;module level import not at top of file&quot;)</li>
</ul>
E5  Line length
<ul>
<li>[x] <code>E501</code> (&quot;line too long (82 &gt; 79 characters)&quot;)</li>
<li>[x] <code>E502</code> (&quot;the backslash is redundant between brackets&quot;)</li>
</ul>
E7  Statement
<ul>
<li>[x] <code>E701</code> (&quot;multiple statements on one line (colon)&quot;)</li>
<li>[x] <code>E702</code> (&quot;multiple statements on one line (semicolon)&quot;)</li>
<li>[x] <code>E703</code> (&quot;statement ends with a semicolon&quot;)</li>
<li>[ ] <code>E704</code> (&quot;multiple statements on one line (def)&quot;)</li>
<li>[x] <code>E711</code> (&quot;comparison to None should be ‚Äòif cond is None:‚Äô&quot;)</li>
<li>[x] <code>E712</code> (&quot;comparison to True should be ‚Äòif cond is True:‚Äô or ‚Äòif cond:‚Äô&quot;)</li>
<li>[x] <code>E713</code> (&quot;test for membership should be ‚Äònot in‚Äô&quot;)</li>
<li>[x] <code>E714</code> (&quot;test for object identity should be ‚Äòis not‚Äô&quot;)</li>
<li>[x] <code>E721</code> (&quot;do not compare types, use ‚Äòisinstance()‚Äô&quot;)</li>
<li>[x] <code>E722</code> (&quot;do not use bare except, specify exception instead&quot;)</li>
<li>[x] <code>E731</code> (&quot;do not assign a lambda expression, use a def&quot;)</li>
<li>[x] <code>E741</code> (&quot;do not use variables named ‚Äòl‚Äô, ‚ÄòO‚Äô, or ‚ÄòI‚Äô&quot;)</li>
<li>[x] <code>E742</code> (&quot;do not define classes named ‚Äòl‚Äô, ‚ÄòO‚Äô, or ‚ÄòI‚Äô&quot;)</li>
<li>[x] <code>E743</code> (&quot;do not define functions named ‚Äòl‚Äô, ‚ÄòO‚Äô, or ‚ÄòI‚Äô&quot;)</li>
</ul>
E9  Runtime
<ul>
<li>[x] <code>E901</code> (&quot;SyntaxError or IndentationError&quot;)</li>
<li>[x] <code>E902</code> (&quot;IOError&quot;)</li>
</ul>
W1  Indentation warning
<ul>
<li>[x] <code>W191</code> (&quot;indentation contains tabs&quot;)</li>
</ul>
W2  Whitespace warning
<ul>
<li>[x] <code>W291</code> (&quot;trailing whitespace&quot;)</li>
<li>[x] <code>W292</code> (&quot;no newline at end of file&quot;)</li>
<li>[x] <code>W293</code> (&quot;blank line contains whitespace&quot;)</li>
</ul>
W3  Blank line warning
<ul>
<li>[x] <code>W391</code> (&quot;blank line at end of file&quot;)</li>
</ul>
W5. Line break warning
<ul>
<li>[x] <code>W505</code> (&quot;doc line too long (82 &gt; 79 characters)&quot;)</li>
</ul>
W6  Deprecation warning
<ul>
<li>[x] <code>W605</code> (&quot;invalid escape sequence ‚Äòx‚Äô&quot;)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 17:35</div>
            <div class="timeline-body"><p>I&#x27;m happy to support these, but I likely won&#x27;t enable them by default -- I&#x27;d like them to be opt-in.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 17:35</div>
            <div class="timeline-body"><p>(Also that tabulation is incomplete, but I&#x27;ll finish it up later!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 17:35</div>
            <div class="timeline-body"><p>\cc @saadmk11</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 22:09</div>
            <div class="timeline-body"><p>I&#x27;ve updated this lint to include all the current <code>pydocstyle</code> rules, less those that are ignored in the default configuration and those that deal with pre-Python 3.7 code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 23:59</div>
            <div class="timeline-body"><p>First we need #1130.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-02 04:30</div>
            <div class="timeline-body"><p>So far I have seven more rules done in #1130.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pierrepo">@pierrepo</a> on 2023-02-02 19:41</div>
            <div class="timeline-body"><p>Thanks for this @charliermarsh
I&#x27;m using a lot <code>pycodestyle</code> and <code>pydocstyle</code> with my students to teach them PEP8 and PEP257. Using <code>ruff</code> will be a great plus.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-05 00:55</div>
            <div class="timeline-body"><p>#1130 is up to 14 rules. Just trying to knock out a few each days.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-08 04:42</div>
            <div class="timeline-body"><p>Knocked out eight more rules behind the feature flag.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-09 03:57</div>
            <div class="timeline-body"><p>Four more done.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-26 21:33</div>
            <div class="timeline-body"><p>One more in #3225.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-27 15:36</div>
            <div class="timeline-body"><p>One more in <a href="https://github.com/charliermarsh/ruff/pull/3249">charliermarsh/ruff#3249</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-05 20:05</div>
            <div class="timeline-body"><p>One more in <a href="https://github.com/charliermarsh/ruff/pull/3344">charliermarsh/ruff#3344</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kapilt">@kapilt</a> on 2023-03-14 09:52</div>
            <div class="timeline-body"><p>rust newb, if someone wants to try this feature set, how do we build ruff with logical-line feature flag support and these style rules enabled?</p>
<p>[update]
this seems to do it, following along on contributing.md</p>
<pre><code>git clone https://github.com/charliermarsh/ruff.git
cd ruff
cargo build --all-features --release
cp target/release/ruff ~/bin
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2023-03-14 10:40</div>
            <div class="timeline-body"><blockquote>
<p>rust newb, if someone wants to try this feature set, how do we build ruff with logical-line feature flag support and these style rules enabled?</p>
</blockquote>
<p>@charliermarsh I would like to have a pip release for ruff with that special feature as pip/setup.py &quot;package option&quot; / &quot;extra&quot;/ &quot;extras_require&quot; enabled. So that you can call <code>pip install ruff[logical-line]</code> and have this enabled. Maybe it&#x27;s possible to achieve that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-14 19:12</div>
            <div class="timeline-body"><p>I&#x27;m hoping that we can finish and release this soon enough that it&#x27;s not worth shipping an <code>extra_requires</code> variant. (And if not, I&#x27;d probably rather ship with a command-line or feature flag rather than an <code>extras</code>, so that it&#x27;s available regardless of how you install Ruff.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2023-04-27 04:52</div>
            <div class="timeline-body"><p>This conquest is awesome!  I see many of these as being checked (e.g. <code>E2</code> whitespace is done).</p>
<p>Just a friendly request that these get eventually added to the Rules in docs: https://beta.ruff.rs/docs/rules/#error-e</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/calumy">@calumy</a> on 2023-04-27 11:51</div>
            <div class="timeline-body"><blockquote>
<p>Just a friendly request that these get eventually added to the Rules in docs: https://beta.ruff.rs/docs/rules/#error-e</p>
</blockquote>
<p>I believe this will be added when #3689 lands, as documenting a rule before it has been enabled will potentially cause some confusion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2023-05-24 08:07</div>
            <div class="timeline-body"><p>I&#x27;ll take a look at E303.</p>
<p>EDIT: I&#x27;m doing all of <code>E3 Blank line</code> since they are closely related.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/devbis">@devbis</a> on 2023-05-25 06:54</div>
            <div class="timeline-body"><p>E241 and E242 is missing in the list for pycodestyle.</p>
<p>E241  | multiple spaces after &#x27;,&#x27;
E242 | tab after &#x27;,&#x27;</p>
<p>Can you please add it to the checks?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-25 13:30</div>
            <div class="timeline-body"><p>I believe those are intentionally omitted -- we&#x27;re not planning to implement the rules that are omitted from pycodestyle&#x27;s default configuration (&quot;not unanimously accepted, and PEP 8 does not enforce them&quot;), at least not to start.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2023-06-17 07:53</div>
            <div class="timeline-body"><p>I&#x27;m looking into <code>E122</code> (and I&#x27;ll follow with the other <code>E1</code> rules after unless someones is working on them).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MartinRoth">@MartinRoth</a> on 2023-07-06 07:45</div>
            <div class="timeline-body"><p>Hello,</p>
<p>I just stumbled about a peculiar behaviour of E714. I had fixed the lint but forgot to remove the first not, i.e. I changed the first if statement to the second below and ruff (I am using ruff version v0.0.275 and v.0.0.277) didn&#x27;t complain anymore.</p>
<pre><code>a = 8

if not a is None:
    print(a)

if not a is not None:
    print(a)
</code></pre>
<p>I think the lint should also check for the second version, or am I wrong?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2023-08-03 13:44</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m hoping that we can finish and release this soon enough that it&#x27;s not worth shipping an <code>extra_requires</code> variant. (And if not, I&#x27;d probably rather ship with a command-line or feature flag rather than an <code>extras</code>, so that it&#x27;s available regardless of how you install Ruff.)</p>
</blockquote>
<p>I think this will take a lot of extra time right? Maybe it&#x27;s possible to add that command line flag already?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ksunden">@ksunden</a> on 2023-09-20 00:10</div>
            <div class="timeline-body"><p>Gentle voice of support for E122 and E302 (the latter being included in #4694 which has been in draft for a while.) (ping @hoel-bagard, as both author of that PR and as the one who said you were looking into E122)</p>
<p>These are the last two rules from Matplotlib&#x27;s flake8 config. Once available, I&#x27;d look into swapping over CI/pre-commit hooks to ruff (and then perhaps look into adding more checks, though for now have gone with &quot;parity&quot;)</p>
<p>We do not use <code>black</code>, so these are checks which fall into the category of &quot;black would just handle them&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2023-09-20 00:35</div>
            <div class="timeline-body"><p>@ksunden Sorry for taking a long time, for E302, I have started to see if I could find a way to handle comments with the tools currently present in ruff (otherwise a new tool/way of tracking tokens will need to be implemented as suggested in the PR). I was a bit busy recently, but I should be able to spend more time on it in the near future.</p>
<p>For E122, I&#x27;ve just edited my comment saying I was looking into it. A while ago I asked a question on the discord, but did not get an answer (and then I went back to working on the E302 rule and forgot about it). I could restart working on it assuming that having a token emitted for the backslash is fine, in which case it shouldn&#x27;t take too much time.</p>
<blockquote>
<p>I&#x27;m looking into adding the E122 rule of pycodestyle (https://www.flake8rules.com/rules/E122.html). It&#x27;s a rule that checks for indentation within continuation lines.</p>
</blockquote>
<blockquote>
<p>Implementing it using logical lines seemed natural (and that&#x27;s what pycodestyle does). It seems like it would work for continuation lines made using parentheses since a NonLogicalNewline is emitted for the new line.
However, when using a backslash (case covered by pycodestyle), no NonLogicalNewline token is created, rendering it impossible to know if there is a newline within the logical line.</p>
<p>Could a NonLogicalNewline be emitted when there is a backslash, or does the rule need to be implemented using physical lines ?</p>
<p>Example with parentheses:</p>
<pre><code>print(&quot;E122&quot;, (
&quot;dent&quot;))
</code></pre>
<p>Example using a backslash:</p>
<pre><code>if some_very_very_very_long_variable_name or var \
or another_very_long_variable_name:
    raise Exception()
</code></pre>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shikari08">@shikari08</a> on 2023-10-26 15:41</div>
            <div class="timeline-body"><p>Is there an update on when E3 Blank line will get released?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2023-10-28 11:12</div>
            <div class="timeline-body"><p>I&#x27;ve been doing the <code>E122</code> rule. I&#x27;m at a point where it&#x27;s working, but I need to clean things up ~~and add the autofix~~ and the config options. I&#x27;ll go back to the E3 rule once that&#x27;s done.</p>
<p>Edit:</p>
<ul>
<li>I&#x27;ve opened <a href="https://github.com/astral-sh/ruff/pull/8557">a PR for <code>E122</code></a> (without the autofix).</li>
<li>I&#x27;ve opened <a href="https://github.com/astral-sh/ruff/pull/8720">a PR for the <code>E3</code> rules</a> and their autofix.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2023-12-14 07:34</div>
            <div class="timeline-body"><p><code>W391</code> is checked but I don&#x27;t see the rule in Ruff</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2024-02-18 10:05</div>
            <div class="timeline-body"><p>@charliermarsh Since #9266 got merged, the <code>E3</code> rules can be checked here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spaceone">@spaceone</a> on 2024-02-18 13:18</div>
            <div class="timeline-body"><p>Are meanwhile all above checked rules now available, at least behind the <a href="https://docs.astral.sh/ruff/preview/#enabling-preview-mode">preview</a> flag?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-18 14:17</div>
            <div class="timeline-body"><p>@spaceone - Yup, they&#x27;re all behind <code>--preview</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2024-02-28 15:41</div>
            <div class="timeline-body"><p>How to handle problems with <code>--preview</code> error codes? Report them here or open an extra issue?</p>
<p>E303 (too-many-blank-lines) not working on this file for example:</p>
<pre><code># foo.py
class Foo:
    def __init__(self):
        pass


    def two(self):
        pass
</code></pre>
<p>Calling ruff 0.2.2 via <code>ruff foo.py --preview</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2024-02-28 23:25</div>
            <div class="timeline-body"><p>@buhtz Have you selected the E303 rule ? For example with:</p>
<pre><code>ruff foo.py --preview --select E3
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2024-02-29 08:45</div>
            <div class="timeline-body"><blockquote>
<p>@buhtz Have you selected the E303 rule ? For example with:</p>
<pre><code>ruff foo.py --preview --select E3
</code></pre>
</blockquote>
<p>No, I have not. As <a href="https://github.com/astral-sh/ruff/discussions/10153#discussioncomment-8622602">discussed here</a> and how I understand <a href="https://docs.astral.sh/ruff/preview/#enabling-preview-mode">the docs</a> the <code>--preview</code> flag to select all &quot;preview&quot; (unstable, new) rules.</p>
<p><strong>EDIT</strong>: IMHO the docs are misleading.</p>
<pre><code>$ ruff foo.py --preview --select E303
foo.py:7:5: E303 [*] Too many blank lines (2)
  |
7 |     def two(self):
  |     ^^^ E303
8 |         pass
  |
  = help: Remove extraneous blank line(s)

Found 1 error.
[*] 1 fixable with the `--fix` option.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baco">@baco</a> on 2024-02-29 12:32</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>@buhtz Have you selected the E303 rule ? For example with:</p>
<pre><code>ruff foo.py --preview --select E3
</code></pre>
</blockquote>
<p>No, I have not. As <a href="https://github.com/astral-sh/ruff/discussions/10153#discussioncomment-8622602">discussed here</a> and how I understand <a href="https://docs.astral.sh/ruff/preview/#enabling-preview-mode">the docs</a> the <code>--preview</code> flag to select all &quot;preview&quot; (unstable, new) rules.</p>
</blockquote>
<p>Well... that&#x27;s the issue. As for now, all the <code>E3</code> rules have just arrived and are on their testing period, hence, the only way to try them is with the <code>--preview</code> flag.</p>
<p>You can see that here, in the <a href="https://docs.astral.sh/ruff/rules/">Rules</a>, and see that all the rules available under the <code>--preview</code> are marked with üß™ (a test tube emoji). And the rules you are looking for:
<img src="https://github.com/astral-sh/ruff/assets/102958/652ed358-19ac-4b7e-84e2-d54f43de5779" alt="image">
all have the test tube emoji</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2024-02-29 12:50</div>
            <div class="timeline-body"><blockquote>
<p>the only way to try them is with the <code>--preview</code> flag.</p>
</blockquote>
<p>No, you are wrong. That flag alone does not help. You have to combine <code>--preview</code> with <code>--select</code>. That is the missing key fact here. I know you know it. But some readers might misunderstand that. Wording is very important here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baco">@baco</a> on 2024-02-29 13:01</div>
            <div class="timeline-body"><p>Ahhh, ok, ok, that&#x27;s right, the combination of both flags. <code>--preview</code> doesn&#x27;t turn on all the ‚Äúunstable rules‚Äù. The flag rather stops filtering out rules matching the ‚Äúselection rules‚Äù (if that&#x27;s a thing) that happen to be unstable.</p>
<p>Is that what you are pointing out here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2024-02-29 13:13</div>
            <div class="timeline-body"><blockquote>
<p>Is that what you are pointing out here?</p>
</blockquote>
<p>Exactly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2024-03-23 09:13</div>
            <div class="timeline-body"><blockquote>
<p>Note: some of the checked-off rules are still gated behind the <code>logical_lines</code> feature flag. To see the list of rules enabled in the current release, refer to the <a href="https://github.com/charliermarsh/ruff#error-e">docs</a>.</p>
</blockquote>
<p>Is this still true? Is there a better way than cross referencing https://docs.astral.sh/ruff/rules/#pycodestyle-e-w with the list in this issue?</p>
<p>Where can I find info about &quot;logical_lines&quot;? A search in the docs gave 0 matches.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-25 08:21</div>
            <div class="timeline-body"><blockquote>
<p>Note: some of the checked-off rules are still gated behind the logical_lines feature flag. To see the list of rules enabled in the current release, refer to the <a href="https://github.com/charliermarsh/ruff#error-e">docs</a>.</p>
</blockquote>
<p>No, that&#x27;s no longer the case. You can opt in by using <code>--preview</code> and enabling the desired rules (e.g. <code>--extend-select=E3</code>)</p>
<p>All checked rules in this issue are implemented as stable or preview rules and the rules use the same codes as <code>pycodestyle</code>. So there should be no need to cross-reference except if you need to know if the rule is preview only.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shikari08">@shikari08</a> on 2024-04-11 20:42</div>
            <div class="timeline-body"><p>Anyone know how to use the preview E3 Blank line rules in vscode with the ruff extension. I have the preview version installed in vscode.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-04-12 03:10</div>
            <div class="timeline-body"><p>@Daku24 By preview, we mean https://docs.astral.sh/ruff/preview/, you don&#x27;t need to have the <em>preview</em> version of ruff-vscode extension. If you have a local config for Ruff, you can enable preview and include <code>E3</code>:</p>
<pre><code>[tool.ruff.lint]
preview = true
extend-select = [&quot;E3&quot;]
</code></pre>
<p>If you don&#x27;t have a Ruff config file or can&#x27;t create or edit it, you can use <a href="https://github.com/astral-sh/ruff-vscode#settings"><code>lint.args</code></a>.</p>
<p>I hope this helps :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Alex-ley-scrub">@Alex-ley-scrub</a> on 2024-07-02 22:22</div>
            <div class="timeline-body"><p>This is awesome work üëè</p>
<p>Once E11, E12, and E13 rules are added with automatic fixes, if we run something like this:</p>
<pre><code>ruff check foo.py --fix --preview --select E1
</code></pre>
<p>would we would get the ~same result as something like this?:</p>
<pre><code>autopep8 foo.py --in-place [--aggressive] 
</code></pre>
<p>If so, that would be amazing! autopep8 is really good at fixing broken indentation and adding this to ruff would be üòç</p>
<p>E1 rules don&#x27;t have automatic fixes at the minute - is that just a case of priority/time or is there a technical challenge / performance concern / reluctance for this to be default behaviour etc. as somewhat discussed in <a href="https://github.com/astral-sh/ruff/pull/1130">astral-sh/ruff#1130</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-01-07 12:36</div>
            <div class="timeline-body"><p>Most of the pycodestyle rules are in preview set. When will they be upgraded to stable rules?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/153957">@153957</a> on 2025-01-07 13:04</div>
            <div class="timeline-body"><p>I think <code>ruff format</code> would format code to be fully (unless there are changes to the format style) compatible with those rules, so there is probably no need to have these in stable. If you have code that you do not format with ruff then you can explicitly enable these preview rules for those files.
(I think that is the reason why they are not in stable, but may be wrong.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-01-07 13:20</div>
            <div class="timeline-body"><p>I don&#x27;t think that should be a reason to not promote those rules to stable if they are acting correctly.</p>
<p>Details:</p>
<ol>
<li>We have a lot of files that we are not formatting with ruff.</li>
<li>Turning on <code>--preview</code> is unwanted since that together with <code>PL</code> would enable other unwanted rules like PLC1901 (see <a href="https://github.com/astral-sh/ruff/issues/14602">astral-sh/ruff#14602</a>)</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MartinRoth">@MartinRoth</a> on 2025-01-07 13:23</div>
            <div class="timeline-body"><p>Is there any update on when the rules E122 - E131 enter the preview stage?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/beauxq">@beauxq</a> on 2025-04-05 20:04</div>
            <div class="timeline-body"><p>In this list, E704 has a check mark,
but E704 is not in the list here https://docs.astral.sh/ruff/rules/#error-e
What&#x27;s going with that rule?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-07 13:57</div>
            <div class="timeline-body"><p>@beauxq You&#x27;re right. E704 was added in <a href="https://github.com/astral-sh/ruff/pull/2680">astral-sh/ruff#2680</a> but removed in <a href="https://github.com/astral-sh/ruff/pull/2773">astral-sh/ruff#2773</a>. I believe the concerns around the ignore list have been resolved, so we could bring it back. I&#x27;ll remove the check mark for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-07 14:02</div>
            <div class="timeline-body"><blockquote>
<p>I believe the concerns around the ignore list have been resolved, so we could bring it back. I&#x27;ll remove the check mark for now.</p>
</blockquote>
<p>Can you expand on which concerns were addressed? I think the concern that it isn&#x27;t an <em>on-by-default</em> rule still applies</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-07 14:07</div>
            <div class="timeline-body"><blockquote>
<p>Can you expand on which concerns were addressed? I think the concern that it isn&#x27;t an <em>on-by-default</em> rule still applies</p>
</blockquote>
<p>Oh I assumed that this just meant a way to disable rules and that this didn&#x27;t exist at the time. I forgot the E rules are on by default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/beauxq">@beauxq</a> on 2025-04-07 14:28</div>
            <div class="timeline-body"><p>If we don&#x27;t want it as &quot;E&quot; because &quot;E&quot; is too default, maybe we could have the rule somewhere else, like &quot;RUF&quot;?</p>
<p>But I think the better way to go would be to keep it in &quot;E&quot;, but match black&#x27;s treatment (<a href="https://github.com/astral-sh/ruff/issues/2763">astral-sh/ruff#2763</a>) allowing the <code>...</code> for <code>.pyi</code> and overloads (which should be done even if it is moved somewhere else, like &quot;RUF&quot;).
That way, I think people wouldn&#x27;t mind it being on by default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-05-02 10:00</div>
            <div class="timeline-body"><blockquote>
<p>I don&#x27;t think that should be a reason to not promote those rules to stable if they are acting correctly.</p>
<p>Details:</p>
<ol>
<li>We have a lot of files that we are not formatting with ruff.</li>
<li>Turning on <code>--preview</code> is unwanted since that together with <code>PL</code> would enable other unwanted rules like PLC1901 (see <a href="https://github.com/astral-sh/ruff/issues/14602">How to deal with counter-argument to rules? Concrete example PLC1901¬†#14602</a>)</li>
</ol>
</blockquote>
<p>@MichaReiser you presented an argument against stabilizing these rules as they are already covered by ruff format. (https://github.com/astral-sh/ruff/discussions/14331#discussioncomment-11263890)</p>
<p>I would like to run just the linter part without the formatter. If that is not intended usecase of ruff and these rules will not be stabilized we will stick with other linters. (I would prefer just one, ruff üòá)</p>
<p>Any chance of re-evaluation? Or some middle-ground like bringing the rules into stable but making them &quot;more&quot; opt-in by grouping them in a subcategory of E? (I guess it&#x27;s quite common to enable the E rules which means just stabilizing them would make them appear in many people&#x27;s lint setup automatically. Maybe that&#x27;s not a problem though.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2025-05-02 10:25</div>
            <div class="timeline-body"><p>I do support the argument of kaddkaka .
A rule covered by formater is something very different from being covered by the linter.</p>
<p>Beside of that using formaters at all is a bad habit and prevent fresh coders from learning. They should try to write good code from the beginning and fix linter warnings them self. There are users avoid using the formater.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jgbishop">@jgbishop</a> on 2025-06-25 23:35</div>
            <div class="timeline-body"><p>Are E122 - E131 still planned?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoel-bagard">@hoel-bagard</a> on 2025-06-25 23:56</div>
            <div class="timeline-body"><p>There is <a href="https://github.com/astral-sh/ruff/pull/13585">a PR</a> implementing the E12X rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-11-14 15:16</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>I don&#x27;t think that should be a reason to not promote those rules to stable if they are acting correctly.
Details:</p>
<ol>
<li>We have a lot of files that we are not formatting with ruff.</li>
<li>Turning on <code>--preview</code> is unwanted since that together with <code>PL</code> would enable other unwanted rules like PLC1901 (see <a href="https://github.com/astral-sh/ruff/issues/14602">How to deal with counter-argument to rules? Concrete example PLC1901¬†#14602</a>)</li>
</ol>
</blockquote>
<p><a href="https://github.com/MichaReiser">@MichaReiser</a> you presented an argument against stabilizing these rules as they are already covered by ruff format. (<a href="https://github.com/astral-sh/ruff/discussions/14331#discussioncomment-11263890">#14331 (comment)</a>)</p>
<p>I would like to run just the linter part without the formatter. If that is not intended usecase of ruff and these rules will not be stabilized we will stick with other linters. (I would prefer just one, ruff üòá)</p>
<p>Any chance of re-evaluation? Or some middle-ground like bringing the rules into stable but making them &quot;more&quot; opt-in by grouping them in a subcategory of E? (I guess it&#x27;s quite common to enable the E rules which means just stabilizing them would make them appear in many people&#x27;s lint setup automatically. Maybe that&#x27;s not a problem though.)</p>
</blockquote>
<p>Over half a year has passed, could we discuss this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NN---">@NN---</a> on 2025-12-30 14:46</div>
            <div class="timeline-body"><p>I tried to move to ruff but found that not all flake8 rules are applied in ruff.
So I probably need both tools ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2025-12-30 15:11</div>
            <div class="timeline-body"><p>I am not related to astral/ruff. But as upstream maintainer I do combine several tools because of the issues you observed.</p>
<ol>
<li>Ruff - Because it is fast.</li>
<li>Flake8 - Covers some rules Ruff don&#x27;t.</li>
<li>PyLint - Very slow, but damn &quot;pedantic&quot;, not only about coding style but about code smells.</li>
<li>Additionally I add <code>reuse lint</code> and <code>codespell</code> at the end in most of my projects.</li>
</ol>
<p>e.g. See this for a real world example where I add all this linters as unit tests. https://github.com/bit-team/backintime/blob/dev/common/test/test_lint.py</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NN---">@NN---</a> on 2025-12-30 15:25</div>
            <div class="timeline-body"><p>Is there a point to run ruff if you still run flake8?
Yes it is super fast but doesn&#x27;t have some important rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2025-12-30 18:09</div>
            <div class="timeline-body"><blockquote>
<p>Is there a point to run ruff if you still run flake8?</p>
</blockquote>
<p>Yes, it definitely is, because Ruff does not implement all Flake8 rules. But they are working on it. In my projects it is very rare that Flake8 (after running ruff) give some errors. In my foggy memory I would say it is often PEP8 coding style stuff, like to much blank lines or something like this.</p>
<p>But it is also the other way around. Ruff catch some errors that Flake8 won&#x27;t.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xmatthias">@xmatthias</a> on 2025-12-30 19:03</div>
            <div class="timeline-body"><blockquote>
<p>But it is also the other way around. Ruff catch some errors that Flake8 won&#x27;t.</p>
</blockquote>
<p>Exactly this!</p>
<blockquote>
<p>Yes, it definitely is, because Ruff does not implement all Flake8 rules.</p>
</blockquote>
<p>But it implements most rules (at least I personally) often violate - so having <code>ruff check</code> pass is almost always sufficient.
Flake8 is still used for whitespace issues - but once this issue resolves - i expect to remove flake8 from my projects.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/153957">@153957</a> on 2025-12-30 19:11</div>
            <div class="timeline-body"><p>Wouldnt <code>ruff format</code> handle most of your whitespace issues?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/timj">@timj</a> on 2025-12-30 19:20</div>
            <div class="timeline-body"><blockquote>
<p>Wouldnt ruff format handle most of your whitespace issues?</p>
</blockquote>
<p>That was the conclusion I came to. <code>ruff format</code> makes all these missing checks irrelevant because you know that they can&#x27;t ever happen.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-12-30 19:24</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>Wouldnt ruff format handle most of your whitespace issues?</p>
</blockquote>
<p>That was the conclusion I came to. <code>ruff format</code> makes all these missing checks irrelevant because you know that they can&#x27;t ever happen.</p>
</blockquote>
<p>But that&#x27;s irrelevant as <code>ruff format</code> is not <code>ruff check</code> and everyone running linters might not want to run formatters. This has already been up several times.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/timj">@timj</a> on 2025-12-30 19:27</div>
            <div class="timeline-body"><p>I understand that check is not format. I&#x27;ve been following this GitHub issue a very long time hoping that the checks would turn up at some point for code repos where I&#x27;m not allowed to use <code>format</code>. I was noting that in some cases it is thankfully irrelevant for me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pebaha-">@pebaha-</a> on 2025-12-30 19:38</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>Wouldnt ruff format handle most of your whitespace issues?</p>
</blockquote>
<p>That was the conclusion I came to. <code>ruff format</code> makes all these missing checks irrelevant because you know that they can&#x27;t ever happen.</p>
</blockquote>
<p><code>ruff format</code> and <code>ruff check</code> are seperate commands and serve different purposes. If you use <code>ruff format</code> you also buy into black-compatible formatting, which not all projects subscribe to.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/buhtz">@buhtz</a> on 2025-12-31 10:04</div>
            <div class="timeline-body"><p>Yes, <code>ruff format</code> is not linting but auto-formating. I am not a friend of that (or <code>black</code>).
You won&#x27;t learn writing PEP8-conform code when a tool does make the job for you. It is always a good advise not to use things like that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-31 10:32</div>
            <div class="timeline-body"><p>Please avoid off-topic conversations on this issue. There are many users subscribed to it and each comment notifies all of them. Instead, open a new issue or discussion specific about your concern.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:31 UTC
    </footer>
</body>
</html>
