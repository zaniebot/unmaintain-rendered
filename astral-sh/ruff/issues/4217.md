```yaml
number: 4217
title: Why do I need both ruff python package and VS Code extension to make it work?
type: issue
state: closed
author: ddahan
labels: []
assignees: []
created_at: 2023-05-04T09:01:01Z
updated_at: 2023-05-04T10:40:00Z
url: https://github.com/astral-sh/ruff/issues/4217
synced_at: 2026-01-10T01:56:47Z
```

# Why do I need both ruff python package and VS Code extension to make it work?

---

_Issue opened by @ddahan on 2023-05-04 09:01_

I'm not sure what's the clean installation for Ruff in VS Code because reading the [VS Code extension doc](https://marketplace.visualstudio.com/items?itemName=charliermarsh.ruff), i noticed `The extension ships with ruff==0.0.264.`

However, without installing ruff in my Python packages, Ruff is broken. For example it is unable to recognise `section-order`. Here are VS Code Ruff logs:

```
error: TOML parse error at line 103, column 1
    |
103 | section-order = [
    | ^^^^^^^^^^^^^
unknown field `section-order`
```

Then, if I `poetry install ruff`, no error anymore, Ruff works normally, except it seems it's called twice. Here are the logs when I'm saving a Python file:

```
Using interpreter executable: /usr/local/bin/ruff
Running Ruff with: ['/usr/local/bin/ruff', '--force-exclude', '--no-cache', '--no-fix', '--quiet', '--format', 'json', '-', '--fix', '--extend-ignore', 'ALL', '--extend-select', 'I001', '--stdin-filename', '/workspaces/ppw/back/dj_apps/simplevent/models.py']
Using interpreter executable: /usr/local/bin/ruff
Running Ruff with: ['/usr/local/bin/ruff', '--force-exclude', '--no-cache', '--no-fix', '--quiet', '--format', 'json', '-', '--stdin-filename', '/workspaces/ppw/back/dj_apps/simplevent/models.py']
```

### Notes
- I have no particular Ruff extension settings
- I'm using Black

Thanks.

---

_Comment by @ddahan on 2023-05-04 10:39_

I realised it's because I need the "pre-release" extension in vs code, which is not the default one. Otherwise the ruff version which in bundled is an older one, hence the `section-order` property which didn't exist at that time.

---

_Closed by @ddahan on 2023-05-04 10:39_

---
