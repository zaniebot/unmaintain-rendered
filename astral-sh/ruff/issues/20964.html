<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tidy EM102 - astral-sh/ruff #20964</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>tidy EM102</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/20964">#20964</a>
        opened by <a href="https://github.com/dotysan">@dotysan</a>
        on 2025-10-18 22:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dotysan">@dotysan</a></div>
            <div class="timeline-body">Summary
<p>When fixing this.</p>
<pre><code>        raise RuntimeError(
            &quot;Failed to auto-install Playwright Chromium.\n&quot;
            f&quot;Command: {&#x27; &#x27;.join(cmd)}\n&quot;
            f&quot;stdout:\n{res.stdout}\n&quot;
            f&quot;stderr:\n{res.stderr}\n&quot;
        )
</code></pre>
<p><img alt="Image" src="https://github.com/user-attachments/assets/28212e4b-3199-4999-ae6d-7776bfc0961c"></p>
<p>It did this:</p>
<pre><code>        msg = (
            &quot;Failed to auto-install Playwright Chromium.\n&quot;
            f&quot;Command: {&#x27; &#x27;.join(cmd)}\n&quot;
            f&quot;stdout:\n{res.stdout}\n&quot;
            f&quot;stderr:\n{res.stderr}\n&quot;
        )
        raise RuntimeError(
            msg
        )
</code></pre>
<p>Which generated a new COM812 Trailing comma missing.</p>
<p>But this would have been cleaner.</p>
<pre><code>        msg = (
            &quot;Failed to auto-install Playwright Chromium.\n&quot;
            f&quot;Command: {&#x27; &#x27;.join(cmd)}\n&quot;
            f&quot;stdout:\n{res.stdout}\n&quot;
            f&quot;stderr:\n{res.stderr}\n&quot;
        )
        raise RuntimeError(msg)

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-20 07:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-20 07:29</div>
            <div class="timeline-body"><p>Thanks for raising this.</p>
<p>I agree, collapsing the <code>RuntimeError</code> to a single line seems reasonable in this case. However, writing fixes comes with a lot of complexity and we try to keep the fixes of different rules separate from each other, so that we don&#x27;t make any assumptions about which rules a project may or may not have enabled.</p>
<p>Long term (#8232), the solution here is to run the formatter on the fix (only on projects that have the formatter enabled), which would collapse the <code>raise RuntimeError(msg)</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-20 07:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:32 UTC
    </footer>
</body>
</html>
