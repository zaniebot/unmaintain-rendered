<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Infinite loop] for `required-imports` with more than one argument - astral-sh/ruff #12560</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Infinite loop] for <code>required-imports</code> with more than one argument</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12560">#12560</a>
        opened by <a href="https://github.com/Anselmoo">@Anselmoo</a>
        on 2024-07-29 04:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Anselmoo">@Anselmoo</a> on 2024-07-29 04:24</div>
            <div class="timeline-body"><p>It looks like a <code>required-import</code> fails for more than one import. Would this in general possible to import more than <em>required</em> import?</p>
<pre><code class="language-toml">required-imports = [
    &quot;from __future__ import annotations&quot;,
    &quot;import numpy as np&quot;,
]
</code></pre>
<p>and get:</p>
<blockquote>
<p>the contents of <code>mypackage/data_model.py</code>, the rule codes I002, along with the <code>pyproject.toml</code> settings and executed command, we'd be very appreciative!</p>
</blockquote>
<details><summary>Complete setup</summary>
<p>

<pre><code class="language-toml">[tool.ruff]
line-length = 88
indent-width = 4
target-version = &quot;py39&quot;
lint.select = [
    &quot;ALL&quot;,
]
fix = true
lint.fixable = [
    &quot;ALL&quot;,
]
lint.ignore = [
    &quot;ANN101&quot;,  # annotations for self
    &quot;ARG002&quot;,  # unused argument
    &quot;PLR0913&quot;, # too many arguments
    &quot;PD008&quot;,   # missing pandas
    &quot;ISC001&quot;,  # single-line-implicit-string-concatenation 
    &quot;COM812&quot;,  # missing trailing-comma&quot;
]
src = [
    &quot;mypackage&quot;,
]
exclude = [
    &quot;mypackage/test&quot;,
    &quot;mypackage/core&quot;,
]

[tool.ruff.format]
docstring-code-format = true
docstring-code-line-length = 60
indent-style = &quot;space&quot;
preview = true
quote-style = &quot;double&quot;
# Like Black, respect magic trailing commas.
skip-magic-trailing-comma = false

# Like Black, automatically detect the appropriate line ending.
line-ending = &quot;auto&quot;

[tool.ruff.lint.per-file-ignores]
&quot;mypackage/test/test_*.py&quot; = [
    &quot;PLR2004&quot;, # magic value comparison
    &quot;S101&quot;,    # use of assert detected
    &quot;TCH002&quot;,  # third party import (for pytest)
]

[tool.ruff.lint.pydocstyle]
convention = &quot;google&quot;

[tool.ruff.lint.isort]
known-first-party = [
    &quot;mypackage&quot;,
]
force-single-line = true
lines-between-types = 1
lines-after-imports = 2
known-third-party = [
    &quot;poetry.core&quot;,
]
required-imports = [
    &quot;from __future__ import annotations&quot;,
    &quot;import numpy as np&quot;,
]
</code></pre>
</p>
</details> 

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-29 06:21</div>
            <div class="timeline-body"><p>Could you tell me more about what you mean by &quot; fails for more than one import.&quot;?</p>
<p>I can add more than one required import and ruff provides auto fixes to add them.</p>
<p>https://play.ruff.rs/9eb55b5a-2879-4d03-9923-4687c8cd3814</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by @MichaReiser on 2024-07-29 06:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Anselmoo">@Anselmoo</a> on 2024-07-29 19:42</div>
            <div class="timeline-body"><p>@MichaReiser sorry for not being precise.</p>
<p>I have using a <code>pyproject.toml</code> together with poetry to setup it up.</p>
<p>I have also cross-check with a different repo https://github.com/Anselmoo/useful-math-functions, so unfortunately my test repo is still private. I am fine to close the issue and will may later open it ...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Anselmoo on 2024-07-29 19:42</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:34:29 UTC
    </footer>
</body>
</html>
