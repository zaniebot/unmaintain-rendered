<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[New rule request] Check for the usage of the `@pytest.mark.only` decorator - astral-sh/ruff #9621</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[New rule request] Check for the usage of the `@pytest.mark.only` decorator</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/9621">#9621</a>
        opened by <a href="https://github.com/vdusek">@vdusek</a>
        on 2024-01-23 07:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/vdusek">@vdusek</a> on 2024-01-23 07:47</div>
            <div class="timeline-body"><p>There is such a rule for Flake8 - <a href="https://github.com/fnesveda/flake8-no-pytest-mark-only">flake8-no-pytest-mark-only</a>.</p>
<p>Motivation (copied from <a href="https://github.com/fnesveda/flake8-no-pytest-mark-only?tab=readme-ov-file#rationale">fnesveda/flake8-no-pytest-mark-only</a>):</p>
<blockquote>
<p>The @pytest.mark.only decorator, coming from the <a href="https://pypi.org/project/pytest-only/">pytest-only</a> plugin, is great. It's super useful when developing your tests, so that you can run just the test (or set of tests) that you're working on, without having to run your whole test suite.</p>
<p>The only problem with it is that when you forget to remove it after you've finished developing your tests, and you accidentally commit it to your repository, it's hard to notice that only a subset of tests are running in CI instead of the whole test suite.</p>
<p>This Flake8 plugin prevents that, by raising a lint error on usages of the @pytest.mark.only decorator, so that you notice that you've committed changes with the decorator in them.</p>
</blockquote>
<p>cc @fnesveda</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../apify/apify-sdk-python/pulls/178.html">apify/apify-sdk-python#178</a> on 2024-01-23 07:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2024-01-23 10:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @dhruvmanila on 2024-01-23 10:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
