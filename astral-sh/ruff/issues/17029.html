<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finer control over trailing comma enforcement - astral-sh/ruff #17029</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Finer control over trailing comma enforcement</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17029">#17029</a>
        opened by <a href="https://github.com/Hawk777">@Hawk777</a>
        on 2025-03-28 03:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Hawk777">@Hawk777</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Some people are very happy with enforcing trailing commas in multiline collection literals and function definitions, but would prefer not to enforce trailing commas in multiline function <em>calls</em>. Their rationale is that the trailing comma both shrinks the diff if additional items are added and also implies to the reader that more items could be added; while this is true for collection literals (in which more collection elements can be added) and function definitions (in which more formal parameters can be added), it is in most cases <em>not</em> true in function calls (other than in the somewhat rarer case of parameters with default values). It would be nice if we could enable enforcement of trailing commas for only some categories of multiline structures without enforcing them for all such structures.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-03-28 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2025-03-28 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-28 15:46</div>
            <div class="timeline-body"><p>We intentionally haven't focused on the stylistic lint rules recently because we encourage users to use the formatter instead. That's why I don't think we'll change this in the near future but it does sound reasonable to me.</p>
<p>However, I don't want a setting that allows toggling trailing commas for every node that allows trailing comma. Instead, it would be an option that groups nodes and allows enabling, disabling for entire groups.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Hawk777">@Hawk777</a> on 2025-03-29 05:27</div>
            <div class="timeline-body"><blockquote>
<p>We intentionally haven't focused on the stylistic lint rules recently because we encourage users to use the formatter instead. That's why I don't think we'll change this in the near future but it does sound reasonable to me.</p>
</blockquote>
<p>That sounds nice to me. Unfortunately, given that the Ruff formatter is highly opinionated and not very configurable: let me know when youâ€™ve convinced everyone else on the planet to like your choice of format ðŸ˜† ! If Iâ€™m working on a project with other contributors, itâ€™s not my choice to use it.</p>
<blockquote>
<p>However, I don't want a setting that allows toggling trailing commas for every node that allows trailing comma. Instead, it would be an option that groups nodes and allows enabling, disabling for entire groups.</p>
</blockquote>
<p>For my purposes, I would be happy with just three coarse groups: (1) collection literals, (2) function definitions, and (3) function calls. These seem qualitatively different such that people could reasonably want or not want trailing commas in each group separately. I canâ€™t think off-hand of other places where comma-separated lists of things appear, but if there are, and they donâ€™t fit into these categories, those might form one or two more groups.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:28 UTC
    </footer>
</body>
</html>
