<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playground to test ruff lsp actions? - astral-sh/ruff #18287</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Playground to test ruff lsp actions?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/18287">#18287</a>
        opened by <a href="https://github.com/kaddkaka">@kaddkaka</a>
        on 2025-05-24 16:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-05-24 16:04</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Hi, is it possible to test Ruff's LSP actions in the playground (https://play.ruff.rs/) or somewhere else?</p>
<p>I have a quite old version of ruff on my company workstation, and it would simplify to send in issues if I could easily try out the behavior in newest version.</p>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @kaddkaka on 2025-05-24 16:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-24 16:09</div>
            <div class="timeline-body"><p>Can you tell me more what you mean by lsp actions?</p>
<p>The playground shows diagnostics, you can apply fixes and see tge formatted code</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-05-24 16:16</div>
            <div class="timeline-body"><p>Locally with ruff 0.11.3, and this code:</p>
<pre><code class="language-py">def a(max_width):
    if max_width &lt; 32:    # &lt;-- this line
        # Bananas
        max_width = 32
</code></pre>
<p>On the marked line I see these diagnostics:</p>
<pre><code>Diagnostics:
1. Ruff: Replace `if` statement with `max_width = max(max_width, 32)` [PLR1730]
2. pylint: [consider-using-max-builtin] Consider using 'max_width = max(max_width, 32)' instead of unnecessary if block [R1731]
</code></pre>
<p>On the same line I have these actions available:</p>
<pre><code>Code actions:
1: Ruff (PLR1730): Replace with `max_width = max(max_width, 32)` [ruff]
2: Ruff (PLR1730): Disable for this line [ruff]
3: Ruff: Fix all auto-fixable problems [ruff]
4: Ruff: Organize imports [ruff]
</code></pre>
<p>I would like to try code action 1 in the playground. Because when I do that I get this broken result:</p>
<pre><code class="language-py">def a(max_width):
    max_width = max(max_width, 32)
</code></pre>
<p>the comment is gone! üòÆ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-05-24 16:18</div>
            <div class="timeline-body"><p>When I paste the above code into the playground I don't see any diagnostics or where/how to apply fixes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-24 16:20</div>
            <div class="timeline-body"><p>The playground supports this but it doesn't know about your configuration. You can switch to the settings by clicking on the gear icon. Then paste your toml configuration</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-05-24 16:24</div>
            <div class="timeline-body"><p>Thanks üëç The problematic behavior statys in 0.11.11, I'll make an issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kaddkaka on 2025-05-24 16:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:16 UTC
    </footer>
</body>
</html>
