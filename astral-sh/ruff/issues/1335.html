<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for docformatter rules - astral-sh/ruff #1335</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Support for docformatter rules</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1335">#1335</a>
        opened by <a href="https://github.com/cpcloud">@cpcloud</a>
        on 2022-12-22 15:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/cpcloud">@cpcloud</a> on 2022-12-22 15:19</div>
            <div class="timeline-body"><p>We <a href="https://github.com/ibis-project/ibis/pull/5057">just moved our linting setup over to ruff</a> and it's great!</p>
<p>It would be amazing if we could remove our <a href="https://github.com/PyCQA/docformatter"><code>docformatter</code></a> dependency as well in favor of <code>ruff</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cpcloud">@cpcloud</a> on 2022-12-22 15:20</div>
            <div class="timeline-body"><p>It's possible we can use the ruff <code>pydocstyle</code> support for this too, which may obviate the need for docformatter support.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-22 15:32</div>
            <div class="timeline-body"><p>Awesome :)</p>
<p>Yeah I've used <code>docformatter</code> in the past, it's great! I wonder how much of its functionality is covered by our <code>pydocstyle</code> support with autofix enabled. I'd need to do a full audit... But I'd definitely <em>like</em> Ruff to be a full replacement for <code>docformatter</code> in that sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @charliermarsh on 2022-12-22 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2022-12-22 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-22 15:32</div>
            <div class="timeline-body"><p>(Labeling as <code>question</code>, to figure out what Ruff is missing here, but it's not necessarily aimed at you.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cpcloud">@cpcloud</a> on 2022-12-22 15:37</div>
            <div class="timeline-body"><p>In the meantime, I've flipped on the <code>D</code> switch and it appears to cover what we're currently using <code>docformatter</code> for, which was effectively a less-strict <code>pydocstyle</code> with the ability to actually fix things instead of only reporting them.</p>
<p>Since <code>ruff</code> covers both linting and fixing I think at least for ibis we no longer need <code>docformatter</code> support.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-22 15:43</div>
            <div class="timeline-body"><p>Okay cool! (Note that some of the <code>D</code> rules are conflicting, like &quot;No blank line before class&quot; vs. &quot;One blank line before class&quot;, since we support a couple different docstring conventions: https://github.com/charliermarsh/ruff#does-ruff-support-numpy--or-google-style-docstrings)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cpcloud">@cpcloud</a> on 2022-12-22 15:43</div>
            <div class="timeline-body"><p>Yeah, the list of ignores I'm using for that category of lints is ... long.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-22 16:22</div>
            <div class="timeline-body"><p>It might be easier to explicitly enable via <code>--select</code> if you want? I can post the list here if you post your ignores (and I could add it to the docs).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cpcloud">@cpcloud</a> on 2022-12-22 16:28</div>
            <div class="timeline-body"><p>It's actually not too bad:</p>
<pre><code>ignore = [
  &quot;E501&quot;,
  &quot;PGH003&quot;,
  &quot;RET504&quot;,
  &quot;RET505&quot;,
  &quot;RET506&quot;,
  &quot;RET507&quot;,
  &quot;RET508&quot;,
  &quot;D100&quot;, # public module
  &quot;D101&quot;, # public class
  &quot;D102&quot;, # public method
  &quot;D103&quot;, # public function
  &quot;D105&quot;, # magic methods
  &quot;D107&quot;, # init
  &quot;D202&quot;, # blank lines after function docstring
  &quot;D203&quot;, # blank line before class docstring
  &quot;D205&quot;, # blank line between summary line and description
  &quot;D213&quot;, # Multi-line docstring summary should start at the second line
  &quot;D402&quot;, # First line should not be the function's signature
  &quot;D417&quot;, # Missing argument descriptions
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cpcloud">@cpcloud</a> on 2022-12-22 16:29</div>
            <div class="timeline-body"><p>And then of course this bit:</p>
<pre><code>[tool.ruff.per-file-ignores]
&quot;*test*.py&quot; = [&quot;D&quot;] # ignore all docstring lints in tests
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-22 16:31</div>
            <div class="timeline-body"><p>Ah okay yeah, in that case it's more concise to specify the ignores than the selects, which would be like:</p>
<pre><code class="language-toml">select = [
  &quot;D104&quot;,
  &quot;D106&quot;,
  &quot;D200&quot;,
  &quot;D201&quot;,
  &quot;D204&quot;,
  &quot;D206&quot;,
  &quot;D207&quot;,
  &quot;D208&quot;,
  &quot;D209&quot;,
  &quot;D210&quot;,
  &quot;D211&quot;,
  &quot;D212&quot;,
  &quot;D214&quot;,
  &quot;D215&quot;,
  &quot;D300&quot;,
  &quot;D301&quot;,
  &quot;D400&quot;,
  &quot;D403&quot;,
  &quot;D404&quot;,
  &quot;D405&quot;,
  &quot;D406&quot;,
  &quot;D407&quot;,
  &quot;D408&quot;,
  &quot;D409&quot;,
  &quot;D410&quot;,
  &quot;D411&quot;,
  &quot;D412&quot;,
  &quot;D413&quot;,
  &quot;D414&quot;,
  &quot;D415&quot;,
  &quot;D416&quot;,
  &quot;D418&quot;,
  &quot;D419&quot;,
]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-23 03:55</div>
            <div class="timeline-body"><p>Closing for now since I think we actually have good coverage here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-23 03:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/4112.html">astral-sh/ruff#4112</a> on 2023-04-26 06:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../GenericMappingTools/pygmt/pulls/2747.html">GenericMappingTools/pygmt#2747</a> on 2023-10-15 11:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../GenericMappingTools/pygmt/issues/962.html">GenericMappingTools/pygmt#962</a> on 2023-12-25 07:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../astropy/astropy/pulls/17319.html">astropy/astropy#17319</a> on 2024-11-04 17:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../PyCQA/docformatter/issues/293.html">PyCQA/docformatter#293</a> on 2025-04-22 13:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../saritasa-nest/pytest-qaseio/pulls/108.html">saritasa-nest/pytest-qaseio#108</a> on 2025-07-16 09:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:07 UTC
    </footer>
</body>
</html>
