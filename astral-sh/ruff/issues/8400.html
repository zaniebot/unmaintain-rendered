<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrate GitHub Actions in this repo - astral-sh/ruff #8400</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Integrate GitHub Actions in this repo</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8400">#8400</a>
        opened by <a href="https://github.com/jonathanberthias">@jonathanberthias</a>
        on 2023-11-01 08:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jonathanberthias">@jonathanberthias</a></div>
            <div class="timeline-body"><p>Hello! And thanks for the great work on <code>ruff</code>!</p>
<p>As a first disclaimer, I know about <a href="https://github.com/ChartBoost/ruff-action">ChartBoost/ruff-action</a>, and I've read the arguments that were raised at the time in #3289.</p>
<p>Currently, to run <code>ruff</code> in an idiomatic way with a pinned version, we have to use:</p>
<pre><code class="language-yaml">- uses: chartboost/ruff-action@v1
  with:
    - version: 0.1.3
</code></pre>
<p>I'd like to reopen the discussion of having the action as part of this repo, primarily to help automated dependency updaters like Dependabot and <a href="https://docs.renovatebot.com/">Renovate</a>. In the snippet above, they detect the version of <code>chartboost/ruff-action</code>, and would open a PR to update that version if another version <strong>of the action</strong> were released. However, they do not detect the version of <code>ruff</code> automatically.
With Renovate, it is possible to get it to find and update the version of <code>ruff</code> but that requires a custom regex which must be configured in each repo/org.</p>
<p>By contrast, <em>Black</em> can be run as:</p>
<pre><code class="language-yaml">- uses: psf/black@23.10.0
</code></pre>
<p>which would run <em>Black</em> version 23.10.0, and the tag would be updated automatically whenever <em>Black</em> gets a new release.</p>
<p>In the initial issue and associated PR (#3756), there was some concern due to linking the version of the action and <code>ruff</code> itself. 7 months later, I think it is safe to say the action is <a href="https://github.com/ChartBoost/ruff-action/commits/main">very low maintenance</a>, and does not require its own versioning. And if changes need to be done to the action, they can be released with <code>ruff</code></p>
<p>The end goal of this issue would be to get:</p>
<pre><code class="language-yaml">- uses: astral-sh/ruff@0.1.3
</code></pre>
<p>to work as expected.</p>
<p>For reference, <a href="https://github.com/psf/black/blob/main/action/main.py">here</a> is the action code run by <em>Black</em>. It is slightly more complicated than the current <code>ruff-action</code>, though perhaps not all features are necessary (such as specifying any commit as version?).</p>
<p>Is this something the <code>ruff</code> team is willing to reconsider?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-01 18:53</div>
            <div class="timeline-body"><p>I would like to have an official action if someone is willing to contribute it. I think this would be ideal for us to maintain since we can then update it as we make breaking changes which would alleviate some of the issues we saw when dropping support for <code>--format</code>.</p>
<p>I want @charliermarsh's opinion too though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 02:04</div>
            <div class="timeline-body"><p>Yeah, I think we should have our own official action.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">core</span> added by @charliermarsh on 2023-11-03 02:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ethanholz">@ethanholz</a> on 2024-06-06 21:18</div>
            <div class="timeline-body"><p>Out of curiosity, what would this take to fold in the work from #3289 into something supported by Astral? I am interested in helping to assist with this but want to understand what it would take to get this into something more official.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ethanholz">@ethanholz</a> on 2024-06-06 21:22</div>
            <div class="timeline-body"><p>As a follow-up to above, I did find the following: https://github.com/ChartBoost/ruff-action/issues/26#issuecomment-2120939757 . So it looks like this might not need much more in terms of contribution if I am understanding correctly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-06 23:14</div>
            <div class="timeline-body"><p>Yes we are attempting to make the action official and are just being patient regarding the transfer so it doesn't break a bunch of existing users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @zanieb by @zanieb on 2024-06-06 23:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-26 03:27</div>
            <div class="timeline-body"><p>We now have https://github.com/astral-sh/ruff-action and are continuing to invest in the action over there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-11-26 03:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:48:51 UTC
    </footer>
</body>
</html>
