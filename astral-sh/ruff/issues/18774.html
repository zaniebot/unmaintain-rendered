<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[flake8-return] RET501 can delete comments - astral-sh/ruff #18774</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[flake8-return] RET501 can delete comments</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18774">#18774</a>
        opened by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a>
        on 2025-06-18 23:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a></div>
            <div class="timeline-body">Summary
<p><code>RET501</code> can delete comments if they are inside parenthesis with the <code>None</code>, in which case the comments should be moved, the fix should be unsafe, or the fix should not apply. <a href="https://play.ruff.rs/91804551-f2a0-4796-a15f-31768c38f342">playground</a></p>
<pre><code>PS ~\Desktop\New_folder&gt;Get-Content issue.py
</code></pre>
<pre><code>def foo(bar):
    if not bar:
        return
    return (
        None # comment
    )
</code></pre>
<pre><code>PS ~\Desktop\New_folder&gt;uvx ruff check issue.py --isolated --select RET
</code></pre>
<pre><code>issue.py:4:5: RET501 [*] Do not explicitly `return None` in function if it is the only possible return value
  |
2 |       if not bar:
3 |           return
4 | /     return (
5 | |         None # comment
6 | |     )
  | |_____^ RET501
  |
  = help: Remove explicit `return None`

Found 1 error.
[*] 1 fixable with the `--fix` option.
</code></pre>
<pre><code>PS ~\Desktop\New_folder&gt;uvx ruff check issue.py --isolated --select RET --fix --diff
</code></pre>
<pre><code>--- issue.py
+++ issue.py
@@ -1,6 +1,4 @@
 def foo(bar):
     if not bar:
         return
-    return (
-        None # comment
-    )
+    return

Would fix 1 error.
</code></pre>
Version
<p>ruff 0.12.0 (87f0feb21 2025-06-17) + playground</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-19 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-19 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-19 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-19 09:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:06 UTC
    </footer>
</body>
</html>
