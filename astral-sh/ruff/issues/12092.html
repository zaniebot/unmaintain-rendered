<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`generate-shell-completion` is a valid `ruff` command, but is not listed in `ruff help` - astral-sh/ruff #12092</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`generate-shell-completion` is a valid `ruff` command, but is not listed in `ruff help`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/12092">#12092</a>
        opened by <a href="https://github.com/tpgillam">@tpgillam</a>
        on 2024-06-28 13:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/tpgillam">@tpgillam</a> on 2024-06-28 13:39</div>
            <div class="timeline-body"><p>As-of ruff 0.4.10, I've observed that:</p>
<ul>
<li><code>ruff generate-shell-completion</code> is <a href="https://github.com/astral-sh/ruff/blob/6a37d7a1e61798be5cb910781fdb87155de81601/docs/configuration.md?plain=1#L777-L794">documented in the docs</a></li>
<li><code>ruff help generate-shell-completion</code> generates some useful help</li>
<li>But, <code>ruff help</code> does not list <code>generate-shell-completion</code> in the &quot;Commands&quot; section</li>
</ul>
<p>Personally I think it would aid discoverability to add it to the list in the top-level <code>ruff help</code> listing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @AlexWaygood on 2024-06-28 15:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-28 15:50</div>
            <div class="timeline-body"><p>I believe this is intentionally hidden, perhaps because it's only intended to be run once? I'm not sure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-28 16:23</div>
            <div class="timeline-body"><p>Not a very good reason but I think one reason is that <code>generate-shell-completion</code> kind of messes with the <code>ruff --help</code> layout. But we could solve this by shortening the command name to <code>completion</code> or <code>shell-completion</code>.</p>
<p>What's interesting is that <code>gt</code> also doesn't show the <code>completion</code> command when running <code>gt --help</code>. It only shows it when entering an invalid command.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tpgillam">@tpgillam</a> on 2024-06-28 16:28</div>
            <div class="timeline-body"><blockquote>
<p>What's interesting is that gt also doesn't show the completion command when running gt --help. It only shows it when entering an invalid command.</p>
</blockquote>
<p>Probably a silly question - what program is <code>gt</code> please? :) A web search isn't helping me much.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-28 16:31</div>
            <div class="timeline-body"><p>Oh sorry. It's <a href="https://graphite.dev/">graphite</a> CLI.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @zanieb on 2024-06-28 16:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tpgillam">@tpgillam</a> on 2024-06-30 09:04</div>
            <div class="timeline-body"><p>Being somewhat pedantic, I did notice that <a href="https://github.com/astral-sh/ruff/blob/main/docs/configuration.md?plain=1#L514">docs/configuration.md</a> says that <code>ruff help</code> gives the &quot;full list&quot; of top-level commands, so if deciding to hide this command then perhaps this should be modified to &quot;gives a subset of the top-level commands&quot;!</p>
<p>At least to my taste, I like the guarantee of the 'full list' though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nngo">@nngo</a> on 2025-06-26 05:35</div>
            <div class="timeline-body"><p>I too was looking for <code>generate-shell-completion</code> command from <code>ruff help</code> if you don't want it to default, maybe add <code>--full-list</code> or similar option to show a full list of commands with <code>--help</code> or <code>help</code> command?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nngo">@nngo</a> on 2025-06-26 05:58</div>
            <div class="timeline-body"><p>btw, <code>uv help</code> does list out generate-shell-completion command (tested with uv 0.17.13) (noticed this from comment in https://github.com/astral-sh/uv/issues/2191)</p>
<pre><code>$ uv help
An extremely fast Python package manager.

Usage: uv [OPTIONS] &lt;COMMAND&gt;

Commands:
  run                        Run a command or script
  init                       Create a new project
  ...
  self                       Manage the uv executable
  generate-shell-completion  Generate shell completion
  help                       Display documentation for a command
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:13 UTC
    </footer>
</body>
</html>
