<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expose explanation for a code - astral-sh/ruff #4343</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Expose explanation for a code</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4343">#4343</a>
        opened by <a href="https://github.com/jankatins">@jankatins</a>
        on 2023-05-10 10:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jankatins">@jankatins</a></div>
            <div class="timeline-body"><p>In <a href="https://github.com/koxudaxi/ruff-pycharm-plugin/issues/147">koxudaxi/ruff-pycharm-plugin#147</a> we were discussing the possibility to annotate the <code>noqa: &lt;code&gt;</code> codes with the example text as it is on the website. Is there a way to get this information from ruff? E.g. something like <code>ruff explain &lt;code&gt;</code> would return the explanation for the code (in machine readable format, e.g. <code>--json</code>)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-05-10 12:14</div>
            <div class="timeline-body"><p>Currently, we have</p>
<pre><code>‚ùØ ruff rule S101 --format=json
{
  &quot;code&quot;: &quot;S101&quot;,
  &quot;linter&quot;: &quot;flake8-bandit&quot;,
  &quot;summary&quot;: &quot;Use of `assert` detected&quot;
}
</code></pre>
<p>It does not contain the explanation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-10 14:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-10 15:40</div>
            <div class="timeline-body"><p>Hmm, yeah, the JSON output should probably include the documentation? Similarly to how <code>ruff rule S101</code> shows:</p>
<pre><code># assert (S101)

Derived from the **flake8-bandit** linter.

## What it does
Checks for uses of the `assert` keyword.

## Why is this bad?
Assertions are removed when Python is run with optimization requested
(i.e., when the `-O` flag is present), which is a common practice in
production environments. As such, assertions should not be used for runtime
validation of user input or to enforce  interface constraints.

Consider raising a meaningful error instead of using `assert`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-05-10 18:40</div>
            <div class="timeline-body"><p>I can work on it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-05-11 07:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jankatins">@jankatins</a> on 2023-05-11 09:32</div>
            <div class="timeline-body"><p>BTW: is it intended that the non-json output never shows the summary? <code>Use of </code>assert<code> detected</code> is in <code>ruff rule S101 --format=json</code> but not in <code>ruff rule S101</code>. I would have expected that this is basically the headline: <code># assert (S101): Use of &#x27;assert&#x27; detected</code> or so.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-05-11 15:08</div>
            <div class="timeline-body"><p>I would be in favor of always showing <code>message_formats</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-11 15:55</div>
            <div class="timeline-body"><p>The message formats are somewhat problematic because they&#x27;re data-dependent -- that is, they need to be filled in based on the diagnostic context (with variable names, etc.).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-11 23:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:36 UTC
    </footer>
</body>
</html>
