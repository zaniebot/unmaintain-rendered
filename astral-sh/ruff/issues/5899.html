<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is there a way to tell ruff to ignore comments? - astral-sh/ruff #5899</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Is there a way to tell ruff to ignore comments?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5899">#5899</a>
        opened by <a href="https://github.com/xeon826">@xeon826</a>
        on 2023-07-19 20:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/xeon826">@xeon826</a> on 2023-07-19 20:25</div>
            <div class="timeline-body"><p>Since Ruff is made to work in unison with Black, and Black doesn't reformat comments that exceed the line length, is there a way to tell Ruff to ignore these?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-07-19 21:18</div>
            <div class="timeline-body"><p>@xeon826 if you're using Black to enforce your line length I'd just recommend disabling E501 e.g. https://github.com/PrefectHQ/prefect/blob/a3a2f84ba17b8a4469f29fc2a2bfc6dbffd40ed0/.ruff.toml#L1-L2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xeon826">@xeon826</a> on 2023-07-19 21:39</div>
            <div class="timeline-body"><p>I'm using ruff-pre-commit and I added that to its ignore as a workaround but I'm also using ruff as a linting tool and it gives me the diagnostic if comments exceed the line length, I feel like <code>--ignore-comments</code> would be a useful feature.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-07-19 22:54</div>
            <div class="timeline-body"><p>Why don't you put it in your Ruff configuration so it is always applied?</p>
<p>Note this is also a duplicate of https://github.com/astral-sh/ruff/issues/4429 and https://github.com/astral-sh/ruff/issues/4595</p>
<p>We <a href="https://beta.ruff.rs/docs/faq/#is-ruff-compatible-with-black">cover this in the FAQ</a> too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xeon826">@xeon826</a> on 2023-07-19 23:52</div>
            <div class="timeline-body"><p>I use it to check for line length as a linting tool in my environment, if I ignored E501 all together, I wouldn't get that behavior.
<img src="https://github.com/astral-sh/ruff/assets/5651215/99af9b21-2295-41cf-9b70-f228fe863850" alt="image" /></p>
<p>pyproject.toml</p>
<pre><code>[tool.autoflake]
remove-all-unused-imports = true
in-place = true
expand-star-imports = true
remove-unused-variables = true

[tool.black]
line-length = 88
skip-string-normalization = true
skip-magic-trailing-comma = true
preview = true
target-version = ['py39']

[tool.isort]
profile = 'black'

[tool.ruff]
line-length = 88
target-version = 'py39'
fix = true

[tool.flake8]
max-line-length = 88

[tool.vulture]
exclude = ['venv', 'pod_v3', 'frontend-ops', 'labelbox', 'compute_v2']
paths = ['webapp']
min_confidence = 60
ignore_names = [&quot;visit_*&quot;, &quot;do_*&quot;]
sort_by_size = true

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tylerlaprade">@tylerlaprade</a> on 2023-07-23 16:08</div>
            <div class="timeline-body"><blockquote>
<p>Black doesn't reformat comments that exceed the line length</p>
</blockquote>
<p>@xeon826, are you referring to lines containing <em>only</em> a comment? Black has often rearranged my <code># type: ignore</code> and <code># noqa</code> comments, much to my chagrin, especially because I always include descriptive messages about why I'm ignoring something on that line.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tylerlaprade">@tylerlaprade</a> on 2023-07-23 16:12</div>
            <div class="timeline-body"><p>As an aside, @xeon826, you can 100% replace the functionality of <code>autoflake</code> and <code>isort</code> with <code>ruff</code>, including all the customization in your <code>pyproject.toml</code>. This is 99% likely to be true of <code>flake8</code> as well, unless you are enabling some esoteric extension rules outside of your <code>pyproject.toml</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xeon826">@xeon826</a> on 2023-07-24 19:48</div>
            <div class="timeline-body"><p>@tylerlaprade Lines that are only a comment, yes. I'd remove autoflake but ruff doesn't include the <code>expand-star-imports</code> feature</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-08-15 03:42</div>
            <div class="timeline-body"><p>Since this is a duplicate and there's a workaround I'm going to close this for bookkeeping purposes. Thanks for raising!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2023-08-15 03:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Qinhaifu">@Qinhaifu</a> on 2023-11-17 06:54</div>
            <div class="timeline-body"><blockquote>
<p>I'm using ruff-pre-commit and I added that to its ignore as a workaround but I'm also using ruff as a linting tool and it gives me the diagnostic if comments exceed the line length, I feel like <code>--ignore-comments</code> would be a useful feature.</p>
</blockquote>
<p>i think so too.  <code>--ignore-comments</code> would be a useful feature, sometimes we want to write code like this.</p>
<pre><code class="language-python">demo_code = generate_anything()  # some comments and this line length exceed 79 that i config.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tapyu">@tapyu</a> on 2024-09-24 23:36</div>
            <div class="timeline-body"><blockquote>
<p>--line-length &lt;LINE_LENGTH&gt;  Set the line-length</p>
</blockquote>
<p>Don't we have a solution for this yet?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:45 UTC
    </footer>
</body>
</html>
