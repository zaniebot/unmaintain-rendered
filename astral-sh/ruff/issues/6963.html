<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rule for always false condition - astral-sh/ruff #6963</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>rule for always false condition</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6963">#6963</a>
        opened by <a href="https://github.com/tooptoop4">@tooptoop4</a>
        on 2023-08-29 02:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tooptoop4">@tooptoop4</a></div>
            <div class="timeline-body"><p>new_header is an int type
below condition can never be satisfied, any rule to highlight this?</p>
<p><code>if new_header and new_header == 0:</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-30 18:02</div>
            <div class="timeline-body"><p>We don&#x27;t have a rule to capture this right now. We could extend https://beta.ruff.rs/docs/rules/expr-and-not-expr/ to handle some of these cases. I consider it low-priority.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-30 18:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dosisod">@dosisod</a> on 2023-09-13 18:25</div>
            <div class="timeline-body"><p>I&#x27;ve ran into similar situations where I have the following code:</p>
<pre><code>def is_allowed_extension(filename: str) -&gt; bool:
    return filename.upper().endswith((&quot;.png&quot;, &quot;jpg&quot;))
</code></pre>
<p>Obviously because I called <code>upper()</code> it&#x27;s impossible for the string to contain lower-case strings. I&#x27;ve definitely been fooled by this in the past, though I usually figure it out after a few minutes. I think it would be novel if Ruff could detect stuff like this, it might save you the trouble of debugging something that could be statically detected.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:41 UTC
    </footer>
</body>
</html>
