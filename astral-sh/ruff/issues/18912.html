<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consider adding `ruff.lint.run` to the native server - astral-sh/ruff #18912</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Consider adding <code>ruff.lint.run</code> to the native server</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18912">#18912</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2025-06-24 11:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body"><p>We didn't add this setting when implementing the native server but there are couple of request for this:</p>
<ul>
<li>https://github.com/astral-sh/ruff/discussions/15991#discussioncomment-12208445</li>
<li>https://github.com/astral-sh/ruff/discussions/18909#discussioncomment-13558880</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @dhruvmanila on 2025-06-24 11:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @dhruvmanila on 2025-06-24 11:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @dhruvmanila on 2025-06-24 11:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hunterhogan">@hunterhogan</a> on 2025-06-24 18:30</div>
            <div class="timeline-body"><p>(Caveat: I don't have formal programming training or professional experience, so my technical vocabulary is limited and sometimes wrong. &quot;Quotes&quot; are my signal that I am trying to express a technical concept, but I do not believe I am using the correct technical term.)</p>
<h1>Spell checking</h1>
<p>Observation: The Grammarly app seems to forgo analysis of a sentence if the user is still composing it.</p>
<p>I am fairly confident that many spell checkers have similar mechanisms for validating a word.</p>
<p>I don't know if those subprocesses, however, could be applied to a real-time linter.</p>
<h1>&quot;Cheap&quot; signals</h1>
<p>Analyze-on-save and analyze-on-keystroke are both &quot;cheap&quot; signals. I cannot think of a &quot;cheap&quot; signal that is more targeted than on-save. If Ruff has the ability to track the location of the cursor, then perhaps y'all can figure out a clever, &quot;cheap&quot; way to use that as a signal to delay analysis of 1) the physical line on which the cursor is, 2) the &quot;expression&quot; in which the cursor is embedded, 3) some diagnostics about the &quot;statement&quot;, &quot;code block&quot;, FunctionDef/ClassDef/AsyncFunctionDef in which the cursor is embedded, and/or 4) other &quot;levels&quot; as appropriate and practical. Other than delaying analysis of the physical line, I suspect that the other ideas would require a bunch of &quot;flags&quot; to be added to various things, and I suspect it would be inefficient, have a low ROI, and be effectively impossible to maintain.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-06-25 04:29</div>
            <div class="timeline-body"><p>Thank you for the feedback. The heuristics that you've proposed about tracking various locations of the cursor are interesting but would be quite complicated and could impact the performance because it would require doing additional work on every keystroke. The main reason that those two signals (on save, on change) would cover most, if not all, of the use cases is because the client (editor) would be notifying us about those events and the server would just need to react on those events.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:52:58 UTC
    </footer>
</body>
</html>
