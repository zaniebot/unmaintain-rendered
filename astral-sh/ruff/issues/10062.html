<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPY001: copyright without a year - astral-sh/ruff #10062</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>CPY001: copyright without a year</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/10062">#10062</a>
        opened by <a href="https://github.com/nijel">@nijel</a>
        on 2024-02-20 12:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/nijel">@nijel</a> on 2024-02-20 12:47</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>There are good reasons to omit year in copyright notice, see for example https://daniel.haxx.se/blog/2023/01/08/copyright-without-years/, however ruff CPY001 enforces it:</p>
<p>Code:</p>
<pre><code class="language-py"># Copyright (c) Michal Čihař &lt;michal@weblate.org&gt;
</code></pre>
<p>Fails:</p>
<pre><code class="language-console">$ ruff check --preview weblate/wsgi.py 
weblate/wsgi.py:1:1: CPY001 Missing copyright notice at top of file
  |
1 | # Copyright (c) Michal Čihař &lt;michal@weblate.org&gt;
  |  CPY001
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-02-20 16:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-20 16:27</div>
            <div class="timeline-body"><p>Makes sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-20 16:41</div>
            <div class="timeline-body"><p>For the record, you can customize the regex here. It's exposed as a setting: https://docs.astral.sh/ruff/settings/#lint_flake8-copyright_notice-rgx.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nijel">@nijel</a> on 2024-02-20 17:24</div>
            <div class="timeline-body"><p>I know, but I would expect that out of the box the most common situations are handled gracefully. Following https://reuse.software/spec/#comment-headers would be really great</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nijel">@nijel</a> on 2024-02-20 18:42</div>
            <div class="timeline-body"><p>Here are the regexps reuse-tool uses:</p>
<p>https://github.com/fsfe/reuse-tool/blob/00a8d949b245218541fd0ece8a64c5480a9e84d7/src/reuse/_util.py#L115-L131</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-29 20:01</div>
            <div class="timeline-body"><p>The reuse link does say: &quot;The copyright notice SHOULD contain the year of publication.&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nijel">@nijel</a> on 2024-03-30 08:20</div>
            <div class="timeline-body"><p>Indeed, there is SHOULD and not MUST. A copyright statement without a year is valid, and there can be good reasons for that (see before mentioned https://daniel.haxx.se/blog/2023/01/08/copyright-without-years/ for reasoning from curl developers).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-30 17:17</div>
            <div class="timeline-body"><p>That's true, but it seems reasonable for the rule to enforce a SHOULD by default. You can use https://docs.astral.sh/ruff/settings/#lint_flake8-copyright_notice-rgx to change the regex if you'd like.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-04 21:19</div>
            <div class="timeline-body"><p>I'm going to leave this as-is given that the spec is a SHOULD, and so we include it by default, but allow users to override it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-05-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../savoirfairelinux/flake8-copyright/issues/24.html">savoirfairelinux/flake8-copyright#24</a> on 2024-08-09 17:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
