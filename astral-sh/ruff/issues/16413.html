<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`ruff` LSP code auto-completion - astral-sh/ruff #16413</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>ruff</code> LSP code auto-completion</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/16413">#16413</a>
        opened by <a href="https://github.com/plutonium-239">@plutonium-239</a>
        on 2025-02-27 11:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/plutonium-239">@plutonium-239</a> on 2025-02-27 11:16</div>
            <div class="timeline-body"><p>There was an old issue (https://github.com/astral-sh/ruff-lsp/issues/47) on the <code>ruff-lsp</code> repo regarding auto completion which was shut down.</p>
<p>Why was this issue closed?
This goes directly against what astral says in the <a href="https://astral.sh/blog/ruff-v0.4.5">blog post</a>:</p>
<blockquote>
<p>Overall, our goal with ruff server is to build the best, most feature-rich Python language server available.</p>
</blockquote>
<p>Then, why do you not want it to have the single most used LSP feature? Even when people had already made forks with completion, they were shut down with no PRs.</p>
<p>The solution suggested there is to use another LSP - which would usually be slower, since every LSP would need to do it's own AST parsing from scratch to get type info.
That just ends up wasting resources, and since linting/formatting is a feature provided by most other LSPs that provide completion, why not just use their tools rather than wasting extra compute using <code>ruff</code>'s LSP?</p>
<p>Moreover, using different LSPs = inconsistent experiences. There are slight differences in type inference, obvious latency differences, and just bulk in general.</p>
<p>This makes a very weak argument in favor of <code>ruff</code>'s LSP - linting and formatting is all it's good for.
I hope that the future talked about for <code>ruff</code> arrives soon, the blog post was made 9 months ago.</p>
<p>I also hope this is enough of a proposal to advance with the LSP having code completion.
Please consider re-opening PRs with the forks mentioned in the old issue or alternatively your own implementation, whichever one is better.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-27 13:59</div>
            <div class="timeline-body"><p>Hi @plutonium-239</p>
<p>LSP auto-completion is on our minds, and we're working towards it. The first step is that we extend Ruff's analysis engine to support cross-file analysis. Without it, auto-completion is mostly useless.</p>
<p>Our current goal is to lunch this new analysis engine as a standalone type checker first before integrating it back into Ruff. We also don't know yet if the first version will support auto completion or if this is a feature that we'll follow up shortly after. Either way. We're working on it, it's on our mind.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2025-02-27 14:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/plutonium-239">@plutonium-239</a> on 2025-02-27 14:22</div>
            <div class="timeline-body"><p>That is amazing. Looking forward to all these milestones!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-18 10:49</div>
            <div class="timeline-body"><p>Closing this in favor of astral-sh/ty#86 as the main tracking issue for this capability.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2025-03-18 10:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:46 UTC
    </footer>
</body>
</html>
