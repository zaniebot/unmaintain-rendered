<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[D417] Missing argument descriptions for variadics *args and **kwargs should be optional - astral-sh/ruff #10112</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[D417] Missing argument descriptions for variadics *args and **kwargs should be optional</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10112">#10112</a>
        opened by <a href="https://github.com/dfrtz">@dfrtz</a>
        on 2024-02-24 15:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dfrtz">@dfrtz</a></div>
            <div class="timeline-body"><p>Related to <a href="https://github.com/astral-sh/ruff/issues/8605">astral-sh/ruff#8605</a>, I believe that if &quot;ruff&quot; is to be the successor to &quot;pydocstyle&quot; (per their announcement back in Nov), then the current behavior of ruff to flag variadics is not keeping parity with existing functionality. I know 8605 is closed as more or less &quot;expected&quot;, however I do not believe this is true, and I will provide details on why I believe this needs to be revisited. Specifically, if using pydocstyle 6.3.0, the last released build (or earlier), it does not flag on variadic args <code>*args</code> or <code>**kwargs</code>, whereas 0.2.2 does. Example:</p>
<p><strong>pyproject.toml</strong></p>
<pre><code>[tool.ruff.lint]
select = [
  &quot;D&quot;,
]

[tool.ruff.lint.pydocstyle]
convention = &quot;google&quot;
</code></pre>
<p><strong>Python File</strong>:</p>
<pre><code>&quot;&quot;&quot;Minimal repo.&quot;&quot;&quot;


def dynamic_system1(arg1: int, arg2: int, *unused_args, **unused_kwargs) -&gt; None:
    &quot;&quot;&quot;Mock dynamic system 1 with intentional missing arg to flag.

    Args:
        arg1: First value.
    &quot;&quot;&quot;
    print(f&#x27;Does something with matching values: {arg1} {arg2}&#x27;)


def dynamic_system2(arg3: int, arg4: int, *unused_args, **unused_kwargs) -&gt; None:
    &quot;&quot;&quot;Mock dynamic system 2.

    Args:
        arg3: First value.
        arg4: Second value.
    &quot;&quot;&quot;
    print(f&#x27;Does something with matching values: {arg3} {arg4}&#x27;)


def main():
    &quot;&quot;&quot;Primary function.&quot;&quot;&quot;
    fake_pull_from_dynamic_resource = {
        &quot;arg1&quot;: 1,
        &quot;arg2&quot;: 2,
        &quot;arg3&quot;: 3,
        &quot;arg4&quot;: 4,
    }
    dynamic_system1(**fake_pull_from_dynamic_resource)
    dynamic_system2(**fake_pull_from_dynamic_resource)


main()
</code></pre>
<p><strong>pydocstyle 6.3.0</strong></p>
<pre><code>$ pydocstyle --count min_repo.py 
min_repo.py:5 in public function `dynamic_system1`:
        D417: Missing argument descriptions in the docstring (argument(s) arg2 are missing descriptions in &#x27;dynamic_system1&#x27; docstring)
1
</code></pre>
<p><strong>ruff 0.2.2</strong></p>
<pre><code># Isolated not included since config is needed.
$ ruff --version
ruff 0.2.2
$ ruff check min_repo.py 
min_repo.py:4:5: D417 Missing argument descriptions in the docstring for `dynamic_system1`: `**unused_kwargs`, `*unused_args`, `arg2`
min_repo.py:13:5: D417 Missing argument descriptions in the docstring for `dynamic_system2`: `**unused_kwargs`, `*unused_args`
Found 2 errors.
</code></pre>
<p>As we can see here, this is not expected behavior for those coming from pydocstyle due to this being the recommended replacement. Perhaps there is an argument to be had for whether or not one &quot;should&quot; document variadics, however I would say that debate is outside the scope of this recommendation: maintain parity with pydocstyle to allow a 100% drop in replacement. For example, this is the only blocker I have found for being able to replace pydocstyle with ruff in several projects, and I imagine as more try to transition they will experience the same issue. These projects would be unwilling to disable D417, as it is very beneficial to ensuring documentation quality for those arguments that are not used &quot;dynamically&quot;. I imagine most projects that are using these for dynamic systems will not be interested in copy/pasting a generic args/kwargs message everywhere in order to start using ruff for pydocstyle lints. My recommendation to ensure ruff can fully replace pydocstyle would be:</p>
<ul>
<li>Disable checking for D417 on variadics to maintain parity with pydocstyle</li>
<li>Or make it optional if wanting to change the behavior (default could go either way, as long as configurable)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-24 16:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-01 23:33</div>
            <div class="timeline-body"><p>We can change the default here in v0.5.0.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.5.0&quot; by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-01 23:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;v0.5.0&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-27 11:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.6&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-27 11:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;v0.6&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-14 08:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.7&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-14 08:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-14 08:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;v0.7&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-10-17 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.8&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-10-17 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;v0.8&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-18 11:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.9&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-18 11:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-31 11:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:50 UTC
    </footer>
</body>
</html>
