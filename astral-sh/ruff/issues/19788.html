<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLE2513 and format have different hex casing opinions - astral-sh/ruff #19788</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PLE2513 and format have different hex casing opinions</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/19788">#19788</a>
        opened by <a href="https://github.com/ember91">@ember91</a>
        on 2025-08-06 17:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ember91">@ember91</a></div>
            <div class="timeline-body">Summary
Minimal working example
<p>Create a file with a string containing just the ASCII ESC character. For example like this in bash:</p>
<pre><code>printf &#x27;&quot;\x1b&quot;\n&#x27; &gt;file.py
</code></pre>
<p>Fix it:</p>
<pre><code>ruff check --select PLE2513 --isolated ---fix file.py
</code></pre>
<p>It changed it to <code>&quot;\x1B&quot;</code> instead of ESC. Format it:</p>
<pre><code>ruff format --isolated file.py
</code></pre>
<p>Now it&#x27;s <code>&quot;\x1b&quot;</code>with a lowercase &quot;b&quot;. I expected the checker and formatter to agree on the casing of the hexadecimal letters.</p>
Version
<p>0.12.7</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-06 18:13</div>
            <div class="timeline-body"><p>Oh, good catch. It looks like these are just hard-coded as capital letters in the fix replacement, so this should be as easy as swapping them to lowercase:</p>
<p>https://github.com/astral-sh/ruff/blob/4d57fcd5a488e628aa26aaacd0a61728609ff310/crates/ruff_linter/src/rules/pylint/rules/invalid_string_characters.rs#L212-L219</p>
<p>We don&#x27;t always produce formatted fixes, but it seems a little silly not to in this case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-06 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-06 18:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ember91">@ember91</a> on 2025-08-06 19:29</div>
            <div class="timeline-body"><p>Seems like a good fix.</p>
<p>Thanks for an awesome piece of software I use almost every day!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ember91">@ember91</a> on 2025-08-07 14:50</div>
            <div class="timeline-body"><p>I made a PR in <a href="https://github.com/astral-sh/ruff/pull/19808">astral-sh/ruff#19808</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-08 12:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:18 UTC
    </footer>
</body>
</html>
