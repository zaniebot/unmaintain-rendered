<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No error on `logging.Logger.warn` access [G010] - astral-sh/ruff #12295</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No error on <code>logging.Logger.warn</code> access [G010]</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12295">#12295</a>
        opened by <a href="https://github.com/rominf">@rominf</a>
        on 2024-07-12 08:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rominf">@rominf</a> on 2024-07-12 08:32</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>Before creating this issue I searched for:</p>
<pre><code>G010
logger warn
logger.warn
</code></pre>
<p>but could not find previous issue or PR.</p>
<p>Minimal code snippet (<code>ruff_G010_no_call.py</code>) that reproduces the bug:</p>
<pre><code>&quot;&quot;&quot;No G010 on logging.Logger.warn access.&quot;&quot;&quot;
import logging

logger = logging.getLogger()
warn = logger.warn
warn(&quot;Hello, world!&quot;)
</code></pre>
<p>I invoked <code>ruff</code> with:</p>
<pre><code>$ ruff check ruff_G010_no_call.py --isolated --select G010 --target-version py313
$ ruff check ruff_G010_no_call.py --isolated --select ALL --target-version py313
</code></pre>
<p>but got no errors.</p>
<p>I expected to get <code>G010</code> (https://docs.astral.sh/ruff/rules/logging-warn/) on line <code>warn = logger.warn</code>. The code like this is quite wide-spread, here are the results of GitHub search that show code most likely to be invalid in Python 3.13, but that won't be detected with the current version of ruff: https://github.com/search?q=%2F%28%3F-i%29%28logger%7Clogging%29.warn%24%2F+language%3APython&amp;type=code</p>
<p>I installed <code>ruff</code> from PyPI first, then from <code>https://github.com/astral-sh/ruff/archive/refs/heads/main.zip</code>:</p>
<pre><code>$ python3 --version 
Python 3.13.0b3
$ ruff --version
ruff 0.5.1
</code></pre>
<p>As a side note, current stable version of <code>mypy</code> does not find this issue either. <code>mypy</code> installed from <code>master</code> can find this issue though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by @charliermarsh on 2024-07-12 12:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 12:49</div>
            <div class="timeline-body"><p>This is known -- we use a heuristic to detect if a call is a &quot;logging call&quot;, and we don't trace name symbols like that. I can't find an obvious issue to link this to though, so I'll leave it as-is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-07-12 12:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-12 12:50</div>
            <div class="timeline-body"><p>(<code>logger.warn(&quot;...&quot;)</code> should work, but I think you picked that up already :))</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:34:21 UTC
    </footer>
</body>
</html>
