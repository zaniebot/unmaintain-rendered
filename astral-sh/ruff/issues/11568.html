<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`check_docs_formatted.py` should allow examples for PYI rules to be formatted like stub files - astral-sh/ruff #11568</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>check_docs_formatted.py</code> should allow examples for PYI rules to be formatted like stub files</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11568">#11568</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2024-05-27 14:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a></div>
            <div class="timeline-body"><p>Currently the script complains if you try to apply <code>.pyi</code>-style formatting to any examples. But many of the PYI rules are specific to stubs, so it makes sense to format the examples for these rules as though they are stubs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-27 14:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ci</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-27 14:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-05-27 14:59</div>
            <div class="timeline-body"><p>Could we extend our parsing to support markdown language specifier</p>
<pre><code>```pyi
stub_file
```
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;`check_docs_formatted.py` should allow examples for PYI files to be formatted like stub files&quot; to &quot;`check_docs_formatted.py` should allow examples for PYI rules to be formatted like stub files&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-27 15:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-27 15:05</div>
            <div class="timeline-body"><blockquote>
<p>Could we extend our parsing to support markdown language specifier</p>
</blockquote>
<p>That&#x27;s a really interesting idea. I&#x27;ve never seen anybody use <code>pyi</code> as a markdown language specifier anywhere else, as in terms of syntax highlighting <code>.pyi</code> files obey the exact same rules as <code>.py</code> files. But for us it makes total sense, as we want to differentiate between the two in terms of formatting style.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-05-27 15:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-29 00:29</div>
            <div class="timeline-body"><p>What does MkDocs / GitHub do if you use <code>pyi</code> as the specifier? I assume it&#x27;s fine?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-05-29 01:51</div>
            <div class="timeline-body"><blockquote>
<p>What does GitHub do if you use pyi as the specifier?</p>
</blockquote>
<p>Best way to know is to try!</p>
<pre><code># py
class A:
  def foo(bar: None = None): pass
  ...
</code></pre>
<pre><code># pyi
class A:
  def foo(bar: None = None): pass
  ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-29 02:05</div>
            <div class="timeline-body"><p>Interesting. Discord at least doesn&#x27;t get it:</p>
<p><img src="https://github.com/astral-sh/ruff/assets/1309177/bb79e3db-1f2b-4e8a-969f-d54deac42212" alt="Screenshot 2024-05-28 at 10 04 27â€¯PM"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-05-29 04:34</div>
            <div class="timeline-body"><p>Discord uses https://github.com/highlightjs/highlight.js can always make a request to add <code>pyi</code> to the Python aliases
<img src="https://github.com/astral-sh/ruff/assets/1350584/09e8f7e1-b630-4768-835a-b76efb9b2d0c" alt="image"></p>
<p>It seems that VSCode uses highlight.js too
<img src="https://github.com/astral-sh/ruff/assets/1350584/7b361527-952b-4b29-81cf-6b1e2fd5099a" alt="image">
<a href="https://github.com/microsoft/vscode/issues/138855">microsoft/vscode#138855</a>#issuecomment-991301667</p>
<p>GitHub uses https://github.com/github-linguist/linguist
Source: https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/creating-and-highlighting-code-blocks#syntax-highlighting</p>
<p>MKDocs uses https://github.com/Python-Markdown/markdown/blob/master/docs/extensions/code_hilite.md which uses pygment, which looks like it supports <code>pyi</code> as a file extension, but not as a shortname (untested but here&#x27;s the doc: https://pygments.org/docs/lexers/#pygments.lexers.python.PythonLexer ).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/calumy">@calumy</a> on 2024-09-03 22:39</div>
            <div class="timeline-body"><p>Closed by #13116</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-03 22:47</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-09-03 22:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:53 UTC
    </footer>
</body>
</html>
