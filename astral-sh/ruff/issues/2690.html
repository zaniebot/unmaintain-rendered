<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`UP035`: Rewrite `typing.Callable` to `collections.abc.Callable` for Python 3.9.2+ - astral-sh/ruff #2690</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>UP035</code>: Rewrite <code>typing.Callable</code> to <code>collections.abc.Callable</code> for Python 3.9.2+</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2690">#2690</a>
        opened by <a href="https://github.com/ngnpope">@ngnpope</a>
        on 2023-02-09 16:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-02-09 16:26</div>
            <div class="timeline-body"><p>There was a bug in Python 3.9.0 and 3.9.1 which resulted in <code>pyupgrade</code> only making this rewrite on 3.10+.</p>
<p>The issue was resolved in Python 3.9.2 and we're now on Python 3.9.16. It seems a shame to not support this.</p>
<p>See https://github.com/asottile/pyupgrade/issues/677 for context.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-09 23:05</div>
            <div class="timeline-body"><p>We probably need to support minor version-based minimums in order to do this, right? Like, we can't enable this for all Python 3.9.X versions, can we?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-02-09 23:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-02-09 23:12</div>
            <div class="timeline-body"><p>That's right, it can't be enabled for 3.9.0 or 3.9.1.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ericbn">@ericbn</a> on 2023-03-08 18:00</div>
            <div class="timeline-body"><p><a href="https://github.com/decorator-factory/flake8-pep585">flake8-pep585</a> makes no distinction between any of the 3.9.x versions, and supports this for py39 as a whole.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-08 18:02</div>
            <div class="timeline-body"><p>I think those suggestions are technically incorrect for Python 3.9.0 and Python 3.9.1 though. If you make those changes, your imports will fail on those specific minor versions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ericbn">@ericbn</a> on 2023-03-08 19:09</div>
            <div class="timeline-body"><p>Sorry, I see how pyupgrade went on the safer side. Ruff inherited that and it makes sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ericbn">@ericbn</a> on 2023-03-09 03:09</div>
            <div class="timeline-body"><p>A solution for users with Python &gt;=3.9.2,&lt;3.10 could be manually configuring the TID251 rule with:</p>
<pre><code>[tool.ruff.flake8-tidy-imports]
[tool.ruff.flake8-tidy-imports.banned-api]
&quot;typing.Callable&quot;.msg = &quot;Use collections.abc.Callable instead.&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-03-09 07:27</div>
            <div class="timeline-body"><p>That's a neat workaround. I'm using 3.9+ everywhere so it's viable.</p>
<p>I would hope that people aren't using .0 or .1 by now, but reality is never the ideal. I guess you can close this @charliermarsh if you're not wanting to special case this to check the patch version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-07-10 01:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:29:17 UTC
    </footer>
</body>
</html>
