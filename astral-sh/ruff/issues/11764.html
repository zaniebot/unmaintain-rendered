<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Feature Request] new lint rule for declaring variables to have #declare or #var comment - astral-sh/ruff #11764</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Feature Request] new lint rule for declaring variables to have #declare or #var comment</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/11764">#11764</a>
        opened by <a href="https://github.com/EdSaleh">@EdSaleh</a>
        on 2024-06-05 22:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-05 22:06</div>
            <div class="timeline-body"><p>create a new lint rule for variable when they are first declared to be followed by #var or #declare or word configured by project developers.</p>
<p>Example:</p>
<pre><code class="language-python">a=1 #var
a=5
print(a)
</code></pre>
<p>OR</p>
<pre><code class="language-python">a=1 #declare or #declr
a=5
print(a)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule for declaring variables to have #declare or #var comment" to "[Feature Request] new lint rule for declaring variables to have #declare or #var comment" by @EdSaleh on 2024-06-05 22:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature Request] new lint rule for declaring variables to have #declare or #var comment" to "[Feature Request] new lint rule for declaring variables to have #declare. or #var. comment" by @EdSaleh on 2024-06-06 05:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature Request] new lint rule for declaring variables to have #declare. or #var. comment" to "[Feature Request] new lint rule for declaring variables to have #declare or #var comment" by @EdSaleh on 2024-06-06 05:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-06 19:28</div>
            <div class="timeline-body"><p>Hi again!</p>
<p>It worries me that you've copied this issue from https://github.com/pylint-dev/pylint/issues/9685. Regardless, as before, I'm happy for this to be a place for discussion but this is very similar in style to https://github.com/astral-sh/ruff/issues/11698 and we are unlikely to implement it.</p>
<p>I can expand on that a bit if it's helpful: Rules that go beyond established language conventions are unlikely to be used by most users. In some cases, they may be actively confusing. If you want to push for adoption of a change like this, a linter is not the right place to start. Instead, you'll want to actually use this in projects and demonstrate that it adds clarity to the language. Before we can consider rules that enforce an annotation, we'd want to see projects using it successfully.</p>
<p>I actually think things like what you're asking for here and in #11698 sound better off as editor integrations rather than things that are included in the source code itself (either manually or with a linter).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-06 19:56</div>
            <div class="timeline-body"><blockquote>
<p>Hi again!</p>
<p>It worries me that you've copied this issue from <a href="https://github.com/pylint-dev/pylint/issues/9685">pylint-dev/pylint#9685</a>. Regardless, as before, I'm happy for this to be a place for discussion but this is very similar in style to #11698 and we are unlikely to implement it.</p>
<p>I can expand on that a bit if it's helpful: Rules that go beyond established language conventions are unlikely to be used by most users. In some cases, they may be actively confusing. If you want to push for adoption of a change like this, a linter is not the right place to start. Instead, you'll want to actually use this in projects and demonstrate that it adds clarity to the language. Before we can consider rules that enforce an annotation, we'd want to see projects using it successfully.</p>
<p>I actually think things like what you're asking for here and in #11698 sound better off as editor integrations rather than things that are included in the source code itself (either manually or with a linter).</p>
</blockquote>
<p>Hello,
This new rule is different than ending python code block with &quot;#.&quot; in the other proposal, however, I incorporated the current proposal here with other proposal there as well.
The reason I hope there is lint support for these issue is because once it can be added as lint rule, then editors and code formatter will be following soon to support and deal with these rule, in terms of code format organizing, code coloring (we can have different color for #. or #var by the editor).
I think these feature can be helpful for project development.
Thank you,</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-06 23:53</div>
            <div class="timeline-body"><blockquote>
<p>This new rule is different than ending python code block with &quot;#.&quot; in the other proposal, however, I incorporated the current proposal here with other proposal there as well.</p>
</blockquote>
<p>The proposals can be separate, but they're both using Python comments as &quot;markers&quot; which is not something we encourage.</p>
<blockquote>
<p>The reason I hope there is lint support for these issue is because once it can be added as lint rule, then editors and code formatter will be following soon to support and deal with these rule</p>
</blockquote>
<p>Why not just have the editor show these markers without including them in the source code?</p>
<blockquote>
<p>I think these feature can be helpful for project development.</p>
</blockquote>
<p>Unfortunately we can't go on theory here. Until there are major projects following your proposed design, we won't be implementing enforcement of it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-07 00:04</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>This new rule is different than ending python code block with &quot;#.&quot; in the other proposal, however, I incorporated the current proposal here with other proposal there as well.</p>
</blockquote>
<p>The proposals can be separate, but they're both using Python comments as &quot;markers&quot; which is not something we encourage.</p>
<blockquote>
<p>The reason I hope there is lint support for these issue is because once it can be added as lint rule, then editors and code formatter will be following soon to support and deal with these rule</p>
</blockquote>
<p>Why not just have the editor show these markers without including them in the source code?</p>
<blockquote>
<p>I think these feature can be helpful for project development.</p>
</blockquote>
<p>Unfortunately we can't go on theory here. Until there are major projects following your proposed design, we won't be implementing enforcement of it.</p>
</blockquote>
<p>I prefer lint rules and not just editor stylings as lint rules allow checking and enforcing the code while editor side doesn't do checks on code. Also editors and editor plugins are usually developer specific while lint rules are project specific that developers need to follow for project development.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-07 01:14</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>This new rule is different than ending python code block with &quot;#.&quot; in the other proposal, however, I incorporated the current proposal here with other proposal there as well.</p>
</blockquote>
<p>The proposals can be separate, but they're both using Python comments as &quot;markers&quot; which is not something we encourage.</p>
<blockquote>
<p>The reason I hope there is lint support for these issue is because once it can be added as lint rule, then editors and code formatter will be following soon to support and deal with these rule</p>
</blockquote>
<p>Why not just have the editor show these markers without including them in the source code?</p>
<blockquote>
<p>I think these feature can be helpful for project development.</p>
</blockquote>
<p>Unfortunately we can't go on theory here. Until there are major projects following your proposed design, we won't be implementing enforcement of it.</p>
</blockquote>
<p>Regarding <code>code_block_ending_marker</code> lint marker rule:
There could also be a configurable threshold limit for block lines for which the <code>code_block_ending_marker</code> rule is activated and would apply (example: block_lines &gt; 1 lines by default).
Users can also use new line instead of # or #. by configuring <code>code_block_ending_marker_word</code> if it fits their project development.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-08 19:54</div>
            <div class="timeline-body"><p>Thanks for the proposal but I'm gonna close as unlikely to implement per @zanieb's comments above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-06-08 19:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:53 UTC
    </footer>
</body>
</html>
