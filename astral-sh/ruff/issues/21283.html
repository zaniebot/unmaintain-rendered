<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Would this project accept a PR that makes the number of top-level blank lines configurable? - astral-sh/ruff #21283</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Would this project accept a PR that makes the number of top-level blank lines configurable?</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/21283">#21283</a>
        opened by <a href="https://github.com/arjun-menon">@arjun-menon</a>
        on 2025-11-05 14:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/arjun-menon">@arjun-menon</a> on 2025-11-05 14:52</div>
            <div class="timeline-body"><h3>Summary</h3>
<h1>What I'm Proposing</h1>
<p>I would like to make a tiny PR that makes this const configurable (<strong>but defaulting to <code>2</code> of course</strong>):</p>
<p>https://github.com/astral-sh/ruff/blob/7569b09bdd8dfa4587e44cfbed63fa71ca361261/crates/ruff_linter/src/rules/pycodestyle/rules/blank_lines.rs#L26-L27</p>
<p>Would this project accept such a PR?</p>
<h1>About PEP 8 on this proposal</h1>
<p>I'm aware that <a href="https://peps.python.org/pep-0008/#blank-lines">PEP 8 says</a>:</p>
<blockquote>
<p>Surround top-level function and class definitions with two blank lines.</p>
</blockquote>
<p>However, this is a problematic PEP 8 recommendation as it takes up valuable vertical screen real estate.</p>
<p>It especially creates a major ergonomic issue with modern monitors, which tend to be wide (often with an aspect ratio of 16:9).</p>
<p>Also, no other major programming language (e.g. C, C++, Java, Kotlin, Rust, etc.) have a recommendation like this for top-level blank lines.</p>
<h1>About PEP and other existing Ruff rules</h1>
<p>A major reason I switched to <code>ruff</code> is the very flexible configurability.</p>
<p>There are other PEP 8 recommendations that I personally do not agree with.</p>
<p>For example, PEP 8 says under <em><a href="https://peps.python.org/pep-0008/#tabs-or-spaces">Tabs or Spaces?</a></em> that <em>&quot;Spaces are the preferred indentation method.&quot;</em>. However, <a href="https://github.com/arjun-menon/alteza/blob/master/.ruff.toml">my <code>.ruff.toml</code></a> for all my project explicitly say <code>indent-style = &quot;tab&quot;</code>. I use tabs simply because it's easier to jump over with my keyboard. I can go up/down indentation with 1x key button press per level versus 4 presses.</p>
<p>Also, for example, under <em><a href="https://peps.python.org/pep-0008/#maximum-line-length">Maximum Line Length</a></em>, PEP 8 also says: <em>&quot;Limit all lines to a maximum of 79 characters.&quot;</em>, but I've configured ruff with <code>line-length = 120</code> against that recommendation, simply as monitors are wider today.</p>
<p>All that is to say is that (I hope) that we should take PEP 8 recommendations with a grain of salt. Code style is an inherently subjective matter, and not everyone necessarily agrees with PEP 8 recommendations.</p>
<h2>Endnote</h2>
<p>Even if only used by a handful of people, I think this proposed rule (maybe called <code>top-level-blank-lines</code>) would truly be beneficial and a positive impact for the people that use it.</p>
<p>We already have rules that allow people to deviate from PEP 8 guidelines (like <code>indent-style</code> and <code>line-length</code>), so I'm hoping that making this configurable would be okay. Please let me know if this project would accept a PR on this. Thank you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/17476.html">astral-sh/ruff#17476</a> on 2025-11-05 14:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-05 14:56</div>
            <div class="timeline-body"><p>Thanks for the detailed write up and checking in before opening a PR.</p>
<p>Unfortunately, such an option would be incompatible with the formatter. Formatter/linter compatibility is important to us because our long-term goal is to automatically run the formatter after the linter (with the option to opt out).  Any lint rule or configuration that is incompatible with the formatter (in the sense that the formatter could introduce new violations) makes this more challenging, which is why we aren't accepting any such rules or options at the moment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-11-05 14:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:17 UTC
    </footer>
</body>
</html>
