<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`non-augmented-assignment` (`PLR6104`) - false positive on operators where the variable is on the other side - astral-sh/ruff #10900</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>non-augmented-assignment</code> (<code>PLR6104</code>) - false positive on operators where the variable is on the other side</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10900">#10900</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2024-04-12 07:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DetachHead">@DetachHead</a></div>
            <div class="timeline-body"><pre><code>a = 1
a = 0 / a  # PLR6104: Use `/=` to perform an augmented assignment directly
</code></pre>
<p><a href="https://play.ruff.rs/9874300d-a8c6-4e83-a3b9-841935687a53">playground</a></p>
<p>in this example, the quickfix converts it to <code>a /= 0</code> which causes a runtime <code>ZeroDivisionError</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-12 07:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-12 07:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-12 07:29</div>
            <div class="timeline-body"><p>CC: @lshi18</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-12 07:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;`non-augmented-assignment` (`PLR6104`) - false positive on operatrors where the variable is on the other side&quot; to &quot;`non-augmented-assignment` (`PLR6104`) - false positive on operators where the variable is on the other side&quot; by <a href="https://github.com/DetachHead">@DetachHead</a> on 2024-04-12 07:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lshi18">@lshi18</a> on 2024-04-12 11:57</div>
            <div class="timeline-body"><p>Hi @MichaReiser, I think that <a href="https://github.com/astral-sh/ruff/pull/9932/files#diff-9627d6862661b7c0b6d946bfeb654fdf89bbe3f78d272be2c4df23964da961c7R107">this implementation</a> is only correct for commutative binary operators, but fails for others such as &quot;/&quot;.</p>
<p>And thank @charliermarsh for completing the work in #9932 .</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-12 13:01</div>
            <div class="timeline-body"><p>Ah thanks, Iâ€™ll fix that today!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-12 13:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-12 14:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/NeilGirdhar">@NeilGirdhar</a> on 2024-04-12 14:54</div>
            <div class="timeline-body"><p>@charliermarsh Is this fixed for:</p>
<pre><code>test_string = &quot;desired = &quot; + test_string  # False positive PLR6104
</code></pre>
<p>since <code>+</code> is sometimes commutative.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-12 14:56</div>
            <div class="timeline-body"><p>No, I&#x27;ll fix that separately.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:52 UTC
    </footer>
</body>
</html>
