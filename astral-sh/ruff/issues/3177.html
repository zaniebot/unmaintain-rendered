<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feature request: print ruff config - astral-sh/ruff #3177</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feature request: print ruff config</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/3177">#3177</a>
        opened by <a href="https://github.com/upstartjohnvandivier">@upstartjohnvandivier</a>
        on 2023-02-23 16:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/upstartjohnvandivier">@upstartjohnvandivier</a></div>
            <div class="timeline-body"><p>as a developer, I'd like the ability to print the ruff config so that I can better troubleshoot whether an issue is a local config issue or a geniune bug in ruff</p>
<p>related issue where I ran into this troubleshooting limitation: https://github.com/charliermarsh/ruff/issues/3174</p>
<p>I have no particular opinion on the cli command syntax but let me propose a new <code>ruff log config</code> command for now</p>
<p>This command would print the config path used (whether pyproject.toml or something else), the python target version, selected rulesets, ignored rule information, and all of the other content that would normally be written inside the config file</p>
<p>this feature should also be documented clearly within https://beta.ruff.rs/docs/configuration/</p>
<p>possibly this print command could be added to the github ruff issue template as it will also probably assist in issue resolution</p>
<p>thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-23 16:41</div>
            <div class="timeline-body"><p>Can you try <code>ruff --show-settings foo.py</code>? It needs some cleaning up but it should include everything you've described.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-02-23 16:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/upstartjohnvandivier">@upstartjohnvandivier</a> on 2023-02-23 17:26</div>
            <div class="timeline-body"><p>This works! actually it's perhaps too verbose, including formatting and values not optimized for quick developer troubleshooting, like:</p>
<pre><code>                    LiteralStrategy(
                        {
                            [
                                46,
                                98,
                                122,
                                114,
                            ]: [
</code></pre>
<p>I would add that I didn't see the source file used to generate the config, but it seems consistent with my <code>pyproject.toml</code> and specifies <code>target_version: Py37</code> as I expect</p>
<p>I also now see this flag (<code>--show-settings</code>) documented under <code>ruff help check</code></p>
<p>I think I passed over it because I was looking for a substring like <code>config*</code> rather than settings</p>
<p>I also see this flag is enabled at the top level but not mentioned under the top level info at <code>ruff help</code></p>
<p>overall, it seems my concern is basically handled and this issue can be closed. optionally, we can enhance some of those points above which are basically nits</p>
<p>3 optional nits recap:</p>
<ol>
<li>enhance <code>ruff help</code></li>
<li><code>--show-config</code> as an alias for <code>--show-settings</code></li>
<li>rework printed content for <code>ruff --show-settings .</code> to be a bit easier to read: rm json formatting, hide low level numerical values behind a verbose flag, and/or add sourcefile for config gen</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-23 17:27</div>
            <div class="timeline-body"><p>Yeah we used to manually omit some of that <code>LiteralStrategy</code> stuff but it was kind of a pain.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-23 17:31</div>
            <div class="timeline-body"><p>I thought we did show <em>where</em> the config came from but doesn't look like it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-23 17:47</div>
            <div class="timeline-body"><p>Let's leave this open since there are a few things to improve here. We can't really change <code>ruff help</code>, since <code>ruff --show-settings /path/to/file.py</code> only works for historical reasons. We didn't <em>used</em> to have multiple subcommands, but then we moved linting to <code>ruff check</code>. For backwards compatibility, we treat <code>ruff check</code> as the &quot;default&quot; subcommand. It's a little hacky, but it does work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-24 05:07</div>
            <div class="timeline-body"><p>Fixed one of these issues, tracking the other in #3202.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-24 05:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:38 UTC
    </footer>
</body>
</html>
