<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>logging-f-string falsely passes for Logger instances - astral-sh/ruff #6353</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>logging-f-string falsely passes for Logger instances</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/6353">#6353</a>
        opened by <a href="https://github.com/jmelahman">@jmelahman</a>
        on 2023-08-04 21:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jmelahman">@jmelahman</a> on 2023-08-04 21:13</div>
            <div class="timeline-body"><p><a href="https://beta.ruff.rs/docs/rules/logging-f-string/">logging-f-string</a></p>
<ul>
<li>A minimal code snippet that reproduces the bug.</li>
</ul>
<pre><code>import logging

logging.info(f&quot;{__name__}&quot;)

_LOGGER = logging.getLogger()
_LOGGER.info(f&quot;{__name__}&quot;)
</code></pre>
<hr />
<ul>
<li>The command you invoked (e.g., <code>ruff /path/to/file.py --fix</code>), ideally including the <code>--isolated</code> flag.</li>
</ul>
<pre><code>$ ruff check --isolated --select G004 repro.py
repro.py:3:14: G004 Logging statement uses f-string
Found 1 error.

</code></pre>
<p>while <code>pylint</code>'s and <code>flake8</code> will both error for the latter,</p>
<pre><code>$ flake8 repro.py 
repro.py:3:14: G004 Logging statement uses f-string
repro.py:6:14: G004 Logging statement uses f-string

</code></pre>
<pre><code>$ pylint repro.py 
************* Module repro
repro.py:3:0: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
repro.py:6:0: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)

-----------------------------------
Your code has been rated at 2.50/10
 
</code></pre>
<hr />
<ul>
<li>The current Ruff settings (any relevant sections from your <code>pyproject.toml</code>).</li>
</ul>
<hr />
<ul>
<li>The current Ruff version (<code>ruff --version</code>).</li>
</ul>
<pre><code>$ ruff --version
ruff 0.0.282
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-04 23:11</div>
            <div class="timeline-body"><p>Unfortunately we don't have the ability to know definitely whether a given variable is a logger object from the standard library. Neither does Flake8 or Pylint, so it's all a matter of heuristics that trade off false negatives vs. false positives. It looks like <code>_LOGGER</code> doesn't match our heuristic. (Anything ending with <code>logger</code> does, but it's not case insensitive.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/6356.html">astral-sh/ruff#6356</a> on 2023-08-04 23:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-08-04 23:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/11031.html">astral-sh/ruff#11031</a> on 2024-04-19 09:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
