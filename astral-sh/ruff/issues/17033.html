<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>split in different format of autopep8 when line length on column 80 - astral-sh/ruff #17033</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>split in different format of autopep8 when line length on column 80</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/17033">#17033</a>
        opened by <a href="https://github.com/dlintw">@dlintw</a>
        on 2025-03-28 09:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dlintw">@dlintw</a> on 2025-03-28 09:12</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>a.py</p>
<pre><code>if true:
    if true:
        if ture:
            if true:
                print(f&quot;Debug:{inspect.currentframe().f_lineno}: {log_message}&quot;)
</code></pre>
<p>the result of <code>autopep8 -i a.py</code> and <code>ruff format .</code> are different, autopep8 can use the column 80 to put last char.</p>
<ul>
<li>autopep8 version: 2.3.2(pycodestyle:2.12.1)</li>
</ul>
<h3>Version</h3>
<p>ruff 0.11.2</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2025-03-28 15:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by @MichaReiser on 2025-03-28 15:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-28 15:16</div>
            <div class="timeline-body"><p>Can you share more details of what behavior you'd expect and what formatter settings you use?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dlintw">@dlintw</a> on 2025-04-03 03:05</div>
            <div class="timeline-body"><p>expect the same result as autopep8, in ruff, it treat</p>
<pre><code>print(f&quot;Debug:{inspect.currentframe().f_lineno}: {log_message}&quot;)
</code></pre>
<p>as</p>
<pre><code>print(
    f&quot;Debug:{inspect.currentframe().f_lineno}: {log_message}&quot; )
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-03 06:53</div>
            <div class="timeline-body"><p>It does get formatted to</p>
<pre><code class="language-py">if true:
    if true:
        if ture:
            if true:
                print(
                    f&quot;Debug:{inspect.currentframe().f_lineno}: {log_message}&quot;
                )

</code></pre>
<p>If you change the line length to 79 (your example exactly fits into the 80 limit)</p>
<p>https://play.ruff.rs/83e21204-c02a-44c3-9249-822842dadb6c</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dlintw">@dlintw</a> on 2025-04-04 09:59</div>
            <div class="timeline-body"><p>I've tried again on my another machine. it works. I think it's my fault,  my ruff.toml is</p>
<pre><code>line-length = 80
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dlintw on 2025-04-04 09:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
