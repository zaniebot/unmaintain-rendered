<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unnecessary &quot;ANN101 Missing type annotation for `self` in method&quot; - astral-sh/ruff #10268</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Unnecessary &quot;ANN101 Missing type annotation for `self` in method&quot;</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/10268">#10268</a>
        opened by <a href="https://github.com/artemiogr97">@artemiogr97</a>
        on 2024-03-07 08:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/artemiogr97">@artemiogr97</a> on 2024-03-07 08:38</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>Given the following code contained in my_file.py:</p>
<pre><code>class MyClass:
    def do_something(self, my_float) -&gt; int:
        return int(my_float)
</code></pre>
<p>running &quot;ruff check --select ANN ./my_file.py&quot; gives the following output:</p>
<p>test_ann101.py:2:22: ANN101 Missing type annotation for <code>self</code> in method
Found 1 error.</p>
<p>This is useless in most cases, in fact ruff extension for vscode does not show this error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/trag1c">@trag1c</a> on 2024-03-07 08:55</div>
            <div class="timeline-body"><p>ANN101 has been deprecated in <a href="https://github.com/astral-sh/ruff/releases/tag/v0.2.0">v0.2.0</a>, perhaps you're using a different version of Ruff in your command line?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-03-07 09:00</div>
            <div class="timeline-body"><p>Hey, thanks for opening this issue. As mentioned by @trag1c the rule has been <a href="https://docs.astral.sh/ruff/rules/missing-type-self/">deprecated</a> and will be removed in a future release.</p>
<blockquote>
<p>in fact ruff extension for vscode does not show this error.</p>
</blockquote>
<p>It must be that you're running a different Ruff version via the command-line and in VS Code. In case you need to use an old Ruff version, you can also <a href="https://docs.astral.sh/ruff/settings/#lint_ignore">ignore the rule</a> with:</p>
<pre><code class="language-toml">[tool.ruff.lint]
ignore = [&quot;ANN101&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-03-07 09:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/artemiogr97">@artemiogr97</a> on 2024-03-07 11:27</div>
            <div class="timeline-body"><p>I just verified, both versions match, but it seems like it is the vscode extension that somehow excludes deprecated rules, in both cases I'm using the same configuration file which contains:</p>
<pre><code>[tool.ruff.lint]
select= [&quot;ANN&quot;]
</code></pre>
<p>So all rules starting with &quot;ANN&quot; are activated
Is there a way to automatically exclude deprecated rules in the CLI ?
Ideally I would like to keep the same configuration file for both cases, and modifying the file to explicitly ignore deprecated files could be annoying</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:12 UTC
    </footer>
</body>
</html>
