<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`sys.version_info.major` not flagged by `UP036` - astral-sh/ruff #18165</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>sys.version_info.major</code> not flagged by <code>UP036</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18165">#18165</a>
        opened by <a href="https://github.com/mxr">@mxr</a>
        on 2025-05-18 19:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mxr">@mxr</a> on 2025-05-18 19:48</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><a href="https://docs.astral.sh/ruff/rules/outdated-version-block/"><code>UP036</code></a> is flagging <code>sys.version_info &gt;= (3,)</code> checks but not <code>sys.version_info.major &gt;= 3</code> checks. Both cases should be flagged in the below example:</p>
<pre><code class="language-console">$ cat example.py            
import sys

# flagged
if sys.version_info &gt;= (3,):
    print(&quot;3&quot;)
else:
    print(&quot;2&quot;)

# not flagged
if sys.version_info.major &gt;= 3:
    print(&quot;3&quot;)
else:
    print(&quot;2&quot;)
</code></pre>
<pre><code class="language-console">$ ruff --verbose check --select 'UP' --target-version 'py38' --isolated example.py
[2025-05-18][15:44:40][ruff::resolve][DEBUG] Isolated mode, not reading any pyproject.toml
[2025-05-18][15:44:40][ruff::commands::check][DEBUG] Identified files to lint in: 3.107ms
[2025-05-18][15:44:40][ruff::commands::check][DEBUG] Checked 1 files in: 19.042Âµs
example.py:4:4: UP036 Version block is outdated for minimum Python version
  |
3 | # flagged
4 | if sys.version_info &gt;= (3,):
  |    ^^^^^^^^^^^^^^^^^^^^^^^^ UP036
5 |     print(&quot;3&quot;)
6 | else:
  |
  = help: Remove outdated version block

Found 1 error.
No fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).
</code></pre>
<p>Real-life example <a href="https://github.com/deeplook/sparklines/blob/5e298bf8a99de82d3812ebc25c9267b1a018a750/sparklines/__main__.py#L18">here</a>.</p>
<h3>Version</h3>
<p>ruff 0.11.10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-19 07:13</div>
            <div class="timeline-body"><p>This makes sense to me. The rule already supports <code>sys.version_info[0]</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-05-19 07:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/IDrokin117">@IDrokin117</a> on 2025-05-28 13:19</div>
            <div class="timeline-body"><p>@MichaReiser Can I work on this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @IDrokin117 by @MichaReiser on 2025-05-28 13:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-06-23 20:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:37:28 UTC
    </footer>
</body>
</html>
