<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff treats `pass` and `...` differently for  - astral-sh/ruff #12799</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ruff treats <code>pass</code> and <code>...</code> differently for</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12799">#12799</a>
        opened by <a href="https://github.com/ssteinerx">@ssteinerx</a>
        on 2024-08-11 06:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ssteinerx">@ssteinerx</a></div>
            <div class="timeline-body"><p><em>Ruff version</em>: <code>ruff 0.5.7</code></p>
<p>I searched for &quot;pass&quot;, &quot;...&quot;, &quot;blank-line-between-methods&quot;, and &quot;E301&quot; but found nothing.</p>
<p>The example at <a href="https://docs.astral.sh/ruff/rules/blank-line-between-methods/#blank-line-between-methods-e301">blank-line-between-methods (E301)</a> shows insertion of blank lines between methods of a class.</p>
<p>With <code>--preview</code> and <code>E301</code> enabled, missing blank lines are detected and fixed.</p>
<p>If, instead of <code>pass</code>, you use <code>...</code>, then the missing blank between methods is not detected or corrected.  There is a mention in the doc about the rule not enabled in <code>.pyi</code> files; this isn&#x27;t one of those.</p>
<pre><code># This will get spaced out as per the example for E301
class MyClass(object):
    def func1():
        pass
    def func2():
        pass
</code></pre>
<p>Becomes:</p>
<pre><code>class MyClass(object):
    def func1():
        pass

    def func2():
        pass
</code></pre>
<pre><code># This will NOT get the missing blank lines detected or inserted
# It doesn&#x27;t matter whether the `...` is on the same line as the `def` or not
# NOTE: ruff *does* bring the `...` up to the same line as the `def` as might be expected in a `.pyi` file, 
# I&#x27;m not sure if that be an altogether different rule that may be interacting with E301..
class MyClass(object):
    def func1(): ...
    def func2():
        ...
</code></pre>
<p>Becomes:</p>
<pre><code>class MyClass(object):
    def func1(): ...
    def func2(): ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-11 15:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-11 15:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-11 15:10</div>
            <div class="timeline-body"><p>Hi</p>
<p>This behavior was added in <a href="https://github.com/astral-sh/ruff/pull/10704">astral-sh/ruff#10704</a> to make the rule <a href="https://github.com/astral-sh/ruff/issues/10211">compatible with the formatter</a>. Mentioning this behavior in the documentation does make sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-11 15:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ssteinerx">@ssteinerx</a> on 2024-08-14 15:48</div>
            <div class="timeline-body"><p>I want the code formatted the same as everything else with the dummy body (or the other dummy body, whichever is which) on next line, indented, and a space between it and the next method.  Oddly enough, I would have expected the current behaviour for an overload annotation with <code>...</code>; go figure.</p>
<p>Since, from reading the related issues, this looks like a horrendous PITA, and is likely to get even more annoying in the future, just documenting that <code>...</code> and <code>pass</code> are treated differently should be fine.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:56 UTC
    </footer>
</body>
</html>
