<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Removing unnecessary list() for generators - astral-sh/ruff #10361</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Removing unnecessary list() for generators</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/10361">#10361</a>
        opened by <a href="https://github.com/spaceby">@spaceby</a>
        on 2024-03-12 15:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/spaceby">@spaceby</a> on 2024-03-12 15:56</div>
            <div class="timeline-body"><p>Can you add the following rules?</p>
<p><code>a.extend([i for i in range(10)])</code> to  <code>a.extend(i for i in range(10))</code>
<code>a.extend(list(range(10))</code> to <code>a.extend(range(10)</code></p>
<p><code>' '.join([i for i in range(10)])</code> to  <code>' '.join(i for i in range(10))</code>
<code>' '.join(list(range(10))</code> to <code>' '.join(range(10)</code></p>
<p><code>[1, *list(range(10))]</code> to <code>[1, *range(10)]</code></p>
<p><code>itertools.starmap(func, zip(range(5), range(5)))</code> to <code>map(func, range(5), range(5))</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2024-03-15 13:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-15 13:55</div>
            <div class="timeline-body"><p>Seems reasonable although the <code>extend</code> could be wrong if we don't know that <code>a</code> is a list; similarly, changing <code>.join</code> could be wrong if we don't know that the caller is a string. Just caveats.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-18 09:49</div>
            <div class="timeline-body"><p>This seems similar to https://docs.astral.sh/ruff/rules/unnecessary-comprehension-any-all/ What's unclear to me is if this should be a new rule or if the existing rule should be changed to detect any unnecessary list generators.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-18 13:05</div>
            <div class="timeline-body"><p>I'd say one rule, for built-in methods that consume generators.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-29 20:19</div>
            <div class="timeline-body"><p>This can be merged into https://github.com/astral-sh/ruff/issues/3259.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-29 20:19</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:12 UTC
    </footer>
</body>
</html>
