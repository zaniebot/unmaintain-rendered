<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatter: `hug_parens_with_braces_and_square_brackets` preview style - astral-sh/ruff #8279</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatter: `hug_parens_with_braces_and_square_brackets` preview style</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/8279">#8279</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-10-27 10:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/konstin">@konstin</a> on 2023-10-27 10:37</div>
            <div class="timeline-body"><p>Port the <code>hug_parens_with_braces_and_square_brackets</code> preview style added to black in <a href="https://github.com/psf/black/pull/3964">PR1</a> and [PR1](<a href="https://github.com/psf/black/pull/3992">second PR</a>) to ruff formatter:</p>
<p>For better readability and less verticality, <em>Black</em> now pairs parantheses (&quot;(&quot;, &quot;)&quot;)
with braces (&quot;{&quot;, &quot;}&quot;) and square brackets (&quot;[&quot;, &quot;]&quot;) on the same line for single
parameter function calls. For example:</p>
<pre><code class="language-python">foo(
    [
        1,
        2,
        3,
    ]
)
</code></pre>
<p>will be changed to:</p>
<pre><code class="language-python">foo([
    1,
    2,
    3,
])
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @konstin on 2023-10-27 10:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-27 10:38</div>
            <div class="timeline-body"><p>Is this preview style?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-27 10:39</div>
            <div class="timeline-body"><p>yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @MichaReiser on 2023-10-27 10:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Stable" by @MichaReiser on 2023-10-27 10:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/6935.html">astral-sh/ruff#6935</a> on 2023-10-27 10:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../Toufool/AutoSplit/pulls/259.html">Toufool/AutoSplit#259</a> on 2023-10-27 14:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-10-27 19:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8293.html">astral-sh/ruff#8293</a> on 2023-10-28 03:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3713.html">astral-sh/ruff#3713</a> on 2023-10-28 22:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-29 05:20</div>
            <div class="timeline-body"><p>ðŸ˜¬ I do not prefer this style.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ju1ius">@ju1ius</a> on 2023-10-29 18:15</div>
            <div class="timeline-body"><blockquote>
<p>ðŸ˜¬ I do not prefer this style.</p>
</blockquote>
<p>ðŸ˜¬ I do prefer this style.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Mogost">@Mogost</a> on 2023-10-30 06:47</div>
            <div class="timeline-body"><p>Don't forget to share your opinions in the black repo when the time comes.</p>
<p>https://github.com/psf/black/issues/3989#issuecomment-1783196332</p>
<blockquote>
<p>Last year I feel we may not have gotten enough feedback during this period, leading to some controversy over certain decisions, so I hope we'll be able to get more early feedback this year. If Ruff or its users could provide feedback on any preview-style features, I'd be happy.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/henriholopainen">@henriholopainen</a> on 2023-10-31 08:25</div>
            <div class="timeline-body"><p>FYI: https://github.com/psf/black/pull/3992</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-31 11:14</div>
            <div class="timeline-body"><p>@henriholopainen That's what's implemented in https://github.com/astral-sh/ruff/pull/8293/files#diff-b84e5729fb09571d5fd2e3fcba65612a57765cd6351ba6388b674208b79877ffR48-R60, right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Formatter: Improved multiline dictionary and list indentation for sole function parameter" to "Formatter: `hug_parens_with_braces_and_square_brackets` preview style" by @MichaReiser on 2023-11-29 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8678.html">astral-sh/ruff#8678</a> on 2023-11-29 00:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-01 02:11</div>
            <div class="timeline-body"><p>This is now supported via https://github.com/astral-sh/ruff/pull/8293, though we don't yet apply these rules recursively (intentionally).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ofek">@ofek</a> on 2023-12-05 18:15</div>
            <div class="timeline-body"><blockquote>
<p>we don't yet apply these rules recursively</p>
</blockquote>
<p>Good choice, please never do so</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-19 00:17</div>
            <div class="timeline-body"><p>We're gonna continue without applying these rules recursively.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-12-19 00:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9639.html">astral-sh/ruff#9639</a> on 2024-02-12 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9642.html">astral-sh/ruff#9642</a> on 2024-02-15 06:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/11336.html">astral-sh/ruff#11336</a> on 2024-05-08 12:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/19536.html">astral-sh/ruff#19536</a> on 2025-07-24 18:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/19537.html">astral-sh/ruff#19537</a> on 2025-07-24 19:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/20226.html">astral-sh/ruff#20226</a> on 2025-09-15 09:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/20482.html">astral-sh/ruff#20482</a> on 2025-09-19 13:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
