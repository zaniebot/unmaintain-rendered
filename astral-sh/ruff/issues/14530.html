<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ruff freezes when running with --stdin-filename - astral-sh/ruff #14530</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ruff freezes when running with --stdin-filename</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14530">#14530</a>
        opened by <a href="https://github.com/Guust-Franssens">@Guust-Franssens</a>
        on 2024-11-22 13:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Guust-Franssens">@Guust-Franssens</a></div>
            <div class="timeline-body">

<pre><code>$ ruff check --stdin-filename src/__init__.py  --verbose --isolated
[2024-11-22][14:49:35][ruff::resolve][DEBUG] Isolated mode, not reading any pyproject.toml
</code></pre>
<p>however running it without specifying --stdin-filename works without any problem</p>
<pre><code>$ ruff check src/__init__.py --verbose --isolated
[2024-11-22][14:51:18][ruff::resolve][DEBUG] Isolated mode, not reading any pyproject.toml
[2024-11-22][14:51:18][ruff::commands::check][DEBUG] Identified files to lint in: 3.3689ms
[2024-11-22][14:51:18][ruff::diagnostics][DEBUG] Checking: C:\Users\gfranssens\vscode-projects\belgian-journal\src\__init__.py
[2024-11-22][14:51:18][ruff::commands::check][DEBUG] Checked 1 files in: 12.029ms
All checks passed!
</code></pre>
<p>I have tried running on many versions however all with same problem (minor version 0.5, 0.6, 0.7).  I was currently using the latest version.</p>
<pre><code>$ ruff version
ruff 0.8.0 (a90e404c3 2024-11-22)
</code></pre>
<p>the reason that this is a problem is because the VSCode extension runs in the background with --stdin-filename thus no corrections are done on save.</p>
<p>I believe the problem is related to something on my machine, however I cannot figure out what is the problem...
Hopefully someone knows a fix...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-22 14:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-22 14:25</div>
            <div class="timeline-body"><p>Ruff expects that you pass a file via stdin when you specify <code>--stdin-filename</code> like this:</p>
<pre><code>ruff check --stdin-filename test.py &lt; ../test/c.py
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Guust-Franssens">@Guust-Franssens</a> on 2024-11-22 14:54</div>
            <div class="timeline-body"><p>@MichaReiser thanks already, make sense....</p>
<p>when I check the VSCode output for the ruff extension I see the following; afterwhich it freezes. I assume I should be this instead on the vscode-ruff extension?</p>
<pre><code>2024-11-22 15:51:16.631 [info] Using environment executable: C:\Users\gfranssens\.local\bin\ruff.EXE
2024-11-22 15:51:16.632 [info] Found ruff 0.8.0 at C:\Users\gfranssens\.local\bin\ruff.EXE
2024-11-22 15:51:16.632 [info] Running Ruff with: C:\Users\gfranssens\.local\bin\ruff.EXE [&#x27;check&#x27;, &#x27;--force-exclude&#x27;, &#x27;--no-cache&#x27;, &#x27;--no-fix&#x27;, &#x27;--quiet&#x27;, &#x27;--output-format&#x27;, &#x27;json&#x27;, &#x27;-&#x27;, &#x27;--stdin-filename&#x27;, &#x27;c:\\Users\\gfranssens\\vscode-projects\\belgian-journal\\src\\spiders\\legal_entities.py&#x27;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-22 14:59</div>
            <div class="timeline-body"><p>Can you explain with what you mean by freeze? I don&#x27;t think ruff prints any other messages after <code>Running Ruff with</code>. Do you see violations in your editor? Does the output get updated when you change and save a file?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Guust-Franssens">@Guust-Franssens</a> on 2024-11-22 16:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Guust-Franssens">@Guust-Franssens</a> on 2024-11-22 17:00</div>
            <div class="timeline-body"><p>My VSCode settings for Ruff were improplerly configured....</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:00 UTC
    </footer>
</body>
</html>
