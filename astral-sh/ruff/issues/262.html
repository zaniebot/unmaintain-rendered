<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fail hard on invalid configuration? - astral-sh/ruff #262</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fail hard on invalid configuration?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/262">#262</a>
        opened by <a href="https://github.com/amotl">@amotl</a>
        on 2022-09-23 21:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/amotl">@amotl</a></div>
            <div class="timeline-body"><p>Dear Charlie,</p>
<p>on #124, <code>ruff</code> failed to properly load its configuration from <code>pyproject.toml</code>, like:</p>
<pre><code>Failed to load pyproject.toml: unknown field `ignore`, expected one of `line-length`, `exclude`, `select` for key `tool.ruff` at line 199 column 1
</code></pre>
<p>I don't know if the program should fall back to a default configuration without further ado.</p>
<pre><code>Falling back to default configuration...
</code></pre>
<p>At the first sight, the problem from the misconfiguration outlined above was not easy to spot, because the subsequent very large admonition output made the original error message scroll above the fold [^1].</p>
<p>Would making <code>ruff</code> fail hard be an option here?</p>
<p>With kind regards,
Andreas.</p>
<p>[^1]: We are using <code>line-length = 120</code>, so the output was pretty huge.</p>
<p><em>Originally posted by @amotl in https://github.com/charliermarsh/ruff/issues/124#issuecomment-1240040300</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Fail hard on invalid configuration" to "Fail hard on invalid configuration?" by @amotl on 2022-09-23 21:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-09-24 01:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:45:19 UTC
    </footer>
</body>
</html>
