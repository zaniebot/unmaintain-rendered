<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[FEATURE] Only report errors with safe fixes - astral-sh/ruff #8701</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>[FEATURE] Only report errors with safe fixes</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/8701">#8701</a>
        opened by <a href="https://github.com/alanhdu">@alanhdu</a>
        on 2023-11-15 18:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/alanhdu">@alanhdu</a> on 2023-11-15 18:24</div>
            <div class="timeline-body"><p>Apologies if this is already possible somewhere, but I was wondering whether there was a way to configure Ruff to <em>only</em> report errors that it has <em>safe</em> fixes for. Ideally this could be done on a per-rule level.</p>
<p>My primary use-case is SIM118 (unnecessary <code>dict.keys()</code> call) -- unfortunately, we have some internal objects that implement a <code>def keys(self)</code> method that that brings up a bunch of false positives when using SIM118. But we <em>would</em> like to enforce them for <code>dict</code> objects, and the &quot;safe&quot; fix for SIM118 only fires when Ruff infers that it's an actual dictionary under-the-hood.</p>
<p>I guess this specific example could also be addressed by making SIM118 only fire if it can infer an actual dictionary as well... or by having some other configuration to control the false-positive vs false-negative tradeoffs here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2023-11-22 23:33</div>
            <div class="timeline-body"><blockquote>
<p>I guess this specific example could also be addressed by making SIM118 only fire if it can infer an actual dictionary as well... or by having some other configuration to control the false-positive vs false-negative tradeoffs here.</p>
</blockquote>
<p>e.g. splitting it into two different lint codes, and having a new lint code for cases where it cannot guarantee an actual dictionary?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @MichaReiser on 2023-11-27 03:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">linter</span> added by @MichaReiser on 2023-11-27 03:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:11 UTC
    </footer>
</body>
</html>
