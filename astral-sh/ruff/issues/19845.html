<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIM905 fix doesn’t treat U+001C..U+001F as white space - astral-sh/ruff #19845</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>SIM905 fix doesn’t treat U+001C..U+001F as white space</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/19845">#19845</a>
        opened by <a href="https://github.com/dscorbett">@dscorbett</a>
        on 2025-08-10 15:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dscorbett">@dscorbett</a></div>
            <div class="timeline-body">Summary
<p><code>str.split</code> and <code>str.rsplit</code> categorize the four characters U+001C..U+001F as white space but <a href="https://docs.astral.sh/ruff/rules/split-static-string/"><code>split-static-string</code> (SIM905)</a> doesn’t. SIM905 is implemented using the Rust methods <a href="https://doc.rust-lang.org/std/primitive.str.html#method.split_whitespace"><code>str::split_whitespace</code></a>, <a href="https://doc.rust-lang.org/std/primitive.str.html#method.trim_start"><code>str::trim_start</code></a>, and <a href="https://doc.rust-lang.org/std/primitive.str.html#method.trim_end"><code>str::trim_end</code></a>, which define white space as Unicode <a href="https://util.unicode.org/UnicodeJsps/list-unicodeset.jsp?a=%5B:White_Space:%5D"><code>[:White_Space:]</code></a>, but Python <a href="https://github.com/python/cpython/blob/v3.14.0rc1/Objects/unicodetype_db.h#L6676">defines</a> white space as <a href="https://util.unicode.org/UnicodeJsps/list-unicodeset.jsp?a=%5B%5B%3Abc%3DB%3A%5D%5B%3Abc%3DS%3A%5D%5B%3Abc%3DWS%3A%5D%5B%3AZs%3A%5D%5D"><code>[[:bc=B:][:bc=S:][:bc=WS:][:Zs:]]</code></a>. This discrepancy can make the fix change a program’s behavior. <a href="https://play.ruff.rs/5d360449-e9e3-4a01-85d9-67c507e2cced">Example</a>:</p>
<pre><code>$ cat &gt;sim905.py &lt;&lt;&#x27;# EOF&#x27;
print(&quot;S\x1cP\x1dL\x1eI\x1fT&quot;.split())
print(&quot;\x1c\x1d\x1e\x1f&gt;&quot;.split(maxsplit=0))
print(&quot;&lt;\x1c\x1d\x1e\x1f&quot;.rsplit(maxsplit=0))
# EOF

$ python sim905.py
[&#x27;S&#x27;, &#x27;P&#x27;, &#x27;L&#x27;, &#x27;I&#x27;, &#x27;T&#x27;]
[&#x27;&gt;&#x27;]
[&#x27;&lt;&#x27;]

$ ruff --isolated check sim905.py --select SIM905 --fix
Found 3 errors (3 fixed, 0 remaining).

$ python sim905.py
[&#x27;S\x1cP\x1dL\x1eI\x1fT&#x27;]
[&#x27;\x1c\x1d\x1e\x1f&gt;&#x27;]
[&#x27;&lt;\x1c\x1d\x1e\x1f&#x27;]
</code></pre>
Version
<p>ruff 0.12.8 (f51a228f0 2025-08-07)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dylwil3">@dylwil3</a> on 2025-08-11 03:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-14 15:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:19 UTC
    </footer>
</body>
</html>
