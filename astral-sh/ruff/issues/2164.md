```yaml
number: 2164
title: TRY201 false positive
type: issue
state: closed
author: JonathanPlasse
labels: []
assignees: []
created_at: 2023-01-25T18:13:02Z
updated_at: 2023-01-25T19:06:28Z
url: https://github.com/astral-sh/ruff/issues/2164
synced_at: 2026-01-10T01:56:45Z
```

# TRY201 false positive

---

_Issue opened by @JonathanPlasse on 2023-01-25 18:13_

This code raises `TRY201`.
```python
try:
    pass
except Exception as e:
    print(e)
    raise e
```
`TRY201` wants us to simplify to:
```python
try:
    pass
except Exception:
    print(e)
    raise
```
but we use `print(e)` so the rule should not be raised.

Ruff version: `0.0.231`

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

- A minimal code snippet that reproduces the bug.
- The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
- The current Ruff settings (any relevant sections from your `pyproject.toml`).
- The current Ruff version (`ruff --version`).
-->


---

_Assigned to @charliermarsh by @charliermarsh on 2023-01-25 18:17_

---

_Label `bug` added by @charliermarsh on 2023-01-25 18:17_

---

_Label `autofix` added by @charliermarsh on 2023-01-25 18:17_

---

_Comment by @charliermarsh on 2023-01-25 18:18_

I'll fix this now.

---

_Comment by @charliermarsh on 2023-01-25 18:18_

Go for it!

---

_Unassigned @charliermarsh by @charliermarsh on 2023-01-25 18:18_

---

_Comment by @JonathanPlasse on 2023-01-25 18:18_

Ok

---

_Comment by @charliermarsh on 2023-01-25 18:19_

I think it's correct to flag this, but the `e` shouldn't be removed... Since this is valid:

```py
try:
    1/0
except Exception as e:
    print(e)
    raise
```

---

_Closed by @JonathanPlasse on 2023-01-25 18:20_

---

_Comment by @charliermarsh on 2023-01-25 18:20_

Oh wait, sorry, this might not be a bug? I thought you were saying that we were trying to autofix it to the broken version.

---

_Label `bug` removed by @charliermarsh on 2023-01-25 18:20_

---

_Label `autofix` removed by @charliermarsh on 2023-01-25 18:20_

---

_Comment by @JonathanPlasse on 2023-01-25 19:06_

Yes, there is no bug.

---

_Referenced in [astral-sh/ruff#2334](../../astral-sh/ruff/issues/2334.md) on 2023-01-30 00:45_

---
