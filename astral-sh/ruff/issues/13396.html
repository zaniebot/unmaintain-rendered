<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slicing string around `len()` (expansion of FURB188 slice-to-remove-prefix-or-suffix) - astral-sh/ruff #13396</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Slicing string around <code>len()</code> (expansion of FURB188 slice-to-remove-prefix-or-suffix)</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13396">#13396</a>
        opened by <a href="https://github.com/opk12">@opk12</a>
        on 2024-09-18 18:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/opk12">@opk12</a> on 2024-09-18 18:58</div>
            <div class="timeline-body"><p>This old code slices a string, using the <code>len()</code> of the prefix (which is a string variable) and suffix (which is a literal). I don't know if it was a common idiom, but Python 3.9 <a href="https://docs.python.org/3.9/library/stdtypes.html#str.removeprefix">introduced</a> the more readable alternatives, <code>str.removeprefix()</code> + <code>str.removesuffix()</code>. They have the advantage that they don't raise, if the string does not match the prefix / suffix.</p>
<p>This is related to <a href="https://docs.astral.sh/ruff/rules/slice-to-remove-prefix-or-suffix/">FURB188</a> <code>slice-to-remove-prefix-or-suffix</code>.</p>
<p><strong>Source</strong></p>
<pre><code>def path_to_qualified_name(path: str, project_dir: str) -&gt; str:
    return path[len(project_dir):-len('.py')].replace('/', '.')
</code></pre>
<p><strong>Command</strong>
<code>ruff check .  --select ALL --isolated --preview</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-09-19 07:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:35:11 UTC
    </footer>
</body>
</html>
