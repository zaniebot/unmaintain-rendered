<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docs: code blocks invalid python syntax - astral-sh/ruff #14153</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Docs: code blocks invalid python syntax</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/14153">#14153</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2024-11-07 12:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-07 12:51</div>
            <div class="timeline-body"><p>Several rules that operate on physical lines have Python example code blocks. However, often these blocks are invalid Python syntax.
Should these be changed to text?</p>
<p>e.g.</p>
<pre><code>```text
</code></pre>
<p>Example: https://docs.astral.sh/ruff/rules/tab-after-keyword/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-07 13:00</div>
            <div class="timeline-body"><p>What's the advantage in your view to use <code>text</code>? I do like that <code>python</code> still gives us keyword highlighting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-07 13:14</div>
            <div class="timeline-body"><p>I encountered this when extracting imports from the examples (for categorisation). I can imagine wanting to doctest the examples being valid (where applicable).</p>
<p>I do also like the keyword highlighting.</p>
<p>Either way would be fine with me. Just opening the issue for discussion purposes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-07 13:53</div>
            <div class="timeline-body"><p>Yeah, that's a good point. Not sure how to get the best of both worlds</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @AlexWaygood on 2024-11-07 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-11-07 18:01</div>
            <div class="timeline-body"><p>We could do something similar to the Attributes section here:</p>
<p>https://doc.rust-lang.org/rustdoc/write-documentation/documentation-tests.html</p>
<p>And then whatever script you're using to pull these examples could look for a flag like <code>should_fail</code> or <code>no_compile</code> etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-08 08:23</div>
            <div class="timeline-body"><p>I like that idea. But I suspect we would lose the python syntax highlighting on the website unless we transform <code>should_fail</code> and <code>no_compile</code> (or whatever the name we decide on) back to <code>python</code> when generating the docs output.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:54 UTC
    </footer>
</body>
</html>
