<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ruff format does not break overlong lines - astral-sh/ruff #12188</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ruff format does not break overlong lines</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/12188">#12188</a>
        opened by <a href="https://github.com/PerMildner">@PerMildner</a>
        on 2024-07-04 12:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/PerMildner">@PerMildner</a> on 2024-07-04 12:53</div>
            <div class="timeline-body"><p>I would expect <code>ruff format</code> to break overlong comment lines, but it does not seem to do this.</p>
<p>The example is from a devcontainer terminal within VSCode, but I do not think that is significant, given that I pass the <code>--isolated</code> flag to <code>ruff</code>.</p>
<p>Note that <code>ruff format</code> does fix the repeated whitespace (so <code>format</code> does some work) but it does nothing with the long comment line.</p>
<pre><code>$ poetry run ruff --version
ruff 0.5.0
$ poetry run ruff format --verbose --isolated --line-length=88 --diff tests/conftest.py 
[2024-07-04][12:47:40][ruff::resolve][DEBUG] Isolated mode, not reading any pyproject.toml
[2024-07-04][12:47:40][ruff::commands::format][DEBUG] format_path; path=/home/user/..redacted../tests/conftest.py
[2024-07-04][12:47:40][tracing::span][DEBUG] Printer::print;
[2024-07-04][12:47:40][ruff::commands::format][DEBUG] Formatted 1 files in 20.02ms
--- tests/conftest.py
+++ tests/conftest.py
@@ -20,7 +20,7 @@
 # Test whether CI detect this overlong line: long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long
 @pytest.fixture(scope=&quot;session&quot;)
 def s3(request: pytest.FixtureRequest) -&gt; S3Client:
-    url =    request.config.option.storage_url
+    url = request.config.option.storage_url
     if url is None:
         pytest.fail(&quot;No --storage-url parameter passed to pytest&quot;, False)
     user = request.config.option.storage_user

1 file would be reformatted
$
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-04 13:02</div>
            <div class="timeline-body"><p>It took me a moment to find the issue. I knew it was somewhere. I'll close this issue in favor of https://github.com/astral-sh/ruff/issues/7414</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-07-04 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-07-04 13:12</div>
            <div class="timeline-body"><p>Yeah, we don't wrap overlong comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PerMildner">@PerMildner</a> on 2024-07-04 13:16</div>
            <div class="timeline-body"><p>Thanks for the update. I understand.</p>
<p>That this is, at least for now, as intended is not at all clear from the documentation of <code>ruff format</code>, though.</p>
<p>Should I open a separate &quot;documentation is unclear&quot; ticket?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:53 UTC
    </footer>
</body>
</html>
