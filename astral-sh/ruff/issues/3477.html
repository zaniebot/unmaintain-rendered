<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I want ruff to fix `F811` error. - astral-sh/ruff #3477</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>I want ruff to fix <code>F811</code> error.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/3477">#3477</a>
        opened by <a href="https://github.com/yuji38kwmt">@yuji38kwmt</a>
        on 2023-03-13 04:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yuji38kwmt">@yuji38kwmt</a></div>
            <div class="timeline-body"><h1>Environments</h1>
<pre><code>$ uname -a
Linux example 5.15.0-60-generic #66-Ubuntu SMP Fri Jan 20 14:29:49 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux
$ python --version
Python 3.11.2
$ ruff --version
ruff 0.0.254
</code></pre>
<h1>What's happened?</h1>
<p>I want to fix the following code.</p>
<pre><code>import pandas
import pandas
df = pandas.Series([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])
</code></pre>
<p>But ruff did not fix line 1.</p>
<pre><code>$ ruff sample.py  --fix --isolated
sample.py:2:8: F811 Redefinition of unused `pandas` from line 1
Found 1 error.
</code></pre>
<h1>What do I expect?</h1>
<p>I expect that ruff fix <code>F811</code> error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-13 18:46</div>
            <div class="timeline-body"><p>We used to fix this, but it's not always safe and can be hard to get right. Not in this trivial case, but, e.g., see #2044.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">autofix</span> added by @charliermarsh on 2023-03-13 18:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yuji38kwmt">@yuji38kwmt</a> on 2023-03-14 01:03</div>
            <div class="timeline-body"><p>Thanks! I Got it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-18 04:08</div>
            <div class="timeline-body"><p>I think we should consider fixing these in the event that <em>both</em> are imports.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-05-04 15:46</div>
            <div class="timeline-body"><p>I definitely agree these should be fixed if both are imports â€” in my move from <code>isort</code> to <code>ruff</code> this is one of the biggest changes to my workflow. For example, when resolving import merge conflicts (which are common) I usually just accept both changes then rely on the linter to resolve duplicate and unused imports.</p>
<p>Does this seem like a straight-forward feature to implement? Happy to give it a go with some guidance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-01-07 01:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-01-09 00:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:46 UTC
    </footer>
</body>
</html>
