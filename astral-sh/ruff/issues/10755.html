<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should `ICN001` allow conventional imports with a leading underscore? - astral-sh/ruff #10755</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Should <code>ICN001</code> allow conventional imports with a leading underscore?</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10755">#10755</a>
        opened by <a href="https://github.com/lucascolley">@lucascolley</a>
        on 2024-04-03 10:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lucascolley">@lucascolley</a> on 2024-04-03 10:58</div>
            <div class="timeline-body"><p><a href="https://peps.python.org/pep-0008/#public-and-internal-interfaces">PEP8</a> says:</p>
<blockquote>
<p>Even with <code>__all__</code> set appropriately, internal interfaces (packages, modules, classes, functions, attributes or other names) should still be prefixed with a single leading underscore.</p>
<p>An interface is also considered internal if any containing namespace (package, module or class) is considered internal.</p>
</blockquote>
<p>In light of that, should <code>ICN001</code> allow things like <code>import numpy as _np</code>? Is that <em>conventional</em>, or not? If not, why not? Sure, it doesn't see much use, but is that really in line with PEP8?</p>
<p>x-ref https://github.com/scipy/scipy/pull/20382</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lucascolley">@lucascolley</a> on 2024-04-03 12:55</div>
            <div class="timeline-body"><p>I'm still not quite sure how to interpret PEP8 there. Does the second paragraph I have quoted above mean 'every interface contained in an internal namespace should be prefixed with a single leading underscore', or 'every interface contained in an internal namespace needn't be prefixed with a single leading underscore, in virtue of being contained in an internal namespace'? I think the latter makes much more sense, but the wording is far from clear.</p>
<p>If it is the latter, then I suppose this can be resolved by importing from only internal modules in <code>__init__.py</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @AlexWaygood on 2024-04-03 12:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">linter</span> added by @AlexWaygood on 2024-04-03 12:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:33:24 UTC
    </footer>
</body>
</html>
