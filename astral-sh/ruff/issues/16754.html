<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F841 not reporting unused var in for loops - astral-sh/ruff #16754</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>F841 not reporting unused var in for loops</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/16754">#16754</a>
        opened by <a href="https://github.com/sk-">@sk-</a>
        on 2025-03-14 16:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sk-">@sk-</a> on 2025-03-14 16:09</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>F841 is not reporting unused loop vars as unused. This can be seen in the following code (<a href="https://play.ruff.rs/f5ecf49d-df91-4033-adaf-a7ad42c39f07">playground</a>)</p>
<pre><code class="language-python">def func():
    for x in []:
        pass

    data = {}
    for key1, val1 in data.items():
        pass

    for key2, val2 in data.items():
        print(key2)

    for ke3, val3 in data.items():
        print(val3)
</code></pre>
<p>In the code above, if the variables were reported as unused, the programmer, could be able to realize that better constructs exist for their use case, replacing the last two loops with</p>
<pre><code class="language-python">     for key2 in data:
        print(key2)

    for val3 in data.values():
        print(val3)
</code></pre>
<p>May be related to #16753.</p>
<h3>Version</h3>
<p>v0.11.0 (playground)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-03-14 16:50</div>
            <div class="timeline-body"><p>I believe this use case is covered by <a href="https://docs.astral.sh/ruff/rules/unused-loop-control-variable/#unused-loop-control-variable-b007"><code>unused-loop-control-variable</code></a> (<code>B007</code>) instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ntBre on 2025-03-14 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sk- on 2025-03-14 17:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:15 UTC
    </footer>
</body>
</html>
