<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Please add a lint that is the opposite of redundant-open-modes (UP015) - astral-sh/ruff #18435</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Please add a lint that is the opposite of redundant-open-modes (UP015)</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/18435">#18435</a>
        opened by <a href="https://github.com/zackw">@zackw</a>
        on 2025-06-02 20:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zackw">@zackw</a> on 2025-06-02 20:16</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>The UP015 lint wants you to change <code>open(path, &quot;r&quot;)</code> into just <code>open(path)</code>.</p>
<p>Preferred code style in my neck of the woods is exactly the opposite: one should <em>always</em> specify the mode argument to <code>open</code>; moreover, one should <em>always</em> specify text or binary.  So I would like there to be a lint that suggests changing both <code>open(path)</code> and <code>open(path, &quot;r&quot;)</code> to <code>open(path, &quot;rt&quot;)</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-06-02 20:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @ntBre on 2025-06-02 20:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-02 20:34</div>
            <div class="timeline-body"><p>I can see how this could be preferable, but I think we generally try to avoid adding conflicting rules. We'd need to figure out how to reconcile that here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zackw">@zackw</a> on 2025-06-02 20:44</div>
            <div class="timeline-body"><p>That's a sensible goal to have.</p>
<p>Being new to this project, I don't know how similar things have been handled in the past. I know pycodestyle has (or at least used to have) <a href="https://www.flake8rules.com/rules/W503.html">W503</a> and <a href="https://www.flake8rules.com/rules/W504.html">W504</a> which are mutually contradictory, so neither of them is on by default and you have to pick one, but it looks like ruff absorbed neither of them...?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-02 20:56</div>
            <div class="timeline-body"><p>We definitely have some that conflict. You can see them with <code>--select all</code>, for example:</p>
<pre><code class="language-shell">$ ruff check --select ALL --no-cache --output-format=concise
warning: `incorrect-blank-line-before-class` (D203) and `no-blank-line-before-class` (D211) are incompatible. Ignoring `incorrect-blank-line-before-class`.
warning: `multi-line-summary-first-line` (D212) and `multi-line-summary-second-line` (D213) are incompatible. Ignoring `multi-line-summary-second-line`.
</code></pre>
<p>We just have to decide if we want to add more.</p>
<p>Not totally related, but I also found a previous discussion of W503 and W504 <a href="https://github.com/astral-sh/ruff/issues/4125">here</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2025-06-03 16:52</div>
            <div class="timeline-body"><p>I agree I prefer a rule to be configurable rather than contradicting. (Especially for extending configuration).</p>
<p><code>open-mode</code> could be a rule configured to be &quot;implicit or explicit&quot;</p>
<p>A configurable <code>UP015</code> could act like pyupgrade by default.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
