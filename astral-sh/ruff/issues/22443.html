<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add rule to enforce multiline formatting for `__all__` declarations - astral-sh/ruff #22443</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add rule to enforce multiline formatting for <code>__all__</code> declarations</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/22443">#22443</a>
        opened by <a href="https://github.com/Danipulok">@Danipulok</a>
        on 2026-01-07 18:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Danipulok">@Danipulok</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Add a new rule that enforces multiline formatting for <code>__all__</code> declarations when they contain multiple items</p>
<h3>Example</h3>
<p><strong>Original code:</strong></p>
<pre><code class="language-python">__all__ = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>
<p><strong>Changed to:</strong></p>
<pre><code class="language-python">__all__ = [
    &quot;a&quot;,
    &quot;b&quot;,
    &quot;c&quot;,
]
</code></pre>
<h3>Problem</h3>
<p>Currently there are multiple ways to write <code>__all__</code>. I've been using <code>ruff</code> for two years (I guess) and I would really like to have a rule that makes only one way to write <code>__all__</code>. It would be really convenient to enforce it in large code bases</p>
<h3>Rationale</h3>
<ul>
<li>Improves readability for modules with many exported items</li>
<li>Reduces merge conflicts when adding/removing exports</li>
<li>Makes diffs cleaner - each addition/removal is a single line</li>
<li>Only one way to format <code>__all__</code></li>
</ul>
<h3>Configuration options (suggestion)</h3>
<ul>
<li><code>min-items</code>: Minimum number of items to trigger multiline formatting (default: 2)</li>
<li><code>always-multiline</code>: Force multiline even for single items (default: false)</li>
</ul>
<h3>Related</h3>
<p>ruf022: https://docs.astral.sh/ruff/rules/unsorted-dunder-all/#unsorted-dunder-all-ruf022</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add rule to enforce multiline formatting for `__all__` declarations" to "[RuleRequest] Add rule to enforce multiline formatting for `__all__` declarations" by @Danipulok on 2026-01-07 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[RuleRequest] Add rule to enforce multiline formatting for `__all__` declarations" to "Add rule to enforce multiline formatting for `__all__` declarations" by @MichaReiser on 2026-01-08 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2026-01-08 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2026-01-08 08:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:53:45 UTC
    </footer>
</body>
</html>
