<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add rule to enforce multiline formatting for `__all__` declarations - astral-sh/ruff #22443</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add rule to enforce multiline formatting for <code>__all__</code> declarations</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/22443">#22443</a>
        opened by <a href="https://github.com/Danipulok">@Danipulok</a>
        on 2026-01-07 18:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Danipulok">@Danipulok</a></div>
            <div class="timeline-body">Summary
<p>Add a new rule that enforces multiline formatting for <code>__all__</code> declarations when they contain multiple items</p>
Example
<p><strong>Original code:</strong></p>
<pre><code>__all__ = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>
<p><strong>Changed to:</strong></p>
<pre><code>__all__ = [
    &quot;a&quot;,
    &quot;b&quot;,
    &quot;c&quot;,
]
</code></pre>
Problem
<p>Currently there are multiple ways to write <code>__all__</code>. I&#x27;ve been using <code>ruff</code> for two years (I guess) and I would really like to have a rule that makes only one way to write <code>__all__</code>. It would be really convenient to enforce it in large code bases</p>
Rationale
<ul>
<li>Improves readability for modules with many exported items</li>
<li>Reduces merge conflicts when adding/removing exports</li>
<li>Makes diffs cleaner - each addition/removal is a single line</li>
<li>Only one way to format <code>__all__</code></li>
</ul>
Configuration options (suggestion)
<ul>
<li><code>min-items</code>: Minimum number of items to trigger multiline formatting (default: 2)</li>
<li><code>always-multiline</code>: Force multiline even for single items (default: false)</li>
</ul>
Related
<p>ruf022: https://docs.astral.sh/ruff/rules/unsorted-dunder-all/#unsorted-dunder-all-ruf022</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Add rule to enforce multiline formatting for `__all__` declarations&quot; to &quot;[RuleRequest] Add rule to enforce multiline formatting for `__all__` declarations&quot; by <a href="https://github.com/Danipulok">@Danipulok</a> on 2026-01-07 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[RuleRequest] Add rule to enforce multiline formatting for `__all__` declarations&quot; to &quot;Add rule to enforce multiline formatting for `__all__` declarations&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-08 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-08 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-08 08:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:44 UTC
    </footer>
</body>
</html>
