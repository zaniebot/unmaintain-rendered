<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIM911 false positive (with bad autofix) on non-`zip` attribute calls - astral-sh/ruff #11125</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>SIM911 false positive (with bad autofix) on non-<code>zip</code> attribute calls</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11125">#11125</a>
        opened by <a href="https://github.com/lukas-folle-snkeos">@lukas-folle-snkeos</a>
        on 2024-04-24 12:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lukas-folle-snkeos">@lukas-folle-snkeos</a></div>
            <div class="timeline-body">Description
<p>Running the ruff format on <code>plt.bar(dict_a.keys(), dict_a.values())</code> is formatted by ruff to <code>dict_a.items()</code> which seems to be an issue.</p>
<p>This is the pre-commit config I am using</p>
<pre><code>- repo:
https://github.com/astral-sh/ruff-pre-commit
  rev: 21d9bff1d62aaf03230baa6b804b9074255fa9b8 # v0.4.1
  hooks:
    - id: ruff
      args:
        - --output-format
        - full
        - --fix
      types_or: [python, pyi, jupyter]
    - id: ruff-format
      types_or: [python, pyi, jupyter]
</code></pre>
Example
<pre><code>from matplotlib.pyplot import plt

dict_a = {&quot;A&quot;:1, &quot;B&quot;:2, &quot;C&quot;:3}

plt.bar(dict_a.keys(), dict_a.values())
</code></pre>
<p>Resolves this to:</p>
<pre><code>dict_a = {&quot;A&quot;: 1, &quot;B&quot;: 2, &quot;C&quot;: 3}

dict_a.items()
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-24 12:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-24 12:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-24 12:53</div>
            <div class="timeline-body"><p>Thanks, will fix this now!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[Bug] Ruff format strange behaviour on `matplotlib.bar`&quot; to &quot;SIM911 false positive (with bad autofix) on non-`zip` attribute calls&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-04-24 13:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-24 13:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:52 UTC
    </footer>
</body>
</html>
