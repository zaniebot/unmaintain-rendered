<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E999 Syntax error on match statement with python 3.10 - astral-sh/ruff #1783</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>E999 Syntax error on match statement with python 3.10</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1783">#1783</a>
        opened by <a href="https://github.com/leddy231">@leddy231</a>
        on 2023-01-11 13:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/leddy231">@leddy231</a></div>
            <div class="timeline-body">

<p>Incredible tool so far, working on replacing all of pylint in our monorepo with ruff right now, and using the vscode extension.</p>
<p><em>Bug:</em>
Ruff seams to not be able to handle python 3.10 match cases?
Got it down to a very small working example, even specifying py310 in pyproject.toml or from command line does not work.
This example is just one python file, no pyproject.toml or ruff.toml.</p>
<p><img src="https://user-images.githubusercontent.com/2323691/211818390-0eea2e8b-a365-4aa5-a4b6-284bb583d247.png" alt="image"></p>
<p>Here is the small code snippet.</p>
<pre><code>import os # should trigger &quot;unused import&quot;

match &quot;x&quot;:
  case &quot;x&quot;:
    print(&quot;x&quot;)
</code></pre>
<p>Edit:
Here is a Dockerfile that re-creates the bug, so it is nothing weird on my machine</p>
<pre><code>FROM python:3.10-alpine

RUN pip install ruff
RUN echo &quot;match &#x27;x&#x27;:&quot;     &gt;&gt; test.py
RUN echo &quot;  case &#x27;x&#x27;:&quot;    &gt;&gt; test.py
RUN echo &quot;    print(&#x27;x&#x27;)&quot; &gt;&gt; test.py
RUN python test.py
RUN ruff --target-version &quot;py310&quot; test.py
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2023-01-11 15:19</div>
            <div class="timeline-body"><p>Duplicate of <a href="https://github.com/charliermarsh/ruff/issues/282">charliermarsh/ruff#282</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leddy231">@leddy231</a> on 2023-01-11 15:20</div>
            <div class="timeline-body"><p>And i though i was good at searching github issues... :sweat_smile:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 15:34</div>
            <div class="timeline-body"><p>All good :) We&#x27;re working on it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 00:05</div>
            <div class="timeline-body"><p>Fixed as of v0.0.250 which included <code>match</code> statement support.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SirDank">@SirDank</a> on 2025-02-27 16:46</div>
            <div class="timeline-body"><p>@charliermarsh got this on <code>Python 3.12.8</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-27 16:53</div>
            <div class="timeline-body"><p>@SirDank see <a href="https://github.com/astral-sh/ruff/issues/16417">astral-sh/ruff#16417</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:29 UTC
    </footer>
</body>
</html>
