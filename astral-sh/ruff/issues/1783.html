<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E999 Syntax error on match statement with python 3.10 - astral-sh/ruff #1783</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>E999 Syntax error on match statement with python 3.10</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1783">#1783</a>
        opened by <a href="https://github.com/leddy231">@leddy231</a>
        on 2023-01-11 13:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/leddy231">@leddy231</a> on 2023-01-11 13:31</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

- A minimal code snippet that reproduces the bug.
- The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
- The current Ruff settings (any relevant sections from your `pyproject.toml`).
- The current Ruff version (`ruff --version`).
-->

<p>Incredible tool so far, working on replacing all of pylint in our monorepo with ruff right now, and using the vscode extension.</p>
<p><em>Bug:</em>
Ruff seams to not be able to handle python 3.10 match cases?
Got it down to a very small working example, even specifying py310 in pyproject.toml or from command line does not work.
This example is just one python file, no pyproject.toml or ruff.toml.</p>
<p><img src="https://user-images.githubusercontent.com/2323691/211818390-0eea2e8b-a365-4aa5-a4b6-284bb583d247.png" alt="image" /></p>
<p>Here is the small code snippet.</p>
<pre><code class="language-python">import os # should trigger &quot;unused import&quot;

match &quot;x&quot;:
  case &quot;x&quot;:
    print(&quot;x&quot;)
</code></pre>
<p>Edit:
Here is a Dockerfile that re-creates the bug, so it is nothing weird on my machine</p>
<pre><code class="language-Dockerfile">FROM python:3.10-alpine

RUN pip install ruff
RUN echo &quot;match 'x':&quot;     &gt;&gt; test.py
RUN echo &quot;  case 'x':&quot;    &gt;&gt; test.py
RUN echo &quot;    print('x')&quot; &gt;&gt; test.py
RUN python test.py
RUN ruff --target-version &quot;py310&quot; test.py
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2023-01-11 15:19</div>
            <div class="timeline-body"><p>Duplicate of https://github.com/charliermarsh/ruff/issues/282</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leddy231">@leddy231</a> on 2023-01-11 15:20</div>
            <div class="timeline-body"><p>And i though i was good at searching github issues... :sweat_smile:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 15:34</div>
            <div class="timeline-body"><p>All good :) We're working on it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-11 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 00:05</div>
            <div class="timeline-body"><p>Fixed as of v0.0.250 which included <code>match</code> statement support.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SirDank">@SirDank</a> on 2025-02-27 16:46</div>
            <div class="timeline-body"><p>@charliermarsh got this on <code>Python 3.12.8</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-02-27 16:53</div>
            <div class="timeline-body"><p>@SirDank see https://github.com/astral-sh/ruff/issues/16417</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:07 UTC
    </footer>
</body>
</html>
