<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request : C0103/invalid-name: Allow specifying valid variable and constant patterns with regular expressions. - astral-sh/ruff #10629</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Feature Request : C0103/invalid-name: Allow specifying valid variable and constant patterns with regular expressions.</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/10629">#10629</a>
        opened by <a href="https://github.com/astrowonk">@astrowonk</a>
        on 2024-03-27 15:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/astrowonk">@astrowonk</a> on 2024-03-27 15:26</div>
            <div class="timeline-body"><p>This is similar to the closed #7660. As noted in that issue, Pylint lets you **define your own regex for acceptable variable and constant names* (enforcing snake_case  for example, or variable length,or both):</p>
<pre><code>variable-rgx=[a-z_][a-z0-9_]{2,40}$
</code></pre>
<p>While <code>C0103</code> in pylint is checked off in #970, one can not define explicit regex for what constitutes an acceptable naming convention. #7660 was closed with updated documentation on ignore-names globbing, but I don't think that is similar functionality to pylint that I'm requesting. I would like parity with pylint to allow regex for variable and constant names, so users can enforce snake_case or pascalcase, etc. and then mismatches with that regex triggering <code>invalid-name</code>, like pylint does now. Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-27 20:51</div>
            <div class="timeline-body"><p>Is the main goal to enforce snake, pascal, or another predefined casing standard? Iˋm asking because Ruff canˋt offer autofixes when we allow a custom regex (and error message would probably also be somewhat cryptic).</p>
<p>Another reason for not allowing a regex is that ruff has other rules to enforce a certain variable lenght and we want to avoid overlapping rules</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrowonk">@astrowonk</a> on 2024-03-28 01:02</div>
            <div class="timeline-body"><blockquote>
<p>Is the main goal to enforce snake, pascal, or another predefined casing standard? Iˋm asking because Ruff canˋt offer autofixes when we allow a custom regex (and error message would probably also be somewhat cryptic).</p>
<p>Another reason for not allowing a regex is that ruff has other rules to enforce a certain variable lenght and we want to avoid overlapping rules</p>
</blockquote>
<p>My particular use case is pretty much in the regex above; with it pylint flags non-compliant variable names: anything that isn't snake case or outside the min/max variable length.</p>
<p>Obviously autofix is super useful but I think it's fine to have some rules that can't be autofixed. For this example, Pylint would say something like <code>invalid-name, doesn't match pattern [a-z_][a-z0-9_]{2,40}</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-28 13:41</div>
            <div class="timeline-body"><p>Thanks for explaining. That makes sense. I suspect that the fact that the rule overlaps with other existing and proposed rules will make it challenging to have this rule accepted. I'll keep this open as an alternative to consider when deciding whether Ruff should have more variable-length restricting rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-03-28 13:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> added by @MichaReiser on 2024-03-28 13:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-design</span> removed by @MichaReiser on 2024-03-28 13:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2024-03-28 13:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astrowonk">@astrowonk</a> on 2024-03-28 14:04</div>
            <div class="timeline-body"><p>Thanks. Sorry, I keep searching the rule list but haven't been able to find these: what are the other ruff rules that enforce variable length?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-04 09:17</div>
            <div class="timeline-body"><p>Yeah sorry. I should have linked to those. There was a PR for <a href="https://github.com/astral-sh/ruff/pull/5632/"><code>too-short-name</code></a> that I closed. The rule overlaps with what you suggest and we may want to support the rule once #1774 is complete.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:12 UTC
    </footer>
</body>
</html>
