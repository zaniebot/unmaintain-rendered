```yaml
number: 13382
title: "SLF001 when using Django Model `_meta` API"
type: issue
state: closed
author: bittner
labels:
  - question
assignees: []
created_at: 2024-09-17T17:06:24Z
updated_at: 2024-09-19T07:35:32Z
url: https://github.com/astral-sh/ruff/issues/13382
synced_at: 2026-01-10T01:56:53Z
```

# SLF001 when using Django Model `_meta` API

---

_Issue opened by @bittner on 2024-09-17 17:06_

In Django, there is the [Model `_meta` API](https://docs.djangoproject.com/en/stable/ref/models/meta/), an endorsed way to access internal information about a model.

Example model:

```python
class MyModel(models.Model):

    class Meta:
        db_table = "custom_table_name"
```

Example usage:

```python
table_name = MyModel()._meta.db_table
```

The way the API is used is by the `_meta` member, which quite obviously triggers [SLF001](https://docs.astral.sh/ruff/rules/private-member-access/) as a linter warning. (As of Ruff version **0.6.4**)

There's no other way to access the members of this API, and as this is an official API of the Django framework it's not clear why code like this should be discouraged (unless it's about motivating the Django project to redesign this API).

Is there any chance we could make Ruff consider this as an accepted pattern? -- Should this request be submitted to the [flake8-django](https://github.com/rocioar/flake8-django) project, first?

---

_Label `bug` added by @charliermarsh on 2024-09-18 02:33_

---

_Label `bug` removed by @charliermarsh on 2024-09-18 02:33_

---

_Label `question` added by @charliermarsh on 2024-09-18 02:33_

---

_Comment by @charliermarsh on 2024-09-18 02:34_

I think I'd recommend adding this to [`ignore-names`](https://docs.astral.sh/ruff/settings/#lint_flake8-self_ignore-names) -- does that work?

E.g.:

```toml
[tool.ruff.lint.flake8-self]
ignore-names = ["_meta"]
```

---

_Comment by @bittner on 2024-09-18 07:58_

That works, thank you! :+1: 

But shouldn't we make this a general rule, and more specific, just for Django Model classes?

---

_Comment by @MichaReiser on 2024-09-19 07:35_

> But shouldn't we make this a general rule, and more specific, just for Django Model classes?

That would be great, but Ruff must understand that `models.Model` inherits a Django model, something it currently doesn't understand because it lacks multifile analysis. 

An alternative is to default to ignoring `_meta` whenever there's a `django` import, but I don't even know if that's the case for this file. This has the risk of the rule missing `_meta` usages outside of a Django model. 

Overall, ignore names is a good explicit opt in for now.

---

_Closed by @MichaReiser on 2024-09-19 07:35_

---
