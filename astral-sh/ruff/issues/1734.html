<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement W291 (trailing whitespace)? - astral-sh/ruff #1734</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement W291 (trailing whitespace)?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1734">#1734</a>
        opened by <a href="https://github.com/harupy">@harupy</a>
        on 2023-01-08 04:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/harupy">@harupy</a></div>
            <div class="timeline-body">

<p>It&#x27;d be nice if Ruff could detect trailing whitespace:</p>
<img alt="image" src="https://user-images.githubusercontent.com/17039389/211179938-4a48eefd-483d-4f07-972b-11e539501a92.png">

<p>(even though black can eliminate them)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Implement W291?&quot; to &quot;Implement W291 (trailing whitespace)?&quot; by <a href="https://github.com/harupy">@harupy</a> on 2023-01-08 04:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-08 04:16</div>
            <div class="timeline-body"><p>I don&#x27;t know if it&#x27;s relevant (haven&#x27;t thought through how we would implement trailing whitespace), but I started implementing Pycodestyle&#x27;s logical line detection in <a href="https://github.com/charliermarsh/ruff/pull/1130">charliermarsh/ruff#1130</a> -- although I felt at the time that it was a bit too slow to be worthwhile as a default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-08 04:16</div>
            <div class="timeline-body"><p>Do these checks typically exclude trailing whitespace within strings?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-08 04:22</div>
            <div class="timeline-body"><p>Black preserves trailing whitespace in multiline strings (as it should). I just checked and pycodestyle does trigger W291 for trailing whitespace within multiline strings. To be honest I don&#x27;t really see the point of this lint.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-08 04:24</div>
            <div class="timeline-body"><p>I think it&#x27;s a perfectly useful rule, <em>if you don&#x27;t use an autoformatter</em>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-01-08 04:27</div>
            <div class="timeline-body"><p>Haha yes I don&#x27;t see why you wouldn&#x27;t.^^</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harupy">@harupy</a> on 2023-01-08 04:35</div>
            <div class="timeline-body"><p>@charliermarsh @not-my-profile Agreed! Let me close this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/harupy">@harupy</a> on 2023-01-08 04:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harupy">@harupy</a> on 2023-01-08 04:37</div>
            <div class="timeline-body"><blockquote>
<p>Black preserves trailing whitespace in multiline strings (as it should). I just checked and pycodestyle does trigger W291 for trailing whitespace within multiline strings. To be honest I don&#x27;t really see the point of this lint.</p>
</blockquote>
<p>Yes, black does. We can align with black and ignore trailing whitespace in strings (as shown in the attached screenshot).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:29 UTC
    </footer>
</body>
</html>
