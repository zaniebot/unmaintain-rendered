```yaml
number: 11904
title: "`Args:` section not correctly formatted when no description is provided"
type: issue
state: open
author: antoinebrl
labels:
  - rule
  - docstring
assignees: []
created_at: 2024-06-17T12:54:46Z
updated_at: 2024-06-23T16:35:01Z
url: https://github.com/astral-sh/ruff/issues/11904
synced_at: 2026-01-10T01:56:52Z
```

# `Args:` section not correctly formatted when no description is provided

---

_Issue opened by @antoinebrl on 2024-06-17 12:54_

Hello,

I stumbled upon this bug when trying to add `pydocstyle` rules using the Google docstring convention. The `Args:` section is not correctly identified and therefore formatted when no description is provided. For example, this code
```python
class MyClass:
    """Short Summary.
    
    Long description.
    """

    def __init__(self, a, b):
        """
        Args:
            a: first argument.
            b: second argument.
        """
        self.a = a
        self.b = a
```
if formatted to this:
```python
class MyClass:
    """Short Summary.
    
    Long description.
    """

    def __init__(self, a, b):
        """Args:
        a: first argument.
        b: second argument.
        """
        self.a = a
        self.b = a
```

The command I used is `ruff check --config ../ruff.toml --fix ruff-d212.py` and the config is below:
```toml
target-version = "py310"
line-length = 120

[format]
docstring-code-format = true
docstring-code-line-length = 89
skip-magic-trailing-comma = true

[lint]
preview = true
select = [
    "D",        # pydocstyle
]

[lint.pydocstyle]
convention = "google"
```

`Args:` is a special heading so I wouldn't expect it to be moved it onto the first line. Note that the `--fix` resolved D212 but not D205, which make me to think the section is not correctly identified:
```
ruff-d212.py:8:9: D205 1 blank line required between summary line and description
ruff-d212.py:8:9: D212 [*] Multi-line docstring summary should start at the first line
```

---

_Comment by @MichaReiser on 2024-06-18 06:01_

Thanks for opening this issue. 

Reading through the google convention, it seems that the summary line is mandatory. 

>  A docstring should be organized as a summary line (one physical line not exceeding 80 characters) terminated by a period, question mark, or exclamation point. When writing more (encouraged), this must be followed by a blank line, followed by the rest of the docstring starting at the same cursor position as the first quote of the first line. There are more formatting guidelines for docstrings below. [source](https://google.github.io/styleguide/pyguide.html#381-docstrings)

But I can  see how enforcing a summary might have to be its own rule, or at least would help to get more descriptive errors. 



---

_Label `rule` added by @MichaReiser on 2024-06-18 06:01_

---

_Comment by @antoinebrl on 2024-06-18 11:08_

Thanks @MichaReiser for providing references!

If the module and the class are already well documented there is little interest in adding a summary to the constructor. All `__init__` would somehow ending up with a variant of "Instantiating object XYX" or "Initializes the instance", which doesn't carry much information. The standard doesn't consider the case were only the Args section is relevant.

---

_Comment by @MichaReiser on 2024-06-18 11:33_

Yeah, I can see the use case. What's unclear to me is this is in accordance with the google convention. What I read out of it is that the summary is mandatory.

Either way, fixing this might be a bit more involved because the way these two rules are currently implemented is that they don't know about sections. We would need to change the implementations to consider sections.

---

_Label `docstring` added by @charliermarsh on 2024-06-23 15:17_

---

_Comment by @charliermarsh on 2024-06-23 16:35_

I think D212 is arguably the culprit here. I feel like the diagnostic should be: you're missing a summary line (rather than: the summary line is on the wrong line).

---
