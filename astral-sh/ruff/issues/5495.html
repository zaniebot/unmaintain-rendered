<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff rule does not describe multiple rules - astral-sh/ruff #5495</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ruff rule does not describe multiple rules</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5495">#5495</a>
        opened by <a href="https://github.com/rotu">@rotu</a>
        on 2023-07-03 20:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rotu">@rotu</a> on 2023-07-03 20:52</div>
            <div class="timeline-body"><p>version = 0.0.272</p>
<p>Flake8 supports providing a partial error code like &quot;E4&quot; to select all error codes starting with &quot;E4&quot; (i.e. E401 and E402)</p>
<p><code>ruff . --select E4</code> runs both E401 and E402.
But <code>ruff rule E4</code> describes E401 and does not even mention that &quot;E4&quot; also entails E402.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rotu">@rotu</a> on 2023-07-03 20:54</div>
            <div class="timeline-body"><p>Behavior has changed since #2812 was reported. Not sure if current behavior is intentional.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-07-03 23:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-03 23:58</div>
            <div class="timeline-body"><p>My initial preference would be to error on <code>ruff rule E4</code>, rather than show multiple rules, since we don't really have a good format for that. At the very least, it's wrong to show the <code>E402</code> docs in that case!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rotu">@rotu</a> on 2023-07-04 06:35</div>
            <div class="timeline-body"><p>@charliermarsh erroring would be good. Even better would be showing the list of rules it expands to (just the ID and short name is plenty useful!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2023-07-04 13:59</div>
            <div class="timeline-body"><p>The behavior got changed in <code>0.0.247</code>, earlier we were throwing an error:</p>
<pre><code class="language-console">❯ pipx run &quot;ruff==0.0.246&quot; rule E4                               
⚠️  ruff is already on your PATH and installed at /Users/dhruv/.local/bin/ruff. Downloading and running anyway.
error: invalid value 'E4' for '&lt;RULE&gt;': unknown rule code

For more information, try '--help'.
</code></pre>
<p>I think it might be related to the <code>many-to-one</code> changes: <code>git log --grep='^many-to-one' --oneline</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-04 18:19</div>
            <div class="timeline-body"><p>@dhruvmanila - Are you taking a look at the lack of an error?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2023-07-04 18:46</div>
            <div class="timeline-body"><p>You can look at it if you want, I just thought to perform a quick bisection search to find out when did the behavior changed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-04 19:00</div>
            <div class="timeline-body"><p>I'll take a quick look.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-07-04 19:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:30:35 UTC
    </footer>
</body>
</html>
