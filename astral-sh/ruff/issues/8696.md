```yaml
number: 8696
title: D301 breaks Click docstrings that use the \b escape sequence
type: issue
state: open
author: ThiefMaster
labels:
  - docstring
assignees: []
created_at: 2023-11-15T15:58:14Z
updated_at: 2025-06-26T13:38:45Z
url: https://github.com/astral-sh/ruff/issues/8696
synced_at: 2026-01-10T01:56:50Z
```

# D301 breaks Click docstrings that use the \b escape sequence

---

_Issue opened by @ThiefMaster on 2023-11-15 15:58_

Click uses `\b` to prevent re-wrapping: https://click.palletsprojects.com/en/8.1.x/documentation/#preventing-rewrapping

Maybe this rule could detect if it's a function docstring that has a `@click.*` decorator on it, or have a setting that whitelists certain escape sequences.

---

_Label `docstring` added by @charliermarsh on 2023-11-15 17:37_

---

_Comment by @deadnews on 2024-02-19 19:20_

`click` docs reference:

`\b`: 
> https://click.palletsprojects.com/en/8.1.x/documentation/#preventing-rewrapping
Rewrapping can be disabled on a per-paragraph basis by adding a line with solely the `\b` escape marker in it.

`\f`:
>https://click.palletsprojects.com/en/8.1.x/documentation/#truncating-help-texts
You can use the `\f` escape marker to have Click truncate the help text after the marker.


---

_Comment by @dhruvmanila on 2024-02-21 07:42_

There's [`ignore-decorators`](https://docs.astral.sh/ruff/settings/#lint_pydocstyle_ignore-decorators) but that requires the fully qualified name and won't work with globs. For now you could try the following config which, as per my limited knowledge of `click`, should be enough:

```toml
[tool.ruff.lint.pydocstyle]
ignore-decorators = [
	"click.group",
	"click.command",
	"click.argument",
	"click.option",
]
```

Playground: https://play.ruff.rs/2a18cbd2-c90a-4416-b19c-f969e688777b

---

_Comment by @deadnews on 2024-02-21 08:32_

@dhruvmanila
But this ignores docstrings completely.
Specific `# noqa: D301` is better.

---

_Comment by @cas-- on 2025-06-26 13:38_

For our project all commands are in files named `cli.py` so setting per-file ignore in config is more useful:

```toml
[tool.ruff.lint.per-file-ignores]
"cli.py" = ["D301"] # Ignore escape-sequence-in-docstring for click markers
```


---
