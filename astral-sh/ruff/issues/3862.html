<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>False positive: PYI015 - astral-sh/ruff #3862</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>False positive: PYI015</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/3862">#3862</a>
        opened by <a href="https://github.com/pmmmwh">@pmmmwh</a>
        on 2023-04-03 10:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pmmmwh">@pmmmwh</a> on 2023-04-03 10:46</div>
            <div class="timeline-body"><h2>Reproduction</h2>
<pre><code class="language-pyi">from typing import TypeVar

from typing_extensions import ParamSpec, TypeVarTuple

_T = TypeVar(&quot;_T&quot;)
_P = ParamSpec(&quot;_P&quot;)
_TV = TypeVarTuple(&quot;_TV&quot;)

</code></pre>
<h3>Current Behaviour</h3>
<p>On autofix, <code>TypeVar</code> will be replaced by ellipsis:</p>
<pre><code class="language-pyi">_T = ...
_P = ...
_TV = ...

</code></pre>
<h3>Expected</h3>
<p>Keep the original code untouched and should not report them as issues.</p>
<p>Perhaps the implementation should also whitelist <code>TypeVar</code>, <code>TypeVarTuple</code> and <code>ParamSpec</code>?</p>
<p>https://github.com/charliermarsh/ruff/blob/924bebbb4a0e1a9002a0274cbb58fc85335089dc/crates/ruff/src/rules/flake8_pyi/rules/simple_defaults.rs#L340-L342</p>
<h2>Settings</h2>
<pre><code class="language-toml">[tool.ruff]
fix = true
select = [&quot;PYI&quot;]
</code></pre>
<h2>Version</h2>
<pre><code>ruff 0.0.260
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pmmmwh">@pmmmwh</a> on 2023-04-03 10:46</div>
            <div class="timeline-body"><p>Duplicate of #3860</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pmmmwh on 2023-04-03 10:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "False positive: Y015" to "False positive: PYI015" by @pmmmwh on 2023-04-03 10:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:50 UTC
    </footer>
</body>
</html>
