```yaml
number: 17867
title: Missing syntax error for unparenthesized generator expression in single-argument call
type: issue
state: closed
author: ntBre
labels:
  - bug
  - parser
assignees: []
created_at: 2025-05-05T18:48:39Z
updated_at: 2025-05-07T18:11:37Z
url: https://github.com/astral-sh/ruff/issues/17867
synced_at: 2026-01-10T11:09:58Z
```

# Missing syntax error for unparenthesized generator expression in single-argument call

---

_Issue opened by @ntBre on 2025-05-05 18:48_

>> generator expression must be parenthesized 
> 
> Regardless of whether there is a trailing comma or not, the exact same AST is generated by ruff for the code (only the ranges are different).
> Given this, how do we detect the trailing comma during the semantic syntax error phase?
> Should this rather be detected during parsing?
> For example, the `ast` module does not give an AST at all for this:
> 
> ```py
>>> import ast; ast.parse("max(i for i in range(3),)")
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
>   File "/usr/lib/python3.11/ast.py", line 50, in parse
>     return compile(source, filename, mode, flags,
>            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>   File "<unknown>", line 1
>     max(i for i in range(3),)
>         ^^^^^^^^^^^^^^^^^^^
> SyntaxError: Generator expression must be parenthesized
> ``` 

 _Originally posted by @abhijeetbodas2001 in [#17412](https://github.com/astral-sh/ruff/issues/17412#issuecomment-2851948615)_

This is closely related to #12445, which handled the multiple-argument case, but CPython also raises an error for a single argument.

---

_Label `bug` added by @ntBre on 2025-05-05 18:48_

---

_Label `parser` added by @ntBre on 2025-05-05 18:48_

---

_Comment by @abhijeetbodas2001 on 2025-05-05 19:12_

I can take this up, if that's alright.

---

_Assigned to @abhijeetbodas2001 by @ntBre on 2025-05-05 19:22_

---

_Closed by @ntBre on 2025-05-07 18:11_

---

_Closed by @ntBre on 2025-05-07 18:11_

---
