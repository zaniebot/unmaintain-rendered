<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIM102 Warning when using multiple if-statements with walrus operator - astral-sh/ruff #5471</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>SIM102 Warning when using multiple if-statements with walrus operator</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5471">#5471</a>
        opened by <a href="https://github.com/macintacos">@macintacos</a>
        on 2023-07-03 04:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/macintacos">@macintacos</a> on 2023-07-03 04:06</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>I have some nested walrus operator code that is making this warning show up. Code looks something like this:</p>
<pre><code class="language-python">if foo := bar():
	if baz := buz():
		# use 'foo' and 'baz' here
</code></pre>
<p>There is no way for me to combine these two if statements into one, since that's not (to my knowledge) supported in Python. Could this warning be silenced in these situations?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-07-03 04:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-03 04:34</div>
            <div class="timeline-body"><p>Hmm -- does this work, or am I misunderstanding the code?</p>
<pre><code class="language-python">def bar():
    return 1

def buz():
    return 2

if (foo := bar()) and (baz := buz()):
    print(foo, baz)  # 1 2
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> removed by @charliermarsh on 2023-07-05 02:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-07-05 02:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/macintacos">@macintacos</a> on 2023-07-05 14:11</div>
            <div class="timeline-body"><p>Ah you're totally right - closing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @macintacos on 2023-07-05 14:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tylerlaprade">@tylerlaprade</a> on 2023-07-17 17:21</div>
            <div class="timeline-body"><p>I also ran into this problem and had to search Google for this answer. Could we please add the example to the <a href="https://beta.ruff.rs/docs/rules/collapsible-if/">documentation</a> for this rule?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:07 UTC
    </footer>
</body>
</html>
