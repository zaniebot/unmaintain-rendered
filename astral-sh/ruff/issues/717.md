```yaml
number: 717
title: "Don't mark re-exported symbols as unused (F401)"
type: issue
state: closed
author: layday
labels: []
assignees: []
created_at: 2022-11-13T13:42:09Z
updated_at: 2022-11-14T03:26:49Z
url: https://github.com/astral-sh/ruff/issues/717
synced_at: 2026-01-10T01:56:44Z
```

# Don't mark re-exported symbols as unused (F401)

---

_Issue opened by @layday on 2022-11-13 13:42_

Currently, an import in the form of:

```py
from a import b as b
```

will trigger F401, but this idiom is in widespread use as a type checker-friendly alternative to `__all__` which does not alter star import semantics.  Type checkers which support flagging unused imports will ignore re-exported symbols, i.e. symbols where the `as` target is identical to the original name:

```py
# pyright: strict

from os import environ  # Pyright reports this as unused
from os import environ as foo  # Likewise
from os import environb as environb   # No error
```

---

Thanks for ruff!

---

_Comment by @charliermarsh on 2022-11-13 15:52_

This is easy to implement! My only question is whether it should be the default behavior, or designated under its own lint rule so as to be configurable (or via a configuration option).

Anyone have opinions on that? Maybe @andersk?


---

_Comment by @charliermarsh on 2022-11-13 18:16_

I think this should be the default behavior since the re-export itself is effectively an explicit opt-in.

---

_Comment by @andersk on 2022-11-13 18:41_

I think I agree. Although this was rejected upstream (PyCQA/pyflakes#474), it’s a pretty important pattern in the typed Python ecosystem. (Upstream is incorrect to expect that ecosystem to be entirely captured in PEPs—this reexport convention needs no special support from the Python language itself or its runtime implementations.) And I don’t see this significantly hurting anyone else.

---

_Assigned to @charliermarsh by @charliermarsh on 2022-11-13 18:46_

---

_Referenced in [astral-sh/ruff#724](../../astral-sh/ruff/pulls/724.md) on 2022-11-13 18:52_

---

_Closed by @charliermarsh on 2022-11-13 19:31_

---

_Comment by @charliermarsh on 2022-11-13 21:11_

Going out in [v0.0.117](https://github.com/charliermarsh/ruff/releases/tag/v0.0.117) (building now).

---

_Comment by @layday on 2022-11-13 21:55_

whoops, I should've probably mentioned the same holds for `import a as a`, although not as common.

---

_Comment by @andersk on 2022-11-13 22:03_

Also apparently `import a.b.c as c`. (I find that one surprising, but mypy accepts it; [source](https://github.com/python/mypy/blob/v0.990/mypy/semanal.py#L2233).)

---

_Reopened by @charliermarsh on 2022-11-13 22:07_

---

_Comment by @charliermarsh on 2022-11-13 22:07_

Re-opening for those cases :)

---

_Comment by @layday on 2022-11-13 22:17_

> Also apparently `import a.b.c as c`. (I find that one surprising, but mypy accepts it; [source](https://github.com/python/mypy/blob/v0.990/mypy/semanal.py?rgh-link-date=2022-11-13T22%3A03%3A04Z#L2233).)

Interesting, Pyright rejects that.

---

_Comment by @andersk on 2022-11-13 22:46_

Yeah, Pyright seems more correct. Opened python/mypy#14086.

---

_Referenced in [astral-sh/ruff#729](../../astral-sh/ruff/pulls/729.md) on 2022-11-14 03:26_

---

_Closed by @charliermarsh on 2022-11-14 03:26_

---

_Referenced in [data-apis/array-api-compat#82](../../data-apis/array-api-compat/pulls/82.md) on 2024-01-26 21:50_

---

_Referenced in [astral-sh/ruff#13777](../../astral-sh/ruff/issues/13777.md) on 2024-10-16 13:07_

---

_Referenced in [labthings/labthings-fastapi#121](../../labthings/labthings-fastapi/pulls/121.md) on 2025-06-26 09:07_

---
