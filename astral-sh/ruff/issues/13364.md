```yaml
number: 13364
title: "`ruff format` check lines-after-imports options but not respect it"
type: issue
state: closed
author: trim21
labels:
  - question
  - isort
assignees: []
created_at: 2024-09-16T03:01:36Z
updated_at: 2025-03-05T12:41:54Z
url: https://github.com/astral-sh/ruff/issues/13364
synced_at: 2026-01-10T01:56:53Z
```

# `ruff format` check lines-after-imports options but not respect it

---

_Issue opened by @trim21 on 2024-09-16 03:01_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

I'm using `ruff 0.6.5 (8558126df 2024-09-13)` with config `tool.ruff.lint.isort.lines-after-imports = 2`

ruff format warns about `lines-after-imports` are not -1,1,2 but did't add 2 empty lines after last import

for example, not changes for this file:
```python
import io

with io.StringIO() as f:
    print("ok", file=f)
```

---

_Label `question` added by @MichaReiser on 2024-09-16 07:44_

---

_Label `isort` added by @MichaReiser on 2024-09-16 07:44_

---

_Comment by @MichaReiser on 2024-09-16 07:55_

The `lines-after-imports` setting is a `isort` setting and `isort` runs as part of `ruff check` and not `ruff format`. 

Can you try to run 

```shell
ruff check --fix --select I
```

It should add the two empty lines. We hope to integrate format into `ruff check` in the long-term and possibly move `isort` to `format` to reduce the confusion (see https://github.com/astral-sh/ruff/issues/8232)

---

_Closed by @MichaReiser on 2024-09-20 06:22_

---

_Comment by @jzr-supove on 2025-03-05 12:40_

> ruff check --fix --select I

@MichaReiser why it only works when I specify the `--select I` option?

---

_Comment by @trim21 on 2025-03-05 12:41_

> > ruff check --fix --select I
> 
> [@MichaReiser](https://github.com/MichaReiser) why it only works when I specify the `--select I` option?

It's an option of I rule

---
