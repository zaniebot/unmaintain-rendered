<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W505 not triggered on multi-line docstring - astral-sh/ruff #4344</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>W505 not triggered on multi-line docstring</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/4344">#4344</a>
        opened by <a href="https://github.com/andyluooo">@andyluooo</a>
        on 2023-05-10 13:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/andyluooo">@andyluooo</a> on 2023-05-10 13:03</div>
            <div class="timeline-body"><p>I've enabled W505 and set max-doc-length to 72. However, it didn't trigger when I exceed the limit on muti-line docstring.
For example:</p>
<pre><code class="language-python">def foo():
    &quot;&quot;&quot;A VERY-LONG summary that exceed 72 characters.&quot;&quot;&quot;  # W505 triggered as usual 
    return
</code></pre>
<p>However:</p>
<pre><code class="language-python">def foo():
    &quot;&quot;&quot;A short summary.
   
    A VERY-LONG description that exceed 72 characters.  # Nothing happened
    &quot;&quot;&quot;
    return
</code></pre>
<p>I'd like to know if it's a bug or it's as designed. As instructed in PEP 8, docstrings should be wrapped at 72 characters, and Ruff is expected to warn that.</p>
<p><em>Originally posted by @Andy-Dihong-Luo in https://github.com/charliermarsh/ruff/discussions/4264</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andyluooo">@andyluooo</a> on 2023-05-10 13:19</div>
            <div class="timeline-body"><p>My configuration in .ruff.toml like:</p>
<pre><code class="language-toml">select = [&quot;W505&quot;, &quot;D&quot;, &quot;UP&quot;, &quot;RUF100&quot;]

ignore = [&quot;D1&quot;]

target-version = &quot;py311&quot;

[pycodestyle]
max-doc-length = 72

[pydocstyle]
convention = &quot;google&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-10 14:01</div>
            <div class="timeline-body"><p>Taking a look at this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-05-10 14:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-05-10 14:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-10 14:21</div>
            <div class="timeline-body"><p>Looks like a bug.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4347.html">astral-sh/ruff#4347</a> on 2023-05-10 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-05-10 15:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:09 UTC
    </footer>
</body>
</html>
