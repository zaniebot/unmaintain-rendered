```yaml
number: 8153
title: "Request: allowlist of codes for `RUF100` not to autoremove"
type: issue
state: closed
author: jamesbraza
labels: []
assignees: []
created_at: 2023-10-24T05:26:23Z
updated_at: 2023-10-24T17:24:31Z
url: https://github.com/astral-sh/ruff/issues/8153
synced_at: 2026-01-10T01:56:50Z
```

# Request: allowlist of codes for `RUF100` not to autoremove

---

_Issue opened by @jamesbraza on 2023-10-24 05:26_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

Some tools like to use `flake8` as a vehicle for config files and ignores:
- https://github.com/jsh9/pydoclint
- https://github.com/andreoliwa/nitpick

However, `RUF100` in `ruff==0.1.1` is removing the `# noqa`'s I add for those tools.

Any chance we can a new config option for `ruff` that is basically an allowlist override for RUF100?

---

_Comment by @jamesbraza on 2023-10-24 05:28_

I guess a workaround is, for each `noqa` that is being removed by `RUF100`, I can do `# noqa: DOC501,RUF100`

---

_Comment by @charliermarsh on 2023-10-24 12:54_

I think we have a setting for this: https://docs.astral.sh/ruff/settings/#external.  Codes marked as external won’t be removed and flagged by RUF100 (or at least, they shouldn’t be).

Mind giving that a try?

---

_Comment by @jamesbraza on 2023-10-24 16:45_

Thanks for the response!

I am using [`pydoclint`](https://github.com/jsh9/pydoclint), which has `DOC` error codes: https://github.com/jsh9/pydoclint#3-style-violation-codes

`external` does work, though you have to specify the exact code. It would be nice to be able to use `external = ["DOC"]`, as opposed to `external = [..., "DOC201", "DOC301", ..., "DOC501"]`

This leads me to a few requests:

- Document `external` setting in https://docs.astral.sh/ruff/rules/unused-noqa/
- (there is a broken link at the bottom of https://docs.astral.sh/ruff/rules/unused-noqa/)
- Allowing `external` to use rule prefixes (e.g. DOC instead of DOC501)

Let me know what you think

---

_Comment by @zanieb on 2023-10-24 16:52_

Fixing those issues in #8171 and #8172

---

_Comment by @jamesbraza on 2023-10-24 16:58_

Thank you!  Interested in hearing what you think of moving `external` to work using prefixes of rules, not just exact matches

---

_Comment by @charliermarsh on 2023-10-24 17:01_

I think matching prefixes is pretty reasonable.

---

_Referenced in [astral-sh/ruff#8174](../../astral-sh/ruff/issues/8174.md) on 2023-10-24 17:09_

---

_Comment by @jamesbraza on 2023-10-24 17:09_

Thank you and cool!  I opened https://github.com/astral-sh/ruff/issues/8174 for that.

Will leave this open for @zanieb 's two docs PRs to close this one out ✅ .

---

_Closed by @zanieb on 2023-10-24 17:24_

---
