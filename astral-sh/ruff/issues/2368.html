<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Infinite loop] When fixing empty __init__ file. - astral-sh/ruff #2368</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Infinite loop] When fixing empty <strong>init</strong> file.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2368">#2368</a>
        opened by <a href="https://github.com/Alphasite">@Alphasite</a>
        on 2023-01-30 22:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Alphasite">@Alphasite</a></div>
            <div class="timeline-body">

<pre><code>‚ùØ ruff --isolated --fix shepherd_public_api/__init__.py 

shepherd2/server/api-public on ÓÇ† main [$!+?] is üì¶ v0.1.0 via üêç v3.10.8 (shepherd-reconciliation-zyKwjI-E-py3.11) on ‚òÅÔ∏è  (us-west-1) on ‚òÅÔ∏è  nishadm@vmware.com(us-central1) 
‚ùØ ruff --isolated --fix shepherd_public_api/__init__.py --select D
warning: `D203` (OneBlankLineBeforeClass) and `D211` (NoBlankLinesBeforeClass) are incompatible. Consider adding `D203` to `ignore`.

warning: Failed to converge after 100 iterations.

This likely indicates a bug in `ruff`. If you could open an issue at:

https://github.com/charliermarsh/ruff/issues/new?title=%5BInfinite%20loop%5D

quoting the contents of `shepherd_public_api/__init__.py`, along with the `pyproject.toml` settings and executed command, we&#x27;d be very appreciative!

shepherd_public_api/__init__.py:1:1: D213 Multi-line docstring summary should start at the second line
shepherd_public_api/__init__.py:1:1: D404 First word of the docstring should not be &quot;This&quot;
Found 102 errors (100 fixed, 2 remaining).
</code></pre>
<p>File contents:</p>
<pre><code>&quot;&quot;&quot;This package has the public REST Api implementation.

The apis here are public, documented and versioned. The core
framework is Starlite.

...
&quot;&quot;&quot;
</code></pre>
<p>We hit around 14 infinite loops in the project, are you interested in some of the others? I&#x27;m not what i can share without causing issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[Infinite loop]&quot; to &quot;[Infinite loop] When fixing empty __init__ file.&quot; by <a href="https://github.com/Alphasite">@Alphasite</a> on 2023-01-30 22:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 22:51</div>
            <div class="timeline-body"><p>Can you try disabling one of <code>D212</code> or <code>D213</code>? Those conflict, similarly to <code>D203</code> and <code>D211</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 22:52</div>
            <div class="timeline-body"><p>(We&#x27;re either going to remove those conflicting rules, or make it harder to enable them (#2289, #2292).)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 22:52</div>
            <div class="timeline-body"><p>(Based on your example, you want to disable <code>D213</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Alphasite">@Alphasite</a> on 2023-01-30 22:59</div>
            <div class="timeline-body"><p>Ah that did it and resolved all of the conflicts, and wow thank you for your incredibly fast response! Do you want me to close out this issue?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 23:01</div>
            <div class="timeline-body"><p>No worries. I&#x27;m really sorry you ran into this. It&#x27;s like, the biggest footgun in all of Ruff right now. I really want to fix it in the next release!</p>
<p>I&#x27;m gonna close since we&#x27;re already tracking elsewhere. Please keep filing if you run into more issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 23:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:31 UTC
    </footer>
</body>
</html>
