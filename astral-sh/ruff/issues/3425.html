<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[panic]: index out of bounds: the len is 1 but the index is 2 - astral-sh/ruff #3425</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[panic]: index out of bounds: the len is 1 but the index is 2</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/3425">#3425</a>
        opened by <a href="https://github.com/qarmin">@qarmin</a>
        on 2023-03-09 21:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/qarmin">@qarmin</a></div>
            <div class="timeline-body"><p>0.0.254
Config with all rules</p>
<pre><code>thread 'main' panicked at 'index out of bounds: the len is 1 but the index is 2', crates/ruff/src/source_code/locator.rs:71:9
</code></pre>
<p><a href="https://github.com/charliermarsh/ruff/files/10936022/_bgcolor.8th.copy.15.py.zip">_bgcolor (8th copy)15.py.zip</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qarmin">@qarmin</a> on 2023-03-09 21:01</div>
            <div class="timeline-body"><p>I have more crashes in other lines in locator.rs, but probably this are duplicates of this issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-09 21:15</div>
            <div class="timeline-body"><p>Def agree that we shouldn't be panicking, but is that valid Python code? How would you describe the contents of that file? I'm trying to make sure I'm not misinterpreting the issue.</p>
<p><img src="https://user-images.githubusercontent.com/1309177/224161327-6d648b80-7657-4314-a5ec-0a45b8b7c0fb.png" alt="Screen Shot 2023-03-09 at 4 14 38 PM" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qarmin">@qarmin</a> on 2023-03-09 21:21</div>
            <div class="timeline-body"><p>This is found by fuzzer.
I provided valid python file and changed some bytes/charaters to find possible crashes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-03-10 05:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qarmin">@qarmin</a> on 2023-03-11 06:27</div>
            <div class="timeline-body"><p>Smaller reproducer - <a href="https://github.com/charliermarsh/ruff/files/10947795/a.py.zip">a.py.zip</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-13 04:02</div>
            <div class="timeline-body"><p>Okay, this is now resolved via #3454 and #3439.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-03-13 04:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:45 UTC
    </footer>
</body>
</html>
