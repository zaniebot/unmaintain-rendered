<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Failed to parse version - astral-sh/ruff #17348</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Failed to parse version</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/17348">#17348</a>
        opened by <a href="https://github.com/timthedevguy">@timthedevguy</a>
        on 2025-04-11 08:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timthedevguy">@timthedevguy</a></div>
            <div class="timeline-body">Summary
<p>Using Ruff VSCode Extension in a Django Project using Poetry 2 with a pyproject.toml file.  Getting the following error:</p>
<pre><code>2025-04-11 04:30:17.877814800 ERROR Failed to parse c:\Users\bob\Projects\Python\evetools\pyproject.toml: TOML parse error at line 10, column 19
   |
10 | requires-python = &quot;^3.11&quot;
   |                   ^^^^^^^
Failed to parse version: Unexpected end of version specifier, expected operator:
^3.11
^^^^^


2025-04-11 04:30:17.884053300  INFO Registering workspace: c:\Users\bob\Projects\Python\evetools
2025-04-11 04:30:17.885606700  INFO Configuration file watcher successfully registered
</code></pre>
<p>My pyproject.toml is:</p>
<pre><code>[project]
package-mode = false
name = &quot;evetools&quot;
version = &quot;0.1.0&quot;
description = &quot;&quot;
authors = [
    {name = &quot;Bob&quot;,email = &quot;bob@email.com&quot;}
]
readme = &quot;README.md&quot;
requires-python = &quot;^3.11&quot;
dependencies = [
    &quot;gunicorn (&gt;=23.0.0,&lt;24.0.0)&quot;,
    &quot;uvicorn-worker (&gt;=0.3.0,&lt;0.4.0)&quot;,
    &quot;django-decorator-include (&gt;=3.3,&lt;4.0)&quot;,
    &quot;django-widget-tweaks (&gt;=1.5.0,&lt;2.0.0)&quot;,
    &quot;whitenoise (&gt;=6.8.2,&lt;7.0.0)&quot;,
    &quot;sentry-sdk[django] (&gt;=2.20.0,&lt;3.0.0)&quot;,
    &quot;requests (&gt;=2.32.3,&lt;3.0.0)&quot;,
    &quot;django-bootstrap5 (&gt;=24.3,&lt;25.0)&quot;,
    &quot;django-htmx (&gt;=1.21.0,&lt;2.0.0)&quot;,
    &quot;django-esi (&gt;=6.0.0,&lt;7.0.0)&quot;,
    &quot;huey (&gt;=2.5.2,&lt;3.0.0)&quot;,
    &quot;psycopg[binary] (&gt;=3.2.6,&lt;4.0.0)&quot;,
    &quot;django (&gt;=5.1.7,&lt;6.0.0)&quot;,
    &quot;inflect (&gt;=7.5.0,&lt;8.0.0)&quot;,
]


[build-system]
requires = [&quot;poetry-core&gt;=2.0.0,&lt;3.0.0&quot;]
build-backend = &quot;poetry.core.masonry.api&quot;

[tool.poetry.group.dev.dependencies]
pylint = &quot;^3.3.3&quot;
pylint-django = &quot;^2.6.1&quot;
autopep8 = &quot;^2.3.2&quot;
flake8 = &quot;^7.1.1&quot;
djlint = &quot;^1.36.4&quot;
python-dotenv = &quot;^1.0.1&quot;
</code></pre>
Version
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-11 08:39</div>
            <div class="timeline-body"><p>Does poetry accept <code>^3.11</code>? Looking at the <a href="https://packaging.python.org/en/latest/specifications/version-specifiers/#id5">allowed specifiers</a>, <code>^</code> isn&#x27;t a valid operator according to the spec. I think you want <code>~=3.11</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-11 08:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/timthedevguy">@timthedevguy</a> on 2025-04-11 08:49</div>
            <div class="timeline-body"><p>Interesting, I&#x27;ve been using Poetry that way for years, it allows it but obviously it shouldn&#x27;t!  I&#x27;ve adjusted and all is working, thanks for pointing that out!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/timthedevguy">@timthedevguy</a> on 2025-04-11 08:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:49 UTC
    </footer>
</body>
</html>
