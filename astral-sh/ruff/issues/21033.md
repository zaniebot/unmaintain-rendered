```yaml
number: 21033
title: RUF027 creates invalid f-string interpolations with backslashes before Python 3.12
type: issue
state: open
author: dscorbett
labels:
  - bug
  - fixes
assignees: []
created_at: 2025-10-22T18:35:00Z
updated_at: 2025-10-22T20:23:48Z
url: https://github.com/astral-sh/ruff/issues/21033
synced_at: 2026-01-10T01:56:57Z
```

# RUF027 creates invalid f-string interpolations with backslashes before Python 3.12

---

_Issue opened by @dscorbett on 2025-10-22 18:35_

### Summary

[`missing-f-string-syntax` (RUF027)](https://docs.astral.sh/ruff/rules/missing-f-string-syntax/) applies to putative interpolations containing backslashes, which are not valid until Python 3.12. The fix can therefore introduce syntax errors. RUF027 should probably be suppressed for such strings before Python 3.12. [Example](https://play.ruff.rs/9e3243a1-379b-4ae2-ab31-1355d71b85c8):
```console
$ cat >ruf027.py <<'# EOF'
x = "!"
print("{'\''}{x\
}")
# EOF

$ python3.11 ruf027.py
{'''}{x}

$ ruff --isolated check ruf027.py --select RUF027 --preview --target-version py311 --unsafe-fixes --fix --output-format concise
ruf027.py:2:11: invalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)
ruf027.py:2:17: invalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)
Found 3 errors (1 fixed, 2 remaining).

$ python3.11 ruf027.py 2>&1 | tail -n 1
SyntaxError: f-string expression part cannot include a backslash
```

### Version

ruff 0.14.1 (2bffef596 2025-10-16)

---

_Label `bug` added by @ntBre on 2025-10-22 20:23_

---

_Label `fixes` added by @ntBre on 2025-10-22 20:23_

---

_Referenced in [astral-sh/ruff#21069](../../astral-sh/ruff/pulls/21069.md) on 2025-10-24 22:54_

---
