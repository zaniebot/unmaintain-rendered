<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Range formatting - astral-sh/ruff #7233</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Range formatting</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/7233">#7233</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2023-09-08 07:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-09-08 07:46</div>
            <div class="timeline-body"><p>For IDE integration, it would be great if it was possible to select a certain range of code and only format that range.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @konstin by @MichaReiser on 2023-09-08 07:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2023-09-08 07:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Beta" by @MichaReiser on 2023-09-08 07:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2023-09-08 16:26</div>
            <div class="timeline-body"><p>Thats cool, not just one range, but <a href="https://code.visualstudio.com/updates/v1_82#_support-for-batch-range-formatting">batch range formatting</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-09-08 17:20</div>
            <div class="timeline-body"><blockquote>
<p>Thats cool, not just one range, but <a href="https://code.visualstudio.com/updates/v1_82#_support-for-batch-range-formatting">batch range formatting</a>.</p>
</blockquote>
<p>Oh, I didn't know about that. We'll start with one range but being aware of multi range formatting may help us to decide on the design</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-09-08 17:22</div>
            <div class="timeline-body"><p>Relevant code in Rome/Biome</p>
<p>https://github.com/biomejs/biome/blob/92be3f8fc3c13bd3ab7827b828bc4167db1d5ee0/crates/rome_formatter/src/lib.rs#L1059-L1307</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-09-08 18:26</div>
            <div class="timeline-body"><p>do you know what's the use case for this from the editor side?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-09-08 18:36</div>
            <div class="timeline-body"><p>I assume it's to speed up &quot;Format changed code&quot; when saving a file with multiple non-overlapping changed ranges.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KraXen72">@KraXen72</a> on 2023-10-03 07:33</div>
            <div class="timeline-body"><blockquote>
<p>do you know what's the use case for this from the editor side?</p>
</blockquote>
<p>For example, VSCode's format selection command. i use it most of the time instead of formatting the entire document.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone "Formatter: Beta" by @MichaReiser on 2023-10-17 00:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Stable" by @MichaReiser on 2023-10-17 00:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-20 10:33</div>
            <div class="timeline-body"><p>Current state (only very basic statement range formatting): https://github.com/astral-sh/ruff/tree/range-formatting</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @konstin by @MichaReiser on 2023-10-27 01:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../astral-sh/ruff-vscode/issues/319.html">astral-sh/ruff-vscode#319</a> on 2023-10-31 08:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skykasko">@skykasko</a> on 2023-11-08 12:56</div>
            <div class="timeline-body"><p>FYI, this capability has recently been added to Black (https://github.com/psf/black/pull/4020).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../astral-sh/ruff-vscode/issues/345.html">astral-sh/ruff-vscode#345</a> on 2023-11-21 17:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LazyRen">@LazyRen</a> on 2023-12-21 04:29</div>
            <div class="timeline-body"><blockquote>
<p>do you know what's the use case for this from the editor side?</p>
</blockquote>
<p>Addition to the <code>format selection</code> command, it seems <code>Format on Save Mode: modifications</code> also depend on this feature.</p>
<p>Currently, Ruff doesn't format the document automatically even if format on save is enabled if <code>Format on Save Mode</code> is set to <code>modifications</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @MichaReiser by @MichaReiser on 2024-01-24 12:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9635.html">astral-sh/ruff#9635</a> on 2024-01-29 09:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/9733.html">astral-sh/ruff#9733</a> on 2024-01-31 11:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-02-05 19:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:10 UTC
    </footer>
</body>
</html>
