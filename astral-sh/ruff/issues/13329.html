<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[BUG] `ruff` does not correctly lint positional only arguments - astral-sh/ruff #13329</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[BUG] <code>ruff</code> does not correctly lint positional only arguments</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13329">#13329</a>
        opened by <a href="https://github.com/yarnabrina">@yarnabrina</a>
        on 2024-09-11 20:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yarnabrina">@yarnabrina</a></div>
            <div class="timeline-body">

<p>Consider the following snippet:</p>
<pre><code># contents of ruff_bug_report.py
def add(x: int, y: int, /) -&gt; int:
    return x + y


z = add(x=1, y=1)

</code></pre>
<p>This code fails because of positional only arguments.</p>
<pre><code>❯ python ruff_bug_report.py
Traceback (most recent call last):
  File &quot;/home/anirban/sktime-fork/ruff_bug_report.py&quot;, line 5, in &lt;module&gt;
    z = add(x=1, y=1)
TypeError: add() got some positional-only arguments passed as keyword arguments: &#x27;x, y&#x27;
</code></pre>
<p>However, <code>ruff</code> check passes.</p>
<pre><code>❯ ruff check ruff_bug_report.py
All checks passed!
</code></pre>
<p>This check is part of <code>pylint</code>, ref. <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/error/positional-only-arguments-expected.html">E3102</a>.</p>
<p>I am using <code>ruff==0.6.4</code>, and observed this on multiple python versions (<code>3.10</code>, <code>3.11</code>) on different operating systems (<code>macOS</code>, <code>Windows</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-11 20:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">multifile-analysis</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-11 20:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-11 20:42</div>
            <div class="timeline-body"><p>Thanks for opening this issue.</p>
<p>I quickly checked, and Ruff doesn&#x27;t yet implement the rule mentioned. This is most likely because it would require multifile analysis, or the rule would only flag calls to functions defined in the same file, which isn&#x27;t that useful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yarnabrina">@yarnabrina</a> on 2024-09-11 21:13</div>
            <div class="timeline-body"><p>Oh, I wasn&#x27;t aware of lack of multi file analysis. Do you mean that if I incorrectly use a function/class/etc. defuned in module A in a different module B, as of now ruff is unable to flag those cases?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-12 01:58</div>
            <div class="timeline-body"><blockquote>
<p>Oh, I wasn&#x27;t aware of lack of multi file analysis. Do you mean that if I incorrectly use a function/class/etc. defuned in module A in a different module B, as of now ruff is unable to flag those cases?</p>
</blockquote>
<p>That&#x27;s correct. Ruff can&#x27;t resolve functions across files. That&#x27;s also the reason why many rules that require that kind of information aren&#x27;t implemented today. We&#x27;re working towards supporting this but it will take some more time until it becomes available in ruff.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-24 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">multifile-analysis</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-24 14:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:57 UTC
    </footer>
</body>
</html>
