<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff Import ordering not respecting case-insensitivity compared to flake8 `import-order-style` - astral-sh/ruff #20536</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ruff Import ordering not respecting case-insensitivity compared to flake8 `import-order-style`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/20536">#20536</a>
        opened by <a href="https://github.com/SkylerWittman">@SkylerWittman</a>
        on 2025-09-23 14:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/SkylerWittman">@SkylerWittman</a> on 2025-09-23 14:57</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Hi there,</p>
<p>I'm trying to fully replace <code>isort</code> and <code>flake8</code> with <code>ruff</code>. Previously with flake8 our team had used this import order style <code>import-order-style = appnexus</code> and I'm trying to simulate the same in <code>ruff</code>.</p>
<p>I cannot seem to figure out how to make the imports from the same file be case-insensitive and alphabetically sorted. The <code>tool.ruff.lint.isort</code> setting <code>case-sensitive</code> is default <code>false</code> which you would think would leave this import unchanged but it does not.</p>
<p>This is what the import used to look like before running <code>ruff check --fix</code>
<code>from pydantic import BaseModel, computed_field, Field</code></p>
<p>After running <code>ruff</code>:</p>
<p><code>from pydantic import BaseModel, Field, computed_field</code></p>
<p>Here is my full config for reference and I am running it as <code>ruff check --fix /path/to/file.py</code></p>
<pre><code class="language-toml">[tool.ruff]
exclude = [&quot;__pycache__&quot;, &quot;.venv&quot;, &quot;.vscode&quot;, &quot;**/tests/**&quot;]

line-length = 160
indent-width = 4

[tool.ruff.lint]
select = [
    &quot;E&quot;, # pycodestyle errors
    &quot;W&quot;, # pycodestyle warnings
    &quot;F&quot;, # pyflakes
    &quot;N&quot;, # pep8-naming
]

# run isort import sorting on top of the default linting rules 
extend-select = [&quot;I&quot;]

[tool.ruff.lint.per-file-ignores]
&quot;src/netsuite/soap_helper.py&quot; = [&quot;E221&quot;, &quot;E231&quot;, &quot;E222&quot;]
&quot;src/netsuite/soap_mixin.py&quot; = [&quot;E231&quot;]
&quot;src/netsuite/records/customer.py&quot; = [&quot;E231&quot;]
&quot;src/job.py&quot; = [&quot;E231&quot;]
&quot;src/account.py&quot; = [&quot;E231&quot;]

[tool.ruff.lint.isort]
force-sort-within-sections = true
force-wrap-aliases = true
combine-as-imports = true
lines-after-imports = 2

section-order = [
    &quot;future&quot;,
    &quot;standard-library&quot;,
    &quot;third-party&quot;,
    &quot;first-party&quot;,
    &quot;local-folder&quot;,
]

known-first-party = [&quot;stingray&quot;]
known-third-party = [
    &quot;aws&quot;,
    &quot;aws_lambda_powertools&quot;,
    &quot;aws_xray_sdk&quot;,
    &quot;boto3&quot;,
    &quot;pydantic&quot;,
    &quot;requests&quot;,
    &quot;yattag&quot;,
]
known-local-folder = [&quot;config&quot;, &quot;netsuite&quot;]

[tool.ruff.format]
line-ending = &quot;auto&quot;
indent-style = &quot;space&quot;
quote-style = &quot;single&quot;
</code></pre>
<h3>Version</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-23 19:16</div>
            <div class="timeline-body"><p>It looks like the <a href="https://docs.astral.sh/ruff/settings/#lint_isort_order-by-type">order-by-type</a> setting takes precedence over <code>case-sensitive</code>. If you disable that too, you can achieve the ordering you had originally in this example: <a href="https://play.ruff.rs/e106a249-63de-476a-99b9-a2998328da5f">playground</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @ntBre on 2025-09-23 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SkylerWittman">@SkylerWittman</a> on 2025-09-23 19:36</div>
            <div class="timeline-body"><p>Thank you so much @ntBre that is exactly what I needed.</p>
<p>I've updated my toml to</p>
<pre><code class="language-toml">order-by-type = false
case-sensitive = false
</code></pre>
<p>Is it worth it to update the docs to hyperlink <a href="https://docs.astral.sh/ruff/settings/#lint_isort_order-by-type">order-by-type</a> back to <a href="https://docs.astral.sh/ruff/settings/#lint_isort_case-sensitive">case-sensitive</a> so that it's easier to find? I would be happy to make that PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-23 20:01</div>
            <div class="timeline-body"><p>Sure! This interaction was surprising to me, so it seems like a good thing to document :) It might make sense to link in both directions (<code>order-by-type</code> -&gt; <code>case-sensitive</code> and <code>case-sensitive</code> -&gt; <code>order-by-type</code>) too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @ntBre on 2025-09-23 20:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by @ntBre on 2025-09-23 20:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SkylerWittman">@SkylerWittman</a> on 2025-09-24 01:24</div>
            <div class="timeline-body"><p>@ntBre I've cloned the repo locally and created a branch but I am not allowed to push the branch as I'm missing permission, is there a formal request process to request the ability create a PR?
I didn't see anything specific mentioned in the Contributing section of the README.</p>
<p>If it's easier for you or someone else to create a PR and generate the ruff.schema.json (I am not setup for Rust dev on my machine) then I will attach my git patch.</p>
<p>Thanks!</p>
<p><a href="https://github.com/user-attachments/files/22504420/0001-Clarify-dependency-between-order_by_type-and-case_se.patch">0001-Clarify-dependency-between-order_by_type-and-case_se.patch</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-24 01:50</div>
            <div class="timeline-body"><p>I think you need to fork the repo on GitHub and create a PR from your copy. I'm happy to open a PR from the patch if you'd rather not do that, though. And I can definitely update the schema file in either case!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SkylerWittman">@SkylerWittman</a> on 2025-09-24 02:00</div>
            <div class="timeline-body"><p>If you don't mind that would be swell @ntBre.
Cheers</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/20559.html">astral-sh/ruff#20559</a> on 2025-09-24 19:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-09-25 16:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
