```yaml
number: 8599
title: UP007 adds parentheses when using --fix --unsafe-fixes and the Union has more than two types
type: issue
state: closed
author: Lassii-
labels:
  - bug
assignees: []
created_at: 2023-11-10T13:51:59Z
updated_at: 2023-11-11T00:15:30Z
url: https://github.com/astral-sh/ruff/issues/8599
synced_at: 2026-01-10T01:56:50Z
```

# UP007 adds parentheses when using --fix --unsafe-fixes and the Union has more than two types

---

_Issue opened by @Lassii- on 2023-11-10 13:51_

Ruff seems to add unnecessary parentheses when automatically fixing UP007 related errors.

test.py:
```python
from typing import Union

def sample(a: Union[str, int, list]):
    print(a)
```
The ruff command used:
```
ruff check --select UP007 --target-version py311 --fix --unsafe-fixes test.py
```
test.py after being modified by Ruff:
```python
from typing import Union

def sample(a: str | (int | list)):
    print(a)
```
Based on https://docs.python.org/3.11/library/stdtypes.html#union-type 
```python
from typing import Union

def sample(a: str | int | list):
    print(a)
```
would be okay unless I'm missing something?

---

_Label `bug` added by @zanieb on 2023-11-10 14:57_

---

_Comment by @zanieb on 2023-11-10 14:57_

Thanks for reporting. This seems reasonable to fix, although I do not know why it is that way in the first place.

---

_Comment by @charliermarsh on 2023-11-11 00:15_

I believe this was fixed in https://github.com/astral-sh/ruff/pull/8610.

---

_Closed by @charliermarsh on 2023-11-11 00:15_

---
