<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUF001 and RIGHT SINGLE QUOTATION MARK - astral-sh/ruff #1040</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>RUF001 and RIGHT SINGLE QUOTATION MARK</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1040">#1040</a>
        opened by <a href="https://github.com/lovetox">@lovetox</a>
        on 2022-12-04 18:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/lovetox">@lovetox</a> on 2022-12-04 18:07</div>
            <div class="timeline-body"><p>Hi,</p>
<p>I like the RUF001 check, but what was the rational to consider U+2019 an ambiguous character?</p>
<p>In english it seems there is lots of controversy [1] about what to use as correct apostrophe, i read a little bit about it, but i think we are far away from considering U+2019 as an error.</p>
<p>because U+2019 is very often used in strings, i would argue the RUF001 check is hard to use, because one would need to ignore a lot of strings in the codebase.</p>
<p>[1] https://www.quora.com/Punctuation-Why-is-the-right-single-quote-U+2019-and-not-the-semantically-distinct-apostrophe-U+0027-the-preferred-apostrophe-character-in-Unicode</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-04 18:11</div>
            <div class="timeline-body"><p>The list was actually taken directly from VS Code, which defines a list of &quot;confusing&quot; unicode characters. I'd like to continue mirroring that list, but perhaps we could allow some characters to be marked as acceptable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2022-12-04 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lovetox">@lovetox</a> on 2022-12-04 18:20</div>
            <div class="timeline-body"><p>I think this would be useful, and probably spares you a lot of discussion over the years.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-12-04 18:47</div>
            <div class="timeline-body"><p>I would be open to implementing it.
How should the setting be named?
Should it be the confusable or its utf-8 code?</p>
<pre><code class="language-toml">[tool.ruff.ruff]
allowed-confusables = [&quot;…&quot;, &quot;−&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-04 18:58</div>
            <div class="timeline-body"><p>I think it can be:</p>
<pre><code class="language-toml">[tool.ruff]
allow-confusables = [&quot;…&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-12-04 19:02</div>
            <div class="timeline-body"><p>Should it be added to the cli?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-04 19:03</div>
            <div class="timeline-body"><p>I don't think so, no.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1059.html">astral-sh/ruff#1059</a> on 2022-12-05 13:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-05 17:54</div>
            <div class="timeline-body"><p>Closed by https://github.com/charliermarsh/ruff/pull/1059.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-05 17:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/reagle">@reagle</a> on 2023-02-15 21:17</div>
            <div class="timeline-body"><p>There's no discussion forum, so sorry to crash a closed issue, but what does this even mean? I don't use vscode, and I don't know why the first chunk is problematic, and why it is &quot;fixed&quot; into the second:</p>
<p>Here, in the actual code, I want to replace curly quotes with ascii quotes.</p>
<pre><code>        (&quot;‘&quot;, &quot;'&quot;),
        (&quot;’&quot;, &quot;'&quot;),
</code></pre>
<p>But ruff converts the characters I'm looking for into apostrophes...?</p>
<pre><code>        (&quot;`&quot;, &quot;'&quot;),
        (&quot;`&quot;, &quot;'&quot;),
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bodograumann">@bodograumann</a> on 2023-11-12 13:06</div>
            <div class="timeline-body"><p>This is an upstream bug, @reagle : https://github.com/hediet/vscode-unicode-data/pull/1
Needs to fixed <a href="https://github.com/astral-sh/ruff/blob/main/crates/ruff_linter/src/rules/ruff/rules/confusables.rs">in ruff</a> and <a href="https://github.com/microsoft/vscode/blob/main/src/vs/base/common/strings.ts#L1074">VSCode</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-12 16:39</div>
            <div class="timeline-body"><p>Thanks @bodograumann!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:07 UTC
    </footer>
</body>
</html>
