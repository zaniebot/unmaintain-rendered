<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>formatter deviation: regular/non-pragma comments and line-length - astral-sh/ruff #7823</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>formatter deviation: regular/non-pragma comments and line-length</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/7823">#7823</a>
        opened by <a href="https://github.com/raylu">@raylu</a>
        on 2023-10-04 23:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/raylu">@raylu</a> on 2023-10-04 23:02</div>
            <div class="timeline-body"><p>with the default line-length of 88, this 119-wide line</p>
<pre><code class="language-py">a = &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;  # bbbbbbbbb bbbbbbbbb bbbbbbbbb bbbbbbbbb bbbbbbbbb bbbbbbbbb
</code></pre>
<pre><code>$ black --diff test.py
All done! ‚ú® üç∞ ‚ú®
1 file would be left unchanged.

$ black --version
black, 23.9.1 (compiled: no)
Python (CPython) 3.9.11
</code></pre>
<pre><code>$ ruff format test.py 
warning: `ruff format` is a work-in-progress, subject to change at any time, and intended only for experimentation.
1 file reformatted

$ cat test.py
a = (
    &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;
)  # bbbbbbbbb bbbbbbbbb bbbbbbbbb bbbbbbbbb bbbbbbbbb bbbbbbbbb

$ ruff --version
ruff 0.0.292
</code></pre>
<p>I noticed pragma comments were a documented deviation, so I was surprised regular/non-pragma comments had this behavior. sorry if this is covered somewhere and I missed it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @charliermarsh on 2023-10-05 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-10-05 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Beta" by @charliermarsh on 2023-10-05 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-05 15:03</div>
            <div class="timeline-body"><p>I think this is reasonable in that all lines now fit within the line width limit (if you increase the comment length such that the splitting doesn't help, we <em>don't</em> split the expression). I'm gonna call this intended -- it can be closed once documented.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by @charliermarsh on 2023-10-05 15:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @charliermarsh on 2023-10-05 15:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-05 15:04</div>
            <div class="timeline-body"><p>(Thanks for filing, it's a great issue!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-10-05 15:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/7827.html">astral-sh/ruff#7827</a> on 2023-10-05 15:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-10-05 16:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
