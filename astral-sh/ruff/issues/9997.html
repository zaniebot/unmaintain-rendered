<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>namespace-packages to supports globs - astral-sh/ruff #9997</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>namespace-packages to supports globs</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9997">#9997</a>
        opened by <a href="https://github.com/zawsq">@zawsq</a>
        on 2024-02-15 12:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/zawsq">@zawsq</a> on 2024-02-15 12:08</div>
            <div class="timeline-body"><p>Version: <code>ruff 0.2.1</code></p>
<p>Consider supporting <a href="https://docs.astral.sh/ruff/settings/#line-length">namespace-packages</a> glob</p>
<p><strong>Problem:</strong>
Currently we need to specify each nested package separately, which increases maintenance overhead.</p>
<p><strong>Current configuration:</strong></p>
<pre><code class="language-toml">namespace-packages = [
    &quot;plugins&quot;,
    &quot;plugins/ex1&quot;,
    &quot;plugins/ex1/test&quot;,
    &quot;plugins/example&quot;,
    &quot;plugins/utils/example/test&quot;,
    ]
</code></pre>
<p><strong>Proposed configuration:</strong></p>
<pre><code class="language-toml">namespace-packages = [&quot;plugins/**&quot;]
</code></pre>
<p>Utilizing a <code>glob</code> pattern like <code>plugins/**</code> makes managing a large set of plugins easier by automatically including all sub-packages without the need for explicit listing, thus reducing the effort required for maintenance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2024-02-16 01:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-16 01:12</div>
            <div class="timeline-body"><p>I think this is reasonable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-02-16 07:03</div>
            <div class="timeline-body"><p>Unless I'm reading the wrong part of the code, we're doing glob expansion?</p>
<p>https://github.com/astral-sh/ruff/blob/fe79798c12b4771cee0b0c59964ad7bd751c3779/crates/ruff_workspace/src/configuration.rs#L518-L518</p>
<p>https://github.com/astral-sh/ruff/blob/fe79798c12b4771cee0b0c59964ad7bd751c3779/crates/ruff_workspace/src/configuration.rs#L1246-L1261</p>
<p>I tested it out locally as well using <code>--show-settings</code> and we do support it:</p>
<pre><code class="language-console">$ tree plugins
plugins
├── ex1
│   └── test
├── example
│   └── foo.py
└── utils
    └── example
        └── test
</code></pre>
<p>And,</p>
<pre><code class="language-console">$ ruff check --show-settings .
[...]
linter.namespace_packages = [&quot;/Users/dhruv/playground/ruff/plugins/ex1&quot;, &quot;/Users/dhruv
/playground/ruff/plugins/ex1/test&quot;, &quot;/Users/dhruv/playground/ruff/plugins/example&quot;, &quot;/
Users/dhruv/playground/ruff/plugins/utils&quot;, &quot;/Users/dhruv/playground/ruff/plugins/util
s/example&quot;, &quot;/Users/dhruv/playground/ruff/plugins/utils/example/test&quot;]
[...]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-02-16 07:05</div>
            <div class="timeline-body"><p>I'll close this issue but feel free to ask any other questions if you think there's still an issue :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-02-16 07:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:32:48 UTC
    </footer>
</body>
</html>
