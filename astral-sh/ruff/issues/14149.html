<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Which rule should take precedence, S101 or PT009? - astral-sh/ruff #14149</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Which rule should take precedence, S101 or PT009?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14149">#14149</a>
        opened by <a href="https://github.com/jayce-kim1123">@jayce-kim1123</a>
        on 2024-11-07 09:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jayce-kim1123">@jayce-kim1123</a></div>
            <div class="timeline-body"><p>Hi there
I have a question about the priority of linting rules.</p>
<p>This is the original code.</p>
<pre><code># test_something.py

self.assertEqual(response.status_code, status.HTTP_200_OK)
</code></pre>
<p>I received the &#x27;Use a regular assert instead of unittest-style assertEqual Ruff(PT009)&#x27;
Based on this warning, i modified the code as below.</p>
<pre><code># test_something.py

assert response.status_code == status.HTTP_200_OK
</code></pre>
<p>I received the ‚ÄòUse of assert detected(S101)‚Äô warning after modifying my code according to PT009.</p>
<p>I would like to ignore one of these warnings without using an if.
Which rule should I follow?</p>
<p>Thanks for your time and for maintaining this awesome project.</p>
<hr>
<p>Keywords searched: ‚ÄúS101‚Äù, ‚ÄúPT009‚Äù, ‚Äúunittest‚Äù</p>
<hr>
<p>Ruff version: 0.7.1</p>
<hr>
<p>Ruff settings:</p>
<pre><code># pyproject.toml

[tool.ruff]
include = [
]

exclude = [
    &quot;oniondesk/call_log/**/*.py&quot;,
    &quot;.bzr&quot;,
    &quot;.bzr&quot;,
    &quot;.direnv&quot;,
    &quot;.eggs&quot;,
    &quot;.git&quot;,
    &quot;.git-rewrite&quot;,
    &quot;.hg&quot;,
    &quot;.ipynb_checkpoints&quot;,
    &quot;.mypy_cache&quot;,
    &quot;.nox&quot;,
    &quot;.pants.d&quot;,
    &quot;.pyenv&quot;,
    &quot;.pytest_cache&quot;,
    &quot;.pytype&quot;,
    &quot;.ruff_cache&quot;,
    &quot;.svn&quot;,
    &quot;.tox&quot;,
    &quot;.venv&quot;,
    &quot;.vscode&quot;,
    &quot;__pypackages__&quot;,
    &quot;_build&quot;,
    &quot;buck-out&quot;,
    &quot;build&quot;,
    &quot;dist&quot;,
    &quot;node_modules&quot;,
    &quot;site-packages&quot;,
    &quot;venv&quot;,
]

line-length = 120

indent-width = 4

target-version = &quot;py37&quot;

[tool.ruff.lint]
select = [
    &quot;F&quot;,
    &quot;E&quot;,
    &quot;W&quot;,
    &quot;I&quot;,
    &quot;N&quot;,
    &quot;D&quot;,
    &quot;UP&quot;,
    &quot;YTT&quot;,
    &quot;ANN&quot;,
    &quot;ASYNC&quot;,
    &quot;S&quot;,
    &quot;BLE&quot;,
    &quot;FBT&quot;,
    &quot;B&quot;,
    &quot;A&quot;,
    &quot;COM&quot;,
    &quot;C&quot;,
    &quot;DTZ&quot;,
    &quot;T10&quot;,
    &quot;DJ&quot;,
    &quot;EM&quot;,
    &quot;EXE&quot;,
    &quot;FA&quot;,
    &quot;ISC&quot;,
    &quot;ICN&quot;,
    &quot;LOG&quot;,
    &quot;G&quot;,
    &quot;PIE&quot;,
    &quot;T20&quot;,
    &quot;PYI&quot;,
    &quot;PT&quot;,
    &quot;Q&quot;,
    &quot;RSE&quot;,
    &quot;RET&quot;,
    &quot;SLF&quot;,
    &quot;SLOT&quot;,
    &quot;SIM&quot;,
    &quot;TID&quot;,
    &quot;TCH&quot;,
    &quot;INT&quot;,
    &quot;ARG&quot;,
    &quot;PTH&quot;,
    &quot;TD&quot;,
    &quot;PD&quot;,
    &quot;PGH&quot;,
    &quot;PLC&quot;,
    &quot;PLE&quot;,
    &quot;PLR&quot;,
    &quot;PLW&quot;,
    &quot;TRY&quot;,
    &quot;FLY&quot;,
    &quot;NPY&quot;,
    &quot;PERF&quot;,
    &quot;FURB&quot;,
]

ignore = [
    &quot;D100&quot;,
    &quot;D101&quot;,
    &quot;D102&quot;,
    &quot;D103&quot;,
    &quot;D104&quot;,
    &quot;D105&quot;,
    &quot;D106&quot;,
    &quot;D107&quot;,
    &quot;D203&quot;,
    &quot;D213&quot;,
    &quot;S110&quot;,
    &quot;S112&quot;,
    &quot;CPY001&quot;,
    &quot;LOG002&quot;,
    &quot;PYI&quot;,
    &quot;TD003&quot;,
    &quot;FIX&quot;,
    &quot;ERA001&quot;,
    &quot;PLC0206&quot;,
    &quot;PLC0415&quot;,
    &quot;FAST&quot;,
    &quot;AIR&quot;,
    &quot;ISC001&quot;,
    &quot;DOC&quot;,
    &quot;RUF&quot;,
]

fixable = [
    &quot;F&quot;,
    &quot;E&quot;,
    &quot;W&quot;,
    &quot;I001&quot;,
    &quot;D&quot;,
    &quot;UP&quot;,
    &quot;COM&quot;,
    &quot;Q&quot;,
]

unfixable = []

dummy-variable-rgx = &quot;^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$&quot;

[tool.ruff.format]
quote-style = &quot;double&quot;

indent-style = &quot;space&quot;

skip-magic-trailing-comma = false

line-ending = &quot;auto&quot;

docstring-code-format = false

docstring-code-line-length = &quot;dynamic&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Daverball">@Daverball</a> on 2024-11-07 12:25</div>
            <div class="timeline-body"><p>You can safely ignore S101 in test code, it&#x27;s only really relevant for runtime code and only if you are worried that your code will break in unexpected ways if those assertions are removed during compilation. E.g. for static typing it&#x27;s quite common to use <code>assert</code>, but you tend to not care if those asserts are optimized away, in fact you may actually want them to be removed for better performance, and only be active during testing.</p>
<p>If you wanted to ignore this code in just your tests you would need to add a <code>extend-per-file-ignores</code> section to your <code>pyproject.toml</code>.</p>
<p>E.g. like this if all your tests live in a <code>tests</code> folder in the root of your project:</p>
<pre><code>[tool.ruff.lint.extend-per-file-ignores]
&quot;tests/**/*.py&quot; = [&quot;S101&quot;]
</code></pre>
<p>There&#x27;s probably other codes you don&#x27;t want to enable for tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-07 12:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jayce-kim1123">@jayce-kim1123</a> on 2024-11-07 23:39</div>
            <div class="timeline-body"><p>it works!
I appreciate your help üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/jayce-kim1123">@jayce-kim1123</a> on 2024-11-07 23:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:59 UTC
    </footer>
</body>
</html>
