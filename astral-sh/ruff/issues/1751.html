<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>__future__ import should not trigger I001 - astral-sh/ruff #1751</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><strong>future</strong> import should not trigger I001</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1751">#1751</a>
        opened by <a href="https://github.com/zpz">@zpz</a>
        on 2023-01-09 20:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zpz">@zpz</a></div>
            <div class="timeline-body"><p>I suspect I'm missing something. I have this in pyproject.toml</p>
<p>[tool.ruff]
target-version = &quot;py38&quot;
select = [&quot;E&quot;, &quot;F&quot;]
extend-select = [&quot;I001&quot;]
ignore = [&quot;E501&quot;]</p>
<p>The <code>__future__</code> imports, which should be the first import, trigger I001 errors. Isort says it doesn't have this issue https://github.com/PyCQA/isort/issues/1637</p>
<p>I think <code>__future__</code> on the first line should be the internal behavior, or there should be an option about that. Am I missing something?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-09 20:34</div>
            <div class="timeline-body"><p>Can you include the exact Python file or snippet that reproduces the issue?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-01-09 20:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zpz">@zpz</a> on 2023-01-10 03:27</div>
            <div class="timeline-body"><p>My bad. My code had <code>from __future__ import annotations</code> followed immediately by other imports. I have many files like this: standard lib imports are one block, including the <code>__future__</code> at the beginning. When it complained about &quot;unsorted&quot; issue, I was surprised, and I did not let <code>ruff</code> &quot;fix&quot; it (fearing it would mess it up). When I did let it fix it, it added a blank line after <code>__future__</code>, so that is OK. Then I read the message again, it says something like unsorted &quot;in the import block&quot;, so that makes sense, too. If <code>__future__</code> was in its own block, it would not complain.</p>
<p>Not sure whether this needs some call out in the documentation. After all, I was confused at first.</p>
<p>Please feel free to close.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-10 04:16</div>
            <div class="timeline-body"><p>Ah yeah, that makes sense. We could do a better job of communicating the specific issues that Ruff is flagging when it comes to organizing imports. (Right now, it just tells you that there's <em>something</em> wrong with the set of imports.) Thanks for the thorough reply.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-10 04:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:45:59 UTC
    </footer>
</body>
</html>
