<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule idea: `unncessary-compiled-regular-expression` - astral-sh/ruff #14691</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Rule idea: <code>unncessary-compiled-regular-expression</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14691">#14691</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2024-11-30 16:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a></div>
            <div class="timeline-body"><p>The discussion in <a href="https://github.com/astral-sh/ruff/issues/14680">astral-sh/ruff#14680</a> inspired a related pattern that&#x27;s less tricky to detect.</p>
<pre><code>re.compile(PATTERN).match(...)

re.compile(PATTERN, FLAGS).sub(...)
</code></pre>
<p>can be simplified to</p>
<pre><code>re.match(PATTERN, ...)

re.sub(PATTERN, ..., FLAGS)
</code></pre>
<p>For the <code>re</code> functions <code>split</code>, <code>match</code>, <code>finditer</code>, <code>search</code>, <code>subn</code>, <code>sub</code>, <code>fullmatch</code>, the syntax is equivalent (see https://github.com/python/cpython/blob/3.13/Lib/re/<strong>init</strong>.py). The rule is purely stylistic. As a nice bonus, if <code>PATTERN</code> is a literal non-meta-character pattern it will be picked up by RUF055 after the fix.</p>
<p>Examples:</p>
<ul>
<li>https://github.com/LLMServe/DistServe/blob/main/distserve/downloader/converter.py#L145</li>
<li>https://github.com/botbahlul/PyAutoSRT/blob/main/linux/streamlink/plugins/pluzz.py#L40</li>
<li>https://github.com/OpenIndiana/openindiana-welcome/blob/master/src/openindiana-about.py#L77</li>
<li>https://github.com/F33RNI/GPT-Telegramus/blob/main/bot_sender.py#L605</li>
<li>https://github.com/bigsk05/YuanArithmetic/blob/main/篡改答案/one_sec.py#L43</li>
<li>https://github.com/carolcoral/jxxghp-nas-tools/blob/master/app/utils/episode_format.py#L14</li>
<li>https://github.com/ElNiak/BountyDork/blob/main/bounty_dork/vpn_proxies/nordvpn_switcher/nordvpn_switch.py#L441</li>
<li>https://github.com/Hack42/hackbank/blob/master/plugins/stickers.py#L43C12-L43C22</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Rule idea: `unncessary-regular-expression-compile`&quot; to &quot;Rule idea: `unncessary-compiled-regular-expression`&quot; by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-30 19:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-02 08:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:05 UTC
    </footer>
</body>
</html>
