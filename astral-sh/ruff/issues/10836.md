```yaml
number: 10836
title: Extending specific rule configurations
type: issue
state: closed
author: seamuswn
labels: []
assignees: []
created_at: 2024-04-08T13:35:21Z
updated_at: 2024-04-08T13:38:19Z
url: https://github.com/astral-sh/ruff/issues/10836
synced_at: 2026-01-10T01:56:52Z
```

# Extending specific rule configurations

---

_Issue opened by @seamuswn on 2024-04-08 13:35_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

When extending another file, I want to be able to extend the 'banned-api' configuration. The specific use case here is to ban some imports specifically for a subset of my test files (unit tests shouldn't access code intended for integration tests).

The current behaviour is for `banned-api` to be overwritten completely when set in my file, requiring managing my project level bans in any file that wants to extend the list of banned APIs.

I think that ideally any configurations like `[tool.ruff.lint.flake8-tidy-imports.banned-api]` should also support the `extend = '../pyproject.toml` syntax (so users can choose between extending the existing configuration option or replacing it - and avoiding breaking changes here).

Other configuration options that might benefit from similar semantics (that I don't use but just from ðŸ‘€ settings page in docs):
1. `[tool.ruff.lint.flake8-import-conventions.aliases]`
2. `[tool.ruff.lint.flake8-import-conventions.banned-aliases]`
3. `tool.ruff.lint.flake8-import-conventions.extend-aliases]`

It would also be useful to have similar semantics somehow for list based configurations, but I'm unsure how that could be supported cleanly.

Keywords:
`extend` `TID251` `flake8-tidy-imports` `banned-api`

Note: this would also be solved by #1507 if implemented (which suggests making banned-api a core feature of ruff with a dedicated select / ignore configuration.

---

_Comment by @MichaReiser on 2024-04-08 13:38_

Thanks for the detailed write-up. I think this is a duplicate of https://github.com/astral-sh/ruff/issues/9872 and there's a PR that fixes this but we need to wait for the next minor. 

Please comment if this is about something else and I incorrectly closed your issue. 

---

_Closed by @MichaReiser on 2024-04-08 13:38_

---
