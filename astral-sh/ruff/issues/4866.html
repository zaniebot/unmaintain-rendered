<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disallow single letter variables outside of comprehensions - astral-sh/ruff #4866</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Disallow single letter variables outside of comprehensions</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/4866">#4866</a>
        opened by <a href="https://github.com/gaborbernat">@gaborbernat</a>
        on 2023-06-05 14:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gaborbernat">@gaborbernat</a></div>
            <div class="timeline-body"><p>Single letter variables are not descriptive enough, so disallow them outside of list comprehensions; because explicit is better than implicit.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-06-05 14:57</div>
            <div class="timeline-body"><p>In your mind, would this include:</p>
<pre><code class="language-python">for i in range(...):
   ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2023-06-05 15:00</div>
            <div class="timeline-body"><p>Most definitely ðŸ˜Š</p>
<pre><code class="language-python">for index/at/position in range(...):
   ...
</code></pre>
<p>is preferable to a magic <code>i</code>. Hopefully we moved out of learning to code where <code>i</code>/<code>j</code> is a good practice, but not IMHO in production level coding.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-06-05 15:48</div>
            <div class="timeline-body"><p>This would <em>sort of</em> be solved by implementing <code>flake8-variable-names</code> (https://github.com/charliermarsh/ruff/issues/3463), though that doesn't special-case comprehensions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-06-05 15:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Skylion007">@Skylion007</a> on 2023-06-05 20:53</div>
            <div class="timeline-body"><p>&quot;index&quot; is a commonly used and override it would trigger a complaint from the flake8-builtin rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2023-06-07 00:31</div>
            <div class="timeline-body"><blockquote>
<p>Most definitely :blush:</p>
<pre><code class="language-python">for index/at/position in range(...):
   ...
</code></pre>
<p>is preferable to a magic <code>i</code>. Hopefully we moved out of learning to code where <code>i</code>/<code>j</code> is a good practice, but not IMHO in production level coding.</p>
</blockquote>
<p>I'm interested in learning more about the perspective that sed'ing all instances of i/a/p to index/at/position while still reusing the variable name in multiple incompatible contexts is better practice due to being longer.</p>
<p>My understanding was that <code>i</code> is a magic programming word that means the English prose &quot;index&quot; in the same way that <code>index</code> is a magic programming word that means the English prose &quot;index&quot;. Indexes are not exactly uncommon, so there will be many such variables.</p>
<p>A reasonable argument could be made that people should be linted away from using <code>for index in foobars:</code> and told to instead use <code>for foobar in foobars:</code>. If you're going to concede and allow genericised terms like &quot;index&quot; I see no reason whatsoever to then go and mark genericised terms like &quot;i&quot; as violations.</p>
<p>Maybe instead of designing a lint rule that allows people to mandate a minimum number of characters, a lint rule should be designed that allows people to mandate a minimum cognitive uniqueness? The referenced flake8-variable-names does this via <code>VNE002: variable name should be clarified</code>, it prevents using names like data/result/item/value/content/info but happens to be missing &quot;index&quot;. It also has &quot;val&quot; but is missing &quot;key&quot;... probably both should be triggering that lint violation. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gaborbernat">@gaborbernat</a> on 2023-06-07 01:15</div>
            <div class="timeline-body"><p>I'd be ok to disallow index ðŸ˜‚ but at least single letter variables is my MVP.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @charliermarsh on 2023-07-10 01:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mwesthelle">@mwesthelle</a> on 2023-10-31 16:39</div>
            <div class="timeline-body"><p>I'm a fan of the pylint approach, which forbids single letter variable names by default, but allows custom exceptions e.g. for loop variables (i, j ,k) via a <code>good-names</code> setting: https://pylint.pycqa.org/en/latest/user_guide/configuration/all-options.html#good-names.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ssbarnea">@ssbarnea</a> on 2025-08-11 10:08</div>
            <div class="timeline-body"><p>Pylint rule worked fine for years, so it would make sense to just implement it the same way. I only recently discovered that ruff did not had time to implement that one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/boxydog">@boxydog</a> on 2025-12-05 15:45</div>
            <div class="timeline-body"><p>The issue I have with <code>i</code> is that it's hard to search for. Sure, if you're looking at one loop that fits in a couple of lines, it's fine, but if the loop goes over a screen, where are the <code>i</code>s? If I have to <code>git grep</code> how do I search for <code>i</code>? I use <code>idx</code>, <code>jdx</code>, <code>kdx</code>, etc., and it's so much easier to see and search for.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2025-12-05 15:50</div>
            <div class="timeline-body"><p>I usually grep for <code>\bi\b</code> for the same reason I would grep for <code>\bidx\b</code> or in fact <code>\bindex\b</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/boxydog">@boxydog</a> on 2025-12-05 16:28</div>
            <div class="timeline-body"><blockquote>
<p>I usually grep for <code>\bi\b</code> for the same reason I would grep for <code>\bidx\b</code> or in fact <code>\bindex\b</code>.</p>
</blockquote>
<p>That is a good suggestion. But, I never thought of it, so I'd say more obscure and more fussy. Also, my eyes hurt looking for &quot;i&quot; in a big block of code. I say, why not make code easier to read, easier to use?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2025-12-05 16:49</div>
            <div class="timeline-body"><p>Word boundaries are a tremendously useful tool either way (though I wouldn't say no to a --whole-word option for the grep program itself, that handled it for you).</p>
<p>My grep will highlight the segment of the line that matches the pattern so it's very easy to spot even in big blocks of code.</p>
<p>(I'm afraid opinions vary here -- I find <code>i</code> much easier to read than <code>idx</code> or <code>index</code> or even <code>foobar in foobars</code>, for loop iteration. So I imagine you'll find that inevitably, some projects enable a new warning and some projects complain whenever you write greenfield code that <em>doesn't</em> break the new warning. The grep trick is useful to have in your toolbox when working with diverse projects.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/boxydog">@boxydog</a> on 2025-12-05 16:56</div>
            <div class="timeline-body"><p>Sure, this is subjective. That's why I'd suggest ruff implement it for those people who want it, and others don't have to run it.</p>
<p>You said:</p>
<blockquote>
<p>I'm interested in learning more about the perspective that sed'ing all instances of i/a/p to index/at/position while still reusing the variable name in multiple incompatible contexts is better practice due to being longer.</p>
</blockquote>
<p>I'm giving you my perspective, and you're just saying you don't agree. So be it.</p>
<p>P.S. Your grep will only highlight it if it isn't further piped through another grep, which removes highlighting for me. Anyway, for readability I'm talking in an IDE, not in grep output. Sure, word boundaries are very useful, but backslashes on the command line can sometimes be a pain (do I need 1, 2, or 4? what is the quoting here?), so I avoid them if I can. So I find this a non-trivial discussion that's not well suited to a github issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2025-12-05 18:45</div>
            <div class="timeline-body"><blockquote>
<p>Sure, this is subjective. That's why I'd suggest ruff implement it for those people who want it, and others don't have to run it.</p>
<p>You said:</p>
<p>[...]</p>
<p>I'm giving you my perspective, and you're just saying you don't agree. So be it.</p>
</blockquote>
<p>Yes, very true. :) I was responding about the grep trick because I think it's useful knowledge when grepping other people's codebases that may use different linter settings.</p>
<blockquote>
<p>P.S. Your grep will only highlight it if it isn't further piped through another grep, which removes highlighting for me.</p>
</blockquote>
<p>For the record -- the default settings for grep are <code>--color=auto</code> but you can force color=always and it will work fine in a pipe (I do this).</p>
<blockquote>
<p>Anyway, for readability I'm talking in an IDE, not in grep output.</p>
</blockquote>
<p>That I can't help you with. :( I know that vim supports highlighting searche matches but I have no idea what any other IDE does.</p>
<blockquote>
<p>[...] So I find this a non-trivial discussion that's not well suited to a github issue.</p>
</blockquote>
<p>You definitely gave me a lot of food for thought, so thank you for that. :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:47:21 UTC
    </footer>
</body>
</html>
