```yaml
number: 14291
title: Ruff v0.7.3 not recognizing instance of SIM115 compared to v0.7.2
type: issue
state: closed
author: CoolCat467
labels:
  - question
assignees: []
created_at: 2024-11-12T02:13:51Z
updated_at: 2024-11-12T04:32:01Z
url: https://github.com/astral-sh/ruff/issues/14291
synced_at: 2026-01-10T01:56:54Z
```

# Ruff v0.7.3 not recognizing instance of SIM115 compared to v0.7.2

---

_Issue opened by @CoolCat467 on 2024-11-12 02:13_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

In Ruff version `0.7.3`, `SIM115` is not recognized in a case that was recognized in `0.7.2`:

`file.py`
```python
from __future__ import annotations

import traceback
from typing import Any, IO


def open_file(
    filename: str,
    mode: str,
    encoding: str | None = None,
) -> IO[Any] | None:
    """Return file handle. Return None on failure."""
    try:
        # Line below previously correctly triggered `SIM115`
        return open(filename, mode, encoding=encoding)
    except FileNotFoundError:
        print("File Not Found.")
    except (OSError, BaseException) as exc:
        print(exc)
        traceback.print_exception(exc)
    return None
```

Noted line no longer triggers `SIM115`, where I argue it might be more correct to do so.

```bash
ruff check --isolated --select=SIM115 file.py
```

```console
~ > ruff --version
ruff 0.7.3
```

---

_Comment by @charliermarsh on 2024-11-12 02:14_

I believe this was an intentional change.

---

_Comment by @zanieb on 2024-11-12 03:13_

Yes, per https://github.com/astral-sh/ruff/pull/14066 and https://github.com/astral-sh/ruff/issues/13862

The caller could context manage the returned object. It is incorrect to raise SIM115 here. 

---

_Comment by @CoolCat467 on 2024-11-12 03:38_

Alright, that makes sense, thanks for clarifying!

---

_Closed by @CoolCat467 on 2024-11-12 03:38_

---

_Label `question` added by @dhruvmanila on 2024-11-12 04:32_

---
