<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unused &quot;noqa&quot; pragma do not seem to be removed. - astral-sh/ruff #2385</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unused &quot;noqa&quot; pragma do not seem to be removed.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2385">#2385</a>
        opened by <a href="https://github.com/KelSolaar">@KelSolaar</a>
        on 2023-01-31 09:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/KelSolaar">@KelSolaar</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

- A minimal code snippet that reproduces the bug.
- The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
- The current Ruff settings (any relevant sections from your `pyproject.toml`).
- The current Ruff version (`ruff --version`).
-->

<p>Hello,</p>
<p>Removing unused <code>noqa</code> pragma does not seem to work.</p>
<p>Given this Ruff 0.0.237 invocation <code>ruff ramblings.py --extend-select RUF100 --fix</code> on the following code:</p>
<pre><code class="language-python">def foo():  # noqa: D101
    &quot;&quot;&quot;Bar.&quot;&quot;&quot;
</code></pre>
<pre><code>(colour-py3.11) Eris:colour kelsolaar$ ruff ramblings.py --extend-select RUF100 --fix
ramblings.py:1:1: INP001 File `ramblings.py` is part of an implicit namespace package. Add an `__init__.py`.
ramblings.py:1:1: D100 Missing docstring in public module
ramblings.py:1:13: RUF100 Unused `noqa` directive (unused: `D101`)
Found 3 errors.
</code></pre>
<p>My current <code>pyproject.toml</code> file:</p>
<pre><code class="language-toml">[tool.ruff]
target-version = &quot;py39&quot;
line-length = 88
select = [
    &quot;A&quot;,      # flake8-builtins
    # &quot;ARG&quot;,  # flake8-unused-arguments
    # &quot;ANN&quot;,  # flake8-annotations
    &quot;B&quot;,      # flake8-bugbear
    # &quot;BLE&quot;,  # flake8-blind-except
    # &quot;C4&quot;,   # flake8-comprehensions
    # &quot;COM&quot;,  # flake8-commas
    &quot;DTZ&quot;,    # flake8-datetimez
    &quot;D&quot;,      # pydocstyle
    &quot;E&quot;,      # pydocstyle
    # &quot;ERA&quot;,  # eradicate
    # &quot;EM&quot;,   # flake8-errmsg
    &quot;EXE&quot;,    # flake8-executable
    &quot;F&quot;,      # flake8
    &quot;G&quot;,      # flake8-logging-format
    &quot;ICN&quot;,    # flake8-import-conventions
    &quot;INP&quot;,    # flake8-no-pep420
    &quot;ISC&quot;,    # flake8-implicit-str-concat
    &quot;N&quot;,      # pep8-naming
    # &quot;PD&quot;,   # pandas-vet
    &quot;PIE&quot;,    # flake8-pie
    # &quot;PGH&quot;,  # pygrep-hooks                [Enable]
    # &quot;PT&quot;,   # flake8-pytest-style         [Enable]
    # &quot;PTH&quot;,  # flake8-use-pathlib
    &quot;Q&quot;,      # flake8-quotes
    &quot;RET&quot;,    # flake8-return
    &quot;S&quot;,      # flake8-bandit
    &quot;SIM&quot;,    # flake8-simplify
    &quot;T10&quot;,    # flake8-debugger
    &quot;T20&quot;,    # flake8-print
    # &quot;TCH&quot;,  # flake8-type-checking
    &quot;TID&quot;,    # flake8-tidy-imports
    &quot;UP&quot;,     # pyupgrade
    &quot;W&quot;,      # pydocstyle
    &quot;YTT&quot;     # flake8-2020
]
ignore = [
    &quot;B008&quot;,
    &quot;B905&quot;,
    &quot;D104&quot;,
    &quot;D200&quot;,
    &quot;D202&quot;,
    &quot;D205&quot;,
    &quot;D301&quot;,
    &quot;D400&quot;,
    &quot;N801&quot;,
    &quot;N802&quot;,
    &quot;N803&quot;,
    &quot;N806&quot;,
    &quot;N813&quot;,
    &quot;N815&quot;,
    &quot;N816&quot;,
    &quot;PIE804&quot;,
    &quot;RET504&quot;,
    &quot;RET505&quot;,
    &quot;RET506&quot;,
    &quot;RET507&quot;,
    &quot;RET508&quot;,
    &quot;UP007&quot;
]
typing-modules = [&quot;colour.hints&quot;]
fixable = [&quot;B&quot;, &quot;E&quot;, &quot;F&quot;, &quot;PIE&quot;, &quot;SIM&quot;,&quot;UP&quot;, &quot;W&quot;]

[tool.ruff.pydocstyle]
convention = &quot;numpy&quot;

[tool.ruff.per-file-ignores]
&quot;colour/examples/*&quot; = [&quot;INP&quot;, &quot;T201&quot;, &quot;T203&quot;]
&quot;docs/*&quot; = [&quot;INP&quot;]
&quot;setup.py&quot; = [&quot;INP&quot;]
&quot;tasks.py&quot; = [&quot;INP&quot;]
&quot;utilities/*&quot; = [&quot;INP&quot;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 12:27</div>
            <div class="timeline-body"><p>Yeah on first glance this does look like a bug, in that I'd expect that <code>noqa</code> to be removed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-01-31 12:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 12:27</div>
            <div class="timeline-body"><p>(Thanks for the clear issue.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-31 12:58</div>
            <div class="timeline-body"><p>Oh sorry, the issue here is that <code>fixable</code> needs to include <code>RUF</code> (or at least <code>RUF100</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-31 12:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/KelSolaar">@KelSolaar</a> on 2023-01-31 18:06</div>
            <div class="timeline-body"><p>Thanks that was it!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:18 UTC
    </footer>
</body>
</html>
