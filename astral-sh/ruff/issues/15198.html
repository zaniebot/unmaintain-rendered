<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[PROPOSAL] live (graph) analysis - astral-sh/ruff #15198</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[PROPOSAL] live (graph) analysis</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15198">#15198</a>
        opened by <a href="https://github.com/purajit">@purajit</a>
        on 2024-12-30 07:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/purajit">@purajit</a> on 2024-12-30 07:22</div>
            <div class="timeline-body"><p>The basic idea is to start <code>ruff</code> in a mode where it monitors file changes and runs something whenever
it detects changes. Primarily, a user should be able to provide a command to be run, for instance, <code>pytest</code>.</p>
<p>This would allow users to run <code>ruff analyze live --cmd -- pytest</code>, which would then run <code>pytest</code> on
<em>all</em> impacted tests whenever a file is changed, while considering transitive dependencies; it could also
be used to understand how broad the scope of your changes might be (by just showing transitively
impacted files on each change), to monitor cyclic dependencies to see in real-time  to check whether your
changes impact them, probably a ton more ideas others might have.</p>
<p>I have an MVP/WIP implementation in https://github.com/astral-sh/ruff/pull/15178.</p>
<p>Example uses:</p>
<ul>
<li><code>ruff analyze live -- pytest</code> to run all impacted tests</li>
<li><code>ruff analyze live --paths tests/test_a.py,tests/test_b.py -- pytest</code> to only run specific tests if
they are impacted</li>
<li><code>ruff analyze live</code>: (unimplemented in the PR) could print certain code health/analysis on each change,
like a list of impacted files, whether cyclic dependencies will be introduced, etc. For instance, if a repo
is configured with data/config files in its <code>include-dependencies</code>, this could show how much might change if
a seemingly simple JSON is edited. Depending on how useful this could be made, it could end up being
something that's constantly running on the side and offering information and possibly aid.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by @MichaReiser on 2024-12-30 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2024-12-30 08:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:36:08 UTC
    </footer>
</body>
</html>
