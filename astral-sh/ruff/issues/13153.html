<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruff check passes, but file is has syntax error - astral-sh/ruff #13153</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ruff check passes, but file is has syntax error</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/13153">#13153</a>
        opened by <a href="https://github.com/uweschmitt">@uweschmitt</a>
        on 2024-08-29 18:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/uweschmitt">@uweschmitt</a></div>
            <div class="timeline-body"><p>The following program is syntactially not correct, but accepted by <code>ruff</code>:</p>
<pre><code># demo.py
x = [3]
print(f&quot;{x[&quot;0&quot;]}&quot;)
</code></pre>
<pre><code>$ ruff check demo.py
All checks passed!
</code></pre>
<pre><code>$ python demo.py
  File &quot;/home/schmittu/slurk-chat-bot-setup-descil/proto.py&quot;, line 2
    print(f&quot;{x[&quot;0&quot;]}&quot;)
                ^
SyntaxError: f-string: unmatched '['
</code></pre>
<pre><code>$ ruff --version
ruff 0.6.3
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-29 18:10</div>
            <div class="timeline-body"><p>Thanks -- this is tracked in #6591. Ruff's parser is more permissive. So all valid programs will be accepted by Ruff's parser, but it may not error on some invalid programs. We plan to emit diagnostics for that in the future (per the linked issue).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-08-29 20:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-08-29 20:08</div>
            <div class="timeline-body"><p>(Combining with that other issue.)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:51:00 UTC
    </footer>
</body>
</html>
