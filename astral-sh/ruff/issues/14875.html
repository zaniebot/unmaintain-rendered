<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isort options break ruff - astral-sh/ruff #14875</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Isort options break ruff</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14875">#14875</a>
        opened by <a href="https://github.com/berislavlopac-wpp">@berislavlopac-wpp</a>
        on 2024-12-09 14:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/berislavlopac-wpp">@berislavlopac-wpp</a></div>
            <div class="timeline-body"><p>When including (some of) the documented options under the <code>[tool.ruff.lint.isort]</code> section in <code>pyproject.toml</code>, ruff breaks being unable to parse the file. Specifically:</p>
<p>Relevant part of <code>pyproject.toml</code>:</p>
<pre><code>[tool.ruff]
line-length = 100
output-format = &quot;grouped&quot;

[tool.ruff.format]
docstring-code-format = true

[tool.ruff.lint]
# Refer to this rules if you need to config any submodule with ruff: https://docs.astral.sh/ruff/rules/
select = [
    &quot;E&quot;, # pycodestyle errors,
    &quot;W&quot;, # pycodestyle warnings
    &quot;F&quot;, # pyflakes
    #    &quot;D&quot;, # compliance with docstring conventions
    &quot;I&quot;,   # isort; uncomment this once it&#x27;s fully configurable in ruff
    &quot;N&quot;, # pep8-naming
    &quot;T20&quot;, # flake8-print
    &quot;Q&quot;, # flake8-quotes
    &quot;B&quot;, # flake8-bugbear
    &quot;C&quot;, # flake8-comprehensions
    &quot;S&quot;, # flake8-bandit
    &quot;ANN&quot;, # flake8-annotations
    &quot;COM&quot;, # flake8-commas
    #    &quot;A&quot;,   # flake8-builtins, TBD(discussed), many uses builtin names for variables
    &quot;C4&quot;, # flake8-comprehensions
    &quot;DTZ&quot;, # flake8-datetimez
    &quot;PIE&quot;, # flake8-pie
    &quot;SIM&quot;, # flake8-simplify
    &quot;TID&quot;, # flake8-tidy-imports
    #    &quot;TCH&quot;, # flake8-type-checking, enable once we agree, it may be too strict (although it helps even with circular imports)
    &quot;C90&quot;, # mccabe
    &quot;UP&quot;, # pyupgrade
    &quot;ERA&quot;, # eradicate, checks for commented out code
    #    &quot;ARG&quot;, # flake8-unused-arguments  (not all options available https://pypi.org/project/flake8-unused-arguments/)
]

ignore = [
    &quot;COM812&quot;, # may cause conflicts when used with the formatter
]

[tool.ruff.lint.isort]
combine_as_imports = true
known_first_party = [&quot;src&quot;, &quot;tests&quot;]
order_by_type = false
</code></pre>
<p>Command used:</p>
<pre><code>$ ruff check .
</code></pre>
<p>Output:</p>
<pre><code>ruff failed
  Cause: Failed to parse /home/[...]/pyproject.toml
  Cause: TOML parse error at line 64, column 1
   |
64 | [tool.ruff.lint]
   | ^^^^^^^^^^^^^^^^
unknown field `combine_as_imports`, expected one of `force-wrap-aliases`, `force-single-line`, `single-line-exclusions`, `combine-as-imports`, `split-on-trailing-comma`, `order-by-type`, `force-sort-within-sections`, `case-sensitive`, `force-to-top`, `known-first-party`, `known-third-party`, `known-local-folder`, `extra-standard-library`, `relative-imports-order`, `required-imports`, `classes`, `constants`, `variables`, `no-lines-before`, `lines-after-imports`, `lines-between-types`, `forced-separate`, `section-order`, `default-section`, `no-sections`, `detect-same-package`, `from-first`, `length-sort`, `length-sort-straight`, `sections`
</code></pre>
<p>Ruff is version <code>0.8.2</code>, Python is version <code>3.11.10</code>.</p>
<p>Any ideas how to sort this out?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/berislavlopac-wpp">@berislavlopac-wpp</a> on 2024-12-09 14:41</div>
            <div class="timeline-body"><p>OK ignore me, I&#x27;m an idiot - the options had <code>_</code> instead of <code>-</code> in their names. ðŸ¤¦</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/berislavlopac-wpp">@berislavlopac-wpp</a> on 2024-12-09 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-12-09 17:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">isort</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-12-09 17:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-12-09 17:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:08 UTC
    </footer>
</body>
</html>
