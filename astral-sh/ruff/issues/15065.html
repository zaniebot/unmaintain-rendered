<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bug: using pydocstyle (D) does not enable D417 - astral-sh/ruff #15065</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>bug: using pydocstyle (D) does not enable D417</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15065">#15065</a>
        opened by <a href="https://github.com/BenjPetr">@BenjPetr</a>
        on 2024-12-19 13:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BenjPetr">@BenjPetr</a></div>
            <div class="timeline-body">Description of the bug
<p>selecting pydocstyle (D) does not enable D417
issue might be linked to using &#x27;convention = &quot;numpy&quot;&#x27;</p>
To Reproduce
<p>ruff.toml:</p>
<pre><code>
[lint]
select = [ &quot;D&quot;]

[lint.pydocstyle]
convention = &quot;numpy&quot;

</code></pre>
<p>example.py:
(docstring error see var2 -&gt; var3)</p>
<pre><code>
&#x27;&#x27;&#x27;Example module that contains a function with type hints.&#x27;&#x27;&#x27;


def example(var1: int, var2: str) -&gt; str:
    &#x27;&#x27;&#x27;Concat variables.

    Parameters
    ----------
    var1 : int
        This is an integer argument
    var3 : str
        This is a string argument

    Returns
    -------
    str
        This is a string that contains the values of the two arguments
    &#x27;&#x27;&#x27;
    return f&quot;var1: {var1}, var2: {var2}&quot;

</code></pre>
<pre><code>ruff check
All checks passed!
</code></pre>
<p>(Expected a D417 error)</p>
<p>change ruff.toml:</p>
<pre><code>[lint]
select = [ &quot;D&quot;, &quot;D417&quot;]

[lint.pydocstyle]
convention = &quot;numpy&quot;

</code></pre>
<p>or
change ruff.toml:</p>
<pre><code>[lint]
select = [ &quot;D&quot;]
</code></pre>
<pre><code>ruff check
D417 Missing argument description in the docstring for `example`: `var2`
  |
4 | def example(var1: int, var2: str) -&gt; str:
  |     ^^^^^^^ D417
5 |     &quot;&quot;&quot;Concat variables.
  |
</code></pre>
<p>(Expected D417 Error showed up)</p>
<p>Also: should there not be an error for &quot;var3&quot; in the docstring?</p>
Expected behavior
<p>Selecting a rule enables all stable rules of the set.</p>
Environment information
<p>ruff 0.8.3
Python 3.10.15</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-12-19 20:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2024-12-19 20:12</div>
            <div class="timeline-body"><p>Yep - this rule is currently only supported for the google convention. Apologies!</p>
<p>From <a href="https://docs.astral.sh/ruff/rules/undocumented-param/">the docs</a>:</p>
<blockquote>
<p>This rule is enabled when using the google convention, and disabled when using the pep257 and numpy conventions.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">docstring</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-12-19 23:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BenjPetr">@BenjPetr</a> on 2024-12-20 08:00</div>
            <div class="timeline-body"><p>It would be nice to get some level of information about this. Are there any other excluded? Are there any other Rules with this behavior? When I&#x27;m using one Rule I don&#x27;t always want to second guess if it uses all the subrules.</p>
<p>Thank you for your time</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-20 08:09</div>
            <div class="timeline-body"><p>That&#x27;s understandable. The <a href="https://docs.astral.sh/ruff/faq/#does-ruff-support-jupyter-notebooks">FAQ section</a> lists the enabled rules by convention</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-01-25 10:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:11 UTC
    </footer>
</body>
</html>
