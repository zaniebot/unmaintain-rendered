<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Misleading documentation for B904: raise-without-from-inside-except - astral-sh/ruff #22541</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Misleading documentation for B904: raise-without-from-inside-except</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/22541">#22541</a>
        opened by <a href="https://github.com/shawnz">@shawnz</a>
        on 2026-01-12 22:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/shawnz">@shawnz</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Rule B904 has docs which I find to be misleading. In the docs, <a href="https://github.com/astral-sh/ruff/blob/3ae4db3ccd227ec58870c4309ab46e24a4c5cdf2/crates/ruff_linter/src/rules/flake8_bugbear/rules/raise_without_from_inside_except.rs#L21">they claim</a>:</p>
<blockquote>
<p>When raising an exception from within an except clause, always include a from clause to facilitate exception chaining. If the exception is not chained, it will be difficult to trace the exception back to its root cause.</p>
</blockquote>
<p>But actually, exceptions get implicitly chained by default if there's no <code>from</code> clause. So this rule never helps facilitate chaining: it can only either A) reduce chaining, by encouraging people to specify <code>from None</code>, or B) just make the default chaining which was already happening more explicit.</p>
<p>I prefer to chain exceptions wherever possible for the reason indicated: I want to have the most possible context to be able to trace errors to their root cause. And having this rule active just creates needless boilerplate to capture what the default behaviour already would have done. If the docs were more accurate about this, I think it would be clearer that this is a rule which should be deselected for most people (IMO).</p>
<p>There's an argument that explicit chaining produces a slightly nicer message in the traceback than implicit chaining (<code>The above exception was the direct cause of the following exception</code> vs <code>During handling of the above exception, another exception occurred</code>). But if that small difference is the whole reason for this rule's existence, I think that is a lot harder to justify all the boilerplate created as a result of applying this rule and I think the docs could be more clear about the limited benefit.</p>
<p>Thanks, Shawn</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 23:25:29 UTC
    </footer>
</body>
</html>
