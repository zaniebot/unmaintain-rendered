<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a flag to tell users which files were fixed, and via which rules - astral-sh/ruff #2661</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add a flag to tell users which files were fixed, and via which rules</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2661">#2661</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-02-08 15:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p><em>No description provided.</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @charliermarsh on 2023-02-08 15:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-09 01:21</div>
            <div class="timeline-body"><p>@henryiii - Sorry for the ping, but one more question here. At least in your case, would you want to see this output on every Ruff invocation? Or would it be sufficient to include it when run with <code>--verbose</code>, e.g., for debugging purposes?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/henryiii">@henryiii</a> on 2023-02-09 01:30</div>
            <div class="timeline-body"><p>I'd prefer it on every Ruff invocation - it's just as important as the list of things that are fixable, and no more verbose than that list if you didn't pass the <code>--fix</code>. Knowing what it changed and why is just as important as what still needs to be done, and I'd just run it again if I wanted only the remaining fixable items (I do that with Rubocop, actually). But I'm totally fine with it being a flag too, I'd just add it to pre-commit's args. I woudn't want too much extra info, though - the file, line number, code, and reason for the unfixed checks is just about perfect for the fixed checks too.</p>
<p>Recent example: I added a noqa for a problem, then ran Ruff:</p>
<pre><code>ruff.....................................................................Failed
- hook id: ruff
- exit code: 1
- files were modified by this hook

tests/test_command.py:413:5: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
Found 2 errors (1 fixed, 1 remaining).
</code></pre>
<p>It deleted the noqa I added (since I missed by one line, I put it on the inner with instead of the outer with). But I can't tell that it did that from the output above; if I got the RUF00x noqa removal fix listed as &quot;fixed&quot;, it would be much clearer what happened.</p>
<p>Ref: https://github.com/wntrblm/nox/pull/691</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-12 20:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:46:26 UTC
    </footer>
</body>
</html>
