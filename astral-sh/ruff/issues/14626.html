<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airflow 3.0 deprecations - astral-sh/ruff #14626</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Airflow 3.0 deprecations</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/14626">#14626</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2024-11-27 06:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-11-27 06:52</div>
            <div class="timeline-body"><p>Tracking issue for the <code>AIR3xx</code> rules that implements Airflow 3.0 deprecations.</p>
<p>For details, refer to the Airflow tracking issue: https://github.com/apache/airflow/issues/44556</p>
<h2>Help wanted</h2>
<p>The following is a &quot;help wanted&quot; task list:</p>
<ul>
<li>[x] Add infrastructure to provide an auto-fix for the migration rules. Look at <a href="https://github.com/astral-sh/ruff/blob/1bd8fbb6e862259a4515f180c2b2ab119d3ffc23/crates/ruff_linter/src/rules/numpy/rules/numpy_2_0_deprecation.rs#L683-L708">NumPy 2.0 implementation</a> for reference</li>
<li>[x] Add a guard specifically for Airflow imports and attributes where a <code>try .. except</code> block could include both the new and deprecated symbols for backwards compatibility. Look at <a href="https://github.com/astral-sh/ruff/blob/1bd8fbb6e862259a4515f180c2b2ab119d3ffc23/crates/ruff_linter/src/rules/numpy/rules/numpy_2_0_deprecation.rs#L671-L673">NumPy 2.0 implementation</a> for reference</li>
</ul>
<p>Ref: https://github.com/apache/airflow/issues/41641</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2024-11-27 06:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14616.html">astral-sh/ruff#14616</a> on 2024-11-27 06:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14582.html">astral-sh/ruff#14582</a> on 2024-11-27 06:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14628.html">astral-sh/ruff#14628</a> on 2024-11-27 08:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2024-11-28 10:25</div>
            <div class="timeline-body"><p>There's already a short proposal https://github.com/astral-sh/ruff/pull/14616#issuecomment-2503207647. Putting it here might make it easier to find üôÇ</p>
<hr />
<p>I'm thinking of separating &quot;removal&quot; and &quot;rename&quot; at least. It would be much easier for the users to know whether there's anything they could do to fix it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-11-28 11:01</div>
            <div class="timeline-body"><p>Additionally, the <a href="https://docs.astral.sh/ruff/rules/numpy2-deprecation/">NumPy 2.0 migration rule</a> is a good reference whose implementation is at: https://github.com/astral-sh/ruff/blob/6f1cf5b686e67fb74383641fcbbe98e33481a271/crates/ruff_linter/src/rules/numpy/rules/numpy_2_0_deprecation.rs</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2024-11-29 16:59</div>
            <div class="timeline-body"><p>Hi, we have grouped our deprecations into several categories and would appreciate it if the team could take a look and let us know what you think about it üôÇ</p>
<ul>
<li>already merged<ul>
<li>AIR301: Avoid implicit DAG schedule https://github.com/astral-sh/ruff/pull/14581</li>
</ul>
</li>
<li>newly proposed error number<ul>
<li>AIR302: removal or no direct mapping<ul>
<li>following https://github.com/astral-sh/ruff/pull/14582</li>
</ul>
</li>
<li>AIR303: rename<ul>
<li>It would be much easier for the users to know whether they could do anything to fix it.</li>
</ul>
</li>
<li>AIR304: moved to airflow providers<ul>
<li>for these, they're similar to &quot;rename&quot; but require the user to install an additional package (e.g., <code>apache-airflow-providers-fab</code>)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Here's the categorised list we have now
https://github.com/apache/airflow/issues/41641#issuecomment-2508140120
(there's another group we temporarily mark as AIR305, but we'll need some time to figure out what we can do for those. Will likely to be merged into 302 or 303)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-29 17:21</div>
            <div class="timeline-body"><p>I like what's proposed here. Thanks for going through all the deprecations and grouping them by possible rules. We can also do some fine-tuning as we go.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2024-12-03 10:41</div>
            <div class="timeline-body"><p>Later discuss with @uranusjr, we think it would be better for us to merge rename and removal into <code>302</code>. So the current idea would be</p>
<ul>
<li>already merged<ul>
<li>AIR301: Avoid implicit DAG schedule (https://github.com/astral-sh/ruff/pull/14581)</li>
<li>AIR302: removal (https://github.com/astral-sh/ruff/pull/14582)</li>
</ul>
</li>
<li>new rule number<ul>
<li>AIR303: moved to airflow providers<ul>
<li>for these, they're similar to &quot;rename&quot; but require the user to install an additional package (e.g., apache-airflow-providers-fab)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>We now use https://github.com/apache/airflow/issues/44556 to track the detail of this task instead of the original one as some of the migration might not be able to be done in ruff</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-04 07:00</div>
            <div class="timeline-body"><p>Sorry for pinging you here, but could someone more familiar with Airflow volunteer looking at the changes in https://github.com/astral-sh/ruff/pull/14631? We just want to make sure that the change is correct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2024-12-04 07:50</div>
            <div class="timeline-body"><blockquote>
<p>Sorry for pinging you here, but could someone more familiar with Airflow volunteer looking at the changes in <a href="https://github.com/astral-sh/ruff/pull/14631">#14631</a>? We just want to make sure that the change is correct.</p>
</blockquote>
<p>Looks like a valid one to me</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-04 07:54</div>
            <div class="timeline-body"><p>Thanks for taking a look!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14631.html">astral-sh/ruff#14631</a> on 2024-12-04 07:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-12-09 05:40</div>
            <div class="timeline-body"><p>I think it'll also be really useful to provide an auto-fix for these rules. Refer to how NumPy 2.0 deprecation rule does it:</p>
<p>https://github.com/astral-sh/ruff/blob/1bd8fbb6e862259a4515f180c2b2ab119d3ffc23/crates/ruff_linter/src/rules/numpy/rules/numpy_2_0_deprecation.rs#L683-L708</p>
<p>And, I think we'll also need to add this guard check specific to Airflow imports and attributes which allows for having both the new and deprecated symbols to exists in a <code>try .. except ..</code> block:</p>
<p>https://github.com/astral-sh/ruff/blob/1bd8fbb6e862259a4515f180c2b2ab119d3ffc23/crates/ruff_linter/src/rules/numpy/rules/numpy_2_0_deprecation.rs#L671-L673</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/uranusjr">@uranusjr</a> on 2024-12-09 05:57</div>
            <div class="timeline-body"><p>I agree. We‚Äôre on a tight schedule and would like to prioritise adding all the rules first, but contribution is always welcomed on these.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-12-09 07:01</div>
            <div class="timeline-body"><blockquote>
<p>We‚Äôre on a tight schedule and would like to prioritise adding all the rules first, but contribution is always welcomed on these.</p>
</blockquote>
<p>Yeah, I think that's fine. Do you have a rough timeline on when v3 is going to be released? I could spend some time in adding the infrastructure for an auto-fix. I think that shouldn't take much time as we already have a reference implementation. And, I'll mark this as a &quot;help wanted&quot; task in the issue description if someone else is interested.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @dhruvmanila on 2024-12-09 07:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tirkarthi">@tirkarthi</a> on 2024-12-09 08:43</div>
            <div class="timeline-body"><p>It seems ruff also has interface to add fixes which seems straightforward. I tested below where users can opt for unsafe fixes using <code>--fix</code> and also see <code>--diff</code> before applying them. This fixes some of the common keyword argument related issues. I can raise a PR. This will help users to do migrations using ruff with in place changes for the dag files once they confirm the changes through diffs in large deployments. Sample output as below</p>
<p>Diff : https://github.com/astral-sh/ruff/compare/main...tirkarthi:ruff:air302-fixes</p>
<pre><code>cargo run -p ruff -- check --preview --select=AIR302 --unsafe-fixes --diff example_latest_only.py --no-cache
   Compiling ruff v0.8.2 (/home/karthikeyan/stuff/python/ruff/crates/ruff)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 11.86s
     Running `target/debug/ruff check --preview --select=AIR302 --unsafe-fixes --diff example_latest_only.py --no-cache`
--- example_latest_only.py
+++ example_latest_only.py
@@ -27,7 +27,7 @@
 
 with DAG(
     dag_id=&quot;latest_only&quot;,
-    schedule_interval=&quot;daily&quot;,
+    schedule=&quot;daily&quot;,
     start_date=datetime.datetime(2021, 1, 1),
     catchup=False,
     tags=[&quot;example2&quot;, &quot;example3&quot;],

Would fix 1 error.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-12-10 04:52</div>
            <div class="timeline-body"><p>@tirkarthi Thank you for working on that. I think it will be useful to consider the kind of deprecations and provide the auto-fixes accordingly. Your implementation looks simple enough, I'm happy to look at the PR. One suggestion for the <code>None</code> case would be to use the <a href="https://github.com/astral-sh/ruff/blob/e3f34b8f5bd1eb715e732e5a277aacedac17358b/crates/ruff_linter/src/fix/edits.rs#L201-L212"><code>remove_argument</code></a> function as there's no replacement for that. We could even rename <code>Replacement::None</code> to <code>Replacement::Remove</code> to make the intentions clear.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/14887.html">astral-sh/ruff#14887</a> on 2024-12-10 06:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tirkarthi">@tirkarthi</a> on 2024-12-10 06:16</div>
            <div class="timeline-body"><p>Thanks @dhruvmanila, created PR #14887 . I agree that the fixes need to be categorized like numpy with <code>Replacement</code> enum updated with more details but I guess it will be a bigger effort and will see if I can tackled it in a separate PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2024-12-10 11:18</div>
            <div class="timeline-body"><p>Just created a new one for AIR303 https://github.com/astral-sh/ruff/pull/14764</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/15713.html">astral-sh/ruff#15713</a> on 2025-01-24 13:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tirkarthi">@tirkarthi</a> on 2025-02-12 06:27</div>
            <div class="timeline-body"><p>Is there a helper method to change the import path while keeping the symbol name? I looked at numpy replacements and they seem to do something like below where the import path remains the same and new symbol is introduced. In terms of Airflow deprecations the symbol remains the same but import path changes. Just changing the import path of the replacement through <code>checker.importer().get_or_import_symbol</code> causes below type of code to be generated I guess and <code>ConflictingName</code> is raised.</p>
<pre><code class="language-python">from airflow.operators.empty import EmptyOperator
from airflow.providers.standard.operators.empty import EmptyOperator
</code></pre>
<p>Deprecated</p>
<pre><code class="language-python">from numpy import all
</code></pre>
<p>Fix</p>
<pre><code class="language-python">from numpy import all, alltrue
</code></pre>
<p>Deprecated and removed that will cause <code>ImportError</code></p>
<pre><code class="language-python">from airflow.operators.empty import EmptyOperator
</code></pre>
<p>Fix</p>
<pre><code class="language-python">from airflow.providers.standard.operators.empty import EmptyOperator
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-11 12:58</div>
            <div class="timeline-body"><p>@Lee-W and @uranusjr What's the status of the airflow rules? Or, we're working on the Ruff 0.10 minor and we noticed that AIR301 would meet our stabilization criteria but I don't think it makes sense to only stabilize some of them. What do you think?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-03-11 13:12</div>
            <div class="timeline-body"><p>I don't think we'll add new things to AIR301, but there're still some for AIR302 and AIR303 that we're currently out of bandwidth to work on</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-03-11 13:18</div>
            <div class="timeline-body"><p>so probably keep all of them as preview for now would be better I think</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-11 13:21</div>
            <div class="timeline-body"><p>Sounds reasonable. Thanks for the update.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-03-26 10:04</div>
            <div class="timeline-body"><p>Hey @dhruvmanila @MichaReiser,</p>
<p>Recently, we've been testing these <code>AIR</code> rules with some existing dags to see how they work. However, we discovered there are too many warnings for even simple cases. Some might not be necessary now (backward compat layers have been added.) In addition to adding an auto fix, we'd also like to propose a reorg of these error codes. It would make airflow users migrate from Airflow 2 to Airflow 3 without so much pressure.</p>
<h2>Original</h2>
<ul>
<li>AIR001<ul>
<li>Name: airflow-variable-name-task-id-mismatch</li>
<li>Message: Task variable name should match the task_id: &quot;{task_id}&quot;</li>
<li>Status:</li>
</ul>
</li>
<li>AIR301<ul>
<li>Name: airflow-dag-no-schedule-argument</li>
<li>Message: DAG should have an explicit schedule argument</li>
<li>Status: üß™</li>
</ul>
</li>
<li>AIR302<ul>
<li>Name: airflow3-removal</li>
<li>Message: {deprecated} is removed in Airflow 3.0</li>
<li>Status: üß™ üõ†Ô∏è</li>
</ul>
</li>
<li>AIR303<ul>
<li>Name: airflow3-moved-to-provider</li>
<li>Message: {deprecated} is moved into {provider} provider in Airflow 3.0;</li>
<li>Status: üß™</li>
</ul>
</li>
</ul>
<h2>Proposal</h2>
<ul>
<li>AIR001 (<strong>not changed</strong>)<ul>
<li>Name: airflow-variable-name-task-id-mismatch</li>
<li>Message: Task variable name should match the task_id: &quot;{task_id}&quot;</li>
<li>Status:</li>
</ul>
</li>
<li>AIR002 (<strong>original AIR301</strong>)<ul>
<li>Name: airflow-dag-no-schedule-argument</li>
<li>Message: DAG should have an explicit schedule argument</li>
<li>Note: https://github.com/astral-sh/ruff/pull/16978</li>
</ul>
</li>
<li>AIR302<ul>
<li>Name: airflow3-removal</li>
<li>Import or usage removed without fallback in Airflow 3.0</li>
<li>Note:<ul>
<li>e.g., <code>airflow.operators.subdag</code></li>
<li>Some existing rules should be moved to <code>AIR304</code></li>
</ul>
</li>
</ul>
</li>
<li>AIR303<ul>
<li>Name: airflow3-moved-to-provider</li>
<li>Message: Import or usage moved from airflow to <code>airflow.providers</code> in Airflow 3.0 with no fallback</li>
<li>Note:<ul>
<li>e.g., <code>airflow.hooks.zendesk_hook.ZendeskHook</code> ‚Üí <code>airflow.providers.zendesk.hooks.zendesk.ZendeskHook</code></li>
<li>Some existing rules should be moved to <code>AIR305</code></li>
</ul>
</li>
</ul>
</li>
<li>AIR304<ul>
<li>Name: airflow3-0-deprecated</li>
<li>Message: The feature is deprecated in 3.0 and will be removed in a future version (e.g., 3.1 or 4.0).</li>
<li>Note:<ul>
<li>e.g., <code>airflow.datasets.Dataset</code> ‚Üí <code>airflow.sdk.Asset</code> (it's expected to be moved in 3.2)</li>
</ul>
</li>
</ul>
</li>
<li>AIR305<ul>
<li>Name: airflow3-0-deprecated-and-moved-to-provider</li>
<li>Message: Feature is deprecated in 3.0 and will move from airflow to airflow.providers in a future version</li>
<li>Notes:<ul>
<li>e.g., <code>airflow.triggers.temporal</code> ‚Üí <code>airflow.providers.standard.triggers.temporal</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<p>For those who want to migrate to Airflow 3.0, <code>--select AIR302,AIR303</code> will be required, and we intend to make this set much smaller. For aggressive people, they can turn on <code>--select AIR3</code>. <code>AIR305</code> is one thing I'm not that sure but I will discuss it with the community and get back to you. Also, would like to know if we move <code>AIR301</code>, do we need to reindex other <code>AIR3xx</code> as well?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-03-28 15:40</div>
            <div class="timeline-body"><p>Hey @MichaReiser @dhruvmanila, just a gentle ping in case you missed the message. üôÇ</p>
<p>I also created some auto fixing PR https://github.com/astral-sh/ruff/pulls/Lee-W . Would be awesome if I could get some suggestions. Thanks! üôè</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-28 18:34</div>
            <div class="timeline-body"><blockquote>
<p>Hey <a href="https://github.com/MichaReiser">@MichaReiser</a> <a href="https://github.com/dhruvmanila">@dhruvmanila</a>, just a gentle ping in case you missed the message. üôÇ</p>
</blockquote>
<p>Thank you for the ping! We've been busy this week with the company on-site but I plan to look into it soon.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaxil">@kaxil</a> on 2025-03-28 22:36</div>
            <div class="timeline-body"><p>Thanks Dhruv</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-03-31 12:48</div>
            <div class="timeline-body"><p>The new split does make sense to me. A few questions:</p>
<ul>
<li><p>What's the reason for removing 301 entirely? It feels a bit weird that there now is a hole at the start of the <code>3XX</code> rules. Oh, I just now saw your comment:</p>
<blockquote>
<p>Also, would like to know if we move AIR301, do we need to reindex other AIR3xx as well?</p>
</blockquote>
<p>I think it's fine to reuse the code, considering that the rule is still in preview.</p>
</li>
<li><p>Should the deprecation rules go into their own category, e.g. <code>AIR4XX</code> to make it easier to select and extend in the future. Or is the intention that all <code>AIR3XX</code> rules are related to airflow 3? If so, maybe consider <code>AIR31X</code> for the deprecations</p>
</li>
</ul>
<p>Interested to get @dhruvmanila's opinion as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-03-31 12:57</div>
            <div class="timeline-body"><blockquote>
<p>Or is the intention that all AIR3XX rules are related to airflow 3?</p>
</blockquote>
<p>Yes, I think it would lead to less confusion.</p>
<blockquote>
<p>If so, maybe consider AIR31X for the deprecations</p>
</blockquote>
<p>This is also one thing I think might work.</p>
<p>Maybe regroup it to something like the following?</p>
<ul>
<li>AIR301 (original 302)<ul>
<li>Name: airflow3-removal</li>
</ul>
</li>
<li>AIR302<ul>
<li>Name: airflow3-moved-to-provider</li>
</ul>
</li>
<li>AIR311<ul>
<li>Name: airflow3-0-deprecated</li>
</ul>
</li>
<li>AIR312<ul>
<li>Name: Name: airflow3-0-deprecated-and-moved-to-provider</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-03-31 15:11</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>Or is the intention that all AIR3XX rules are related to airflow 3?</p>
</blockquote>
<p>Yes, I think it would lead to less confusion.</p>
<blockquote>
<p>If so, maybe consider AIR31X for the deprecations</p>
</blockquote>
<p>This is also one thing I think might work.</p>
<p>Maybe regroup it to something like the following?</p>
<pre><code>* AIR301 (original 302)
  
  * Name: airflow3-removal

* AIR302
  
  * Name: airflow3-moved-to-provider

* AIR311
  
  * Name: airflow3-0-deprecated

* AIR312
  
  * Name: Name: airflow3-0-deprecated-and-moved-to-provider</code></pre>
</blockquote>
<p>Apart from this discussion, if you still have some bandwidth. It would be much appreciated if we can have these PRs reviewed üôÇ .</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/16965 (This the PR i need more help to ensure I'm not doing thing wrong)<ul>
<li>https://github.com/astral-sh/ruff/pull/17038 bases on https://github.com/astral-sh/ruff/pull/16965</li>
</ul>
</li>
<li>https://github.com/astral-sh/ruff/pull/16976, https://github.com/astral-sh/ruff/pull/16977</li>
<li>https://github.com/astral-sh/ruff/pull/16978 (We'll need to make this change before we can move error ocdes)</li>
<li>https://github.com/astral-sh/ruff/pull/17085 (new rules, probably not as urgent as otheres)</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-31 20:24</div>
            <div class="timeline-body"><blockquote>
<ul>
<li>I think it's fine to reuse the code, considering that the rule is still in preview.</li>
</ul>
</blockquote>
<p>Yes, I also think the same.</p>
<blockquote>
<p>Maybe regroup it to something like the following?</p>
<ul>
<li><p>AIR301 (original 302)</p>
<ul>
<li>Name: airflow3-removal</li>
</ul>
</li>
<li><p>AIR302</p>
<ul>
<li>Name: airflow3-moved-to-provider</li>
</ul>
</li>
<li><p>AIR311</p>
<ul>
<li>Name: airflow3-0-deprecated</li>
</ul>
</li>
<li><p>AIR312</p>
<ul>
<li>Name: Name: airflow3-0-deprecated-and-moved-to-provider</li>
</ul>
</li>
</ul>
</blockquote>
<p>Right, so is my understanding correct (?) that there are now two groups:</p>
<ul>
<li><code>AIR30x</code> are hard deprecations, they have been removed</li>
<li><code>AIR31x</code> are soft deprecations, they will be removed in future release or have been moved elsewhere</li>
</ul>
<p>Can you tell me the difference between <code>AIR302</code> and <code>AIR312</code> in the above proposal? They both suggests that the symbols have been moved to a provider module but I'm not sure what's the difference.</p>
<p>I think the overall grouping makes sense. I'll start reviewing the linked PRs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-31 20:42</div>
            <div class="timeline-body"><p>@Lee-W Can you help me in what order should I be reviewing the PRs? Do you want to regroup the rules first? Does that require changing some of the symbols that are currently being detected as hard deprecation but need to be moved to soft deprecations?</p>
<p>Regardless, I'm going to review the PRs that you've opened as they seem to only implement the autofix for the rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-01 02:10</div>
            <div class="timeline-body"><blockquote>
<p>Right, so is my understanding correct</p>
</blockquote>
<p>Yes, this understanding is correct!</p>
<blockquote>
<p>Can you tell me the difference between AIR302 and AIR312 in the above proposal?</p>
</blockquote>
<p>AIR302 (original 303) is something like <code>airflow.api.auth.backend.basic_auth</code> ‚Üí <code>airflow.providers.fab.auth_manager.api.auth.backend.basic_auth</code>. <code>AIR312</code> is for something like <code>airflow.sensors.filesystem.FileSensor ‚Üí airflow.providers.standard.sensors.filesystem.FileSensor</code>. The only difference is the provider needed in <code>AIR312</code> is pre-installed with Airflow. So i'm also thinking of just merging it to AIR301 ü§î Before this decision is made. I can still work on other changes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-01 02:13</div>
            <div class="timeline-body"><blockquote>
<p>Can you help me in what order should I be reviewing the PRs?</p>
</blockquote>
<p>The regrouped has not yet been created (except for 301 to 002). Others are auto fix PRs. But after addressing all the comments on current PRs, I'll list them down here again. Thanks!</p>
<blockquote>
<p>Do you want to regroup the rules first?</p>
</blockquote>
<p>I'll create PRs today or tomorrow. We can look into the autofix first.</p>
<blockquote>
<p>Does that require changing some of the symbols that are currently being detected as hard deprecation but need to be moved to soft deprecations?</p>
</blockquote>
<p>Yes, it will.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-01 09:52</div>
            <div class="timeline-body"><p>@dhruvmanila</p>
<p>Would be great if I can get some feedback on https://github.com/astral-sh/ruff/pull/16965 first</p>
<p>The following four items should be easier to review, as some of them have already been approved.</p>
<p>https://github.com/astral-sh/ruff/pull/16976
https://github.com/astral-sh/ruff/pull/16977
https://github.com/astral-sh/ruff/pull/16978
https://github.com/astral-sh/ruff/pull/17085</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-01 15:18</div>
            <div class="timeline-body"><p>Hey @dhruvmanila , would like to update the PR orders a bit. Many thanks!</p>
<p>We still need some more feedback on #16965 first.</p>
<p>The following 4 are easier to review.</p>
<ol>
<li>#16978 (this blocks the error code reorg thing)</li>
<li>#16976</li>
<li>#16977</li>
<li>#17085</li>
</ol>
<p>One missing piece found in #17115 and then #17123 which reflects the latest Airflow 3.0 changes and depends on the previous PR.</p>
<hr />
<p>the reorg has not yet been started. all the PR above still follows the current error code design as #16978 is still under review.</p>
<hr />
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-04-01 15:21</div>
            <div class="timeline-body"><p>Thank you, just acknowledging this. I've added this to my todo list for today, I'll start looking into it in a couple of hours.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-01 15:28</div>
            <div class="timeline-body"><p>Much appreciated! üôè</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../apache/airflow/issues/48560.html">apache/airflow#48560</a> on 2025-04-02 02:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-02 11:25</div>
            <div class="timeline-body"><p>Hey @dhruvmanila , just a heads up. @sunank200 will help with the reorg and apply the autofix to other rules for the following few days. I'll be back next Monday.</p>
<p>I'll send a sample reorg PR later today (branched out from https://github.com/astral-sh/ruff/pull/16978) so it would be easier for @sunank200 to pick up.</p>
<p>Thanks for helping out!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/17151.html">astral-sh/ruff#17151</a> on 2025-04-02 13:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-03 03:10</div>
            <div class="timeline-body"><p>@dhruvmanila Thanks so so so much for helping out and merging so many PRs!</p>
<hr />
<p>@sunank200 As I'm out till next Monday, here are things we can do as the next steps.</p>
<h2>Fix and adding rules</h2>
<ol>
<li>Get https://github.com/astral-sh/ruff/pull/17123 merged (This should be ready now. But please address the comments if there's any. Thanks!)</li>
<li>Address the comments on https://github.com/astral-sh/ruff/pull/17115#discussion_r2025052581 by expanding <code>Replacement::ImportPathMoved</code> to <code>Replacement::ProviderName</code> and get https://github.com/astral-sh/ruff/pull/17115 merged. This would also ease how AIR302 is fixed.</li>
</ol>
<h2>Autofix</h2>
<ul>
<li>Apply the <code>Replacement::AutoImport</code> thing to <code>Replacement::Name</code> in <code>crates/ruff_linter/src/rules/airflow/rules/removal_in_3.rs</code> whenever it makes sense (take a look at https://github.com/astral-sh/ruff/pull/16965) (https://github.com/astral-sh/ruff/pull/16965#pullrequestreview-2736632433)</li>
<li>Fix https://github.com/astral-sh/ruff/pull/17038 and get it merged (I just found out some of the fix is not working, but I don't have enough time to get it fixed)</li>
<li>add try catch guard to method and class attribute as https://github.com/astral-sh/ruff/pull/16965#discussion_r2025037654 suggested</li>
</ul>
<h2>Reorg</h2>
<ul>
<li>Reorganized AIR301, AIR302 into (AIR301, AIR302, AIR311, AIR312 as listed down on https://github.com/apache/airflow/issues/48560#issuecomment-2772608006 and https://github.com/apache/airflow/issues/48560#issuecomment-2772747938. I have a super early draft PR https://github.com/astral-sh/ruff/pull/17152. Not sure whether it helps, but you use it or create a new one.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-04-03 15:27</div>
            <div class="timeline-body"><p>Just a heads up, @ntBre is going to be taking over looking at the remaining parts of the Airflow work. Feel free to tag me if there's anything specific that requires my input / context.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/17152.html">astral-sh/ruff#17152</a> on 2025-04-08 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-08 14:35</div>
            <div class="timeline-body"><p>Hey @ntBre , just try to list down what we have now so it would be easier for you to track üôÇ</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17038#discussion_r2033162242: suggestion would be much appreciated regarding autofix</li>
<li>https://github.com/astral-sh/ruff/pull/17152: the first reorganizing PR. It would be great if we could get some initial feedback.</li>
<li>https://github.com/astral-sh/ruff/pull/17293: refactoring and bu fix</li>
<li>https://github.com/astral-sh/ruff/pull/17115: bug fix</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-08 19:09</div>
            <div class="timeline-body"><p>Thanks for the list! I approved 1-3 with very minor comments, and I'll try to tackle 4 this evening or tomorrow morning.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/17310.html">astral-sh/ruff#17310</a> on 2025-04-10 15:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-16 10:21</div>
            <div class="timeline-body"><p>Hey @ntBre , I'll try to use this issue to communicate if there's more than one PR that needs your help, so that you won't need to switch between PRs. üôÇ</p>
<hr />
<ul>
<li>https://github.com/astral-sh/ruff/pull/17310 (this is approved, addressed all the comments, and rebased from the latest main)<ul>
<li>https://github.com/astral-sh/ruff/pull/17422 is based on the PR above. It adds a few crucial checks to AIR311 without other major changes. @sunank200 will help rebase once #17310 is merged</li>
</ul>
</li>
</ul>
<p>It would be really nice if we could have them in 0.11.6 üôÇ</p>
<hr />
<p>I'll other autofixes things once I'm back next week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-16 13:55</div>
            <div class="timeline-body"><p>I'll review these today!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-23 02:50</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Just a quick update on the PRs I have today</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17355</li>
<li>https://github.com/astral-sh/ruff/pull/17542<ol>
<li>https://github.com/astral-sh/ruff/pull/17553</li>
<li>https://github.com/astral-sh/ruff/pull/17570</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17571</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-24 00:47</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Another quick update on the PRs we need your help üôÇ
(The indentation indicates PR dependencies)</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17542<ol>
<li>https://github.com/astral-sh/ruff/pull/17553<ol>
<li>https://github.com/astral-sh/ruff/pull/17570</li>
</ol>
</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17571<ol>
<li>https://github.com/astral-sh/ruff/pull/17598</li>
</ol>
</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-24 18:14</div>
            <div class="timeline-body"><p>Thanks for these lists! I reviewed the top-level PRs and can move on to the next layer soon.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-25 00:34</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Another quick up on the PRs we have now üôÇ
(The indentation indicates PR dependencies)</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17542<ol>
<li>https://github.com/astral-sh/ruff/pull/17553<ol>
<li>https://github.com/astral-sh/ruff/pull/17570</li>
</ol>
</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17598</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-07 13:36</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Just a quick update on what we have now üôÇ</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17913</li>
<li>https://github.com/astral-sh/ruff/pull/17887</li>
<li>https://github.com/astral-sh/ruff/pull/17884</li>
</ol>
<p>Also, would like to discuss a bit about https://github.com/astral-sh/ruff/pull/17038#discussion_r2035076036</p>
<p>I tried to remove the Conflict check, and it did add the import but we probably also need to remove the original import. Thus, I'm thinking of following https://github.com/astral-sh/ruff/blob/fab862c8cd934ae5b5ea06918addf85d6acd5cc3/crates/ruff_linter/src/rules/flake8_type_checking/rules/runtime_import_in_type_checking_block.rs#L323.</p>
<p>Would it be possible for us to get import statement with expr or name around</p>
<p>https://github.com/astral-sh/ruff/blob/fab862c8cd934ae5b5ea06918addf85d6acd5cc3/crates/ruff_linter/src/rules/airflow/rules/removal_in_3.rs#L881?</p>
<p>and then maybe we could use <code>remove_unused_import</code> here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-07 21:55</div>
            <div class="timeline-body"><p>Thanks, I'll try to review these in the next couple of days (hopefully tomorrow).</p>
<p>I'm not personally familiar with that <code>remove_unused_imports</code> API, but it certainly sounds promising! (Just to recap, from reading the linked thread, the issue is that you're getting a <code>ConflictingName</code> error from <code>get_or_import_symbol</code> so you need to remove the existing import first?) I'm happy to try playing with it if you run into issues, but following that type-checking rule's example looks like it makes sense to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-08 01:01</div>
            <div class="timeline-body"><blockquote>
<p>Just to recap, from reading the linked thread, the issue is that you're getting a ConflictingName error from get_or_import_symbol so you need to remove the existing import first?)</p>
</blockquote>
<p>Yes, that's what I'm thinking of. Otherwise, we'll have one of the imports shadowed and removed by <code>unused import</code> rules. Glad to hear it sounds reasonable. I failed yesterday, but will continue trying today üí™</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-08 12:06</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Just a quick update on what we have now üôÇ</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17913</li>
<li>https://github.com/astral-sh/ruff/pull/17887</li>
<li>https://github.com/astral-sh/ruff/pull/17884</li>
<li>https://github.com/astral-sh/ruff/pull/17946</li>
<li>https://github.com/astral-sh/ruff/pull/17941<ol>
<li>https://github.com/astral-sh/ruff/pull/17940</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17942</li>
</ol>
<p>I'm still working on enabling import removal. But to lay down the foundation, I created a few refactoring PR and minor issues I found during refactoring.</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-09 14:26</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Just a quick update on what we have now üôÇ</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17913</li>
<li>https://github.com/astral-sh/ruff/pull/17887</li>
<li>https://github.com/astral-sh/ruff/pull/17884</li>
<li>https://github.com/astral-sh/ruff/pull/17941<ol>
<li>https://github.com/astral-sh/ruff/pull/17985</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17942<ol>
<li>https://github.com/astral-sh/ruff/pull/17940</li>
</ol>
</li>
</ol>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../apache/airflow/issues/41641.html">apache/airflow#41641</a> on 2025-05-09 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-09 15:59</div>
            <div class="timeline-body"><p>Thanks. I reviewed (1), just waiting for the release process to finish today to merge. I also reviewed (2), approved with one question for you. I looked at (3) again, and Micha and I are still hoping we might be able to offer a fix there. I might play with this a bit myself today to see if I can understand the problem better.</p>
<p>I briefly looked at (4) and (5), but they sound closely related to (3). Is that true, or should I go ahead and review them before (3) is resolved?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-10 00:31</div>
            <div class="timeline-body"><blockquote>
<p>Thanks. I reviewed (1), just waiting for the release process to finish today to merge. I also reviewed (2), approved with one question for you. I looked at (3) again, and Micha and I are still hoping we might be able to offer a fix there. I might play with this a bit myself today to see if I can understand the problem better.</p>
<p>I briefly looked at (4) and (5), but they sound closely related to (3). Is that true, or should I go ahead and review them before (3) is resolved?</p>
</blockquote>
<p>Hi, thanks for helping out! I'll take a look at and see how I can address <code>(2)</code> next Monday. I don't have a clear answer for how to fix best <code>(3)</code>. I still don't think it's the best idea to fix it wrongly so I'll mark it as a draft and return to it later.</p>
<p><code>(4)</code> and <code>(5)</code> are not related to <code>(3)</code>, but more related to the auto fix thing I'm going to focus on next week. Also, the following PRs based on those 2 come with fixes to reflect the latest Airflow 3.0 implementation</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-12 15:29</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Just a quick update on what we have now üôÇ Those draft PRs are actually ready but depend on other PRs</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17887</li>
<li>https://github.com/astral-sh/ruff/pull/17941<ol>
<li>https://github.com/astral-sh/ruff/pull/17985</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17942<ol>
<li>https://github.com/astral-sh/ruff/pull/17940</li>
</ol>
</li>
</ol>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-13 14:10</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>Don't really have a lot of updates today. The following are the PRs ready to be reviewed üôÇ . I think I have some progress on the autofix thing. might be able to put up a draft tomorrow!</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/17941<ol>
<li>https://github.com/astral-sh/ruff/pull/17985</li>
</ol>
</li>
<li>https://github.com/astral-sh/ruff/pull/17942<ol>
<li>https://github.com/astral-sh/ruff/pull/17940</li>
</ol>
</li>
</ol>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-16 13:08</div>
            <div class="timeline-body"><p>@Lee-W we just updated our Rust version and edition, so you may need to rebase your open PRs to resolve some (hopefully minor) conflicts. I can review some of these today once they're updated!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-16 13:51</div>
            <div class="timeline-body"><p>@ntBre  Sure! I just rebased it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-20 10:39</div>
            <div class="timeline-body"><p>Hey @ntBre ,</p>
<p>we have 2 pending PRs today</p>
<ol>
<li>https://github.com/astral-sh/ruff/pull/18093 (would be nice if we can have this reviewed first. it currently applies only to AIR302 for easier review. but already extracted the functions to airflow.helper. should not be to difficult to port it to AIR301, 311 312)</li>
<li>https://github.com/astral-sh/ruff/pull/18215 (minor improvement)</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-22 11:02</div>
            <div class="timeline-body"><p>Hey @ntBre , just a gentle ping. Thanks üôÇ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-22 11:13</div>
            <div class="timeline-body"><p>@ntBre is out for the week. He'll be back early next week</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-22 11:28</div>
            <div class="timeline-body"><blockquote>
<p>@ntBre is out for the week. He'll be back early next week</p>
</blockquote>
<p>Got it. Thanks so much for updating üôÇ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-05-29 12:02</div>
            <div class="timeline-body"><p>Hey @ntBre , as https://github.com/astral-sh/ruff/pull/18093 has been approved. I just addressed the comments and applied them to other rules.</p>
<ul>
<li>https://github.com/astral-sh/ruff/pull/18367</li>
<li>https://github.com/astral-sh/ruff/pull/18363</li>
<li>https://github.com/astral-sh/ruff/pull/18368</li>
</ul>
<p>They're kept as drafts as they depend on https://github.com/astral-sh/ruff/pull/18093, but I think they won't conflict with each other and are ready now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-30 13:36</div>
            <div class="timeline-body"><p>Thanks, I think I got them all!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-06-01 13:04</div>
            <div class="timeline-body"><p>Thanks so much! I think this is the last major thing we'll have in a short while, but I'll still be around to make some minor improvement</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zach-overflow">@zach-overflow</a> on 2025-10-22 17:32</div>
            <div class="timeline-body"><p>Hi all, let me know if I should create a separate issue for this, but I found that currently (as of <code>ruff</code> version <code>0.14.1</code>), <code>AIR311</code> does not raise any errors for DAG code with deprecated imports from <code>airflow.models.param</code>.</p>
<p>To be clear, I don't believe this is a regression, just something that was never caught by the <code>AIR*</code> rules before.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-10-23 10:47</div>
            <div class="timeline-body"><blockquote>
<p>Hi all, let me know if I should create a separate issue for this, but I found that currently (as of <code>ruff</code> version <code>0.14.1</code>), <code>AIR311</code> does not raise any errors for DAG code with deprecated imports from <code>airflow.models.param</code>.</p>
<p>To be clear, I don't believe this is a regression, just a something that was never caught by the <code>AIR*</code> rules before.</p>
</blockquote>
<p>https://github.com/astral-sh/ruff/pull/21043</p>
<p>PR created</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-24 05:33</div>
            <div class="timeline-body"><p>@ntBre @Lee-W should we close this issue now that the rules have been stabilized?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-10-24 13:46</div>
            <div class="timeline-body"><p>Sounds good to me if it works for @Lee-W!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-10-25 02:59</div>
            <div class="timeline-body"><p>Yep, sounds good :) Even though we still have a few minor things to add, they've been tracked in our end.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-27 04:51</div>
            <div class="timeline-body"><p>Sounds good, I'll close this issue but feel free to open additional issues if you want to track additional work here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2025-10-27 04:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:54 UTC
    </footer>
</body>
</html>
