<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement `autoflake` - astral-sh/ruff #1647</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement `autoflake`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1647">#1647</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-01-05 00:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-05 00:09</div>
            <div class="timeline-body"><ul>
<li>[x] Remove unused imports (<code>F401</code>)</li>
<li>[x] Remove duplicate keys (<code>F601</code>)</li>
<li>[x] Remove unused variables (<code>F841</code>)</li>
<li>[ ] Expand star imports (<code>F403</code>)</li>
<li>[x] Useless <code>pass</code> statements</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by @charliermarsh on 2023-01-05 00:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-05 01:07</div>
            <div class="timeline-body"><p>I'm hesitant to add autofix for <code>F601</code> and <code>F403</code>, because the right behavior isn't clear, and automatically fixing them is very likely to cause problems.</p>
<p>I'd be open to autofixing <code>F601</code> in the case that the values are duplicated too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1710.html">astral-sh/ruff#1710</a> on 2023-01-07 05:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-07 21:17</div>
            <div class="timeline-body"><p>Happy with this for now. I'm not planning to do star imports with the current approach, and we already do some subset of <code>pass</code> statements.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-07 21:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../materialsproject/pymatgen/pulls/2847.html">materialsproject/pymatgen#2847</a> on 2023-02-15 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cclauss">@cclauss</a> on 2023-03-17 06:17</div>
            <div class="timeline-body"><p>What about trying the https://github.com/asmeurer/removestar approach for creating an <code>F403 fixer</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sanmai-NL">@sanmai-NL</a> on 2023-06-22 13:55</div>
            <div class="timeline-body"><p>@charliermarsh</p>
<p>The last item</p>
<blockquote>
<p>Useless pass statements</p>
</blockquote>
<p>is already implemented as https://beta.ruff.rs/docs/rules/unnecessary-pass/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../pymc-devs/pytensor/pulls/539.html">pymc-devs/pytensor#539</a> on 2023-12-08 15:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../codespell-project/codespell/pulls/3250.html">codespell-project/codespell#3250</a> on 2023-12-13 20:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/9417.html">astral-sh/ruff#9417</a> on 2024-01-07 00:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RobertDeRose">@RobertDeRose</a> on 2024-06-01 07:08</div>
            <div class="timeline-body"><p>Why is F841 considered <code>unsafe</code>?</p>
<h2>Example</h2>
<pre><code class="language-bash">ruff check --fix --config pyproject.toml
gpio/models/pin.py:
  159:9 F841 Local variable `unused` is assigned to but never used

Found 1 error.
No fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).
</code></pre>
<p>This was a test to see if the behavior of Ruff is the same as autoflake, and it is not. autoflake removes it, Ruff requires the addition of <code>--unsafe-fixes</code></p>
<p>Ruff version: ruff 0.4.4 (3e8878a1c 2024-05-09)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:49 UTC
    </footer>
</body>
</html>
