<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLR2044 fix ignores a backslash on the preceding line - astral-sh/ruff #19326</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>PLR2044 fix ignores a backslash on the preceding line</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/19326">#19326</a>
        opened by <a href="https://github.com/dscorbett">@dscorbett</a>
        on 2025-07-14 11:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dscorbett">@dscorbett</a></div>
            <div class="timeline-body">Summary
<p>The fix for <a href="https://docs.astral.sh/ruff/rules/empty-comment/"><code>empty-comment</code> (PLR2044)</a> deletes the entire physical line if there is nothing in the line but the comment. It should only do so when the physical line is its own logical line. When the previous line ends with a backslash, the fix should delete the comment but not the entire line, or it should delete the entire line plus the preceding backslash. Otherwise, it can change the programâ€™s behavior. <a href="https://play.ruff.rs/42810b3a-eb5d-48a5-96aa-87fefbd89b86">Example</a>:</p>
<pre><code>$ cat &gt;plr2044.py &lt;&lt;&#x27;# EOF&#x27;
x = 0 \
#
+1
print(x)
# EOF

$ python plr2044.py
0

$ ruff --isolated check plr2044.py --select PLR2044 --fix
Found 1 error (1 fixed, 0 remaining).

$ python plr2044.py
1
</code></pre>
Version
<p>ruff 0.12.3 (5bc81f26c 2025-07-11)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-14 12:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-14 12:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-14 12:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/soundsonacid">@soundsonacid</a> on 2025-07-14 16:23</div>
            <div class="timeline-body"><p>will take this one</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/soundsonacid">@soundsonacid</a> by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-14 18:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-23 15:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:50:13 UTC
    </footer>
</body>
</html>
