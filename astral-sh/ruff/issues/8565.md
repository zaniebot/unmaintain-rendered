```yaml
number: 8565
title: UP041 false-positive in the case of target=py310
type: issue
state: closed
author: alex-700
labels:
  - bug
  - good first issue
assignees: []
created_at: 2023-11-08T15:17:19Z
updated_at: 2023-11-10T15:15:35Z
url: https://github.com/astral-sh/ruff/issues/8565
synced_at: 2026-01-10T01:56:50Z
```

# UP041 false-positive in the case of target=py310

---

_Issue opened by @alex-700 on 2023-11-08 15:17_

Hi!

UP041 (which is introduced in https://github.com/astral-sh/ruff/pull/8476) suggests to replace `asyncio.TimeoutError` with `TimeoutError` even when `target-version` is set to `py310`. And it offers the "safe" fix. But in the case of 3.10 this fix is "unsafe" (see. [asyncio.TimeoutError](https://docs.python.org/3.10/library/asyncio-exceptions.html#asyncio.TimeoutError) in py310 docs) 

---

_Label `bug` added by @charliermarsh on 2023-11-08 16:14_

---

_Comment by @charliermarsh on 2023-11-08 16:14_

Thanks, looks like we should refine this!

---

_Comment by @zanieb on 2023-11-08 17:21_

Since it's not noted here: `asyncio.TimeoutError` is an alias of `TimeoutError` in Python 3.11+ but they are distinct types in older versions. We should note this in the documentation and probably suggest an unsafe fix if the target version is not py311.

---

_Label `good first issue` added by @zanieb on 2023-11-08 17:21_

---

_Assigned to @BurntSushi by @BurntSushi on 2023-11-09 14:01_

---

_Referenced in [astral-sh/ruff#8587](../../astral-sh/ruff/pulls/8587.md) on 2023-11-09 17:46_

---

_Closed by @BurntSushi on 2023-11-10 15:15_

---
