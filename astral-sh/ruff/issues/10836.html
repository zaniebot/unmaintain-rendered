<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extending specific rule configurations - astral-sh/ruff #10836</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Extending specific rule configurations</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10836">#10836</a>
        opened by <a href="https://github.com/seamuswn">@seamuswn</a>
        on 2024-04-08 13:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/seamuswn">@seamuswn</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>When extending another file, I want to be able to extend the 'banned-api' configuration. The specific use case here is to ban some imports specifically for a subset of my test files (unit tests shouldn't access code intended for integration tests).</p>
<p>The current behaviour is for <code>banned-api</code> to be overwritten completely when set in my file, requiring managing my project level bans in any file that wants to extend the list of banned APIs.</p>
<p>I think that ideally any configurations like <code>[tool.ruff.lint.flake8-tidy-imports.banned-api]</code> should also support the <code>extend = '../pyproject.toml</code> syntax (so users can choose between extending the existing configuration option or replacing it - and avoiding breaking changes here).</p>
<p>Other configuration options that might benefit from similar semantics (that I don't use but just from ðŸ‘€ settings page in docs):</p>
<ol>
<li><code>[tool.ruff.lint.flake8-import-conventions.aliases]</code></li>
<li><code>[tool.ruff.lint.flake8-import-conventions.banned-aliases]</code></li>
<li><code>tool.ruff.lint.flake8-import-conventions.extend-aliases]</code></li>
</ol>
<p>It would also be useful to have similar semantics somehow for list based configurations, but I'm unsure how that could be supported cleanly.</p>
<p>Keywords:
<code>extend</code> <code>TID251</code> <code>flake8-tidy-imports</code> <code>banned-api</code></p>
<p>Note: this would also be solved by #1507 if implemented (which suggests making banned-api a core feature of ruff with a dedicated select / ignore configuration.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-08 13:38</div>
            <div class="timeline-body"><p>Thanks for the detailed write-up. I think this is a duplicate of https://github.com/astral-sh/ruff/issues/9872 and there's a PR that fixes this but we need to wait for the next minor.</p>
<p>Please comment if this is about something else and I incorrectly closed your issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-04-08 13:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:50:02 UTC
    </footer>
</body>
</html>
