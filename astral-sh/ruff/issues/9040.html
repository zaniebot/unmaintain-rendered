<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risk of non-official Ruff packages in package managers. - astral-sh/ruff #9040</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Risk of non-official Ruff packages in package managers.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9040">#9040</a>
        opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a>
        on 2023-12-07 03:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2023-12-07 03:35</div>
            <div class="timeline-body"><p>About installing Ruff from the package management tool.
https://github.com/astral-sh/ruff/blob/main/docs/installation.md
These packages may be malicious or contain vulnerabilities that could be exploited by attackers.</p>
<p>There is no way to ensure that Ruff uploaded to the package management tool is native or problem-free, so is it necessary to mark unofficial ways as community supported?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2023-12-07 04:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-07 04:22</div>
            <div class="timeline-body"><p>Hmm, that's a fair point. An added benefit of marking them as community-supported is that users know where to open an issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2023-12-11 02:06</div>
            <div class="timeline-body"><blockquote>
<p>These packages may be malicious or contain vulnerabilities that could be exploited by attackers.</p>
</blockquote>
<p>Can you explain more about this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FishAlchemist">@FishAlchemist</a> on 2023-12-11 03:23</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>These packages may be malicious or contain vulnerabilities that could be exploited by attackers.</p>
</blockquote>
<p>Can you explain more about this?</p>
</blockquote>
<p>Ruff is an open source project, so modifications are not difficult.
Unless the user obtains the hash from the Ruff project for verification, the security of Ruff cannot be guaranteed.
If additional modifications are required, the verification will fail.
Therefore, I suggest marking unofficial download methods as community support to prevent users from misunderstanding that it is official and trusting it directly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2023-12-11 03:47</div>
            <div class="timeline-body"><blockquote>
<p>Ruff is an open source project, so modifications are not difficult.</p>
</blockquote>
<p>I'm not sure I understand what open source has to do with it. A supremely humongous number of proprietary projects have been modified, both maliciously and non-maliciously. I'd go so far as to say that it's the primary market for malicious behavior...</p>
<blockquote>
<p>Unless the user obtains the hash from the Ruff project for verification, the security of Ruff cannot be guaranteed.
If additional modifications are required, the verification will fail.</p>
</blockquote>
<p>Do you obtain the hash of ruff when downloading it with pip install? I suspect that virtually no one anywhere does that.</p>
<p>Conversely, the &quot;community support&quot; distribution channels rely on verifiable hashes, which hashes are actually tracked publicly in a git repository. The hashes are signed by widely known public OSS personas.</p>
<p>Not only that, ruff actually gets built from source. Some of these distribution channels use dedicated builders maintained by big companies with a reputation at stake. Some of these distribution channels automated the process of <em>you</em> building ruff from source, which is like the epitome of trust. Some of these distribution channels repackage the official ruff precompiled binaries but with added tracking and verification of the hashes.</p>
<p>Most of these distribution channels are the ones you already trust to provide you with the Linux kernel, the userland, a GCC, a clang, a python installation, a graphical user environment and hundreds of other software projects you use on a daily basis (in some cases, thousands rather than hundreds).</p>
<p>Security, verifiability, and accountability are big topics here and these community distribution channels take that quite seriously. They are busy building tools and mechanisms for anyone to verify honesty, e.g. by founding and operating https://reproducible-builds.org/</p>
<p>Saying that they &quot;might be malicious&quot; feels quite bizarre.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2023-12-11 03:58</div>
            <div class="timeline-body"><p>Independent of the topic of malice, community distributors <em>do</em> usually prefer their users come to them directly with any issues they even suspect might be specific to that distribution channel, or when in doubt come to them directly <em>anyway</em>. It's not about malice, though, simply that different rust compiler versions, different libcs, backported security fixes etc can always cause differences in behavior, and those community distribution channels are staffed by people who have experience at debugging the differences and forwarding bug reports upstream as necessary.</p>
<p>And of course community distribution channels can't necessarily guarantee that ruff will be promptly updated the day a new version is published. Some do, some don't. If you need the latest version then getting it directly is your surest bet.</p>
<p>...</p>
<p>Overall I see no reason not to emphasize the difference in responsibility between the community and the official binaries... But making this about &quot;possibility of malicious binaries&quot; feels like a very wrong move. Frankly, if you're after security you'll be much safer using the community, as it goes through several more layers of independent verification and multiple eyes, <em>in addition to</em> upstream. And again, rebuilding from source on your <em>own</em> machine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @FishAlchemist on 2023-12-11 04:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:32:11 UTC
    </footer>
</body>
</html>
