<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Feature Request] Add bump-pydantic rules - astral-sh/ruff #5599</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Feature Request] Add bump-pydantic rules</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/5599">#5599</a>
        opened by <a href="https://github.com/serjflint">@serjflint</a>
        on 2023-07-07 18:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/serjflint">@serjflint</a></div>
            <div class="timeline-body"><p>Hello!
I remember seeing some library-specific rules (like <a href="https://beta.ruff.rs/docs/rules/#numpy-specific-rules-npy">NPY</a>). What do you think about adding rules for the recentely released <a href="https://github.com/pydantic/pydantic/releases/tag/v2.0">Pydantic V2</a>? They even made their own rule-set BP.
https://github.com/pydantic/bump-pydantic</p>
<ul>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp001-add-default-none-to-optionalt-uniont-none-and-any-fields">BP001: Add default None to Optional[T], Union[T, None] and Any fields</a></li>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp002-replace-config-class-by-model_config-attribute">BP002: Replace Config class by model_config attribute</a></li>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp003-replace-field-old-parameters-to-new-ones">BP003: Replace Field old parameters to new ones</a></li>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp004-replace-imports">BP004: Replace imports</a></li>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp005-replace-genericmodel-by-basemodel">BP005: Replace GenericModel by BaseModel</a></li>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp006-replace-__root__-by-rootmodel">BP006: Replace <code>__root__</code> by RootModel</a></li>
<li>[ ] <a href="https://github.com/pydantic/bump-pydantic#bp007-replace-decorators">BP007: Replace decorators</a></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-07-07 18:37</div>
            <div class="timeline-body"><p>Hi! Thanks for opening an issue :)</p>
<p>Given that these rules are only useful for the transition from Pydantic v1 -&gt; v2 I'm not sure if it belongs in Ruff. It seems more like a useful standalone tool whereas general lints for Pydantic that apply beyond upgrading seem worthy of including in Ruff. What do you think?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/serjflint">@serjflint</a> on 2023-07-07 20:22</div>
            <div class="timeline-body"><p>@zanieb That is a valid concern. But Pydantic models are an essential part of the popular FastAPI framework and quite numerous in larger codebases. To me these rules feel no less useful than NPY.</p>
<p>On the other hand, more general rules for Pydantic and FastAPI can be very useful, but I can't make a good list of them from the top of my head. I don't have that much of the experience of writing code using them (yet). Any help from the users would be appreciated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-07 20:37</div>
            <div class="timeline-body"><p>To me, it’s not so much that they’re framework-specific as that they’re intended for a specific one-time migration, as opposed to being rules that would be useful for the ongoing maintenance of Python code. E.g., it’d be unusual to run these rules on a CI system or install this as an ongoing dependency — you’d likely install + run it once, then move on. The closest analogy would be the Pyupgrade rules, but even those exist to apply best practices as good is written and as versions are incremented.</p>
<p>I think it’s great that the Pydantic team shipped a standalone tool for this, but I don’t think there’s as much value in integrating it into Ruff.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/serjflint">@serjflint</a> on 2023-07-07 21:55</div>
            <div class="timeline-body"><p>I hope it will be like that and people won't be copying obsolete examples from the net.
The Pydantic has done a good job for that to not be a big problem, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-07-09 20:01</div>
            <div class="timeline-body"><p>We can revisit if that's the case, but I'm ok deprioritizing this for now. Thanks for bringing it up and for the helpful checklist.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-07-09 20:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by @charliermarsh on 2023-07-09 20:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:47:37 UTC
    </footer>
</body>
</html>
