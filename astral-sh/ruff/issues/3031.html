<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>--show-statistics shows the errors in flake8 but not in ruff - astral-sh/ruff #3031</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>--show-statistics shows the errors in flake8 but not in ruff</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/3031">#3031</a>
        opened by <a href="https://github.com/cclauss">@cclauss</a>
        on 2023-02-19 14:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/cclauss">@cclauss</a> on 2023-02-19 14:29</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>@spaceone
With the repo: https://github.com/pyscript/pyscript
➜  pyscript git:(ruff) <code>git mv setup.cfg setup.cfg.disabled </code> # Disables the flake8 config
➜  pyscript git:(ruff) <code>flake8 . --max-line-length=100 --statistics</code></p>
<pre><code>./examples/micrograd_ai.py:18:5: F821 undefined name 'pyscript'
    pyscript.write(&quot;micrograd-run-all-fig2-div&quot;, result)
    ^
./examples/micrograd_ai.py:24:5: F821 undefined name 'pyscript'
    pyscript.write(&quot;micrograd-run-all-print-div&quot;, &quot;&quot;.join(print_statements))
    ^
./examples/micrograd_ai.py:80:5: F821 undefined name 'pyscript'
    pyscript.write(&quot;micrograd-run-all-fig1-div&quot;, plt)
    ^
./examples/todo.py:8:17: F821 undefined name 'Element'
task_template = Element(&quot;task-template&quot;).select(&quot;.task&quot;, from_content=True)
                ^
./examples/todo.py:9:13: F821 undefined name 'Element'
task_list = Element(&quot;list-tasks-container&quot;)
            ^
./examples/todo.py:10:20: F821 undefined name 'Element'
new_task_content = Element(&quot;new-task-content&quot;)
                   ^
./pyscriptjs/tests/integration/support.py:222:9: E731 do not assign a lambda expression, use a def
        pred = lambda msg: msg.text == text
        ^
1     E731 do not assign a lambda expression, use a def
6     F821 undefined name 'pyscript'
7
</code></pre>
<p>➜  pyscript git:(ruff) ✗ <code>ruff check . --line-length=100 --statistics</code></p>
<pre><code>1	E731	[*] Do not assign a `lambda` expression, use a `def`
6	F821	[ ] Undefined name `pyscript`
</code></pre>
<p>Flake8 shows both the errors and the summary
Ruff only shows the summary</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-19 14:40</div>
            <div class="timeline-body"><p>Ah yeah, this was an intentional deviation. I thought it seemed not-so-useful to include the violations, since I see <code>--statistics</code> as a one- or few-time command rather than something that's included consistently. Are you using <code>--statistics</code> as a consistent flag on invocations?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2023-02-19 14:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cclauss">@cclauss</a> on 2023-02-19 14:54</div>
            <div class="timeline-body"><blockquote>
<p>Are you using --statistics as a consistent flag on invocations?</p>
</blockquote>
<p>I was but I can live with this change.  Closing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @cclauss on 2023-02-19 14:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:29:25 UTC
    </footer>
</body>
</html>
