<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U00X rules ignoring target-version - astral-sh/ruff #1113</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>U00X rules ignoring target-version</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1113">#1113</a>
        opened by <a href="https://github.com/bryevdv">@bryevdv</a>
        on 2022-12-06 22:47
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bryevdv">@bryevdv</a></div>
            <div class="timeline-body"><p>ref: https://github.com/bokeh/bokeh/pull/12653#issuecomment-1331091295</p>
<p>With <code>target-version = &quot;py38&quot;</code> we were seeing errors with auto-fix diffs like:</p>
<pre><code class="language-diff">-TypeOrInst: TypeAlias = Union[Type[T], T]
+TypeOrInst: TypeAlias = type[T] | T
 
-Init: TypeAlias = Union[T, UndefinedType, IntrinsicType]
+Init: TypeAlias = T | UndefinedType | IntrinsicType
</code></pre>
<p>but <code>type</code> is not usable as a replacement for <code>Type</code> until Python 3.9 (https://peps.python.org/pep-0585/)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-06 23:29</div>
            <div class="timeline-body"><p>Very odd, will take a look!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2022-12-06 23:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-06 23:37</div>
            <div class="timeline-body"><p>This was a regression that was introduced in v0.0.145 but fixed in v0.0.151 (https://github.com/charliermarsh/ruff/issues/979).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-06 23:38</div>
            <div class="timeline-body"><p>@bryevdv - Would you be open to a PR on Bokeh upgrading Ruff to latest? (The <code>U</code> prefix was changed to <code>UP</code> (backwards-compatible but shows a warning), and <code>M001</code> was moved to <code>RUF100</code>. Would be happy to upgrade you to insulate against the churn.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-06 23:39</div>
            <div class="timeline-body"><p>(Just closing since I believe this is fixed upstream, but do let me know if you want a free upgrade!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-06 23:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bryevdv">@bryevdv</a> on 2022-12-07 00:14</div>
            <div class="timeline-body"><p>Thanks for the offer @charliermarsh but we are going to pin and update at a slower intentional pace (probably monthly) ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-07 01:10</div>
            <div class="timeline-body"><p>Sounds good. Iâ€™m always happy to help with version bumps so donâ€™t hesitate to reach out! (The check code changes described above should be the only backwards-incompatible changes thus far.)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:45:42 UTC
    </footer>
</body>
</html>
