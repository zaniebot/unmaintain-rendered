<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`Pyflakes`] `F632` does not support simple arithmetic - astral-sh/ruff #18808</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>[`Pyflakes`] `F632` does not support simple arithmetic</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/18808">#18808</a>
        opened by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a>
        on 2025-06-20 01:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MeGaGiGaGon">@MeGaGiGaGon</a> on 2025-06-20 01:05</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>CPython gives a <code>SyntaxWarning</code> on code <a href="https://docs.astral.sh/ruff/rules/is-literal/#is-literal-f632">is-literal (F632)</a> doesn't when using simple arithmetic. Based on my limited testing this happens when an expression gets turned into a <code>LOAD_CONST</code> under <code>dis</code>. <a href="https://play.ruff.rs/f7e83252-b12b-411b-91f4-7c75bc5a270b">playground</a>. I'm not sure how much of this could be reasonably supported though. One simple case that would be nice to support is negative numbers <a href="https://play.ruff.rs/f81ca38d-8fce-42a2-b3a7-f8d139cada8d">playground</a>, since there are 6k results for a <a href="https://github.com/search?q=language%3Apython+%22is+-1%3A%22&amp;type=code">github search</a> on <code>is -1:</code>, and it probably wouldn't add too much complexity.</p>
<pre><code class="language-pycon">&gt;&gt;&gt; x = 1
&gt;&gt;&gt; x is 1 + 1
&lt;python-input-2&gt;:1: SyntaxWarning: &quot;is&quot; with 'int' literal. Did you mean &quot;==&quot;?
  x is 1 + 1
False
&gt;&gt;&gt; import dis
&gt;&gt;&gt; dis.dis(&quot;x is 1 + 1&quot;)
&lt;dis&gt;:1: SyntaxWarning: &quot;is&quot; with 'int' literal. Did you mean &quot;==&quot;?
  0           RESUME                   0

  1           LOAD_NAME                0 (x)
              LOAD_CONST               0 (2)
              IS_OP                    0
              RETURN_VALUE
&gt;&gt;&gt;
</code></pre>
<h3>Version</h3>
<p>ruff 0.12.0 (87f0feb 2025-06-17) + playground</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-20 06:12</div>
            <div class="timeline-body"><p>We could use ruff's limited local type inference feature here. Although this is a rule extension and needs to be gated behind preview</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-06-20 06:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:16 UTC
    </footer>
</body>
</html>
