<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add rule to forbid `asyncio.create_task` - astral-sh/ruff #15774</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add rule to forbid <code>asyncio.create_task</code></h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/15774">#15774</a>
        opened by <a href="https://github.com/Tinche">@Tinche</a>
        on 2025-01-27 17:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Tinche">@Tinche</a></div>
            <div class="timeline-body">Description
<p>I&#x27;d like to enforce structured concurrency in my codebases, and a rule to forbid <code>asyncio.create_task</code> would be very helpful, since it would enforce all tasks are managed through TaskGroups.</p>
<p>This is likely to be controversial and spawn false positives so I think it should probably be disabled by default. Obviously it&#x27;s possible to achieve structured concurrency even with <code>asyncio.create_task</code>, but I would argue you&#x27;d just be reimplementing TaskGroups.</p>
<p>Still, for some codebases I think a rule like this would be very useful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-01-27 18:34</div>
            <div class="timeline-body"><p>I can see the appeal. Unfortunately I think this is probably much too opinionated to be done until we recategorize our ruleset so that we can better distinguish highly opinionated, restrictive rules like this one from rules that nearly everybody would probably want enabled :( See <a href="https://github.com/astral-sh/ruff/issues/1774">astral-sh/ruff#1774</a> for the recategorisation issue</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-01-27 18:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wish</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-01-27 18:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:23 UTC
    </footer>
</body>
</html>
