```yaml
number: 18595
title: No one-line functions
type: issue
state: open
author: tylerlaprade
labels:
  - rule
  - needs-decision
  - needs-design
assignees: []
created_at: 2025-06-09T17:15:07Z
updated_at: 2025-06-10T12:15:22Z
url: https://github.com/astral-sh/ruff/issues/18595
synced_at: 2026-01-10T01:56:56Z
```

# No one-line functions

---

_Issue opened by @tylerlaprade on 2025-06-09 17:15_

### Summary

This would have to be an optional rule since a lot of people wouldn't like it. My codebase would really benefit from a rule that forbids any one-line functions. These can arise for a variety of reasons, most commonly a refactor from a more complex function implementation to a simpler one. It would be cleaner to just in-line that one line where it's used. It might make sense to limit this to only single-use functions, since it could be helpful to have a one-line function that is used in many places.

---

_Label `rule` added by @ntBre on 2025-06-09 17:32_

---

_Label `needs-decision` added by @ntBre on 2025-06-09 17:32_

---

_Label `needs-design` added by @MichaReiser on 2025-06-10 11:44_

---

_Comment by @MichaReiser on 2025-06-10 11:49_

I do understand the motivation of this rule but I don't see a heuristic that would work reliably.

> It might make sense to limit this to only single-use functions, since it could be helpful to have a one-line function that is used in many places.

This will require multifile analysis and finding all references (which can be very expensive). 

Overall, my impression is that the rule is too vague and will have too many false positives. A one-line function can have the sole purpose of giving something a name, and we would need heuristics to judge if "whatever the one-line statement is, is it complex enough to justify a function. It's also a fairly complicated rule (at least if we were to provide a fix) because it needs to account for shadowing. 

I also think that the harm these function cause is very low (unless it's a very hot function). 

Given all this, I don't think we should add this rule. At least, not how it is outlined in the summary. I do think a rule that can find left-over functions from a refactor would be interesting.

---

_Comment by @tylerlaprade on 2025-06-10 12:15_

Those are excellent points; I agree entirely. I wonder if limiting it to private functions would be safe enough? Or if there's some other way to detect refactored functions that's even better. 

---
