<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>unneccessary ruff check preview warnings while running ruff format without preview - astral-sh/ruff #11054</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>unneccessary ruff check preview warnings while running ruff format without preview</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11054">#11054</a>
        opened by <a href="https://github.com/57an">@57an</a>
        on 2024-04-20 09:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/57an">@57an</a></div>
            <div class="timeline-body"><p>When I run ruff format I get such warning:</p>
<pre><code>warning: Selection `FURB` has no effect because preview is not enabled.
</code></pre>
<p>FURB warning should not occur because it is just ruff check rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Not-neccessary warnings while running ruff format " to "unneccessary ruff check preview warnings while running ruff format without preview" by @57an on 2024-04-21 03:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @dhruvmanila on 2024-04-22 09:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @dhruvmanila on 2024-04-22 09:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/some-unprofessional-account">@some-unprofessional-account</a> on 2025-06-02 16:57</div>
            <div class="timeline-body"><p>I get the same for DOC rule when I try to use <code>ruff format</code>:
<code>warning: Selection `DOC` has no effect because preview is not enabled.</code></p>
<p>I do not know how this happens as <code>DOC</code> is a linting rule and has nothing to do with formatting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-02 17:21</div>
            <div class="timeline-body"><p>It looks like this warning is emitted while loading the config file, where (I think) we don't know which subcommand was invoked:</p>
<p>https://github.com/astral-sh/ruff/blob/47698883ae06f8d647fbe234aeedcf2333240218/crates/ruff_workspace/src/configuration.rs#L1069-L1074</p>
<p>I agree that it would be nice to fix this, but it might be a fairly substantial refactor.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:50:07 UTC
    </footer>
</body>
</html>
