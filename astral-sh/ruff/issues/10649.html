<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`ruff server` not working with `helix` - astral-sh/ruff #10649</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>ruff server</code> not working with <code>helix</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/10649">#10649</a>
        opened by <a href="https://github.com/ghost">@ghost</a>
        on 2024-03-28 20:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ghost">@ghost</a></div>
            <div class="timeline-body"><p>I've been using <code>ruff-lsp</code> with <code>helix</code> and I wanted to try out the new <code>ruff server</code>, but I can't get it to work. I have the following configuration in my <code>~/.config/helix/languages.toml</code></p>
<pre><code class="language-toml">[language-server.ruff]
command = &quot;ruff&quot;
args = [&quot;server&quot;, &quot;--preview&quot;, &quot;--verbose&quot;]
config = { settings = { run = &quot;onSave&quot; } }

[[language]]
name = &quot;python&quot;
language-servers = [&quot;ruff&quot;]
auto-format = true
</code></pre>
<details>
<summary>Helix log</summary>

<pre><code>2024-03-28T11:32:02.361 helix_view::editor [DEBUG] editor status: Loaded 1 file.
2024-03-28T11:32:02.361 helix_lsp::client [INFO] Using custom LSP config: {&quot;settings&quot;:{&quot;run&quot;:&quot;onSave&quot;}}
2024-03-28T11:32:02.361 helix_lsp::transport [INFO] ruff -&gt; {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;initialize&quot;,&quot;params&quot;:{&quot;capabilities&quot;:{&quot;general&quot;:{&quot;positionEncodings&quot;:[&quot;utf-8&quot;,&quot;utf-32&quot;,&quot;utf-16&quot;]},&quot;textDocument&quot;:{&quot;codeAction&quot;:{&quot;codeActionLiteralSupport&quot;:{&quot;codeActionKind&quot;:{&quot;valueSet&quot;:[&quot;&quot;,&quot;quickfix&quot;,&quot;refactor&quot;,&quot;refactor.extract&quot;,&quot;refactor.inline&quot;,&quot;refactor.rewrite&quot;,&quot;source&quot;,&quot;source.organizeImports&quot;]}},&quot;dataSupport&quot;:true,&quot;disabledSupport&quot;:true,&quot;isPreferredSupport&quot;:true,&quot;resolveSupport&quot;:{&quot;properties&quot;:[&quot;edit&quot;,&quot;command&quot;]}},&quot;completion&quot;:{&quot;completionItem&quot;:{&quot;deprecatedSupport&quot;:true,&quot;insertReplaceSupport&quot;:true,&quot;resolveSupport&quot;:{&quot;properties&quot;:[&quot;documentation&quot;,&quot;detail&quot;,&quot;additionalTextEdits&quot;]},&quot;snippetSupport&quot;:true,&quot;tagSupport&quot;:{&quot;valueSet&quot;:[1]}},&quot;completionItemKind&quot;:{}},&quot;hover&quot;:{&quot;contentFormat&quot;:[&quot;markdown&quot;]},&quot;inlayHint&quot;:{&quot;dynamicRegistration&quot;:false},&quot;publishDiagnostics&quot;:{&quot;tagSupport&quot;:{&quot;valueSet&quot;:[1,2]},&quot;versionSupport&quot;:true},&quot;rename&quot;:{&quot;dynamicRegistration&quot;:false,&quot;honorsChangeAnnotations&quot;:false,&quot;prepareSupport&quot;:true},&quot;signatureHelp&quot;:{&quot;signatureInformation&quot;:{&quot;activeParameterSupport&quot;:true,&quot;documentationFormat&quot;:[&quot;markdown&quot;],&quot;parameterInformation&quot;:{&quot;labelOffsetSupport&quot;:true}}}},&quot;window&quot;:{&quot;workDoneProgress&quot;:true},&quot;workspace&quot;:{&quot;applyEdit&quot;:true,&quot;configuration&quot;:true,&quot;didChangeConfiguration&quot;:{&quot;dynamicRegistration&quot;:false},&quot;didChangeWatchedFiles&quot;:{&quot;dynamicRegistration&quot;:true,&quot;relativePatternSupport&quot;:false},&quot;executeCommand&quot;:{&quot;dynamicRegistration&quot;:false},&quot;fileOperations&quot;:{&quot;didRename&quot;:true,&quot;willRename&quot;:true},&quot;inlayHint&quot;:{&quot;refreshSupport&quot;:false},&quot;symbol&quot;:{&quot;dynamicRegistration&quot;:false},&quot;workspaceEdit&quot;:{&quot;documentChanges&quot;:true,&quot;failureHandling&quot;:&quot;abort&quot;,&quot;normalizesLineEndings&quot;:false,&quot;resourceOperations&quot;:[&quot;create&quot;,&quot;rename&quot;,&quot;delete&quot;]},&quot;workspaceFolders&quot;:true}},&quot;clientInfo&quot;:{&quot;name&quot;:&quot;helix&quot;,&quot;version&quot;:&quot;23.10 (05f3d0ea)&quot;},&quot;initializationOptions&quot;:{&quot;settings&quot;:{&quot;run&quot;:&quot;onSave&quot;}},&quot;processId&quot;:21722,&quot;rootPath&quot;:&quot;/tmp/demo&quot;,&quot;rootUri&quot;:null,&quot;workspaceFolders&quot;:[]},&quot;id&quot;:0}
2024-03-28T11:32:02.361 helix_tui::backend::crossterm [DEBUG] The keyboard enhancement protocol is supported in this terminal (checked in 176.348¬µs)
2024-03-28T11:32:02.361 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0
2024-03-28T11:32:02.364 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &lt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;method\&quot;:\&quot;initialize\&quot;,\&quot;params\&quot;:{\&quot;capabilities\&quot;:{\&quot;general\&quot;:{\&quot;positionEncodings\&quot;:[\&quot;utf-8\&quot;,\&quot;utf-32\&quot;,\&quot;utf-16\&quot;]},\&quot;textDocument\&quot;:{\&quot;codeAction\&quot;:{\&quot;codeActionLiteralSupport\&quot;:{\&quot;codeActionKind\&quot;:{\&quot;valueSet\&quot;:[\&quot;\&quot;,\&quot;quickfix\&quot;,\&quot;refactor\&quot;,\&quot;refactor.extract\&quot;,\&quot;refactor.inline\&quot;,\&quot;refactor.rewrite\&quot;,\&quot;source\&quot;,\&quot;source.organizeImports\&quot;]}},\&quot;dataSupport\&quot;:true,\&quot;disabledSupport\&quot;:true,\&quot;isPreferredSupport\&quot;:true,\&quot;resolveSupport\&quot;:{\&quot;properties\&quot;:[\&quot;edit\&quot;,\&quot;command\&quot;]}},\&quot;completion\&quot;:{\&quot;completionItem\&quot;:{\&quot;deprecatedSupport\&quot;:true,\&quot;insertReplaceSupport\&quot;:true,\&quot;resolveSupport\&quot;:{\&quot;properties\&quot;:[\&quot;documentation\&quot;,\&quot;detail\&quot;,\&quot;additionalTextEdits\&quot;]},\&quot;snippetSupport\&quot;:true,\&quot;tagSupport\&quot;:{\&quot;valueSet\&quot;:[1]}},\&quot;completionItemKind\&quot;:{}},\&quot;hover\&quot;:{\&quot;contentFormat\&quot;:[\&quot;markdown\&quot;]},\&quot;inlayHint\&quot;:{\&quot;dynamicRegistration\&quot;:false},\&quot;publishDiagnostics\&quot;:{\&quot;tagSupport\&quot;:{\&quot;valueSet\&quot;:[1,2]},\&quot;versionSupport\&quot;:true},\&quot;rename\&quot;:{\&quot;dynamicRegistration\&quot;:false,\&quot;honorsChangeAnnotations\&quot;:false,\&quot;prepareSupport\&quot;:true},\&quot;signatureHelp\&quot;:{\&quot;signatureInformation\&quot;:{\&quot;activeParameterSupport\&quot;:true,\&quot;documentationFormat\&quot;:[\&quot;markdown\&quot;],\&quot;parameterInformation\&quot;:{\&quot;labelOffsetSupport\&quot;:true}}}},\&quot;window\&quot;:{\&quot;workDoneProgress\&quot;:true},\&quot;workspace\&quot;:{\&quot;applyEdit\&quot;:true,\&quot;configuration\&quot;:true,\&quot;didChangeConfiguration\&quot;:{\&quot;dynamicRegistration\&quot;:false},\&quot;didChangeWatchedFiles\&quot;:{\&quot;dynamicRegistration\&quot;:true,\&quot;relativePatternSupport\&quot;:false},\&quot;executeCommand\&quot;:{\&quot;dynamicRegistration\&quot;:false},\&quot;fileOperations\&quot;:{\&quot;didRename\&quot;:true,\&quot;willRename\&quot;:true},\&quot;inlayHint\&quot;:{\&quot;refreshSupport\&quot;:false},\&quot;symbol\&quot;:{\&quot;dynamicRegistration\&quot;:false},\&quot;workspaceEdit\&quot;:{\&quot;documentChanges\&quot;:true,\&quot;failureHandling\&quot;:\&quot;abort\&quot;,\&quot;normalizesLineEndings\&quot;:false,\&quot;resourceOperations\&quot;:[\&quot;create\&quot;,\&quot;rename\&quot;,\&quot;delete\&quot;]},\&quot;workspaceFolders\&quot;:true}},\&quot;clientInfo\&quot;:{\&quot;name\&quot;:\&quot;helix\&quot;,\&quot;version\&quot;:\&quot;23.10 (05f3d0ea)\&quot;},\&quot;initializationOptions\&quot;:{\&quot;settings\&quot;:{\&quot;run\&quot;:\&quot;onSave\&quot;}},\&quot;processId\&quot;:21722,\&quot;rootPath\&quot;:\&quot;/tmp/demo\&quot;,\&quot;rootUri\&quot;:null,\&quot;workspaceFolders\&quot;:[]},\&quot;id\&quot;:0}\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::stdio][DEBUG] sending message Request(\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    Request {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        id: RequestId(\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            I32(\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                0,\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            ),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        ),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        method: \&quot;initialize\&quot;,\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        params: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;capabilities\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;general\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;positionEncodings\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        String(\&quot;utf-8\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        String(\&quot;utf-32\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        String(\&quot;utf-16\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;textDocument\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;codeAction\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;codeActionLiteralSupport\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;codeActionKind\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                \&quot;valueSet\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;quickfix\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;refactor\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;refactor.extract\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;refactor.inline\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;refactor.rewrite\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;source\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;source.organizeImports\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dataSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;disabledSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;isPreferredSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;resolveSupport\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;properties\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                String(\&quot;edit\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                String(\&quot;command\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;completion\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;completionItem\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;deprecatedSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;insertReplaceSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;resolveSupport\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                \&quot;properties\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;documentation\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;detail\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    String(\&quot;additionalTextEdits\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;snippetSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;tagSupport\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                \&quot;valueSet\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                    Number(1),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;completionItemKind\&quot;: Object {},\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;hover\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;contentFormat\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            String(\&quot;markdown\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;inlayHint\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dynamicRegistration\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;publishDiagnostics\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;tagSupport\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;valueSet\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                Number(1),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                Number(2),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;versionSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;rename\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dynamicRegistration\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;honorsChangeAnnotations\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;prepareSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;signatureHelp\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;signatureInformation\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;activeParameterSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;documentationFormat\&quot;: Array [\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                String(\&quot;markdown\&quot;),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            ],\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            \&quot;parameterInformation\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                                \&quot;labelOffsetSupport\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;window\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;workDoneProgress\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;workspace\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;applyEdit\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;configuration\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;didChangeConfiguration\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dynamicRegistration\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;didChangeWatchedFiles\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dynamicRegistration\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;relativePatternSupport\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;executeCommand\&quot;: Object {\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dynamicRegistration\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.365 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;fileOperations\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;didRename\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;willRename\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;inlayHint\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;refreshSupport\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;symbol\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;dynamicRegistration\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;workspaceEdit\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;documentChanges\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;failureHandling\&quot;: String(\&quot;abort\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;normalizesLineEndings\&quot;: Bool(false),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        \&quot;resourceOperations\&quot;: Array [\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            String(\&quot;create\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            String(\&quot;rename\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                            String(\&quot;delete\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                        ],\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;workspaceFolders\&quot;: Bool(true),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;clientInfo\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;name\&quot;: String(\&quot;helix\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;version\&quot;: String(\&quot;23.10 (05f3d0ea)\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;initializationOptions\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;settings\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;run\&quot;: String(\&quot;onSave\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;processId\&quot;: Number(21722),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;rootPath\&quot;: String(\&quot;/tmp/demo\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;rootUri\&quot;: Null,\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;workspaceFolders\&quot;: Array [],\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;)\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &gt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;id\&quot;:0,\&quot;result\&quot;:{\&quot;capabilities\&quot;:{\&quot;codeActionProvider\&quot;:{\&quot;codeActionKinds\&quot;:[\&quot;quickfix\&quot;,\&quot;source.organizeImports\&quot;],\&quot;resolveProvider\&quot;:false,\&quot;workDoneProgress\&quot;:true},\&quot;diagnosticProvider\&quot;:{\&quot;identifier\&quot;:\&quot;Ruff\&quot;,\&quot;interFileDependencies\&quot;:false,\&quot;workDoneProgress\&quot;:true,\&quot;workspaceDiagnostics\&quot;:false},\&quot;documentFormattingProvider\&quot;:true,\&quot;documentRangeFormattingProvider\&quot;:true,\&quot;positionEncoding\&quot;:\&quot;utf-8\&quot;,\&quot;textDocumentSync\&quot;:{\&quot;change\&quot;:2,\&quot;openClose\&quot;:true,\&quot;willSave\&quot;:false,\&quot;willSaveWaitUntil\&quot;:false},\&quot;workspace\&quot;:{\&quot;workspaceFolders\&quot;:{\&quot;changeNotifications\&quot;:true,\&quot;supported\&quot;:true}}},\&quot;serverInfo\&quot;:{\&quot;name\&quot;:\&quot;ruff\&quot;,\&quot;version\&quot;:\&quot;0.3.4\&quot;}}}\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [INFO] ruff &lt;- {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;result&quot;:{&quot;capabilities&quot;:{&quot;codeActionProvider&quot;:{&quot;codeActionKinds&quot;:[&quot;quickfix&quot;,&quot;source.organizeImports&quot;],&quot;resolveProvider&quot;:false,&quot;workDoneProgress&quot;:true},&quot;diagnosticProvider&quot;:{&quot;identifier&quot;:&quot;Ruff&quot;,&quot;interFileDependencies&quot;:false,&quot;workDoneProgress&quot;:true,&quot;workspaceDiagnostics&quot;:false},&quot;documentFormattingProvider&quot;:true,&quot;documentRangeFormattingProvider&quot;:true,&quot;positionEncoding&quot;:&quot;utf-8&quot;,&quot;textDocumentSync&quot;:{&quot;change&quot;:2,&quot;openClose&quot;:true,&quot;willSave&quot;:false,&quot;willSaveWaitUntil&quot;:false},&quot;workspace&quot;:{&quot;workspaceFolders&quot;:{&quot;changeNotifications&quot;:true,&quot;supported&quot;:true}}},&quot;serverInfo&quot;:{&quot;name&quot;:&quot;ruff&quot;,&quot;version&quot;:&quot;0.3.4&quot;}}}
2024-03-28T11:32:02.366 helix_lsp::transport [INFO] ruff &lt;- {&quot;capabilities&quot;:{&quot;codeActionProvider&quot;:{&quot;codeActionKinds&quot;:[&quot;quickfix&quot;,&quot;source.organizeImports&quot;],&quot;resolveProvider&quot;:false,&quot;workDoneProgress&quot;:true},&quot;diagnosticProvider&quot;:{&quot;identifier&quot;:&quot;Ruff&quot;,&quot;interFileDependencies&quot;:false,&quot;workDoneProgress&quot;:true,&quot;workspaceDiagnostics&quot;:false},&quot;documentFormattingProvider&quot;:true,&quot;documentRangeFormattingProvider&quot;:true,&quot;positionEncoding&quot;:&quot;utf-8&quot;,&quot;textDocumentSync&quot;:{&quot;change&quot;:2,&quot;openClose&quot;:true,&quot;willSave&quot;:false,&quot;willSaveWaitUntil&quot;:false},&quot;workspace&quot;:{&quot;workspaceFolders&quot;:{&quot;changeNotifications&quot;:true,&quot;supported&quot;:true}}},&quot;serverInfo&quot;:{&quot;name&quot;:&quot;ruff&quot;,&quot;version&quot;:&quot;0.3.4&quot;}}
2024-03-28T11:32:02.366 helix_lsp::transport [INFO] ruff -&gt; {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;initialized&quot;,&quot;params&quot;:{}}
2024-03-28T11:32:02.366 helix_term::application [DEBUG] received editor event: LanguageServerMessage((0, Notification(Notification { jsonrpc: None, method: &quot;initialized&quot;, params: None })))
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &lt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;method\&quot;:\&quot;initialized\&quot;,\&quot;params\&quot;:{}}\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [INFO] ruff -&gt; {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;textDocument/didOpen&quot;,&quot;params&quot;:{&quot;textDocument&quot;:{&quot;languageId&quot;:&quot;python&quot;,&quot;text&quot;:&quot;&quot;,&quot;uri&quot;:&quot;file:///tmp/demo/main.py&quot;,&quot;version&quot;:0}}}
2024-03-28T11:32:02.366 helix_lsp::transport [INFO] ruff -&gt; {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;workspace/didChangeConfiguration&quot;,&quot;params&quot;:{&quot;settings&quot;:{&quot;settings&quot;:{&quot;run&quot;:&quot;onSave&quot;}}}}
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::stdio][DEBUG] sending message Notification(\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    Notification {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        method: \&quot;initialized\&quot;,\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        params: Object {},\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;)\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &lt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;method\&quot;:\&quot;textDocument/didOpen\&quot;,\&quot;params\&quot;:{\&quot;textDocument\&quot;:{\&quot;languageId\&quot;:\&quot;python\&quot;,\&quot;text\&quot;:\&quot;\&quot;,\&quot;uri\&quot;:\&quot;file:///tmp/demo/main.py\&quot;,\&quot;version\&quot;:0}}}\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::stdio][DEBUG] sending message Notification(\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    Notification {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        method: \&quot;textDocument/didOpen\&quot;,\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        params: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;textDocument\&quot;: Object {\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;languageId\&quot;: String(\&quot;python\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;text\&quot;: String(\&quot;\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;uri\&quot;: String(\&quot;file:///tmp/demo/main.py\&quot;),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;version\&quot;: Number(0),\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    },\n&quot;
2024-03-28T11:32:02.366 helix_lsp::transport [ERROR] ruff err &lt;- &quot;)\n&quot;
2024-03-28T11:32:02.367 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &gt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;id\&quot;:1,\&quot;method\&quot;:\&quot;client/registerCapability\&quot;,\&quot;params\&quot;:{\&quot;registrations\&quot;:[{\&quot;id\&quot;:\&quot;ruff-server-watch\&quot;,\&quot;method\&quot;:\&quot;workspace/didChangeWatchedFiles\&quot;,\&quot;registerOptions\&quot;:{\&quot;watchers\&quot;:[{\&quot;globPattern\&quot;:\&quot;**/.?ruff.toml\&quot;},{\&quot;globPattern\&quot;:\&quot;**/pyproject.toml\&quot;}]}}]}}\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [INFO] ruff &lt;- {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1,&quot;method&quot;:&quot;client/registerCapability&quot;,&quot;params&quot;:{&quot;registrations&quot;:[{&quot;id&quot;:&quot;ruff-server-watch&quot;,&quot;method&quot;:&quot;workspace/didChangeWatchedFiles&quot;,&quot;registerOptions&quot;:{&quot;watchers&quot;:[{&quot;globPattern&quot;:&quot;**/.?ruff.toml&quot;},{&quot;globPattern&quot;:&quot;**/pyproject.toml&quot;}]}}]}}
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &lt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;method\&quot;:\&quot;workspace/didChangeConfiguration\&quot;,\&quot;params\&quot;:{\&quot;settings\&quot;:{\&quot;settings\&quot;:{\&quot;run\&quot;:\&quot;onSave\&quot;}}}}\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::stdio][DEBUG] sending message Notification(\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    Notification {\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        method: \&quot;workspace/didChangeConfiguration\&quot;,\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        params: Object {\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            \&quot;settings\&quot;: Object {\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                \&quot;settings\&quot;: Object {\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                    \&quot;run\&quot;: String(\&quot;onSave\&quot;),\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                },\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            },\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        },\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    },\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;)\n&quot;
2024-03-28T11:32:02.368 helix_term::application [DEBUG] received editor event: LanguageServerMessage((0, MethodCall(MethodCall { jsonrpc: Some(V2), method: &quot;client/registerCapability&quot;, params: Map({&quot;registrations&quot;: Array [Object {&quot;id&quot;: String(&quot;ruff-server-watch&quot;), &quot;method&quot;: String(&quot;workspace/didChangeWatchedFiles&quot;), &quot;registerOptions&quot;: Object {&quot;watchers&quot;: Array [Object {&quot;globPattern&quot;: String(&quot;**/.?ruff.toml&quot;)}, Object {&quot;globPattern&quot;: String(&quot;**/pyproject.toml&quot;)}]}}]}), id: Num(1) })))
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;‚îêruff_server::server::api::notifications::did_open::run{file=file:///tmp/demo/main.py}\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;‚îò\n&quot;
2024-03-28T11:32:02.368 helix_lsp::file_event [DEBUG] Registering didChangeWatchedFiles for client '0' with id 'ruff-server-watch'
2024-03-28T11:32:02.368 helix_lsp::transport [INFO] ruff -&gt; {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;result&quot;:null,&quot;id&quot;:1}
2024-03-28T11:32:02.368 globset [DEBUG] built glob set; 0 literals, 1 basenames, 0 extensions, 0 prefixes, 0 suffixes, 1 required extensions, 0 regexes
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::msg][DEBUG] &lt; {\&quot;jsonrpc\&quot;:\&quot;2.0\&quot;,\&quot;result\&quot;:null,\&quot;id\&quot;:1}\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;[2024-03-28][11:32:02][lsp_server::stdio][DEBUG] sending message Response(\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    Response {\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        id: RequestId(\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            I32(\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;                1,\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;            ),\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        ),\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        result: None,\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;        error: None,\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;    },\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;)\n&quot;
2024-03-28T11:32:02.368 helix_lsp::transport [ERROR] ruff err &lt;- &quot;   0.003885s INFO ruff_server::server Configuration file watcher successfully registered\n&quot;
</code></pre>
</details>

<p>It looks like the data in this line is sent to <code>ruff</code></p>
<pre><code>2024-03-28T11:32:02.361 helix_lsp::transport [INFO] ruff -&gt; {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;initialize&quot;,&quot;params&quot;:{&quot;capabilities&quot;:{&quot;general&quot;:{&quot;positionEncodings&quot;:[&quot;utf-8&quot;,&quot;utf-32&quot;,&quot;utf-16&quot;]},&quot;textDocument&quot;:{&quot;codeAction&quot;:{&quot;codeActionLiteralSupport&quot;:{&quot;codeActionKind&quot;:{&quot;valueSet&quot;:[&quot;&quot;,&quot;quickfix&quot;,&quot;refactor&quot;,&quot;refactor.extract&quot;,&quot;refactor.inline&quot;,&quot;refactor.rewrite&quot;,&quot;source&quot;,&quot;source.organizeImports&quot;]}},&quot;dataSupport&quot;:true,&quot;disabledSupport&quot;:true,&quot;isPreferredSupport&quot;:true,&quot;resolveSupport&quot;:{&quot;properties&quot;:[&quot;edit&quot;,&quot;command&quot;]}},&quot;completion&quot;:{&quot;completionItem&quot;:{&quot;deprecatedSupport&quot;:true,&quot;insertReplaceSupport&quot;:true,&quot;resolveSupport&quot;:{&quot;properties&quot;:[&quot;documentation&quot;,&quot;detail&quot;,&quot;additionalTextEdits&quot;]},&quot;snippetSupport&quot;:true,&quot;tagSupport&quot;:{&quot;valueSet&quot;:[1]}},&quot;completionItemKind&quot;:{}},&quot;hover&quot;:{&quot;contentFormat&quot;:[&quot;markdown&quot;]},&quot;inlayHint&quot;:{&quot;dynamicRegistration&quot;:false},&quot;publishDiagnostics&quot;:{&quot;tagSupport&quot;:{&quot;valueSet&quot;:[1,2]},&quot;versionSupport&quot;:true},&quot;rename&quot;:{&quot;dynamicRegistration&quot;:false,&quot;honorsChangeAnnotations&quot;:false,&quot;prepareSupport&quot;:true},&quot;signatureHelp&quot;:{&quot;signatureInformation&quot;:{&quot;activeParameterSupport&quot;:true,&quot;documentationFormat&quot;:[&quot;markdown&quot;],&quot;parameterInformation&quot;:{&quot;labelOffsetSupport&quot;:true}}}},&quot;window&quot;:{&quot;workDoneProgress&quot;:true},&quot;workspace&quot;:{&quot;applyEdit&quot;:true,&quot;configuration&quot;:true,&quot;didChangeConfiguration&quot;:{&quot;dynamicRegistration&quot;:false},&quot;didChangeWatchedFiles&quot;:{&quot;dynamicRegistration&quot;:true,&quot;relativePatternSupport&quot;:false},&quot;executeCommand&quot;:{&quot;dynamicRegistration&quot;:false},&quot;fileOperations&quot;:{&quot;didRename&quot;:true,&quot;willRename&quot;:true},&quot;inlayHint&quot;:{&quot;refreshSupport&quot;:false},&quot;symbol&quot;:{&quot;dynamicRegistration&quot;:false},&quot;workspaceEdit&quot;:{&quot;documentChanges&quot;:true,&quot;failureHandling&quot;:&quot;abort&quot;,&quot;normalizesLineEndings&quot;:false,&quot;resourceOperations&quot;:[&quot;create&quot;,&quot;rename&quot;,&quot;delete&quot;]},&quot;workspaceFolders&quot;:true}},&quot;clientInfo&quot;:{&quot;name&quot;:&quot;helix&quot;,&quot;version&quot;:&quot;23.10 (05f3d0ea)&quot;},&quot;initializationOptions&quot;:{&quot;settings&quot;:{&quot;run&quot;:&quot;onSave&quot;}},&quot;processId&quot;:21722,&quot;rootPath&quot;:&quot;/tmp/demo&quot;,&quot;rootUri&quot;:null,&quot;workspaceFolders&quot;:[]},&quot;id&quot;:0}
</code></pre>
<p>and then it responds with an escaped version back as an error a few lines later, and then it responds again over multiple lines where the output is indented and has type information added, like Object, String, and Bool.</p>
<p>I'm using <code>ruff 0.3.4 (a0263ab4)</code> with <code>helix 23.10 (05f3d0ea)</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @snowsignal by @MichaReiser on 2024-03-28 20:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @dhruvmanila on 2024-03-29 03:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @dhruvmanila on 2024-03-29 03:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-29 15:31</div>
            <div class="timeline-body"><p>\cc @snowsignal</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-04-04 22:39</div>
            <div class="timeline-body"><p>@jlhamilton777 I believe the version of Ruff you used (<code>v0.3.4</code>) had a bug that broke editor integration (see https://github.com/astral-sh/ruff/issues/10618). Could you try using the latest version of Ruff? (<code>v0.3.5</code> at the time of writing)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ghost">@ghost</a> on 2024-04-04 23:21</div>
            <div class="timeline-body"><p>I tried again with <code>v0.3.5</code> and the new <code>helix 24.3</code> and it seems that only code formatting is working. I can't remember if that worked before. But it doesn't do other things like autocomplete, code actions, etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ghost">@ghost</a> on 2024-04-05 00:15</div>
            <div class="timeline-body"><p>I've been using <code>ruff-lsp</code> with <code>pyright</code> and I misunderstood which features were being provided by each one, and got confused because I couldn't organize imports. I just tried again with the latest changes to <code>ruff server</code> and the &quot;Organize imports&quot; and &quot;Fix all&quot; features work now üëç. I will just close this then.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ghost on 2024-04-05 00:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:49:58 UTC
    </footer>
</body>
</html>
