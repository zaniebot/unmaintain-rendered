<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[bug] Ruff reports fixable errors even after `--fix` - astral-sh/ruff #1132</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[bug] Ruff reports fixable errors even after `--fix`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1132">#1132</a>
        opened by <a href="https://github.com/smackesey">@smackesey</a>
        on 2022-12-07 23:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/smackesey">@smackesey</a> on 2022-12-07 23:52</div>
            <div class="timeline-body"><p>I don't know exactly under what situations this occurs but I see this fairly often:</p>
<pre><code>ruff --extend-ignore=F401 --fix .
Found 23 error(s) (6 fixed, 17 remaining).
...
2 potentially fixable with the --fix option.
</code></pre>
<p>Seems like <code>ruff</code> should fix everything fixable in a single pass?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-08 00:00</div>
            <div class="timeline-body"><p>There are some error classes that are considered fixable, but for which certain cases can't be autofixed. For example, ensuring that we have a single blank line in a docstring after the first summary line. We can fix that in some cases, but not others -- and so the rule is considered &quot;fixable&quot;, but might fail to fix in some cases.</p>
<p>I think this message should be changed though. It used to be the case that we'd do one fix pass, which could leave you with more fixable errors, and so this message would make sense (since you might need to re-run <code>ruff --fix</code>). We now fix iteratively until the code stabilizes, so it's never the case that calling <code>ruff --fix .</code> will yield errors that are actually fixable.</p>
<p>Anyway, that's all to say: we shouldn't show you that message if you're already using <code>--fix</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1133.html">astral-sh/ruff#1133</a> on 2022-12-08 00:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-08 00:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/smackesey">@smackesey</a> on 2022-12-08 00:14</div>
            <div class="timeline-body"><p>Related: IMO it should say <code>(0 fixed)</code> is you run <code>ruff --fix</code> and it doesn't fix anything. Otherwise it's kind of confusing and some users might wonder if there's a bug or their <code>--fix</code> didn't register.</p>
<pre><code>$ ruff --fix --extend-ignore=F401 .
Found 2 error(s).
python_modules/automation-internal/automation_internal/cloud/check/old_images.py:79:9: PLR1722 Consider using `sys.exit()`
python_modules/automation-internal/automation_internal/infra/terragrunt.py:318:5: PLR1722 Consider using `sys.exit()`
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:03 UTC
    </footer>
</body>
</html>
