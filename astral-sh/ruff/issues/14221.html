<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warn if anything marked as deprecated is used - astral-sh/ruff #14221</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Warn if anything marked as deprecated is used</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/14221">#14221</a>
        opened by <a href="https://github.com/mamekoro">@mamekoro</a>
        on 2024-11-09 07:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mamekoro">@mamekoro</a></div>
            <div class="timeline-body"><p>Python 3.13 introduced a decorator called <a href="https://docs.python.org/3/library/warnings.html#warnings.deprecated"><code>@warnings.deprecated</code></a> that marks classes, functions and methods as deprecated. For older versions of Python, <a href="https://pypi.org/project/Deprecated/"><code>@deprecated.deprecated</code></a> is available as an alternative.</p>
<p>Would you consider adding the functionality to warn of the use of objects marked as deprecated by these decorators? In other words, a feature like that provided by <a href="https://github.com/QuantStack/memestra">memestra</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-09 10:23</div>
            <div class="timeline-body"><p>In general such a rule could be a great addition for library developers that want to do a quick check of expired deprecations before a release. Warning users of such functions would require multi-file analysis.</p>
<p>In practice, many libraries define their own deprecation decorator with additional functionality such as version and expiry information. My impression is that for popular packages it&#x27;s more common to use a custom decorator than that to use the standard library (<code>warnings</code>) or a third-party (<code>deprecated</code>).</p>
<p>Since we cannot detect these custom implementations reliably, we could consider letting the user configure fully qualified names of the deprecation functions, like https://docs.astral.sh/ruff/settings/#lint_flake8-boolean-trap_extend-allowed-calls. This would make this rule effective for those users too.</p>
<p>Examples:</p>
<ul>
<li>https://github.com/astropy/astropy/blob/main/astropy/cosmology/flrw/base.py#L111</li>
<li>https://github.com/apache/airflow/blob/main/providers/src/airflow/providers/google/cloud/operators/mlengine.py#L82</li>
<li>https://github.com/flet-dev/flet/blob/main/sdk/python/packages/flet/src/flet/core/page.py#L726</li>
<li>https://github.com/langchain-ai/langchain/blob/master/libs/core/langchain_core/tracers/schemas.py#L31</li>
<li>https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/eager/profiler.py#L62</li>
<li>https://github.com/apache/superset/blob/master/superset/views/base.py#L375</li>
<li>https://github.com/conda/conda/blob/main/conda/exports.py#L112</li>
<li>https://github.com/ray-project/ray/blob/master/python/ray/runtime_context.py#L22</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-10 09:33</div>
            <div class="timeline-body"><p>That makes sense but it does require multifile analysis. For now, you could consider using https://docs.astral.sh/ruff/rules/banned-api/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-10 09:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">type-inference</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-10 09:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Andrej730">@Andrej730</a> on 2025-05-28 09:38</div>
            <div class="timeline-body"><p>Maybe it would make more sense as part of <code>ty</code> than <code>ruff</code>?</p>
<p><code>ty</code>, as a type checker, would analyze all related files just by it&#x27;s nature, when <code>ruff</code>, as a linter, is more focused on analyzing each file separately, without considering the entire context.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:49:00 UTC
    </footer>
</body>
</html>
