```yaml
number: 1632
title: Add rule to detect type annotations as default variable assignments
type: issue
state: open
author: charliermarsh
labels:
  - rule
assignees: []
created_at: 2023-01-04T15:46:05Z
updated_at: 2023-01-04T15:46:05Z
url: https://github.com/astral-sh/ruff/issues/1632
synced_at: 2026-01-10T01:56:45Z
```

# Add rule to detect type annotations as default variable assignments

---

_Issue opened by @charliermarsh on 2023-01-04 15:46_

See the thread [here](https://twitter.com/samuel_colvin/status/1610420303028707328).

Example code that causes problems:

```py
from typing import Optional, TypedDict

class Person(TypedDict):
    name: str

def greet(person=Optional[Person]) -> str:
    if person is not None:
        return f"Hello {person['name']}"
    return "Hello stranger"

greet()
```

---

_Label `rule` added by @charliermarsh on 2023-01-04 15:46_

---
