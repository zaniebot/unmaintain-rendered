<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line. - astral-sh/ruff #11698</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11698">#11698</a>
        opened by <a href="https://github.com/EdSaleh">@EdSaleh</a>
        on 2024-06-02 21:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-02 21:17</div>
            <div class="timeline-body"><p>Hello,</p>
<p>Please create a new lint rule to require that each block must end with # or #. or a new line.
This would work as a curly braces blocks found in C style languages.
Also, this could also be used to reformat python code by code editor to fix any indentation issues.</p>
<p>Users can also use a different word symbol or use a new line for this purpose. (#., #, #/, newline, etc). The user has the option to select the keyword they would like to have for the project. The difference between this proposal (:\n code_block \n#.) and curly braces ({}) in C languages is that curly braces are also indentation insensitive while this proposal is indentation sensitive just like indentation style languages.</p>
<p>There could also be a configurable threshold limit for block lines for which the <code>code_block_ending_marker</code> rule is activated and would apply (example: block_lines &gt; 1 lines by default).
Users can also use new line instead of # or #. by configuring <code>code_block_ending_marker_word</code> if it fits their project development.</p>
<p>Example:</p>
<pre><code class="language-python">import string
def atbash(sequence: str) -&gt; str:
    &quot;&quot;&quot;
    Example
    &quot;&quot;&quot;
    output = &quot;&quot;
    for i in sequence:
        extract = ord(i)
        if 65 &lt;= extract &lt;= 90:
            output += chr(155 - extract)
        #.
        elif 97 &lt;= extract &lt;= 122:
            output += chr(219 - extract)
        #.
        else:
            output += i
        #.
    #.
    return output
#.
</code></pre>
<p>There are cases where strict block guarantees is required. Also, when copying python code sometimes spacing is not aligned correctly and having code with this style with editor support, editor would fix incorrect spacing easily.</p>
<pre><code class="language-python">if(True):
print(True)
print(True)
#
if(True):
print(True)
print(True)
#
</code></pre>
<p>OR</p>
<pre><code class="language-python">if(True):
print(True)
print(True)
#.
if(True):
print(True)
print(True)
#.
</code></pre>
<p>would be aligned correctly by the editor to:</p>
<pre><code class="language-python">if(True):
 print(True)
 print(True)
#
if(True):
 print(True)
 print(True)
#
</code></pre>
<p>OR</p>
<pre><code class="language-python">if(True):
 print(True)
 print(True)
#.
if(True):
 print(True)
 print(True)
#.
</code></pre>
<p>Thank you,</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new rule to require a comment #. at end each python block." to "[Feature] new lint rule to require a comment #. at end each python block." by @EdSaleh on 2024-06-02 21:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule to require a comment #. at end each python block." to "[Feature] New lint rule to require that each block must end with # or #. or a new line." by @EdSaleh on 2024-06-04 09:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] New lint rule to require that each block must end with # or #. or a new line." to "[Feature] new lint rule to require that each block must end with # or #. or a new line." by @EdSaleh on 2024-06-04 09:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-06-04 12:23</div>
            <div class="timeline-body"><p>Hi, thanks for the suggestion! Unfortunately, I think very few of our users would want to switch this rule on, essentially for the same reasons explained to you by the pylint maintainers in https://github.com/pylint-dev/pylint/issues/9684. As such, I think this probably wouldn't be worth the maintenance burden for us, unfortunately. So we'll decline this one :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-06-04 12:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-04 18:20</div>
            <div class="timeline-body"><blockquote>
<p>Hi, thanks for the suggestion! Unfortunately, I think very few of our users would want to switch this rule on, essentially for the same reasons explained to you by the pylint maintainers in <a href="https://github.com/pylint-dev/pylint/issues/9684">pylint-dev/pylint#9684</a>. As such, I think this probably wouldn't be worth the maintenance burden for us, unfortunately. So we'll decline this one :-)</p>
</blockquote>
<p>Sure, but I don't think issues from a different project should be relavent here. The purpose of this issue is to let python and other language developers know of this idea and to create a discussion around it, discussion to identify whether this feature could be useful or not and why, and the decision around it is for the project developers to choose.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EdSaleh">@EdSaleh</a> on 2024-06-04 19:16</div>
            <div class="timeline-body"><p>I have some experience with creating proposal for lints, I have also contributed to rust lint previously and my proposal was completed and merged.
https://github.com/rust-lang/rust-clippy/issues/2685</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-06-04 19:24</div>
            <div class="timeline-body"><p>Hi!</p>
<p>We use issues from other projects (pylint, flake8, black, etc.) to help inform our design decisions here because we want to have cohesion between various tools in the Python ecosystem.</p>
<p>However, regardless of the issue in pylint, I think that this rule would not be used by most of our users and is antithetical to general Python design principles. It is currently out of scope for what we'd want to include in Ruff. Maybe once we have support for plugins, it'd make sense there.</p>
<p>I have no problem with discussion continuing around this idea. Anyone is welcome to comment in this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule to require that each block must end with # or #. or a new line." to "[Feature] new lint rule to require that each block must end with # or #. (hashdot) or a new line." by @EdSaleh on 2024-06-04 22:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule to require that each block must end with # or #. (hashdot) or a new line." to "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line." by @EdSaleh on 2024-06-05 19:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line." to "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line. And new lint rule for declaring variables to have #declare or #var comment" by @EdSaleh on 2024-06-05 21:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line. And new lint rule for declaring variables to have #declare or #var comment" to "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line. And new lint rule for declaring variables to have #declare or #var comment." by @EdSaleh on 2024-06-05 21:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line. And new lint rule for declaring variables to have #declare or #var comment." to "[Feature] new lint rule to require that each block must end with # or #. (HashtagDot) or a new line." by @EdSaleh on 2024-06-05 22:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:34:05 UTC
    </footer>
</body>
</html>
