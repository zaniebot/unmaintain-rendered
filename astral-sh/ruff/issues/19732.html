<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUF052: Use of dummy variables is not flagged for loop variables - astral-sh/ruff #19732</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>RUF052: Use of dummy variables is not flagged for loop variables</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/19732">#19732</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-08-04 08:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-04 08:13</div>
            <div class="timeline-body"><p>@AlexWaygood @MichaReiser Searching https://github.com/search?q=repo%3Aastral-sh%2Fruff+RUF052&amp;type=issues does not reveal previous discussions on detecting used dummy variables inside FOR loops and list comprehensions. To avoid extra noise from rushing into opening a new issue, I would like to clarify:  Was this rejected somewhere, or was this just not discussed and not implemented yet?</p>
<p>Example:</p>
<pre><code class="language-py">def no_ruff_warnings():
    my_list = [{&quot;foo&quot;: 1}, {&quot;foo&quot;: 2}]

    i = 0
    for _ in my_list:
        i += _[&quot;foo&quot;]  # A dummy variable is used, but no warnings. 

    for _item in my_list:
        i += _item[&quot;foo&quot;]  # A dummy variable is used, but no warnings. 

    [_[&quot;foo&quot;] for _ in my_list]  # A dummy variable is used, but no warnings. 

    [_item[&quot;foo&quot;] for _item in my_list]  # A dummy variable is used, but no warnings. 
</code></pre>
<p><em>Originally posted by @alessio-locatelli in https://github.com/astral-sh/ruff/issues/14755#issuecomment-3148350171</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-04 08:15</div>
            <div class="timeline-body"><p>I don't think this behavior is intentional. It is due to this check:</p>
<p>https://github.com/astral-sh/ruff/blob/331beca469edda71f214d2aa2a8b985d5641da73/crates/ruff_linter/src/rules/ruff/rules/used_dummy_variable.rs#L113-L131</p>
<p>The comment suggests that the intention was to only exclude parameters, but the way it is implemented excludes many other bindings too.</p>
<p>We should consider making this check more fine grained (behind preview) and have a look at the ecosystem changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-08-04 08:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @MichaReiser on 2025-08-04 08:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikeleppane">@mikeleppane</a> on 2025-08-06 14:12</div>
            <div class="timeline-body"><p>I can take a look at this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @mikeleppane by @ntBre on 2025-08-06 15:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-11-21 17:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:38:08 UTC
    </footer>
</body>
</html>
