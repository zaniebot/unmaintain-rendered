<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: allowlist of codes for `RUF100` not to autoremove - astral-sh/ruff #8153</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: allowlist of codes for `RUF100` not to autoremove</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/8153">#8153</a>
        opened by <a href="https://github.com/jamesbraza">@jamesbraza</a>
        on 2023-10-24 05:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2023-10-24 05:26</div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p>Some tools like to use <code>flake8</code> as a vehicle for config files and ignores:</p>
<ul>
<li>https://github.com/jsh9/pydoclint</li>
<li>https://github.com/andreoliwa/nitpick</li>
</ul>
<p>However, <code>RUF100</code> in <code>ruff==0.1.1</code> is removing the <code># noqa</code>'s I add for those tools.</p>
<p>Any chance we can a new config option for <code>ruff</code> that is basically an allowlist override for RUF100?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2023-10-24 05:28</div>
            <div class="timeline-body"><p>I guess a workaround is, for each <code>noqa</code> that is being removed by <code>RUF100</code>, I can do <code># noqa: DOC501,RUF100</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-24 12:54</div>
            <div class="timeline-body"><p>I think we have a setting for this: https://docs.astral.sh/ruff/settings/#external.  Codes marked as external won’t be removed and flagged by RUF100 (or at least, they shouldn’t be).</p>
<p>Mind giving that a try?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2023-10-24 16:45</div>
            <div class="timeline-body"><p>Thanks for the response!</p>
<p>I am using <a href="https://github.com/jsh9/pydoclint"><code>pydoclint</code></a>, which has <code>DOC</code> error codes: https://github.com/jsh9/pydoclint#3-style-violation-codes</p>
<p><code>external</code> does work, though you have to specify the exact code. It would be nice to be able to use <code>external = [&quot;DOC&quot;]</code>, as opposed to <code>external = [..., &quot;DOC201&quot;, &quot;DOC301&quot;, ..., &quot;DOC501&quot;]</code></p>
<p>This leads me to a few requests:</p>
<ul>
<li>Document <code>external</code> setting in https://docs.astral.sh/ruff/rules/unused-noqa/</li>
<li>(there is a broken link at the bottom of https://docs.astral.sh/ruff/rules/unused-noqa/)</li>
<li>Allowing <code>external</code> to use rule prefixes (e.g. DOC instead of DOC501)</li>
</ul>
<p>Let me know what you think</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-24 16:52</div>
            <div class="timeline-body"><p>Fixing those issues in #8171 and #8172</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2023-10-24 16:58</div>
            <div class="timeline-body"><p>Thank you!  Interested in hearing what you think of moving <code>external</code> to work using prefixes of rules, not just exact matches</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-24 17:01</div>
            <div class="timeline-body"><p>I think matching prefixes is pretty reasonable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8174.html">astral-sh/ruff#8174</a> on 2023-10-24 17:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesbraza">@jamesbraza</a> on 2023-10-24 17:09</div>
            <div class="timeline-body"><p>Thank you and cool!  I opened https://github.com/astral-sh/ruff/issues/8174 for that.</p>
<p>Will leave this open for @zanieb 's two docs PRs to close this one out ✅ .</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2023-10-24 17:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:51 UTC
    </footer>
</body>
</html>
