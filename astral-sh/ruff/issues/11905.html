<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Non-obvious behavior around notebook formatting - astral-sh/ruff #11905</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Non-obvious behavior around notebook formatting</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11905">#11905</a>
        opened by <a href="https://github.com/mikolysz">@mikolysz</a>
        on 2024-06-17 13:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mikolysz">@mikolysz</a> on 2024-06-17 13:05</div>
            <div class="timeline-body"><p>Jupyter's behavior around notebook formatting (excluding notebooks by default unless an explicit option is present) is extremely non-obvious. It's only documented in the faq (not in <code>ruff check --help</code> or the integrations section, which seem like logical places to look for this information for a novice user.</p>
<p>Even search doesn't always help here, for me, the FAQ is sometimes the second or third result depending on keywords, with the issue for implementing notebook formatting often ahead.</p>
<p>I suggest the following changes to rectify this (from least to most invasive):</p>
<ul>
<li>[ ] Add a short note to the &quot;Integrations&quot; section of the documentation about Ruff's integration with Jupyter notebooks, redirecting to the FAQ for more info.</li>
<li>[ ] Possibly also add notes to other sections, this feature seems really well hidden and not mentioned anywhere else. Perhaps its existence should also be mentioned in the tutorial?</li>
<li>[ ] - [ ] Add a short paragraph to the help text for <code>ruff check</code> and other commands about which files are included and excluded by default.</li>
<li>[ ] If notebooks are present and haven't been explicitly included or excluded by a flag, add a warning that they haven't been formatted, along with a suggestion to include or exclude them in the project settings / on the command line.</li>
<li>[ ] Add explicit <code>--include_notebooks</code> and <code>--exclude_notebooks</code> flags to make it even easier to configure this.</li>
</ul>
<p>I can help out with some or all of those items if approved by the project maintainers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @MichaReiser on 2024-06-17 15:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-17 15:48</div>
            <div class="timeline-body"><p>Thanks. Yeah that makes sense to me. It's a fairly important and substantial feature and it does deserve some more space in our documentation. Thanks for bringing this up.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-06-18 05:45</div>
            <div class="timeline-body"><p>Thank you for bringing this up. From what I can infer with the task list, it seems that it was difficult to figure out how to include Jupyter Notebooks for linting and formatting via the CLI and editor. Is this correct?</p>
<p>There's also the <a href="https://docs.astral.sh/ruff/configuration/#jupyter-notebook-discovery">Jupyter Notebook discovery</a> section in the docs. Does this help? I agree that we might want to do something about reducing the friction in how to configure Ruff for Jupyter Notebooks in general.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mikolysz">@mikolysz</a> on 2024-06-18 16:43</div>
            <div class="timeline-body"><blockquote>
<p>From what I can infer with the task list, it seems that it was difficult to figure out how to include Jupyter Notebooks for linting and formatting via the CLI and editor. Is this correct?</p>
</blockquote>
<p>Yes.</p>
<blockquote>
<p>There's also the Jupyter Notebook discovery <a href="https://docs.astral.sh/ruff/configuration/#jupyter-notebook-discovery">https://docs.astral.sh/ruff/configuration/#jupyter-notebook-discovery</a> section in the docs. Does this help? I agree that we might want to do something about reducing the friction in how to configure Ruff for Jupyter Notebooks in general.</p>
</blockquote>
<p>I didnâ€™t notice this one, thanks for pointing it out.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:30:13 UTC
    </footer>
</body>
</html>
