<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`F841` false negative on assignment to multiple variables - astral-sh/ruff #8441</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>`F841` false negative on assignment to multiple variables</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/8441">#8441</a>
        opened by <a href="https://github.com/DetachHead">@DetachHead</a>
        on 2023-11-02 07:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DetachHead">@DetachHead</a> on 2023-11-02 07:18</div>
            <div class="timeline-body"><pre><code class="language-py">def foo():
    a = bar() # error: F841
    b, c = bar() # no error

def bar():
    ...
</code></pre>
<p><a href="https://play.ruff.rs/e10d4570-4368-4d83-af88-57b221fe899f">playground</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/qdegraaf">@qdegraaf</a> on 2023-11-02 10:29</div>
            <div class="timeline-body"><p>Could this be intentional? From <a href="https://github.com/astral-sh/ruff/blob/d350ede992ae30067486e56852ca106675ddd57d/crates/ruff_linter/resources/test/fixtures/pyflakes/F841_1.py#L1C1-L2C45">the tests</a>:</p>
<pre><code class="language-python">def f(tup):
    x, y = tup  # this does NOT trigger F841
</code></pre>
<p>Unsure if that was left there as a TODO or consciously omitted. @charliermarsh could you clarify?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-02 12:53</div>
            <div class="timeline-body"><p>Yeah this is intentional for parity with Flake8. I think it's reasonable. An improvement could be to flag <code>x</code> and <code>y</code> if <em>both</em> are unused.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-11-02 12:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DetachHead">@DetachHead</a> on 2023-11-02 12:59</div>
            <div class="timeline-body"><p>I don't get why it should be treated differently. If it's for the case where you only want to use one of the values from the tulle, you can just prefix it with an <code>_</code> to mark it as intentionally unused:</p>
<pre><code class="language-py">a, _b = foo()
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-02 16:39</div>
            <div class="timeline-body"><p>Best practice is really</p>
<pre><code>a, _ = foo()
</code></pre>
<p>I don't see why we wouldn't raise a violation here, other than flake8 compatibility</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 00:13</div>
            <div class="timeline-body"><p>I'm not opposed to changing it. I didn't feel strongly so erred towards compatibility.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @zanieb on 2023-11-03 00:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/8489.html">astral-sh/ruff#8489</a> on 2023-11-04 16:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-11-05 17:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/8884.html">astral-sh/ruff#8884</a> on 2023-11-28 23:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:11 UTC
    </footer>
</body>
</html>
