```yaml
number: 11303
title: "Warning in release build: `MarkVerbatimCommentsAsFormattedVisitor` is unused"
type: issue
state: closed
author: konstin
labels:
  - bug
assignees: []
created_at: 2024-05-06T07:22:45Z
updated_at: 2024-05-06T07:43:17Z
url: https://github.com/astral-sh/ruff/issues/11303
synced_at: 2026-01-10T01:56:52Z
```

# Warning in release build: `MarkVerbatimCommentsAsFormattedVisitor` is unused

---

_Issue opened by @konstin on 2024-05-06 07:22_

```console
$ cargo build --release
warning: struct `MarkVerbatimCommentsAsFormattedVisitor` is never constructed
   --> crates/ruff_python_formatter/src/comments/mod.rs:455:8
    |
455 | struct MarkVerbatimCommentsAsFormattedVisitor<'a>(&'a Comments<'a>);
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: `ruff_python_formatter` (lib) generated 1 warning
```

The only usage is debug only:

https://github.com/astral-sh/ruff/blob/6a1e5555377457f4a7c799b72341684a58c0887b/crates/ruff_python_formatter/src/comments/mod.rs#L408-L415

---

_Label `bug` added by @konstin on 2024-05-06 07:22_

---

_Referenced in [astral-sh/ruff#11304](../../astral-sh/ruff/pulls/11304.md) on 2024-05-06 07:35_

---

_Closed by @MichaReiser on 2024-05-06 07:43_

---
