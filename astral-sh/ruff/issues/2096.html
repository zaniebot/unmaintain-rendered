<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement `flake8-typing-imports` - astral-sh/ruff #2096</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement <code>flake8-typing-imports</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2096">#2096</a>
        opened by <a href="https://github.com/Secrus">@Secrus</a>
        on 2023-01-22 22:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Secrus">@Secrus</a></div>
            <div class="timeline-body">

<p>https://github.com/asottile/flake8-typing-imports</p>
<ul>
<li>[ ] <a href="https://github.com/asottile/flake8-typing-imports"><code>TYP001</code></a> | guard import by <code>TYPE_CHECKING</code></li>
<li>[ ] <a href="https://github.com/asottile/flake8-typing-imports"><code>TYP002</code></a> | <code>@overload</code> is broken in &lt;3.5.2</li>
<li>[ ] <a href="https://github.com/asottile/flake8-typing-imports"><code>TYP003</code></a> | <code>Union[Match, ...]</code> or <code>Union[Pattern, ...]</code> must be quoted in &lt;3.5.2</li>
<li>[ ] <a href="https://github.com/asottile/flake8-typing-imports"><code>TYP004</code></a> | <code>NamedTuple</code> does not support methods in 3.6.0</li>
<li>[ ] <a href="https://github.com/asottile/flake8-typing-imports"><code>TYP005</code></a> | <code>NamedTuple</code> does not support defaults in 3.6.0</li>
<li>[ ] <a href="https://github.com/asottile/flake8-typing-imports"><code>TYP006</code></a> | guard <code>typing</code> attribute by quoting</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-23 00:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-23 00:17</div>
            <div class="timeline-body"><p>We&#x27;re planning to implement <code>flake8-type-checking</code> (#1785) which, IIUC, covers <code>TYP001</code>. I&#x27;m <em>not</em> a huge fan of supporting <code>TYP002</code> through <code>TYP005</code> since we only support Python 3.7+. So I&#x27;m tempted <em>not</em> to implement this plugin. Any reactions to what you&#x27;d get from #1785?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Secrus">@Secrus</a> on 2023-01-25 20:34</div>
            <div class="timeline-body"><p>Didn&#x27;t notice that this is gonna be covered by #1785. Sorry for a waste of time on that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Secrus">@Secrus</a> on 2023-01-25 20:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-25 20:37</div>
            <div class="timeline-body"><p>No prob at all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-01-26 09:15</div>
            <div class="timeline-body"><p>The <a href="https://github.com/snok/flake8-type-checking#configuration">configuration</a> of <code>flake8-typing-imports</code> is not implemented.</p>
<ul>
<li>[ ] <code>exempt-modules</code></li>
<li>[ ] <code>strict</code></li>
<li>[ ] <code>pydantic-enabled</code></li>
<li>[ ] <code>pydantic-enabled-baseclass-passlist</code></li>
<li>[ ] <code>fastapi-enabled</code></li>
<li>[ ] <code>fastapi-dependency-support-enabled</code></li>
<li>[ ] <code>cattrs-enabled</code></li>
</ul>
<p>We should reopen this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-26 14:50</div>
            <div class="timeline-body"><p>@JonathanPlasse - I think you&#x27;re referring to <code>flake8-type-checking</code>? I&#x27;ve opened a new issue for configuration at #2195. (I think a new issue is appropriate.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2023-01-26 19:15</div>
            <div class="timeline-body"><p>Oops, my bad. :sweat_smile:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/skshetry">@skshetry</a> on 2023-01-28 06:04</div>
            <div class="timeline-body"><p><code>TYP001</code> is a bit different than the checks in <code>flake8-type-checking</code>. It checks if the <code>typing</code> module has a given attribute or not for the specific python version.</p>
<p>So, if I have the following import with <code>min_python_version=3.8.0</code> set:</p>
<pre><code>from typing import TypeGuard
</code></pre>
<p>it&#x27;ll complain as:</p>
<pre><code>script.py:1:1: TYP001 guard import by `if TYPE_CHECKING:`: TypeGuard
(not in 3.8.0, 3.8.1, 3.8.2, 3.8.3, 3.8.4, 3.8.5, 3.8.6, 3.8.7, 3.8.8, 3.8.9, 3.8.10, 3.8.11, 3.8.12, 3.8.13, 3.8.14, 3.8.15, 3.9.0, 3.9.1, 3.9.2, 3.9.3, 3.9.4, 3.9.5, 3.9.6, 3.9.7, 3.9.8, 3.9.9, 3.9.10, 3.9.11, 3.9.12, 3.9.13, 3.9.14, 3.9.15)
from typing import TypeGuard
^
</code></pre>
<p>which asks you to guard the import inside <code>if TYPE_CHECKING</code>, as <code>TypeGuard</code> was only introduced in 3.10 and will fail on runtime.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-28 16:40</div>
            <div class="timeline-body"><p>@skshetry - Totally and that does seem useful. (I thought <code>flake8-typing-imports</code> was only relevant for linting pre-3.7 code, which we don&#x27;t really support, but I misunderstood that check.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-28 16:41</div>
            <div class="timeline-body"><p>I&#x27;m tracking in #2302.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:30 UTC
    </footer>
</body>
</html>
