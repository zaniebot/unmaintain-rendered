<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FURB118: Should not replace lambda with operator.itemgetter when the itemgetter use the lambda arguments - astral-sh/ruff #11573</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>FURB118: Should not replace lambda with operator.itemgetter when the itemgetter use the lambda arguments</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/11573">#11573</a>
        opened by <a href="https://github.com/nasyxx">@nasyxx</a>
        on 2024-05-27 18:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nasyxx">@nasyxx</a></div>
            <div class="timeline-body"><!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* List of keywords you searched for before creating this issue. Write them down here so that others can find this issue more easily and help provide feedback.
  e.g. "RUF001", "unused variable", "Jupyter notebook"
* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

<p><code>operator.itemgetter</code> cannot be used to replace a lambda function for indexing with lambda arguments.</p>
<pre><code class="language-python"># xxx.py
xs = [1, 2, 3, 4, 5]

xm = map(lambda x: x[5-x], xs)
</code></pre>
<pre><code>xxx.py:
  3:10 FURB118 [*] Use `operator.itemgetter(5-x)` instead of defining a lambda
</code></pre>
<p>Here if replaced with <code>operator.itemgetter(5-x)</code>, the x would be a undefined variable</p>
<pre><code>ruff: 0.4.5
python: 3.12.2
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-27 18:58</div>
            <div class="timeline-body"><p>Makes sense, thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2024-05-27 18:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @charliermarsh on 2024-05-27 20:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2024-05-28 01:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-05-28 01:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-28 01:34</div>
            <div class="timeline-body"><p>Fixed in the next release.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:50:19 UTC
    </footer>
</body>
</html>
