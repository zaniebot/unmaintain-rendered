```yaml
number: 5526
title: False Positive for E712 with np.where
type: issue
state: closed
author: franneck94
labels:
  - bug
  - type-inference
assignees: []
created_at: 2023-07-05T06:17:48Z
updated_at: 2023-07-05T13:34:09Z
url: https://github.com/astral-sh/ruff/issues/5526
synced_at: 2026-01-10T01:56:48Z
```

# False Positive for E712 with np.where

---

_Issue opened by @franneck94 on 2023-07-05 06:17_

Hi,

i would expect that this is a false positive for the E712 warning with the np.where function on my pandas data frame.
Because using the "is" keyword here, would be a completly different operation.

![image](https://github.com/astral-sh/ruff/assets/20141069/81052969-7672-406d-a605-3dbcfbbfd13c)

* A minimal code snippet that reproduces the bug.
```python
import numpy as np
import pandas as pd


df_fl_match_id = pd.DataFrame(index=[i for i in range(10)] + [20], columns=["A"])
fl_non_consecutive_idxs_stop = np.where((np.diff(df_fl_match_id.index) != 1) == True)[0]

print(df_fl_match_id)
print(fl_non_consecutive_idxs_stop)
```

* The current Ruff version (`ruff --version`).
ruff 0.0.277

---

_Comment by @charliermarsh on 2023-07-05 13:33_

Thanks! We have a tracking issue for this in #4560.

---

_Closed by @charliermarsh on 2023-07-05 13:33_

---

_Label `type-inference` added by @charliermarsh on 2023-07-05 13:34_

---

_Label `bug` added by @charliermarsh on 2023-07-05 13:34_

---
