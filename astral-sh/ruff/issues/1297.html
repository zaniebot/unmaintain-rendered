<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`# noqa` not respected in docstrings. - astral-sh/ruff #1297</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code># noqa</code> not respected in docstrings.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1297">#1297</a>
        opened by <a href="https://github.com/pawelrubin">@pawelrubin</a>
        on 2022-12-20 10:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pawelrubin">@pawelrubin</a></div>
            <div class="timeline-body"><p>The <code># noqa</code> directive is not respected in docstrings.</p>
Steps to reproduce
<p>Run <code>ruff</code> on the following snippet</p>
<pre><code>&quot;&quot;&quot;
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt # noqa
&quot;&quot;&quot;


def foo():
    &quot;&quot;&quot;
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt # noqa
    &quot;&quot;&quot;


class Bar:
    &quot;&quot;&quot;
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt # noqa
    &quot;&quot;&quot;
</code></pre>
Expected result
<p>Since each line longer than 88 characters end with a <code># noqa</code>, there should be no errors.</p>
Actual result
<pre><code>Found 3 error(s).
snippet.py:2:1: E501 Line too long (96 &gt; 88 characters)
snippet.py:8:1: E501 Line too long (100 &gt; 88 characters)
snippet.py:14:1: E501 Line too long (100 &gt; 88 characters) 
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-20 16:08</div>
            <div class="timeline-body"><p>For multi-line strings, noqa comments are required to be placed on the closing line, rather than in the string body itself.</p>
<p>Can you try moving the noqa to just after the closing quotes, and report back?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-20 17:56</div>
            <div class="timeline-body"><p>See the <a href="https://github.com/charliermarsh/ruff#ignoring-errors">README</a> for an example, but let me know if you continue to see issues!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-20 17:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pawelrubin">@pawelrubin</a> on 2022-12-21 09:20</div>
            <div class="timeline-body"><p>Hi @charliermarsh. I missed the note in the README. Moving the <code># noqa</code> directive to the closing quote solves the issue. Thank you for the quick response.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:28 UTC
    </footer>
</body>
</html>
