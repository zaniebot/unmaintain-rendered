<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ruff check --fix not working - astral-sh/ruff #10558</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>ruff check --fix not working</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/10558">#10558</a>
        opened by <a href="https://github.com/decoded-brain">@decoded-brain</a>
        on 2024-03-25 08:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/decoded-brain">@decoded-brain</a> on 2024-03-25 08:21</div>
            <div class="timeline-body"><p>Ruff doesn't fix the problems. I've tried adding the <code>--unsafe-fixes</code> flag and it doesn't work</p>
<pre><code class="language-bash">transactions_journal/models.py:185:7: DJ008 Model does not define `__str__` method
transactions_journal/models.py:187:17: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:188:15: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:189:12: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:190:14: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:205:21: DJ001 Avoid using `null=True` on string-based fields such as `TextField`
transactions_journal/models.py:298:12: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:299:12: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:305:14: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:312:14: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:313:18: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:314:18: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:315:15: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:316:18: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:317:31: DJ001 Avoid using `null=True` on string-based fields such as `TextField`
transactions_journal/models.py:318:15: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:319:13: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:321:15: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:322:13: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:323:18: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:324:19: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:382:12: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:383:15: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:388:20: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:389:21: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:395:26: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:397:19: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:398:21: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
transactions_journal/models.py:403:22: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
units/models.py:510:14: DJ001 Avoid using `null=True` on string-based fields such as `CharField`
vesting_bonuses/models.py:19:19: DJ001 Avoid using `null=True` on string-based fields such as `TextField`
vesting_bonuses/models.py:30:5: DJ012 Order of model's inner classes, methods, and fields does not follow the Django Style Guide: `Meta` class should come before `__str__` method
vesting_bonuses/models.py:49:5: DJ012 Order of model's inner classes, methods, and fields does not follow the Django Style Guide: `Meta` class should come before `__str__` method
Found 562 errors.
</code></pre>
<ul>
<li>My <code>ruff.toml</code></li>
</ul>
<pre><code class="language-toml"># Exclude a variety of commonly ignored directories.
exclude = [
    &quot;.bzr&quot;,
    &quot;.direnv&quot;,
    &quot;.eggs&quot;,
    &quot;.git&quot;,
    &quot;.git-rewrite&quot;,
    &quot;.hg&quot;,
    &quot;.ipynb_checkpoints&quot;,
    &quot;.mypy_cache&quot;,
    &quot;.nox&quot;,
    &quot;.pants.d&quot;,
    &quot;.pyenv&quot;,
    &quot;.pytest_cache&quot;,
    &quot;.pytype&quot;,
    &quot;.ruff_cache&quot;,
    &quot;.svn&quot;,
    &quot;.tox&quot;,
    &quot;.venv&quot;,
    &quot;.vscode&quot;,
    &quot;__pypackages__&quot;,
    &quot;_build&quot;,
    &quot;buck-out&quot;,
    &quot;build&quot;,
    &quot;dist&quot;,
    &quot;node_modules&quot;,
    &quot;site-packages&quot;,
    &quot;venv&quot;,
    &quot;apps.py&quot;,
]

[lint]
ignore = [&quot;F401&quot;]
select = [&quot;T20&quot;, &quot;G&quot;, &quot;DJ&quot;, &quot;COM&quot;, &quot;PD&quot;]
fixable = [&quot;ALL&quot;]
unfixable = []
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-25 08:30</div>
            <div class="timeline-body"><p>Hy @JohnnyMagnet</p>
<p>Not all lint rules have automatic fixes in Ruff. I checked <code>DJ001</code> and <code>DJ012</code> and both have no automatic fix implementation. So the reason why ruff isn't fixing anything in this case is because it doesn't know how.</p>
<p>Ruff shows you when there's an automatic fix by printing:</p>
<pre><code>Found 67 errors.
[*] 3 fixable with the `--fix` option.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @MichaReiser on 2024-03-25 08:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/decoded-brain">@decoded-brain</a> on 2024-03-25 08:33</div>
            <div class="timeline-body"><p>@MichaReiser thx!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-25 08:34</div>
            <div class="timeline-body"><p>You're welcome. I'll close this issue. If you have another problem, feel free to comment on this issue or open a new one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-03-25 08:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:12 UTC
    </footer>
</body>
</html>
