<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>let some rules not cause an error exit code - astral-sh/ruff #2349</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>let some rules not cause an error exit code</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/2349">#2349</a>
        opened by <a href="https://github.com/spaceone">@spaceone</a>
        on 2023-01-30 11:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/spaceone">@spaceone</a></div>
            <div class="timeline-body"><p><code>ruff</code> has many rules and i would like to let most of the rules be checked.
we have a repository wide configuration and a pre-commit hook.</p>
<p>As the code base is grown over the years we have many style violation for specific rules (e.g. <code>RET50{5,6,7,8}</code> or <code>SIM</code>, which are currently also not autofixable) and we don&#x27;t have them time to do it manually currently.
but the rules would make sense for our code base.</p>
<p>So I would like to have them visible for the developers, so that they see that there is an issue (which they might fix then as well) but <code>ruff</code> should not exit with an exit code =! 0 for them, as this would e.g. block the pre-commit hook.</p>
<p>‚Üí A new config option could provide a list of rules which still get reported but don&#x27;t cause an error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-01-30 11:52</div>
            <div class="timeline-body"><p>I like this idea. This is essentially requesting to treat certain rules as a warning rather than an error, right?</p>
<p>A few thoughts then:</p>
<ul>
<li>What should the configuration option be? Maybe <code>warn-only = [&quot;‚Ä¶&quot;, ‚Ä¶]</code>?</li>
<li>The summary should show <code>Found ‚Ä¶ errors and ‚Ä¶ warnings.</code></li>
<li>Colored output should have codes highlighted in yellow for warnings</li>
<li>What about <code>--format=grouped</code> output? Would be nice for errors to be grouped together, then warnings...<ul>
<li>But then maybe we want <code>--format=grouped,severity</code>?</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 12:10</div>
            <div class="timeline-body"><p>üëç We plan to support severity levels for rules (see also #1256), which should solve this.</p>
<p>Once that&#x27;s done, you should be able to mark rules as warnings or errors (presumedly everything will be an error by default, but TBD). And then you should be able to use &quot;warning&quot; and &quot;error&quot; to select rules (e.g., <code>ruff --select warnings</code>, API TBD). And they&#x27;d show up similarly to how @ngnpope has described in the CLI output.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 17:15</div>
            <div class="timeline-body"><p>Just gonna close as a duplicate of #1256.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 17:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:31 UTC
    </footer>
</body>
</html>
