<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement pycodestyle's `max-doc-length` - astral-sh/ruff #1784</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement pycodestyle&#x27;s <code>max-doc-length</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1784">#1784</a>
        opened by <a href="https://github.com/stinodego">@stinodego</a>
        on 2023-01-11 13:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/stinodego">@stinodego</a></div>
            <div class="timeline-body"><p>As described in the pycodestyle config:
https://pycodestyle.pycqa.org/en/latest/intro.html</p>
<p>I prefer not setting a max line length, as I let <code>black</code> handle this automatically, but want to enforce line lengths on docstrings. pycodestyle can do this in the form of <code>--max-doc-length</code>. It would be nice to have this option in ruff!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 14:16</div>
            <div class="timeline-body"><p>Oh, I havenâ€™t seen this before! Can definitely support it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-11 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/baggiponte">@baggiponte</a> on 2023-01-11 16:56</div>
            <div class="timeline-body"><p>If you feel like &quot;globbing&quot; another tool, <code>docformatter</code> might have some <a href="https://docformatter.readthedocs.io/en/latest/usage.html#use-from-the-command-line">similar rules</a>: to either implement, or whose code might be of inspiration! ðŸš€</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-12 01:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-12 03:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sterlinm">@sterlinm</a> on 2023-02-11 03:56</div>
            <div class="timeline-body"><p>Thanks so much for this! Quick question regarding how it compares to flake8&#x27;s <a href="https://flake8.pycqa.org/en/latest/user/options.html#cmdoption-flake8-max-doc-length"><code>max-doc-length</code></a> option.</p>
<blockquote>
<p>By default, there is no limit on documentation line length.</p>
</blockquote>
<p>If you set <code>max-line-length</code> but not <code>max-doc-length</code>, flake8 will not complain about any lines in docstrings regardless of the length.</p>
<p><code>ruff</code> by default checks the docstring line lengths, and this option allows you to disable code line-length checking while enabling doc line-length checking.</p>
<p>But it does not allow you to enable line-length checking for code while disabling line-length checking for docstrings (or using a higher threshold for docstrings). Would it be possible to have the max-doc-length take precedence over the line-length? Something like this:</p>
<pre><code>line-length = 120

[tool.ruff.pycodestyle]
max-doc-length = 180
</code></pre>
<p>The goal would be to allow docstring lines to exceed 120 but not 180, or to effectively disable line-length checking in docstrings or comments to mimic the default behavior of flake8 by setting max-doc-length to an arbitrarily high number.</p>
<p><a href="https://play.ruff.rs/#N4KABGBECGA2sHsDuBTAJgWgMYIHYDMBXAZ2gCNYVjIAuMAbQF0AacKMwgS1gBdPdqdJqwiQ0hALYSAnhgBu0AE6dylDIoDmAD1pQAegAoA+gGoAPsZP1oGAF4BBDAC0ADBgCcRxgCprdx64ejCYA-ACUYQAkkCJQKFo8KLiYnBq4CIoousJskPGJyRjEKJRYPNksufkoirhwFbGQqemZDbmw-CgYlLgaPAAWugCsLo3FpeVCbKIAojHTUABi8xCiAOqQbJWiPEoaKDzyNcSceLqQAA7SAMwAjC4rUPiw0ADWKAAcGNC46bt8eEEYFAqygMiuGH4nEOmR4hFqunwcGKsVExEIFwumWIxAw4iksj2QKRsBRC0g6Mx2Nx6VwXVh8Nw-A0iORKFRUDgiCQRV2im+mm+uGkrNJ7PJzQyXSI8FkhFwPGkF3QouKbAAvo1nm9PhgyD80NDdCDVpB+ko0Dg0OgMDwJBc8ZxMmUMiKpqDRAB6O0XR6gyCehSKb32v2mz3WuSe4j9CSbUHbU1YfooLCvW1Km3xLAoC4A3CqlAarUvd5fDgaMgoJTG8nVQqcKSEXYULpYLlApjF3Last6ri8fhAk2iDjcPgCSFpKUdYiTBiMbuiXu6mqKCTEFl0Edg6BaXnKXrdJJ9QZ0FxLp6l3UAR0ICESw4luA6dIwd4fVHOaAQhFbYcgCRCEHV8ug-R9v1-f8OTEBAsDnQ8NHfe8ILoWC-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">Here&#x27;s an example of playing around with this in the ruff playground.</a></p>
<p>Apologies if I misunderstood something!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-11 04:05</div>
            <div class="timeline-body"><blockquote>
<p>If you set max-line-length but not max-doc-length, flake8 will not complain about any lines in docstrings regardless of the length.</p>
</blockquote>
<p>Wow TIL. Yeah I&#x27;ll revisit the interplay between these and ensure that they match Flake8. Thanks for the heads up.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sterlinm">@sterlinm</a> on 2023-02-11 04:15</div>
            <div class="timeline-body"><p>Thanks! I haven&#x27;t learned rust yet so can&#x27;t help much at the moment, but hope to be able to in the future. Amazing project, thanks so much!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-11 04:17</div>
            <div class="timeline-body"><p>Thank you for the kind words :) I&#x27;m tracking in #2756.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:29 UTC
    </footer>
</body>
</html>
