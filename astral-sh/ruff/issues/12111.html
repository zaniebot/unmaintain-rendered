<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command for Initializing Ruff Configuration - astral-sh/ruff #12111</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Command for Initializing Ruff Configuration</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/12111">#12111</a>
        opened by <a href="https://github.com/erickguan">@erickguan</a>
        on 2024-06-30 13:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/erickguan">@erickguan</a> on 2024-06-30 13:14</div>
            <div class="timeline-body"><p>Hey,</p>
<p>I am proposing a new command, <code>ruff init</code>, to facilitate configuration setup for Python projects. This command aims to simplify the configuration process for both beginners and new projects, without replacing Ruff's default settings. Ruff will continue to function without any configurations, but this feature is intended for advanced users and teams who require more tailored settings.</p>
<h2>Proposal</h2>
<p>The ruff init command will create or update the <code>pyproject.toml</code> file with a default configuration block. This block can be customized further, but will build on <a href="https://docs.astral.sh/ruff/configuration/">Ruff's defaults</a>. The command should:</p>
<ol>
<li>Detect Python Version: Automatically detect the Python version in the environment.</li>
<li>Extend Linting Rules: Add a few more linting rules by default. For example:</li>
</ol>
<pre><code class="language-python">select = [
    &quot;E&quot;,  # pycodestyle
    &quot;F&quot;,  # Pyflakes rules
    &quot;UP&quot;, # pyupgrade
    &quot;PERF&quot;, # Perflint
    # &quot;SIM&quot;, &quot;I&quot;
]
</code></pre>
<ol start="3">
<li>Support Configuration Styles (Optional): Allow users to specify &quot;styles&quot; and host Ruff configuration styles via GitHub. For example, Ruff could download configurations from a git repository and use them to initialize the project settings.</li>
<li>Avoid Default Configuration Upgrades: This command is for advanced users who understand how to configure Ruff, so it will not support automatic upgrades to default configurations.</li>
</ol>
<h2>Command Functionality</h2>
<p>When running <code>ruff init [--path &lt;pyproject.toml&gt;]</code>, the command should:</p>
<ul>
<li>Append the configuration block to the end of the file without overwriting existing configurations.</li>
<li>Print out the changes made to the repository.</li>
<li>Output the initialization operations.</li>
<li>Print out the rules Ruff is using.</li>
</ul>
<h2>Future Enhancements</h2>
<ol>
<li>Hierarchical Configuration Initialization: Support for hierarchical configuration. For example, if Ruff detects a configuration in a parent pyproject.toml, it should extend the settings automatically and write the differential configuration to the current directory.</li>
<li>Subcommand Naming Consistency: Consider renaming subcommands for clarity. While <code>ruff init</code> suggests a necessary step before using Ruff, alternatives like <code>ruff config</code> might also be considered, although this feels somewhat ambiguous. I expect Ruff 1.0 could make subcommands more harmorized.</li>
<li>Default Configuration Based on Environment: When setting up configuration or different versions of Python, I could imagine different default configurations based on what community generally expects. Python 3.8 was released a long time ago. The coding standard could be quite different to what people expects in a Python 3.12 project.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eli-schwartz">@eli-schwartz</a> on 2024-06-30 17:20</div>
            <div class="timeline-body"><p>I would normally expect an &quot;init&quot; command for a tool to help new users onboard themselves by stubbing out boilerplate and setting good defaults for greenfield development. It's not obvious to me how this ties into the specific use case of:</p>
<blockquote>
<p>intended for advanced users and teams who require more tailored settings</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/erickguan">@erickguan</a> on 2024-06-30 17:30</div>
            <div class="timeline-body"><p>I agree with you. I have a few alternatives:</p>
<ul>
<li><code>ruff init-config</code></li>
<li><code>ruff init-setup</code></li>
<li><code>ruff scaffold</code></li>
<li><code>ruff advanced-setup</code></li>
<li><code>ruff advanced-config</code></li>
</ul>
<p>I know Ruff doesn't use subsub-commands. But these might be interesting:</p>
<ul>
<li><code>ruff configure setup</code></li>
<li><code>ruff generate config</code></li>
</ul>
<p>I could imagine you want to have a plan to organize command hierarchy before comming to a design. In that case, you can freely make changes to this proposal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by @dhruvmanila on 2024-07-01 04:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @dhruvmanila on 2024-07-01 04:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-01 09:01</div>
            <div class="timeline-body"><p>I can see how this would be very useful to set up a new project.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/14676.html">astral-sh/ruff#14676</a> on 2024-12-02 15:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/21137.html">astral-sh/ruff#21137</a> on 2025-10-30 12:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:53 UTC
    </footer>
</body>
</html>
