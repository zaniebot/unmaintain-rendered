<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ignoring commented-out code with `noqa: ERA001` triggers `RUF100` - astral-sh/ruff #1148</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ignoring commented-out code with <code>noqa: ERA001</code> triggers <code>RUF100</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/1148">#1148</a>
        opened by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a>
        on 2022-12-08 21:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/edgarrmondragon">@edgarrmondragon</a> on 2022-12-08 21:53</div>
            <div class="timeline-body"><pre><code class="language-python"># commented.py

# print(123)  # noqa: ERA001
# print(123)
</code></pre>
<p>This is the result of running Ruff on the above:</p>
<pre><code class="language-console">$ ruff --version
ruff 0.0.170

$ ruff --select ERA,RUF commented.py
Found 2 error(s).
commented.py:3:15: RUF100 Unused `noqa` directive for: ERA001
commented.py:4:1: ERA001 Found commented-out code
2 potentially fixable with the --fix option.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-08 21:56</div>
            <div class="timeline-body"><p>Ah yeah, I think the presence of the <code>noqa: </code> causes us to treat <code># print(123)  # noqa: ERA001</code> as <em>not</em> code... so the <code>noqa</code> is itself suppressing the error, and then appears to have no effect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-08 21:57</div>
            <div class="timeline-body"><p>Maybe we should only match those at the start of a comment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-09 04:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:10:15 UTC
    </footer>
</body>
</html>
