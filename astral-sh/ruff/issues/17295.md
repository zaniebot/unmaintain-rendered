```yaml
number: 17295
title: "[F401] missing errors"
type: issue
state: closed
author: tony-sanchez
labels: []
assignees: []
created_at: 2025-04-08T12:59:27Z
updated_at: 2025-04-08T13:42:41Z
url: https://github.com/astral-sh/ruff/issues/17295
synced_at: 2026-01-10T01:56:56Z
```

# [F401] missing errors

---

_Issue opened by @tony-sanchez on 2025-04-08 12:59_

### Summary

Hi,

I'm occasionally struggling with the `F401` rule, I managed to reproduce the issue with the following example.

Given this file, named `ruff_F401.py`:

```python
def my_method():
    import package.a.b.c.d.module_a
    import package.a.b.c.d.module_b
    import package.a.b.e.module_c

```

When I run `ruff --isolated check ruff_F401.py` I get the following report:
```bash
ruff_F401.py:4:12: F401 [*] `package.a.b.e.module_c` imported but unused
  |
2 |     import package.a.b.c.d.module_a
3 |     import package.a.b.c.d.module_b
4 |     import package.a.b.e.module_c
  |            ^^^^^^^^^^^^^^^^^^^^^^ F401
  |
  = help: Remove unused import: `package.a.b.e.module_c`

Found 1 error.
[*] 1 fixable with the `--fix` option.
```

If I provide the `--fix` argument, then the 3 imports are replaced with a `pass`.

## Expected behaviour:

I'd expect a `F401` error to be reported for each of the 3 lines.

### Version

ruff 0.11.4 (95d6ed40c 2025-04-04)

---

_Comment by @dylwil3 on 2025-04-08 13:42_

Thanks for the report! This looks like a duplicate of https://github.com/astral-sh/ruff/issues/4656

There is a PR out for this (https://github.com/astral-sh/ruff/pull/13965), but maybe we can do some more work to help get it over the line.

---

_Closed by @dylwil3 on 2025-04-08 13:42_

---
