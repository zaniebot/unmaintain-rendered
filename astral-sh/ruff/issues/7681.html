<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatter: breaks single-element pattern - astral-sh/ruff #7681</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatter: breaks single-element pattern</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/7681">#7681</a>
        opened by <a href="https://github.com/mrcljx">@mrcljx</a>
        on 2023-09-27 21:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mrcljx">@mrcljx</a> on 2023-09-27 21:34</div>
            <div class="timeline-body"><p>A <code>case</code> with single-element tuple pattern (e.g. <code>(x,)</code>) is broken into multiple lines:</p>
<pre><code>match a:
    case (x,):
        pass
</code></pre>
<p>is formatted to</p>
<pre><code>match f:
    case (
        x,
    ):
        pass
</code></pre>
<p>Would have expected the formatter leaving it alone like it does for <code>(x,) = y</code> (and like Black does).</p>
<h3>Invocation</h3>
<p><code>ruff format test.py</code></p>
<h3>Version</h3>
<p>ruff 0.0.291</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-09-27 22:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @charliermarsh on 2023-09-27 22:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-27 22:05</div>
            <div class="timeline-body"><p>Thanks! I consider that a bug too, since it deviates from our <code>if (x,):</code> handling.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Formatter: Stable" by @charliermarsh on 2023-09-27 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">accepted</span> added by @charliermarsh on 2023-09-27 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @charliermarsh by @charliermarsh on 2023-09-27 22:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-09-27 23:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:31:28 UTC
    </footer>
</body>
</html>
