<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix for `PIE790` and `PYI021` introduces a syntax error - astral-sh/ruff #19982</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Fix for `PIE790` and `PYI021` introduces a syntax error</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/19982">#19982</a>
        opened by <a href="https://github.com/blackteahamburger">@blackteahamburger</a>
        on 2025-08-19 05:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/blackteahamburger">@blackteahamburger</a> on 2025-08-19 05:21</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><code>pin.pyi</code>:</p>
<details><summary>Details</summary>
<p>

<pre><code class="language-py">&quot;&quot;&quot;Type stubs for micro:bit pin module.&quot;&quot;&quot;

from typing import overload, Literal

class MicroBitDigitalPin:
    &quot;&quot;&quot;A digital pin on the micro:bit.&quot;&quot;&quot;

    NO_PULL: int = 0
    PULL_UP: int = 1
    PULL_DOWN: int = 2

    def read_digital(self) -&gt; int:
        &quot;&quot;&quot;Read digital value (0 or 1).&quot;&quot;&quot;
        ...

    def write_digital(self, value: int) -&gt; None:
        &quot;&quot;&quot;Write digital value (0 or 1).&quot;&quot;&quot;
        ...

    @overload
    def set_pull(self, value: int) -&gt; None:
        &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
        ...

    @overload
    def set_pull(self, value: Literal[0, 1, 2]) -&gt; None:
        &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
        ...

    def get_pull(self) -&gt; int:
        &quot;&quot;&quot;Get current pull mode.&quot;&quot;&quot;
        ...

    def get_mode(self) -&gt; str:
        &quot;&quot;&quot;Get current pin mode.&quot;&quot;&quot;
        ...

    def write_analog(self, value: int) -&gt; None:
        &quot;&quot;&quot;Write analog value (0-1023) for PWM.&quot;&quot;&quot;
        ...

    def set_analog_period(self, period: int) -&gt; None:
        &quot;&quot;&quot;Set PWM period in milliseconds.&quot;&quot;&quot;
        ...

    def set_analog_period_microseconds(self, period: int) -&gt; None:
        &quot;&quot;&quot;Set PWM period in microseconds.&quot;&quot;&quot;
        ...

    def get_analog_period_microseconds(self) -&gt; int:
        &quot;&quot;&quot;Get PWM period in microseconds.&quot;&quot;&quot;
        ...

class MicroBitAnalogDigitalPin(MicroBitDigitalPin):
    &quot;&quot;&quot;An analog/digital pin on the micro:bit.&quot;&quot;&quot;

    def read_analog(self) -&gt; int:
        &quot;&quot;&quot;Read analog value (0-1023).&quot;&quot;&quot;
        ...

class MicroBitTouchPin(MicroBitAnalogDigitalPin):
    &quot;&quot;&quot;A touch-sensitive pin on the micro:bit.&quot;&quot;&quot;

    CAPACITIVE: int = 0
    RESISTIVE: int = 1

    def is_touched(self) -&gt; bool:
        &quot;&quot;&quot;Check if pin is being touched.&quot;&quot;&quot;
        ...

    def was_touched(self) -&gt; bool:
        &quot;&quot;&quot;Check if pin was touched since last check.&quot;&quot;&quot;
        ...

    def get_touches(self) -&gt; int:
        &quot;&quot;&quot;Get number of touches since last check.&quot;&quot;&quot;
        ...

    def set_touch_mode(self, mode: int) -&gt; None:
        &quot;&quot;&quot;Set touch detection mode.&quot;&quot;&quot;
        ...
</code></pre>
</p>
</details> 

<p><code>ruff check pin.pyi --fix</code>:</p>
<details><summary>Details</summary>
<p>

<pre><code>[2025-08-19][13:15:22][ruff::resolve][DEBUG] Using configuration file (via cwd) at: /root/.config/ruff/ruff.toml
[2025-08-19][13:15:22][ruff_workspace::resolver][DEBUG] Included path via `include`: &quot;/Data/micropython-microbit/stubs/microbit/pin.pyi&quot;
[2025-08-19][13:15:22][ignore::gitignore][DEBUG] opened gitignore file: /Data/micropython-microbit/stubs/microbit/.ruff_cache/.gitignore
[2025-08-19][13:15:22][ruff_workspace::resolver][DEBUG] Ignored path via `exclude`: &quot;/Data/micropython-microbit/stubs/microbit/.ruff_cache&quot;
[2025-08-19][13:15:22][ruff::commands::check][DEBUG] Identified files to lint in: 3.219548ms
[2025-08-19][13:15:22][ruff::diagnostics][DEBUG] Checking: /Data/micropython-microbit/stubs/microbit/pin.pyi
[2025-08-19][13:15:22][ruff_linter::rules::isort::categorize][DEBUG] Categorized 'typing' as Known(StandardLibrary) (KnownStandardLibrary)

error: Fix introduced a syntax error. Reverting all changes.

This indicates a bug in Ruff. If you could open an issue at:

    https://github.com/astral-sh/ruff/issues/new?title=%5BFix%20error%5D

...quoting the contents of `pin.pyi`, the rule codes I001, PIE790, PYI021, along with the `pyproject.toml` settings and executed command, we'd be very appreciative!

[2025-08-19][13:15:22][ruff_linter::rules::isort::categorize][DEBUG] Categorized 'typing' as Known(StandardLibrary) (KnownStandardLibrary)
[2025-08-19][13:15:22][ruff::commands::check][DEBUG] Checked 1 files in: 916.395Âµs
PYI021 [*] Docstrings should not be included in stubs
 --&gt; pin.pyi:1:1
  |
1 | &quot;&quot;&quot;Type stubs for micro:bit pin module.&quot;&quot;&quot;
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | from typing import overload, Literal
  |
help: Remove docstring

CPY001 Missing copyright notice at top of file
--&gt; pin.pyi:1:1

I001 [*] Import block is un-sorted or un-formatted
 --&gt; pin.pyi:3:1
  |
1 | &quot;&quot;&quot;Type stubs for micro:bit pin module.&quot;&quot;&quot;
2 |
3 | from typing import overload, Literal
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4 |
5 | class MicroBitDigitalPin:
  |
help: Organize imports

PYI021 [*] Docstrings should not be included in stubs
 --&gt; pin.pyi:6:5
  |
5 | class MicroBitDigitalPin:
6 |     &quot;&quot;&quot;A digital pin on the micro:bit.&quot;&quot;&quot;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
7 |
8 |     NO_PULL: int = 0
  |
help: Remove docstring

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:12:9
   |
10 |     PULL_DOWN: int = 2
11 |
12 |     def read_digital(self) -&gt; int:
   |         ^^^^^^^^^^^^
13 |         &quot;&quot;&quot;Read digital value (0 or 1).&quot;&quot;&quot;
14 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:13:9
   |
12 |     def read_digital(self) -&gt; int:
13 |         &quot;&quot;&quot;Read digital value (0 or 1).&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:14:9
   |
12 |     def read_digital(self) -&gt; int:
13 |         &quot;&quot;&quot;Read digital value (0 or 1).&quot;&quot;&quot;
14 |         ...
   |         ^^^
15 |
16 |     def write_digital(self, value: int) -&gt; None:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:16:9
   |
14 |         ...
15 |
16 |     def write_digital(self, value: int) -&gt; None:
   |         ^^^^^^^^^^^^^
17 |         &quot;&quot;&quot;Write digital value (0 or 1).&quot;&quot;&quot;
18 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:17:9
   |
16 |     def write_digital(self, value: int) -&gt; None:
17 |         &quot;&quot;&quot;Write digital value (0 or 1).&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
18 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:18:9
   |
16 |     def write_digital(self, value: int) -&gt; None:
17 |         &quot;&quot;&quot;Write digital value (0 or 1).&quot;&quot;&quot;
18 |         ...
   |         ^^^
19 |
20 |     @overload
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:21:9
   |
20 |     @overload
21 |     def set_pull(self, value: int) -&gt; None:
   |         ^^^^^^^^
22 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
23 |         ...
   |

D418 Function decorated with `@overload` shouldn't contain a docstring
  --&gt; pin.pyi:21:9
   |
20 |     @overload
21 |     def set_pull(self, value: int) -&gt; None:
   |         ^^^^^^^^
22 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
23 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:22:9
   |
20 |     @overload
21 |     def set_pull(self, value: int) -&gt; None:
22 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
23 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:23:9
   |
21 |     def set_pull(self, value: int) -&gt; None:
22 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
23 |         ...
   |         ^^^
24 |
25 |     @overload
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:26:9
   |
25 |     @overload
26 |     def set_pull(self, value: Literal[0, 1, 2]) -&gt; None:
   |         ^^^^^^^^
27 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
28 |         ...
   |

D418 Function decorated with `@overload` shouldn't contain a docstring
  --&gt; pin.pyi:26:9
   |
25 |     @overload
26 |     def set_pull(self, value: Literal[0, 1, 2]) -&gt; None:
   |         ^^^^^^^^
27 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
28 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:27:9
   |
25 |     @overload
26 |     def set_pull(self, value: Literal[0, 1, 2]) -&gt; None:
27 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:28:9
   |
26 |     def set_pull(self, value: Literal[0, 1, 2]) -&gt; None:
27 |         &quot;&quot;&quot;Set pull resistor mode.&quot;&quot;&quot;
28 |         ...
   |         ^^^
29 |
30 |     def get_pull(self) -&gt; int:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:30:9
   |
28 |         ...
29 |
30 |     def get_pull(self) -&gt; int:
   |         ^^^^^^^^
31 |         &quot;&quot;&quot;Get current pull mode.&quot;&quot;&quot;
32 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:31:9
   |
30 |     def get_pull(self) -&gt; int:
31 |         &quot;&quot;&quot;Get current pull mode.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:32:9
   |
30 |     def get_pull(self) -&gt; int:
31 |         &quot;&quot;&quot;Get current pull mode.&quot;&quot;&quot;
32 |         ...
   |         ^^^
33 |
34 |     def get_mode(self) -&gt; str:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:34:9
   |
32 |         ...
33 |
34 |     def get_mode(self) -&gt; str:
   |         ^^^^^^^^
35 |         &quot;&quot;&quot;Get current pin mode.&quot;&quot;&quot;
36 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:35:9
   |
34 |     def get_mode(self) -&gt; str:
35 |         &quot;&quot;&quot;Get current pin mode.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
36 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:36:9
   |
34 |     def get_mode(self) -&gt; str:
35 |         &quot;&quot;&quot;Get current pin mode.&quot;&quot;&quot;
36 |         ...
   |         ^^^
37 |
38 |     def write_analog(self, value: int) -&gt; None:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:38:9
   |
36 |         ...
37 |
38 |     def write_analog(self, value: int) -&gt; None:
   |         ^^^^^^^^^^^^
39 |         &quot;&quot;&quot;Write analog value (0-1023) for PWM.&quot;&quot;&quot;
40 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:39:9
   |
38 |     def write_analog(self, value: int) -&gt; None:
39 |         &quot;&quot;&quot;Write analog value (0-1023) for PWM.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
40 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:40:9
   |
38 |     def write_analog(self, value: int) -&gt; None:
39 |         &quot;&quot;&quot;Write analog value (0-1023) for PWM.&quot;&quot;&quot;
40 |         ...
   |         ^^^
41 |
42 |     def set_analog_period(self, period: int) -&gt; None:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:42:9
   |
40 |         ...
41 |
42 |     def set_analog_period(self, period: int) -&gt; None:
   |         ^^^^^^^^^^^^^^^^^
43 |         &quot;&quot;&quot;Set PWM period in milliseconds.&quot;&quot;&quot;
44 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:43:9
   |
42 |     def set_analog_period(self, period: int) -&gt; None:
43 |         &quot;&quot;&quot;Set PWM period in milliseconds.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
44 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:44:9
   |
42 |     def set_analog_period(self, period: int) -&gt; None:
43 |         &quot;&quot;&quot;Set PWM period in milliseconds.&quot;&quot;&quot;
44 |         ...
   |         ^^^
45 |
46 |     def set_analog_period_microseconds(self, period: int) -&gt; None:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:46:9
   |
44 |         ...
45 |
46 |     def set_analog_period_microseconds(self, period: int) -&gt; None:
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
47 |         &quot;&quot;&quot;Set PWM period in microseconds.&quot;&quot;&quot;
48 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:47:9
   |
46 |     def set_analog_period_microseconds(self, period: int) -&gt; None:
47 |         &quot;&quot;&quot;Set PWM period in microseconds.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
48 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:48:9
   |
46 |     def set_analog_period_microseconds(self, period: int) -&gt; None:
47 |         &quot;&quot;&quot;Set PWM period in microseconds.&quot;&quot;&quot;
48 |         ...
   |         ^^^
49 |
50 |     def get_analog_period_microseconds(self) -&gt; int:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:50:9
   |
48 |         ...
49 |
50 |     def get_analog_period_microseconds(self) -&gt; int:
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
51 |         &quot;&quot;&quot;Get PWM period in microseconds.&quot;&quot;&quot;
52 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:51:9
   |
50 |     def get_analog_period_microseconds(self) -&gt; int:
51 |         &quot;&quot;&quot;Get PWM period in microseconds.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
52 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:52:9
   |
50 |     def get_analog_period_microseconds(self) -&gt; int:
51 |         &quot;&quot;&quot;Get PWM period in microseconds.&quot;&quot;&quot;
52 |         ...
   |         ^^^
53 |
54 | class MicroBitAnalogDigitalPin(MicroBitDigitalPin):
   |
help: Remove unnecessary `...`

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:55:5
   |
54 | class MicroBitAnalogDigitalPin(MicroBitDigitalPin):
55 |     &quot;&quot;&quot;An analog/digital pin on the micro:bit.&quot;&quot;&quot;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
56 |
57 |     def read_analog(self) -&gt; int:
   |
help: Remove docstring

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:57:9
   |
55 |     &quot;&quot;&quot;An analog/digital pin on the micro:bit.&quot;&quot;&quot;
56 |
57 |     def read_analog(self) -&gt; int:
   |         ^^^^^^^^^^^
58 |         &quot;&quot;&quot;Read analog value (0-1023).&quot;&quot;&quot;
59 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:58:9
   |
57 |     def read_analog(self) -&gt; int:
58 |         &quot;&quot;&quot;Read analog value (0-1023).&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
59 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:59:9
   |
57 |     def read_analog(self) -&gt; int:
58 |         &quot;&quot;&quot;Read analog value (0-1023).&quot;&quot;&quot;
59 |         ...
   |         ^^^
60 |
61 | class MicroBitTouchPin(MicroBitAnalogDigitalPin):
   |
help: Remove unnecessary `...`

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:62:5
   |
61 | class MicroBitTouchPin(MicroBitAnalogDigitalPin):
62 |     &quot;&quot;&quot;A touch-sensitive pin on the micro:bit.&quot;&quot;&quot;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
63 |
64 |     CAPACITIVE: int = 0
   |
help: Remove docstring

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:67:9
   |
65 |     RESISTIVE: int = 1
66 |
67 |     def is_touched(self) -&gt; bool:
   |         ^^^^^^^^^^
68 |         &quot;&quot;&quot;Check if pin is being touched.&quot;&quot;&quot;
69 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:68:9
   |
67 |     def is_touched(self) -&gt; bool:
68 |         &quot;&quot;&quot;Check if pin is being touched.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
69 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:69:9
   |
67 |     def is_touched(self) -&gt; bool:
68 |         &quot;&quot;&quot;Check if pin is being touched.&quot;&quot;&quot;
69 |         ...
   |         ^^^
70 |
71 |     def was_touched(self) -&gt; bool:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:71:9
   |
69 |         ...
70 |
71 |     def was_touched(self) -&gt; bool:
   |         ^^^^^^^^^^^
72 |         &quot;&quot;&quot;Check if pin was touched since last check.&quot;&quot;&quot;
73 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:72:9
   |
71 |     def was_touched(self) -&gt; bool:
72 |         &quot;&quot;&quot;Check if pin was touched since last check.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
73 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:73:9
   |
71 |     def was_touched(self) -&gt; bool:
72 |         &quot;&quot;&quot;Check if pin was touched since last check.&quot;&quot;&quot;
73 |         ...
   |         ^^^
74 |
75 |     def get_touches(self) -&gt; int:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:75:9
   |
73 |         ...
74 |
75 |     def get_touches(self) -&gt; int:
   |         ^^^^^^^^^^^
76 |         &quot;&quot;&quot;Get number of touches since last check.&quot;&quot;&quot;
77 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:76:9
   |
75 |     def get_touches(self) -&gt; int:
76 |         &quot;&quot;&quot;Get number of touches since last check.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
77 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:77:9
   |
75 |     def get_touches(self) -&gt; int:
76 |         &quot;&quot;&quot;Get number of touches since last check.&quot;&quot;&quot;
77 |         ...
   |         ^^^
78 |
79 |     def set_touch_mode(self, mode: int) -&gt; None:
   |
help: Remove unnecessary `...`

PYI048 Function body must contain exactly one statement
  --&gt; pin.pyi:79:9
   |
77 |         ...
78 |
79 |     def set_touch_mode(self, mode: int) -&gt; None:
   |         ^^^^^^^^^^^^^^
80 |         &quot;&quot;&quot;Set touch detection mode.&quot;&quot;&quot;
81 |         ...
   |

PYI021 [*] Docstrings should not be included in stubs
  --&gt; pin.pyi:80:9
   |
79 |     def set_touch_mode(self, mode: int) -&gt; None:
80 |         &quot;&quot;&quot;Set touch detection mode.&quot;&quot;&quot;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
81 |         ...
   |
help: Remove docstring

PIE790 [*] Unnecessary `...` literal
  --&gt; pin.pyi:81:9
   |
79 |     def set_touch_mode(self, mode: int) -&gt; None:
80 |         &quot;&quot;&quot;Set touch detection mode.&quot;&quot;&quot;
81 |         ...
   |         ^^^
   |
help: Remove unnecessary `...`

Found 53 errors.
[*] 35 fixable with the --fix option.
</code></pre>
</p>
</details> 

<p><code>ruff.toml</code>:</p>
<details><summary>Details</summary>
<p>

<pre><code class="language-toml">preview = true
unsafe-fixes = true
target-version = &quot;py313&quot;
line-length = 79
builtins = [&quot;_&quot;]

[analyze]
preview = true

[format]
preview = true
docstring-code-format = true
line-ending = &quot;lf&quot;
skip-magic-trailing-comma = true

[lint]
future-annotations = true
select = [&quot;ALL&quot;]
typing-extensions = false
unfixable = [&quot;T201&quot;]
ignore = [
    &quot;D206&quot;,
    &quot;E114&quot;,
    &quot;E111&quot;,
    &quot;W191&quot;,
    &quot;Q003&quot;,
    &quot;Q002&quot;,
    &quot;Q000&quot;,
    &quot;Q001&quot;,
    &quot;COM812&quot;,
    &quot;D208&quot;,
    &quot;E117&quot;,
    &quot;COM819&quot;,
    &quot;D300&quot;,
    &quot;D207&quot;,
    &quot;Q004&quot;,
    &quot;S404&quot;,
    &quot;S602&quot;,
    &quot;S603&quot;,
    &quot;D203&quot;,
    &quot;D212&quot;,
]

[lint.isort]
split-on-trailing-comma = false

[lint.extend-per-file-ignores]
&quot;**/__init__.py*&quot; = [&quot;F403&quot;, &quot;F401&quot;]
&quot;tests/**/*.py&quot; = [
    # at least this three should be fine in tests:
    &quot;S101&quot;, # asserts allowed in tests...
    &quot;ARG&quot;,  # Unused function args -&gt; fixtures nevertheless are functionally relevant...
    &quot;FBT&quot;,  # Don't care about booleans as positional arguments in tests, e.g. via @pytest.mark.parametrize()
    # The below are debateable
    &quot;PLR2004&quot;, # Magic value used in comparison, ...
    &quot;S311&quot;,    # Standard pseudo-random generators are not suitable for cryptographic purposes
]
</code></pre>
</p>
</details> 

<h3>Version</h3>
<p>0.12.9</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-19 14:27</div>
            <div class="timeline-body"><p>Thanks for the report! I think I've minimized the example to the following:</p>
<pre><code class="language-py"># try.pyi
def set_touch_mode(self, mode: int) -&gt; None:
    &quot;&quot;&quot;Set touch detection mode.&quot;&quot;&quot;
    ...
</code></pre>
<pre><code class="language-shell">ruff check try.pyi --fix --select PYI021,PIE790 --unsafe-fixes
</code></pre>
<p>PYI021 suggests removing the docstring and then PIE790 suggests removing the ellipsis, leaving an empty function body. PIE790 already has a fix <code>IsolationLevel</code> set, so we may be able to fix this by adding one to <code>PYI021</code> too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @ntBre on 2025-08-19 14:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Fix introduced a syntax error" to "Fix for `PIE790` and `PYI021` introduces a syntax error" by @ntBre on 2025-08-19 14:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/20010.html">astral-sh/ruff#20010</a> on 2025-08-20 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-09-24 21:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:16 UTC
    </footer>
</body>
</html>
