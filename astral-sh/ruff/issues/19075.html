<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLE001 false-positive with Loguru - astral-sh/ruff #19075</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>BLE001 false-positive with Loguru</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/19075">#19075</a>
        opened by <a href="https://github.com/jsleb333">@jsleb333</a>
        on 2025-07-01 17:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/jsleb333">@jsleb333</a> on 2025-07-01 17:01</div>
            <div class="timeline-body"><h3>Summary</h3>
<p><a href="https://docs.astral.sh/ruff/rules/blind-except/">BLE001</a> catches blind exceptions. There is an exception to the rule however, that bare excepts are not flagged when logging.exception is called. Unfortunately, this seems to only work with the built-in logging module. When using the more modern and fairly popular logging library <a href="https://github.com/Delgan/loguru">loguru</a>, the exception is not applied.</p>
<p>It would be nice to support loguru's logging as well in the exception of BLE001.</p>
<p><img src="https://github.com/user-attachments/assets/a96437ce-e566-460d-b213-3cc5052a8700" alt="Image" /></p>
<p><strong>Ruff version:</strong> 0.12.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-07-01 20:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @ntBre on 2025-07-01 20:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-01 20:54</div>
            <div class="timeline-body"><p>There are a few related issues around extending rules to support loguru (https://github.com/astral-sh/ruff/issues/13390, https://github.com/astral-sh/ruff/issues/16715, https://github.com/astral-sh/ruff/issues/13673). I think we've been a bit hesitant to extend support from the standard library to third-party libraries, but I think this definitely makes sense if we decide to support loguru in general!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jsleb333">@jsleb333</a> on 2025-07-02 14:21</div>
            <div class="timeline-body"><p>Thanks for your answer. I totally get why you'd be hesitant on this topic. There are some rules that applies to third-party libraries, like FastAPI and Airflow, so I'd figure I would propose this rule extension. If modifying BLE is not something that you would consider, maybe adding a loguru rule set would be a better solution.</p>
<p>Regardless whether you add support for loguru or not, your work on Ruff is greatly appreciated! Keep it up! :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-12-29 19:30</div>
            <div class="timeline-body"><p>I know this was quite a long time ago, but I came across this issue again today and realized that the issues I linked to were a bit misleading. BLE001 respects the <a href="https://docs.astral.sh/ruff/settings/#lint_logger-objects">logger-objects</a> config setting, so if you add <code>loguru.logger</code> then BLE001 should work as expected: https://play.ruff.rs/47dffe4a-2305-414c-9aad-074791de8cfe</p>
<p>For example:</p>
<pre><code class="language-toml">[lint]
logger-objects = [&quot;loguru.logger&quot;]
</code></pre>
<p>Thanks for the kind words!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
