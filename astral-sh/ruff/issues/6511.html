<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One or more modules are part of multiple import sections, including: `src`. - astral-sh/ruff #6511</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>One or more modules are part of multiple import sections, including: <code>src</code>.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/6511">#6511</a>
        opened by <a href="https://github.com/zhou13">@zhou13</a>
        on 2023-08-11 19:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zhou13">@zhou13</a></div>
            <div class="timeline-body"><p>When I run ruff against my codebase, I got the following:</p>
<pre><code>     warning: One or more modules are part of multiple import sections, including: `src`
</code></pre>
<p>It is not clear to me what it means and how to avoid this warning. Googling does not yield any meaningful results.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-11 19:04</div>
            <div class="timeline-body"><p>Are you able to include your Ruff configuration? Hard to help without more information.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">waiting-on-author</span> added by @charliermarsh on 2023-08-11 19:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zhou13">@zhou13</a> on 2023-08-11 19:05</div>
            <div class="timeline-body"><p>Sure:</p>
<pre><code>[tool.ruff]
line-length = 88
select = [&quot;F&quot;, &quot;E&quot;, &quot;W&quot;, &quot;I001&quot;] # pyflakes, pycodestyle, isort
ignore = [
    # E402 module level import not at top of file, very hard to workaround
    &quot;E402&quot;,
    # Line too long
    &quot;E501&quot;,
    # Do not use variables named 'I', 'O', or 'l'
    &quot;E741&quot;,
]
unfixable = [&quot;F401&quot;, &quot;F841&quot;]
extend-exclude = [
    &quot;*external*&quot;,
    &quot;third_party&quot;,
]
# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = &quot;^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$&quot;
src = [&quot;src&quot;, &quot;tests&quot;]

target-version = &quot;py310&quot;

[tool.ruff.per-file-ignores]
&quot;__init__.py&quot; = [&quot;F401&quot;]

[tool.ruff.isort]
known-first-party = [&quot;src&quot;]
known-local-folder = [&quot;src&quot;]
</code></pre>
<p>Ruff version:</p>
<pre><code>$ ruff --version
ruff 0.0.282
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-11 19:09</div>
            <div class="timeline-body"><pre><code class="language-toml">[tool.ruff.isort]
known-first-party = [&quot;src&quot;]
known-local-folder = [&quot;src&quot;]
</code></pre>
<p>This part here is telling Ruff that imports like <code>import src.foo</code> or <code>from src import bar</code> should be classified as both first-party and local-folder, so Ruff isn't sure how to classify them, since those are contradictory instructions. Is <code>src</code> a package, or is it the folder that contains your package? You should be able to remove these two lines; otherwise, you likely want to exclude <code>known-local-folder = [&quot;src&quot;]</code>, that's a very uncommon option as &quot;local folder&quot; is really meant for relative imports (those that start with a dot).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zhou13">@zhou13</a> on 2023-08-11 19:16</div>
            <div class="timeline-body"><p>Thank you so much! In my case my packages are under <code>src</code> folders so I removed these two lines. The warning is gone now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zhou13 on 2023-08-11 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">waiting-on-author</span> removed by @charliermarsh on 2023-08-11 19:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @charliermarsh on 2023-08-11 19:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-11 19:21</div>
            <div class="timeline-body"><p>Great! Hopefully this issue will help someone in the future too :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JayOfferdahl">@JayOfferdahl</a> on 2024-07-25 18:58</div>
            <div class="timeline-body"><blockquote>
<p>Great! Hopefully this issue will help someone in the future too :)</p>
</blockquote>
<p>It did! ðŸ˜„ Thanks</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:47:57 UTC
    </footer>
</body>
</html>
