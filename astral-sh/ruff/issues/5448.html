<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infer Python target version from Poetry dependencies - astral-sh/ruff #5448</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Infer Python target version from Poetry dependencies</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/5448">#5448</a>
        opened by <a href="https://github.com/MicaelJarniac">@MicaelJarniac</a>
        on 2023-06-29 19:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MicaelJarniac">@MicaelJarniac</a> on 2023-06-29 19:51</div>
            <div class="timeline-body"><p>Ruff is able to infer <code>tool.ruff.target-version</code> from <code>project.requires-python</code>, but not from Poetry's <code>tool.poetry.dependencies.python</code>.</p>
<p>Poetry is a rather large project, with <a href="https://github.com/python-poetry/poetry"><img src="https://img.shields.io/github/stars/python-poetry/poetry?style=flat-square" alt="Poetry stars" /></a> on GitHub, which is currently more than Ruff itself, at <a href="https://github.com/astral-sh/ruff"><img src="https://img.shields.io/github/stars/astral-sh/ruff?style=flat-square" alt="Ruff stars" /></a>, so I'd say supporting it would be very nice and help a lot of people.</p>
<ul>
<li>https://github.com/python-poetry/poetry</li>
<li>https://beta.ruff.rs/docs/settings/#target-version</li>
<li>https://python-poetry.org/docs/pyproject/#dependencies-and-dependency-groups</li>
</ul>
<p><code>pyproject.toml</code> using Poetry:</p>
<pre><code class="language-toml">[tool.poetry]
name = &quot;my-project&quot;
version = &quot;0.0.0&quot;
description = &quot;My project.&quot;
authors = [&quot;Author &lt;author@example.com&gt;&quot;]

[tool.poetry.dependencies]
python = &quot;^3.8&quot;

[tool.ruff]
target-version = &quot;py38&quot;  # This shouldn't be, necessary
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MicaelJarniac">@MicaelJarniac</a> on 2023-06-29 19:57</div>
            <div class="timeline-body"><p>I've been told this is a known issue (although I still can't find the actual issue here), that Poetry's team has said they'll eventually support <a href="https://peps.python.org/pep-0621/">PEP 621</a>, and that this feature wouldn't be necessary.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MicaelJarniac on 2023-06-29 19:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-06-30 00:03</div>
            <div class="timeline-body"><p>For posterity, this conversation happened in Discord via a Poetry maintainer: https://discord.com/channels/1039017663004942429/1070132471699607623/1107271647657996448</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/7957.html">astral-sh/ruff#7957</a> on 2023-10-14 18:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/10175.html">astral-sh/ruff#10175</a> on 2024-02-29 17:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:50 UTC
    </footer>
</body>
</html>
