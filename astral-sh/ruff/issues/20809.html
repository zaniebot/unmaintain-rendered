<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extend TD003 to allow &quot;Jira-style&quot; issue IDs on the same line - astral-sh/ruff #20809</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Extend TD003 to allow &quot;Jira-style&quot; issue IDs on the same line</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/20809">#20809</a>
        opened by <a href="https://github.com/simonpercivall">@simonpercivall</a>
        on 2025-10-11 09:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/simonpercivall">@simonpercivall</a> on 2025-10-11 09:15</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Rule: https://docs.astral.sh/ruff/rules/missing-todo-link/#missing-todo-link-td003</p>
<p>Extension to https://github.com/astral-sh/ruff/issues/8061, where this was changed for &quot;GitHub-style&quot; issue numbers, to allow them on the same line as the <code>TODO</code> comment.</p>
<h3>Current behavior</h3>
<p>For issue <em>numbers</em>, this is allowed:
<code># TODO: Move this part to the other place #6877</code></p>
<p>but this is not:
<code># TODO: Move this part to the other place RFFU-6877</code></p>
<h3>Outcome</h3>
<p>TD003 should accept issue IDs of the form <code>&lt;PREFIX&gt;-&lt;NUMBER&gt;</code> on the same line as the TODO comment, i.e.:</p>
<p><code># TODO: Move this part to the other place RFFU-6877</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-13 07:20</div>
            <div class="timeline-body"><p>I'm not that familiar with Jira style IDs but I think this is already supported:</p>
<pre><code class="language-py"># TODO: this link has no issue
# PROJ-123
</code></pre>
<p>https://play.ruff.rs/10e254a1-e087-4163-9ffe-32977ec0ec99</p>
<p>Unless your IDs use a different format</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> added by @MichaReiser on 2025-10-13 07:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/simonpercivall">@simonpercivall</a> on 2025-10-13 07:49</div>
            <div class="timeline-body"><p>Right, but that's not on the same line.</p>
<p>I edited the description to add an example. Sorry for being unclear in the description.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-13 08:15</div>
            <div class="timeline-body"><p>Oh right, I missed that part.</p>
<p>I'd be fine with this change. We added same-line support in https://github.com/astral-sh/ruff/pull/15519 and followed VS Code's set of rules. But I don't see why the set of supported codes between same and own line should differ (it only seems confusing). @dylwil3 do you remember why we decided to use two different regex sets?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-info</span> removed by @MichaReiser on 2025-10-13 08:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2025-10-13 08:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dylwil3">@dylwil3</a> on 2025-10-13 18:09</div>
            <div class="timeline-body"><p>I believe it was just to make the minimal change necessary in order to resolve the issue - probably I was more hesitant to make changes in general back then ðŸ˜„ I am certainly comfortable expanding the allowed forms</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by @MichaReiser on 2025-10-13 19:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/20880.html">astral-sh/ruff#20880</a> on 2025-10-15 03:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snailUlitka">@snailUlitka</a> on 2025-11-03 21:18</div>
            <div class="timeline-body"><p>Can I work on this issue?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-03 21:25</div>
            <div class="timeline-body"><p>It looks like @danparizher already has an open PR, but thank you for asking!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snailUlitka">@snailUlitka</a> on 2025-11-03 21:38</div>
            <div class="timeline-body"><p>Oh, I missed that, my bad! Thanks for pointing it out :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
