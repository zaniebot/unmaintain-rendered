<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`W505` reported as `E501` a.k.a doc-line-too-long - astral-sh/ruff #11100</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`W505` reported as `E501` a.k.a doc-line-too-long</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/11100">#11100</a>
        opened by <a href="https://github.com/Borda">@Borda</a>
        on 2024-04-23 07:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Borda">@Borda</a> on 2024-04-23 07:36</div>
            <div class="timeline-body"><p>it could be just my wrong understanding or expectations but running formatting on https://github.com/unit8co/darts/pull/2341, and they would like to make 88 line-length for code only and docstring differently, so I found <a href="https://docs.astral.sh/ruff/rules/doc-line-too-long/"><code>W505</code></a>
which I wanted to ignore, but it turned out it is not reported but <code>E501</code>. Well, <code>E501</code> is correct, but it is a superset, and <code>W505</code> would better describe the case...</p>
<p>using:</p>
<pre><code class="language-yaml">  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.4.1
    hooks:
      - id: ruff
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../unit8co/darts/pulls/2341.html">unit8co/darts#2341</a> on 2024-04-23 07:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-23 13:04</div>
            <div class="timeline-body"><p>Yes I believe it's intentional that we report E501 on any overlong lines, and W505 on overlong lines in documentation. I think this is by design. What's the problem that it's causing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Borda">@Borda</a> on 2024-04-23 13:45</div>
            <div class="timeline-body"><blockquote>
<p>I think this is by design. What's the problem that it's causing?</p>
</blockquote>
<p><code>W505</code> is expected but I get only <code>E501</code> instead... Even for the docstrings...
See https://github.com/unit8co/darts/actions/runs/8796510911/job/24139512314?pr=2341</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-23 15:08</div>
            <div class="timeline-body"><p>Oh, did you set https://docs.astral.sh/ruff/settings/#lint_pycodestyle_max-doc-length? If that's not set, the rule has no effect (mentioned in the rule docs: https://docs.astral.sh/ruff/rules/doc-line-too-long/).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @charliermarsh on 2024-04-23 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Borda">@Borda</a> on 2024-04-23 15:29</div>
            <div class="timeline-body"><p>Aha, no... Let me try and thanks for your quick response üôè</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Borda on 2024-04-23 20:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dyve">@dyve</a> on 2024-04-26 07:04</div>
            <div class="timeline-body"><p>@charliermarsh I still don't quite follow, would very much appreciate another explanation.</p>
<p>Given the example below, what ruff configuration (if any) would trigger only W505 on <code>Trigger 1</code> and <code>Trigger 2</code> (both docstrings) and only E501 on <code>Trigger 3</code>. The use case I have is that I actually want longer docstrings (up to 180 chars) to pass <code>ruff check</code>.</p>
<pre><code class="language-python">def foo():
    &quot;&quot;&quot;Trigger 1. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180.&quot;&quot;&quot;
    return &quot;foo&quot;


def bar():
    &quot;&quot;&quot;
    Return bar.

    Trigger 2. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180.
    &quot;&quot;&quot;
    return &quot;foo&quot;


def error():
    return &quot;Trigger 3. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180. Between 120 and 180.&quot;
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:52 UTC
    </footer>
</body>
</html>
