<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Versioned documentation - astral-sh/ruff #9507</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Versioned documentation</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/9507">#9507</a>
        opened by <a href="https://github.com/Nicholas-Autio-Mitchell">@Nicholas-Autio-Mitchell</a>
        on 2024-01-13 22:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Nicholas-Autio-Mitchell">@Nicholas-Autio-Mitchell</a></div>
            <div class="timeline-body">

<p>As always - thanks for the amazing tool ‚ù§Ô∏è</p>
<p>I have seen mention of Ruff lacking versioned documentation (e.g. <a href="https://github.com/astral-sh/ruff/pull/9018#issuecomment-1844096218">here</a> @MichaReiser), but cannot find if it is on the to-do list?</p>
<p>Reasoning for this question/feature-request: it can be time-consuming when working on projects that each use a different version, plus vscode devcontainers with the ruff extension that may ship with a different version. It is not always possible to simply update all versions, unfortunately. The end result is fixing TOML parsing errors by trial-and-error, because the deployed docs aren&#x27;t relevant for older versions.</p>
<hr>
<p>I don&#x27;t know if it has already been investigated(?), but it looks like there is a versioning capability that can be integrated into the existing mkdocs setup via <a href="https://github.com/jimporter/mike">mike</a>. Perhaps the following config could be added to the <code>mkdocs.generated.yml</code> file in the <a href="https://github.com/astral-sh/ruff/blob/ef2798f758e03fa659d1ba2973ddd59515400978/scripts/generate_mkdocs.py">generation script</a>?</p>
<pre><code>extra:
  version:
    provider: mike
</code></pre>
<p>There are then more options to only publish certain versions (releases) and set a default landing page version, a warning banner if the viewer is looking at an old version -- the regular stuff.</p>
<p><em>How hard can it be?‚Ñ¢</em>  üòÖ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-01-13 23:09</div>
            <div class="timeline-body"><p>It&#x27;s a little more complicated than just changing the config üò¨ you have to store the built website for each version somewhere. We&#x27;d probably want to do something like:</p>
<ul>
<li>Create an <code>astral-docs</code> repository to contain built documentation</li>
<li>On merge to main in <code>astral-docs</code>, deploy to production</li>
<li>Use <code>mike</code> to manage multiple versions of documentation on <code>astral-docs</code><ul>
<li>e.g. each version would have a directory</li>
</ul>
</li>
<li>On release in <code>ruff</code>, trigger a workflow in <code>astral-docs</code> to:<ul>
<li>Clone the latest ruff source</li>
<li>Build documentation</li>
<li>Open a pull request to <code>astral-docs@main</code> with the build</li>
</ul>
</li>
</ul>
<p>edit: I also described this process in <a href="https://github.com/astral-sh/ruff/issues/4159">astral-sh/ruff#4159</a>#issuecomment-1612215173 :D</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-14 02:04</div>
            <div class="timeline-body"><p>(Wondering if we should merge this with <a href="https://github.com/astral-sh/ruff/issues/4159">astral-sh/ruff#4159</a>?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-14 02:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/willingc">@willingc</a> on 2024-01-24 06:00</div>
            <div class="timeline-body"><p>Another option @charliermarsh @zanieb would be to move docs hosting to ReadTheDocs and let them maintain the versioning. Docs would build and preview on each PR. We did this for Jupyter.</p>
<img alt="Screenshot 2024-01-23 at 10 02 38‚ÄØPM" src="https://github.com/astral-sh/ruff/assets/2680980/d8a65370-e177-403d-ac23-95b44d49b4b8">

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaddkaka">@kaddkaka</a> on 2025-01-13 10:34</div>
            <div class="timeline-body"><p>On a similar note I have multiple times tried to figure out in which specific version of ruff that a rule was introduced or modified (bugfix, &quot;upgraded&quot; from nursery/preview to stable rule).</p>
<p>Having versioned documentation or some version information in each rule&#x27;s docpage would make this much easier than today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/corneliusroemer">@corneliusroemer</a> on 2025-07-15 16:47</div>
            <div class="timeline-body"><p>One thing that one needs to watch out for when hosting older versions is to properly configure the robots.txt to make search engines preferentially (or only) index the latest or stable version.</p>
<p>Otherwise Google and other search engines likes to occasionally send people to old versions of the docs which causes confusion. If versioned documentation lands, would be great to test this periodically.</p>
<p>@kaddkaka I&#x27;ve turned your good suggestion into a separate issue - as versioned docs are only a workaround for a proper implementation of what you&#x27;re after:</p>
<ul>
<li>#19365</li>
</ul>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:49 UTC
    </footer>
</body>
</html>
