<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] Build a renderer, on top of our vendored `annotate-snippets` crate, for the new diagnostics data model. - astral-sh/ruff #16506</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] Build a renderer, on top of our vendored `annotate-snippets` crate, for the new diagnostics data model.</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/16506">#16506</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2025-03-04 18:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-03-04 18:10</div>
            <div class="timeline-body"><p>This issue is going to be a bit under-specified, but essentially, with the new <code>Diagnostic</code> type defined in #16503, we'll want to provide a routine for rendering it into a pleasing output. This is a prerequisite for actually using this type inside of Red Knot.</p>
<p>We already have an existing renderer build on top of the old diagnostic types. I expect to be able to re-use <em>some</em> of that, but it was somewhat hamstrung by the more limited data model we were working with.</p>
<p>I believe the main challenge in building the renderer will be collecting annotations in a way that renders sensible. For example, multiple annotations might point to the same line of code. It will be the renderer's job to make sure we aren't showing the same line of code multiple times.</p>
<p>We will still use our vendored copy of <code>annotate-snippets</code>, so this shouldn't require doing the actual rendering logic for how to print code and annotations to a terminal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/16504.html">astral-sh/ruff#16504</a> on 2025-03-04 18:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Build a renderer, on top of our vendored `annotate-snippets` crate, for the new data model." to "[red-knot] Build a renderer, on top of our vendored `annotate-snippets` crate, for the new diagnostics data model." by @BurntSushi on 2025-03-04 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @BurntSushi on 2025-03-04 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by @BurntSushi on 2025-03-04 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @BurntSushi by @BurntSushi on 2025-03-04 18:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/16711.html">astral-sh/ruff#16711</a> on 2025-03-13 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-03-14 18:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-03-14 18:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:15 UTC
    </footer>
</body>
</html>
