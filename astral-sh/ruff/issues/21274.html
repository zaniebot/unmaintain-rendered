<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annotations block the FURB101 fix - astral-sh/ruff #21274</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Annotations block the FURB101 fix</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/21274">#21274</a>
        opened by <a href="https://github.com/dscorbett">@dscorbett</a>
        on 2025-11-04 15:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dscorbett">@dscorbett</a></div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Annotations block the fix for <a href="https://docs.astral.sh/ruff/rules/read-whole-file/"><code>read-whole-file</code> (FURB101)</a> but shouldnâ€™t. <a href="https://play.ruff.rs/8ab9fa5b-48fc-474c-ae0e-b71b5112dcb3">Example</a>:</p>
<pre><code class="language-console">$ cat &gt;furb101.py &lt;&lt;'# EOF'
with open(&quot;file.txt&quot;, encoding=&quot;utf-8&quot;) as f:
    contents: str = f.read()
# EOF

$ ruff --isolated check furb101.py --select FURB101 --preview --fix --output-format concise
furb101.py:1:6: FURB101 `open` and `read` should be replaced by `Path(&quot;file.txt&quot;).read_text(encoding=&quot;utf-8&quot;)`
Found 1 error.
</code></pre>
<p>The fix should produce:</p>
<pre><code class="language-python">import pathlib
contents: str = pathlib.Path(&quot;file.txt&quot;).read_text(encoding=&quot;utf-8&quot;)
</code></pre>
<h3>Version</h3>
<p>ruff 0.14.3 (8737a2d5f 2025-10-30)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by @ntBre on 2025-11-04 15:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-11-08 00:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:53:33 UTC
    </footer>
</body>
</html>
