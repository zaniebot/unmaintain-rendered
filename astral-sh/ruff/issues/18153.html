<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empty `ty` and `ruff` `__init__.py`s - astral-sh/ruff #18153</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Empty <code>ty</code> and <code>ruff</code> <code>__init__.py</code>s</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/18153">#18153</a>
        opened by <a href="https://github.com/bengsparks">@bengsparks</a>
        on 2025-05-17 15:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/bengsparks">@bengsparks</a> on 2025-05-17 15:32</div>
            <div class="timeline-body"><h3>Question</h3>
<p>Do the Python modules for ruff (and ty) only exist to distribute the resulting binary over PyPI?
I've seen that uv reexports the <a href="https://github.com/astral-sh/uv/blob/be1404df2a5429fdd661073b291528a047867c86/python/uv/__init__.py#L5">find_uv_bin function</a>, but the <a href="https://github.com/astral-sh/ruff/blob/main/python/ruff/__init__.py">ruff package</a> and <a href="https://github.com/astral-sh/ty/blob/main/python/ty/__init__.py">ty package</a> are empty.</p>
<p>Are there any upcoming plans to add <code>find_ty_bin</code> or <code>find_ruff_bin</code> to the respective <code>__init__.py</code>'s?
I'd be fine with adding a pull request to facilitate this ðŸ˜„</p>
<h3>Version</h3>
<p><code>ruff *</code>, <code>ty *</code> ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @bengsparks on 2025-05-17 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-17 15:35</div>
            <div class="timeline-body"><p>CC: @charliermarsh @zanieb</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/calumy">@calumy</a> on 2025-05-17 17:45</div>
            <div class="timeline-body"><p>ty appears to have this functionality already in place: https://github.com/astral-sh/ty/blob/main/python/ty/<strong>main</strong>.py</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bengsparks">@bengsparks</a> on 2025-05-17 17:47</div>
            <div class="timeline-body"><p>The functionality exists, but it is not exported, yes. This question is more about the export than the impl, i.e. adding
<code>__all__ = [ &quot;find_ruff_bin&quot; ]</code> and similar to each package</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-05-17 20:58</div>
            <div class="timeline-body"><p>I've never really wanted these to be a part of the public API, but we accepted a contribution moving it after requested.</p>
<p>See https://github.com/astral-sh/uv/issues/1677</p>
<p>We have gotten various bug reports about it following that, so I'm not <em>enthused</em> about the complexity added by exposing it.</p>
<p>Can you share more about your use-case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bengsparks">@bengsparks</a> on 2025-05-18 11:24</div>
            <div class="timeline-body"><p>Initially I had hoped for simply allowing calling the programs more easily, so that $PATH changes are not necessary for running the binaries, e.g. scripting <code>subprocess.run([&quot;ruff&quot;, &quot;format&quot;])</code> could become</p>
<pre><code class="language-py">ruff_bin = find_ruff_bin()
subprocess.run([ruff_bin, &quot;format&quot;])
</code></pre>
<p>Thinking further upon this, perhaps a type-safe CLI interface could be provided?</p>
<pre><code class="language-py">import ruff, pathlib

# identical to `ruff format --diff --target-version py313 ./python`
# runs `os.execvp` / `subprocess.run` under the hood
ruff.format(diff=True, target_version=TargetVersion.313, target_dir=pathlib.Path.cwd() / &quot;python&quot;)
</code></pre>
<p>Perhaps PyO3 bindings could be made, instead of calling the binary?
Many different paths to explore with this ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-18 15:27</div>
            <div class="timeline-body"><p>For exposing Ruff's API, see https://github.com/astral-sh/ruff/issues/659</p>
<blockquote>
<p>We have gotten various bug reports about it following that, so I'm not enthused about the complexity added by exposing it.</p>
</blockquote>
<p>could you share some references that help me make a decision here?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:37:28 UTC
    </footer>
</body>
</html>
