<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create `Display` implementation for `Settings` - astral-sh/ruff #8334</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Create <code>Display</code> implementation for <code>Settings</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/8334">#8334</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2023-10-30 02:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><p><code>ruff check . --show-settings</code> prints the settings using the <code>Debug</code> implementation. The result is that it prints our internal representation, which is hard to read (even impossible)</p>
<p>https://github.com/astral-sh/ruff/blob/fe485d791cc206391103cb44e53d9c77e2ab42fc/crates/ruff_cli/src/commands/show_settings.rs#L38</p>

Current output
<pre>
Resolved settings for: &quot;/Users/micha/astral/ruff/crates/flake8_to_ruff/examples/cryptography/pyproject.toml&quot;
Settings path: &quot;/Users/micha/astral/ruff/pyproject.toml&quot;
Settings {
    cache_dir: &quot;/Users/micha/astral/ruff/.ruff_cache&quot;,
    fix: false,
    fix_only: false,
    unsafe_fixes: Disabled,
    output_format: Text,
    show_fixes: false,
    show_source: false,
    file_resolver: FileResolverSettings {
        exclude: FilePatternSet {
            set: GlobSet {
                len: 25,
                strats: [
                    Extension(
                        ExtensionStrategy(
                            {},
                        ),
                    ),
                    BasenameLiteral(
                        BasenameLiteralStrategy(
                            {},
                        ),
                    ),
                    Literal(
                        LiteralStrategy(
                            {
                                [
                                    46,
                                    98,
                                    122,
                                    114,
                                ]: [
                                    0,
                                ],
                                [
                                    46,
                                    100,
                                    105,
                                    114,
                                    101,
                                    110,
                                    118,
                                ]: [
                                    1,
                                ],
                                [
                                    46,
                                    101,
                                    103,
                                    103,
                                    115,
                                ]: [
                                    2,
                                ],
                                [
                                    46,
                                    103,
                                    105,
                                    116,
                                ]: [
                                    3,
                                ],
                                [
                                    46,
                                    103,
                                    105,
                                    116,
                                    45,
                                    114,
                                    101,
                                    119,
                                    114,
                                    105,
                                    116,
                                    101,
                                ]: [
                                    4,
                                ],
                                [
                                    46,
                                    104,
                                    103,
                                ]: [
                                    5,
                                ],
                                [
                                    46,
                                    105,
                                    112,
                                    121,
                                    110,
                                    98,
                                    95,
                                    99,
                                    104,
                                    101,
                                    99,
                                    107,
                                    112,
                                    111,
                                    105,
                                    110,
                                    116,
                                    115,
                                ]: [
                                    6,
                                ],
                                [
                                    46,
                                    109,
                                    121,
                                    112,
                                    121,
                                    95,
                                    99,
                                    97,
                                    99,
                                    104,
                                    101,
                                ]: [
                                    7,
                                ],
                                [
                                    46,
                                    110,
                                    111,
                                    120,
                                ]: [
                                    8,
                                ],
                                [
                                    46,
                                    112,
                                    97,
                                    110,
                                    116,
                                    115,
                                    46,
                                    100,
                                ]: [
                                    9,
                                ],
                                [
                                    46,
                                    112,
                                    121,
                                    101,
                                    110,
                                    118,
                                ]: [
                                    10,
                                ],
                                [
                                    46,
                                    112,
                                    121,
                                    116,
                                    101,
                                    115,
                                    116,
                                    95,
                                    99,
                                    97,
                                    99,
                                    104,
                                    101,
                                ]: [
                                    11,
                                ],
                                [
                                    46,
                                    112,
                                    121,
                                    116,
                                    121,
                                    112,
                                    101,
                                ]: [
                                    12,
                                ],
                                [
                                    46,
                                    114,
                                    117,
                                    102,
                                    102,
                                    95,
                                    99,
                                    97,
                                    99,
                                    104,
                                    101,
                                ]: [
                                    13,
                                ],
                                [
                                    46,
                                    115,
                                    118,
                                    110,
                                ]: [
                                    14,
                                ],
                                [
                                    46,
                                    116,
                                    111,
                                    120,
                                ]: [
                                    15,
                                ],
                                [
                                    46,
                                    118,
                                    101,
                                    110,
                                    118,
                                ]: [
                                    16,
                                ],
                                [
                                    46,
                                    118,
                                    115,
                                    99,
                                    111,
                                    100,
                                    101,
                                ]: [
                                    17,
                                ],
                                [
                                    95,
                                    95,
                                    112,
                                    121,
                                    112,
                                    97,
                                    99,
                                    107,
                                    97,
                                    103,
                                    101,
                                    115,
                                    95,
                                    95,
                                ]: [
                                    18,
                                ],
                                [
                                    95,
                                    98,
                                    117,
                                    105,
                                    108,
                                    100,
                                ]: [
                                    19,
                                ],
                                [
                                    98,
                                    117,
                                    99,
                                    107,
                                    45,
                                    111,
                                    117,
                                    116,
                                ]: [
                                    20,
                                ],
                                [
                                    98,
                                    117,
                                    105,
                                    108,
                                    100,
                                ]: [
                                    21,
                                ],
                                [
                                    100,
                                    105,
                                    115,
                                    116,
                                ]: [
                                    22,
                                ],
                                [
                                    110,
                                    111,
                                    100,
                                    101,
                                    95,
                                    109,
                                    111,
                                    100,
                                    117,
                                    108,
                                    101,
                                    115,
                                ]: [
                                    23,
                                ],
                                [
                                    118,
                                    101,
                                    110,
                                    118,
                                ]: [
                                    24,
                                ],
                            },
                        ),
                    ),
                    Suffix(
                        SuffixStrategy {
                            matcher: AhoCorasick(
                                dfa::DFA(
                                D 000000: \x00 =&gt; 0
                                F 000001:
                                 &gt;000002: \x00 =&gt; 2
                                  000003: \x00 =&gt; 0
                                match kind: Standard
                                prefilter: false
                                state length: 4
                                pattern length: 0
                                shortest pattern length: 18446744073709551615
                                longest pattern length: 0
                                alphabet length: 1
                                stride: 1
                                byte classes: ByteClasses(0 =&gt; [0-255])
                                memory usage: 16
                                )
                                ,
                            ),
                            map: [],
                            longest: 0,
                        },
                    ),
                    Prefix(
                        PrefixStrategy {
                            matcher: AhoCorasick(
                                dfa::DFA(
                                D 000000: \x00 =&gt; 0
                                F 000001:
                                 &gt;000002: \x00 =&gt; 2
                                  000003: \x00 =&gt; 0
                                match kind: Standard
                                prefilter: false
                                state length: 4
                                pattern length: 0
                                shortest pattern length: 18446744073709551615
                                longest pattern length: 0
                                alphabet length: 1
                                stride: 1
                                byte classes: ByteClasses(0 =&gt; [0-255])
                                memory usage: 16
                                )
                                ,
                            ),
                            map: [],
                            longest: 0,
                        },
                    ),
                    RequiredExtension(
                        RequiredExtensionStrategy(
                            {},
                        ),
                    ),
                    Regex(
                        RegexSetStrategy {
                            matcher: RegexSet([]),
                            map: [],
                        },
                    ),
                ],
            },
            cache_key: 10629084736300657394,
        },
        extend_exclude: FilePatternSet {
            set: GlobSet {
                len: 2,
                strats: [
                    Extension(
                        ExtensionStrategy(
                            {},
                        ),
                    ),
                    BasenameLiteral(
                        BasenameLiteralStrategy(
                            {},
                        ),
                    ),
                    Literal(
                        LiteralStrategy(
                            {
                                [
                                    47,
                                    85,
                                    115,
                                    101,
                                    114,
                                    115,
                                    47,
                                    109,
                                    105,
                                    99,
                                    104,
                                    97,
                                    47,
                                    97,
                                    115,
                                    116,
                                    114,
                                    97,
                                    108,
                                    47,
                                    114,
                                    117,
                                    102,
                                    102,
                                    47,
                                    99,
                                    114,
                                    97,
                                    116,
                                    101,
                                    115,
                                    47,
                                    114,
                                    117,
                                    102,
                                    102,
                                    95,
                                    108,
                                    105,
                                    110,
                                    116,
                                    101,
                                    114,
                                    47,
                                    114,
                                    101,
                                    115,
                                    111,
                                    117,
                                    114,
                                    99,
                                    101,
                                    115,
                                ]: [
                                    0,
                                ],
                                [
                                    47,
                                    85,
                                    115,
                                    101,
                                    114,
                                    115,
                                    47,
                                    109,
                                    105,
                                    99,
                                    104,
                                    97,
                                    47,
                                    97,
                                    115,
                                    116,
                                    114,
                                    97,
                                    108,
                                    47,
                                    114,
                                    117,
                                    102,
                                    102,
                                    47,
                                    99,
                                    114,
                                    97,
                                    116,
                                    101,
                                    115,
                                    47,
                                    114,
                                    117,
                                    102,
                                    102,
                                    95,
                                    112,
                                    121,
                                    116,
                                    104,
                                    111,
                                    110,
                                    95,
                                    102,
                                    111,
                                    114,
                                    109,
                                    97,
                                    116,
                                    116,
                                    101,
                                    114,
                                    47,
                                    114,
                                    101,
                                    115,
                                    111,
                                    117,
                                    114,
                                    99,
                                    101,
                                    115,
                                ]: [
                                    1,
                                ],
                            },
                        ),
                    ),
                    Suffix(
                        SuffixStrategy {
                            matcher: AhoCorasick(
                                dfa::DFA(
                                D 000000: \x00 =&gt; 0
                                F 000001:
                                 &gt;000002: \x00 =&gt; 2
                                  000003: \x00 =&gt; 0
                                match kind: Standard
                                prefilter: false
                                state length: 4
                                pattern length: 0
                                shortest pattern length: 18446744073709551615
                                longest pattern length: 0
                                alphabet length: 1
                                stride: 1
                                byte classes: ByteClasses(0 =&gt; [0-255])
                                memory usage: 16
                                )
                                ,
                            ),
                            map: [],
                            longest: 0,
                        },
                    ),
                    Prefix(
                        PrefixStrategy {
                            matcher: AhoCorasick(
                                dfa::DFA(
                                D 000000: \x00 =&gt; 0
                                F 000001:
                                 &gt;000002: \x00 =&gt; 2
                                  000003: \x00 =&gt; 0
                                match kind: Standard
                                prefilter: false
                                state length: 4
                                pattern length: 0
                                shortest pattern length: 18446744073709551615
                                longest pattern length: 0
                                alphabet length: 1
                                stride: 1
                                byte classes: ByteClasses(0 =&gt; [0-255])
                                memory usage: 16
                                )
                                ,
                            ),
                            map: [],
                            longest: 0,
                        },
                    ),
                    RequiredExtension(
                        RequiredExtensionStrategy(
                            {},
                        ),
                    ),
                    Regex(
                        RegexSetStrategy {
                            matcher: RegexSet([]),
                            map: [],
                        },
                    ),
                ],
            },
            cache_key: 10840170291812037825,
        },
        force_exclude: false,
        include: FilePatternSet {
            set: GlobSet {
                len: 3,
                strats: [
                    Extension(
                        ExtensionStrategy(
                            {
                                [
                                    46,
                                    112,
                                    121,
                                    105,
                                ]: [
                                    1,
                                ],
                                [
                                    46,
                                    112,
                                    121,
                                ]: [
                                    0,
                                ],
                            },
                        ),
                    ),
                    BasenameLiteral(
                        BasenameLiteralStrategy(
                            {
                                [
                                    112,
                                    121,
                                    112,
                                    114,
                                    111,
                                    106,
                                    101,
                                    99,
                                    116,
                                    46,
                                    116,
                                    111,
                                    109,
                                    108,
                                ]: [
                                    2,
                                ],
                            },
                        ),
                    ),
                    Literal(
                        LiteralStrategy(
                            {},
                        ),
                    ),
                    Suffix(
                        SuffixStrategy {
                            matcher: AhoCorasick(
                                dfa::DFA(
                                D 000000: \x00 =&gt; 0
                                F 000001:
                                 &gt;000002: \x00 =&gt; 2
                                  000003: \x00 =&gt; 0
                                match kind: Standard
                                prefilter: false
                                state length: 4
                                pattern length: 0
                                shortest pattern length: 18446744073709551615
                                longest pattern length: 0
                                alphabet length: 1
                                stride: 1
                                byte classes: ByteClasses(0 =&gt; [0-255])
                                memory usage: 16
                                )
                                ,
                            ),
                            map: [],
                            longest: 0,
                        },
                    ),
                    Prefix(
                        PrefixStrategy {
                            matcher: AhoCorasick(
                                dfa::DFA(
                                D 000000: \x00 =&gt; 0
                                F 000001:
                                 &gt;000002: \x00 =&gt; 2
                                  000003: \x00 =&gt; 0
                                match kind: Standard
                                prefilter: false
                                state length: 4
                                pattern length: 0
                                shortest pattern length: 18446744073709551615
                                longest pattern length: 0
                                alphabet length: 1
                                stride: 1
                                byte classes: ByteClasses(0 =&gt; [0-255])
                                memory usage: 16
                                )
                                ,
                            ),
                            map: [],
                            longest: 0,
                        },
                    ),
                    RequiredExtension(
                        RequiredExtensionStrategy(
                            {},
                        ),
                    ),
                    Regex(
                        RegexSetStrategy {
                            matcher: RegexSet([]),
                            map: [],
                        },
                    ),
                ],
            },
            cache_key: 787281028166742793,
        },
        extend_include: FilePatternSet {
            set: GlobSet {
                len: 0,
                strats: [],
            },
            cache_key: 14492805990617963705,
        },
        respect_gitignore: true,
        project_root: &quot;/Users/micha/astral/ruff&quot;,
    },
    linter: LinterSettings {
        exclude: FilePatternSet {
            set: GlobSet {
                len: 0,
                strats: [],
            },
            cache_key: 14492805990617963705,
        },
        project_root: &quot;/Users/micha/astral/ruff&quot;,
        rules: RuleTable {
            enabled: {
                MultipleImportsOnOneLine,
                ModuleImportNotAtTopOfFile,
                MultipleStatementsOnOneLineColon,
                MultipleStatementsOnOneLineSemicolon,
                UselessSemicolon,
                NoneComparison,
                TrueFalseComparison,
                NotInTest,
                NotIsTest,
                TypeComparison,
                BareExcept,
                LambdaAssignment,
                AmbiguousVariableName,
                AmbiguousClassName,
                AmbiguousFunctionName,
                IOError,
                SyntaxError,
                UnusedImport,
                ImportShadowedByLoopVar,
                UndefinedLocalWithImportStar,
                LateFutureImport,
                UndefinedLocalWithImportStarUsage,
                UndefinedLocalWithNestedImportStarUsage,
                FutureFeatureNotDefined,
                PercentFormatInvalidFormat,
                PercentFormatExpectedMapping,
                PercentFormatExpectedSequence,
                PercentFormatExtraNamedArguments,
                PercentFormatMissingArgument,
                PercentFormatMixedPositionalAndNamed,
                PercentFormatPositionalCountMismatch,
                PercentFormatStarRequiresSequence,
                PercentFormatUnsupportedFormatCharacter,
                StringDotFormatInvalidFormat,
                StringDotFormatExtraNamedArguments,
                StringDotFormatExtraPositionalArguments,
                StringDotFormatMissingArguments,
                StringDotFormatMixingAutomatic,
                FStringMissingPlaceholders,
                MultiValueRepeatedKeyLiteral,
                MultiValueRepeatedKeyVariable,
                ExpressionsInStarAssignment,
                MultipleStarredExpressions,
                AssertTuple,
                IsLiteral,
                InvalidPrintSyntax,
                IfTuple,
                BreakOutsideLoop,
                ContinueOutsideLoop,
                YieldOutsideFunction,
                ReturnOutsideFunction,
                DefaultExceptNotLast,
                ForwardAnnotationSyntaxError,
                RedefinedWhileUnused,
                UndefinedName,
                UndefinedExport,
                UndefinedLocal,
                UnusedVariable,
                UnusedAnnotation,
                RaiseNotImplemented,
            },
            should_fix: {
                MultipleImportsOnOneLine,
                ModuleImportNotAtTopOfFile,
                MultipleStatementsOnOneLineColon,
                MultipleStatementsOnOneLineSemicolon,
                UselessSemicolon,
                NoneComparison,
                TrueFalseComparison,
                NotInTest,
                NotIsTest,
                TypeComparison,
                BareExcept,
                LambdaAssignment,
                AmbiguousVariableName,
                AmbiguousClassName,
                AmbiguousFunctionName,
                IOError,
                SyntaxError,
                UnusedImport,
                ImportShadowedByLoopVar,
                UndefinedLocalWithImportStar,
                LateFutureImport,
                UndefinedLocalWithImportStarUsage,
                UndefinedLocalWithNestedImportStarUsage,
                FutureFeatureNotDefined,
                PercentFormatInvalidFormat,
                PercentFormatExpectedMapping,
                PercentFormatExpectedSequence,
                PercentFormatExtraNamedArguments,
                PercentFormatMissingArgument,
                PercentFormatMixedPositionalAndNamed,
                PercentFormatPositionalCountMismatch,
                PercentFormatStarRequiresSequence,
                PercentFormatUnsupportedFormatCharacter,
                StringDotFormatInvalidFormat,
                StringDotFormatExtraNamedArguments,
                StringDotFormatExtraPositionalArguments,
                StringDotFormatMissingArguments,
                StringDotFormatMixingAutomatic,
                FStringMissingPlaceholders,
                MultiValueRepeatedKeyLiteral,
                MultiValueRepeatedKeyVariable,
                ExpressionsInStarAssignment,
                MultipleStarredExpressions,
                AssertTuple,
                IsLiteral,
                InvalidPrintSyntax,
                IfTuple,
                BreakOutsideLoop,
                ContinueOutsideLoop,
                YieldOutsideFunction,
                ReturnOutsideFunction,
                DefaultExceptNotLast,
                ForwardAnnotationSyntaxError,
                RedefinedWhileUnused,
                UndefinedName,
                UndefinedExport,
                UndefinedLocal,
                UnusedVariable,
                UnusedAnnotation,
                RaiseNotImplemented,
            },
        },
        per_file_ignores: [],
        extend_unsafe_fixes: {},
        extend_safe_fixes: {},
        target_version: Py37,
        preview: Disabled,
        explicit_preview_rules: false,
        allowed_confusables: {},
        builtins: [],
        dummy_variable_rgx: Regex(
            &quot;^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$&quot;,
        ),
        external: [],
        ignore_init_module_imports: false,
        logger_objects: [],
        namespace_packages: [],
        src: [
            &quot;/Users/micha/astral/ruff&quot;,
        ],
        tab_size: IndentWidth(
            4,
        ),
        line_length: LineLength(
            88,
        ),
        task_tags: [
            &quot;TODO&quot;,
            &quot;FIXME&quot;,
            &quot;XXX&quot;,
        ],
        typing_modules: [],
        flake8_annotations: Settings {
            mypy_init_return: false,
            suppress_dummy_args: false,
            suppress_none_returning: false,
            allow_star_arg_any: false,
            ignore_fully_untyped: false,
        },
        flake8_bandit: Settings {
            hardcoded_tmp_directory: [
                &quot;/tmp&quot;,
                &quot;/var/tmp&quot;,
                &quot;/dev/shm&quot;,
            ],
            check_typed_exception: false,
        },
        flake8_bugbear: Settings {
            extend_immutable_calls: [],
        },
        flake8_builtins: Settings {
            builtins_ignorelist: [],
        },
        flake8_comprehensions: Settings {
            allow_dict_calls_with_keyword_arguments: false,
        },
        flake8_copyright: Settings {
            notice_rgx: Regex(
                &quot;(?i)Copyright\\s+(\\(C\\)\\s+)?\\d{4}(-\\d{4})*&quot;,
            ),
            author: None,
            min_file_size: 0,
        },
        flake8_errmsg: Settings {
            max_string_length: 0,
        },
        flake8_gettext: Settings {
            functions_names: [
                &quot;_&quot;,
                &quot;gettext&quot;,
                &quot;ngettext&quot;,
            ],
        },
        flake8_implicit_str_concat: Settings {
            allow_multiline: true,
        },
        flake8_import_conventions: Settings {
            aliases: {
                &quot;matplotlib&quot;: &quot;mpl&quot;,
                &quot;matplotlib.pyplot&quot;: &quot;plt&quot;,
                &quot;pandas&quot;: &quot;pd&quot;,
                &quot;seaborn&quot;: &quot;sns&quot;,
                &quot;tensorflow&quot;: &quot;tf&quot;,
                &quot;networkx&quot;: &quot;nx&quot;,
                &quot;plotly.express&quot;: &quot;px&quot;,
                &quot;polars&quot;: &quot;pl&quot;,
                &quot;numpy&quot;: &quot;np&quot;,
                &quot;panel&quot;: &quot;pn&quot;,
                &quot;pyarrow&quot;: &quot;pa&quot;,
                &quot;altair&quot;: &quot;alt&quot;,
                &quot;tkinter&quot;: &quot;tk&quot;,
                &quot;holoviews&quot;: &quot;hv&quot;,
            },
            banned_aliases: {},
            banned_from: {},
        },
        flake8_pytest_style: Settings {
            fixture_parentheses: true,
            parametrize_names_type: Tuple,
            parametrize_values_type: List,
            parametrize_values_row_type: Tuple,
            raises_require_match_for: [
                Pattern {
                    original: &quot;BaseException&quot;,
                    tokens: [
                        Char(
                            &#x27;B&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;x&#x27;,
                        ),
                        Char(
                            &#x27;c&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;i&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;Exception&quot;,
                    tokens: [
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;x&#x27;,
                        ),
                        Char(
                            &#x27;c&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;i&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;ValueError&quot;,
                    tokens: [
                        Char(
                            &#x27;V&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;u&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;OSError&quot;,
                    tokens: [
                        Char(
                            &#x27;O&#x27;,
                        ),
                        Char(
                            &#x27;S&#x27;,
                        ),
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;IOError&quot;,
                    tokens: [
                        Char(
                            &#x27;I&#x27;,
                        ),
                        Char(
                            &#x27;O&#x27;,
                        ),
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;EnvironmentError&quot;,
                    tokens: [
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;v&#x27;,
                        ),
                        Char(
                            &#x27;i&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;m&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;socket.error&quot;,
                    tokens: [
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;c&#x27;,
                        ),
                        Char(
                            &#x27;k&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;.&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
            ],
            raises_extend_require_match_for: [],
            mark_parentheses: true,
        },
        flake8_quotes: Settings {
            inline_quotes: Double,
            multiline_quotes: Double,
            docstring_quotes: Double,
            avoid_escape: true,
        },
        flake8_self: Settings {
            ignore_names: [
                &quot;_make&quot;,
                &quot;_asdict&quot;,
                &quot;_replace&quot;,
                &quot;_fields&quot;,
                &quot;_field_defaults&quot;,
                &quot;_name_&quot;,
                &quot;_value_&quot;,
            ],
        },
        flake8_tidy_imports: Settings {
            ban_relative_imports: Parents,
            banned_api: {},
            banned_module_level_imports: [],
        },
        flake8_type_checking: Settings {
            strict: false,
            exempt_modules: [
                &quot;typing&quot;,
            ],
            runtime_evaluated_base_classes: [],
            runtime_evaluated_decorators: [],
        },
        flake8_unused_arguments: Settings {
            ignore_variadic_names: false,
        },
        isort: Settings {
            required_imports: {},
            combine_as_imports: false,
            force_single_line: false,
            force_sort_within_sections: false,
            case_sensitive: false,
            force_wrap_aliases: false,
            force_to_top: {},
            known_modules: KnownModules {
                known: [],
                has_submodules: false,
            },
            detect_same_package: true,
            order_by_type: true,
            relative_imports_order: FurthestToClosest,
            single_line_exclusions: {},
            split_on_trailing_comma: true,
            classes: {},
            constants: {},
            variables: {},
            no_lines_before: {},
            lines_after_imports: -1,
            lines_between_types: 0,
            forced_separate: [],
            section_order: [
                Known(
                    Future,
                ),
                Known(
                    StandardLibrary,
                ),
                Known(
                    ThirdParty,
                ),
                Known(
                    FirstParty,
                ),
                Known(
                    LocalFolder,
                ),
            ],
        },
        mccabe: Settings {
            max_complexity: 10,
        },
        pep8_naming: Settings {
            ignore_names: [
                Pattern {
                    original: &quot;setUp&quot;,
                    tokens: [
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;U&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;tearDown&quot;,
                    tokens: [
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;D&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;w&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;setUpClass&quot;,
                    tokens: [
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;U&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                        Char(
                            &#x27;C&#x27;,
                        ),
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;tearDownClass&quot;,
                    tokens: [
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;D&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;w&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;C&#x27;,
                        ),
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;setUpModule&quot;,
                    tokens: [
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;U&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                        Char(
                            &#x27;M&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;d&#x27;,
                        ),
                        Char(
                            &#x27;u&#x27;,
                        ),
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;tearDownModule&quot;,
                    tokens: [
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;D&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;w&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;M&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;d&#x27;,
                        ),
                        Char(
                            &#x27;u&#x27;,
                        ),
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;asyncSetUp&quot;,
                    tokens: [
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;y&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;c&#x27;,
                        ),
                        Char(
                            &#x27;S&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;U&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;asyncTearDown&quot;,
                    tokens: [
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;y&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;c&#x27;,
                        ),
                        Char(
                            &#x27;T&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;D&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;w&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;setUpTestData&quot;,
                    tokens: [
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;U&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                        Char(
                            &#x27;T&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;D&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;failureException&quot;,
                    tokens: [
                        Char(
                            &#x27;f&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;i&#x27;,
                        ),
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;u&#x27;,
                        ),
                        Char(
                            &#x27;r&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;E&#x27;,
                        ),
                        Char(
                            &#x27;x&#x27;,
                        ),
                        Char(
                            &#x27;c&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;p&#x27;,
                        ),
                        Char(
                            &#x27;t&#x27;,
                        ),
                        Char(
                            &#x27;i&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;longMessage&quot;,
                    tokens: [
                        Char(
                            &#x27;l&#x27;,
                        ),
                        Char(
                            &#x27;o&#x27;,
                        ),
                        Char(
                            &#x27;n&#x27;,
                        ),
                        Char(
                            &#x27;g&#x27;,
                        ),
                        Char(
                            &#x27;M&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;s&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;g&#x27;,
                        ),
                        Char(
                            &#x27;e&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
                Pattern {
                    original: &quot;maxDiff&quot;,
                    tokens: [
                        Char(
                            &#x27;m&#x27;,
                        ),
                        Char(
                            &#x27;a&#x27;,
                        ),
                        Char(
                            &#x27;x&#x27;,
                        ),
                        Char(
                            &#x27;D&#x27;,
                        ),
                        Char(
                            &#x27;i&#x27;,
                        ),
                        Char(
                            &#x27;f&#x27;,
                        ),
                        Char(
                            &#x27;f&#x27;,
                        ),
                    ],
                    is_recursive: false,
                },
            ],
            classmethod_decorators: [],
            staticmethod_decorators: [],
        },
        pycodestyle: Settings {
            max_line_length: LineLength(
                88,
            ),
            max_doc_length: None,
            ignore_overlong_task_comments: false,
        },
        pydocstyle: Settings {
            convention: None,
            ignore_decorators: {},
            property_decorators: {},
        },
        pyflakes: Settings {
            extend_generics: [],
        },
        pylint: Settings {
            allow_magic_value_types: [
                Str,
                Bytes,
            ],
            max_args: 5,
            max_returns: 6,
            max_bool_expr: 5,
            max_branches: 12,
            max_statements: 50,
            max_public_methods: 20,
        },
        pyupgrade: Settings {
            keep_runtime_typing: false,
        },
    },
    formatter: FormatterSettings {
        exclude: FilePatternSet {
            set: GlobSet {
                len: 0,
                strats: [],
            },
            cache_key: 14492805990617963705,
        },
        preview: Disabled,
        line_width: LineWidth(
            88,
        ),
        indent_style: Space,
        indent_width: IndentWidth(
            4,
        ),
        quote_style: Double,
        magic_trailing_comma: Respect,
        line_ending: Auto,
    },
}
</pre>


<p>We should instead use the Setting&#x27;s (not yet existing) <code>Display</code> implementation and ensure we print human readable values for each setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-30 02:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2023-10-30 03:02</div>
            <div class="timeline-body"><p>I agree. Do you think we should display it in a similar format <code>{ key: value }</code> or would it be more useful to have it in the toml format?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-30 03:06</div>
            <div class="timeline-body"><p>Not sure. TOML format is probably more work and might be misleading because users could assume it is the loaded configuration as stored on disk whereas it is the resolved/merged configuration. We would also need to retain whether the user used <code>tool.ruff</code> or <code>ruff</code>.</p>
<p>That&#x27;s why I would prefer a format that&#x27;s different enough for users to understand it is not their <code>.toml</code> file. Although it has the advantage that users are familiar with the toml syntax.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-31 21:42</div>
            <div class="timeline-body"><p>Related: https://github.com/astral-sh/ruff/discussions/8396</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-01 03:49</div>
            <div class="timeline-body"><p>There&#x27;s also some discussion on this interface in my <a href="https://www.notion.so/astral-sh/CLI-Design-b415f0ff925643f08bdb5be9bb949e83?pvs=4#bf65e78aaf6a4445915f035bab29a0fa">internal CLI document</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2023-11-01 04:14</div>
            <div class="timeline-body"><p>I see you&#x27;ve mentioned human readable format but do we also want it to be machine readable? Maybe it could be useful in some integrations.</p>
<p>Personally, I find the YAML format easier to read in such scenarios which showcases the hierarchy and the <code>key:value</code> pairs in a simplified format. GitHub uses it to display the settings for each action step:</p>
<pre><code>with:
    repository: astral-sh/ruff
    token: ***
    ssh-strict: true
    # ...
env:
    CARGO_INCREMENTAL: 0
    CARGO_NET_RETRY: 10
    # ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-01 04:19</div>
            <div class="timeline-body"><p>I think for this use-case a flat display would be best e.g.</p>
<pre><code>fix = true
formatter.preview = false
formatter.line-width = 88
....
</code></pre>
<p>This would be valid toml but different from the format generally used by users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2023-11-01 04:39</div>
            <div class="timeline-body"><p>Maybe it&#x27;s just me but I find that there are too many duplications in options at the same hierarchy </p>
<pre><code>fix: true
format:
  preview: false
  line-width: 88
...
</code></pre>
<p>Although this does mean that for options common to multiple sections, the section name is above a few lines where the flat display would be much better.</p>
<p>At the end, I&#x27;m fine with anything as long as it&#x27;s generally readable :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-01 04:49</div>
            <div class="timeline-body"><p>Yeah I worry the section name is lost in that format and the most important use-case for me is actually to be able to grep the result for the setting I care about which does not work with nesting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-01-11 03:52</div>
            <div class="timeline-body"><p>I&#x27;m looking into this - my plan is to use @zanieb&#x27;s formatting suggestion. Having a nested display would look nice, but I think <code>grep</code>-ability is more important in this specific case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/snowsignal">@snowsignal</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-01-11 03:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-01-12 19:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:44 UTC
    </footer>
</body>
</html>
