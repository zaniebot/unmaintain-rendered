```yaml
number: 8042
title: Split tuple at commas first
type: issue
state: closed
author: konstin
labels:
  - bug
  - formatter
assignees: []
created_at: 2023-10-18T10:06:34Z
updated_at: 2023-10-30T00:25:46Z
url: https://github.com/astral-sh/ruff/issues/8042
synced_at: 2026-01-10T01:56:49Z
```

# Split tuple at commas first

---

_Issue opened by @konstin on 2023-10-18 10:06_

Ours:
```python
def f():
    return self.get_filename() + ".csv", "text/csv", output.getvalue().encode(
        "utf-8----------------"
    )
```
Black:
```python
def f():
    return (
        self.get_filename() + ".csv",
        "text/csv",
        output.getvalue().encode("utf-8----------------"),
    )
```

---

_Label `bug` added by @konstin on 2023-10-18 10:06_

---

_Label `formatter` added by @konstin on 2023-10-18 10:06_

---

_Added to milestone `Formatter: Stable` by @MichaReiser on 2023-10-18 22:05_

---

_Comment by @MichaReiser on 2023-10-18 22:10_

Another example:

```python
if True:
    return self.get_filename() + ".csv", "text/csv", [
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        "utf-8----------------",
    ]
```

This works as expected when the tuple is parenthesized in the source. We may need to set the parenthesized context to Parenthesized.

---

_Assigned to @MichaReiser by @MichaReiser on 2023-10-24 10:16_

---

_Referenced in [astral-sh/ruff#8280](../../astral-sh/ruff/pulls/8280.md) on 2023-10-27 10:58_

---

_Closed by @MichaReiser on 2023-10-30 00:25_

---
