<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Split UP035 (deprecated-import) for aliases - astral-sh/ruff #7436</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Split UP035 (deprecated-import) for aliases</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/issues/7436">#7436</a>
        opened by <a href="https://github.com/auscompgeek">@auscompgeek</a>
        on 2023-09-16 13:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/auscompgeek">@auscompgeek</a></div>
            <div class="timeline-body"><p>I&#x27;d like to request the <code>deprecated-import</code> rule be split in two. Currently <code>UP035</code> flags two different kinds of deprecations:</p>
<ul>
<li>Names that have been moved, with a deprecated alias. Examples:<ul>
<li><code>collections.*</code> =&gt; <code>collections.abc.*</code></li>
<li><code>{pipes =&gt; shlex}.quote</code></li>
</ul>
</li>
<li>Types that are deprecated, considered equivalent by type checkers, but are different runtime values.<ul>
<li>This is everything in the <code>typing</code>, <code>typing_extensions</code> and <code>mypy_extensions</code> modules.</li>
</ul>
</li>
</ul>
<p>For the former group, fixing them is significantly safer, since the only visible side-effects would be that a module wasn&#x27;t imported (in the case of <code>pipes</code>), and a lack of a <code>DeprecationWarning</code>. It&#x27;d be rare for code to depend on those side-effects. The latter group can potentially be an unsafe change if something tries to observe the types directly at runtime though.</p>
<p>Ultimately I&#x27;d like to be able to autofix the moved names, whilst being able to separately flag (with a suggested fix) the typing changes that would be observable at runtime.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 03:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 03:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 03:40</div>
            <div class="timeline-body"><p>Once we have <a href="https://github.com/astral-sh/ruff/issues/4181">astral-sh/ruff#4181</a>, I could see us making the former rules automatic fixes and the latter suggested. I&#x27;m hesitant to split these into two rules since the difference between them is so subtle, and more rules means more configuration burden for users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> removed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 03:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-06 15:29</div>
            <div class="timeline-body"><p>We now have support for applicability but this looks like a significant project to update â€” contributions welcome here!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-06 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tjkuson">@tjkuson</a> on 2023-11-17 14:41</div>
            <div class="timeline-body"><p>I&#x27;m having a go at this, should have a PR this weekend (depending on how long it takes to determine the safety of each fix)!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:42 UTC
    </footer>
</body>
</html>
