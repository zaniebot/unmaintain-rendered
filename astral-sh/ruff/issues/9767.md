```yaml
number: 9767
title: new rule - useless if statement
type: issue
state: open
author: DetachHead
labels:
  - rule
assignees: []
created_at: 2024-02-02T00:21:50Z
updated_at: 2025-05-11T13:16:23Z
url: https://github.com/astral-sh/ruff/issues/9767
synced_at: 2026-01-10T01:56:51Z
```

# new rule - useless if statement

---

_Issue opened by @DetachHead on 2024-02-02 00:21_

ruff should be able to detect if the code on both sides of an if statement are identical, and report it as unnecessary 
```py
if 1: # error: both sides of the if statement are the same
    print(1)
else:
    print(1)

asdf = 1 if bool() else 1 # error: both sides of the if expression are the same
```

---

_Comment by @sanxiyn on 2024-02-02 07:52_

This is similar to `if-with-same-arms` (SIM114) in `flake8-simplify`, so I filed a rule request upstream: MartinThoma/flake8-simplify#192.

---

_Label `rule` added by @AlexWaygood on 2024-02-02 11:02_

---

_Referenced in [PaddlePaddle/Paddle#66004](../../PaddlePaddle/Paddle/pulls/66004.md) on 2024-07-12 17:25_

---

_Comment by @DetachHead on 2025-01-23 12:21_

[`useless-if-else` (`RUF034`)](https://docs.astral.sh/ruff/rules/useless-if-else/) covers this for the second example (if expressions) but not the first example (if statements)

---

_Comment by @jack-mcivor on 2025-05-09 10:49_

This is somewhat related to https://github.com/astral-sh/ruff/issues/13929 (Detect empty conditional statements)

---

_Comment by @jack-mcivor on 2025-05-09 10:52_

> detect if the code on both sides of an if statement are identical

Ideally it could also detect duplicated code blocks across all branches (looking into elifs also). An auto-fix to merge these would be good.

```python
if condition1:
    x = 1
elif condition2:
    x = 2
else:
    x = 2
```
Becomes
```python
if condition1:
    x = 1
else:
    x = 2
```

It seems like this could be included in the existing rule [useless-if-else (RUF034)](https://docs.astral.sh/ruff/rules/useless-if-else/#useless-if-else-ruf034)
> Checks for useless if-else conditions with identical arms.

---

_Renamed from "new rule - useless if statement/expression" to "new rule - useless if statement" by @DetachHead on 2025-05-11 13:16_

---
