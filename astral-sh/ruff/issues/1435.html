<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F401 different noqa behavior from flake8 - astral-sh/ruff #1435</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>F401 different noqa behavior from flake8</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/1435">#1435</a>
        opened by <a href="https://github.com/TylerYep">@TylerYep</a>
        on 2022-12-29 07:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/TylerYep">@TylerYep</a> on 2022-12-29 07:00</div>
            <div class="timeline-body"><p>I have the following code, which contains intentionally unused imports (used for bringing fixtures into pytest scope)</p>
<p>In flake8, I am able to ignore all unused imports by putting a <code># noqa</code> on the first line. However, ruff checking the same code errors and wants me to add # noqa to every line:</p>
<pre><code>from tests.fixtures import (  # noqa
    extra_small,
    small,
    medium,
    large,
    xxl,
    super_super_super_mega_xxl,
)
</code></pre>
<pre><code>tests/conftest.py:2:5: F401 `tests.fixtures.extra_small` imported but unused
tests/conftest.py:3:5: F401 `tests.fixtures.small` imported but unused
tests/conftest.py:4:5: F401 `tests.fixtures.medium` imported but unused
tests/conftest.py:5:5: F401 `tests.fixtures.large` imported but unused
tests/conftest.py:6:5: F401 `tests.fixtures.xxl` imported but unused
tests/conftest.py:7:5: F401 `tests.fixtures.super_super_super_mega_xxl` imported but unused
Found 6 error(s).
6 potentially fixable with the --fix option.
</code></pre>
<p>The code passes in both flake8 and ruff if I do this, but it's a bit verbose:</p>
<pre><code>from tests.fixtures import (
    extra_small,  # noqa
    small,  # noqa
    medium,  # noqa
    large,  # noqa
    xxl,  # noqa
    super_super_super_mega_xxl,  # noqa
)
</code></pre>
<p>Wanted to call out the difference in behavior here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-29 12:23</div>
            <div class="timeline-body"><p>Thank you for this! It's the one known point of <code># noqa</code> incompatibility. I want to fix, but it requires some special-casing.</p>
<p>(Just closing as it's a duplicate of #1052.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-29 12:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:07 UTC
    </footer>
</body>
</html>
