<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Infinite loop] I002 and UP026 - astral-sh/ruff #19842</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[Infinite loop] I002 and UP026</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/astral-sh/ruff/issues/19842">#19842</a>
        opened by <a href="https://github.com/dscorbett">@dscorbett</a>
        on 2025-08-09 13:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/dscorbett">@dscorbett</a> on 2025-08-09 13:35</div>
            <div class="timeline-body"><h3>Summary</h3>
<p>Ruff fails to converge when <a href="https://docs.astral.sh/ruff/rules/missing-required-import/"><code>missing-required-import</code> (I002)</a> and <a href="https://docs.astral.sh/ruff/rules/deprecated-mock-import/"><code>deprecated-mock-import</code> (UP026)</a> are selected and <code>import mock</code> is required. <a href="https://play.ruff.rs/5daddb7d-af26-4fa7-9004-09f500553946">Example</a>:</p>
<pre><code class="language-console">$ echo 1 | ruff --isolated check - --select I002,UP026 --config 'lint.isort.required-imports=[&quot;import mock&quot;]' --fix

error: Failed to converge after 100 iterations.

This indicates a bug in Ruff. If you could open an issue at:

    https://github.com/astral-sh/ruff/issues/new?title=%5BInfinite%20loop%5D

...quoting the contents of `-`, the rule codes I002, along with the `pyproject.toml` settings and executed command, we'd be very appreciative!

from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
from unittest import mock
1
-:1:1: I002 Missing required import: `import mock`
Found 101 errors (100 fixed, 1 remaining).
[*] 1 fixable with the `--fix` option.
</code></pre>
<h3>Version</h3>
<p>ruff 0.12.8 (f51a228f0 2025-08-07)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @dylwil3 on 2025-08-11 04:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-08-11 13:10</div>
            <div class="timeline-body"><p>Related: https://github.com/astral-sh/ruff/pull/19413</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/TaKO8Ki">@TaKO8Ki</a> on 2025-09-08 10:17</div>
            <div class="timeline-body"><p>I will work on this one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @TaKO8Ki by @ntBre on 2025-09-08 13:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/20327.html">astral-sh/ruff#20327</a> on 2025-09-10 10:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dylwil3 on 2025-09-12 20:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:34:55 UTC
    </footer>
</body>
</html>
