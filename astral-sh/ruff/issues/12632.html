<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New rule: fast-api-unused-path-parameter - astral-sh/ruff #12632</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New rule: fast-api-unused-path-parameter</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/issues/12632">#12632</a>
        opened by <a href="https://github.com/Matthieu-LAURENT39">@Matthieu-LAURENT39</a>
        on 2024-08-02 14:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Matthieu-LAURENT39">@Matthieu-LAURENT39</a> on 2024-08-02 14:35</div>
            <div class="timeline-body"><p>Keywords: fastapi, path parameters</p>
<p>Hello, i've been using ruff for a while and i'm really loving it.
I saw that recently some FastAPI rules have been added, and i would like to suggest a new one, <code>fast-api-unused-path-parameter</code>.
It's pretty simple, it verifies that when defining a route that takes in path parameters, the function has matching arguments.</p>
<p>For example, the following code would trigger the rule, as we define a path parameter named &quot;thing_id&quot;, but the function doesn't have an argument named &quot;thing_id&quot;:</p>
<pre><code class="language-py">from fastapi import FastAPI

app = FastAPI()

@app.get(&quot;/things/{thing_id}&quot;)
async def read_thing(id: int, query: str = None):
    return {&quot;thing_id&quot;: id, &quot;query&quot;: query}
</code></pre>
<p>Also of note is that it should ignore any characters after a <code>:</code> in the path parameter name, so this wouldn't trigger the rule:</p>
<pre><code class="language-py">...

@app.get(&quot;/place/{my_path:path}&quot;)
def read_path(my_path):
    ...
</code></pre>
<p>If this rule is a good fit for ruff, i'd love to make a PR to implement it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "New rule: fast-api-unused-path-parameters" to "New rule: fast-api-unused-path-parameter" by @Matthieu-LAURENT39 on 2024-08-02 14:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2024-08-03 12:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mattmess1221">@mattmess1221</a> on 2024-08-17 00:10</div>
            <div class="timeline-body"><p>How should routes with path parameters consumed in dependencies behave? Example:</p>
<pre><code class="language-py">def foo(bar: Annotated[str, Path()]):
  print(bar)


@app.get(&quot;/foo/{bar}&quot;, dependencies=[Depends(foo)])
async def do_foo():
    pass
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-17 06:30</div>
            <div class="timeline-body"><p>Thanks for proposing a new rule.</p>
<p>Can you help me understand what's still missing from https://github.com/astral-sh/ruff/pull/12638 that shipped as preview rule in 0.6.1?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-01-07 14:52</div>
            <div class="timeline-body"><p>Implemented in https://github.com/astral-sh/ruff/pull/12638</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-01-07 14:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 11:34:32 UTC
    </footer>
</body>
</html>
