<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warnings about incompatible rules with `--select ALL` - astral-sh/ruff #8470</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Warnings about incompatible rules with `--select ALL`</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/astral-sh/ruff/issues/8470">#8470</a>
        opened by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a>
        on 2023-11-03 13:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a> on 2023-11-03 13:08</div>
            <div class="timeline-body"><p>I'd rather not see warnings about incompatible rules with <code>--select ALL</code>. Do the following warnings about incompatible rules appear by default on purpose with <code>--select ALL</code>?</p>
<ul>
<li><pre><code class="language-python">&quot;&quot;&quot;Documentation.&quot;&quot;&quot;
</code></pre>
</li>
<li><pre><code>$ ruff --isolated --select ALL file.py
warning: `one-blank-line-before-class` (D203) and `no-blank-line-before-class` (D211) are incompatible. Ignoring `one-blank-line-before-class`.
warning: `multi-line-summary-first-line` (D212) and `multi-line-summary-second-line` (D213) are incompatible. Ignoring `multi-line-summary-second-line`.
$ 
</code></pre>
</li>
<li><pre><code>$ ruff --version
ruff 0.1.3
</code></pre>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "warning about incompatible rules with `--select ALL`" to "warnings about incompatible rules with `--select ALL`" by @DimitriPapadopoulos on 2023-11-03 13:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "warnings about incompatible rules with `--select ALL`" to "Warnings about incompatible rules with `--select ALL`" by @DimitriPapadopoulos on 2023-11-03 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-03 13:45</div>
            <div class="timeline-body"><p>If you don't want the warnings, I'd recommend explicitly ignoring two of those rules (whichever you do not want). In general, we do not recommend usage of <code>--select ALL</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @zanieb on 2023-11-03 13:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 13:47</div>
            <div class="timeline-body"><p>Yeah, these are intended, because the rules are legitimately in conflict. Ideally, we will resolve this when do recategorize the rules in the future. At present, the only other option I see is to straight-up omit those two specific rules (<code>D203</code> and <code>D213</code>) from <code>ALL</code>, which could also cause confusion in the other direction (though would be much more rare).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 13:47</div>
            <div class="timeline-body"><p>(We could also consider removing those rules.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a> on 2023-11-03 13:48</div>
            <div class="timeline-body"><p>It makes sense. However, newcomers who start with <code>ruff check --help</code> see:</p>
<pre><code>$ ruff check -h
Run Ruff on the given files or directories (default)
[...]
Rule selection:
      --select &lt;RULE_CODE&gt;
          Comma-separated list of rule codes to enable (or ALL, to enable all rules)
      --ignore &lt;RULE_CODE&gt;
          Comma-separated list of rule codes to disable
[...]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a> on 2023-11-03 13:58</div>
            <div class="timeline-body"><p>They might be tempted to use option <code>--select ALL</code>. The result is that they see these warnings, which do make sense but might be disturbing for first time users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-11-03 14:48</div>
            <div class="timeline-body"><p>It could make sense to remove <code>ALL</code> from the CLI help. It isn't our recommended way of using ruff and is overused.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-03 14:55</div>
            <div class="timeline-body"><p>@MichaReiser I think that may make sense after recategorization</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-11-03 15:02</div>
            <div class="timeline-body"><blockquote>
<p>@MichaReiser I think that may make sense after recategorization</p>
</blockquote>
<p>What's your motivation for waiting until after recatogorization? I'm only proposing to remove it from the help text to promote it less. It may also be the case that we won't have a way to run all rules after recategorization (without listing all categories)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-03 15:03</div>
            <div class="timeline-body"><p>@MichaReiser I see the presence of sensible categories as essential to replace <code>ALL</code>. Until then, I worry we'll just get more questions if we remove the hint.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 16:33</div>
            <div class="timeline-body"><p>I don't think we should remove it from help, etc., until we have a reasonable alternative.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 16:33</div>
            <div class="timeline-body"><p>I <em>do</em> think we could consider removing these rules from <code>ALL</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-03 16:57</div>
            <div class="timeline-body"><p>I don't have a strong preference on removal from <code>ALL</code> but find excluding rules from <code>ALL</code> a weird pattern.</p>
<p>I'd rather close in favor of https://github.com/astral-sh/ruff/issues/1774</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 16:58</div>
            <div class="timeline-body"><p>It's weird, but so is the behavior here, and I do dislike that it's <em>so</em> common to run into these warnings when the rules themselves are <em>so</em> uncommon.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tmeiczin">@tmeiczin</a> on 2023-11-09 16:59</div>
            <div class="timeline-body"><p>We have over a million lines of code and currently use <code>ALL</code>  and disable about 40 rules (0.1.5 without preview). Without the <code>ALL</code> would we need to explicitly enable all 700 something rules? Enable all the categories, then specify individual ones we want disabled? That seems like it would get awkward? Or maybe I'm just selecting them wrong as it is?</p>
<p>I think many of the formatters and linters (maybe to a lesser extent) are going to be somewhat opinionated. I'm ok with that provided there is a reasonable amount of flexibility to alter the behavior to suit my projects. Maybe in addition to <code>ALL</code> add a <code>DEFAULT</code> which is a curated selection and chooses or disables rules with conflicts. Or possibly something like a <code>--select-conflict-defaults</code> which allows to specify which rules are enabled in case of conflicts.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-11-27 23:33</div>
            <div class="timeline-body"><blockquote>
<p>We have over a million lines of code and currently use ALL and disable about 40 rules (0.1.5 without preview). Without the ALL would we need to explicitly enable all 700 something rules? Enable all the categories, then specify individual ones we want disabled? That seems like it would get awkward? Or maybe I'm just selecting them wrong as it is?</p>
</blockquote>
<p>You would have to enable all categories that aren't enabled by default, which should only be a few (&lt;10). The categories we're thinking about are similar to <a href="https://doc.rust-lang.org/clippy/">clippy's</a> but with a few additional ones (e.g. <code>format</code> for formatting related lints)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-12-27 01:35</div>
            <div class="timeline-body"><p>Without enabling <code>ALL</code>, these still come in conflict if you enable the <code>D</code> category. I'd rather fully opposite rules like these be configurable instead. (combine the codes and use a config option to decide on the behaviour).</p>
<p>That would also make more sense in the context of shared configs https://github.com/astral-sh/ruff/issues/12352</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/15171.html">astral-sh/ruff#15171</a> on 2024-12-28 21:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nunokaeru">@nunokaeru</a> on 2025-04-08 09:08</div>
            <div class="timeline-body"><blockquote>
<p>If you don't want the warnings, I'd recommend explicitly ignoring two of those rules (whichever you do not want). In general, we do not recommend usage of <code>--select ALL</code>.</p>
</blockquote>
<p>In a codebase I work on we have this configuration (partial), however I still get the warning even when I ignore all documentation:</p>
<pre><code class="language-toml">[tool.ruff]
line-length = 120

# Supported rules https://github.com/charliermarsh/ruff/#supported-rules
lint.select = [&quot;ALL&quot;]

lint.ignore = [
    &quot;ANN&quot;,    # flake8-annotations: Allow untyped code
    &quot;E501&quot;,   # Line lenght higher than 88 characters
    &quot;D&quot;,      # pydocstyle: Allow undocummented code
</code></pre>
<pre><code class="language-log">[nuno@fedora xochitl]$ uvx ruff check .
warning: `multi-line-summary-first-line` (D212) and `multi-line-summary-second-line` (D213) are incompatible. Ignoring `multi-line-summary-second-line`.
All checks passed!
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-08 09:18</div>
            <div class="timeline-body"><p>@nm-remarkable</p>
<p>I just tried</p>
<pre><code>[tool.ruff]
line-length = 120

# Supported rules https://github.com/charliermarsh/ruff/#supported-rules
lint.select = [&quot;ALL&quot;]

lint.ignore = [
    &quot;ANN&quot;,    # flake8-annotations: Allow untyped code
    &quot;E501&quot;,   # Line lenght higher than 88 characters
    &quot;D&quot;,      # pydocstyle: Allow undocummented code
]

lint.pydocstyle.convention = &quot;google&quot;
</code></pre>
<p>(with or without the <code>pydocstyle.convention</code> line) and I'm unable to reproduce. Could you open a new issue and provide more details (full ruff configuration, what ruff version are you using)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/17313.html">astral-sh/ruff#17313</a> on 2025-04-09 13:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/czechnology">@czechnology</a> on 2025-08-01 10:01</div>
            <div class="timeline-body"><p>I wish that Ruff would include some default all-covering family of rules without the conflicting rules.
I do like to take advantage of all the advice that the rules give me and only explicitly disable the ones which don't work for me.</p>
<p>However, right now if I <code>select = [&quot;ALL&quot;]</code>, I need to exclude quite many individual conflicting rules and repeat this in all our projects.</p>
<p>Please add something like <code>select = [&quot;ALL_COMPAT&quot;]</code> or <code>select = [&quot;STRICT&quot;]</code> to easily enable all rules without any conflicts. If there is something to pick (like <code>D203</code> <em>xor</em> <code>D211</code>, or <code>D212</code> <em>xor</em> <code>D213</code>), just pick one! Let us have a default default to follow.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:11 UTC
    </footer>
</body>
</html>
