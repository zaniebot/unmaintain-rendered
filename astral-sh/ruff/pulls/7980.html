<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bump regex from 1.9.6 to 1.10.1 - astral-sh/ruff #7980</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Bump regex from 1.9.6 to 1.10.1</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/7980">#7980</a>
        opened by <a href="https://github.com/dependabot">@dependabot</a>
        on 2023-10-16 08:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dependabot">@dependabot</a></div>
            <div class="timeline-body"><p>Bumps <a href="https://github.com/rust-lang/regex">regex</a> from 1.9.6 to 1.10.1.</p>
<details>
<summary>Changelog</summary>
<p><em>Sourced from <a href="https://github.com/rust-lang/regex/blob/master/CHANGELOG.md">regex's changelog</a>.</em></p>
<blockquote>
<h1>1.10.1 (2023-10-14)</h1>
<p>This is a new patch release with a minor increase in the number of valid
patterns and a broadening of some literal optimizations.</p>
<p>New features:</p>
<ul>
<li><a href="https://github.com/rust-lang/regex/commit/04f5d7be4efc542864cc400f5d43fbea4eb9bab6">FEATURE 04f5d7be</a>:
Loosen ASCII-compatible rules such that regexes like <code>(?-u:â˜ƒ)</code> are now allowed.</li>
</ul>
<p>Performance improvements:</p>
<ul>
<li><a href="https://github.com/rust-lang/regex/commit/8a8d599f9d2f2d78e9ad84e4084788c2d563afa5">PERF 8a8d599f</a>:
Broader the reverse suffix optimization to apply in more cases.</li>
</ul>
<h1>1.10.0 (2023-10-09)</h1>
<p>This is a new minor release of <code>regex</code> that adds support for start and end
word boundary assertions. That is, <code>\&lt;</code> and <code>\&gt;</code>. The minimum supported Rust
version has also been raised to 1.65, which was released about one year ago.</p>
<p>The new word boundary assertions are:</p>
<ul>
<li><code>\&lt;</code> or <code>\b{start}</code>: a Unicode start-of-word boundary (<code>\W|\A</code> on the left,
<code>\w</code> on the right).</li>
<li><code>\&gt;</code> or <code>\b{end}</code>: a Unicode end-of-word boundary (<code>\w</code> on the left, <code>\W|\z</code>
on the right)).</li>
<li><code>\b{start-half}</code>: half of a Unicode start-of-word boundary (<code>\W|\A</code> on the
left).</li>
<li><code>\b{end-half}</code>: half of a Unicode end-of-word boundary (<code>\W|\z</code> on the
right).</li>
</ul>
<p>The <code>\&lt;</code> and <code>\&gt;</code> are GNU extensions to POSIX regexes. They have been added
to the <code>regex</code> crate because they enjoy somewhat broad support in other regex
engines as well (for example, vim). The <code>\b{start}</code> and <code>\b{end}</code> assertions
are aliases for <code>\&lt;</code> and <code>\&gt;</code>, respectively.</p>
<p>The <code>\b{start-half}</code> and <code>\b{end-half}</code> assertions are not found in any
other regex engine (although regex engines with general look-around support
can certainly express them). They were added principally to support the
implementation of word matching in grep programs, where one generally wants to
be a bit more flexible in what is considered a word boundary.</p>
<p>New features:</p>
<ul>
<li>[FEATURE <a href="https://redirect.github.com/rust-lang/regex/issues/469">#469</a>](<a href="https://redirect.github.com/rust-lang/regex/issues/469">rust-lang/regex#469</a>):
Add support for <code>\&lt;</code> and <code>\&gt;</code> word boundary assertions.</li>
<li>[FEATURE(regex-automata) <a href="https://redirect.github.com/rust-lang/regex/issues/1031">#1031</a>](<a href="https://redirect.github.com/rust-lang/regex/pull/1031">rust-lang/regex#1031</a>):
DFAs now have a <code>start_state</code> method that doesn't use an <code>Input</code>.</li>
</ul>
<!-- raw HTML omitted -->
</blockquote>
<p>... (truncated)</p>
</details>
<details>
<summary>Commits</summary>
<ul>
<li><a href="https://github.com/rust-lang/regex/commit/5dff4bd7e3bf8b87a272e31c23f1b64417e4c5de"><code>5dff4bd</code></a> 1.10.1</li>
<li><a href="https://github.com/rust-lang/regex/commit/d242ede2ab07df6b32b9ee86f9ae2ae43252ebfa"><code>d242ede</code></a> deps: bump regex-automata to 0.4.2</li>
<li><a href="https://github.com/rust-lang/regex/commit/488604dd6f053104b008a22b9808e383f283992d"><code>488604d</code></a> regex-automata-0.4.2</li>
<li><a href="https://github.com/rust-lang/regex/commit/ee01ec2725279273630d2b1ebc99775b932131b2"><code>ee01ec2</code></a> deps: bump regex-syntax to 0.8.2</li>
<li><a href="https://github.com/rust-lang/regex/commit/1dbeee73b9fcde708502d3d5f799b198fe3a6cf5"><code>1dbeee7</code></a> regex-syntax-0.8.2</li>
<li><a href="https://github.com/rust-lang/regex/commit/049d063ba1e8cb2f7203684865b58d6af44357e9"><code>049d063</code></a> changelog: 1.10.1</li>
<li><a href="https://github.com/rust-lang/regex/commit/8a8d599f9d2f2d78e9ad84e4084788c2d563afa5"><code>8a8d599</code></a> automata/meta: tweak reverse suffix prefilter strategy</li>
<li><a href="https://github.com/rust-lang/regex/commit/04f5d7be4efc542864cc400f5d43fbea4eb9bab6"><code>04f5d7b</code></a> syntax: loosen ASCII compatible rules</li>
<li><a href="https://github.com/rust-lang/regex/commit/cfd0ca2428c986777e21542a531b450178bc0cf2"><code>cfd0ca2</code></a> automata/meta: force some prefilter inlining</li>
<li><a href="https://github.com/rust-lang/regex/commit/25ad29f56e10ab0d2c19b041d9f76c5969088b47"><code>25ad29f</code></a> bench: add a redirect</li>
<li>Additional commits viewable in <a href="https://github.com/rust-lang/regex/compare/1.9.6...1.10.1">compare view</a></li>
</ul>
</details>
<br />

<p><a href="https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores"><img src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=regex&amp;package-manager=cargo&amp;previous-version=1.9.6&amp;new-version=1.10.1" alt="Dependabot compatibility score" /></a></p>
<p>Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting <code>@dependabot rebase</code>.</p>
<p>[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)</p>
<hr />
<details>
<summary>Dependabot commands and options</summary>
<br />

<p>You can trigger Dependabot actions by commenting on this PR:</p>
<ul>
<li><code>@dependabot rebase</code> will rebase this PR</li>
<li><code>@dependabot recreate</code> will recreate this PR, overwriting any edits that have been made to it</li>
<li><code>@dependabot merge</code> will merge this PR after your CI passes on it</li>
<li><code>@dependabot squash and merge</code> will squash and merge this PR after your CI passes on it</li>
<li><code>@dependabot cancel merge</code> will cancel a previously requested merge and block automerging</li>
<li><code>@dependabot reopen</code> will reopen this PR if it is closed</li>
<li><code>@dependabot close</code> will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually</li>
<li><code>@dependabot show &lt;dependency name&gt; ignore conditions</code> will show all of the ignore conditions of the specified dependency</li>
<li><code>@dependabot ignore this major version</code> will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)</li>
<li><code>@dependabot ignore this minor version</code> will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)</li>
<li><code>@dependabot ignore this dependency</code> will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)</li>
</ul>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @dependabot[bot] on 2023-10-16 08:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @charliermarsh on 2023-10-16 13:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-16 13:55</div>
            <div class="timeline-body"><p>@burntsushi - I haven't investigated yet but in case you find it surprising, we see some behavior changes here. I'm guessing it's related to this (weird) code we have to hackily escape curly braces by surrounding them in an extra set of curly braces:</p>
<pre><code class="language-rust">static CURLY_BRACES: Lazy&lt;Regex&gt; = Lazy::new(|| Regex::new(r&quot;(\\N\{[^}]+})|([{}])&quot;).unwrap());

pub(super) fn curly_escape(text: &amp;str) -&gt; String {
    // Match all curly braces. This will include named unicode escapes (like
    // \N{SNOWMAN}), which we _don't_ want to escape, so take care to preserve them.
    CURLY_BRACES
        .replace_all(text, |caps: &amp;Captures| {
            if let Some(match_) = caps.get(1) {
                match_.as_str().to_string()
            } else {
                if &amp;caps[2] == &quot;{&quot; {
                    &quot;{{&quot;.to_string()
                } else {
                    &quot;}}&quot;.to_string()
                }
            }
        })
        .to_string()
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-16 13:55</div>
            <div class="timeline-body"><p>(No obligation to do anything here, only flagging if helpful.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-10-16 14:46</div>
            <div class="timeline-body"><p>Nice find! (It seems I am doomed to never escape the pit of literal optimization correctness bugs.) I reported it <a href="https://github.com/rust-lang/regex/issues/1110">here</a> and fixed it <a href="https://github.com/rust-lang/regex/pull/1111">here</a>. It's now fixed in <code>regex 1.10.2</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-16 16:08</div>
            <div class="timeline-body"><p>Amazing, thanks @BurntSushi :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-10-16 16:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dependabot[bot]">@dependabot[bot]</a> on 2023-10-16 16:20</div>
            <div class="timeline-body"><p>OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting <code>@dependabot ignore this major version</code> or <code>@dependabot ignore this minor version</code>. You can also ignore all major, minor, or patch releases for a dependency by adding an <a href="https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore"><code>ignore</code> condition</a> with the desired <code>update_types</code> to your config file.</p>
<p>If you change your mind, just re-open this PR and I'll resolve any conflicts on it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-10-16 16:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:00:50 UTC
    </footer>
</body>
</html>
