```yaml
number: 12587
title: Flaky file watching tests, add debug assertions
type: pull_request
state: merged
author: MichaReiser
labels:
  - ty
assignees: []
merged: true
base: main
head: flaky-fs-test-debug
created_at: 2024-07-30T18:05:16Z
updated_at: 2024-08-02T15:09:16Z
url: https://github.com/astral-sh/ruff/pull/12587
synced_at: 2026-01-12T15:55:41Z
```

# Flaky file watching tests, add debug assertions

---

_@MichaReiser_

## Summary

It's unclear to me why the file watching test is flaky. Let's add a debug assertion that `changes` isn't empty. 

## Test Plan




---

_Review requested from @carljm by @MichaReiser on 2024-07-30 18:05_

---

_Review requested from @AlexWaygood by @MichaReiser on 2024-07-30 18:05_

---

_Review requested from @dhruvmanila by @MichaReiser on 2024-07-30 18:05_

---

_Label `red-knot` added by @MichaReiser on 2024-07-30 18:05_

---

_Merged by @MichaReiser on 2024-07-30 18:09_

---

_Closed by @MichaReiser on 2024-07-30 18:09_

---

_Branch deleted on 2024-07-30 18:09_

---

_Comment by @github-actions[bot] on 2024-07-30 18:19_

<!-- generated-comment ecosystem -->
## `ruff-ecosystem` results
### Linter (stable)
✅ ecosystem check detected no linter changes.

### Linter (preview)
✅ ecosystem check detected no linter changes.




---
