```yaml
number: 5838
title: "playground: Add left panel and use brand colors"
type: pull_request
state: merged
author: MichaReiser
labels:
  - playground
assignees: []
merged: true
base: main
head: left-panel
created_at: 2023-07-17T17:34:48Z
updated_at: 2023-07-19T14:34:23Z
url: https://github.com/astral-sh/ruff/pull/5838
synced_at: 2026-01-12T15:55:19Z
```

# playground: Add left panel and use brand colors

---

_@MichaReiser_

<!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

## Summary

This PR uses Astral's brand color in the playground more consistently and adds a left panel to switch between file and settings. 

<!-- What's the purpose of the change? What does it do, and why? -->

## Test Plan

[Screencast from 2023-07-17 19-35-11.webm](https://github.com/astral-sh/ruff/assets/1203881/0fc241b6-2607-4451-887e-23cd613a0187)

I promise it shows an error when the settings file contains a syntax errors. It just happens that it wasn't part of the selection that I recorded.

<!-- How was it tested? -->


---

_Comment by @MichaReiser on 2023-07-17 17:35_

Current dependencies on/for this PR:
* main
  * **PR #5830** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/5830" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a> 
    * **PR #5831** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/5831" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a> 
      * **PR #5838** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/5838" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ
        * **PR #5859** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/5859" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a> 

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/5838?utm_source=stack-comment).

---

_Label `playground` added by @MichaReiser on 2023-07-17 17:37_

---

_Review requested from @charliermarsh by @MichaReiser on 2023-07-17 17:37_

---

_Marked ready for review by @MichaReiser on 2023-07-17 17:38_

---

_Comment by @MichaReiser on 2023-07-17 17:44_

@charliermarsh feel free to make changes if you don't like specific details. This is just not-designer Micha who tried to follow our brand guideline

---

_Comment by @github-actions[bot] on 2023-07-17 17:48_

## PR Check Results
### Ecosystem
âœ… ecosystem check detected no changes.

### Benchmark
#### Linux
```
group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00     10.8Â±0.11ms     3.8 MB/sec    1.07     11.6Â±0.10ms     3.5 MB/sec
formatter/numpy/ctypeslib.py               1.00      2.2Â±0.02ms     7.7 MB/sec    1.05      2.3Â±0.03ms     7.3 MB/sec
formatter/numpy/globals.py                 1.00    243.8Â±3.66Âµs    12.1 MB/sec    1.04    253.7Â±2.67Âµs    11.6 MB/sec
formatter/pydantic/types.py                1.00      4.7Â±0.05ms     5.4 MB/sec    1.07      5.0Â±0.09ms     5.1 MB/sec
linter/all-rules/large/dataset.py          1.00     15.2Â±0.18ms     2.7 MB/sec    1.00     15.2Â±0.16ms     2.7 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.02      3.9Â±0.04ms     4.3 MB/sec    1.00      3.8Â±0.03ms     4.3 MB/sec
linter/all-rules/numpy/globals.py          1.01    509.4Â±4.87Âµs     5.8 MB/sec    1.00    503.6Â±7.00Âµs     5.9 MB/sec
linter/all-rules/pydantic/types.py         1.01      6.9Â±0.08ms     3.7 MB/sec    1.00      6.8Â±0.08ms     3.7 MB/sec
linter/default-rules/large/dataset.py      1.00      7.7Â±0.08ms     5.3 MB/sec    1.00      7.8Â±0.07ms     5.2 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.01  1656.6Â±16.60Âµs    10.1 MB/sec    1.00  1645.4Â±15.29Âµs    10.1 MB/sec
linter/default-rules/numpy/globals.py      1.00    184.9Â±1.15Âµs    16.0 MB/sec    1.00    184.5Â±6.97Âµs    16.0 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.5Â±0.03ms     7.3 MB/sec    1.00      3.5Â±0.05ms     7.3 MB/sec
```

#### Windows
```
group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00     11.1Â±0.14ms     3.7 MB/sec    1.05     11.6Â±0.13ms     3.5 MB/sec
formatter/numpy/ctypeslib.py               1.00      2.1Â±0.03ms     7.8 MB/sec    1.04      2.2Â±0.03ms     7.4 MB/sec
formatter/numpy/globals.py                 1.00    244.5Â±4.79Âµs    12.1 MB/sec    1.04    254.1Â±6.85Âµs    11.6 MB/sec
formatter/pydantic/types.py                1.00      4.7Â±0.05ms     5.4 MB/sec    1.05      4.9Â±0.07ms     5.2 MB/sec
linter/all-rules/large/dataset.py          1.02     15.6Â±0.26ms     2.6 MB/sec    1.00     15.2Â±0.14ms     2.7 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.01      4.1Â±0.05ms     4.1 MB/sec    1.00      4.0Â±0.05ms     4.1 MB/sec
linter/all-rules/numpy/globals.py          1.00    488.5Â±6.88Âµs     6.0 MB/sec    1.00    488.2Â±8.04Âµs     6.0 MB/sec
linter/all-rules/pydantic/types.py         1.00      7.0Â±0.09ms     3.6 MB/sec    1.00      7.0Â±0.08ms     3.6 MB/sec
linter/default-rules/large/dataset.py      1.00      8.0Â±0.09ms     5.1 MB/sec    1.00      7.9Â±0.06ms     5.1 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.01  1669.2Â±19.65Âµs    10.0 MB/sec    1.00  1660.7Â±19.43Âµs    10.0 MB/sec
linter/default-rules/numpy/globals.py      1.00    190.7Â±3.01Âµs    15.5 MB/sec    1.00    191.0Â±3.58Âµs    15.5 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.5Â±0.05ms     7.2 MB/sec    1.00      3.5Â±0.04ms     7.2 MB/sec
```
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

---

_Review comment by @charliermarsh on `playground/src/Editor/SideBar.tsx`:59 on 2023-07-19 00:47_

Are the buttons horizontally centered in the sidebar? I can't tell from the video.

---

_@charliermarsh approved on 2023-07-19 00:48_

LGTM! I might do a follow-up pass when I have time on some of the brand-specific stuff like the button styling, but this is great.

---

_@charliermarsh reviewed on 2023-07-19 00:49_

---

_Review comment by @charliermarsh on `playground/src/Editor/AstralButton.tsx`:32 on 2023-07-19 00:49_

Maybe we should use small caps for this, like the button on the top right of the homepage: https://astral.sh/. Maybe the same font too? Wdyt?

---

_@charliermarsh reviewed on 2023-07-19 00:49_

---

_Review comment by @charliermarsh on `playground/src/Editor/Header.tsx`:69 on 2023-07-19 00:49_

Are the dividers different colors? I assume it's just an artifact of the recording or something.

<img width="384" alt="Screen Shot 2023-07-18 at 8 49 18 PM" src="https://github.com/astral-sh/ruff/assets/1309177/8c4ead11-9153-4dd3-ba4d-6f4f8ee94266">


---

_@charliermarsh reviewed on 2023-07-19 00:50_

---

_Review comment by @charliermarsh on `playground/src/Editor/SideBar.tsx`:9 on 2023-07-19 00:50_

I always just inline single-use definitions like this, e.g.:

```typescript
export default function SideBar({ selected, onSelectTool }: { selected: Tool, ... } { ... }
```

But it's entirely subjective :)

---

_Comment by @charliermarsh on 2023-07-19 00:51_

I'm triggered by the juxtaposition of the dark purple (header and sidebar) against the black (editor) but I can take on this burden:

<img width="247" alt="Screen Shot 2023-07-18 at 8 50 56 PM" src="https://github.com/astral-sh/ruff/assets/1309177/a3f00571-f412-4278-9101-afb10a1ff7a3">


---

_Review comment by @MichaReiser on `playground/src/Editor/SideBar.tsx`:59 on 2023-07-19 06:43_

Almost, now they are

---

_Review comment by @MichaReiser on `playground/src/Editor/AstralButton.tsx`:32 on 2023-07-19 07:14_

I copied over some styles from astral. Is it okay to commit the fonts?

---

_Review comment by @MichaReiser on `playground/src/Editor/SideBar.tsx`:9 on 2023-07-19 07:16_

I can't do that. :stuck_out_tongue: 

I find it extremely hard to read, always mess up the syntax when writing the types, and you need to refactor them out once you start adding new props. 

---

_Comment by @MichaReiser on 2023-07-19 07:29_

> juxtaposition

I'm not sure if I made it worse :sweat_smile: 

My idea was to use `space` for the header and side bar. It looks kind of good for the side bar, but we're not supposed to use our logo on space. I now use `galaxy` for the code and header, but `space` for the sidebar. Let me know what you think


**Black code**
![image](https://github.com/astral-sh/ruff/assets/1203881/af647bd2-2d6f-40d1-9daa-9b584601484f)

**Galaxy code**

This would match the light theme where the header and code area have the same background.

![image](https://github.com/astral-sh/ruff/assets/1203881/e838554f-9e85-4eb7-97c4-71c883debf2a)

```patch
Subject: [PATCH] Add right panel
---
Index: playground/src/Editor/MonacoThemes.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/playground/src/Editor/MonacoThemes.tsx b/playground/src/Editor/MonacoThemes.tsx
--- a/playground/src/Editor/MonacoThemes.tsx	(revision 6e1b1c0f364b369f0aebe511a0d70a87e5199f66)
+++ b/playground/src/Editor/MonacoThemes.tsx	(date 1689751756944)
@@ -389,7 +389,7 @@
         "tab.inactiveForeground": "#565b66",
         "tab.unfocusedActiveForeground": "#565b66",
         "tab.unfocusedInactiveForeground": "#565b66",
-        "editor.background": "#0b0e14",
+        "editor.background": "#261230",
         "editor.foreground": "#bfbdb6",
         "editorLineNumber.foreground": "#6c738099",
         "editorLineNumber.activeForeground": "#6c7380e6",
@@ -408,7 +408,7 @@
         "editor.findMatchHighlightBorder": "#5f4c7266",
         "editor.findRangeHighlightBackground": "#6c598040",
         "editor.rangeHighlightBackground": "#6c598033",
-        "editor.lineHighlightBackground": "#131721",
+        "editor.lineHighlightBackground": "#30173D",
         "editorLink.activeForeground": "#e6b450",
         "editorWhitespace.foreground": "#6c738099",
         "editorIndentGuide.background": "#6c738033",
Index: playground/src/Editor/SideBar.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/playground/src/Editor/SideBar.tsx b/playground/src/Editor/SideBar.tsx
--- a/playground/src/Editor/SideBar.tsx	(revision 6e1b1c0f364b369f0aebe511a0d70a87e5199f66)
+++ b/playground/src/Editor/SideBar.tsx	(date 1689751464419)
@@ -10,7 +10,7 @@
 
 export default function SideBar({ selected, onSelectTool }: SideBarProps) {
   return (
-    <ul className="w-12 flex-initial border-r bg-galaxy flex flex-col items-stretch">
+    <ul className="w-12 flex-initial border-r bg-space flex flex-col items-stretch">
       <SideBarEntry
         title="Source"
         onClick={() => onSelectTool("Source")}

```

---

_Review requested from @charliermarsh by @MichaReiser on 2023-07-19 07:31_

---

_Review comment by @MichaReiser on `playground/src/Editor/Header.tsx`:69 on 2023-07-19 07:33_

I don't think so... They all render the same HTML 
![image](https://github.com/astral-sh/ruff/assets/1203881/17c33edd-5ba9-4427-ba35-da838a3040be)


---

_@MichaReiser reviewed on 2023-07-19 07:34_

---

_@charliermarsh reviewed on 2023-07-19 14:04_

---

_Review comment by @charliermarsh on `playground/src/Editor/SideBar.tsx`:9 on 2023-07-19 14:04_

> ...you need to refactor them out once you start adding new props.

Why?

---

_@MichaReiser reviewed on 2023-07-19 14:08_

---

_Review comment by @MichaReiser on `playground/src/Editor/SideBar.tsx`:9 on 2023-07-19 14:08_

Lol, don't get me started. I'm more opinionated on that than using nightly :P

---

_@charliermarsh reviewed on 2023-07-19 14:09_

---

_Review comment by @charliermarsh on `playground/src/Editor/SideBar.tsx`:9 on 2023-07-19 14:09_

Hahahaha. Okay I'm moving on. But I love "Charlie's style" for prop types.

---

_Comment by @charliermarsh on 2023-07-19 14:10_

Let's run with what you had initially, I need to think on it a bit more and maybe play around with it but I def don't want to block shipping.

---

_Merged by @MichaReiser on 2023-07-19 14:33_

---

_Closed by @MichaReiser on 2023-07-19 14:33_

---

_Branch deleted on 2023-07-19 14:33_

---

_Comment by @MichaReiser on 2023-07-19 14:34_

> Let's run with what you had initially, I need to think on it a bit more and maybe play around with it but I def don't want to block shipping.

Feel free to delegate the changes once you know how you want them to be. I enjoyed this a lot (feel free to do it yourself, if you find it fun too)

---
