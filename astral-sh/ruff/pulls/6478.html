<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use crates.io unicode_names2 0.6.0 - astral-sh/ruff #6478</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use crates.io unicode_names2 0.6.0</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/6478">#6478</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-08-10 12:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>Update <code>unicode_names2</code> to the crates.io release 0.6.0, removing a git dependency.</p>
<p>@youknowone As far as i can tell, all changes from https://github.com/youknowone/unicode_names2 have been merged into https://github.com/progval/unicode_names2, is it correct that all changes needed for the RustPython parser are in the 0.6.0 release on crates.io?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/konstin">@konstin</a> on 2023-08-10 12:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-08-10 13:06</div>
            <div class="timeline-body">PR Check Results
Ecosystem
<p>‚úÖ ecosystem check detected no changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2023-08-10 14:48</div>
            <div class="timeline-body"><p>Cool with this assuming it contains all the changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/youknowone">@youknowone</a> on 2023-08-12 05:27</div>
            <div class="timeline-body"><p>I wasn&#x27;t following up this issue for a while.
As I understand, this patch is required to keep compatibility. <a href="https://github.com/progval/unicode_names2/pull/12">progval/unicode_names2#12</a>
But let me look them in again for next a few weeks.
I was not able to working on open source projects for a while due to other stuff. it will takes a few more weeks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-13 01:33</div>
            <div class="timeline-body"><p>Ah yeah, I think upstream is still missing some changes that we need.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-08-21 18:04</div>
            <div class="timeline-body"><p>i think we need <a href="https://github.com/progval/unicode_names2/pull/12">progval/unicode_names2#12</a>, but i don&#x27;t understand how since none of our tests are failing without it. Upstream is maintained and has just published a 1.0.0, so i&#x27;m even more motivated to migrate</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-21 18:06</div>
            <div class="timeline-body"><p>I think this shows a failing test case: <a href="https://github.com/RustPython/RustPython/issues/4566">RustPython/RustPython#4566</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-21 18:06</div>
            <div class="timeline-body"><p>Unless it no longer fails after switching to the main channel, of course.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-08-21 20:43</div>
            <div class="timeline-body"><p>thanks for link! I added the test, it seems that this is already passing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/konstin">@konstin</a> on 2023-08-21 20:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-21 20:53</div>
            <div class="timeline-body"><p>As annoying as it is... I&#x27;d really love to understand why it works now (and didn&#x27;t before) prior to merging. Does that snippet fail on 0.6.0 (non-Git, like before we pinned)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-08-21 20:58</div>
            <div class="timeline-body"><p>oh, i realized i actually updated only one of two unicode_names2 usages. I updated the other too, and now the test fails as expected.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/konstin">@konstin</a> on 2023-08-21 20:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/manmartgarc">@manmartgarc</a> on 2023-10-02 19:03</div>
            <div class="timeline-body"><p>Hey, just checking in on this. I was able to use a temporary <code>LibCST</code> crates on <a href="https://github.com/astral-sh/ruff/pull/7179">astral-sh/ruff#7179</a>. As far as I know <code>unicode_names2</code> is the only other git dependency left to vanquish. What is left to do to merge this change?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-02 19:21</div>
            <div class="timeline-body"><p>I&#x27;ve checked and the relevant PR was merged in the mean time (<a href="https://github.com/progval/unicode_names2/pull/12">progval/unicode_names2#12</a>). I&#x27;ve asked for a crates.io release: <a href="https://github.com/progval/unicode_names2/issues/28">progval/unicode_names2#28</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-02 19:35</div>
            <div class="timeline-body"><p>Thanks @manmartgarc. By the way: I temporarily moved LibCST back to a Git dependency so that we could get out Python 3.12 support today, but I&#x27;ll move it back to crates as soon as they publish a new version.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-02 21:19</div>
            <div class="timeline-body"><p>Current dependencies on/for this PR:</p>
<ul>
<li>main<ul>
<li><strong>PR #6478</strong> <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/6478"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite"></a>  üëà</li>
</ul>
</li>
</ul>
<p>This comment was auto-generated by <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/6478?utm_source=stack-comment">Graphite</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/konstin">@konstin</a> on 2023-10-02 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-10-02 21:19</div>
            <div class="timeline-body"><p>The maintainer reacted really quickly, this is now ready to be merged</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2023-10-02 21:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/konstin">@konstin</a> on <code>Cargo.toml</code>:28 on 2023-10-02 21:20</div>
            <div class="timeline-body"><p>Made this consistent while i was at it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2023-10-02 21:22</div>
            <div class="timeline-body"><p>Great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2023-10-02 21:36</div>
            <div class="timeline-body"><a href="https://codspeed.io/astral-sh/ruff/branches/unicode_names2_0-6-0">CodSpeed Performance Report</a>
Merging #6478 will <strong>degrade performances by 3.69%</strong>
<p>Comparing <code>unicode_names2_0-6-0</code> (7ab46fc) with <code>main</code> (c6d0bdd)</p>
Summary
<p><code>‚ùå 1 (üëÅ 1)</code> regressions
<code>‚úÖ 24</code> untouched benchmarks</p>
Benchmarks breakdown
<p>|     | Benchmark | <code>main</code> | <code>unicode_names2_0-6-0</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| üëÅ | <code>linter/default-rules[large/dataset.py]</code> | 92.5 ms | 96 ms | -3.69% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-02 22:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-02 22:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-10-02 22:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/youknowone">@youknowone</a> on 2023-10-03 04:21</div>
            <div class="timeline-body"><p>üëç</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:56:12 UTC
    </footer>
</body>
</html>
