<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handle pattern parentheses in `FormatPattern` - astral-sh/ruff #6800</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Handle pattern parentheses in <code>FormatPattern</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/6800">#6800</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-08-23 01:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-23 01:58</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This PR fixes the duplicate-parenthesis problem that's visible in the tests from https://github.com/astral-sh/ruff/pull/6799. The issue is that we might have parentheses around the entire match-case pattern, like in <code>(1)</code> here:</p>
<pre><code class="language-python">match foo:
    case (1):
        y = 0
</code></pre>
<p>In this case, the inner expression (<code>1</code>) will <em>think</em> it's parenthesized, but we'll <em>also</em> detect the parentheses at the case level -- so they get rendered by the case, then again by the expression. Instead, if we detect parentheses at the case level, we can force-off the parentheses for the pattern using a design similar to the way we handle parentheses on expressions.</p>
<p>Closes https://github.com/astral-sh/ruff/issues/6753.</p>
<h2>Test Plan</h2>
<p><code>cargo test</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 02:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/tests/snapshots/format@statement__match.py.snap</code>:581 on 2023-08-23 02:00</div>
            <div class="timeline-body"><p>Ah, hmm... I guess this is wrong. The input text is <code>case ((1)):</code>, but we're stripping the <em>inner</em> parentheses.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @charliermarsh on 2023-08-23 02:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 02:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/tests/snapshots/format@statement__match.py.snap</code>:581 on 2023-08-23 02:02</div>
            <div class="timeline-body"><p>Or, maybe this is acceptable? We seem to drop these kinds of parentheses in <em>some</em> contexts: https://play.ruff.rs/bc8cf10e-e3ae-43e2-a6f7-6f7f2ad08b09</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @charliermarsh on 2023-08-23 02:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 02:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/tests/snapshots/format@statement__match.py.snap</code>:689 on 2023-08-23 02:04</div>
            <div class="timeline-body"><p>This is wrong, it should be on the <code>[</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 02:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/tests/snapshots/format@statement__match.py.snap</code>:689 on 2023-08-23 02:16</div>
            <div class="timeline-body"><p>But I'll fix it in a separate PR, since it's specific to the sequence match.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-08-23 02:34</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Benchmark</h3>
<h4>Linux</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00      4.7±0.05ms     8.7 MB/sec    1.00      4.7±0.04ms     8.6 MB/sec
formatter/numpy/ctypeslib.py               1.02    999.6±5.17µs    16.7 MB/sec    1.00   983.7±10.99µs    16.9 MB/sec
formatter/numpy/globals.py                 1.01     95.4±1.12µs    30.9 MB/sec    1.00     94.8±1.33µs    31.1 MB/sec
formatter/pydantic/types.py                1.01  1943.6±18.59µs    13.1 MB/sec    1.00  1915.0±32.64µs    13.3 MB/sec
linter/all-rules/large/dataset.py          1.00     11.9±0.17ms     3.4 MB/sec    1.01     12.0±0.14ms     3.4 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.01      3.2±0.02ms     5.2 MB/sec    1.00      3.2±0.04ms     5.2 MB/sec
linter/all-rules/numpy/globals.py          1.00    456.0±6.73µs     6.5 MB/sec    1.00    456.6±4.04µs     6.5 MB/sec
linter/all-rules/pydantic/types.py         1.02      6.3±0.06ms     4.0 MB/sec    1.00      6.2±0.08ms     4.1 MB/sec
linter/default-rules/large/dataset.py      1.00      6.4±0.06ms     6.4 MB/sec    1.00      6.4±0.07ms     6.4 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00  1411.5±13.50µs    11.8 MB/sec    1.04  1464.2±83.98µs    11.4 MB/sec
linter/default-rules/numpy/globals.py      1.00    165.5±2.07µs    17.8 MB/sec    1.00    165.6±2.57µs    17.8 MB/sec
linter/default-rules/pydantic/types.py     1.00      2.9±0.02ms     8.8 MB/sec    1.00      2.9±0.03ms     8.8 MB/sec
</code></pre>
<h4>Windows</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.03      6.4±0.29ms     6.4 MB/sec    1.00      6.2±0.21ms     6.6 MB/sec
formatter/numpy/ctypeslib.py               1.02  1283.4±57.25µs    13.0 MB/sec    1.00  1257.8±48.67µs    13.2 MB/sec
formatter/numpy/globals.py                 1.00    115.2±5.20µs    25.6 MB/sec    1.01    116.5±8.42µs    25.3 MB/sec
formatter/pydantic/types.py                1.01      2.5±0.11ms    10.1 MB/sec    1.00      2.5±0.09ms    10.1 MB/sec
linter/all-rules/large/dataset.py          1.00     17.9±0.76ms     2.3 MB/sec    1.03     18.5±0.61ms     2.2 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      4.8±0.16ms     3.4 MB/sec    1.02      4.9±0.18ms     3.4 MB/sec
linter/all-rules/numpy/globals.py          1.03   615.4±44.17µs     4.8 MB/sec    1.00   599.2±22.48µs     4.9 MB/sec
linter/all-rules/pydantic/types.py         1.00      9.2±0.38ms     2.8 MB/sec    1.01      9.2±0.36ms     2.8 MB/sec
linter/default-rules/large/dataset.py      1.00      9.9±0.27ms     4.1 MB/sec    1.00      9.9±0.31ms     4.1 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.01      2.1±0.10ms     8.0 MB/sec    1.00      2.1±0.07ms     8.1 MB/sec
linter/default-rules/numpy/globals.py      1.03   266.6±22.51µs    11.1 MB/sec    1.00   257.9±10.99µs    11.4 MB/sec
linter/default-rules/pydantic/types.py     1.01      4.5±0.15ms     5.7 MB/sec    1.00      4.4±0.10ms     5.8 MB/sec
</code></pre>
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2023-08-23 04:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_python_formatter/tests/snapshots/format@statement__match.py.snap</code>:581 on 2023-08-23 04:19</div>
            <div class="timeline-body"><p>Yeah, I think this should be good. The additional parentheses are unnecessary although this deviates from Black which keeps the parentheses.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_python_formatter/tests/snapshots/black_compatibility@py_310__pattern_matching_simple.py.snap</code>:120 on 2023-08-23 04:48</div>
            <div class="timeline-body"><p>Regarding the addition of parentheses around unions, I believe that will be handled in <code>MatchOr</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_python_formatter/tests/snapshots/black_compatibility@py_310__pattern_matching_extras.py.snap</code>:373 on 2023-08-23 04:49</div>
            <div class="timeline-body"><p>Unrelated but shouldn't we consider the magic trailing comma and keep each pattern on a separate line?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:46 on 2023-08-23 04:53</div>
            <div class="timeline-body"><p>Do we actually need to preserve the parentheses? Black does but in other nodes we don't:</p>
<pre><code class="language-python">while (True):
	pass
</code></pre>
<p>Gets formatted to:</p>
<pre><code class="language-python">while True:
	pass
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2023-08-23 04:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:46 on 2023-08-23 06:38</div>
            <div class="timeline-body"><p>Our rule for expressions are:</p>
<ul>
<li>Top level expression (inside a statement): Remove unnecessary parentheses, see your <code>while (True)</code> example</li>
<li>nested expressions: Preserve the parentheses (except for <code>await</code>  where Black removes parentheses).</li>
</ul>
<p>IMO the behavior should be the same for <code>Patterns</code>. Remove unnecessary parentheses around the outermost pattern but preserve them for nested patterns. See https://github.com/astral-sh/ruff/issues/6753</p>
<p>Meaning, we should use <code>parenthesize_if_expands</code> here instead of preserving the parentheses.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/pattern/mod.rs</code>:78 on 2023-08-23 06:40</div>
            <div class="timeline-body"><p>For consistency</p>
<pre><code class="language-suggestion">            format_pattern.fmt(f)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/pattern/mod.rs</code>:48 on 2023-08-23 06:41</div>
            <div class="timeline-body"><p>Nit</p>
<pre><code class="language-suggestion">        let format_pattern = format_with(|f| match pattern {
            Pattern::MatchValue(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchSingleton(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchSequence(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchMapping(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchClass(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchStar(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchAs(pattern) =&gt; pattern.format().fmt(f),
            Pattern::MatchOr(pattern) =&gt; pattern.format().fmt(f),
        });

        let parenthesize = match self.parentheses {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/tests/snapshots/black_compatibility@py_310__pattern_matching_extras.py.snap</code>:373 on 2023-08-23 06:42</div>
            <div class="timeline-body"><p>We probably should</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/tests/snapshots/format@statement__match.py.snap</code>:581 on 2023-08-23 06:43</div>
            <div class="timeline-body"><p>I think this is fine (see my comment above). But only for the <code>case</code> level pattern, not for nested patterns.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 06:45</div>
            <div class="timeline-body"><p>Can you explain why calling <code>pattern.format</code> isn't sufficient? Why can the pattern and the <code>MatchCase</code> both have trailing opening parentheses comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2023-08-23 06:46</div>
            <div class="timeline-body"><p>Does this address https://github.com/astral-sh/ruff/issues/6753 ? If not, what's missing? Could we implement the required changes to match the expected output</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:46 on 2023-08-23 13:24</div>
            <div class="timeline-body"><p>I'll try out <code>parenthesize_if_expands</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 13:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 13:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 13:26</div>
            <div class="timeline-body"><p>Consider:</p>
<pre><code class="language-python">match thing:
    case ( # outer
        [  # inner
            1
        ]
    )
</code></pre>
<p>The <code># outer</code> is attached to the <code>MatchCase</code>, but the <code># inner</code> is part of the pattern itself. (Not all patterns have this behavior.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2023-08-23 15:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 15:28</div>
            <div class="timeline-body"><p>Hmm, so it depends on whether the pattern has its own parentheses? How does this work if you have nested pattern, which doesn't go through the match case formatting?</p>
<pre><code>match thing:
	case [
		( # outer
			[ # inner
				1, 
			]
		)
	]: ... 
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 15:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:46 on 2023-08-23 15:43</div>
            <div class="timeline-body"><p>I think this also requires knowing whether the pattern has its own parentheses (e.g., for sequence patterns).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-23 15:43</div>
            <div class="timeline-body"><blockquote>
<p>Does this address https://github.com/astral-sh/ruff/issues/6753 ? If not, what's missing?</p>
</blockquote>
<p>Yes I believe it should (sorry, I missed that issue, I stumbled upon this independently). Added a test + linked the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-23 15:44</div>
            <div class="timeline-body"><p>I still need to figure out the <code>parenthesize_if_expands</code>, working on that now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 15:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 15:59</div>
            <div class="timeline-body"><p>Both of these cases work as expected as of the following branch (#6801):</p>
<pre><code class="language-python">match thing:
    case [
		( # outer
			[ # inner
				1,
			]
		)
	]: ...
    case [ # outer
		( # inner outer
			[ # inner
				1,
			]
		)
	]: ...
</code></pre>
<p><code># inner outer</code> gets assigned as a leading end-of-line comment via our standard parenthesized comment handling, which then gets rendered as an open parenthesis comment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 15:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 15:59</div>
            <div class="timeline-body"><p>Actually, let me confirm that that's <em>why</em> it works, hang on.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 16:00</div>
            <div class="timeline-body"><p>Okay, does that mean we don't need the handling in <code>MatchCase</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2023-08-23 16:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 16:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 16:01</div>
            <div class="timeline-body"><p>Err, I think it works because it's a leading end-of-line comment which we always treat as an open parenthesis comment. (And the comments on the inner square brackets work because they're correctly marked as dangling for the sequence pattern type.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 16:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 16:03</div>
            <div class="timeline-body"><p>I guess we kind of get this wrong:</p>
<pre><code class="language-python">    case [ # outer
        # own line
		( # inner outer
			[ # inner
				1,
			]
		)
	]:
        pass
</code></pre>
<p>It renders as:</p>
<pre><code class="language-python">    case [  # outer
        (
            # own line
            # inner outer
            [  # inner
                1,
            ]
        )
    ]:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 16:08</div>
            <div class="timeline-body"><p>We might be able to remove this, I'm not sure yet, I'll explore it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 16:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 16:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 16:12</div>
            <div class="timeline-body"><p>(I'd thought we wanted to preserve the parentheses here always which complicated this a bit.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 16:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:41 on 2023-08-23 16:40</div>
            <div class="timeline-body"><p>Ok, I was able to remove the dangling comment from <code>match_case</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @charliermarsh on 2023-08-23 16:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-08-23 16:41</div>
            <div class="timeline-body"><p>Okay @MichaReiser I think this is ready for review based on your feedback.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-08-23 16:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_python_formatter/src/other/match_case.rs</code>:58 on 2023-08-23 16:42</div>
            <div class="timeline-body"><p>This is relatively similar to <code>maybe_parenthesize_expression</code>...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2023-08-24 06:42</div>
            <div class="timeline-body"><p>Nice, I love it that we can reuse the <code>NeedsParentheses</code> concept</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2023-08-24 09:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-08-25 03:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-08-25 03:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-08-25 03:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 02:46:15 UTC
    </footer>
</body>
</html>
