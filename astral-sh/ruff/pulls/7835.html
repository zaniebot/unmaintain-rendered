<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add hidden `--parser` option to override the input format, rather than inferring it from the file extension - astral-sh/ruff #7835</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add hidden <code>--parser</code> option to override the input format, rather than inferring it from the file extension</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/7835">#7835</a>
        opened by <a href="https://github.com/felix-cw">@felix-cw</a>
        on 2023-10-06 10:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/felix-cw">@felix-cw</a> on 2023-10-06 10:00</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>This adds a hidden <code>--parser</code> option to the <code>check</code> command, motivated by #6847.
This option allows overriding the input format of the code, rather than inferring from the file extension.</p>
<p>The possible values are <code>py</code> and <code>ipynb</code>. If <code>--parser</code> is not specified, file formats are inferred from file extensions.</p>
<h2>Test Plan</h2>
<ul>
<li>Added tests in <code>integration_tests.rs</code> to ensure the parser override worked as expected.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-10-06 10:22</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Ecosystem</h3>
<p>âœ… ecosystem check detected no changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-20 16:20</div>
            <div class="timeline-body"><p>This is really nice work. Let me try to get some alignment on what we want this argument to be called in the originating issue, since there was some discussion there still...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @charliermarsh on 2023-10-20 16:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-10-20 16:21</div>
            <div class="timeline-body"><p>(Assigning myself as reviewer.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/felix-cw">@felix-cw</a> on 2023-10-23 14:36</div>
            <div class="timeline-body"><p>Thanks for the kind comment! I'm thinking that the preferred idea in the discussion is to provide an option that maps file extensions to language, whereas this just overrides the language for everything. Please don't hesitate to close this PR if this is the wrong approach.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/felix-cw">@felix-cw</a> on 2023-10-31 10:48</div>
            <div class="timeline-body"><p>I'm closing this PR in favour of  #8373 which seems to be a more sensible approach.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @felix-cw on 2023-10-31 10:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 02:13:14 UTC
    </footer>
</body>
</html>
