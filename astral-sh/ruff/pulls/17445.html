<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] `typing.dataclass_transform` - astral-sh/ruff #17445</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] <code>typing.dataclass_transform</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17445">#17445</a>
        opened by <a href="https://github.com/sharkdp">@sharkdp</a>
        on 2025-04-17 08:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a></div>
            <div class="timeline-body">Summary
<ul>
<li>Add initial support for <code>typing.dataclass_transform</code><ul>
<li>Support decorating a function decorator with <code>@dataclass_transform(…)</code> (used by <code>attrs</code>, <code>strawberry</code>)</li>
<li>Support decorating a metaclass with <code>@dataclass_transform(…)</code> (used by <code>pydantic</code>, but doesn&#x27;t work yet, because we don&#x27;t seem to model <code>__new__</code> calls correctly?)</li>
<li><em>No</em> support yet for decorating base classes with <code>@dataclass_transform(…)</code>. I haven&#x27;t figured out how this even supposed to work. And haven&#x27;t seen it being used.</li>
</ul>
</li>
<li>Add <code>strawberry</code> as an ecosystem project, as it makes heavy use of <code>@dataclass_transform</code></li>
</ul>
Test Plan
<p>New Markdown tests</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 08:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-17 08:40</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>typeshed-stats (https://github.com/AlexWaygood/typeshed-stats)
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:64:9: Too many positional arguments to bound method `__init__`: expected 0, got 1
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:65:9: Argument `stub_distribution_name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:66:9: Argument `upstream_url` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:67:9: Argument `extra_description` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:68:9: Argument `completeness_level` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:69:9: Argument `number_of_lines` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:70:9: Argument `package_status` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:71:9: Argument `upload_status` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:72:9: Argument `stubtest_settings` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:73:13: Argument `strictness` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:73:52: Argument `platforms` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:73:66: Argument `allowlist_length` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:75:9: Argument `pyright_setting` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/test_serialize.py:76:9: Argument `annotation_stats` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:159:9: Argument `annotated_parameters` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:160:9: Argument `unannotated_parameters` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:161:9: Argument `annotated_returns` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:162:9: Argument `unannotated_returns` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:163:9: Argument `explicit_Incomplete_parameters` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:164:9: Argument `explicit_Incomplete_returns` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:165:9: Argument `explicit_Any_parameters` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:166:9: Argument `explicit_Any_returns` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:167:9: Argument `annotated_variables` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:168:9: Argument `explicit_Any_variables` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:169:9: Argument `explicit_Incomplete_variables` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:170:9: Argument `classdefs` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:171:9: Argument `classdefs_with_Any` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:172:9: Argument `classdefs_with_Incomplete` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:241:9: Argument `package_name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:242:9: Argument `stub_distribution_name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:243:9: Argument `upstream_url` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:244:9: Argument `completeness_level` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:245:9: Argument `extra_description` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:246:9: Argument `number_of_lines` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:247:9: Argument `package_status` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:248:9: Argument `stubtest_settings` does not match any known parameter of bound method `__init__`
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:248:44: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:249:9: Argument `upload_status` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:250:9: Argument `pyright_setting` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:251:9: Argument `annotation_stats` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:258:9: Argument `file_path` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:261:9: Argument `parent_package` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:262:9: Argument `number_of_lines` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:263:9: Argument `pyright_setting` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/tests/conftest.py:264:9: Argument `annotation_stats` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:591:9: Argument `strictness` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:592:9: Argument `platforms` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:593:9: Argument `allowlist_length` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1176:9: Argument `package_name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1177:9: Argument `stub_distribution_name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1180:9: Argument `upstream_url` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1181:9: Argument `completeness_level` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1184:9: Argument `extra_description` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1187:9: Argument `number_of_lines` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1188:9: Argument `package_status` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1191:9: Argument `upload_status` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1192:9: Argument `stubtest_settings` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1195:9: Argument `pyright_setting` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1198:9: Argument `annotation_stats` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1320:9: Argument `file_path` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1321:9: Argument `parent_package` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1322:9: Argument `number_of_lines` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1323:9: Argument `pyright_setting` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/typeshed-stats/src/typeshed_stats/gather.py:1326:9: Argument `annotation_stats` does not match any known parameter of bound method `__init__`
- Found 88 diagnostics
+ Found 24 diagnostics

rich (https://github.com/Textualize/rich)
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:33:9: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:34:9: Argument `triangles` does not match any known parameter of bound method `__init__`
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/examples/attrs.py:36:17: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:36:25: Argument `x` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:36:31: Argument `y` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:37:25: Argument `x` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:37:31: Argument `y` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/examples/attrs.py:37:37: Argument `z` does not match any known parameter of bound method `__init__`
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/examples/attrs.py:38:25: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:372:20: Too many positional arguments to bound method `__init__`: expected 0, got 2
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:377:20: Too many positional arguments to bound method `__init__`: expected 0, got 2
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:377:31: Too many positional arguments to bound method `__init__`: expected 0, got 2
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:383:17: Too many positional arguments to bound method `__init__`: expected 0, got 2
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:384:20: Too many positional arguments to bound method `__init__`: expected 0, got 2
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:469:25: Argument `foo` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:469:33: Argument `bar` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:469:41: Argument `foo` does not match any known parameter of bound method `__init__`
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:621:32: Too many positional arguments to bound method `__init__`: expected 0, got 2
- error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:621:38: Argument `foo` does not match any known parameter of bound method `__init__`
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:647:15: Too many positional arguments to bound method `__init__`: expected 0, got 1
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:662:15: Too many positional arguments to bound method `__init__`: expected 0, got 1
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:469:25: Argument `foo` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:469:33: Argument `bar` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/rich/tests/test_pretty.py:469:41: Argument `foo` does not match any known parameter
- Found 300 diagnostics
+ Found 282 diagnostics

strawberry (https://github.com/strawberry-graphql/strawberry)
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/union.py:52:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/schema.py:298:25: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/object_type.py:61:13: Argument `fields` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/object_type.py:61:25: Argument `resolvable` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/object_type.py:72:34: Argument `policies` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/object_type.py:75:42: Argument `scopes` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/object_type.py:81:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:39:13: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:40:13: Argument `username` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:41:13: Argument `email` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:42:13: Argument `role` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:74:13: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:75:13: Argument `title` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:76:13: Argument `content` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:77:13: Argument `author` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:111:13: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:112:13: Argument `text` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:113:13: Argument `author` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:114:13: Argument `post` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:29:25: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:29:40: Argument `province` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:30:23: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:30:37: Argument `canton` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:74:17: Argument `message` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:75:17: Argument `field` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:76:17: Argument `fix` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:290:26: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:290:32: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:325:26: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:325:32: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:370:28: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:370:34: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:370:54: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:370:60: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:402:25: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:235:22: Argument `override_from` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:235:46: Argument `label` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:241:34: Argument `policies` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:244:36: Argument `fields` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:247:36: Argument `fields` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:250:42: Argument `scopes` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/field.py:256:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_name_converter.py:112:47: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_python_generics.py:99:38: Argument `data` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_python_generics.py:156:38: Argument `data` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/experimental/pydantic/test_basic.py:836:71: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/experimental/pydantic/test_basic.py:847:44: Argument `reason` does not match any known parameter of bound method `__init__`
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/relay/test_connection.py:163:26: Argument `id` does not match any known parameter
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_extensions.py:27:50: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_generics_schema.py:1057:57: Argument `field` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_generics_schema.py:1057:69: Argument `fields` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_generics_schema.py:1103:34: Argument `obj` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_generics_schema.py:1141:30: Argument `y` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/experimental/pydantic/schema/test_federation.py:16:44: Argument `fields` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/experimental/pydantic/schema/test_federation.py:16:58: Argument `resolvable` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/enum.py:37:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/enum.py:111:34: Argument `policies` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/enum.py:114:42: Argument `scopes` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/enum.py:117:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:22:66: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:47:44: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:85:50: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:88:60: Argument `min` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:88:67: Argument `max` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:90:48: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:97:21: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:98:21: Argument `meta` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:163:35: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:163:50: Argument `real_age` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:163:64: Argument `real_age_2` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:186:66: Argument `real_age` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:210:66: Argument `real_age` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:234:66: Argument `real_age` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:258:66: Argument `real_age` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:282:60: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:284:68: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:311:45: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:311:65: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:342:35: Argument `config` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:371:66: Argument `config` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:402:35: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:431:66: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:450:60: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:477:44: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:512:46: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:565:28: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:565:51: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:616:64: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:657:64: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:660:64: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:691:63: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:695:64: Argument `reason` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:731:52: Argument `input` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:770:30: Argument `input` does not match any known parameter of bound method `__init__`
- error[lint:invalid-return-type] /tmp/mypy_primer/projects/strawberry/strawberry/tools/create_type.py:67:12: Return type does not match returned value: Expected `type`, found `@Todo(Support for `typing.TypeVar` instances in type expressions) | ((@Todo(Support for `typing.TypeVar` instances in type expressions), /) -&gt; @Todo(Support for `typing.TypeVar` instances in type expressions))`
- error[lint:invalid-return-type] /tmp/mypy_primer/projects/strawberry/strawberry/tools/merge_types.py:35:12: Return type does not match returned value: Expected `type`, found `@Todo(Support for `typing.TypeVar` instances in type expressions) | ((@Todo(Support for `typing.TypeVar` instances in type expressions), /) -&gt; @Todo(Support for `typing.TypeVar` instances in type expressions))`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/scalar.py:144:34: Argument `policies` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/scalar.py:147:42: Argument `scopes` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/scalar.py:150:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/strawberry/federation/argument.py:23:31: Argument `name` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/extensions/test_input_mutation.py:41:43: Argument `some` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/extensions/test_input_mutation.py:41:55: Argument `directive` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics.py:1058:57: Argument `field` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics.py:1058:69: Argument `fields` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics.py:1108:34: Argument `obj` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics.py:1148:30: Argument `y` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics.py:1203:44: Argument `data` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/relay/test_connection.py:163:26: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:238:30: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:238:53: Argument `total` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:238:62: Argument `items` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:239:30: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:239:53: Argument `total` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:239:62: Argument `items` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:240:27: Argument `id` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:240:50: Argument `data` does not match any known parameter of bound method `__init__`
+ warning[lint:unused-ignore-comment] /tmp/mypy_primer/projects/strawberry/tests/federation/printer/test_additional_directives.py:1:1: Unused blanket `type: ignore` directive
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:29:40: Argument `province` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:30:37: Argument `canton` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:76:17: Argument `fix` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:290:32: Argument `name` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_interface.py:325:32: Argument `name` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:40:13: Argument `username` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:41:13: Argument `email` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:42:13: Argument `role` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:75:13: Argument `title` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:76:13: Argument `content` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:77:13: Argument `author` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:112:13: Argument `text` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:113:13: Argument `author` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/benchmarks/schema.py:114:13: Argument `post` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/python_312/test_generics_schema.py:1141:30: Argument `y` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics.py:1148:30: Argument `y` does not match any known parameter
+ warning[lint:unused-ignore-comment] /tmp/mypy_primer/projects/strawberry/tests/federation/printer/test_override.py:1:1: Unused blanket `type: ignore` directive
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/test_printer/test_schema_directives.py:565:51: Argument `name` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:238:53: Argument `total` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:238:62: Argument `items` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:239:53: Argument `total` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:239:62: Argument `items` does not match any known parameter
+ error[lint:unknown-argument] /tmp/mypy_primer/projects/strawberry/tests/schema/test_generics_nested.py:240:50: Argument `data` does not match any known parameter
+ warning[lint:unused-ignore-comment] /tmp/mypy_primer/projects/strawberry/tests/federation/printer/test_keys.py:1:1: Unused blanket `type: ignore` directive
- Found 2670 diagnostics
+ Found 2581 diagnostics

</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 14:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 14:32</div>
            <div class="timeline-body"><p>Ecosystem analysis:</p>
<p>There are a few new false positives.</p>
<p>We do not understand unannotated dataclass fields:</p>
<pre><code>@attr.define
class Foo:
    foo = attr.field()

Foo(foo=1)  # Argument `foo` does not match any known parameter
</code></pre>
<p>The false positives in <code>strawberry</code> from from the fact that we don&#x27;t understand <code>@dataclass_transform</code> in combination with overloads yet. This affects <a href="https://github.com/strawberry-graphql/strawberry/blob/be6caa05f86f236061d1bf3d3ff77a8bb64a003d/strawberry/types/object_type.py#L188-L228"><code>@strawberry.type</code></a>, but not some of the other &quot;transformers&quot; like <a href="https://github.com/strawberry-graphql/strawberry/blob/be6caa05f86f236061d1bf3d3ff77a8bb64a003d/strawberry/types/object_type.py#L388-L422"><code>@strawberry.interface</code></a>, because the latter also decorates the implementation itself with <code>@dataclass_transform</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-17 18:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-18 18:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:347 on 2025-04-18 18:44</div>
            <div class="timeline-body"><p>New name in analogy to the <code>__dataclass_params__</code> runtime introspection attribute, which contains the same information.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:3578 on 2025-04-18 19:00</div>
            <div class="timeline-body"><p>I think it&#x27;s fine to annotate this with <code>type</code>. We don&#x27;t need the generic <code>type[_T]</code> form, as we&#x27;re going to compute the return type &quot;manually&quot; anyway.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-18 19:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-18 19:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>Cargo.toml</code>:236 on 2025-04-18 19:31</div>
            <div class="timeline-body"><p>I didn&#x27;t find a way to only set this for <code>red_knot_python_semantic</code>, as it inherits this configuration, and it looks like I can&#x27;t overwrite workspace settings for lints?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-18 19:39</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>✅ ecosystem check detected no linter changes.</p>
Formatter (stable)
<p>✅ ecosystem check detected no format changes.</p>
Formatter (preview)
<p>✅ ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-18 20:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:290 on 2025-04-18 20:44</div>
            <div class="timeline-body"><p>This is similar to the (working) test above, but now it&#x27;s not the implementation that is decorated with <code>@dataclass_transform()</code>, but one of the overloads. This is explicitly allowed in the spec.</p>
<p>I haven&#x27;t looked into this deeply, but I am assume this isn&#x27;t working since we never see the decorator on the actual function definition. I am not sure how to handle this, as I&#x27;m not yet familiar with how overloads work. And how we would treat decorators on overloads. @dhruvmanila This is not urgent, but if you see an easy solution to this, I&#x27;d be glad to hear it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-18 20:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/call/bind.rs</code>:705 on 2025-04-18 20:45</div>
            <div class="timeline-body"><p>Haven&#x27;t invested more time into making this prettier, as I&#x27;m not sure if that one failing test case at the bottom if <code>dataclass_transform.md</code> will affect how we handle overloaded dataclass-transformers in general.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-18 20:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:3458 on 2025-04-21 18:41</div>
            <div class="timeline-body"><p>Probably just a TODO at most for now, but do we care at all about the annotated return type of a function decorated with <code>@dataclass_transform</code>, and whether it&#x27;s consistent with this signature?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:290 on 2025-04-21 19:07</div>
            <div class="timeline-body"><p>The logic for collecting overloads is in <code>FunctionType::signature</code> method. I think you&#x27;d either need to have that method also return &quot;dataclass transform params, if found&quot; (which is a little weird), or extract the overload-walking logic into a separate method that iterates overloads as <code>FunctionLiteral</code> types, and use that both for your purposes and in <code>::signature</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-04-21 19:07</div>
            <div class="timeline-body"><p>Looks good!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:368 on 2025-04-21 19:40</div>
            <div class="timeline-body"><p>nit: we could do <code>impl From&lt;DataclassTransformerParams&gt; for DataclassParams</code> ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:290 on 2025-04-21 21:39</div>
            <div class="timeline-body"><blockquote>
<p>extract the overload-walking logic into a separate method that iterates overloads as <code>FunctionLiteral</code> types, and use that both for your purposes and in <code>::signature</code>.</p>
</blockquote>
<p>Yeah, I think this is what I&#x27;d do as well.</p>
<p>Initially, I thought we could have a method that returns an iterator over the overloaded <code>FunctionType</code> but that wouldn&#x27;t work reliably because we need to follow through all of the symbols with the same name to find the boundary where the overload ends. This means the method would need to collect all of them, so maybe something like the following method:</p>
<pre><code>struct OverloadedFunction&lt;&#x27;db&gt; {
    /// The overloads of this function.
    overloads: Vec&lt;FunctionType&lt;&#x27;db&gt;&gt;,
    /// The implementation of this overloaded function, if any.
    implementation: Option&lt;FunctionType&lt;&#x27;db&gt;&gt;,
}

#[salsa::tracked]
impl&lt;&#x27;db&gt; FunctionType&lt;&#x27;db&gt; {
    /// Returns `self` as [`OverloadedFunction`] if it is overloaded, [`None`] otherwise.
    fn to_overloaded(self, db: &amp;&#x27;db dyn Db) -&gt; Option&lt;OverloadedFunction&lt;&#x27;db&gt;&gt; {
        todo!()
    }
}
</code></pre>
<p>This could be used to get the <code>DataclassTransformerParams</code> that&#x27;s added to a <code>FunctionType</code> which is decorated with <code>@dataclass_transform</code>. Another way would be to add a method to return this and to keep the above method internal-only:</p>
<pre><code>#[salsa::tracked]
impl&lt;&#x27;db&gt; FunctionType&lt;&#x27;db&gt; {
    /// Returns `self` as [`OverloadedFunction`] if it is overloaded, [`None`] otherwise.
    fn to_overloaded(self, db: &amp;&#x27;db dyn Db) -&gt; Option&lt;OverloadedFunction&lt;&#x27;db&gt;&gt; {
        todo!()
    }

	// TODO: What should be the name of this method? Or, should we change the field name?
    pub(crate) fn dataclass_transformer_params(self, ...) -&gt; Option&lt;DataclassTransformerParams&gt; {
		if let Some(overloaded) = self.to_overloaded(db) {
			// get the `DataclassTransformerParams` from `OverloadedFunction`
		} else {
			self.dataclass_transformer_params(db)
		}
	}
}
</code></pre>
<p>We might then need to check whether &quot;the <code>dataclass_transform</code> decorator is applied to any one, but not more than one, of the overloads&quot; and raise diagnostic (although Pyright and mypy doesn&#x27;t do that) within this function and then it might just be better to actually create the <code>DataclassTransformerParams</code> in this method instead of during inference.</p>
<p>I also thought about this for a bit and I would also need to somehow iterate over all the overloaded function definitions during the inference (at the end of <code>infer_region_scope</code>) to validate the overload usages. The information that I require would all exists on the <code>Signature</code> (would need to copy the <code>FunctionDecorators</code>) which can be fetched by the <code>signature</code> method so that might be ok.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> approved on 2025-04-21 21:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-22 08:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>Cargo.toml</code>:236 on 2025-04-22 08:32</div>
            <div class="timeline-body"><p>I&#x27;ll merge this for now, but I will open a salsa ticket to improve this, and add a reminder for myself to remove this again.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-22 08:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-22 08:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-04-22 08:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-22 08:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:290 on 2025-04-22 08:52</div>
            <div class="timeline-body"><p>Thank you Carl and Dhruv. I left this open for now, but opened a new (post-alpha?) <a href="https://github.com/astral-sh/ruff/issues/17541">ticket</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/abhijeetbodas2001">@abhijeetbodas2001</a> reviewed on 2025-05-02 10:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/abhijeetbodas2001">@abhijeetbodas2001</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:278 on 2025-05-02 10:31</div>
            <div class="timeline-body"><p>In this example, <code>versioned_class</code> takes in a parameter (<code>version</code>).
In that case, <code>versioned_class</code>, when called, should <em>return a decorator</em> which will accept a class, right?
If the default <code>version</code> value has to be picked up, even then, the invocation should be like this, isn&#x27;t it?</p>
<pre><code>@versioned_class()   # notice ()
class D1:
    x: str
</code></pre>
<p>@sharkdp I did not understand how <code>@versioned_class</code> (without the call) will work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:278 on 2025-05-02 10:47</div>
            <div class="timeline-body"><blockquote>
<p>In this example, <code>versioned_class</code> takes in a parameter (<code>version</code>).</p>
</blockquote>
<p>Well... it takes a keyword-only argument <code>version</code>. But it can also take a positional <code>cls</code> argument (first overload).</p>
<blockquote>
<p>In that case, <code>versioned_class</code>, when called, should <em>return a decorator</em> which will accept a class, right?</p>
</blockquote>
<p>If it&#x27;s called with <code>versioned_class(version=2)</code>, it should return a decorator, yes.</p>
<p>But if it&#x27;s called with <code>versioned_class(some_class)</code>, where <code>some_class</code> is of type <code>T</code>, it should return a <code>T</code> (first overload). This lets <code>versioned_class</code> <em>itself</em> also act as a decorator.</p>
<blockquote>
<p>If the default <code>version</code> value has to be picked up, even then, the invocation should be like this, isn&#x27;t it?</p>
</blockquote>
<blockquote>
<p><code>@versioned_class() # notice ()</code></p>
</blockquote>
<p>Using <code>@versioned_class()</code> should <em>also</em> work (it calls the second overload), but the purpose of this test was to check that it also works without the parens (in which case it is called with one argument, the <code>D1</code> class, and picks the first overload).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-05-02 10:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/abhijeetbodas2001">@abhijeetbodas2001</a> reviewed on 2025-05-02 12:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/abhijeetbodas2001">@abhijeetbodas2001</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:278 on 2025-05-02 12:11</div>
            <div class="timeline-body"><p>Thanks for the explanation.</p>
<blockquote>
<p>If it&#x27;s called with versioned_class(version=2), it should return a decorator, yes.</p>
</blockquote>
<p>For cases where <code>versioned_class</code> itself is the decorator (first overload), there is no way to pass a custom <code>version</code> value right? If so, what is the point of having the <code>version</code> kwarg in the first overload&#x27;s signature? (ie, why not just <code>versioned_class(cls: T) -&gt; T</code>?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-05-02 15:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:278 on 2025-05-02 15:25</div>
            <div class="timeline-body"><p>I guess you could still use it with non-decorator syntax</p>
<pre><code>class C: …

C = versioned_class(C, version=2)
</code></pre>
<p>But yeah, I agree, it&#x27;s probably not that useful. I added this test because a lot of libraries like <code>attrs</code>, <code>pydantic</code>, or <code>strawberry</code> use this exact pattern. They provide dataclass-like decorators which you can use with or without arguments. And using these two overloads is exactly how they are implemented.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/abhijeetbodas2001">@abhijeetbodas2001</a> reviewed on 2025-05-02 16:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/abhijeetbodas2001">@abhijeetbodas2001</a> on <code>crates/red_knot_python_semantic/resources/mdtest/dataclass_transform.md</code>:278 on 2025-05-02 16:00</div>
            <div class="timeline-body"><p>Got it, thanks for the context!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:13:24 UTC
    </footer>
</body>
</html>
