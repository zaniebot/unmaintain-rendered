```yaml
number: 19038
title: Update pre-commit dependencies
type: pull_request
state: merged
author: renovate
labels:
  - internal
assignees: []
merged: true
base: main
head: renovate/pre-commit-dependencies
created_at: 2025-06-30T01:02:12Z
updated_at: 2025-06-30T08:55:28Z
url: https://github.com/astral-sh/ruff/pull/19038
synced_at: 2026-01-10T18:39:09Z
```

# Update pre-commit dependencies

---

_Pull request opened by @renovate on 2025-06-30 01:02_

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [astral-sh/ruff-pre-commit](https://redirect.github.com/astral-sh/ruff-pre-commit) | repository | minor | `v0.11.13` -> `v0.12.1` |
| [python-jsonschema/check-jsonschema](https://redirect.github.com/python-jsonschema/check-jsonschema) | repository | patch | `0.33.0` -> `0.33.1` |
| [rbubley/mirrors-prettier](https://redirect.github.com/rbubley/mirrors-prettier) | repository | minor | `v3.5.3` -> `v3.6.2` |
| [woodruffw/zizmor-pre-commit](https://redirect.github.com/woodruffw/zizmor-pre-commit) | repository | minor | `v1.9.0` -> `v1.10.0` |

---

> [!WARNING]
> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.

Note: The `pre-commit` manager in Renovate is not supported by the `pre-commit` maintainers or community. Please do not report any problems there, instead [create a Discussion in the Renovate repository](https://redirect.github.com/renovatebot/renovate/discussions/new) if you have any questions.

---

### Release Notes

<details>
<summary>astral-sh/ruff-pre-commit (astral-sh/ruff-pre-commit)</summary>

### [`v0.12.1`](https://redirect.github.com/astral-sh/ruff-pre-commit/releases/tag/v0.12.1)

[Compare Source](https://redirect.github.com/astral-sh/ruff-pre-commit/compare/v0.12.0...v0.12.1)

See: https://github.com/astral-sh/ruff/releases/tag/0.12.1

### [`v0.12.0`](https://redirect.github.com/astral-sh/ruff-pre-commit/releases/tag/v0.12.0)

[Compare Source](https://redirect.github.com/astral-sh/ruff-pre-commit/compare/v0.11.13...v0.12.0)

See: https://github.com/astral-sh/ruff/releases/tag/0.12.0

</details>

<details>
<summary>python-jsonschema/check-jsonschema (python-jsonschema/check-jsonschema)</summary>

### [`v0.33.1`](https://redirect.github.com/python-jsonschema/check-jsonschema/blob/HEAD/CHANGELOG.rst#0331)

[Compare Source](https://redirect.github.com/python-jsonschema/check-jsonschema/compare/0.33.0...0.33.1)

- Update vendored schemas: bamboo-spec, bitbucket-pipelines, circle-ci, cloudbuild,
  compose-spec, dependabot, drone-ci, github-actions, github-workflows, gitlab-ci,
  mergify, readthedocs, renovate, taskfile, travis, woodpecker-ci (2025-06-22)
- Fix: support `click==8.2.0`
- Fix a bug in `Last-Modified` header parsing which used local time and could
  result in improper caching. Thanks :user:`fenuks`! (:pr:`565`)

</details>

<details>
<summary>rbubley/mirrors-prettier (rbubley/mirrors-prettier)</summary>

### [`v3.6.2`](https://redirect.github.com/rbubley/mirrors-prettier/compare/v3.6.1...v3.6.2)

[Compare Source](https://redirect.github.com/rbubley/mirrors-prettier/compare/v3.6.1...v3.6.2)

### [`v3.6.1`](https://redirect.github.com/rbubley/mirrors-prettier/compare/v3.6.0...v3.6.1)

[Compare Source](https://redirect.github.com/rbubley/mirrors-prettier/compare/v3.6.0...v3.6.1)

### [`v3.6.0`](https://redirect.github.com/rbubley/mirrors-prettier/compare/v3.5.3...v3.6.0)

[Compare Source](https://redirect.github.com/rbubley/mirrors-prettier/compare/v3.5.3...v3.6.0)

</details>

<details>
<summary>woodruffw/zizmor-pre-commit (woodruffw/zizmor-pre-commit)</summary>

### [`v1.10.0`](https://redirect.github.com/zizmorcore/zizmor-pre-commit/releases/tag/v1.10.0)

[Compare Source](https://redirect.github.com/woodruffw/zizmor-pre-commit/compare/v1.9.0...v1.10.0)

See: https://github.com/zizmorcore/zizmor/releases/tag/v1.10.0

</details>

---

### Configuration

ðŸ“… **Schedule**: Branch creation - "before 4am on Monday" (UTC), Automerge - At any time (no schedule defined).

ðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

â™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

ðŸ‘» **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://redirect.github.com/renovatebot/renovate/discussions) if that's undesired.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR was generated by [Mend Renovate](https://mend.io/renovate/). View the [repository job log](https://developer.mend.io/github/astral-sh/ruff).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiI0MC42Mi4xIiwidXBkYXRlZEluVmVyIjoiNDAuNjIuMSIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiaW50ZXJuYWwiXX0=-->


---

_Label `internal` added by @renovate[bot] on 2025-06-30 01:02_

---

_Comment by @dhruvmanila on 2025-06-30 08:01_

cc @AlexWaygood @ntBre 

There are 3 files where the new semantic syntax errors are being raised. I've made the following changes for 2 files:
- `scripts/generate_builtin_modules.py`: update the `requires-python` in `scripts/pyproject.toml` to `3.12`
- `crates/ty_python_semantic/mdtest.py`: use `per-file-target-version`

I'm not sure whether `crates/ty_vendored/ty_extensions/ty_extensions.pyi` should be special cased using `per-file-target-version` as it's a stub file, so it's not going to be run. We've documented the use of `target-version` in stub file as:

> Note that a stub file can [sometimes make use of a typing feature](https://typing.python.org/en/latest/spec/distributing.html#syntax) before it is available at runtime, as long as the stub does not make use of new syntax. For example, a type checker will understand int | str in a stub as being a Union type annotation, even if the type checker is run using Python 3.9, despite the fact that the | operator can only be used to create union types at runtime on Python 3.10+. As such, Ruff will often recommend newer features in a stub file than it would for an equivalent runtime file with the same target version.

But, the linked spec also mentions this:

> Stub files are syntactically valid Python files with a .pyi suffix. They should be parseable (e.g., with [ast.parse()](https://docs.python.org/3/library/ast.html#ast.parse)) in all Python versions that are supported by the implementation and that are still supported by the CPython project. For example, defining a type alias using the type keyword is only accepted by the Python parser in Python 3.12 and later, so stubs supporting Python 3.11 or earlier versions should not use this syntax.

---

_Comment by @github-actions[bot] on 2025-06-30 08:14_

<!-- generated-comment ecosystem -->
## `ruff-ecosystem` results
### Linter (stable)
âœ… ecosystem check detected no linter changes.

### Linter (preview)
âœ… ecosystem check detected no linter changes.

### Formatter (stable)
âœ… ecosystem check detected no format changes.

### Formatter (preview)
âœ… ecosystem check detected no format changes.




---

_Comment by @AlexWaygood on 2025-06-30 08:24_

> Stub files are syntactically valid Python files with a .pyi suffix. They should be parseable (e.g., with [ast.parse()](https://docs.python.org/3/library/ast.html#ast.parse)) in all Python versions that are supported by the implementation and that are still supported by the CPython project. For example, defining a type alias using the type keyword is only accepted by the Python parser in Python 3.12 and later, so stubs supporting Python 3.11 or earlier versions should not use this syntax.

The main reason why the spec mandates this is because some type checkers, such as mypy, are written in Python and (reasonably!) use Python's stdlib `ast` module for parsing Python files. So for interoperability you need stub files to be parseable on all Python versions if you want mypy to be able to understand them regardless of what Python version you're invoking mypy with. But for `ty_extensions`, no other type checker has any reason to read these stubs (they're not distributed anywhere outside this repo!), so I think it's fine to use the newer syntactic features in `ty_extensions.pyi`. I'd just add it to `per-file-target-version` for now; we can reconsider if and when we decide we want to publish the stub as a standalone PyPI package

---

_Comment by @dhruvmanila on 2025-06-30 08:41_

> so I think it's fine to use the newer syntactic features in `ty_extensions.pyi`. I'd just add it to `per-file-target-version` for now; we can reconsider if and when we decide we want to publish the stub as a standalone PyPI package

That sounds reasonable to me, thanks!

---

_Merged by @dhruvmanila on 2025-06-30 08:43_

---

_Closed by @dhruvmanila on 2025-06-30 08:43_

---

_Branch deleted on 2025-06-30 08:43_

---
