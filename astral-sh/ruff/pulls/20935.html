<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>docs: revise Ruff setup instructions for Zed editor - astral-sh/ruff #20935</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>docs: revise Ruff setup instructions for Zed editor</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20935">#20935</a>
        opened by <a href="https://github.com/LoicRiegel">@LoicRiegel</a>
        on 2025-10-17 08:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/LoicRiegel">@LoicRiegel</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Updated Ruff installation instructions for Zed editor.</p>
<h2>Details</h2>
<p>Ruff support is now built in and does not require installing an extension anymore. https://github.com/zed-industries/zed/pull/37804</p>
<p>Also FYI this open issue is related: https://github.com/zed-industries/zed/issues/40266.</p>
<p>But I've just tried the last code snippet from the docs on a fresh Zed install on Windows and it worked well without installing any extension.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-20 08:13</div>
            <div class="timeline-body"><p>Thank you. There's probably more that we can remove, now that ruff is used as the default formatter and linter (it's enabled by default) as mentioned here https://zed.dev/docs/languages/python#code-formatting--linting</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LoicRiegel">@LoicRiegel</a> on 2025-10-20 08:56</div>
            <div class="timeline-body"><p>I can have a look</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/injust">@injust</a> on 2025-10-20 13:36</div>
            <div class="timeline-body"><p>Zed comes with formatting and linting out-of-the-box now.</p>
<p>If you want Ruff to organize imports:</p>
<pre><code class="language-json">{
    &quot;languages&quot;: {
        &quot;Python&quot;: {
            &quot;code_actions_on_format&quot;: { &quot;source.organizeImports.ruff&quot;: true }
        }
    }
}
</code></pre>
<p>If you want Ruff to apply fixes (which includes organizing imports):</p>
<pre><code class="language-json">{
    &quot;languages&quot;: {
        &quot;Python&quot;: {
            &quot;code_actions_on_format&quot;: { &quot;source.fixAll.ruff&quot;: true }
        }
    }
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LoicRiegel">@LoicRiegel</a> on 2025-10-23 07:18</div>
            <div class="timeline-body"><p>I'll do a commit tonight.</p>
<p>Strange that Zed's documentation does not mention the <code>code_actions_on_format</code> anywhere in their python docs. But they have a nice tool to automatically update <code>settings.json</code> settings.
They also mention that the ruff configuration can be read from <code>ruff.toml</code>, but <code>.ruff.toml</code> and <code>pyproject.toml</code> also work (just tested, I wanted to be sure).
Maybe I'll make a small PR on their side too.</p>
<p>BTW do we want do add this in ty's documentation, or is this section https://docs.astral.sh/ty/editors/#other-editors enough?:</p>
<pre><code class="language-jsonc">{
  &quot;languages&quot;: {
    &quot;Python&quot;: {
      &quot;language_servers&quot;: [
        // Disable basedpyright and enable Ty, and otherwise
        // use the default configuration.
        &quot;ty&quot;,
        &quot;!basedpyright&quot;,
        &quot;...&quot;
      ]
    }
  }
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/injust">@injust</a> on 2025-10-23 07:33</div>
            <div class="timeline-body"><blockquote>
<p>Strange that Zed's documentation does not mention the <code>code_actions_on_format</code> anywhere in their python docs. But they have a nice tool to automatically update <code>settings.json</code> settings.</p>
</blockquote>
<p><code>code_actions_on_format</code> was slated to be removed from Zed (in favour of <code>code_action</code>), but it broke some uses cases, so it was added back. That might be why.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-23 07:53</div>
            <div class="timeline-body"><blockquote>
<p>BTW do we want do add this in ty's documentation, or is this section <a href="https://docs.astral.sh/ty/editors/#other-editors">docs.astral.sh/ty/editors#other-editors</a> enough?:</p>
</blockquote>
<p>Adding Zed to other editors makes sense to me, considering that we have a dedicated tab for Zed on the editor settings page.</p>
<blockquote>
<p>I'll do a commit tonight.</p>
</blockquote>
<p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/LoicRiegel">@LoicRiegel</a> on 2025-10-24 09:42</div>
            <div class="timeline-body"><p>Okay tell me what you think. I put back &quot;code_actions_on_format&quot; since this is what has to be used at the moment apparently</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @MichaReiser on 2025-10-27 08:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dhruvmanila by @MichaReiser on 2025-11-03 14:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-04 20:39</div>
            <div class="timeline-body"><p>Sorry for the late review</p>
<blockquote>
<p>Okay tell me what you think. I put back &quot;code_actions_on_format&quot; since this is what has to be used at the moment apparently</p>
</blockquote>
<p>Do you have a reference for this. Our recommendation is to run code actions (fixes and organize imports) <strong>before</strong> format but <code>code_actions_on_format</code> (at least according to the inline documentation), runs <strong>after</strong> formatting.</p>
<p>That's why I'd prefer to keep our existing recommended configuration, unless there are issues with it that we aren't aware of.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @dhruvmanila removed by @MichaReiser on 2025-11-04 20:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @MichaReiser on 2025-11-04 20:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/injust">@injust</a> on 2025-11-04 20:43</div>
            <div class="timeline-body"><blockquote>
<p>Do you have a reference for this. Our recommendation is to run code actions (fixes and organize imports) <strong>before</strong> format but <code>code_actions_on_format</code> (at least according to the inline documentation), runs <strong>after</strong> formatting.</p>
</blockquote>
<p>See https://github.com/zed-industries/zed/pull/40409. Zed removed <code>code_actions_on_format</code>, then added it back and included a migrator that will convert this:</p>
<pre><code class="language-json">{
    &quot;languages&quot;: {
        &quot;Python&quot;: {
            &quot;formatter&quot;: [{ &quot;code_action&quot;: &quot;source.fixAll.ruff&quot; }]
        }
    }
}
</code></pre>
<p>to this:</p>
<pre><code class="language-json">{
    &quot;languages&quot;: {
        &quot;Python&quot;: {
            &quot;code_actions_on_format&quot;: { &quot;source.fixAll.ruff&quot;: true }
        }
    }
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/injust">@injust</a> on 2025-11-04 20:45</div>
            <div class="timeline-body"><p>cc @probably-neb if you have more insight on the <code>code_action</code> -&gt; <code>code_actions_on_format</code> migrator causing side effects for code action ordering before/after formatting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/probably-neb">@probably-neb</a> on 2025-11-04 21:46</div>
            <div class="timeline-body"><p>Thanks for the ping @injust</p>
<blockquote>
<p>Do you have a reference for this. Our recommendation is to run code actions (fixes and organize imports) before format but code_actions_on_format (at least according to the inline documentation), runs after formatting.</p>
</blockquote>
<p>Where are you seeing this documentation @MichaReiser? I'd love to fix it. I wrote the code that runs <code>code_actions_on_format</code> before the format steps specified in the <code>&quot;formatter&quot;</code> setting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-04 21:58</div>
            <div class="timeline-body"><blockquote>
<p>Where are you seeing this documentation @MichaReiser? I'd love to fix it. I wrote the code that runs code_actions_on_format before the format steps specified in the &quot;formatter&quot; setting.</p>
</blockquote>
<p>Oh great! That's exactly what we need. The description is from Zed's on hover tooltip</p>
<p><img width="1297" height="466" alt="Screenshot 2025-11-04 at 16 57 32" src="https://github.com/user-attachments/assets/f54754c0-0316-4b70-ad22-b5d0b79504dd" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-11-06 01:11</div>
            <div class="timeline-body"><p>Thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2025-11-06 01:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-11-06 01:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-06 07:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/probably-neb">@probably-neb</a> on 2025-11-06 18:26</div>
            <div class="timeline-body"><p>Docs are fixed in https://github.com/zed-industries/zed/pull/42128. Thanks all!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:16:30 UTC
    </footer>
</body>
</html>
