<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[docs] improve and fix entry for `analyze.include-dependencies` - astral-sh/ruff #15197</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[docs] improve and fix entry for <code>analyze.include-dependencies</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/15197">#15197</a>
        opened by <a href="https://github.com/purajit">@purajit</a>
        on 2024-12-30 07:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/purajit">@purajit</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Changes two things about the entry:</p>
<ul>
<li>make the example valid TOML - inline tables must be a single line, at least till v1.1.0 is released,
but also while in the future the toml version used by ruff might handle it, it would probably be
good to stick to a spec that's readable by the vast majority of other tools and versions as well,
especially if people are using <code>pyproject.toml</code>. The current example leads to <code>ruff</code> failure.
See https://github.com/toml-lang/toml/pull/904</li>
<li>adds a line about the ability to add non-Python files to the map, which I think is a specific and
important feature people should know about (in fact, I would assume this could potentially
become the single biggest use-case for this).</li>
</ul>
<h2>Test Plan</h2>
<p>Ran doc creation as described in the <a href="https://docs.astral.sh/ruff/contributing/#mkdocs">contribution</a> guide.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[docs] improve and fix entry for analyze.include-dependencies" to "[docs] improve and fix entry for `analyze.include-dependencies`" by @purajit on 2024-12-30 07:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/purajit">@purajit</a> on 2024-12-30 07:11</div>
            <div class="timeline-body"><p>new entry
<img width="987" alt="image" src="https://github.com/user-attachments/assets/98d10024-1efd-43b0-ba29-e8e1849e5e5e" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-12-30 07:17</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @MichaReiser on 2024-12-30 08:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @MichaReiser on 2024-12-30 08:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/purajit">@purajit</a> on 2024-12-30 09:09</div>
            <div class="timeline-body"><p>For the second point, I was trying to see if that was intentional or not; couldn't find anything
in the original PR, and the code
https://github.com/astral-sh/ruff/blob/8a98d888474a1c1a5bff61fe94f8d875c1a4ccb2/crates/ruff/src/commands/analyze_graph.rs#L156-L159
doesn't suggest anything strongly either; <code>GlobResolver</code> resolves all files. My main hesitation
is that it's consistently called an &quot;import map&quot;, and there are already issues/discussions about
expanding the scope of <code>analyze graph</code> assuming that these are only Python deps.. I hope it
stays, though I understand if it won't.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-12-30 15:40</div>
            <div class="timeline-body"><p>Thanks! It's an intentional behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-12-30 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-12-30 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-12-31 19:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:08:47 UTC
    </footer>
</body>
</html>
