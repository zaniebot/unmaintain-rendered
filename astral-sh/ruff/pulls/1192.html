<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check for outdated auto-generated files in CI - astral-sh/ruff #1192</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Check for outdated auto-generated files in CI</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/1192">#1192</a>
        opened by <a href="https://github.com/squiddy">@squiddy</a>
        on 2022-12-11 07:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/squiddy">@squiddy</a></div>
            <div class="timeline-body"><p>I&#x27;ve noticed that sometimes those generated files become out of sync with the code. I&#x27;ve adjusted the CI workflow to put notice messages on those files if it detects changes.</p>
<p>Haven&#x27;t worked with github workflows before, so there might be some nicer way. <em>If</em> this is even interesting, otherwise don&#x27;t hestitate to close. :)</p>
<p><img src="https://user-images.githubusercontent.com/50333/206892338-6962e7d3-8272-45dd-8ec6-4ac65cf36843.png" alt="image"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 14:19</div>
            <div class="timeline-body"><p>Thank you, I desperately want this!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 14:19</div>
            <div class="timeline-body"><p>(Does the CI task fail if the diff surfaces differences?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2022-12-11 14:22</div>
            <div class="timeline-body"><p>It doesn&#x27;t yet, I wasn&#x27;t sure how much you would like to escalate this, hence the warning. I&#x27;ll change it accordingly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 14:25</div>
            <div class="timeline-body"><p>I guess ideally it’d diff every file, then fail the task. But failing as soon as it hits a “bad” diff is also fine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 14:25</div>
            <div class="timeline-body"><p>(If it doesn’t fail the task I’ll probably miss it at least once :))</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2022-12-11 15:14</div>
            <div class="timeline-body"><p>@charliermarsh It now fails the job when there are changes. I added a temporary 2nd commit to show that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 15:18</div>
            <div class="timeline-body"><p>Awesome, thank you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 15:19</div>
            <div class="timeline-body"><p>It&#x27;s worth saying aloud that all of your PRs have been so good and hugely appreciated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2022-12-11 15:25</div>
            <div class="timeline-body"><p>Thank you. Happy to contribute and learn. It&#x27;s really awesome to get your quick feedback, that&#x27;s very encouraging.</p>
<p>You merged the <code>REMOVE ME</code> commit though, so now the main pipeline will fail. :innocent:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-11 15:34</div>
            <div class="timeline-body"><p>Way to go, me :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JonathanPlasse">@JonathanPlasse</a> on 2022-12-11 18:01</div>
            <div class="timeline-body"><p>@charliermarsh, would you be interested in adding a pre-commit hook that checks if the auto-generated files are up to date?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-12-13 19:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:51:35 UTC
    </footer>
</body>
</html>
