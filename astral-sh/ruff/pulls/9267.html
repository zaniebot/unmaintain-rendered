<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`pylint`] Implement `self-cls-assignment` (`W0642`) - astral-sh/ruff #9267</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>pylint</code>] Implement <code>self-cls-assignment</code> (<code>W0642</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/9267">#9267</a>
        opened by <a href="https://github.com/diceroll123">@diceroll123</a>
        on 2023-12-24 22:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/diceroll123">@diceroll123</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Implements <a href="https://pylint.readthedocs.io/en/stable/user_guide/messages/warning/self-cls-assignment.html"><code>W0642</code>/<code>self-cls-assignment</code></a></p>
<p>See: #970</p>
<h2>Test Plan</h2>
<p><code>cargo test</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-12-24 22:17</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>‚úÖ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>‚ÑπÔ∏è ecosystem check <strong>detected linter changes</strong>. (+52 -0 violations, +0 -0 fixes in 2 projects; 42 projects unchanged)</p>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/events.py#L182'>src/bokeh/events.py:182:9:</a> PLW0642 Invalid assignment to `cls` argument in class method
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+51 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/categorical.py#L568'>pandas/core/arrays/categorical.py:568:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1083'>pandas/core/arrays/datetimelike.py:1083:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1098'>pandas/core/arrays/datetimelike.py:1098:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1099'>pandas/core/arrays/datetimelike.py:1099:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1127'>pandas/core/arrays/datetimelike.py:1127:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1136'>pandas/core/arrays/datetimelike.py:1136:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1147'>pandas/core/arrays/datetimelike.py:1147:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1149'>pandas/core/arrays/datetimelike.py:1149:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1154'>pandas/core/arrays/datetimelike.py:1154:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1203'>pandas/core/arrays/datetimelike.py:1203:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1205'>pandas/core/arrays/datetimelike.py:1205:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1221'>pandas/core/arrays/datetimelike.py:1221:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1278'>pandas/core/arrays/datetimelike.py:1278:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1292'>pandas/core/arrays/datetimelike.py:1292:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1498'>pandas/core/arrays/datetimelike.py:1498:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L1717'>pandas/core/arrays/datetimelike.py:1717:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L2144'>pandas/core/arrays/datetimelike.py:2144:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L2166'>pandas/core/arrays/datetimelike.py:2166:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L455'>pandas/core/arrays/datetimelike.py:455:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L806'>pandas/core/arrays/datetimelike.py:806:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/arrays/datetimelike.py#L997'>pandas/core/arrays/datetimelike.py:997:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/frame.py#L7715'>pandas/core/frame.py:7715:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/frame.py#L7728'>pandas/core/frame.py:7728:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/frame.py#L8071'>pandas/core/frame.py:8071:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/frame.py#L8083'>pandas/core/frame.py:8083:21:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/frame.py#L8123'>pandas/core/frame.py:8123:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L3407'>pandas/core/generic.py:3407:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L3568'>pandas/core/generic.py:3568:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L7905'>pandas/core/generic.py:7905:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L7908'>pandas/core/generic.py:7908:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L7911'>pandas/core/generic.py:7911:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L9168'>pandas/core/generic.py:9168:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L9175'>pandas/core/generic.py:9175:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/generic.py#L9178'>pandas/core/generic.py:9178:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/groupby/grouper.py#L249'>pandas/core/groupby/grouper.py:249:13:</a> PLW0642 Invalid assignment to `cls` argument in class method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L1329'>pandas/core/indexes/base.py:1329:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L2130'>pandas/core/indexes/base.py:2130:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L2913'>pandas/core/indexes/base.py:2913:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L3061'>pandas/core/indexes/base.py:3061:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L3293'>pandas/core/indexes/base.py:3293:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L4384'>pandas/core/indexes/base.py:4384:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L5958'>pandas/core/indexes/base.py:5958:17:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/indexes/base.py#L5962'>pandas/core/indexes/base.py:5962:20:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/internals/blocks.py#L1122'>pandas/core/internals/blocks.py:1122:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/internals/blocks.py#L1170'>pandas/core/internals/blocks.py:1170:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/internals/blocks.py#L1733'>pandas/core/internals/blocks.py:1733:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/internals/managers.py#L578'>pandas/core/internals/managers.py:578:13:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/series.py#L5835'>pandas/core/series.py:5835:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
+ <a href='https://github.com/pandas-dev/pandas/blob/d8c7e85a1b260f2296ad4b921555b699b3ed3f27/pandas/core/series.py#L5844'>pandas/core/series.py:5844:9:</a> PLW0642 Invalid assignment to `self` argument in instance method
... 2 additional changes omitted for project
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PLW0642 | 52 | 52 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[pylint] - implement `W0642`/`self-cls-assignment`" to "[`pylint`] - implement `W0642`/`self-cls-assignment`" by @diceroll123 on 2024-01-20 22:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`pylint`] - implement `W0642`/`self-cls-assignment`" to "[`pylint`] - implement `self-cls-assignment` (`W0642`)" by @diceroll123 on 2024-01-21 04:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">accepted</span> added by @MichaReiser on 2024-04-05 10:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-05 10:26</div>
            <div class="timeline-body"><p>The rule fits into the suspicious category. We should consider renaming the rule to <code>self-or-cls-assignments</code> to make it grammatically correct <code>allow(self-or-cls-assignments)</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @dhruvmanila by @dhruvmanila on 2024-04-10 09:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2024-04-10 09:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:27 on 2024-04-10 10:13</div>
            <div class="timeline-body"><p>I think we can improve the message here depending on whether <code>self</code> or <code>cls</code> was used. We can frame it in a similar way as Pylint does:</p>
<pre><code>Invalid assignment to (self|cls) in (instance|class) method
</code></pre>
<p>We can use the <code>MethodType</code> enum as suggested below.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:16 on 2024-04-10 10:13</div>
            <div class="timeline-body"><p>Can you expand the documentation to include an &quot;Example&quot; section and optionally a &quot;References&quot; section? For example,</p>
<p>https://github.com/astral-sh/ruff/blob/de46a36bbcdc1df4a56fc486ae5c7bcf2c4bbba0/crates/ruff_linter/src/rules/flake8_2020/rules/name_or_attribute.rs#L20-L37</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:18 on 2024-04-10 10:17</div>
            <div class="timeline-body"><p>As suggested by Micha, can you rename this to <code>self_or_cls_assignment</code>?</p>
<pre><code class="language-suggestion">pub struct SelfOrClsAssignment {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:31 on 2024-04-10 10:18</div>
            <div class="timeline-body"><p>As suggested by Micha, can you rename this to <code>self_or_cls_assignment</code>?</p>
<pre><code class="language-suggestion">pub(crate) fn self_or_cls_assignment(checker: &amp;mut Checker, target: &amp;Expr) {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:63 on 2024-04-10 10:21</div>
            <div class="timeline-body"><p>We'd need to first check in <code>posonlyargs</code> and then in <code>args</code> as in:</p>
<pre><code class="language-rs">    let Some(ParameterWithDefault {
        parameter: self_or_cls,
        ..
    }) = parameters
        .posonlyargs
        .first()
        .or_else(|| parameters.args.first())
    else {
        return;
    };
</code></pre>
<p>This is in case there's a <code>/</code> in the parameter list <code>def foo(self, foo, /): ...</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:73 on 2024-04-10 10:26</div>
            <div class="timeline-body"><p>nit: I'd move these checks before the function classification above and possibly use an enum. We can then use this enum in <code>SelfOrClsAssignment</code> and accordingly format the error message as suggested earlier:</p>
<pre><code class="language-rs">#[derive(Debug, Copy, Clone, PartialEq, Eq)]
enum MethodType {
	Instance,
	Class,
}

impl MethodType {
	fn arg_name(self) -&gt; &amp;'static str {
		match self {
			MethodType::Instance =&gt; &quot;self&quot;,
			MethodType::Class =&gt; &quot;cls&quot;,
		}
	}
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:97 on 2024-04-10 10:28</div>
            <div class="timeline-body"><p>We'd also need to check in <code>Expr::List</code> in a similar manner as that's a valid assignment target.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/self_cls_assignment.py</code>:18 on 2024-04-10 10:28</div>
            <div class="timeline-body"><p>Can you add a similar test case for <code>self</code> used in a class method?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/self_cls_assignment.py</code>:8 on 2024-04-10 10:29</div>
            <div class="timeline-body"><p>We should also add test cases when the assignment target is a list. Refer to my comment below.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/self_cls_assignment.py</code>:3 on 2024-04-10 10:30</div>
            <div class="timeline-body"><p>Can we add some test cases which uses other type of functions? For example:</p>
<p>Using a normal function:</p>
<pre><code class="language-py">def list_fruits(self, cls) -&gt; None:
    self = &quot;apple&quot;  # Ok
    cls = &quot;banana&quot;  # Ok
</code></pre>
<p>Using a static method:</p>
<pre><code class="language-py">class Fruit:
	@staticmethod
	def list_fruits(self, cls) -&gt; None:
	    self = &quot;apple&quot;  # Ok
	    cls = &quot;banana&quot;  # Ok
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> requested changes on 2024-04-10 10:32</div>
            <div class="timeline-body"><p>Thank you for the PR!</p>
<p>This looks like a great start. I've a few recommendations around testing and logic but otherwise looks good.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/diceroll123">@diceroll123</a> on 2024-04-13 17:45</div>
            <div class="timeline-body"><p>Couldn't find any official Python documentation on why this is not a good thing to do in code, but I've added an example, and addressed other changes as well. üòÑ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dhruvmanila by @diceroll123 on 2024-04-13 17:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2024-04-15 08:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/pylint/rules/self_cls_assignment.rs</code>:63 on 2024-04-15 08:54</div>
            <div class="timeline-body"><p>I went ahead and added test cases for this scenario</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> approved on 2024-04-15 09:01</div>
            <div class="timeline-body"><p>Thank you! I made some additional changes which I've listed down:</p>
<ul>
<li>Check starred expressions (<code>*self = &quot;foo&quot;</code>)</li>
<li>Update example case and add &quot;Use instead:&quot; section</li>
</ul>
<p>Looking at the ecosystem changes, a follow-up would probably be to allow type casting like the following:</p>
<pre><code class="language-py">self = cast(Fruits, self)
cls = cast(Colors, cls)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`pylint`] - implement `self-cls-assignment` (`W0642`)" to "[`pylint`] Implement `self-cls-assignment` (`W0642`)" by @dhruvmanila on 2024-04-15 09:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @dhruvmanila on 2024-04-15 09:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @dhruvmanila on 2024-04-15 09:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-04-15 09:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:02:00 UTC
    </footer>
</body>
</html>
