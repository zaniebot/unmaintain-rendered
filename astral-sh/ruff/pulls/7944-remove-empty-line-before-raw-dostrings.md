```yaml
number: 7944
title: Remove empty line before raw dostrings
type: pull_request
state: closed
author: konstin
labels: []
assignees: []
base: main
head: Remove_empty_line_before_raw_dostrings
created_at: 2023-10-13T14:05:18Z
updated_at: 2023-10-16T07:38:41Z
url: https://github.com/astral-sh/ruff/pull/7944
synced_at: 2026-01-12T02:32:41Z
```

# Remove empty line before raw dostrings

---

_Pull request opened by @konstin on 2023-10-13 14:05_

**Summary** This fixes a deviation with black where black would remove empty lines before raw docstrings for some reason.



---

_Comment by @konstin on 2023-10-13 14:05_

Current dependencies on/for this PR:
* main
  * **PR #7944** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7944" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ
    * **PR #7946** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7946" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7944?utm_source=stack-comment).

---

_@charliermarsh reviewed on 2023-10-13 19:26_

I think Black treats this as "not a docstring" -- it does the same thing with non-triple-quoted strings in docstring positions, so e.g., it removes the newline here:

```python
class C:

    "abc"
```

My opinion would be to keep our current behavior, because we _do_ treat such non-triple-quoted strings as docstrings unlike Black, so treating the raw strings as docstrings is more internally consistent for us (and feels like a bug in Black).

---

_Comment by @konstin on 2023-10-16 07:38_

Reported upstream: https://github.com/psf/black/issues/3944

---

_Closed by @konstin on 2023-10-16 07:38_

---
