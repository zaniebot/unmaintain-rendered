<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add TRIO106 rule - astral-sh/ruff #8468</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add TRIO106 rule</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/8468">#8468</a>
        opened by <a href="https://github.com/karpetrosyan">@karpetrosyan</a>
        on 2023-11-03 12:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/karpetrosyan">@karpetrosyan</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This PR is a part of #8451 and adds TRIO106 rule.</p>
<p>Examples</p>
<p>Bad</p>
<pre><code class="language-python">import trio as asyncio
</code></pre>
<p>Bad</p>
<pre><code class="language-python">from trio import move_on_after
</code></pre>
<p>Good</p>
<pre><code class="language-python">import trio
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-11-03 13:47</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-03 15:05</div>
            <div class="timeline-body"><p>I'm not sure this limitation exists in Ruff. I believe we can detect the renamed import when determining if <code>trio</code> is being used.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 15:39</div>
            <div class="timeline-body"><p>Yeah we can actually detect <code>from trio import foo as bar</code>, <code>import trio as foo</code>, etc.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karpetrosyan">@karpetrosyan</a> on 2023-11-03 23:18</div>
            <div class="timeline-body"><blockquote>
<p>I'm not sure this limitation exists in Ruff. I believe we can detect the renamed import when determining if <code>trio</code> is being used.</p>
</blockquote>
<p>I am not sure I understand what you mean here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 23:50</div>
            <div class="timeline-body"><p>@karpetrosyan - It seems like this rule exists in flake8-trio because flake8-trio needs <code>trio</code> to be imported as <code>trio</code> -- as in, <code>import trio</code> rather than <code>import trio as foo</code>.</p>
<p>In Ruff, we abstract that away. Whenever you use <code>resolve_call_path</code>, we resolve aliases. So if the user does <code>import trio as foo; foo.do_trio_thing()</code>, we'd understand that <code>foo.do_trio_thing()</code> is a reference to <code>trio.do_trio_thing</code>.</p>
<p>In other words, it seems like the limitation that exists in flake8-trio doesn't apply to Ruff, and so the rule wouldn't be needed. Does that make sense?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/karpetrosyan">@karpetrosyan</a> on 2023-11-04 00:06</div>
            <div class="timeline-body"><p>Yes, that makes perfect sense. Thanks @charliermarsh !</p>
<p>I am new to Ruff, so sorry if this PR was useless. Do I need to close it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-04 13:35</div>
            <div class="timeline-body"><p>@karpetrosyan - Not at all, no need to apologize! On the contrary, I'm sorry that you invested time in it. Yes, we can close the PR, since the rule doesn't seem relevant here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-11-04 13:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:01:15 UTC
    </footer>
</body>
</html>
