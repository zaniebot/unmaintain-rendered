<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolve editor-specified config file once - astral-sh/ruff #15494</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Resolve editor-specified config file once</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/15494">#15494</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2025-01-15 12:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This PR updates the logic for handling <code>ruff.configuration</code> setting to read and resolve the path (if specified) once.</p>
<p>The main motivation for this is so that we can send a request to the client to show the notification in case there are any failures when processing this setting. Without this change, the notification will be send as many times as the number of config files present in the project.</p>
<p>Closes: #12572</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @dhruvmanila on 2025-01-15 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-01-15 12:48</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-01-15 13:07</div>
            <div class="timeline-body"><p>Hmm, this might not be the correct solution. We'll also need to register the file watcher for the path specified in <code>ruff.configuration</code> and update it. And, we don't really control the file-watcher on server side as we rely on the client side so we can't be sure that this is happening which is also the case for existing config files.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-02-20 11:07</div>
            <div class="timeline-body"><p>I'm going to close this for now with the changes that are going to happen for in-editor settings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2025-02-20 11:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:09:10 UTC
    </footer>
</body>
</html>
