<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix E731 - astral-sh/ruff #766</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix E731</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/766">#766</a>
        opened by <a href="https://github.com/harupy">@harupy</a>
        on 2022-11-16 08:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/harupy">@harupy</a> on 2022-11-16 08:58</div>
            <div class="timeline-body"><p>E731 should be only emitted when the assignment target is a <code>Name</code>.</p>
<pre><code class="language-python">a = lambda: None  # bad, should be converted to `def a(): return None`.
a.b = lambda: None  # ok
a[&quot;b&quot;] = lambda  # ok
</code></pre>
<pre><code class="language-bash"># Flake8

&gt; flake8 --select E731 resources/test/fixtures/E731.py
resources/test/fixtures/E731.py:2:1: E731 do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:4:1: E731 do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:7:5: E731 do not assign a lambda expression, use a def

# Current

&gt; cargo run -- --select E731 resources/test/fixtures/E731.py
resources/test/fixtures/E731.py:2:1: E731 Do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:4:1: E731 Do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:7:5: E731 Do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:12:1: E731 Do not assign a lambda expression, use a def  ðŸ‘ˆ
resources/test/fixtures/E731.py:16:1: E731 Do not assign a lambda expression, use a def  ðŸ‘ˆ

# With fix

&gt; cargo run -- --select E731 resources/test/fixtures/E731.py
resources/test/fixtures/E731.py:2:1: E731 Do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:4:1: E731 Do not assign a lambda expression, use a def
resources/test/fixtures/E731.py:7:5: E731 Do not assign a lambda expression, use a def


</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2022-11-16 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-11-16 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-11-16 15:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 05:51:00 UTC
    </footer>
</body>
</html>
