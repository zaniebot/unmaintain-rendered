<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `red_knot/README.md` - astral-sh/ruff #16230</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>red_knot/README.md</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/16230">#16230</a>
        opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a>
        on 2025-02-18 13:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Resolves #15979.</p>
<p>The file explains what Red Knot is (a type checker), what state it is in (not yet ready for user testing), what its goals (&quot;extremely fast&quot;) and non-goals (not a drop-in replacement for other type checkers) are as well as what the crates contain.</p>
<h2>Test Plan</h2>
<p>None.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @InSyncWithFoo on 2025-02-18 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @InSyncWithFoo on 2025-02-18 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @InSyncWithFoo on 2025-02-18 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @InSyncWithFoo on 2025-02-18 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @AlexWaygood on 2025-02-18 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @AlexWaygood on 2025-02-18 13:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2025-02-18 13:03</div>
            <div class="timeline-body"><p>The &quot;Contributing&quot; section is rather crude. I'm not sure what to add other than a link to open issues.</p>
<hr />
<p>Also, what does <code>red_knot_wasm</code> do?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:3 on 2025-02-18 13:06</div>
            <div class="timeline-body"><p>well... we <em>hope</em> it will be. I'm not sure I'm comfortable saying that it is &quot;extremely fast&quot; relative to other type checkers <em>yet</em>, because there's still so much that they do that we don't.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:8 on 2025-02-18 13:07</div>
            <div class="timeline-body"><p>While this is true, I worry that this might be the wrong emphasis. We certainly won't be a drop-in replacement for either tool in every respect, but it's important to us that it's not too onerous for users to switch from one of those tools to red-knot</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:20 on 2025-02-18 13:08</div>
            <div class="timeline-body"><p>I worry that this might get easily out of date. We're still at the stage where we're often doing quite sweeping reorganisation of code. Also, you're missing <code>ruff_db</code> from the list :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:21 on 2025-02-18 13:08</div>
            <div class="timeline-body"><p>I think this is a great idea! Doesn't seem that crude to me</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-02-18 13:08</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2025-02-18 13:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/red_knot/README.md</code>:3 on 2025-02-18 13:13</div>
            <div class="timeline-body"><p>And yet this tagline is already so prominently displayed:</p>
<pre><code class="language-shell">$ red_knot --help
An extremely fast Python type checker.

Usage: red_knot.exe &lt;COMMAND&gt;

Commands:
  check    Check a project for type errors
  server   Start the language server
  version  Display Red Knot's version
  help     Print this message or the help of the given subcommand(s)

Options:
  -h, --help     Print help
  -V, --version  Print version
</code></pre>
<p>Might as well go all the way, I suppose.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2025-02-18 13:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/red_knot/README.md</code>:8 on 2025-02-18 13:21</div>
            <div class="timeline-body"><p>I can't think of a better phrasing. What do you suggest?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2025-02-18 13:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/red_knot/README.md</code>:20 on 2025-02-18 13:21</div>
            <div class="timeline-body"><p>Added. Updating should be easy enough.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-02-18 13:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:3 on 2025-02-18 13:48</div>
            <div class="timeline-body"><p>Heh, fair enough, I suppose. I guess we're not displaying comparative benchmarks yet, anyway. I'd like to check other members of the team are also okay with this, however.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-02-18 13:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:20 on 2025-02-18 13:48</div>
            <div class="timeline-body"><p>Updating it is easy, sure. Remembering to update it is hard, however. I think it's pretty likely we'll forget to update it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-02-18 13:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot/README.md</code>:8 on 2025-02-18 13:54</div>
            <div class="timeline-body"><p>Probably something like</p>
<pre><code>While red-knot will produce similar results to mypy and pyright on many codebases,
100% compatibility with these tools is a non-goal. On some codebases, red-knot's design decisions
lead to different outcomes than you would get from running one of these more established tools.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2025-02-18 14:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/red_knot/README.md</code>:20 on 2025-02-18 14:05</div>
            <div class="timeline-body"><p>It's not like anyone other than Red Knot contributors will read this, either, so a rough/slightly outdated guideline shouldn't be too much of a disaster (updating it could be a good first issue, even).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-02-18 17:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/red_knot/README.md</code>:3 on 2025-02-18 17:09</div>
            <div class="timeline-body"><p>I'm fine with it and it's easy to change if it turns out that red knot is slow (I think it's about 30x faster on my machine when comparing black)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-02-18 17:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/red_knot/README.md</code>:20 on 2025-02-18 17:10</div>
            <div class="timeline-body"><p>I'd prefer to remove it as well. Most of it is either obvious from the name or documented in the project READMEs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-02-19 07:30</div>
            <div class="timeline-body"><blockquote>
<p>what does <code>red_knot_wasm</code> do?</p>
</blockquote>
<p>It was the start of an effort to support compiling red-knot under WASM, so we could have an online red-knot playground, like the ruff playground. It's on hold because we need to remove Salsa's reliance on catch-unwind before it can be WASM compatible. My work on fixpoint iteration support in Salsa does this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-02-19 07:30</div>
            <div class="timeline-body"><p>Looks good to me! Merging.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @carljm on 2025-02-19 07:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-02-19 07:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-02-19 08:12</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:10:09 UTC
    </footer>
</body>
</html>
