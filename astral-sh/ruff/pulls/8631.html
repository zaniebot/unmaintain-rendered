<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indicated Successful Check - astral-sh/ruff #8631</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Indicated Successful Check</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/8631">#8631</a>
        opened by <a href="https://github.com/vinhocent">@vinhocent</a>
        on 2023-11-12 18:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vinhocent">@vinhocent</a></div>
            <div class="timeline-body">

Summary
<p>Adds a successful check message after no errors were found 
Implements #8553</p>


Test Plan
<p>Ran a check on a test file with <code>cargo run -p ruff_cli -- check test.py --no-cache</code> and outputted as expected.</p>
<p>Ran the same check with <code>cargo run -p ruff_cli -- check test.py --no-cache --silent</code> and the command was gone as expected.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vinhocent">@vinhocent</a> on 2023-11-12 18:14</div>
            <div class="timeline-body"><p>I&#x27;m wondering how to add the counting for the number of files checked - I see that it lives in <code>check.rs</code> here but this stat isn&#x27;t available in diagnostics, is it?</p>
<p><img src="https://github.com/astral-sh/ruff/assets/17696462/4efa256b-79e1-4770-9d8d-4814a687910e" alt="image"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vinhocent">@vinhocent</a> on 2023-11-12 18:29</div>
            <div class="timeline-body"><p>Also in the case of tests like this:
<img src="https://github.com/astral-sh/ruff/assets/17696462/26aae658-b3b9-4b53-9cb9-51383f52c316" alt="image"></p>
<p>Do we even want to output a successful check?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-11-13 11:09</div>
            <div class="timeline-body"><p>No, we should fail there but currently don&#x27;t</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/konstin">@konstin</a> on 2023-11-13 11:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nunokaeru">@nunokaeru</a> on 2023-12-17 11:22</div>
            <div class="timeline-body"><p>This might cause issues with <code>pre-commit</code> since that framework uses &quot;any message at the output&quot; as error. Or bash pre-commit hooks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hughhan1">@hughhan1</a> on 2024-01-13 16:51</div>
            <div class="timeline-body"><blockquote>
<p>No, we should fail there but currently don&#x27;t</p>
</blockquote>
<p>@konstin, by &quot;fail&quot;, do you specifically mean that we should be exiting with a non-zero exit code? And perhaps continuing to have nothing dumped to <code>stdout</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-01-18 09:55</div>
            <div class="timeline-body"><blockquote>
<p>by &quot;fail&quot;, do you specifically mean that we should be exiting with a non-zero exit code?</p>
</blockquote>
<p>yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/zanieb">@zanieb</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-02 17:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2024-03-11 18:56</div>
            <div class="timeline-body"><p>@konstin this seems very simple, my only thought is maybe we should have a different message that&#x27;s in a different format so it&#x27;s obviously distinct e.g. &quot;No errors found&quot; (I don&#x27;t love exact message that since it sounds like an error)</p>
<p>@charliermarsh any ideas?</p>
<p>I&#x27;d also like to say how many files we scanned e.g. &quot;Found 0 errors in 125 files&quot; would be helpful to know it actually scanned something. We can track that separately.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2024-03-11 20:02</div>
            <div class="timeline-body"><p>Slight preference for something like &quot;All checks passed&quot; over something that contains the word error, otherwise i&#x27;m on board.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-11 21:28</div>
            <div class="timeline-body"><p>I like &quot;All checks passed&quot; although it&#x27;s a little outside our normal terminology</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-13 18:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-13 19:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-13 19:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-03-13 19:12</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-21 18:23</div>
            <div class="timeline-body"><p>I&#x27;m not sure what to say here. A configuration option for this seems excessive and it is significantly friendlier for Ruff to indicate that it <em>did</em> something. If you want to open an issue requesting a configuration option, we can consider it. I&#x27;d want to see significant community feedback that this is important first though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/silverwind">@silverwind</a> on 2024-03-21 18:26</div>
            <div class="timeline-body"><p>Sorry, I figured out that <code>-q</code> actually works as expected and suppresses this logging just fine, so I deleted my rant. So nothing to do and sorry for the noise :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-21 18:51</div>
            <div class="timeline-body"><p>Oh great! :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alexeagle">@alexeagle</a> on 2024-03-27 13:18</div>
            <div class="timeline-body"><blockquote>
<p>that framework uses &quot;any message at the output&quot; as error</p>
</blockquote>
<p>https://github.com/aspect-build/rules_lint/blob/main/docs/lint_test.md is one such tool. It is used by Bazel users to assert &quot;no warnings were produced by the tool&quot;. So this change broke our tests. From what I can tell, ruff is the only linter we integrate that prints on success.</p>
<blockquote>
<p>issue requesting a configuration option, we can consider it. I&#x27;d want to see significant community feedback that this is important</p>
</blockquote>
<p>Here&#x27;s some other linter decisions on this:</p>
<ul>
<li>https://github.com/golangci/golangci-lint/issues/121 - always be silent following https://www.linfo.org/rule_of_silence.html</li>
<li>https://github.com/eslint/eslint/issues/3495#issuecomment-133820141 - eslint is incredibly widely adopted and the person commenting here is one of the most prolific and respected developers in the Node.js ecosystem.</li>
<li>From the (still open?) issue requesting this change, the author observes
&quot;On the other hand, several linters are silent if they find nothing (pycodestyle, flake8, isort, etc.).&quot;</li>
</ul>
<p>So I think rather than add an option, ruff should go back to the old silent-on-success behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-03-27 13:20</div>
            <div class="timeline-body"><p>@alexeagle would you mind creating a new issue for this to avoid having discussions on merged PRs. Thank you</p>
<p>I wonder if it would be sufficient to test if Ruff&#x27;s in an interactive terminal and only then print the message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alexeagle">@alexeagle</a> on 2024-03-27 13:28</div>
            <div class="timeline-body"><p>@MichaReiser thanks for the quick reply, since the issue requesting this change is still open, I&#x27;ve just commented there: <a href="https://github.com/astral-sh/ruff/issues/8553">astral-sh/ruff#8553</a>#issuecomment-2022771565</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-03-27 13:57</div>
            <div class="timeline-body"><p>Thanks for moving the discussion!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:59:17 UTC
    </footer>
</body>
</html>
