<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement import sorting - astral-sh/ruff #633</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement import sorting</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/633">#633</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2022-11-07 03:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>This PR implements <code>isort</code>-like import sorting behavior. The intent is to mirror <code>isort</code> when used with the following configuration:</p>
<pre><code class="language-toml">[tool.isort]
profile = &quot;black&quot;
combine_as_imports = true
</code></pre>
<p>The main limitations in the current approach are as follows:</p>
<ol>
<li>We still have no way of reconciling conflicting autofix errors. So if you have unused and unsorted imports, Ruff will only fix one of the two in the first pass (probably the unsorted imports, since that block comes first), and you'll have to run Ruff again to fix the other.</li>
<li>We don't have any comment-handling, so all comments are removed entirely</li>
</ol>
<p>For now, this is implemented via an entirely separator visitor, mostly to make the code easier to reason about. I need to benchmark the impact of that choice.</p>
<p>Resolves: #465.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @charliermarsh on 2022-11-10 23:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2022-11-11 00:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-11-11 00:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-11-11 00:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nik-hil">@nik-hil</a> on 2024-06-12 10:50</div>
            <div class="timeline-body"><p>If somebody is wondering how to add this in pre-commit, use this</p>
<pre><code>-   repo: https://github.com/charliermarsh/ruff-pre-commit
    rev: v0.2.0
    hooks:
    -   id: ruff
        args: [&quot;check&quot;, &quot;--select&quot;, &quot;I&quot;, &quot;--fix&quot;]
    -   id: ruff-format
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:54:49 UTC
    </footer>
</body>
</html>
