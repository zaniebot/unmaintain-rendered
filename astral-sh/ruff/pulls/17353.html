<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] Initial support for `dataclass`es - astral-sh/ruff #17353</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] Initial support for <code>dataclass</code>es</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17353">#17353</a>
        opened by <a href="https://github.com/sharkdp">@sharkdp</a>
        on 2025-04-11 14:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-11 14:28</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Add very early support for dataclasses. This is mostly to make sure that we do not emit false positives on dataclass construction, but it also lies some foundations for future extensions.</p>
<p>This seems like a good initial step to merge to me, as it basically removes all false positives on dataclass constructor calls. This allows us to use the ecosystem checks for making sure we don't introduce new false positives as we continue to work on dataclasses.</p>
<p>ticket: https://github.com/astral-sh/ruff/issues/16651</p>
<h2>Ecosystem analysis</h2>
<p>I re-ran the mypy_primer evaluation of <a href="https://github.com/astral-sh/ruff/pull/16512">the  <code>__init__</code> PR</a> locally with our current mypy_primer version and project selection. It introduced 1597 new diagnostics. Filtering those by searching for <code>__init__</code> and rejecting those that contain <code>invalid-argument-type</code> (those could not possibly be solved by this PR) leaves 1281 diagnostics. The current version of this PR removes 1171 diagnostics, which leaves 110 unaccounted for. I extracted the lint + file path for all of these diagnostics and generated a diff (of diffs), to see which <code>__init__</code>-diagnostics remain. I looked at a subset of these: There are a lot of <code>SomeClass(*args)</code> calls where we don't understand the unpacking yet (this is not even related to <code>__init__</code>). Some others are related to <code>NamedTuple</code>, which we also don't support yet. And then there are some errors related to <code>@attrs.define</code>-decorated classes, which would probably require support for <code>dataclass_transform</code>, which I made no attempt to include in this PR.</p>
<h2>Test Plan</h2>
<p>New Markdown tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @sharkdp on 2025-04-11 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-11 14:31</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<details>
<summary>Changes were detected when running on open source projects</summary>

<pre><code class="language-diff">packaging (https://github.com/pypa/packaging)
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/packaging/src/packaging/_tokenizer.py:133:37: Too many positional arguments to bound method `__init__`: expected 0, got 3
- Found 318 diagnostics
+ Found 317 diagnostics

pyinstrument (https://github.com/joerick/pyinstrument)
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/speedscope.py:169:34: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/speedscope.py:176:38: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/speedscope.py:204:39: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/speedscope.py:216:31: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/speedscope.py:225:42: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:247:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:252:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:257:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:262:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:267:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:272:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:277:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:282:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:287:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/pyinstrument/test/test_profiler.py:292:13: Too many positional arguments to bound method `__init__`: expected 0, got 3
- Found 290 diagnostics
+ Found 275 diagnostics

mypy_primer (https://github.com/hauntsaninja/mypy_primer)
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:76:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:77:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:78:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:79:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:80:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:81:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:84:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:85:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:86:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:87:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:90:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:91:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:92:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:93:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:94:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:97:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:98:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:99:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:100:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:103:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:104:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:105:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:106:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:107:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:110:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:111:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:112:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:113:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:121:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:122:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:125:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:126:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:127:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:128:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:129:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:132:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:133:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:134:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:135:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:136:13: Argument `install_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:137:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:138:13: Argument `supported_platforms` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:141:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:142:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:147:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:148:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:151:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:152:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:153:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:154:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:155:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:158:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:159:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:160:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:161:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:162:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:163:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:166:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:167:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:168:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:169:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:170:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:173:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:174:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:175:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:176:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:177:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:178:13: Argument `supported_platforms` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:181:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:182:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:183:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:184:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:185:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:188:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:189:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:190:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:191:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:192:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:195:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:196:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:197:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:198:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:199:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:202:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:203:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:204:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:205:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:208:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:209:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:210:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:211:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:212:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:213:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:216:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:217:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:218:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:219:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:220:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:223:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:224:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:225:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:226:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:227:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:230:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:231:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:232:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:233:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:236:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:237:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:238:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:239:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:240:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:243:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:244:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:245:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:246:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:249:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:250:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:253:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:254:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:270:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:271:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:274:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:275:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:276:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:277:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:278:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:281:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:282:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:283:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:284:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:293:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:294:13: Argument `supported_platforms` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:297:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:298:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:299:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:300:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:313:13: Argument `needs_mypy_plugins` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:314:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:315:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:318:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:319:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:320:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:321:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:322:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:325:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:326:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:327:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:328:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:331:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:332:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:333:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:334:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:337:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:338:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:339:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:340:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:343:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:344:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:345:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:346:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:347:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:350:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:351:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:352:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:353:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:356:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:357:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:358:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:359:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:362:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:363:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:364:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:365:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:366:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:369:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:370:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:371:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:372:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:381:13: Argument `needs_mypy_plugins` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:382:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:383:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:386:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:387:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:388:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:389:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:390:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:391:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:394:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:395:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:396:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:397:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:398:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:401:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:402:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:403:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:404:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:405:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:406:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:409:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:410:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:411:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:412:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:413:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:414:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:417:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:418:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:419:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:420:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:421:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:424:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:425:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:426:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:427:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:428:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:431:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:432:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:433:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:434:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:435:13: Argument `needs_mypy_plugins` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:436:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:439:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:440:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:441:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:442:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:443:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:444:13: Argument `supported_platforms` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:447:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:448:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:449:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:450:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:451:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:454:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:455:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:456:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:457:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:460:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:461:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:462:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:463:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:466:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:467:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:468:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:469:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:470:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:473:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:474:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:475:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:476:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:479:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:480:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:481:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:482:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:483:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:486:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:487:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:488:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:489:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:490:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:493:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:494:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:495:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:496:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:499:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:500:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:501:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:502:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:503:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:506:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:507:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:508:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:509:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:510:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:513:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:514:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:515:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:516:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:517:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:520:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:521:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:522:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:523:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:526:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:527:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:528:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:529:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:532:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:533:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:534:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:535:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:536:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:539:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:540:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:541:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:542:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:545:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:546:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:547:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:548:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:549:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:552:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:553:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:554:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:555:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:556:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:557:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:560:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:561:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:562:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:563:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:566:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:567:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:568:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:569:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:572:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:573:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:574:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:575:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:576:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:579:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:580:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:581:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:582:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:583:13: Argument `cost` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:586:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:587:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:588:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:589:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:590:13: Argument `expected_mypy_success` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:593:13: Argument `location` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:594:13: Argument `mypy_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:595:13: Argument `pyright_cmd` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:596:13: Argument `deps` does not match any known parameter of bound method `__init__`
- error[lint:unknown-argument] /tmp/mypy_primer/projects/mypy_primer/mypy_primer/projects.py:597:13: Argument `expected_mypy_success` does not match any known par...*[Comment body truncated]*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[red-knot] Skip constructor check for dataclasses" to "[red-knot] Initial support for `dataclass`es" by @sharkdp on 2025-04-14 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @sharkdp on 2025-04-14 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @sharkdp on 2025-04-14 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @sharkdp on 2025-04-14 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @sharkdp on 2025-04-14 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-14 21:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/call/bind.rs</code>:584 on 2025-04-14 21:24</div>
            <div class="timeline-body"><p>Mypy emits <code>&quot;init&quot; argument must be a True or False literal</code> in this case, Pyright just ignores it (falls back to the default value), which is what we also do at the moment. It does not seem particularly important.</p>
<pre><code class="language-py">def _(flag: bool):
    @dataclass(order=flag)
    class A:
        x: int

    A(1) &lt; A(2)  # supported or not?
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:1695 on 2025-04-14 21:37</div>
            <div class="timeline-body"><p>This seems like it deserves a TODO.</p>
<p>There's already a similar clause for <code>Type::Callable</code> below with a TODO comment, we could place this one next to it (or even combine them).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:710 on 2025-04-14 21:45</div>
            <div class="timeline-body"><p>I guess this gets into handling inheritance, which is a TODO in the tests -- but I suspect this handling should go in <code>own_class_member</code> instead? Each separate class in an inheritance tree could have its own synthetic <code>__init__</code>, or regular <code>__init__</code>, and the right one should be discovered by MRO walk just like for any other attribute.</p>
<p>We should also ensure that this special handling only takes effect if there isn't an explicit <code>__init__</code> method present on the class already. Dataclasses won't override an explicit method with a synthetic one.</p>
<pre><code class="language-py">&gt;&gt;&gt; @dataclass
... class Person:
...     name: str
...     def __init__(self):
...         self.name = &quot;Yo&quot;
...
&gt;&gt;&gt; p = Person(&quot;Foo&quot;)
Traceback (most recent call last):
  File &quot;&lt;python-input-4&gt;&quot;, line 1, in &lt;module&gt;
    p = Person(&quot;Foo&quot;)
TypeError: Person.__init__() takes 1 positional argument but 2 were given
&gt;&gt;&gt; p = Person()
&gt;&gt;&gt; p
Person(name='Yo')
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/display.rs</code>:159 on 2025-04-14 22:01</div>
            <div class="timeline-body"><p>This seems misleading, as this type does not represent the function <code>dataclasses.dataclass</code>, but rather some internal closure returned by it. The runtime says <code>&lt;function dataclass.&lt;locals&gt;.wrap at 0x102892700&gt;</code>.</p>
<p>I think the LSP folks would like us to avoid these angle-bracket names altogether, since they don't render nicely when syntax-highlighted as Python, but I'm not sure what alternative would work well here that would render nicely as Python. We may decide to just fallback to a generic callable signature type for this in the LSP?</p>
<p>For now maybe this would be less misleading:</p>
<pre><code class="language-suggestion">            Type::DataclassDecorator(_) =&gt; f.write_str(&quot;&lt;decorator produced by dataclasses.dataclass&gt;&quot;),
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-04-14 22:03</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-15 07:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/display.rs</code>:159 on 2025-04-15 07:55</div>
            <div class="timeline-body"><blockquote>
<p>We may decide to just fallback to a generic callable signature type for this in the LSP?</p>
</blockquote>
<p>That sounds reasonable, yes.</p>
<p>Using your suggestion for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-15 08:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:710 on 2025-04-15 08:07</div>
            <div class="timeline-body"><blockquote>
<p>but I suspect this handling should go in own_class_member instead?</p>
</blockquote>
<p>yes!</p>
<blockquote>
<p>We should also ensure that this special handling only takes effect if there isn't an explicit <code>__init__</code> method present on the class already. Dataclasses won't override an explicit method with a synthetic one.</p>
</blockquote>
<p>Yes, I already have a test &quot;Dataclass with custom <code>__init__</code> method&quot; marked with To do.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @sharkdp on 2025-04-15 08:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-04-15 08:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-04-15 08:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 17:04</div>
            <div class="timeline-body"><p>Rather than storing a field on <code>Class</code>, did you consider making <code>dataclass_metadata</code> a lazy Salsa-tracked method (and move the logic currently in <code>infer.rs</code> into that method), similar to our existing <code>Class::explicit_bases_query</code>? There might be lots of dataclasses in third-party modules that first-party code depends on, but I'm guessing we'd rarely see constructor calls to most of those classes in the first-party code we're actually checking. So most of the time we probably don't need to know whether a class is a dataclass or not. It's probably wasted computation (and memory) to check (and store) whether these are all dataclasses unless we actually see any constructor calls for these classes? (I wouldn't expect this to make a difference in our benchmarks because we don't have any dataclass-heavy benchmarks right now.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:1743 on 2025-04-15 17:18</div>
            <div class="timeline-body"><p>interesting -- rather than creating a separate <code>Type</code> variant, I was assuming we'd do some more localised special-casing for <code>@dataclass</code> with arguments passed. Something like this:</p>
<pre><code class="language-suggestion">            let decorator_ty = self.infer_decorator(decorator);
            if decorator_ty
                .into_function_literal()
                .is_some_and(|function| function.is_known(self.db(), KnownFunction::Dataclass))
            {
                dataclass_metadata = Some(DataclassMetadata::default());
                continue;
            }
            
            if let ast::Expr::Call(ast::ExprCall { func, arguments, range } = decorator {
                if self
                    .expression_ty(func)
                    .into_function_literal()
                    .is_some_and(|function| function.is_known(self.db(), KnownFunction::Dataclass)) {
                        dataclass_metadata = Some(DataclassMetadata::from_arguments(arguments));
                    }
                }
            }
</code></pre>
<p>The advantage would be that we wouldn't have to worry about all the questions everywhere such as &quot;is this type a subtype of <code>DataclassMetadata</code>?&quot;, etc.</p>
<p>The disadvantage is that having a new <code>Type</code> variant means that we have a pretty good understanding of the <code>dataclass</code> function and its associated metadata even when the <code>dataclass()</code> call is long way removed from the class it's decorating. E.g. you can do things like this, and red-knot still understands that one of the classes has an autogenerated <code>__init__</code> while the other doesn't: https://playknot.ruff.rs/5876dcbd-aaa4-4dc7-a0f2-121052dcd277. And I think I <em>have</em> seen issues at mypy where users have been upset that mypy doesn't support things like that. So it's pretty cool that we <em>do</em> support this kind of thing!</p>
<p>It might be good to add some tests demonstrating this capability, though?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-15 17:18</div>
            <div class="timeline-body"><p>nice!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:1743 on 2025-04-15 17:43</div>
            <div class="timeline-body"><p>I do think it's useful to support <code>my_dataclass = dataclasses.dataclass(...)</code> followed by later (even in a different module) use of <code>@my_dataclass</code>, and I agree we should add a test demonstrating that that works!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-04-15 17:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 17:44</div>
            <div class="timeline-body"><p>I suspect that as we increase the accuracy of our modeling of dataclasses, we will have more and more cases where we do need to know whether a class is a dataclass or not (e.g. it affects inference of final attributes with an assignment on the class body, too), which may reduce the effectiveness of making that determination lazily?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-04-15 17:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-15 17:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 17:48</div>
            <div class="timeline-body"><p>Maybe! I'm not sure, which is why I was asking if it was considered ;)</p>
<p>I suppose another reason why <code>explicit_bases_query</code> is a lazy method -- which probably does not apply for dataclasses -- is to support self-referential class definitions such as <code>class str(Sequence[str]): ...</code> -- deferring inference of the bases helps avoid otherwise-unnecessary Salsa cycles.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-15 18:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 18:05</div>
            <div class="timeline-body"><blockquote>
<p>which is why I was asking if it was considered</p>
</blockquote>
<p>I did not consider this.</p>
<blockquote>
<p>So most of the time we probably don't need to know whether a class is a dataclass or not. It's probably wasted computation (and memory) to check (and store) whether these are all dataclasses unless we actually see any constructor calls for these classes?</p>
</blockquote>
<p>We have to infer types for all class decorators anyway. So the additional work that we do here is to check if the inferred type is one of two possible options. I'm just guessing here as well, but I just can't imagine that this will ever be a performance-critical code path. You would have to have loads of different dataclasses that are never constructed anywhere for this to be relevant, and even then, there's so much more we have to do when type-checking a class definition.</p>
<p>Memory-wise, <code>MetaclassMetadata</code> is bitset with a size of 2 bytes. I think we could get that down to one byte potentially, as we might not need the information whether <code>repr</code> and <code>eq</code> are set to true (because those methods are defined in any case, it's just the implementation which changes?).</p>
<blockquote>
<p>we don't have any dataclass-heavy benchmarks</p>
</blockquote>
<p>I'm happy to run a benchmark locally if you have any suggestions for codebases to check?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:1743 on 2025-04-15 18:18</div>
            <div class="timeline-body"><blockquote>
<p>I was assuming we'd do some more localised special-casing for <code>@dataclass</code> with arguments passed.</p>
</blockquote>
<p>This is something I briefly considered. I decided against it, mainly because I wanted to model it &quot;correctly&quot;, and also because I saw that other type checkers support it.</p>
<blockquote>
<p>The advantage would be that we wouldn't have to worry about all the questions everywhere such as &quot;is this type a subtype of <code>DataclassMetadata</code>?&quot;, etc.</p>
</blockquote>
<p>Yes, I agree that this is annoying. I'm hopeful that we can merge some of the recently added special callable types into something more generally useful. Maybe that merged variant could have some methods like <code>.to_callable()</code> (which would return a corresponding <code>Callable</code> type) and <code>.to_instance_fallback()</code> (which would return somthing like <code>MethodWrapperType</code>), and then we could formulate a lot of those type properties in terms of these.</p>
<blockquote>
<p>It might be good to add some tests demonstrating this capability, though?</p>
</blockquote>
<p>Yes :+1:</p>
<p>The &quot;Using <code>dataclass</code> as a function&quot; test which I added in this PR was supposed to demonstrate something related: that you can also transform a class after-the-fact (<code>class C: ...; C = dataclass(order=True)(C)</code>). That doesn't work yet, but it would also require us to actually generate a new callable type for the <code>dataclass(order=True)</code> call, instead of just trying to detect the syntactic structure of <code>dataclass</code> being used as a decorator.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-15 18:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-15 18:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 18:18</div>
            <div class="timeline-body"><blockquote>
<p>We have to infer types for all class decorators anyway. So the additional work that we do here is to check if the inferred type is one of two possible options.</p>
</blockquote>
<p>Hmm, good point. I suppose doing it lazily would only improve performance if you also changed our dataclass handling to be more localised, as per https://github.com/astral-sh/ruff/pull/17353#discussion_r2045113279  but as discussed in that thread, that's probably not a good idea for other reasons.</p>
<p>The memory savings <em>might</em> still be worth it? Large codebases could have lots of class definitions; the new field on <code>Class</code> increases the amount of data we're storing in the salsa database even for non-dataclasses. As per your other question, though  no, I don't have a great suggestion for a codebase to run performance or memory benchmarks on.</p>
<blockquote>
<p>we might not need the information whether <code>repr</code> and <code>eq</code> are set to true (because those methods are defined in any case, it's just the implementation which changes?).</p>
</blockquote>
<p>It's a bit of a stretch, but you could have something like this  we'd emit an error about attempting to instantiate an abstract class if we didn't synthesise the <code>__repr__</code> method on <code>Bar</code> (once we support ABCs and <code>@abstractmethod</code> properly):</p>
<pre><code class="language-py">from abc import ABC, abstractmethod
from dataclasses import dataclass

class Foo(ABC):
    @abstractmethod
    def __repr__(self) -&gt; str: ...

@dataclass
class Bar(Foo): ...

Bar()
</code></pre>
<p>For mypy, it's also important for it to synthesise the <code>__eq__</code> method for this error code: https://mypy.readthedocs.io/en/stable/error_code_list2.html#check-that-comparisons-are-overlapping-comparison-overlap</p>
<p>And there could be possible use cases from type-aware lints in the future, too? Not sure</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-15 18:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 18:30</div>
            <div class="timeline-body"><blockquote>
<p>The memory savings <em>might</em> still be worth it? Large codebases could have lots of class definitions; the new field on <code>Class</code> increases the amount of data we're storing in the salsa database even for non-dataclasses.</p>
</blockquote>
<p>Yes, by two bytes (or three, for the <code>Option</code>, if there are no niches) per class. Worst case eight bytes, due to alignment requirements. If you have 10 000 classes in a project, that's 80kB. Or am I missing something?</p>
<blockquote>
<p>It's a bit of a stretch, but you could have something like this</p>
</blockquote>
<p>Thanks  I'll keep the <code>REPR</code> and <code>EQ</code> flags for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-15 18:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:105 on 2025-04-15 18:33</div>
            <div class="timeline-body"><blockquote>
<p>Worst case eight bytes, due to alignment requirements. If you have 10 000 classes in a project, that's 80kB.</p>
</blockquote>
<p>Alright, thanks, probably not worth worrying about then </p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 19:33:28 UTC
    </footer>
</body>
</html>
