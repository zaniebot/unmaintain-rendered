<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[airflow]: extend removed names (AIR302) - astral-sh/ruff #14804</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[airflow]: extend removed names (AIR302)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14804">#14804</a>
        opened by <a href="https://github.com/Lee-W">@Lee-W</a>
        on 2024-12-06 04:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<!-- What's the purpose of the change? What does it do, and why? -->

<p>Airflow 3.0 removes various deprecated functions, members, modules, and other values. They have been deprecated in 2.x, but the removal causes incompatibilities that we want to detect. This PR deprecates the following names.
The full list of rules we will extend https://github.com/apache/airflow/issues/44556</p>
<h4>package</h4>
<ul>
<li><code>airflow.contrib.*</code></li>
</ul>
<h4>module</h4>
<ul>
<li><code>airflow.operators.subdag.*</code></li>
</ul>
<h4>class</h4>
<ul>
<li><code>airflow.sensors.external_task.ExternalTaskSensorLink</code> → <code>airflow.sensors.external_task.ExternalDagLin</code></li>
<li><code>airflow.operators.bash_operator.BashOperator</code> → <code>airflow.operators.bash.BashOperator</code></li>
<li><code>airflow.operators.branch_operator.BaseBranchOperator</code> → <code>airflow.operators.branch.BaseBranchOperator</code></li>
<li><code>airflow.operators.dummy.EmptyOperator</code> → <code>airflow.operators.empty.EmptyOperator</code></li>
<li><code>airflow.operators.dummy.DummyOperator</code> → <code>airflow.operators.empty.EmptyOperator</code></li>
<li><code>airflow.operators.dummy_operator.EmptyOperator</code> → <code>airflow.operators.empty.EmptyOperator</code></li>
<li><code>airflow.operators.dummy_operator.DummyOperator</code> → <code>airflow.operators.empty.EmptyOperator</code></li>
<li><code>airflow.operators.email_operator.EmailOperator</code> → <code>airflow.operators.email.EmailOperator</code></li>
<li><code>airflow.sensors.base_sensor_operator.BaseSensorOperator</code> → <code>airflow.sensors.base.BaseSensorOperator</code></li>
<li><code>airflow.sensors.date_time_sensor.DateTimeSensor</code> → <code>airflow.sensors.date_time.DateTimeSensor</code></li>
<li><code>airflow.sensors.external_task_sensor.ExternalTaskMarker</code> → <code>airflow.sensors.external_task.ExternalTaskMarker</code></li>
<li><code>airflow.sensors.external_task_sensor.ExternalTaskSensor</code> → <code>airflow.sensors.external_task.ExternalTaskSensor</code></li>
<li><code>airflow.sensors.external_task_sensor.ExternalTaskSensorLink</code> → <code>airflow.sensors.external_task.ExternalTaskSensorLink</code></li>
<li><code>airflow.sensors.time_delta_sensor.TimeDeltaSensor</code> → <code>airflow.sensors.time_delta.TimeDeltaSensor</code></li>
</ul>
<h4>function</h4>
<ul>
<li><code>airflow.utils.decorators.apply_defaults</code></li>
<li><code>airflow.www.utils.get_sensitive_variables_fields</code> → <code>airflow.utils.log.secrets_masker.get_sensitive_variables_fields</code></li>
<li><code>airflow.www.utils.should_hide_value_for_key</code> → <code>airflow.utils.log.secrets_masker.should_hide_value_for_key</code></li>
<li><code>airflow.configuration.get</code> → <code>airflow.configuration.conf.get</code></li>
<li><code>airflow.configuration.getboolean</code> → <code>airflow.configuration.conf.getboolean</code></li>
<li><code>airflow.configuration.getfloat</code> → <code>airflow.configuration.conf.getfloat</code></li>
<li><code>airflow.configuration.getint</code> → <code>airflow.configuration.conf.getint</code></li>
<li><code>airflow.configuration.has_option</code> → <code>airflow.configuration.conf.has_option</code></li>
<li><code>airflow.configuration.remove_option</code> → <code>airflow.configuration.conf.remove_option</code></li>
<li><code>airflow.configuration.as_dict</code> → <code>airflow.configuration.conf.as_dict</code></li>
<li><code>airflow.configuration.set</code> → <code>airflow.configuration.conf.set</code></li>
<li><code>airflow.secrets.local_filesystem.load_connections</code> → <code>airflow.secrets.local_filesystem.load_connections_dict</code></li>
<li><code>airflow.secrets.local_filesystem.get_connection</code> → <code>airflow.secrets.local_filesystem.load_connections_dict</code></li>
<li><code>airflow.utils.helpers.chain</code> → <code>airflow.models.baseoperator.chain</code></li>
<li><code>airflow.utils.helpers.cross_downstream</code> → <code>airflow.models.baseoperator.cross_downstream</code></li>
</ul>
<h4>attribute</h4>
<ul>
<li>in <code>airflow.utils.trigger_rule.TriggerRule</code><ul>
<li><code>DUMMY</code></li>
<li><code>NONE_FAILED_OR_SKIPPED</code></li>
</ul>
</li>
</ul>
<h4>constant / variable</h4>
<ul>
<li><code>airflow.PY\d\d</code></li>
</ul>
<h2>Test Plan</h2>
<!-- How was it tested? -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-12-06 04:37</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+2 -0 violations, +0 -0 fixes in 1 projects; 54 projects unchanged)</p>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/450132bc859ad4ec1686d4e521efc1efe79a47b8/dev/perf/dags/perf_dag_1.py#L41'>dev/perf/dags/perf_dag_1.py:41:10:</a> AIR302 `airflow.operators.bash_operator.BashOperator` is removed in Airflow 3.0; use `airflow.operators.bash.BashOperator` instead
+ <a href='https://github.com/apache/airflow/blob/450132bc859ad4ec1686d4e521efc1efe79a47b8/dev/perf/dags/perf_dag_1.py#L48'>dev/perf/dags/perf_dag_1.py:48:12:</a> AIR302 `airflow.operators.bash_operator.BashOperator` is removed in Airflow 3.0; use `airflow.operators.bash.BashOperator` instead
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| AIR302 | 2 | 2 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Extend AIR 302 removed names" to "[airflow]: extend removed names (AIR302)" by @Lee-W on 2024-12-06 09:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @Lee-W on 2024-12-06 09:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-12-06 10:34</div>
            <div class="timeline-body"><p>Nice</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-12-06 10:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @MichaReiser on 2024-12-06 10:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2024-12-06 10:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-12-06 10:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-12-18 00:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:08:17 UTC
    </footer>
</body>
</html>
