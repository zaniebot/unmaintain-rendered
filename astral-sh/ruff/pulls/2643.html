<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add missing `tool.ruff` in configuration documentation. - astral-sh/ruff #2643</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add missing <code>tool.ruff</code> in configuration documentation.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/2643">#2643</a>
        opened by <a href="https://github.com/Chris-May">@Chris-May</a>
        on 2023-02-07 22:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Chris-May">@Chris-May</a></div>
            <div class="timeline-body"><p>The documentation includes a configuration example that shows one can configure ruff&#x27;s per-file ignore patterns by adding the following section to <code>pyproject.toml</code>:</p>
<pre><code># Ignore `E402` (import violations) in all `__init__.py` files, and in `path/to/file.py`.
[per-file-ignores]
&quot;__init__.py&quot; = [&quot;E402&quot;]
&quot;path/to/file.py&quot; = [&quot;E402&quot;]
</code></pre>
<p>It should be <code>[tool.ruff.per-file-ignores]</code></p>
<p>This one caused me a few hours of issues, so I decided to contribute a fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-07 23:21</div>
            <div class="timeline-body"><p>Confusingly, this is actually correct, because that section is talking about <code>ruff.toml</code> (see <code>For example, the </code>pyproject.toml<code>described above would be represented via the following</code>ruff.toml<code>...</code>) in the paragraph leading up to it.</p>
<p>If you scroll up in the docs, you&#x27;ll see that we do include the <code>pyproject.toml</code> version in full:</p>
<pre><code>[tool.ruff]
# Enable flake8-bugbear (`B`) rules.
select = [&quot;E&quot;, &quot;F&quot;, &quot;B&quot;]

# Never enforce `E501` (line length violations).
ignore = [&quot;E501&quot;]

# Avoid trying to fix flake8-bugbear (`B`) violations.
unfixable = [&quot;B&quot;]

# Ignore `E402` (import violations) in all `__init__.py` files, and in `path/to/file.py`.
[tool.ruff.per-file-ignores]
&quot;__init__.py&quot; = [&quot;E402&quot;]
&quot;path/to/file.py&quot; = [&quot;E402&quot;]
</code></pre>
<p>I&#x27;ll try to make this clearer. I&#x27;m really sorry that you lost time to it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-08 02:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Chris-May">@Chris-May</a> on 2023-02-08 14:36</div>
            <div class="timeline-body"><p>Ah! Thanks for the clarity!!!</p>
<p>I remember reading about the <code>ruff.toml</code> file, but when I was scanning the documentation, those sections ran together.</p>
<p>Would you want to make that more explicit? I can think of two options:</p>
<ol>
<li>Add a subheading</li>
</ol>
<pre><code>#### Configure via `ruff.toml`

As an alternative to pyproject.toml, Ruff will also respect a ruff.toml file, which implements an equivalent schema (though the [tool.ruff] hierarchy can be omitted). For example, the pyproject.toml described above would be represented via the following ruff.toml:

# Enable flake8-bugbear (`B`) rules.
select = [&quot;E&quot;, &quot;F&quot;, &quot;B&quot;]

# Never enforce `E501` (line length violations).
ignore = [&quot;E501&quot;]

# Avoid trying to fix flake8-bugbear (`B`) violations.
unfixable = [&quot;B&quot;]

# Ignore `E402` (import violations) in all `__init__.py` files, and in `path/to/file.py`.
[per-file-ignores]
&quot;__init__.py&quot; = [&quot;E402&quot;]
&quot;path/to/file.py&quot; = [&quot;E402&quot;]
</code></pre>
<ol>
<li>Add a comment:</li>
</ol>
<p>As an alternative to pyproject.toml, Ruff will also respect a ruff.toml file, which implements an equivalent schema (though the [tool.ruff] hierarchy can be omitted). For example, the pyproject.toml described above would be represented via the following ruff.toml:</p>
<pre><code># In ruff.toml

# Enable flake8-bugbear (`B`) rules.
select = [&quot;E&quot;, &quot;F&quot;, &quot;B&quot;]

# Never enforce `E501` (line length violations).
ignore = [&quot;E501&quot;]

# Avoid trying to fix flake8-bugbear (`B`) violations.
unfixable = [&quot;B&quot;]

# Ignore `E402` (import violations) in all `__init__.py` files, and in `path/to/file.py`.
[per-file-ignores]
&quot;__init__.py&quot; = [&quot;E402&quot;]
&quot;path/to/file.py&quot; = [&quot;E402&quot;]
</code></pre>
<p>Additionally, the intro paragraph to the section mentions that there are two ways to configure <code>ruff</code>, those being <code>pyproject.toml</code> and the command line. It seems like the <code>ruff.toml</code> would be a third.</p>
<p>If you&#x27;re open to it, I&#x27;d be happy to update this PR with an option. Otherwise, I can happily let you focus on more pressing topics.  ðŸ˜ƒ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-08 18:41</div>
            <div class="timeline-body"><p>That&#x27;d be great! I&#x27;d be happy with Option 1 (and adding <code>ruff.toml</code> to the intro paragraph).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:52:08 UTC
    </footer>
</body>
</html>
