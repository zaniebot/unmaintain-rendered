<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`pydoclint`] Fix false positive on explicit exception re-raising (`DOC501`, `DOC502`) - astral-sh/ruff #21011</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>pydoclint</code>] Fix false positive on explicit exception re-raising (<code>DOC501</code>, <code>DOC502</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21011">#21011</a>
        opened by <a href="https://github.com/danparizher">@danparizher</a>
        on 2025-10-21 02:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/danparizher">@danparizher</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Fixes #20973 (<code>docstring-extraneous-exception</code>) false positive when exceptions mentioned in docstrings are caught and explicitly re-raised using <code>raise e</code> or <code>raise e from None</code>.</p>
<h2>Problem Analysis</h2>
<p>The DOC502 rule was incorrectly flagging exceptions mentioned in docstrings as &quot;not explicitly raised&quot; when they were actually being explicitly re-raised through exception variables bound in <code>except</code> clauses.</p>
<p><strong>Root Cause</strong>: The <code>BodyVisitor</code> in <code>check_docstring.rs</code> only checked for direct exception references (like <code>raise OSError()</code>) but didn't recognize when a variable bound to an exception in an <code>except</code> clause was being re-raised.</p>
<p><strong>Example of the bug</strong>:</p>
<pre><code class="language-python">def f():
    &quot;&quot;&quot;Do nothing.

    Raises
    ------
    OSError
        If the OS errors.
    &quot;&quot;&quot;
    try:
        pass
    except OSError as e:
        raise e  # This was incorrectly flagged as not explicitly raising OSError
</code></pre>
<p>The issue occurred because <code>resolve_qualified_name(e)</code> couldn't resolve the variable <code>e</code> to a qualified exception name, since <code>e</code> is just a variable binding, not a direct reference to an exception class.</p>
<h2>Approach</h2>
<p>Modified the <code>BodyVisitor</code> in <code>crates/ruff_linter/src/rules/pydoclint/rules/check_docstring.rs</code> to:</p>
<ol>
<li><strong>Track exception variable bindings</strong>: Added <code>exception_variables</code> field to map exception variable names to their exception types within <code>except</code> clauses</li>
<li><strong>Enhanced raise statement detection</strong>: Updated <code>visit_stmt</code> to check if a <code>raise</code> statement uses a variable name that's bound to an exception in the current <code>except</code> clause</li>
<li><strong>Proper scope management</strong>: Clear exception variable mappings when leaving <code>except</code> handlers to prevent cross-contamination</li>
</ol>
<p><strong>Key changes</strong>:</p>
<ul>
<li>Added <code>exception_variables: FxHashMap&lt;&amp;'a str, QualifiedName&lt;'a&gt;&gt;</code> to track variable-to-exception mappings</li>
<li>Enhanced <code>visit_except_handler</code> to store exception variable bindings when entering <code>except</code> clauses</li>
<li>Modified <code>visit_stmt</code> to check for variable-based re-raising: <code>raise e</code> → lookup <code>e</code> in <code>exception_variables</code></li>
<li>Clear mappings when exiting <code>except</code> handlers to maintain proper scope</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-21 02:19</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+92 -0 violations, +0 -0 fixes in 2 projects; 53 projects unchanged)</p>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+91 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/client.py#L307'>airflow-ctl/src/airflowctl/api/client.py:307:5:</a> DOC501 Raised exception `AirflowCtlNotFoundException` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L190'>airflow-ctl/src/airflowctl/api/operations.py:190:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L204'>airflow-ctl/src/airflowctl/api/operations.py:204:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L212'>airflow-ctl/src/airflowctl/api/operations.py:212:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L230'>airflow-ctl/src/airflowctl/api/operations.py:230:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L241'>airflow-ctl/src/airflowctl/api/operations.py:241:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L249'>airflow-ctl/src/airflowctl/api/operations.py:249:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L259'>airflow-ctl/src/airflowctl/api/operations.py:259:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L267'>airflow-ctl/src/airflowctl/api/operations.py:267:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L275'>airflow-ctl/src/airflowctl/api/operations.py:275:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L283'>airflow-ctl/src/airflowctl/api/operations.py:283:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L291'>airflow-ctl/src/airflowctl/api/operations.py:291:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L303'>airflow-ctl/src/airflowctl/api/operations.py:303:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L311'>airflow-ctl/src/airflowctl/api/operations.py:311:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L319'>airflow-ctl/src/airflowctl/api/operations.py:319:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L332'>airflow-ctl/src/airflowctl/api/operations.py:332:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L340'>airflow-ctl/src/airflowctl/api/operations.py:340:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L348'>airflow-ctl/src/airflowctl/api/operations.py:348:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L360'>airflow-ctl/src/airflowctl/api/operations.py:360:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L368'>airflow-ctl/src/airflowctl/api/operations.py:368:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L380'>airflow-ctl/src/airflowctl/api/operations.py:380:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L395'>airflow-ctl/src/airflowctl/api/operations.py:395:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L403'>airflow-ctl/src/airflowctl/api/operations.py:403:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L411'>airflow-ctl/src/airflowctl/api/operations.py:411:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L419'>airflow-ctl/src/airflowctl/api/operations.py:419:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L430'>airflow-ctl/src/airflowctl/api/operations.py:430:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L443'>airflow-ctl/src/airflowctl/api/operations.py:443:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L455'>airflow-ctl/src/airflowctl/api/operations.py:455:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L463'>airflow-ctl/src/airflowctl/api/operations.py:463:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L529'>airflow-ctl/src/airflowctl/api/operations.py:529:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L559'>airflow-ctl/src/airflowctl/api/operations.py:559:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L586'>airflow-ctl/src/airflowctl/api/operations.py:586:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L598'>airflow-ctl/src/airflowctl/api/operations.py:598:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L606'>airflow-ctl/src/airflowctl/api/operations.py:606:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L614'>airflow-ctl/src/airflowctl/api/operations.py:614:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L622'>airflow-ctl/src/airflowctl/api/operations.py:622:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L644'>airflow-ctl/src/airflowctl/api/operations.py:644:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L656'>airflow-ctl/src/airflowctl/api/operations.py:656:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L664'>airflow-ctl/src/airflowctl/api/operations.py:664:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L672'>airflow-ctl/src/airflowctl/api/operations.py:672:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L680'>airflow-ctl/src/airflowctl/api/operations.py:680:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/airflow-ctl/src/airflowctl/api/operations.py#L694'>airflow-ctl/src/airflowctl/api/operations.py:694:9:</a> DOC501 Raised exception `ServerResponseError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/cloud_formation.py#L50'>providers/amazon/src/airflow/providers/amazon/aws/hooks/cloud_formation.py:50:9:</a> DOC501 Raised exception `ClientError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/dms.py#L257'>providers/amazon/src/airflow/providers/amazon/aws/hooks/dms.py:257:9:</a> DOC501 Raised exception `ClientError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/dms.py#L321'>providers/amazon/src/airflow/providers/amazon/aws/hooks/dms.py:321:9:</a> DOC501 Raised exception `ClientError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/dynamodb.py#L87'>providers/amazon/src/airflow/providers/amazon/aws/hooks/dynamodb.py:87:9:</a> DOC501 Raised exception `ClientError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/logs.py#L143'>providers/amazon/src/airflow/providers/amazon/aws/hooks/logs.py:143:9:</a> DOC501 Raised exception `ClientError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/s3.py#L1537'>providers/amazon/src/airflow/providers/amazon/aws/hooks/s3.py:1537:9:</a> DOC501 Raised exception `ClientError` missing from docstring
+ <a href='https://github.com/apache/airflow/blob/60c38de195f698c24d1d3b18333ef1d69fc314c2/providers/amazon/src/airflow/providers/amazon/aws/hooks/s3.py#L1647'>providers/amazon/src/airflow/providers/amazon/aws/hooks/s3.py:1647:9:</a> DOC501 Raised exception `ClientError` missing from docstring
... 42 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/server/views/ws.py#L182'>src/bokeh/server/views/ws.py:182:9:</a> DOC501 Raised exception `ProtocolError` missing from docstring
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| DOC501 | 92 | 92 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/danparizher">@danparizher</a> on 2025-10-21 04:29</div>
            <div class="timeline-body"><p>The +109 DOC501 violations represent improved detection accuracy rather than regressions.</p>
<p>From what I'm seeing, the fix correctly identifies cases where exceptions are explicitly re-raised through variables like <code>raise e</code> but weren't being detected before.</p>
<p>Previously, DOC501 missed these patterns because it couldn't resolve the variable <code>e</code> to an exception type, but now it properly recognizes that <code>raise e</code> is indeed raising the exception that <code>e</code> is bound to.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @ntBre on 2025-10-21 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-10-21 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @ntBre on 2025-10-21 16:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pydoclint/rules/check_docstring.rs</code>:888 on 2025-10-21 16:55</div>
            <div class="timeline-body"><p>Why would we only store the first element in a tuple of exceptions? It seems like we should store all of them to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pydoclint/snapshots/ruff_linter__rules__pydoclint__tests__docstring-missing-exception_DOC501_google.py.snap</code>:82 on 2025-10-21 17:01</div>
            <div class="timeline-body"><p>We shouldn't do this in this PR, but this looks like a nice place for  a secondary annotation showing where the <code>ZeroDivisionError</code> is raised.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/pydoclint/DOC502_google.py</code>:109 on 2025-10-21 17:03</div>
            <div class="timeline-body"><p>I think it would be good to include an example or two of a tuple of exceptions too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/pydoclint/DOC502_google.py</code>:1 on 2025-10-21 17:15</div>
            <div class="timeline-body"><p>These tests don't actually trigger DOC502 on main because they're numpy-style docstrings, not Google style. We need to either rewrite them to be Google style or move them to the DOC502_numpy.py file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pydoclint/rules/check_docstring.rs</code>:832 on 2025-10-21 17:32</div>
            <div class="timeline-body"><p>I was wondering if we could avoid collecting these here and instead try to resolve the name down below,  but I tried it locally, and it seems that we're not actually in this <code>Scope</code> in the <code>SemanticModel</code> during this check, so this makes sense to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pydoclint/rules/check_docstring.rs</code>:878 on 2025-10-21 17:40</div>
            <div class="timeline-body"><p>I think it might make sense to defer this as resolving qualified names can be somewhat expensive. Then we might be able to reuse the <code>maybe_store_exception</code> closure below. In other words, just store the <code>name.id.as_str()</code> and <code>exceptions</code> in the map here.</p>
<p>That will also help to resolve my other comment about tuples because we can just store the name -&gt; tuple mapping and handle the tuple like the <code>currently_suspended_exceptions</code> case too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> requested changes on 2025-10-21 17:46</div>
            <div class="timeline-body"><p>Thanks! This looks like you're on the right track, but we need to make sure the tests would actually trigger on main, expand them to cover the tricky tuple case, and then I think we can simplify the code a bit too.</p>
<p>This is a minor detail, but would you try to update the PR title too? As the ecosystem report shows (thanks for your analysis there, it looked accurate when I spot-checked), these changes actually have a much larger impact on DOC501 than DOC502. We should mention both rules, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`pydoclint`] Fix false positive on explicit exception re-raising (`DOC502`)" to "[pydoclint] Fix false positive on explicit exception re-raising (DOC501, DOC502)" by @danparizher on 2025-10-24 03:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[pydoclint] Fix false positive on explicit exception re-raising (DOC501, DOC502)" to "[pydoclint] Fix false positive on explicit exception re-raising (`DOC501`, `DOC502`)" by @danparizher on 2025-10-24 03:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[pydoclint] Fix false positive on explicit exception re-raising (`DOC501`, `DOC502`)" to "[`pydoclint`] Fix false positive on explicit exception re-raising (`DOC501`, `DOC502`)" by @danparizher on 2025-10-24 03:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @ntBre by @danparizher on 2025-10-24 03:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-10-24 20:41</div>
            <div class="timeline-body"><p>Thanks! This looks good. I pushed one commit factoring out the closure into a method instead of duplicating it. I'll just make sure I didn't break anything in the ecosystem report and then merge this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ntBre on 2025-10-24 20:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-10-24 20:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:16:36 UTC
    </footer>
</body>
</html>
