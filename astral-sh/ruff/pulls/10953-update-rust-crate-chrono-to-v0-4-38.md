```yaml
number: 10953
title: Update Rust crate chrono to v0.4.38
type: pull_request
state: merged
author: renovate
labels:
  - internal
assignees: []
merged: true
base: main
head: renovate/chrono-0.x-lockfile
created_at: 2024-04-15T12:42:05Z
updated_at: 2024-04-15T13:09:35Z
url: https://github.com/astral-sh/ruff/pull/10953
synced_at: 2026-01-12T15:55:33Z
```

# Update Rust crate chrono to v0.4.38

---

_@renovate_

[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [chrono](https://togithub.com/chronotope/chrono) | workspace.dependencies | patch | `0.4.37` -> `0.4.38` |

---

### Release Notes

<details>
<summary>chronotope/chrono (chrono)</summary>

### [`v0.4.38`](https://togithub.com/chronotope/chrono/releases/tag/v0.4.38)

[Compare Source](https://togithub.com/chronotope/chrono/compare/v0.4.37...v0.4.38)

This release bring a ca. 20% improvement to the performance of the formatting code, and a convenient `days_since` method for the `Weekday` type.

Chrono 0.4.38 also removes the long deprecated `rustc-serialize` feature. Support for `rustc-serialize` will be [soft-destabilized in the next Rust edition](https://togithub.com/rust-lang/rust/pull/116016). Removing the feature will not break existing users of the feature; Cargo will just not update dependents that rely on it to newer versions of chrono.

In chrono 0.4.36 we made an accidental breaking change by switching to `derive(Copy)` for `DateTime` instead of a manual implementation. It is reverted in this release.

##### Removals

-   Remove `rustc-serialize` feature ([#&#8203;1548](https://togithub.com/chronotope/chrono/issues/1548), thanks [@&#8203;workingjubilee](https://togithub.com/workingjubilee))

##### Additions

-   Add `Weekday::days_since` ([#&#8203;1249](https://togithub.com/chronotope/chrono/issues/1249), based on [#&#8203;216](https://togithub.com/chronotope/chrono/issues/216) by [@&#8203;clarfonthey](https://togithub.com/clarfonthey))
-   Add `TimeDelta::checked_mul` and `TimeDelta::checked_div` ([#&#8203;1565](https://togithub.com/chronotope/chrono/issues/1565), thanks [@&#8203;Zomtir](https://togithub.com/Zomtir))

##### Fixes

-   Return error when rounding with a zero duration ([#&#8203;1474](https://togithub.com/chronotope/chrono/issues/1474), thanks [@&#8203;Dav1dde](https://togithub.com/Dav1dde))
-   Manually implement `Copy` for `DateTime` if offset is `Copy` ([#&#8203;1573](https://togithub.com/chronotope/chrono/issues/1573))

##### Internal

-   Inline `test_encodable_json` and `test_decodable_json` functions ([#&#8203;1550](https://togithub.com/chronotope/chrono/issues/1550))
-   CI: Reduce combinations in `cargo hack check` ([#&#8203;1553](https://togithub.com/chronotope/chrono/issues/1553))
-   Refactor formatting code ([#&#8203;1335](https://togithub.com/chronotope/chrono/issues/1335))
-   Optimize number formatting ([#&#8203;1558](https://togithub.com/chronotope/chrono/issues/1558))
-   Only package files needed for building and testing ([#&#8203;1554](https://togithub.com/chronotope/chrono/issues/1554))

Thanks to all contributors on behalf of the chrono team, [@&#8203;djc](https://togithub.com/djc) and [@&#8203;pitdicker](https://togithub.com/pitdicker)!

</details>

---

### Configuration

ðŸ“… **Schedule**: Branch creation - "on Monday" (UTC), Automerge - At any time (no schedule defined).

ðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

â™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

ðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/astral-sh/ruff).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yOTMuMCIsInVwZGF0ZWRJblZlciI6IjM3LjI5My4wIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJpbnRlcm5hbCJdfQ==-->


---

_Label `internal` added by @renovate[bot] on 2024-04-15 12:42_

---

_Comment by @MichaReiser on 2024-04-15 12:49_

@BurntSushi how much longer until we can use jiff? ;)

---

_Merged by @MichaReiser on 2024-04-15 12:50_

---

_Closed by @MichaReiser on 2024-04-15 12:50_

---

_Branch deleted on 2024-04-15 12:50_

---

_Comment by @github-actions[bot] on 2024-04-15 13:00_

<!-- generated-comment ecosystem -->
## `ruff-ecosystem` results
### Linter (stable)
âœ… ecosystem check detected no linter changes.

### Linter (preview)
âœ… ecosystem check detected no linter changes.

### Formatter (stable)
âœ… ecosystem check detected no format changes.

### Formatter (preview)
âœ… ecosystem check detected no format changes.




---

_Comment by @BurntSushi on 2024-04-15 13:09_

> @BurntSushi how much longer until we can use jiff? ;)

Probably months, at minimum. :P 

---
