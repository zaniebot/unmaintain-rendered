<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sync vendored typeshed stubs - astral-sh/ruff #18679</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Sync vendored typeshed stubs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/18679">#18679</a>
        opened by <a href="https://github.com/github-actions">@github-actions</a>
        on 2025-06-15 00:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/github-actions">@github-actions</a> on 2025-06-15 00:35</div>
            <div class="timeline-body"><p>Close and reopen this PR to trigger CI</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @github-actions[bot] on 2025-06-15 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @github-actions[bot] on 2025-06-15 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @github-actions[bot] on 2025-06-15 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @github-actions[bot] on 2025-06-15 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @github-actions[bot] on 2025-06-15 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @github-actions[bot] on 2025-06-15 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-06-15 08:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @AlexWaygood on 2025-06-15 08:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> removed by @AlexWaygood on 2025-06-15 08:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @AlexWaygood on 2025-06-15 08:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-06-15 08:41</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<p>No ecosystem changes detected âœ…</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-06-15 08:42</div>
            <div class="timeline-body"><p>We should rework the github workflow so it no longer adds the &quot;internal&quot; label to these PRs. They lead to behaviour changes for ty users; we should include mentions of them in ty release notes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @AlexWaygood on 2025-06-15 09:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-06-15 09:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-06-15 09:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-06-17 07:37</div>
            <div class="timeline-body"><blockquote>
<p>We should rework the github workflow so it no longer adds the &quot;internal&quot; label to these PRs. They lead to behaviour changes for ty users; we should include mentions of them in ty release notes.</p>
</blockquote>
<p>Can you say how should we highlight a change like this in the release notes? I'm not sure how useful it is to say that the typeshed version was bumped from commit A to B.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-06-17 10:18</div>
            <div class="timeline-body"><blockquote>
<p>Can you say how should we highlight a change like this in the release notes?</p>
</blockquote>
<p>It's a good question! Ideally I guess we'd list all the stdlib functions and classes that were changed, added or removed from the stubs, but I don't think there's an easy way to obtain that information. We could maybe link to a GitHub diff between the typeshed commit featured in our previous release and the typeshed commit in the new release -- that might be possible to automate?</p>
<p>Pyright generally just <a href="https://github.com/microsoft/pyright/releases/tag/1.1.402">says</a> &quot;Updated vendored typeshed stubs to the latest version&quot; in its release notes. I agree that that isn't terribly informative for users. But they do at least get a link to the commit that shows the stubs being updated, which will allow them to check whether a change to the stdlib stubs that they care about was included in the latest pyright release. There are often users who find themselves unable to upgrade to the latest version of pyright or mypy due to regressions in typeshed, so I do think there are often users who will be grateful to know about typeshed changes!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-06-17 16:02</div>
            <div class="timeline-body"><blockquote>
<p>We could maybe link to a GitHub diff between the typeshed commit featured in our previous release and the typeshed commit in the new release -- that might be possible to automate?</p>
</blockquote>
<p>Yeah, I like this! We can start with this. I'm not sure about automation but we could update the release instructions to include this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-06-17 16:06</div>
            <div class="timeline-body"><p>And we always update <a href="https://github.com/astral-sh/ruff/blob/main/crates/ty_vendored/vendor/typeshed/source_commit.txt">this file</a> when syncing vendored typeshed stubs, so it shouldn't be too hard to get a GitHub diff between the typeshed commit that was present in the previous release and the typeshed commit in the new release</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 18:39:35 UTC
    </footer>
</body>
</html>
