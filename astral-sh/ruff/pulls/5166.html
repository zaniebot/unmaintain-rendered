<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`perflint`] Implement `try-except-in-loop` (`PERF203`) - astral-sh/ruff #5166</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>perflint</code>] Implement <code>try-except-in-loop</code> (<code>PERF203</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/5166">#5166</a>
        opened by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a>
        on 2023-06-17 19:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on 2023-06-17 19:52</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Implements PERF203 from #4789, which throws if a <code>try/except</code> block is inside of a loop. Not sure if we want to extend the diagnostic to the <code>except</code> as well, but I thought that that may get a little messy. We may also want to just throw on the word <code>try</code> - open to suggestions though.</p>
<h2>Test Plan</h2>
<p><code>cargo t</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-06-17 20:21</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Ecosystem</h3>
<p>ℹ️ ecosystem check <strong>detected changes</strong>. (+277, -0, 0 error(s))</p>
<details><summary>airflow (+198, -0)</summary>
<p>

<pre><code class="language-diff">+ airflow/api/__init__.py:44:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/api_connexion/endpoints/user_endpoint.py:161:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/cli/commands/connection_command.py:324:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/cli/commands/standalone_command.py:110:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/cli/commands/task_command.py:522:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/cli/commands/variable_command.py:116:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/cli/commands/variable_command.py:96:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/configuration.py:1154:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/configuration.py:1210:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/configuration.py:1267:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/configuration.py:964:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/manager.py:203:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/manager.py:269:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/manager.py:668:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/manager.py:712:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/processor.py:369:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/processor.py:535:21: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/processor.py:560:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/dag_processing/processor.py:709:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/datasets/manager.py:100:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/example_dags/example_kubernetes_executor.py:137:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:1024:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:117:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:452:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:477:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:714:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:759:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:980:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/kubernetes_executor.py:996:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/local_executor.py:187:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/local_executor.py:339:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/executors/sequential_executor.py:79:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/jobs/backfill_job_runner.py:649:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/jobs/scheduler_job_runner.py:401:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/jobs/triggerer_job_runner.py:679:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/jobs/triggerer_job_runner.py:686:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/abstractoperator.py:692:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/abstractoperator.py:701:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/abstractoperator.py:721:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/baseoperator.py:1339:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/baseoperator.py:1368:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/baseoperator.py:986:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/connection.py:456:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dag.py:1070:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dag.py:1378:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dag.py:2722:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dag.py:733:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagbag.py:413:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagbag.py:445:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagbag.py:566:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagrun.py:1027:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagrun.py:1040:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagrun.py:1149:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/dagrun.py:736:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/mappedoperator.py:90:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/taskinstance.py:1671:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/taskinstance.py:1778:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/models/variable.py:266:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/operators/subdag.py:214:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/plugins_manager.py:236:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/plugins_manager.py:265:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/airbyte/hooks/airbyte.py:71:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/base_aws.py:885:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/batch_client.py:387:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/elasticache_replication_group.py:214:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/sagemaker.py:1141:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/sagemaker.py:262:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/sagemaker.py:270:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/hooks/sagemaker.py:716:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/log/s3_task_handler.py:221:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/operators/redshift_cluster.py:498:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/operators/redshift_cluster.py:586:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/operators/redshift_cluster.py:680:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/secrets/secrets_manager.py:222:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/batch.py:173:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/batch.py:90:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/ecs.py:153:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/ecs.py:181:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/eks.py:154:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/eks.py:84:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/emr.py:158:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/emr.py:232:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/emr.py:308:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/emr.py:87:21: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/glue_crawler.py:69:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/redshift_cluster.py:136:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/redshift_cluster.py:207:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/redshift_cluster.py:283:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/triggers/redshift_cluster.py:354:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/utils/waiter_with_logging.py:119:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/amazon/aws/utils/waiter_with_logging.py:70:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/apache/flink/sensors/flink_kubernetes.py:104:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/apache/hdfs/hooks/webhdfs.py:94:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/apache/hive/hooks/hive.py:323:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/apache/kafka/hooks/client.py:59:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/apache/livy/hooks/livy.py:558:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/cncf/kubernetes/triggers/pod.py:177:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/cncf/kubernetes/utils/delete_from.py:51:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/docker/operators/docker_swarm.py:188:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/compute_ssh.py:270:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/dataform.py:95:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/datafusion.py:123:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/dataproc.py:1038:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/dataproc.py:717:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/gcs.py:347:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/gcs.py:495:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/mlengine.py:245:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/hooks/mlengine.py:69:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/operators/dataproc.py:591:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/operators/gcs.py:777:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/operators/gcs.py:827:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery.py:100:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery.py:165:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery.py:224:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery.py:369:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery.py:452:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery.py:515:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/bigquery_dts.py:133:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/cloud_build.py:119:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/dataflow.py:132:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/datafusion.py:112:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/dataproc.py:280:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/dataproc.py:340:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/kubernetes_engine.py:193:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/cloud/triggers/mlengine.py:113:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/google/suite/transfers/local_to_drive.py:134:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/http/hooks/http.py:379:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/jenkins/operators/jenkins_job_trigger.py:164:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/jenkins/operators/jenkins_job_trigger.py:221:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/microsoft/azure/log/wasb_task_handler.py:162:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/microsoft/azure/operators/container_instances.py:337:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/microsoft/winrm/operators/winrm.py:133:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/salesforce/hooks/salesforce.py:256:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/sftp/sensors/sftp.py:84:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/smtp/hooks/smtp.py:212:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/smtp/hooks/smtp.py:86:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/snowflake/hooks/snowflake_sql_api.py:223:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/snowflake/operators/snowflake.py:510:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/providers/ssh/hooks/ssh.py:459:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/sensors/base.py:213:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/serialization/serialized_objects.py:1083:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/serialization/serialized_objects.py:650:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/serialization/serialized_objects.py:799:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/cli_action_loggers.py:69:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/cli_action_loggers.py:87:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/db.py:1024:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/db.py:993:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/email.py:271:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/entry_points.py:41:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/file.py:324:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/utils/process_utils.py:128:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/www/extensions/init_security.py:63:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/www/views.py:4708:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/www/views.py:5142:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/www/views.py:5167:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ airflow/www/views.py:522:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/assign_cherry_picked_prs_with_milestone.py:304:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/commands/release_management_commands.py:1066:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/confirm.py:90:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:426:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:486:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:99:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/parallel.py:454:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/path_utils.py:346:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/path_utils.py:351:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/breeze/src/airflow_breeze/utils/selective_checks.py:211:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/mypy/plugin/decorators.py:72:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/prepare_release_issue.py:284:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/prepare_release_issue.py:315:21: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/provider_packages/prepare_provider_packages.py:1190:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/provider_packages/prepare_provider_packages.py:1231:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/stats/get_important_pr_candidates.py:156:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ dev/stats/get_important_pr_candidates.py:175:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ docs/exts/docs_build/dev_index_generator.py:60:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ docs/exts/provider_yaml_utils.py:70:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ kubernetes_tests/test_base.py:138:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ kubernetes_tests/test_base.py:177:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/ci/pre_commit/pre_commit_update_example_dags_paths.py:58:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/in_container/run_provider_yaml_files_check.py:100:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/in_container/run_provider_yaml_files_check.py:249:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/in_container/run_provider_yaml_files_check.py:290:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/in_container/verify_providers.py:296:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/tools/list-integrations.py:56:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ setup.py:121:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/cli/commands/_common_cli_classes.py:116:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/cli/commands/_common_cli_classes.py:138:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/cli/commands/_common_cli_classes.py:99:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/cluster_policies/__init__.py:56:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/core/test_logging_config.py:118:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/dag_processing/test_job_runner.py:848:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/operators/test_datetime.py:91:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/operators/test_python.py:94:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/operators/test_weekday.py:87:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/providers/http/hooks/test_http.py:88:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/providers/openlineage/plugins/test_utils.py:56:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/serialization/test_serde.py:291:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/system/providers/amazon/aws/utils/__init__.py:327:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/task/task_runner/test_standard_task_runner.py:419:13: PERF203 `try`-`except` within a loop incurs performance overhead
</code></pre>
</p>
</details>
<details><summary>bokeh (+20, -0)</summary>
<p>

<pre><code class="language-diff">+ examples/server/app/spectrogram/audio.py:37:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ examples/topics/geo/choropleth.py:38:5: PERF203 `try`-`except` within a loop incurs performance overhead
+ release/build.py:165:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ release/git.py:56:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ release/git.py:60:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/application/handlers/document_lifecycle.py:65:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/client/connection.py:344:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/client/connection.py:357:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/command/subcommands/__init__.py:69:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/core/has_props.py:650:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/core/property/either.py:89:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/settings.py:797:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/sphinxext/bokeh_plot.py:298:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/sphinxext/bokeh_releases.py:82:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/util/compiler.py:395:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ src/bokeh/util/tornado.py:219:21: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/support/plugins/file_server.py:91:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/unit/bokeh/command/subcommands/test_serve.py:525:21: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/unit/bokeh/model/test_model.py:222:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ tests/unit/bokeh/models/test_defaults.py:41:9: PERF203 `try`-`except` within a loop incurs performance overhead
</code></pre>
</p>
</details>
<details><summary>zulip (+59, -0)</summary>
<p>

<pre><code class="language-diff">+ analytics/management/commands/check_analytics_state.py:51:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ analytics/views/installation_activity.py:205:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ analytics/views/support.py:310:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/lib/supervisor.py:17:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/lib/zulip_tools.py:224:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/lib/zulip_tools.py:320:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ scripts/lib/zulip_tools.py:54:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ tools/lib/html_branches.py:86:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ tools/lib/provision_inner.py:331:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ tools/lib/template_parser.py:238:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/actions/default_streams.py:44:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/actions/typing.py:54:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/data_import/slack.py:899:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/addressee.py:21:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/addressee.py:32:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/cache.py:313:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/events.py:1570:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/import_realm.py:380:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/import_realm.py:698:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/management.py:31:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/markdown/__init__.py:2323:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/markdown/api_arguments_table_generator.py:80:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/markdown/tabbed_sections.py:152:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/push_notifications.py:236:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/rate_limiter.py:462:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/subscription_info.py:322:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/test_runner.py:153:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/users.py:389:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/users.py:394:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/lib/validator.py:348:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/bulk_change_user_name.py:33:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/change_password.py:57:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/compilemessages.py:122:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/enqueue_file.py:20:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/export_usermessage_batch.py:32:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/export_usermessage_batch.py:38:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/makemessages.py:276:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/management/commands/sync_ldap_user_data.py:33:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/migrations/0037_disallow_null_string_id.py:23:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/migrations/0260_missed_message_addresses_from_redis_to_db.py:70:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/migrations/0359_re2_linkifiers.py:16:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/migrations/0373_fix_deleteduser_dummies.py:64:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/migrations/0401_migrate_old_realm_reactivation_links.py:50:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/models.py:4685:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/openapi/test_curl_examples.py:103:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/tests/test_markdown.py:479:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/tests/test_openapi.py:568:21: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/tornado/event_queue.py:1434:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/views/invite.py:206:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/views/invite.py:80:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/views/registration.py:1036:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/views/registration.py:976:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/views/streams.py:1058:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/worker/queue_processors.py:745:17: PERF203 `try`-`except` within a loop incurs performance overhead
+ zerver/worker/queue_processors.py:985:13: PERF203 `try`-`except` within a loop incurs performance overhead
+ zilencer/views.py:391:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zproject/backends.py:1424:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zproject/backends.py:1430:9: PERF203 `try`-`except` within a loop incurs performance overhead
+ zproject/backends.py:901:13: PERF203 `try`-`except` within a loop incurs performance overhead
</code></pre>
</p>
</details>

<h3>Benchmark</h3>
<h4>Linux</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.07      7.9±0.02ms     5.2 MB/sec    1.00      7.4±0.02ms     5.5 MB/sec
formatter/numpy/ctypeslib.py               1.05   1679.0±1.99µs     9.9 MB/sec    1.00   1604.4±2.86µs    10.4 MB/sec
formatter/numpy/globals.py                 1.03    190.8±0.35µs    15.5 MB/sec    1.00    186.1±0.85µs    15.9 MB/sec
formatter/pydantic/types.py                1.05      3.9±0.00ms     6.6 MB/sec    1.00      3.7±0.01ms     6.9 MB/sec
linter/all-rules/large/dataset.py          1.00     13.7±0.06ms     3.0 MB/sec    1.00     13.7±0.07ms     3.0 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      3.4±0.02ms     4.8 MB/sec    1.01      3.5±0.01ms     4.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    360.3±1.52µs     8.2 MB/sec    1.00    361.7±1.73µs     8.2 MB/sec
linter/all-rules/pydantic/types.py         1.00      6.1±0.02ms     4.2 MB/sec    1.01      6.1±0.04ms     4.2 MB/sec
linter/default-rules/large/dataset.py      1.00      7.0±0.02ms     5.8 MB/sec    1.00      7.0±0.03ms     5.8 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00   1464.3±2.29µs    11.4 MB/sec    1.00   1462.7±4.01µs    11.4 MB/sec
linter/default-rules/numpy/globals.py      1.01    153.7±0.19µs    19.2 MB/sec    1.00    152.7±0.18µs    19.3 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.2±0.01ms     8.1 MB/sec    1.00      3.2±0.01ms     8.1 MB/sec
</code></pre>
<h4>Windows</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00     10.1±0.28ms     4.0 MB/sec    1.00     10.1±0.29ms     4.0 MB/sec
formatter/numpy/ctypeslib.py               1.00      2.3±0.07ms     7.3 MB/sec    1.03      2.3±0.08ms     7.1 MB/sec
formatter/numpy/globals.py                 1.00   278.2±12.84µs    10.6 MB/sec    1.00   278.2±15.48µs    10.6 MB/sec
formatter/pydantic/types.py                1.00      5.1±0.21ms     5.0 MB/sec    1.05      5.3±0.20ms     4.8 MB/sec
linter/all-rules/large/dataset.py          1.01     19.4±0.49ms     2.1 MB/sec    1.00     19.3±0.48ms     2.1 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      5.2±0.17ms     3.2 MB/sec    1.03      5.4±0.18ms     3.1 MB/sec
linter/all-rules/numpy/globals.py          1.00   643.5±34.96µs     4.6 MB/sec    1.01   649.3±32.97µs     4.5 MB/sec
linter/all-rules/pydantic/types.py         1.00      8.7±0.28ms     2.9 MB/sec    1.03      9.0±0.30ms     2.8 MB/sec
linter/default-rules/large/dataset.py      1.00     10.3±0.24ms     3.9 MB/sec    1.01     10.4±0.27ms     3.9 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00      2.2±0.08ms     7.6 MB/sec    1.00      2.2±0.09ms     7.6 MB/sec
linter/default-rules/numpy/globals.py      1.01   264.9±11.70µs    11.1 MB/sec    1.00   262.9±14.85µs    11.2 MB/sec
linter/default-rules/pydantic/types.py     1.00      4.6±0.16ms     5.6 MB/sec    1.02      4.7±0.13ms     5.5 MB/sec
</code></pre>
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @evanrittenhouse on 2023-06-17 21:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on 2023-06-17 22:02</div>
            <div class="timeline-body"><p>Seems like the <code>try/except</code> blocks only have overhead until Python 3.10. For some reason, gating to be <code>&lt; 3.10</code> doesn't throw any diagnostics, even though from what I can tell CI uses Python 3.7. I removed the gating for now, since I can't figure out a way around it. I'm happy to add it back if we need but I'd need some guidance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @evanrittenhouse on 2023-06-17 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2023-06-26 06:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff/src/rules/perflint/snapshots/ruff__rules__perflint__tests__PERF203_PERF203.py.snap</code>:10 on 2023-06-26 06:25</div>
            <div class="timeline-body"><p>Should we only highlight the <code>except</code> header? Highlighting the whole <code>try</code> statement can create very large source frames</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> reviewed on 2023-06-26 13:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on <code>crates/ruff/src/rules/perflint/snapshots/ruff__rules__perflint__tests__PERF203_PERF203.py.snap</code>:10 on 2023-06-26 13:50</div>
            <div class="timeline-body"><p>Done - I brought that up in the PR description, wasn't sure if we should anchor on <code>try</code> or <code>except</code>. Thanks for the clarity!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-06-26 16:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Implement PERF203" to "[`perflint`] Implement `try-except-in-loop` (`PERF203`)" by @charliermarsh on 2023-06-26 16:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-06-26 16:51</div>
            <div class="timeline-body"><p>@evanrittenhouse - Can you please enable edits on this PR?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/evanrittenhouse">@evanrittenhouse</a> on 2023-06-26 17:17</div>
            <div class="timeline-body"><p>Done @charliermarsh</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-06-26 17:29</div>
            <div class="timeline-body"><p>I ended up gating to Python 3.11 based on my own micro-benchmarks (and I think that's the version in which zero-cost exception handling was introduced).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-06-26 17:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-06-26 17:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-06-27 12:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 03:37:34 UTC
    </footer>
</body>
</html>
