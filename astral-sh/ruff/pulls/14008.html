<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-simplify`] Implementation for `split-of-static-string` (SIM905) - astral-sh/ruff #14008</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-simplify</code>] Implementation for <code>split-of-static-string</code> (SIM905)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14008">#14008</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2024-10-30 19:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a></div>
            <div class="timeline-body">

Summary
<p>Closes <a href="https://github.com/astral-sh/ruff/issues/13944">astral-sh/ruff#13944</a></p>
Test Plan
<p>Standard snapshot testing</p>
<p>flake8-simplify surprisingly only has a single test case</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-10-30 20:00</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+31 -0 violations, +0 -0 fixes in 6 projects; 48 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/airflow/blob/a8921ae57a53d16150f985305a7252222647f15c/airflow/example_dags/example_params_ui_tutorial.py#L101">airflow/example_dags/example_params_ui_tutorial.py:101:22:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/airflow/blob/a8921ae57a53d16150f985305a7252222647f15c/scripts/ci/pre_commit/check_min_python_version.py#L29">scripts/ci/pre_commit/check_min_python_version.py:29:35:</a> SIM905 [*] Consider using a list literal instead of `str.split`
</pre>

</p>

<a href="https://github.com/apache/superset">apache/superset</a> (+9 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/superset/utils/date_parser.py#L511">superset/utils/date_parser.py:511:9:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L31">tests/integration_tests/db_engine_specs/hive_tests.py:31:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L39">tests/integration_tests/db_engine_specs/hive_tests.py:39:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L46">tests/integration_tests/db_engine_specs/hive_tests.py:46:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L54">tests/integration_tests/db_engine_specs/hive_tests.py:54:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L63">tests/integration_tests/db_engine_specs/hive_tests.py:63:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L73">tests/integration_tests/db_engine_specs/hive_tests.py:73:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L84">tests/integration_tests/db_engine_specs/hive_tests.py:84:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/apache/superset/blob/b02d18a39e3ffb7cee2a6abd97a44393e33dc129/tests/integration_tests/db_engine_specs/hive_tests.py#L97">tests/integration_tests/db_engine_specs/hive_tests.py:97:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+4 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/scripts/hooks/install.py#L5">scripts/hooks/install.py:5:20:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/scripts/hooks/uninstall.py#L5">scripts/hooks/uninstall.py:5:20:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/scripts/sri.py#L20">scripts/sri.py:20:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/resources.py#L674">src/bokeh/resources.py:674:11:</a> SIM905 [*] Consider using a list literal instead of `str.split`
</pre>

</p>

<a href="https://github.com/freedomofpress/securedrop">freedomofpress/securedrop</a> (+12 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/admin/tests/test_integration.py#L542">admin/tests/test_integration.py:542:27:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/admin/tests/test_integration.py#L547">admin/tests/test_integration.py:547:27:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/admin/tests/test_integration.py#L642">admin/tests/test_integration.py:642:27:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/admin/tests/test_integration.py#L643">admin/tests/test_integration.py:643:27:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/admin/tests/test_integration.py#L646">admin/tests/test_integration.py:646:27:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/admin/tests/test_integration.py#L675">admin/tests/test_integration.py:675:27:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/securedrop/pretty_bad_protocol/_parsers.py#L1194">securedrop/pretty_bad_protocol/_parsers.py:1194:16:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/securedrop/pretty_bad_protocol/_parsers.py#L1233">securedrop/pretty_bad_protocol/_parsers.py:1233:16:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/securedrop/pretty_bad_protocol/_parsers.py#L1292">securedrop/pretty_bad_protocol/_parsers.py:1292:24:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/securedrop/pretty_bad_protocol/_parsers.py#L1400">securedrop/pretty_bad_protocol/_parsers.py:1400:24:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/securedrop/pretty_bad_protocol/_parsers.py#L671">securedrop/pretty_bad_protocol/_parsers.py:671:30:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/freedomofpress/securedrop/blob/eb39e657c552a298c9a91976b88443953a094a6b/securedrop/pretty_bad_protocol/gnupg.py#L565">securedrop/pretty_bad_protocol/gnupg.py:565:26:</a> SIM905 [*] Consider using a list literal instead of `str.split`
</pre>

</p>

<a href="https://github.com/scikit-build/scikit-build-core">scikit-build/scikit-build-core</a> (+3 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/test_skbuild_settings.py#L400">tests/test_skbuild_settings.py:400:12:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/test_skbuild_settings.py#L440">tests/test_skbuild_settings.py:440:12:</a> SIM905 [*] Consider using a list literal instead of `str.split`
+ <a href="https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/test_skbuild_settings.py#L752">tests/test_skbuild_settings.py:752:12:</a> SIM905 [*] Consider using a list literal instead of `str.split`
</pre>

</p>

<a href="https://github.com/indico/indico">indico/indico</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/indico/indico/blob/9cec34cb2c5993241d663a4dd05326256a15dfc7/indico/modules/rb/api.py#L310">indico/modules/rb/api.py:310:17:</a> SIM905 [*] Consider using a list literal instead of `str.split`
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| SIM905 | 31 | 31 | 0 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-31 07:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-31 07:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF035.py</code>:10 on 2024-10-31 07:01</div>
            <div class="timeline-body"><p>A few more examples would be great:</p>
<ol>
<li>Where the left is an empty string: <code>&quot;&quot;.split()</code></li>
<li>An all whitespace string: <code>&quot;     &quot;.split()</code> ideally where the whitespace is a mixture of spaces, tabs, etc</li>
<li>Where the left contains no split points: <code>&quot;/abc/&quot;.split()</code> (found in the ecosystem results)</li>
<li>Multiline with different indents: see https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/test_skbuild_settings.py#L440-L443</li>
<li>Strings with unicode flag</li>
<li>Examples with comments in various positions<pre><code>   (&quot;a,b,c&quot;
   # comment
   .split()
   )
</code></pre>
</li>
</ol>
<p>We should also add examples for the following strings where I think it&#x27;s okay if we don&#x27;t support them</p>
<ol>
<li>Raw strings</li>
<li>Implicit concatenated strings</li>
<li>Implicit concatenated strings with commented parts (where there are comments between the parts)</li>
<li>Implicit concatenated strings with different prefixes</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:406 on 2024-10-31 07:05</div>
            <div class="timeline-body"><p>Nit</p>
<pre><code>                        } else if matches!(attr, &quot;split&quot; | &quot;rsplit&quot;) {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:40 on 2024-10-31 07:06</div>
            <div class="timeline-body"><pre><code>        format!(&quot;Consider using a list instead of `str.split`&quot;)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:44 on 2024-10-31 07:06</div>
            <div class="timeline-body"><pre><code>        Some(format!(&quot;Replace `str.split` with list literal&quot;))
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:133 on 2024-10-31 07:15</div>
            <div class="timeline-body"><p>Nit: You could use <code>Option::and_then</code> to reduce the nesting</p>
<pre><code>    let maxsplit_value = if let Some(maxsplit) = maxsplit_arg {
        let Some(value) = maxsplit
            .as_number_literal_expr()
            .and_then(|max_split| max_split.value.as_int())
            .and_then(|int_value| int_value.as_usize())
        else {
            return;
        };

        value
    } else {
        0
    };
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:160 on 2024-10-31 07:16</div>
            <div class="timeline-body"><p>What&#x27;s your reasoning for making this an unsafe edit?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:81 on 2024-10-31 07:17</div>
            <div class="timeline-body"><p>What makes <code>maxsplit</code> with the default separator difficult to implement?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> requested changes on 2024-10-31 07:18</div>
            <div class="timeline-body"><p>Nice! This is real good.</p>
<p>I think this mainly needs more tests .</p>
<p>The touch with <code>maxsplit</code> is nice but I haven&#x27;t seen a single example in the ecosystem results. That&#x27;s why I&#x27;m not sure if its worth the complexity or if we should just bail on providing a fix in this case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-10-31 08:27</div>
            <div class="timeline-body"><p>This rule exists in the Flake8-simplify linter as SIM905: <a href="https://github.com/MartinThoma/flake8-simplify/issues/86">MartinThoma/flake8-simplify#86</a></p>
<p>So I think it would be good for us to put it in our Flake8-simplify category with code SIM905</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-10-31 08:42</div>
            <div class="timeline-body"><p>Thanks for the review @MichaReiser, will make another pass.</p>
<p>Good catch @AlexWaygood, I&#x27;ll remap to that category.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[`ruff`] Implementation for `split-of-static-string` (RUF035)&quot; to &quot;[`flake8-simplify`] Implementation for `split-of-static-string` (SIM905)&quot; by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-10-31 08:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 12:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:81 on 2024-10-31 12:09</div>
            <div class="timeline-body"><p>There is no equivalent to <code>split</code> for <code>split_whitespace</code>. Implementing it is not that much work, but it would be simplified greatly when this experimental API is stabilised (https://doc.rust-lang.org/std/str/struct.SplitWhitespace.html#method.remainder). I don&#x27;t think it&#x27;s worth to implement the logic now. I&#x27;ll add a comment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 12:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:160 on 2024-10-31 12:19</div>
            <div class="timeline-body"><p>I had not yet exhausted all edge cases (comments, implicit string concatenation, etc.), so I marked it unsafe to be on the <em>safe</em> side. Comments within ISC are not preserved, so in that case it&#x27;s unsafe.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 12:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF035.py</code>:10 on 2024-10-31 12:34</div>
            <div class="timeline-body"><p>Added these cases, as well as <code>maxsize=-1</code> that I found people also use.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 12:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/src/rules/ruff/rules/split_of_static_string.rs</code>:133 on 2024-10-31 12:39</div>
            <div class="timeline-body"><p>I kept the match statement now that UnaryOp is also matched, but removed one if-else condition with <code>and_then</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 12:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF035.py</code>:10 on 2024-10-31 12:45</div>
            <div class="timeline-body"><p>Implicit concatenated strings are supported, but the fix is unsafe because of the comments. I could also exclude them from fixing and mark the fix as safe if you prefer.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/src/rules/flake8_simplify/rules/split_of_static_string.rs</code>:88 on 2024-10-31 13:54</div>
            <div class="timeline-body"><blockquote>
<p>The touch with maxsplit is nice but I haven&#x27;t seen a single example in the ecosystem results. That&#x27;s why I&#x27;m not sure if it&#x27;s worth the complexity or if we should just bail on providing a fix in this case.</p>
</blockquote>
<p>Maxsplit=1 is quite common (arguably people should use <code>str.partition</code>).</p>
<p>Another reason to keep the logic is that it can be useful to generalise for this pylint rule:
https://pylint.readthedocs.io/en/stable/user_guide/messages/convention/use-maxsplit-arg.html</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 13:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/codes.rs</code>:483 on 2024-10-31 17:03</div>
            <div class="timeline-body"><p>Nit: How about simplifying it to <code>SplitStaticString</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_simplify/rules/split_of_static_string.rs</code>:122 on 2024-10-31 17:05</div>
            <div class="timeline-body"><p>I think we should bail here if <code>maxplit</code> is a negative number other than <code>-1</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-10-31 17:11</div>
            <div class="timeline-body"><p>This is awesome. Thank you. It&#x27;s up to you if you want to address any of the two comments. I merge whenever you tell me the PR&#x27;s good to go :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 18:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/src/rules/flake8_simplify/rules/split_of_static_string.rs</code>:122 on 2024-10-31 18:14</div>
            <div class="timeline-body"><p>It&#x27;s rare, but <code>maxsplit=-2</code> behaves as if maxsplit is omitted.
From that perspective, any negative number could be flagged as non-idiomatic default, but that would be a different rule.</p>
<p>Working code in the wild:</p>
<p>https://github.com/localstack/localstack/blob/master/localstack-core/localstack/services/kms/utils.py#L17</p>
<p>(This is valid code, although likely a mistake)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a> reviewed on 2024-10-31 18:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sbrugman">@sbrugman</a> on <code>crates/ruff_linter/src/codes.rs</code>:483 on 2024-10-31 18:17</div>
            <div class="timeline-body"><p>Will do. I inserted &quot;of&quot;  when I saw &quot;to&quot; in &quot;static-join-to-f-string&quot;, but in hindsight that name does not even adhere to the naming convention (name the thing the rule detects)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-10-31 18:49</div>
            <div class="timeline-body"><p>@MichaReiser processed the comments, thanks for the pointers</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-11-01 09:08</div>
            <div class="timeline-body"><p>Could we add a test for <code>maxsplit=0</code>. I suspect that we&#x27;re handling that incorrectly to be the same as <code>maxsplit=-1</code> where it isn&#x27;t.</p>
<pre><code>&gt;&gt;&gt; &quot;a,b,c&quot;.split(&#x27;,&#x27;, maxsplit=0)
[&#x27;a,b,c&#x27;]
&gt;&gt;&gt; &quot;a,b,c&quot;.split(&#x27;,&#x27;, maxsplit=-1)
[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]
&gt;&gt;&gt; &quot;a,b,c&quot;.split(&#x27;,&#x27;, maxsplit=-2)
</code></pre>
<ul>
<li>negative values =&gt; Same as <code>maxsplit</code> None</li>
<li>0 =&gt; No split</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-01 14:51</div>
            <div class="timeline-body"><p>To make things more interesting:</p>
<pre><code>&gt;&gt;&gt; &quot;a,b,c&quot;.split(&#x27;,&#x27;, maxsplit=-0)
[&#x27;a,b,c&#x27;]
&gt;&gt;&gt; &quot;a,b,c&quot;.split(&#x27;,&#x27;, maxsplit=-1)
[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-02 10:03</div>
            <div class="timeline-body"><p>You&#x27;re right, the <code>maxsplit=0</code> case wasn&#x27;t handled correctly. (And nice touch on <code>-0</code> )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-11-02 17:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-02 17:10</div>
            <div class="timeline-body"><p>I decided to make it safe <em>unless</em> there are comments in the range (in which case, we still fix, but as unsafe).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-02 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-02 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-11-03 13:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:07:56 UTC
    </footer>
</body>
</html>
