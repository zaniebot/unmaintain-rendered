<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix: Structured output Issue Fix - astral-sh/ruff #186</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix: Structured output Issue Fix</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/186">#186</a>
        opened by <a href="https://github.com/HallerPatrick">@HallerPatrick</a>
        on 2022-09-14 18:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/HallerPatrick">@HallerPatrick</a> on 2022-09-14 18:17</div>
            <div class="timeline-body"><p>New PR that fixes bug introduced with last PR</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-09-14 19:04</div>
            <div class="timeline-body"><p>Just for posterity, what was the bug / what's the difference between this PR and the previous?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/HallerPatrick">@HallerPatrick</a> on 2022-09-15 08:31</div>
            <div class="timeline-body"><blockquote>
<p>Just for posterity, what was the bug / what's the difference between this PR and the previous?</p>
</blockquote>
<p>Yeah, so running <code>ruff</code> once had the expected behaviour, but with the <code>--watch</code> flag, nothing was printed to stdout. After some debugging, I discovered that the loop, where the file watcher listens, blocks the printing. This happens with the introduction of the explicit <code>BufWriter</code> to stdout. I reverted to using plain <code>println!</code> macros, which yields the expected behaviour.</p>
<p>EDIT: After following my own explanation I figured that removing the <code>BufWriter</code> and just use stdout, would also solve the issue....</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2022-09-15 13:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-09-15 13:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 05:50:51 UTC
    </footer>
</body>
</html>
