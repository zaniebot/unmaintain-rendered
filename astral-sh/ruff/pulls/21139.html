<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Understand legacy and PEP 695 `ParamSpec` - astral-sh/ruff #21139</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Understand legacy and PEP 695 <code>ParamSpec</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21139">#21139</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2025-10-30 14:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body">Summary
<p>This PR adds support for understanding the legacy definition and PEP 695 definition for <code>ParamSpec</code>.</p>
<p>This is still very initial and doesn&#x27;t really implement any of the semantics.</p>
<p>Part of <a href="https://github.com/astral-sh/ty/issues/157">astral-sh/ty#157</a></p>
Test Plan
<p>Add mdtest cases.</p>
Ecosystem analysis
<p>Most of the diagnostics in <code>starlette</code> are due to the fact that ty now understands <code>ParamSpec</code> is not a <code>Todo</code> type, so the assignability check fails. The code looks something like:</p>
<pre><code>class _MiddlewareFactory(Protocol[P]):
    def __call__(self, app: ASGIApp, /, *args: P.args, **kwargs: P.kwargs) -&gt; ASGIApp: ...  # pragma: no cover

class Middleware:
    def __init__(
        self,
        cls: _MiddlewareFactory[P],
        *args: P.args,
        **kwargs: P.kwargs,
    ) -&gt; None:
        self.cls = cls
        self.args = args
        self.kwargs = kwargs

# ty complains that `ServerErrorMiddleware` is not assignable to `_MiddlewareFactory[P]`
Middleware(ServerErrorMiddleware, handler=error_handler, debug=debug)
</code></pre>
<p>There are multiple diagnostics where there&#x27;s an attribute access on the <code>Wrapped</code> object of <code>functools</code> which Pyright also raises:</p>
<pre><code>from functools import wraps

def my_decorator(f):
    @wraps(f)
    def wrapper(*args, **kwds):
        return f(*args, **kwds)

	# Pyright: Cannot access attribute &quot;__signature__&quot; for class &quot;_Wrapped[..., Unknown, ..., Unknown]&quot;
      Attribute &quot;__signature__&quot; is unknown [reportAttributeAccessIssue]
	# ty: Object of type `_Wrapped[Unknown, Unknown, Unknown, Unknown]` has no attribute `__signature__` [unresolved-attribute]
    wrapper.__signature__
    return wrapper
</code></pre>
<p>There are additional diagnostics that is due to the assignability checks failing because ty now infers the <code>ParamSpec</code> instead of using the <code>Todo</code> type which would always succeed. This results in a few <code>no-matching-overload</code> diagnostics because the assignability checks fail.</p>
<p>There are a few diagnostics related to <a href="https://github.com/astral-sh/ty/issues/491">astral-sh/ty#491</a> where there&#x27;s a variable which is either a bound method or a variable that&#x27;s annotated with <code>Callable</code> that doesn&#x27;t contain the instance as the first parameter.</p>
<p>Another set of (valid) diagnostics are where the code hasn&#x27;t provided all the type variables. ty is now raising diagnostics for these because we include <code>ParamSpec</code> type variable in the signature. For example, <code>staticmethod[Any]</code> which contains two type variables.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-30 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-30 14:41</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a>

Changes were detected when running ty on typing conformance tests

<pre><code>--- old-output.txt	2025-11-03 15:09:54.839284582 +0000
+++ new-output.txt	2025-11-03 15:09:58.086280840 +0000
@@ -1,4 +1,4 @@
-fatal[panic] Panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/cdd0b85/src/function/execute.rs:419:17 when checking `/home/runner/work/ruff/ruff/typing/conformance/tests/aliases_typealiastype.py`: `infer_definition_types(Id(182f5)): execute: too many cycle iterations`
+fatal[panic] Panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/cdd0b85/src/function/execute.rs:419:17 when checking `/home/runner/work/ruff/ruff/typing/conformance/tests/aliases_typealiastype.py`: `infer_definition_types(Id(18371)): execute: too many cycle iterations`
 _directives_deprecated_library.py:15:31: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
 _directives_deprecated_library.py:30:26: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `str`
 _directives_deprecated_library.py:36:41: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Self@__add__`
@@ -146,7 +146,9 @@
 callables_protocol.py:97:1: error[invalid-assignment] Object of type `def cb4_bad1(x: int) -&gt; None` is not assignable to `Proto4`
 callables_protocol.py:121:1: error[invalid-assignment] Object of type `def cb6_bad1(*vals: bytes, *, max_len: int | None = None) -&gt; list[bytes]` is not assignable to `NotProto6`
 callables_protocol.py:169:1: error[invalid-assignment] Object of type `def cb8_bad1(x: int) -&gt; Any` is not assignable to `Proto8`
-callables_protocol.py:179:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `R@__call__`
+callables_protocol.py:186:5: error[invalid-assignment] Object of type `Literal[&quot;str&quot;]` is not assignable to attribute `other_attribute` of type `int`
+callables_protocol.py:187:5: error[unresolved-attribute] Unresolved attribute `xxx` on type `Proto9[P@decorator1, R@decorator1]`.
+callables_protocol.py:197:7: error[unresolved-attribute] Object of type `Proto9[Unknown, Unknown]` has no attribute `other_attribute2`
 callables_protocol.py:238:1: error[invalid-assignment] Object of type `def cb11_bad1(x: int, y: str, /) -&gt; Any` is not assignable to `Proto11`
 callables_protocol.py:260:1: error[invalid-assignment] Object of type `def cb12_bad1(*args: Any, *, kwarg0: Any) -&gt; None` is not assignable to `Proto12`
 callables_protocol.py:284:1: error[invalid-assignment] Object of type `def cb13_no_default(path: str) -&gt; str` is not assignable to `Proto13_Default`
@@ -433,7 +435,11 @@
 generics_defaults.py:59:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(unsupported nested subscript in type[X])`
 generics_defaults.py:63:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(unsupported nested subscript in type[X])`
 generics_defaults.py:79:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(unsupported nested subscript in type[X])`
-generics_defaults.py:80:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(specialized non-generic class)`
+generics_defaults.py:80:1: error[type-assertion-failure] Argument does not have asserted type `Unknown`
+generics_defaults.py:80:32: error[too-many-positional-arguments] Too many positional arguments to class `Class_ParamSpec`: expected 1, got 2
+generics_defaults.py:81:1: error[type-assertion-failure] Argument does not have asserted type `Unknown`
+generics_defaults.py:81:29: error[invalid-type-form] List literals are not allowed in this context in a type expression: Did you mean `tuple[bool, bool]`?
+generics_defaults.py:81:46: error[too-many-positional-arguments] Too many positional arguments to class `Class_ParamSpec`: expected 1, got 2
 generics_defaults.py:91:26: error[invalid-argument-type] `@Todo(starred expression)` is not a valid argument to `Generic`
 generics_defaults.py:94:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(unsupported nested subscript in type[X])`
 generics_defaults.py:95:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(specialized non-generic class)`
@@ -453,8 +459,10 @@
 generics_defaults_specialization.py:27:5: error[type-assertion-failure] Argument does not have asserted type `SomethingWithNoDefaults[int, bool]`
 generics_defaults_specialization.py:30:1: error[non-subscriptable] Cannot subscript object of type `&lt;class &#x27;SomethingWithNoDefaults[int, typing.TypeVar]&#x27;&gt;` with no `__class_getitem__` method
 generics_defaults_specialization.py:45:1: error[type-assertion-failure] Argument does not have asserted type `@Todo(unsupported nested subscript in type[X])`
+generics_paramspec_basic.py:10:1: error[invalid-paramspec] The name of a `ParamSpec` (`NotIt`) must match the name of the variable it is assigned to (`WrongName`)
+generics_paramspec_basic.py:23:20: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `P@func1`
 generics_paramspec_basic.py:27:38: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
-generics_paramspec_components.py:49:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `tuple[@Todo(Support for `typing.ParamSpec`), ...]`
+generics_paramspec_components.py:49:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `tuple[@Todo(ParamSpecArgs / ParamSpecKwargs), ...]`
 generics_paramspec_components.py:83:18: error[parameter-already-assigned] Multiple values provided for parameter 1 (`x`) of function `foo`
 generics_paramspec_semantics.py:13:56: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; str`
 generics_paramspec_semantics.py:17:40: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
@@ -465,7 +473,6 @@
 generics_paramspec_semantics.py:53:34: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
 generics_paramspec_semantics.py:57:34: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
 generics_paramspec_semantics.py:76:30: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `str`
-generics_paramspec_semantics.py:82:5: error[type-assertion-failure] Argument does not have asserted type `@Todo(specialized non-generic class)`
 generics_paramspec_semantics.py:82:28: error[invalid-type-form] List literals are not allowed in this context in a type expression: Did you mean `list[int]`?
 generics_paramspec_semantics.py:84:5: error[type-assertion-failure] Argument does not have asserted type `(int, /) -&gt; str`
 generics_paramspec_semantics.py:87:33: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
@@ -480,6 +487,7 @@
 generics_paramspec_specialization.py:40:27: error[invalid-type-form] List literals are not allowed in this context in a type expression: Did you mean `tuple[()]`?
 generics_paramspec_specialization.py:40:31: error[invalid-type-form] List literals are not allowed in this context in a type expression: Did you mean `tuple[()]`?
 generics_paramspec_specialization.py:52:22: error[invalid-type-form] List literals are not allowed in this context in a type expression: Did you mean `tuple[int, str, bool]`?
+generics_paramspec_specialization.py:58:15: error[too-many-positional-arguments] Too many positional arguments to class `ClassC`: expected 1, got 3
 generics_scoping.py:14:1: error[type-assertion-failure] Argument does not have asserted type `int`
 generics_scoping.py:15:1: error[type-assertion-failure] Argument does not have asserted type `str`
 generics_scoping.py:42:1: error[type-assertion-failure] Argument does not have asserted type `str`
@@ -837,7 +845,6 @@
 protocols_subtyping.py:80:5: error[invalid-assignment] Object of type `Proto4[int, int]` is not assignable to `Proto5[int | float]`
 protocols_subtyping.py:102:5: error[invalid-assignment] Object of type `Proto6[int | float, int | float]` is not assignable to `Proto7[int, int | float]`
 protocols_subtyping.py:103:5: error[invalid-assignment] Object of type `Proto6[int | float, int | float]` is not assignable to `Proto7[int | float, object]`
-protocols_variance.py:85:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `R@__call__`
 qualifiers_annotated.py:38:17: error[invalid-type-form] List literals are not allowed in this context in a type expression: Did you mean `tuple[int, str]`?
 qualifiers_annotated.py:39:17: error[invalid-type-form] Tuple literals are not allowed in this context in a type expression
 qualifiers_annotated.py:39:18: error[invalid-type-form] Tuple literals are not allowed in this context in a type expression: Did you mean `tuple[int, str]`?
@@ -988,5 +995,5 @@
 typeddicts_usage.py:28:17: error[missing-typed-dict-key] Missing required key &#x27;name&#x27; in TypedDict `Movie` constructor
 typeddicts_usage.py:28:18: error[invalid-key] Invalid key for TypedDict `Movie`: Unknown key &quot;title&quot;
 typeddicts_usage.py:40:24: error[invalid-type-form] The special form `typing.TypedDict` is not allowed in type expressions. Did you mean to use a concrete TypedDict or `collections.abc.Mapping[str, object]` instead?
-Found 990 diagnostics
+Found 997 diagnostics
 WARN A fatal error occurred while checking some files. Not all project files were analyzed. See the diagnostics list above for details.
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-30 14:42</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>async-utils (https://github.com/mikeshardmind/async-utils)
- src/async_utils/task_cache.py:197:67: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- src/async_utils/task_cache.py:283:67: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 27 diagnostics
+ Found 25 diagnostics

spack (https://github.com/spack/spack)
+ lib/spack/spack/util/pattern.py:92:21: error[invalid-assignment] Implicit shadowing of function `getter`
+ lib/spack/spack/vendor/jinja2/async_utils.py:41:9: error[unresolved-attribute] Unresolved attribute `jinja_async_variant` on type `_Wrapped[Unknown, Unknown, Unknown, Unknown]`.
+ lib/spack/spack/vendor/jinja2/compiler.py:56:12: error[invalid-return-type] Return type does not match returned value: expected `F@optimizeconst`, found `_Wrapped[Unknown, Unknown, Unknown, Unknown]`
- Found 7869 diagnostics
+ Found 7872 diagnostics

asynq (https://github.com/quora/asynq)
- asynq/decorators.pyi:70:10: error[too-many-positional-arguments] Too many positional arguments to class `PureAsyncDecoratorBinder`: expected 1, got 2
+ asynq/tests/test_debug.py:179:15: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `__name__`
+ asynq/tests/test_debug.py:181:9: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `__name__`
+ asynq/tests/test_mock.py:271:13: error[unresolved-attribute] Unresolved attribute `cant_set_attribute` on type `bound method AsyncDecorator[Any, Unknown].asynq(...) -&gt; AsyncTask[Any]`.
+ asynq/tests/test_tools.py:189:17: error[unresolved-attribute] Object of type `DecoratorBinder[Unknown]` has no attribute `__acached_per_instance_cache__`
+ asynq/tests/test_tools.py:440:5: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `dirty`
+ asynq/tests/test_tools.py:450:5: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `dirty`
- asynq/tools.py:336:13: warning[possibly-missing-attribute] Attribute `dirty` may be missing on object of type `DecoratorBinder[Unknown] | @Todo`
- asynq/tools.py:338:13: warning[possibly-missing-attribute] Attribute `dirty` may be missing on object of type `DecoratorBinder[Unknown] | @Todo`
+ asynq/tools.py:206:9: error[unresolved-attribute] Unresolved attribute `__acached_per_instance_cache__` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:268:17: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `alazy_constant_refresh_time`
+ asynq/tools.py:269:33: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `alazy_constant_refresh_time`
+ asynq/tools.py:271:17: error[unresolved-attribute] Unresolved attribute `alazy_constant_cached_value` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:272:17: error[unresolved-attribute] Unresolved attribute `alazy_constant_refresh_time` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:273:20: error[unresolved-attribute] Object of type `AsyncDecorator[Any, Unknown]` has no attribute `alazy_constant_cached_value`
+ asynq/tools.py:276:13: error[unresolved-attribute] Unresolved attribute `alazy_constant_refresh_time` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:278:9: error[unresolved-attribute] Unresolved attribute `dirty` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:279:9: error[unresolved-attribute] Unresolved attribute `alazy_constant_refresh_time` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:280:9: error[unresolved-attribute] Unresolved attribute `alazy_constant_cached_value` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:310:9: error[unresolved-attribute] Unresolved attribute `original_fn` on type `AsyncDecorator[Any, Unknown]`.
+ asynq/tools.py:336:13: error[unresolved-attribute] Object of type `DecoratorBinder[Unknown]` has no attribute `dirty`
+ asynq/tools.py:338:13: error[unresolved-attribute] Object of type `DecoratorBinder[Unknown]` has no attribute `dirty`
+ asynq/tools.py:350:77: error[unresolved-attribute] Object of type `Self@cache_key` has no attribute `fn`
+ asynq/tools.py:353:16: error[unresolved-attribute] Object of type `Self@asyncio` has no attribute `fn`
+ asynq/tools.py:357:20: error[unresolved-attribute] Object of type `Self@asynq` has no attribute `fn`
+ asynq/tools.py:364:20: error[unresolved-attribute] Object of type `Self@asynq` has no attribute `fn`
+ asynq/tools.py:377:24: error[unresolved-attribute] Object of type `Self@asynq` has no attribute `fn`
- Found 150 diagnostics
+ Found 171 diagnostics

werkzeug (https://github.com/pallets/werkzeug)
- src/werkzeug/datastructures/mixins.py:242:40: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 409 diagnostics
+ Found 408 diagnostics

beartype (https://github.com/beartype/beartype)
- beartype/_util/cache/utilcachecall.py:266:30: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- beartype/_util/cache/utilcachecall.py:493:28: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- beartype/_util/cache/utilcacheobjattr.py:637:81: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 517 diagnostics
+ Found 514 diagnostics

jinja (https://github.com/pallets/jinja)
- src/jinja2/async_utils.py:53:45: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- src/jinja2/compiler.py:58:41: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 184 diagnostics
+ Found 182 diagnostics

graphql-core (https://github.com/graphql-python/graphql-core)
+ src/graphql/execution/execute.py:216:5: error[invalid-assignment] Object of type `staticmethod[Unknown, Unknown]` is not assignable to `(Any, /) -&gt; @Todo`
- Found 389 diagnostics
+ Found 390 diagnostics

pytest (https://github.com/pytest-dev/pytest)
- src/_pytest/config/compat.py:81:42: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- src/_pytest/config/compat.py:82:42: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- src/_pytest/config/compat.py:85:32: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 484 diagnostics
+ Found 481 diagnostics

starlette (https://github.com/encode/starlette)
+ starlette/applications.py:86:25: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ServerErrorMiddleware&#x27;&gt;`
+ starlette/applications.py:88:27: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ExceptionMiddleware&#x27;&gt;`
+ starlette/applications.py:241:33: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:84:28: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:152:24: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;aMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:153:24: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;bMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:154:24: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;cMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:169:75: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:187:44: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:277:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:315:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:335:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:362:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:433:24: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:434:24: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ContextManagerMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:609:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:638:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:667:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:693:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:725:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:754:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:843:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:871:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;ConsumingMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:1086:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;MyMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:1220:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/middleware/test_base.py:1278:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;PassthroughMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:20:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:81:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:132:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:181:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:222:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:255:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:285:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:310:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:382:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:415:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:436:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:456:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:473:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:492:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_cors.py:513:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CORSMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:23:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:41:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:61:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:84:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:107:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:132:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:155:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_gzip.py:180:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;GZipMiddleware&#x27;&gt;`
+ tests/middleware/test_https_redirect.py:16:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;HTTPSRedirectMiddleware&#x27;&gt;`
+ tests/middleware/test_middleware.py:16:29: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/middleware/test_middleware.py:21:36: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:35:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:67:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:92:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:127:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:146:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:165:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_session.py:187:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SessionMiddleware&#x27;&gt;`
+ tests/middleware/test_trusted_host.py:16:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;TrustedHostMiddleware&#x27;&gt;`
+ tests/middleware/test_trusted_host.py:44:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;TrustedHostMiddleware&#x27;&gt;`
+ tests/test_applications.py:118:26: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;TrustedHostMiddleware&#x27;&gt;`
+ tests/test_applications.py:516:28: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SimpleInitializableMiddleware&#x27;&gt;`
+ tests/test_applications.py:517:28: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;NoOpMiddleware&#x27;&gt;`
+ tests/test_applications.py:551:24: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;MiddlewareWithArgs&#x27;&gt;`
+ tests/test_applications.py:552:24: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;MiddlewareWithArgs&#x27;&gt;`
+ tests/test_applications.py:574:24: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `def _middleware_factory(app: @Todo, arg: str) -&gt; @Todo`
+ tests/test_applications.py:575:24: error[invalid-argument-type] Argument to bound method `add_middleware` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `(@Todo, str, /) -&gt; @Todo`
+ tests/test_authentication.py:188:28: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;AuthenticationMiddleware&#x27;&gt;`
+ tests/test_authentication.py:343:28: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;AuthenticationMiddleware&#x27;&gt;`
+ tests/test_requests.py:645:79: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/test_routing.py:327:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/test_routing.py:930:36: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;AddHeadersMiddleware&#x27;&gt;`
+ tests/test_routing.py:948:36: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;AddHeadersMiddleware&#x27;&gt;`
+ tests/test_routing.py:965:36: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;AddHeadersMiddleware&#x27;&gt;`
+ tests/test_routing.py:1069:40: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;NamedMiddleware&#x27;&gt;`
+ tests/test_routing.py:1074:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;NamedMiddleware&#x27;&gt;`
+ tests/test_routing.py:1121:40: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;WebsocketMiddleware&#x27;&gt;`
+ tests/test_staticfiles.py:59:30: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BaseHTTPMiddleware&#x27;&gt;`
+ tests/test_templates.py:82:32: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;CustomMiddleware&#x27;&gt;`
+ tests/test_testclient.py:190:58: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;BrokenMiddleware&#x27;&gt;`
- Found 142 diagnostics
+ Found 223 diagnostics

boostedblob (https://github.com/hauntsaninja/boostedblob)
- boostedblob/globals.py:251:21: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 80 diagnostics
+ Found 79 diagnostics

pydantic (https://github.com/pydantic/pydantic)
- pydantic/_internal/_validate_call.py:44:46: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/dataclasses.py:268:69: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/deprecated/decorator.py:58:35: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/deprecated/decorator.py:59:61: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/deprecated/decorator.py:60:58: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/deprecated/decorator.py:61:44: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/v1/decorator.py:42:35: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/v1/decorator.py:43:61: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/v1/decorator.py:44:58: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/v1/decorator.py:45:44: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- pydantic/v1/main.py:935:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `dict[str, @Todo]`
+ pydantic/v1/main.py:935:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `dict[str, classmethod[Any, Any, Any]]`
- pydantic/v1/main.py:949:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `dict[str, @Todo]`
+ pydantic/v1/main.py:949:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `dict[str, classmethod[Any, Any, Any]]`
- pydantic/v1/main.py:962:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `dict[str, @Todo]`
+ pydantic/v1/main.py:962:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `dict[str, classmethod[Any, Any, Any]]`
+ pydantic/v1/typing.py:283:26: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
- Found 775 diagnostics
+ Found 766 diagnostics

check-jsonschema (https://github.com/python-jsonschema/check-jsonschema)
- src/check_jsonschema/cli/param_types.py:24:21: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 53 diagnostics
+ Found 52 diagnostics

nox (https://github.com/wntrblm/nox)
+ nox/_decorators.py:61:5: error[unresolved-attribute] Unresolved attribute `__kwdefaults__` on type `_Wrapped[Unknown, Unknown, Unknown, Unknown]`.
- Found 27 diagnostics
+ Found 28 diagnostics

tornado (https://github.com/tornadoweb/tornado)
- tornado/gen.py:274:43: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 331 diagnostics
+ Found 330 diagnostics

psycopg (https://github.com/psycopg/psycopg)
- psycopg/psycopg/pq/_debug.py:108:24: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 684 diagnostics
+ Found 683 diagnostics

cki-lib (https://gitlab.com/cki-project/cki-lib)
+ cki_lib/retrying.py:25:13: error[unresolved-attribute] Unresolved attribute `failed_count` on type `_Wrapped[Unknown, Unknown, Unknown, Unknown]`.
+ cki_lib/retrying.py:26:13: error[unresolved-attribute] Unresolved attribute `retries` on type `_Wrapped[Unknown, Unknown, Unknown, Unknown]`.
+ cki_lib/retrying.py:35:21: error[unresolved-attribute] Object of type `_Wrapped[Unknown, Unknown, Unknown, Unknown]` has no attribute `failed_count`
+ cki_lib/retrying.py:37:24: error[unresolved-attribute] Object of type `_Wrapped[Unknown, Unknown, Unknown, Unknown]` has no attribute `failed_count`
- Found 187 diagnostics
+ Found 191 diagnostics

antidote (https://github.com/Finistere/antidote)
- src/antidote/_internal/typing.py:91:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Out@__call__`
- src/antidote/_internal/typing.py:96:70: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Out@__call__`
- src/antidote/core/__init__.py:1302:30: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; T@__wrapped__`
- src/antidote/core/__init__.py:1305:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `T@__call__`
+ src/antidote/core/__init__.py:985:41: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/__init__.py:985:61: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/core/__init__.py:1033:16: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/__init__.py:1042:10: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/__init__.py:1048:16: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/core/__init__.py:1057:10: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/core/_inject.py:93:21: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/_inject.py:93:39: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/core/_inject.py:132:16: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/_inject.py:141:10: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/_inject.py:147:16: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/core/_inject.py:156:10: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/core/_injection.py:278:53: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/core/_injection.py:278:73: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
- src/antidote/core/_injection.py:298:9: warning[possibly-missing-attribute] Attribute `__qualname__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod &amp; ~classmethod) | (@Todo &amp; ~staticmethod &amp; ~classmethod)`
+ src/antidote/core/_injection.py:298:9: warning[possibly-missing-attribute] Attribute `__qualname__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]]) | (Unknown &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]])`
- src/antidote/core/_injection.py:298:30: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod &amp; ~classmethod) | (@Todo &amp; ~staticmethod &amp; ~classmethod)`
+ src/antidote/core/_injection.py:298:30: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]]) | (Unknown &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]])`
- src/antidote/core/_injection.py:302:17: warning[possibly-missing-attribute] Attribute `__qualname__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod &amp; ~classmethod &amp; ~MethodType) | (@Todo &amp; ~staticmethod &amp; ~classmethod &amp; ~MethodType)`
+ src/antidote/core/_injection.py:302:17: warning[possibly-missing-attribute] Attribute `__qualname__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]] &amp; ~MethodType) | (Unknown &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]] &amp; ~MethodType)`
- src/antidote/core/_injection.py:302:42: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod &amp; ~classmethod &amp; ~MethodType) | (@Todo &amp; ~staticmethod &amp; ~classmethod &amp; ~MethodType)`
+ src/antidote/core/_injection.py:302:42: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `(((...) -&gt; object) &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]] &amp; ~MethodType) | (Unknown &amp; ~staticmethod[object, object] &amp; ~Top[classmethod[Unknown, object, object]] &amp; ~MethodType)`
+ src/antidote/core/_raw/onion.py:417:9: error[invalid-assignment] Object of type `ReferenceType[Self@add_child]` is not assignable to attribute `__parent_ref` of type `Function[Unknown, CatalogOnionLayerImpl | None]`
- src/antidote/core/_raw/wrapper.py:79:66: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/antidote/lib/interface_ext/__init__.py:576:17: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
- src/antidote/lib/interface_ext/__init__.py:687:30: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Out@__wrapped__`
- src/antidote/lib/interface_ext/__init__.py:708:10: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Dependency[(...) -&gt; Out@single]`
- src/antidote/lib/interface_ext/__init__.py:738:10: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Dependency[Sequence[(...) -&gt; Out@all]]`
- src/antidote/lib/interface_ext/__init__.py:763:47: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Out@__antidote_dependency_hint__`
- src/antidote/lib/interface_ext/__init__.py:776:30: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Out@__wrapped__`
- src/antidote/lib/interface_ext/__init__.py:792:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Dependency[Out@__call__]`
- src/antidote/lib/interface_ext/__init__.py:800:10: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Dependency[Out@single]`
- src/antidote/lib/interface_ext/__init__.py:830:10: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Dependency[Sequence[Out@all]]`
- src/antidote/lib/interface_ext/__init__.py:1158:26: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/antidote/lib/interface_ext/__init__.py:1237:31: error[missing-argument] No arguments provided for required parameters `_P`, `_R_co` of class `classmethod`
+ src/antidote/lib/interface_ext/__init__.py:1241:31: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1298:23: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1299:10: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1303:32: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1303:65: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1330:23: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1331:10: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1335:32: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1335:65: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/interface_ext/__init__.py:1361:11: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
- src/antidote/lib/interface_ext/_function.py:161:16: error[invalid-return-type] Return type does not match returned value: expected `Dependency[Out@__call__]`, found `Dependency[typing.TypeVar]`
+ src/antidote/lib/interface_ext/_interface.py:257:17: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
- src/antidote/lib/lazy_ext/__init__.py:584:30: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Out@__wrapped__`
- src/antidote/lib/lazy_ext/__init__.py:590:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Dependency[Out@__call__]`
- src/antidote/lib/lazy_ext/__init__.py:598:30: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `(...) -&gt; Out@__wrapped__`
- src/antidote/lib/lazy_ext/__init__.py:604:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Dependency[Out@__call__]`
+ src/antidote/lib/lazy_ext/__init__.py:210:17: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/__init__.py:216:10: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/__init__.py:499:38: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/__init__.py:505:35: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/__init__.py:635:32: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/__init__.py:635:65: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/_lazy.py:104:17: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
+ src/antidote/lib/lazy_ext/_lazy.py:110:10: error[missing-argument] No argument provided for required parameter `_R_co` of class `staticmethod`
- tests/lib/interface/test_class.py:68:32: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/lib/interface/test_function.py:36:37: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/lib/interface/test_lazy.py:96:35: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 306 diagnostics
+ Found 320 diagnostics

discord.py (https://github.com/Rapptz/discord.py)
+ discord/app_commands/commands.py:807:19: error[missing-argument] No argument provided for required parameter `error` of function `on_error`
+ discord/app_commands/commands.py:807:35: error[invalid-argument-type] Argument to function `on_error` is incorrect: Expected `Group`, found `Interaction[Client]`
+ discord/app_commands/commands.py:807:48: error[invalid-argument-type] Argument to function `on_error` is incorrect: Expected `Interaction[Client]`, found `AppCommandError`
+ discord/app_commands/commands.py:810:23: error[missing-argument] No argument provided for required parameter `error` of function `on_error`
+ discord/app_commands/commands.py:810:46: error[invalid-argument-type] Argument to function `on_error` is incorrect: Expected `Group`, found `Interaction[Client]`
+ discord/app_commands/commands.py:810:59: error[invalid-argument-type] Argument to function `on_error` is incorrect: Expected `Interaction[Client]`, found `AppCommandError`
+ discord/app_commands/errors.py:453:95: error[unresolved-attribute] Object of type `object` has no attribute `__qualname__`
- discord/app_commands/tree.py:754:13: error[invalid-assignment] Object of type `list[Command | Group]` is not assignable to `list[@Todo | Group | ContextMenu]`
+ discord/app_commands/tree.py:754:13: error[invalid-assignment] Object of type `list[Command[Unknown, Unknown, Unknown] | Group]` is not assignable to `list[Command[Any, @Todo, Any] | Group | ContextMenu]`
- discord/app_commands/tree.py:764:17: error[invalid-assignment] Object of type `list[Command | Group]` is not assignable to `list[@Todo | Group | ContextMenu]`
+ discord/app_commands/tree.py:764:17: error[invalid-assignment] Object of type `list[Command[Unknown, Unknown, Unknown] | Group]` is not assignable to `list[Command[Any, @Todo, Any] | Group | ContextMenu]`
+ discord/ext/commands/cog.py:288:28: error[invalid-argument-type] Argument to class `Command` is incorrect: Expected `Cog | None`, found `typing.Self`
+ discord/ext/commands/cog.py:431:16: error[invalid-return-type] Return type does not match returned value: expected `list[Command[Self@get_app_commands, @Todo, Any] | Group]`, found `list[Group | Command[typing.Self, @Todo, Any] | Unknown]`
- discord/ext/commands/cog.py:527:13: error[invalid-assignment] Object of type `Literal[True]` is not assignable to attribute `__cog_listener__` on type `(FuncT@listener &amp; ~staticmethod) | ((...) -&gt; Unknown)`
+ discord/ext/commands/cog.py:527:13: error[invalid-assignment] Object of type `Literal[True]` is not assignable to attribute `__cog_listener__` on type `(FuncT@listener &amp; ~staticmethod[object, object]) | ((...) -&gt; object)`
- discord/ext/commands/cog.py:528:33: error[unresolved-attribute] Object of type `(FuncT@listener &amp; ~staticmethod) | ((...) -&gt; Unknown)` has no attribute `__name__`
+ discord/ext/commands/cog.py:528:33: error[unresolved-attribute] Object of type `(FuncT@listener &amp; ~staticmethod[object, object]) | ((...) -&gt; object)` has no attribute `__name__`
- discord/ext/commands/cog.py:530:17: error[unresolved-attribute] Object of type `(FuncT@listener &amp; ~staticmethod) | ((...) -&gt; Unknown)` has no attribute `__cog_listener_names__`
+ discord/ext/commands/cog.py:530:17: error[unresolved-attribute] Object of type `(FuncT@listener &amp; ~staticmethod[object, object]) | ((...) -&gt; object)` has no attribute `__cog_listener_names__`
- discord/ext/commands/cog.py:532:17: error[invalid-assignment] Object of type `list[Unknown | (str &amp; ~AlwaysFalsy)]` is not assignable to attribute `__cog_listener_names__` on type `(FuncT@listener &amp; ~staticmethod) | ((...) -&gt; Unknown)`
+ discord/ext/commands/cog.py:532:17: error[invalid-assignment] Object of type `list[Unknown | (str &amp; ~AlwaysFalsy)]` is not assignable to attribute `__cog_listener_names__` on type `(FuncT@listener &amp; ~staticmethod[object, object]) | ((...) -&gt; object)`
- discord/ext/commands/core.py:129:35: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/core.py:516:16: error[invalid-return-type] Return type does not match returned value: expected `CogT@cog`, found `Unknown | CogT@cog | typing.TypeVar`
- discord/ext/commands/core.py:653:16: error[invalid-return-type] Return type does not match returned value: expected `Self@copy`, found `Command | @Todo`
+ discord/ext/commands/core.py:653:16: error[invalid-return-type] Return type does not match returned value: expected `Self@copy`, found `Command[CogT@Command, P@Command, T@Command]`
- discord/ext/commands/core.py:660:20: error[invalid-return-type] Return type does not match returned value: expected `Self@_update_copy`, found `Command | @Todo`
+ discord/ext/commands/core.py:660:20: error[invalid-return-type] Return type does not match returned value: expected `Self@_update_copy`, found `Command[CogT@Command, P@Command, T@Command]`
+ discord/ext/commands/core.py:680:52: warning[possibly-missing-attribute] Attribute `cog_command_error` may be missing on object of type `CogT@Command &amp; ~None`
- discord/ext/commands/core.py:815:43: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- discord/ext/commands/core.py:820:31: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/core.py:838:39: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
+ discord/ext/commands/core.py:919:47: warning[possibly-missing-attribute] Attribute `cog_before_invoke` may be missing on object of type `CogT@Command &amp; ~None`
+ discord/ext/commands/core.py:921:23: error[invalid-argument-type] Argument to bound method `cog_before_invoke` is incorrect: Expected `Cog`, found `CogT@Command`
- discord/ext/commands/core.py:955:87: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ discord/ext/commands/core.py:939:47: warning[possibly-missing-attribute] Attribute `cog_after_invoke` may be missing on object of type `CogT@Command &amp; ~None`
+ discord/ext/commands/core.py:941:23: error[invalid-argument-type] Argument to bound method `cog_after_invoke` is incorrect: Expected `Cog`, found `CogT@Command`
+ discord/ext/commands/core.py:1312:58: warning[possibly-missing-attribute] Attribute `cog_check` may be missing on object of type `CogT@Command &amp; ~None`
- discord/ext/commands/core.py:1571:9: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/core.py:1744:91: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/core.py:1747:85: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/core.py:1949:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: @Todo) -&gt; @Todo`.
+ discord/ext/commands/core.py:1949:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command[Any, @Todo, Any] | @Todo) -&gt; Command[Any, @Todo, Any] | @Todo`.
- discord/ext/commands/core.py:1956:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: @Todo) -&gt; @Todo`.
+ discord/ext/commands/core.py:1956:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command[Any, @Todo, Any] | @Todo) -&gt; Command[Any, @Todo, Any] | @Todo`.
- discord/ext/commands/core.py:2373:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command | @Todo) -&gt; Command | @Todo`.
+ discord/ext/commands/core.py:2373:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command[Unknown, Unknown, Unknown] | @Todo) -&gt; Command[Unknown, Unknown, Unknown] | @Todo`.
- discord/ext/commands/core.py:2380:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command | @Todo) -&gt; Command | @Todo`.
+ discord/ext/commands/core.py:2380:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command[Unknown, Unknown, Unknown] | @Todo) -&gt; Command[Unknown, Unknown, Unknown] | @Todo`.
- discord/ext/commands/core.py:2448:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command | @Todo) -&gt; Command | @Todo`.
+ discord/ext/commands/core.py:2448:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command[Unknown, Unknown, Unknown] | @Todo) -&gt; Command[Unknown, Unknown, Unknown] | @Todo`.
- discord/ext/commands/core.py:2455:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command | @Todo) -&gt; Command | @Todo`.
+ discord/ext/commands/core.py:2455:9: error[unresolved-attribute] Unresolved attribute `predicate` on type `def decorator(func: Command[Unknown, Unknown, Unknown] | @Todo) -&gt; Command[Unknown, Unknown, Unknown] | @Todo`.
- discord/ext/commands/help.py:510:37: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- discord/ext/commands/help.py:849:44: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/help.py:1199:50: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- discord/ext/commands/help.py:1303:44: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/help.py:1589:44: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/hybrid.py:90:35: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
+ discord/ext/commands/hybrid.py:328:9: error[unresolved-attribute] Unresolved attribute `__signature__` on type `(...) -&gt; @Todo`.
+ discord/ext/commands/hybrid.py:338:17: error[unresolved-attribute] Object of type `(...) -&gt; @Todo` has no attribute `__signature__`
- discord/ext/commands/hybrid.py:463:59: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- discord/ext/commands/hybrid.py:539:16: error[invalid-return-type] Return type does not match returned value: expected `CogT@cog`, found `Unknown | CogT@cog`
- discord/ext/commands/hybrid.py:603:19: error[too-many-positional-arguments] Too many positional arguments to class `Group`: expected 1, got 3
- discord/ext/commands/hybrid.py:703:61: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- discord/ext/commands/hybrid.py:707:16: error[invalid-return-type] Return type does not match returned value: expected `CogT@cog`, found `Unknown | CogT@cog`
- Found 517 diagnostics
+ Found 514 diagnostics

mkdocs (https://github.com/mkdocs/mkdocs)
+ mkdocs/config/config_options.py:692:5: error[invalid-assignment] Object of type `staticmethod[Unknown, Unknown]` is not assignable to `(str, /) -&gt; bool`
+ mkdocs/plugins.py:490:32: warning[possibly-missing-attribute] Attribute `__get__` may be missing on object of type `Unknown | ((...) -&gt; T@CombinedEvent)`
+ mkdocs/plugins.py:514:24: error[not-iterable] Object of type `object` is not iterable
- Found 220 diagnostics
+ Found 223 diagnostics

svcs (https://github.com/hynek/svcs)
+ tests/typing/starlette.py:58:47: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `_MiddlewareFactory[Unknown]`, found `&lt;class &#x27;SVCSMiddleware&#x27;&gt;`
- Found 9 diagnostics
+ Found 10 diagnostics

strawberry (https://github.com/strawberry-graphql/strawberry)
- strawberry/exceptions/conflicting_arguments.py:53:29: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- strawberry/exceptions/invalid_argument_type.py:65:29: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- strawberry/exceptions/missing_arguments_annotations.py:62:29: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- strawberry/exceptions/missing_return_annotation.py:46:72: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- strawberry/exceptions/unresolved_field_type.py:57:56: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ strawberry/types/fields/resolver.py:392:20: error[invalid-return-type] Return type does not match returned value: expected `(...) -&gt; T@StrawberryResolver`, found `((...) -&gt; object) | ((...) -&gt; Unknown) | (() -&gt; object)`
- Found 379 diagnostics
+ Found 375 diagnostics

prefect (https://github.com/PrefectHQ/prefect)
+ src/integrations/prefect-dask/prefect_dask/task_runners.py:474:28: error[invalid-argument-type] Argument to bound method `map` is incorrect: Expected `Task[P@map, R@map | CoroutineType[Any, Any, R@map]]`, found `Task[P@map, R@map]`
+ src/integrations/prefect-kubernetes/integration_tests/src/prefect_kubernetes_integration_tests/utils/prefect_core.py:28:25: error[invalid-await] `Flow[Unknown, Any] | Coroutine[Any, Any, Flow[Unknown, Any]]` is not awaitable
- src/prefect/_internal/compatibility/async_dispatch.py:98:35: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/prefect/cache_policies.py:300:25: warning[possibly-missing-attribute] Attribute `__code__` may be missing on object of type `Unknown | (((...) -&gt; Any) &amp; (() -&gt; object))`
+ src/prefect/deployments/runner.py:750:59: error[unresolved-attribute] Object of type `Flow[Unknown, Any]` has no attribute `__name__`
+ src/prefect/deployments/runner.py:772:70: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `Unknown | (((...) -&gt; Any) &amp; (() -&gt; object))`
- src/prefect/flow_engine.py:203:49: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/prefect/flow_engine.py:357:20: error[invalid-return-type] Return type does not match returned value: expected `R@FlowRunEngine | State[Any] | None`, found `(R@FlowRunEngine &amp; ~&lt;class &#x27;NotSet&#x27;&gt; &amp; ~Top[State[Any]] &amp; ~Coroutine[object, Never, object]) | (type[NotSet] &amp; ~&lt;class &#x27;NotSet&#x27;&gt; &amp; ~Coroutine[object, Never, object]) | Unknown | (PrefectFuture[Unknown] &amp; ~Top[State[Any]] &amp; ~Coroutine[object, Never, object])`
+ src/prefect/flow_engine.py:361:23: error[invalid-raise] Cannot raise object of type `BaseException | (type[NotSet] &amp; ~&lt;class &#x27;NotSet&#x27;&gt;) | (Unknown &amp; ~&lt;class &#x27;NotSet&#x27;&gt;)` (must be a `BaseException` subclass or instance)
+ src/prefect/flow_engine.py:362:20: error[invalid-return-type] Return type does not match returned value: expected `R@FlowRunEngine | State[Any] | None`, found `BaseException | (type[NotSet] &amp; ~&lt;class &#x27;NotSet&#x27;&gt;) | (Unknown &amp; ~&lt;class &#x27;NotSet&#x27;&gt;)`
+ src/prefect/flow_engine.py:370:16: error[invalid-return-type] Return type does not match returned value: expected `R@FlowRunEngine | State[Any] | None`, found `Unknown | Coroutine[Any, Any, Unknown]`
+ src/prefect/flow_engine.py:385:9: error[invalid-assignment] Object of type `PrefectFuture[Unknown] | Any` is not assignable to attribute `_return_value` of type `R@FlowRunEngine | type[NotSet]`
+ src/prefect/flow_engine.py:448:9: error[invalid-assignment] Object of type `BaseException` is not assignable to attribute `_raised` of type `Exception | type[NotSet]`
+ src/prefect/flow_engine.py:581:31: error[invalid-argument-type] Argument to bound method `__call__` is incorrect: Expected `Flow[P@FlowRunEngine, R@FlowRunEngine]`, found `Flow[P@FlowRunEngine, R@FlowRunEngine] | Flow[P@FlowRunEngine, Coroutine[Any, Any, R@FlowRunEngine]]`
+ src/prefect/flow_engine.py:581:31: error[invalid-argument-type] Argument to bound method `__call__` is incorrect: Expected `Flow[P@FlowRunEngine, Coroutine[Any, Any, R@FlowRunEngine]]`, found `Flow[P@FlowRunEngine, R@FlowRunEngine] | Flow[P@FlowRunEngine, Coroutine[Any, Any, R@FlowRunEngine]]`
+ src/prefect/flow_engine.py:695:25: error[invalid-assignment] Object of type `int | float` is not assignable to attribute `retry_delay` of type `int | None`
- src/prefect/flow_engine.py:795:31: error[invalid-return-type] Function can implicitly return `None`, which is not assignable to return type `R@call_flow_fn | Coroutine[Any, Any, R@call_flow_fn]`
+ src/prefect/flow_engine.py:795:31: error[invalid-return-type] Function can implicitly return `None`, which is not assignable to return type `R@FlowRunEngine | Coroutine[Any, Any, R@FlowRunEngine]`
- src/prefect/flow_engine.py:949:77: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/prefect/flow_engine.py:937:20: error[invalid-return-type] Return type does not match returned value: expected `R@AsyncFlowRunEngine | State[Any] | None`, found `object`
+ src/prefect/flow_engine.py:941:23: error[invalid-raise] Cannot raise object of type `BaseException | (type[NotSet] &amp; ~&lt;class &#x27;NotSet&#x27;&gt;) | (Unknown &amp; ~&lt;class &#x27;NotSet&#x27;&gt;)` (must be a `BaseException` subclass or instance)
+ src/prefect/flow_engine.py:942:20: error[invalid-return-type] Return type does not match returned value: expected `R@AsyncFlowRunEngine | State[Any] | None`, found `BaseException | (type[NotSet] &amp; ~&lt;class &#x27;NotSet&#x27;&gt;) | (Unknown &amp; ~&lt;class &#x27;NotSet&#x27;&gt;)`
+ src/prefect/flow_engine.py:962:9: error[invalid-assignment] Object of type `PrefectFuture[Unknown] | Any` is not assignable to attribute `_return_value` of type `R@AsyncFlowRunEngine | type[NotSet]`
+ src/prefect/flow_engine.py:1026:13: error[invalid-assignment] Object of type `BaseException` is not assignable to attribute `_raised` of type `Exception | type[NotSet]`
+ src/prefect/flow_engine.py:1158:31: error[invalid-argument-type] Argument to bound method `__call__` is incorrect: Expected `Flow[P@AsyncFlowRunEngine, R@AsyncFlowRunEngine]`, found `Flow[P@AsyncFlowRunEngine, R@AsyncFlowRunEngine] | Flow[P@AsyncFlowRunEngine, Coroutine[Any, Any, R@AsyncFlowRunEngine]]`
+ src/prefect/flow_engine.py:1158:31: error[invalid-argument-type] Argument to bound method `__call__` is incorrect: Expected `Flow[P@AsyncFlowRunEngine, Coroutine[Any, Any, R@AsyncFlowRunEngine]]`, found `Flow[P@AsyncFlowRunEngine, R@AsyncFlowRunEngine] | Flow[P@AsyncFlowRunEngine, Coroutine[Any, Any, R@AsyncFlowRunEngine]]`
+ src/prefect/flow_engine.py:1276:25: error[invalid-assignment] Object of type `int | float` is not assignable to attribute `retry_delay` of type `int | None`
+ src/prefect/flow_engine.py:1473:43: error[invalid-argument-type] Argument to bound method `handle_success` is incorrect: Expected `R@run_generator_flow_sync`, found `None`
+ src/prefect/flow_engine.py:1513:49: error[invalid-argument-type] Argument to bound method `handle_success` is incorrect: Expected `R@run_generator_flow_async`, found `None`
+ src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `Flow[Unknown, Unknown]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `FlowRun | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `Iterable[PrefectFuture[Unknown]] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `Iterable[PrefectFuture[Unknown]] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `FlowRun | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `Literal[&quot;state&quot;, &quot;result&quot;]`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `Literal[&quot;state&quot;, &quot;result&quot;]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1560:48: error[invalid-argument-type] Argument to function `run_generator_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `Flow[Unknown, Unknown]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `FlowRun | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `dict[str, Any] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `Iterable[PrefectFuture[Any]] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `Iterable[PrefectFuture[Any]] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `Literal[&quot;state&quot;, &quot;result&quot;]`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `Literal[&quot;state&quot;, &quot;result&quot;]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `dict[str, Any] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `Flow[Unknown, Unknown]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `FlowRun | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1562:47: error[invalid-argument-type] Argument to function `run_generator_flow_sync` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `FlowRun | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `FlowRun | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `Iterable[PrefectFuture[Any]] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `Iterable[PrefectFuture[Any]] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `Literal[&quot;state&quot;, &quot;result&quot;]`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `Literal[&quot;state&quot;, &quot;result&quot;]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1564:38: error[invalid-argument-type] Argument to function `run_flow_async` is incorrect: Expected `dict[str, Any] | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1566:37: error[invalid-argument-type] Argument to function `run_flow_sync` is incorrect: Expected `Flow[Unknown, Unknown]`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1566:37: error[invalid-argument-type] Argument to function `run_flow_sync` is incorrect: Expected `FlowRun | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1566:37: error[invalid-argument-type] Argument to function `run_flow_sync` is incorrect: Expected `FlowRun | None`, found `Flow[P@run_flow, R@run_flow] | FlowRun | None | ... omitted 3 union elements`
- src/prefect/flow_engine.py:1566:37: error[invalid-argument-type] Argument to function `run_flow_sync` is incorrect: Expected `dict[str, Any] | None`, found `@Todo | FlowRun | None | ... omitted 3 union elements`
+ src/prefect/flow_engine.py:1566:37: error[invalid-argument-type] Argument to function `run_flow_sync` is incorrec...*[Comment body truncated]*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 16:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-31 16:19</div>
            <div class="timeline-body">

<code>ecosystem-analyzer</code> results
<p>| Lint rule | Added | Removed | Changed |
|-----------|------:|--------:|--------:|
| <code>invalid-argument-type</code> | 156 | 1 | 56 |
| <code>unresolved-attribute</code> | 90 | 6 | 8 |
| <code>unused-ignore-comment</code> | 0 | 58 | 0 |
| <code>invalid-return-type</code> | 20 | 22 | 3 |
| <code>missing-argument</code> | 38 | 0 | 0 |
| <code>invalid-assignment</code> | 23 | 2 | 9 |
| <code>possibly-missing-attribute</code> | 17 | 5 | 5 |
| <code>too-many-positional-arguments</code> | 0 | 14 | 0 |
| <code>no-matching-overload</code> | 10 | 0 | 0 |
| <code>invalid-raise</code> | 4 | 0 | 0 |
| <code>invalid-parameter-default</code> | 0 | 0 | 3 |
| <code>type-assertion-failure</code> | 3 | 0 | 0 |
| <code>call-non-callable</code> | 2 | 0 | 0 |
| <code>invalid-await</code> | 2 | 0 | 0 |
| <code>not-iterable</code> | 2 | 0 | 0 |
| <code>redundant-cast</code> | 0 | 2 | 0 |
| <strong>Total</strong> | <strong>367</strong> | <strong>110</strong> | <strong>84</strong> |</p>
<p><strong><a href="https://dhruv-paramspec.ecosystem-663.pages.dev/diff">Full report with detailed diff</a></strong> (<a href="https://dhruv-paramspec.ecosystem-663.pages.dev/timing">timing results</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 17:19</div>
            <div class="timeline-body"><blockquote>
<pre><code>-callables_protocol.py:179:62: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `R@__call__`
+callables_protocol.py:186:5: error[invalid-assignment] Object of type `Literal[&quot;str&quot;]` is not assignable to attribute `other_attribute` of type `int`
+callables_protocol.py:187:5: error[unresolved-attribute] Unresolved attribute `xxx` on type `Proto9[P@decorator1, R@decorator1]`.
+callables_protocol.py:197:7: error[unresolved-attribute] Object of type `Proto9[Unknown, Unknown]` has no attribute `other_attribute2`
</code></pre>
</blockquote>
<p>These are correct!</p>
<blockquote>
<pre><code>+generics_defaults.py:80:32: error[too-many-positional-arguments] Too many positional arguments to class `Class_ParamSpec`: expected 1, got 2
</code></pre>
</blockquote>
<p>This will require adding special support for allowing both <code>Class_ParamSpec[int, str]</code> and <code>Class_ParamSpec[[int, str]]</code> when the class is generic over a single type variable which is a <code>ParamSpec</code>.</p>
<blockquote>
<pre><code>+generics_paramspec_basic.py:23:20: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `P@func1`
</code></pre>
</blockquote>
<p>Still need to enforce rules about where a <code>ParamSpec</code> can be used.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
            <div class="timeline-body"><p>I think this is a good checkpoint to get initial feedback. Follow-up work would be to:</p>
<ol>
<li>Update the <code>Parameters</code> structure to accommodate <code>ParamSpec</code></li>
<li>Representing <code>ParamSpecArgs</code>, <code>ParamSpecKwargs</code></li>
<li>Validating the usage of <code>ParamSpec</code> e.g., it cannot be used as annotation</li>
<li>Validating the usage of <code>P.args</code> and <code>P.kwargs</code></li>
</ol>
<p>For (1) and (2), I think I have a good idea on how to represent them based on the following:</p>
<blockquote>
<p>A function declared as <code>def inner(*args: P.args, **kwargs: P.kwargs) -&gt; X</code> has type <code>Callable[P, X]</code>.</p>
</blockquote>
<p>And,</p>
<blockquote>
<p>The <code>P.args</code> attribute of a <code>ParamSpec</code> is an instance of <code>ParamSpecArgs</code>, and <code>P.kwargs</code> is an instance of <code>ParamSpecKwargs</code>. They are intended for runtime introspection and have no special meaning to static type checkers.</p>
</blockquote>
<p>I&#x27;m thinking to create <code>Parameters</code> as <code>*args: P.args, **kwargs: P.kwargs</code> where <code>P.args</code> and <code>P.kwargs</code> would be <code>KnownInstanceType::ParamSpecArgs</code> and <code>KnownInstanceType::ParamSpecKwargs</code> respectively. Both of these variants would have a link back to the original <code>ParamSpec</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-10-31 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-31 21:27</div>
            <div class="timeline-body"><blockquote>
<p>Most of the diagnostics in <code>starlette</code> are due to the fact that ty now understands <code>ParamSpec</code> is not a <code>Todo</code> type, so the assignability check fails</p>
</blockquote>
<p>There might be a short-term hack we could add to <code>Type::has_relation_to_impl</code> so that a generic type is considered to be specialized with <code>Unknown</code> if one of the typevarlikes in its generic context is a <code>ParamSpec</code>? That might reduce the false positives for users while we&#x27;re still working on the full semantics for <code>ParamSpec</code>.</p>
<p>There aren&#x27;t <em>that</em> many new diagnostics, though, so this also might be fine for now considering that we&#x27;re planning on addressing these new diagnostics shortly. Still, it&#x27;s nice to avoid adding false positives for existing users where possible.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/resources/mdtest/annotations/callable.md</code>:312 on 2025-10-31 21:40</div>
            <div class="timeline-body"><p><em>Ideally</em> I feel like these would still be <code>@Todo</code> types, so that it&#x27;s clear to users that we&#x27;re aware of this limitation and that this isn&#x27;t our intended final behaviour for this. But it&#x27;s also fine to leave this as-is if it would be a lot of code to make these still be <code>@Todo</code> types.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/resources/mdtest/annotations/unsupported_special_forms.md</code>:26 on 2025-10-31 21:40</div>
            <div class="timeline-body"><p>same here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/resources/mdtest/paramspec.md</code>:51 on 2025-10-31 21:42</div>
            <div class="timeline-body"><pre><code>### `ParamSpec` parameter must match variable name
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/resources/mdtest/paramspec.md</code>:121 on 2025-10-31 21:43</div>
            <div class="timeline-body"><p>is it worth also explicitly testing the PEP-695 syntax where one <code>ParamSpec</code> has another <code>ParamSpec</code> as a default?</p>
<pre><code>def foo1[**P]() -&gt; None:
    reveal_type(P)  # revealed: typing.ParamSpec

def foo2[**P = ...]() -&gt; None:
    reveal_type(P)  # revealed: typing.ParamSpec

def foo2[**P = [int, str]]() -&gt; None: ...

def foo3[**P, **Q = P]():
    reveal_type(P)  # revealed: typing.ParamSpec
    reveal_type(Q)  # revealed: typing.ParamSpec
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-10-31 21:50</div>
            <div class="timeline-body"><p>nice</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-11-03 14:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_python_semantic/resources/mdtest/annotations/callable.md</code>:312 on 2025-11-03 14:52</div>
            <div class="timeline-body"><p>I believe this shouldn&#x27;t be too hard, let me try...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_python_semantic/resources/mdtest/annotations/callable.md</code>:312 on 2025-11-03 14:54</div>
            <div class="timeline-body"><p>Yeah, this wasn&#x27;t hard, I&#x27;ve updated these to use <code>@Todo</code> types.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-11-03 14:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-11-03 14:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_python_semantic/resources/mdtest/annotations/unsupported_special_forms.md</code>:26 on 2025-11-03 14:54</div>
            <div class="timeline-body"><p>And, this as well. Thanks for the suggestion!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_python_semantic/resources/mdtest/paramspec.md</code>:121 on 2025-11-03 14:56</div>
            <div class="timeline-body"><p>Yeah, I agree.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-11-03 14:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-11-06 16:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-11-06 16:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-06 16:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:19:59 UTC
    </footer>
</body>
</html>
