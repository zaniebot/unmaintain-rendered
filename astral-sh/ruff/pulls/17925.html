<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove rust-toolchain.toml from sdist - astral-sh/ruff #17925</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Remove rust-toolchain.toml from sdist</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17925">#17925</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-05-07 16:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>The <code>rust-toolchain.toml</code> specifies the rust toolchain version that we use for development.
Consumers of the <code>ruff</code> package can use any Rust version (that meets our MSRV) to build ruff from an sdist.</p>
<p>Closes https://github.com/astral-sh/ruff/issues/17909</p>
<h2>Test Plan</h2>
<p>Ran <code>uv build</code> and verified that the <code>rust-toolchain.toml</code> is no longer present in the <code>sdist</code> folder.</p>
<p>I uninstalled all Rust toolchains and verified that <code>cargo build</code> re-installs the latest stable version.</p>
<p>I verified that <code>cargo build</code> automatically installs the latest stable if the default Rust toolchain doesn't meet the MSRV.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">release</span> added by @MichaReiser on 2025-05-07 16:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-07 17:06</div>
            <div class="timeline-body"><p>@ntBre I don't think this should require any changes on the conda forge side but what changes were needed last time we bumped the MSRV/rust-toolchain?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @MichaReiser on 2025-05-07 17:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-07 17:10</div>
            <div class="timeline-body"><p>I just had to bump the <code>rust_compiler_version</code> in the main recipe and also in one of the Windows recipes. And I guess bump the build number, but I think that's for any change.</p>
<p>My last PR: https://github.com/conda-forge/ruff-feedstock/pull/266
Zanie's PR I based it on: https://github.com/conda-forge/ruff-feedstock/pull/252</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-07 17:11</div>
            <div class="timeline-body"><p>Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "v0.12" by @MichaReiser on 2025-05-17 17:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-10 20:14</div>
            <div class="timeline-body"><p>Do we want to try to merge this into the 0.12 branch?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2025-06-11 06:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-06-11 06:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-06-11 06:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> added by @MichaReiser on 2025-06-11 06:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:12:17 UTC
    </footer>
</body>
</html>
