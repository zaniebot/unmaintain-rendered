<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drop `__get__` and `__set__` from `unnecessary-dunder-call` - astral-sh/ruff #9791</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Drop <code>__get__</code> and <code>__set__</code> from <code>unnecessary-dunder-call</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/9791">#9791</a>
        opened by <a href="https://github.com/zanieb">@zanieb</a>
        on 2024-02-02 17:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a></div>
            <div class="timeline-body"><p>These are for descriptors which affects the behavior of the object <em>as a property</em>; I do not think they should be called directly but there is no alternative when working with the object directly.</p>
<p>Closes <a href="https://github.com/astral-sh/ruff/issues/9789">astral-sh/ruff#9789</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-02 17:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-02-02 17:17</div>
            <div class="timeline-body"><p>Agreed</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-02-02 17:25</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>ℹ️ ecosystem check <strong>encountered linter errors</strong>. (no lint changes; 1 project error)</p>
<a href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a> (error)
<p>

<pre><code>ruff failed
  Cause: Selection of unstable rules without the `--preview` flag is not allowed. Enable preview or remove selection of:
	- FURB113
	- FURB131
	- FURB132
</code></pre>
</p>


Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+0 -7 violations, +0 -0 fixes in 2 projects; 41 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+0 -1 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/apache/airflow/blob/7932958488761cd01cd94b7eea0c646dc41c3981/airflow/serialization/serialized_objects.py#L875">airflow/serialization/serialized_objects.py:875:17:</a> PLC2801 Unnecessary dunder call to `__get__`. Use `get` method.
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+0 -6 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/descriptors.py#L394">src/bokeh/core/property/descriptors.py:394:16:</a> PLC2801 Unnecessary dunder call to `__get__`. Use `get` method.
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/descriptors.py#L444">src/bokeh/core/property/descriptors.py:444:21:</a> PLC2801 Unnecessary dunder call to `__get__`. Use `get` method.
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/descriptors.py#L652">src/bokeh/core/property/descriptors.py:652:17:</a> PLC2801 Unnecessary dunder call to `__get__`. Use `get` method.
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/descriptors.py#L944">src/bokeh/core/property/descriptors.py:944:17:</a> PLC2801 Unnecessary dunder call to `__set__`. Use subscript assignment.
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/tests/unit/bokeh/core/property/test_descriptors.py#L105">tests/unit/bokeh/core/property/test_descriptors.py:105:13:</a> PLC2801 Unnecessary dunder call to `__set__`. Use subscript assignment.
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/tests/unit/bokeh/core/property/test_descriptors.py#L98">tests/unit/bokeh/core/property/test_descriptors.py:98:13:</a> PLC2801 Unnecessary dunder call to `__get__`. Use `get` method.
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PLC2801 | 7 | 0 | 7 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-02 17:27</div>
            <div class="timeline-body"><p>Unclear if we should drop the violation entirely. I think we should though — will require a bit more work and some test coverage.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-02 17:27</div>
            <div class="timeline-body"><p>Yeah I say we drop it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-02-02 17:45</div>
            <div class="timeline-body"><p>The suggestion for <code>__delete__</code> is similarly weird — calling <code>.__delete__()</code> on a descriptor instance is very different to using the <code>del</code> statement</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-02 18:31</div>
            <div class="timeline-body"><p>Ah good catch yeah that one is for descriptors too...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-05 15:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-05 15:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-02-05 15:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/unnecessary_dunder_call.py</code>:36 on 2024-02-05 15:38</div>
            <div class="timeline-body"><p>?</p>
<pre><code>        item.__delete__(self)  # OK
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-02-05 15:39</div>
            <div class="timeline-body"><p>Can&#x27;t approve but lgtm, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-05 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-02-05 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-02-05 15:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:01:23 UTC
    </footer>
</body>
</html>
