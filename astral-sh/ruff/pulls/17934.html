<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Ignore `possibly-unresolved-reference` by default - astral-sh/ruff #17934</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Ignore <code>possibly-unresolved-reference</code> by default</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17934">#17934</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-05-08 06:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Ignore the <code>possibly-unbound-reference</code> rule by default because it is very noisy at the moment.
We may re-enable it by default in the future.</p>
<ul>
<li>mdtests: The rule remains enabled in mdtests and defaults to info severity. The motivation for this is that we want to see how rules interact with each other and that's easiest when all rules are enabled</li>
<li>mypy-primer: We use a user-level configuration to re-enable the rule in mypy primer. Again, the idea is that we want to see the full impact of every change.</li>
</ul>
<p>@carljm do you want to disable all possibly- rules or only <code>possibly-unbound-reference</code>?</p>
<h2>Test Plan</h2>
<p>Updated mdtests</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @MichaReiser on 2025-05-08 06:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @MichaReiser on 2025-05-08 06:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-05-08 06:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @MichaReiser on 2025-05-08 06:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[ty] Disable `possibly-unbound-reference` by default" to "[ty] Ignore `possibly-unbound-reference` by default" by @MichaReiser on 2025-05-08 06:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-05-08 06:23</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<p>No ecosystem changes detected âœ…</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[ty] Ignore `possibly-unbound-reference` by default" to "[ty] Ignore `possibly-unresolved-reference` by default" by @MichaReiser on 2025-05-08 06:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-05-08 06:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @MichaReiser on 2025-05-08 06:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @MichaReiser on 2025-05-08 06:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @MichaReiser on 2025-05-08 06:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @MichaReiser on 2025-05-08 06:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @MichaReiser on 2025-05-08 06:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @MichaReiser on 2025-05-08 06:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-05-08 07:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/ty/tests/cli.rs</code>:376 on 2025-05-08 07:09</div>
            <div class="timeline-body"><p>I think this change is wrong/confusing? I would think this should be:</p>
<pre><code class="language-suggestion">    // Assert that there's a unresolved-reference diagnostic and that
    // division-by-zero has a severity of error by default.
</code></pre>
<p>The actual test where we change the severities is below.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-05-08 07:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/ty/tests/cli.rs</code>:455 on 2025-05-08 07:11</div>
            <div class="timeline-body"><p>Similar here, this change looks wrong? It should refer to the first snapshot assertion, not the second-</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> approved on 2025-05-08 07:12</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-05-08 14:42</div>
            <div class="timeline-body"><p>Thank you!</p>
<p>I think we should only disable <code>possibly-unresolved-reference</code> for now. The patterns where this causes a false positive are much less common in e.g. a class or module body; all of the possibly-unbound false positives I've seen are <code>possibly-unresolved-reference</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2025-05-08 15:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-05-08 15:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-08 15:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:12:18 UTC
    </footer>
</body>
</html>
