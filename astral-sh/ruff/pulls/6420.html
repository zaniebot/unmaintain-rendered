<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatter: Add test cases for comments after opening parentheses - astral-sh/ruff #6420</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatter: Add test cases for comments after opening parentheses</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/6420">#6420</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-08-08 09:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p><strong>Summary</strong> I collected all examples of end-of-line comments after opening parentheses that i could think of so we get a comprehensive view at the state of their formatting (#6390).</p>
<p>This PR intentionally only adds tests cases without any changes in formatting. We need to decide which exact formatting we want, ideally in terms of these test files, and implement this in follow-up PRs.</p>
<p>~~One stability check is still deactivated pending <a href="https://github.com/astral-sh/ruff/pull/6386">astral-sh/ruff#6386</a>.~~</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/konstin">@konstin</a> on 2023-08-08 09:02</div>
            <div class="timeline-body"><p>Current dependencies on/for this PR:</p>
<ul>
<li>main<ul>
<li><strong>PR #6420</strong> <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/6420"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite"></a>  ðŸ‘ˆ</li>
</ul>
</li>
</ul>
<p>This comment was auto-generated by <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/6420?utm_source=stack-comment">Graphite</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by <a href="https://github.com/konstin">@konstin</a> on 2023-08-08 09:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-08-08 09:53</div>
            <div class="timeline-body">PR Check Results
Benchmark
Linux
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00      8.4Â±0.02ms     4.9 MB/sec    1.00      8.4Â±0.02ms     4.9 MB/sec
formatter/numpy/ctypeslib.py               1.00   1624.6Â±3.76Âµs    10.2 MB/sec    1.01   1635.4Â±6.46Âµs    10.2 MB/sec
formatter/numpy/globals.py                 1.00    173.2Â±0.23Âµs    17.0 MB/sec    1.00    173.6Â±1.27Âµs    17.0 MB/sec
formatter/pydantic/types.py                1.00      3.6Â±0.01ms     7.2 MB/sec    1.00      3.6Â±0.01ms     7.1 MB/sec
linter/all-rules/large/dataset.py          1.00     10.5Â±0.03ms     3.9 MB/sec    1.00     10.5Â±0.01ms     3.9 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      2.9Â±0.01ms     5.8 MB/sec    1.00      2.9Â±0.01ms     5.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    324.2Â±1.26Âµs     9.1 MB/sec    1.00    323.9Â±0.86Âµs     9.1 MB/sec
linter/all-rules/pydantic/types.py         1.00      5.5Â±0.01ms     4.7 MB/sec    1.00      5.5Â±0.01ms     4.7 MB/sec
linter/default-rules/large/dataset.py      1.00      5.5Â±0.01ms     7.4 MB/sec    1.00      5.5Â±0.01ms     7.5 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00   1152.8Â±5.71Âµs    14.4 MB/sec    1.00   1147.7Â±2.39Âµs    14.5 MB/sec
linter/default-rules/numpy/globals.py      1.00    117.9Â±0.28Âµs    25.0 MB/sec    1.00    118.0Â±0.29Âµs    25.0 MB/sec
linter/default-rules/pydantic/types.py     1.00      2.5Â±0.02ms    10.3 MB/sec    1.00      2.5Â±0.01ms    10.3 MB/sec
</code></pre>
Windows
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00     10.0Â±0.09ms     4.1 MB/sec    1.01     10.0Â±0.09ms     4.1 MB/sec
formatter/numpy/ctypeslib.py               1.00  1904.2Â±22.96Âµs     8.7 MB/sec    1.00  1911.7Â±17.62Âµs     8.7 MB/sec
formatter/numpy/globals.py                 1.00    212.5Â±3.53Âµs    13.9 MB/sec    1.02   217.0Â±12.62Âµs    13.6 MB/sec
formatter/pydantic/types.py                1.00      4.2Â±0.05ms     6.1 MB/sec    1.01      4.2Â±0.05ms     6.0 MB/sec
linter/all-rules/large/dataset.py          1.00     12.5Â±0.08ms     3.3 MB/sec    1.01     12.6Â±0.14ms     3.2 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      3.4Â±0.03ms     4.9 MB/sec    1.01      3.4Â±0.03ms     4.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    429.6Â±5.60Âµs     6.9 MB/sec    1.01    432.0Â±6.03Âµs     6.8 MB/sec
linter/all-rules/pydantic/types.py         1.00      6.5Â±0.08ms     3.9 MB/sec    1.01      6.5Â±0.05ms     3.9 MB/sec
linter/default-rules/large/dataset.py      1.00      6.7Â±0.06ms     6.0 MB/sec    1.01      6.8Â±0.05ms     6.0 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00  1411.2Â±14.47Âµs    11.8 MB/sec    1.01  1425.0Â±14.49Âµs    11.7 MB/sec
linter/default-rules/numpy/globals.py      1.00    163.8Â±2.39Âµs    18.0 MB/sec    1.00    163.7Â±2.26Âµs    18.0 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.0Â±0.05ms     8.5 MB/sec    1.00      3.0Â±0.03ms     8.4 MB/sec
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2023-08-08 15:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-08-08 15:47</div>
            <div class="timeline-body"><p>We still have some work todo to catch up to <a href="https://github.com/prettier/prettier/tree/main/tests/format/js/comments">Prettier&#x27;s extensive comments test set</a> (this is just a subset)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/konstin">@konstin</a> on 2023-08-10 08:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2023-08-10 08:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-08-10 08:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:56:08 UTC
    </footer>
</body>
</html>
