<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add release binaries to GitHub releases - astral-sh/ruff #2355</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add release binaries to GitHub releases</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/2355">#2355</a>
        opened by <a href="https://github.com/rahul-theorem">@rahul-theorem</a>
        on 2023-01-30 15:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/rahul-theorem">@rahul-theorem</a> on 2023-01-30 15:41</div>
            <div class="timeline-body"><p>Closes #2330</p>
<p>Adds release binaries to the corresponding GH release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/rahul-theorem">@rahul-theorem</a> on <code>.github/workflows/ruff.yaml</code>:51 on 2023-01-30 15:56</div>
            <div class="timeline-body"><p>@messense if you have any pointers how to properly name the release binary, let me know</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rahul-theorem">@rahul-theorem</a> reviewed on 2023-01-30 15:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/rahul-theorem">@rahul-theorem</a> on <code>.github/workflows/ruff.yaml</code>:360 on 2023-01-30 15:57</div>
            <div class="timeline-body"><p>@charliermarsh since the action itself isn't creating the release (ie. after a tag is pushed by some other automation), this seemed like the easiest way to get the latest release name</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rahul-theorem">@rahul-theorem</a> reviewed on 2023-01-30 15:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-01-30 18:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>.github/workflows/ruff.yaml</code>:360 on 2023-01-30 18:19</div>
            <div class="timeline-body"><p>Can we somehow get this from <code>github.ref</code>, similar to how the <code>if: &quot;startsWith(github.ref, 'refs/tags/')&quot;</code> operation works above?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/messense">@messense</a> reviewed on 2023-01-31 01:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/messense">@messense</a> on <code>.github/workflows/ruff.yaml</code>:51 on 2023-01-31 01:43</div>
            <div class="timeline-body"><p>Upload the binary directly will lose its file permission: https://github.com/actions/upload-artifact#permission-loss</p>
<p>I'd create an <code>tar.gz</code>/<code>zip</code> archive for each platform, and please also include a <code>sha256</code> checksum file. For reference: https://github.com/rust-cross/cargo-zigbuild/blob/a079e8e11235064a9ee27d44ef21128fd5a23ce2/.github/workflows/Release.yml#L34-L44</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-01 21:50</div>
            <div class="timeline-body"><p>Possibly relevant: https://github.com/axodotdev/cargo-dist</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-04 14:32</div>
            <div class="timeline-body"><p>I'm now thinking that we should just copy <a href="https://github.com/BurntSushi/ripgrep/blob/master/.github/workflows/release.yml">ripgrep's release workflow</a>, except instead of creating the GitHub Release, it should be triggered by the creation of a GitHub Release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-15 17:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 04:41:32 UTC
    </footer>
</body>
</html>
