<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update dependency ruff to v0.13.0 - astral-sh/ruff #20396</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update dependency ruff to v0.13.0</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20396">#20396</a>
        opened by <a href="https://github.com/renovate">@renovate</a>
        on 2025-09-15 01:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/renovate">@renovate</a> on 2025-09-15 01:29</div>
            <div class="timeline-body"><p>This PR contains the following updates:</p>
<p>| Package | Change | Age | Confidence |
|---|---|---|---|
| <a href="https://docs.astral.sh/ruff">ruff</a> (<a href="https://redirect.github.com/astral-sh/ruff">source</a>, <a href="https://redirect.github.com/astral-sh/ruff/blob/main/CHANGELOG.md">changelog</a>) | <code>==0.12.12</code> -&gt; <code>==0.13.0</code> | <a href="https://docs.renovatebot.com/merge-confidence/"><img src="https://developer.mend.io/api/mc/badges/age/pypi/ruff/0.13.0?slim=true" alt="age" /></a> | <a href="https://docs.renovatebot.com/merge-confidence/"><img src="https://developer.mend.io/api/mc/badges/confidence/pypi/ruff/0.12.12/0.13.0?slim=true" alt="confidence" /></a> |</p>
<hr />
<blockquote>
<p>[!WARNING]
Some dependencies could not be looked up. Check the Dependency Dashboard for more information.</p>
</blockquote>
<hr />
<h3>Release Notes</h3>
<details>
<summary>astral-sh/ruff (ruff)</summary>

<h3><a href="https://redirect.github.com/astral-sh/ruff/blob/HEAD/CHANGELOG.md#0130"><code>v0.13.0</code></a></h3>
<p><a href="https://redirect.github.com/astral-sh/ruff/compare/0.12.12...0.13.0">Compare Source</a></p>
<p>Check out the <a href="https://astral.sh/blog/ruff-v0.13.0">blog post</a> for a migration
guide and overview of the changes!</p>
<h5>Breaking changes</h5>
<ul>
<li><p><strong>Several rules can now add <code>from __future__ import annotations</code> automatically</strong></p>
<p><code>TC001</code>, <code>TC002</code>, <code>TC003</code>, <code>RUF013</code>, and <code>UP037</code> now add <code>from __future__ import annotations</code> as part of their fixes when the
<code>lint.future-annotations</code> setting is enabled. This allows the rules to move
more imports into <code>TYPE_CHECKING</code> blocks (<code>TC001</code>, <code>TC002</code>, and <code>TC003</code>),
use PEP 604 union syntax on Python versions before 3.10 (<code>RUF013</code>), and
unquote more annotations (<code>UP037</code>).</p>
</li>
<li><p><strong>Full module paths are now used to verify first-party modules</strong></p>
<p>Ruff now checks that the full path to a module exists on disk before
categorizing it as a first-party import. This change makes first-party
import detection more accurate, helping to avoid false positives on local
directories with the same name as a third-party dependency, for example. See
the <a href="https://docs.astral.sh/ruff/faq/#how-does-ruff-determine-which-of-my-imports-are-first-party-third-party-etc">FAQ
section</a> on import categorization for more details.</p>
</li>
<li><p><strong>Deprecated rules must now be selected by exact rule code</strong></p>
<p>Ruff will no longer activate deprecated rules selected by their group name
or prefix. As noted below, the two remaining deprecated rules were also
removed in this release, so this won't affect any current rules, but it will
still affect any deprecations in the future.</p>
</li>
<li><p><strong>The deprecated macOS configuration directory fallback has been removed</strong></p>
<p>Ruff will no longer look for a user-level configuration file at
<code>~/Library/Application Support/ruff/ruff.toml</code> on macOS. This feature was
deprecated in v0.5 in favor of using the <a href="https://specifications.freedesktop.org/basedir-spec/latest/">XDG
specification</a>
(usually resolving to <code>~/.config/ruff/ruff.toml</code>), like on Linux. The
fallback and accompanying deprecation warning have now been removed.</p>
</li>
</ul>
<h5>Removed Rules</h5>
<p>The following rules have been removed:</p>
<ul>
<li><a href="https://docs.astral.sh/ruff/rules/pandas-df-variable-name"><code>pandas-df-variable-name</code></a> (<code>PD901</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/non-pep604-isinstance"><code>non-pep604-isinstance</code></a> (<code>UP038</code>)</li>
</ul>
<h5>Stabilization</h5>
<p>The following rules have been stabilized and are no longer in preview:</p>
<ul>
<li><a href="https://docs.astral.sh/ruff/rules/airflow-dag-no-schedule-argument"><code>airflow-dag-no-schedule-argument</code></a>
(<code>AIR002</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/airflow3-removal"><code>airflow3-removal</code></a> (<code>AIR301</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/airflow3-moved-to-provider"><code>airflow3-moved-to-provider</code></a>
(<code>AIR302</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/airflow3-suggested-update"><code>airflow3-suggested-update</code></a>
(<code>AIR311</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/airflow3-suggested-to-move-to-provider"><code>airflow3-suggested-to-move-to-provider</code></a>
(<code>AIR312</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/long-sleep-not-forever"><code>long-sleep-not-forever</code></a> (<code>ASYNC116</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/f-string-number-format"><code>f-string-number-format</code></a> (<code>FURB116</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/os-symlink"><code>os-symlink</code></a> (<code>PTH211</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/generic-not-last-base-class"><code>generic-not-last-base-class</code></a>
(<code>PYI059</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/redundant-none-literal"><code>redundant-none-literal</code></a> (<code>PYI061</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/pytest-raises-ambiguous-pattern"><code>pytest-raises-ambiguous-pattern</code></a>
(<code>RUF043</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/unused-unpacked-variable"><code>unused-unpacked-variable</code></a>
(<code>RUF059</code>)</li>
<li><a href="https://docs.astral.sh/ruff/rules/useless-class-metaclass-type"><code>useless-class-metaclass-type</code></a>
(<code>UP050</code>)</li>
</ul>
<p>The following behaviors have been stabilized:</p>
<ul>
<li><a href="https://docs.astral.sh/ruff/rules/assert-raises-exception"><code>assert-raises-exception</code></a> (<code>B017</code>)
now checks for direct calls to <code>unittest.TestCase.assert_raises</code> and <code>pytest.raises</code> instead of
only the context manager forms.</li>
<li><a href="https://docs.astral.sh/ruff/rules/missing-trailing-comma"><code>missing-trailing-comma</code></a> (<code>COM812</code>)
and <a href="https://docs.astral.sh/ruff/rules/prohibited-trailing-comma"><code>prohibited-trailing-comma</code></a>
(<code>COM819</code>) now check for trailing commas in PEP 695 type parameter lists.</li>
<li><a href="https://docs.astral.sh/ruff/rules/raw-string-in-exception"><code>raw-string-in-exception</code></a> (<code>EM101</code>)
now also checks for byte strings in exception messages.</li>
<li><a href="https://docs.astral.sh/ruff/rules/invalid-mock-access"><code>invalid-mock-access</code></a> (<code>PGH005</code>) now
checks for <code>AsyncMock</code> methods like <code>not_awaited</code> in addition to the synchronous variants.</li>
<li><a href="https://docs.astral.sh/ruff/rules/useless-import-alias"><code>useless-import-alias</code></a> (<code>PLC0414</code>) no
longer applies to <code>__init__.py</code> files, where it conflicted with one of the suggested fixes for
<a href="https://docs.astral.sh/ruff/rules/unused-import"><code>unused-import</code></a> (<code>F401</code>).</li>
<li><a href="https://docs.astral.sh/ruff/rules/bidirectional-unicode"><code>bidirectional-unicode</code></a> (<code>PLE2502</code>) now
also checks for U+061C (Arabic Letter Mark).</li>
<li>The fix for
<a href="https://docs.astral.sh/ruff/rules/multiple-with-statements"><code>multiple-with-statements</code></a>
(<code>SIM117</code>) is now marked as always safe.</li>
</ul>
<h5>Preview features</h5>
<ul>
<li>[<code>pyupgrade</code>] Enable <code>UP043</code> in stub files (<a href="https://redirect.github.com/astral-sh/ruff/pull/20027">#â€‹20027</a>)</li>
</ul>
<h5>Bug fixes</h5>
<ul>
<li>[<code>pyupgrade</code>] Apply <code>UP008</code> only when the <code>__class__</code> cell exists (<a href="https://redirect.github.com/astral-sh/ruff/pull/19424">#â€‹19424</a>)</li>
<li>[<code>ruff</code>] Fix empty f-string detection in <code>in-empty-collection</code> (<code>RUF060</code>) (<a href="https://redirect.github.com/astral-sh/ruff/pull/20249">#â€‹20249</a>)</li>
</ul>
<h5>Server</h5>
<ul>
<li>Add support for using uv as an alternative formatter backend (<a href="https://redirect.github.com/astral-sh/ruff/pull/19665">#â€‹19665</a>)</li>
</ul>
<h5>Documentation</h5>
<ul>
<li>[<code>pep8-naming</code>] Fix formatting of <code>__all__</code> (<code>N816</code>) (<a href="https://redirect.github.com/astral-sh/ruff/pull/20301">#â€‹20301</a>)</li>
</ul>
</details>

<hr />
<h3>Configuration</h3>
<p>ðŸ“… <strong>Schedule</strong>: Branch creation - &quot;before 4am on Monday&quot; (UTC), Automerge - At any time (no schedule defined).</p>
<p>ðŸš¦ <strong>Automerge</strong>: Disabled by config. Please merge this manually once you are satisfied.</p>
<p>â™» <strong>Rebasing</strong>: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.</p>
<p>ðŸ”• <strong>Ignore</strong>: Close this PR and you won't be reminded about this update again.</p>
<hr />
<ul>
<li>[ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box</li>
</ul>
<hr />
<p>This PR was generated by <a href="https://mend.io/renovate/">Mend Renovate</a>. View the <a href="https://developer.mend.io/github/astral-sh/ruff">repository job log</a>.</p>
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiI0MS45Ny4xMCIsInVwZGF0ZWRJblZlciI6IjQxLjk3LjEwIiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJpbnRlcm5hbCJdfQ==-->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @renovate[bot] on 2025-09-15 01:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2025-09-15 01:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2025-09-15 01:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-09-15 01:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 17:40:54 UTC
    </footer>
</body>
</html>
