<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape trailing placeholders in rule documentation - astral-sh/ruff #9301</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Escape trailing placeholders in rule documentation</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/9301">#9301</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-12-28 14:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-28 14:34</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>If a rule ends with a trailing placeholder (like &quot;Use {target}&quot;), that gets interpreted as an HTML attribute adding, <code>target=&quot;target&quot;</code> to the node. This PR escapes such cases. In reality, they're rare, since we almost always wrap placeholders in backticks, which avoids this problem -- but in some cases, they are in fact correct to be un-backticked.</p>
<p>Closes https://github.com/astral-sh/ruff/issues/9288.</p>
<h2>Test Plan</h2>
<img width="673" alt="Screen Shot 2023-12-28 at 9 33 40 AM" src="https://github.com/astral-sh/ruff/assets/1309177/14aaa168-c802-4258-b82d-217a85b42ebf">

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-12-28 14:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-12-28 14:44</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Formatter (stable)</h3>
<p>ℹ️ ecosystem check <strong>encountered format errors</strong>. (no format changes; 2 project errors)</p>
<details><summary><a href="https://github.com/pypa/setuptools">pypa/setuptools</a> (error)</summary>
<p>

<pre><code>ruff failed
  Cause: 'quote-style = preserve' is a preview only feature. Run with '--preview' to enable it.
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a> (error)</summary>
<p>

<pre><code>warning: The following rules may cause conflicts when used with the formatter: `COM812`. To avoid unexpected behavior, we recommend disabling these rules, either by removing them from the `select` or `extend-select` configuration, or adding them to the `ignore` configuration.
warning: The `flake8-quotes.inline-quotes=&quot;single&quot;` option is incompatible with the formatter's `format.quote-style=&quot;double&quot;`. We recommend disabling `Q000` and `Q003` when using the formatter, which enforces a consistent quote style. Alternatively, set both options to either `&quot;single&quot;` or `&quot;double&quot;`.
warning: Detected debug build without --no-cache.
error: Failed to read tests/roots/test-pycode/cp_1251_coded.py: stream did not contain valid UTF-8
</code></pre>
</p>
</details>

<h3>Formatter (preview)</h3>
<p>ℹ️ ecosystem check <strong>encountered format errors</strong>. (no format changes; 1 project error)</p>
<details><summary><a href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a> (error)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<pre><code>warning: The following rules may cause conflicts when used with the formatter: `COM812`. To avoid unexpected behavior, we recommend disabling these rules, either by removing them from the `select` or `extend-select` configuration, or adding them to the `ignore` configuration.
warning: The `flake8-quotes.inline-quotes=&quot;single&quot;` option is incompatible with the formatter's `format.quote-style=&quot;double&quot;`. We recommend disabling `Q000` and `Q003` when using the formatter, which enforces a consistent quote style. Alternatively, set both options to either `&quot;single&quot;` or `&quot;double&quot;`.
warning: Detected debug build without --no-cache.
error: Failed to read tests/roots/test-pycode/cp_1251_coded.py: stream did not contain valid UTF-8
</code></pre>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-12-28 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-12-28 14:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-12-28 14:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 23:07:49 UTC
    </footer>
</body>
</html>
