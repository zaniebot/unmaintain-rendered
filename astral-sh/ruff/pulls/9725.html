<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview Style: Format module level docstring - astral-sh/ruff #9725</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Preview Style: Format module level docstring</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/9725">#9725</a>
        opened by <a href="https://github.com/Glyphack">@Glyphack</a>
        on 2024-01-30 22:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Glyphack">@Glyphack</a> on 2024-01-30 22:55</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<!-- What's the purpose of the change? What does it do, and why? -->

<p>This PR adds support for formatting module level docstrings as described in https://peps.python.org/pep-0257/.</p>
<p>Since <a href="https://github.com/psf/black/issues/3493">black does not support</a> formatting docstrings and this is not intentional we need to keep this rule in preview.</p>
<p>On the formatting style, we do one thing different than function and class docstrings which is keeping the trailing new line. This pattern is already used by python projects(<a href="https://github.com/PostHog/HouseWatch/blob/c8962f5464839fbbc0a60f398aa765d4bc8437b6/housewatch/settings/__init__.py#L7">example</a>) and also <a href="https://github.com/PyCQA/docformatter#example">docformat</a> does it.</p>
<p>Fixes: #9701</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @MichaReiser on 2024-01-31 07:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2024-01-31 07:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-01-31 16:02</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Formatter (stable)</h3>
<p>ℹ️ ecosystem check <strong>encountered format errors</strong>. (no format changes; 2 project errors)</p>
<details><summary><a href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a> (error)</summary>
<p>
<pre>ruff format --no-preview --exclude tests/roots/test-pycode/cp_1251_coded.py</pre>
</p>
<p>

<pre><code>ruff failed
  Cause: Selection of unstable rules without the `--preview` flag is not allowed. Enable preview or remove selection of:
	- FURB113
	- FURB131
	- FURB132
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/openai/openai-cookbook">openai/openai-cookbook</a> (error)</summary>
<p>

<pre><code>warning: Detected debug build without --no-cache.
error: Failed to parse examples/dalle/Image_generations_edits_and_variations_with_DALL-E.ipynb:3:7:8: Unexpected token 'prompt'
</code></pre>
</p>
</details>

<h3>Formatter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected format changes</strong>. (+607 -952 lines in 592 files in 11 projects; 1 project error; 31 projects unchanged)</p>
<details><summary><a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (+1 -3 lines across 1 file)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/scripts/evaluate_release_tag.py#L1'>scripts/evaluate_release_tag.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot;Evaluate release tag for whether docs should be built or not.
-
-&quot;&quot;&quot;
+&quot;&quot;&quot;Evaluate release tag for whether docs should be built or not.&quot;&quot;&quot;
 
 import argparse
 from subprocess import check_output
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+16 -18 lines across 4 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/apache/airflow/blob/8fb4c71857324fa2366179819830d53f32ef5a3f/airflow/providers/google/cloud/utils/field_sanitizer.py#L67'>airflow/providers/google/cloud/utils/field_sanitizer.py~L67</a></p>
<pre><code class="language-diff"> &gt;&gt;&gt;         },
 &gt;&gt;&gt;     }
 &gt;&gt;&gt; }
-&gt;&gt;&gt; sanitizer=GcpBodyFieldSanitizer(FIELDS_TO_SANITIZE)
+&gt;&gt;&gt; sanitizer = GcpBodyFieldSanitizer(FIELDS_TO_SANITIZE)
 &gt;&gt;&gt; sanitizer.sanitize(body)
 &gt;&gt;&gt; json.dumps(body, indent=2)
 {
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/8fb4c71857324fa2366179819830d53f32ef5a3f/airflow/providers/google/cloud/utils/mlengine_prediction_summary.py#L88'>airflow/providers/google/cloud/utils/mlengine_prediction_summary.py~L88</a></p>
<pre><code class="language-diff"> 
 .. code-block:: python
 
-    subprocess.check_call(
-        [
-            &quot;python&quot;,
-            &quot;-m&quot;,
-            &quot;airflow.providers.google.cloud.utils.mlengine_prediction_summary&quot;,
-            &quot;--prediction_path=gs://...&quot;,
-            &quot;--metric_fn_encoded=&quot; + metric_fn_encoded,
-            &quot;--metric_keys=log_loss,mse&quot;,
-            &quot;--runner=DataflowRunner&quot;,
-            &quot;--staging_location=gs://...&quot;,
-            &quot;--temp_location=gs://...&quot;,
-        ]
-    )
+    subprocess.check_call([
+        &quot;python&quot;,
+        &quot;-m&quot;,
+        &quot;airflow.providers.google.cloud.utils.mlengine_prediction_summary&quot;,
+        &quot;--prediction_path=gs://...&quot;,
+        &quot;--metric_fn_encoded=&quot; + metric_fn_encoded,
+        &quot;--metric_keys=log_loss,mse&quot;,
+        &quot;--runner=DataflowRunner&quot;,
+        &quot;--staging_location=gs://...&quot;,
+        &quot;--temp_location=gs://...&quot;,
+    ])
 
 .. spelling:word-list::
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/8fb4c71857324fa2366179819830d53f32ef5a3f/tests/providers/google/cloud/operators/test_life_sciences.py#L15'>tests/providers/google/cloud/operators/test_life_sciences.py~L15</a></p>
<pre><code class="language-diff"> # KIND, either express or implied.  See the License for the
 # specific language governing permissions and limitations
 # under the License.
-&quot;&quot;&quot;Tests for Google Life Sciences Run Pipeline operator &quot;&quot;&quot;
+&quot;&quot;&quot;Tests for Google Life Sciences Run Pipeline operator&quot;&quot;&quot;
 
 from __future__ import annotations
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/8fb4c71857324fa2366179819830d53f32ef5a3f/tests/system/providers/amazon/aws/example_hive_to_dynamodb.py#L15'>tests/system/providers/amazon/aws/example_hive_to_dynamodb.py~L15</a></p>
<pre><code class="language-diff"> # specific language governing permissions and limitations
 # under the License.
 &quot;&quot;&quot;
-   This DAG will not work unless you create an Amazon EMR cluster running
-   Apache Hive and copy data into it following steps 1-4 (inclusive) here:
-   https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/EMRforDynamoDB.Tutorial.html
+This DAG will not work unless you create an Amazon EMR cluster running
+Apache Hive and copy data into it following steps 1-4 (inclusive) here:
+https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/EMRforDynamoDB.Tutorial.html
 &quot;&quot;&quot;
 
 from __future__ import annotations
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/aws/aws-sam-cli">aws/aws-sam-cli</a> (+11 -11 lines across 11 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/hook_packages/terraform/hooks/prepare/types.py#L1'>samcli/hook_packages/terraform/hooks/prepare/types.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Contains the data types used in the TF prepare hook&quot;&quot;&quot;
+&quot;&quot;&quot;Contains the data types used in the TF prepare hook&quot;&quot;&quot;
 
 from abc import ABC
 from copy import deepcopy
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/hook_packages/terraform/hooks/prepare/utilities.py#L1'>samcli/hook_packages/terraform/hooks/prepare/utilities.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Maintain the utilities functions used in prepare hook &quot;&quot;&quot;
+&quot;&quot;&quot;Maintain the utilities functions used in prepare hook&quot;&quot;&quot;
 
 from samcli.hook_packages.terraform.hooks.prepare.constants import COMPILED_REGULAR_EXPRESSION
 
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/bootstrap/companion_stack/companion_stack_builder.py#L1'>samcli/lib/bootstrap/companion_stack/companion_stack_builder.py~L1</a></p>
<pre><code class="language-diff"> &quot;&quot;&quot;
-    Companion stack template builder
+Companion stack template builder
 &quot;&quot;&quot;
 
 from typing import Dict, cast
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/bootstrap/companion_stack/companion_stack_manager.py#L1'>samcli/lib/bootstrap/companion_stack/companion_stack_manager.py~L1</a></p>
<pre><code class="language-diff"> &quot;&quot;&quot;
-    Companion stack manager
+Companion stack manager
 &quot;&quot;&quot;
 
 import logging
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/bootstrap/companion_stack/data_types.py#L1'>samcli/lib/bootstrap/companion_stack/data_types.py~L1</a></p>
<pre><code class="language-diff"> &quot;&quot;&quot;
-    Date type classes for companion stacks
+Date type classes for companion stacks
 &quot;&quot;&quot;
 
 import posixpath
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/cookiecutter/interactive_flow_creator.py#L1'>samcli/lib/cookiecutter/interactive_flow_creator.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This module parses a json/yaml file that defines a flow of questions to fulfill the cookiecutter context&quot;&quot;&quot;
+&quot;&quot;&quot;This module parses a json/yaml file that defines a flow of questions to fulfill the cookiecutter context&quot;&quot;&quot;
 
 from typing import Dict, Optional, Tuple
 
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/cookiecutter/processor.py#L1'>samcli/lib/cookiecutter/processor.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Define a processor to process the cookiecutter context before/after generating a cookiecutter project&quot;&quot;&quot;
+&quot;&quot;&quot;Define a processor to process the cookiecutter context before/after generating a cookiecutter project&quot;&quot;&quot;
 
 from abc import ABC, abstractmethod
 from typing import Dict
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/cookiecutter/question.py#L1'>samcli/lib/cookiecutter/question.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This module represents the questions to ask to the user to fulfill the cookiecutter context. &quot;&quot;&quot;
+&quot;&quot;&quot;This module represents the questions to ask to the user to fulfill the cookiecutter context.&quot;&quot;&quot;
 
 from abc import ABC, abstractmethod
 from enum import Enum
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/pipeline/bootstrap/resource.py#L1'>samcli/lib/pipeline/bootstrap/resource.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Represents AWS resource&quot;&quot;&quot;
+&quot;&quot;&quot;Represents AWS resource&quot;&quot;&quot;
 
 from typing import Optional
 
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/pipeline/bootstrap/stage.py#L1'>samcli/lib/pipeline/bootstrap/stage.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Application Environment &quot;&quot;&quot;
+&quot;&quot;&quot;Application Environment&quot;&quot;&quot;
 
 import hashlib
 import json
</code></pre>
<p><a href='https://github.com/aws/aws-sam-cli/blob/36e9495a0f1113aa394509cf37fceee43e93384c/samcli/lib/sync/sync_flow.py#L1'>samcli/lib/sync/sync_flow.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot;SyncFlow base class &quot;&quot;&quot;
+&quot;&quot;&quot;SyncFlow base class&quot;&quot;&quot;
 
 import logging
 from abc import ABC, abstractmethod
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+491 -809 lines across 490 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/arrow.py#L1'>examples/basic/annotations/arrow.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A demonstration of configuring different arrow types.
+&quot;&quot;&quot;A demonstration of configuring different arrow types.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.circle, bokeh.plotting.figure.add_layout
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/arrowheads.py#L1'>examples/basic/annotations/arrowheads.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A display of available arrow head styles.
+&quot;&quot;&quot;A display of available arrow head styles.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.Plot, bokeh.models.Arrow, bokeh.models.Label
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/band.py#L1'>examples/basic/annotations/band.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactive numerical band plot based on simple Python array of data.
+&quot;&quot;&quot;An interactive numerical band plot based on simple Python array of data.
     It is a combination of scatter plots and line plots added with a band of covered area.
     The line passes through the mean of the area covered by the band.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/box_annotation.py#L1'>examples/basic/annotations/box_annotation.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A timeseries plot of glucose data readings. This example demonstrates
+&quot;&quot;&quot;A timeseries plot of glucose data readings. This example demonstrates
 adding box annotations as well as a multi-line title.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/colorbar_log.py#L1'>examples/basic/annotations/colorbar_log.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A demonstration of a ColorBar with a log color scale.
+&quot;&quot;&quot;A demonstration of a ColorBar with a log color scale.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.ColorBar, bokeh.models.LogColorMapper
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/label.py#L1'>examples/basic/annotations/label.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot that demonstrates different ways of adding labels.
+&quot;&quot;&quot;A scatter plot that demonstrates different ways of adding labels.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.ColumnDataSource, bokeh.models.Label, bokeh.models.LabelSet bokeh.plotting.figure.scatter
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/legend.py#L1'>examples/basic/annotations/legend.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Line and marker plots that demonstrate automatic legends.
+&quot;&quot;&quot;Line and marker plots that demonstrate automatic legends.
 
 .. bokeh-example-metadata::
     :apis: bokeh.layouts.gridplot, bokeh.plotting.figure.circle, bokeh.plotting.figure.line, bokeh.plotting.figure.square
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/legends_item_visibility.py#L1'>examples/basic/annotations/legends_item_visibility.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Marker and line plots that demonstrate manual control of legend visibility of individual items
+&quot;&quot;&quot;Marker and line plots that demonstrate manual control of legend visibility of individual items
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.LegendItem, bokeh.plotting.figure.circle, bokeh.plotting.figure.line
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/slope.py#L1'>examples/basic/annotations/slope.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A marker plot that demonstrates a slope.
+&quot;&quot;&quot;A marker plot that demonstrates a slope.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.slope, bokeh.plotting.figure.circle
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/annotations/whisker.py#L1'>examples/basic/annotations/whisker.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A marker plot that shows the relationship between car type and highway MPG from the autompg
+&quot;&quot;&quot;A marker plot that shows the relationship between car type and highway MPG from the autompg
 sample data. This example demonstrates the use of whiskers to display quantile ranges in the plot.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/areas/stacked_area.py#L1'>examples/basic/areas/stacked_area.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A stacked area plot using data from a pandas DataFrame.
+&quot;&quot;&quot;A stacked area plot using data from a pandas DataFrame.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.varea_stack
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/axes/logplot.py#L1'>examples/basic/axes/logplot.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A log plot using functions with different growth rates. This example
+&quot;&quot;&quot;A log plot using functions with different growth rates. This example
 demonstrates using a log axis on a Bokeh plot. Various line styles and glyph
 combinations are automatically added to a legend.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/basic.py#L1'>examples/basic/bars/basic.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A simple bar chart using plain Python lists.
+&quot;&quot;&quot;A simple bar chart using plain Python lists.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.vbar
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/colormapped.py#L1'>examples/basic/bars/colormapped.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A bar chart based on simple Python lists of data. This example demonstrates
+&quot;&quot;&quot;A bar chart based on simple Python lists of data. This example demonstrates
 automatic colormapping.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/colors.py#L1'>examples/basic/bars/colors.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A simple bar chart using plain Python lists. This example demonstrates
+&quot;&quot;&quot;A simple bar chart using plain Python lists. This example demonstrates
 setting bar colors from a ``ColumnDataSource``.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/dodged.py#L1'>examples/basic/bars/dodged.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A bar chart based on plain Python lists. This example demonstrates creating
+&quot;&quot;&quot;A bar chart based on plain Python lists. This example demonstrates creating
 a using a ``dodge`` transform to &quot;group&quot; the bars.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/intervals.py#L1'>examples/basic/bars/intervals.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interval chart showing Olympic sprint time data as intervals.
+&quot;&quot;&quot;An interval chart showing Olympic sprint time data as intervals.
 
 .. bokeh-example-metadata::
     :sampledata: sprint
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/mixed.py#L1'>examples/basic/bars/mixed.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A combined bar and line chart using simple Python lists. This example
+&quot;&quot;&quot;A combined bar and line chart using simple Python lists. This example
 demonstrates mixing nested categorical factors with top-level categorical
 factors.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/nested.py#L1'>examples/basic/bars/nested.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A grouped bar chart using plain Python lists. This example demonstrates
+&quot;&quot;&quot;A grouped bar chart using plain Python lists. This example demonstrates
 creating a ``FactorRange`` with nested categories.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/nested_colormapped.py#L1'>examples/basic/bars/nested_colormapped.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A bar chart based on simple Python lists of data. This example demonstrates
+&quot;&quot;&quot;A bar chart based on simple Python lists of data. This example demonstrates
 automatic colormapping of nested categorical factors.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/pandas_groupby_colormapped.py#L1'>examples/basic/bars/pandas_groupby_colormapped.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A bar chart using the `Auto MPG dataset`_. This example demonstrates
+&quot;&quot;&quot;A bar chart using the `Auto MPG dataset`_. This example demonstrates
 automatic handing of Pandas GroupBy objects and colormapping with
 ``factor_cmap``.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/pandas_groupby_nested.py#L1'>examples/basic/bars/pandas_groupby_nested.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A grouped bar chart using a cleaned up version of the `Auto MPG dataset`_.
+&quot;&quot;&quot;A grouped bar chart using a cleaned up version of the `Auto MPG dataset`_.
 This examples demonstrates automatic handing of Pandas GroupBy objects and
 colormapping nested factors with ``factor_cmap``. A hover tooltip displays
 information for each bar.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/sorted.py#L1'>examples/basic/bars/sorted.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A bar chart based on simple Python lists of data. The example below
+&quot;&quot;&quot;A bar chart based on simple Python lists of data. The example below
 sorts the fruit categories in ascending order based on counts and
 rearranges the bars accordingly.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/stacked.py#L1'>examples/basic/bars/stacked.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A stacked bar chart using plain Python lists.
+&quot;&quot;&quot;A stacked bar chart using plain Python lists.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.vbar_stack
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/stacked_grouped.py#L1'>examples/basic/bars/stacked_grouped.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A stacked bar chart grouped into four groups using data in plain Python lists.
+&quot;&quot;&quot;A stacked bar chart grouped into four groups using data in plain Python lists.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.ColumnDataSource, bokeh.models.FactorRange, bokeh.plotting.figure.vbar_stack
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/bars/stacked_split.py#L1'>examples/basic/bars/stacked_split.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A split, horizontal stacked bar chart using plain Python lists.
+&quot;&quot;&quot;A split, horizontal stacked bar chart using plain Python lists.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.hbar_stack
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/data/color_mappers.py#L1'>examples/basic/data/color_mappers.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A color mapping plot with color spectrum scale. The example plots demonstrates
+&quot;&quot;&quot;A color mapping plot with color spectrum scale. The example plots demonstrates
 log mapping and linear mapping with different color palette.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/data/transform_jitter.py#L1'>examples/basic/data/transform_jitter.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Two scatter plots in a grid. This example demonstrate the application of a
+&quot;&quot;&quot;Two scatter plots in a grid. This example demonstrate the application of a
 ``jitter`` transform to data.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/data/transform_markers.py#L1'>examples/basic/data/transform_markers.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot using the `Palmer penguin dataset`_. This example
+&quot;&quot;&quot;A scatter plot using the `Palmer penguin dataset`_. This example
 demonstrates color and marker mapping with basic plot elements. The chart
 shows correlation between body mass and flipper length for three different
 penguin species.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/layouts/anscombe.py#L1'>examples/basic/layouts/anscombe.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A reproduction of `Anscombe's Quartet`_ using the low-level |bokeh.models|
+&quot;&quot;&quot;A reproduction of `Anscombe's Quartet`_ using the low-level |bokeh.models|
 API that also includes HTML content in a ``Div``.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/layouts/grid.py#L1'>examples/basic/layouts/grid.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot;  A grid plot that shows four figures that use different glyphs.
+&quot;&quot;&quot;A grid plot that shows four figures that use different glyphs.
 
 .. bokeh-example-metadata::
     :apis: bokeh.layouts.gridplot
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/lines/arcs.py#L1'>examples/basic/lines/arcs.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An arc graph using pre-defined data points. This example
+&quot;&quot;&quot;An arc graph using pre-defined data points. This example
 demonstrates the use of the ``arc`` method to make a graph
 by drawing three arcs of defined radius, start and end angles
 at a specified point.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/lines/line_single.py#L1'>examples/basic/lines/line_single.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A line graph using user-defined data points. This example
+&quot;&quot;&quot;A line graph using user-defined data points. This example
 demonstrates the use of the ``line`` method to make a graph
 by drawing straight lines between defined points.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/lines/lorenz.py#L1'>examples/basic/lines/lorenz.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot of the `Lorenz attractor`_. This example demonstrates using
+&quot;&quot;&quot;A plot of the `Lorenz attractor`_. This example demonstrates using
 ``multi_line`` to display many lines with a single vectorized glyph.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/scatters/color_scatter.py#L1'>examples/basic/scatters/color_scatter.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A basic scatter. This example plot demonstrates manual colormapping and
+&quot;&quot;&quot;A basic scatter. This example plot demonstrates manual colormapping and
 many different plot tools.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/scatters/elements.py#L1'>examples/basic/scatters/elements.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot using data from the `Periodic Table`_. This example
+&quot;&quot;&quot;A scatter plot using data from the `Periodic Table`_. This example
 demonstrates using basic hover tooltips and adding labels for individual
 points.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/scatters/image_url.py#L1'>examples/basic/scatters/image_url.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An scatter plot showing `Bokeh image logo`_ as marker.
+&quot;&quot;&quot;An scatter plot showing `Bokeh image logo`_ as marker.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.image_url
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/basic/scatters/markers.py#L1'>examples/basic/scatters/markers.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot showing every marker type.
+&quot;&quot;&quot;A scatter plot showing every marker type.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.scatter, bokeh.plotting.figure.text
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/color_sliders.py#L1'>examples/interaction/js_callbacks/color_sliders.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactive plot of colors. This example demonstrates adding widgets and
+&quot;&quot;&quot;An interactive plot of colors. This example demonstrates adding widgets and
 ``CustomJS`` callbacks that can update a plot.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/customjs_for_hover.py#L1'>examples/interaction/js_callbacks/customjs_for_hover.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactive plot showcasing Bokeh's ability to add interactions
+&quot;&quot;&quot;An interactive plot showcasing Bokeh's ability to add interactions
 using Custom Javascript.
 
 This example demonstrates adding links between points on a graph.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/customjs_for_selection.py#L1'>examples/interaction/js_callbacks/customjs_for_selection.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactive plot showcasing Bokeh's ability to add interactions
+&quot;&quot;&quot;An interactive plot showcasing Bokeh's ability to add interactions
 using Custom Javascript.
 
 This example demonstrates selecting highlighted points on a graph.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/doc_js_events.py#L1'>examples/interaction/js_callbacks/doc_js_events.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Demonstration of how to register document JS event callbacks. &quot;&quot;&quot;
+&quot;&quot;&quot;Demonstration of how to register document JS event callbacks.&quot;&quot;&quot;
 
 from bokeh.events import Event
 from bokeh.io import curdoc
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/js_on_event.py#L1'>examples/interaction/js_callbacks/js_on_event.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Demonstration of how to register event callbacks using an adaptation
+&quot;&quot;&quot;Demonstration of how to register event callbacks using an adaptation
 of the color_scatter example from the bokeh gallery
 &quot;&quot;&quot;
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/setvalue.py#L1'>examples/interaction/js_callbacks/setvalue.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A visualization of buttons in bokeh.models. This example demonstrates
+&quot;&quot;&quot;A visualization of buttons in bokeh.models. This example demonstrates
 changing the value of an object when a certain event (like clicking of a button)
 happens.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/slider.py#L1'>examples/interaction/js_callbacks/slider.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactive plot of the ``sin`` function. This example demonstrates
+&quot;&quot;&quot;An interactive plot of the ``sin`` function. This example demonstrates
 adding widgets and ``CustomJS`` callbacks that can update a plot.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/js_callbacks/slider_callback_policy.py#L1'>examples/interaction/js_callbacks/slider_callback_policy.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An plot of two interactive sliders. The values are updated
+&quot;&quot;&quot;An plot of two interactive sliders. The values are updated
 simultaneously as the slider bars are dragged to different values.
 This example demonstrates how ``CustomJS`` callbacks react to user
 interaction events.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/legends/legend_hide.py#L1'>examples/interaction/legends/legend_hide.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; The legend_hide feature is used to hide corresponding lines on a plot.
+&quot;&quot;&quot;The legend_hide feature is used to hide corresponding lines on a plot.
 This examples demonstrates an interactive line chart for stock prices over
 time which allows the user to click on the legend entries to hide or show
 the corresponding lines.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/tools/range_tool.py#L1'>examples/interaction/tools/range_tool.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A timeseries plot using stock price data. This example demonstrates a range
+&quot;&quot;&quot;A timeseries plot using stock price data. This example demonstrates a range
 tool controlling the range of another plot. The highlighted range area on the
 lower plot may be dragged to update the range on the top plot.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/tooltips/tooltip_content.py#L1'>examples/interaction/tooltips/tooltip_content.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A visualization of adding tooltips to widgets in bokeh.models.
+&quot;&quot;&quot;A visualization of adding tooltips to widgets in bokeh.models.
 This example demonstrates defining two distinct tooltip widgets,
 i.e. plaintext and html tooltip, and accepting text input through those widgets.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/interaction/tooltips/tooltip_description.py#L1'>examples/interaction/tooltips/tooltip_description.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A visualization of Multichoice tooltips in bokeh.models.
+&quot;&quot;&quot;A visualization of Multichoice tooltips in bokeh.models.
 
 This example demonstrates user input text box where the user can input from a
 list of various options of elements to choose one or more of them, and then
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/basic_plot.py#L1'>examples/models/basic_plot.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot of a smooth periodic oscillation. This example demonstrates red
+&quot;&quot;&quot;A scatter plot of a smooth periodic oscillation. This example demonstrates red
 circle scatter markers with black outlines, using the low-level ``bokeh.models``
 API.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/buttons.py#L1'>examples/models/buttons.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A rendering of all button widgets.
+&quot;&quot;&quot;A rendering of all button widgets.
 
 This example demonstrates the types of button widgets available
 along with radio buttons and checkboxes.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/calendars.py#L1'>examples/models/calendars.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A rendering of the 2014 monthly calendar.
+&quot;&quot;&quot;A rendering of the 2014 monthly calendar.
 
 This example demonstrates the usage of plotting several
 plots together using ``gridplot``.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/daylight.py#L1'>examples/models/daylight.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot showing the daylight hours in a city's local time (which are
+&quot;&quot;&quot;A plot showing the daylight hours in a city's local time (which are
 discontinuous due to summer time) using the ``Patch`` and ``Line`` plot
 elements to draw custom outlines and fills.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/latex_labels.py#L1'>examples/models/latex_labels.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot showing LaTeX ``Label`` objects in many different locations,
+&quot;&quot;&quot;A plot showing LaTeX ``Label`` objects in many different locations,
 inside and outside the figure.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/maps_cities.py#L1'>examples/models/maps_cities.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot showing a map of the world, highlighting cities where the population
+&quot;&quot;&quot;A plot showing a map of the world, highlighting cities where the population
 is over 5,000 people, made using the ``GMapPlot`` class.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/tile_source.py#L1'>examples/models/tile_source.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Example to demonstrate creating map-based visualizations and
+&quot;&quot;&quot;Example to demonstrate creating map-based visualizations and
 working with geographical data using WMTSTileSource in Bokeh.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/toolbars.py#L1'>examples/models/toolbars.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example shows multiple ways to place the toolbar and the x and y axes
+&quot;&quot;&quot;This example shows multiple ways to place the toolbar and the x and y axes
 with respect to the plot
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/toolbars2.py#L1'>examples/models/toolbars2.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example shows multiple ways to place the toolbar with respect to a grid of plots.
+&quot;&quot;&quot;This example shows multiple ways to place the toolbar with respect to a grid of plots.
 
 .. bokeh-example-metadata::
     :apis: bokeh.layouts.column, bokeh.layouts.gridplot, bokeh.layouts.row, bokeh.plotting.figure, bokeh.plotting.show
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/transform_jitter.py#L1'>examples/models/transform_jitter.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates how to us a jitter transform on coordinate data.
+&quot;&quot;&quot;This example demonstrates how to us a jitter transform on coordinate data.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.circle, bokeh.models.sources.ColumnDataSource, bokeh.models.Circle, bokeh.models.Jitter
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/twin_axis.py#L1'>examples/models/twin_axis.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates how to create a plot with two y-axes.
+&quot;&quot;&quot;This example demonstrates how to create a plot with two y-axes.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.circle, bokeh.models.sources.ColumnDataSource, bokeh.models.markers.Circle
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/models/widgets.py#L1'>examples/models/widgets.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An Example demonstrating the use of multiple widgets. This example uses
+&quot;&quot;&quot;An Example demonstrating the use of multiple widgets. This example uses
 buttons, groups, inputs, panels, sliders, and tables, using the low-level
 ``bokeh.models`` API.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/output/webgl/clustering.py#L1'>examples/output/webgl/clustering.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Example inspired by an example from the scikit-learn project:
+&quot;&quot;&quot;Example inspired by an example from the scikit-learn project:
 
 http://scikit-learn.org/stable/auto_examples/cluster/plot_cluster_comparison.html
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/output/webgl/line_compare.py#L1'>examples/output/webgl/line_compare.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Compare WebGL, SVG with canvas line.
-
-&quot;&quot;&quot;
+&quot;&quot;&quot;Compare WebGL, SVG with canvas line.&quot;&quot;&quot;
 
 import numpy as np
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/output/webgl/marker_compare.py#L1'>examples/output/webgl/marker_compare.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Compare WebGL and SVG markers with canvas markers.
+&quot;&quot;&quot;Compare WebGL and SVG markers with canvas markers.
 
 This covers all markers supported by scatter. The plots are put in tabs,
 so that you can easily switch to compare positioning and appearance.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/output/webgl/scatter_blend.py#L1'>examples/output/webgl/scatter_blend.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; The penguins dataset, drawn twice with semi-transparent markers. This is
+&quot;&quot;&quot;The penguins dataset, drawn twice with semi-transparent markers. This is
 an interesting use-case to test blending, because several samples itself
 overlap, and by drawing the set twice with different colors, we realize
 even more interesting blending. Also note how this makes use of
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/aspect.py#L1'>examples/plotting/aspect.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates how a circle with a data-space radius appears
+&quot;&quot;&quot;This example demonstrates how a circle with a data-space radius appears
 when plotted with different aspect scales specified.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/brewer.py#L1'>examples/plotting/brewer.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot of randomly stacked area styled using the Brewer palette
+&quot;&quot;&quot;A plot of randomly stacked area styled using the Brewer palette
 from the `brewer` dictionary.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/custom_tooltip.py#L1'>examples/plotting/custom_tooltip.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot of periodic table elements using a Periodic table dataset.
+&quot;&quot;&quot;A plot of periodic table elements using a Periodic table dataset.
 This example demonstrates the use of custom css tooltips when creating plots.
 The chart shows correlation between atomic mass and density of periodic table
 elements.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/customjs_expr.py#L1'>examples/plotting/customjs_expr.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates using CustomJS Expression to create a sinusoidal line chart.
+&quot;&quot;&quot;This example demonstrates using CustomJS Expression to create a sinusoidal line chart.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.CustomJSExpr, bokeh.model.DataModel
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/customjs_hover.py#L1'>examples/plotting/customjs_hover.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A map of North Africa and South Europe with three interactive location
+&quot;&quot;&quot;A map of North Africa and South Europe with three interactive location
 points. When hovering over the points, its lat-lon is shown. This example
 demonstrates using CustomJSHover model and HoverTool to customize the
 formatting of values in tooltip fields.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/dotplot.py#L1'>examples/plotting/dotplot.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A categorical dot plot based on simple Python lists of data.
+&quot;&quot;&quot;A categorical dot plot based on simple Python lists of data.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.circle, bokeh.plotting.figure.segment
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/filtering.py#L1'>examples/plotting/filtering.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A map representation of unemployment rate in US using the `US_States Dataset`_.
+&quot;&quot;&quot;A map representation of unemployment rate in US using the `US_States Dataset`_.
 This example demonstrates using IndexFilter, ColorMapper and HoverTool with
 basic plot elements such as patches. When hovering over the points,
 the state and its umemployment rate is shown.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/histogram.py#L1'>examples/plotting/histogram.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot;  A grid plot shows histograms for four different probability distributions.
+&quot;&quot;&quot;A grid plot shows histograms for four different probability distributions.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.line, bokeh.plotting.figure.quad
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/hover.py#L1'>examples/plotting/hover.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example displays a hoverful scatter plot of random data points
+&quot;&quot;&quot;This example displays a hoverful scatter plot of random data points
 showing how the hover widget works.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/image_alpha.py#L1'>examples/plotting/image_alpha.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An example demonstrating how to add alpha value (transparency) to images in different ways.
+&quot;&quot;&quot;An example demonstrating how to add alpha value (transparency) to images in different ways.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure, bokeh.plotting.figure.image, bokeh.layouts.Column
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/interactive_legend.py#L1'>examples/plotting/interactive_legend.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A line plot using stock price data. Sometimes it is desirable to be able to
+&quot;&quot;&quot;A line plot using stock price data. Sometimes it is desirable to be able to
 hide glyphs by clicking on an entry in a ``Legend``. This can be accomplished
 by setting the legend ``click_policy`` property to ``&quot;hide&quot;``.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/iris.py#L1'>examples/plotting/iris.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot using `Fisher's Iris dataset`_. This example demonstrates
+&quot;&quot;&quot;A scatter plot using `Fisher's Iris dataset`_. This example demonstrates
 manual color mapping with basic plot elements. The chart shows correlation
 between petal width and length for three different iris species.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/line_on_off.py#L1'>examples/plotting/line_on_off.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Example demonstrating turning lines on and off - with JS only.
+&quot;&quot;&quot;Example demonstrating turning lines on and off - with JS only.
 It involves checking and unchecking the checkboxes representing
 the plotted lines to turn the lines on/off.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/line_select.py#L1'>examples/plotting/line_select.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Example demonstrating line selection together with customJS.
+&quot;&quot;&quot;Example demonstrating line selection together with customJS.
 It involves clicking on any of the plotted lines to select/ deselect the line.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/ridgeplot_subcoordinates.py#L1'>examples/plotting/ridgeplot_subcoordinates.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A `ridgeline plot`_ using the `Perceptions of Probability`_ dataset.
+&quot;&quot;&quot;A `ridgeline plot`_ using the `Perceptions of Probability`_ dataset.
 
 This example demonstrates the uses of sub-coordinates to position ridge lines at
 different categories. This effectively allows the user to create sub-plots, while
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/sprint.py#L1'>examples/plotting/sprint.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A scatter plot comparing historical Olympic sprint times, based on a
+&quot;&quot;&quot;A scatter plot comparing historical Olympic sprint times, based on a
 `New York Times interactive`_. Tapping any of the scatter points will open a
 new browser tab for the Wikipedia entry of the sprinter.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/stocks.py#L1'>examples/plotting/stocks.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A timeseries plot using stock price data. This example demonstrates adding
+&quot;&quot;&quot;A timeseries plot using stock price data. This example demonstrates adding
 multiple plots to a gridplot, and configuring grid bands on an axis.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/tap.py#L1'>examples/plotting/tap.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactive numerical tap plot based on a simple Python array of data.
+&quot;&quot;&quot;An interactive numerical tap plot based on a simple Python array of data.
     You can select any datapoint by tapping on it.
     This highlights that datapoint and displays all other datapoints in a faded color.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/plotting/trefoil.py#L1'>examples/plotting/trefoil.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example shows a Radiation Warning Symbol (Trefoil). It demonstrates
+&quot;&quot;&quot;This example shows a Radiation Warning Symbol (Trefoil). It demonstrates
 rendering annular wegdes, different arrow heads and adding arc and segment
 glyphs.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/apply_theme.py#L1'>examples/server/app/apply_theme.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Example demonstrating how to apply a theme
-
-&quot;&quot;&quot;
+&quot;&quot;&quot;Example demonstrating how to apply a theme&quot;&quot;&quot;
 
 # External imports
 import numpy as np
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/clustering/main.py#L1'>examples/server/app/clustering/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A `k-nearest neighbors`_ (KNN) chart using datasets from scikit-learn. This
+&quot;&quot;&quot;A `k-nearest neighbors`_ (KNN) chart using datasets from scikit-learn. This
 example demonstrates solving both classification and regression problems.
 
 .. note::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/contour_animated.py#L1'>examples/server/app/contour_animated.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Animated contour plot.
+&quot;&quot;&quot;Animated contour plot.
 
 Use the ``bokeh serve`` command to run the example by executing:
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/crossfilter/main.py#L1'>examples/server/app/crossfilter/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A crossfilter plot map that uses the `Auto MPG dataset`_. This example
+&quot;&quot;&quot;A crossfilter plot map that uses the `Auto MPG dataset`_. This example
 demonstrates the relationship of datasets together. A hover tooltip displays
 information on each dot.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/dash/main.py#L1'>examples/server/app/dash/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A dashboard that utilizes `Auto MPG`_ and stocks dataset.
+&quot;&quot;&quot;A dashboard that utilizes `Auto MPG`_ and stocks dataset.
 This example demonstrates the use of Bootstrap templates to compile several types
 of charts in one file.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/duffing_oscillator.py#L1'>examples/server/app/duffing_oscillator.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Simulation of Duffing oscillator which is harmonic motion with a
+&quot;&quot;&quot;Simulation of Duffing oscillator which is harmonic motion with a
 sinusoidal driving force and damping. It exhibits chaotic behaviour for some
 combinations of driving and damping parameters. This example demonstrates the
 use of mathtext on ``Div``, ``Paragraph`` and ``Slider`` objects, as well as
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/events_app.py#L1'>examples/server/app/events_app.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Demonstration Bokeh app of how to register event callbacks in both
+&quot;&quot;&quot;Demonstration Bokeh app of how to register event callbacks in both
 Javascript and Python using an adaptation of the color_scatter example
 from the bokeh gallery. This example extends the js_events.py example
 with corresponding Python event callbacks.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/export_csv/main.py#L1'>examples/server/app/export_csv/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A column salary chart with minimum and maximum values.
+&quot;&quot;&quot;A column salary chart with minimum and maximum values.
 This example shows the capability of exporting a csv file from ColumnDataSource.
 
 &quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/faces/main.py#L1'>examples/server/app/faces/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A face detection example that uses the `Haar Cascade`_ algorithm.
+&quot;&quot;&quot;A face detection example that uses the `Haar Cascade`_ algorithm.
 This example shows the capability of Bokeh streaming with an integrated
 OpenCV package.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/fourier_animated.py#L1'>examples/server/app/fourier_animated.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Show a streaming, animated representation of Fourier Series.
+&quot;&quot;&quot;Show a streaming, animated representation of Fourier Series.
 
 The example was inspired by `this video`_.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/gapminder/main.py#L1'>examples/server/app/gapminder/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A gapminder chart using a population, life expectancy, and fertility dataset.
+&quot;&quot;&quot;A gapminder chart using a population, life expectancy, and fertility dataset.
 This example shows the data visualization capability of Bokeh to recreate charts.
 
 &quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/image_blur.py#L1'>examples/server/app/image_blur.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An image blurring example. This sample shows the capability
+&quot;&quot;&quot;An image blurring example. This sample shows the capability
 of Bokeh to transform images to have certain effects.
 
 .. note::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/line_on_off.py#L1'>examples/server/app/line_on_off.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Example demonstrating turning lines on and off - with bokeh server
-
-&quot;&quot;&quot;
+&quot;&quot;&quot;Example demonstrating turning lines on and off - with bokeh server&quot;&quot;&quot;
 
 import numpy as np
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/movies/main.py#L1'>examples/server/app/movies/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; An interactivate categorized chart based on a movie dataset.
+&quot;&quot;&quot;An interactivate categorized chart based on a movie dataset.
 This example shows the ability of Bokeh to create a dashboard with different
 sorting options based on a given dataset.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/ohlc/main.py#L1'>examples/server/app/ohlc/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A stock OHLC chart that monitors the MACD indicator.
+&quot;&quot;&quot;A stock OHLC chart that monitors the MACD indicator.
 This example shows the streaming and updating feature of Bokeh charts.
 
 &quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/population.py#L1'>examples/server/app/population.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A chart that uses the population dataset of the globe.
+&quot;&quot;&quot;A chart that uses the population dataset of the globe.
 This example shows the ability of Bokeh to use two different kinds of graph into
 one file and sorting them by having different colors and lines.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/selection_histogram.py#L1'>examples/server/app/selection_histogram.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Present a scatter plot with linked histograms on both axes.
+&quot;&quot;&quot;Present a scatter plot with linked histograms on both axes.
 
 Use the ``bokeh serve`` command to run the example by executing:
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/server_auth/app.py#L1'>examples/server/app/server_auth/app.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Present an interactive function explorer with slider widgets.
+&quot;&quot;&quot;Present an interactive function explorer with slider widgets.
 
 Scrub the sliders to change the properties of the ``sin`` curve, or
 type into the title text box to update the title of the plot.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/simple_hdf5/main.py#L1'>examples/server/app/simple_hdf5/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A simple chart visualizing hdf5 files.
+&quot;&quot;&quot;A simple chart visualizing hdf5 files.
 
 .. note::
     This example needs the hdf5 library to run.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/sliders.py#L1'>examples/server/app/sliders.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Present an interactive function explorer with slider widgets.
+&quot;&quot;&quot;Present an interactive function explorer with slider widgets.
 
 Scrub the sliders to change the properties of the ``sin`` curve, or
 type into the title text box to update the title of the plot.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/spectrogram/main.py#L1'>examples/server/app/spectrogram/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A spectogram chart that uses a waterfall dataset.
+&quot;&quot;&quot;A spectogram chart that uses a waterfall dataset.
 This example shows the streaming efficiency of Bokeh with live audio.
 
 .. note::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/stocks/main.py#L1'>examples/server/app/stocks/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Create a simple stocks correlation dashboard.
+&quot;&quot;&quot;Create a simple stocks correlation dashboard.
 
 Choose stocks to compare in the drop down widgets, and make selections
 on the plots to update the summary and histograms accordingly.
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/surface3d/main.py#L1'>examples/server/app/surface3d/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A 3D graph using the ColumnDataSource of Bokeh with the Graph3d library.
+&quot;&quot;&quot;A 3D graph using the ColumnDataSource of Bokeh with the Graph3d library.
 This example shows the custom extension feature of Bokeh.
 
 &quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/taylor.py#L1'>examples/server/app/taylor.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A taylor series visualization graph. This example demonstrates
+&quot;&quot;&quot;A taylor series visualization graph. This example demonstrates
 the ability of Bokeh for inputted expressions to reflect on a chart.
 
 &quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/weather/main.py#L1'>examples/server/app/weather/main.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A weather chart for three cities using a csv file.
+&quot;&quot;&quot;A weather chart for three cities using a csv file.
 This illustration demonstrates different interpretation of the same data
 with the distribution option.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_axis_labels_titles_labels.py#L1'>examples/styling/mathtext/latex_axis_labels_titles_labels.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates the use of inline mathtext on titles and ``Label`` annotations.
+&quot;&quot;&quot;This example demonstrates the use of inline mathtext on titles and ``Label`` annotations.
 This example makes use of all the three LaTeX delimiters pairs ``$$...$$``, ``\\[...\\]`` and
 ``\\(...\\)``.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_bessel.py#L1'>examples/styling/mathtext/latex_bessel.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Bessel functions of the first kind. This example demonstrates the use of
+&quot;&quot;&quot;Bessel functions of the first kind. This example demonstrates the use of
 mathtext on titles, ``Label`` annotations and axis labels.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_blackbody_radiation.py#L1'>examples/styling/mathtext/latex_blackbody_radiation.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot of spectral radiance curves for an ideal radiating blackbody at
+&quot;&quot;&quot;A plot of spectral radiance curves for an ideal radiating blackbody at
 various temperatures. This example demonstrates the use of mathtext on axes
 and in ``Div`` objects.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_div_widget.py#L1'>examples/styling/mathtext/latex_div_widget.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates the use of inline mathtext on a DIV element.
+&quot;&quot;&quot;This example demonstrates the use of inline mathtext on a DIV element.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.widgets.Div
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_normal_distribution.py#L1'>examples/styling/mathtext/latex_normal_distribution.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A plot of the Normal (Gaussian) distribution. This example demonstrates the
+&quot;&quot;&quot;A plot of the Normal (Gaussian) distribution. This example demonstrates the
 use of mathtext on axes and in ``Div`` objects.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_schrodinger.py#L1'>examples/styling/mathtext/latex_schrodinger.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Solution of Schrödinger's equation for the motion of a particle in one
+&quot;&quot;&quot;Solution of Schrödinger's equation for the motion of a particle in one
 dimension in a parabolic potential well. This example demonstrates the use of
 mathtext on ``Label`` and ``Title`` annotations.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_slider_widget_title.py#L1'>examples/styling/mathtext/latex_slider_widget_title.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates the use of mathtext on a ``Slider`` widget.
+&quot;&quot;&quot;This example demonstrates the use of mathtext on a ``Slider`` widget.
 
 .. bokeh-example-metadata::
     :apis: bokeh.models.widgets.Slider
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/latex_tick_labels.py#L1'>examples/styling/mathtext/latex_tick_labels.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates the use of mathtext on tick labels through overwriting the labels
+&quot;&quot;&quot;This example demonstrates the use of mathtext on tick labels through overwriting the labels
 by adding a dictionary with pairs of position and mathtext.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/mathtext/mathml_axis_labels.py#L1'>examples/styling/mathtext/mathml_axis_labels.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; This example demonstrates the use of mathtext as an axis label using a MathML object.
+&quot;&quot;&quot;This example demonstrates the use of mathtext as an axis label using a MathML object.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.line, bokeh.models.MathML
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/styling/plots/hatch_grid_band.py#L1'>examples/styling/plots/hatch_grid_band.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A simple line plot demonstrating hatched patterns for grid bands.
+&quot;&quot;&quot;A simple line plot demonstrating hatched patterns for grid bands.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.line, bokeh.models.Grid
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/correlogram.py#L1'>examples/topics/categorical/correlogram.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A categorical plot showing the correlations in mineral content for 214 samples of glass fragments
+&quot;&quot;&quot;A categorical plot showing the correlations in mineral content for 214 samples of glass fragments
 obtained during forensic work.
 
 The dataset contains seven variables measuring the amounts of magnesium (Mg),
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/heatmap_unemployment.py#L1'>examples/topics/categorical/heatmap_unemployment.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot;  A categorical heatmap using unemployment data. This example demonstrates
+&quot;&quot;&quot;A categorical heatmap using unemployment data. This example demonstrates
 adding a ``ColorBar`` to a plot.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/les_mis.py#L1'>examples/topics/categorical/les_mis.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A reproduction of Mike Bostock's `Les Misérables Co-occurrence`_ chart.
+&quot;&quot;&quot;A reproduction of Mike Bostock's `Les Misérables Co-occurrence`_ chart.
 This example demonstrates a basic hover tooltip.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/periodic.py#L1'>examples/topics/categorical/periodic.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A rendering of the `Periodic table`_. This example demonstrates combining
+&quot;&quot;&quot;A rendering of the `Periodic table`_. This example demonstrates combining
 several glyphs in a single plot. A hover tooltip displays detailed information
 for each element.
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/ridgeplot.py#L1'>examples/topics/categorical/ridgeplot.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A `ridgeline plot`_ using the `Perceptions of Probability`_ dataset.
+&quot;&quot;&quot;A `ridgeline plot`_ using the `Perceptions of Probability`_ dataset.
 
 This example demonstrates the uses of categorical offsets to position categorical
 values explicitly, which in this case allows for makeshift sub-plots. This is
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/scatter_jitter.py#L1'>examples/topics/categorical/scatter_jitter.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A categorical scatter plot based on GitHub commit history. This example
+&quot;&quot;&quot;A categorical scatter plot based on GitHub commit history. This example
 demonstrates using a ``jitter`` transform.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/categorical/slope_graph.py#L1'>examples/topics/categorical/slope_graph.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A categorical scatter plot showing the CO2 emissions of selected countries in the years 2000 and 2010. This example
+&quot;&quot;&quot;A categorical scatter plot showing the CO2 emissions of selected countries in the years 2000 and 2010. This example
 demonstrates using the `segment` glyph.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/contour/contour.py#L1'>examples/topics/contour/contour.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; A contour plot containing lines at each contour level and filled polygons
+&quot;&quot;&quot;A contour plot containing lines at each contour level and filled polygons
 between each pair of contour levels.
 
 .. bokeh-example-metadata::
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/contour/contour_polar.py#L1'>examples/topics/contour/contour_polar.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Contour plot with polar grid and many visual properties.
+&quot;&quot;&quot;Contour plot with polar grid and many visual properties.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.contour, bokeh.models.ContourRenderer.contruct_color_bar
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/topics/contour/contour_simple.py#L1'>examples/topics/contour/contour_simple.py~L1</a></p>
<pre><code class="language-diff">-&quot;&quot;&quot; Simple contour plot showing both contour lines and filled polygons.
+&quot;&quot;&quot;Simple contour plot showing both contour lines and filled polygons.
 
 .. bokeh-example-metadata::
     :apis: bokeh.plotting.figure.contour, bokeh.models.Contour...*[Comment body truncated]*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @Glyphack on 2024-01-31 16:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Glyphack">@Glyphack</a> on 2024-01-31 16:34</div>
            <div class="timeline-body"><p>@MichaReiser I think this is ready for review. The only testing failure is happening because we are formatting module docstrings now and we remove the last new line character from docstrings after format(<a href="https://github.com/astral-sh/ruff/pull/9725/files#diff-4907300a6642e5c2d6fc508e6a89e18066b40c57d0afc2cf7d118e00f60f0ed8L75">example</a>). I'm not sure if we want to keep this or should I opt out of this for module docstrings to keep compatibility. Because this is not listed under <a href="https://github.com/astral-sh/ruff/tree/main/crates/ruff_python_formatter#intentional-deviations">intentional deviations</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-01-31 16:56</div>
            <div class="timeline-body"><p>The changes here look good but I think we have to look into why we trim the last line or this will be a very disruptive change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-31 18:25</div>
            <div class="timeline-body"><p>@Glyphack I can take a look tomorrow morning except if you want to do it. I'm really curious what's causing this difference. That's not at all what I expected.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-31 18:28</div>
            <div class="timeline-body"><p>Oh I think I have a suspision... The difference is that module level docstring have no indent... Some code in the docstring formatting must be relying on the indent to be present.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Glyphack">@Glyphack</a> on 2024-01-31 18:39</div>
            <div class="timeline-body"><p>@MichaReiser I am interested and looking into it. Will post my findings.</p>
<p>Another thing I checked is that looks like black is not formatting module docstrings.</p>
<p>source:</p>
<pre><code>&quot;&quot;&quot;
Docstring with trailing newline. That is preserved.
&quot;&quot;&quot;

def function():
    &quot;&quot;&quot;Docstring with trailing newline. That is not preserved.
    &quot;&quot;&quot;
</code></pre>
<p>black output:</p>
<pre><code>&quot;&quot;&quot;
Docstring with trailing newline. That is preserved.
&quot;&quot;&quot;


def function():
    &quot;&quot;&quot;Docstring with trailing newline. That is not preserved.&quot;&quot;&quot;
</code></pre>
<p>ruff output if we format module docstrings:</p>
<pre><code>&quot;&quot;&quot;
Docstring with trailing newline. That is preserved.&quot;&quot;&quot;


def function():
    &quot;&quot;&quot;Docstring with trailing newline. That is not preserved.&quot;&quot;&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Format module level docstring" to "Preview Style: Format module level docstring" by @Glyphack on 2024-02-01 07:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @Glyphack on 2024-02-01 08:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @Glyphack on 2024-02-01 18:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @Glyphack on 2024-02-01 18:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @MichaReiser on 2024-02-02 06:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/string/docstring.rs</code>:215 on 2024-02-02 06:30</div>
            <div class="timeline-body"><p>I think this is a bug in our codebock formatting or docstring formatting over all and is not specific to module formatting (CC: @BurntSushi).</p>
<p>For example:</p>
<pre><code class="language-python">class Test:
    
    &quot;&quot;&quot;
    Black's `Preview.module_docstring_newlines`


    A code black to format
&quot;&quot;&quot;
</code></pre>
<p>Black formats this to</p>
<pre><code class="language-python">class Test:
    &quot;&quot;&quot;
    Black's `Preview.module_docstring_newlines`


    A code black to format
    &quot;&quot;&quot;
</code></pre>
<p>and Ruff formats it to</p>
<pre><code class="language-python">class Test:
    &quot;&quot;&quot;
    Black's `Preview.module_docstring_newlines`


    A code black to format&quot;&quot;&quot;
</code></pre>
<p>Note how the last line gets collapsed.</p>
<p>The relevant logic is in https://github.com/astral-sh/ruff/blob/935b59adaeb7da4d0b21f524d5da46583e779e04/crates/ruff_python_formatter/src/string/docstring.rs#L388-L398</p>
<p>My understanding is that the last line should only be collapsed for docstrings with a single content line:</p>
<p>Collapse</p>
<pre><code class="language-python">class Test:
    &quot;&quot;&quot;Black A code black to format
    
    &quot;&quot;&quot;
</code></pre>
<p>Don't collapse for</p>
<pre><code class="language-python">class Test:
    &quot;&quot;&quot;Black A code black to format
    d
    &quot;&quot;&quot;
</code></pre>
<p>Keep it collapsed when it was collapsed in the source code</p>
<pre><code class="language-python">class Test:
    &quot;&quot;&quot;Black A code black to format
    a&quot;&quot;&quot;
</code></pre>
<p>I suggest that we revert this change and address this issue in its own PR</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-02-02 06:30</div>
            <div class="timeline-body"><p>Nice! I suggest that we revert the changes in <code>docstring.rs</code> and address the &quot;collapse&quot; issue separately because it isn't specific to module docstrings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Glyphack">@Glyphack</a> reviewed on 2024-02-02 22:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Glyphack">@Glyphack</a> on <code>crates/ruff_python_formatter/src/string/docstring.rs</code>:215 on 2024-02-02 22:31</div>
            <div class="timeline-body"><p>I reverted the change just note that the current implementation  would have a different formatting if applied twice in the following example. Just flagging it so if you want we can keep this PR open until that one gets fixed.</p>
<pre><code>&quot;&quot;&quot;
A docstring

.. code-block:: python

    button.on_event(ButtonClick, callback)

&quot;&quot;&quot;

Format once:
&quot;&quot;&quot;
A docstring

.. code-block:: python

    button.on_event(ButtonClick, callback)
&quot;&quot;&quot;

Format twice:
&quot;&quot;&quot;
A docstring

.. code-block:: python

    button.on_event(ButtonClick, callback)&quot;&quot;&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2024-02-05 15:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-02-05 15:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-02-05 16:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 22:58:11 UTC
    </footer>
</body>
</html>
