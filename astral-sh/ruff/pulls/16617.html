<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server: Remove log notification for `printDebugInformation` command - astral-sh/ruff #16617</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Server: Remove log notification for <code>printDebugInformation</code> command</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/16617">#16617</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2025-03-11 04:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body">Summary
<p>For context, the initial implementation started out by sending a log
notification to the client to include this information in the client
channel. This is a bit ineffective because it doesn&#x27;t allow the client
to display this information in a more obvious way. In addition to that,
it isn&#x27;t obvious from a users perspective as to where the information is
being printed unless they actually open the output channel.</p>
<p>The change was to actually return this formatted string that contains
the information and let the client handle how it should display this
information. For example, in the Ruff VS Code extension we open a split
window and show this information which is similar to what rust-analyzer
does.</p>
<p>The notification request was kept as a precaution in case there are
users who are actually utilizing this way. If they exists, it should a
minority as it requires the user to actually dive into the code to
understand how to hook into this notification. With 0.10, we&#x27;re removing
the old way as it only clobbers the output channel with a long message.</p>
<p>fixes: #16225</p>
Test Plan
<p>Tested it out locally that the information is not being logged to the
output channel of VS Code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-11 04:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-11 04:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-03-11 04:47</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-03-11 07:45</div>
            <div class="timeline-body"><p>Thank you</p>
<p>As a note for myself for the changelog.</p>
<p>This is specific to the debug command. Before, the command used to log the information. Now, the command opens a new window in VS code. Other LSP clients would require their own custom handling for this command (e.g. they could just dump the JSON output)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-11 08:22</div>
            <div class="timeline-body"><blockquote>
<p>(e.g. they could just dump the JSON output)</p>
</blockquote>
<p>It might be useful to use the term &quot;string output&quot; instead of JSON if this is a user facing information.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-11 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-11 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-03-11 08:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:12:11 UTC
    </footer>
</body>
</html>
