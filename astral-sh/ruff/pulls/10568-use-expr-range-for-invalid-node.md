```yaml
number: 10568
title: Use expr range for invalid node
type: pull_request
state: merged
author: dhruvmanila
labels:
  - parser
assignees: []
merged: true
base: dhruv/pattern-recovery
head: dhruv/pattern-recovery-4
created_at: 2024-03-25T12:49:22Z
updated_at: 2024-03-25T13:10:15Z
url: https://github.com/astral-sh/ruff/pull/10568
synced_at: 2026-01-10T22:47:02Z
```

# Use expr range for invalid node

---

_Pull request opened by @dhruvmanila on 2024-03-25 12:49_

## Summary

This fixes the bug which I encountered in https://github.com/astral-sh/ruff/pull/10523#issue-2202130102

## Test Plan

Add the failing test case and update the snapshot.


---

_Label `parser` added by @dhruvmanila on 2024-03-25 12:49_

---

_Review requested from @MichaReiser by @dhruvmanila on 2024-03-25 12:49_

---

_Merged by @dhruvmanila on 2024-03-25 12:56_

---

_Closed by @dhruvmanila on 2024-03-25 12:56_

---

_Branch deleted on 2024-03-25 12:56_

---

_Comment by @github-actions[bot] on 2024-03-25 13:10_

<!-- generated-comment ecosystem -->
## `ruff-ecosystem` results
### Linter (stable)
✅ ecosystem check detected no linter changes.

### Linter (preview)
✅ ecosystem check detected no linter changes.

### Formatter (stable)
✅ ecosystem check detected no format changes.

### Formatter (preview)
✅ ecosystem check detected no format changes.




---
