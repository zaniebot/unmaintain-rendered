<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update docs related to file level error suppression - astral-sh/ruff #8366</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update docs related to file level error suppression</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/8366">#8366</a>
        opened by <a href="https://github.com/doolio">@doolio</a>
        on 2023-10-30 20:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/doolio">@doolio</a> on 2023-10-30 20:43</div>
            <div class="timeline-body"><p>Fixes: #8364</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-10-30 20:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/linter.md</code>:230 on 2023-10-30 20:53</div>
            <div class="timeline-body"><p>Perhaps we could say &quot;... add the line <code># ruff: noqa</code> anywhere in the file...&quot; which feels a bit clear than &quot;add a comment on its own line&quot;? Perhaps with another clarifying note at the end of the section saying &quot;Global noqa comments must be on their own line to disambiguate from comments which ignore violations on a single line&quot;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-30 20:53</div>
            <div class="timeline-body"><p>Thank you so much for taking the time to contribute! I'm hoping we can make it a bit clearer, lmk what you think!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @zanieb on 2023-10-30 20:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/doolio">@doolio</a> reviewed on 2023-10-30 21:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/doolio">@doolio</a> on <code>docs/linter.md</code>:230 on 2023-10-30 21:01</div>
            <div class="timeline-body"><p>From my admittedly simple tests (as I'm just learning to program) even the <code># ruff: noqa</code> comment must be on its own line. If it is an inline comment then errors are not ignored. See</p>
<p><img src="https://github.com/astral-sh/ruff/assets/13859009/a4a48f61-73c8-4893-a502-65d4ed421917" alt="image" /></p>
<p>(where the error in lines 2 and 4 is <code>E741 Ambiguous variable name: 'O'</code>, although I don't understand why it is only highlighted on the 'O' and not the 'X' in line 1)</p>
<p>vs</p>
<p><img src="https://github.com/astral-sh/ruff/assets/13859009/6886cad7-bcdb-4e8a-8dcc-96477e675826" alt="image" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-10-30 21:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/linter.md</code>:230 on 2023-10-30 21:20</div>
            <div class="timeline-body"><p>Oh that shouldn't conflict with what I'm suggesting. Ignoring violations on a single line is &quot;add <code># noqa</code> or <code># noqa: RULE</code> to the line&quot; whereas a global violation ignore is adding a new line with <code># ruff: noqa</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/doolio">@doolio</a> reviewed on 2023-10-31 09:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/doolio">@doolio</a> on <code>docs/linter.md</code>:230 on 2023-10-31 09:33</div>
            <div class="timeline-body"><p>I see. I've pushed a new comment to reword the docs as you suggest. Please let me know if you I should make further changes. Should I squash these changes into one commit and rebase onto the latest commit on <code>main</code>?</p>
<p>Edit: Just for my own understanding do you know why no E741 error was not reported for the X variable in my simple example above?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2023-10-31 09:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2023-10-31 14:21</div>
            <div class="timeline-body"><p>Will defer to @zanieb to merge.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-10-31 15:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/linter.md</code>:230 on 2023-10-31 15:56</div>
            <div class="timeline-body"><p>We squash merge so you don't need to do anything with your commits.</p>
<p>I can take a look at that error later today!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/doolio">@doolio</a> on 2023-10-31 17:02</div>
            <div class="timeline-body"><blockquote>
<p><a href="https://github.com/astral-sh/ruff/pull/8366/commits/1b869be7866a82accb95616ac160441b676630f5">Merge branch 'astral-sh:main' into docs-file-level-noqa</a></p>
</blockquote>
<p>I did this in error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-31 17:07</div>
            <div class="timeline-body"><p>You can undo the commit with <code>git reset --hard HEAD^</code> then push with <code>git push --force</code> â€” but there's also no need merging <code>main</code> has no detrimental effect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/doolio">@doolio</a> on 2023-10-31 17:30</div>
            <div class="timeline-body"><p>Thanks. I was concerned I would have screwed up the history for the merge into <code>main</code>. I've done as you suggested if for no reason other than it was a good learning exercise for me!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-10-31 17:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>docs/linter.md</code>:230 on 2023-10-31 17:34</div>
            <div class="timeline-body"><p>re the ambiguous name, &quot;I&quot; and &quot;O&quot; are the only names that are considered ambiguous https://docs.astral.sh/ruff/rules/ambiguous-variable-name/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/doolio">@doolio</a> on <code>docs/linter.md</code>:230 on 2023-10-31 18:04</div>
            <div class="timeline-body"><p>Ah, interesting. Thank you for taking the time to look into this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/doolio">@doolio</a> reviewed on 2023-10-31 18:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2023-10-31 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2023-10-31 18:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-11-07 18:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 02:13:15 UTC
    </footer>
</body>
</html>
