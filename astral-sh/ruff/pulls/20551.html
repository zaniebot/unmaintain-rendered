<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`airflow`] Add warning to `airflow.datasets.DatasetEvent` usage (`AIR301`) - astral-sh/ruff #20551</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>airflow</code>] Add warning to <code>airflow.datasets.DatasetEvent</code> usage (<code>AIR301</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20551">#20551</a>
        opened by <a href="https://github.com/Lee-W">@Lee-W</a>
        on 2025-09-24 13:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-09-24 13:54</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff/ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title? (Please prefix with `[ty]` for ty pull
  requests.)
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<!-- What's the purpose of the change? What does it do, and why? -->

<p><code>airflow.datasets.DatasetEvent</code> has been removed in 3 but <code>AssetEvent</code> might be added in the future</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

<p>update the test fixture and reorg in the second commit</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "feat(AIR301): add airflow.datasets.DatasetEvent" to "[airflow] add warning to `airflow.datasets.DatasetEvent` usage (AIR301)" by @Lee-W on 2025-09-24 13:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-24 14:03</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/rules/removal_in_3.rs</code>:659 on 2025-09-25 20:30</div>
            <div class="timeline-body"><p>nit: I think it might sound a little better to use <code>DatasetEvent</code> or even <code>airflow.datasets.DatasetEvent</code> in the help message instead of starting with <code>It</code>:</p>
<pre><code class="language-suggestion">            &quot;`DatasetEvent` has been made private in Airflow 3. An AssetEvent type will be added to the apache-airflow-task-sdk in a future version.&quot;,
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-09-25 20:34</div>
            <div class="timeline-body"><p>Thanks! Just one nit on the phrasing. More generally, is this an actionable lint for users? It's not really clear (to me at least) how they should respond if the replacement isn't available yet. A few options that come to mind:</p>
<ul>
<li>Don't mention the future replacement</li>
<li>Mention an alternative that can be used now</li>
<li>Wait on adding this lint until the replacement is available</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-09-25 20:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-09-25 23:48</div>
            <div class="timeline-body"><p>We can suggest users to use <code>dict[str, Any]</code> for the time being. and then add the replacement at a later point. WDYT?</p>
<p>I'm good with holding it as well :) it's not that urgent</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-29 21:19</div>
            <div class="timeline-body"><p>Sure, <code>dict[str, Any]</code> sounds good to me! Or we can hold off for now, whichever you prefer :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-10-06 07:21</div>
            <div class="timeline-body"><p>Just updated it! Merging it early would be cool, but I'm fine if we decide to wait. We should be able to have it in the next airflow task SDK release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-10-15 16:19</div>
            <div class="timeline-body"><p>Sounds good, I'm happy to merge this and update it again later :) Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[airflow] add warning to `airflow.datasets.DatasetEvent` usage (AIR301)" to "[`airflow`] Add warning to `airflow.datasets.DatasetEvent` usage (`AIR301`)" by @ntBre on 2025-10-15 16:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ntBre on 2025-10-15 16:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-10-15 16:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-10-16 02:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 17:34:59 UTC
    </footer>
</body>
</html>
