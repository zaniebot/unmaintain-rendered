<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload `ruff` binaries to GitHub release - astral-sh/ruff #2930</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Upload <code>ruff</code> binaries to GitHub release</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/2930">#2930</a>
        opened by <a href="https://github.com/messense">@messense</a>
        on 2023-02-15 16:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/messense">@messense</a> on 2023-02-15 16:52</div>
            <div class="timeline-body"><p>Closes #2330
Closes #2355</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2023-02-15 16:52</div>
            <div class="timeline-body"><p>Example run: https://github.com/messense/ruff/actions/runs/4185930263</p>
<p>Only the last <code>release</code> step isn't tested yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2023-02-15 16:54</div>
            <div class="timeline-body"><p>BTW, added the <code>aarch64-pc-windows-msvc</code> target.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-15 16:55</div>
            <div class="timeline-body"><p>Amazing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">release</span> added by @charliermarsh on 2023-02-15 16:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-02-15 17:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-15 17:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-02-15 17:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>.github/workflows/ruff.yaml</code>:83 on 2023-02-15 17:09</div>
            <div class="timeline-body"><p>Do we need to strip the release binary, like in <code>ripgrep</code>?</p>
<p>https://github.com/BurntSushi/ripgrep/blob/44fb9fce2c1ee1a86c450702ea3ca2952bf6c5a7/.github/workflows/release.yml#L137</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-15 17:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/messense">@messense</a> reviewed on 2023-02-15 17:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/messense">@messense</a> on <code>.github/workflows/ruff.yaml</code>:83 on 2023-02-15 17:15</div>
            <div class="timeline-body"><p>The binary isn't that big, I wouldn't bother strip it just yet, besides strip symbols makes panic backtrace hard to read.</p>
<p>I'd use <code>maturin build --strip</code> to also strip the binary in wheels if we want to strip the release binaries.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-15 17:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>.github/workflows/ruff.yaml</code>:83 on 2023-02-15 17:16</div>
            <div class="timeline-body"><p>Okay cool, sounds good -- I wasn't sure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/messense">@messense</a> on <code>.github/workflows/ruff.yaml</code>:83 on 2023-02-15 17:17</div>
            <div class="timeline-body"><p>https://github.com/charliermarsh/ruff/blob/d8e709648d2fe7c2bd7cf867fda1918bf6f092dc/pyproject.toml#L47</p>
<p>Actually it's already using <code>maturin build --strip</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/messense">@messense</a> reviewed on 2023-02-15 17:17</div>
            <div class="timeline-body"></div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 04:41:34 UTC
    </footer>
</body>
</html>
