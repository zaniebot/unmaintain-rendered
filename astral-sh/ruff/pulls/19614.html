<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Support LSP client settings - astral-sh/ruff #19614</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Support LSP client settings</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/19614">#19614</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2025-07-29 09:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body">Summary
<p>This PR implements support for providing LSP client settings.</p>
<p>The complementary PR in the ty VS Code extension: astral-sh/ty-vscode#106.</p>
<p>Notes for the previous iteration of this PR is in <a href="https://github.com/astral-sh/ruff/pull/19614">astral-sh/ruff#19614</a>#issuecomment-3136477864 (click on &quot;Details&quot;).</p>
<p>Specifically, this PR splits the client settings into 3 distinct groups. Keep in mind that these groups are not visible to the user, they&#x27;re merely an implementation detail. The groups are:</p>
<ol>
<li><code>GlobalOptions</code> - these are the options that are global to the language server and will be the same for all the workspaces that are handled by the server</li>
<li><code>WorkspaceOptions</code> - these are the options that are specific to a workspace and will be applied only when running any logic for that workspace</li>
<li><code>InitializationOptions</code> - these are the options that can be specified during initialization</li>
</ol>
<p>The initialization options are a superset that contains both the global and workspace options flattened into a 1-dimensional structure. This means that the user can specify any and all fields present in <code>GlobalOptions</code> and <code>WorkspaceOptions</code> in the initialization options in addition to the fields that are <em>specific</em> to initialization options.</p>
<p>From the current set of available settings, following are only available during initialization because they are required at that time, are static during the runtime of the server and changing their values require a restart to take effect:</p>
<ul>
<li><code>logLevel</code></li>
<li><code>logFile</code></li>
</ul>
<p>And, following are available under <code>GlobalOptions</code>:</p>
<ul>
<li><code>diagnosticMode</code></li>
</ul>
<p>And, following under <code>WorkspaceOptions</code>:</p>
<ul>
<li><code>disableLanguageServices</code></li>
<li><code>pythonExtension</code> (Python environment information that is populated by the ty VS Code extension)</li>
</ul>
<code>workspace/configuration</code>
<p>This request allows server to ask the client for configuration to a specific workspace. But, this is only supported by the client that has the <code>workspace.configuration</code> client capability set to <code>true</code>. What to do for clients that don&#x27;t support pulling configurations?</p>
<p>In that case, the settings needs to be provided in the initialization options and updating the values of those settings can only be done by restarting the server. With the way this is implemented, this means that if the client does not support pulling workspace configuration then there&#x27;s no way to specify settings specific to a workspace. Earlier, this would&#x27;ve been possible by providing an array of client options with an additional field which specifies which workspace the options belong to but that adds complexity and clients that actually do not support <code>workspace/configuration</code> would usually not support multiple workspaces either.</p>
<p>Now, for the clients that do support this, the server will initiate the request to get the configuration for all the workspaces at the start of the server. Once the server receives these options, it will resolve them for each workspace as follows:</p>
<ol>
<li>Combine the client options sent during initialization with the options specific to the workspace creating the final client options that&#x27;s specific to this workspace</li>
<li>Create a global options by combining the global options from (1) for all workspaces which in turn will also combine the global options sent during initialization</li>
</ol>
<p>The global options are resolved into the global settings and are available on the <code>Session</code> which is initialized with the default global settings. The workspace options are resolved into the workspace settings and are available on the respective <code>Workspace</code>.</p>
<p>The <code>SessionSnapshot</code> contains the global settings while the document snapshot contains the workspace settings. We could add the global settings to the document snapshot but that&#x27;s currently not needed.</p>
Document diagnostic dynamic registration
<p>Currently, the document diagnostic server capability is created based on the <code>diagnosticMode</code> sent during initialization. But, that wouldn&#x27;t provide us with the complete picture. This means the server needs to defer registering the document diagnostic capability at a later point once the settings have been resolved.</p>
<p>This is done using dynamic registration for clients that support it. For clients that do not support dynamic registration for document diagnostic capability, the server advertises itself as always supporting workspace diagnostics and work done progress token.</p>
<p>This dynamic registration now allows us to change the server capability for workspace diagnostics based on the resolved <code>diagnosticMode</code> value. In the future, once <code>workspace/didChangeConfiguration</code> is supported, we can avoid the server restart when users have changed any client settings.</p>
Test Plan
<p>Add integration tests and recorded videos on the user experience in various editors:</p>
VS Code
<p>For VS Code users, the settings experience is unchanged because the extension defines it&#x27;s own interface on how the user can specify the server setting. This means everything is under the <code>ty.*</code> namespace as usual.</p>
<p>https://github.com/user-attachments/assets/c2e5ba5c-7617-406e-a09d-e397ce9c3b93</p>
Zed
<p>For Zed, the settings experience has changed. Users can specify settings during initialization:</p>
<pre><code>{
  &quot;lsp&quot;: {
    &quot;ty&quot;: {
      &quot;initialization_options&quot;: {
        &quot;logLevel&quot;: &quot;debug&quot;,
        &quot;logFile&quot;: &quot;~/.cache/ty.log&quot;,
        &quot;diagnosticMode&quot;: &quot;workspace&quot;,
        &quot;disableLanguageServices&quot;: true
      }
    },
  }
}
</code></pre>
<p>Or, can specify the options under the <code>settings</code> key:</p>
<pre><code>{
  &quot;lsp&quot;: {
    &quot;ty&quot;: {
      &quot;settings&quot;: {
        &quot;ty&quot;: {
          &quot;diagnosticMode&quot;: &quot;openFilesOnly&quot;,
          &quot;disableLanguageServices&quot;: true
        }
      },
      &quot;initialization_options&quot;: {
        &quot;logLevel&quot;: &quot;debug&quot;,
        &quot;logFile&quot;: &quot;~/.cache/ty.log&quot;
      }
    },
  }
}
</code></pre>
<p>The <code>logLevel</code> and <code>logFile</code> setting still needs to go under the initialization options because they&#x27;re required by the server during initialization.</p>
<p>We can remove the nesting of the settings under the &quot;ty&quot; namespace by updating the return type of https://github.com/zed-extensions/ty/blob/db9ea0cdfd7352529748ef5bf729a152c0219805/src/tychecker.rs#L45-L49 to be wrapped inside <code>ty</code> directly so that users can avoid doing the double nesting.</p>
<p>There&#x27;s one issue here which is that if the <code>diagnosticMode</code> is specified in both the initialization option and settings key, then the resolution is a bit different - if either of them is set to be <code>workspace</code>, then it wins which means that in the following configuration, the diagnostic mode is <code>workspace</code>:</p>
<pre><code>{
  &quot;lsp&quot;: {
    &quot;ty&quot;: {
      &quot;settings&quot;: {
        &quot;ty&quot;: {
          &quot;diagnosticMode&quot;: &quot;openFilesOnly&quot;
        }
      },
      &quot;initialization_options&quot;: {
        &quot;diagnosticMode&quot;: &quot;workspace&quot;
      }
    },
  }
}
</code></pre>
<p>This behavior is mainly a result of combining global options from various workspace configuration results. Users should not be able to provide global options in multiple workspaces but that restriction cannot be done on the server side. The ty VS Code extension restricts these global settings to only be set in the user settings and not in workspace settings but we do not control extensions in other editors.</p>
<p>https://github.com/user-attachments/assets/8e2d6c09-18e6-49e5-ab78-6cf942fe1255</p>
Neovim
<p>Same as in Zed.</p>
Other
<p>Other editors that do not support <code>workspace/configuration</code>, the users would need to provide the server settings during initialization.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-07-29 09:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-07-29 09:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-07-29 09:49</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/d4f39b27a4a47aac8b6d4019e1b0b5b3156fabdc/conformance">typing conformance tests</a>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-07-29 09:51</div>
            <div class="timeline-body">

<code>mypy_primer</code> results
<p>No ecosystem changes detected ✅
No memory usage changes detected ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/api/requests/goto_definition.rs</code>:34 on 2025-07-30 08:10</div>
            <div class="timeline-body"><p>I like the new terminology used here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-07-30 08:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/api/requests/workspace_diagnostic.rs</code>:106 on 2025-07-30 08:11</div>
            <div class="timeline-body"><p>What would you think of naming <code>global_settings</code>, <code>window_settings</code> (I&#x27;m okay with global settings. I&#x27;m just wondering if it&#x27;s worth aligning with VS code&#x27;s terminology)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/settings.rs</code>:21 on 2025-07-30 08:18</div>
            <div class="timeline-body"><p>I do find <code>combine</code> on the <code>Settings</code> struct a bit surprsing. The way this works in ty (and uv and ruff) is that you can combine <code>Options</code>. All options are then resolved to a single <code>Settings</code>.</p>
<p>The way this could look like in your PR is that you have a <code>GlobalOptions</code> struct. Each workspace configuration contains a <code>GlobalOptions</code> field and the server can combine all of these together. <code>GlobalOptions</code> then implements an <code>into_settings</code> which resolves any default values.</p>
<p>The benefit of the <code>Options</code> struct is that <code>diagnostic_mode</code> can be an <code>Option&lt;DiagnosticMode&gt;</code>. This allows us to distinguish between: <em>initialize didn&#x27;t set <code>DiagnosticMode</code></em> and <em>the user specified the default <code>DiagnsoticMode</code></em>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/capabilities.rs</code>:252 on 2025-07-30 08:19</div>
            <div class="timeline-body"><p>This feels a bit out of place. The function doesn&#x27;t contain any code related to capabilities</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-30 08:23</div>
            <div class="timeline-body"><p>I like where this is going. It clarifies a lot of the differences!</p>
<blockquote>
<p>One way to improve would be to accept all the settings in initialization options and consider them global settings. Then, if the client supports workspace/configuration request, we can ask the client for workspace specific configuration that would take precedence over the global settings.</p>
</blockquote>
<p>This makes a lot of sense to me and seems more intuitive. Especially given that most editors don&#x27;t support workspaces.</p>
<blockquote>
<p>Here, there are two kinds of settings that options.into_settings will return - GlobalSettings are the ones that are applied globally e.g., ty.diagnosticMode and WorkspaceSettings are the ones that are applied on a per-workspace level e.g., ty.disableLanguageServices.</p>
</blockquote>
<p>I don&#x27;t fully understand this part. I also left an inline comment related to this but I think the structure we want to deserialize into in the workspace configuration handler is one that has two fields: <code>global_options</code> and <code>workspace_options</code> (we can use <code>serde(flatten)</code> to hide this detail from clients). I think this will help clarify which fields are workspace specific vs which fields are global. It also allows you to implement <code>combine</code> on <code>GlobalOptions</code> and not on settings (following the pattern we use in the CLI)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-07-30 08:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-07-30 13:58</div>
            <div class="timeline-body"><p>Notes for the previous iteration:</p>
Details
<p>

<p>This PR adds support for client settings via the <code>workspace/configuration</code> request.</p>
<p>Currently, the settings can only be passed in via the initialization options which are limited because any change to the settings require a server restart to take effect. This is why Micha added the infrastructure to request configuration for a specific workspace via the <code>workspace/configuration</code> request.</p>
<p>This PR implements the point 1, 2, 3 from <a href="https://github.com/astral-sh/ty/issues/82">astral-sh/ty#82</a>#issuecomment-3026608030 i.e.,</p>
<ul>
<li>Create a <code>InitializationOptions</code> that only contains <code>logLevel</code> and <code>logFiles</code>. These are the static options that actually require a server restart to take effect</li>
<li>Start the server initialization process where the server initiates a request to get all workspace configurations via <code>workspace/configuration</code> request endpoint and defers all notifications and requests until the initialization is complete</li>
<li>Once the server receives the response from <code>workspace/configuration</code> request, it initializes the workspace options with the received data</li>
<li>Here, there are two kinds of settings that <code>options.into_settings</code> will return - <code>GlobalSettings</code> are the ones that are applied globally e.g., <code>ty.diagnosticMode</code> and <code>WorkspaceSettings</code> are the ones that are applied on a per-workspace level e.g., <code>ty.disableLanguageServices</code>. Now, the protocol only allows to request configuration specific to a workspace, there&#x27;s no concept of global settings that are dynamic in the spec, so we model that internally using <code>GlobalSettings</code> but this requires taking all the <code>GlobalSettings</code> from all the configured workspaces and combining them. This could result in a mis-match where one workspace has &quot;workspace&quot; diagnostic mode while other has &quot;openFilesOnly&quot; diagnostic mode. In this case, the server should show this mismatch somehow but currently it doesn&#x27;t.</li>
</ul>
<p>This split is recommended in <a href="https://github.com/microsoft/language-server-protocol/issues/567">microsoft/language-server-protocol#567</a> and is also followed by Dart where <a href="https://github.com/dart-lang/sdk/blob/main/pkg/analysis_server/tool/lsp_spec/README.md#initialization-options">initialization options</a> are separate from <a href="https://github.com/dart-lang/sdk/blob/main/pkg/analysis_server/tool/lsp_spec/README.md#client-workspace-configuration">workspace options</a>.</p>
<p>But, there seems to be one issue which is that the way <code>workspace/configuration</code> works is that the client can store these settings in any structure it wants which means that the way the user would need to store the settings might differ from editor to editor. I&#x27;ve provided examples on what it would look like with this PR.</p>
<p>For VS Code:</p>
<pre><code>{
	&quot;ty.logLevel&quot;: &quot;debug&quot;,
	&quot;ty.diagnosticMode&quot;: &quot;workspace&quot;
}
</code></pre>
<p>For Neovim:</p>
<pre><code>{
	settings = {
		diagnosticMode = &quot;workspace&quot;,
	},
	init_options = {
		logLevel = &quot;debug&quot;,
	}
}
</code></pre>
<p>For Zed:</p>
<pre><code>{
  &quot;lsp&quot;: {
    &quot;ty&quot;: {
      &quot;settings&quot;: {
        &quot;ty&quot;: {
          &quot;diagnosticMode&quot;: &quot;openFilesOnly&quot;
        }
      },
	  &quot;initialization_options&quot;: {
		&quot;logLevel&quot;: &quot;debug&quot;
	  }
    }
  }
}
</code></pre>
<p>For Helix:</p>
<pre><code>[language-server.ty.config]
logLevel = &quot;debug&quot;
ty = { diagnosticMode = &quot;workspace&quot; }
</code></pre>
Question
<p>Based on all of the changes that I&#x27;ve made so far and what I&#x27;m observing when using this PR to define the settings in an editor is that this model still seems a bit confusing from a user perspective. One way to improve would be to accept all the settings in initialization options and consider them global settings. Then, if the client supports <code>workspace/configuration</code> request, we can ask the client for workspace specific configuration that would take precedence over the global settings. But, note that some settings like <code>diagnosticMode</code> are still global so a workspace setting cannot override the value of <code>diagnosticMode</code>. We could show a warning if the user has done this.</p>
</p>
 

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-07-30 14:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/api/requests/workspace_diagnostic.rs</code>:106 on 2025-07-30 14:23</div>
            <div class="timeline-body"><p>I&#x27;m not a big fan of <code>window_settings</code> as that seems too specific to VS Code (there are no windows for Neovim :)). I&#x27;ll keep this as global settings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-07-30 14:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/settings.rs</code>:21 on 2025-07-30 14:23</div>
            <div class="timeline-body"><p>Thank you, I&#x27;ve implemented this change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/capabilities.rs</code>:252 on 2025-07-30 14:24</div>
            <div class="timeline-body"><p>It does, the <code>DiagnosticOptions</code> are the server capability for document diagnostic.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-07-30 14:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-04 12:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-04 12:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-04 12:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-04 12:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-05 02:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/api/requests/workspace_symbols.rs</code>:33 on 2025-08-05 04:18</div>
            <div class="timeline-body"><p>We can&#x27;t query this setting because it&#x27;s scope is limited to a specific workspace and these endpoints are for <em>all</em> the workspaces managed by the server i.e., this setting is present under <code>WorkspaceSettings</code> but the <code>SessionSnapshot</code> does not know which workspace is this endpoint for.</p>
<p>I think this is fine because all the workspace related endpoints except for workspace diagnostics are triggered by user explicitly. But, if we do want to enforce this, we could use the settings value from each workspace and act on it accordingly. For example, in workspace symbols, we would skip the workspace if language services are disabled for that workspace:</p>
<pre><code>        // Iterate through all projects in the session
        for db in snapshot.projects() {
			// Find the workspace which this project belongs to
			// Check if language services are enabled or not
			if language_services_disabled {
				continue;
			}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 04:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/sharkdp">@sharkdp</a> removed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-08-05 06:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">great writeup</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-08-05 08:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/api/notifications/did_close.rs</code>:62 on 2025-08-05 08:38</div>
            <div class="timeline-body"><p>I think this now justifies calling <code>session.bump_revision</code> in <code>close_file</code>. Overall, I think it&#x27;s better to all <code>bump_file</code> one time too many than too few times</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:222 on 2025-08-05 08:40</div>
            <div class="timeline-body"><p>Should we call <code>self.session.initialize_workspaces(workspaces_with_options, &amp;client);</code> instead of queing an action?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server.rs</code>:37 on 2025-08-05 08:41</div>
            <div class="timeline-body"><p>Can we use the <code>resolved_client_capabilities</code> from the <code>session</code> instead of storing it both on session and server?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:249 on 2025-08-05 08:43</div>
            <div class="timeline-body"><p>Let&#x27;s add a custom message here in case there is a faulty client (or a client where a user needs to specify this manually).</p>
<p>A custom message at least gives users (and us) a hint what&#x27;s going wrong. This is especially useful in release builds where we strip debug information.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:266 on 2025-08-05 08:44</div>
            <div class="timeline-body"><p>I know it&#x27;s unrelated to your changes, so I&#x27;m okay deferring this. But should we maybe show a pop up if this happens? E.g. could this happen if a user configures zed or neovim incorrectly?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:297 on 2025-08-05 08:44</div>
            <div class="timeline-body"><p>Nice!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:31 on 2025-08-05 08:45</div>
            <div class="timeline-body"><p>These docs are great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:57 on 2025-08-05 08:47</div>
            <div class="timeline-body"><p>Nit: <code>Result&lt;InitializationOptions, (InitializationOptions, serde_json::Eror)&gt;</code> might be more explicit (and Rust will warn if the caller doesn&#x27;t handle the error). I think we could even return <code>Result&lt;InitializationOptions, serde_json::Error&gt;</code> and leave it to the caller to fall back to the default options</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:105 on 2025-08-05 08:49</div>
            <div class="timeline-body"><p>I think you can derive this <code>Combnine</code> implementation, given that <code>GlobalOptions</code> and <code>workspaceOptions</code> implement <code>Combine</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:109 on 2025-08-05 08:51</div>
            <div class="timeline-body"><p>Maybe document this type too. I was a bit surprised that <code>log_level</code> isn&#x27;t part of <code>GlobalOptions</code> but I think the reason is that <code>GlobalOptions</code> stores all non-static options.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:127 on 2025-08-05 08:51</div>
            <div class="timeline-body"><p>You can derive <code>Combine</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:198 on 2025-08-05 08:52</div>
            <div class="timeline-body"><p>You can derive <code>Combine</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:229 on 2025-08-05 08:54</div>
            <div class="timeline-body"><p>Can we add a comment why this is necessary</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:243 on 2025-08-05 08:58</div>
            <div class="timeline-body"><p>I don&#x27;t think this is a correct use of <code>unreachable</code> and we should use <code>panic</code> instead. Non VS code clients could set <code>ty.pythonExtension</code> in the initialization and workspace options and it would deserialize just fine. I&#x27;m also not sure if it&#x27;s worth panicing or if we should just always take the first value that is <code>Some</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:332 on 2025-08-05 08:59</div>
            <div class="timeline-body"><p>Hmm. I&#x27;d rather not have a third <code>Combine</code> trait. Can&#x27;t we use the <code>Combine</code> trait from <code>ty_project</code> directly?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server.rs</code>:58 on 2025-08-05 09:01</div>
            <div class="timeline-body"><p>Nit: This is a pre-existing issue but let&#x27;s maybe use <code>context</code> to add some extra information what&#x27;s failing to deserialize</p>
<pre><code>        } = serde_json::from_value(init_value).context(&quot;Failed to deserialize the `initializationParams`)?;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server.rs</code>:70 on 2025-08-05 09:01</div>
            <div class="timeline-body"><p>I&#x27;d change this to debug or use a proper <code>Display</code> for <code>initialization_options</code>. <code>info</code> level messages are meant for users.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server.rs</code>:77 on 2025-08-05 09:03</div>
            <div class="timeline-body"><p>I&#x27;m inclined to move the &quot;fallback to default&quot; logic here or we risk that we someday return something other than the defaults and forget to adjust the log message.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session.rs</code>:462 on 2025-08-05 09:05</div>
            <div class="timeline-body"><p>Can&#x27;t you call <code>combine</code> directly on <code>combined_global_options</code> (<code>Combine</code> is implemented for <code>Option&lt;T&gt;</code> where <code>T: Combine</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session.rs</code>:542 on 2025-08-05 09:06</div>
            <div class="timeline-body"><p>Nit: We could move the <code>!= CheckMode::AllFiles</code> into <code>set_check_mode</code> method (so that it only sets the new mode if it is different to avoid triggering a new salsa revision)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/tests/e2e/snapshots/e2e__initialize__open_files_diagnostic_registration_via_initialization.snap</code>:1 on 2025-08-05 09:09</div>
            <div class="timeline-body"><p>Should we use inline snapshots for those. They&#x27;re very small</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/tests/e2e/main.rs</code>:229 on 2025-08-05 09:11</div>
            <div class="timeline-body"><p>Maybe use <code>expect</code> or <code>or_else</code> to give the test author more context about what&#x27;s going wrong.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/tests/e2e/main.rs</code>:196 on 2025-08-05 09:12</div>
            <div class="timeline-body"><p>Isn&#x27;t it required that we have one option for each <code>url</code>? What&#x27;s the reason for allowing <code>None</code> for the configuration?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-08-05 09:15</div>
            <div class="timeline-body"><p>This is awesome. Thank you.</p>
<p>The only change I&#x27;d like to see before landing this PR is to deduplicate <code>Combine</code>. We already have two implementations of it (one in ty and one in ruff). I&#x27;d rather avoid a third.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/api/notifications/did_close.rs</code>:62 on 2025-08-05 10:29</div>
            <div class="timeline-body"><p>Yeah, I think that&#x27;s correct and I think it should also be bumped in the virtual file branch. So, closing the virtual file or a file that does not belong to a workspace should refresh the workspace diagnostics because the diagnostics that are from that file should not be present now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/api/notifications/did_close.rs</code>:62 on 2025-08-05 10:31</div>
            <div class="timeline-body"><p>Oh, <code>bump_revision</code> is private to <code>Session</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:222 on 2025-08-05 10:37</div>
            <div class="timeline-body"><p>Ah yeah, I think that&#x27;s possible here. Thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server.rs</code>:37 on 2025-08-05 10:40</div>
            <div class="timeline-body"><p>Yes! I&#x27;ve updated it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:266 on 2025-08-05 10:43</div>
            <div class="timeline-body"><p>Yeah, I think that could happen and it might go unnoticed, I think it&#x27;d be useful to add a popup.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server/main_loop.rs</code>:266 on 2025-08-05 10:46</div>
            <div class="timeline-body"><p>I think it&#x27;d be better as a follow-up instead</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-08-05 10:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/server/api/notifications/did_close.rs</code>:62 on 2025-08-05 10:51</div>
            <div class="timeline-body"><p>We can add it to <code>SEssion::close_file</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 10:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:57 on 2025-08-05 10:55</div>
            <div class="timeline-body"><p>I&#x27;m not sure if either of this is more beneficial mainly because we can only add the trace message once tracing is initialized and we require the initialization options (or the default ones) to initialize the tracing system. This is why I opted to return both the <code>Ok</code> and <code>Err</code> variant explicitly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:105 on 2025-08-05 11:00</div>
            <div class="timeline-body"><p>Do you mean the <code>CombineOptions</code> proc macro defined in <code>ruff_macros</code> ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-08-05 11:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:105 on 2025-08-05 11:06</div>
            <div class="timeline-body"><p>No, it&#x27;s `Combine.</p>
<p>https://github.com/astral-sh/ruff/blob/fd335eb8b7065303193c5d3f04c76bca9da98b35/crates/ty_project/src/metadata/options.rs#L39</p>
<p>Thinking about this more. I think it may require you to move <code>Combine</code> into its own <code>ty_options</code> or <code>ty_combine</code> (or whatever) crate to make the macro work</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:229 on 2025-08-05 11:19</div>
            <div class="timeline-body"><p>I actually have a small doubt about this -- this is mainly to accommodate the fact that users <em>could</em> set <code>diagnosticMode</code> to <code>workspace</code> in one workspace while <code>openFilesOnly</code> in other which isn&#x27;t allowed but it&#x27;s not something that we can enforce at the server level (we could probably check each workspace options before combining). So, the logic here states that <code>self</code> could either be <code>workspace</code> or <code>openFilesOnly</code> but if <code>other</code> is <code>workspace</code> then <code>self</code> should be <code>workspace</code>. This is to make sure that <code>workspace</code> always wins over <code>openFilesOnly</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:229 on 2025-08-05 11:22</div>
            <div class="timeline-body"><p>I&#x27;ve added a comment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:243 on 2025-08-05 11:24</div>
            <div class="timeline-body"><p>I think this path will only be taken when <em>both</em> are <code>Some</code>, so I&#x27;m not sure what would &quot;take the first value that is <code>Some</code>&quot; look like. We could add a debug message and take the one from <code>self</code> but unless the user looks at the code (ty server or ty VS Code extension) they wouldn&#x27;t know that something like this is possible.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:332 on 2025-08-05 11:26</div>
            <div class="timeline-body"><p>Ah yes, we can use that, I did not see it was present in <code>ty_project</code>, I only saw the one in <code>ruff_server</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server.rs</code>:70 on 2025-08-05 11:29</div>
            <div class="timeline-body"><p>Yeah, I&#x27;ve converted to <code>debug</code> for now but it might be useful to have the <code>display_settings</code> macro available by moving it out of <code>ruff_linter</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/server.rs</code>:77 on 2025-08-05 11:31</div>
            <div class="timeline-body"><p>That sounds reasonable. I&#x27;ve also moved the initialization options debug message after this so that it reads better and we can see whether the options were deserialized successfully or not before actually looking at the options:</p>
<p>Failed to deserialize ...
Initialization options: ...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session.rs</code>:462 on 2025-08-05 11:32</div>
            <div class="timeline-body"><p>Ah yes, I&#x27;m slowly getting used to the &quot;combine&quot; logic...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session.rs</code>:542 on 2025-08-05 11:34</div>
            <div class="timeline-body"><p>Yeah, I think that&#x27;s better and now that I realize it it&#x27;s more inline with some of the other values that are updated (e.g., on <code>File</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/tests/e2e/snapshots/e2e__initialize__open_files_diagnostic_registration_via_initialization.snap</code>:1 on 2025-08-05 11:37</div>
            <div class="timeline-body"><p>Yeah, good idea, I&#x27;ll update it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/tests/e2e/main.rs</code>:196 on 2025-08-05 11:38</div>
            <div class="timeline-body"><p>It&#x27;s not a requirement for the storage part on the client side but it&#x27;s a requirement when responding to the server which is handled by the <code>handle_workspace_configuration_request</code> method.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/tests/e2e/main.rs</code>:229 on 2025-08-05 11:40</div>
            <div class="timeline-body"><p>I&#x27;m using <code>.context</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-08-05 11:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ty_server/src/session/options.rs</code>:105 on 2025-08-05 11:47</div>
            <div class="timeline-body"><p>Hmm, yeah. I&#x27;ll move it to the <code>ty_combine</code> crate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-05 11:53</div>
            <div class="timeline-body"><p>(I&#x27;ve addressed most of the feedback, I need to address a couple more but I need to go out for sometime, will do it once I&#x27;m back.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-06 05:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/carljm">@carljm</a> removed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-06 05:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/dcreager">@dcreager</a> removed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-06 05:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/AlexWaygood">@AlexWaygood</a> removed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-06 05:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-08-06 05:25</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>✅ ecosystem check detected no linter changes.</p>
Formatter (stable)
<p>✅ ecosystem check detected no format changes.</p>
Formatter (preview)
<p>✅ ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-06 13:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-08-06 13:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-08-06 13:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:17:08 UTC
    </footer>
</body>
</html>
