<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Make `variance_of` logging `trace` only - astral-sh/ruff #21339</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Make <code>variance_of</code> logging <code>trace</code> only</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21339">#21339</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-11-08 14:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body">Summary
<p><code>debug</code> level logs are intended to be user facing and should fit on a single line.</p>
<p>The <code>variance_of</code> logs can get extremelly long and aren&#x27;t very useful to users. That&#x27;s why I change
the verbosity to <code>trace</code> for both <code>variance_of</code> tracing calls</p>
<p>Here&#x27;s an example of a <code>variance_of</code> log:</p>
<pre><code>2025-11-08 15:01:35.276541000 DEBUG request{id=12 method=&quot;workspace/diagnostic&quot;}:Project::check:check_file{file=file(Id(1407))}: Checking variance of `_PWrapper` in `Signature { generic_context: Some(GenericContext { variables_inner: {BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;Self&quot;), definition: Some(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }), kind: TypingSelf }, binding_context: Definition(Definition { [salsa id]: Id(3e6a7), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(15), place: Symbol(ScopedSymbolId(6)), kind: Function(AstNodeRef { kind: StmtFunctionDef, range: 5998..6085 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;Self&quot;), definition: Some(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }), kind: TypingSelf }, _bound_or_constraints: Some(Eager(UpperBound(NominalInstance(NominalInstanceType(NonTuple(Generic(GenericAlias { origin: ClassLiteral { name: Name(&quot;_Wrapped&quot;), body_scope: ScopeId { [salsa id]: Id(3e096), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope_id: FileScopeId(15) }, known: None, deprecated: None, type_check_only: true, dataclass_params: None, dataclass_transformer_params: None }, specialization: Specialization { generic_context: GenericContext { variables_inner: {BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_PWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e671), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(27)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 826..848 }, target: AstNodeRef { kind: ExprName, range: 814..823 } }), is_reexported: true }), kind: ParamSpec }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e671), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(27)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 826..848 }, target: AstNodeRef { kind: ExprName, range: 814..823 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }, BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_RWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e672), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(28)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 861..881 }, target: AstNodeRef { kind: ExprName, range: 849..858 } }), is_reexported: true }), kind: Legacy }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e672), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(28)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 861..881 }, target: AstNodeRef { kind: ExprName, range: 849..858 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }, BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_PWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e673), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(29)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 894..916 }, target: AstNodeRef { kind: ExprName, range: 882..891 } }), is_reexported: true }), kind: ParamSpec }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e673), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(29)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 894..916 }, target: AstNodeRef { kind: ExprName, range: 882..891 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }, BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }} }, types: [TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e671), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(27)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 826..848 }, target: AstNodeRef { kind: ExprName, range: 814..823 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }), TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e672), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(28)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 861..881 }, target: AstNodeRef { kind: ExprName, range: 849..858 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }), TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e673), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(29)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 894..916 }, target: AstNodeRef { kind: ExprName, range: 882..891 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }), TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) })], materialization_kind: None, tuple_inner: None } }))))))), explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6a7), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(15), place: Symbol(ScopedSymbolId(6)), kind: Function(AstNodeRef { kind: StmtFunctionDef, range: 5998..6085 }), is_reexported: true }) }, should_promote_literals: false }} }), definition: Some(Definition { [salsa id]: Id(3e6a7), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(15), place: Symbol(ScopedSymbolId(6)), kind: Function(AstNodeRef { kind: StmtFunctionDef, range: 5998..6085 }), is_reexported: true }), parameters: Parameters { value: [Parameter { annotated_type: Some(TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;Self&quot;), definition: Some(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }), kind: TypingSelf }, _bound_or_constraints: Some(Eager(UpperBound(NominalInstance(NominalInstanceType(NonTuple(Generic(GenericAlias { origin: ClassLiteral { name: Name(&quot;_Wrapped&quot;), body_scope: ScopeId { [salsa id]: Id(3e096), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope_id: FileScopeId(15) }, known: None, deprecated: None, type_check_only: true, dataclass_params: None, dataclass_transformer_params: None }, specialization: Specialization { generic_context: GenericContext { variables_inner: {BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_PWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e671), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(27)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 826..848 }, target: AstNodeRef { kind: ExprName, range: 814..823 } }), is_reexported: true }), kind: ParamSpec }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e671), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(27)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 826..848 }, target: AstNodeRef { kind: ExprName, range: 814..823 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }, BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_RWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e672), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(28)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 861..881 }, target: AstNodeRef { kind: ExprName, range: 849..858 } }), is_reexported: true }), kind: Legacy }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e672), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(28)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 861..881 }, target: AstNodeRef { kind: ExprName, range: 849..858 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }, BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_PWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e673), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(29)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 894..916 }, target: AstNodeRef { kind: ExprName, range: 882..891 } }), is_reexported: true }), kind: ParamSpec }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e673), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(29)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 894..916 }, target: AstNodeRef { kind: ExprName, range: 882..891 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }, BoundTypeVarIdentity { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }: GenericContextTypeVar { bound_typevar: BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }, should_promote_literals: false }} }, types: [TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e671), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(27)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 826..848 }, target: AstNodeRef { kind: ExprName, range: 814..823 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }), TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapped&quot;), definition: Some(Definition { [salsa id]: Id(3e672), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(28)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 861..881 }, target: AstNodeRef { kind: ExprName, range: 849..858 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }), TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_PWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e673), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(29)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 894..916 }, target: AstNodeRef { kind: ExprName, range: 882..891 } }), is_reexported: true }), kind: ParamSpec }, _bound_or_constraints: None, explicit_variance: None, _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) }), TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) })], materialization_kind: None, tuple_inner: None } }))))))), explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6a7), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(15), place: Symbol(ScopedSymbolId(6)), kind: Function(AstNodeRef { kind: StmtFunctionDef, range: 5998..6085 }), is_reexported: true }) })), inferred_annotation: true, kind: PositionalOrKeyword { name: Name(&quot;self&quot;), default_type: None }, form: Value }, Parameter { annotated_type: Some(Dynamic(Todo(TodoType(&quot;ParamSpecArgs / ParamSpecKwargs&quot;)))), inferred_annotation: false, kind: Variadic { name: Name(&quot;args&quot;) }, form: Value }, Parameter { annotated_type: Some(Dynamic(Todo(TodoType(&quot;ParamSpecArgs / ParamSpecKwargs&quot;)))), inferred_annotation: false, kind: KeywordVariadic { name: Name(&quot;kwargs&quot;) }, form: Value }], is_gradual: false }, return_ty: Some(TypeVar(BoundTypeVarInstance { typevar: TypeVarInstance { identity: TypeVarIdentity { name: Name(&quot;_RWrapper&quot;), definition: Some(Definition { [salsa id]: Id(3e674), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(30)), kind: Assignment(AssignmentDefinitionKind { target_kind: Single, value: AstNodeRef { kind: ExprCall, range: 929..949 }, target: AstNodeRef { kind: ExprName, range: 917..926 } }), is_reexported: true }), kind: Legacy }, _bound_or_constraints: None, explicit_variance: Some(Invariant), _default: None }, binding_context: Definition(Definition { [salsa id]: Id(3e6aa), file: File(Vendored(VendoredPathBuf(&quot;stdlib/functools.pyi&quot;))), file_scope: FileScopeId(0), place: Symbol(ScopedSymbolId(41)), kind: Class(AstNodeRef { kind: StmtClassDef, range: 5860..6194 }), is_reexported: true }) })) }`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-11-08 14:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-11-08 14:07</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-11-08 14:08</div>
            <div class="timeline-body">

<code>mypy_primer</code> results
<p>No ecosystem changes detected ✅</p>
<p>No memory usage changes detected ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-08 14:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-08 14:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:20:21 UTC
    </footer>
</body>
</html>
