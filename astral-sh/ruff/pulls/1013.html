<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement U016: Remove six compatibility code - astral-sh/ruff #1013</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement U016: Remove six compatibility code</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/1013">#1013</a>
        opened by <a href="https://github.com/martinlehoux">@martinlehoux</a>
        on 2022-12-03 14:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/martinlehoux">@martinlehoux</a> on 2022-12-03 14:18</div>
            <div class="timeline-body"><ul>
<li>#827</li>
<li>There are still a few things to fix, but I've been holding onto this one for too long</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on 2022-12-03 14:19</div>
            <div class="timeline-body"><p>@charliermarsh FYI</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:80 on 2022-12-03 15:23</div>
            <div class="timeline-body"><p>We should probably correct this one to <code>next(iter(dct.items()))</code> (right now it's <code>next(dct.items())</code>) before merging.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2022-12-03 15:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:77 on 2022-12-03 15:23</div>
            <div class="timeline-body"><p>If you want to punt on the class conversions before merging, that's fine.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2022-12-03 15:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2022-12-03 15:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:80 on 2022-12-03 15:32</div>
            <div class="timeline-body"><p>Are you up for that @martinlehoux?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2022-12-03 15:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>src/pyupgrade/plugins/remove_six_compat.rs</code>:26 on 2022-12-03 15:33</div>
            <div class="timeline-body"><p>@martinlehoux - Were these intentionally returning single-element tuples?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-05 07:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>src/pyupgrade/plugins/remove_six_compat.rs</code>:26 on 2022-12-05 07:50</div>
            <div class="timeline-body"><p>No I guess you're right!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:77 on 2022-12-05 07:50</div>
            <div class="timeline-body"><p>I'll have a try today, I'll let you know if I can address this</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-05 07:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-05 07:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:80 on 2022-12-05 07:52</div>
            <div class="timeline-body"><p>Do you have any advice on how I could do that?</p>
<p>I guess going through the LST is done from higher level to lower level, so if I rewrite <code>next(six.iteritems(dct))</code> to <code>next(iter(dct.items()))</code>, then there won't be a &quot;lower level&quot; issue to fix (what is getting fixed today)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>src/pyupgrade/plugins/remove_six_compat.rs</code>:26 on 2022-12-05 07:58</div>
            <div class="timeline-body"><p>Okay I dodn't see you made this change when I answered. I must say I don't have any background on <code>six</code> usage, but I took the examples from pyupgrade as test, so Iguess yes, it was intentional to have single element tuples.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-05 07:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-05 07:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>src/pyupgrade/plugins/remove_six_compat.rs</code>:26 on 2022-12-05 07:59</div>
            <div class="timeline-body"><pre><code>&gt;&gt;&gt; import six
&gt;&gt;&gt; six.class_types
(&lt;class 'type'&gt;,)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:80 on 2022-12-14 18:39</div>
            <div class="timeline-body"><p>seems to work</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-14 18:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlehoux">@martinlehoux</a> reviewed on 2022-12-14 18:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on <code>resources/test/fixtures/pyupgrade/U016.py</code>:77 on 2022-12-14 18:40</div>
            <div class="timeline-body"><p>Sorry I didn't take the time, let's merge this one before and then I'll get on classes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlehoux">@martinlehoux</a> on 2022-12-14 18:48</div>
            <div class="timeline-body"><p>@charliermarsh Looks good to me now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2022-12-15 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-15 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-02-28 18:07</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 04:41:31 UTC
    </footer>
</body>
</html>
