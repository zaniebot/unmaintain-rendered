<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document range suppressions, reorganize suppression docs - astral-sh/ruff #21884</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Document range suppressions, reorganize suppression docs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21884">#21884</a>
        opened by <a href="https://github.com/amyreese">@amyreese</a>
        on 2025-12-10 02:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/amyreese">@amyreese</a></div>
            <div class="timeline-body"><ul>
<li><strong>Reorganize suppression documentation, document range suppressions</strong></li>
<li><strong>Note preview mode requirement</strong></li>
</ul>
<p>Issue #21874, #3711</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @amyreese on 2025-12-10 02:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">suppression</span> added by @amyreese on 2025-12-10 02:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @ntBre by @amyreese on 2025-12-10 03:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @amyreese on 2025-12-10 03:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/linter.md</code>:405 on 2025-12-10 16:01</div>
            <div class="timeline-body"><p>I think we allow trailing commas</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-12-10 16:02</div>
            <div class="timeline-body"><p>This is great.</p>
<p>It's a bit unfortunate that we can't land this before you added the new rule. We could consider omitting the mentions or sections mentioning the rule for now and add that later if you want to land this sooner.</p>
<p>Can you add a screenshot to how the new documentation looks in the browser? I'm mainly interested in seeing the navigation bar</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-12-10 16:28</div>
            <div class="timeline-body"><p><img width="2474" height="2598" alt="Screenshot 2025-12-10 at 08-27-15 The Ruff Linter Ruff" src="https://github.com/user-attachments/assets/2c0b4ad9-69c5-418a-a444-b27b58aad100" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/amyreese">@amyreese</a> reviewed on 2025-12-10 16:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/amyreese">@amyreese</a> on <code>docs/linter.md</code>:405 on 2025-12-10 16:30</div>
            <div class="timeline-body"><p>Good point</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>docs/linter.md</code>:386 on 2025-12-10 16:32</div>
            <div class="timeline-body"><pre><code class="language-suggestion">It is strongly suggested to use explicit range suppressions, in order to prevent
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>docs/linter.md</code>:391 on 2025-12-10 16:34</div>
            <div class="timeline-body"><pre><code class="language-suggestion">Range suppressions cannot be used to enable or select rules that aren't already
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>docs/linter.md</code>:446 on 2025-12-10 16:36</div>
            <div class="timeline-body"><p>I think I very slightly preferred calling them <code>suppression comments</code>, but I'm happy either way.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>docs/linter.md</code>:441 on 2025-12-10 16:37</div>
            <div class="timeline-body"><p>Do you think it's worth emphasizing <code>--extend-select</code> here explicitly in the text? Since it's otherwise easy to use <code>--select</code> accidentally and delete all your comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-12-10 16:38</div>
            <div class="timeline-body"><p>Nice!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-10 16:38</div>
            <div class="timeline-body"><p>The three-layer deep repetition of Suppressions in the navigation isn't great but I'm not sure if I like omitting it from <code>Inline</code>, <code>File</code>, <code>Range</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-12-10 16:45</div>
            <div class="timeline-body"><blockquote>
<p>The three-layer deep repetition of Suppressions in the navigation isn't great but I'm not sure if I like omitting it from <code>Inline</code>, <code>File</code>, <code>Range</code></p>
</blockquote>
<p>How about renaming the &quot;Suppression Comments&quot; section to &quot;Comment Directives&quot; instead?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-10 16:50</div>
            <div class="timeline-body"><blockquote>
<p>How about renaming the &quot;Suppression Comments&quot; section to &quot;Comment Directives&quot; instead?</p>
</blockquote>
<p>I think I'd lean towards just calling it <code>Comments</code> and then use <code>file-level</code>, <code>line-level</code>, <code>block-level</code> as the subheadings similar to pyright https://microsoft.github.io/pyright/#/comments</p>
<p>The reason why I wouldn't use Directives is because it introduces an entirely new term that I don't think we use anywhere else (we sometimes use the term pragma comments but not sure if only on isuses or also in the documentation)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/amyreese">@amyreese</a> reviewed on 2025-12-10 18:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/amyreese">@amyreese</a> on <code>docs/linter.md</code>:446 on 2025-12-10 18:13</div>
            <div class="timeline-body"><p>I mostly dropped the &quot;comments&quot; part so that the header wouldn't wrap in the sidebar, but I can put it back ðŸ˜…</p>
<p>Edit: oh, and it also had better consistency with the title above it, &quot;Detecting unused suppressions&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-12-10 18:20</div>
            <div class="timeline-body"><p>Updated headers and typos, and clarified ruff flag usage, moving the full commands into separate boxes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-12-10 18:21</div>
            <div class="timeline-body"><p><img width="2474" height="2598" alt="Screenshot 2025-12-10 at 10-21-36 The Ruff Linter Ruff" src="https://github.com/user-attachments/assets/42eb42ad-d4a9-4167-995d-b8f29ef0a11d" /></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-12-11 01:15</div>
            <div class="timeline-body"><blockquote>
<p>It's a bit unfortunate that we can't land this before you added the new rule. We could consider omitting the mentions or sections mentioning the rule for now and add that later if you want to land this sooner.</p>
</blockquote>
<p>Would it be enough to pull out and land this commit from #21908 to define the RUF103 and RUF104 rules, even if they were never triggered, or just defer this part of the docs until that other PR is landed?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-11 08:31</div>
            <div class="timeline-body"><blockquote>
<p>Would it be enough to pull out and land this commit from https://github.com/astral-sh/ruff/pull/21908 to define the RUF103 and RUF104 rules, even if they were never triggered, or just defer this part of the docs until that other PR is landed?</p>
</blockquote>
<p>It's a bit misleading to have rules that simply do nothing. It's also fine to wait for the rule PR to merge. It's very unlikely that you get merge conflicts on this branch</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @amyreese on 2025-12-11 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @amyreese on 2025-12-11 19:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-12-11 19:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:17:57 UTC
    </footer>
</body>
</html>
