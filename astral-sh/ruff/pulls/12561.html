<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commit the lockfile for `fuzz` crate - astral-sh/ruff #12561</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Commit the lockfile for <code>fuzz</code> crate</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/12561">#12561</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2024-07-29 04:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body">Summary
<p>This PR adds the <code>Cargo.lock</code> file back to the <code>fuzz</code> crate.</p>
<p>I&#x27;m not exactly sure why this was removed in <a href="https://github.com/astral-sh/ruff/pull/5008">astral-sh/ruff#5008</a> but I suspect that it causes problems in upgrading the dependencies (<a href="https://github.com/astral-sh/ruff/pull/12558">astral-sh/ruff#12558</a>).</p>
<p>I generated the lockfile using:</p>
<pre><code>cargo generate-lockfile --manifest-path fuzz/Cargo.toml
</code></pre>
<p>Another way which produces the same lockfile:</p>
<pre><code>cargo update --manifest-path fuzz/Cargo.toml
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-29 04:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-29 05:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-29 06:18</div>
            <div class="timeline-body"><p>Hmm not sure. I could see that re-adding the lock file could be annoying because we then have to update two lock files whenever we change any dependency (once in Ruff, and once in the fuzzer). Maybe we should just tweak renovate to not update the fuzzer project?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-29 07:16</div>
            <div class="timeline-body"><blockquote>
<p>I could see that re-adding the lock file could be annoying because we then have to update two lock files whenever we change any dependency (once in Ruff, and once in the fuzzer).</p>
</blockquote>
<p>Wouldn&#x27;t Renovate update both of them which is what it&#x27;s doing in <a href="https://github.com/astral-sh/ruff/pull/12558">astral-sh/ruff#12558</a>? Or, is your concern related to local development?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-07-29 09:25</div>
            <div class="timeline-body"><p>My concern is about local development and I&#x27;m not sure how important a lockfile is for <code>fuzz</code>, because we don&#x27;t ship it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-30 02:47</div>
            <div class="timeline-body"><blockquote>
<p>My concern is about local development and I&#x27;m not sure how important a lockfile is for <code>fuzz</code>, because we don&#x27;t ship it.</p>
</blockquote>
<p>Yeah, makes sense.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-30 02:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:05:33 UTC
    </footer>
</body>
</html>
