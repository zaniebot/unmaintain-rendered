<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stabilize `pytest-warns-without-warning (PT029)` - astral-sh/ruff #18848</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Stabilize <code>pytest-warns-without-warning (PT029)</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/18848">#18848</a>
        opened by <a href="https://github.com/harupy">@harupy</a>
        on 2025-06-21 08:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/harupy">@harupy</a> on 2025-06-21 08:07</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff/ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title? (Please prefix with `[ty]` for ty pull
  requests.)
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<!-- What's the purpose of the change? What does it do, and why? -->

<p>PT030 and PT031 (added by #15444) were stabilized in v0.12. PT029 also should be stabilized. Noticed this while running ruff v0.12.0</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

<p>Existing checks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-06-21 08:16</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+10 -0 violations, +0 -0 fixes in 3 projects; 52 projects unchanged)</p>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/fdd9fc1c536cc8e08cf40174081467a739859237/airflow-core/tests/unit/datasets/test_dataset.py#L76'>airflow-core/tests/unit/datasets/test_dataset.py:76:10:</a> PT029 Set the expected warning in `pytest.warns()`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>

<pre>
+ <a href='https://github.com/pandas-dev/pandas/blob/592a41a1a504af38f235557b2a1b16228d8eda0a/pandas/tests/copy_view/test_chained_assignment_deprecation.py#L20'>pandas/tests/copy_view/test_chained_assignment_deprecation.py:20:10:</a> PT029 Set the expected warning in `pytest.warns()`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/astropy/astropy">astropy/astropy</a> (+8 -0 violations, +0 -0 fixes)</summary>
<p>

<pre>
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/io/ascii/tests/test_c_reader.py#L1175'>astropy/io/ascii/tests/test_c_reader.py:1175:15:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/io/ascii/tests/test_c_reader.py#L1281'>astropy/io/ascii/tests/test_c_reader.py:1281:15:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/io/ascii/tests/test_c_reader.py#L1288'>astropy/io/ascii/tests/test_c_reader.py:1288:19:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/io/ascii/tests/test_c_reader.py#L1352'>astropy/io/ascii/tests/test_c_reader.py:1352:10:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/io/ascii/tests/test_c_reader.py#L1363'>astropy/io/ascii/tests/test_c_reader.py:1363:10:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/io/fits/hdu/compressed/tests/test_compressed.py#L505'>astropy/io/fits/hdu/compressed/tests/test_compressed.py:505:18:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/wcs/tests/test_profiling.py#L72'>astropy/wcs/tests/test_profiling.py:72:10:</a> PT029 Set the expected warning in `pytest.warns()`
+ <a href='https://github.com/astropy/astropy/blob/e48dd1c64b2433965363c7aa1d1ac19d70a93f28/astropy/wcs/tests/test_utils.py#L802'>astropy/wcs/tests/test_utils.py:802:15:</a> PT029 Set the expected warning in `pytest.warns()`
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PT029 | 10 | 10 | 0 | 0 | 0 |</p>
</p>
</details>

<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "v0.13" by @MichaReiser on 2025-06-21 15:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-21 15:28</div>
            <div class="timeline-body"><p>Thank you, but we can't merge this before v0.13</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harupy">@harupy</a> on 2025-06-22 08:41</div>
            <div class="timeline-body"><p>@MichaReiser  Thanks for the comment.</p>
<blockquote>
<p>Thank you, but we can't merge this before v0.13</p>
</blockquote>
<p>because rule stabilization is only allowed in a minor version release?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-06-22 13:14</div>
            <div class="timeline-body"><p>Yes, we can't stabilize rules in patch releases</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-06-23 11:43</div>
            <div class="timeline-body"><p>We considered stabilizing PT029 in 0.12, but realized it might be outdated and actually better to deprecate it. See https://github.com/astral-sh/ruff/issues/18597 and https://github.com/astral-sh/ruff/pull/18567.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/harupy">@harupy</a> on 2025-06-23 12:11</div>
            <div class="timeline-body"><p>@ntBre Deprecating PT029 makes sense :) Let me close this PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @harupy on 2025-06-23 12:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 18:39:36 UTC
    </footer>
</body>
</html>
