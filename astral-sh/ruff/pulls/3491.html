<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a `--no-parallel` command-line flag - astral-sh/ruff #3491</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add a <code>--no-parallel</code> command-line flag</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/3491">#3491</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-03-13 20:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body">Summary
<p>Right now, it&#x27;s tough to debug panics, since we always run in parallel, and we don&#x27;t show users the checked files as we go (and we don&#x27;t catch-and-report panics). You can turn off parallelism with the <code>RAYON_NUM_THREADS=1</code> environment variable, but this PR adds a CLI argument for convenience. It&#x27;s not exposed in <code>--help</code>, since I see this as an advanced flag for debugging only, but I could be convinced to expose it...</p>
<p>Closes: #3423.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-13 20:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/konstin">@konstin</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-13 20:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-03-13 20:41</div>
            <div class="timeline-body"><p>Is this a common ask of users that the rayon env variable isn&#x27;t sufficient? I hope ruff users don&#x27;t need to fix panics ðŸ˜…</p>
<p>If they do, then catching panics on a per file level and logging the filename in the diagnostic could be more approachable than having a hidden option and asking users to manually go through logs</p>
<p>I would prefer a more generic option, e.g a debug option, that changes ruff&#x27;s behavior overall to help pinpoint issues</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-03-13 20:44</div>
            <div class="timeline-body"><p>âœ… ecosystem check detected no changes.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-13 20:49</div>
            <div class="timeline-body"><p>Mmm, that&#x27;s fair! I&#x27;ll close this out.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-03-13 20:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:52:45 UTC
    </footer>
</body>
</html>
