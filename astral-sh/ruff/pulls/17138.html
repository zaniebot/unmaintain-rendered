<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement `Invalid rule provided` as rule RUF102 with `--fix` - astral-sh/ruff #17138</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement <code>Invalid rule provided</code> as rule RUF102 with <code>--fix</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17138">#17138</a>
        opened by <a href="https://github.com/maxmynter">@maxmynter</a>
        on 2025-04-02 03:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a></div>
            <div class="timeline-body">

<p>Closes #17084</p>
Summary
<p>This PR adds a new rule (RUF102) to detect and fix invalid rule codes in <code>noqa</code> comments.
Invalid rule codes in <code>noqa</code> directives serve no purpose and may indicate outdated code suppressions.</p>
<p>This extends the previous behaviour originating from <code>crates/ruff_linter/src/noqa.rs</code> which would only emit a warnigs.
With this rule a <code>--fix</code> is available.</p>
<p>The rule:</p>
<ol>
<li>Analyzes all <code>noqa</code> directives to identify invalid rule codes</li>
<li>Provides autofix functionality to:<ul>
<li>Remove the entire comment if all codes are invalid</li>
<li>Remove only the invalid codes when mixed with valid codes</li>
</ul>
</li>
<li>Preserves original comment formatting and whitespace where possible</li>
</ol>
<p>Example cases:</p>
<ul>
<li><code># noqa: XYZ111</code> → Remove entire comment (keep empty line)</li>
<li><code># noqa: XYZ222, XYZ333</code> → Remove entire comment (keep empty line)</li>
<li><code># noqa: F401, INVALID123</code> → Keep only valid codes (<code># noqa: F401</code>)</li>
</ul>
Test Plan
<ul>
<li>Added tests in <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF102.py</code> covering different example cases.</li>
</ul>


Notes
<ul>
<li>This does not handle cases where parsing fails. E.g. <code># noqa: NON_EXISTENT, ANOTHER_INVALID</code> causes a <code>LexicalError</code> and the diagnostic is not propagated and we cannot handle the diagnostic. I am also unsure what proper <code>fix</code> handling would be and making the user aware we don&#x27;t understand the codes is probably the best bet.</li>
<li>The rule is added to the Preview rule group as it&#x27;s a new addition</li>
</ul>
Questions
<ul>
<li>Should we remove the warnings, now that we have a rule?</li>
<li>Is the current fix behavior appropriate for all cases, particularly the handling of whitespace and line deletions?</li>
<li>I&#x27;m new to the codebase; let me know if there are rule utilities which could have used but didn&#x27;t.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-02 03:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-02 03:27</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+2 -0 violations, +0 -0 fixes in 1 projects; 54 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/airflow/blob/ba0d3cd77331d27f39d7e69748c8a0865daf9b87/providers/edge/src/airflow/providers/edge/worker_api/auth.py#L34">providers/edge/src/airflow/providers/edge/worker_api/auth.py:34:78:</a> RUF102 [*] Invalid rule code in `# noqa`: TCH001
+ <a href="https://github.com/apache/airflow/blob/ba0d3cd77331d27f39d7e69748c8a0865daf9b87/providers/edge/src/airflow/providers/edge/worker_api/datamodels.py#L28">providers/edge/src/airflow/providers/edge/worker_api/datamodels.py:28:72:</a> RUF102 [*] Invalid rule code in `# noqa`: TCH001
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| RUF102 | 2 | 2 | 0 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-02 03:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/ruff/mod.rs</code>:318 on 2025-04-02 03:32</div>
            <div class="timeline-body"><p>Can this be part of the general <code>rules</code> test up above?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-02 03:46</div>
            <div class="timeline-body"><p>Sorry for the CI issues, I thought that clippy runs with checking the pre-commit hooks.</p>
<p>~~I thought I generated the docs with <code>cargo dev generate-all</code> and they are in the comment in the rule file. Am I supposed to do that differently?~~
Edit: I missed a <code>#</code> and had the wrong header level in the docstring. It should work now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-02 06:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:59 on 2025-04-02 06:44</div>
            <div class="timeline-body"><p>Having to always collect all codes only to be able to generate the fix isn&#x27;t ideal for performance (this requires a fair amount of writes).</p>
<p>I&#x27;d rewrite this to only track if all codes are invalid and then re-iterate over the noqa codes when generating the fix and skip over the known invalid codes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:102 on 2025-04-02 06:46</div>
            <div class="timeline-body"><p>Does this work with <code># test # noqa: invalid</code>? Could we use <code>line.directive.range</code> (assuming <code>directive</code> is the <code>Codes</code> variant) here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:63 on 2025-04-02 06:46</div>
            <div class="timeline-body"><p>Can you test that this rule respects https://docs.astral.sh/ruff/settings/#lint_external</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:146 on 2025-04-02 06:48</div>
            <div class="timeline-body"><p>Nit: I think there&#x27;s a <code>split_at(prefix_end)</code> method that gives you both the before and after parts</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:151 on 2025-04-02 06:49</div>
            <div class="timeline-body"><p>This will panic if there is any non-ASCII whitespace because you pass the character count instead of the length in bytes. You&#x27;ll have to use find or similar to find the end.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> requested changes on 2025-04-02 06:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-02 16:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:102 on 2025-04-02 16:04</div>
            <div class="timeline-body"><p>Thanks for the directive suggestion. It&#x27;s much cleaner (adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/f7014dbeb31f9d0805723358d57f442bfa7b020c">f7014db</a>).</p>
<p>Regarding multiple comments on a line it removes the invalid parts</p>
<ul>
<li><code># test # noqa: INVALID111</code> → <code># test</code></li>
<li><code># test # noqa: INVALID111, VALID111</code> → <code># test # noqa: VALID111</code></li>
</ul>
<p>I&#x27;ve added tests for this in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/5cc83056e74b67c10fa889ae722947cfc5b99dcc">5cc8305</a>.</p>
<p>I guess this is the desired behaviour. Having stale comments isn&#x27;t nice, but auto removing ones that should stay is worse. What do you think.</p>
<p>Note: I&#x27;m writing it with uppercase ASCII plus a number because otherwise it&#x27;s not parsed as a rule code; in this case the comment remains untouched.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-02 16:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:63 on 2025-04-02 16:44</div>
            <div class="timeline-body"><p>It didn&#x27;t. I added a fix (<a href="https://github.com/astral-sh/ruff/pull/17138/commits/3f5076561ccae439d5fda1e2317e18a1582de184">3f50765</a>) and test (<a href="https://github.com/astral-sh/ruff/pull/17138/commits/e734d3db6e81383484f43c7de8a2b74041892a32">e734d3d</a>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:146 on 2025-04-02 17:12</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/2be49a000fb06a45e1ea3cbca1bbb1d44c32eac2">2be49a0</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-02 17:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-02 17:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:151 on 2025-04-02 17:12</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/e3f4e07105f3c733b1fc1617cc7284ab18e5915a">e3f4e07</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-02 18:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:59 on 2025-04-02 18:25</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/52abe145626186fea7ed68f6012ed791f085f269">52abe14</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-02 18:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/mod.rs</code>:318 on 2025-04-02 18:52</div>
            <div class="timeline-body"><p>I moved the test you were refering to to the general rules test. The additional logic handling externals (see below) need (i think) separate handling so i kept these parts standalone. Let me know if that is not the case.</p>
<p>Changes in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/d34476f430d7a2417aa2929749fa19174f86fa8a">d34476f</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-02 21:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-02 21:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/ruff/mod.rs</code>:318 on 2025-04-02 21:51</div>
            <div class="timeline-body"><p>I think that does need to be separate, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-04-03 10:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/mod.rs</code>:319 on 2025-04-03 10:16</div>
            <div class="timeline-body"><p>NIt:</p>
<pre><code>    fn invalid_rule_code_external_rules() -&gt; Result&lt;()&gt; {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:30 on 2025-04-03 10:17</div>
            <div class="timeline-body"><pre><code></code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:30 on 2025-04-03 10:18</div>
            <div class="timeline-body"><p>It would be great to link to the <code>external</code> setting similar to <code>unused-noqa</code>: https://docs.astral.sh/ruff/rules/unused-noqa/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:65 on 2025-04-03 10:19</div>
            <div class="timeline-body"><pre><code>            if Rule::from_code(code.as_str()).is_ok() || external.iter().any(|ext| code_str.starts_with(ext))
</code></pre>
<p>This might be faster because it checks the common case first.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:65 on 2025-04-03 10:19</div>
            <div class="timeline-body"><pre><code>            if external.iter().any(|ext| code_str.starts_with(ext))
                || Rule::from_code(code_str)).is_ok()
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:85 on 2025-04-03 10:20</div>
            <div class="timeline-body"><p>Nit: Maybe consider moving this to a small helper function and use it here and when checking above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:102 on 2025-04-03 10:21</div>
            <div class="timeline-body"><p>Could we reuse the collected <code>invalid_code_refs</code> and pass them to this function instead of collecting them again?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:98 on 2025-04-03 10:22</div>
            <div class="timeline-body"><p>Nit: To reduce the number of arguments:</p>
<pre><code>fn create_all_codes_invalid_diagnostic(directive: &amp;Codes&lt;&#x27;_&gt;) -&gt; Diagnostic {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:136 on 2025-04-03 10:27</div>
            <div class="timeline-body"><p>And another case for multispan diagnostics...</p>
<p>I think I&#x27;d be surprised that applying the fix for a specific code replaces all invalid codes and not just the one where I positioned my cursor on.</p>
<p>That&#x27;s why I think we should either:</p>
<ul>
<li>Only create one diagnostic that fixes all invalid codes at once (multispan diagnostics would be great)</li>
<li>Create a diagnostic for each invalid code, the fix only removes that one code.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-04-03 10:28</div>
            <div class="timeline-body"><p>Thanks for incorporating external. This mostly looks good. The main thing we&#x27;ve to figure out is how to handle noqa comments where more than one code is invalid. Maybe @dylwil3 has an opinion on this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/BurntSushi">@BurntSushi</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dhruvmanila">@dhruvmanila</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-03 22:03</div>
            <div class="timeline-body">

<code>mypy_primer</code> results
<p>No ecosystem changes detected ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-03 22:08</div>
            <div class="timeline-body"><p>Sorry everyone who just got pinged for a code review.</p>
<p>I accidentally pushed from the tip of main and it autorequested from everyone who contributed since forked.
Git is hard...</p>
<p>My bad :/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-03 22:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/mod.rs</code>:319 on 2025-04-03 22:10</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/3050304436fe33ca7e2fff3edf4b557edc6bc777">3050304</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-03 22:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:30 on 2025-04-03 22:11</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/2fe49fb1b94dd11666f5bb841dfc6fb2fb9c3044">2fe49fb</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:30 on 2025-04-03 22:11</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/2fe49fb1b94dd11666f5bb841dfc6fb2fb9c3044">2fe49fb</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-03 22:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/dcreager">@dcreager</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-04-03 22:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/carljm">@carljm</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-04-03 22:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/BurntSushi">@BurntSushi</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-04-03 22:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/sharkdp">@sharkdp</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-04-03 22:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/dhruvmanila">@dhruvmanila</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-04-03 22:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/AlexWaygood">@AlexWaygood</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-04-03 22:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-04 03:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:102 on 2025-04-04 03:20</div>
            <div class="timeline-body"><p>We need to loop over the <code>directive</code> if we want to preserve the total order rule with only filtering codes for single code fixes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-04 03:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:65 on 2025-04-04 03:46</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/e9de061507c31e6087ac3cdfa5bcb551b5ebbc04">e9de061</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-04 03:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:85 on 2025-04-04 03:47</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/921f0663f93257af10cdc8a5aec7fb7f34bad877">921f066</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-04 03:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:98 on 2025-04-04 03:47</div>
            <div class="timeline-body"><p>Adressed in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/921f0663f93257af10cdc8a5aec7fb7f34bad877">921f066</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/maxmynter">@maxmynter</a> reviewed on 2025-04-04 03:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/maxmynter">@maxmynter</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:136 on 2025-04-04 03:49</div>
            <div class="timeline-body"><p>I&#x27;m unsure what you mean by multispan diagnostics or what the exact requirements are. Is that already established in Ruff or something you plan on integrating.</p>
<p>In <a href="https://github.com/astral-sh/ruff/pull/17138/commits/921f0663f93257af10cdc8a5aec7fb7f34bad877">921f066</a> i fixed the handling to create one diagnostic for each invalid code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-04 03:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-04-04 06:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:136 on 2025-04-04 06:57</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m unsure what you mean by multispan diagnostics or what the exact requirements are. Is that already established in Ruff or something you plan on integrating.</p>
</blockquote>
<p>Sorry, it&#x27;s something we plan on implementing. This was mainly directed at @ntBre</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-04-04 08:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-04 08:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-04 08:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:136 on 2025-04-04 12:22</div>
            <div class="timeline-body"><p>Yeah sorry I should have acknowledged and resolved this. I&#x27;m keeping a list of places to use multispan diagnostics once they&#x27;re added to Ruff!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-04 12:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:136 on 2025-04-04 12:42</div>
            <div class="timeline-body"><p>We could create a tracking issue for it which can then be referenced by the reviewers and the references itself becomes a list of known places which can be improved.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2025-04-04 12:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-04 12:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/ruff/rules/invalid_rule_code.rs</code>:136 on 2025-04-04 12:54</div>
            <div class="timeline-body"><p>Oh yes, of course!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/maxmynter">@maxmynter</a> on 2025-04-04 21:16</div>
            <div class="timeline-body"><p>Thanks for merging @MichaReiser !</p>
<p>If you have the bandwith, I would love a short explanation on your rationale in <a href="https://github.com/astral-sh/ruff/pull/17138/commits/e1998a1e3426ef2140f6c18bdc87b9a8ddc5c35c">e1998a1</a> (no worries if not).</p>
<p>I agree that it reads much nicer, so I&#x27;m curious if you have any tips / resources on how you think about intended changes so i can deliver more quality out of the gate :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:12:50 UTC
    </footer>
</body>
</html>
