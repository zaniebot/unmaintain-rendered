<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`pydoclint`] Extend `docstring-missing-exception` to empty exception descriptions (`DOC501`) - astral-sh/ruff #14496</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>pydoclint</code>] Extend <code>docstring-missing-exception</code> to empty exception descriptions (<code>DOC501</code>)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14496">#14496</a>
        opened by <a href="https://github.com/sbrugman">@sbrugman</a>
        on 2024-11-20 19:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sbrugman">@sbrugman</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Resolves #14494.</p>
<!-- What's the purpose of the change? What does it do, and why? -->

<h2>Test Plan</h2>
<!-- How was it tested? -->

<p><code>cargo test</code>. Awaiting ecosystem checks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-20 19:08</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+2 -0 violations, +0 -0 fixes in 1 projects; 53 projects unchanged)</p>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/util.py#L41'>src/bokeh/client/util.py:41:5:</a> DOC501 Raised exception `ValueError` missing from docstring
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/util.py#L68'>src/bokeh/client/util.py:68:5:</a> DOC501 Raised exception `ValueError` missing from docstring
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| DOC501 | 2 | 2 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-20 20:24</div>
            <div class="timeline-body"><p>Let's wait with merging this until after the 0.8 release</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-11-20 20:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-21 07:22</div>
            <div class="timeline-body"><p>Bokeh is a false positive. They use google-style, but start exception descriptions on a newline.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-21 13:15</div>
            <div class="timeline-body"><p>Reference that newlines are valid after the colon in Google-style docstrings: https://google.github.io/styleguide/pyguide.html#doc-function-args</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-25 10:18</div>
            <div class="timeline-body"><blockquote>
<p>Reference that newlines are valid after the colon in Google-style docstrings: <a href="https://google.github.io/styleguide/pyguide.html#doc-function-args">google.github.io/styleguide/pyguide.html#doc-function-args</a></p>
</blockquote>
<p>I'm now slightly confused. Doesn't that suggest that the Bokeh ecosystem results <em>aren't</em> a false positives?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-25 10:22</div>
            <div class="timeline-body"><p>I noticed that we have <code>D414</code> which explicitly flags empty sections.</p>
<pre><code class="language-py">def calculate_speed(distance: float, time: float) -&gt; float:
    &quot;&quot;&quot;Calculate speed as distance divided by time.

    Args:

    Returns:

    Raises:
        ValueError:

    &quot;&quot;&quot;
    raise ValueError
    return distance / time
</code></pre>
<p>Both the <code>Args</code> and <code>Returns</code> section are flagged by <code>D414</code> but the <code>ValueError</code> isn't. Should we extend <code>D414</code> to detect missing exception documentation instead?</p>
<p>I suspect that the counter-argument is that the rule also doesn't raise for arguments with missing documentation:</p>
<pre><code class="language-py">def calculate_speed(distance: float, time: float) -&gt; float:
    &quot;&quot;&quot;Calculate speed as distance divided by time.

    Args:
        distance:
        time:

    Returns:

    Raises:
        ValueError:

    &quot;&quot;&quot;
    raise ValueError
    return distance / time
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sbrugman">@sbrugman</a> on 2024-11-25 10:58</div>
            <div class="timeline-body"><blockquote>
<p>I'm now slightly confused. Doesn't that suggest that the Bokeh ecosystem results <em>aren't</em> a false positives?</p>
</blockquote>
<p>Bokeh has documentation, just on a new line which is valid according to the Google-style. No violation should be raised. There are two new ones.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @sbrugman on 2024-11-25 22:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-10 17:45</div>
            <div class="timeline-body"><p>Thanks for your contribution. I'll close this PR because it has become stale. Please don't hesitate to resubmit the PR and reference this PR if you plan to keep working on this feature.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-12-10 17:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:07:54 UTC
    </footer>
</body>
</html>
