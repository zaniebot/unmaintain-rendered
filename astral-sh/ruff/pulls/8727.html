<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`refurb`] Implement `math-constant` (`FURB152`) - astral-sh/ruff #8727</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>refurb</code>] Implement <code>math-constant</code> (<code>FURB152</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/8727">#8727</a>
        opened by <a href="https://github.com/siiptuo">@siiptuo</a>
        on 2023-11-16 21:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/siiptuo">@siiptuo</a></div>
            <div class="timeline-body">

Summary


<p>Implements <a href="https://github.com/dosisod/refurb/blob/master/docs/checks.md#furb152-use-math-constant">FURB152</a> that checks for literals that are similar to constants in <code>math</code> module, for example:</p>
<pre><code>A = 3.141592 * r ** 2
</code></pre>
<p>Use instead:</p>
<pre><code>A = math.pi * r ** 2
</code></pre>
<p>Related to #1348.</p>
Test Plan


<p>Tested with few test cases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-11-16 21:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/refurb/rules/math_constant.rs</code>:62 on 2023-11-16 21:41</div>
            <div class="timeline-body"><p>Why is this an unsafe fix?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2023-11-16 21:43</div>
            <div class="timeline-body"><p>Sweet! Thanks. Just the one question.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-16 21:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/siiptuo">@siiptuo</a> on <code>crates/ruff_linter/src/rules/refurb/rules/math_constant.rs</code>:62 on 2023-11-16 21:47</div>
            <div class="timeline-body"><p>Most likely it changes result of calculations. For example, <code>math.pi</code> is more precise than <code>3.14</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/siiptuo">@siiptuo</a> reviewed on 2023-11-16 21:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-11-16 21:49</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+159 -147 violations, +0 -0 fixes in 41 projects)</p>
<a href="https://github.com/DisnakeDev/disnake">DisnakeDev/disnake</a> (+1 -1 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/DisnakeDev/disnake/blob/2c85e39f415e9d96867dc317592582b685888ed9/disnake/enums.py#L163">disnake/enums.py:163:9:</a> PLW3201 Bad or misspelled dunder method name `__members__`
- <a href="https://github.com/DisnakeDev/disnake/blob/2c85e39f415e9d96867dc317592582b685888ed9/disnake/enums.py#L163">disnake/enums.py:163:9:</a> PLW3201 Bad or misspelled dunder method name `__members__`. (bad-dunder-name)
</pre>

</p>

<a href="https://github.com/apache/airflow">apache/airflow</a> (+13 -2 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --select ALL --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/airflow/auth/managers/fab/models/__init__.py#L81">airflow/auth/managers/fab/models/__init__.py:81:9:</a> PLW3201 Bad or misspelled dunder method name `__neq__`
- <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/airflow/auth/managers/fab/models/__init__.py#L81">airflow/auth/managers/fab/models/__init__.py:81:9:</a> PLW3201 Bad or misspelled dunder method name `__neq__`. (bad-dunder-name)
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/airflow/providers/databricks/operators/databricks_repos.py#L105">airflow/providers/databricks/operators/databricks_repos.py:105:9:</a> PLW3201 Bad or misspelled dunder method name `__detect_repo_provider__`
- <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/airflow/providers/databricks/operators/databricks_repos.py#L105">airflow/providers/databricks/operators/databricks_repos.py:105:9:</a> PLW3201 Bad or misspelled dunder method name `__detect_repo_provider__`. (bad-dunder-name)
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/tests/core/test_otel_logger.py#L268">tests/core/test_otel_logger.py:268:64:</a> FURB152 [*] Replace `3.14` with `math.pi`
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/tests/core/test_otel_logger.py#L274">tests/core/test_otel_logger.py:274:34:</a> FURB152 [*] Replace `3.14` with `math.pi`
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/tests/core/test_otel_logger.py#L280">tests/core/test_otel_logger.py:280:64:</a> FURB152 [*] Replace `3.14` with `math.pi`
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/tests/core/test_otel_logger.py#L286">tests/core/test_otel_logger.py:286:34:</a> FURB152 [*] Replace `3.14` with `math.pi`
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/tests/core/test_otel_logger.py#L290">tests/core/test_otel_logger.py:290:64:</a> FURB152 [*] Replace `3.14` with `math.pi`
+ <a href="https://github.com/apache/airflow/blob/aaed909344b12aa4691a9e23ea9f9c98d641d853/tests/core/test_otel_logger.py#L298">tests/core/test_otel_logger.py:298:34:</a> FURB152 [*] Replace `3.14` with `math.pi`
... 6 additional changes omitted for rule FURB152
... 5 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/aws/aws-sam-cli">aws/aws-sam-cli</a> (+1 -1 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/aws/aws-sam-cli/blob/3a1b7f64e8d8fe526296326c6d90f5c3080bc577/samcli/commands/local/lib/debug_context.py#L30">samcli/commands/local/lib/debug_context.py:30:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`
- <a href="https://github.com/aws/aws-sam-cli/blob/3a1b7f64e8d8fe526296326c6d90f5c3080bc577/samcli/commands/local/lib/debug_context.py#L30">samcli/commands/local/lib/debug_context.py:30:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`. (bad-dunder-name)
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+4 -3 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --select ALL --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/src/bokeh/io/notebook.py#L129">src/bokeh/io/notebook.py:129:9:</a> PLW3201 Bad or misspelled dunder method name `_repr_html_`
- <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/src/bokeh/io/notebook.py#L129">src/bokeh/io/notebook.py:129:9:</a> PLW3201 Bad or misspelled dunder method name `_repr_html_`. (bad-dunder-name)
+ <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/src/bokeh/model/model.py#L595">src/bokeh/model/model.py:595:9:</a> PLW3201 Bad or misspelled dunder method name `_repr_html_`
- <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/src/bokeh/model/model.py#L595">src/bokeh/model/model.py:595:9:</a> PLW3201 Bad or misspelled dunder method name `_repr_html_`. (bad-dunder-name)
+ <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/tests/unit/bokeh/core/test_properties.py#L224">tests/unit/bokeh/core/test_properties.py:224:23:</a> FURB152 [*] Replace `3.14` with `math.pi`
+ <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/tests/unit/bokeh/core/test_serialization.py#L806">tests/unit/bokeh/core/test_serialization.py:806:17:</a> PLW3201 Bad or misspelled dunder method name `__array__`
- <a href="https://github.com/bokeh/bokeh/blob/2e85cfb76b23c8537a704ec1a0af94437a5834f0/tests/unit/bokeh/core/test_serialization.py#L806">tests/unit/bokeh/core/test_serialization.py:806:17:</a> PLW3201 Bad or misspelled dunder method name `__array__`. (bad-dunder-name)
... 1 additional changes omitted for rule PLW3201
</pre>

</p>

<a href="https://github.com/freedomofpress/securedrop">freedomofpress/securedrop</a> (+7 -7 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_meta.py#L227">securedrop/pretty_bad_protocol/_meta.py:227:9:</a> PLW3201 Bad or misspelled dunder method name `__remove_path__`
- <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_meta.py#L227">securedrop/pretty_bad_protocol/_meta.py:227:9:</a> PLW3201 Bad or misspelled dunder method name `__remove_path__`. (bad-dunder-name)
+ <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1007">securedrop/pretty_bad_protocol/_parsers.py:1007:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`
- <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1007">securedrop/pretty_bad_protocol/_parsers.py:1007:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`. (bad-dunder-name)
+ <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1115">securedrop/pretty_bad_protocol/_parsers.py:1115:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`
- <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1115">securedrop/pretty_bad_protocol/_parsers.py:1115:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`. (bad-dunder-name)
+ <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1313">securedrop/pretty_bad_protocol/_parsers.py:1313:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`
- <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1313">securedrop/pretty_bad_protocol/_parsers.py:1313:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`. (bad-dunder-name)
+ <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1417">securedrop/pretty_bad_protocol/_parsers.py:1417:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`
- <a href="https://github.com/freedomofpress/securedrop/blob/a6da4faf938cae1c7249e486a7769419b93dd136/securedrop/pretty_bad_protocol/_parsers.py#L1417">securedrop/pretty_bad_protocol/_parsers.py:1417:9:</a> PLW3201 Bad or misspelled dunder method name `__nonzero__`. (bad-dunder-name)
... 4 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+63 -63 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/backends/base/__init__.py#L234">ibis/backends/base/__init__.py:234:9:</a> PLW3201 Bad or misspelled dunder method name `_ipython_key_completions_`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/backends/base/__init__.py#L234">ibis/backends/base/__init__.py:234:9:</a> PLW3201 Bad or misspelled dunder method name `_ipython_key_completions_`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/backends/base/__init__.py#L769">ibis/backends/base/__init__.py:769:9:</a> PLW3201 Bad or misspelled dunder method name `__rich_repr__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/backends/base/__init__.py#L769">ibis/backends/base/__init__.py:769:9:</a> PLW3201 Bad or misspelled dunder method name `__rich_repr__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/backends/base/sql/compiler/query_builder.py#L241">ibis/backends/base/sql/compiler/query_builder.py:241:9:</a> PLW3201 Bad or misspelled dunder method name `__equals__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/backends/base/sql/compiler/query_builder.py#L241">ibis/backends/base/sql/compiler/query_builder.py:241:9:</a> PLW3201 Bad or misspelled dunder method name `__equals__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L105">ibis/common/bases.py:105:9:</a> PLW3201 Bad or misspelled dunder method name `__create__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L105">ibis/common/bases.py:105:9:</a> PLW3201 Bad or misspelled dunder method name `__create__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L123">ibis/common/bases.py:123:9:</a> PLW3201 Bad or misspelled dunder method name `__prohibit_inheritance__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L123">ibis/common/bases.py:123:9:</a> PLW3201 Bad or misspelled dunder method name `__prohibit_inheritance__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L156">ibis/common/bases.py:156:9:</a> PLW3201 Bad or misspelled dunder method name `__equals__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L156">ibis/common/bases.py:156:9:</a> PLW3201 Bad or misspelled dunder method name `__equals__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L159">ibis/common/bases.py:159:9:</a> PLW3201 Bad or misspelled dunder method name `__cached_equals__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L159">ibis/common/bases.py:159:9:</a> PLW3201 Bad or misspelled dunder method name `__cached_equals__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L219">ibis/common/bases.py:219:9:</a> PLW3201 Bad or misspelled dunder method name `__rich_repr__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/bases.py#L219">ibis/common/bases.py:219:9:</a> PLW3201 Bad or misspelled dunder method name `__rich_repr__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/deferred.py#L236">ibis/common/deferred.py:236:9:</a> PLW3201 Bad or misspelled dunder method name `__create__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/deferred.py#L236">ibis/common/deferred.py:236:9:</a> PLW3201 Bad or misspelled dunder method name `__create__`. (bad-dunder-name)
+ <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/deferred.py#L48">ibis/common/deferred.py:48:9:</a> PLW3201 Bad or misspelled dunder method name `__coerce__`
- <a href="https://github.com/ibis-project/ibis/blob/a6318f1681628b0dba399041682a9e069271f48f/ibis/common/deferred.py#L48">ibis/common/deferred.py:48:9:</a> PLW3201 Bad or misspelled dunder method name `__coerce__`. (bad-dunder-name)
... 106 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+64 -64 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/array.py#L593">pandas/core/arrays/arrow/array.py:593:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_array__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/array.py#L593">pandas/core/arrays/arrow/array.py:593:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_array__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/array.py#L597">pandas/core/arrays/arrow/array.py:597:9:</a> PLW3201 Bad or misspelled dunder method name `__array__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/array.py#L597">pandas/core/arrays/arrow/array.py:597:9:</a> PLW3201 Bad or misspelled dunder method name `__array__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L148">pandas/core/arrays/arrow/extension_types.py:148:13:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_serialize__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L148">pandas/core/arrays/arrow/extension_types.py:148:13:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_serialize__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L152">pandas/core/arrays/arrow/extension_types.py:152:13:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_deserialize__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L152">pandas/core/arrays/arrow/extension_types.py:152:13:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_deserialize__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L32">pandas/core/arrays/arrow/extension_types.py:32:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_serialize__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L32">pandas/core/arrays/arrow/extension_types.py:32:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_serialize__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L37">pandas/core/arrays/arrow/extension_types.py:37:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_deserialize__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L37">pandas/core/arrays/arrow/extension_types.py:37:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_deserialize__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L83">pandas/core/arrays/arrow/extension_types.py:83:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_serialize__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L83">pandas/core/arrays/arrow/extension_types.py:83:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_serialize__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L88">pandas/core/arrays/arrow/extension_types.py:88:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_deserialize__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/arrow/extension_types.py#L88">pandas/core/arrays/arrow/extension_types.py:88:9:</a> PLW3201 Bad or misspelled dunder method name `__arrow_ext_deserialize__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/base.py#L2259">pandas/core/arrays/base.py:2259:9:</a> PLW3201 Bad or misspelled dunder method name `__array_ufunc__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/base.py#L2259">pandas/core/arrays/base.py:2259:9:</a> PLW3201 Bad or misspelled dunder method name `__array_ufunc__`. (bad-dunder-name)
+ <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/boolean.py#L102">pandas/core/arrays/boolean.py:102:9:</a> PLW3201 Bad or misspelled dunder method name `__from_arrow__`
- <a href="https://github.com/pandas-dev/pandas/blob/54f193a70815c01e26d6dd0616616d56a74699ce/pandas/core/arrays/boolean.py#L102">pandas/core/arrays/boolean.py:102:9:</a> PLW3201 Bad or misspelled dunder method name `__from_arrow__`. (bad-dunder-name)
... 108 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a> (+6 -6 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/sphinx/ext/autodoc/mock.py#L52">sphinx/ext/autodoc/mock.py:52:9:</a> PLW3201 Bad or misspelled dunder method name `__mro_entries__`
- <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/sphinx/ext/autodoc/mock.py#L52">sphinx/ext/autodoc/mock.py:52:9:</a> PLW3201 Bad or misspelled dunder method name `__mro_entries__`. (bad-dunder-name)
+ <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L49">tests/test_ext_napoleon.py:49:9:</a> PLW3201 Bad or misspelled dunder method name `__special_doc__`
- <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L49">tests/test_ext_napoleon.py:49:9:</a> PLW3201 Bad or misspelled dunder method name `__special_doc__`. (bad-dunder-name)
+ <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L53">tests/test_ext_napoleon.py:53:9:</a> PLW3201 Bad or misspelled dunder method name `__special_undoc__`
- <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L53">tests/test_ext_napoleon.py:53:9:</a> PLW3201 Bad or misspelled dunder method name `__special_undoc__`. (bad-dunder-name)
+ <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L57">tests/test_ext_napoleon.py:57:9:</a> PLW3201 Bad or misspelled dunder method name `__decorated_func__`
- <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L57">tests/test_ext_napoleon.py:57:9:</a> PLW3201 Bad or misspelled dunder method name `__decorated_func__`. (bad-dunder-name)
+ <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L70">tests/test_ext_napoleon.py:70:9:</a> PLW3201 Bad or misspelled dunder method name `__special_doc__`
- <a href="https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/tests/test_ext_napoleon.py#L70">tests/test_ext_napoleon.py:70:9:</a> PLW3201 Bad or misspelled dunder method name `__special_doc__`. (bad-dunder-name)
... 2 additional changes omitted for project
</pre>

</p>


<p><em>... Truncated remaining completed projected reports due to GitHub comment length restrictions</em></p>
Changes by rule (2 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PLW3201 | 294 | 147 | 147 | 0 | 0 |
| FURB152 | 12 | 12 | 0 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-11-16 21:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/refurb/rules/math_constant.rs</code>:62 on 2023-11-16 21:49</div>
            <div class="timeline-body"><p>I&#x27;m unsure if that means we need to mark it as unsafe, I could go either way though. @charliermarsh?</p>
<p>If we do leave it as unsafe, we should explain why in the rule docs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-11-16 22:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/refurb/rules/math_constant.rs</code>:62 on 2023-11-16 22:22</div>
            <div class="timeline-body"><p>Hah, this is an interesting case. I guess I&#x27;d lean towards unsafe since it <em>could</em> break tests, etc., if you had hard-coded expectations that differed slightly?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-11-17 05:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/refurb/rules/math_constant.rs</code>:62 on 2023-11-17 05:11</div>
            <div class="timeline-body"><p>I guess but tests written to check floating point math already should include tolerances. Idk I&#x27;m struggling to think of a case where this would change runtime behavior in a meaningful way.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2023-11-17 14:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/refurb/rules/math_constant.rs</code>:62 on 2023-11-17 14:12</div>
            <div class="timeline-body"><p>Since it&#x27;s in preview, it may be fine to just use safe and see if we get feedback.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Implement FURB152&quot; to &quot;[`refurb`] Implement `math-constant` (`FURB152`)&quot; by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-17 17:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-17 17:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-17 17:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:59:26 UTC
    </footer>
</body>
</html>
