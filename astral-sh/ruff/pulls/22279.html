<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update dependency react-resizable-panels to v4 - astral-sh/ruff #22279</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update dependency react-resizable-panels to v4</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22279">#22279</a>
        opened by <a href="https://github.com/renovate">@renovate</a>
        on 2025-12-29 16:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/renovate">@renovate</a></div>
            <div class="timeline-body"><p>This PR contains the following updates:</p>
<p>| Package | Change | <a href="https://docs.renovatebot.com/merge-confidence/">Age</a> | <a href="https://docs.renovatebot.com/merge-confidence/">Confidence</a> |
|---|---|---|---|
| <a href="http://react-resizable-panels.now.sh/">react-resizable-panels</a> (<a href="https://redirect.github.com/bvaughn/react-resizable-panels">source</a>) | <a href="https://renovatebot.com/diffs/npm/react-resizable-panels/3.0.6/4.0.15"><code>^3.0.0</code> -&gt; <code>^4.0.0</code></a> | <img src="https://developer.mend.io/api/mc/badges/age/npm/react-resizable-panels/4.0.15?slim=true" alt="age"> | <img src="https://developer.mend.io/api/mc/badges/confidence/npm/react-resizable-panels/3.0.6/4.0.15?slim=true" alt="confidence"> |</p>
<hr>
Release Notes

bvaughn/react-resizable-panels (react-resizable-panels)

<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4015"><code>v4.0.15</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.14...4.0.15">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/556">556</a>: Ignore <code>defaultLayout</code> when keys don&#x27;t match Panel ids</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4014"><code>v4.0.14</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.13...4.0.14">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/555">555</a>: Allow resizable panels to be rendered into a different Window (e.g. popup or frame) by accessing globals through <code>element.ownerDocument.defaultView</code></li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4013"><code>v4.0.13</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.12...4.0.13">Compare Source</a></p>
<ul>
<li><code>useDefaultLayout</code>: Deprecated <code>groupId</code> param in favor of <code>id</code> to avoid confusion; (there is no actual requirement for the Group to have a matching id)</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4012"><code>v4.0.12</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.11...4.0.12">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/552">552</a>: <code>useDefaultLayout</code> now debounces calls to <code>storage.setItem</code> by 150ms</li>
</ul>
<pre><code>// To opt out of this change
useDefaultLayout({
  debounceSaveMs: 0,
  groupId: &quot;test-group-id&quot;,
  storage: localStorage,
})
</code></pre>
<blockquote>
<p>[!NOTE]
Some may consider this a breaking change, considering the default value is 150ms rather than 0ms. I think in practice this should only impact unit tests which can be easily fixed by overriding the default (as shown above) or by using fake timers.</p>
<p>Changes like this are often judgement calls, but I think on balance it&#x27;s better to correct my initial oversight of not debouncing this by default.</p>
</blockquote>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4011"><code>v4.0.11</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.10...4.0.11">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/commit/8604491">8604491</a>: Fix edge case bug with panel constraints not being properly invalidated after resize</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4010"><code>v4.0.10</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.9...4.0.10">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/551">#â€‹551</a>: Expand fixed-size element support</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#409"><code>v4.0.9</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.8...4.0.9">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/542">#â€‹542</a>: Clicks on higher <code>z-index</code> elements (e.g. modals) should not trigger separators behind them</li>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/547">#â€‹547</a>: Don&#x27;t re-mount Group when <code>defaultLayout</code> or <code>disableCursor</code> props change</li>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/548">#â€‹548</a>: Bugfix: Gracefully handle <code>Panel</code> id changes</li>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/549">#â€‹549</a>: Improve DevX when Group within hidden DOM subtree; defer layout-change events</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#408"><code>v4.0.8</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.7...4.0.8">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/541">#â€‹541</a>: Don&#x27;t set invalid layouts when Group is hidden or has a width/height of 0</li>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/commit/40d4356">40d4356</a>: Gracefully handle invalid <code>defaultLayout</code> value</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#407"><code>v4.0.7</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.6...4.0.7">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/commit/f07bf00">f07bf00</a>: Reset <code>pointer-event</code> styles after &quot;pointerup&quot; event</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#406"><code>v4.0.6</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.5...4.0.6">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/commit/0796644">0796644</a>: Account for Flex gap when calculating pointer-move delta %</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#405"><code>v4.0.5</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.4...4.0.5">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/535">#â€‹535</a>: Updated docs to make size and layout formats clearer</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#404"><code>v4.0.4</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.3...4.0.4">Compare Source</a></p>
<ul>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/pull/534">#â€‹534</a>: Set focus on <code>Separator</code> on &quot;pointerdown&quot;</li>
<li><a href="https://redirect.github.com/bvaughn/react-resizable-panels/commit/e08fe42195d8ace7e4e62205453be4a5245fefb9">e08fe42</a>: Improve iOS/Safari resize UX</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#403"><code>v4.0.3</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.2...4.0.3">Compare Source</a></p>
<ul>
<li>Fixed TS type for <code>defaultLayout</code> value returned from <code>useDefaultLayout</code></li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#402"><code>v4.0.2</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.1...4.0.2">Compare Source</a></p>
<ul>
<li>Export <code>GroupImperativeHandle</code> and <code>PanelImperativeHandle</code> types.</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#4013"><code>v4.0.1</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/4.0.0...4.0.1">Compare Source</a></p>
<ul>
<li><code>useDefaultLayout</code>: Deprecated <code>groupId</code> param in favor of <code>id</code> to avoid confusion; (there is no actual requirement for the Group to have a matching id)</li>
</ul>
<a href="https://redirect.github.com/bvaughn/react-resizable-panels/blob/HEAD/CHANGELOG.md#400"><code>v4.0.0</code></a>
<p><a href="https://redirect.github.com/bvaughn/react-resizable-panels/compare/3.0.6...4.0.0">Compare Source</a></p>
<p>Version 4 of react-resizable-panels offers more flexible size constraintsâ€“ supporting units as pixels, percentages, REMs/EMs, and more. Support for server-rendering (including Server Components) has also been expanded.</p>
Migrating from version 3 to 4
<p>Refer to <a href="https://react-resizable-panels.now.sh/">the docs</a> for a complete list of props and API methods. Below are some examples of migrating from version 3 to 4, but first a couple of potential questions:</p>

Q: Why&#x27;d you rename &lt;component&gt; or &lt;prop&gt;?
A: The most likely reason is that I think the new name more closely aligns with web standards like WAI-ARIA and CSS. For example, the <code>PanelResizeHandle</code> component was renamed to <code>Separator</code> to better align with the <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/separator_role">ARIA &quot;separator&quot; role</a> and the <code>direction</code> prop was renamed to <code>orientation</code> to better align with the <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Attributes/aria-orientation">ARIA <code>orientation</code> attribute </a>.
Q: Why&#x27;d you remove support for &lt;feature&gt;?
A: Probably because it wasn&#x27;t used widely enough to justify the complexity required to maintain it. If it turns out that I&#x27;m mistaken, features can always be (re)added but it&#x27;s more difficult to remove them.
Q: Were the <code>onCollapse</code> and <code>onExpand</code> event handlers removed?
A: Yes. Use the <code>onResize</code> event handler instead:

<pre><code>onResize={(size) =&gt; {
  // Either this
  const isCollapsed = size === collapsedSize;

  // Or this:
  panelRef.isCollapsed();
}}
</code></pre>



Basic usage example
<pre><code>// Version 3

import { PanelGroup, Panel, PanelResizeHandle } from &quot;react-resizable-panels&quot;;

&lt;PanelGroup direction=&quot;horizontal&quot;&gt;
  &lt;Panel defaultSize={30} minSize={20}&gt;left&lt;/Panel&gt;
  &lt;PanelResizeHandle /&gt;
  &lt;Panel defaultSize={30} minSize={20}&gt;right&lt;/Panel&gt;
&lt;/PanelGroup&gt;

// Version 4

import { Group, Panel, Separator } from &quot;react-resizable-panels&quot;;

&lt;Group orientation=&quot;horizontal&quot;&gt;
  &lt;Panel defaultSize=&quot;30%&quot; minSize=&quot;20%&quot;&gt;left&lt;/Panel&gt;
  &lt;Separator /&gt;
  &lt;Panel defaultSize=&quot;30%&quot; minSize=&quot;20%&quot;&gt;right&lt;/Panel&gt;
&lt;/Group&gt;
</code></pre>
Persistent layouts using localStorage
<pre><code>// Version 3

import { PanelGroup, Panel, PanelResizeHandle } from &quot;react-resizable-panels&quot;;

&lt;PanelGroup autoSaveId=&quot;unique-group-id&quot; direction=&quot;horizontal&quot;&gt;
  &lt;Panel&gt;left&lt;/Panel&gt;
  &lt;PanelResizeHandle /&gt;
  &lt;Panel&gt;right&lt;/Panel&gt;
&lt;/PanelGroup&gt;

// Version 4

import { Group, Panel, Separator, useDefaultLayout } from &quot;react-resizable-panels&quot;;

const { defaultLayout, onLayoutChange } = useDefaultLayout({
  groupId: &quot;unique-group-id&quot;,
  storage: localStorage
});

&lt;Group defaultLayout={defaultLayout} onLayoutChange={onLayoutChange}&gt;
  &lt;Panel&gt;left&lt;/Panel&gt;
  &lt;Separator /&gt;
  &lt;Panel&gt;right&lt;/Panel&gt;
&lt;/Group&gt;
</code></pre>
<blockquote>
<p>[!NOTE]
Refer to <a href="https://react-resizable-panels.vercel.app/examples/persistent-layout">the docs</a> for examples of persistent layouts with server rendering and server components.</p>
</blockquote>
Conditional panels
<pre><code>// Version 3

import { PanelGroup, Panel, PanelResizeHandle } from &quot;react-resizable-panels&quot;;

&lt;PanelGroup autoSaveId=&quot;unique-group-id&quot; direction=&quot;horizontal&quot;&gt;
   {showLeftPanel &amp;&amp; (
     &lt;&gt;
       &lt;Panel id=&quot;left&quot; order={1}&gt;left&lt;/Panel&gt;
       &lt;PanelResizeHandle /&gt;
     &lt;/&gt;
   )}
   &lt;Panel id=&quot;center&quot; order={2}&gt;center&lt;/Panel&gt;
   {showRightPanel &amp;&amp; (
     &lt;&gt;
       &lt;PanelResizeHandle /&gt;
       &lt;Panel id=&quot;right&quot; order={3}&gt;right&lt;/Panel&gt;
     &lt;/&gt;
   )}
&lt;/PanelGroup&gt;

// Version 4

import { Group, Panel, Separator } from &quot;react-resizable-panels&quot;;

&lt;Group&gt;
  {showLeftPanel &amp;&amp; (
    &lt;&gt;
      &lt;Panel id=&quot;left&quot;&gt;left&lt;/Panel&gt;
      &lt;Separator /&gt;
    &lt;/&gt;
  )}
  &lt;Panel id=&quot;center&quot;&gt;center&lt;/Panel&gt;
  {showRightPanel &amp;&amp; (
    &lt;&gt;
      &lt;Separator /&gt;
      &lt;Panel id=&quot;right&quot;&gt;right&lt;/Panel&gt;
    &lt;/&gt;
  )}
&lt;/Group&gt;
</code></pre>
Imperative APIs
<pre><code>// Version 3

import { PanelGroup, Panel, PanelResizeHandle } from &quot;react-resizable-panels&quot;;
import type { ImperativePanelGroupHandle, ImperativePanelHandle }from &quot;react-resizable-panels&quot;;

 const panelRef = useRef&lt;ImperativePanelHandle&gt;(null);
 const panelGroupRef = useRef&lt;ImperativePanelGroupHandle&gt;(null);

&lt;PanelGroup direction=&quot;horizontal&quot; ref={panelGroupRef}&gt;
  &lt;Panel ref={panelRef}&gt;left&lt;/Panel&gt;
  &lt;PanelResizeHandle /&gt;
  &lt;Panel&gt;right&lt;/Panel&gt;
&lt;/PanelGroup&gt;

// Version 4

import { Group, Panel, Separator, useGroupRef, usePanelRef } from &quot;react-resizable-panels&quot;;

const groupRef = useGroupRef();
const panelRef = usePanelRef();

&lt;Group groupRef={groupRef} orientation=&quot;horizontal&quot;&gt;
  &lt;Panel panelRef={panelRef}&gt;left&lt;/Panel&gt;
  &lt;Separator /&gt;
  &lt;Panel&gt;right&lt;/Panel&gt;
&lt;/Group&gt;
</code></pre>
Disabling custom cursors
<pre><code>// Version 3

import { disableGlobalCursorStyles } from &quot;react-resizable-panels&quot;;

disableGlobalCursorStyles();

// Version 4

import { Group, Panel, Separator } from &quot;react-resizable-panels&quot;;

&lt;Group disableCursor /&gt;
</code></pre>


<hr>
Configuration
<p>ðŸ“… <strong>Schedule</strong>: Branch creation - &quot;before 4am on Monday&quot; (UTC), Automerge - At any time (no schedule defined).</p>
<p>ðŸš¦ <strong>Automerge</strong>: Disabled by config. Please merge this manually once you are satisfied.</p>
<p>â™» <strong>Rebasing</strong>: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.</p>
<p>ðŸ”• <strong>Ignore</strong>: Close this PR and you won&#x27;t be reminded about this update again.</p>
<hr>
<ul>
<li>[ ] If you want to rebase/retry this PR, check this box</li>
</ul>
<hr>
<p>This PR was generated by <a href="https://mend.io/renovate/">Mend Renovate</a>. View the <a href="https://developer.mend.io/github/astral-sh/ruff">repository job log</a>.</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/renovate[bot]">@renovate[bot]</a> on 2025-12-29 16:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-29 17:32</div>
            <div class="timeline-body"><p>Uff, this will be quiet some work</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-29 17:41</div>
            <div class="timeline-body"><p>Looking great ðŸ¥¹
<img alt="Screenshot 2025-12-29 at 18 41 32" src="https://github.com/user-attachments/assets/93cf2de1-b72c-4761-830e-220da999dc9b"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/silamon">@silamon</a> on 2025-12-29 20:13</div>
            <div class="timeline-body"><p>Vertical orientation now needs to set a height: <a href="https://github.com/bvaughn/react-resizable-panels/issues/543">bvaughn/react-resizable-panels#543</a>
When that&#x27;s done, it will look like before.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-30 07:26</div>
            <div class="timeline-body"><p>Thanks for pointing this out. I did set a high but there&#x27;s now something odd going on where it results in added scrollbars on the main div if the secondary panel is a monaco editor.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-30 10:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-30 10:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-12-30 10:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-01 15:28</div>
            <div class="timeline-body"><p>This change appears to have broken local builds of the playground for me. I now just get an entirely white screen when I open the local playground build in a web browser:</p>
<p><img alt="image" src="https://github.com/user-attachments/assets/f010e660-e900-4932-8c3d-fe08c9ac005e"></p>
<p>The regression bisects to this commit: if I checkout https://github.com/astral-sh/ruff/commit/3d35dbd334e7cf04fd3533c51d0ef1302f96bcd4 and build the playground locally, everything&#x27;s fine</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-01 15:34</div>
            <div class="timeline-body"><p>Did you run <code>npm install</code>? What error message do you see in the browser?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-01 15:36</div>
            <div class="timeline-body"><p>The command I always run to build the playground locally is <code>cd playground &amp;&amp; npm start --workspace ty-playground</code>. I see this error message in the browser:</p>
<pre><code>Uncaught SyntaxError: The requested module &#x27;http://localhost:5173/node_modules/.vite/deps/react-resizable-panels.js?v=03e9ad63&#x27; doesn&#x27;t provide an export named: &#x27;Separator&#x27; ResizeHandle.tsx:1:10
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-01 15:37</div>
            <div class="timeline-body"><p>Running <code>npm install</code> seems to have fixed it, thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:22:23 UTC
    </footer>
</body>
</html>
