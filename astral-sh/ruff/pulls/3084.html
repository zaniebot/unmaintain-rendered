<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat: pylint codes E1205-E106 - astral-sh/ruff #3084</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat: pylint codes E1205-E106</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/3084">#3084</a>
        opened by <a href="https://github.com/md384">@md384</a>
        on 2023-02-21 05:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/md384">@md384</a></div>
            <div class="timeline-body"><p>Adds support for pylint <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/error/logging-too-many-args.html">E1205</a> and <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/error/logging-too-few-args.html">E1206</a> for <a href="https://github.com/charliermarsh/ruff/issues/970">charliermarsh/ruff#970</a>.</p>
<p>A couple of things that I think are wrong here (I am new to this project and to Rust)</p>
<ul>
<li>the test snapshots are almost empty. I expected them to be generated with more code.</li>
<li>running ruff locally with <code>cargo run -p ruff_cli -- check crates/ruff/resources/test/fixtures/pylint/logging_E1205.py --no-cache --select PLE1205</code> shows no message but <code>cargo run -p ruff_cli -- check crates/ruff/resources/test/fixtures/pylint/logging_E1205.py --no-cache --select PLE</code> does - similarly with <code>PLE1206</code>. Have I set up the codes incorrectly?</li>
</ul>
<p>For reference, https://github.com/PyCQA/pylint/blob/main/pylint/checkers/logging.py#L313-L367 is the pylint implementation of these rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/md384">@md384</a> reviewed on 2023-02-21 05:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/md384">@md384</a> on <code>crates/ruff/src/rules/flake8_logging_format/rules.rs</code>:13 on 2023-02-21 05:02</div>
            <div class="timeline-body"><p>Perhaps this should be moved to a different file now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/md384">@md384</a> reviewed on 2023-02-21 05:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/md384">@md384</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:113 on 2023-02-21 05:05</div>
            <div class="timeline-body"><p>This was taken from the pylint implementation but I think we could allow the presence of <code>exc_info</code>, <code>stack_info</code> and <code>extra</code>. Not sure if we&#x27;re going to run into complications with that but doesn&#x27;t seem like it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/checkers/ast.rs</code>:2878 on 2023-02-21 17:08</div>
            <div class="timeline-body"><p>I think one of these should be <code>LoggingTooManyArgs</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 17:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:63 on 2023-02-21 17:08</div>
            <div class="timeline-body"><p>I think this should be <code>LoggingTooManyArgs</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 17:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:72 on 2023-02-21 17:08</div>
            <div class="timeline-body"><p>I think this should be <code>LoggingTooFewArgs </code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 17:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-21 17:09</div>
            <div class="timeline-body"><p>Awesome! Hopefully my comments help with the fixture emptiness?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-21 17:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> requested changes on 2023-02-21 19:51</div>
            <div class="timeline-body"><p>(Just &quot;requesting changes&quot; to help me manage my queue.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/md384">@md384</a> on 2023-02-21 20:58</div>
            <div class="timeline-body"><blockquote>
<p>Awesome! Hopefully my comments help with the fixture emptiness?</p>
</blockquote>
<p>ðŸ¤¦ yep, I should have been paying more attention</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/md384">@md384</a> reviewed on 2023-02-21 21:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/md384">@md384</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:113 on 2023-02-21 21:02</div>
            <div class="timeline-body"><p>py3.8 added <code>stacklevel</code> too. Looking into this more, I still think this is doable (although perhaps in a new PR) since those 4 kwargs are the only allowed ones and AFAIK there is no support for named args in %-style log formatting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/md384">@md384</a> on 2023-02-21 21:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/md384">@md384</a> reviewed on 2023-02-21 21:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/md384">@md384</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:113 on 2023-02-21 21:10</div>
            <div class="timeline-body"><p>Perhaps for the moment, we can just ignore keywords all together (i.e. not even check them)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 23:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/flake8_logging_format/rules.rs</code>:13 on 2023-02-21 23:23</div>
            <div class="timeline-body"><p>Let&#x27;s move this to a new <code>ast/logging.rs</code>? (<code>ast</code> is a bit of a misnomer, but I think it&#x27;s right to be alongside moduiles like <code>ast/whitespace.rs</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 23:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/resources/test/fixtures/pylint/logging_E1206.py</code>:1 on 2023-02-21 23:25</div>
            <div class="timeline-body"><p>Nit: can we name these to match the rule? I think that&#x27;s the convention we&#x27;ve been using for Pylint (e.g., <code>logging_too_few_args.py</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 23:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:40 on 2023-02-21 23:26</div>
            <div class="timeline-body"><p>Could this be <code>.is_some()</code> rather than a match with an unused name?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 23:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:19 on 2023-02-21 23:26</div>
            <div class="timeline-body"><p>Nit: should we wrap <code>logging</code> in backticks here? Pylint may not do that, but we tend to.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:41 on 2023-02-21 23:27</div>
            <div class="timeline-body"><p>Are you open to writing documentation for these rules? We&#x27;re trying to include documentation for all new rules. You can grep for <code>/// ## What it does</code> to see some examples of the expected format.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-02-21 23:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/md384">@md384</a> on <code>crates/ruff/src/rules/pylint/rules/logging.rs</code>:113 on 2023-02-22 01:05</div>
            <div class="timeline-body"><p>Going to leave this as is to match pylint</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/md384">@md384</a> reviewed on 2023-02-22 01:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 03:48</div>
            <div class="timeline-body"><p>Looking good! Thanks for turning this around.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 03:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2023-02-22 03:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 03:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-22 03:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:52:25 UTC
    </footer>
</body>
</html>
