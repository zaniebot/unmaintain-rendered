<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Replicate inline comments when splitting single-line imports - astral-sh/ruff #3521</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Replicate inline comments when splitting single-line imports</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/3521">#3521</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-03-14 18:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>If a user has an inline comment, like <code>from foo import bar, baz  # type: ignore</code>, and they use the &quot;force-split-imports&quot; mode, then today, we end up attaching that comment to the first split import (but no others). This PR modifies the formatting such that we replicate the comment across each split import, which better matches user intent (since end-of-line comments on imports tend to be action directives).</p>
<p>Closes #3418.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @charliermarsh on 2023-03-14 18:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-03-14 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-03-14 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-03-14 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-03-14 18:48</div>
            <div class="timeline-body"><p>âœ… ecosystem check detected no changes.</p>
<!-- thollander/actions-comment-pull-request "ecosystem-results" -->

</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:56:39 UTC
    </footer>
</body>
</html>
