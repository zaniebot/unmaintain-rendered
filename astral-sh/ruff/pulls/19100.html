<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-type-checking`, `pyupgrade`, `ruff`] Add `from __future__ import annotations` when it would allow new fixes (`TC001`, `TC002`, `TC003`, `UP037`, `RUF013`) - astral-sh/ruff #19100</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-type-checking</code>, <code>pyupgrade</code>, <code>ruff</code>] Add <code>from __future__ import annotations</code> when it would allow new fixes (<code>TC001</code>, <code>TC002</code>, <code>TC003</code>, <code>UP037</code>, <code>RUF013</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/19100">#19100</a>
        opened by <a href="https://github.com/ntBre">@ntBre</a>
        on 2025-07-02 19:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-02 19:38</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This is a second attempt at addressing https://github.com/astral-sh/ruff/issues/18502 instead of reusing <code>FA100</code> (#18919).</p>
<p>This PR:</p>
<ul>
<li>adds a new <code>lint.allow-importing-future-annotations</code> option</li>
<li>uses the option to add a <code>__future__</code> import when it would trigger <code>TC001</code>, <code>TC002</code>, or <code>TC003</code></li>
<li>uses the option to add an import when it would allow unquoting more annotations in <a href="https://docs.astral.sh/ruff/rules/quoted-annotation/#quoted-annotation-up037">quoted-annotation (UP037)</a></li>
<li>uses the option to allow the <code>|</code> union syntax before 3.10 in <a href="https://docs.astral.sh/ruff/rules/implicit-optional/#implicit-optional-ruf013">implicit-optional (RUF013)</a></li>
</ul>
<p>I started adding a fix for <a href="https://docs.astral.sh/ruff/rules/runtime-string-union/#runtime-string-union-tc010">runtime-string-union (TC010)</a> too, as mentioned in my previous <a href="https://github.com/astral-sh/ruff/issues/18502#issuecomment-3005238092">comment</a>, but some of the existing tests  already imported <code>from __future__ import annotations</code>, so I think we intentionally flag these cases for the user to inspect. Adding the import is <em>a</em> fix but probably not the best one.</p>
<h2>Test Plan</h2>
<p>Existing <code>TC</code> tests, new copies of them with the option enabled, and new tests based on ideas in https://github.com/astral-sh/ruff/pull/18919#discussion_r2166292705 and the following thread. For UP037 and RUF013, the new tests are also copies of the existing tests, with the new option enabled. The easiest way to review them is probably by their diffs from the existing snapshots:</p>
<h3>UP037</h3>
<p><code>UP037_0.py</code> and <code>UP037_2.pyi</code> have no diffs. The diff for <code>UP037_1.py</code> is below. It correctly unquotes an annotation in module scope that would otherwise be invalid.</p>
<details><summary>UP037_1.py</summary>

<pre><code class="language-diff">3d2
&lt; snapshot_kind: text
23c22,42
&lt; 12 12 |
---
&gt; 12 12 |
&gt;
&gt; UP037_1.py:14:4: UP037 [*] Remove quotes from type annotation
&gt;    |
&gt; 13 | # OK
&gt; 14 | X: &quot;Tuple[int, int]&quot; = (0, 0)
&gt;    |    ^^^^^^^^^^^^^^^^^ UP037
&gt;    |
&gt;    = help: Remove quotes
&gt;
&gt; ℹ Unsafe fix
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import TYPE_CHECKING
&gt; 2  3  |
&gt; 3  4  | if TYPE_CHECKING:
&gt; --------------------------------------------------------------------------------
&gt; 11 12 |
&gt; 12 13 |
&gt; 13 14 | # OK
&gt; 14    |-X: &quot;Tuple[int, int]&quot; = (0, 0)
&gt;    15 |+X: Tuple[int, int] = (0, 0)
</code></pre>
</details>

<h3>RUF013</h3>
<p>The diffs here are mostly just the imports because the original snaps were on 3.13. So we're getting the same fixes now on 3.9.</p>
<details><summary>RUF013_0.py</summary>

<pre><code class="language-diff">3d2
&lt; snapshot_kind: text
14,16c13,20
&lt; 17 17 |     pass
&lt; 18 18 | 
&lt; 19 19 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 17 18 |     pass
&gt; 18 19 | 
&gt; 19 20 | 
18,21c22,25
&lt;    20 |+def f(arg: int | None = None):  # RUF013
&lt; 21 21 |     pass
&lt; 22 22 | 
&lt; 23 23 | 
---
&gt;    21 |+def f(arg: int | None = None):  # RUF013
&gt; 21 22 |     pass
&gt; 22 23 | 
&gt; 23 24 | 
32,34c36,43
&lt; 21 21 |     pass
&lt; 22 22 | 
&lt; 23 23 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 21 22 |     pass
&gt; 22 23 | 
&gt; 23 24 | 
36,39c45,48
&lt;    24 |+def f(arg: str | None = None):  # RUF013
&lt; 25 25 |     pass
&lt; 26 26 | 
&lt; 27 27 | 
---
&gt;    25 |+def f(arg: str | None = None):  # RUF013
&gt; 25 26 |     pass
&gt; 26 27 | 
&gt; 27 28 | 
50,52c59,66
&lt; 25 25 |     pass
&lt; 26 26 | 
&lt; 27 27 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 25 26 |     pass
&gt; 26 27 | 
&gt; 27 28 | 
54,57c68,71
&lt;    28 |+def f(arg: Tuple[str] | None = None):  # RUF013
&lt; 29 29 |     pass
&lt; 30 30 | 
&lt; 31 31 | 
---
&gt;    29 |+def f(arg: Tuple[str] | None = None):  # RUF013
&gt; 29 30 |     pass
&gt; 30 31 | 
&gt; 31 32 | 
68,70c82,89
&lt; 55 55 |     pass
&lt; 56 56 | 
&lt; 57 57 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 55 56 |     pass
&gt; 56 57 | 
&gt; 57 58 | 
72,75c91,94
&lt;    58 |+def f(arg: Union | None = None):  # RUF013
&lt; 59 59 |     pass
&lt; 60 60 | 
&lt; 61 61 | 
---
&gt;    59 |+def f(arg: Union | None = None):  # RUF013
&gt; 59 60 |     pass
&gt; 60 61 | 
&gt; 61 62 | 
86,88c105,112
&lt; 59 59 |     pass
&lt; 60 60 | 
&lt; 61 61 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 59 60 |     pass
&gt; 60 61 | 
&gt; 61 62 | 
90,93c114,117
&lt;    62 |+def f(arg: Union[int] | None = None):  # RUF013
&lt; 63 63 |     pass
&lt; 64 64 | 
&lt; 65 65 | 
---
&gt;    63 |+def f(arg: Union[int] | None = None):  # RUF013
&gt; 63 64 |     pass
&gt; 64 65 | 
&gt; 65 66 | 
104,106c128,135
&lt; 63 63 |     pass
&lt; 64 64 | 
&lt; 65 65 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 63 64 |     pass
&gt; 64 65 | 
&gt; 65 66 | 
108,111c137,140
&lt;    66 |+def f(arg: Union[int, str] | None = None):  # RUF013
&lt; 67 67 |     pass
&lt; 68 68 | 
&lt; 69 69 | 
---
&gt;    67 |+def f(arg: Union[int, str] | None = None):  # RUF013
&gt; 67 68 |     pass
&gt; 68 69 | 
&gt; 69 70 | 
122,124c151,158
&lt; 82 82 |     pass
&lt; 83 83 | 
&lt; 84 84 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 82 83 |     pass
&gt; 83 84 | 
&gt; 84 85 | 
126,129c160,163
&lt;    85 |+def f(arg: int | float | None = None):  # RUF013
&lt; 86 86 |     pass
&lt; 87 87 | 
&lt; 88 88 | 
---
&gt;    86 |+def f(arg: int | float | None = None):  # RUF013
&gt; 86 87 |     pass
&gt; 87 88 | 
&gt; 88 89 | 
140,142c174,181
&lt; 86 86 |     pass
&lt; 87 87 | 
&lt; 88 88 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 86 87 |     pass
&gt; 87 88 | 
&gt; 88 89 | 
144,147c183,186
&lt;    89 |+def f(arg: int | float | str | bytes | None = None):  # RUF013
&lt; 90 90 |     pass
&lt; 91 91 | 
&lt; 92 92 | 
---
&gt;    90 |+def f(arg: int | float | str | bytes | None = None):  # RUF013
&gt; 90 91 |     pass
&gt; 91 92 | 
&gt; 92 93 | 
158,160c197,204
&lt; 105 105 |     pass
&lt; 106 106 | 
&lt; 107 107 | 
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 105 106 |     pass
&gt; 106 107 | 
&gt; 107 108 | 
162,165c206,209
&lt;     108 |+def f(arg: Literal[1] | None = None):  # RUF013
&lt; 109 109 |     pass
&lt; 110 110 | 
&lt; 111 111 | 
---
&gt;     109 |+def f(arg: Literal[1] | None = None):  # RUF013
&gt; 109 110 |     pass
&gt; 110 111 | 
&gt; 111 112 | 
176,178c220,227
&lt; 109 109 |     pass
&lt; 110 110 | 
&lt; 111 111 | 
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 109 110 |     pass
&gt; 110 111 | 
&gt; 111 112 | 
180,183c229,232
&lt;     112 |+def f(arg: Literal[1, &quot;foo&quot;] | None = None):  # RUF013
&lt; 113 113 |     pass
&lt; 114 114 | 
&lt; 115 115 | 
---
&gt;     113 |+def f(arg: Literal[1, &quot;foo&quot;] | None = None):  # RUF013
&gt; 113 114 |     pass
&gt; 114 115 | 
&gt; 115 116 | 
194,196c243,250
&lt; 128 128 |     pass
&lt; 129 129 | 
&lt; 130 130 | 
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 128 129 |     pass
&gt; 129 130 | 
&gt; 130 131 | 
198,201c252,255
&lt;     131 |+def f(arg: Annotated[int | None, ...] = None):  # RUF013
&lt; 132 132 |     pass
&lt; 133 133 | 
&lt; 134 134 | 
---
&gt;     132 |+def f(arg: Annotated[int | None, ...] = None):  # RUF013
&gt; 132 133 |     pass
&gt; 133 134 | 
&gt; 134 135 | 
212,214c266,273
&lt; 132 132 |     pass
&lt; 133 133 | 
&lt; 134 134 | 
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 132 133 |     pass
&gt; 133 134 | 
&gt; 134 135 | 
216,219c275,278
&lt;     135 |+def f(arg: Annotated[Annotated[int | str | None, ...], ...] = None):  # RUF013
&lt; 136 136 |     pass
&lt; 137 137 | 
&lt; 138 138 | 
---
&gt;     136 |+def f(arg: Annotated[Annotated[int | str | None, ...], ...] = None):  # RUF013
&gt; 136 137 |     pass
&gt; 137 138 | 
&gt; 138 139 | 
232,234c291,298
&lt; 148 148 | 
&lt; 149 149 | 
&lt; 150 150 | def f(
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 148 149 | 
&gt; 149 150 | 
&gt; 150 151 | def f(
236,239c300,303
&lt;     151 |+    arg1: int | None = None,  # RUF013
&lt; 152 152 |     arg2: Union[int, float] = None,  # RUF013
&lt; 153 153 |     arg3: Literal[1, 2, 3] = None,  # RUF013
&lt; 154 154 | ):
---
&gt;     152 |+    arg1: int | None = None,  # RUF013
&gt; 152 153 |     arg2: Union[int, float] = None,  # RUF013
&gt; 153 154 |     arg3: Literal[1, 2, 3] = None,  # RUF013
&gt; 154 155 | ):
253,255c317,324
&lt; 149 149 | 
&lt; 150 150 | def f(
&lt; 151 151 |     arg1: int = None,  # RUF013
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 149 150 | 
&gt; 150 151 | def f(
&gt; 151 152 |     arg1: int = None,  # RUF013
257,260c326,329
&lt;     152 |+    arg2: Union[int, float] | None = None,  # RUF013
&lt; 153 153 |     arg3: Literal[1, 2, 3] = None,  # RUF013
&lt; 154 154 | ):
&lt; 155 155 |     pass
---
&gt;     153 |+    arg2: Union[int, float] | None = None,  # RUF013
&gt; 153 154 |     arg3: Literal[1, 2, 3] = None,  # RUF013
&gt; 154 155 | ):
&gt; 155 156 |     pass
274,276c343,350
&lt; 150 150 | def f(
&lt; 151 151 |     arg1: int = None,  # RUF013
&lt; 152 152 |     arg2: Union[int, float] = None,  # RUF013
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 150 151 | def f(
&gt; 151 152 |     arg1: int = None,  # RUF013
&gt; 152 153 |     arg2: Union[int, float] = None,  # RUF013
278,281c352,355
&lt;     153 |+    arg3: Literal[1, 2, 3] | None = None,  # RUF013
&lt; 154 154 | ):
&lt; 155 155 |     pass
&lt; 156 156 | 
---
&gt;     154 |+    arg3: Literal[1, 2, 3] | None = None,  # RUF013
&gt; 154 155 | ):
&gt; 155 156 |     pass
&gt; 156 157 | 
292,294c366,373
&lt; 178 178 |     pass
&lt; 179 179 | 
&lt; 180 180 | 
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 178 179 |     pass
&gt; 179 180 | 
&gt; 180 181 | 
296,299c375,378
&lt;     181 |+def f(arg: Union[Annotated[int, ...], Union[str, bytes]] | None = None):  # RUF013
&lt; 182 182 |     pass
&lt; 183 183 | 
&lt; 184 184 | 
---
&gt;     182 |+def f(arg: Union[Annotated[int, ...], Union[str, bytes]] | None = None):  # RUF013
&gt; 182 183 |     pass
&gt; 183 184 | 
&gt; 184 185 | 
307c386
&lt;     = help: Convert to `T | None`
---
&gt;     = help: Convert to `Optional[T]`
314c393
&lt;     188 |+def f(arg: &quot;int | None&quot; = None):  # RUF013
---
&gt;     188 |+def f(arg: &quot;Optional[int]&quot; = None):  # RUF013
325c404
&lt;     = help: Convert to `T | None`
---
&gt;     = help: Convert to `Optional[T]`
332c411
&lt;     192 |+def f(arg: &quot;str | None&quot; = None):  # RUF013
---
&gt;     192 |+def f(arg: &quot;Optional[str]&quot; = None):  # RUF013
343c422
&lt;     = help: Convert to `T | None`
---
&gt;     = help: Convert to `Optional[T]`
354,356c433,440
&lt; 201 201 |     pass
&lt; 202 202 | 
&lt; 203 203 | 
---
&gt;     1   |+from __future__ import annotations
&gt; 1   2   | from typing import Annotated, Any, Literal, Optional, Tuple, Union, Hashable
&gt; 2   3   | 
&gt; 3   4   | 
&gt; --------------------------------------------------------------------------------
&gt; 201 202 |     pass
&gt; 202 203 | 
&gt; 203 204 | 
358,361c442,445
&lt;     204 |+def f(arg: Union[&quot;int&quot;, &quot;str&quot;] | None = None):  # RUF013
&lt; 205 205 |     pass
&lt; 206 206 | 
&lt; 207 207 |
---
&gt;     205 |+def f(arg: Union[&quot;int&quot;, &quot;str&quot;] | None = None):  # RUF013
&gt; 205 206 |     pass
&gt; 206 207 | 
&gt; 207 208 |
</code></pre>
</details>

<details><summary>RUF013_1.py</summary>

<pre><code class="language-diff">3d2
&lt; snapshot_kind: text
15,16c14,16
&lt; 2 2 |
&lt; 3 3 |
---
&gt;   2 |+from __future__ import annotations
&gt; 2 3 |
&gt; 3 4 |
18,19c18,19
&lt;   4 |+def f(arg: int | None = None):  # RUF013
&lt; 5 5 |     pass
---
&gt;   5 |+def f(arg: int | None = None):  # RUF013
&gt; 5 6 |     pass
</code></pre>
</details>

<details><summary>RUF013_3.py</summary>

<pre><code class="language-diff">3d2
&lt; snapshot_kind: text
14,16c13,16
&lt; 1 1 | import typing
&lt; 2 2 | 
&lt; 3 3 | 
---
&gt;   1 |+from __future__ import annotations
&gt; 1 2 | import typing
&gt; 2 3 | 
&gt; 3 4 | 
18,21c18,21
&lt;   4 |+def f(arg: typing.List[str] | None = None):  # RUF013
&lt; 5 5 |     pass
&lt; 6 6 | 
&lt; 7 7 | 
---
&gt;   5 |+def f(arg: typing.List[str] | None = None):  # RUF013
&gt; 5 6 |     pass
&gt; 6 7 | 
&gt; 7 8 | 
32,34c32,39
&lt; 19 19 |     pass
&lt; 20 20 | 
&lt; 21 21 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | import typing
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 19 20 |     pass
&gt; 20 21 | 
&gt; 21 22 | 
36,39c41,44
&lt;    22 |+def f(arg: typing.Union[int, str] | None = None):  # RUF013
&lt; 23 23 |     pass
&lt; 24 24 | 
&lt; 25 25 | 
---
&gt;    23 |+def f(arg: typing.Union[int, str] | None = None):  # RUF013
&gt; 23 24 |     pass
&gt; 24 25 | 
&gt; 25 26 | 
50,52c55,62
&lt; 26 26 | # Literal
&lt; 27 27 | 
&lt; 28 28 | 
---
&gt;    1  |+from __future__ import annotations
&gt; 1  2  | import typing
&gt; 2  3  | 
&gt; 3  4  | 
&gt; --------------------------------------------------------------------------------
&gt; 26 27 | # Literal
&gt; 27 28 | 
&gt; 28 29 | 
54,55c64,65
&lt;    29 |+def f(arg: typing.Literal[1, &quot;foo&quot;, True] | None = None):  # RUF013
&lt; 30 30 |     pass
---
&gt;    30 |+def f(arg: typing.Literal[1, &quot;foo&quot;, True] | None = None):  # RUF013
&gt; 30 31 |     pass
</code></pre>
</details>

<details><summary>RUF013_4.py</summary>

<pre><code class="language-diff">3d2
&lt; snapshot_kind: text
13,15c12,20
&lt; 12 12 | def multiple_1(arg1: Optional, arg2: Optional = None): ...
&lt; 13 13 |
&lt; 14 14 |
---
&gt; 1  1  | # https://github.com/astral-sh/ruff/issues/13833
&gt;    2  |+from __future__ import annotations
&gt; 2  3  |
&gt; 3  4  | from typing import Optional
&gt; 4  5  |
&gt; --------------------------------------------------------------------------------
&gt; 12 13 | def multiple_1(arg1: Optional, arg2: Optional = None): ...
&gt; 13 14 |
&gt; 14 15 |
17,20c22,25
&lt;    15 |+def multiple_2(arg1: Optional, arg2: Optional = None, arg3: int | None = None): ...
&lt; 16 16 |
&lt; 17 17 |
&lt; 18 18 | def return_type(arg: Optional = None) -&gt; Optional: ...
---
&gt;    16 |+def multiple_2(arg1: Optional, arg2: Optional = None, arg3: int | None = None): ...
&gt; 16 17 |
&gt; 17 18 |
&gt; 18 19 | def return_type(arg: Optional = None) -&gt; Optional: ...
</code></pre>
</details>

<h2>Future work</h2>
<p>This PR does not touch UP006, UP007, or UP045, which are currently coupled to FA100. If this new approach turns out well, we may eventually want to deprecate FA100 and add a <code>__future__</code> import in those rules' fixes too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-07-02 19:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">configuration</span> added by @ntBre on 2025-07-02 19:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fixes</span> added by @ntBre on 2025-07-02 19:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-07-02 19:47</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Daverball">@Daverball</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/mod.rs</code>:95 on 2025-07-03 14:07</div>
            <div class="timeline-body"><p>I'd enable <code>flake8-type-checking.quote-annotations</code> as well, or at least add a separate test case for that, so we're sure these two settings don't interact badly, especially since it can change the result of <code>is_typing_reference</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Daverball">@Daverball</a> reviewed on 2025-07-03 14:14</div>
            <div class="timeline-body"><p>Looks pretty good to me, but I think we should test the interaction with <code>quote-annotations</code> more carefully.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-07-08 09:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:309 on 2025-07-08 09:16</div>
            <div class="timeline-body"><p>I think this <code>if</code> condition is worth splitting. It was already very long, but the fact that it now also mutates outer variable makes it rather surprising</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-07-08 09:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:588 on 2025-07-08 09:18</div>
            <div class="timeline-body"><p>Should we move this into the else branch on line 608?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-08 09:20</div>
            <div class="timeline-body"><p>Do we need to add the same check to other rules as well (UP?).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-09 22:09</div>
            <div class="timeline-body"><p>Thanks @Daverball, your suspicions were true. I wasn't handling the quoting setting properly. I resurrected some of the ideas from #18919 but with four values, as you suggested there (<code>Yes</code>, <code>No</code>, <code>Future</code>, and <code>Quote</code> instead of <code>Yes</code>/<code>No</code>/<code>Maybe</code>).</p>
<p>I think this looks a lot nicer (modulo the somewhat awkward names I picked) <em>and</em> handles both settings being enabled, as the updated tests show.</p>
<p>I'll extend this to the UP rules tomorrow, but hopefully this is a solid draft of the TC rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @ntBre on 2025-07-14 14:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @ntBre on 2025-07-14 14:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-14 14:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:332 on 2025-07-14 14:17</div>
            <div class="timeline-body"><p>I converted the checks above to a guarded <code>continue</code> instead of nesting everything in the <code>if</code>, so most of the diff from here down is just a whitespace change. The only functional change is the new argument to <code>fix_imports</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:37 on 2025-07-14 14:43</div>
            <div class="timeline-body"><p>Should we move this documentation to the variants on <code>TypingReference</code>?</p>
<p>The <code>Yes</code> variant seems a bit odd given that <code>from_references</code> isn't asking a boolean question. How about <code>Yes</code> -&gt; <code>TypingOnly</code>. <code>No</code> -&gt; <code>Runtime</code>. I'd also suggest you to order them as <code>No</code>, <code>Quote</code>, <code>Future</code>, <code>Yes</code> (or opposite ordering)</p>
<p>Another possible representation is to use <code>TypingReference::Typing</code> and <code>::Runtime(Option&lt;RuntimeKind&gt;)</code> where <code>RuntimeKind</code> is <code>Future</code> or <code>Quote</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:96 on 2025-07-14 14:43</div>
            <div class="timeline-body"><p>You could consider deriving <code>Ord</code> and use <code>.min</code> or <code>.max</code> (requires that the enum variants are in the correct ordering)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:35 on 2025-07-14 14:47</div>
            <div class="timeline-body"><p>Should we gate any of this behavior behind preview so that we could make changes to the settings without having to wait for a stable release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:301 on 2025-07-14 14:48</div>
            <div class="timeline-body"><p>Should we move the <code>binding.references().map</code> to <code>TypingReference::from_references</code>. It feels very repetitive (e.g. <code>TypingReference::from_binding(binding, checker.semantic()</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff/tests/lint.rs</code>:996 on 2025-07-15 12:12</div>
            <div class="timeline-body"><p>I did a quick scan through our settings that use the <code>allow</code> prefix and the once I checked are exclusively used to allow (ignore the rule) for specific patterns either because it's an allowlist or allows a specific pattern in general.</p>
<p>It also doesn't align well with <code>quote-annotations</code> which is technically its pendant.</p>
<p>That's why I think that <code>allow</code> isn't a good prefix here.</p>
<p>I'd probably go with something like <code>future-annotations</code>, or <code>import-future-annotations</code>, similar to <code>typing_extension</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/checkers/ast/mod.rs</code>:2785 on 2025-07-15 12:23</div>
            <div class="timeline-body"><p>Nit: I would probably move the entire condition into <code>quoted_annotation</code>, considering that <code>quoted_annotation</code> already takes <code>self</code> as an argument (it has everything it needs to determine itself if it should put this into quotes or not).</p>
<pre><code class="language-suggestion">                        if self.is_rule_enabled(Rule::QuotedAnnotation) {
                            pyupgrade::rules::quoted_annotation(
                                self,
                                annotation,
                                range,
                            );
                        }
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-07-15 12:31</div>
            <div class="timeline-body"><blockquote>
<p>I started adding a fix for <a href="https://docs.astral.sh/ruff/rules/runtime-string-union/#runtime-string-union-tc010">runtime-string-union (TC010)</a> too, as mentioned in my previous <a href="https://github.com/astral-sh/ruff/issues/18502#issuecomment-3005238092">comment</a>, but some of the existing tests already imported <code>from __future__ import annotations</code>, so I think we intentionally flag these cases for the user to inspect. Adding the import is <em>a</em> fix but probably not the best one.</p>
</blockquote>
<p>Hmm, I'm not sure I'm <em>totally</em> convinced by this reasoning. I think if you're happy with <code>from __future__ import annotations</code> being added in some modules, you'll probably want it to be imported in most modules where it's useful. It results in a lot less visual clutter than having quoted annotations everywhere.</p>
<p>That said, I'm fine deferring TC010 for now!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:307 on 2025-07-15 12:31</div>
            <div class="timeline-body"><p>Could we avoid doing all the extra work below if the setting is false (I assume the <code>Yes</code> and <code>Quote</code> cases are the only cases where the rule did something before)</p>
<pre><code class="language-suggestion">            TypingReference::Future =&gt; if allow_future_import { add_future_import = true } else { continue }
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:513 on 2025-07-15 12:35</div>
            <div class="timeline-body"><p>Nit: I'm somewhat inclined to store on the binding whether it needs a from future import, given that we iterate all bindings anyway to find <code>at</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/implicit_optional.rs</code>:231 on 2025-07-15 12:41</div>
            <div class="timeline-body"><p>I think we can remove the <code>add_future_import</code> variable and instead compute it in <code>generate_fix</code>: It needs to add the future import if <code>BinOpOr</code> is <code>true</code> and the Python version is older than Python 3.10</p>
<pre><code class="language-suggestion">            let mut add_future_import = false;
            let conversion_type = if checker.target_version() &gt;= PythonVersion::PY310 || checker.settings().allow_importing_future_annotations {
                ConversionType::BinOpOr
            } else {
                ConversionType::Optional
            };

            let mut diagnostic =
                checker.report_diagnostic(ImplicitOptional { conversion_type }, expr.range());
            diagnostic
                .try_set_fix(|| generate_fix(checker, conversion_type, expr, add_future_import));
        }
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-07-15 12:48</div>
            <div class="timeline-body"><p>Thank you. This overall looks good to me.</p>
<p>I think we want to make this a preview only change so that we can iterate on it's behavior without requiring a minor release (or add new rules).</p>
<p>We also need to update all rule documentation to mention the new setting and how it changes behavior.</p>
<p>Lastely, we should create follow up issues to tackle the remaining rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/importer/mod.rs</code>:538 on 2025-07-15 12:59</div>
            <div class="timeline-body"><p>does this guarantee that it will always be the first import in the file? If not, we might introduce a syntax error</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:22 on 2025-07-15 13:00</div>
            <div class="timeline-body"><p>nit</p>
<pre><code class="language-suggestion">#[derive(Clone, Copy, Debug)]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:37 on 2025-07-15 13:02</div>
            <div class="timeline-body"><p>nit: I'd find this documentation easier to read if you had a separate doc-comment for each variant above, I think</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-07-15 13:04</div>
            <div class="timeline-body"><p>(Micha asked me to take a quick look, but I haven't done an exhaustive review. It all basically LGTM!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 13:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/importer/mod.rs</code>:538 on 2025-07-15 13:23</div>
            <div class="timeline-body"><p>I believe so. This is how the fix for FA100 works too:</p>
<p>https://github.com/astral-sh/ruff/blob/92a302e291eb61791335178a48c9240a794d2f88/crates/ruff_linter/src/rules/flake8_future_annotations/rules/future_rewritable_type_annotation.rs#L98-L108</p>
<p>I also wrote that, so it's a bit circular to cite it, but I think I got it from a preexisting <code>__future__</code> import example. I'll double check that and also factor out this FA100 call.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 13:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/importer/mod.rs</code>:538 on 2025-07-15 13:29</div>
            <div class="timeline-body"><p>Oh that's right, I got it from FA102:</p>
<p>https://github.com/astral-sh/ruff/blob/f200d5c3ea758b3d349666aa4364083d2f51c37f/crates/ruff_linter/src/rules/flake8_future_annotations/rules/future_required_type_annotation.rs#L90-L98</p>
<p>I <em>think</em> the <code>TextSize::default</code> ensures it goes at the beginning of the file. That should take the <code>Insertion::start_of_file</code> branch in <code>Importer::add_import</code>, which should place it right after the docstring and any commented lines.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-07-15 13:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/importer/mod.rs</code>:538 on 2025-07-15 13:32</div>
            <div class="timeline-body"><p>Aha, I see! It might be worth adding a comment next to the <code>TextSize::default()</code> call saying that it ensures this behaviour?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 14:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:96 on 2025-07-15 14:23</div>
            <div class="timeline-body"><p>Oh, neat! I had to use the order <code>No</code>/<code>Runtime</code>, <code>Future</code>, <code>Quote</code>, <code>Yes</code>/<code>TypingOnly</code> (swapping <code>Quote</code> and <code>Future</code> from your suggestion above), but that's really nice.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 14:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:307 on 2025-07-15 14:41</div>
            <div class="timeline-body"><p>I <em>think</em> we should have already continued in that case:</p>
<p>https://github.com/astral-sh/ruff/blob/0748c1141bf4785dede0d5e585554318a9f3f5d1/crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs#L275-L284</p>
<p>I added a <code>panic!</code> instead of continue in your snippet and none of our tests hit this, at least, but I'm happy to include it just in case. It's definitely more clear-cut than the code I linked to above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 14:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:307 on 2025-07-15 14:42</div>
            <div class="timeline-body"><p>Oh another reason is that we can only get the <code>Future</code> variant if the setting is enabled:</p>
<p>https://github.com/astral-sh/ruff/blob/0748c1141bf4785dede0d5e585554318a9f3f5d1/crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs#L63-L71</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:307 on 2025-07-15 14:42</div>
            <div class="timeline-body"><p>Oh, that makes sense. You could also add a comment saying just that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-07-15 14:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-15 15:28</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>I started adding a fix for <a href="https://docs.astral.sh/ruff/rules/runtime-string-union/#runtime-string-union-tc010">runtime-string-union (TC010)</a> too, as mentioned in my previous <a href="https://github.com/astral-sh/ruff/issues/18502#issuecomment-3005238092">comment</a>, but some of the existing tests already imported <code>from __future__ import annotations</code>, so I think we intentionally flag these cases for the user to inspect. Adding the import is <em>a</em> fix but probably not the best one.</p>
</blockquote>
<p>Hmm, I'm not sure I'm <em>totally</em> convinced by this reasoning. I think if you're happy with <code>from __future__ import annotations</code> being added in some modules, you'll probably want it to be imported in most modules where it's useful. It results in a lot less visual clutter than having quoted annotations everywhere.</p>
<p>That said, I'm fine deferring TC010 for now!</p>
</blockquote>
<p>Ah, I see what you mean. My draft fix added the import but didn't unquote the annotation, which is why I thought it didn't make much sense. If we add the import and then unquote the annotation, this would be a nice fix.</p>
<p>I added this and the other rules we mentioned to https://github.com/astral-sh/ruff/issues/19359. Let me know if I missed any!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 15:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code>:513 on 2025-07-15 15:30</div>
            <div class="timeline-body"><p>That makes sense. I think this revealed another place where we could add an import. TC004 also uses <code>ImportBinding</code>. It looks like we may be able to reuse the <code>TypingReference</code> enum in place of its current <code>Action</code> enum too. I'll add this to the follow-up issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 15:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/ruff/rules/implicit_optional.rs</code>:231 on 2025-07-15 15:37</div>
            <div class="timeline-body"><p>That's much nicer, thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 16:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:35 on 2025-07-15 16:17</div>
            <div class="timeline-body"><p>I added a <code>LinterSettings</code> method that checks both the setting and if preview is enabled to enable this new behavior. Let me know if that's not what you had in mind.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-07-15 16:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff/tests/lint.rs</code>:996 on 2025-07-15 16:25</div>
            <div class="timeline-body"><p>Makes sense. I liked <code>import-future-annotations</code> at first, but I think you're right that this has basically the same semantics as <code>typing-extensions</code>, so it makes sense to call it just <code>future-annotations</code>. I made this change last in case it's easier to review.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @MichaReiser on 2025-07-15 16:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-15 16:27</div>
            <div class="timeline-body"><p>I'll do another review tomorrow. Could you rebase the PR before then?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-07-15 16:28</div>
            <div class="timeline-body"><p>Yep, I was merging main and getting ready to push right now!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_type_checking/helpers.rs</code>:19 on 2025-07-16 07:13</div>
            <div class="timeline-body"><p>Let's add a comment explaining that the variants need to be ordered by their precedence. It's sort of important</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_workspace/src/options.rs</code>:541 on 2025-07-16 07:16</div>
            <div class="timeline-body"><p>I think we should mention that this option is preview only for now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-07-16 07:16</div>
            <div class="timeline-body"><p>This is great. Thank you for pushing this forward</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`flake8-type-checking`] Add `from __future__ import annotations` to allow a fix" to "[`flake8-type-checking`, `pyupgrade`, `ruff`] Add `from __future__ import annotations` when it would allow new fixes (`TC001`, `TC002`, `TC003`, `UP037`, `RUF013`)" by @ntBre on 2025-07-16 12:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ntBre on 2025-07-16 12:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-07-16 12:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-07-16 12:50</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 17:58:38 UTC
    </footer>
</body>
</html>
