```yaml
number: 8082
title: "Rename `tab-size` to `indent-width`"
type: pull_request
state: merged
author: MichaReiser
labels:
  - configuration
assignees: []
merged: true
base: main
head: rename-tab-size-to-tab-width
created_at: 2023-10-20T01:08:20Z
updated_at: 2023-10-24T14:01:26Z
url: https://github.com/astral-sh/ruff/pull/8082
synced_at: 2026-01-12T15:55:25Z
```

# Rename `tab-size` to `indent-width`

---

_@MichaReiser_

## Summary

This PR renames the `tab-size` configuration option to `indent-width` to express that the formatter uses the option to determine the indentation width AND as tab width. 

I first preferred naming the option `tab-width` but then decided to go with `indent-width` because:

* It aligns with the `indent-style` option
* It would allow us to write a lint rule that asserts that each indentation uses `indent-width` spaces. 

 Closes #7643

## Test Plan

Added integration test


---

_Comment by @MichaReiser on 2023-10-20 01:08_

Current dependencies on/for this PR:
* main
  * **PR #8150** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/8150" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
    * **PR #8082** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/8082" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ
    * **PR #8039** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/8039" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/8082?utm_source=stack-comment).

---

_@charliermarsh approved on 2023-10-20 01:09_

---

_Review comment by @charliermarsh on `crates/ruff_workspace/src/options.rs`:402 on 2023-10-20 01:09_

Nit: We typically stylize as `PEP 8`.

---

_@charliermarsh reviewed on 2023-10-20 01:09_

---

_Comment by @github-actions[bot] on 2023-10-20 01:30_

## PR Check Results
### Ecosystem
âœ… ecosystem check detected no changes.



---

_Review comment by @dhruvmanila on `crates/ruff_workspace/src/options.rs`:409 on 2023-10-20 02:36_

Same question as in the parent PR - Do we want to provide the version in which the option will be removed?

---

_@dhruvmanila approved on 2023-10-20 02:55_

---

_Label `configuration` added by @dhruvmanila on 2023-10-20 02:55_

---

_@MichaReiser reviewed on 2023-10-20 05:12_

---

_Review comment by @MichaReiser on `crates/ruff_workspace/src/options.rs`:402 on 2023-10-20 05:12_

I also fixed the reference to PEP257

---

_@MichaReiser reviewed on 2023-10-20 05:14_

---

_Review comment by @MichaReiser on `crates/ruff_workspace/src/options.rs`:409 on 2023-10-20 05:14_

I don't think I've a good enough intuition for our release cycle yet to predict a good depreciation version, and I want to avoid that I reference a version that might never ship (we may end up releasing 1.0 before we ever ship 0.5)

---

_Review requested from @charliermarsh by @MichaReiser on 2023-10-24 03:26_

---

_@MichaReiser reviewed on 2023-10-24 03:27_

---

_Review comment by @MichaReiser on `crates/ruff_linter/src/fix/edits.rs`:308 on 2023-10-24 03:27_

We could rename all these fields but here the `indent-width` is used as `tab-width` only, so keeping it as is felt correct.

---

_Comment by @MichaReiser on 2023-10-24 08:06_

### Merge activity

* **Oct 24, 4:06 AM**: [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/8082) rebased this pull request as part of a merge.
* **Oct 24, 4:14 AM**: [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/8082) couldn't merge this PR because it had conflicts with the trunk branch.


---

_Comment by @MichaReiser on 2023-10-24 08:56_

@charliermarsh feel free to hit merge when the changes look reasonable to you

---

_Merged by @charliermarsh on 2023-10-24 14:01_

---

_Closed by @charliermarsh on 2023-10-24 14:01_

---

_Branch deleted on 2023-10-24 14:01_

---
