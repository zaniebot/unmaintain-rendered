<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] don't include Unknown in the type for a conditionally-defined import - astral-sh/ruff #13563</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] don&#x27;t include Unknown in the type for a conditionally-defined import</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/13563">#13563</a>
        opened by <a href="https://github.com/pilleye">@pilleye</a>
        on 2024-09-30 03:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a></div>
            <div class="timeline-body">Summary
<p>Fixes the bug described in #13514 where an unbound public type defaulted to the type or <code>Unknown</code>, whereas it should only be the type if unbound.</p>
Test Plan
<p>Added a new test case</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/pilleye">@pilleye</a> on 2024-09-30 03:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/pilleye">@pilleye</a> on 2024-09-30 03:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/pilleye">@pilleye</a> on 2024-09-30 03:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[red-knot] don&#x27;t include Unknown in the type for a conditionally-defined import #13514&quot; to &quot;[red-knot] don&#x27;t include Unknown in the type for a conditionally-defined import&quot; by <a href="https://github.com/pilleye">@pilleye</a> on 2024-09-30 03:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a> reviewed on 2024-09-30 03:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pilleye">@pilleye</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:61 on 2024-09-30 03:10</div>
            <div class="timeline-body"><p>below this is the case where <code>use_def.has_public_declarations(symbol)</code> is false, what would be a situation where we fall into that case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-09-30 03:19</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>ℹ️ ecosystem check <strong>encountered linter errors</strong>. (no lint changes; 54 project errors)</p>
<a href="https://github.com/DisnakeDev/disnake">DisnakeDev/disnake</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/PostHog/HouseWatch">PostHog/HouseWatch</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/Snowflake-Labs/snowcli">Snowflake-Labs/snowcli</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/aiven/aiven-client">aiven/aiven-client</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/alteryx/featuretools">alteryx/featuretools</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/PlasmaPy/PlasmaPy">PlasmaPy/PlasmaPy</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/apache/airflow">apache/airflow</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/apache/superset">apache/superset</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/aws/aws-sam-cli">aws/aws-sam-cli</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/binary-husky/gpt_academic">binary-husky/gpt_academic</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/bloomberg/pytest-memray">bloomberg/pytest-memray</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/docker/docker-py">docker/docker-py</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/facebookresearch/chameleon">facebookresearch/chameleon</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/freedomofpress/securedrop">freedomofpress/securedrop</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/fronzbot/blinkpy">fronzbot/blinkpy</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/ing-bank/probatus">ing-bank/probatus</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/jrnl-org/jrnl">jrnl-org/jrnl</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/lnbits/lnbits">lnbits/lnbits</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/milvus-io/pymilvus">milvus-io/pymilvus</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/mlflow/mlflow">mlflow/mlflow</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/model-bakers/model_bakery">model-bakers/model_bakery</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/prefecthq/prefect">prefecthq/prefect</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/build">pypa/build</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/cibuildwheel">pypa/cibuildwheel</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/pip">pypa/pip</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/setuptools">pypa/setuptools</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python/mypy">python/mypy</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python/typeshed">python/typeshed</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select E,F,FA,I,PYI,RUF,UP,W</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python-poetry/poetry">python-poetry/poetry</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/qdrant/qdrant-client">qdrant/qdrant-client</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/reflex-dev/reflex">reflex-dev/reflex</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/rotki/rotki">rotki/rotki</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/scikit-build/scikit-build">scikit-build/scikit-build</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/scikit-build/scikit-build-core">scikit-build/scikit-build-core</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/spruceid/siwe-py">spruceid/siwe-py</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/tiangolo/fastapi">tiangolo/fastapi</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/yandex/ch-backup">yandex/ch-backup</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/indico/indico">indico/indico</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/zanieb/huggingface-notebooks">zanieb/huggingface-notebooks</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select A,E703,F704,B015,B018,D100</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/openai/openai-cookbook">openai/openai-cookbook</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select A,E703,F704,B015,B018,D100</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/agronholm/anyio">agronholm/anyio</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python-trio/trio">python-trio/trio</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/wntrblm/nox">wntrblm/nox</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pytest-dev/pytest">pytest-dev/pytest</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/encode/httpx">encode/httpx</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/mesonbuild/meson-python">mesonbuild/meson-python</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pdm-project/pdm">pdm-project/pdm</a> (error)
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>


Linter (preview)
<p>ℹ️ ecosystem check <strong>encountered linter errors</strong>. (no lint changes; 54 project errors)</p>
<a href="https://github.com/DisnakeDev/disnake">DisnakeDev/disnake</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/PostHog/HouseWatch">PostHog/HouseWatch</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/Snowflake-Labs/snowcli">Snowflake-Labs/snowcli</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/aiven/aiven-client">aiven/aiven-client</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/alteryx/featuretools">alteryx/featuretools</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/PlasmaPy/PlasmaPy">PlasmaPy/PlasmaPy</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/apache/airflow">apache/airflow</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/apache/superset">apache/superset</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/aws/aws-sam-cli">aws/aws-sam-cli</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/binary-husky/gpt_academic">binary-husky/gpt_academic</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/bloomberg/pytest-memray">bloomberg/pytest-memray</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/docker/docker-py">docker/docker-py</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/facebookresearch/chameleon">facebookresearch/chameleon</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/freedomofpress/securedrop">freedomofpress/securedrop</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/fronzbot/blinkpy">fronzbot/blinkpy</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/ing-bank/probatus">ing-bank/probatus</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/jrnl-org/jrnl">jrnl-org/jrnl</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/lnbits/lnbits">lnbits/lnbits</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/milvus-io/pymilvus">milvus-io/pymilvus</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/mlflow/mlflow">mlflow/mlflow</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/model-bakers/model_bakery">model-bakers/model_bakery</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/prefecthq/prefect">prefecthq/prefect</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/build">pypa/build</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/cibuildwheel">pypa/cibuildwheel</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/pip">pypa/pip</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pypa/setuptools">pypa/setuptools</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python/mypy">python/mypy</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python/typeshed">python/typeshed</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select E,F,FA,I,PYI,RUF,UP,W</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python-poetry/poetry">python-poetry/poetry</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/qdrant/qdrant-client">qdrant/qdrant-client</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/reflex-dev/reflex">reflex-dev/reflex</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/rotki/rotki">rotki/rotki</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/scikit-build/scikit-build">scikit-build/scikit-build</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/scikit-build/scikit-build-core">scikit-build/scikit-build-core</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/spruceid/siwe-py">spruceid/siwe-py</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/tiangolo/fastapi">tiangolo/fastapi</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/yandex/ch-backup">yandex/ch-backup</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/indico/indico">indico/indico</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/zanieb/huggingface-notebooks">zanieb/huggingface-notebooks</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select A,E703,F704,B015,B018,D100</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/openai/openai-cookbook">openai/openai-cookbook</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select A,E703,F704,B015,B018,D100</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/agronholm/anyio">agronholm/anyio</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/python-trio/trio">python-trio/trio</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/wntrblm/nox">wntrblm/nox</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pytest-dev/pytest">pytest-dev/pytest</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/encode/httpx">encode/httpx</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/mesonbuild/meson-python">mesonbuild/meson-python</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>

<a href="https://github.com/pdm-project/pdm">pdm-project/pdm</a> (error)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre><code>/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.39&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
/home/runner/work/ruff/ruff/ruff: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.38&#x27; not found (required by /home/runner/work/ruff/ruff/ruff)
</code></pre>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Slyces">@Slyces</a> reviewed on 2024-09-30 07:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Slyces">@Slyces</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:61 on 2024-09-30 07:23</div>
            <div class="timeline-body"><pre><code>if flag:
    x = 1
</code></pre>
<p>See my comment on #13514</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-09-30 11:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5496 on 2024-09-30 20:39</div>
            <div class="timeline-body"><p>We can now remove this comment, and the similar one in two below tests, because the lack of <code>sys.version_info</code> handling no longer results in a spurious <code>Unknown</code> here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2024-09-30 20:40</div>
            <div class="timeline-body"><p>Awesome, thank you!! Just a few comment removals and this looks good to go.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-09-30 21:35</div>
            <div class="timeline-body"><p>Oh, I didn&#x27;t notice tests are failing. We&#x27;ll need to update the tests, and I&#x27;ll need to look at the resulting assertion changes to make sure we aren&#x27;t getting any undesired side effects from this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-09-30 22:09</div>
            <div class="timeline-body"><p>Ah, I missed those tests on the latest version, will fix tonight.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-01 01:16</div>
            <div class="timeline-body"><p>~~There seems to be a weird side-effect where we&#x27;re narrowing <code>Unbound | Unknown</code> types to just <code>Unknown</code> instead of <code>Unbound</code>: https://github.com/pilleye/ruff/blob/pilleye/public-known/crates/red_knot_python_semantic/src/types/infer.rs#L5313~~</p>
<p>Misread the case</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-01 01:25</div>
            <div class="timeline-body"><p>So one thing I&#x27;m realizing here is that we are using <code>assert_public_ty</code> in some tests where we really intend to be testing &quot;what is the local type of this variable at the end of the scope&quot; -- this was natural because those used to be the same thing, but in this PR we are definitively making them different.</p>
<p>So for tests like <code>basic_for_loop</code>, for example, what we should really do instead of using <code>assert_public_ty</code> is to add a <code>reveal_type(x)</code> as the last line in the test code, and then <code>assert_file_diagnostics</code> that we get the expected type revealed there, which will include <code>Unbound</code>. This will be a bit more verbose for now, but it&#x27;ll get better in the upcoming test framework.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-01 01:50</div>
            <div class="timeline-body"><p>Working through a global-related bugs right now.</p>
<p>We seem to be incorrectly shadowing global builtins with <code>Never</code> here: https://github.com/pilleye/ruff/blob/pilleye/public-known/crates/red_knot_python_semantic/src/types/infer.rs#L4431</p>
<p>This is currently narrowed to <code>Literal[1]</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-01 02:48</div>
            <div class="timeline-body"><p>Ah ok, so that&#x27;s going to be due to the use of <code>global_symbol_ty</code> in <code>TypeInferenceBuilder::lookup_name</code>. We need to use a function there that <em>does</em> union with unbound (if unbound is possible), so that we can replace unbound with the builtin definition. So the set of functions in <code>types.rs</code>: <code>global_symbol_ty</code>, <code>symbol_ty</code>, <code>symbol_ty_by_name</code>, <code>symbol_ty_by_id</code> are going to have to be split between the import case and the global-lookup-within-the-module case.</p>
<p>I would probably keep those functions as is, and add a new <code>global_symbol_lookup</code> function that a) still inserts <code>Type::Unbound</code> in case unbound is possible, and b) should also use only definitions, not declared types, even if there are declarations (so it&#x27;s like just the second case in <code>symbol_ty_by_id</code>). (We may want a new test to verify (b) as well.) We may not even need <code>global_symbol_lookup</code> to be a function; I think the only callsite will be in <code>TypeInferenceBuilder::lookup_name</code>, so it can probably just be inlined there, since it shouldn&#x27;t be more than a couple lines.</p>
<p>Let me know if any of that doesn&#x27;t make sense! Thanks for working through this. I knew the first version of this PR was too simple to be true 😆</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-01 05:39</div>
            <div class="timeline-body"><p>Haha the first version seemed suspiciously easy</p>
<p>I think I got the tests working, but definitely feels way jankier than I would want. Would appreciate comments!</p>
<p>I think trying to genericize <code>symbol_ty_by_id</code> adds unnecessary complexity, so I might just inline that code as you said.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:3369 on 2024-10-01 18:31</div>
            <div class="timeline-body"><p>I don&#x27;t think this is a behavior change we want. If you import a fully undeclared/undefined name, you should get a diagnostic, but the imported name should have type <code>Unknown</code> in this case. Otherwise you&#x27;ll just get lots of useless cascading errors about doing invalid things with <code>Never</code>.</p>
<p>There is currently a special case in <code>TypeInferenceBuilder::infer_import_from_definition</code> where we transform <code>Unbound</code> to <code>Unknown</code> -- that&#x27;s why this test exists. That special case becomes obsolete with this PR (we&#x27;ll never get <code>Unbound</code> there anymore), but I think the special case should be updated to check for <code>Never</code>, emit a diagnostic (use <code>self.add_diagnostic</code>), and transform the <code>Never</code> to <code>Unknown</code>. (It&#x27;s also fine if you want to just add a TODO for the diagnostic and we can add it in a later PR; we&#x27;ll also want a similar diagnostic that&#x27;s currently missing in <code>infer_import_definition</code>, for a nonexistent module.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4267 on 2024-10-01 18:32</div>
            <div class="timeline-body"><p>nit: it&#x27;s only maybe unbound</p>
<pre><code>    fn resolve_unannotated_maybe_unbound_public() -&gt; anyhow::Result&lt;()&gt; {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4256 on 2024-10-01 18:32</div>
            <div class="timeline-body"><pre><code>    fn resolve_maybe_undeclared_maybe_unbound_public() -&gt; anyhow::Result&lt;()&gt; {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-01 18:34</div>
            <div class="timeline-body"><p>This is one of those cases where part of the whole purpose of the test is actually to show that we know which names might be unbound, so we should really update the test such that it doesn&#x27;t use (only)<code>assert_public_ty</code>, because it&#x27;s really not the public type we want to assert on.</p>
<p>I earlier suggested an approach using <code>reveal_type</code>, and I think that&#x27;s actually a fine option in the tests below where you use it.</p>
<p>I realized a simpler approach in some of these tests (particularly the global-scope ones) might be to keep these <code>assert_public_ty</code> but add another helper <code>assert_may_be_unbound</code> (which uses the use-def map directly) and explicitly assert here that <code>r</code> and <code>s</code> may be unbound. This way we actually get both the assertion on the public type, and an assertion that locally we do know the name might be unbound.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4647 on 2024-10-01 18:37</div>
            <div class="timeline-body"><p>same as above, should have an assertion in some form that <code>y</code> can be unbound here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4771 on 2024-10-01 18:44</div>
            <div class="timeline-body"><p>So on further thought and discussion with the team, I think I pointed you in the wrong direction here yesterday; sorry about that! I think we should always use the same logic, respecting both declarations and definitions. (Maybe we will want to consider using only definitions for a not-global nonlocal reference, but that&#x27;s not a change we should make in this PR.)</p>
<p>I still think the test case you added here is useful! But I would want the assertion to change such that when you add the annotation, you get <code>Literal[copyright] | int</code> instead of <code>Literal[copyright] | Literal[1]</code>.</p>
<p>And if the assertion changes, it&#x27;s probably clearer to be a fully separate test rather than a <code>#[test_case]</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5496 on 2024-10-01 18:46</div>
            <div class="timeline-body"><p>another case where it&#x27;s important that we assert on may-be-unbound</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5602 on 2024-10-01 18:46</div>
            <div class="timeline-body"><p>and another</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5688 on 2024-10-01 18:49</div>
            <div class="timeline-body"><p>we should assert on maybe-unbound here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5717 on 2024-10-01 18:49</div>
            <div class="timeline-body"><p>and here</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5864 on 2024-10-01 18:50</div>
            <div class="timeline-body"><p>This comment (including the two previous lines GH won&#x27;t let me comment on) can be removed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:5890 on 2024-10-01 18:50</div>
            <div class="timeline-body"><p>And this one can be removed too</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:104 on 2024-10-01 18:52</div>
            <div class="timeline-body"><pre><code>/// Shorthand for `symbol_ty_by_id` that looks up a global symbol from the context of being in that
/// module, including fallback to globals if (possibly) not defined.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:115 on 2024-10-01 18:54</div>
            <div class="timeline-body"><p>So I realized that a simpler approach that doesn&#x27;t require threading this context through would be to just use <code>symbol_ty_by_id</code> (which can always use <code>Never</code> and never <code>Unbound</code> or <code>Unknown</code> as the unbound-ty), and then explicitly use the use-def map here to check directly whether the name may be undeclared and may be unbound, and then if so, look up the builtin type and union that with the symbol public type.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types.rs</code>:105 on 2024-10-01 18:55</div>
            <div class="timeline-body"><p>I still think it might be fine to inline this into <code>TypeInferenceBuilder::lookup_name</code>, since I don&#x27;t think it will have any other call sites? If we do keep it as a separate function, then I think it should include the builtins-fallback part too; that&#x27;s part of a &quot;global symbol lookup&quot;.</p>
<p>Also I don&#x27;t think it needs to be <code>pub(crate)</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> had review dismissed on 2024-10-01 18:57</div>
            <div class="timeline-body"><p>Nice work! You did what I asked for yesterday, but I now realize that in some cases I asked for the wrong thing 😆 Sorry about that! I&#x27;ve talked this over with the team (by which I mean @AlexWaygood in this case) and I think we&#x27;ve got a clearer plan in mind now; let me know if any of the comments are not clear.</p>
<p>Thanks for all your work on this! You definitely didn&#x27;t pick an easy first task :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-02 00:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-14 18:42</div>
            <div class="timeline-body"><p>Hi @pilleye! I&#x27;d love to get this landed soon since it affects other work we want to do. Really appreciate your work on it so far, and if you don&#x27;t have time to wrap it up that&#x27;s no problem, we can pick it up. Let me know if we should go ahead and do that!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-15 19:06</div>
            <div class="timeline-body"><p>Ah sorry, I&#x27;ve just been a bit busy the past week with other work, I&#x27;ll try to get it in a ready-to-review state tonight.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a> reviewed on 2024-10-15 19:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pilleye">@pilleye</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:3369 on 2024-10-15 19:27</div>
            <div class="timeline-body"><p>Just to double-check, <code>x</code> as viewed from <code>bar.py</code> should still be <code>Unknown</code>, not <code>Never</code>, right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a> reviewed on 2024-10-15 19:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pilleye">@pilleye</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-15 19:45</div>
            <div class="timeline-body"><p>~~Is there a way to add public type tests to the markdown tests introduced in #13719?~~</p>
<p>Never mind, figured it out with importing and revealing the type.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2024-10-15 20:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-15 20:07</div>
            <div class="timeline-body"><p>You can import it (since tests can be multi-file), or refer to the name as a global from within a nested function. Import probably makes it clearer what&#x27;s going on?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a> reviewed on 2024-10-15 20:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pilleye">@pilleye</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-15 20:31</div>
            <div class="timeline-body"><p>How do I run the mdtests? <code>cargo test</code> inside <code>red_knot_python_semantic</code> and <code>red_knot_test</code> both don&#x27;t seem to run it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2024-10-15 20:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:3369 on 2024-10-15 20:33</div>
            <div class="timeline-body"><p>Right, I think we should handle that in the importing code, instead of the current code which replaces unbound with unknown we&#x27;ll want to replace never with unknown (and emit a diagnostic, but that can be a TODO if you want, doesn&#x27;t have to be in this PR.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2024-10-15 20:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-15 20:34</div>
            <div class="timeline-body"><p><code>cargo test</code> inside <code>red_knot_python_semantic</code> (or <code>cargo test -p red_knot_python_semantic</code> from the workspace) should run the mdtests, and do for me. How are you concluding that they aren&#x27;t running?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a> reviewed on 2024-10-15 20:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pilleye">@pilleye</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-15 20:40</div>
            <div class="timeline-body"><p>Hmm, they only run when I run <code>cargo test mdtest</code> inside <code>red_knot_python_semantic</code>.</p>
<p>Without <code>mdtest</code>: https://gist.github.com/pilleye/7454e668bc19f9ca1969e0765a82a301
With <code>mdtest</code>: https://gist.github.com/pilleye/3e9842e37a911eb88f6ac26c281bb0dc</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2024-10-15 20:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-15 20:51</div>
            <div class="timeline-body"><p>That&#x27;s weird -- I&#x27;m not enough of a <code>cargo test</code> expert to explain this discrepancy :) For me they definitely run with just <code>cargo test</code>... In general my experience has been that <code>cargo test</code> runs all tests it discovers, both unit tests and integration tests. Not sure what might cause that to not be happening for you. <code>mdtest</code> is just a normal Rust integration test.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-15 21:29</div>
            <div class="timeline-body"><p>I&#x27;m stuck on a couple tests.</p>
<p>I also have another question, why don&#x27;t we use <code>symbol_ty(...)</code> in <code>infer.rs</code> for this line:</p>
<pre><code>let member_ty = module_ty.member(...)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-15 21:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-15 23:11</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m stuck on a couple tests.</p>
</blockquote>
<p>Taking a look! Thanks for all your work on this. If the changes to get everything passing look reasonably small, I might just go ahead and push them and land this, in the interest of efficiency, hope that&#x27;s OK with you.</p>
<blockquote>
<p>I also have another question, why don&#x27;t we use <code>symbol_ty(...)</code> in <code>infer.rs</code> for this line:</p>
<pre><code>let member_ty = module_ty.member(...)
</code></pre>
</blockquote>
<p>We kinda do use <code>global_symbol_ty</code>, because that&#x27;s the entire implementation of <code>Type::member</code> for <code>Type::Module</code> types. It&#x27;s just a layer of abstraction, since semantically what is happening here is an attribute access on a module object, and we model attribute accesses via <code>Type::member</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-16 02:08</div>
            <div class="timeline-body"><blockquote>
<p>If the changes to get everything passing look reasonably small, I might just go ahead and push them and land this, in the interest of efficiency, hope that&#x27;s OK with you.</p>
</blockquote>
<p>Taking one more stab at it tonight, but feel free to finish it if it unblocks y&#x27;all.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pilleye">@pilleye</a> reviewed on 2024-10-16 13:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pilleye">@pilleye</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-16 13:43</div>
            <div class="timeline-body"><p>Oh interesting, I didn&#x27;t realize that cargo doesn&#x27;t run integration tests if unit tests fail, so you have to run it with <code>--no-fail-fast</code> to get both tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-10-16 13:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-16 13:49</div>
            <div class="timeline-body"><p>huh, that <em>is</em> counterintuitive!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-16 14:54</div>
            <div class="timeline-body"><p>I think I have it mostly working, there are just a few weird issues that feel orthogonal like:</p>
<pre><code>---- types::infer::tests::exception_handler_with_invalid_syntax stdout ----
thread &#x27;types::infer::tests::exception_handler_with_invalid_syntax&#x27; panicked at crates/red_knot_python_semantic/src/types/infer.rs:3519:9:
assertion `left == right` failed
  left: [&quot;Object of type `Literal[reveal_type, reveal_type]` is not assignable to `Literal[reveal_type, reveal_type]`&quot;, &quot;Revealed type is `Unknown`&quot;]
 right: [&quot;Revealed type is `Unknown`&quot;]
</code></pre>
<p>I&#x27;m guessing this is because when we&#x27;re looking at typeshed, we&#x27;re replacing a union containing <code>Unknown</code> with a union containing <code>Unbound</code> and that is getting replaced with <code>Never</code> and removed from the union. So we were originally assigning something to <code>Any</code>/<code>Unknown</code>, which was fine, but now we&#x27;re assigning literals to literals.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2024-10-16 18:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:4506 on 2024-10-16 18:07</div>
            <div class="timeline-body"><p>Ah, that makes sense! TIL</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-16 18:12</div>
            <div class="timeline-body"><p>@pilleye Ok, made some updates here and I think I got everything working -- didn&#x27;t really change that much, but I split out the commits to help clarify what I changed and why, feel free to look at the commits if you&#x27;re curious, lmk if anything doesn&#x27;t make sense.</p>
<p>Now getting these weird errors about the Salsa crate from CI, need to figure out what&#x27;s up with that but it doesn&#x27;t seem related to this PR...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-16 18:32</div>
            <div class="timeline-body"><p>Yeah ruff CI is currently broken for all PRs: <a href="https://github.com/astral-sh/ruff/pull/13780">astral-sh/ruff#13780</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pilleye">@pilleye</a> on 2024-10-16 19:35</div>
            <div class="timeline-body"><blockquote>
<p>@pilleye Ok, made some updates here and I think I got everything working -- didn&#x27;t really change that much, but I split out the commits to help clarify what I changed and why, feel free to look at the commits if you&#x27;re curious, lmk if anything doesn&#x27;t make sense.</p>
</blockquote>
<p>That makes so much more sense! Appreciate the breakdown of commits :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2024-10-16 20:45</div>
            <div class="timeline-body"><p>This ends up being kind of a hacky approach to the original problem, in that we still keep Unbound in all the base type queries (<code>global_symbol_ty</code>, etc) but replace it with Never in unions wherever a type &quot;escapes&quot; as a public type. But that&#x27;s fine; it gets the tests reflecting the types we actually should be seeing, which is progress. The better implementation will ultimately involve totally removing <code>Type::Unbound</code> anyway, which is a bigger change (<a href="https://github.com/astral-sh/ruff/issues/13671">astral-sh/ruff#13671</a>).</p>
<p>Thanks again @pilleye for all your work on this (very confusing, as it turned out) issue!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/carljm">@carljm</a> on 2024-10-16 20:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/carljm">@carljm</a> on 2024-10-16 20:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-18 04:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:07:07 UTC
    </footer>
</body>
</html>
