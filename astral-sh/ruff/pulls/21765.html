<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Default-specialization of generic type aliases - astral-sh/ruff #21765</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Default-specialization of generic type aliases</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21765">#21765</a>
        opened by <a href="https://github.com/sharkdp">@sharkdp</a>
        on 2025-12-02 20:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Implement default-specialization of generic type aliases (implicit or PEP-613) if they are used in a type expression without an explicit specialization.</p>
<p>closes https://github.com/astral-sh/ty/issues/1690</p>
<h2>Typing conformance</h2>
<pre><code class="language-diff">-generics_defaults_specialization.py:26:5: error[type-assertion-failure] Type `SomethingWithNoDefaults[int, str]` does not match asserted type `SomethingWithNoDefaults[int, DefaultStrT]`
</code></pre>
<p>That's exactly what we want :heavy_check_mark:</p>
<p>All other tests in this file pass as well, with the exception of this assertion, which is just wrong (at least according to our interpretation, <code>type[Bar] != &lt;class 'Bar'&gt;</code>). I checked that we do correctly default-specialize the type parameter which is not displayed in the diagnostic that we raise.</p>
<pre><code class="language-py">class Bar(SubclassMe[int, DefaultStrT]): ...

assert_type(Bar, type[Bar[str]])  # ty: Type `type[Bar[str]]` does not match asserted type `&lt;class 'Bar'&gt;`
</code></pre>
<h2>Ecosystem impact</h2>
<p>Looks like I should have included this last week :sunglasses:</p>
<h2>Test Plan</h2>
<p>Updated pre-existing tests and add a few new ones.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @sharkdp on 2025-12-02 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by @sharkdp on 2025-12-02 20:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-02 20:20</div>
            <div class="timeline-body"><!-- generated-comment typing_conformance_diagnostics_diff -->

<h2>Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a></h2>
<details>
<summary>Changes were detected when running ty on typing conformance tests</summary>

<pre><code class="language-diff">--- old-output.txt	2025-12-02 20:50:07.128924253 +0000
+++ new-output.txt	2025-12-02 20:50:10.790957699 +0000
@@ -470,7 +470,6 @@
 generics_defaults_referential.py:37:10: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `int`, found `Literal[&quot;&quot;]`
 generics_defaults_referential.py:94:1: error[type-assertion-failure] Type `type[Bar[Any, list[Any]]]` does not match asserted type `&lt;class 'Bar'&gt;`
 generics_defaults_referential.py:95:1: error[type-assertion-failure] Type `type[Bar[int, list[int]]]` does not match asserted type `&lt;class 'Bar[int, list[int]]'&gt;`
-generics_defaults_specialization.py:26:5: error[type-assertion-failure] Type `SomethingWithNoDefaults[int, str]` does not match asserted type `SomethingWithNoDefaults[int, DefaultStrT]`
 generics_defaults_specialization.py:30:15: error[invalid-type-arguments] Too many type arguments: expected between 0 and 1, got 2
 generics_defaults_specialization.py:45:1: error[type-assertion-failure] Type `type[Bar[str]]` does not match asserted type `&lt;class 'Bar'&gt;`
 generics_paramspec_basic.py:10:1: error[invalid-paramspec] The name of a `ParamSpec` (`NotIt`) must match the name of the variable it is assigned to (`WrongName`)
@@ -1029,4 +1028,4 @@
 typeddicts_usage.py:28:17: error[missing-typed-dict-key] Missing required key 'name' in TypedDict `Movie` constructor
 typeddicts_usage.py:28:18: error[invalid-key] Unknown key &quot;title&quot; for TypedDict `Movie`: Unknown key &quot;title&quot;
 typeddicts_usage.py:40:24: error[invalid-type-form] The special form `typing.TypedDict` is not allowed in type expressions
-Found 1031 diagnostics
+Found 1030 diagnostics

</code></pre>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-02 20:21</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<details>
<summary>Changes were detected when running on open source projects</summary>

<pre><code class="language-diff">beartype (https://github.com/beartype/beartype)
- beartype/_decor/decorcache.py:74:16: error[invalid-return-type] Return type does not match returned value: expected `BeartypeableT@BeartypeReturn | ((BeartypeableT@BeartypeConfedDecorator, /) -&gt; BeartypeableT@BeartypeConfedDecorator)`, found `BeartypeableT@beartype | BeartypeableT@BeartypeReturn | ((BeartypeableT@BeartypeConfedDecorator, /) -&gt; BeartypeableT@BeartypeConfedDecorator)`
- beartype/_decor/decorcache.py:130:5: error[invalid-assignment] Invalid subscript assignment with key of type `BeartypeConf` and value of type `def _beartype_confed(obj: BeartypeableT@beartype) -&gt; BeartypeableT@beartype` on object of type `dict[BeartypeConf, (BeartypeableT@BeartypeConfedDecorator, /) -&gt; BeartypeableT@BeartypeConfedDecorator]`
- beartype/_decor/decorcache.py:133:12: error[invalid-return-type] Return type does not match returned value: expected `BeartypeableT@BeartypeReturn | ((BeartypeableT@BeartypeConfedDecorator, /) -&gt; BeartypeableT@BeartypeConfedDecorator)`, found `def _beartype_confed(obj: BeartypeableT@beartype) -&gt; BeartypeableT@beartype`
- beartype/_decor/decormain.py:93:20: error[invalid-return-type] Return type does not match returned value: expected `BeartypeableT@BeartypeReturn | ((BeartypeableT@BeartypeConfedDecorator, /) -&gt; BeartypeableT@BeartypeConfedDecorator)`, found `BeartypeableT@beartype`
- Found 496 diagnostics
+ Found 492 diagnostics

paasta (https://github.com/yelp/paasta)
- paasta_tools/metrics/metastatus_lib.py:591:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `(Sequence[_GenericNodeT@_GenericNodeSortFunctionT], /) -&gt; Sequence[_GenericNodeT@_GenericNodeSortFunctionT]`
+ paasta_tools/metrics/metastatus_lib.py:591:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `(Sequence[Unknown], /) -&gt; Sequence[Unknown]`
- paasta_tools/metrics/metastatus_lib.py:776:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `(Sequence[_GenericNodeT@_GenericNodeSortFunctionT], /) -&gt; Sequence[_GenericNodeT@_GenericNodeSortFunctionT]`
+ paasta_tools/metrics/metastatus_lib.py:776:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `(Sequence[Unknown], /) -&gt; Sequence[Unknown]`
- paasta_tools/metrics/metastatus_lib.py:815:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `(Sequence[_GenericNodeT@_GenericNodeSortFunctionT], /) -&gt; Sequence[_GenericNodeT@_GenericNodeSortFunctionT]`
+ paasta_tools/metrics/metastatus_lib.py:815:5: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `(Sequence[Unknown], /) -&gt; Sequence[Unknown]`

schemathesis (https://github.com/schemathesis/schemathesis)
+ src/schemathesis/specs/openapi/negative/mutations.py:164:89: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `Unknown | ((MutationContext, (SearchStrategy[Unknown], /) -&gt; Unknown, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None])`
- src/schemathesis/specs/openapi/negative/mutations.py:145:25: error[invalid-assignment] Object of type `T@Draw` is not assignable to `list[(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]]`
- src/schemathesis/specs/openapi/negative/mutations.py:145:30: error[invalid-argument-type] Argument is incorrect: Expected `SearchStrategy[T@Draw]`, found `SearchStrategy[list[(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]]]`
- src/schemathesis/specs/openapi/negative/mutations.py:152:25: error[invalid-assignment] Object of type `T@Draw` is not assignable to `list[(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]]`
- src/schemathesis/specs/openapi/negative/mutations.py:152:30: error[invalid-argument-type] Argument is incorrect: Expected `SearchStrategy[T@Draw]`, found `SearchStrategy[list[(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]]]`
- src/schemathesis/specs/openapi/negative/mutations.py:162:28: error[call-non-callable] Object of type `T@Draw` is not callable
- src/schemathesis/specs/openapi/negative/mutations.py:164:60: error[unresolved-attribute] Object of type `T@Draw` has no attribute `is_enabled`
- src/schemathesis/specs/openapi/negative/mutations.py:164:89: error[unresolved-attribute] Object of type `(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]` has no attribute `__name__`
- src/schemathesis/specs/openapi/negative/mutations.py:231:72: error[unresolved-attribute] Object of type `T@Draw` has no attribute `is_enabled`
- src/schemathesis/specs/openapi/negative/mutations.py:248:9: error[invalid-argument-type] Argument is incorrect: Expected `str | None`, found `T@Draw`
- src/schemathesis/specs/openapi/negative/mutations.py:288:27: error[invalid-argument-type] Argument to bound method `remove` is incorrect: Expected `str`, found `T@Draw`
- src/schemathesis/specs/openapi/negative/mutations.py:292:63: error[unresolved-attribute] Object of type `T@Draw` has no attribute `is_enabled`
- src/schemathesis/specs/openapi/negative/mutations.py:297:46: error[invalid-argument-type] Argument to function `prevent_unsatisfiable_schema` is incorrect: Expected `str`, found `T@Draw`
- src/schemathesis/specs/openapi/negative/mutations.py:361:32: error[not-iterable] Object of type `T@Draw` is not iterable
- src/schemathesis/specs/openapi/negative/mutations.py:361:37: error[invalid-argument-type] Argument is incorrect: Expected `SearchStrategy[T@Draw]`, found `SearchStrategy[list[Unknown]]`
- src/schemathesis/specs/openapi/negative/mutations.py:390:12: error[unresolved-attribute] Object of type `T@Draw` has no attribute `is_enabled`
- src/schemathesis/specs/openapi/negative/mutations.py:393:20: error[unresolved-attribute] Object of type `T@Draw` has no attribute `is_enabled`
- src/schemathesis/specs/openapi/negative/mutations.py:393:49: error[unresolved-attribute] Object of type `(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]` has no attribute `__name__`
+ src/schemathesis/specs/openapi/negative/mutations.py:393:49: error[unresolved-attribute] Object of type `(MutationContext, (SearchStrategy[Unknown], /) -&gt; Unknown, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]` has no attribute `__name__`
- src/schemathesis/specs/openapi/negative/mutations.py:547:37: error[unresolved-attribute] Object of type `T@Draw` has no attribute `is_enabled`
- src/schemathesis/specs/openapi/negative/mutations.py:607:12: error[invalid-return-type] Return type does not match returned value: expected `tuple[(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None], ...]`, found `T@Draw`
- src/schemathesis/specs/openapi/negative/mutations.py:607:17: error[invalid-argument-type] Argument is incorrect: Expected `SearchStrategy[T@Draw]`, found `SearchStrategy[list[(MutationContext, (SearchStrategy[T@Draw], /) -&gt; T@Draw, dict[str, Any], /) -&gt; tuple[MutationResult, MutationMetadata | None]]]`
- Found 290 diagnostics
+ Found 272 diagnostics

freqtrade (https://github.com/freqtrade/freqtrade)
- freqtrade/data/converter/converter.py:77:12: error[no-matching-overload] No overload of bound method `aggregate` matches arguments
- freqtrade/data/converter/trade_converter_kraken.py:59:33: error[invalid-argument-type] Argument to function `read_csv` is incorrect: Expected `MutableSequence[HashableT] | ndarray[tuple[int], dtype[GenericT]] | tuple[HashableT, ...] | range | None`, found `list[Unknown | str]`
- freqtrade/data/metrics.py:351:18: error[no-matching-overload] No overload of function `std` matches arguments
- freqtrade/data/metrics.py:378:16: error[no-matching-overload] No overload of function `std` matches arguments
- freqtrade/exchange/binance_public_data.py:285:33: error[invalid-argument-type] Argument to function `read_csv` is incorrect: Expected `MutableSequence[HashableT] | ndarray[tuple[int], dtype[GenericT]] | tuple[HashableT, ...] | range | None`, found `list[Unknown | str]`
- freqtrade/exchange/binance_public_data.py:371:9: error[invalid-argument-type] Argument to function `read_csv` is incorrect: Expected `MutableSequence[HashableT] | ndarray[tuple[int], dtype[GenericT]] | tuple[HashableT, ...] | range | None`, found `list[Unknown | str]`
- freqtrade/freqai/data_kitchen.py:179:30: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `Sequence[Unknown] | Iterable[Sequence[Unknown] | ndarray[tuple[int], dtype[GenericT]] | Series[Any] | ... omitted 3 union elements] | Series[Any] | ... omitted 4 union elements`, found `Unknown | _Buffer | _SupportsArray[dtype[Any]] | ... omitted 7 union elements`
+ freqtrade/freqai/data_kitchen.py:179:30: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `Sequence[Unknown] | Iterable[Sequence[Unknown] | ndarray[tuple[int], dtype[Any]] | Series[Any] | ... omitted 3 union elements] | Series[Any] | ... omitted 4 union elements`, found `Unknown | _Buffer | _SupportsArray[dtype[Any]] | ... omitted 7 union elements`
- freqtrade/freqai/freqai_interface.py:490:13: error[invalid-assignment] Object of type `ndarray[tuple[int], dtype[float64]]` is not assignable to attribute `DI_values` of type `ndarray[tuple[Any, ...], dtype[_ScalarT]]`
- freqtrade/optimize/optimize_reports/optimize_reports.py:210:28: error[no-matching-overload] No overload of bound method `groupby` matches arguments
+ freqtrade/optimize/optimize_reports/optimize_reports.py:215:84: error[invalid-argument-type] Argument to function `_generate_result_line` is incorrect: Expected `str | list[str]`, found `str | bytes | date | ... omitted 10 union elements`
- Found 695 diagnostics
+ Found 688 diagnostics

Tanjun (https://github.com/FasterSpeeding/Tanjun)
- tanjun/annotations.py:1469:46: error[invalid-type-form] Variable of type `type[_EnumT@__getitem__]` is not allowed in a type expression
+ tanjun/annotations.py:1469:46: error[invalid-type-form] Variable of type `type[Unknown]` is not allowed in a type expression
- tanjun/annotations.py:1601:29: error[invalid-type-form] Variable of type `type[_T@_annotated]` is not allowed in a type expression
+ tanjun/annotations.py:1601:29: error[invalid-type-form] Variable of type `type[Unknown]` is not allowed in a type expression
- tanjun/annotations.py:2206:64: error[invalid-type-form] Variable of type `type[_T@__getitem__]` is not allowed in a type expression
+ tanjun/annotations.py:2206:64: error[invalid-type-form] Variable of type `type[Unknown]` is not allowed in a type expression
- tanjun/dependencies/data.py:160:70: error[invalid-type-form] Variable of type `type[_T@make_lc_resolver]` is not allowed in a type expression
+ tanjun/dependencies/data.py:160:70: error[invalid-type-form] Variable of type `type[Unknown]` is not allowed in a type expression

discord.py (https://github.com/Rapptz/discord.py)
- discord/app_commands/transformers.py:238:22: error[invalid-type-form] Variable of type `Self@__or__` is not allowed in a type expression
+ discord/ext/commands/bot.py:501:69: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- discord/ext/commands/bot.py:424:37: error[invalid-argument-type] Argument to bound method `append` is incorrect: Expected `(ContextT@UserCheck, /) -&gt; bool | Coroutine[Any, Any, bool]`, found `(ContextT@add_check, /) -&gt; bool | Coroutine[Any, Any, bool]`
- discord/ext/commands/bot.py:426:33: error[invalid-argument-type] Argument to bound method `append` is incorrect: Expected `(ContextT@UserCheck, /) -&gt; bool | Coroutine[Any, Any, bool]`, found `(ContextT@add_check, /) -&gt; bool | Coroutine[Any, Any, bool]`
- discord/ext/commands/bot.py:449:22: error[invalid-argument-type] Argument to bound method `remove` is incorrect: Expected `(ContextT@UserCheck, /) -&gt; bool | Coroutine[Any, Any, bool]`, found `(ContextT@remove_check, /) -&gt; bool | Coroutine[Any, Any, bool]`
- discord/ext/commands/core.py:1146:9: error[invalid-assignment] Object of type `((CogT@Command, ContextT@before_invoke, /) -&gt; Coroutine[Any, Any, Any]) | ((ContextT@before_invoke, /) -&gt; Coroutine[Any, Any, Any])` is not assignable to attribute `_before_invoke` of type `((CogT@Hook, ContextT@Hook, /) -&gt; Coroutine[Any, Any, Any]) | ((ContextT@Hook, /) -&gt; Coroutine[Any, Any, Any]) | None`
- discord/ext/commands/core.py:1177:9: error[invalid-assignment] Object of type `((CogT@Command, ContextT@after_invoke, /) -&gt; Coroutine[Any, Any, Any]) | ((ContextT@after_invoke, /) -&gt; Coroutine[Any, Any, Any])` is not assignable to attribute `_after_invoke` of type `((CogT@Hook, ContextT@Hook, /) -&gt; Coroutine[Any, Any, Any]) | ((ContextT@Hook, /) -&gt; Coroutine[Any, Any, Any]) | None`
- Found 566 diagnostics
+ Found 561 diagnostics

meson (https://github.com/mesonbuild/meson)
- mesonbuild/interpreter/interpreter.py:398:9: error[no-matching-overload] No overload of bound method `update` matches arguments
- mesonbuild/interpreter/interpreter.py:450:9: error[no-matching-overload] No overload of bound method `update` matches arguments
- mesonbuild/interpreterbase/baseobjects.py:70:17: error[no-matching-overload] No overload of bound method `update` matches arguments
- mesonbuild/interpreterbase/baseobjects.py:137:26: error[invalid-argument-type] Argument is incorrect: Expected `TYPE_op_arg@TYPE_op_func`, found `Self@operator_call`
- mesonbuild/interpreterbase/baseobjects.py:137:32: error[invalid-argument-type] Argument is incorrect: Expected `TYPE_op_arg@TYPE_op_func`, found `Sequence[Divergent] | int | dict[str, Divergent] | ... omitted 5 union elements`
- mesonbuild/interpreterbase/baseobjects.py:139:45: error[invalid-argument-type] Argument is incorrect: Expected `TYPE_op_arg@TYPE_op_func`, found `Self@operator_call`
- mesonbuild/interpreterbase/baseobjects.py:139:51: error[invalid-argument-type] Argument is incorrect: Expected `TYPE_op_arg@TYPE_op_func`, found `Sequence[Divergent] | int | dict[str, Divergent] | ... omitted 5 union elements`
- mesonbuild/interpreterbase/interpreterbase.py:569:28: error[invalid-argument-type] Argument is incorrect: Expected `InterpreterObjectTypeVar@HolderMapType`, found `HoldableObject | int | str | ... omitted 8 union elements`
- mesonbuild/interpreterbase/interpreterbase.py:573:32: error[invalid-argument-type] Argument is incorrect: Expected `InterpreterObjectTypeVar@HolderMapType`, found `HoldableObject | int | str | ... omitted 8 union elements`
- Found 1926 diagnostics
+ Found 1917 diagnostics

zope.interface (https://github.com/zopefoundation/zope.interface)
- src/zope/interface/interface.py:978:22: error[invalid-type-form] Variable of type `Self@__or__` is not allowed in a type expression
- src/zope/interface/interface.py:982:29: error[invalid-type-form] Variable of type `Self@__ror__` is not allowed in a type expression
- Found 421 diagnostics
+ Found 419 diagnostics

vision (https://github.com/pytorch/vision)
- references/depth/stereo/train.py:508:17: error[unresolved-attribute] Object of type `ndarray[tuple[Any, ...], dtype[_ScalarT]]` has no attribute `load_state_dict`
+ references/depth/stereo/train.py:508:17: error[unresolved-attribute] Object of type `ndarray[tuple[Any, ...], dtype[Unknown]]` has no attribute `load_state_dict`

pandera (https://github.com/pandera-dev/pandera)
- pandera/backends/pandas/checks.py:34:20: error[no-matching-overload] No overload of bound method `groupby` matches arguments
- pandera/backends/pandas/checks.py:34:20: error[no-matching-overload] No overload of bound method `groupby` matches arguments
+ tests/mypy/pandas_modules/pandas_series.py:9:4: error[invalid-argument-type] Argument to function `fn` is incorrect: Expected `Series[str]`, found `Series[str | float]`
+ tests/mypy/pandas_modules/pandas_series.py:12:4: error[invalid-argument-type] Argument to function `fn` is incorrect: Expected `Series[str]`, found `Series[float]`

setuptools (https://github.com/pypa/setuptools)
- setuptools/_vendor/typing_extensions.py:2074:29: error[invalid-type-form] Variable of type `Self@__or__` is not allowed in a type expression
- setuptools/_vendor/typing_extensions.py:2077:36: error[invalid-type-form] Variable of type `Self@__ror__` is not allowed in a type expression
- Found 1262 diagnostics
+ Found 1260 diagnostics

strawberry (https://github.com/strawberry-graphql/strawberry)
+ strawberry/types/field.py:200:25: error[not-iterable] Object of type `object` is not iterable
- strawberry/types/lazy_type.py:59:22: error[invalid-type-form] Variable of type `Self@__or__` is not allowed in a type expression
- strawberry/types/lazy_type.py:59:28: error[invalid-type-form] Variable of type `Other@__or__` is not allowed in a type expression
- Found 400 diagnostics
+ Found 399 diagnostics

hydra-zen (https://github.com/mit-ll-responsible-ai/hydra-zen)
- src/hydra_zen/third_party/beartype.py:129:31: error[invalid-argument-type] Argument to function `coerce_sequences` is incorrect: Argument type `_T@validates_with_beartype | BeartypeableT@BeartypeReturn | ((BeartypeableT@BeartypeConfedDecorator, /) -&gt; BeartypeableT@BeartypeConfedDecorator)` does not satisfy upper bound `(...) -&gt; Unknown` of type variable `_T`
- Found 539 diagnostics
+ Found 538 diagnostics

xarray (https://github.com/pydata/xarray)
- doc/examples/weather-data.ipynb:cell 3:6:36: error[unsupported-operator] Operator `/` is unsupported between objects of type `ndarray[tuple[int], dtype[GenericT]]` and `float`
- xarray/core/accessor_str.py:295:20: error[invalid-type-form] Variable of type `def slice(self, start: int | Any | None = None, stop: int | Any | None = None, step: int | Any | None = None) -&gt; T_DataArray@StringAccessor` is not allowed in a type expression
+ xarray/core/accessor_str.py:295:20: error[invalid-type-form] Variable of type `def slice(self, start: int | Any | None = None, stop: int | Any | None = None, step: int | Any | None = None) -&gt; Unknown` is not allowed in a type expression
- xarray/core/common.py:1121:45: error[invalid-argument-type] Argument is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `DataArray`
- xarray/core/dataarray.py:7086:22: error[invalid-argument-type] Argument is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `Hashable`
- xarray/core/dataset.py:10190:22: error[invalid-argument-type] Argument is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `Hashable`
- xarray/core/groupby.py:281:16: error[invalid-return-type] Return type does not match returned value: expected `tuple[T_DataArray@T_Group | _DummyGroup[Unknown], T_DataWithCoords@_ensure_1d, Hashable, list[Hashable]]`, found `tuple[DataArray, Any, Unknown, list[Hashable]]`
- xarray/core/groupby.py:423:34: error[invalid-argument-type] Argument is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `(DataArray &amp; ~ndarray[tuple[object, ...], dtype[object]] &amp; ~Top[Index[Any]] &amp; ~Grouper &amp; ~Top[Mapping[Unknown, object]]) | (Sequence[Hashable] &amp; Variable &amp; ~ndarray[tuple[object, ...], dtype[object]] &amp; ~Top[Index[Any]] &amp; ~Grouper &amp; ~Top[Mapping[Unknown, object]]) | (IndexVariable &amp; ~ndarray[tuple[object, ...], dtype[object]] &amp; ~Top[Index[Any]] &amp; ~Grouper &amp; ~Top[Mapping[Unknown, object]])`
- xarray/core/groupby.py:439:26: error[invalid-argument-type] Argument is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `Hashable`
- xarray/core/groupby.py:475:20: error[invalid-assignment] Object of type `DataArray` is not assignable to `T_DataArray@T_Group | _DummyGroup[Unknown]`
- xarray/core/groupby.py:488:20: error[invalid-assignment] Object of type `DataArray` is not assignable to `T_DataArray@T_Group | _DummyGroup[Unknown]`
- xarray/core/groupby.py:500:36: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `DataArray`, found `T_DataWithCoords@_resolve_group`
- xarray/core/groupby.py:680:28: error[invalid-argument-type] Argument to function `_ensure_1d` is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `DataArray`
- xarray/core/groupby.py:684:13: error[invalid-assignment] Object of type `None` is not assignable to attribute `group1d` of type `T_DataArray@T_Group | _DummyGroup[Unknown]`
- xarray/groupers.py:413:21: error[invalid-assignment] Object of type `DataArray` is not assignable to `T_DataArray@T_Group | _DummyGroup[Unknown]`
- xarray/groupers.py:438:55: warning[possibly-missing-attribute] Attribute `dtype` may be missing on object of type `T_DataArray@T_Group | _DummyGroup[Unknown]`
- xarray/groupers.py:944:46: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: ndarray[tuple[Any, ...], dtype[integer[Any] | bool[bool]]] | tuple[ndarray[tuple[Any, ...], dtype[integer[Any] | bool[bool]]], ...], /) -&gt; ndarray[tuple[Any, ...], str], (key: SupportsIndex | tuple[SupportsIndex, ...], /) -&gt; Any, (key: SupportsIndex | slice[Any, Any, Any] | EllipsisType | ... omitted 5 union elements, /) -&gt; ndarray[tuple[Any, ...], str], (key: str, /) -&gt; ndarray[tuple[int, ...], dtype[Any]], (key: list[str], /) -&gt; ndarray[tuple[int, ...], dtype[void]]]` cannot be called with key of type `Any | slice[Any, Any, Any]` on object of type `ndarray[tuple[int, ...], str]`
- xarray/groupers.py:950:13: error[no-matching-overload] No overload of bound method `groupby` matches arguments
- xarray/groupers.py:997:49: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: ndarray[tuple[Any, ...], dtype[integer[Any] | bool[bool]]] | tuple[ndarray[tuple[Any, ...], dtype[integer[Any] | bool[bool]]], ...], /) -&gt; ndarray[tuple[Any, ...], str], (key: SupportsIndex | tuple[SupportsIndex, ...], /) -&gt; Any, (key: SupportsIndex | slice[Any, Any, Any] | EllipsisType | ... omitted 5 union elements, /) -&gt; ndarray[tuple[Any, ...], str], (key: str, /) -&gt; ndarray[tuple[int, ...], dtype[Any]], (key: list[str], /) -&gt; ndarray[tuple[int, ...], dtype[void]]]` cannot be called with key of type `Any` on object of type `ndarray[tuple[int, ...], str]`
- xarray/structure/combine.py:158:26: error[unsupported-operator] Operator `-` is unsupported between objects of type `ndarray[tuple[int], dtype[GenericT]] | ExtensionArray` and `Literal[1]`
+ xarray/structure/combine.py:158:26: error[unsupported-operator] Operator `-` is unsupported between objects of type `ndarray[tuple[int], dtype[Any]] | ExtensionArray` and `Literal[1]`
- xarray/tests/test_coding_times.py:600:22: error[no-matching-overload] No overload of function `__new__` matches arguments
- xarray/tests/test_coding_times.py:616:16: error[no-matching-overload] No overload of function `__new__` matches arguments
- xarray/tests/test_coding_times.py:1508:11: error[no-matching-overload] No overload of function `__new__` matches arguments
- xarray/tests/test_coding_times.py:1530:11: error[no-matching-overload] No overload of function `__new__` matches arguments
- xarray/tests/test_cupy.py:24:40: error[unsupported-operator] Operator `/` is unsupported between objects of type `ndarray[tuple[int], dtype[GenericT]]` and `float`
- xarray/tests/test_formatting_html.py:98:40: error[unsupported-operator] Operator `/` is unsupported between objects of type `ndarray[tuple[int], dtype[GenericT]]` and `float`
- xarray/tests/test_groupby.py:2804:40: error[unsupported-operator] Operator `/` is unsupported between objects of type `ndarray[tuple[int], dtype[GenericT]]` and `float`
- xarray/tests/test_groupby.py:3165:46: error[invalid-argument-type] Argument to bound method `factorize` is incorrect: Expected `T_DataArray@T_Group | _DummyGroup[Unknown]`, found `DataArray`
- xarray/tests/test_rolling.py:709:9: error[no-matching-overload] No overload of function `assert_allclose` matches arguments
- xarray/tests/test_rolling.py:730:9: error[no-matching-overload] No overload of function `assert_allclose` matches arguments
- xarray/tests/test_rolling.py:758:9: error[no-matching-overload] No overload of function `assert_allclose` matches arguments
- xarray/tests/test_ufuncs.py:37:87: error[invalid-assignment] Object of type `list[int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 4 union elements]` is not assignable to `list[int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements]`
- xarray/tests/test_ufuncs.py:46:30: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:46:53: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:47:30: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:47:53: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:48:30: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:48:49: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:49:30: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:49:49: error[unsupported-operator] Operator `+` is unsupported between objects of type `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements` and `Literal[1]`
- xarray/tests/test_ufuncs.py:53:87: error[invalid-assignment] Object of type `list[int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 4 union elements]` is not assignable to `list[int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements]`
- xarray/tests/test_ufuncs.py:62:43: error[unsupported-operator] Operator `*` is unsupported between objects of type `float` and `int | float | ndarray[tuple[Any, ...], dtype[_ScalarT]] | ... omitted 3 union elements`
- Found 1733 diagnostics
+ Found 1694 diagnostics

scipy-stubs (https://github.com/scipy/scipy-stubs)
- scipy-stubs/special/_ufuncs.pyi:762:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:764:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:766:45: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:768:41: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:770:48: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:788:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:790:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:792:45: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:794:42: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:796:45: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:814:45: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:816:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:818:47: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:836:57: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:838:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:840:46: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:842:45: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:844:43: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:846:48: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:848:47: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1014:59: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1016:62: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1018:61: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1045:59: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1047:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1049:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1051:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1053:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1077:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1089:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1101:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1145:63: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1147:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1149:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1165:63: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1167:58: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1169:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1171:66: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1200:61: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1202:58: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1204:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1206:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1208:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1210:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1212:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1214:66: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1238:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1250:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1262:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1331:59: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1333:63: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1335:58: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1337:58: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1339:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1341:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1343:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1345:67: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1380:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1392:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1405:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1417:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1430:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1622:75: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1625:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1629:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1633:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1637:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1641:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1645:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1665:66: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1669:68: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1673:64: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1677:86: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1681:86: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1685:86: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1689:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1693:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1697:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1701:76: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1705:78: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1709:78: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1729:66: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1733:72: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1742:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1752:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1762:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1767:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1771:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1775:77: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1779:78: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1783:78: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1787:78: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1853:87: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1863:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1874:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1885:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1896:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1907:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1918:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1929:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1940:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1974:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1986:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:1998:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2010:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2039:82: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2043:84: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2047:79: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2057:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2068:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2079:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2090:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2101:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2112:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2123:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2134:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2145:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2156:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2167:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2178:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2206:82: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2210:90: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2220:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.pyi:2231:9: error[invalid-parameter-default] Default value of type `None` is not assignable to annotated parameter type `tuple[_MaybeOutT] | _MaybeOutT`
- scipy-stubs/special/_ufuncs.

... (truncated 1973 lines) ...
</code></pre>
</details>

<details>
<summary>Memory usage changes were detected when running on open source projects</summary>

<pre><code class="language-diff">sphinx (https://github.com/sphinx-doc/sphinx)
-     memo metadata = ~76MB
+     memo metadata = ~80MB

prefect (https://github.com/PrefectHQ/prefect)
-     memo metadata = ~159MB
+     memo metadata = ~167MB


</code></pre>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-02 20:28</div>
            <div class="timeline-body"><!-- generated-comment ty ecosystem-analyzer -->

<h2><code>ecosystem-analyzer</code> results</h2>
<p>| Lint rule | Added | Removed | Changed |
|-----------|------:|--------:|--------:|
| <code>no-matching-overload</code> | 3 | 453 | 0 |
| <code>type-assertion-failure</code> | 24 | 171 | 184 |
| <code>unsupported-operator</code> | 1 | 283 | 1 |
| <code>invalid-argument-type</code> | 5 | 239 | 26 |
| <code>invalid-return-type</code> | 0 | 206 | 3 |
| <code>invalid-parameter-default</code> | 0 | 134 | 3 |
| <code>invalid-assignment</code> | 0 | 52 | 3 |
| <code>invalid-context-manager</code> | 0 | 0 | 32 |
| <code>unresolved-attribute</code> | 9 | 14 | 2 |
| <code>invalid-type-form</code> | 0 | 9 | 8 |
| <code>non-subscriptable</code> | 2 | 15 | 0 |
| <code>unused-ignore-comment</code> | 8 | 0 | 0 |
| <code>not-iterable</code> | 1 | 3 | 1 |
| <code>possibly-missing-attribute</code> | 1 | 2 | 0 |
| <code>unsupported-base</code> | 2 | 0 | 0 |
| <code>call-non-callable</code> | 0 | 1 | 0 |
| <code>invalid-method-override</code> | 0 | 1 | 0 |
| <strong>Total</strong> | <strong>56</strong> | <strong>1,583</strong> | <strong>263</strong> |</p>
<p><strong><a href="https://david-default-specialize-1.ecosystem-663.pages.dev/diff">Full report with detailed diff</a></strong> (<a href="https://david-default-specialize-1.ecosystem-663.pages.dev/timing">timing results</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-12-02 20:36</div>
            <div class="timeline-body"><!-- __CODSPEED_PERFORMANCE_REPORT_COMMENT__ -->

<h2><a href="https://codspeed.io/astral-sh/ruff/branches/david%2Fdefault-specialize-1?utm_source=github&amp;utm_medium=comment&amp;utm_content=header">CodSpeed Performance Report</a></h2>
<h3>Merging #21765 will <strong>degrade performances by 5.37%</strong></h3>
<p><sub>Comparing <code>david/default-specialize-1</code> (c6a2501) with <code>main</code> (392a8e4)</sub></p>
<h3>Summary</h3>
<p><code> 1</code> improvement<br />
<code> 1 ( 1)</code> regression<br />
<code> 20</code> untouched<br />
<code> 30</code> skipped[^skipped]</p>
<h3>Benchmarks breakdown</h3>
<p>|     | Mode | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | ---- | --------- | ------ | ------ | ------ |
|  | WallTime | <a href="https://codspeed.io/astral-sh/ruff/branches/david%2Fdefault-specialize-1?uri=crates%2Fruff_benchmark%2Fbenches%2Fty_walltime.rs%3A%3Alarge%5Bpydantic%5D&amp;runnerMode=WallTime&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=benchmark"><code>large[pydantic]</code></a> | 207.9 s | 198.8 s | +4.56% |
|  | WallTime | <a href="https://codspeed.io/astral-sh/ruff/branches/david%2Fdefault-specialize-1?uri=crates%2Fruff_benchmark%2Fbenches%2Fty_walltime.rs%3A%3Amedium%5Bcolour-science%5D&amp;runnerMode=WallTime&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=benchmark"><code>medium[colour-science]</code></a> | 88.7 s | 93.8 s | -5.37% |
[^skipped]: 30 benchmarks were skipped, so the baseline results were used instead. If they were deleted from the codebase, <a href="https://codspeed.io/astral-sh/ruff/branches/david%2Fdefault-specialize-1?sectionId=benchmark-comparison-section-baseline-result-skipped&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=archive">click here and archive them to remove them from the performance reports</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @sharkdp on 2025-12-02 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @sharkdp on 2025-12-02 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @sharkdp on 2025-12-02 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @sharkdp on 2025-12-02 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @sharkdp on 2025-12-02 20:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> removed by @sharkdp on 2025-12-02 21:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by @sharkdp on 2025-12-02 21:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @sharkdp on 2025-12-02 21:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-12-02 22:16</div>
            <div class="timeline-body"><p>Lovely!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @sharkdp on 2025-12-03 08:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @sharkdp on 2025-12-03 08:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-12-03 08:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:17:47 UTC
    </footer>
</body>
</html>
