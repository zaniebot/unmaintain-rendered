<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Add positional-only-parameter-as-kwarg error - astral-sh/ruff #20495</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Add positional-only-parameter-as-kwarg error</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20495">#20495</a>
        opened by <a href="https://github.com/fgiacome">@fgiacome</a>
        on 2025-09-21 18:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/fgiacome">@fgiacome</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff/ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title? (Please prefix with `[ty]` for ty pull
  requests.)
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Fixes astral-sh/ty#1129</p>
<p>It adds a new lint <code>positional-only-parameter-as-kwarg</code> which is shown in place of <code>missing-argument</code> and <code>unknown-argument</code> when a positional-only parameter is supplied as a keyword argument.</p>
<h2>Test Plan</h2>
<p>Test cases for this error existed, so the existing test cases were updated to reflect the new output.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @fgiacome on 2025-09-21 18:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @fgiacome on 2025-09-21 18:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @fgiacome on 2025-09-21 18:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @fgiacome on 2025-09-21 18:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @fgiacome on 2025-09-21 18:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-22 09:43</div>
            <div class="timeline-body"><!-- generated-comment typing_conformance_diagnostics_diff -->

<h2>Diagnostic diff on <a href="https://github.com/python/typing/tree/d4f39b27a4a47aac8b6d4019e1b0b5b3156fabdc/conformance">typing conformance tests</a></h2>
<details>
<summary>Changes were detected when running ty on typing conformance tests</summary>

<pre><code class="language-diff">--- old-output.txt	2025-09-22 09:42:41.830760953 +0000
+++ new-output.txt	2025-09-22 09:42:44.920763507 +0000
@@ -592,10 +592,8 @@
 generics_variance_inference.py:170:1: error[invalid-assignment] Object of type `ShouldBeInvariant6[int]` is not assignable to `ShouldBeInvariant6[int | float]`
 generics_variance_inference.py:181:1: error[invalid-assignment] Object of type `ShouldBeCovariant6[int | float]` is not assignable to `ShouldBeCovariant6[int]`
 generics_variance_inference.py:194:1: error[invalid-assignment] Object of type `ShouldBeContravariant2[int]` is not assignable to `ShouldBeContravariant2[int | float]`
-historical_positional.py:18:1: error[missing-argument] No argument provided for required parameter `__x` of function `f1`
-historical_positional.py:18:4: error[unknown-argument] Argument `__x` does not match any known parameter of function `f1`
-historical_positional.py:43:1: error[missing-argument] No argument provided for required parameter `__x` of bound method `m1`
-historical_positional.py:43:6: error[unknown-argument] Argument `__x` does not match any known parameter of bound method `m1`
+historical_positional.py:18:4: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`__x`) passed as keyword argument of function `f1`
+historical_positional.py:43:6: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`__x`) passed as keyword argument of bound method `m1`
 literals_interactions.py:15:5: error[index-out-of-bounds] Index 5 is out of bounds for tuple `tuple[int, str, list[bool]]` with length 3
 literals_interactions.py:16:5: error[index-out-of-bounds] Index -5 is out of bounds for tuple `tuple[int, str, list[bool]]` with length 3
 literals_interactions.py:17:5: error[index-out-of-bounds] Index 4 is out of bounds for tuple `tuple[int, str, list[bool]]` with length 3
@@ -861,5 +859,5 @@
 typeddicts_usage.py:28:1: error[missing-typed-dict-key] Missing required key 'name' in TypedDict `Movie` constructor
 typeddicts_usage.py:28:18: error[invalid-key] Invalid key access on TypedDict `Movie`: Unknown key &quot;title&quot;
 typeddicts_usage.py:40:24: error[invalid-type-form] The special form `typing.TypedDict` is not allowed in type expressions. Did you mean to use a concrete TypedDict or `collections.abc.Mapping[str, object]` instead?
-Found 862 diagnostics
+Found 860 diagnostics
 WARN A fatal error occurred while checking some files. Not all project files were analyzed. See the diagnostics list above for details.
</code></pre>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @AlexWaygood on 2025-09-22 09:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by @AlexWaygood on 2025-09-22 09:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-22 09:53</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<details>
<summary>Changes were detected when running on open source projects</summary>

<pre><code class="language-diff">pywin32 (https://github.com/mhammond/pywin32)
- win32/Demos/GetSaveFileName.py:10:5: error[unknown-argument] Argument `InitialDir` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:11:5: error[unknown-argument] Argument `Flags` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:12:5: error[unknown-argument] Argument `File` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:13:5: error[unknown-argument] Argument `DefExt` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:14:5: error[unknown-argument] Argument `Title` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:15:5: error[unknown-argument] Argument `Filter` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:16:5: error[unknown-argument] Argument `CustomFilter` does not match any known parameter of function `GetSaveFileNameW`
- win32/Demos/GetSaveFileName.py:17:5: error[unknown-argument] Argument `FilterIndex` does not match any known parameter of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:10:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 8 (`InitialDir`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:11:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 10 (`Flags`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:12:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 6 (`File`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:13:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 11 (`DefExt`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:14:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 9 (`Title`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:15:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`Filter`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:16:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 4 (`CustomFilter`) passed as keyword argument of function `GetSaveFileNameW`
+ win32/Demos/GetSaveFileName.py:17:5: error[positional-only-parameter-as-kwarg] Positional-only parameter 5 (`FilterIndex`) passed as keyword argument of function `GetSaveFileNameW`

ibis (https://github.com/ibis-project/ibis)
+ ibis/backends/sql/tests/test_compiler.py:17:17: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`fraction`) passed as keyword argument of bound method `sample`
- ibis/backends/sql/tests/test_compiler.py:15:9: error[missing-argument] No argument provided for required parameter `fraction` of bound method `sample`
- ibis/backends/sql/tests/test_compiler.py:17:17: error[unknown-argument] Argument `fraction` does not match any known parameter of bound method `sample`
- Found 3281 diagnostics
+ Found 3280 diagnostics

dd-trace-py (https://github.com/DataDog/dd-trace-py)
- tests/appsec/iast/fixtures/taint_sinks/code_injection.py:37:29: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
+ tests/appsec/iast/fixtures/taint_sinks/code_injection.py:37:29: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`

CPython (Argument Clinic) (https://github.com/python/cpython)
- Lib/annotationlib.py:186:35: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:186:52: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:198:37: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:198:54: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
+ Lib/annotationlib.py:186:35: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:186:52: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:198:37: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:198:54: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
- Lib/test/test_builtin.py:781:62: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/test/test_builtin.py:782:62: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
+ Lib/test/test_builtin.py:781:62: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/test/test_builtin.py:782:62: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
- Lib/test/test_builtin.py:879:33: error[unknown-argument] Argument `globals` does not match any known parameter of function `exec`
- Lib/test/test_builtin.py:887:33: error[unknown-argument] Argument `locals` does not match any known parameter of function `exec`
+ Lib/test/test_builtin.py:879:33: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `exec`
+ Lib/test/test_builtin.py:887:33: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `exec`
+ Lib/test/test_call.py:931:31: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`arg`) passed as keyword argument of function `positional_only`
- Lib/test/test_call.py:931:13: error[missing-argument] No argument provided for required parameter `arg` of function `positional_only`
- Lib/test/test_call.py:931:31: error[unknown-argument] Argument `arg` does not match any known parameter of function `positional_only`
- Lib/test/test_descr.py:3095:19: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
+ Lib/test/test_descr.py:3095:19: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
- Lib/test/test_float.py:256:19: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
- Lib/test/test_float.py:265:22: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
+ Lib/test/test_float.py:256:19: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
+ Lib/test/test_float.py:265:22: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
- Lib/test/test_generators.py:754:55: error[unknown-argument] Argument `locals` does not match any known parameter of function `exec`
+ Lib/test/test_generators.py:754:55: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `exec`
+ Lib/test/test_itertools.py:913:22: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`iterable`) passed as keyword argument of function `__new__`
- Lib/test/test_itertools.py:913:13: error[missing-argument] No argument provided for required parameter `iterable` of function `__new__`
- Lib/test/test_itertools.py:913:22: error[unknown-argument] Argument `iterable` does not match any known parameter of function `__new__`
+ Lib/test/test_math.py:1107:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`p`) passed as keyword argument of function `dist`
+ Lib/test/test_math.py:1107:31: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`q`) passed as keyword argument of function `dist`
- Lib/test/test_math.py:1107:13: error[missing-argument] No arguments provided for required parameters `p`, `q` of function `dist`
- Lib/test/test_math.py:1107:18: error[unknown-argument] Argument `p` does not match any known parameter of function `dist`
- Lib/test/test_math.py:1107:31: error[unknown-argument] Argument `q` does not match any known parameter of function `dist`
+ Lib/test/test_positional_only_arg.py:77:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:81:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:90:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:94:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:128:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:134:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:140:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:140:20: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
- Lib/test/test_positional_only_arg.py:77:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:81:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:90:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:94:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:128:13: error[missing-argument] No argument provided for required parameter `a` of function `f`
- Lib/test/test_positional_only_arg.py:128:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:134:13: error[missing-argument] No argument provided for required parameter `a` of function `f`
- Lib/test/test_positional_only_arg.py:134:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:140:13: error[missing-argument] No arguments provided for required parameters `a`, `b` of function `f`
- Lib/test/test_positional_only_arg.py:140:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:140:20: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:212:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:267:28: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`b`) passed as keyword argument of bound method `f`
- Lib/test/test_positional_only_arg.py:212:13: error[missing-argument] No argument provided for required parameter `b` of function `f`
- Lib/test/test_positional_only_arg.py:212:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:267:13: error[missing-argument] No argument provided for required parameter `b` of bound method `f`
- Lib/test/test_positional_only_arg.py:267:28: error[unknown-argument] Argument `b` does not match any known parameter of bound method `f`
- Lib/test/test_positional_only_arg.py:391:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:391:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
- Lib/test/test_positional_only_arg.py:412:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:412:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
- Found 23908 diagnostics
+ Found 23900 diagnostics

CPython (peg_generator) (https://github.com/python/cpython)
- Lib/annotationlib.py:186:35: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:186:52: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:198:37: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:198:54: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
+ Lib/annotationlib.py:186:35: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:186:52: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:198:37: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:198:54: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
- Lib/test/test_builtin.py:781:62: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/test/test_builtin.py:782:62: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
+ Lib/test/test_builtin.py:781:62: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/test/test_builtin.py:782:62: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
- Lib/test/test_builtin.py:879:33: error[unknown-argument] Argument `globals` does not match any known parameter of function `exec`
- Lib/test/test_builtin.py:887:33: error[unknown-argument] Argument `locals` does not match any known parameter of function `exec`
+ Lib/test/test_builtin.py:879:33: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `exec`
+ Lib/test/test_builtin.py:887:33: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `exec`
+ Lib/test/test_call.py:931:31: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`arg`) passed as keyword argument of function `positional_only`
- Lib/test/test_call.py:931:13: error[missing-argument] No argument provided for required parameter `arg` of function `positional_only`
- Lib/test/test_call.py:931:31: error[unknown-argument] Argument `arg` does not match any known parameter of function `positional_only`
- Lib/test/test_descr.py:3095:19: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
+ Lib/test/test_descr.py:3095:19: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
- Lib/test/test_float.py:256:19: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
- Lib/test/test_float.py:265:22: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
+ Lib/test/test_float.py:256:19: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
+ Lib/test/test_float.py:265:22: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
- Lib/test/test_generators.py:754:55: error[unknown-argument] Argument `locals` does not match any known parameter of function `exec`
+ Lib/test/test_generators.py:754:55: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `exec`
+ Lib/test/test_itertools.py:913:22: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`iterable`) passed as keyword argument of function `__new__`
- Lib/test/test_itertools.py:913:13: error[missing-argument] No argument provided for required parameter `iterable` of function `__new__`
- Lib/test/test_itertools.py:913:22: error[unknown-argument] Argument `iterable` does not match any known parameter of function `__new__`
+ Lib/test/test_math.py:1107:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`p`) passed as keyword argument of function `dist`
+ Lib/test/test_math.py:1107:31: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`q`) passed as keyword argument of function `dist`
- Lib/test/test_math.py:1107:13: error[missing-argument] No arguments provided for required parameters `p`, `q` of function `dist`
- Lib/test/test_math.py:1107:18: error[unknown-argument] Argument `p` does not match any known parameter of function `dist`
- Lib/test/test_math.py:1107:31: error[unknown-argument] Argument `q` does not match any known parameter of function `dist`
+ Lib/test/test_positional_only_arg.py:77:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:81:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:90:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:94:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:128:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:134:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:140:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:140:20: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
- Lib/test/test_positional_only_arg.py:77:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:81:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:90:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:94:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:128:13: error[missing-argument] No argument provided for required parameter `a` of function `f`
- Lib/test/test_positional_only_arg.py:128:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:134:13: error[missing-argument] No argument provided for required parameter `a` of function `f`
- Lib/test/test_positional_only_arg.py:134:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:140:13: error[missing-argument] No arguments provided for required parameters `a`, `b` of function `f`
- Lib/test/test_positional_only_arg.py:140:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:140:20: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:212:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:267:28: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`b`) passed as keyword argument of bound method `f`
- Lib/test/test_positional_only_arg.py:212:13: error[missing-argument] No argument provided for required parameter `b` of function `f`
- Lib/test/test_positional_only_arg.py:212:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:267:13: error[missing-argument] No argument provided for required parameter `b` of bound method `f`
- Lib/test/test_positional_only_arg.py:267:28: error[unknown-argument] Argument `b` does not match any known parameter of bound method `f`
- Lib/test/test_positional_only_arg.py:391:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:391:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
- Lib/test/test_positional_only_arg.py:412:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:412:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
- Found 23907 diagnostics
+ Found 23899 diagnostics

CPython (cases_generator) (https://github.com/python/cpython)
- Lib/annotationlib.py:186:35: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:186:52: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:198:37: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/annotationlib.py:198:54: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
+ Lib/annotationlib.py:186:35: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:186:52: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:198:37: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/annotationlib.py:198:54: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
- Lib/test/test_builtin.py:781:62: error[unknown-argument] Argument `globals` does not match any known parameter of function `eval`
- Lib/test/test_builtin.py:782:62: error[unknown-argument] Argument `locals` does not match any known parameter of function `eval`
+ Lib/test/test_builtin.py:781:62: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `eval`
+ Lib/test/test_builtin.py:782:62: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `eval`
- Lib/test/test_builtin.py:879:33: error[unknown-argument] Argument `globals` does not match any known parameter of function `exec`
- Lib/test/test_builtin.py:887:33: error[unknown-argument] Argument `locals` does not match any known parameter of function `exec`
+ Lib/test/test_builtin.py:879:33: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`globals`) passed as keyword argument of function `exec`
+ Lib/test/test_builtin.py:887:33: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `exec`
+ Lib/test/test_call.py:931:31: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`arg`) passed as keyword argument of function `positional_only`
- Lib/test/test_call.py:931:13: error[missing-argument] No argument provided for required parameter `arg` of function `positional_only`
- Lib/test/test_call.py:931:31: error[unknown-argument] Argument `arg` does not match any known parameter of function `positional_only`
- Lib/test/test_descr.py:3095:19: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
+ Lib/test/test_descr.py:3095:19: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
- Lib/test/test_float.py:256:19: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
- Lib/test/test_float.py:265:22: error[unknown-argument] Argument `x` does not match any known parameter of function `__new__`
+ Lib/test/test_float.py:256:19: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
+ Lib/test/test_float.py:265:22: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`x`) passed as keyword argument of function `__new__`
- Lib/test/test_generators.py:754:55: error[unknown-argument] Argument `locals` does not match any known parameter of function `exec`
+ Lib/test/test_generators.py:754:55: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`locals`) passed as keyword argument of function `exec`
+ Lib/test/test_itertools.py:913:22: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`iterable`) passed as keyword argument of function `__new__`
- Lib/test/test_itertools.py:913:13: error[missing-argument] No argument provided for required parameter `iterable` of function `__new__`
- Lib/test/test_itertools.py:913:22: error[unknown-argument] Argument `iterable` does not match any known parameter of function `__new__`
+ Lib/test/test_math.py:1107:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`p`) passed as keyword argument of function `dist`
+ Lib/test/test_math.py:1107:31: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`q`) passed as keyword argument of function `dist`
- Lib/test/test_math.py:1107:13: error[missing-argument] No arguments provided for required parameters `p`, `q` of function `dist`
- Lib/test/test_math.py:1107:18: error[unknown-argument] Argument `p` does not match any known parameter of function `dist`
- Lib/test/test_math.py:1107:31: error[unknown-argument] Argument `q` does not match any known parameter of function `dist`
+ Lib/test/test_positional_only_arg.py:77:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:81:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:90:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:94:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:128:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:134:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:140:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:140:20: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
- Lib/test/test_positional_only_arg.py:77:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:81:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:90:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:94:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:128:13: error[missing-argument] No argument provided for required parameter `a` of function `f`
- Lib/test/test_positional_only_arg.py:128:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:134:13: error[missing-argument] No argument provided for required parameter `a` of function `f`
- Lib/test/test_positional_only_arg.py:134:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:140:13: error[missing-argument] No arguments provided for required parameters `a`, `b` of function `f`
- Lib/test/test_positional_only_arg.py:140:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:140:20: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:212:18: error[positional-only-parameter-as-kwarg] Positional-only parameter 2 (`b`) passed as keyword argument of function `f`
+ Lib/test/test_positional_only_arg.py:267:28: error[positional-only-parameter-as-kwarg] Positional-only parameter 3 (`b`) passed as keyword argument of bound method `f`
- Lib/test/test_positional_only_arg.py:212:13: error[missing-argument] No argument provided for required parameter `b` of function `f`
- Lib/test/test_positional_only_arg.py:212:18: error[unknown-argument] Argument `b` does not match any known parameter of function `f`
- Lib/test/test_positional_only_arg.py:267:13: error[missing-argument] No argument provided for required parameter `b` of bound method `f`
- Lib/test/test_positional_only_arg.py:267:28: error[unknown-argument] Argument `b` does not match any known parameter of bound method `f`
- Lib/test/test_positional_only_arg.py:391:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:391:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
- Lib/test/test_positional_only_arg.py:412:15: error[unknown-argument] Argument `a` does not match any known parameter of function `f`
+ Lib/test/test_positional_only_arg.py:412:15: error[positional-only-parameter-as-kwarg] Positional-only parameter 1 (`a`) passed as keyword argument of function `f`
- Found 23908 diagnostics
+ Found 23900 diagnostics

</code></pre>
</details>
No memory usage changes detected âœ…

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-09-22 09:55</div>
            <div class="timeline-body"><p>Can you tell me a bit more about the motivation for a new diagnostic ID?</p>
<p>I think I'd prefer to keep this an <code>unknown-argument</code> diagnostic but with a more specific message (the message your new diagnostic uses).</p>
<p>I'm also curious to hear other opinions on if this should be a new diagnostic kind or not.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/src/types/call/bind.rs</code>:1994 on 2025-09-22 12:25</div>
            <div class="timeline-body"><p>we might be able to do this with fewer allocations if we had a single field</p>
<pre><code class="language-suggestion">    argument_info: Vec&lt;ArgumentInfo&lt;'db&gt;&gt;,
</code></pre>
<p>where <code>ArgumentInfo</code> is a new struct that looks like this:</p>
<pre><code class="language-rs">struct ArgumentInfo&lt;'db&gt; {
    argument_matches: MatchedArgument&lt;'db&gt;,
    parameter_matched: bool,
    suppress_missing_error: bool,
}
</code></pre>
<p>this issue sort-of predates your PR, though, so it's fine to disregard this comment -- we can tackle it in a followup!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-09-22 12:28</div>
            <div class="timeline-body"><p>This looks great to me -- thanks for the PR!</p>
<blockquote>
<p>Can you tell me a bit more about the motivation for a new diagnostic ID?</p>
<p>I think I'd prefer to keep this an unknown-argument diagnostic but with a more specific message (the message your new diagnostic uses).</p>
</blockquote>
<p>I think I prefer having a new diagnostic (the way OP currently has it). <code>unknown-argument</code> doesn't feel like it's a <em>great</em> description of the issue. We managed to match the argument to a known parameter in the callable's signature (it's not <em>unknown</em>!), but the issue is that the argument's being passed in the wrong way.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fgiacome">@fgiacome</a> on 2025-09-22 17:49</div>
            <div class="timeline-body"><p>Thank you for your feedback!</p>
<blockquote>
<p>Can you tell me a bit more about the motivation for a new diagnostic ID?</p>
<p>I think I'd prefer to keep this an <code>unknown-argument</code> diagnostic but with a more specific message (the message your new diagnostic uses).</p>
</blockquote>
<p>My thinking was that <code>unknown-argument</code> does not suggest that we might be suppressing a <code>missing-argument</code> error for the sake of brevity, while the new diagnostic redirects the user to check the required positional parameters and not only the arguments. What I'm unsure of is the name, it feels inelegant but I couldn't come up with something better (I suppose that <code>positional-only-parameter-passed-as-keyword-argument</code> is too long).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @sharkdp removed by @sharkdp on 2025-09-22 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/fgiacome">@fgiacome</a> reviewed on 2025-09-22 23:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/fgiacome">@fgiacome</a> on <code>crates/ty_python_semantic/src/types/call/bind.rs</code>:1994 on 2025-09-22 23:22</div>
            <div class="timeline-body"><p>Thank you! I will update the PR as soon as I find the time, but I might be busy for the next few days. I can also follow up in a new PR if everything else looks good.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/src/types/call/bind.rs</code>:1994 on 2025-09-23 00:21</div>
            <div class="timeline-body"><p>This seems mostly independent of this PR, so I'd rather merge this now and consider that as a follow-up rather than hold this PR for that improvement.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-09-23 00:23</div>
            <div class="timeline-body"><p>This looks good to me, and I also think this makes more sense as a separate code rather than part of <code>unknown-argument</code>. If we feel we have too many codes, we could consolidate several of them into something like <code>bad-argument</code> or <code>invalid-argument</code>, but it doesn't make sense to me to put this issue under <code>unknown-argument</code>. And if we want to consolidate codes that could be a separate PR. The code used is a minor part of this PR, the important part is the logic to identify the distinct case.</p>
<p>Will leave this unmerged for now in case you have further thoughts on the code issue, @MichaReiser, but I'd otherwise be ready to merge it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-09-23 13:28</div>
            <div class="timeline-body"><p>@AlexWaygood's reasoning makes sense to me. I'd be open to an <code>invalid-argument</code> rule name if we have other use cases where an extra rule code seems a bit much. For example, what about the opposite where a keyword argument is passed for a positional-only parameter?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-09-23 13:48</div>
            <div class="timeline-body"><blockquote>
<p>For example, what about the opposite where a keyword argument is passed for a positional-only parameter?</p>
</blockquote>
<p>I think our behaviour on <code>main</code> is already reasonable for that case:</p>
<pre><code class="language-py">def f(x, /, *, y): ...

# error[missing-argument]: No argument provided for required parameter `y` of function `f`
# error[too-many-positional-arguments] Too many positional arguments to function `f`: expected 1, got 2
f(42, 36)
</code></pre>
<p>It doesn't feel to me like we can be confident here in saying that the additional positional-only argument in this call was definitely meant to be for the <code>y</code> parameter. We can be certain of that when a positional-only argument is passed by keyword, because you have to explicitly name the parameter the argument is intended to satisfy when you're passing a parameter by keyword. But the same isn't true when passing an argument positionally.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-09-23 14:08</div>
            <div class="timeline-body"><p>Alright. I'm fine going ahead with this</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @AlexWaygood on 2025-09-23 14:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2025-09-23 14:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:15:53 UTC
    </footer>
</body>
</html>
