```yaml
number: 8281
title: "WIP: Add unterminated f-string range in `Indexer`"
type: pull_request
state: closed
author: dhruvmanila
labels: []
assignees: []
draft: true
base: main
head: dhruv/unterminated-fstring-ranges
created_at: 2023-10-27T11:15:14Z
updated_at: 2023-12-14T14:17:34Z
url: https://github.com/astral-sh/ruff/pull/8281
synced_at: 2026-01-12T15:55:26Z
```

# WIP: Add unterminated f-string range in `Indexer`

---

_@dhruvmanila_

## Summary

WIP: This PR adds support for adding unterminated f-string range in the
`Indexer`. The main challenge is to consider the range while computing the NoQA
offsets and tell the caller that there is no offset where the NoQA comment can
be added. This will not only help in unterminated f-string, but also in other
cases where there's syntax error but the range exists in the `Indexer`.

## Test Plan


Discussion: https://github.com/astral-sh/ruff/pull/8154

---

_Comment by @dhruvmanila on 2023-10-27 11:15_

Current dependencies on/for this PR:
* main
  * **PR #8281** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/8281" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/8281?utm_source=stack-comment).

---

_Renamed from "Add unterminated f-string range in `Indexer`" to "WIP: Add unterminated f-string range in `Indexer`" by @dhruvmanila on 2023-10-27 11:15_

---

_Closed by @dhruvmanila on 2023-12-14 14:17_

---
