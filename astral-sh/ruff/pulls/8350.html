<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Byte strings aren't docstrings - astral-sh/ruff #8350</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Byte strings aren&#x27;t docstrings</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/8350">#8350</a>
        opened by <a href="https://github.com/konstin">@konstin</a>
        on 2023-10-30 09:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a></div>
            <div class="timeline-body"><p>We previously incorrectly treated byte strings in docstring position as docstrings because black does so (<a href="https://github.com/astral-sh/ruff/pull/8283">astral-sh/ruff#8283</a>#discussion_r1375682931, <a href="https://github.com/psf/black/issues/4002">psf/black#4002</a>), even CPython doesn&#x27;t recognize them:</p>
<pre><code>$ python3.12
Python 3.12.0 (main, Oct  6 2023, 17:57:44) [GCC 11.4.0] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; def f():
...     b&quot;&quot;&quot; a&quot;&quot;&quot;
...
&gt;&gt;&gt; print(str(f.__doc__))
None
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-10-30 09:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2023-10-30 09:29</div>
            <div class="timeline-body"><p>LGTM. Let&#x27;s see if the ecosystem check finds any usages ðŸ˜†</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-10-30 09:41</div>
            <div class="timeline-body">PR Check Results
Ecosystem
<p>âœ… ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/konstin">@konstin</a> on 2023-10-30 09:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/konstin">@konstin</a> on 2023-10-30 09:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-10-30 09:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:58:55 UTC
    </footer>
</body>
</html>
