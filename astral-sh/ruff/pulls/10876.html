<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reject corpus which produces empty range for LALRPOP parser - astral-sh/ruff #10876</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Reject corpus which produces empty range for LALRPOP parser</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/10876">#10876</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2024-04-11 12:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-04-11 12:16</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This PR updates the <code>ruff_new_parser_equiv</code> fuzzer target to reject the corpus which produces an empty range for the AST from LALRPOP. If there are no nodes, then LALRPOP produces an empty range while the new parser uses the correct range of the source itself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">parser</span> added by @dhruvmanila on 2024-04-11 12:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">fuzzer</span> added by @dhruvmanila on 2024-04-11 12:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2024-04-11 12:22</div>
            <div class="timeline-body"><h2><a href="https://codspeed.io/astral-sh/ruff/branches/dhruv/fuzz-reject-empty-range">CodSpeed Performance Report</a></h2>
<h3>Merging #10876 will <strong>degrade performances by 5.27%</strong></h3>
<p><sub>Comparing <code>dhruv/fuzz-reject-empty-range</code> (b6a8c19) with <code>dhruv/parser</code> (301ba35)</sub></p>
<h3>Summary</h3>
<p><code>⚡ 2</code> improvements
<code>❌ 1</code> regressions
<code>✅ 27</code> untouched benchmarks</p>
<blockquote>
<p>:warning: <em>Please fix the performance issues or <a href="https://codspeed.io/astral-sh/ruff/branches/dhruv/fuzz-reject-empty-range">acknowledge them on CodSpeed</a>.</em></p>
</blockquote>
<h3>Benchmarks breakdown</h3>
<p>|     | Benchmark | <code>dhruv/parser</code> | <code>dhruv/fuzz-reject-empty-range</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ⚡ | <code>parser[large/dataset.py]</code> | 28.9 ms | 26.7 ms | +8.22% |
| ⚡ | <code>parser[pydantic/types.py]</code> | 11.8 ms | 10.9 ms | +8.77% |
| ❌ | <code>parser[unicode/pypinyin.py]</code> | 1.6 ms | 1.7 ms | -5.27% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Reject corpus which produces empty range" to "Reject corpus which produces empty range for LALRPOP parser" by @dhruvmanila on 2024-04-11 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @dhruvmanila on 2024-04-11 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-04-11 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-04-11 12:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 22:37:33 UTC
    </footer>
</body>
</html>
