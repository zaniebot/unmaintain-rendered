<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hug multiline-strings preview style - astral-sh/ruff #9243</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Hug multiline-strings preview style</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/9243">#9243</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2023-12-22 09:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-22 09:19</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This PR implements the hugging for multiline strings in call expression.</p>
<p>The implementation doesn't match black's behavior exactly yet:</p>
<ol>
<li>Black removes the hugging for nested calls <code>call(nested(&quot;&quot;&quot;multiline\nstring&quot;))</code>. Ruff will not to ensure consistency with <code>hug_parentheses</code></li>
<li>Black applies the hugging even for <code>&quot;multiline&quot; % placeholder</code> strings. This can get pretty hard to read if the formatting has many arguments. The solution here is to use f-strings instead.</li>
<li>Black avoids parenthesizing lambdas with a multiline string body, Ruff parenthesizes it.</li>
</ol>
<p>I find 1 and 2 acceptable and wouldn't support them. 3. is a pre-existing deviation that we should tackle separately.</p>
<h2>Test Plan</h2>
<ul>
<li>I added tests documenting the deviations</li>
<li>I reviewed the snapshot changes</li>
<li>This PR increases the poetry compatbility from 0.99905 to 0.99934</li>
<li>I reviewed the ecosystem changes. I like what I see. I only noticed that the last line of the multiline string now tends to have one indent too much. There isn't anything we can do about it without knowing if it is safe to trim the last string or not (depends on the called function). This is something that requires manual intervention.</li>
</ul>
<pre><code class="language-python">a = call(
	&quot;&quot;&quot;
	Multiline string
	&quot;&quot;&quot;
)
</code></pre>
<p>becomes</p>
<pre><code class="language-python">a = call(&quot;&quot;&quot;
	Multiline string
	&quot;&quot;&quot;)

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2023-12-22 09:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @MichaReiser on 2023-12-22 09:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @MichaReiser on 2023-12-22 09:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @MichaReiser on 2023-12-22 09:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-12-22 09:35</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Formatter (stable)</h3>
<p>ℹ️ ecosystem check <strong>detected format changes</strong>. (+5 -6 lines in 2 files in 2 projects; 41 projects unchanged)</p>
<details><summary><a href="https://github.com/demisto/content">demisto/content</a> (+2 -5 lines across 1 file)</summary>
<p>
<pre>ruff format --no-preview --exclude Packs/ThreatQ/Integrations/ThreatQ/ThreatQ.py</pre>
</p>
<p>

<p><a href='https://github.com/demisto/content/blob/33a4829031d36f83595165e9f2beb8376c8a98e0/Packs/IntegrationsAndIncidentsHealthCheck/Scripts/GetFailedTasks/GetFailedTasks.py#L107'>Packs/IntegrationsAndIncidentsHealthCheck/Scripts/GetFailedTasks/GetFailedTasks.py~L107</a></p>
<pre><code class="language-diff">     )
 
     if is_error(response):
-        error = (
-            f'Failed retrieving tasks for incident ID {incident[&quot;id&quot;]}.\n \
+        error = f'Failed retrieving tasks for incident ID {incident[&quot;id&quot;]}.\n \
            Make sure that the API key configured in the Core REST API integration \
-is one with sufficient permissions to access that incident.\n'
-            + get_error(response)
-        )
+is one with sufficient permissions to access that incident.\n' + get_error(response)
         raise Exception(error)
 
     return response[0][&quot;Contents&quot;][&quot;response&quot;]
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/reflex-dev/reflex">reflex-dev/reflex</a> (+3 -1 lines across 1 file)</summary>
<p>

<p><a href='https://github.com/reflex-dev/reflex/blob/7cec7feb63af7c489474c18894ce3ca262f69103/reflex/components/markdown/markdown.py#L259'>reflex/components/markdown/markdown.py~L259</a></p>
<pre><code class="language-diff">         }
 
         # Separate out inline code and code blocks.
-        components[&quot;code&quot;] = f&quot;&quot;&quot;{{({{node, inline, className, {_CHILDREN._var_name}, {_PROPS._var_name}}}) =&gt; {{
+        components[
+            &quot;code&quot;
+        ] = f&quot;&quot;&quot;{{({{node, inline, className, {_CHILDREN._var_name}, {_PROPS._var_name}}}) =&gt; {{
     const match = (className || '').match(/language-(?&lt;lang&gt;.*)/);
     const language = match ? match[1] : '';
     if (language) {{
</code></pre>
</p>
</details>

<h3>Formatter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected format changes</strong>. (+2971 -5900 lines in 374 files in 31 projects; 12 projects unchanged)</p>
<details><summary><a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (+326 -652 lines across 19 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/rasa/telemetry.py#L105'>rasa/telemetry.py~L105</a></p>
<pre><code class="language-diff"> 
 def print_telemetry_reporting_info() -&gt; None:
     &quot;&quot;&quot;Print telemetry information to std out.&quot;&quot;&quot;
-    message = textwrap.dedent(
-        f&quot;&quot;&quot;
+    message = textwrap.dedent(f&quot;&quot;&quot;
         Rasa Open Source reports anonymous usage telemetry to help improve the product
         for all its users.
 
         If you'd like to opt-out, you can use `rasa telemetry disable`.
-        To learn more, check out {DOCS_URL_TELEMETRY}.&quot;&quot;&quot;
-    ).strip()
+        To learn more, check out {DOCS_URL_TELEMETRY}.&quot;&quot;&quot;).strip()
 
     table = SingleTable([[message]])
     print(table.table)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L357'>tests/cli/test_utils.py~L357</a></p>
<pre><code class="language-diff">     file_type: Text, data_type: Text, tmp_path: Path
 ):
     file_name = tmp_path / f&quot;{file_type}.yml&quot;
-    file_name.write_text(
-        f&quot;&quot;&quot;
+    file_name.write_text(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         {file_type}:
         - {data_type}: test path
           steps:
           - intent: goodbye
           - action: action_test
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     importer = TrainingDataImporter.load_from_config(
         &quot;data/test_config/config_defaults.yml&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L389'>tests/cli/test_utils.py~L389</a></p>
<pre><code class="language-diff">     file_type: Text, data_type: Text, tmp_path: Path
 ):
     file_name = tmp_path / f&quot;{file_type}.yml&quot;
-    file_name.write_text(
-        f&quot;&quot;&quot;
+    file_name.write_text(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         {file_type}:
         - {data_type}: test path
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L398'>tests/cli/test_utils.py~L398</a></p>
<pre><code class="language-diff">             - intent: request_restaurant
             - action: restaurant_form
             - active_loop: restaurant_form
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     importer = TrainingDataImporter.load_from_config(
         &quot;data/test_config/config_defaults.yml&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L425'>tests/cli/test_utils.py~L425</a></p>
<pre><code class="language-diff">     )
     nlu_file = &quot;data/test_nlu/test_nlu_validate_files_with_active_loop_null.yml&quot;
     file_name = tmp_path / f&quot;{file_type}.yml&quot;
-    file_name.write_text(
-        f&quot;&quot;&quot;
+    file_name.write_text(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         {file_type}:
         - {data_type}: test path
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L436'>tests/cli/test_utils.py~L436</a></p>
<pre><code class="language-diff">             - active_loop: restaurant_form
             - active_loop: null
             - action: action_search_restaurants
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     importer = TrainingDataImporter.load_from_config(
         &quot;data/test_config/config_unique_assistant_id.yml&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L464'>tests/cli/test_utils.py~L464</a></p>
<pre><code class="language-diff"> 
 def test_validate_files_form_slots_not_matching(tmp_path: Path):
     domain_file_name = tmp_path / &quot;domain.yml&quot;
-    domain_file_name.write_text(
-        f&quot;&quot;&quot;
+    domain_file_name.write_text(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         forms:
           name_form:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L481'>tests/cli/test_utils.py~L481</a></p>
<pre><code class="language-diff">                 type: text
                 mappings:
                 - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     importer = TrainingDataImporter.load_from_config(
         &quot;data/test_config/config_defaults.yml&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L536'>tests/cli/test_utils.py~L536</a></p>
<pre><code class="language-diff">     tested_slot = &quot;duration&quot;
     form_name = &quot;booking_form&quot;
     # form required_slots does not include the tested_slot
-    domain.write_text(
-        f&quot;&quot;&quot;
+    domain.write_text(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intents:
             - state_length_of_time
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/cli/test_utils.py#L561'>tests/cli/test_utils.py~L561</a></p>
<pre><code class="language-diff">               {form_name}:
                 required_slots:
                 - location
-                &quot;&quot;&quot;
-    )
+                &quot;&quot;&quot;)
     importer = TrainingDataImporter.load_from_config(
         &quot;data/test_config/config_defaults.yml&quot;, str(domain), None
     )
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L44'>tests/core/actions/test_forms.py~L44</a></p>
<pre><code class="language-diff">     form_name = &quot;my form&quot;
     action = FormAction(form_name, None)
     slot_name = &quot;num_people&quot;
-    domain = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain = textwrap.dedent(f&quot;&quot;&quot;
     slots:
       {slot_name}:
         type: float
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L59'>tests/core/actions/test_forms.py~L59</a></p>
<pre><code class="language-diff">     responses:
       utter_ask_num_people:
       - text: &quot;How many people?&quot;
-      &quot;&quot;&quot;
-    )
+      &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain)
 
     events = await action.run(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L81'>tests/core/actions/test_forms.py~L81</a></p>
<pre><code class="language-diff">     domain_required_slot_name = &quot;num_people&quot;
     slot_set_by_remote_custom_extraction_method = &quot;some_slot&quot;
     slot_value_set_by_remote_custom_extraction_method = &quot;anything&quot;
-    domain = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain = textwrap.dedent(f&quot;&quot;&quot;
     slots:
       {domain_required_slot_name}:
         type: float
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L102'>tests/core/actions/test_forms.py~L102</a></p>
<pre><code class="language-diff">       - text: &quot;How many people?&quot;
     actions:
       - validate_{form_name}
-      &quot;&quot;&quot;
-    )
+      &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain)
 
     form_validation_events = [
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L141'>tests/core/actions/test_forms.py~L141</a></p>
<pre><code class="language-diff">     form_name = &quot;my form&quot;
     action = FormAction(form_name, None)
     slot_name = &quot;num_people&quot;
-    domain = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain = textwrap.dedent(f&quot;&quot;&quot;
     slots:
       {slot_name}:
         type: float
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L158'>tests/core/actions/test_forms.py~L158</a></p>
<pre><code class="language-diff">     responses:
       utter_ask_num_people:
       - text: &quot;How many people?&quot;
-      &quot;&quot;&quot;
-    )
+      &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain)
 
     events = await action.run(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L869'>tests/core/actions/test_forms.py~L869</a></p>
<pre><code class="language-diff"> def test_temporary_tracker():
     extra_slot = &quot;some_slot&quot;
     sender_id = &quot;test&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         slots:
           {extra_slot}:
             type: any
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     previous_events = [ActionExecuted(ACTION_LISTEN_NAME)]
     old_tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1543'>tests/core/actions/test_forms.py~L1543</a></p>
<pre><code class="language-diff">     form = FormAction(form_name, None)
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intent:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1573'>tests/core/actions/test_forms.py~L1573</a></p>
<pre><code class="language-diff">                required_slots:
                  - email
                  - name
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1615'>tests/core/actions/test_forms.py~L1615</a></p>
<pre><code class="language-diff">     form = FormAction(form_name, None)
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intent:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1645'>tests/core/actions/test_forms.py~L1645</a></p>
<pre><code class="language-diff">                required_slots:
                  - email
                  - name
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1685'>tests/core/actions/test_forms.py~L1685</a></p>
<pre><code class="language-diff"> 
 
 async def test_action_extract_slots_custom_mapping_with_condition():
-    domain_yaml = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain_yaml = textwrap.dedent(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
 
         slots:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1705'>tests/core/actions/test_forms.py~L1705</a></p>
<pre><code class="language-diff"> 
         actions:
         - validate_some_form
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain_yaml)
     events = [ActiveLoop(&quot;some_form&quot;), UserUttered(&quot;Hi&quot;)]
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1747'>tests/core/actions/test_forms.py~L1747</a></p>
<pre><code class="language-diff"> 
 async def test_form_slots_empty_with_restart():
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intent:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1768'>tests/core/actions/test_forms.py~L1768</a></p>
<pre><code class="language-diff">              some_form:
                required_slots:
                  - name
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1811'>tests/core/actions/test_forms.py~L1811</a></p>
<pre><code class="language-diff"> 
     form_name = &quot;test_form&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
     entities:
     - {entity_name}
     slots:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1827'>tests/core/actions/test_forms.py~L1827</a></p>
<pre><code class="language-diff">       {form_name}:
         {REQUIRED_SLOTS_KEY}:
             - {slot_name}
-    &quot;&quot;&quot;
-    )
+    &quot;&quot;&quot;)
 
     events = [
         ActionExecuted(&quot;action_listen&quot;),
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1879'>tests/core/actions/test_forms.py~L1879</a></p>
<pre><code class="language-diff">     action_server = EndpointConfig(ACTION_SERVER_URL)
     action = FormAction(form_name, action_server)
     slot_name = &quot;num_people&quot;
-    domain = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain = textwrap.dedent(f&quot;&quot;&quot;
     slots:
       {slot_name}:
         type: float
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1896'>tests/core/actions/test_forms.py~L1896</a></p>
<pre><code class="language-diff">       - text: &quot;How many people?&quot;
     actions:
       - validate_{form_name}
-    &quot;&quot;&quot;
-    )
+    &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain)
     form_validation_events = [
         {
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1949'>tests/core/actions/test_forms.py~L1949</a></p>
<pre><code class="language-diff">     required_slot = &quot;send_sms&quot;
     global_slot = &quot;membership&quot;
 
-    domain = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain = textwrap.dedent(f&quot;&quot;&quot;
     intents:
     - start_form
     entities:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L1988'>tests/core/actions/test_forms.py~L1988</a></p>
<pre><code class="language-diff">       - text: &quot;Would you like to receive an SMS?&quot;
     actions:
       - validate_{form}
-    &quot;&quot;&quot;
-    )
+    &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain)
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L2055'>tests/core/actions/test_forms.py~L2055</a></p>
<pre><code class="language-diff">     dynamic_slot = &quot;customer_name&quot;
     bot_utterance = &quot;What is your name?&quot;
 
-    domain = textwrap.dedent(
-        f&quot;&quot;&quot;
+    domain = textwrap.dedent(f&quot;&quot;&quot;
     intents:
     - start_form
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/actions/test_forms.py#L2075'>tests/core/actions/test_forms.py~L2075</a></p>
<pre><code class="language-diff">       - text: &quot;{bot_utterance}&quot;
     actions:
       - validate_{form}
-    &quot;&quot;&quot;
-    )
+    &quot;&quot;&quot;)
     domain = Domain.from_yaml(domain)
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L157'>tests/core/policies/test_rule_policy.py~L157</a></p>
<pre><code class="language-diff">     # conversation start -&gt; ensure that this isn't flagged as a contradiction.
 
     utter_anti_greet_action = &quot;utter_anti_greet&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
         - {utter_anti_greet_action}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     greet_rule_at_conversation_start = TrackerWithCachedStates.from_events(
         &quot;greet rule at conversation start&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L210'>tests/core/policies/test_rule_policy.py~L210</a></p>
<pre><code class="language-diff">     utter_anti_greet_action = &quot;utter_anti_greet&quot;
     some_slot = &quot;slot1&quot;
     some_slot_initial_value = &quot;slot1value&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L224'>tests/core/policies/test_rule_policy.py~L224</a></p>
<pre><code class="language-diff">             initial_value: {some_slot_initial_value}
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     greet_rule_at_conversation_start = TrackerWithCachedStates.from_events(
         &quot;greet rule at conversation start&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L283'>tests/core/policies/test_rule_policy.py~L283</a></p>
<pre><code class="language-diff">     utter_anti_greet_action = &quot;utter_anti_greet&quot;
     some_slot = &quot;slot1&quot;
     some_slot_initial_value = &quot;slot1value&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L297'>tests/core/policies/test_rule_policy.py~L297</a></p>
<pre><code class="language-diff">             initial_value: {some_slot_initial_value}
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     greet_rule_at_conversation_start = TrackerWithCachedStates.from_events(
         &quot;greet rule at conversation start&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L348'>tests/core/policies/test_rule_policy.py~L348</a></p>
<pre><code class="language-diff"> 
 
 def test_restrict_multiple_user_inputs_in_rules(policy: RulePolicy):
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     greet_events = [
         UserUttered(intent={&quot;name&quot;: GREET_INTENT_NAME}),
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L380'>tests/core/policies/test_rule_policy.py~L380</a></p>
<pre><code class="language-diff"> def test_incomplete_rules_due_to_slots(policy: RulePolicy):
     some_action = &quot;some_action&quot;
     some_slot = &quot;some_slot&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L392'>tests/core/policies/test_rule_policy.py~L392</a></p>
<pre><code class="language-diff">             type: text
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     complete_rule = TrackerWithCachedStates.from_events(
         &quot;complete_rule&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L450'>tests/core/policies/test_rule_policy.py~L450</a></p>
<pre><code class="language-diff"> def test_no_incomplete_rules_due_to_slots_after_listen(policy: RulePolicy):
     some_action = &quot;some_action&quot;
     some_slot = &quot;some_slot&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L464'>tests/core/policies/test_rule_policy.py~L464</a></p>
<pre><code class="language-diff">             type: text
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     complete_rule = TrackerWithCachedStates.from_events(
         &quot;complete_rule&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L512'>tests/core/policies/test_rule_policy.py~L512</a></p>
<pre><code class="language-diff">     some_slot_value = &quot;value1&quot;
     some_other_slot = &quot;some_other_slot&quot;
     some_other_slot_value = &quot;value2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L528'>tests/core/policies/test_rule_policy.py~L528</a></p>
<pre><code class="language-diff">             type: text
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     simple_rule = TrackerWithCachedStates.from_events(
         &quot;simple rule with an action that sets 1 slot&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L567'>tests/core/policies/test_rule_policy.py~L567</a></p>
<pre><code class="language-diff"> 
 def test_incomplete_rules_due_to_loops(policy: RulePolicy):
     some_form = &quot;some_form&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         forms:
           {some_form}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     complete_rule = TrackerWithCachedStates.from_events(
         &quot;complete_rule&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L632'>tests/core/policies/test_rule_policy.py~L632</a></p>
<pre><code class="language-diff"> 
 def test_contradicting_rules(policy: RulePolicy):
     utter_anti_greet_action = &quot;utter_anti_greet&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
         - {utter_anti_greet_action}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     anti_greet_rule = TrackerWithCachedStates.from_events(
         &quot;anti greet rule&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L672'>tests/core/policies/test_rule_policy.py~L672</a></p>
<pre><code class="language-diff"> 
 def test_contradicting_rules_and_stories(policy: RulePolicy):
     utter_anti_greet_action = &quot;utter_anti_greet&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
         - {utter_anti_greet_action}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     anti_greet_story = TrackerWithCachedStates.from_events(
         &quot;anti greet story&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L816'>tests/core/policies/test_rule_policy.py~L816</a></p>
<pre><code class="language-diff"> 
 
 def test_faq_rule(policy: RulePolicy):
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
     # remove first ... action and utter_greet and last action_listen from greet rule
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L843'>tests/core/policies/test_rule_policy.py~L843</a></p>
<pre><code class="language-diff"> async def test_predict_form_action_if_in_form(policy: RulePolicy):
     form_name = &quot;some_form&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L859'>tests/core/policies/test_rule_policy.py~L859</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L888'>tests/core/policies/test_rule_policy.py~L888</a></p>
<pre><code class="language-diff"> async def test_predict_loop_action_if_in_loop_but_there_is_e2e_rule(policy: RulePolicy):
     loop_name = &quot;some_loop&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L904'>tests/core/policies/test_rule_policy.py~L904</a></p>
<pre><code class="language-diff">         forms:
           {loop_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     e2e_rule = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L944'>tests/core/policies/test_rule_policy.py~L944</a></p>
<pre><code class="language-diff"> async def test_predict_form_action_if_multiple_turns(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     other_intent = &quot;bye&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L961'>tests/core/policies/test_rule_policy.py~L961</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L994'>tests/core/policies/test_rule_policy.py~L994</a></p>
<pre><code class="language-diff"> 
 
 async def test_predict_slot_initial_value_not_required_in_rule(policy: RulePolicy):
-    domain = Domain.from_yaml(
-        &quot;&quot;&quot;
+    domain = Domain.from_yaml(&quot;&quot;&quot;
 intents:
 - i1
 actions:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1009'>tests/core/policies/test_rule_policy.py~L1009</a></p>
<pre><code class="language-diff">     initial_value: v1
     mappings:
     - type: from_text
-&quot;&quot;&quot;
-    )
+&quot;&quot;&quot;)
 
     rule = DialogueStateTracker.from_events(
         &quot;slot rule&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1044'>tests/core/policies/test_rule_policy.py~L1044</a></p>
<pre><code class="language-diff"> 
 
 async def test_predict_slot_with_initial_slot_matches_rule(policy: RulePolicy):
-    domain = Domain.from_yaml(
-        &quot;&quot;&quot;
+    domain = Domain.from_yaml(&quot;&quot;&quot;
 intents:
 - i1
 actions:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1059'>tests/core/policies/test_rule_policy.py~L1059</a></p>
<pre><code class="language-diff">     initial_value: v1
     mappings:
     - type: from_text
-&quot;&quot;&quot;
-    )
+&quot;&quot;&quot;)
 
     rule = DialogueStateTracker.from_events(
         &quot;slot rule&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1093'>tests/core/policies/test_rule_policy.py~L1093</a></p>
<pre><code class="language-diff"> async def test_predict_action_listen_after_form(policy: RulePolicy):
     form_name = &quot;some_form&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1109'>tests/core/policies/test_rule_policy.py~L1109</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1140'>tests/core/policies/test_rule_policy.py~L1140</a></p>
<pre><code class="language-diff"> async def test_dont_predict_form_if_already_finished(policy: RulePolicy):
     form_name = &quot;some_form&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1156'>tests/core/policies/test_rule_policy.py~L1156</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1191'>tests/core/policies/test_rule_policy.py~L1191</a></p>
<pre><code class="language-diff"> async def test_form_unhappy_path(policy: RulePolicy):
     form_name = &quot;some_form&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1207'>tests/core/policies/test_rule_policy.py~L1207</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1236'>tests/core/policies/test_rule_policy.py~L1236</a></p>
<pre><code class="language-diff"> async def test_form_unhappy_path_from_general_rule(policy: RulePolicy):
     form_name = &quot;some_form&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1252'>tests/core/policies/test_rule_policy.py~L1252</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     # RulePolicy should memorize that unhappy_rule overrides GREET_RULE
     policy.train([GREET_RULE], domain)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1293'>tests/core/policies/test_rule_policy.py~L1293</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
     handle_rejection_action_name = &quot;utter_handle_rejection&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1310'>tests/core/policies/test_rule_policy.py~L1310</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     unhappy_rule = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1369'>tests/core/policies/test_rule_policy.py~L1369</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
     handle_rejection_action_name = &quot;utter_handle_rejection&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1386'>tests/core/policies/test_rule_policy.py~L1386</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     unhappy_story = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1446'>tests/core/policies/test_rule_policy.py~L1446</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
     handle_rejection_action_name = &quot;utter_handle_rejection&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1463'>tests/core/policies/test_rule_policy.py~L1463</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     unhappy_rule = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1537'>tests/core/policies/test_rule_policy.py~L1537</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
     handle_rejection_action_name = &quot;utter_handle_rejection&quot;
 
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1554'>tests/core/policies/test_rule_policy.py~L1554</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     unhappy_story = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1607'>tests/core/policies/test_rule_policy.py~L1607</a></p>
<pre><code class="language-diff"> async def test_form_unhappy_path_without_rule(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     other_intent = &quot;bye&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1624'>tests/core/policies/test_rule_policy.py~L1624</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1653'>tests/core/policies/test_rule_policy.py~L1653</a></p>
<pre><code class="language-diff"> async def test_form_activation_rule(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     other_intent = &quot;bye&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1670'>tests/core/policies/test_rule_policy.py~L1670</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     form_activation_rule = _form_activation_rule(domain, form_name, other_intent)
     policy.train([GREET_RULE, form_activation_rule], domain)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1694'>tests/core/policies/test_rule_policy.py~L1694</a></p>
<pre><code class="language-diff"> async def test_failing_form_activation_due_to_no_rule(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     other_intent = &quot;bye&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1711'>tests/core/policies/test_rule_policy.py~L1711</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1735'>tests/core/policies/test_rule_policy.py~L1735</a></p>
<pre><code class="language-diff"> def test_form_submit_rule(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     submit_action_name = &quot;utter_submit&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1752'>tests/core/policies/test_rule_policy.py~L1752</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     form_submit_rule = _form_submit_rule(domain, submit_action_name, form_name)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1789'>tests/core/policies/test_rule_policy.py~L1789</a></p>
<pre><code class="language-diff">     submit_action_name = &quot;utter_submit&quot;
     entity = &quot;some_entity&quot;
     slot = &quot;some_slot&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1812'>tests/core/policies/test_rule_policy.py~L1812</a></p>
<pre><code class="language-diff">             required_slots: []
         entities:
         - {entity}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     form_activation_rule = _form_activation_rule(domain, form_name, GREET_INTENT_NAME)
     form_submit_rule = _form_submit_rule(domain, submit_action_name, form_name)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1895'>tests/core/policies/test_rule_policy.py~L1895</a></p>
<pre><code class="language-diff"> 
 
 async def test_one_stage_fallback_rule(policy: RulePolicy):
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         - {DEFAULT_NLU_FALLBACK_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     fallback_recover_rule = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L1978'>tests/core/policies/test_rule_policy.py~L1978</a></p>
<pre><code class="language-diff"> def test_default_actions(
     intent_name: Text, expected_action_name: Text, policy: RulePolicy
 ):
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     policy.train([GREET_RULE], domain)
     new_conversation = DialogueStateTracker.from_events(
         &quot;bla2&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2006'>tests/core/policies/test_rule_policy.py~L2006</a></p>
<pre><code class="language-diff">     &quot;intent_name&quot;, [USER_INTENT_RESTART, USER_INTENT_BACK, USER_INTENT_SESSION_START]
 )
 def test_e2e_beats_default_actions(intent_name: Text, policy: RulePolicy):
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         actions:
         - {UTTER_GREET_ACTION}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     e2e_rule = TrackerWithCachedStates.from_events(
         &quot;bla&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2067'>tests/core/policies/test_rule_policy.py~L2067</a></p>
<pre><code class="language-diff">     expected_prediction: Text,
 ):
     other_intent = &quot;other&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2076'>tests/core/policies/test_rule_policy.py~L2076</a></p>
<pre><code class="language-diff">         actions:
         - {UTTER_GREET_ACTION}
         - my_core_fallback
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     rule_policy = policy_with_config(config)
     rule_policy.train([GREET_RULE], domain)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2100'>tests/core/policies/test_rule_policy.py~L2100</a></p>
<pre><code class="language-diff">     policy_with_config: Callable[..., RulePolicy],
 ):
     other_intent = &quot;other&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
         - {other_intent}
         actions:
         - {UTTER_GREET_ACTION}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     policy = policy_with_config({&quot;enable_fallback_prediction&quot;: False})
     policy.train([GREET_RULE], domain)
     new_conversation = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2127'>tests/core/policies/test_rule_policy.py~L2127</a></p>
<pre><code class="language-diff"> def test_hide_rule_turn(policy: RulePolicy):
     chitchat = &quot;chitchat&quot;
     action_chitchat = &quot;action_chitchat&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2136'>tests/core/policies/test_rule_policy.py~L2136</a></p>
<pre><code class="language-diff">         actions:
         - {UTTER_GREET_ACTION}
         - {action_chitchat}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     chitchat_story = TrackerWithCachedStates.from_events(
         &quot;chitchat story&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2207'>tests/core/policies/test_rule_policy.py~L2207</a></p>
<pre><code class="language-diff">     some_slot_value = &quot;value1&quot;
     slot_which_is_also_in_story = &quot;slot_which_is_also_in_story&quot;
     some_other_slot_value = &quot;value2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {some_intent}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2225'>tests/core/policies/test_rule_policy.py~L2225</a></p>
<pre><code class="language-diff">             type: text
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     simple_rule = TrackerWithCachedStates.from_events(
         &quot;simple rule with an action that sets 1 slot&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2334'>tests/core/policies/test_rule_policy.py~L2334</a></p>
<pre><code class="language-diff">     chitchat = &quot;chitchat&quot;
     action_chitchat = &quot;action_chitchat&quot;
     followup_on_chitchat = &quot;followup_on_chitchat&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {chitchat}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2347'>tests/core/policies/test_rule_policy.py~L2347</a></p>
<pre><code class="language-diff">             type: bool
             mappings:
             - type: from_text
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     simple_rule_no_last_action_listen = TrackerWithCachedStates.from_events(
         &quot;simple rule without action listen in the end&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2422'>tests/core/policies/test_rule_policy.py~L2422</a></p>
<pre><code class="language-diff">     activate_another_form = &quot;activate_another_form&quot;
     chitchat = &quot;chitchat&quot;
     action_chitchat = &quot;action_chitchat&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2443'>tests/core/policies/test_rule_policy.py~L2443</a></p>
<pre><code class="language-diff">             required_slots: []
           {another_form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     form_activation_rule = _form_activation_rule(domain, form_name, activate_form)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2530'>tests/core/policies/test_rule_policy.py~L2530</a></p>
<pre><code class="language-diff"> def test_do_not_hide_rule_turn_with_loops_in_stories(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     activate_form = &quot;activate_form&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {activate_form}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2543'>tests/core/policies/test_rule_policy.py~L2543</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     form_activation_rule = _form_activation_rule(domain, form_name, activate_form)
     form_activation_story = form_activation_rule.copy()
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2585'>tests/core/policies/test_rule_policy.py~L2585</a></p>
<pre><code class="language-diff"> def test_hide_rule_turn_with_loops_as_followup_action(policy: RulePolicy):
     form_name = &quot;some_form&quot;
     activate_form = &quot;activate_form&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {GREET_INTENT_NAME}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2601'>tests/core/policies/test_rule_policy.py~L2601</a></p>
<pre><code class="language-diff">         forms:
           {form_name}:
             required_slots: []
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     form_activation_rule = _form_activation_rule(domain, form_name, activate_form)
     form_activation_story = form_activation_rule.copy()
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2689'>tests/core/policies/test_rule_policy.py~L2689</a></p>
<pre><code class="language-diff">     intent_1 = &quot;intent_1&quot;
     utter_1 = &quot;utter_1&quot;
     utter_2 = &quot;utter_2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {intent_1}
         actions:
         - {utter_1}
         - {utter_2}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     rule = TrackerWithCachedStates.from_events(
         &quot;conditioned on action&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2734'>tests/core/policies/test_rule_policy.py~L2734</a></p>
<pre><code class="language-diff">     utter_1 = &quot;utter_1&quot;
     utter_2 = &quot;utter_2&quot;
     utter_3 = &quot;utter_3&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {intent_1}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2743'>tests/core/policies/test_rule_policy.py~L2743</a></p>
<pre><code class="language-diff">         - {utter_1}
         - {utter_2}
         - {utter_3}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     rule = TrackerWithCachedStates.from_events(
         &quot;action_listen after predictable action&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2780'>tests/core/policies/test_rule_policy.py~L2780</a></p>
<pre><code class="language-diff">     intent_1 = &quot;intent_1&quot;
     utter_1 = &quot;utter_1&quot;
     utter_2 = &quot;utter_2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {intent_1}
         actions:
         - {utter_1}
         - {utter_2}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     rule = TrackerWithCachedStates.from_events(
         &quot;last prediction is action_listen&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2821'>tests/core/policies/test_rule_policy.py~L2821</a></p>
<pre><code class="language-diff">     intent_1 = &quot;intent_1&quot;
     utter_1 = &quot;utter_1&quot;
     utter_2 = &quot;utter_2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {intent_1}
         actions:
         - {utter_1}
         - {utter_2}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     rule = TrackerWithCachedStates.from_events(
         &quot;conditioned on action&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2864'>tests/core/policies/test_rule_policy.py~L2864</a></p>
<pre><code class="language-diff">     intent_1 = &quot;intent_1&quot;
     utter_1 = &quot;utter_1&quot;
     utter_2 = &quot;utter_2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {intent_1}
         actions:
         - {utter_1}
         - {utter_2}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
     rule = TrackerWithCachedStates.from_events(
         &quot;rule without action_listen&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2906'>tests/core/policies/test_rule_policy.py~L2906</a></p>
<pre><code class="language-diff">     entity_1 = &quot;entity_1&quot;
     entity_2 = &quot;entity_2&quot;
     utter_1 = &quot;utter_1&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
         version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
         intents:
         - {intent_1}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2916'>tests/core/policies/test_rule_policy.py~L2916</a></p>
<pre><code class="language-diff">         - {entity_2}
         actions:
         - {utter_1}
-        &quot;&quot;&quot;
-    )
+        &quot;&quot;&quot;)
 
     rule = TrackerWithCachedStates.from_events(
         &quot;rule without action_listen&quot;,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2970'>tests/core/policies/test_rule_policy.py~L2970</a></p>
<pre><code class="language-diff">     value_2 = &quot;value_2&quot;
     slot_1 = &quot;slot_1&quot;
     slot_2 = &quot;slot_2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intents:
             - {intent_1}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L2994'>tests/core/policies/test_rule_policy.py~L2994</a></p>
<pre><code class="language-diff">                  - {value_2}
                 mappings:
                 - type: from_text
-            &quot;&quot;&quot;
-    )
+            &quot;&quot;&quot;)
     rule = TrackerWithCachedStates.from_events(
         &quot;rule without action_listen&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L3038'>tests/core/policies/test_rule_policy.py~L3038</a></p>
<pre><code class="language-diff">     value_2 = &quot;value_2&quot;
     slot_1 = &quot;slot_1&quot;
     slot_2 = &quot;slot_2&quot;
-    domain = Domain.from_yaml(
-        f&quot;&quot;&quot;
+    domain = Domain.from_yaml(f&quot;&quot;&quot;
                 version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
                 intents:
                 - {intent_1}
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_rule_policy.py#L3062'>tests/core/policies/test_rule_policy.py~L3062</a></p>
<pre><code class="language-diff">                      - {value_2}
                     mappings:
                     - type: from_text
-                &quot;&quot;&quot;
-    )
+                &quot;&quot;&quot;)
     rule_1 = TrackerWithCachedStates.from_events(
         &quot;normal rule&quot;,
         domain=domain,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_ted_policy.py#L225'>tests/core/policies/test_ted_policy.py~L225</a></p>
<pre><code class="language-diff">         execution_context: ExecutionContext,
     ):
         stories = tmp_path / &quot;stories.yml&quot;
-        stories.write_text(
-            f&quot;&quot;&quot;
+        stories.write_text(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             stories:
             - story: test path
               steps:
               - action: utter_greet
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
         policy = self.create_policy(
             featurizer=featurizer,
             model_storage=model_storage,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/policies/test_unexpected_intent_policy.py#L135'>tests/core/policies/test_unexpected_intent_policy.py~L135</a></p>
<pre><code class="language-diff">         execution_context: ExecutionContext,
     ):
         stories = tmp_path / &quot;stories.yml&quot;
-        stories.write_text(
-            f&quot;&quot;&quot;
+        stories.write_text(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             stories:
             - story: test path
               steps:
               - action: utter_greet
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
         policy = self.create_policy(
             featurizer=featurizer,
             model_storage=model_storage,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1051'>tests/core/test_actions.py~L1051</a></p>
<pre><code class="language-diff">     form_action_name = &quot;my_business_logic&quot;
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
     slots:
       my_slot:
         type: text
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1064'>tests/core/test_actions.py~L1064</a></p>
<pre><code class="language-diff">       {form_action_name}:
         {REQUIRED_SLOTS_KEY}:
           {slot}
-    &quot;&quot;&quot;
-        )
+    &quot;&quot;&quot;)
     )
 
     actual = action.action_for_name_or_text(form_action_name, domain, None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1075'>tests/core/test_actions.py~L1075</a></p>
<pre><code class="language-diff"> def test_overridden_form_action():
     form_action_name = &quot;my_business_logic&quot;
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
     actions:
     - my_action
     - {form_action_name}
     forms:
         {form_action_name}:
           {REQUIRED_SLOTS_KEY}: []
-    &quot;&quot;&quot;
-        )
+    &quot;&quot;&quot;)
     )
 
     actual = action.action_for_name_or_text(form_action_name, domain, None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1094'>tests/core/test_actions.py~L1094</a></p>
<pre><code class="language-diff"> def test_get_form_action_if_not_in_forms():
     form_action_name = &quot;my_business_logic&quot;
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            &quot;&quot;&quot;
+        textwrap.dedent(&quot;&quot;&quot;
     actions:
     - my_action
-    &quot;&quot;&quot;
-        )
+    &quot;&quot;&quot;)
     )
 
     with pytest.raises(ActionNotFoundException):
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1111'>tests/core/test_actions.py~L1111</a></p>
<pre><code class="language-diff"> )
 def test_get_end_to_end_utterance_action(end_to_end_utterance: Text):
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
     actions:
     - my_action
     {KEY_E2E_ACTIONS}:
     - {end_to_end_utterance}
     - Bye Bye
-&quot;&quot;&quot;
-        )
+&quot;&quot;&quot;)
     )
 
     actual = action.action_for_name_or_text(end_to_end_utterance, domain, None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1132'>tests/core/test_actions.py~L1132</a></p>
<pre><code class="language-diff">     end_to_end_utterance = &quot;Hi&quot;
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
     actions:
     - my_action
     {KEY_E2E_ACTIONS}:
     - {end_to_end_utterance}
     - Bye Bye
-&quot;&quot;&quot;
-        )
+&quot;&quot;&quot;)
     )
 
     e2e_action = action.action_for_name_or_text(&quot;Hi&quot;, domain, None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1226'>tests/core/test_actions.py~L1226</a></p>
<pre><code class="language-diff">     user: Event, slot_name: Text, slot_value: Any, new_user: Event, updated_value: Any
 ):
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intents:
             - inform
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1266'>tests/core/test_actions.py~L1266</a></p>
<pre><code class="language-diff">                 influence_conversation: false
                 mappings:
                 - type: from_entity
-                  entity: name&quot;&quot;&quot;
-        )
+                  entity: name&quot;&quot;&quot;)
     )
 
     action_extract_slots = ActionExtractSlots(action_endpoint=None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1309'>tests/core/test_actions.py~L1309</a></p>
<pre><code class="language-diff"> 
 async def test_action_extract_slots_with_from_trigger_mappings():
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intents:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1334'>tests/core/test_actions.py~L1334</a></p>
<pre><code class="language-diff">             forms:
               registration_form:
                 required_slots:
-                  - email&quot;&quot;&quot;
-        )
+                  - email&quot;&quot;&quot;)
     )
 
     action_extract_slots = ActionExtractSlots(action_endpoint=None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1428'>tests/core/test_actions.py~L1428</a></p>
<pre><code class="language-diff">     slot_name = &quot;toppings&quot;
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
     version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
 
     entities:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1447'>tests/core/test_actions.py~L1447</a></p>
<pre><code class="language-diff">       {form_name}:
         {REQUIRED_SLOTS_KEY}:
           - {slot_name}
-    &quot;&quot;&quot;
-        )
+    &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1525'>tests/core/test_actions.py~L1525</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intent:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1548'>tests/core/test_actions.py~L1548</a></p>
<pre><code class="language-diff">              other_form:
                required_slots:
                  - name
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1578'>tests/core/test_actions.py~L1578</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
 
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intent:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1608'>tests/core/test_actions.py~L1608</a></p>
<pre><code class="language-diff">                required_slots:
                  - email
                  - name
-            &quot;&quot;&quot;
-        )
+            &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1819'>tests/core/test_actions.py~L1819</a></p>
<pre><code class="language-diff">     form_name = &quot;some_form&quot;
     slot_name = &quot;toppings&quot;
     domain = Domain.from_yaml(
-        textwrap.dedent(
-            f&quot;&quot;&quot;
+        textwrap.dedent(f&quot;&quot;&quot;
     version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
 
     entities:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1843'>tests/core/test_actions.py~L1843</a></p>
<pre><code class="language-diff">       {form_name}:
         {REQUIRED_SLOTS_KEY}:
           - {slot_name}
-    &quot;&quot;&quot;
-        )
+    &quot;&quot;&quot;)
     )
 
     tracker = DialogueStateTracker.from_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L2031'>tests/core/test_actions.py~L2031</a></p>
<pre><code class="language-diff">     validate_return_events: List[Dict[Tex...*[Comment body truncated]*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @MichaReiser on 2023-12-22 09:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-22 11:10</div>
            <div class="timeline-body"><p>I noticed one more pattern where we diverge from black:</p>
<pre><code class="language-python">print(&quot;&quot;&quot;a very long string that exceeds the line width on the first line
	but goes on
&quot;&quot;&quot;)
</code></pre>
<p>Black keeps the indentation for those strings:</p>
<pre><code class="language-python">print(
	&quot;&quot;&quot;a very long string that exceeds the line width on the first line
	but goes on
	&quot;&quot;&quot;
)
</code></pre>
<p>Which makes sense, especially if the call already starts late on the line. We can either use Prettier's heuristic which allows the user to choose where to place the quotes or use <code>best_fitting![string, indent(&amp;string)]</code> so that the string gets indented if the first line doesn't fit</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-12-22 15:15</div>
            <div class="timeline-body"><p>Those aren't quite the same string though, right? Because in the second case, you have an indent before the <code>&quot;&quot;&quot;</code> within the string contents, i.e., extra whitespace? Or am I still waking up...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-24 01:32</div>
            <div class="timeline-body"><blockquote>
<p>Those aren't quite the same string though, right? Because in the second case, you have an indent before the <code>&quot;&quot;&quot;</code> within the string contents, i.e., extra whitespace? Or am I still waking up...</p>
</blockquote>
<p>Yeah sorry, I messed up. The formatting should be</p>
<pre><code class="language-python">print(&quot;&quot;&quot;a very long string that exceeds the line width on the first line
	but goes on
&quot;&quot;&quot;)
</code></pre>
<p>or, based on whether the opening line fits in the configured line length.</p>
<pre><code class="language-python">print(
	&quot;&quot;&quot;a very long string that exceeds the line width on the first line
	but goes on
&quot;&quot;&quot;
)
</code></pre>
<p>the downside I see with adopting the layout based on the first line is that it may require manually changing the indent of the last line to make it perfectly align, at least if whitespace doesn't matter and users care.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2023-12-26 12:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-28 10:14</div>
            <div class="timeline-body"><p>I pushed a new update where we only apply the hugging layout if there's no other content on the same line as the opening and closing quotes because:</p>
<ul>
<li>having content on the same line as the opening quotes could lead to the first line exceed the configured line width. using <code>best_fitting</code> could help but has the downside that the parent (e.g. parameters) won't expand even if they contain a multiline string</li>
<li>having content on the same line as the closing quotes: I find that it can decrease readability when the last line has content when the call expression is e.g. nested in a dictionary or another call (see the following example)</li>
</ul>
<pre><code class="language-python">            request=ListLogEntriesRequest(
                resource_names=[&quot;projects/project_id&quot;],
                filter=('''resource.type=&quot;global&quot;
logName=&quot;projects/project_id/logs/airflow&quot;
labels.task_id=&quot;task_for_testing_stackdriver_task_handler&quot;
labels.dag_id=&quot;dag_for_testing_stackdriver_file_task_handler&quot;
labels.execution_date=&quot;2016-01-01T00:00:00+00:00&quot;
labels.try_number=&quot;3&quot;'''),
                order_by=&quot;timestamp asc&quot;,
                page_size=1000,
                page_token=None,
            )
        )
</code></pre>
<p>The downside is that there are significantly more usages of <code>dedent</code> with content on the same line as the the opening and closing quotes.</p>
<p>Following the diff between the two versions</p>
<p>ℹ️ ecosystem check <strong>detected format changes</strong>. (+925 -462 lines in 125 files in 21 projects; 20 projects unchanged)</p>
<details><summary><a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (+36 -18 lines across 4 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/rasa/telemetry.py#L105'>rasa/telemetry.py~L105</a></p>
<pre><code class="language-diff"> 
 def print_telemetry_reporting_info() -&gt; None:
     &quot;&quot;&quot;Print telemetry information to std out.&quot;&quot;&quot;
-    message = textwrap.dedent(f&quot;&quot;&quot;
+    message = textwrap.dedent(
+        f&quot;&quot;&quot;
         Rasa Open Source reports anonymous usage telemetry to help improve the product
         for all its users.
 
         If you'd like to opt-out, you can use `rasa telemetry disable`.
-        To learn more, check out {DOCS_URL_TELEMETRY}.&quot;&quot;&quot;).strip()
+        To learn more, check out {DOCS_URL_TELEMETRY}.&quot;&quot;&quot;
+    ).strip()
 
     table = SingleTable([[message]])
     print(table.table)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1216'>tests/core/test_actions.py~L1216</a></p>
<pre><code class="language-diff">     user: Event, slot_name: Text, slot_value: Any, new_user: Event, updated_value: Any
 ):
     domain = Domain.from_yaml(
-        textwrap.dedent(f&quot;&quot;&quot;
+        textwrap.dedent(
+            f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intents:
             - inform
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1255'>tests/core/test_actions.py~L1255</a></p>
<pre><code class="language-diff">                 influence_conversation: false
                 mappings:
                 - type: from_entity
-                  entity: name&quot;&quot;&quot;)
+                  entity: name&quot;&quot;&quot;
+        )
     )
 
     action_extract_slots = ActionExtractSlots(action_endpoint=None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1297'>tests/core/test_actions.py~L1297</a></p>
<pre><code class="language-diff"> 
 async def test_action_extract_slots_with_from_trigger_mappings():
     domain = Domain.from_yaml(
-        textwrap.dedent(f&quot;&quot;&quot;
+        textwrap.dedent(
+            f&quot;&quot;&quot;
             version: &quot;{LATEST_TRAINING_DATA_FORMAT_VERSION}&quot;
             intents:
             - greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/core/test_actions.py#L1321'>tests/core/test_actions.py~L1321</a></p>
<pre><code class="language-diff">             forms:
               registration_form:
                 required_slots:
-                  - email&quot;&quot;&quot;)
+                  - email&quot;&quot;&quot;
+        )
     )
 
     action_extract_slots = ActionExtractSlots(action_endpoint=None)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/shared/core/test_domain.py#L292'>tests/shared/core/test_domain.py~L292</a></p>
<pre><code class="language-diff"> 
 
 def test_domain_to_dict():
-    test_yaml = textwrap.dedent(f&quot;&quot;&quot;
+    test_yaml = textwrap.dedent(
+        f&quot;&quot;&quot;
     actions:
     - action_save_world
     config:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/shared/core/test_domain.py#L318'>tests/shared/core/test_domain.py~L318</a></p>
<pre><code class="language-diff">         - high
         - low
         mappings:
-        - type: from_text&quot;&quot;&quot;)
+        - type: from_text&quot;&quot;&quot;
+    )
 
     domain_as_dict = Domain.from_yaml(test_yaml).as_dict()
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/shared/core/test_domain.py#L2230'>tests/shared/core/test_domain.py~L2230</a></p>
<pre><code class="language-diff"> 
 
 def test_merge_yaml_domains_loads_actions_which_explicitly_need_domain():
-    test_yaml_1 = textwrap.dedent(&quot;&quot;&quot;
+    test_yaml_1 = textwrap.dedent(
+        &quot;&quot;&quot;
         actions:
           - action_hello
           - action_bye
-          - action_send_domain: {send_domain: True}&quot;&quot;&quot;)
+          - action_send_domain: {send_domain: True}&quot;&quot;&quot;
+    )
 
-    test_yaml_2 = textwrap.dedent(&quot;&quot;&quot;
+    test_yaml_2 = textwrap.dedent(
+        &quot;&quot;&quot;
         actions:
           - action_find_restaurants:
-                send_domain: True&quot;&quot;&quot;)
+                send_domain: True&quot;&quot;&quot;
+    )
 
     domain_1 = Domain.from_yaml(test_yaml_1)
     domain_2 = Domain.from_yaml(test_yaml_2)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/test_server.py#L2285'>tests/test_server.py~L2285</a></p>
<pre><code class="language-diff"> 
     story_content = response.body.decode(&quot;utf-8&quot;)
 
-    expected_first_story = textwrap.dedent(f&quot;&quot;&quot;
+    expected_first_story = textwrap.dedent(
+        f&quot;&quot;&quot;
     - story: {sender_id}, story 1
       steps:
       - intent: greet
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/test_server.py#L2295'>tests/test_server.py~L2295</a></p>
<pre><code class="language-diff">       - intent: restart
         user: |-
           /restart
-      - action: action_restart&quot;&quot;&quot;)
+      - action: action_restart&quot;&quot;&quot;
+    )
     assert expected_first_story in story_content
 
-    expected_second_story = textwrap.dedent(f&quot;&quot;&quot;
+    expected_second_story = textwrap.dedent(
+        f&quot;&quot;&quot;
     - story: {sender_id}, story 2
       steps:
       - intent: greet
         user: |-
-          hi again&quot;&quot;&quot;)
+          hi again&quot;&quot;&quot;
+    )
     assert expected_second_story in story_content
 
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/cca30d4e06af5aba177e916d64c60313fc537005/tests/test_server.py#L2321'>tests/test_server.py~L2321</a></p>
<pre><code class="language-diff">     assert response.status == 200
 
     story_content = response.body.decode(&quot;utf-8&quot;)
-    expected_story = textwrap.dedent(f&quot;&quot;&quot;
+    expected_story = textwrap.dedent(
+        f&quot;&quot;&quot;
     - story: {sender_id}
       steps:
       - intent: greet
         user: |-
-          hi again&quot;&quot;&quot;)
+          hi again&quot;&quot;&quot;
+    )
     assert expected_story in story_content
 
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/Snowflake-Labs/snowcli">Snowflake-Labs/snowcli</a> (+8 -4 lines across 2 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/Snowflake-Labs/snowcli/blob/5ceb1bf6ab0daadb07c9a5fa270b7096e89f9b38/tests/nativeapp/test_manager.py#L76'>tests/nativeapp/test_manager.py~L76</a></p>
<pre><code class="language-diff">         mock.call(&quot;select current_role()&quot;, cursor_class=DictCursor),
         mock.call(&quot;use role new_role&quot;),
         mock.call(f&quot;create schema if not exists app_pkg.app_src&quot;),
-        mock.call(f&quot;&quot;&quot;
+        mock.call(
+            f&quot;&quot;&quot;
                     create stage if not exists app_pkg.app_src.stage
-                    encryption = (TYPE = 'SNOWFLAKE_SSE')&quot;&quot;&quot;),
+                    encryption = (TYPE = 'SNOWFLAKE_SSE')&quot;&quot;&quot;
+        ),
         mock.call(&quot;use role old_role&quot;),
     ]
     assert mock_execute.mock_calls == expected
</code></pre>
<p><a href='https://github.com/Snowflake-Labs/snowcli/blob/5ceb1bf6ab0daadb07c9a5fa270b7096e89f9b38/tests/test_command_options.py#L11'>tests/test_command_options.py~L11</a></p>
<pre><code class="language-diff">         &quot;invalid_format&quot;,
     ])
 
-    assert result.output == (&quot;&quot;&quot;Usage: default object stage list [OPTIONS] STAGE_NAME
+    assert result.output == (
+        &quot;&quot;&quot;Usage: default object stage list [OPTIONS] STAGE_NAME
 Try 'default object stage list --help' for help.
 ╭─ Error ──────────────────────────────────────────────────────────────────────╮
 │ Invalid value for '--format': 'invalid_format' is not one of 'TABLE',        │
 │ 'JSON'.                                                                      │
 ╰──────────────────────────────────────────────────────────────────────────────╯
-&quot;&quot;&quot;)
+&quot;&quot;&quot;
+    )
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+40 -20 lines across 10 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/airflow/cli/commands/internal_api_command.py#L81'>airflow/cli/commands/internal_api_command.py~L81</a></p>
<pre><code class="language-diff">         )
     else:
         log.info(
-            textwrap.dedent(f&quot;&quot;&quot;\
+            textwrap.dedent(
+                f&quot;&quot;&quot;\
                 Running the Gunicorn Server with:
                 Workers: {num_workers} {args.workerclass}
                 Host: {args.hostname}:{args.port}
                 Timeout: {worker_timeout}
                 Logfiles: {access_logfile} {error_logfile}
                 Access Logformat: {access_logformat}
-                =================================================================&quot;&quot;&quot;)
+                =================================================================&quot;&quot;&quot;
+            )
         )
 
         pid_file, _, _, _ = setup_locations(&quot;internal-api&quot;, pid=args.pid)
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/airflow/cli/commands/task_command.py#L667'>airflow/cli/commands/task_command.py~L667</a></p>
<pre><code class="language-diff">         ti.render_templates()
     for attr in task.template_fields:
         print(
-            textwrap.dedent(f&quot;&quot;&quot;        # ----------------------------------------------------------
+            textwrap.dedent(
+                f&quot;&quot;&quot;        # ----------------------------------------------------------
         # property: {attr}
         # ----------------------------------------------------------
         {getattr(ti.task, attr)}
-        &quot;&quot;&quot;)
+        &quot;&quot;&quot;
+            )
         )
 
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/airflow/cli/commands/webserver_command.py#L364'>airflow/cli/commands/webserver_command.py~L364</a></p>
<pre><code class="language-diff">         )
     else:
         print(
-            textwrap.dedent(f&quot;&quot;&quot;\
+            textwrap.dedent(
+                f&quot;&quot;&quot;\
                 Running the Gunicorn Server with:
                 Workers: {num_workers} {args.workerclass}
                 Host: {args.hostname}:{args.port}
                 Timeout: {worker_timeout}
                 Logfiles: {access_logfile} {error_logfile}
                 Access Logformat: {access_logformat}
-                =================================================================&quot;&quot;&quot;)
+                =================================================================&quot;&quot;&quot;
+            )
         )
 
         pid_file, _, _, _ = setup_locations(&quot;webserver&quot;, pid=args.pid)
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/dev/assign_cherry_picked_prs_with_milestone.py#L89'>dev/assign_cherry_picked_prs_with_milestone.py~L89</a></p>
<pre><code class="language-diff">     &quot;--github-token&quot;,
     type=str,
     required=True,
-    help=textwrap.dedent(&quot;&quot;&quot;
+    help=textwrap.dedent(
+        &quot;&quot;&quot;
         GitHub token used to authenticate.
         You can set omit it if you have GITHUB_TOKEN env variable set
         Can be generated with:
-        https://github.com/settings/tokens/new?description=Read%20Write%20isssues&amp;scopes=repo&quot;&quot;&quot;),
+        https://github.com/settings/tokens/new?description=Read%20Write%20isssues&amp;scopes=repo&quot;&quot;&quot;
+    ),
     envvar=&quot;GITHUB_TOKEN&quot;,
 )
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/dev/breeze/src/airflow_breeze/commands/release_management_commands.py#L1533'>dev/breeze/src/airflow_breeze/commands/release_management_commands.py~L1533</a></p>
<pre><code class="language-diff"> @click.option(
     &quot;--github-token&quot;,
     envvar=&quot;GITHUB_TOKEN&quot;,
-    help=textwrap.dedent(&quot;&quot;&quot;
+    help=textwrap.dedent(
+        &quot;&quot;&quot;
       GitHub token used to authenticate.
       You can set omit it if you have GITHUB_TOKEN env variable set.
       Can be generated with:
-      https://github.com/settings/tokens/new?description=Read%20sssues&amp;scopes=repo:status&quot;&quot;&quot;),
+      https://github.com/settings/tokens/new?description=Read%20sssues&amp;scopes=repo:status&quot;&quot;&quot;
+    ),
 )
 @click.option(
     &quot;--only-available-in-dist&quot;,
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/dev/breeze/src/airflow_breeze/utils/path_utils.py#L161'>dev/breeze/src/airflow_breeze/utils/path_utils.py~L161</a></p>
<pre><code class="language-diff">         if &quot;importlib_metadata&quot; in e.msg:
             return False
         if &quot;apache-airflow-breeze&quot; in e.msg:
-            print(&quot;&quot;&quot;Missing Package `apache-airflow-breeze`.
-                   Use `pipx install -e ./dev/breeze` to install the package.&quot;&quot;&quot;)
+            print(
+                &quot;&quot;&quot;Missing Package `apache-airflow-breeze`.
+                   Use `pipx install -e ./dev/breeze` to install the package.&quot;&quot;&quot;
+            )
             return False
     sources_hash = get_installation_sources_config_metadata_hash()
     if sources_hash != package_hash:
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/dev/prepare_bulk_issues.py#L108'>dev/prepare_bulk_issues.py~L108</a></p>
<pre><code class="language-diff">     &quot;--github-token&quot;,
     type=str,
     required=True,
-    help=textwrap.dedent(&quot;&quot;&quot;
+    help=textwrap.dedent(
+        &quot;&quot;&quot;
         GitHub token used to authenticate.
         You can omit it if you have GITHUB_TOKEN env variable set
         Can be generated with:
-        https://github.com/settings/tokens/new?description=Write%20issues&amp;scopes=repo:status,public_repo&quot;&quot;&quot;),
+        https://github.com/settings/tokens/new?description=Write%20issues&amp;scopes=repo:status,public_repo&quot;&quot;&quot;
+    ),
     envvar=&quot;GITHUB_TOKEN&quot;,
 )
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/dev/prepare_release_issue.py#L70'>dev/prepare_release_issue.py~L70</a></p>
<pre><code class="language-diff">     &quot;--github-token&quot;,
     type=str,
     required=True,
-    help=textwrap.dedent(&quot;&quot;&quot;
+    help=textwrap.dedent(
+        &quot;&quot;&quot;
         GitHub token used to authenticate.
         You can set omit it if you have GITHUB_TOKEN env variable set
         Can be generated with:
-        https://github.com/settings/tokens/new?description=Read%20sssues&amp;scopes=repo:status&quot;&quot;&quot;),
+        https://github.com/settings/tokens/new?description=Read%20sssues&amp;scopes=repo:status&quot;&quot;&quot;
+    ),
     envvar=&quot;GITHUB_TOKEN&quot;,
 )
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/dev/stats/calculate_statistics_provider_testing_issues.py#L57'>dev/stats/calculate_statistics_provider_testing_issues.py~L57</a></p>
<pre><code class="language-diff">     &quot;--github-token&quot;,
     type=str,
     required=True,
-    help=textwrap.dedent(&quot;&quot;&quot;
+    help=textwrap.dedent(
+        &quot;&quot;&quot;
         GitHub token used to authenticate.
         You can set omit it if you have GITHUB_TOKEN env variable set
         Can be generated with:
-        https://github.com/settings/tokens/new?description=Read%20Write%20isssues&amp;scopes=repo&quot;&quot;&quot;),
+        https://github.com/settings/tokens/new?description=Read%20Write%20isssues&amp;scopes=repo&quot;&quot;&quot;
+    ),
     envvar=&quot;GITHUB_TOKEN&quot;,
 )
 
</code></pre>
<p><a href='https://github.com/apache/airflow/blob/73cd0d5f8e99f93d2ff90a7cca04e6cdf086c359/tests/providers/google/cloud/log/test_stackdriver_task_handler.py#L242'>tests/providers/google/cloud/log/test_stackdriver_task_handler.py~L242</a></p>
<pre><code class="language-diff">         mock_client.return_value.list_log_entries.assert_called_once_with(
             request=ListLogEntriesRequest(
                 resource_names=[&quot;projects/project_id&quot;],
-                filter=('''resource.type=&quot;global&quot;
+                filter=(
+                    '''resource.type=&quot;global&quot;
 logName=&quot;projects/project_id/logs/airflow&quot;
 labels.task_id=&quot;task_for_testing_stackdriver_task_handler&quot;
 labels.dag_id=&quot;dag_for_testing_stackdriver_file_task_handler&quot;
 labels.execution_date=&quot;2016-01-01T00:00:00+00:00&quot;
-labels.try_number=&quot;3&quot;'''),
+labels.try_number=&quot;3&quot;'''
+                ),
                 order_by=&quot;timestamp asc&quot;,
                 page_size=1000,
                 page_token=None,
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+24 -12 lines across 3 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/bokeh/bokeh/blob/929ee8ab38207eca08d1601a0164952fb21c9c6a/examples/output/apis/components.py#L40'>examples/output/apis/components.py~L40</a></p>
<pre><code class="language-diff"> 
 script, div = components(plots)
 
-template = Template(&quot;&quot;&quot;&lt;!DOCTYPE html&gt;
+template = Template(
+    &quot;&quot;&quot;&lt;!DOCTYPE html&gt;
 &lt;html lang=&quot;en&quot;&gt;
     &lt;head&gt;
         &lt;meta charset=&quot;utf-8&quot;&gt;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/929ee8ab38207eca08d1601a0164952fb21c9c6a/examples/output/apis/components.py#L62'>examples/output/apis/components.py~L62</a></p>
<pre><code class="language-diff">         &lt;/div&gt;
     &lt;/body&gt;
 &lt;/html&gt;
-&quot;&quot;&quot;)
+&quot;&quot;&quot;
+)
 
 resources = INLINE.render()
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/929ee8ab38207eca08d1601a0164952fb21c9c6a/examples/output/apis/components_themed.py#L60'>examples/output/apis/components_themed.py~L60</a></p>
<pre><code class="language-diff"> 
 script, div = components(p, theme=theme)
 
-template = Template(&quot;&quot;&quot;&lt;!DOCTYPE html&gt;
+template = Template(
+    &quot;&quot;&quot;&lt;!DOCTYPE html&gt;
 &lt;html lang=&quot;en&quot;&gt;
     &lt;head&gt;
         &lt;meta charset=&quot;utf-8&quot;&gt;
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/929ee8ab38207eca08d1601a0164952fb21c9c6a/examples/output/apis/components_themed.py#L85'>examples/output/apis/components_themed.py~L85</a></p>
<pre><code class="language-diff">         &lt;/div&gt;
     &lt;/body&gt;
 &lt;/html&gt;
-&quot;&quot;&quot;)
+&quot;&quot;&quot;
+)
 
 resources = INLINE.render()
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/929ee8ab38207eca08d1601a0164952fb21c9c6a/tests/unit/bokeh/embed/test_util__embed.py#L775'>tests/unit/bokeh/embed/test_util__embed.py~L775</a></p>
<pre><code class="language-diff">         assert beu.is_tex_string(&quot;part0$$part1\\[part2\\(part3\\]&quot;) is False
         assert beu.is_tex_string(&quot;part0$$part1\\[part2\\(part3\\)&quot;) is False
         assert (
-            beu.is_tex_string(&quot;&quot;&quot;$$
+            beu.is_tex_string(
+                &quot;&quot;&quot;$$
           cos(x)
-        $$&quot;&quot;&quot;)
+        $$&quot;&quot;&quot;
+            )
             is True
         )
         assert (
-            beu.is_tex_string(&quot;&quot;&quot;$$
+            beu.is_tex_string(
+                &quot;&quot;&quot;$$
           cos(x)$$
-        &quot;&quot;&quot;)
+        &quot;&quot;&quot;
+            )
             is False
         )
 
</code></pre>
<p><a href='https://github.com/bokeh/bokeh/blob/929ee8ab38207eca08d1601a0164952fb21c9c6a/tests/unit/bokeh/embed/test_util__embed.py#L807'>tests/unit/bokeh/embed/test_util__embed.py~L807</a></p>
<pre><code class="language-diff">         assert beu.contains_tex_string(&quot;part0$$part1\\[part2\\(part3\\]&quot;) is True
         assert beu.contains_tex_string(&quot;part0$$part1\\[part2\\(part3\\)&quot;) is True
         assert (
-            beu.contains_tex_string(&quot;&quot;&quot;$$
+            beu.contains_tex_string(
+                &quot;&quot;&quot;$$
           cos(x)
-        $$&quot;&quot;&quot;)
+        $$&quot;&quot;&quot;
+            )
             is True
         )
         assert (
-            beu.contains_tex_string(&quot;&quot;&quot;$$
+            beu.contains_tex_string(
+                &quot;&quot;&quot;$$
           cos(x)$$
-        &quot;&quot;&quot;)
+        &quot;&quot;&quot;
+            )
             is True
         )
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/commaai/openpilot">commaai/openpilot</a> (+12 -6 lines across 3 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/commaai/openpilot/blob/b38c580c2e687401fc819520ea038653873e9996/selfdrive/car/tests/test_lateral_limits.py#L94'>selfdrive/car/tests/test_lateral_limits.py~L94</a></p>
<pre><code class="language-diff">         violation = _jerks[&quot;up_jerk&quot;] &gt; MAX_LAT_JERK_UP + MAX_LAT_JERK_UP_TOLERANCE or _jerks[&quot;down_jerk&quot;] &gt; MAX_LAT_JERK_DOWN
         violation_str = &quot; - VIOLATION&quot; if violation else &quot;&quot;
 
-        print(f&quot;{car_model:{max_car_model_len}} - up jerk: {round(_jerks['up_jerk'], 2):5} \
-              m/s^3, down jerk: {round(_jerks['down_jerk'], 2):5} m/s^3{violation_str}&quot;)
+        print(
+            f&quot;{car_model:{max_car_model_len}} - up jerk: {round(_jerks['up_jerk'], 2):5} \
+              m/s^3, down jerk: {round(_jerks['down_jerk'], 2):5} m/s^3{violation_str}&quot;
+        )
 
     # exit with test result
     sys.exit(not result.result.wasSuccessful())
</code></pre>
<p><a href='https://github.com/commaai/openpilot/blob/b38c580c2e687401fc819520ea038653873e9996/selfdrive/debug/test_fw_query_on_routes.py#L112'>selfdrive/debug/test_fw_query_on_routes.py~L112</a></p>
<pre><code class="language-diff">                     padding = max([len(fw.brand or UNKNOWN_BRAND) for fw in car_fw])
                     for version in sorted(car_fw, key=lambda fw: fw.brand):
                         subaddr = None if version.subAddress == 0 else hex(version.subAddress)
-                        print(f&quot;  Brand: {version.brand or UNKNOWN_BRAND:{padding}}, bus: {version.bus} - \
-                      (Ecu.{version.ecu}, {hex(version.address)}, {subaddr}): [{version.fwVersion}],&quot;)
+                        print(
+                            f&quot;  Brand: {version.brand or UNKNOWN_BRAND:{padding}}, bus: {version.bus} - \
+                      (Ecu.{version.ecu}, {hex(version.address)}, {subaddr}): [{version.fwVersion}],&quot;
+                        )
 
                     print(&quot;Mismatches&quot;)
                     found = False
</code></pre>
<p><a href='https://github.com/commaai/openpilot/blob/b38c580c2e687401fc819520ea038653873e9996/tools/tuning/measure_steering_accuracy.py#L113'>tools/tuning/measure_steering_accuracy.py~L113</a></p>
<pre><code class="language-diff">                     print(f&quot;  {'-'*118}&quot;)
                     for k in sorted(self.speed_group_stats[group].keys()):
                         v = self.speed_group_stats[group][k]
-                        print(f'  {k:#2}° | actuator:{int(v[&quot;steer&quot;] / v[&quot;cnt&quot;] * 100):#3}% \
+                        print(
+                            f'  {k:#2}° | actuator:{int(v[&quot;steer&quot;] / v[&quot;cnt&quot;] * 100):#3}% \
                               | error: {round(v[&quot;err&quot;] / v[&quot;cnt&quot;], 2):2.2f}° | -:{int(v[&quot;-&quot;] / v[&quot;cnt&quot;] * 100):#3}% \
                               | =:{int(v[&quot;=&quot;] / v[&quot;cnt&quot;] * 100):#3}% | +:{int(v[&quot;+&quot;] / v[&quot;cnt&quot;] * 100):#3}% | lim:{v[&quot;limited&quot;]:#5} \
-                              | sat:{v[&quot;saturated&quot;]:#5} | path dev: {round(v[&quot;dpp&quot;] / v[&quot;cnt&quot;], 2):2.2f}m | total: {v[&quot;cnt&quot;]:#5}')
+                              | sat:{v[&quot;saturated&quot;]:#5} | path dev: {round(v[&quot;dpp&quot;] / v[&quot;cnt&quot;], 2):2.2f}m | total: {v[&quot;cnt&quot;]:#5}'
+                        )
                     print(&quot;&quot;)
 
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/demisto/content">demisto/content</a> (+253 -126 lines across 35 files)</summary>
<p>
<pre>ruff format --preview --exclude Packs/ThreatQ/Integrations/ThreatQ/ThreatQ.py</pre>
</p>
<p>

<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/AWS-SecurityHub/Integrations/AWS_SecurityHub/AWS_SecurityHub.py#L634'>Packs/AWS-SecurityHub/Integrations/AWS_SecurityHub/AWS_SecurityHub.py~L634</a></p>
<pre><code class="language-diff">         except Exception:
             demisto.error(f&quot;Failed parsing filters: {string_filters}\n error: {Exception}&quot;)
     else:
-        demisto.info(f&quot;Advanced filters does not contain all fields or fields are not in\
+        demisto.info(
+            f&quot;Advanced filters does not contain all fields or fields are not in\
             the correct order: name,value,comparison: {string_filters}\
-            Will run with an empty filter.&quot;)
+            Will run with an empty filter.&quot;
+        )
     return filters
 
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/ApiModules/Scripts/MicrosoftApiModule/MicrosoftApiModule.py#L1562'>Packs/ApiModules/Scripts/MicrosoftApiModule/MicrosoftApiModule.py~L1562</a></p>
<pre><code class="language-diff">     if value := args.get(key, params.get(key)):
         return value
     else:
-        raise Exception(f&quot;No {key} was provided. Please provide a {key} either in the \
-instance configuration or as a command argument.&quot;)
+        raise Exception(
+            f&quot;No {key} was provided. Please provide a {key} either in the \
+instance configuration or as a command argument.&quot;
+        )
 
 
 def azure_tag_formatter(arg):
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/ApiModules/Scripts/SiemApiModule/SiemApiModule.py#L135'>Packs/ApiModules/Scripts/SiemApiModule/SiemApiModule.py~L135</a></p>
<pre><code class="language-diff">         for logs in self._iter_events():
             stored.extend(logs)
             if self.options.limit:
-                demisto.debug(f&quot;{self.options.limit=} reached. \
+                demisto.debug(
+                    f&quot;{self.options.limit=} reached. \
                     slicing from {len(logs)=}. \
-                    limit must be presented ONLY in commands and not in fetch-events.&quot;)
+                    limit must be presented ONLY in commands and not in fetch-events.&quot;
+                )
                 if len(stored) &gt;= self.options.limit:
                     return stored[: self.options.limit]
         return stored
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Armis/Integrations/ArmisEventCollector/ArmisEventCollector.py#L385'>Packs/Armis/Integrations/ArmisEventCollector/ArmisEventCollector.py~L385</a></p>
<pre><code class="language-diff">         aql_query=activities_aql_query, order_by=EVENT_TYPES[&quot;Activities&quot;].order_by
     )
     devices_response = client.fetch_by_ids_in_aql_query(aql_query=devices_aql_query, order_by=EVENT_TYPES[&quot;Devices&quot;].order_by)
-    demisto.debug(f&quot;debug-log: fetch by alert ids\
-fetched {len(activities_response)} Activities and {len(devices_response)} Devices&quot;)
+    demisto.debug(
+        f&quot;debug-log: fetch by alert ids\
+fetched {len(activities_response)} Activities and {len(devices_response)} Devices&quot;
+    )
     alert[&quot;activitiesData&quot;] = activities_response if activities_response else {}
     alert[&quot;devicesData&quot;] = devices_response if devices_response else {}
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/AzureNetworkSecurityGroups/Integrations/AzureNetworkSecurityGroups/AzureNetworkSecurityGroups.py#L138'>Packs/AzureNetworkSecurityGroups/Integrations/AzureNetworkSecurityGroups/AzureNetworkSecurityGroups.py~L138</a></p>
<pre><code class="language-diff">             )
         except Exception as e:
             if &quot;404&quot; in str(e):
-                raise ValueError(f'Rule {rule_name} under subscription ID &quot;{subscription_id}&quot; \
-and resource group &quot;{resource_group_name}&quot; was not found.')
+                raise ValueError(
+                    f'Rule {rule_name} under subscription ID &quot;{subscription_id}&quot; \
+and resource group &quot;{resource_group_name}&quot; was not found.'
+                )
             raise
 
     @logger
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/BmcITSM/Integrations/BmcITSM/BmcITSM.py#L2585'>Packs/BmcITSM/Integrations/BmcITSM/BmcITSM.py~L2585</a></p>
<pre><code class="language-diff">     at_least_one_is_provided = any(related_args.values())
     at_least_one_is_not_provided = not all(related_args.values())
     if at_least_one_is_not_provided and at_least_one_is_provided:
-        raise ValueError(f&quot;The arguments: {list(related_args.keys())} either all should all have value,\
-                         or none should have value.&quot;)
+        raise ValueError(
+            f&quot;The arguments: {list(related_args.keys())} either all should all have value,\
+                         or none should have value.&quot;
+        )
 
 
 def extract_args_from_additional_fields_arg(additional_fields: str, field_name: str) -&gt; Tuple[Any, List[str]]:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/BreachRx/Integrations/BreachRx/BreachRx.py#L13'>Packs/BreachRx/Integrations/BreachRx/BreachRx.py~L13</a></p>
<pre><code class="language-diff"> # Disable insecure warnings
 urllib3.disable_warnings()  # pylint: disable=no-member
 
-create_incident_mutation = gql(&quot;&quot;&quot;
+create_incident_mutation = gql(
+    &quot;&quot;&quot;
 mutation CreateIncident(
   $severity: String!,
   $name: String!,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/BreachRx/Integrations/BreachRx/BreachRx.py#L39'>Packs/BreachRx/Integrations/BreachRx/BreachRx.py~L39</a></p>
<pre><code class="language-diff">     description
     identifier
   }
-}&quot;&quot;&quot;)
+}&quot;&quot;&quot;
+)
 
-get_incident_severities = gql(&quot;&quot;&quot;{
+get_incident_severities = gql(
+    &quot;&quot;&quot;{
   incidentSeverities {
     name
     ordering
   }
-}&quot;&quot;&quot;)
+}&quot;&quot;&quot;
+)
 
-get_incident_types = gql(&quot;&quot;&quot;{
+get_incident_types = gql(
+    &quot;&quot;&quot;{
   types {
     name
   }
-}&quot;&quot;&quot;)
+}&quot;&quot;&quot;
+)
 
-get_actions_for_incident = gql(&quot;&quot;&quot;
+get_actions_for_incident = gql(
+    &quot;&quot;&quot;
 query GetActionsForIncident($incidentId: Int!) {
   actions(where: {
     incidentId: {
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/BreachRx/Integrations/BreachRx/BreachRx.py#L73'>Packs/BreachRx/Integrations/BreachRx/BreachRx.py~L73</a></p>
<pre><code class="language-diff">       email
     }
   }
-}&quot;&quot;&quot;)
+}&quot;&quot;&quot;
+)
 
-get_incident_by_name = gql(&quot;&quot;&quot;
+get_incident_by_name = gql(
+    &quot;&quot;&quot;
 query GetIncidentByName($name: String, $identifier: String) {
   incidents(first: 1, where: {
     name: {
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/BreachRx/Integrations/BreachRx/BreachRx.py#L100'>Packs/BreachRx/Integrations/BreachRx/BreachRx.py~L100</a></p>
<pre><code class="language-diff">     description
     identifier
   }
-}&quot;&quot;&quot;)
+}&quot;&quot;&quot;
+)
 
 
 class BreachRxClient:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/CTIX/Integrations/CTIXv3/CTIXv3.py#L2033'>Packs/CTIX/Integrations/CTIXv3/CTIXv3.py~L2033</a></p>
<pre><code class="language-diff"> 
     except Exception as e:
         demisto.error(traceback.format_exc())  # print the traceback
-        return_error(f&quot;Failed to execute {demisto.command()} command.\nError:\n{str(e)} \
-            {traceback.format_exc()}&quot;)
+        return_error(
+            f&quot;Failed to execute {demisto.command()} command.\nError:\n{str(e)} \
+            {traceback.format_exc()}&quot;
+        )
 
 
 if __name__ in (&quot;__main__&quot;, &quot;__builtin__&quot;, &quot;builtins&quot;):
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Cryptosim/Integrations/Cryptosim/Cryptosim.py#L131'>Packs/Cryptosim/Integrations/Cryptosim/Cryptosim.py~L131</a></p>
<pre><code class="language-diff">         if client.connection_test().get(&quot;StatusCode&quot;) == 200:
             message = &quot;ok&quot;
         else:
-            raise Exception(f&quot;&quot;&quot;StatusCode:
+            raise Exception(
+                f&quot;&quot;&quot;StatusCode:
                             {client.correlations().get('StatusCode')},
                             Error: {client.correlations().get('ErrorMessage')}
-                            &quot;&quot;&quot;)
+                            &quot;&quot;&quot;
+            )
     except DemistoException as e:
         if &quot;401&quot; in str(e):
             message = &quot;Authorization Error: make sure API User and Password is correctly set&quot;
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/EDLMonitor/Integrations/EDLMonitor/EDLMonitor.py#L110'>Packs/EDLMonitor/Integrations/EDLMonitor/EDLMonitor.py~L110</a></p>
<pre><code class="language-diff">     try:
         demisto.debug(f&quot;Start time {start_time}&quot;)
         demisto.debug(f&quot;Cur time {datetime.now()}&quot;)
-        demisto.debug(f&quot;Parameters: {start_time}, {EDL}, {edl_user}, {verify_certificate}, {email}, \
-        {email_server}, {email_user}, {timeout}, {mon_contents}&quot;)
+        demisto.debug(
+            f&quot;Parameters: {start_time}, {EDL}, {edl_user}, {verify_certificate}, {email}, \
+        {email_server}, {email_user}, {timeout}, {mon_contents}&quot;
+        )
 
         if edl_pwd is None:
             # No auth on EDL
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/FireEyeETP/Integrations/FireEyeETPEventCollector/FireEyeETPEventCollector.py#L297'>Packs/FireEyeETP/Integrations/FireEyeETPEventCollector/FireEyeETPEventCollector.py~L297</a></p>
<pre><code class="language-diff">             if current_batch_data:
                 dedup_data = [item for item in current_batch_data if get_activity_log_id(item) not in fetched_ids]
                 if dedup_data:
-                    demisto.debug(f&quot;Fetching {len(dedup_data)} non duplicates alerts from\
-                            {len(current_batch_data)} found in API for {event_type.name}&quot;)
+                    demisto.debug(
+                        f&quot;Fetching {len(dedup_data)} non duplicates alerts from\
+                            {len(current_batch_data)} found in API for {event_type.name}&quot;
+                    )
                     res.extend(dedup_data)
 
                     fetched_ids = fetched_ids.union({get_activity_log_id(item) for item in dedup_data})
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/FireEyeETP/Integrations/FireEyeETPEventCollector/FireEyeETPEventCollector.py#L358'>Packs/FireEyeETP/Integrations/FireEyeETPEventCollector/FireEyeETPEventCollector.py~L358</a></p>
<pre><code class="language-diff">                     )
                 )
                 if dedup_data:
-                    demisto.debug(f&quot;Fetching {len(dedup_data)} alerts from {len(current_batch_data)} \
-                            found in API for {event_type.name}&quot;)
+                    demisto.debug(
+                        f&quot;Fetching {len(dedup_data)} alerts from {len(current_batch_data)} \
+                            found in API for {event_type.name}&quot;
+                    )
                     res.extend(dedup_data)
                     res_count += len(dedup_data)
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Gmail/Integrations/Gmail/Gmail.py#L2632'>Packs/Gmail/Integrations/Gmail/Gmail.py~L2632</a></p>
<pre><code class="language-diff">     max_results = max_fetch
     if max_fetch &gt; 200:
         max_results = 200
-    demisto.debug(f&quot;GMAIL: fetch parameters: user: {user_key} query={query} fetch time: {last_fetch} \
-    page_token: {page_token} max results: {max_results}&quot;)
+    demisto.debug(
+        f&quot;GMAIL: fetch parameters: user: {user_key} query={query} fetch time: {last_fetch} \
+    page_token: {page_token} max results: {max_results}&quot;
+    )
     result = service.users().messages().list(userId=user_key, maxResults=max_results, pageToken=page_token, q=query).execute()
 
     incidents = []
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/GoogleSheets/Integrations/GoogleSheets/GoogleSheets.py#L833'>Packs/GoogleSheets/Integrations/GoogleSheets/GoogleSheets.py~L833</a></p>
<pre><code class="language-diff">         service_account_credentials = service_account_credentials.get(&quot;password&quot;)
         service_account_credentials = json.loads(service_account_credentials)
     except Exception as e:
-        raise DemistoException(f&quot;\nProblem with json format please validate the correctness\
-                               of your service account json. Json parser error {e}&quot;)
+        raise DemistoException(
+            f&quot;\nProblem with json format please validate the correctness\
+                               of your service account json. Json parser error {e}&quot;
+        )
 
     try:
         credentials = service_account.ServiceAccountCredentials.from_json_keyfile_dict(service_account_credentials, scopes=SCOPES)
     except KeyError as e:
-        raise DemistoException(f&quot;There is a problem with the authentication of the Service account credentials.\
+        raise DemistoException(
+            f&quot;There is a problem with the authentication of the Service account credentials.\
                                 Please check the correctness of your credentials. You are missing the following key\
-                                 in the service account {e}&quot;)
+                                 in the service account {e}&quot;
+        )
     except ValueError as e:
-        raise DemistoException(f&quot;(There is a problem with the authentication of the Service account credentials\
-                                The cred are of the wrong type. Google error is : {e})&quot;)
+        raise DemistoException(
+            f&quot;(There is a problem with the authentication of the Service account credentials\
+                                The cred are of the wrong type. Google error is : {e})&quot;
+        )
 
     # add delegation to help manage the UI - link to a google-account
     if params.get(&quot;user_id&quot;):
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/MailListener/Integrations/MailListenerV2/MailListenerV2.py#L354'>Packs/MailListener/Integrations/MailListenerV2/MailListenerV2.py~L354</a></p>
<pre><code class="language-diff">         try:
             email_message_object = Email(message_bytes, include_raw_body, save_file, mail_id)
         except Exception as e:
-            demisto.debug(f&quot;Create Email object was un-successful for {mail_id=}, {message_data=}.\
-                Skipping to next available email. Error: {e}&quot;)
+            demisto.debug(
+                f&quot;Create Email object was un-successful for {mail_id=}, {message_data=}.\
+                Skipping to next available email. Error: {e}&quot;
+            )
             continue
 
         # Add mails if the current email UID is higher than the previous incident UID
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/MicrosoftCloudAppSecurity/Integrations/MicrosoftDefenderEventCollector/MicrosoftDefenderEventCollector.py#L159'>Packs/MicrosoftCloudAppSecurity/Integrations/MicrosoftDefenderEventCollector/MicrosoftDefenderEventCollector.py~L159</a></p>
<pre><code class="language-diff">         for logs in self._iter_events():
             stored.extend(logs)
             if self.options.limit:
-                demisto.debug(f&quot;{self.options.limit=} reached. \
+                demisto.debug(
+                    f&quot;{self.options.limit=} reached. \
                     slicing from {len(logs)=}. \
-                    limit must be presented ONLY in commands and not in fetch-events.&quot;)
+                    limit must be presented ONLY in commands and not in fetch-events.&quot;
+                )
                 if len(stored) &gt;= self.options.limit:
                     return stored[: self.options.limit]
         return stored
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/MicrosoftDefenderAdvancedThreatProtection/Integrations/MicrosoftDefenderAdvancedThreatProtection/MicrosoftDefenderAdvancedThreatProtection_test.py#L1341'>Packs/MicrosoftDefenderAdvancedThreatProtection/Integrations/MicrosoftDefenderAdvancedThreatProtection/MicrosoftDefenderAdvancedThreatProtection_test.py~L1341</a></p>
<pre><code class="language-diff">     mocker.patch.object(demisto, &quot;debug&quot;)
 
     def raise_mock(params=None, overwrite_rate_limit_retry=True):
-        raise DemistoException(&quot;&quot;&quot;Verify that the server URL parameter is correct and that you have access to the server from your host.
+        raise DemistoException(
+            &quot;&quot;&quot;Verify that the server URL parameter is correct and that you have access to the server from your host.
 Error Type: &lt;requests.exceptions.ConnectionError&gt;
 Error Number: [None]
 Message: None
-&quot;&quot;&quot;)  # noqa: E501
+&quot;&quot;&quot;
+        )  # noqa: E501
 
     mocker.patch.object(client_mocker, &quot;list_alerts_by_params&quot;, side_effect=raise_mock)
     with pytest.raises(Exception) as e:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/MicrosoftExchangeOnPremise/Integrations/EWSv2/EWSv2.py#L1075'>Packs/MicrosoftExchangeOnPremise/Integrations/EWSv2/EWSv2.py~L1075</a></p>
<pre><code class="language-diff">             )
             raise exc
         except ErrorMimeContentConversionFailed as exc:
-            demisto.debug(f&quot;Encountered an ErrorMimeContentConversionFailed error object while iterating: {exc}.\
-                Continuing to next item.&quot;)
+            demisto.debug(
+                f&quot;Encountered an ErrorMimeContentConversionFailed error object while iterating: {exc}.\
+                Continuing to next item.&quot;
+            )
             continue
         except AttributeError as exc:
-            demisto.debug(f&quot;Encountered an Attribute error object while iterating: {exc}.\
-                 Continuing to next item.&quot;)
+            demisto.debug(
+                f&quot;Encountered an Attribute error object while iterating: {exc}.\
+                 Continuing to next item.&quot;
+            )
 
     demisto.debug(f&quot;EWS V2 - Got total of {len(result)} from ews query. &quot;)
     return result
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Mimecast/Integrations/MimecastEventCollector/MimecastEventCollector.py#L108'>Packs/Mimecast/Integrations/MimecastEventCollector/MimecastEventCollector.py~L108</a></p>
<pre><code class="language-diff">                 # More than SIEM_LOG_LIMIT were saved from prev run.
                 # take SIEM_LOG_LIMIT from events_from_prev_run and put in stored
                 # save the rest in events_from_prev_run for the next run.
-                demisto.info(f&quot;{self.options.limit=} reached. \
-                    slicing from {len(self.events_from_prev_run)=}.&quot;)
+                demisto.info(
+                    f&quot;{self.options.limit=} reached. \
+                    slicing from {len(self.events_from_prev_run)=}.&quot;
+                )
                 stored = self.events_from_prev_run[: self.options.limit]
                 self.events_from_prev_run = self.events_from_prev_run[self.options.limit :]
                 return stored
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Mimecast/Integrations/MimecastEventCollector/MimecastEventCollector.py#L124'>Packs/Mimecast/Integrations/MimecastEventCollector/MimecastEventCollector.py~L124</a></p>
<pre><code class="language-diff">         for logs in self._iter_events():
             stored.extend(logs)
             if self.options.limit and len(stored) &gt;= self.options.limit:
-                demisto.info(f&quot;{self.options.limit=} reached. \
-                    slicing from {len(logs)=}.&quot;)
+                demisto.info(
+                    f&quot;{self.options.limit=} reached. \
+                    slicing from {len(logs)=}.&quot;
+                )
                 self.events_from_prev_run = stored[self.options.limit :]
                 demisto.info(f&quot;storing {len(self.events_from_prev_run)} siem events for next run&quot;)
                 return stored[: self.options.limit]
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/MinervaLabsAntiEvasionPlatform/Integrations/MinervaLabsAntiEvasionPlatform/MinervaLabsAntiEvasionPlatform.py#L284'>Packs/MinervaLabsAntiEvasionPlatform/Integrations/MinervaLabsAntiEvasionPlatform/MinervaLabsAntiEvasionPlatform.py~L284</a></p>
<pre><code class="language-diff">         demisto.results(f&quot;Vaccination with id {vaccine_id} was not found&quot;)
         return
     if response.status_code != 200:
-        return_error(f&quot;Error while deleting vaccination id: {vaccine_id}. More information: {response.status_code},\
-                     {response.reason}&quot;)
+        return_error(
+            f&quot;Error while deleting vaccination id: {vaccine_id}. More information: {response.status_code},\
+                     {response.reason}&quot;
+        )
     demisto.results(f&quot;Vaccine '{vaccine_id}' was deleted&quot;)
 
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/MinervaLabsAntiEvasionPlatform/Integrations/MinervaLabsAntiEvasionPlatform/MinervaLabsAntiEvasionPlatform.py#L294'>Packs/MinervaLabsAntiEvasionPlatform/Integrations/MinervaLabsAntiEvasionPlatform/MinervaLabsAntiEvasionPlatform.py~L294</a></p>
<pre><code class="language-diff">     json_params = {&quot;filters&quot;: [{&quot;param&quot;: search_param, &quot;condition&quot;: search_condition, &quot;value&quot;: search_value}]}
     response = session.post(search_url, json=json_params)
     if response.status_code != 200:
-        return_error(f'Error while perfroming search for\
-                     {search_url.rsplit(&quot;/&quot;)[1]}. More information: {response.status_code}, {response.reason}')
+        return_error(
+            f'Error while perfroming search for\
+                     {search_url.rsplit(&quot;/&quot;)[1]}. More information: {response.status_code}, {response.reason}'
+        )
 
     results = {
         &quot;Type&quot;: entryTypes[&quot;note&quot;],
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/NutanixHypervisor/Integrations/NutanixHypervisor/NutanixHypervisor.py#L126'>Packs/NutanixHypervisor/Integrations/NutanixHypervisor/NutanixHypervisor.py~L126</a></p>
<pre><code class="language-diff">             return self._http_request(method=method, url_suffix=url_suffix, params=params, json_data=json_data)
         except DemistoException as e:
             if &quot;Invalid filter criteria specified.&quot; in str(e):
-                raise DemistoException(&quot;&quot;&quot;Filter criteria given is invalid or is not written in the correct format.
-                 Use the 'filter' argument description 'to build your filter correctly.&quot;&quot;&quot;)
+                raise DemistoException(
+                    &quot;&quot;&quot;Filter criteria given is invalid or is not written in the correct format.
+                 Use the 'filter' argument description 'to build your filter correctly.&quot;&quot;&quot;
+                )
 
             if &quot;Unrecognized field&quot; in str(e):
                 raise DemistoException(&quot;Filter criteria given is invalid.&quot;)
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Okta/Integrations/OktaEventCollector/OktaEventCollector.py#L69'>Packs/Okta/Integrations/OktaEventCollector/OktaEventCollector.py~L69</a></p>
<pre><code class="language-diff">             res: requests.models.Response = exc.res
             status_code: int = res.status_code
             if status_code == HTTPStatus.TOO_MANY_REQUESTS.value:
-                demisto.debug(f'fetch-events Got 429. okta rate limit headers:\n \
+                demisto.debug(
+                    f'fetch-events Got 429. okta rate limit headers:\n \
                 x-rate-limit-remaining: {res.headers[&quot;x-rate-limit-remaining&quot;]}\n \
-                    x-rate-limit-reset: {res.headers[&quot;x-rate-limit-reset&quot;]}\n')
+                    x-rate-limit-reset: {res.headers[&quot;x-rate-limit-reset&quot;]}\n'
+                )
                 return stored_events, int(res.headers[&quot;x-rate-limit-reset&quot;])
             return stored_events, 0
         except Exception as exc:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Okta/Integrations/OktaEventCollector/OktaEventCollector.py#L116'>Packs/Okta/Integrations/OktaEventCollector/OktaEventCollector.py~L116</a></p>
<pre><code class="language-diff"> 
         sleep_time = abs(epoch_time_to_continue_fetch - start_time_epoch)
         if sleep_time and sleep_time &lt; FETCH_TIME_LIMIT:
-            demisto.debug(f&quot;Will try fetch again in: {sleep_time},\
-                as a result of 429 Too Many Requests HTTP status.&quot;)
+            demisto.debug(
+                f&quot;Will try fetch again in: {sleep_time},\
+                as a result of 429 Too Many Requests HTTP status.&quot;
+            )
             time.sleep(sleep_time)  # pylint: disable=E9003
         else:
             break
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L52'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L52</a></p>
<pre><code class="language-diff">     &quot;&quot;&quot;
     monkeypatch.setattr(demisto, &quot;params&quot;, lambda: {&quot;url&quot;: &quot;https://test.com&quot;})
 
-    mock_alert_response = json.loads(&quot;&quot;&quot;{&quot;ver&quot;:&quot;v4.0&quot;,&quot;api&quot;:&quot;/alert/list&quot;,&quot;items&quot;:[{&quot;date&quot;:&quot;2020-01-15T05:06:50.540Z&quot;,
+    mock_alert_response = json.loads(
+        &quot;&quot;&quot;{&quot;ver&quot;:&quot;v4.0&quot;,&quot;api&quot;:&quot;/alert/list&quot;,&quot;items&quot;:[{&quot;date&quot;:&quot;2020-01-15T05:06:50.540Z&quot;,
 &quot;name&quot;:&quot;foo&quot;,&quot;description&quot;:&quot;The baseline&quot;,&quot;zb_ticketid&quot;:&quot;alert-Ob81iwWe&quot;},{&quot;date&quot;:&quot;2020-01-15T05:06:50.540Z&quot;,
-&quot;name&quot;:&quot;bar&quot;,&quot;description&quot;:&quot;x&quot;,&quot;zb_ticketid&quot;:&quot;alert-Lqy4ikEz&quot;}]}&quot;&quot;&quot;)
+&quot;name&quot;:&quot;bar&quot;,&quot;description&quot;:&quot;x&quot;,&quot;zb_ticketid&quot;:&quot;alert-Lqy4ikEz&quot;}]}&quot;&quot;&quot;
+    )
     requests_mock.get(
         &quot;https://test.com/pub/v4.0/alert/list?customerid=foobar&amp;offset=0&amp;pagelength=10&amp;stime=-1&quot;
         &quot;&amp;type=policy_alert&amp;resolved=no&amp;sortfield=date&amp;sortdirection=asc&quot;,
         json=mock_alert_response,
     )
 
-    mock_vuln_response = json.loads(&quot;&quot;&quot;{&quot;ver&quot;:&quot;v4.0&quot;,&quot;api&quot;:&quot;/vulnerability/list&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;HPD41936&quot;,
+    mock_vuln_response = json.loads(
+        &quot;&quot;&quot;{&quot;ver&quot;:&quot;v4.0&quot;,&quot;api&quot;:&quot;/vulnerability/list&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;HPD41936&quot;,
 &quot;ip&quot;:&quot;10.55.132.114&quot;,&quot;deviceid&quot;:&quot;a0:d3:c1:d4:19:36&quot;,&quot;detected_date&quot;:&quot;2020-05-31T23:59:59.000Z&quot;,
-&quot;vulnerability_name&quot;:&quot;SMB v1 Usage&quot;}]}&quot;&quot;&quot;)
+&quot;vulnerability_name&quot;:&quot;SMB v1 Usage&quot;}]}&quot;&quot;&quot;
+    )
     requests_mock.get(
         &quot;https://test.com/pub/v4.0/vulnerability/list?customerid=foobar&amp;offset=0&amp;pagelength=10&quot;
         &quot;&amp;stime=1970-01-01T00:00:00.001000Z&amp;type=vulnerability&amp;status=Confirmed&amp;groupby=device&quot;,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L93'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L93</a></p>
<pre><code class="language-diff">     &quot;&quot;&quot;
     monkeypatch.setattr(demisto, &quot;params&quot;, lambda: {&quot;url&quot;: &quot;https://test.com&quot;})
 
-    mock_alert_response = json.loads(&quot;&quot;&quot;{&quot;items&quot;: [
+    mock_alert_response = json.loads(
+        &quot;&quot;&quot;{&quot;items&quot;: [
         {
             &quot;name&quot;: &quot;alert1&quot;,
             &quot;date&quot;: &quot;2019-11-07T23:11:30.509Z&quot;,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L105'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L105</a></p>
<pre><code class="language-diff">             &quot;date&quot;: &quot;2019-11-07T23:11:31.509Z&quot;,
             &quot;zb_ticketid&quot;: &quot;zb_ticketid2&quot;
         }
-    ]}&quot;&quot;&quot;)
+    ]}&quot;&quot;&quot;
+    )
     requests_mock.get(
         &quot;https://test.com/pub/v4.0/alert/list?customerid=foobar&amp;offset=0&amp;pagelength=2&amp;stime=-1&quot;
         &quot;&amp;type=policy_alert&amp;resolved=no&amp;sortfield=date&amp;sortdirection=asc&quot;,
         json=mock_alert_response,
     )
-    mock_alert_response = json.loads(&quot;&quot;&quot;{&quot;items&quot;: [
+    mock_alert_response = json.loads(
+        &quot;&quot;&quot;{&quot;items&quot;: [
         {
             &quot;name&quot;: &quot;alert3&quot;,
             &quot;date&quot;: &quot;2019-11-07T23:11:31.509Z&quot;,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L122'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L122</a></p>
<pre><code class="language-diff">             &quot;date&quot;: &quot;2019-11-07T23:11:31.509Z&quot;,
             &quot;zb_ticketid&quot;: &quot;zb_ticketid4&quot;
         }
-    ]}&quot;&quot;&quot;)
+    ]}&quot;&quot;&quot;
+    )
     requests_mock.get(
         &quot;https://test.com/pub/v4.0/alert/list?customerid=foobar&amp;offset=2&amp;pagelength=2&amp;stime=-1&quot;
         &quot;&amp;type=policy_alert&amp;resolved=no&amp;sortfield=date&amp;sortdirection=asc&quot;,
         json=mock_alert_response,
     )
-    mock_alert_response = json.loads(&quot;&quot;&quot;{&quot;items&quot;: [
+    mock_alert_response = json.loads(
+        &quot;&quot;&quot;{&quot;items&quot;: [
         {
             &quot;name&quot;: &quot;alert5&quot;,
             &quot;date&quot;: &quot;2019-11-07T23:11:31.509Z&quot;,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L139'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L139</a></p>
<pre><code class="language-diff">             &quot;date&quot;: &quot;2019-12-07T12:01:32.509Z&quot;,
             &quot;zb_ticketid&quot;: &quot;zb_ticketid6&quot;
         }
-    ]}&quot;&quot;&quot;)
+    ]}&quot;&quot;&quot;
+    )
     requests_mock.get(
         &quot;https://test.com/pub/v4.0/alert/list?customerid=foobar&amp;offset=4&amp;pagelength=2&amp;stime=-1&quot;
         &quot;&amp;type=policy_alert&amp;resolved=no&amp;sortfield=date&amp;sortdirection=asc&quot;,
         json=mock_alert_response,
     )
 
-    mock_vuln_response = json.loads(&quot;&quot;&quot;{&quot;items&quot;: [
+    mock_vuln_response = json.loads(
+        &quot;&quot;&quot;{&quot;items&quot;: [
         {
             &quot;name&quot;: &quot;vuln1&quot;,
             &quot;detected_date&quot;: &quot;2019-11-07T23:11:30.509Z&quot;,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L161'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L161</a></p>
<pre><code class="language-diff">             &quot;vulnerability_name&quot;: &quot;vname2&quot;,
             &quot;deviceid&quot;: &quot;deviceid2&quot;
         }
-    ]}&quot;&quot;&quot;)
+    ]}&quot;&quot;&quot;
+    )
     requests_mock.get(
         &quot;https://test.com/pub/v4.0/vulnerability/list?customerid=foobar&amp;offset=0&amp;pagelength=2&amp;stime=-1&quot;
         &quot;&amp;type=vulnerability&amp;status=Confirmed&amp;groupby=device&quot;,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py#L246'>Packs/PaloAltoNetworks_IoT/Integrations/PaloAltoNetworks_IoT/PaloAltoNetworks_IoT_test.py~L246</a></p>
<pre><code class="language-diff">     Then
     - Ensure the api URL is correct with the right parameters and payload
     &quot;&quot;&quot;
-    mock_response = json.loads(&quot;&quot;&quot;{&quot;api&quot;:&quot;/vulnerability/update&quot;,&quot;ver&quot;:&quot;v4.0&quot;,&quot;updatedVulnerInstanceList&quot;:[{
-&quot;newScore&quot;:10,&quot;newLevel&quot;:&quot;Low&quot;,&quot;newAnomalyMap&quot;:{&quot;application&quot;:0,&quot;protocol&quot;:0,&quot;payload&quot;:0,&quot;external&quot;:0,&quot;internal&quot;:0}}]}&quot;&quot;&quot;)
+    mock_response = json.loads(
+        &quot;&quot;&quot;{&quot;api&quot;:&quot;/vulnerability/update&quot;,&quot;ver&quot;:&quot;v4.0&quot;,&quot;updatedVulnerInstanceList&quot;:[{
+&quot;newScore&quot;:10,&quot;newLevel&quot;:&quot;Low&quot;,&quot;newAnomalyMap&quot;:{&quot;application&quot;:0,&quot;protocol&quot;:0,&quot;payload&quot;:0,&quot;external&quot;:0,&quot;internal&quot;:0}}]}&quot;&quot;&quot;
+    )
     adapter = requests_mock.put(&quot;https://test.com/pub/v4.0/vulnerability/update?customerid=foobar&quot;, json=mock_response)
 
     client = Client(base_url=&quot;https://test.com/pub/v4.0&quot;, tenant_id=&quot;foobar&quot;, verify=False)
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/QRadar/Integrations/QRadar_v3/QRadar_v3.py#L2416'>Packs/QRadar/Integrations/QRadar_v3/QRadar_v3.py~L2416</a></p>
<pre><code class="language-diff">     status = args.get(&quot;status&quot;)
     closing_reason_id = args.get(&quot;closing_reason_id&quot;)
     if status == &quot;CLOSED&quot; and (not closing_reason_id and not closing_reason_name):
-        raise DemistoException(&quot;&quot;&quot;Closing reason ID must be provided when closing an offense. Available closing reasons can be achieved
-             by 'qradar-closing-reasons' command.&quot;&quot;&quot;)
+        raise DemistoException(
+            &quot;&quot;&quot;Closing reason ID must be provided when closing an offense. Available closing reasons can be achieved
+             by 'qradar-closing-reasons' command.&quot;&quot;&quot;
+        )
 
     if closing_reason_name:
         # if this call fails, raise an error and stop command execution
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/ServiceNow/Integrations/ServiceNowv2/ServiceNowv2.py#L460'>Packs/ServiceNow/Integrations/ServiceNowv2/ServiceNowv2.py~L460</a></p>
<pre><code class="language-diff"> 
         if arg in fields_to_clear:
             if input_arg:
-                raise DemistoException(f&quot;Could not set a value for the argument '{arg}' and add it to the clear_fields. \
-                You can either set or clear the field value.&quot;)
+                raise DemistoException(
+                    f&quot;Could not set a value for the argument '{arg}' and add it to the clear_fields. \
+                You can either set or clear the field value.&quot;
+                )
             ticket_fields[arg] = &quot;&quot;
         elif input_arg:
             if arg in [&quot;impact&quot;, &quot;urgency&quot;, &quot;severity&quot;]:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/ServiceNow/Integrations/ServiceNowv2/ServiceNowv2.py#L2773'>Packs/ServiceNow/Integrations/ServiceNowv2/ServiceNowv2.py~L2773</a></p>
<pre><code class="language-diff"> 
     # if custom close code parameter is set and ticket close code is returned from the SNOW incident
     if server_custom_close_code and ticket_close_code:
-        demisto.debug(f&quot;trying to close XSOAR incident using custom resolution code: {server_custom_close_code}, with \
-            received close code: {ticket_close_code}&quot;)
+        demisto.debug(
+            f&quot;trying to close XSOAR incident using custom resolution code: {server_custom_close_code}, with \
+            received close code: {ticket_close_code}&quot;
+        )
         # parse custom close code parameter into a dictionary of custom close codes and their names (label)
         server_close_custom_code_dict = dict(item.strip().split(&quot;=&quot;) for item in server_custom_close_code.split(&quot;,&quot;))
         # check if close code is in the parsed dictionary
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/ServiceNow/Integrations/ServiceNowv2/ServiceNowv2.py#L2783'>Packs/ServiceNow/Integrations/ServiceNowv2/ServiceNowv2.py~L2783</a></p>
<pre><code class="language-diff">             return close_code_label
     # if custom state parameter is set and ticket state is returned from incident is not empty
     if server_close_custom_state and ticket_state:
-        demisto.debug(f&quot;trying to close XSOAR incident using custom states: {server_close_custom_state}, with \
-            received state code: {ticket_state}&quot;)
+        demisto.debug(
+            f&quot;trying to close XSOAR incident using custom states: {server_close_custom_state}, with \
+            received state code: {ticket_state}&quot;
+        )
         # parse custom state parameter into a dictionary of custom state codes and their names (label)
         server_close_custom_state_dict = dict(item.strip().split(&quot;=&quot;) for item in server_close_custom_state.split(&quot;,&quot;))
         # check if state code is in the parsed dictionary
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/SplunkPy/Integrations/SplunkPy/SplunkPy.py#L1132'>Packs/SplunkPy/Integrations/SplunkPy/SplunkPy.py~L1132</a></p>
<pre><code class="language-diff">                     else:
                         demisto.debug(f&quot;Enrichment {enrichment.type} for notable {notable.id} is still not done&quot;)
                 except Exception as e:
-                    demisto.error(f&quot;Caught an exception while retrieving {enrichment.type}\
-                        enrichment results for notable {notable.id}: {str(e)}&quot;)
+                    demisto.error(
+                        f&quot;Caught an exception while retrieving {enrichment.type}\
+                        enrichment results for notable {notable.id}: {str(e)}&quot;
+                    )
                     enrichment.status = Enrichment.FAILED
 
         if notable.handled():
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/SplunkPy/Integrations/SplunkPy/SplunkPy.py#L1144'>Packs/SplunkPy/Integrations/SplunkPy/SplunkPy.py~L1144</a></p>
<pre><code class="language-diff"> 
     else:
         task_status = True
-        demisto.debug(f&quot;Open enrichment {notable.id} has exceeded the enrichment timeout of {enrichment_timeout}.\
-            Submitting the notable without the enrichment.&quot;)
+        demisto.debug(
+            f&quot;Open enrichment {notable.id} has exceeded the enrichment timeout of {enrichment_timeout}.\
+            Submitting the notable without the enrichment.&quot;
+        )
 
     return task_status
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/SplunkPy/Integrations/SplunkPy/SplunkPy.py#L1188'>Packs/SplunkPy/Integrations/SplunkPy/SplunkPy.py~L1188</a></p>
<pre><code class="language-diff">         demisto.debug(f&quot;Submitted {len(submitted_notables)}/{total} notables successfully.&quot;)
 
     if failed_notables:
-        demisto.debug(f&quot;The following {len(failed_notables)} notables failed the enrichment process: \
+        demisto.debug(
+            f&quot;The following {len(failed_notables)} notables failed the enrichment process: \
             {[notable.id for notable in failed_notables]}, \
-            creating incidents without enrichment.&quot;)
+            creating incidents without enrichment.&quot;
+        )
 
 
 def submit_notable(service: client.Service, notable: Notable, num_enrichment_events) -&gt; bool:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/SumoLogic_Cloud_SIEM/Integrations/SumoLogicCloudSIEM/SumoLogicCloudSIEM.py#L810'>Packs/SumoLogic_Cloud_SIEM/Integrations/SumoLogicCloudSIEM/SumoLogicCloudSIEM.py~L810</a></p>
<pre><code class="language-diff">             resolution = insight_resolution
             if resolution == &quot;No Action&quot;:
                 resolution = &quot;Other&quot;
-            demisto.info(f&quot;Closing incident related to Sumo Logic Insight {insight_id} with resolution {insight_resolution}, \
-                which is mapped to XSOAR reason: {resolution}&quot;)
+            demisto.info(
+                f&quot;Closing incident related to Sumo Logic Insight {insight_id} with resolution {insight_resolution}, \
+                which is mapped to XSOAR reason: {resolution}&quot;
+            )
             entries = [
                 {
                     &quot;Type&quot;: EntryType.NOTE,
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/SumoLogic_Cloud_SIEM/Integrations/SumoLogicCloudSIEM/SumoLogicCloudSIEM.py#L851'>Packs/SumoLogic_Cloud_SIEM/Integrations/SumoLogicCloudSIEM/SumoLogicCloudSIEM.py~L851</a></p>
<pre><code class="language-diff">         return insight_id
 
     if parsed_args.incident_changed and delta:
-        demisto.debug(f&quot;Got the following delta keys {str(list(delta.keys()))} to update incident \
-            corresponding to Insight {insight_id}&quot;)
+        demisto.debug(
+            f&quot;Got the following delta keys {str(list(delta.keys()))} to update incident \
+            corresponding to Insight {insight_id}&quot;
+        )
         demisto.debug(f&quot;Got the following delta {delta} to update incident corresponding to Insight {insight_id}&quot;)
         demisto.debug(f&quot;Incident Id: {incident_id}&quot;)
         changed_data = {field: &quot;&quot; for field in OUTGOING_MIRRORED_FIELDS}
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Tenable_sc/Integrations/Tenable_sc/Tenable_sc.py#L133'>Packs/Tenable_sc/Integrations/Tenable_sc/Tenable_sc.py~L133</a></p>
<pre><code class="language-diff">                 error = res.json()
             except Exception:
                 # type: ignore
-                raise DemistoException(f&quot;Error: Got status code {str(res.status_code)} with {url=} \
-                    with body {res.content} with headers {str(res.headers)}&quot;)  # type: ignore
-
-            raise DemistoException(f&quot;Error: Got an error from TenableSC, code: {error['error_code']}, \
-                        details: {error['error_msg']}&quot;)  # type: ignore
+                raise DemistoException(
+                    f&quot;Error: Got status code {str(res.status_code)} with {url=} \
+                    with body {res.content} with headers {str(res.headers)}&quot;
+                )  # type: ignore
+
+            raise DemistoException(
+                f&quot;Error: Got an error from TenableSC, code: {error['error_code']}, \
+                        details: {error['error_msg']}&quot;
+            )  # type: ignore
         return res.json()
 
     def login(self):
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Tenable_sc/Integrations/Tenable_sc/Tenable_sc.py#L177'>Packs/Tenable_sc/Integrations/Tenable_sc/Tenable_sc.py~L177</a></p>
<pre><code class="language-diff">         res = self.session.request(&quot;post&quot;, url, headers=headers, data=json.dumps(login_body), verify=self.verify_ssl)
 
         if res.status_code &lt; 200 or res.status_code &gt;= 300:
-            raise DemistoException(f&quot;Error: Got status code {str(res.status_code)} with {url=} \
-                        with body {res.content} with headers {str(res.headers)}&quot;)  # type: ignore
+            raise DemistoException(
+                f&quot;Error: Got status code {str(res.status_code)} with {url=} \
+                        with body {res.content} with headers {str(res.headers)}&quot;
+            )  # type: ignore
 
         self.cookie = res.cookies.get(&quot;TNS_SESSIONID&quot;, self.cookie)
         demisto.setIntegrationContext({&quot;cookie&quot;: self.cookie})
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Tufin/Integrations/Tufin/Tufin.py#L19'>Packs/Tufin/Integrations/Tufin/Tufin.py~L19</a></p>
<pre><code class="language-diff"> API: https://&lt;SecureChange IP Address&gt;/securechangeworkflow/api/securechange/tickets/&lt;tickt_ID&gt;.json
 &quot;&quot;&quot;
 
-FW_CHANGE_REQ = json.loads(&quot;&quot;&quot;{ &quot;ticket&quot;: { &quot;subject&quot;: &quot;&quot;, &quot;priority&quot;: &quot;&quot;, &quot;workflow&quot;: { &quot;name&quot;: &quot;Firewall Change Request&quot;,
+FW_CHANGE_REQ = json.loads(
+    &quot;&quot;&quot;{ &quot;ticket&quot;: { &quot;subject&quot;: &quot;&quot;, &quot;priority&quot;: &quot;&quot;, &quot;workflow&quot;: { &quot;name&quot;: &quot;Firewall Change Request&quot;,
                            &quot;uses_topology&quot;: true }, &quot;steps&quot;: { &quot;step&quot;: [ { &quot;name&quot;: &quot;Submit Access Request&quot;, &quot;tasks&quot;: { &quot;task&quot;:
                            { &quot;fields&quot;: { &quot;field&quot;: { &quot;@xsi.type&quot;: &quot;multi_access_request&quot;, &quot;name&quot;: &quot;Required Access&quot;,
                            &quot;access_request&quot;: { &quot;use_topology&quot;: true, &quot;targets&quot;: { &quot;target&quot;: { &quot;@type&quot;: &quot;ANY&quot; } },
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Tufin/Integrations/Tufin/Tufin.py#L27'>Packs/Tufin/Integrations/Tufin/Tufin.py~L27</a></p>
<pre><code class="language-diff">                            &quot;netmask&quot;: &quot;255.255.255.255&quot;, &quot;cidr&quot;: 32 } ] }, &quot;destinations&quot;: { &quot;destination&quot;: [ { &quot;@type&quot;: &quot;IP&quot;,
                            &quot;ip_address&quot;: &quot;&quot;, &quot;netmask&quot;: &quot;255.255.255.255&quot;, &quot;cidr&quot;: 32 } ] }, &quot;services&quot;: { &quot;service&quot;:
                             [ { &quot;@type&quot;: &quot;PROTOCOL&quot;, &quot;protocol&quot;: &quot;&quot;, &quot;port&quot;: 0 } ] }, &quot;action&quot;: &quot;&quot; } } } } } } ] },
-                            &quot;comments&quot;: &quot;&quot; } }&quot;&quot;&quot;)
-SERVER_DECOM_REQ = json.loads(&quot;&quot;&quot;{ &quot;ticket&quot;: { &quot;subject&quot;: &quot;&quot;, &quot;priority&quot;: &quot;&quot;, &quot;workflow&quot;: { &quot;name&quot;:
+                            &quot;comments&quot;: &quot;&quot; } }&quot;&quot;&quot;
+)
+SERVER_DECOM_REQ = json.loads(
+    &quot;&quot;&quot;{ &quot;ticket&quot;: { &quot;subject&quot;: &quot;&quot;, &quot;priority&quot;: &quot;&quot;, &quot;workflow&quot;: { &quot;name&quot;:
                               &quot;Server Decommission Request&quot;, &quot;uses_topology&quot;: false }, &quot;steps&quot;: { &quot;step&quot;: [ {
                               &quot;name&quot;: &quot;Server Decommission Request&quot;, &quot;tasks&quot;: { &quot;task&quot;: { &quot;fields&quot;: { &quot;field&quot;: { &quot;@xsi.type&quot;:
                               &quot;multi_server_decommission_request&quot;, &quot;name&quot;: &quot;Request verification&quot;,
                               &quot;server_decommission_request&quot;: { &quot;servers&quot;: { &quot;server&quot;: { &quot;@type&quot;: &quot;IP&quot;, &quot;ip_address&quot;: &quot;&quot;,
                               &quot;netmask&quot;: &quot;255.255.255.255&quot;, &quot;cidr&quot;: 32 } }, &quot;targets&quot;: { &quot;target&quot;: { &quot;@type&quot;: &quot;ANY&quot; } },
-                              &quot;comment&quot;: &quot;&quot; } } } } } } ] }, &quot;comments&quot;: &quot;&quot; }}&quot;&quot;&quot;)
+                              &quot;comment&quot;: &quot;&quot; } } } } } } ] }, &quot;comments&quot;: &quot;&quot; }}&quot;&quot;&quot;
+)
 
 # remove proxy if not set to true in params
 if not demisto.params().get(&quot;proxy&quot;):
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Tufin/Integrations/Tufin/Tufin.py#L415'>Packs/Tufin/Integrations/Tufin/Tufin.py~L415</a></p>
<pre><code class="language-diff">                 or port is None
                 or action is None
             ):
-                return_error(&quot;&quot;&quot;Request Type, Subject, Priority, Source, Destination, Protocol,
-                             Port and Action parameters are mandatory for this request type&quot;&quot;&quot;)
+                return_error(
+                    &quot;&quot;&quot;Request Type, Subject, Priority, Source, Destination, Protocol,
+                             Port and Action parameters are mandatory for this request type&quot;&quot;&quot;
+                )
             if priority.capitalize() not in [&quot;Critical&quot;, &quot;High&quot;, &quot;Normal&quot;, &quot;Low&quot;]:
                 return_error(&quot;Priority must be Critical, High, Normal or Low&quot;)
             if proto.upper() not in [&quot;TCP&quot;, &quot;UDP&quot;]:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Vectra_AI/Integrations/VectraAIEventCollector/VectraAIEventCollector.py#L151'>Packs/Vectra_AI/Integrations/VectraAIEventCollector/VectraAIEventCollector.py~L151</a></p>
<pre><code class="language-diff">         return event
 
     except Exception as e:
-        demisto.debug(f&quot;&quot;&quot;Failed adding parsing rules to event '{str(event)}': {str(e)}.
-            Will be added in ingestion time&quot;&quot;&quot;)
+        demisto.debug(
+            f&quot;&quot;&quot;Failed adding parsing rules to event '{str(event)}': {str(e)}.
+            Will be added in ingestion time&quot;&quot;&quot;
+        )
 
         return event
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/XSOARmirroring/Integrations/XSOARmirroring/XSOARmirroring.py#L640'>Packs/XSOARmirroring/Integrations/XSOARmirroring/XSOARmirroring.py~L640</a></p>
<pre><code class="language-diff">             del XSOARMirror_mirror_reset[remote_args.remote_incident_id]
             integration_context[MIRROR_RESET] = XSOARMirror_mirror_reset
             set_to_integration_context_with_retries(context=integration_context)
-            demisto.debug(f&quot;Removed incident id: {remote_args.remote_incident_id} from XSOARMirror_mirror_reset\
-                context data list.&quot;)
+            demisto.debug(
+                f&quot;Removed incident id: {remote_args.remote_incident_id} from XSOARMirror_mirror_reset\
+                context data list.&quot;
+            )
 
         formatted_entries = []
         # file_attachments = []
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Zoom/Integrations/Zoom/Zoom.py#L757'>Packs/Zoom/Integrations/Zoom/Zoom.py~L757</a></p>
<pre><code class="language-diff">         if MIRRORING_ENABLED and (
             not LONG_RUNNING or not SECRET_TOKEN or not client.bot_client_id or not client.bot_client_secret or not client.bot_jid
         ):
-            raise DemistoException(&quot;&quot;&quot;Mirroring is enabled, however long running is disabled
+            raise DemistoException(
+                &quot;&quot;&quot;Mirroring is enabled, however long running is disabled
 or the necessary bot authentication parameters are missing.
 For mirrors to work correctly, long running must be enabled and you must provide all
 the zoom-bot following parameters:
 secret token,
 Bot JID,
-bot client id and secret id&quot;&quot;&quot;)
+bot client id and secret id&quot;&quot;&quot;
+            )
         client.zoom_list_users(page_size=1, url_suffix=&quot;users&quot;)
         if client.bot_access_token:
             json_data = {
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Zoom/Integrations/Zoom/Zoom.py#L2098'>Packs/Zoom/Integrations/Zoom/Zoom.py~L2098</a></p>
<pre><code class="language-diff">         except DemistoException as e:
             error_message = e.message
             if &quot;The next page token is invalid or expired.&quot; in error_message and next_page_token:
-                raise DemistoException(f&quot;Please ensure that the correct argument values are used when attempting to use \
+                raise DemistoException(
+                    f&quot;Please ensure that the correct argument values are used when attempting to use \
 the next_page_toke.\n Note that when using next_page_token it is mandatory to specify date time and not relative time.\n \
-To find the appropriate values, refer to the ChatMessageNextToken located in the context. \n {error_message}&quot;)
+To find the appropriate values, refer to the ChatMessageNextToken located in the context. \n {error_message}&quot;
+                )
 
     outputs = []
     for i in all_messages:
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Zoom/Integrations/Zoom/Zoom.py#L2440'>Packs/Zoom/Integrations/Zoom/Zoom.py~L2440</a></p>
<pre><code class="language-diff">     CACHED_INTEGRATION_CONTEXT = get_integration_context(SYNC_CONTEXT)
 
     if MIRRORING_ENABLED and (not LONG_RUNNING or not SECRET_TOKEN or not bot_client_id or not bot_client_secret or not bot_jid):
-        raise DemistoException(&quot;&quot;&quot;Mirroring is enabled, however long running is disabled
+        raise DemistoException(
+            &quot;&quot;&quot;Mirroring is enabled, however long running is disabled
 or the necessary bot authentication parameters are missing.
 For mirrors to work correctly, long running must be enabled and you must provide all
 the zoom-bot following parameters:
 secret token,
 Bot JID,
-bot client id and secret id&quot;&quot;&quot;)
+bot client id and secret id&quot;&quot;&quot;
+        )
     if LONG_RUNNING:
         try:
             port = int(params.get(&quot;longRunningPort&quot;))
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Packs/Zoom/Integrations/Zoom_IAM/Zoom_IAM.py#L206'>Packs/Zoom/Integrations/Zoom_IAM/Zoom_IAM.py~L206</a></p>
<pre><code class="language-diff"> 
 def check_authentication_type_arguments(api_key: str, api_secret: str, account_id: str, client_id: str, client_secret: str):
     if any((api_key, api_secret)) and any((account_id, client_id, client_secret)):
-        raise DemistoException(&quot;&quot;&quot;Too many fields were filled.
+        raise DemistoException(
+            &quot;&quot;&quot;Too many fields were filled.
                                    You should fill the Account ID, Client ID, and Client Secret fields (OAuth),
-                                   OR the API Key and API Secret fields (JWT - Deprecated)&quot;&quot;&quot;)
+                                   OR the API Key and API Secret fields (JWT - Deprecated)&quot;&quot;&quot;
+        )
 
 
 def main():  # pragma: no cover
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Tests/Marketplace/marketplace_services.py#L1547'>Tests/Marketplace/marketplace_services.py~L1547</a></p>
<pre><code class="language-diff">         logging.debug(f&quot;Release notes after filtering by display -\n{filtered_release_notes}&quot;)
 
         if not filtered_release_notes:
-            logging.debug(f&quot;Didn't find relevant release notes entries after filtering by display name.\n \
-                            Release notes: {release_notes}&quot;)
+            logging.debug(
+                f&quot;Didn't find relevant release notes entries after filtering by display name.\n \
+                            Release notes: {release_notes}&quot;
+            )
 
         return filtered_release_notes
 
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Tests/Marketplace/upload_packs.py#L792'>Tests/Marketplace/upload_packs.py~L792</a></p>
<pre><code class="language-diff">         fail_build (bool): indicates whether to fail the build upon failing pack to upload or not
 
     &quot;&quot;&quot;
-    logging.info(f&quot;&quot;&quot;\n
+    logging.info(
+        f&quot;&quot;&quot;\n
 ------------------------------------------ Packs Upload Summary ------------------------------------------
 Total number of packs: {len(successful_packs + skipped_packs + failed_packs)}
-----------------------------------------------------------------------------------------------------------&quot;&quot;&quot;)
+----------------------------------------------------------------------------------------------------------&quot;&quot;&quot;
+    )
 
     if successful_packs:
         successful_packs_table = _build_summary_table(successful_packs)
</code></pre>
<p><a href='https://github.com/demisto/content/blob/f7043f77765fceb0136f529ab560f1a1314b2077/Tests/private_build/marketplace_services_private.py#L1813'>Tests/private_build/marketplace_services_private.py~L1813</a></p>
<pre><code class="language-diff">         logging.debug(f&quot;Release notes after filtering by display -\n{filtered_release_notes}&quot;)
 
         if not filtered_release_notes:
-            logging.debug(f&quot;Didn't find relevant release notes entries after filtering by display name.\n \
-                            Release notes: {release_notes}&quot;)
+            logging.debug(
+                f&quot;Didn't find relevant release notes entries after filtering by display name.\n \
+                            Release notes: {release_notes}&quot;
+            )
 
         return filtered_release_notes
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/freedomofpress/securedrop">freedomofpress/securedrop</a> (+44 -22 lines across 9 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/journalist_gui/journalist_gui/SecureDropUpdater.py#L187'>journalist_gui/journalist_gui/SecureDropUpdater.py~L187</a></p>
<pre><code class="language-diff"> 
         # Connect buttons to their functions.
         self.pushButton.setText(strings.install_later_button)
-        self.pushButton.setStyleSheet(&quot;&quot;&quot;background-color: lightgrey;
+        self.pushButton.setStyleSheet(
+            &quot;&quot;&quot;background-color: lightgrey;
                                       min-height: 2em;
-                                      border-radius: 10px&quot;&quot;&quot;)
+                                      border-radius: 10px&quot;&quot;&quot;
+        )
         self.pushButton.clicked.connect(self.close)
         self.pushButton_2.setText(strings.install_update_button)
-        self.pushButton_2.setStyleSheet(&quot;&quot;&quot;background-color: #E6FFEB;
+        self.pushButton_2.setStyleSheet(
+            &quot;&quot;&quot;background-color: #E6FFEB;
                                         min-height: 2em;
-                                        border-radius: 10px;&quot;&quot;&quot;)
+                                        border-radius: 10px;&quot;&quot;&quot;
+        )
         self.pushButton_2.clicked.connect(self.update_securedrop)
         self.update_thread = UpdateThread()
         self.update_thread.signal.connect(self.update_status)
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/3d91d6948753_create_source_uuid_column.py#L32'>securedrop/alembic/versions/3d91d6948753_create_source_uuid_column.py~L32</a></p>
<pre><code class="language-diff"> 
     for source in sources:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE sources_tmp SET uuid=:source_uuid WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(source_uuid=str(uuid.uuid4()), id=source.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE sources_tmp SET uuid=:source_uuid WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(source_uuid=str(uuid.uuid4()), id=source.id)
         )
 
     # Now create new table with unique constraint applied.
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/60f41bb14d98_add_session_nonce_to_journalist.py#L30'>securedrop/alembic/versions/60f41bb14d98_add_session_nonce_to_journalist.py~L30</a></p>
<pre><code class="language-diff"> 
     for journalist in journalists:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE journalists_tmp SET session_nonce=0 WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(id=journalist.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE journalists_tmp SET session_nonce=0 WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(id=journalist.id)
         )
 
     # Now create new table with null constraint applied.
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/6db892e17271_add_reply_uuid.py#L32'>securedrop/alembic/versions/6db892e17271_add_reply_uuid.py~L32</a></p>
<pre><code class="language-diff"> 
     for reply in replies:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE replies_tmp SET uuid=:reply_uuid WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(reply_uuid=str(uuid.uuid4()), id=reply.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE replies_tmp SET uuid=:reply_uuid WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(reply_uuid=str(uuid.uuid4()), id=reply.id)
         )
 
     # Now create new table with constraints applied to UUID column.
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/b58139cfdc8c_add_checksum_columns_revoke_table.py#L47'>securedrop/alembic/versions/b58139cfdc8c_add_checksum_columns_revoke_table.py~L47</a></p>
<pre><code class="language-diff">     # we need an app context for the rq worker extension to work properly
     with app.app_context():
         conn = op.get_bind()
-        query = sa.text(&quot;&quot;&quot;SELECT submissions.id, sources.filesystem_id, submissions.filename
+        query = sa.text(
+            &quot;&quot;&quot;SELECT submissions.id, sources.filesystem_id, submissions.filename
                            FROM submissions
                            INNER JOIN sources
                            ON submissions.source_id = sources.id
-                        &quot;&quot;&quot;)
+                        &quot;&quot;&quot;
+        )
         for sub_id, filesystem_id, filename in conn.execute(query):
             full_path = Storage.get_default().path(filesystem_id, filename)
             create_queue(config.RQ_WORKER_NAME).enqueue(
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/b58139cfdc8c_add_checksum_columns_revoke_table.py#L62'>securedrop/alembic/versions/b58139cfdc8c_add_checksum_columns_revoke_table.py~L62</a></p>
<pre><code class="language-diff">                 app.config[&quot;SQLALCHEMY_DATABASE_URI&quot;],
             )
 
-        query = sa.text(&quot;&quot;&quot;SELECT replies.id, sources.filesystem_id, replies.filename
+        query = sa.text(
+            &quot;&quot;&quot;SELECT replies.id, sources.filesystem_id, replies.filename
                            FROM replies
                            INNER JOIN sources
                            ON replies.source_id = sources.id
-                        &quot;&quot;&quot;)
+                        &quot;&quot;&quot;
+        )
         for rep_id, filesystem_id, filename in conn.execute(query):
             full_path = Storage.get_default().path(filesystem_id, filename)
             create_queue(config.RQ_WORKER_NAME).enqueue(
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/c5a02eb52f2d_dropped_session_nonce_from_journalist_.py#L45'>securedrop/alembic/versions/c5a02eb52f2d_dropped_session_nonce_from_journalist_.py~L45</a></p>
<pre><code class="language-diff"> 
     for journalist in journalists:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE journalists_tmp SET session_nonce=0 WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(id=journalist.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE journalists_tmp SET session_nonce=0 WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(id=journalist.id)
         )
 
     # Now create new table with null constraint applied.
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/e0a525cbab83_add_column_to_track_source_deletion_of_.py#L30'>securedrop/alembic/versions/e0a525cbab83_add_column_to_track_source_deletion_of_.py~L30</a></p>
<pre><code class="language-diff"> 
     for reply in replies:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE replies_tmp SET deleted_by_source=0 WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(id=reply.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE replies_tmp SET deleted_by_source=0 WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(id=reply.id)
         )
 
     # Now create new table with not null constraint applied to
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/f2833ac34bb6_add_uuid_column_for_users_table.py#L32'>securedrop/alembic/versions/f2833ac34bb6_add_uuid_column_for_users_table.py~L32</a></p>
<pre><code class="language-diff"> 
     for journalist in journalists:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE journalists_tmp SET uuid=:journalist_uuid WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(journalist_uuid=str(uuid.uuid4()), id=journalist.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE journalists_tmp SET uuid=:journalist_uuid WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(journalist_uuid=str(uuid.uuid4()), id=journalist.id)
         )
 
     # Now create new table with unique constraint applied.
</code></pre>
<p><a href='https://github.com/freedomofpress/securedrop/blob/531d08696a145b26dd918abbbc68b19d4ce505c0/securedrop/alembic/versions/fccf57ceef02_create_submission_uuid_column.py#L32'>securedrop/alembic/versions/fccf57ceef02_create_submission_uuid_column.py~L32</a></p>
<pre><code class="language-diff"> 
     for submission in submissions:
         conn.execute(
-            sa.text(&quot;&quot;&quot;UPDATE submissions_tmp SET uuid=:submission_uuid WHERE
-                       id=:id&quot;&quot;&quot;).bindparams(submission_uuid=str(uuid.uuid4()), id=submission.id)
+            sa.text(
+                &quot;&quot;&quot;UPDATE submissions_tmp SET uuid=:submission_uuid WHERE
+                       id=:id&quot;&quot;&quot;
+            ).bindparams(submission_uuid=str(uuid.uuid4()), id=submission.id)
         )
 
     # Now create new table with unique constraint applied.
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+8 -4 lines across 2 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/ibis-project/ibis/blob/904c0cdff378edbf9aeb20a5c8fd12057696baf7/ibis/backends/conftest.py#L293'>ibis/backends/conftest.py~L293</a></p>
<pre><code class="language-diff">                 if backend := set(util.promote_list(mark.args[0])).difference(
                     ALL_BACKENDS
                 ):
-                    unrecognized_backends.add(f&quot;&quot;&quot;Unrecognize backend(s) {backend} passed to {name} marker in
-{item.path}::{item.originalname}&quot;&quot;&quot;)
+                    unrecognized_backends.add(
+                        f&quot;&quot;&quot;Unrecognize backend(s) {backend} passed to {name} marker in
+{item.path}::{item.originalname}&quot;&quot;&quot;
+                    )
 
         # add the backend marker to any tests are inside &quot;ibis/backends&quot;
         parts = item.path.parts
</code></pre>
<p><a href='https://github.com/ibis-project/ibis/blob/904c0cdff378edbf9aeb20a5c8fd12057696baf7/ibis/backends/impala/tests/test_ddl.py#L307'>ibis/backends/impala/tests/test_ddl.py~L307</a></p>
<pre><code class="language-diff"> def temp_char_table(con):
     name = &quot;testing_varchar_support&quot;
     with closing(
-        con.raw_sql(f&quot;&quot;&quot;\
+        con.raw_sql(
+            f&quot;&quot;&quot;\
 CREATE TABLE IF NOT EXISTS {name} (
   group1 VARCHAR(10),
   group2 CHAR(10)
-)&quot;&quot;&quot;)
+)&quot;&quot;&quot;
+        )
     ):
         pass
     assert name in con.list_tables(), name
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/latchbio/latch">latchbio/latch</a> (+16 -8 lines across 4 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/latchbio/latch/blob/7b3a536a3d7c728b607f02faee5a938424a6d218/latch_cli/centromere/ctx.py#L120'>latch_cli/centromere/ctx.py~L120</a></p>
<pre><code class="language-diff">                             )
                 if not hasattr(self, &quot;workflow_name&quot;):
                     click.secho(
-                        dedent(&quot;&quot;&quot;
+                        dedent(
+                            &quot;&quot;&quot;
                                      Unable to locate workflow code. If you
                                      are a registering a Snakemake project,
                                      make sure to pass the Snakefile path with
-                                     the --snakefile flag.&quot;&quot;&quot;),
+                                     the --snakefile flag.&quot;&quot;&quot;
+                        ),
                         fg=&quot;red&quot;,
                     )
                     raise click.exceptions.Exit(1)
</code></pre>
<p><a href='https://github.com/latchbio/latch/blob/7b3a536a3d7c728b607f02faee5a938424a6d218/latch_cli/services/cp/upload.py#L262'>latch_cli/services/cp/upload.py~L262</a></p>
<pre><code class="language-diff">     total_time = end - start
     if config.progress != Progress.none:
         click.clear()
-        click.echo(f&quot;&quot;&quot;{click.style(&quot;Upload Complete&quot;, fg=&quot;green&quot;)}
+        click.echo(
+            f&quot;&quot;&quot;{click.style(&quot;Upload Complete&quot;, fg=&quot;green&quot;)}
 
 {click.style(&quot;Time Elapsed: &quot;, fg=&quot;blue&quot;)}{human_readable_time(total_time)}
-{click.style(&quot;Files Uploaded: &quot;, fg=&quot;blue&quot;)}{num_files} ({with_si_suffix(total_bytes)})&quot;&quot;&quot;)
+{click.style(&quot;Files Uploaded: &quot;, fg=&quot;blue&quot;)}{num_files} ({with_si_suffix(total_bytes)})&quot;&quot;&quot;
+        )
 
 
 @dataclass(frozen=True)
</code></pre>
<p><a href='https://github.com/latchbio/latch/blob/7b3a536a3d7c728b607f02faee5a938424a6d218/latch_cli/services/local_dev.py#L251'>latch_cli/services/local_dev.py~L251</a></p>
<pre><code class="language-diff">                     res = subprocess.run(ssh_command, stderr=subprocess.PIPE)
                     if &quot;Too many authentication failures&quot; in res.stderr.decode():
                         click.secho(
-                            dedent(&quot;&quot;&quot;
+                            dedent(
+                                &quot;&quot;&quot;
                             Too many authentication failures. Try resetting your ssh-agent with
 
                                 $ ssh-add -D
 
-                            and trying again.&quot;&quot;&quot;),
+                            and trying again.&quot;&quot;&quot;
+                            ),
                             fg=&quot;red&quot;,
                         )
                     stop_rsync.set()
</code></pre>
<p><a href='https://github.com/latchbio/latch/blob/7b3a536a3d7c728b607f02faee5a938424a6d218/latch_cli/services/local_dev_old.py#L435'>latch_cli/services/local_dev_old.py~L435</a></p>
<pre><code class="language-diff">         except asyncssh.ProtocolError as e:
             if &quot;Too many authentication failures&quot; in str(e):
                 click.secho(
-                    dedent(&quot;&quot;&quot;
+                    dedent(
+                        &quot;&quot;&quot;
                     Too many authentication failures. Try resetting your ssh-agent with
 
                         $ ssh-add -D
 
-                    and trying again.&quot;&quot;&quot;),
+                    and trying again.&quot;&quot;&quot;
+                    ),
                     fg=&quot;red&quot;,
                 )
             else:
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/milvus-io/pymilvus">milvus-io/pymilvus</a> (+4 -2 lines across 1 file)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/milvus-io/pymilvus/blob/15929d1be0d50a2a0b27191746acaf0a9eaf2242/examples/multithreading_hello_milvus.py#L71'>examples/multithreading_hello_milvus.py~L71</a></p>
<pre><code class="language-diff">         print(
             f&quot;Inserted {len(self.batchs)} batches of {num_entities} entities in {duration} seconds&quot;
         )
-        print(f&quot;Expected num_entities: {len(self.batchs)*num_entities}. \
-                Acutal num_entites: {self.get_thread_local_collection().num_entities}&quot;)
+        print(
+            f&quot;Expected num_entities: {len(self.batchs)*num_entities}. \
+                Acutal num_entites: {self.get_thread_local_collection().num_entities}&quot;
+        )
 
 
 if __name__ == &quot;__main__&quot;:
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/mlflow/mlflow">mlflow/mlflow</a> (+24 -12 lines across 2 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/pyfunc/__init__.py#L1366'>mlflow/pyfunc/<strong>init</strong>.py~L1366</a></p>
<pre><code class="language-diff">             result_type = _parse_spark_datatype(result_type)
 
     if not _check_udf_return_type(result_type):
-        raise MlflowException.invalid_parameter_value(f&quot;&quot;&quot;Invalid 'spark_udf' result type: {result_type}.
+        raise MlflowException.invalid_parameter_value(
+            f&quot;&quot;&quot;Invalid 'spark_udf' result type: {result_type}.
 It must be one of the following types:
 Primitive types:
  - int
</code></pre>
<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/pyfunc/__init__.py#L1381'>mlflow/pyfunc/<strong>init</strong>.py~L1381</a></p>
<pre><code class="language-diff">  - struct&lt;field: primitive | array&lt;primitive&gt; | array&lt;array&lt;primitive&gt;&gt;, ...&gt;:
    A struct with primitive, array&lt;primitive&gt;, or array&lt;array&lt;primitive&gt;&gt;,
    e.g., struct&lt;a:int, b:array&lt;int&gt;&gt;.
-&quot;&quot;&quot;)
+&quot;&quot;&quot;
+        )
     params = _validate_params(params, model_metadata)
 
     def _predict_row_batch(predict_fn, args):
</code></pre>
<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/utils/docstring_utils.py#L157'>mlflow/utils/docstring_utils.py~L157</a></p>
<pre><code class="language-diff"> 
 # `{{ ... }}` represents a placeholder.
 LOG_MODEL_PARAM_DOCS = ParamDocs({
-    &quot;conda_env&quot;: (&quot;&quot;&quot;Either a dictionary representation of a Conda environment or the path to a conda
+    &quot;conda_env&quot;: (
+        &quot;&quot;&quot;Either a dictionary representation of a Conda environment or the path to a conda
 environment yaml file. If provided, this describes the environment this model should be run in.
 At a minimum, it should specify the dependencies contained in :func:`get_default_conda_env()`.
 If ``None``, a conda environment with pip requirements inferred by
</code></pre>
<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/utils/docstring_utils.py#L178'>mlflow/utils/docstring_utils.py~L178</a></p>
<pre><code class="language-diff">                 ],
             },
         ],
-    }&quot;&quot;&quot;),
-    &quot;pip_requirements&quot;: (&quot;&quot;&quot;Either an iterable of pip requirement strings
+    }&quot;&quot;&quot;
+    ),
+    &quot;pip_requirements&quot;: (
+        &quot;&quot;&quot;Either an iterable of pip requirement strings
 (e.g. ``[&quot;{{ package_name }}&quot;, &quot;-r requirements.txt&quot;, &quot;-c constraints.txt&quot;]``) or the string path to
 a pip requirements file on the local filesystem (e.g. ``&quot;requirements.txt&quot;``). If provided, this
 describes the environment this model should be run in. If ``None``, a default list of requirements
</code></pre>
<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/utils/docstring_utils.py#L187'>mlflow/utils/docstring_utils.py~L187</a></p>
<pre><code class="language-diff"> If the requirement inference fails, it falls back to using :func:`get_default_pip_requirements`.
 Both requirements and constraints are automatically parsed and written to ``requirements.txt`` and
 ``constraints.txt`` files, respectively, and stored as part of the model. Requirements are also
-written to the ``pip`` section of the model's conda environment (``conda.yaml``) file.&quot;&quot;&quot;),
-    &quot;extra_pip_requirements&quot;: (&quot;&quot;&quot;Either an iterable of pip
+written to the ``pip`` section of the model's conda environment (``conda.yaml``) file.&quot;&quot;&quot;
+    ),
+    &quot;extra_pip_requirements&quot;: (
+        &quot;&quot;&quot;Either an iterable of pip
 requirement strings
 (e.g. ``[&quot;pandas&quot;, &quot;-r requirements.txt&quot;, &quot;-c constraints.txt&quot;]``) or the string path to
 a pip requirements file on the local filesystem (e.g. ``&quot;requirements.txt&quot;``). If provided, this
</code></pre>
<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/utils/docstring_utils.py#L206'>mlflow/utils/docstring_utils.py~L206</a></p>
<pre><code class="language-diff">     - ``extra_pip_requirements``
 
 :ref:`This example&lt;pip-requirements-example&gt;` demonstrates how to specify pip requirements using
-``pip_requirements`` and ``extra_pip_requirements``.&quot;&quot;&quot;),
-    &quot;signature&quot;: (&quot;&quot;&quot;an instance of the :py:class:`ModelSignature &lt;mlflow.models.ModelSignature&gt;`
+``pip_requirements`` and ``extra_pip_requirements``.&quot;&quot;&quot;
+    ),
+    &quot;signature&quot;: (
+        &quot;&quot;&quot;an instance of the :py:class:`ModelSignature &lt;mlflow.models.ModelSignature&gt;`
 class that describes the model's inputs and outputs. If not specified but an
 ``input_example`` is supplied, a signature will be automatically inferred
 based on the supplied input example and model. To disable automatic signature
</code></pre>
<p><a href='https://github.com/mlflow/mlflow/blob/412b90072cae6642e7a0adfd8828bb0c67a88c15/mlflow/utils/docstring_utils.py#L225'>mlflow/utils/docstring_utils.py~L225</a></p>
<pre><code class="language-diff">     train = df.drop_column(&quot;target_label&quot;)
     predictions = ...  # compute model predictions
     signature = infer_signature(train, predictions)
-&quot;&quot;&quot;),
-    &quot;input_example&quot;: (&quot;&quot;&quot;one or several instances of valid model input. The input example is used
+&quot;&quot;&quot;
+    ),
+    &quot;input_example&quot;: (
+        &quot;&quot;&quot;one or several instances of valid model input. The input example is used
 as a hint of what data to feed the model. It will be converted to a Pandas
 DataFrame and then serialized to json using the Pandas split-oriented
 format, or a numpy array where the example will be serialized to json
 by converting it to a list. Bytes are base64-encoded. When the ``signature`` parameter is
 ``None``, the input example is used to infer a model signature.
-&quot;&quot;&quot;),
+&quot;&quot;&quot;
+    ),
 })
 
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+208 -104 lines across 17 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/_version.py#L140'>pandas/_version.py~L140</a></p>
<pre><code class="language-diff">         root = os.path.dirname(root)  # up a level
 
     if verbose:
-        print(f&quot;Tried directories {str(rootdirs)} \
-            but none started with prefix {parentdir_prefix}&quot;)
+        print(
+            f&quot;Tried directories {str(rootdirs)} \
+            but none started with prefix {parentdir_prefix}&quot;
+        )
     raise NotThisMethod(&quot;rootdir doesn't start with parentdir_prefix&quot;)
 
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/frame.py#L7655'>pandas/core/frame.py~L7655</a></p>
<pre><code class="language-diff">     @doc(
         Series.swaplevel,
         klass=_shared_doc_kwargs[&quot;klass&quot;],
-        extra_params=dedent(&quot;&quot;&quot;axis : {0 or 'index', 1 or 'columns'}, default 0
+        extra_params=dedent(
+            &quot;&quot;&quot;axis : {0 or 'index', 1 or 'columns'}, default 0
             The axis to swap levels on. 0 or 'index' for row-wise, 1 or
-            'columns' for column-wise.&quot;&quot;&quot;),
-        examples=dedent(&quot;&quot;&quot;\
+            'columns' for column-wise.&quot;&quot;&quot;
+        ),
+        examples=dedent(
+            &quot;&quot;&quot;\
         Examples
         --------
         &gt;&gt;&gt; df = pd.DataFrame(
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/frame.py#L7708'>pandas/core/frame.py~L7708</a></p>
<pre><code class="language-diff">         History     Final exam  January         A
         Geography   Final exam  February        B
         History     Coursework  March           A
-        Geography   Coursework  April           C&quot;&quot;&quot;),
+        Geography   Coursework  April           C&quot;&quot;&quot;
+        ),
     )
     def swaplevel(self, i: Axis = -2, j: Axis = -1, axis: Axis = 0) -&gt; DataFrame:
         result = self.copy(deep=None)
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/frame.py#L9832'>pandas/core/frame.py~L9832</a></p>
<pre><code class="language-diff">         extra_params=&quot;axis : {0 or 'index', 1 or 'columns'}, default 0\n    &quot;
         &quot;Take difference over rows (0) or columns (1).\n&quot;,
         other_klass=&quot;Series&quot;,
-        examples=dedent(&quot;&quot;&quot;
+        examples=dedent(
+            &quot;&quot;&quot;
         Difference with previous row
 
         &gt;&gt;&gt; df = pd.DataFrame({'a': [1, 2, 3, 4, 5, 6],
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/frame.py#L9895'>pandas/core/frame.py~L9895</a></p>
<pre><code class="language-diff">         &gt;&gt;&gt; df.diff()
                a
         0    NaN
-        1  255.0&quot;&quot;&quot;),
+        1  255.0&quot;&quot;&quot;
+        ),
     )
     def diff(self, periods: int = 1, axis: Axis = 0) -&gt; DataFrame:
         if not lib.is_integer(periods):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L991'>pandas/core/groupby/groupby.py~L991</a></p>
<pre><code class="language-diff"> 
     @Substitution(
         klass=&quot;GroupBy&quot;,
-        examples=dedent(&quot;&quot;&quot;\
+        examples=dedent(
+            &quot;&quot;&quot;\
         &gt;&gt;&gt; df = pd.DataFrame({'A': 'a b a b'.split(), 'B': [1, 2, 3, 4]})
         &gt;&gt;&gt; df
            A  B
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L1007'>pandas/core/groupby/groupby.py~L1007</a></p>
<pre><code class="language-diff">            B
         A
         a  2
-        b  2&quot;&quot;&quot;),
+        b  2&quot;&quot;&quot;
+        ),
     )
     @Appender(_pipe_template)
     def pipe(
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3086'>pandas/core/groupby/groupby.py~L3086</a></p>
<pre><code class="language-diff">         mc=0,
         e=None,
         ek=None,
-        example=dedent(&quot;&quot;&quot;\
+        example=dedent(
+            &quot;&quot;&quot;\
         For SeriesGroupBy:
 
         &gt;&gt;&gt; lst = ['a', 'a', 'b', 'b']
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3117'>pandas/core/groupby/groupby.py~L3117</a></p>
<pre><code class="language-diff">              b   c
         a
         1   10   7
-        2   11  17&quot;&quot;&quot;),
+        2   11  17&quot;&quot;&quot;
+        ),
     )
     def sum(
         self,
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3155'>pandas/core/groupby/groupby.py~L3155</a></p>
<pre><code class="language-diff">         fname=&quot;prod&quot;,
         no=False,
         mc=0,
-        example=dedent(&quot;&quot;&quot;\
+        example=dedent(
+            &quot;&quot;&quot;\
         For SeriesGroupBy:
 
         &gt;&gt;&gt; lst = ['a', 'a', 'b', 'b']
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3186'>pandas/core/groupby/groupby.py~L3186</a></p>
<pre><code class="language-diff">              b    c
         a
         1   16   10
-        2   30   72&quot;&quot;&quot;),
+        2   30   72&quot;&quot;&quot;
+        ),
     )
     def prod(self, numeric_only: bool = False, min_count: int = 0) -&gt; NDFrameT:
         return self._agg_general(
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3201'>pandas/core/groupby/groupby.py~L3201</a></p>
<pre><code class="language-diff">         mc=-1,
         e=None,
         ek=None,
-        example=dedent(&quot;&quot;&quot;\
+        example=dedent(
+            &quot;&quot;&quot;\
         For SeriesGroupBy:
 
         &gt;&gt;&gt; lst = ['a', 'a', 'b', 'b']
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3232'>pandas/core/groupby/groupby.py~L3232</a></p>
<pre><code class="language-diff">             b  c
         a
         1   2  2
-        2   5  8&quot;&quot;&quot;),
+        2   5  8&quot;&quot;&quot;
+        ),
     )
     def min(
         self,
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3267'>pandas/core/groupby/groupby.py~L3267</a></p>
<pre><code class="language-diff">         mc=-1,
         e=None,
         ek=None,
-        example=dedent(&quot;&quot;&quot;\
+        example=dedent(
+            &quot;&quot;&quot;\
         For SeriesGroupBy:
 
         &gt;&gt;&gt; lst = ['a', 'a', 'b', 'b']
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/groupby/groupby.py#L3298'>pandas/core/groupby/groupby.py~L3298</a></p>
<pre><code class="language-diff">             b  c
         a
         1   8  5
-        2   6  9&quot;&quot;&quot;),
+        2   6  9&quot;&quot;&quot;
+        ),
     )
     def max(
         self,
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/indexes/interval.py#L241'>pandas/core/indexes/interval.py~L241</a></p>
<pre><code class="language-diff">         _interval_shared_docs[&quot;from_breaks&quot;]
         % {
             &quot;klass&quot;: &quot;IntervalIndex&quot;,
-            &quot;name&quot;: textwrap.dedent(&quot;&quot;&quot;
+            &quot;name&quot;: textwrap.dedent(
+                &quot;&quot;&quot;
              name : str, optional
-                  Name of the resulting IntervalIndex.&quot;&quot;&quot;),
+                  Name of the resulting IntervalIndex.&quot;&quot;&quot;
+            ),
             &quot;examples&quot;: textwrap.dedent(&quot;&quot;&quot;\
         Examples
         --------
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/indexes/interval.py#L272'>pandas/core/indexes/interval.py~L272</a></p>
<pre><code class="language-diff">         _interval_shared_docs[&quot;from_arrays&quot;]
         % {
             &quot;klass&quot;: &quot;IntervalIndex&quot;,
-            &quot;name&quot;: textwrap.dedent(&quot;&quot;&quot;
+            &quot;name&quot;: textwrap.dedent(
+                &quot;&quot;&quot;
              name : str, optional
-                  Name of the resulting IntervalIndex.&quot;&quot;&quot;),
+                  Name of the resulting IntervalIndex.&quot;&quot;&quot;
+            ),
             &quot;examples&quot;: textwrap.dedent(&quot;&quot;&quot;\
         Examples
         --------
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/indexes/interval.py#L304'>pandas/core/indexes/interval.py~L304</a></p>
<pre><code class="language-diff">         _interval_shared_docs[&quot;from_tuples&quot;]
         % {
             &quot;klass&quot;: &quot;IntervalIndex&quot;,
-            &quot;name&quot;: textwrap.dedent(&quot;&quot;&quot;
+            &quot;name&quot;: textwrap.dedent(
+                &quot;&quot;&quot;
              name : str, optional
-                  Name of the resulting IntervalIndex.&quot;&quot;&quot;),
+                  Name of the resulting IntervalIndex.&quot;&quot;&quot;
+            ),
             &quot;examples&quot;: textwrap.dedent(&quot;&quot;&quot;\
         Examples
         --------
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L1866'>pandas/core/series.py~L1866</a></p>
<pre><code class="language-diff">     @doc(
         klass=_shared_doc_kwargs[&quot;klass&quot;],
         storage_options=_shared_docs[&quot;storage_options&quot;],
-        examples=dedent(&quot;&quot;&quot;Examples
+        examples=dedent(
+            &quot;&quot;&quot;Examples
             --------
             &gt;&gt;&gt; s = pd.Series([&quot;elk&quot;, &quot;pig&quot;, &quot;dog&quot;, &quot;quetzal&quot;], name=&quot;animal&quot;)
             &gt;&gt;&gt; print(s.to_markdown())
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L1890'>pandas/core/series.py~L1890</a></p>
<pre><code class="language-diff">             |  2 | dog      |
             +----+----------+
             |  3 | quetzal  |
-            +----+----------+&quot;&quot;&quot;),
+            +----+----------+&quot;&quot;&quot;
+        ),
     )
     def to_markdown(
         self,
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L2989'>pandas/core/series.py~L2989</a></p>
<pre><code class="language-diff">         klass=&quot;Series&quot;,
         extra_params=&quot;&quot;,
         other_klass=&quot;DataFrame&quot;,
-        examples=dedent(&quot;&quot;&quot;
+        examples=dedent(
+            &quot;&quot;&quot;
         Difference with previous row
 
         &gt;&gt;&gt; s = pd.Series([1, 1, 2, 3, 5, 8])
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L3030'>pandas/core/series.py~L3030</a></p>
<pre><code class="language-diff">         &gt;&gt;&gt; s.diff()
         0      NaN
         1    255.0
-        dtype: float64&quot;&quot;&quot;),
+        dtype: float64&quot;&quot;&quot;
+        ),
     )
     def diff(self, periods: int = 1) -&gt; Series:
         &quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L4285'>pandas/core/series.py~L4285</a></p>
<pre><code class="language-diff"> 
     @doc(
         klass=_shared_doc_kwargs[&quot;klass&quot;],
-        extra_params=dedent(&quot;&quot;&quot;copy : bool, default True
+        extra_params=dedent(
+            &quot;&quot;&quot;copy : bool, default True
             Whether to copy underlying data.
 
             .. note::
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L4298'>pandas/core/series.py~L4298</a></p>
<pre><code class="language-diff">                 future version of pandas.
 
                 You can already get the future behavior and improvements through
-                enabling copy on write ``pd.options.mode.copy_on_write = True``&quot;&quot;&quot;),
-        examples=dedent(&quot;&quot;&quot;\
+                enabling copy on write ``pd.options.mode.copy_on_write = True``&quot;&quot;&quot;
+        ),
+        examples=dedent(
+            &quot;&quot;&quot;\
         Examples
         --------
         &gt;&gt;&gt; s = pd.Series(
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/series.py#L4349'>pandas/core/series.py~L4349</a></p>
<pre><code class="language-diff">         Geography   Final exam  February        B
         History     Coursework  March           A
         Geography   Coursework  April           C
-        dtype: object&quot;&quot;&quot;),
+        dtype: object&quot;&quot;&quot;
+        ),
     )
     def swaplevel(
         self, i: Level = -2, j: Level = -1, copy: bool | None = None
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/core/sorting.py#L584'>pandas/core/sorting.py~L584</a></p>
<pre><code class="language-diff">             #  error: Too many arguments for &quot;ExtensionArray&quot;
             result = type_of_values(result)  # type: ignore[call-arg]
     except TypeError:
-        raise TypeError(f&quot;User-provided `key` function returned an invalid type {type(result)} \
-            which could not be converted to {type(values)}.&quot;)
+        raise TypeError(
+            f&quot;User-provided `key` function returned an invalid type {type(result)} \
+            which could not be converted to {type(values)}.&quot;
+        )
 
     return result
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/io/formats/info.py#L33'>pandas/io/formats/info.py~L33</a></p>
<pre><code class="language-diff">     )
 
 
-frame_max_cols_sub = dedent(&quot;&quot;&quot;\
+frame_max_cols_sub = dedent(
+    &quot;&quot;&quot;\
     max_cols : int, optional
         When to switch from the verbose to the truncated output. If the
         DataFrame has more than `max_cols` columns, the truncated output
         is used. By default, the setting in
-        ``pandas.options.display.max_info_columns`` is used.&quot;&quot;&quot;)
+        ``pandas.options.display.max_info_columns`` is used.&quot;&quot;&quot;
+)
 
 
-show_counts_sub = dedent(&quot;&quot;&quot;\
+show_counts_sub = dedent(
+    &quot;&quot;&quot;\
     show_counts : bool, optional
         Whether to show the non-null counts. By default, this is shown
         only if the DataFrame is smaller than
         ``pandas.options.display.max_info_rows`` and
         ``pandas.options.display.max_info_columns``. A value of True always
-        shows the counts, and False never shows the counts.&quot;&quot;&quot;)
+        shows the counts, and False never shows the counts.&quot;&quot;&quot;
+)
 
 
-frame_examples_sub = dedent(&quot;&quot;&quot;\
+frame_examples_sub = dedent(
+    &quot;&quot;&quot;\
     &gt;&gt;&gt; int_values = [1, 2, 3, 4, 5]
     &gt;&gt;&gt; text_values = ['alpha', 'beta', 'gamma', 'delta', 'epsilon']
     &gt;&gt;&gt; float_values = [0.0, 0.25, 0.5, 0.75, 1.0]
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/io/formats/info.py#L131'>pandas/io/formats/info.py~L131</a></p>
<pre><code class="language-diff">      1   column_2  1000000 non-null  object
      2   column_3  1000000 non-null  object
     dtypes: object(3)
-    memory usage: 165.9 MB&quot;&quot;&quot;)
+    memory usage: 165.9 MB&quot;&quot;&quot;
+)
 
 
-frame_see_also_sub = dedent(&quot;&quot;&quot;\
+frame_see_also_sub = dedent(
+    &quot;&quot;&quot;\
     DataFrame.describe: Generate descriptive statistics of DataFrame
         columns.
-    DataFrame.memory_usage: Memory usage of DataFrame columns.&quot;&quot;&quot;)
+    DataFrame.memory_usage: Memory usage of DataFrame columns.&quot;&quot;&quot;
+)
 
 
 frame_sub_kwargs = {
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/io/formats/info.py#L151'>pandas/io/formats/info.py~L151</a></p>
<pre><code class="language-diff"> }
 
 
-series_examples_sub = dedent(&quot;&quot;&quot;\
+series_examples_sub = dedent(
+    &quot;&quot;&quot;\
     &gt;&gt;&gt; int_values = [1, 2, 3, 4, 5]
     &gt;&gt;&gt; text_values = ['alpha', 'beta', 'gamma', 'delta', 'epsilon']
     &gt;&gt;&gt; s = pd.Series(text_values, index=int_values)
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/io/formats/info.py#L208'>pandas/io/formats/info.py~L208</a></p>
<pre><code class="language-diff">     --------------    -----
     1000000 non-null  object
     dtypes: object(1)
-    memory usage: 55.3 MB&quot;&quot;&quot;)
+    memory usage: 55.3 MB&quot;&quot;&quot;
+)
 
 
-series_see_also_sub = dedent(&quot;&quot;&quot;\
+series_see_also_sub = dedent(
+    &quot;&quot;&quot;\
     Series.describe: Generate descriptive statistics of Series.
-    Series.memory_usage: Memory usage of Series.&quot;&quot;&quot;)
+    Series.memory_usage: Memory usage of Series.&quot;&quot;&quot;
+)
 
 
 series_sub_kwargs = {
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/io/formats/style_render.py#L1785'>pandas/io/formats/style_render.py~L1785</a></p>
<pre><code class="language-diff">         elif escape == &quot;latex-math&quot;:
             return _escape_latex_math(x)
         else:
-            raise ValueError(f&quot;`escape` only permitted in {{'html', 'latex', 'latex-math'}}, \
-got {escape}&quot;)
+            raise ValueError(
+                f&quot;`escape` only permitted in {{'html', 'latex', 'latex-math'}}, \
+got {escape}&quot;
+            )
     return x
 
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/io/stata.py#L2671'>pandas/io/stata.py~L2671</a></p>
<pre><code class="language-diff">                 inferred_dtype = infer_dtype(column, skipna=True)
                 if not ((inferred_dtype == &quot;string&quot;) or len(column) == 0):
                     col = column.name
-                    raise ValueError(f&quot;&quot;&quot;\
+                    raise ValueError(
+                        f&quot;&quot;&quot;\
 Column `{col}` cannot be exported.\n\nOnly string-like object arrays
 containing all strings or a mix of strings and None can be exported.
 Object arrays containing only null values are prohibited. Other object
 types cannot be exported and must first be converted to one of the
-supported types.&quot;&quot;&quot;)
+supported types.&quot;&quot;&quot;
+                    )
                 encoded = self.data[col].str.encode(self._encoding)
                 # If larger than _max_string_length do nothing
                 if (
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/style/test_html.py#L241'>pandas/tests/io/formats/style/test_html.py~L241</a></p>
<pre><code class="language-diff"> def test_from_custom_template_table(tmpdir):
     p = tmpdir.mkdir(&quot;tpl&quot;).join(&quot;myhtml_table.tpl&quot;)
     p.write(
-        dedent(&quot;&quot;&quot;\
+        dedent(
+            &quot;&quot;&quot;\
             {% extends &quot;html_table.tpl&quot; %}
             {% block table %}
             &lt;h1&gt;{{custom_title}}&lt;/h1&gt;
             {{ super() }}
-            {% endblock table %}&quot;&quot;&quot;)
+            {% endblock table %}&quot;&quot;&quot;
+        )
     )
     result = Styler.from_custom_template(str(tmpdir.join(&quot;tpl&quot;)), &quot;myhtml_table.tpl&quot;)
     assert issubclass(result, Styler)
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/style/test_html.py#L259'>pandas/tests/io/formats/style/test_html.py~L259</a></p>
<pre><code class="language-diff"> def test_from_custom_template_style(tmpdir):
     p = tmpdir.mkdir(&quot;tpl&quot;).join(&quot;myhtml_style.tpl&quot;)
     p.write(
-        dedent(&quot;&quot;&quot;\
+        dedent(
+            &quot;&quot;&quot;\
             {% extends &quot;html_style.tpl&quot; %}
             {% block style %}
             &lt;link rel=&quot;stylesheet&quot; href=&quot;mystyle.css&quot;&gt;
             {{ super() }}
-            {% endblock style %}&quot;&quot;&quot;)
+            {% endblock style %}&quot;&quot;&quot;
+        )
     )
     result = Styler.from_custom_template(
         str(tmpdir.join(&quot;tpl&quot;)), html_style=&quot;myhtml_style.tpl&quot;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L42'>pandas/tests/io/formats/test_to_string.py~L42</a></p>
<pre><code class="language-diff">             &quot;b&quot;: Series([1, 2], dtype=&quot;Int64&quot;),
         })
         result = df.to_string(formatters=[&quot;{:.2f}&quot;.format, &quot;{:.2f}&quot;.format])
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
                   a     b
             0  0.12  1.00
-            1  1.12  2.00&quot;&quot;&quot;)
+            1  1.12  2.00&quot;&quot;&quot;
+        )
         assert result == expected
 
     def test_to_string_with_formatters(self):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L81'>pandas/tests/io/formats/test_to_string.py~L81</a></p>
<pre><code class="language-diff">             return x.strftime(&quot;%Y-%m&quot;)
 
         result = x.to_string(formatters={&quot;months&quot;: format_func})
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
             months
             0 2016-01
-            1 2016-02&quot;&quot;&quot;)
+            1 2016-02&quot;&quot;&quot;
+        )
         assert result.strip() == expected
 
     def test_to_string_with_datetime64_hourformatter(self):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L96'>pandas/tests/io/formats/test_to_string.py~L96</a></p>
<pre><code class="language-diff">             return x.strftime(&quot;%H:%M&quot;)
 
         result = x.to_string(formatters={&quot;hod&quot;: format_func})
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
             hod
             0 10:10
-            1 12:12&quot;&quot;&quot;)
+            1 12:12&quot;&quot;&quot;
+        )
         assert result.strip() == expected
 
     def test_to_string_with_formatters_unicode(self):
         df = DataFrame({&quot;c/\u03c3&quot;: [1, 2, 3]})
         result = df.to_string(formatters={&quot;c/\u03c3&quot;: str})
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
               c/\u03c3
             0   1
             1   2
-            2   3&quot;&quot;&quot;)
+            2   3&quot;&quot;&quot;
+        )
         assert result == expected
 
         def test_to_string_index_formatter(self):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L714'>pandas/tests/io/formats/test_to_string.py~L714</a></p>
<pre><code class="language-diff">         # GH#13828
         df = DataFrame([[&quot;A&quot;, 1.2225], [&quot;A&quot;, None]], columns=[&quot;Group&quot;, &quot;Data&quot;])
         result = df.to_string(na_rep=na_rep, float_format=&quot;{:.2f}&quot;.format)
-        expected = dedent(f&quot;&quot;&quot;\
+        expected = dedent(
+            f&quot;&quot;&quot;\
                Group  Data
              0     A  1.22
-             1     A   {na_rep}&quot;&quot;&quot;)
+             1     A   {na_rep}&quot;&quot;&quot;
+        )
         assert result == expected
 
     def test_to_string_string_dtype(self):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L734'>pandas/tests/io/formats/test_to_string.py~L734</a></p>
<pre><code class="language-diff">             &quot;z&quot;: &quot;int64[pyarrow]&quot;,
         })
         result = df.dtypes.to_string()
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
             x    string[pyarrow]
             y     string[python]
-            z     int64[pyarrow]&quot;&quot;&quot;)
+            z     int64[pyarrow]&quot;&quot;&quot;
+        )
         assert result == expected
 
     def test_to_string_pos_args_deprecation(self):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L1106'>pandas/tests/io/formats/test_to_string.py~L1106</a></p>
<pre><code class="language-diff">     def test_to_string_complex_number_trims_zeros(self):
         ser = Series([1.000000 + 1.000000j, 1.0 + 1.0j, 1.05 + 1.0j])
         result = ser.to_string()
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
             0    1.00+1.00j
             1    1.00+1.00j
-            2    1.05+1.00j&quot;&quot;&quot;)
+            2    1.05+1.00j&quot;&quot;&quot;
+        )
         assert result == expected
 
     def test_nullable_float_to_string(self, float_ea_dtype):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L1117'>pandas/tests/io/formats/test_to_string.py~L1117</a></p>
<pre><code class="language-diff">         dtype = float_ea_dtype
         ser = Series([0.0, 1.0, None], dtype=dtype)
         result = ser.to_string()
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
             0     0.0
             1     1.0
-            2    &lt;NA&gt;&quot;&quot;&quot;)
+            2    &lt;NA&gt;&quot;&quot;&quot;
+        )
         assert result == expected
 
     def test_nullable_int_to_string(self, any_int_ea_dtype):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/formats/test_to_string.py#L1128'>pandas/tests/io/formats/test_to_string.py~L1128</a></p>
<pre><code class="language-diff">         dtype = any_int_ea_dtype
         ser = Series([0, 1, None], dtype=dtype)
         result = ser.to_string()
-        expected = dedent(&quot;&quot;&quot;\
+        expected = dedent(
+            &quot;&quot;&quot;\
             0       0
             1       1
-            2    &lt;NA&gt;&quot;&quot;&quot;)
+            2    &lt;NA&gt;&quot;&quot;&quot;
+        )
         assert result == expected
 
     def test_to_string_mixed(self):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/parser/test_parse_dates.py#L52'>pandas/tests/io/parser/test_parse_dates.py~L52</a></p>
<pre><code class="language-diff">         time = time.astype(int)  # convert float seconds to int type
         return pd.to_timedelta(time, unit=&quot;s&quot;)
 
-    testdata = StringIO(&quot;&quot;&quot;time e n h
+    testdata = StringIO(
+        &quot;&quot;&quot;time e n h
         41047.00 -98573.7297 871458.0640 389.0089
         41048.00 -98573.7299 871458.0640 389.0089
         41049.00 -98573.7300 871458.0642 389.0088
         41050.00 -98573.7299 871458.0643 389.0088
         41051.00 -98573.7302 871458.0640 389.0086
-        &quot;&quot;&quot;)
+        &quot;&quot;&quot;
+    )
     result = all_parsers.read_csv_check_warnings(
         FutureWarning,
         &quot;Please use 'date_format' instead&quot;,
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/parser/test_parse_dates.py#L90'>pandas/tests/io/parser/test_parse_dates.py~L90</a></p>
<pre><code class="language-diff">         time = time.astype(int)  # convert float seconds to int type
         return pd.to_timedelta(time, unit=&quot;s&quot;)
 
-    testdata = StringIO(&quot;&quot;&quot;time e
+    testdata = StringIO(
+        &quot;&quot;&quot;time e
         41047.00 -93.77
         41048.00 -95.79
         41049.00 -98.73
         41050.00 -93.99
         41051.00 -97.72
-        &quot;&quot;&quot;)
+        &quot;&quot;&quot;
+    )
     result = all_parsers.read_csv_check_warnings(
         FutureWarning,
         &quot;Please use 'date_format' instead&quot;,
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/pytables/test_append.py#L747'>pandas/tests/io/pytables/test_append.py~L747</a></p>
<pre><code class="language-diff">         )
         df[&quot;invalid&quot;] = [[&quot;a&quot;]] * len(df)
         assert df.dtypes[&quot;invalid&quot;] == np.object_
-        msg = re.escape(&quot;&quot;&quot;Cannot serialize the column [invalid]
-because its data contents are not [string] but [mixed] object dtype&quot;&quot;&quot;)
+        msg = re.escape(
+            &quot;&quot;&quot;Cannot serialize the column [invalid]
+because its data contents are not [string] but [mixed] object dtype&quot;&quot;&quot;
+        )
         with pytest.raises(TypeError, match=msg):
             store.append(&quot;df&quot;, df)
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L119'>pandas/tests/io/test_html.py~L119</a></p>
<pre><code class="language-diff">         )
 
         with tm.assert_produces_warning(FutureWarning, match=msg):
-            flavor_read_html(&quot;&quot;&quot;&lt;table&gt;
+            flavor_read_html(
+                &quot;&quot;&quot;&lt;table&gt;
                 &lt;thead&gt;
                     &lt;tr&gt;
                         &lt;th&gt;A&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L138'>pandas/tests/io/test_html.py~L138</a></p>
<pre><code class="language-diff">                         &lt;td&gt;4&lt;/td&gt;
                     &lt;/tr&gt;
                 &lt;/tbody&gt;
-            &lt;/table&gt;&quot;&quot;&quot;)
+            &lt;/table&gt;&quot;&quot;&quot;
+            )
 
     @pytest.fixture
     def spam_data(self, datapath):
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L583'>pandas/tests/io/test_html.py~L583</a></p>
<pre><code class="language-diff">         # GH-20690
         # Read all tbody tags within a single table.
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
             &lt;thead&gt;
                 &lt;tr&gt;
                     &lt;th&gt;A&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L602'>pandas/tests/io/test_html.py~L602</a></p>
<pre><code class="language-diff">                     &lt;td&gt;4&lt;/td&gt;
                 &lt;/tr&gt;
             &lt;/tbody&gt;
-        &lt;/table&gt;&quot;&quot;&quot;)
+        &lt;/table&gt;&quot;&quot;&quot;
+            )
         )[0]
 
         expected = DataFrame(data=[[1, 2], [3, 4]], columns=[&quot;A&quot;, &quot;B&quot;])
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L615'>pandas/tests/io/test_html.py~L615</a></p>
<pre><code class="language-diff">         as described in issue #9178
         &quot;&quot;&quot;
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
                 &lt;thead&gt;
                     &lt;tr&gt;
                         &lt;th&gt;Header&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L626'>pandas/tests/io/test_html.py~L626</a></p>
<pre><code class="language-diff">                         &lt;td&gt;first&lt;/td&gt;
                     &lt;/tr&gt;
                 &lt;/tbody&gt;
-            &lt;/table&gt;&quot;&quot;&quot;)
+            &lt;/table&gt;&quot;&quot;&quot;
+            )
         )[0]
 
         expected = DataFrame(data={&quot;Header&quot;: &quot;first&quot;}, index=[0])
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L638'>pandas/tests/io/test_html.py~L638</a></p>
<pre><code class="language-diff">         Ensure parser adds &lt;tr&gt; within &lt;thead&gt; on malformed HTML.
         &quot;&quot;&quot;
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
             &lt;thead&gt;
                 &lt;tr&gt;
                     &lt;th&gt;Country&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L653'>pandas/tests/io/test_html.py~L653</a></p>
<pre><code class="language-diff">                     &lt;td&gt;1944&lt;/td&gt;
                 &lt;/tr&gt;
             &lt;/tbody&gt;
-        &lt;/table&gt;&quot;&quot;&quot;)
+        &lt;/table&gt;&quot;&quot;&quot;
+            )
         )[0]
 
         expected = DataFrame(
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L786'>pandas/tests/io/test_html.py~L786</a></p>
<pre><code class="language-diff"> 
     def test_different_number_of_cols(self, flavor_read_html):
         expected = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
                         &lt;thead&gt;
                             &lt;tr style=&quot;text-align: right;&quot;&gt;
                             &lt;th&gt;&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L815'>pandas/tests/io/test_html.py~L815</a></p>
<pre><code class="language-diff">                             &lt;td&gt; 0.222&lt;/td&gt;
                             &lt;/tr&gt;
                         &lt;/tbody&gt;
-                    &lt;/table&gt;&quot;&quot;&quot;),
+                    &lt;/table&gt;&quot;&quot;&quot;
+            ),
             index_col=0,
         )[0]
 
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
                     &lt;thead&gt;
                         &lt;tr style=&quot;text-align: right;&quot;&gt;
                         &lt;th&gt;&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L846'>pandas/tests/io/test_html.py~L846</a></p>
<pre><code class="language-diff">                         &lt;td&gt; 0.222&lt;/td&gt;
                         &lt;/tr&gt;
                     &lt;/tbody&gt;
-                 &lt;/table&gt;&quot;&quot;&quot;),
+                 &lt;/table&gt;&quot;&quot;&quot;
+            ),
             index_col=0,
         )[0]
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1075'>pandas/tests/io/test_html.py~L1075</a></p>
<pre><code class="language-diff">     def test_decimal_rows(self, flavor_read_html):
         # GH 12907
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;html&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;html&gt;
             &lt;body&gt;
              &lt;table&gt;
                 &lt;thead&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1090'>pandas/tests/io/test_html.py~L1090</a></p>
<pre><code class="language-diff">                 &lt;/tbody&gt;
             &lt;/table&gt;
             &lt;/body&gt;
-        &lt;/html&gt;&quot;&quot;&quot;),
+        &lt;/html&gt;&quot;&quot;&quot;
+            ),
             decimal=&quot;#&quot;,
         )[0]
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1113'>pandas/tests/io/test_html.py~L1113</a></p>
<pre><code class="language-diff">     def test_converters(self, flavor_read_html):
         # GH 13461
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
                  &lt;thead&gt;
                    &lt;tr&gt;
                      &lt;th&gt;a&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1127'>pandas/tests/io/test_html.py~L1127</a></p>
<pre><code class="language-diff">                      &lt;td&gt; 0.244&lt;/td&gt;
                    &lt;/tr&gt;
                  &lt;/tbody&gt;
-               &lt;/table&gt;&quot;&quot;&quot;),
+               &lt;/table&gt;&quot;&quot;&quot;
+            ),
             converters={&quot;a&quot;: str},
         )[0]
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1138'>pandas/tests/io/test_html.py~L1138</a></p>
<pre><code class="language-diff">     def test_na_values(self, flavor_read_html):
         # GH 13461
         result = flavor_read_html(
-            StringIO(&quot;&quot;&quot;&lt;table&gt;
+            StringIO(
+                &quot;&quot;&quot;&lt;table&gt;
                  &lt;thead&gt;
                    &lt;tr&gt;
                      &lt;th&gt;a&lt;/th&gt;
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1152'>pandas/tests/io/test_html.py~L1152</a></p>
<pre><code class="language-diff">                      &lt;td&gt; 0.244&lt;/td&gt;
                    &lt;/tr&gt;
                  &lt;/tbody&gt;
-               &lt;/table&gt;&quot;&quot;&quot;),
+               &lt;/table&gt;&quot;&quot;&quot;
+            ),
             na_values=[0.244],
         )[0]
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/tests/io/test_html.py#L1384'>pandas/tests/io/test_html.py~L1384</a></p>
<pre><code class="language-diff">             def seekable(self):
                 return False
 
-        bad = UnseekableStringIO(&quot;&quot;&quot;
-            &lt;table&gt;&lt;tr&gt;&lt;td&gt;spam&lt;foobr /&gt;eggs&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;&quot;&quot;)
+        bad = UnseekableStringIO(
+            &quot;&quot;&quot;
+            &lt;table&gt;&lt;tr&gt;&lt;td&gt;spam&lt;foobr /&gt;eggs&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;&quot;&quot;
+        )
 
         assert flavor_read_html(bad)
 
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/pandas/util/_decorators.py#L83'>pandas/util/_decorators.py~L83</a></p>
<pre><code class="language-diff">         empty1, summary, empty2, doc_string = alternative.__doc__.split(&quot;\n&quot;, 3)
         if empty1 or empty2 and not summary:
             raise AssertionError(doc_error_msg)
-        wrapper.__doc__ = dedent(f&quot;&quot;&quot;
+        wrapper.__doc__ = dedent(
+            f&quot;&quot;&quot;
         {summary.strip()}
 
         .. deprecated:: {version}
             {msg}
 
-        {dedent(doc_string)}&quot;&quot;&quot;)
+        {dedent(doc_string)}&quot;&quot;&quot;
+        )
     # error: Incompatible return value type (got &quot;Callable[[VarArg(Any), KwArg(Any)],
     # Callable[...,Any]]&quot;, expected &quot;Callable[[F], F]&quot;)
     return wrapper  # type: ignore[return-value]
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/scripts/validate_rst_title_capitalization.py#L265'>scripts/validate_rst_title_capitalization.py~L265</a></p>
<pre><code class="language-diff">     for filename in source_paths:
         for title, line_number in find_titles(filename):
             if title != correct_title_capitalization(title):
-                print(f&quot;&quot;&quot;{filename}:{line_number}:{err_msg} &quot;{title}&quot; to &quot;{
-                    correct_title_capitalization(title)}&quot; &quot;&quot;&quot;)
+                print(
+                    f&quot;&quot;&quot;{filename}:{line_number}:{err_msg} &quot;{title}&quot; to &quot;{
+                    correct_title_capitalization(title)}&quot; &quot;&quot;&quot;
+                )
                 number_of_errors += 1
 
     return number_of_errors
</code></pre>
<p><a href='https://github.com/pandas-dev/pandas/blob/4ac340e89a2a1a2652530edc74968b821516de05/setup.py#L259'>setup.py~L259</a></p>
<pre><code class="language-diff">             for src in ext.sources:
                 if not os.path.exists(src):
                     print(f&quot;{ext.name}: -&gt; [{ext.sources}]&quot;)
-                    raise Exception(f&quot;&quot;&quot;Cython-generated file '{src}' not found.
+                    raise Exception(
+                        f&quot;&quot;&quot;Cython-generated file '{src}' not found.
                 Cython is required to compile pandas from a development branch.
                 Please install Cython or download a release package of pandas.
-                &quot;&quot;&quot;)
+                &quot;&quot;&quot;
+                    )
 
     def build_extensions(self) -&gt; None:
         self.check_cython_extensions(self.extensions)
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/prefecthq/prefect">prefecthq/prefect</a> (+20 -10 lines across 5 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/blocks/core.py#L576'>src/prefect/blocks/core.py~L576</a></p>
<pre><code class="language-diff">         class_name = cls.__name__
         block_variable_name = f'{cls.get_block_type_slug().replace(&quot;-&quot;, &quot;_&quot;)}_block'
 
-        return dedent(f&quot;&quot;&quot;\
+        return dedent(
+            f&quot;&quot;&quot;\
         ```python
         from {module_str} import {class_name}
 
         {block_variable_name} = {class_name}.load(&quot;BLOCK_NAME&quot;)
-        ```&quot;&quot;&quot;)
+        ```&quot;&quot;&quot;
+        )
 
     @classmethod
     def _to_block_type(cls) -&gt; BlockType:
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/infrastructure/provisioners/cloud_run.py#L390'>src/prefect/infrastructure/provisioners/cloud_run.py~L390</a></p>
<pre><code class="language-diff">                     &quot;&quot;&quot;),
                 Panel(
                     Syntax(
-                        dedent(f&quot;&quot;&quot;\
+                        dedent(
+                            f&quot;&quot;&quot;\
                         from prefect import flow
                         from prefect.deployments import DeploymentImage
 
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/infrastructure/provisioners/cloud_run.py#L408'>src/prefect/infrastructure/provisioners/cloud_run.py~L408</a></p>
<pre><code class="language-diff">                                     name=&quot;my-image:latest&quot;,
                                     platform=&quot;linux/amd64&quot;,
                                 )
-                            )&quot;&quot;&quot;),
+                            )&quot;&quot;&quot;
+                        ),
                         &quot;python&quot;,
                         background_color=&quot;default&quot;,
                     ),
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/infrastructure/provisioners/container_instance.py#L1031'>src/prefect/infrastructure/provisioners/container_instance.py~L1031</a></p>
<pre><code class="language-diff">                     &quot;&quot;&quot;),
             Panel(
                 Syntax(
-                    dedent(f&quot;&quot;&quot;\
+                    dedent(
+                        f&quot;&quot;&quot;\
                         from prefect import flow
                         from prefect.deployments import DeploymentImage
 
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/infrastructure/provisioners/container_instance.py#L1049'>src/prefect/infrastructure/provisioners/container_instance.py~L1049</a></p>
<pre><code class="language-diff">                                     name=&quot;my-image:latest&quot;,
                                     platform=&quot;linux/amd64&quot;,
                                 )
-                            )&quot;&quot;&quot;),
+                            )&quot;&quot;&quot;
+                    ),
                     &quot;python&quot;,
                     background_color=&quot;default&quot;,
                 ),
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/infrastructure/provisioners/ecs.py#L937'>src/prefect/infrastructure/provisioners/ecs.py~L937</a></p>
<pre><code class="language-diff">                     &quot;&quot;&quot;),
             Panel(
                 Syntax(
-                    dedent(f&quot;&quot;&quot;\
+                    dedent(
+                        f&quot;&quot;&quot;\
                                 from prefect import flow
                                 from prefect.deployments import DeploymentImage
 
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/src/prefect/infrastructure/provisioners/ecs.py#L955'>src/prefect/infrastructure/provisioners/ecs.py~L955</a></p>
<pre><code class="language-diff">                                             name=&quot;{self._repository_name}:latest&quot;,
                                             platform=&quot;linux/amd64&quot;,
                                         )
-                                    )&quot;&quot;&quot;),
+                                    )&quot;&quot;&quot;
+                    ),
                     &quot;python&quot;,
                     background_color=&quot;default&quot;,
                 ),
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/tests/infrastructure/provisioners/test_ecs.py#L1364'>tests/infrastructure/provisioners/test_ecs.py~L1364</a></p>
<pre><code class="language-diff"> 
             To build and push a Docker image to your newly created repository, use [blue]'prefect-flows'[/] as your image name:
             &quot;&quot;&quot;)
-        assert container_repository_resource.next_steps[1].renderable.code == dedent(&quot;&quot;&quot;\
+        assert container_repository_resource.next_steps[1].renderable.code == dedent(
+            &quot;&quot;&quot;\
                 from prefect import flow
                 from prefect.deployments import DeploymentImage
 
</code></pre>
<p><a href='https://github.com/prefecthq/prefect/blob/41e44ed5959caf884a439f6b6fc3085a69dd1a4e/tests/infrastructure/provisioners/test_ecs.py#L1382'>tests/infrastructure/provisioners/test_ecs.py~L1382</a></p>
<pre><code class="language-diff">                             name=&quot;prefect-flows:latest&quot;,
                             platform=&quot;linux/amd64&quot;,
                         )
-                    )&quot;&quot;&quot;)
+                    )&quot;&quot;&quot;
+        )
 
     @pytest.mark.usefixtures(&quot;existing_ecr_repository&quot;)
     async def test_no_next_steps_when_no_provision(self, container_repository_resource):
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/pypa/pip">pypa/pip</a> (+20 -10 lines across 4 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/conftest.py#L849'>tests/conftest.py~L849</a></p>
<pre><code class="language-diff">     )
     # Output won't be nicely indented because dedent() acts after f-string
     # arg insertion.
-    index_html = dedent(f&quot;&quot;&quot;\
+    index_html = dedent(
+        f&quot;&quot;&quot;\
         &lt;!DOCTYPE html&gt;
         &lt;html&gt;
           &lt;head&gt;
</code></pre>
<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/conftest.py#L859'>tests/conftest.py~L859</a></p>
<pre><code class="language-diff">           &lt;body&gt;
           {pkg_links}
           &lt;/body&gt;
-        &lt;/html&gt;&quot;&quot;&quot;)
+        &lt;/html&gt;&quot;&quot;&quot;
+    )
     # (2) Generate the index.html in a new subdirectory of the temp directory.
     (html_dir / &quot;index.html&quot;).write_text(index_html)
 
</code></pre>
<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/conftest.py#L890'>tests/conftest.py~L890</a></p>
<pre><code class="language-diff">         # write an index.html with the generated download links for each
         # copied file for this specific package name.
         download_links_str = &quot;\n&quot;.join(download_links)
-        pkg_index_content = dedent(f&quot;&quot;&quot;\
+        pkg_index_content = dedent(
+            f&quot;&quot;&quot;\
             &lt;!DOCTYPE html&gt;
             &lt;html&gt;
               &lt;head&gt;
</code></pre>
<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/conftest.py#L901'>tests/conftest.py~L901</a></p>
<pre><code class="language-diff">                 &lt;h1&gt;Links for {pkg}&lt;/h1&gt;
                 {download_links_str}
               &lt;/body&gt;
-            &lt;/html&gt;&quot;&quot;&quot;)
+            &lt;/html&gt;&quot;&quot;&quot;
+        )
         with open(pkg_subdir / &quot;index.html&quot;, &quot;w&quot;) as f:
             f.write(pkg_index_content)
 
</code></pre>
<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/functional/test_install.py#L1036'>tests/functional/test_install.py~L1036</a></p>
<pre><code class="language-diff">     result.did_create(dist_info_folder)
 
 
-mock100_setup_py = textwrap.dedent(&quot;&quot;&quot;\
+mock100_setup_py = textwrap.dedent(
+    &quot;&quot;&quot;\
                         from setuptools import setup
                         setup(name='mock',
-                              version='100.1')&quot;&quot;&quot;)
+                              version='100.1')&quot;&quot;&quot;
+)
 
 
 def test_install_folder_using_dot_slash(script: PipTestEnvironment) -&gt; None:
</code></pre>
<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/functional/test_install_reqs.py#L319'>tests/functional/test_install_reqs.py~L319</a></p>
<pre><code class="language-diff">     script.scratch_path.joinpath(&quot;bin&quot;).mkdir()
     with open(user_cfg, &quot;w&quot;) as cfg:
         cfg.write(
-            textwrap.dedent(f&quot;&quot;&quot;
+            textwrap.dedent(
+                f&quot;&quot;&quot;
             [install]
-            prefix={script.scratch_path}&quot;&quot;&quot;)
+            prefix={script.scratch_path}&quot;&quot;&quot;
+            )
         )
 
     result = script.pip(
</code></pre>
<p><a href='https://github.com/pypa/pip/blob/a15dd75d98884c94a77d349b800c7c755d8c34e4/tests/unit/test_collector.py#L983'>tests/unit/test_collector.py~L983</a></p>
<pre><code class="language-diff">         # Check that index URLs are marked as *un*cacheable.
         assert not pages[0].link.cache_link_parsing
 
-        expected_message = dedent(&quot;&quot;&quot;\
+        expected_message = dedent(
+            &quot;&quot;&quot;\
         1 location(s) to search for versions of twine:
-        * https://pypi.org/simple/twine/&quot;&quot;&quot;)
+        * https://pypi.org/simple/twine/&quot;&quot;&quot;
+        )
         assert caplog.record_tuples == [
             (&quot;pip._internal.index.collector&quot;, logging.DEBUG, expected_message),
         ]
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/pypa/setuptools">pypa/setuptools</a> (+36 -18 lines across 6 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/pkg_resources/tests/test_resources.py#L339'>pkg_resources/tests/test_resources.py~L339</a></p>
<pre><code class="language-diff">         reason=&quot;https://github.com/python/cpython/issues/103632&quot;,
     )
     def testDistroDependsOptions(self):
-        d = self.distRequires(&quot;&quot;&quot;
+        d = self.distRequires(
+            &quot;&quot;&quot;
             Twisted&gt;=1.5
             [docgen]
             ZConfig&gt;=2.0
             docutils&gt;=0.3
             [fastcgi]
-            fcgiapp&gt;=0.1&quot;&quot;&quot;)
+            fcgiapp&gt;=0.1&quot;&quot;&quot;
+        )
         self.checkRequires(d, &quot;Twisted&gt;=1.5&quot;)
         self.checkRequires(
             d, &quot;Twisted&gt;=1.5 ZConfig&gt;=2.0 docutils&gt;=0.3&quot;.split(), [&quot;docgen&quot;]
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/_distutils/msvc9compiler.py#L157'>setuptools/_distutils/msvc9compiler.py~L157</a></p>
<pre><code class="language-diff">             else:
                 raise KeyError(&quot;sdkinstallrootv2.0&quot;)
         except KeyError:
-            raise DistutilsPlatformError(&quot;&quot;&quot;Python was built with Visual Studio 2008;
+            raise DistutilsPlatformError(
+                &quot;&quot;&quot;Python was built with Visual Studio 2008;
 extensions must be built with a compiler than can generate compatible binaries.
 Visual Studio 2008 was not found on this system. If you have Cygwin installed,
-you can try compiling with MingW32, by passing &quot;-c mingw32&quot; to setup.py.&quot;&quot;&quot;)
+you can try compiling with MingW32, by passing &quot;-c mingw32&quot; to setup.py.&quot;&quot;&quot;
+            )
 
         if version &gt;= 9.0:
             self.set_macro(&quot;FrameworkVersion&quot;, self.vsbase, &quot;clr version&quot;)
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/_distutils/msvccompiler.py#L145'>setuptools/_distutils/msvccompiler.py~L145</a></p>
<pre><code class="language-diff">             else:
                 self.set_macro(&quot;FrameworkSDKDir&quot;, net, &quot;sdkinstallroot&quot;)
         except KeyError:
-            raise DistutilsPlatformError(&quot;&quot;&quot;Python was built with Visual Studio 2003;
+            raise DistutilsPlatformError(
+                &quot;&quot;&quot;Python was built with Visual Studio 2003;
 extensions must be built with a compiler than can generate compatible binaries.
 Visual Studio 2003 was not found on this system. If you have Cygwin installed,
-you can try compiling with MingW32, by passing &quot;-c mingw32&quot; to setup.py.&quot;&quot;&quot;)
+you can try compiling with MingW32, by passing &quot;-c mingw32&quot; to setup.py.&quot;&quot;&quot;
+            )
 
         p = r&quot;Software\Microsoft\NET Framework Setup\Product&quot;
         for base in HKEYS:
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/_distutils/tests/test_dist.py#L429'>setuptools/_distutils/tests/test_dist.py~L429</a></p>
<pre><code class="language-diff">         assert &quot;Metadata-Version: 1.1&quot; in meta
 
     def test_long_description(self):
-        long_desc = textwrap.dedent(&quot;&quot;&quot;\
+        long_desc = textwrap.dedent(
+            &quot;&quot;&quot;\
         example::
               We start here
             and continue here
-          and end here.&quot;&quot;&quot;)
+          and end here.&quot;&quot;&quot;
+        )
         attrs = {&quot;name&quot;: &quot;package&quot;, &quot;version&quot;: &quot;1.0&quot;, &quot;long_description&quot;: long_desc}
 
         dist = Distribution(attrs)
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/tests/test_build_meta.py#L545'>setuptools/tests/test_build_meta.py~L545</a></p>
<pre><code class="language-diff"> 
     def test_build_sdist_pyproject_toml_exists(self, tmpdir_cwd):
         files = {
-            &quot;setup.py&quot;: DALS(&quot;&quot;&quot;
+            &quot;setup.py&quot;: DALS(
+                &quot;&quot;&quot;
                 __import__('setuptools').setup(
                     name='foo',
                     version='0.0.0',
                     py_modules=['hello']
-                )&quot;&quot;&quot;),
+                )&quot;&quot;&quot;
+            ),
             &quot;hello.py&quot;: &quot;&quot;,
             &quot;pyproject.toml&quot;: DALS(&quot;&quot;&quot;
                 [build-system]
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/tests/test_build_meta.py#L577'>setuptools/tests/test_build_meta.py~L577</a></p>
<pre><code class="language-diff">     def test_build_sdist_setup_py_manifest_excluded(self, tmpdir_cwd):
         # Ensure that MANIFEST.in can exclude setup.py
         files = {
-            &quot;setup.py&quot;: DALS(&quot;&quot;&quot;
+            &quot;setup.py&quot;: DALS(
+                &quot;&quot;&quot;
         __import__('setuptools').setup(
             name='foo',
             version='0.0.0',
             py_modules=['hello']
-        )&quot;&quot;&quot;),
+        )&quot;&quot;&quot;
+            ),
             &quot;hello.py&quot;: &quot;&quot;,
             &quot;MANIFEST.in&quot;: DALS(&quot;&quot;&quot;
         exclude setup.py
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/tests/test_build_meta.py#L598'>setuptools/tests/test_build_meta.py~L598</a></p>
<pre><code class="language-diff"> 
     def test_build_sdist_builds_targz_even_if_zip_indicated(self, tmpdir_cwd):
         files = {
-            &quot;setup.py&quot;: DALS(&quot;&quot;&quot;
+            &quot;setup.py&quot;: DALS(
+                &quot;&quot;&quot;
                 __import__('setuptools').setup(
                     name='foo',
                     version='0.0.0',
                     py_modules=['hello']
-                )&quot;&quot;&quot;),
+                )&quot;&quot;&quot;
+            ),
             &quot;hello.py&quot;: &quot;&quot;,
             &quot;setup.cfg&quot;: DALS(&quot;&quot;&quot;
                 [sdist]
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/tests/test_build_meta.py#L617'>setuptools/tests/test_build_meta.py~L617</a></p>
<pre><code class="language-diff">         build_backend.build_sdist(&quot;temp&quot;)
 
     _relative_path_import_files = {
-        &quot;setup.py&quot;: DALS(&quot;&quot;&quot;
+        &quot;setup.py&quot;: DALS(
+            &quot;&quot;&quot;
             __import__('setuptools').setup(
                 name='foo',
                 version=__import__('hello').__version__,
                 py_modules=['hello']
-            )&quot;&quot;&quot;),
+            )&quot;&quot;&quot;
+        ),
         &quot;hello.py&quot;: '__version__ = &quot;0.0.0&quot;',
         &quot;setup.cfg&quot;: DALS(&quot;&quot;&quot;
             [sdist]
</code></pre>
<p><a href='https://github.com/pypa/setuptools/blob/e92440ad6210b21f3ede64d7eb69dead94b37d3a/setuptools/tests/test_egg_info.py#L1082'>setuptools/tests/test_egg_info.py~L1082</a></p>
<pre><code class="language-diff">         # `Project-URL` is described at https://packaging.python.org
         #     /specifications/core-metadata/#project-url-multiple-use
 
-        self._setup_script_with_requires(&quot;&quot;&quot;project_urls={
+        self._setup_script_with_requires(
+            &quot;&quot;&quot;project_urls={
                 'Link One': 'https://example.com/one/',
                 'Link Two': 'https://example.com/two/',
-                },&quot;&quot;&quot;)
+                },&quot;&quot;&quot;
+        )
         environ = os.environ.copy().update(
             HOME=env.paths[&quot;home&quot;],
         )
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/python/mypy">python/mypy</a> (+4 -2 lines across 1 file)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/python/mypy/blob/1dd8e7fe654991b01bd80ef7f1f675d9e3910c3a/mypy/build.py#L1198'>mypy/build.py~L1198</a></p>
<pre><code class="language-diff">     cachedir_tag = os.path.join(target_dir, &quot;CACHEDIR.TAG&quot;)
     try:
         with open(cachedir_tag, &quot;x&quot;) as f:
-            f.write(&quot;&quot;&quot;Signature: 8a477f597d28d172789f06886806bc55
+            f.write(
+                &quot;&quot;&quot;Signature: 8a477f597d28d172789f06886806bc55
 # This file is a cache directory tag automatically created by mypy.
 # For information about cache directory tags see https://bford.info/cachedir/
-&quot;&quot;&quot;)
+&quot;&quot;&quot;
+            )
     except FileExistsError:
         pass
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/reflex-dev/reflex">reflex-dev/reflex</a> (+8 -4 lines across 2 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/reflex-dev/reflex/blob/42bcea76312341f542e89da1434f16c84e617ac4/scripts/pyi_generator.py#L124'>scripts/pyi_generator.py~L124</a></p>
<pre><code class="language-diff">             names=[ast.alias(name=imp) for imp in sorted(typing_imports)],
         ),
         *ast.parse(  # type: ignore
-            textwrap.dedent(&quot;&quot;&quot;
+            textwrap.dedent(
+                &quot;&quot;&quot;
                 from reflex.vars import Var, BaseVar, ComputedVar
                 from reflex.event import EventChain, EventHandler, EventSpec
-                from reflex.style import Style&quot;&quot;&quot;)
+                from reflex.style import Style&quot;&quot;&quot;
+            )
         ).body,
         # *[
         #     ast.ImportFrom(module=name, names=[ast.alias(name=val) for val in values])
</code></pre>
<p><a href='https://github.com/reflex-dev/reflex/blob/42bcea76312341f542e89da1434f16c84e617ac4/tests/utils/test_utils.py#L291'>tests/utils/test_utils.py~L291</a></p>
<pre><code class="language-diff"> 
     if gitignore_exists:
         gitignore_file.touch()
-        gitignore_file.write_text(&quot;&quot;&quot;*.db
+        gitignore_file.write_text(
+            &quot;&quot;&quot;*.db
         __pycache__/
-        &quot;&quot;&quot;)
+        &quot;&quot;&quot;
+        )
 
     prerequisites.initialize_gitignore()
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/rotki/rotki">rotki/rotki</a> (+136 -68 lines across 11 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v26_v27.py#L35'>rotkehlchen/db/upgrades/v26_v27.py~L35</a></p>
<pre><code class="language-diff">     progress_handler.new_step()
 
     cursor.execute(&quot;DROP TABLE IF EXISTS amm_swaps;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
 CREATE TABLE IF NOT EXISTS amm_swaps (
     tx_hash VARCHAR[42] NOT NULL,
     log_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v26_v27.py#L53'>rotkehlchen/db/upgrades/v26_v27.py~L53</a></p>
<pre><code class="language-diff">     FOREIGN KEY(token0_identifier) REFERENCES assets(identifier) ON UPDATE CASCADE,
     FOREIGN KEY(token1_identifier) REFERENCES assets(identifier) ON UPDATE CASCADE,
     PRIMARY KEY (tx_hash, log_index)
-);&quot;&quot;&quot;)
+);&quot;&quot;&quot;
+    )
     cursor.execute('DELETE FROM used_query_ranges WHERE name LIKE &quot;balancer_trades%&quot;;')
     cursor.execute('DELETE FROM used_query_ranges WHERE name LIKE &quot;uniswap_trades%&quot;;')
     progress_handler.new_step()
 
     cursor.execute(&quot;DROP TABLE IF EXISTS uniswap_events;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
 CREATE TABLE IF NOT EXISTS uniswap_events (
     tx_hash VARCHAR[42] NOT NULL,
     log_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v26_v27.py#L76'>rotkehlchen/db/upgrades/v26_v27.py~L76</a></p>
<pre><code class="language-diff">     FOREIGN KEY(token0_identifier) REFERENCES assets(identifier) ON UPDATE CASCADE,
     FOREIGN KEY(token1_identifier) REFERENCES assets(identifier) ON UPDATE CASCADE,
     PRIMARY KEY (tx_hash, log_index)
-);&quot;&quot;&quot;)
+);&quot;&quot;&quot;
+    )
     cursor.execute('DELETE FROM used_query_ranges WHERE name LIKE &quot;uniswap_events%&quot;;')
     progress_handler.new_step()
 
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v27_v28.py#L24'>rotkehlchen/db/upgrades/v27_v28.py~L24</a></p>
<pre><code class="language-diff">         cursor.execute(&quot;DELETE FROM aave_events;&quot;)
         cursor.execute('DELETE FROM used_query_ranges WHERE name LIKE &quot;aave_events%&quot;;')
         # Create the gitcoin tables that are added in this DB version
-        cursor.execute(&quot;&quot;&quot;
+        cursor.execute(
+            &quot;&quot;&quot;
         CREATE TABLE IF NOT EXISTS gitcoin_tx_type (
         type    CHAR(1)       PRIMARY KEY NOT NULL,
         seq     INTEGER UNIQUE
-        )&quot;&quot;&quot;)
+        )&quot;&quot;&quot;
+        )
         # Ethereum Transaction
         cursor.execute('INSERT OR IGNORE INTO gitcoin_tx_type(type, seq) VALUES (&quot;A&quot;, 1)')
         # ZKSync Transaction
         cursor.execute('INSERT OR IGNORE INTO gitcoin_tx_type(type, seq) VALUES (&quot;B&quot;, 2)')
 
-        cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS ledger_actions_gitcoin_data (
+        cursor.execute(
+            &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS ledger_actions_gitcoin_data (
         parent_id INTEGER NOT NULL,
         tx_id TEXT NOT NULL UNIQUE,
         grant_id INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v27_v28.py#L42'>rotkehlchen/db/upgrades/v27_v28.py~L42</a></p>
<pre><code class="language-diff">         tx_type NOT NULL DEFAULT('A') REFERENCES gitcoin_tx_type(type),
         FOREIGN KEY(parent_id) REFERENCES ledger_actions(identifier) ON DELETE CASCADE ON UPDATE CASCADE,
         PRIMARY KEY(parent_id, tx_id, grant_id)
-        )&quot;&quot;&quot;)  # noqa: E501
+        )&quot;&quot;&quot;
+        )  # noqa: E501
 
-        cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS gitcoin_grant_metadata (
+        cursor.execute(
+            &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS gitcoin_grant_metadata (
         grant_id INTEGER NOT NULL PRIMARY KEY,
         grant_name TEXT NOT NULL,
         created_on INTEGER NOT NULL
-        )&quot;&quot;&quot;)
+        )&quot;&quot;&quot;
+        )
         progress_handler.new_step()
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v28_v29.py#L12'>rotkehlchen/db/upgrades/v28_v29.py~L12</a></p>
<pre><code class="language-diff">     Should be called at the end of the upgrade as it depends on the changes
     done to the transactions table
     &quot;&quot;&quot;
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS ethtx_receipts (
     tx_hash BLOB NOT NULL PRIMARY KEY,
     contract_address TEXT, /* can be null */
     status INTEGER NOT NULL CHECK (status IN (0, 1)),
     type INTEGER NOT NULL,
     FOREIGN KEY(tx_hash) REFERENCES ethereum_transactions(tx_hash) ON DELETE CASCADE ON UPDATE CASCADE
-    );&quot;&quot;&quot;)  # noqa: E501
-    cursor.execute(&quot;&quot;&quot;
+    );&quot;&quot;&quot;
+    )  # noqa: E501
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS ethtx_receipt_logs (
     tx_hash BLOB NOT NULL,
     log_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v28_v29.py#L29'>rotkehlchen/db/upgrades/v28_v29.py~L29</a></p>
<pre><code class="language-diff">     removed INTEGER NOT NULL CHECK (removed IN (0, 1)),
     FOREIGN KEY(tx_hash) REFERENCES ethtx_receipts(tx_hash) ON DELETE CASCADE ON UPDATE CASCADE,
     PRIMARY KEY(tx_hash, log_index)
-    );&quot;&quot;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+    );&quot;&quot;&quot;
+    )
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS ethtx_receipt_log_topics (
     tx_hash BLOB NOT NULL,
     log_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v28_v29.py#L38'>rotkehlchen/db/upgrades/v28_v29.py~L38</a></p>
<pre><code class="language-diff">     topic_index INTEGER NOT NULL,
     FOREIGN KEY(tx_hash, log_index) REFERENCES ethtx_receipt_logs(tx_hash, log_index) ON DELETE CASCADE ON UPDATE CASCADE,
     PRIMARY KEY(tx_hash, log_index, topic_index)
-    );&quot;&quot;&quot;)  # noqa: E501
-    cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS nfts (
+    );&quot;&quot;&quot;
+    )  # noqa: E501
+    cursor.execute(
+        &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS nfts (
     identifier TEXT NOT NULL PRIMARY KEY,
     name TEXT,
     last_price TEXT,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v28_v29.py#L50'>rotkehlchen/db/upgrades/v28_v29.py~L50</a></p>
<pre><code class="language-diff">     FOREIGN KEY(blockchain, owner_address) REFERENCES blockchain_accounts(blockchain, account) ON DELETE CASCADE,
     FOREIGN KEY (identifier) REFERENCES assets(identifier) ON UPDATE CASCADE,
     FOREIGN KEY (last_price_asset) REFERENCES assets(identifier) ON UPDATE CASCADE
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
 
 
 def _upgrade_existing_tables(
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v30_v31.py#L31'>rotkehlchen/db/upgrades/v30_v31.py~L31</a></p>
<pre><code class="language-diff">     # Add all new tables
     cursor.execute(&quot;DROP TABLE IF EXISTS eth2_deposits;&quot;)
     cursor.execute(&quot;DROP TABLE IF EXISTS eth2_daily_staking_details;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS eth2_validators (
     validator_index INTEGER NOT NULL PRIMARY KEY,
     public_key TEXT NOT NULL UNIQUE,
     ownership_proportion TEXT NOT NULL
-    );&quot;&quot;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+    );&quot;&quot;&quot;
+    )
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS eth2_deposits (
     tx_hash BLOB NOT NULL,
     tx_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v30_v31.py#L49'>rotkehlchen/db/upgrades/v30_v31.py~L49</a></p>
<pre><code class="language-diff">     usd_value TEXT NOT NULL,
     FOREIGN KEY(pubkey) REFERENCES eth2_validators(public_key) ON UPDATE CASCADE ON DELETE CASCADE,
     PRIMARY KEY(tx_hash, pubkey, amount) /* multiple deposits can exist for same pubkey */
-    );&quot;&quot;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+    );&quot;&quot;&quot;
+    )
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS eth2_daily_staking_details (
     validator_index INTEGER NOT NULL,
     timestamp integer NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v30_v31.py#L69'>rotkehlchen/db/upgrades/v30_v31.py~L69</a></p>
<pre><code class="language-diff">     deposits_number INTEGER,
     amount_deposited TEXT,
     FOREIGN KEY(validator_index) REFERENCES eth2_validators(validator_index) ON UPDATE CASCADE ON DELETE CASCADE,
-    PRIMARY KEY (validator_index, timestamp));&quot;&quot;&quot;)  # noqa: E501
+    PRIMARY KEY (validator_index, timestamp));&quot;&quot;&quot;
+    )  # noqa: E501
     progress_handler.new_step()
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
 CREATE VIEW IF NOT EXISTS combined_trades_view AS
     WITH amounts_query AS (
         SELECT
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v30_v31.py#L168'>rotkehlchen/db/upgrades/v30_v31.py~L168</a></p>
<pre><code class="language-diff"> FROM SWAPS
 UNION ALL /* using union all as there can be no duplicates so no need to handle them */
 SELECT * from trades
-;&quot;&quot;&quot;)  # noqa: E501
-    cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS history_events (
+;&quot;&quot;&quot;
+    )  # noqa: E501
+    cursor.execute(
+        &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS history_events (
     identifier TEXT NOT NULL PRIMARY KEY,
     event_identifier TEXT NOT NULL,
     sequence_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v30_v31.py#L182'>rotkehlchen/db/upgrades/v30_v31.py~L182</a></p>
<pre><code class="language-diff">     notes TEXT,
     type TEXT NOT NULL,
     subtype TEXT
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
     progress_handler.new_step()
 
 
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v31_v32.py#L11'>rotkehlchen/db/upgrades/v31_v32.py~L11</a></p>
<pre><code class="language-diff"> 
 
 def _upgrade_history_events(cursor: &quot;DBCursor&quot;) -&gt; None:
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS history_events_copy (
         identifier INTEGER NOT NULL PRIMARY KEY,
         event_identifier TEXT NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v31_v32.py#L28'>rotkehlchen/db/upgrades/v31_v32.py~L28</a></p>
<pre><code class="language-diff">         counterparty TEXT,
         extra_data TEXT,
         UNIQUE(event_identifier, sequence_index)
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
     cursor.execute(&quot;UPDATE history_events SET timestamp = timestamp / 10;&quot;)
     cursor.execute(
         'UPDATE history_events SET subtype = &quot;deposit asset&quot; WHERE subtype = &quot;staking deposit asset&quot;;'
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v31_v32.py#L69'>rotkehlchen/db/upgrades/v31_v32.py~L69</a></p>
<pre><code class="language-diff"> 
 def _add_new_tables(cursor: &quot;DBCursor&quot;) -&gt; None:
     cursor.execute('INSERT OR IGNORE INTO location(location, seq) VALUES (&quot;d&quot;, 36)')
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS ethereum_internal_transactions (
     parent_tx_hash BLOB NOT NULL,
     trace_id INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v31_v32.py#L80'>rotkehlchen/db/upgrades/v31_v32.py~L80</a></p>
<pre><code class="language-diff">     value TEXT NOT NULL,
     FOREIGN KEY(parent_tx_hash) REFERENCES ethereum_transactions(tx_hash) ON DELETE CASCADE ON UPDATE CASCADE,
     PRIMARY KEY(parent_tx_hash, trace_id)
-);&quot;&quot;&quot;)  # noqa: E501
-    cursor.execute(&quot;&quot;&quot;
+);&quot;&quot;&quot;
+    )  # noqa: E501
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS ethtx_address_mappings (
     address TEXT NOT NULL,
     tx_hash BLOB NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v31_v32.py#L89'>rotkehlchen/db/upgrades/v31_v32.py~L89</a></p>
<pre><code class="language-diff">     FOREIGN KEY(blockchain, address) REFERENCES blockchain_accounts(blockchain, account) ON DELETE CASCADE,
     FOREIGN KEY(tx_hash) references ethereum_transactions(tx_hash) ON UPDATE CASCADE ON DELETE CASCADE,
     PRIMARY KEY (address, tx_hash, blockchain)
-);&quot;&quot;&quot;)  # noqa: E501
-    cursor.execute(&quot;&quot;&quot;
+);&quot;&quot;&quot;
+    )  # noqa: E501
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evm_tx_mappings (
     tx_hash BLOB NOT NULL,
     blockchain TEXT NOT NULL,
     value TEXT NOT NULL,
     FOREIGN KEY(tx_hash) references ethereum_transactions(tx_hash) ON UPDATE CASCADE ON DELETE CASCADE,
     PRIMARY KEY (tx_hash, value)
-);&quot;&quot;&quot;)  # noqa: E501
-    cursor.execute(&quot;&quot;&quot;
+);&quot;&quot;&quot;
+    )  # noqa: E501
+    cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS history_events_mappings (
     parent_identifier INTEGER NOT NULL,
     value TEXT NOT NULL,
     FOREIGN KEY(parent_identifier) references history_events(identifier) ON UPDATE CASCADE ON DELETE CASCADE,
     PRIMARY KEY (parent_identifier, value)
-);&quot;&quot;&quot;)  # noqa: E501
+);&quot;&quot;&quot;
+    )  # noqa: E501
     cursor.execute(&quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS ens_mappings (
     address TEXT NOT NULL PRIMARY KEY,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v34_v35.py#L134'>rotkehlchen/db/upgrades/v34_v35.py~L134</a></p>
<pre><code class="language-diff">     log.debug(&quot;Enter _change_xpub_mappings_primary_key&quot;)
     with conn.read_ctx() as read_cursor:
         xpub_mappings = read_cursor.execute(&quot;SELECT * from xpub_mappings&quot;).fetchall()
-    write_cursor.execute(&quot;&quot;&quot;CREATE TABLE xpub_mappings_copy (
+    write_cursor.execute(
+        &quot;&quot;&quot;CREATE TABLE xpub_mappings_copy (
         address TEXT NOT NULL,
         xpub TEXT NOT NULL,
         derivation_path TEXT NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v34_v35.py#L150'>rotkehlchen/db/upgrades/v34_v35.py~L150</a></p>
<pre><code class="language-diff">         ) ON DELETE CASCADE
         PRIMARY KEY (address, xpub, derivation_path, blockchain)
     );
-    &quot;&quot;&quot;)
+    &quot;&quot;&quot;
+    )
     write_cursor.executemany(
         &quot;INSERT INTO xpub_mappings_copy VALUES (?, ?, ?, ?, ?, ?)&quot;, xpub_mappings
     )  # noqa: E501
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v34_v35.py#L242'>rotkehlchen/db/upgrades/v34_v35.py~L242</a></p>
<pre><code class="language-diff">         ))
 
     cursor.execute(&quot;DROP TABLE history_events;&quot;)
-    cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS history_events (
+    cursor.execute(
+        &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS history_events (
     identifier INTEGER NOT NULL PRIMARY KEY,
     event_identifier BLOB NOT NULL,
     sequence_index INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v34_v35.py#L259'>rotkehlchen/db/upgrades/v34_v35.py~L259</a></p>
<pre><code class="language-diff">     extra_data TEXT,
     FOREIGN KEY(asset) REFERENCES assets(identifier) ON UPDATE CASCADE,
     UNIQUE(event_identifier, sequence_index)
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
 
     insertion_query = (
         &quot;INSERT INTO history_events( &quot;
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v36_v37.py#L101'>rotkehlchen/db/upgrades/v36_v37.py~L101</a></p>
<pre><code class="language-diff">     log.debug(&quot;Enter _update_history_events_schema&quot;)
 
     _reset_decoded_events(write_cursor)
-    write_cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS history_events_copy (
+    write_cursor.execute(
+        &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS history_events_copy (
     identifier INTEGER NOT NULL PRIMARY KEY,
     entry_type INTEGER NOT NULL,
     event_identifier TEXT NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v36_v37.py#L117'>rotkehlchen/db/upgrades/v36_v37.py~L117</a></p>
<pre><code class="language-diff">     subtype TEXT NOT NULL,
     FOREIGN KEY(asset) REFERENCES assets(identifier) ON UPDATE CASCADE,
     UNIQUE(event_identifier, sequence_index)
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
     new_entries = []
     extra_evm_info_entries = []
     with conn.read_ctx() as read_cursor:
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L48'>rotkehlchen/db/upgrades/v38_v39.py~L48</a></p>
<pre><code class="language-diff"> 
 def _create_new_tables(write_cursor: &quot;DBCursor&quot;) -&gt; None:
     log.debug(&quot;Enter _create_new_tables&quot;)
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS optimism_transactions (
         tx_id INTEGER NOT NULL PRIMARY KEY,
         l1_fee TEXT,
     FOREIGN KEY(tx_id) REFERENCES evm_transactions(identifier) ON DELETE CASCADE ON UPDATE CASCADE
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
     log.debug(&quot;Exit _create_new_tables&quot;)
 
 
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L114'>rotkehlchen/db/upgrades/v38_v39.py~L114</a></p>
<pre><code class="language-diff">     write_cursor.execute(&quot;DROP TABLE IF EXISTS evm_tx_mappings&quot;)
     write_cursor.execute(&quot;DROP TABLE IF EXISTS evmtx_address_mappings&quot;)
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evm_transactions (
         identifier INTEGER NOT NULL PRIMARY KEY,
         tx_hash BLOB NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L130'>rotkehlchen/db/upgrades/v38_v39.py~L130</a></p>
<pre><code class="language-diff">         input_data BLOB NOT NULL,
         nonce INTEGER NOT NULL,
         UNIQUE(tx_hash, chain_id)
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
     hashchain_to_id = {}
     tx_data = []
     for identifier, data in enumerate(txs):
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L143'>rotkehlchen/db/upgrades/v38_v39.py~L143</a></p>
<pre><code class="language-diff">         tx_data,
     )
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evm_tx_mappings (
         tx_id INTEGER NOT NULL,
         value INTEGER NOT NULL,
         FOREIGN KEY(tx_id) references evm_transactions(identifier) ON UPDATE CASCADE ON DELETE CASCADE,
         PRIMARY KEY (tx_id, value)
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
     write_cursor.executemany(
         &quot;INSERT INTO evm_tx_mappings(tx_id, value) VALUES(?, ?)&quot;,
         [(hashchain_to_id[x[0] + x[1].to_bytes(4, byteorder=&quot;big&quot;)], *x[2:]) for x in tx_mappings],
     )
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evmtx_address_mappings (
         tx_id INTEGER NOT NULL,
         address TEXT NOT NULL,
         FOREIGN KEY(tx_id) references evm_transactions(identifier) ON UPDATE CASCADE ON DELETE CASCADE,
         PRIMARY KEY (tx_id, address)
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
     write_cursor.executemany(
         &quot;INSERT INTO evmtx_address_mappings(tx_id, address) VALUES(?, ?)&quot;,
         [
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L170'>rotkehlchen/db/upgrades/v38_v39.py~L170</a></p>
<pre><code class="language-diff">         ],  # noqa: E501
     )
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evm_internal_transactions (
         parent_tx INTEGER NOT NULL,
         trace_id INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L179'>rotkehlchen/db/upgrades/v38_v39.py~L179</a></p>
<pre><code class="language-diff">         value TEXT NOT NULL,
         FOREIGN KEY(parent_tx) REFERENCES evm_transactions(identifier) ON DELETE CASCADE ON UPDATE CASCADE,
         PRIMARY KEY(parent_tx, trace_id, from_address, to_address, value)
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
     write_cursor.executemany(
         &quot;INSERT INTO evm_internal_transactions(parent_tx, trace_id, from_address, to_address, &quot;
         &quot;value) VALUES(?, ?, ?, ?, ?)&quot;,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L189'>rotkehlchen/db/upgrades/v38_v39.py~L189</a></p>
<pre><code class="language-diff">         ],  # noqa: E501
     )
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evmtx_receipts (
         tx_id INTEGER NOT NULL PRIMARY KEY,
         contract_address TEXT, /* can be null */
         status INTEGER NOT NULL CHECK (status IN (0, 1)),
         type INTEGER NOT NULL,
         FOREIGN KEY(tx_id) REFERENCES evm_transactions(identifier) ON DELETE CASCADE ON UPDATE CASCADE
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
     write_cursor.executemany(
         &quot;INSERT INTO evmtx_receipts(tx_id, contract_address, status, type) &quot; &quot;VALUES(?, ?, ?, ?)&quot;,
         [(hashchain_to_id[x[0] + x[1].to_bytes(4, byteorder=&quot;big&quot;)], *x[2:]) for x in receipts],
     )
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evmtx_receipt_logs (
         identifier INTEGER NOT NULL PRIMARY KEY,  /* adding identifier here instead of composite key in order to not duplicate in topics which are A LOT */
         tx_id INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L212'>rotkehlchen/db/upgrades/v38_v39.py~L212</a></p>
<pre><code class="language-diff">         removed INTEGER NOT NULL CHECK (removed IN (0, 1)),
         FOREIGN KEY(tx_id) REFERENCES evmtx_receipts(tx_id) ON DELETE CASCADE ON UPDATE CASCADE,
         UNIQUE(tx_id, log_index)
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
     hashchainlog_to_id = {}
     log_data = []
     for identifier, data in enumerate(logs):
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v38_v39.py#L225'>rotkehlchen/db/upgrades/v38_v39.py~L225</a></p>
<pre><code class="language-diff">         log_data,
     )
 
-    write_cursor.execute(&quot;&quot;&quot;
+    write_cursor.execute(
+        &quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS evmtx_receipt_log_topics (
         log INTEGER NOT NULL,
         topic BLOB NOT NULL,
         topic_index INTEGER NOT NULL,
         FOREIGN KEY(log) REFERENCES evmtx_receipt_logs(identifier) ON DELETE CASCADE ON UPDATE CASCADE,
         PRIMARY KEY(log, topic_index)
-    );&quot;&quot;&quot;)  # noqa: E501
+    );&quot;&quot;&quot;
+    )  # noqa: E501
     write_cursor.executemany(
         &quot;INSERT INTO evmtx_receipt_log_topics(log, topic, topic_index) &quot; &quot;VALUES(?, ?, ?)&quot;,
         [
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/db/upgrades/v39_v40.py#L372'>rotkehlchen/db/upgrades/v39_v40.py~L372</a></p>
<pre><code class="language-diff">     Add new tables for this upgrade
     &quot;&quot;&quot;
     log.debug(&quot;Entered _add_new_tables&quot;)
-    write_cursor.execute(&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS skipped_external_events (
+    write_cursor.execute(
+        &quot;&quot;&quot;CREATE TABLE IF NOT EXISTS skipped_external_events (
     identifier INTEGER NOT NULL PRIMARY KEY,
     data TEXT NOT NULL,
     location CHAR(1) NOT NULL DEFAULT('A') REFERENCES location(location),
     extra_data TEXT,
     UNIQUE(data, location)
-    );&quot;&quot;&quot;)
+    );&quot;&quot;&quot;
+    )
     write_cursor.execute(&quot;&quot;&quot;
     CREATE TABLE IF NOT EXISTS accounting_rules(
         identifier INTEGER NOT NULL PRIMARY KEY,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/globaldb/upgrades/v2_v3.py#L399'>rotkehlchen/globaldb/upgrades/v2_v3.py~L399</a></p>
<pre><code class="language-diff">         cursor.switch_foreign_keys(&quot;ON&quot;)
 
         log.debug(&quot;Create new tables&quot;)
-        cursor.execute(&quot;&quot;&quot;
+        cursor.execute(
+            &quot;&quot;&quot;
         CREATE TABLE IF NOT EXISTS token_kinds (
           token_kind    CHAR(1)       PRIMARY KEY NOT NULL,
           seq     INTEGER UNIQUE
-        );&quot;&quot;&quot;)
+        );&quot;&quot;&quot;
+        )
         # ERC20
         cursor.execute('INSERT OR IGNORE INTO token_kinds(token_kind, seq) VALUES (&quot;A&quot;, 1)')
         # ERC721
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/globaldb/upgrades/v3_v4.py#L108'>rotkehlchen/globaldb/upgrades/v3_v4.py~L108</a></p>
<pre><code class="language-diff"> def _create_new_tables(cursor: &quot;DBCursor&quot;) -&gt; None:
     log.debug(&quot;Enter _create_new_tables&quot;)
 
-    cursor.execute(&quot;&quot;&quot;
+    cursor.execute(
+        &quot;&quot;&quot;
         CREATE TABLE IF NOT EXISTS contract_abi (
             id INTEGER NOT NULL PRIMARY KEY,
             value TEXT NOT NULL,
             name TEXT
-        );&quot;&quot;&quot;)
-    cursor.execute(&quot;&quot;&quot;
+        );&quot;&quot;&quot;
+    )
+    cursor.execute(
+        &quot;&quot;&quot;
         CREATE TABLE IF NOT EXISTS contract_data (
             address VARCHAR[42] NOT NULL,
             chain_id INTEGER NOT NULL,
</code></pre>
<p><a href='https://github.com/rotki/rotki/blob/311e772caeb0bcb564db82a553ecc2c9c196094e/rotkehlchen/globaldb/upgrades/v3_v4.py#L123'>rotkehlchen/globaldb/upgrades/v3_v4.py~L123</a></p>
<pre><code class="language-diff">             deployed_block INTEGER,
             FOREIGN KEY(abi) REFERENCES contract_abi(id) ON UPDATE CASCADE ON DELETE SET NULL,
             PRIMARY KEY(address, chain_id)
-        );&quot;&quot;&quot;)
+        );&quot;&quot;&quot;
+    )
 
     log.debug(&quot;Exit _create_new_tables&quot;)
 
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/scikit-build/scikit-build">scikit-build/scikit-build</a> (+4 -2 lines across 1 file)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/scikit-build/scikit-build/blob/59492c19ba35922fa612cf447414f38a2aa0a93e/skbuild/platform_specifics/abstract.py#L170'>skbuild/platform_specifics/abstract.py~L170</a></p>
<pre><code class="language-diff">         if working_generator is None:
             line = &quot;*&quot; * 80
             installation_help = self.generator_installation_help
-            msg = textwrap.dedent(f&quot;&quot;&quot;\
+            msg = textwrap.dedent(
+                f&quot;&quot;&quot;\
                 {line}
                 scikit-build could not get a working generator for your system. Aborting build.
 
                 {installation_help}
 
-                {line}&quot;&quot;&quot;)
+                {line}&quot;&quot;&quot;
+            )
             raise SKBuildGeneratorNotFoundError(msg)
 
         if cleanup:
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/sphinx-doc/sphinx">sphinx-doc/sphinx</a> (+4 -2 lines across 1 file)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/sphinx-doc/sphinx/blob/35965903177c6ed9a6afb62ccd33243a746a3fc0/sphinx/ext/apidoc.py#L344'>sphinx/ext/apidoc.py~L344</a></p>
<pre><code class="language-diff">     parser = argparse.ArgumentParser(
         usage=&quot;%(prog)s [OPTIONS] -o &lt;OUTPUT_PATH&gt; &lt;MODULE_PATH&gt; &quot; &quot;[EXCLUDE_PATTERN, ...]&quot;,
         epilog=__(&quot;For more information, visit &lt;https://www.sphinx-doc.org/&gt;.&quot;),
-        description=__(&quot;&quot;&quot;
+        description=__(
+            &quot;&quot;&quot;
 Look recursively in &lt;MODULE_PATH&gt; for Python modules and packages and create
 one reST file with automodule directives per package in the &lt;OUTPUT_PATH&gt;.
 
 The &lt;EXCLUDE_PATTERN&gt;s can be file and/or directory patterns that will be
 excluded from generation.
 
-Note: By default this script will not overwrite already created files.&quot;&quot;&quot;),
+Note: By default this script will not overwrite already created files.&quot;&quot;&quot;
+        ),
     )
 
     parser.add_argument(
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/zulip/zulip">zulip/zulip</a> (+16 -8 lines across 2 files)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

<p><a href='https://github.com/zulip/zulip/blob/3fde4f977d0f91dc85eb98ae71fb9536d3184fa6/zerver/lib/export.py#L525'>zerver/lib/export.py~L525</a></p>
<pre><code class="language-diff"> 
         if self.id_source is not None:
             if self.virtual_parent is None:
-                raise AssertionError(&quot;&quot;&quot;
+                raise AssertionError(
+                    &quot;&quot;&quot;
                     You must specify a virtual_parent if you are
-                    using id_source.&quot;&quot;&quot;)
+                    using id_source.&quot;&quot;&quot;
+                )
             if self.id_source[0] != self.virtual_parent.table:
-                raise AssertionError(f&quot;&quot;&quot;
+                raise AssertionError(
+                    f&quot;&quot;&quot;
                     Configuration error.  To populate {self.table}, you
                     want data from {self.id_source[0]}, but that differs from
                     the table name of your virtual parent ({self.virtual_parent.table}),
                     which suggests you many not have set up
                     the ordering correctly.  You may simply
                     need to assign a virtual_parent, or there
-                    may be deeper issues going on.&quot;&quot;&quot;)
+                    may be deeper issues going on.&quot;&quot;&quot;
+                )
 
 
 def export_from_config(
</code></pre>
<p><a href='https://github.com/zulip/zulip/blob/3fde4f977d0f91dc85eb98ae71fb9536d3184fa6/zerver/lib/test_classes.py#L1282'>zerver/lib/test_classes.py~L1282</a></p>
<pre><code class="language-diff">             for index, query in enumerate(queries):
                 print(f&quot;#{index + 1}\nsql: {query.sql}\ntime: {query.time}\n&quot;)
             print(f&quot;expected count: {count}\nactual count: {actual_count}&quot;)
-            raise AssertionError(f&quot;&quot;&quot;
+            raise AssertionError(
+                f&quot;&quot;&quot;
     {count} queries expected, got {actual_count}.
     This is a performance-critical code path, where we check
     the number of database queries used in order to avoid accidental regressions.
     If an unnecessary query was removed or the new query is necessary, you should
     update this test, and explain what queries we added/removed in the pull request
-    and why any new queries can't be avoided.&quot;&quot;&quot;)
+    and why any new queries can't be avoided.&quot;&quot;&quot;
+            )
 
     def assert_json_error_contains(
         self, result: &quot;TestHttpResponse&quot;, msg_substring: str, status_code: int = 400
</code></pre>
<p><a href='https://github.com/zulip/zulip/blob/3fde4f977d0f91dc85eb98ae71fb9536d3184fa6/zerver/lib/test_classes.py#L1377'>zerver/lib/test_classes.py~L1377</a></p>
<pre><code class="language-diff">                 can_remove_subscribers_group=administrators_user_group,
             )
         except IntegrityError:  # nocoverage -- this is for bugs in the tests
-            raise Exception(f&quot;&quot;&quot;
+            raise Exception(
+                f&quot;&quot;&quot;
                 {stream_name} already exists
 
                 Please call make_stream with a stream name
-                that is not already in use.&quot;&quot;&quot;)
+                that is not already in use.&quot;&quot;&quot;
+            )
 
         recipient = Recipient.objects.create(type_id=stream.id, type=Recipient.STREAM)
         stream.recipient = recipient
</code></pre>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @MichaReiser on 2024-01-08 17:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-08 17:03</div>
            <div class="timeline-body"><p>I plan to make changes to this implementation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-09 10:54</div>
            <div class="timeline-body"><p>The stable style formatting changes now match Black's stable formatting. We can consider it a bugfix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_formatter/src/printer/mod.rs</code>:1502 on 2024-01-09 10:55</div>
            <div class="timeline-body"><p>This is a bug fix in the printer. So far, it always returned <code>Fits::Yes</code> if a text contained a newline character regardless if the text before the newline exceeded the line width. This was incorrect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-01-09 10:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @MichaReiser on 2024-01-09 11:04</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @MichaReiser on 2024-01-09 11:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-10 06:49</div>
            <div class="timeline-body"><p>@charliermarsh or @konstin I changed the implementation quiet significantly. It would be great to get a second review.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2024-01-10 10:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2024-01-10 11:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-01-10 11:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-01-10 11:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/T-256">@T-256</a> on 2024-01-10 12:24</div>
            <div class="timeline-body"><p>cc @zanieb
Are diffs now show correct before/after? I think they are reversed.
I checked source links of diffs, and it seems what it shows as added lines, already exist at source.</p>
<blockquote>
<h3>Formatter (stable)</h3>
<p>ℹ️ ecosystem check <strong>detected format changes</strong>. (+5 -6 lines in 2 files in 2 projects; 41 projects unchanged)</p>
<p><a href="https://github.com/demisto/content">demisto/content</a> (+2 -5 lines across 1 file)
ruff format --no-preview --exclude Packs/ThreatQ/Integrations/ThreatQ/ThreatQ.py
<a href="https://github.com/demisto/content/blob/33a4829031d36f83595165e9f2beb8376c8a98e0/Packs/IntegrationsAndIncidentsHealthCheck/Scripts/GetFailedTasks/GetFailedTasks.py#L107">Packs/IntegrationsAndIncidentsHealthCheck/Scripts/GetFailedTasks/GetFailedTasks.py~L107</a></p>
<pre><code class="language-diff">     )
 
     if is_error(response):
-        error = (
-            f'Failed retrieving tasks for incident ID {incident[&quot;id&quot;]}.\n \
+        error = f'Failed retrieving tasks for incident ID {incident[&quot;id&quot;]}.\n \
            Make sure that the API key configured in the Core REST API integration \
-is one with sufficient permissions to access that incident.\n'
-            + get_error(response)
-        )
+is one with sufficient permissions to access that incident.\n' + get_error(response)
         raise Exception(error)
 
     return response[0][&quot;Contents&quot;][&quot;response&quot;]
</code></pre>
<p><a href="https://github.com/reflex-dev/reflex">reflex-dev/reflex</a> (+3 -1 lines across 1 file)
<a href="https://github.com/reflex-dev/reflex/blob/7cec7feb63af7c489474c18894ce3ca262f69103/reflex/components/markdown/markdown.py#L259">reflex/components/markdown/markdown.py~L259</a></p>
<pre><code class="language-diff">         }
 
         # Separate out inline code and code blocks.
-        components[&quot;code&quot;] = f&quot;&quot;&quot;{{({{node, inline, className, {_CHILDREN._var_name}, {_PROPS._var_name}}}) =&gt; {{
+        components[
+            &quot;code&quot;
+        ] = f&quot;&quot;&quot;{{({{node, inline, className, {_CHILDREN._var_name}, {_PROPS._var_name}}}) =&gt; {{
     const match = (className || '').match(/language-(?&lt;lang&gt;.*)/);
     const language = match ? match[1] : '';
     if (language) {{
</code></pre>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-01-10 12:37</div>
            <div class="timeline-body"><p>@T-256 The diff shows that the old version (main) used to parenthesize <code>f'Failed...</code> and the new version (this PR) removes the parentheses around it.</p>
<p>The diff isn't showing the difference to the commit version in Git because some projects in our ecosystem check may not use Ruff formatter.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 22:57:56 UTC
    </footer>
</body>
</html>
