<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>add: MkDocs GitHub Pages - astral-sh/ruff #2244</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>add: MkDocs GitHub Pages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/2244">#2244</a>
        opened by <a href="https://github.com/juftin">@juftin</a>
        on 2023-01-27 07:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/juftin">@juftin</a></div>
            <div class="timeline-body">Summary
<p>Addresses: <a href="https://github.com/charliermarsh/ruff/issues/1398">charliermarsh/ruff#1398</a></p>
<p>I saw you mentioned mdBook in the above issue - MkDocs is a strong markdown based static site that could work in the meantime before nicer solutions get built with mdBooks.</p>
<p>This PR adds a <a href="https://www.mkdocs.org/">mkdocs</a> site with the <a href="https://squidfunk.github.io/mkdocs-material/">mkdocs-material</a> theme. I think it does a good job of making the <code>README</code> easier to digest - and will work nicely when/if the docs are split up too.</p>
<p>Once implemented you&#x27;re ready to host a free site at https://charliermarsh.github.io/ruff</p>
<img alt="image" src="https://user-images.githubusercontent.com/49741340/215032095-24c561b3-49d8-4eb0-8b1d-022840c7d5c8.png">

<p>Let me know what you think, and if you&#x27;re interested - I&#x27;m happy to help customize and improve the docs as well. Here&#x27;s the site temporarily hosted from my fork: https://juftin.com/ruff/</p>
Implementation
CI/CD
<p><code>mkdocs</code> GitHub Actions Workflow copies <code>README.md</code> to <code>docs/index.md</code>, commits any changes to the <code>main</code> branch. Finally it uses <code>mkdocs</code> to publish the static HTML site to the <code>gh-pages</code> branch.</p>
Running Locally
<pre><code>pipx install mkdocs
pipx inject mkdocs mkdocs-material
mkdocs serve --livereload
</code></pre>
Changes Needed
GH Pages
<p>You may need to activate GitHub Pages to source from the <code>gh-pages</code> branch here: https://github.com/charliermarsh/ruff/settings/pages</p>
<img alt="image" src="https://user-images.githubusercontent.com/49741340/215031832-ce901e3a-0f4a-425b-9ae4-57c519138787.png">

Personal Access Token
<p>You&#x27;ll need to add a Personal Access Token as a GitHub secret for this to commit changes to the main branch since it&#x27;s protected - I&#x27;m referencing the <code>PERSONAL_ACCESS_TOKEN</code> secret name.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2023-01-27 09:47</div>
            <div class="timeline-body"><p>Iâ€˜d recommend build and host on Netlify instead, gh-pages will make <code>git clone</code> size grow much larger in the long run.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jackenmen">@Jackenmen</a> on 2023-01-27 10:10</div>
            <div class="timeline-body"><p>GitHub pages can be deployed using GH Actions without having to keep a dedicated branch:
https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site#publishing-with-a-custom-github-actions-workflow</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/messense">@messense</a> on 2023-01-27 11:36</div>
            <div class="timeline-body"><blockquote>
<p>GitHub pages can be deployed using GH Actions without having to keep a dedicated branch:
https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site#publishing-with-a-custom-github-actions-workflow</p>
</blockquote>
<p>Great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-27 12:40</div>
            <div class="timeline-body"><p>Thanks so much for this! It&#x27;s so cool to see.</p>
<p>Let me think a bit on (1) MkDocs vs. mdBook, and (2) deployment / hosting, prior to merging this. It&#x27;s hard to roll back a public site / artifact, so I want to ensure I&#x27;ve given all the tradeoffs sufficient thought.</p>
<p>On (2): we already host the playground at <a href="https://play.ruff.rs/">https://play.ruff.rs/</a> on Cloudflare Pages, so I&#x27;ll likely tweak this setup to use Pages too for simplicity with DNS and such. But that&#x27;s easy for me to change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-27 12:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/juftin">@juftin</a> on 2023-01-27 16:06</div>
            <div class="timeline-body"><p>Sounds great - the nice thing about MkDocs is that it was extremely low effort to set up. If you decide to go with it, great. If not, no worries. Excited to see the future of docs @ ruff!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-28 03:58</div>
            <div class="timeline-body"><p>I had to make some follow-up changes to this, but it just merged as #2287. I would&#x27;ve pushed here, but didn&#x27;t have edit rights -- sorry to create a separate PR, but hopefully you&#x27;re credited as the author in Git since I preserved you in the co-commit. Really appreciate you pushing us here!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-28 03:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:51:59 UTC
    </footer>
</body>
</html>
