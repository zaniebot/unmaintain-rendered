<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Improve disambiguation of types - astral-sh/ruff #22547</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Improve disambiguation of types</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22547">#22547</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2026-01-13 12:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a></div>
            <div class="timeline-body">Summary
<p>This PR improves some details around our disambiguation of types in diagnostics.</p>
<hr>
<p>Firstly, in cases where the fully qualified class name is not enough to disambiguate two types, we now provide the column number as well as the filename and line number. Most of the time, two classes aren&#x27;t defined on the same line... but once <a href="https://github.com/astral-sh/ruff/pull/22537">astral-sh/ruff#22537</a> lands, that will no longer be true. In this snippet, there are two distinct classes named <code>Url</code> which are different types, but which have exactly the same qualified name, defining file, and line number:</p>
<pre><code>from collections import namedtuple

class Url(namedtuple(&quot;Url&quot;, &quot;host str&quot;)): ...
</code></pre>
<p>The only way to distinguish these two classes in diagnostics, etc., is by using the column number where the class definition starts (column 11 for the inner, inline, <code>Url</code> class definition created by the <code>namedtuple</code> call; column 1 for the outer <code>Url</code> class created by the <code>class</code> statement).</p>
<hr>
<p>Secondly, we now use fully qualified names etc. to disambiguate classes in <code>reveal_mro</code> calls when necessary. This is an internal-only change, but it&#x27;ll be useful for testing purposes in #22327.</p>
Test Plan
<p>Mdtests updated</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 12:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2026-01-13 12:44</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2026-01-13 12:45</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>attrs (https://github.com/python-attrs/attrs)
- tests/test_annotations.py:644:13: error[invalid-assignment] Object of type `&lt;class &#x27;tests.test_annotations.TestAnnotations.&lt;locals of function &#x27;test_init_type_hints_fake_module&#x27;&gt;.C @ tests/test_annotations.py:640&#x27;&gt;` is not assignable to `&lt;class &#x27;tests.test_annotations.TestAnnotations.&lt;locals of function &#x27;test_init_type_hints_fake_module&#x27;&gt;.C @ tests/test_annotations.py:640&#x27;&gt;`
+ tests/test_annotations.py:644:13: error[invalid-assignment] Object of type `&lt;class &#x27;tests.test_annotations.TestAnnotations.&lt;locals of function &#x27;test_init_type_hints_fake_module&#x27;&gt;.C @ tests/test_annotations.py:640:15&#x27;&gt;` is not assignable to `&lt;class &#x27;tests.test_annotations.TestAnnotations.&lt;locals of function &#x27;test_init_type_hints_fake_module&#x27;&gt;.C @ tests/test_annotations.py:640:15&#x27;&gt;`
- tests/test_make.py:620:13: error[invalid-assignment] Object of type `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_adds_all_by_default&#x27;&gt;.C @ tests/test_make.py:615&#x27;&gt;` is not assignable to `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_adds_all_by_default&#x27;&gt;.C @ tests/test_make.py:615&#x27;&gt;`
+ tests/test_make.py:620:13: error[invalid-assignment] Object of type `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_adds_all_by_default&#x27;&gt;.C @ tests/test_make.py:615:15&#x27;&gt;` is not assignable to `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_adds_all_by_default&#x27;&gt;.C @ tests/test_make.py:615:15&#x27;&gt;`
- tests/test_make.py:675:13: error[invalid-assignment] Object of type `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_respects_init_attrs_init&#x27;&gt;.C @ tests/test_make.py:672&#x27;&gt;` is not assignable to `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_respects_init_attrs_init&#x27;&gt;.C @ tests/test_make.py:672&#x27;&gt;`
+ tests/test_make.py:675:13: error[invalid-assignment] Object of type `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_respects_init_attrs_init&#x27;&gt;.C @ tests/test_make.py:672:15&#x27;&gt;` is not assignable to `&lt;class &#x27;tests.test_make.TestAttributes.&lt;locals of function &#x27;test_respects_init_attrs_init&#x27;&gt;.C @ tests/test_make.py:672:15&#x27;&gt;`
- tests/test_make.py:2872:17: error[invalid-assignment] Object of type `type[tests.test_make.TestAutoDetect.&lt;locals of function &#x27;test_total_ordering&#x27;&gt;.C @ tests/test_make.py:2858] | type[tests.test_make.TestAutoDetect.&lt;locals of function &#x27;test_total_ordering&#x27;&gt;.C @ tests/test_make.py:2858]` is not assignable to `&lt;class &#x27;tests.test_make.TestAutoDetect.&lt;locals of function &#x27;test_total_ordering&#x27;&gt;.C @ tests/test_make.py:2858&#x27;&gt;`
+ tests/test_make.py:2872:17: error[invalid-assignment] Object of type `type[tests.test_make.TestAutoDetect.&lt;locals of function &#x27;test_total_ordering&#x27;&gt;.C @ tests/test_make.py:2858:15] | type[tests.test_make.TestAutoDetect.&lt;locals of function &#x27;test_total_ordering&#x27;&gt;.C @ tests/test_make.py:2858:15]` is not assignable to `&lt;class &#x27;tests.test_make.TestAutoDetect.&lt;locals of function &#x27;test_total_ordering&#x27;&gt;.C @ tests/test_make.py:2858:15&#x27;&gt;`
- tests/test_slots.py:217:10: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`
+ tests/test_slots.py:217:10: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`
- tests/test_slots.py:224:17: error[invalid-argument-type] Argument to bound method `method` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`
+ tests/test_slots.py:224:17: error[invalid-argument-type] Argument to bound method `method` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`
- tests/test_slots.py:225:27: error[invalid-argument-type] Argument to bound method `classmethod` is incorrect: Expected `type[tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193]`, found `type[tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193]`
+ tests/test_slots.py:225:27: error[invalid-argument-type] Argument to bound method `classmethod` is incorrect: Expected `type[tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11]`, found `type[tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11]`
- tests/test_slots.py:230:10: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`
+ tests/test_slots.py:230:10: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`
- tests/test_slots.py:232:11: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193`
+ tests/test_slots.py:232:11: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`, found `tests.test_slots.&lt;locals of function &#x27;test_nonslots_these&#x27;&gt;.SimpleOrdinaryClass @ tests/test_slots.py:193:11`

pandera (https://github.com/pandera-dev/pandera)
- pandera/engines/numpy_engine.py:276:15: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;pandera.engines.numpy_engine.Float64 @ pandera/engines/numpy_engine.py:261&#x27;&gt; | &lt;class &#x27;pandera.engines.numpy_engine.Float64 @ pandera/engines/numpy_engine.py:269&#x27;&gt;`
+ pandera/engines/numpy_engine.py:276:15: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;pandera.engines.numpy_engine.Float64 @ pandera/engines/numpy_engine.py:261:11&#x27;&gt; | &lt;class &#x27;pandera.engines.numpy_engine.Float64 @ pandera/engines/numpy_engine.py:269:11&#x27;&gt;`
- pandera/engines/numpy_engine.py:325:17: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;pandera.engines.numpy_engine.Complex128 @ pandera/engines/numpy_engine.py:310&#x27;&gt; | &lt;class &#x27;pandera.engines.numpy_engine.Complex128 @ pandera/engines/numpy_engine.py:318&#x27;&gt;`
+ pandera/engines/numpy_engine.py:325:17: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;pandera.engines.numpy_engine.Complex128 @ pandera/engines/numpy_engine.py:310:11&#x27;&gt; | &lt;class &#x27;pandera.engines.numpy_engine.Complex128 @ pandera/engines/numpy_engine.py:318:11&#x27;&gt;`

scikit-build-core (https://github.com/scikit-build/scikit-build-core)
- src/scikit_build_core/build/wheel.py:99:20: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- Found 48 diagnostics
+ Found 47 diagnostics

prefect (https://github.com/PrefectHQ/prefect)
- src/prefect/deployments/runner.py:795:70: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `Unknown | (((...) -&gt; Any) &amp; ((*args: object, **kwargs: object) -&gt; object))`
+ src/prefect/deployments/runner.py:795:70: warning[possibly-missing-attribute] Attribute `__name__` may be missing on object of type `Unknown | ((...) -&gt; Any)`
+ src/prefect/flow_engine.py:812:32: error[invalid-await] `Unknown | R@FlowRunEngine | Coroutine[Any, Any, R@FlowRunEngine]` is not awaitable
+ src/prefect/flow_engine.py:1401:24: error[invalid-await] `Unknown | R@AsyncFlowRunEngine | Coroutine[Any, Any, R@AsyncFlowRunEngine]` is not awaitable
+ src/prefect/flow_engine.py:1482:43: error[invalid-argument-type] Argument to function `next` is incorrect: Expected `SupportsNext[Unknown]`, found `Unknown | R@run_generator_flow_sync`
+ src/prefect/flow_engine.py:1490:21: warning[possibly-missing-attribute] Attribute `throw` may be missing on object of type `Unknown | R@run_generator_flow_sync`
+ src/prefect/flow_engine.py:1524:44: warning[possibly-missing-attribute] Attribute `__anext__` may be missing on object of type `Unknown | R@run_generator_flow_async`
+ src/prefect/flow_engine.py:1531:25: warning[possibly-missing-attribute] Attribute `throw` may be missing on object of type `Unknown | R@run_generator_flow_async`
- src/prefect/flows.py:286:34: error[unresolved-attribute] Object of type `((**P@Flow) -&gt; R@Flow) &amp; ((*args: object, **kwargs: object) -&gt; object)` has no attribute `__name__`
+ src/prefect/flows.py:286:34: error[unresolved-attribute] Object of type `(**P@Flow) -&gt; R@Flow` has no attribute `__name__`
- src/prefect/flows.py:404:68: error[unresolved-attribute] Object of type `((**P@Flow) -&gt; R@Flow) &amp; ((*args: object, **kwargs: object) -&gt; object)` has no attribute `__name__`
+ src/prefect/flows.py:404:68: error[unresolved-attribute] Object of type `(**P@Flow) -&gt; R@Flow` has no attribute `__name__`
- src/prefect/flows.py:1750:53: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 5363 diagnostics
+ Found 5368 diagnostics

dd-trace-py (https://github.com/DataDog/dd-trace-py)
- ddtrace/contrib/internal/tornado/stack_context.py:77:24: error[invalid-super-argument] `&lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:17&#x27;&gt; | &lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:129&#x27;&gt;` is not a valid class
+ ddtrace/contrib/internal/tornado/stack_context.py:77:24: error[invalid-super-argument] `&lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:17:11&#x27;&gt; | &lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:129:11&#x27;&gt;` is not a valid class
- ddtrace/contrib/internal/tornado/stack_context.py:104:24: error[invalid-super-argument] `&lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:17&#x27;&gt; | &lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:129&#x27;&gt;` is not a valid class
+ ddtrace/contrib/internal/tornado/stack_context.py:104:24: error[invalid-super-argument] `&lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:17:11&#x27;&gt; | &lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:129:11&#x27;&gt;` is not a valid class
- ddtrace/contrib/internal/tornado/stack_context.py:119:17: error[invalid-super-argument] `&lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:17&#x27;&gt; | &lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:129&#x27;&gt;` is not a valid class
+ ddtrace/contrib/internal/tornado/stack_context.py:119:17: error[invalid-super-argument] `&lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:17:11&#x27;&gt; | &lt;class &#x27;ddtrace.contrib.internal.tornado.stack_context.TracerStackContext @ ddtrace/contrib/internal/tornado/stack_context.py:129:11&#x27;&gt;` is not a valid class

ibis (https://github.com/ibis-project/ibis)
- ibis/expr/types/generic.py:1572:21: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:24&#x27;&gt; | &lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:28&#x27;&gt;`
+ ibis/expr/types/generic.py:1572:21: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:24:11&#x27;&gt; | &lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:28:11&#x27;&gt;`
- ibis/expr/types/relations.py:517:19: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:24&#x27;&gt; | &lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:28&#x27;&gt;`
+ ibis/expr/types/relations.py:517:19: warning[unsupported-base] Unsupported class base with type `&lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:24:11&#x27;&gt; | &lt;class &#x27;ibis.expr.types.rich.FixedTextJupyterMixin @ ibis/expr/types/rich.py:28:11&#x27;&gt;`

bokeh (https://github.com/bokeh/bokeh)
- src/bokeh/model/model.py:496:16: error[invalid-return-type] Return type does not match returned value: expected `set[bokeh.model.model.Model @ src/bokeh/model/model.py:79]`, found `set[bokeh.model.model.Model @ src/bokeh/model/model.py:79 | bokeh.model.model.Model @ src/bokeh/model/model.pyi:40]`
+ src/bokeh/model/model.py:496:16: error[invalid-return-type] Return type does not match returned value: expected `set[bokeh.model.model.Model @ src/bokeh/model/model.py:79:7]`, found `set[bokeh.model.model.Model @ src/bokeh/model/model.py:79:7 | bokeh.model.model.Model @ src/bokeh/model/model.pyi:40:7]`
- src/bokeh/model/model.py:510:16: error[invalid-return-type] Return type does not match returned value: expected `Iterable[bokeh.model.model.Model @ src/bokeh/model/model.py:79]`, found `Iterable[bokeh.model.model.Model @ src/bokeh/model/model.pyi:40]`
+ src/bokeh/model/model.py:510:16: error[invalid-return-type] Return type does not match returned value: expected `Iterable[bokeh.model.model.Model @ src/bokeh/model/model.py:79:7]`, found `Iterable[bokeh.model.model.Model @ src/bokeh/model/model.pyi:40:7]`
- src/bokeh/model/model.py:510:21: error[invalid-argument-type] Argument to function `find` is incorrect: Expected `Iterable[bokeh.model.model.Model @ src/bokeh/model/model.pyi:40]`, found `set[bokeh.model.model.Model @ src/bokeh/model/model.py:79]`
+ src/bokeh/model/model.py:510:21: error[invalid-argument-type] Argument to function `find` is incorrect: Expected `Iterable[bokeh.model.model.Model @ src/bokeh/model/model.pyi:40:7]`, found `set[bokeh.model.model.Model @ src/bokeh/model/model.py:79:7]`

static-frame (https://github.com/static-frame/static-frame)
- static_frame/core/index.py:580:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[TVContainer_co@loc, TVDtype@Index]`, found `InterGetItemLocReduces[Bottom[Series[Any, Any]] | Any, TVDtype@Index]`
+ static_frame/core/index.py:580:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[TVContainer_co@loc, TVDtype@Index]`, found `InterGetItemLocReduces[Any | Bottom[Series[Any, Any]], TVDtype@Index]`
- static_frame/core/node_selector.py:526:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[TVContainer_co@InterfaceSelectQuartet, Any]`, found `InterGetItemLocReduces[Unknown | Bottom[Series[Any, Any]], Any]`
+ static_frame/core/node_selector.py:526:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[TVContainer_co@InterfaceSelectQuartet, Any]`, found `InterGetItemLocReduces[Bottom[Series[Any, Any]] | Unknown, Any]`
- static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Yarn[Any] | Bottom[Index[Any]] | TypeBlocks | ... omitted 6 union elements, object_]`
+ static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Yarn[Any] | ndarray[Never, Never] | TypeBlocks | ... omitted 6 union elements, object_]`

sympy (https://github.com/sympy/sympy)
- sympy/core/tests/test_function.py:145:31: error[unresolved-attribute] Object of type `sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:138 | sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:147 | sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:156` has no attribute `nargs`
+ sympy/core/tests/test_function.py:145:31: error[unresolved-attribute] Object of type `sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:138:11 | sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:147:11 | sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:156:11` has no attribute `nargs`
- sympy/core/tests/test_function.py:154:31: error[unresolved-attribute] Object of type `sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:147 | sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:156` has no attribute `nargs`
+ sympy/core/tests/test_function.py:154:31: error[unresolved-attribute] Object of type `sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:147:11 | sympy.core.tests.test_function.&lt;locals of function &#x27;test_Function&#x27;&gt;.myfunc @ sympy/core/tests/test_function.py:156:11` has no attribute `nargs`
- sympy/parsing/c/c_parser.py:1056:15: warning[possibly-missing-attribute] Attribute `parse` may be missing on object of type `sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:85 | sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:1036`
+ sympy/parsing/c/c_parser.py:1056:15: warning[possibly-missing-attribute] Attribute `parse` may be missing on object of type `sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:85:11 | sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:1036:11`
- sympy/parsing/c/c_parser.py:1058:15: warning[possibly-missing-attribute] Attribute `parse_str` may be missing on object of type `sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:85 | sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:1036`
+ sympy/parsing/c/c_parser.py:1058:15: warning[possibly-missing-attribute] Attribute `parse_str` may be missing on object of type `sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:85:11 | sympy.parsing.c.c_parser.CCodeConverter @ sympy/parsing/c/c_parser.py:1036:11`
- sympy/parsing/fortran/fortran_parser.py:323:5: warning[possibly-missing-attribute] Attribute `visit` may be missing on object of type `sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:58 | sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:298`
+ sympy/parsing/fortran/fortran_parser.py:323:5: warning[possibly-missing-attribute] Attribute `visit` may be missing on object of type `sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:58:11 | sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:298:11`
- sympy/parsing/fortran/fortran_parser.py:324:15: warning[possibly-missing-attribute] Attribute `ret_ast` may be missing on object of type `sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:58 | sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:298`
+ sympy/parsing/fortran/fortran_parser.py:324:15: warning[possibly-missing-attribute] Attribute `ret_ast` may be missing on object of type `sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:58:11 | sympy.parsing.fortran.fortran_parser.ASR2PyVisitor @ sympy/parsing/fortran/fortran_parser.py:298:11`

pandas-stubs (https://github.com/pandas-dev/pandas-stubs)
+ pandas-stubs/_typing.pyi:1232:16: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/frame/test_groupby.py:229:15: error[type-assertion-failure] Type `Series[Any]` does not match asserted type `Series[str | bytes | int | ... omitted 12 union elements]`
- tests/frame/test_groupby.py:625:15: error[type-assertion-failure] Type `Series[Any]` does not match asserted type `Series[str | bytes | int | ... omitted 12 union elements]`
- Found 5169 diagnostics
+ Found 5168 diagnostics

core (https://github.com/home-assistant/core)
+ homeassistant/util/variance.py:47:12: error[invalid-return-type] Return type does not match returned value: expected `(**_P@ignore_variance) -&gt; _R@ignore_variance`, found `_Wrapped[_P@ignore_variance, _R@ignore_variance | int | float | datetime, _P@ignore_variance, _R@ignore_variance | int | float | datetime]`
- Found 14499 diagnostics
+ Found 14500 diagnostics


</code></pre>


<p>No memory usage changes detected ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 12:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2026-01-13 14:54</div>
            <div class="timeline-body"><p>This makes sense to me, thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2026-01-13 14:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:22:58 UTC
    </footer>
</body>
</html>
