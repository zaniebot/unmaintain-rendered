<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Inlay hint auto import - astral-sh/ruff #22111</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Inlay hint auto import</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22111">#22111</a>
        opened by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a>
        on 2025-12-20 13:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a></div>
            <div class="timeline-body">

Summary
<p>This PR implements the auto importing for unimported symbols introduced when &quot;applying&quot; an inlay hint.</p>
<p><a href="https://github.com/user-attachments/assets/9a719c29-9f5c-42fd-8dd6-51b43cd7e2a1">Screencast_20251222_120138.webm</a></p>
<p>There are several things to consider here.</p>
<p>We have all of the information about the symbols we need to import,
from the type display details.
So we need to get the definition of the type and attempt to import that.
Also from the type display details, we get the name of the symbol that is
displayed in the inlay hint, this is useful for the following reason.
If we have an inlay hint that contains the same symbol name twice, but
from different symbols, bar.A and baz.A. the label we see in the inlay
hint will be exactly <code>bar.A</code> and <code>baz.A</code>. From this we know that we should
not try to add imports statement <code>from bar import A</code> and <code>from baz import A</code>,
because these will conflict. I believe this is all of the information we can
get that can tell us if we should &quot;qualify&quot; a symbol (bar.A or A).</p>
<p>So, we check if the label (like &quot;bar.A&quot;) contains &quot;.&quot;, this could possibly
be improved. If it does we force a &quot;import &quot; statement via:</p>
<pre><code>ImportRequest::import(module_name, definition_name).force()
</code></pre>
<p>Otherwise, we try to add a &quot;from  import &quot; statement via:</p>
<pre><code>ImportRequest::import_from(module_name, definition_name)
</code></pre>
<p>We don&#x27;t force here since it is okay if we still end up adding a
&quot;import &quot; statement and we qualify the name via
&quot;import_action.symbol_text()&quot;.</p>
<pre><code>let qualified_name = |import_action: &amp;ImportAction| {
    if import_action.import().is_some() {
        return None;
    }

    let symbol_text = import_action.symbol_text();

    Some(symbol_text.to_string())
};
</code></pre>
<p>We also do not consider the symbol being a module. I think this is fine.</p>
<p>Because we store these new imports, and the importer cant work with dynamiclly imported members, we can get two from imports from the same module with two different import statements, like the following.</p>
<pre><code>from ty_extensions import Top
from ty_extensions import Unknown

def f(xyxy: object):
    if isinstance(xyxy, list):
        x: Top[list[Unknown]] = xyxy
</code></pre>
Current Issues
<p>I have seen issues with Literal (we don&#x27;t find the right symbol to import) and None (we import NoneType)</p>
Test Plan
<p>Update several ty_ide tests and added some more.</p>
<p>I think i will need to add even more.</p>
Performance Test
<pre><code>import foo

a = foo.C().foo() # 75x
</code></pre>
<pre><code>class D[T, U, V]: ...
</code></pre>
<pre><code>from typing import Literal
from bar import D
import bar

import pydantic
import numpy as np
import sqlmodel


class A[T]: ...

class B[T]: ...

class C:
    def foo(self) -&gt; B[A[bar.D[np.typing.NDArray, list[sqlmodel.SQLModel | A[B[list[int]]]], pydantic.BaseModel]]]:
        raise NotImplementedError
</code></pre>
<p>In main.py, we get the following results.</p>
Before
<pre><code>Inlay hint request returned 75 hints in 23.881372ms
Inlay hint request returned 75 hints in 22.479724ms
Inlay hint request returned 75 hints in 25.541434ms
Inlay hint request returned 75 hints in 23.30347ms
Inlay hint request returned 75 hints in 23.291729ms
</code></pre>
After
<pre><code>Inlay hint request returned 75 hints in 38.310759ms
Inlay hint request returned 75 hints in 47.835834ms
Inlay hint request returned 75 hints in 36.666961ms
Inlay hint request returned 75 hints in 36.459227ms
Inlay hint request returned 75 hints in 56.092519ms
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-20 13:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:7518 on 2025-12-20 13:36</div>
            <div class="timeline-body"><p>Adding this statement is wrong, and I&#x27;m not yet sure why</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-20 13:37</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-20 13:38</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>pydantic (https://github.com/pydantic/pydantic)
- pydantic/fields.py:943:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:943:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:983:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:983:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:1026:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:1026:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:1066:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:1066:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:1109:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:1109:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:1148:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:1148:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:1188:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`
+ pydantic/fields.py:1188:5: error[invalid-parameter-default] Default value of type `PydanticUndefinedType` is not assignable to annotated parameter type `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`
- pydantic/fields.py:1567:13: error[invalid-argument-type] Argument is incorrect: Expected `dict[str, int | float | str | ... omitted 3 union elements] | ((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) | None`, found `Top[dict[Unknown, Unknown]] | (((dict[str, int | float | str | ... omitted 3 union elements], /) -&gt; None) &amp; ~Top[dict[Unknown, Unknown]]) | None`
+ pydantic/fields.py:1567:13: error[invalid-argument-type] Argument is incorrect: Expected `dict[str, Divergent] | ((dict[str, Divergent], /) -&gt; None) | None`, found `Top[dict[Unknown, Unknown]] | (((dict[str, Divergent], /) -&gt; None) &amp; ~Top[dict[Unknown, Unknown]]) | None`

scikit-build-core (https://github.com/scikit-build/scikit-build-core)
+ src/scikit_build_core/build/wheel.py:99:20: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- Found 47 diagnostics
+ Found 48 diagnostics

static-frame (https://github.com/static-frame/static-frame)
- static_frame/core/index.py:580:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[TVContainer_co@loc, TVDtype@Index]`, found `InterGetItemLocReduces[Bottom[Series[Any, Any]] | Any, TVDtype@Index]`
+ static_frame/core/index.py:580:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[TVContainer_co@loc, TVDtype@Index]`, found `InterGetItemLocReduces[Any | Bottom[Series[Any, Any]], TVDtype@Index]`
- static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Yarn[Any] | ndarray[Never, Never] | TypeBlocks | ... omitted 6 union elements, object_]`
+ static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Yarn[Any] | Bottom[Index[Any]] | TypeBlocks | ... omitted 6 union elements, object_]`

pandas-stubs (https://github.com/pandas-dev/pandas-stubs)
+ pandas-stubs/_typing.pyi:1232:16: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 5169 diagnostics
+ Found 5170 diagnostics


</code></pre>


<p>No memory usage changes detected ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-20 13:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-20 13:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Inlay hint auto import&quot; to &quot;[ty] Inlay hint auto import&quot; by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 13:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-20 14:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:7618 on 2025-12-20 14:15</div>
            <div class="timeline-body"><p>Having an issue here. We are not importing <code>Literal</code> here.</p>
<p>With some printlns we get see that &lt;special-form &#x27;typing.Literal&#x27;&gt; is resolving to a definition but we can&#x27;t find a name for it.</p>
<p>Not to mention us trying import <code>str</code>, for the actual literal type.</p>
<pre><code>details.label = &quot;Any | Literal[\&quot;some\&quot;]&quot;
details.targets = [0..3, 6..13, 14..20]

Type: &lt;special-form &#x27;typing.Literal&#x27;&gt;
qualified_label_part
type_definition = SpecialForm(Definition { [salsa id]: Id(1486) })
definition = Definition { [salsa id]: Id(1486) }
definition_name = None

Type: Literal[&quot;some&quot;]
qualified_label_part
type_definition = Class(Definition { [salsa id]: Id(6135) })
definition = Definition { [salsa id]: Id(6135) }
definition_name = Some(&quot;str&quot;)
importing &quot;str&quot;.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:338 on 2025-12-20 14:16</div>
            <div class="timeline-body"><p>Many tests were broken, because they had multiple inlay hints and the import statements were being put in weird places, happy to remove this, or keep it internal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-20 14:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-20 14:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:7618 on 2025-12-20 14:17</div>
            <div class="timeline-body"><p>Not really sure where to go from here, other than marking literals as invalid syntax, which seems wrong.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-20 14:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:7525 on 2025-12-20 14:25</div>
            <div class="timeline-body"><p>Should this annotation that we insert be the one we show in the inlay hint?</p>
<p>It currently isn&#x27;t, but interested to what what people think</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-20 14:51</div>
            <div class="timeline-body"><p>Would appreciate some initial feedback. thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-21 02:05</div>
            <div class="timeline-body"><p>Already I have seen issues with <code>Literal</code> (we don&#x27;t find the right symbol to import) and <code>None</code> (we import <code>NoneType</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_server/src/session/options.rs</code>:249 on 2025-12-22 10:08</div>
            <div class="timeline-body"><p>Can you say what the use cases are where a user would want to disable auto-import for inlay hints?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:35 on 2025-12-22 10:11</div>
            <div class="timeline-body"><p>The arguments here get a bit out of hand and we might also benefit from caching <code>Stylist::from_tokens</code>. It could make sense to have a <code>InlayHintBuilter</code> or similar that&#x27;s stateful and holds on to <code>db</code>, <code>file</code> (<code>SemanticModel</code>?)<code>, </code>ParsedMOduleRef<code>, </code>allow_auto_import` and possibly more</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:49 on 2025-12-22 10:13</div>
            <div class="timeline-body"><p>It seems unfortunate that we unconditionally create <code>Stylist</code> but only used if <code>should_auto_import</code> is true.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:100 on 2025-12-22 10:16</div>
            <div class="timeline-body"><p>We should use <code>module.known</code> here instead of doing string matching</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:85 on 2025-12-22 10:20</div>
            <div class="timeline-body"><p>Have you looked at what we do in completions to import missing symbols?</p>
<p>https://github.com/astral-sh/ruff/blob/fc8122c87d9e778817cbf24437feb7707ea8afee/crates/ty_ide/src/completion.rs#L1293-L1335</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:338 on 2025-12-22 10:21</div>
            <div class="timeline-body"><p>Why are those issues specific to tests? Wouldn&#x27;t we see the same issues with imports being put in weird places in production?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:53 on 2025-12-22 10:24</div>
            <div class="timeline-body"><p>How much slower do our inlay hints become due to imports? I wonder if it&#x27;s time to switch to lazily computing inlay hints.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-12-22 10:26</div>
            <div class="timeline-body"><p>Thanks for working on this.</p>
<p>I started reviewing this PR but I don&#x27;t feel like I&#x27;ve enough context myself to do it successfully.</p>
<p>Would you mind adding some more details to your summary explaining your approach (and what you looked at)? This would help me avoid some duplicate work</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 11:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:338 on 2025-12-22 11:56</div>
            <div class="timeline-body"><p>I have removed this setting and fixed the tests, I believe we were just applying the text edits wrong in the tests.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 11:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_server/src/session/options.rs</code>:249 on 2025-12-22 11:56</div>
            <div class="timeline-body"><p>Have removed it now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:35 on 2025-12-22 11:57</div>
            <div class="timeline-body"><p>I have added a context as the first argument</p>
<pre><code>struct InlayHintImporterContext&lt;&#x27;a, &#x27;db&gt; {
    db: &amp;&#x27;db dyn Db,
    file: File,
    dynamic_importer: &amp;&#x27;a mut DynamicImporter&lt;&#x27;a, &#x27;db&gt;,
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 11:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 12:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:53 on 2025-12-22 12:05</div>
            <div class="timeline-body"><p>I have not tested this at all yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 12:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:49 on 2025-12-22 12:09</div>
            <div class="timeline-body"><p>I will resolve this because I have moved this out of this function and we only make Stylist once.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-12-22 12:21</div>
            <div class="timeline-body"><p>@MichaReiser thanks!</p>
<p>I have added more content to the PR description.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 12:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:85 on 2025-12-22 12:28</div>
            <div class="timeline-body"><p>Yeah I have.</p>
<p>I took some things from it, but some things are different in that we have less certainty about whether we should qualify the name (i think).</p>
<p>And we want to be sure about whether to &quot;import&quot; of &quot;import from&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-12-22 14:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:53 on 2025-12-22 14:41</div>
            <div class="timeline-body"><p>A small ish test added to the PR description</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/carljm">@carljm</a> removed by <a href="https://github.com/carljm">@carljm</a> on 2025-12-23 01:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/Gankra">@Gankra</a> by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-06 10:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2026-01-09 11:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ty_ide/src/inlay_hints.rs</code>:53 on 2026-01-09 11:17</div>
            <div class="timeline-body"><p>The performance result look concerning to me, considering that the file is very small. It might be worth testing with a larger file, to see how that influences the response times.</p>
<p>I still think that, ideally, we do auto imports in a separte resolve request (where we just maintain enough information in the inlay so that we can resolve the auto import later)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-09 11:22</div>
            <div class="timeline-body"><p>@Gankra you&#x27;ve probably the most context on this PR</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/sharkdp">@sharkdp</a> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-09 11:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/dcreager">@dcreager</a> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-09 11:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/AlexWaygood">@AlexWaygood</a> removed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2026-01-13 13:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:22:01 UTC
    </footer>
</body>
</html>
