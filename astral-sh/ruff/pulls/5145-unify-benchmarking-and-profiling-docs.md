```yaml
number: 5145
title: Unify benchmarking and profiling docs
type: pull_request
state: merged
author: konstin
labels:
  - documentation
  - internal
assignees: []
merged: true
base: main
head: benchmarking_and_profiling_docs
created_at: 2023-06-16T11:38:26Z
updated_at: 2023-06-21T10:07:00Z
url: https://github.com/astral-sh/ruff/pull/5145
synced_at: 2026-01-12T03:43:30Z
```

# Unify benchmarking and profiling docs

---

_Pull request opened by @konstin on 2023-06-16 11:38_

This moves all docs about benchmarking and profiling into CONTRIBUTING.md by moving the readme of `ruff_benchmark` and adding more information on profiling.

We need to somehow consolidate that documentation, but i'm not convinced that this is the best way (i tried subpages in mkdocs, but that didn't seem good either), so i'm happy to take suggestions.


---

_Comment by @konstin on 2023-06-16 11:38_

Current dependencies on/for this PR:
* main
  * **PR #5144** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/5144" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a> 
    * **PR #5145** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/5145" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/5145?utm_source=stack-comment).

---

_Label `internal` added by @konstin on 2023-06-16 11:38_

---

_Comment by @github-actions[bot] on 2023-06-16 12:17_

## PR Check Results
### Ecosystem
âœ… ecosystem check detected no changes.

### Benchmark
#### Linux
```
group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00      6.9Â±0.01ms     5.9 MB/sec    1.01      6.9Â±0.02ms     5.9 MB/sec
formatter/numpy/ctypeslib.py               1.02   1405.4Â±3.27Âµs    11.8 MB/sec    1.00   1379.7Â±1.94Âµs    12.1 MB/sec
formatter/numpy/globals.py                 1.00    134.2Â±0.24Âµs    22.0 MB/sec    1.00    133.6Â±0.27Âµs    22.1 MB/sec
formatter/pydantic/types.py                1.00      2.8Â±0.00ms     9.1 MB/sec    1.00      2.8Â±0.01ms     9.2 MB/sec
linter/all-rules/large/dataset.py          1.00     13.9Â±0.05ms     2.9 MB/sec    1.01     14.0Â±0.05ms     2.9 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      3.5Â±0.00ms     4.8 MB/sec    1.02      3.5Â±0.01ms     4.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    362.2Â±0.85Âµs     8.1 MB/sec    1.00    363.8Â±1.17Âµs     8.1 MB/sec
linter/all-rules/pydantic/types.py         1.00      6.1Â±0.02ms     4.2 MB/sec    1.01      6.1Â±0.02ms     4.2 MB/sec
linter/default-rules/large/dataset.py      1.00      7.1Â±0.02ms     5.7 MB/sec    1.00      7.1Â±0.02ms     5.7 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00   1473.1Â±4.59Âµs    11.3 MB/sec    1.00   1471.8Â±2.05Âµs    11.3 MB/sec
linter/default-rules/numpy/globals.py      1.00    155.4Â±0.25Âµs    19.0 MB/sec    1.01    156.5Â±0.24Âµs    18.9 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.2Â±0.01ms     8.0 MB/sec    1.00      3.2Â±0.01ms     8.0 MB/sec
```

#### Windows
```
group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00     10.2Â±0.40ms     4.0 MB/sec    1.06     10.8Â±0.41ms     3.8 MB/sec
formatter/numpy/ctypeslib.py               1.00      2.1Â±0.10ms     7.8 MB/sec    1.05      2.2Â±0.16ms     7.5 MB/sec
formatter/numpy/globals.py                 1.00    211.6Â±9.95Âµs    13.9 MB/sec    1.11   234.4Â±26.18Âµs    12.6 MB/sec
formatter/pydantic/types.py                1.00      4.1Â±0.15ms     6.2 MB/sec    1.10      4.5Â±0.28ms     5.7 MB/sec
linter/all-rules/large/dataset.py          1.00     19.3Â±0.54ms     2.1 MB/sec    1.13     21.8Â±0.81ms  1913.7 KB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      5.4Â±0.25ms     3.1 MB/sec    1.06      5.7Â±0.28ms     2.9 MB/sec
linter/all-rules/numpy/globals.py          1.00   655.5Â±40.25Âµs     4.5 MB/sec    1.08  710.9Â±162.15Âµs     4.2 MB/sec
linter/all-rules/pydantic/types.py         1.00      9.0Â±0.33ms     2.8 MB/sec    1.08      9.8Â±0.90ms     2.6 MB/sec
linter/default-rules/large/dataset.py      1.00     10.5Â±0.39ms     3.9 MB/sec    1.09     11.4Â±0.56ms     3.6 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00      2.2Â±0.08ms     7.5 MB/sec    1.07      2.4Â±0.18ms     7.0 MB/sec
linter/default-rules/numpy/globals.py      1.00   267.8Â±10.00Âµs    11.0 MB/sec    1.08   289.8Â±18.90Âµs    10.2 MB/sec
linter/default-rules/pydantic/types.py     1.00      4.7Â±0.20ms     5.4 MB/sec    1.08      5.1Â±0.31ms     5.0 MB/sec
```
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

---

_@charliermarsh approved on 2023-06-16 15:08_

---

_Label `documentation` added by @charliermarsh on 2023-06-16 15:08_

---

_Comment by @charliermarsh on 2023-06-16 15:08_

Looks good to me for now, agree we need to figure out a solution for developer docs.

---

_Merged by @konstin on 2023-06-21 09:39_

---

_Closed by @konstin on 2023-06-21 09:39_

---

_Branch deleted on 2023-06-21 09:39_

---
