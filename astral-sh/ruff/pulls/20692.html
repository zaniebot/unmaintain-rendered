<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Don't consider bound `self` parameter when comparing bound methods - astral-sh/ruff #20692</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Don&#x27;t consider bound <code>self</code> parameter when comparing bound methods</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20692">#20692</a>
        opened by <a href="https://github.com/dcreager">@dcreager</a>
        on 2025-10-03 14:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dcreager">@dcreager</a></div>
            <div class="timeline-body"><p>In a bound method, the bound <code>self</code> parameter is no longer available for callers to provide an argument for. (That&#x27;s the whole point of binding it!) That means we should not consider it when checking subtyping/assignability of bound methods.</p>
<p>We were already doing this correctly when comparing a bound method to other callable types, since we would coerce the bound method into its equivalent <code>Callable</code> type before performing the check, and our conversion into a <code>Callable</code> type correctly removes the bound <code>self</code> parameter from the signature.</p>
<p>But we weren&#x27;t doing the same when comparing a bound method to another bound method — instead we were comparing the <em>unbound</em> function signatures, and also comparing the bound <code>self</code> instance types. We can get the correct behavior (and eliminate having to duplicate logic) by coercing both bound methods into <code>Callable</code> types for these checks, too.</p>
<p>Closes <a href="https://github.com/astral-sh/ty/issues/1301">astral-sh/ty#1301</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/dcreager">@dcreager</a> on 2025-10-03 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/dcreager">@dcreager</a> on 2025-10-03 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/dcreager">@dcreager</a> on 2025-10-03 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-03 14:22</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/d4f39b27a4a47aac8b6d4019e1b0b5b3156fabdc/conformance">typing conformance tests</a>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-10-03 14:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-03 14:23</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>pytest (https://github.com/pytest-dev/pytest)
+ src/_pytest/skipping.py:292:25: error[invalid-argument-type] Argument to bound method `matches` is incorrect: Argument type `object` does not satisfy upper bound `BaseException` of type variable `BaseExcT_1`
- Found 489 diagnostics
+ Found 490 diagnostics

dulwich (https://github.com/dulwich/dulwich)
- dulwich/porcelain.py:3177:41: error[invalid-argument-type] Argument to function `_make_branch_ref` is incorrect: Expected `str | bytes`, found `Unknown | (Sequence[str | bytes] &amp; ~Top[list[Unknown]] &amp; ~tuple[object, ...]) | bytes`
- dulwich/worktree.py:923:17: error[invalid-assignment] Method `__setitem__` of type `Unknown | (bound method DiskRefsContainer.__setitem__(name: bytes, ref: bytes) -&gt; None) | (bound method ReftableRefsContainer.__setitem__(name: bytes, ref: bytes) -&gt; None)` cannot be called with a key of type `str | bytes` and a value of type `bytes` on object of type `Unknown | DiskRefsContainer | ReftableRefsContainer`
+ dulwich/worktree.py:923:17: error[invalid-assignment] Method `__setitem__` of type `Unknown | (bound method DiskRefsContainer.__setitem__(name: bytes, ref: bytes) -&gt; None)` cannot be called with a key of type `str | bytes` and a value of type `bytes` on object of type `Unknown | DiskRefsContainer | ReftableRefsContainer`
- dulwich/worktree.py:948:48: error[invalid-argument-type] Argument to bound method `set_symbolic_ref` is incorrect: Expected `bytes`, found `str | bytes`
- Found 195 diagnostics
+ Found 193 diagnostics

artigraph (https://github.com/artigraph/artigraph)
+ src/arti/internal/type_hints.py:172:70: error[not-iterable] Object of type `T@lenient_issubclass &amp; tuple[object, ...]` is not iterable
- Found 141 diagnostics
+ Found 142 diagnostics

psycopg (https://github.com/psycopg/psycopg)
+ psycopg_pool/psycopg_pool/_acompat.py:185:12: error[invalid-return-type] Return type does not match returned value: expected `T@ensure_async`, found `object`
- Found 685 diagnostics
+ Found 686 diagnostics

discord.py (https://github.com/Rapptz/discord.py)
+ discord/ui/section.py:189:9: error[invalid-argument-type] Argument to bound method `_update_view` is incorrect: Argument type `Item[object]` does not satisfy upper bound `Item[V@Item]` of type variable `Self`
- Found 514 diagnostics
+ Found 515 diagnostics

xarray (https://github.com/pydata/xarray)
- xarray/core/dataset.py:4616:17: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Unknown` and a value of type `int` on object of type `Mapping[Hashable, Any] &amp; Top[MutableMapping[Unknown, Unknown]]`
+ xarray/core/dataset.py:4616:17: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Hashable` and a value of type `int` on object of type `Mapping[Hashable, Any] &amp; Top[MutableMapping[Unknown, Unknown]]`

koda-validate (https://github.com/keithasaurus/koda-validate)
- koda_validate/generic.py:236:21: error[not-iterable] Object of type `ListOrTupleOrSetAny@UniqueItems` may not be iterable
+ koda_validate/generic.py:236:21: error[not-iterable] Object of type `ListOrTupleOrSetAny@UniqueItems` is not iterable

trio (https://github.com/python-trio/trio)
- src/trio/_core/_tests/test_ki.py:690:25: error[invalid-argument-type] Argument to bound method `send` is incorrect: Expected `Never`, found `None`
- Found 656 diagnostics
+ Found 655 diagnostics

apprise (https://github.com/caronc/apprise)
- apprise/plugins/email/base.py:1129:17: error[invalid-assignment] Method `__setitem__` of type `(bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None) | (bound method MIMEText.__setitem__(name: str, val: str) -&gt; None)` cannot be called with a key of type `Literal[&quot;Subject&quot;]` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
+ apprise/plugins/email/base.py:1129:17: error[invalid-assignment] Method `__setitem__` of type `bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None` cannot be called with a key of type `Literal[&quot;Subject&quot;]` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
- apprise/plugins/email/base.py:1165:17: error[invalid-assignment] Method `__setitem__` of type `(bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None) | (bound method MIMEText.__setitem__(name: str, val: str) -&gt; None)` cannot be called with a key of type `Unknown` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
- apprise/plugins/email/base.py:1167:13: error[invalid-assignment] Method `__setitem__` of type `(bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None) | (bound method MIMEText.__setitem__(name: str, val: str) -&gt; None)` cannot be called with a key of type `Literal[&quot;Subject&quot;]` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
+ apprise/plugins/email/base.py:1165:17: error[invalid-assignment] Method `__setitem__` of type `bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None` cannot be called with a key of type `Unknown` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
+ apprise/plugins/email/base.py:1167:13: error[invalid-assignment] Method `__setitem__` of type `bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None` cannot be called with a key of type `Literal[&quot;Subject&quot;]` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
- apprise/plugins/ses.py:470:13: error[invalid-assignment] Method `__setitem__` of type `(bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None) | (bound method MIMEText.__setitem__(name: str, val: str) -&gt; None)` cannot be called with a key of type `Literal[&quot;Subject&quot;]` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`
+ apprise/plugins/ses.py:470:13: error[invalid-assignment] Method `__setitem__` of type `bound method MIMEMultipart.__setitem__(name: str, val: str) -&gt; None` cannot be called with a key of type `Literal[&quot;Subject&quot;]` and a value of type `Header` on object of type `MIMEMultipart | MIMEText`

hydra-zen (https://github.com/mit-ll-responsible-ai/hydra-zen)
+ src/hydra_zen/structured_configs/_utils.py:257:22: error[invalid-key] Cannot access `AllConvert` with a key of type `str`. Only string literals are allowed as keys on TypedDicts.
- Found 557 diagnostics
+ Found 558 diagnostics

cwltool (https://github.com/common-workflow-language/cwltool)
+ cwltool/cwlprov/ro.py:664:25: error[invalid-assignment] Method `__setitem__` of type `(bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None) | (@Todo &amp; (bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None)) | (Overload[(index: int, value: MutableMapping[str, @Todo | None]) -&gt; None, (index: slice[Any, Any, Any], value: Iterable[MutableMapping[str, @Todo | None]]) -&gt; None])` cannot be called with a key of type `Literal[&quot;checksum&quot;]` and a value of type `str` on object of type `MutableMapping[str, @Todo | None] | (@Todo &amp; Top[MutableMapping[Unknown, Unknown]]) | (MutableSequence[MutableMapping[str, @Todo | None]] &amp; Top[MutableMapping[Unknown, Unknown]])`
+ cwltool/cwlprov/ro.py:666:17: error[invalid-assignment] Method `__setitem__` of type `(bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None) | (@Todo &amp; (bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None)) | (Overload[(index: int, value: MutableMapping[str, @Todo | None]) -&gt; None, (index: slice[Any, Any, Any], value: Iterable[MutableMapping[str, @Todo | None]]) -&gt; None])` cannot be called with a key of type `Literal[&quot;location&quot;]` and a value of type `str` on object of type `MutableMapping[str, @Todo | None] | (@Todo &amp; Top[MutableMapping[Unknown, Unknown]]) | (MutableSequence[MutableMapping[str, @Todo | None]] &amp; Top[MutableMapping[Unknown, Unknown]])`
- cwltool/load_tool.py:176:33: error[invalid-assignment] Method `__setitem__` of type `(bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None) | (bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None)` cannot be called with a key of type `Unknown | str` and a value of type `str` on object of type `MutableMapping[str, @Todo | None] | (MutableSequence[MutableMapping[str, @Todo | None] | str | int] &amp; Top[MutableMapping[Unknown, Unknown]]) | (str &amp; Top[MutableMapping[Unknown, Unknown]])`
+ cwltool/load_tool.py:176:33: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Unknown | str` and a value of type `str` on object of type `MutableMapping[str, @Todo | None] | (MutableSequence[MutableMapping[str, @Todo | None] | str | int] &amp; Top[MutableMapping[Unknown, Unknown]]) | (str &amp; Top[MutableMapping[Unknown, Unknown]])`
- cwltool/load_tool.py:190:25: error[invalid-assignment] Method `__setitem__` of type `(bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None) | (bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None)` cannot be called with a key of type `Literal[&quot;stdin&quot;]` and a value of type `str` on object of type `MutableMapping[str, @Todo | None] | (MutableSequence[MutableMapping[str, @Todo | None] | str | int] &amp; Top[MutableMapping[Unknown, Unknown]]) | (str &amp; Top[MutableMapping[Unknown, Unknown]])`
+ cwltool/load_tool.py:190:25: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Literal[&quot;stdin&quot;]` and a value of type `str` on object of type `MutableMapping[str, @Todo | None] | (MutableSequence[MutableMapping[str, @Todo | None] | str | int] &amp; Top[MutableMapping[Unknown, Unknown]]) | (str &amp; Top[MutableMapping[Unknown, Unknown]])`
- cwltool/main.py:282:21: error[invalid-assignment] Method `__setitem__` of type `(bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None) | (bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None)` cannot be called with a key of type `Literal[&quot;type&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
- cwltool/main.py:293:17: error[invalid-assignment] Method `__setitem__` of type `(bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None) | (bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None)` cannot be called with a key of type `Literal[&quot;type&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
- cwltool/main.py:301:17: error[invalid-assignment] Method `__setitem__` of type `(bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None) | (bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None)` cannot be called with a key of type `Literal[&quot;type&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
- cwltool/main.py:307:17: error[invalid-assignment] Method `__setitem__` of type `(bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None) | (bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None)` cannot be called with a key of type `Literal[&quot;items&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
- cwltool/main.py:315:17: error[invalid-assignment] Method `__setitem__` of type `(bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None) | (bound method MutableMapping[str, @Todo | None].__setitem__(key: str, value: @Todo | None, /) -&gt; None)` cannot be called with a key of type `Literal[&quot;fields&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
+ cwltool/main.py:282:21: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Literal[&quot;type&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
+ cwltool/main.py:293:17: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Literal[&quot;type&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
+ cwltool/main.py:301:17: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Literal[&quot;type&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
+ cwltool/main.py:307:17: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Literal[&quot;items&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
+ cwltool/main.py:315:17: error[invalid-assignment] Method `__setitem__` of type `bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Literal[&quot;fields&quot;]` and a value of type `@Todo` on object of type `(str &amp; Top[MutableMapping[Unknown, Unknown]]) | MutableMapping[str, @Todo | None]`
+ cwltool/process.py:318:47: error[invalid-argument-type] Argument to function `_collectDirEntries` is incorrect: Expected `MutableMapping[str, @Todo | None] | MutableSequence[MutableMapping[str, @Todo | None]] | None`, found `str`
+ cwltool/utils.py:177:13: error[invalid-assignment] Method `__setitem__` of type `(bound method MutableMapping[str, Any].__setitem__(key: str, value: Any, /) -&gt; None) | (Overload[(index: int, value: Any) -&gt; None, (index: slice[Any, Any, Any], value: Iterable[Any]) -&gt; None]) | (Any &amp; (bound method Top[MutableMapping[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None))` cannot be called with a key of type `str` and a value of type `str | MutableSequence[Any] | MutableMapping[str, Any]` on object of type `MutableMapping[str, Any] | (MutableSequence[Any] &amp; Top[MutableMapping[Unknown, Unknown]]) | (Any &amp; Top[MutableMapping[Unknown, Unknown]])`
- Found 162 diagnostics
+ Found 166 diagnostics

scikit-build-core (https://github.com/scikit-build/scikit-build-core)
+ src/scikit_build_core/metadata/__init__.py:79:78: error[not-iterable] Object of type `T@_process_dynamic_metadata &amp; Top[list[Unknown]]` is not iterable
+ src/scikit_build_core/metadata/__init__.py:85:41: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:85:41: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:85:41: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:93:22: error[not-iterable] Object of type `T@_process_dynamic_metadata &amp; Top[list[Unknown]]` is not iterable
+ src/scikit_build_core/metadata/__init__.py:103:22: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:103:22: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:103:22: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:108:51: error[unresolved-attribute] Type `str` has no attribute `items`
+ src/scikit_build_core/metadata/__init__.py:109:27: error[invalid-argument-type] Argument to bound method `items` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:109:27: error[invalid-argument-type] Argument to bound method `items` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:109:27: error[invalid-argument-type] Argument to bound method `items` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:113:42: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:113:42: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
+ src/scikit_build_core/metadata/__init__.py:113:42: error[invalid-argument-type] Argument to bound method `values` is incorrect: Argument type `T@_process_dynamic_metadata` does not satisfy upper bound `dict[_KT@dict, _VT@dict]` of type variable `Self`
- Found 53 diagnostics
+ Found 68 diagnostics

jax (https://github.com/google/jax)
+ jax/_src/numpy/tensor_contractions.py:548:46: error[invalid-argument-type] Argument to function `canonicalize_axis` is incorrect: Expected `SupportsIndex`, found `int | Sequence[int]`
+ jax/_src/numpy/tensor_contractions.py:549:46: error[invalid-argument-type] Argument to function `canonicalize_axis` is incorrect: Expected `SupportsIndex`, found `int | Sequence[int]`
- Found 2266 diagnostics
+ Found 2268 diagnostics

static-frame (https://github.com/static-frame/static-frame)
- static_frame/test/property/strategies.py:927:17: error[invalid-argument-type] Argument to function `get_index_hierarchy` is incorrect: Expected `(...) -&gt; IndexHierarchy`, found `(bound method type[Index[Any]].from_labels(labels: Iterable[@Todo], *, /, name: @Todo = None) -&gt; Index[Any]) | (bound method &lt;class &#x27;Index&#x27;&gt;.from_labels(labels: Iterable[@Todo], *, /, name: @Todo = None) -&gt; Index[Any])`
+ static_frame/test/property/strategies.py:927:17: error[invalid-argument-type] Argument to function `get_index_hierarchy` is incorrect: Expected `(...) -&gt; IndexHierarchy`, found `bound method type[Index[Any]].from_labels(labels: Iterable[@Todo], *, /, name: @Todo = None) -&gt; Index[Any]`

sympy (https://github.com/sympy/sympy)
- sympy/polys/polyclasses.py:1289:31: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 14007 diagnostics
+ Found 14006 diagnostics

core (https://github.com/home-assistant/core)
- homeassistant/auth/permissions/merge.py:63:13: error[invalid-assignment] Method `__setitem__` of type `bound method Top[dict[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `Never` and a value of type `Mapping[str, Mapping[str, Mapping[str, bool] | bool | None] | bool | None] | bool | None` on object of type `Mapping[str, SubCategoryType] &amp; Top[dict[Unknown, Unknown]]`
+ homeassistant/auth/permissions/merge.py:63:13: error[invalid-assignment] Method `__setitem__` of type `bound method Top[dict[Unknown, Unknown]].__setitem__(key: Never, value: Never, /) -&gt; None` cannot be called with a key of type `str` and a value of type `Mapping[str, Mapping[str, Mapping[str, bool] | bool | None] | bool | None] | bool | None` on object of type `Mapping[str, SubCategoryType] &amp; Top[dict[Unknown, Unknown]]`
- homeassistant/components/telegram_bot/bot.py:411:50: warning[possibly-missing-attribute] Attribute `split` on type `@Todo | (Any &amp; ~Top[list[Unknown]]) | None` may be missing
+ homeassistant/components/telegram_bot/bot.py:411:50: warning[possibly-missing-attribute] Attribute `split` on type `Unknown | (Any &amp; ~Top[list[Unknown]]) | None` may be missing
- homeassistant/components/usage_prediction/__init__.py:64:16: error[invalid-return-type] Return type does not match returned value: expected `EntityUsagePredictions`, found `object`
+ homeassistant/components/xbox/media_source.py:54:48: warning[unused-ignore-comment] Unused blanket `type: ignore` directive

</code></pre>

No memory usage changes detected ✅

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/dcreager">@dcreager</a> on 2025-10-03 14:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-10-03 14:32</div>
            <div class="timeline-body">



<a href="https://codspeed.io/astral-sh/ruff/branches/dcreager%2Fbound-method-assignability?runnerMode=WallTime">CodSpeed WallTime Performance Report</a>
Merging #20692 will <strong>improve performances by 10.87%</strong>
<p>Comparing <code>dcreager/bound-method-assignability</code> (4060082) with <code>main</code> (f73ead1)</p>
Summary
<p><code>⚡ 1</code> improvement<br>
<code>✅ 7</code> untouched</p>
Benchmarks breakdown
<p>|     | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ⚡ | <code>medium[colour-science]</code> | 10.7 s | 9.6 s | +10.87% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-03 14:32</div>
            <div class="timeline-body">

<code>ecosystem-analyzer</code> results
<p>| Lint rule | Added | Removed | Changed |
|-----------|------:|--------:|--------:|
| <code>invalid-argument-type</code> | 17 | 1 | 1 |
| <code>invalid-assignment</code> | 3 | 0 | 14 |
| <code>not-iterable</code> | 3 | 0 | 1 |
| <code>invalid-return-type</code> | 1 | 1 | 0 |
| <code>unused-ignore-comment</code> | 1 | 1 | 0 |
| <code>invalid-key</code> | 1 | 0 | 0 |
| <code>no-matching-overload</code> | 0 | 1 | 0 |
| <code>possibly-missing-attribute</code> | 0 | 0 | 1 |
| <code>unresolved-attribute</code> | 1 | 0 | 0 |
| <strong>Total</strong> | <strong>27</strong> | <strong>4</strong> | <strong>17</strong> |</p>
<p><strong><a href="https://dcreager-bound-method-assign.ecosystem-663.pages.dev/diff">Full report with detailed diff</a></strong> (<a href="https://dcreager-bound-method-assign.ecosystem-663.pages.dev/timing">timing results</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-10-03 14:33</div>
            <div class="timeline-body">



<a href="https://codspeed.io/astral-sh/ruff/branches/dcreager%2Fbound-method-assignability?runnerMode=Instrumentation">CodSpeed Instrumentation Performance Report</a>
Merging #20692 will <strong>improve performances by 8.68%</strong>
<p>Comparing <code>dcreager/bound-method-assignability</code> (4060082) with <code>main</code> (f73ead1)</p>
Summary
<p><code>⚡ 2</code> improvements<br>
<code>✅ 11</code> untouched<br>
<code>⏩ 30</code> skipped[^skipped]</p>
Benchmarks breakdown
<p>|     | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ⚡ | <code>attrs</code> | 431.9 ms | 399.8 ms | +8.03% |
| ⚡ | <code>hydra-zen</code> | 851.9 ms | 783.9 ms | +8.68% |
[^skipped]: 30 benchmarks were skipped, so the baseline results were used instead. If they were deleted from the codebase, <a href="https://codspeed.io/astral-sh/ruff/branches/dcreager%2Fbound-method-assignability?runnerMode=Instrumentation&amp;sectionId=benchmark-comparison-section-baseline-result-skipped">click here and archive them to remove them from the performance reports</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dcreager">@dcreager</a> on 2025-10-03 15:15</div>
            <div class="timeline-body"><p>@AlexWaygood convinced me synchronously that this is wrong, and so is <a href="https://github.com/astral-sh/ty/issues/1301">astral-sh/ty#1301</a>! The bound methods of two different classes really are different sets of objects, and are correctly not subtypes of each other. It was a different issue that I was encountering on #20677.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dcreager">@dcreager</a> on 2025-10-03 15:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:19:12 UTC
    </footer>
</body>
</html>
