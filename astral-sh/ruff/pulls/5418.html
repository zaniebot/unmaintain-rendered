<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>format StmtTryStar - astral-sh/ruff #5418</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>format StmtTryStar</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/5418">#5418</a>
        opened by <a href="https://github.com/davidszotten">@davidszotten</a>
        on 2023-06-28 13:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/davidszotten">@davidszotten</a></div>
            <div class="timeline-body"><p>refactor StmtTry to share most of impl with StmtTryStar</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-06-28 13:37</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Ecosystem</h3>
<p>âœ… ecosystem check detected no changes.</p>
<h3>Benchmark</h3>
<h4>Linux</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.12      9.2Â±0.03ms     4.4 MB/sec    1.00      8.2Â±0.02ms     4.9 MB/sec
formatter/numpy/ctypeslib.py               1.09   1886.6Â±3.33Âµs     8.8 MB/sec    1.00   1730.6Â±2.74Âµs     9.6 MB/sec
formatter/numpy/globals.py                 1.05    198.9Â±0.96Âµs    14.8 MB/sec    1.00    188.7Â±0.39Âµs    15.6 MB/sec
formatter/pydantic/types.py                1.10      4.3Â±0.01ms     6.0 MB/sec    1.00      3.9Â±0.04ms     6.6 MB/sec
linter/all-rules/large/dataset.py          1.02     14.1Â±0.04ms     2.9 MB/sec    1.00     13.9Â±0.05ms     2.9 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.01      3.5Â±0.01ms     4.8 MB/sec    1.00      3.5Â±0.00ms     4.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    371.0Â±0.89Âµs     8.0 MB/sec    1.02    377.1Â±7.18Âµs     7.8 MB/sec
linter/all-rules/pydantic/types.py         1.01      6.1Â±0.02ms     4.2 MB/sec    1.00      6.1Â±0.02ms     4.2 MB/sec
linter/default-rules/large/dataset.py      1.00      7.1Â±0.02ms     5.8 MB/sec    1.00      7.1Â±0.01ms     5.8 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.01   1499.9Â±2.27Âµs    11.1 MB/sec    1.00   1480.6Â±4.09Âµs    11.2 MB/sec
linter/default-rules/numpy/globals.py      1.00    158.2Â±0.58Âµs    18.6 MB/sec    1.00    157.5Â±1.39Âµs    18.7 MB/sec
linter/default-rules/pydantic/types.py     1.01      3.2Â±0.01ms     7.9 MB/sec    1.00      3.2Â±0.01ms     8.0 MB/sec
</code></pre>
<h4>Windows</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.02      9.5Â±0.04ms     4.3 MB/sec    1.00      9.3Â±0.07ms     4.4 MB/sec
formatter/numpy/ctypeslib.py               1.01  1988.0Â±11.63Âµs     8.4 MB/sec    1.00  1961.5Â±23.79Âµs     8.5 MB/sec
formatter/numpy/globals.py                 1.01    215.0Â±1.91Âµs    13.7 MB/sec    1.00   212.7Â±11.12Âµs    13.9 MB/sec
formatter/pydantic/types.py                1.03      4.5Â±0.04ms     5.7 MB/sec    1.00      4.4Â±0.04ms     5.8 MB/sec
linter/all-rules/large/dataset.py          1.00     15.3Â±0.11ms     2.7 MB/sec    1.01     15.4Â±0.09ms     2.6 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      4.1Â±0.02ms     4.1 MB/sec    1.01      4.1Â±0.05ms     4.0 MB/sec
linter/all-rules/numpy/globals.py          1.00    428.3Â±4.67Âµs     6.9 MB/sec    1.00    426.6Â±4.56Âµs     6.9 MB/sec
linter/all-rules/pydantic/types.py         1.00      6.9Â±0.05ms     3.7 MB/sec    1.00      6.9Â±0.04ms     3.7 MB/sec
linter/default-rules/large/dataset.py      1.01      8.1Â±0.04ms     5.0 MB/sec    1.00      8.0Â±0.03ms     5.1 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.01  1678.2Â±14.68Âµs     9.9 MB/sec    1.00  1662.2Â±11.48Âµs    10.0 MB/sec
linter/default-rules/numpy/globals.py      1.00    179.1Â±1.47Âµs    16.5 MB/sec    1.00    178.3Â±1.55Âµs    16.5 MB/sec
linter/default-rules/pydantic/types.py     1.01      3.7Â±0.01ms     7.0 MB/sec    1.00      3.6Â±0.02ms     7.0 MB/sec
</code></pre>
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @davidszotten on 2023-06-28 14:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2023-06-28 16:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/other/except_handler_except_handler.rs</code>:12 on 2023-06-28 16:45</div>
            <div class="timeline-body"><p>Nit: I think an enum <code>Starred</code> with the options <code>Yes</code> and <code>No</code> or <code>ExceptHandlerKind</code> with the variants <code>Starred</code> and <code>Regular</code> would improve readability on the <code>with_options</code> call site</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_python_formatter/src/other/except_handler_except_handler.rs</code>:42 on 2023-06-28 16:46</div>
            <div class="timeline-body"><p>Nit</p>
<pre><code class="language-suggestion">        write!(f, [text(&quot;except&quot;), self.has_star.then_some(text(&quot;*&quot;))])?;
</code></pre>
<p>Calling <code>text</code> is cheap (it compiles to a const)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2023-06-28 16:47</div>
            <div class="timeline-body"><p>Nice! I've two small nits. Let me know if you want to address them or if you prefer the code as is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/davidszotten">@davidszotten</a> reviewed on 2023-06-28 19:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/davidszotten">@davidszotten</a> on <code>crates/ruff_python_formatter/src/other/except_handler_except_handler.rs</code>:42 on 2023-06-28 19:25</div>
            <div class="timeline-body"><p>wasn't saving the call, just missed that method existing ðŸ˜†</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2023-06-29 06:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2023-06-29 06:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-07-07 20:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:58:26 UTC
    </footer>
</body>
</html>
