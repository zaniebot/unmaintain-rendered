<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Integrations documentation page with `ruff server` explanation and setup guides - astral-sh/ruff #12056</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update Integrations documentation page with <code>ruff server</code> explanation and setup guides</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/12056">#12056</a>
        opened by <a href="https://github.com/snowsignal">@snowsignal</a>
        on 2024-06-26 22:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-06-26 22:31</div>
            <div class="timeline-body"><p><em>No description provided.</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @snowsignal on 2024-06-26 22:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @snowsignal on 2024-06-26 22:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "Ruff Server: Stable" by @snowsignal on 2024-06-26 22:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Update `integrations.md` with `ruff server` explanation and setup guides" to "Update Integrations documentation page with `ruff server` explanation and setup guides" by @snowsignal on 2024-06-26 22:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @snowsignal on 2024-06-26 22:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-28 01:11</div>
            <div class="timeline-body"><p>A few questions before I dig into the copy:</p>
<ol>
<li><p>As mentioned in Discord, should we move any <code>ruff-lsp</code> documentation that doesn't already exist in the <code>ruff-lsp</code> README to that README, so we're not losing anything useful?</p>
</li>
<li><p>Should this be replacing the setup guides and documentation that you have in the <code>ruff-server</code> crate? If not, why not? What's the difference?</p>
</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-06-28 01:34</div>
            <div class="timeline-body"><p>@charliermarsh</p>
<blockquote>
<ol>
<li>As mentioned in Discord, should we move any ruff-lsp documentation that doesn't already exist in the ruff-lsp README to that README, so we're not losing anything useful?</li>
</ol>
</blockquote>
<p>We should, though I plan to also keep around the deprecated documentation in the Integration page for a little while longer under its own section.</p>
<blockquote>
<ol start="2">
<li>Should this be replacing the setup guides and documentation that you have in the ruff-server crate? If not, why not? What's the difference?</li>
</ol>
</blockquote>
<p>We could probably remove the setup guides, yes. Those have just been copy-pasted.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-06-28 07:17</div>
            <div class="timeline-body"><p>It seems that our documentation doesn't support more than one top-level heading per page.</p>
<p><img src="https://github.com/astral-sh/ruff/assets/1203881/783a81b5-f761-4335-8d6d-e6cec776bb97" alt="image" /></p>
<ul>
<li>The navigation entry is <em>Integrations</em> but the page title is <em>Editor Integrations</em></li>
<li><em>Editor Integrations</em> doesn't show up in the navigation</li>
<li>The entire <em>Other integrations</em> sub menu is missing</li>
</ul>
<p>Can you try keeping <em>Integrations</em> as the page header and use <code>##</code> for <em>Editor integrations</em> and <em>Other integrations</em> (and reduce the heading of all other sub-headings).</p>
<p>We should probably also hide the sub-headers in the neovim section from the navigation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-06-28 07:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/integrations.md</code>:6 on 2024-06-28 07:19</div>
            <div class="timeline-body"><p>I would remove the mention of <code>ruff-lsp</code> from here. I worry that it is more confusing than helpful for users that just want to set up their IDE.</p>
<p>We could even argue that for most users, the entire <em>Ruff Language Server</em> section isn't relevant if, all they want to do, is set up their VS code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/snowsignal">@snowsignal</a> reviewed on 2024-06-28 10:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/snowsignal">@snowsignal</a> on <code>docs/integrations.md</code>:6 on 2024-06-28 10:27</div>
            <div class="timeline-body"><p>I think the added context about the language server would be helpful for users using editors besides VS Code. I'm open to removing the mention of <code>ruff-lsp</code> here, but I think we should still document it in its deprecated state.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:5 on 2024-06-28 12:33</div>
            <div class="timeline-body"><pre><code class="language-suggestion">The Ruff language server, also known as `ruff server`, powers the diagnostic and formatting capabilities of Ruff's VS Code extension and other editor integrations. It is a single, common backend built directly into Ruff, and a direct replacement for `ruff-lsp`, our previous language server. You can read more about `ruff server` in the [`v0.4.5` blog post](https://astral.sh/blog/ruff-v0.4.5).
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:7 on 2024-06-28 12:33</div>
            <div class="timeline-body"><pre><code class="language-suggestion">`ruff server` uses the LSP (Language Server Protocol), and as such works with any editor that supports this protocol. VS Code, Neovim, Helix, and Kate all have official, documented support for `ruff server`. Other editors may support the legacy `ruff-lsp` server; see the [`ruff-lsp` documentation](https://github.com/astral-sh/ruff-lsp#setup) for more.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:11 on 2024-06-28 12:34</div>
            <div class="timeline-body"><pre><code class="language-suggestion">Download the [Ruff VS Code extension](https://marketplace.visualstudio.com/items?itemName=charliermarsh.ruff), which supports code formatting, fix actions, import sorting, and more.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:13 on 2024-06-28 12:34</div>
            <div class="timeline-body"><pre><code class="language-suggestion">By default, the extension will attempt to use the `ruff` executable installed on your local system, and will use a bundled executable if that's not available. If `ruff` is `v0.4.5` or later, the extension will automatically use `ruff server`; otherwise, it will use fall back to `ruff-lsp`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-06-28 12:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/integrations.md</code>:6 on 2024-06-28 12:34</div>
            <div class="timeline-body"><p>That makes sense. To me, the mentioning in</p>
<blockquote>
<p>Other editors may support the legacy <code>ruff-lsp</code> server; see the <a href="https://github.com/astral-sh/ruff-lsp#setup"><code>ruff-lsp</code> documentation</a> for more.</p>
</blockquote>
<p>seems sufficient.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:15 on 2024-06-28 12:36</div>
            <div class="timeline-body"><pre><code class="language-suggestion">To configure Ruff to format, fix, and organize imports on-save, add the following to your `settings.json`:

```json
{
  &quot;[python]&quot;: {
    &quot;editor.formatOnSave&quot;: true,
    &quot;editor.codeActionsOnSave&quot;: {
      &quot;source.fixAll&quot;: &quot;explicit&quot;,
      &quot;source.organizeImports&quot;: &quot;explicit&quot;
    },
    &quot;editor.defaultFormatter&quot;: &quot;charliermarsh.ruff&quot;
  }
}
</code></pre>
<p>For more on configuring the extension, refer to the <a href="https://github.com/astral-sh/ruff-vscode/?tab=readme-ov-file#configuring-ruff"><code>ruff-vscode</code> documentation</a>.</p>
<pre><code></code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:74 on 2024-06-28 12:37</div>
            <div class="timeline-body"><pre><code class="language-suggestion">To enable logging in Neovim, set the `RUFF_TRACE` environment variable
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:83 on 2024-06-28 12:38</div>
            <div class="timeline-body"><pre><code class="language-suggestion">You can then set the desired log level (e.g., `debug` vs. `warning`) in the extension `settings`:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-06-28 12:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>docs/integrations.md</code>:125 on 2024-06-28 12:39</div>
            <div class="timeline-body"><pre><code class="language-suggestion">Next, register the language server for use in Python files.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-28 12:40</div>
            <div class="timeline-body"><p>I think we should consider documenting all of the supported LSP settings here (it could be similar to what we have in the VS Code README). As-is, I don't <em>think</em> that documentation is available anywhere, or is it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-06-28 12:53</div>
            <div class="timeline-body"><p>@charliermarsh We cover the settings that were added/remove in the <a href="https://github.com/astral-sh/ruff/blob/main/crates/ruff_server/docs/MIGRATION.md">migration guide</a>, but it isn't a comprehensive list. I agree that having a complete settings guide would make sense for this document.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-06-28 12:55</div>
            <div class="timeline-body"><p>Should the migration guide also be part of the published documentation?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-06-28 13:09</div>
            <div class="timeline-body"><p>I'd rather link to it than add it to the documentation itself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-16 09:52</div>
            <div class="timeline-body"><p>Closing in favor of #12344</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2024-07-16 09:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone "Ruff Server: Stable" by @dhruvmanila on 2024-07-16 09:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 21:47:33 UTC
    </footer>
</body>
</html>
