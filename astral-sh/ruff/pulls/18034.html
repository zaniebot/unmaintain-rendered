<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve docs on config file precedence - astral-sh/ruff #18034</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve docs on config file precedence</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/18034">#18034</a>
        opened by <a href="https://github.com/timhoffm">@timhoffm</a>
        on 2025-05-12 09:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/timhoffm">@timhoffm</a> on 2025-05-12 09:21</div>
            <div class="timeline-body"><p>When working with ruff, I fell into the trap of having <code>.ruff.toml</code> and <code>pyproject.toml</code> config files. It took me some time to find the precedence rules from the docs. This PR aims to make the docs slightly more clear.</p>
<ul>
<li>In the section &quot;Config file discovery&quot; the precedence was described quite lengthy at the very end of the section. I propose it's more concise to describe this with a single sentence immediately after stating that there can be one config file per directory.</li>
<li>At the very top, when listing all config file types, list them in the order of their precedence. Being equal otherwise, matching the order of precendence may alreay be a subtle hint to users.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @ntBre on 2025-05-12 12:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-05-13 07:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/configuration.md</code>:3 on 2025-05-13 07:20</div>
            <div class="timeline-body"><p>I can see how the current ordering can be misleading as it can give the impression that it matches the precedence in which configuration files are discovered. However, the ordering is somewhat intentional because most users should use <code>pyproject.toml</code> files over a <code>ruff.toml</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-05-13 07:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/configuration.md</code>:309 on 2025-05-13 07:21</div>
            <div class="timeline-body"><p>I prefered this phrasing because it is more specific about when the precedence applies (it applies on a per directory level)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timhoffm">@timhoffm</a> reviewed on 2025-05-13 08:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timhoffm">@timhoffm</a> on <code>docs/configuration.md</code>:3 on 2025-05-13 08:21</div>
            <div class="timeline-body"><p>Sure if there's an intended order through usage priority, let's keep it. Maybe it's reasonable to add a short paragraph on the advantages/disadvantages of the different options and when to use what. But that can be a separate topic.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/timhoffm">@timhoffm</a> reviewed on 2025-05-13 08:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/timhoffm">@timhoffm</a> on <code>docs/configuration.md</code>:309 on 2025-05-13 08:21</div>
            <div class="timeline-body"><p>Would it work for you if we keep the exact wording and just move the lines 306-308 up?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/timhoffm">@timhoffm</a> on 2025-05-22 19:46</div>
            <div class="timeline-body"><p>I've kept the original phrasing and just move the text up. Feel free to merge or close depending on what makes more sense to you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-23 15:06</div>
            <div class="timeline-body"><p>I slightly prefer the currnet structure. That's why I'll close this PR. But thanks for discussing this change</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2025-05-23 15:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-23 18:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 18:51:28 UTC
    </footer>
</body>
</html>
