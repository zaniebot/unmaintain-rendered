<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove duplicate underline in B007 autofix message - astral-sh/ruff #3021</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Remove duplicate underline in B007 autofix message</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/3021">#3021</a>
        opened by <a href="https://github.com/SigureMo">@SigureMo</a>
        on 2023-02-18 22:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/SigureMo">@SigureMo</a> on 2023-02-18 22:16</div>
            <div class="timeline-body"><p>fixes #3020</p>
<p>In the case of #3020, <code>rename</code> already contains an underscore (i.e. <code>_i</code>), so the error message contains two underscores (i.e. <code>__i</code>) and <code>__</code> is lost because of https://github.com/rust-lang/annotate-snippets-rs/issues/53. So the final output has no underscore (i.e. <code>i</code>)</p>
<p>The output after applying this fix is shown below:</p>
<pre><code class="language-text">test.py:1:5: B007 [*] Loop control variable `i` not used within loop body
  |
1 | for i in range(0, 100):
  |     ^ B007
  |
  = help: Rename unused `i` to `_i`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-02-19 00:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-02-19 00:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-02-19 00:38</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-02-19 00:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 04:41:36 UTC
    </footer>
</body>
</html>
