```yaml
number: 6420
title: "Formatter: Add test cases for comments after opening parentheses"
type: pull_request
state: merged
author: konstin
labels:
  - formatter
assignees: []
merged: true
base: main
head: opening_parentheses_comments_test_file
created_at: 2023-08-08T09:01:51Z
updated_at: 2023-08-10T08:55:23Z
url: https://github.com/astral-sh/ruff/pull/6420
synced_at: 2026-01-12T02:52:04Z
```

# Formatter: Add test cases for comments after opening parentheses

---

_Pull request opened by @konstin on 2023-08-08 09:01_

**Summary** I collected all examples of end-of-line comments after opening parentheses that i could think of so we get a comprehensive view at the state of their formatting (#6390).

This PR intentionally only adds tests cases without any changes in formatting. We need to decide which exact formatting we want, ideally in terms of these test files, and implement this in follow-up PRs.

~~One stability check is still deactivated pending https://github.com/astral-sh/ruff/pull/6386.~~


---

_Comment by @konstin on 2023-08-08 09:02_

Current dependencies on/for this PR:
* main
  * **PR #6420** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/6420" target="_blank"><img src="https://static.graphite.dev/graphite-32x32.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/6420?utm_source=stack-comment).

---

_Label `formatter` added by @konstin on 2023-08-08 09:03_

---

_Comment by @github-actions[bot] on 2023-08-08 09:53_

## PR Check Results
### Benchmark
#### Linux
```
group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00      8.4Â±0.02ms     4.9 MB/sec    1.00      8.4Â±0.02ms     4.9 MB/sec
formatter/numpy/ctypeslib.py               1.00   1624.6Â±3.76Âµs    10.2 MB/sec    1.01   1635.4Â±6.46Âµs    10.2 MB/sec
formatter/numpy/globals.py                 1.00    173.2Â±0.23Âµs    17.0 MB/sec    1.00    173.6Â±1.27Âµs    17.0 MB/sec
formatter/pydantic/types.py                1.00      3.6Â±0.01ms     7.2 MB/sec    1.00      3.6Â±0.01ms     7.1 MB/sec
linter/all-rules/large/dataset.py          1.00     10.5Â±0.03ms     3.9 MB/sec    1.00     10.5Â±0.01ms     3.9 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      2.9Â±0.01ms     5.8 MB/sec    1.00      2.9Â±0.01ms     5.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    324.2Â±1.26Âµs     9.1 MB/sec    1.00    323.9Â±0.86Âµs     9.1 MB/sec
linter/all-rules/pydantic/types.py         1.00      5.5Â±0.01ms     4.7 MB/sec    1.00      5.5Â±0.01ms     4.7 MB/sec
linter/default-rules/large/dataset.py      1.00      5.5Â±0.01ms     7.4 MB/sec    1.00      5.5Â±0.01ms     7.5 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00   1152.8Â±5.71Âµs    14.4 MB/sec    1.00   1147.7Â±2.39Âµs    14.5 MB/sec
linter/default-rules/numpy/globals.py      1.00    117.9Â±0.28Âµs    25.0 MB/sec    1.00    118.0Â±0.29Âµs    25.0 MB/sec
linter/default-rules/pydantic/types.py     1.00      2.5Â±0.02ms    10.3 MB/sec    1.00      2.5Â±0.01ms    10.3 MB/sec
```

#### Windows
```
group                                      main                                   pr
-----                                      ----                                   --
formatter/large/dataset.py                 1.00     10.0Â±0.09ms     4.1 MB/sec    1.01     10.0Â±0.09ms     4.1 MB/sec
formatter/numpy/ctypeslib.py               1.00  1904.2Â±22.96Âµs     8.7 MB/sec    1.00  1911.7Â±17.62Âµs     8.7 MB/sec
formatter/numpy/globals.py                 1.00    212.5Â±3.53Âµs    13.9 MB/sec    1.02   217.0Â±12.62Âµs    13.6 MB/sec
formatter/pydantic/types.py                1.00      4.2Â±0.05ms     6.1 MB/sec    1.01      4.2Â±0.05ms     6.0 MB/sec
linter/all-rules/large/dataset.py          1.00     12.5Â±0.08ms     3.3 MB/sec    1.01     12.6Â±0.14ms     3.2 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      3.4Â±0.03ms     4.9 MB/sec    1.01      3.4Â±0.03ms     4.8 MB/sec
linter/all-rules/numpy/globals.py          1.00    429.6Â±5.60Âµs     6.9 MB/sec    1.01    432.0Â±6.03Âµs     6.8 MB/sec
linter/all-rules/pydantic/types.py         1.00      6.5Â±0.08ms     3.9 MB/sec    1.01      6.5Â±0.05ms     3.9 MB/sec
linter/default-rules/large/dataset.py      1.00      6.7Â±0.06ms     6.0 MB/sec    1.01      6.8Â±0.05ms     6.0 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00  1411.2Â±14.47Âµs    11.8 MB/sec    1.01  1425.0Â±14.49Âµs    11.7 MB/sec
linter/default-rules/numpy/globals.py      1.00    163.8Â±2.39Âµs    18.0 MB/sec    1.00    163.7Â±2.26Âµs    18.0 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.0Â±0.05ms     8.5 MB/sec    1.00      3.0Â±0.03ms     8.4 MB/sec
```
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

---

_@MichaReiser approved on 2023-08-08 15:46_

---

_Comment by @MichaReiser on 2023-08-08 15:47_

We still have some work todo to catch up to [Prettier's extensive comments test set](https://github.com/prettier/prettier/tree/main/tests/format/js/comments) (this is just a subset)

---

_Merged by @konstin on 2023-08-10 08:34_

---

_Closed by @konstin on 2023-08-10 08:34_

---

_Branch deleted on 2023-08-10 08:34_

---
