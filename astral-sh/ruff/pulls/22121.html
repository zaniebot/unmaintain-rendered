<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Check `__delitem__` instead of `__getitem__` for `del x[k]` - astral-sh/ruff #22121</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Check <code>__delitem__</code> instead of <code>__getitem__</code> for <code>del x[k]</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22121">#22121</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2025-12-21 01:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body">Summary
<p>Previously, <code>del x[k]</code> incorrectly required the object to have a <code>__getitem__</code> method. This was wrong because deletion only needs <code>__delitem__</code>, which is independent of <code>__getitem__</code>.</p>
<p>Closes <a href="https://github.com/astral-sh/ty/issues/1799">astral-sh/ty#1799</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-21 01:02</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a>

Changes were detected when running ty on typing conformance tests

<pre><code>--- old-output.txt	2025-12-21 01:02:12.586405320 +0000
+++ new-output.txt	2025-12-21 01:02:14.709411235 +0000
@@ -759,6 +759,7 @@
 namedtuples_usage.py:35:7: error[index-out-of-bounds] Index -4 is out of bounds for tuple `Point` with length 3
 namedtuples_usage.py:40:1: error[invalid-assignment] Cannot assign to read-only property `x` on object of type `Point`
 namedtuples_usage.py:41:1: error[invalid-assignment] Cannot assign to a subscript on an object of type `Point`
+namedtuples_usage.py:43:5: error[non-subscriptable] Cannot subscript object of type `Point` with no `__delitem__` method
 namedtuples_usage.py:52:1: error[invalid-assignment] Too many values to unpack: Expected 2
 namedtuples_usage.py:53:1: error[invalid-assignment] Not enough values to unpack: Expected 4
 narrowing_typeguard.py:17:9: error[type-assertion-failure] Type `tuple[str, str]` does not match asserted type `tuple[str, ...]`
@@ -967,7 +968,8 @@
 typeddicts_extra_items.py:29:23: error[invalid-key] Unknown key &quot;novel_adaptation&quot; for TypedDict `Movie`: Unknown key &quot;novel_adaptation&quot;
 typeddicts_extra_items.py:39:54: error[invalid-argument-type] Invalid argument to key &quot;year&quot; with declared type `int` on TypedDict `InheritedMovie`: value of type `None`
 typeddicts_extra_items.py:43:5: error[invalid-key] Unknown key &quot;other_extra_key&quot; for TypedDict `InheritedMovie`: Unknown key &quot;other_extra_key&quot;
-typeddicts_extra_items.py:129:15: error[invalid-key] Unknown key &quot;year&quot; for TypedDict `MovieEI`: Unknown key &quot;year&quot;
+typeddicts_extra_items.py:128:9: error[invalid-argument-type] Method `__delitem__` of type `bound method MovieEI.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;name&quot;]` on object of type `MovieEI`
+typeddicts_extra_items.py:129:9: error[invalid-argument-type] Method `__delitem__` of type `bound method MovieEI.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;year&quot;]` on object of type `MovieEI`
 typeddicts_extra_items.py:254:63: error[invalid-key] Unknown key &quot;year&quot; for TypedDict `MovieExtraInt`: Unknown key &quot;year&quot;
 typeddicts_extra_items.py:255:63: error[invalid-key] Unknown key &quot;description&quot; for TypedDict `MovieExtraStr`: Unknown key &quot;description&quot;
 typeddicts_extra_items.py:266:64: error[invalid-key] Unknown key &quot;year&quot; for TypedDict `MovieExtraInt`: Unknown key &quot;year&quot;
@@ -989,7 +991,7 @@
 typeddicts_extra_items.py:339:1: error[type-assertion-failure] Type `tuple[str, int]` does not match asserted type `Unknown`
 typeddicts_extra_items.py:339:13: error[unresolved-attribute] Object of type `IntDictWithNum` has no attribute `popitem`
 typeddicts_extra_items.py:342:27: error[invalid-key] TypedDict `IntDictWithNum` can only be subscripted with a string literal key, got key of type `str`.
-typeddicts_extra_items.py:343:31: error[invalid-key] TypedDict `IntDictWithNum` can only be subscripted with a string literal key, got key of type `str`
+typeddicts_extra_items.py:343:9: error[invalid-argument-type] Method `__delitem__` of type `bound method IntDictWithNum.__delitem__(k: Never) -&gt; None` cannot be called with key of type `str` on object of type `IntDictWithNum`
 typeddicts_extra_items.py:352:25: error[invalid-assignment] Object of type `dict[str, int]` is not assignable to `IntDict`
 typeddicts_operations.py:22:17: error[invalid-assignment] Invalid assignment to key &quot;name&quot; with declared type `str` on TypedDict `Movie`: value of type `Literal[1982]`
 typeddicts_operations.py:23:17: error[invalid-assignment] Invalid assignment to key &quot;year&quot; with declared type `int` on TypedDict `Movie`: value of type `Literal[&quot;&quot;]`
@@ -1000,7 +1002,9 @@
 typeddicts_operations.py:32:36: error[invalid-key] Unknown key &quot;other&quot; for TypedDict `Movie`: Unknown key &quot;other&quot;
 typeddicts_operations.py:37:20: error[missing-typed-dict-key] Missing required key &#x27;name&#x27; in TypedDict `Movie` constructor
 typeddicts_operations.py:47:1: error[unresolved-attribute] Object of type `Movie` has no attribute `clear`
+typeddicts_operations.py:49:5: error[invalid-argument-type] Method `__delitem__` of type `bound method Movie.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;name&quot;]` on object of type `Movie`
 typeddicts_operations.py:62:1: error[unresolved-attribute] Object of type `MovieOptional` has no attribute `clear`
+typeddicts_operations.py:64:5: error[invalid-argument-type] Method `__delitem__` of type `bound method MovieOptional.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;name&quot;]` on object of type `MovieOptional`
 typeddicts_readonly.py:24:4: error[invalid-assignment] Cannot assign to key &quot;members&quot; on TypedDict `Band`: key is marked read-only
 typeddicts_readonly.py:50:4: error[invalid-assignment] Cannot assign to key &quot;title&quot; on TypedDict `Movie1`: key is marked read-only
 typeddicts_readonly.py:51:4: error[invalid-assignment] Cannot assign to key &quot;year&quot; on TypedDict `Movie1`: key is marked read-only
@@ -1033,4 +1037,4 @@
 typeddicts_usage.py:28:17: error[missing-typed-dict-key] Missing required key &#x27;name&#x27; in TypedDict `Movie` constructor
 typeddicts_usage.py:28:18: error[invalid-key] Unknown key &quot;title&quot; for TypedDict `Movie`: Unknown key &quot;title&quot;
 typeddicts_usage.py:40:24: error[invalid-type-form] The special form `typing.TypedDict` is not allowed in type expressions
-Found 1035 diagnostics
+Found 1039 diagnostics

</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-21 01:03</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>anyio (https://github.com/agronholm/anyio)
- src/anyio/streams/stapled.py:122:44: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 101 diagnostics
+ Found 100 diagnostics

werkzeug (https://github.com/pallets/werkzeug)
- src/werkzeug/utils.py:111:17: error[non-subscriptable] Cannot subscript object of type `object` with no `__getitem__` method
+ src/werkzeug/utils.py:111:17: error[non-subscriptable] Cannot subscript object of type `object` with no `__delitem__` method

graphql-core (https://github.com/graphql-python/graphql-core)
- tests/utilities/test_build_client_schema.py:738:37: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/utilities/test_build_client_schema.py:775:57: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/utilities/test_build_client_schema.py:814:53: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/utilities/test_build_client_schema.py:837:32: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/utilities/test_build_client_schema.py:930:60: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/utilities/test_build_client_schema.py:951:56: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- tests/utilities/test_build_client_schema.py:972:65: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 430 diagnostics
+ Found 423 diagnostics

pytest (https://github.com/pytest-dev/pytest)
- src/_pytest/monkeypatch.py:306:28: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- src/_pytest/monkeypatch.py:417:42: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 438 diagnostics
+ Found 436 diagnostics

kopf (https://github.com/nolar/kopf)
+ kopf/_cogs/configs/conventions.py:281:17: error[invalid-argument-type] Method `__delitem__` of type `bound method MetaEssence.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;annotations&quot;]` on object of type `MetaEssence`
+ kopf/_cogs/configs/conventions.py:283:17: error[invalid-argument-type] Method `__delitem__` of type `bound method MetaEssence.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;labels&quot;]` on object of type `MetaEssence`
+ kopf/_cogs/configs/conventions.py:285:17: error[invalid-argument-type] Method `__delitem__` of type `bound method BodyEssence.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;metadata&quot;]` on object of type `BodyEssence`
+ kopf/_cogs/configs/conventions.py:287:17: error[invalid-argument-type] Method `__delitem__` of type `bound method BodyEssence.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;status&quot;]` on object of type `BodyEssence`
- Found 263 diagnostics
+ Found 267 diagnostics

mitmproxy (https://github.com/mitmproxy/mitmproxy)
- test/mitmproxy/proxy/layers/http/test_http2.py:197:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ test/mitmproxy/proxy/layers/http/test_http2.py:197:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- test/mitmproxy/proxy/layers/http/test_http3.py:532:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ test/mitmproxy/proxy/layers/http/test_http3.py:532:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method

artigraph (https://github.com/artigraph/artigraph)
- tests/arti/internal/test_mappings.py:32:23: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 149 diagnostics
+ Found 148 diagnostics

vision (https://github.com/pytorch/vision)
+ torchvision/models/densenet.py:236:17: error[non-subscriptable] Cannot subscript object of type `Mapping[str, Any]` with no `__delitem__` method
- Found 1413 diagnostics
+ Found 1414 diagnostics

antidote (https://github.com/Finistere/antidote)
- tests/core/test_catalog_test.py:158:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:170:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:208:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:219:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:224:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:225:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:252:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:253:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:254:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:354:17: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:355:17: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:356:17: error[non-subscriptable] Cannot subscript object of type `CatalogOverrides` with no `__getitem__` method
- tests/core/test_catalog_test.py:464:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverride` with no `__getitem__` method
- tests/core/test_catalog_test.py:468:13: error[non-subscriptable] Cannot subscript object of type `CatalogOverride` with no `__getitem__` method
- Found 272 diagnostics
+ Found 258 diagnostics

Tanjun (https://github.com/FasterSpeeding/Tanjun)
- tanjun/clients.py:2668:17: error[invalid-argument-type] Method `__getitem__` of type `bound method dict[str, ModuleType].__getitem__(key: str, /) -&gt; ModuleType` cannot be called with key of type `str | Path` on object of type `dict[str, ModuleType]`
+ tanjun/clients.py:2668:17: error[invalid-argument-type] Method `__delitem__` of type `bound method dict[str, ModuleType].__delitem__(key: str, /) -&gt; None` cannot be called with key of type `str | Path` on object of type `dict[str, ModuleType]`
- tanjun/clients.py:2668:17: error[invalid-argument-type] Method `__getitem__` of type `bound method dict[Path, ModuleType].__getitem__(key: Path, /) -&gt; ModuleType` cannot be called with key of type `str | Path` on object of type `dict[Path, ModuleType]`
+ tanjun/clients.py:2668:17: error[invalid-argument-type] Method `__delitem__` of type `bound method dict[Path, ModuleType].__delitem__(key: Path, /) -&gt; None` cannot be called with key of type `str | Path` on object of type `dict[Path, ModuleType]`
- tanjun/dependencies/data.py:347:12: error[invalid-return-type] Return type does not match returned value: expected `_T@cached_inject`, found `Coroutine[Any, Any, _T@cached_inject | Coroutine[Any, Any, _T@cached_inject]] | _T@cached_inject`
+ tanjun/dependencies/data.py:347:12: error[invalid-return-type] Return type does not match returned value: expected `_T@cached_inject`, found `_T@cached_inject | Coroutine[Any, Any, _T@cached_inject | Coroutine[Any, Any, _T@cached_inject]]`

cloud-init (https://github.com/canonical/cloud-init)
- tests/unittests/sources/test_cloudsigma.py:115:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;cloudinit&quot;]` on object of type `str`
+ tests/unittests/sources/test_cloudsigma.py:115:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;cloudinit&quot;]` on object of type `list[Unknown]`
- tests/unittests/sources/test_cloudsigma.py:115:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown, (s: slice[Any, Any, Any], /) -&gt; list[Unknown]]` cannot be called with key of type `Literal[&quot;cloudinit&quot;]` on object of type `list[Unknown]`
- tests/unittests/sources/test_cloudsigma.py:115:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;cloudinit&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/sources/test_cloudsigma.py:115:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;cloudinit&quot;]` on object of type `list[Unknown | str]`
- tests/unittests/sources/test_cloudsigma.py:115:13: error[non-subscriptable] Cannot subscript object of type `int` with no `__getitem__` method
+ tests/unittests/sources/test_cloudsigma.py:115:13: error[non-subscriptable] Cannot subscript object of type `int` with no `__delitem__` method
+ tests/unittests/sources/test_cloudsigma.py:115:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
+ tests/unittests/test_ds_identify.py:1112:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;sys/class/dmi/id/product_name&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1112:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;sys/class/dmi/id/product_name&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1112:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;sys/class/dmi/id/product_name&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1112:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
- tests/unittests/test_ds_identify.py:1112:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;sys/class/dmi/id/product_name&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1112:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;sys/class/dmi/id/product_name&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1243:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1243:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1243:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1243:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
- tests/unittests/test_ds_identify.py:1243:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1243:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | str]`
- tests/unittests/test_ds_identify.py:1251:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1251:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | str]`
- tests/unittests/test_ds_identify.py:1251:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | str]`
- tests/unittests/test_ds_identify.py:1251:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
+ tests/unittests/test_ds_identify.py:1251:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;/native/.zonecontrol/metadata.sock&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
+ tests/unittests/test_ds_identify.py:1251:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
+ tests/unittests/test_ds_identify.py:1285:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1285:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1285:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1285:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
- tests/unittests/test_ds_identify.py:1285:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1285:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1300:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1300:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1300:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1300:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
- tests/unittests/test_ds_identify.py:1300:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1300:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1315:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1315:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1315:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1315:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
- tests/unittests/test_ds_identify.py:1315:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1315:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1330:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | dict[Unknown | str, Unknown | str | int]].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1330:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; LiteralString, (key: SupportsIndex | slice[Any, Any, Any], /) -&gt; str]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `str`
+ tests/unittests/test_ds_identify.py:1330:13: error[invalid-argument-type] Method `__delitem__` of type `bound method list[Unknown | str].__delitem__(key: SupportsIndex | slice[Any, Any, Any], /) -&gt; None` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`
+ tests/unittests/test_ds_identify.py:1330:13: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
- tests/unittests/test_ds_identify.py:1330:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | dict[Unknown | str, Unknown | str | int], (s: slice[Any, Any, Any], /) -&gt; list[Unknown | dict[Unknown | str, Unknown | str | int]]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | dict[Unknown | str, Unknown | str | int]]`
- tests/unittests/test_ds_identify.py:1330:13: error[invalid-argument-type] Method `__getitem__` of type `Overload[(i: SupportsIndex, /) -&gt; Unknown | str, (s: slice[Any, Any, Any], /) -&gt; list[Unknown | str]]` cannot be called with key of type `Literal[&quot;usr/lib/vmware-tools/plugins/vmsvc/libdeployPkgPlugin.so&quot;]` on object of type `list[Unknown | str]`

zope.interface (https://github.com/zopefoundation/zope.interface)
- src/zope/interface/tests/test_adapter.py:70:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ src/zope/interface/tests/test_adapter.py:70:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method

apprise (https://github.com/caronc/apprise)
- apprise/manager.py:335:25: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ apprise/manager.py:335:25: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- apprise/manager.py:701:25: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ apprise/manager.py:701:25: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- apprise/manager.py:705:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ apprise/manager.py:705:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- apprise/persistent_store.py:882:25: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ apprise/persistent_store.py:882:25: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- apprise/persistent_store.py:919:21: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ apprise/persistent_store.py:919:21: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- apprise/persistent_store.py:1646:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ apprise/persistent_store.py:1646:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2603:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2603:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2630:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2630:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2631:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2631:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2655:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2655:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2699:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2699:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2700:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2700:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- tests/test_apprise_utils.py:2701:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ tests/test_apprise_utils.py:2701:9: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method

meson (https://github.com/mesonbuild/meson)
+ mesonbuild/modules/rust.py:183:13: error[invalid-argument-type] Method `__delitem__` of type `bound method ExecutableKeywordArguments.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;rust_crate_type&quot;]` on object of type `ExecutableKeywordArguments`
- unittests/cargotests.py:501:13: error[non-subscriptable] Cannot subscript object of type `object` with no `__getitem__` method
+ unittests/cargotests.py:501:13: error[non-subscriptable] Cannot subscript object of type `object` with no `__delitem__` method
- Found 1945 diagnostics
+ Found 1946 diagnostics

manticore (https://github.com/trailofbits/manticore)
- manticore/native/state.py:136:17: error[invalid-argument-type] Method `__getitem__` of type `bound method dict[int | None, set[(StateBase, /) -&gt; None]].__getitem__(key: int | None, /) -&gt; set[(StateBase, /) -&gt; None]` cannot be called with key of type `int | str | None | (Any &amp; ~str)` on object of type `dict[int | None, set[(StateBase, /) -&gt; None]]`
+ manticore/native/state.py:136:17: error[invalid-argument-type] Method `__delitem__` of type `bound method dict[int | None, set[(StateBase, /) -&gt; None]].__delitem__(key: int | None, /) -&gt; None` cannot be called with key of type `int | str | None | (Any &amp; ~str)` on object of type `dict[int | None, set[(StateBase, /) -&gt; None]]`

cwltool (https://github.com/common-workflow-language/cwltool)
+ cwltool/cwlprov/ro.py:669:25: error[invalid-argument-type] Method `__delitem__` of type `Overload[(index: int) -&gt; None, (index: slice[Any, Any, Any]) -&gt; None]` cannot be called with key of type `Literal[&quot;path&quot;]` on object of type `MutableSequence[Divergent]`
+ cwltool/cwlprov/ro.py:669:25: error[invalid-argument-type] Method `__delitem__` of type `Overload[(index: int) -&gt; None, (index: slice[Any, Any, Any]) -&gt; None]` cannot be called with key of type `Literal[&quot;path&quot;]` on object of type `MutableSequence[MutableMapping[str, None | int | str | ... omitted 3 union elements]]`
+ cwltool/cwlprov/ro.py:669:25: error[non-subscriptable] Cannot subscript object of type `int` with no `__delitem__` method
+ cwltool/cwlprov/ro.py:669:25: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
+ cwltool/cwlprov/ro.py:669:25: error[non-subscriptable] Cannot subscript object of type `float` with no `__delitem__` method
+ cwltool/cwlprov/ro.py:674:21: error[invalid-argument-type] Method `__delitem__` of type `Overload[(index: int) -&gt; None, (index: slice[Any, Any, Any]) -&gt; None]` cannot be called with key of type `Literal[&quot;location&quot;]` on object of type `MutableSequence[Divergent]`
+ cwltool/cwlprov/ro.py:674:21: error[invalid-argument-type] Method `__delitem__` of type `Overload[(index: int) -&gt; None, (index: slice[Any, Any, Any]) -&gt; None]` cannot be called with key of type `Literal[&quot;location&quot;]` on object of type `MutableSequence[MutableMapping[str, None | int | str | ... omitted 3 union elements]]`
+ cwltool/cwlprov/ro.py:674:21: error[non-subscriptable] Cannot subscript object of type `int` with no `__delitem__` method
+ cwltool/cwlprov/ro.py:674:21: error[non-subscriptable] Cannot subscript object of type `str` with no `__delitem__` method
+ cwltool/cwlprov/ro.py:674:21: error[non-subscriptable] Cannot subscript object of type `float` with no `__delitem__` method
- cwltool/main.py:527:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ cwltool/main.py:527:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- cwltool/main.py:529:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ cwltool/main.py:529:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- Found 245 diagnostics
+ Found 255 diagnostics

prefect (https://github.com/PrefectHQ/prefect)
- src/integrations/prefect-dbt/prefect_dbt/core/settings.py:94:28: error[invalid-assignment] Object of type `T@resolve_block_document_references | int | dict[str, Any] | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/integrations/prefect-dbt/prefect_dbt/core/settings.py:94:28: error[invalid-assignment] Object of type `T@resolve_block_document_references | dict[str, Any]` is not assignable to `dict[str, Any]`
- src/integrations/prefect-dbt/prefect_dbt/core/settings.py:99:28: error[invalid-assignment] Object of type `int | T@resolve_variables | float | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/integrations/prefect-dbt/prefect_dbt/core/settings.py:99:28: error[invalid-assignment] Object of type `T@resolve_variables | dict[str, Any]` is not assignable to `dict[str, Any]`
- src/prefect/cli/deploy/_core.py:86:21: error[invalid-assignment] Object of type `T@resolve_block_document_references | int | dict[str, Any] | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/prefect/cli/deploy/_core.py:86:21: error[invalid-assignment] Object of type `T@resolve_block_document_references | dict[str, Any]` is not assignable to `dict[str, Any]`
- src/prefect/cli/deploy/_core.py:87:21: error[invalid-assignment] Object of type `int | T@resolve_variables | float | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/prefect/cli/deploy/_core.py:87:21: error[invalid-assignment] Object of type `T@resolve_variables` is not assignable to `dict[str, Any]`
- src/prefect/deployments/steps/core.py:137:38: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | int | dict[str, Any] | ... omitted 4 union elements`
+ src/prefect/deployments/steps/core.py:137:38: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any]`
- src/prefect/utilities/templating.py:320:13: error[invalid-assignment] Invalid subscript assignment with key of type `object` and value of type `T@resolve_block_document_references | int | dict[str, Any] | ... omitted 4 union elements` on object of type `dict[str, Any]`
+ src/prefect/utilities/templating.py:320:13: error[invalid-assignment] Invalid subscript assignment with key of type `object` and value of type `T@resolve_block_document_references | dict[str, Any]` on object of type `dict[str, Any]`
- src/prefect/utilities/templating.py:323:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_block_document_references | dict[str, Any]`, found `list[T@resolve_block_document_references | int | dict[str, Any] | ... omitted 5 union elements]`
+ src/prefect/utilities/templating.py:323:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_block_document_references | dict[str, Any]`, found `list[T@resolve_block_document_references | dict[str, Any] | Unknown]`
- src/prefect/utilities/templating.py:437:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `dict[object, int | T@resolve_variables | float | ... omitted 5 union elements]`
+ src/prefect/utilities/templating.py:437:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `dict[object, T@resolve_variables | Unknown]`
- src/prefect/utilities/templating.py:442:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `list[int | T@resolve_variables | float | ... omitted 5 union elements]`
+ src/prefect/utilities/templating.py:442:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `list[T@resolve_variables | Unknown]`
- src/prefect/workers/base.py:228:13: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | int | dict[str, Any] | ... omitted 4 union elements`
+ src/prefect/workers/base.py:228:13: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any]`
- src/prefect/workers/base.py:230:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `int | T@resolve_variables | float | ... omitted 4 union elements`
+ src/prefect/workers/base.py:230:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `T@resolve_variables`

aiohttp (https://github.com/aio-libs/aiohttp)
+ aiohttp/web_response.py:409:21: error[non-subscriptable] Cannot subscript object of type `MultiMapping[str]` with no `__delitem__` method
+ aiohttp/web_response.py:413:21: error[non-subscriptable] Cannot subscript object of type `MultiMapping[str]` with no `__delitem__` method
+ aiohttp/web_response.py:695:21: error[non-subscriptable] Cannot subscript object of type `MultiMapping[str]` with no `__delitem__` method
- Found 176 diagnostics
+ Found 179 diagnostics

xarray (https://github.com/pydata/xarray)
- xarray/core/dataarray.py:5737:16: error[invalid-return-type] Return type does not match returned value: expected `T_Xarray@map_blocks`, found `DataArray | Dataset`
+ xarray/core/dataarray.py:5737:16: error[invalid-return-type] Return type does not match returned value: expected `T_Xarray@map_blocks`, found `T_Xarray@map_blocks | DataArray | Dataset`
- xarray/core/dataset.py:8866:16: error[invalid-return-type] Return type does not match returned value: expected `T_Xarray@map_blocks`, found `DataArray | Dataset`
+ xarray/core/dataset.py:8866:16: error[invalid-return-type] Return type does not match returned value: expected `T_Xarray@map_blocks`, found `T_Xarray@map_blocks | DataArray | Dataset`
- xarray/tests/test_treenode.py:270:13: error[non-subscriptable] Cannot subscript object of type `TreeNode` with no `__getitem__` method
- xarray/tests/test_treenode.py:275:17: error[non-subscriptable] Cannot subscript object of type `TreeNode` with no `__getitem__` method
- xarray/tests/test_utils.py:144:25: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 1771 diagnostics
+ Found 1768 diagnostics

bokeh (https://github.com/bokeh/bokeh)
- src/bokeh/models/sources.py:457:17: error[non-subscriptable] Cannot subscript object of type `Property[Any]` with no `__getitem__` method
+ src/bokeh/models/sources.py:457:17: error[non-subscriptable] Cannot subscript object of type `Property[Any]` with no `__delitem__` method

jax (https://github.com/google/jax)
+ jax/_src/tree_util.py:302:31: error[invalid-argument-type] Argument to bound method `register_node` is incorrect: Expected `(Hashable, Iterable[object], /) -&gt; T@register_pytree_node`, found `(_AuxData@register_pytree_node, _Children@register_pytree_node, /) -&gt; T@register_pytree_node`
+ jax/_src/tree_util.py:305:31: error[invalid-argument-type] Argument to bound method `register_node` is incorrect: Expected `(Hashable, Iterable[object], /) -&gt; T@register_pytree_node`, found `(_AuxData@register_pytree_node, _Children@register_pytree_node, /) -&gt; T@register_pytree_node`
+ jax/_src/tree_util.py:308:31: error[invalid-argument-type] Argument to bound method `register_node` is incorrect: Expected `(Hashable, Iterable[object], /) -&gt; T@register_pytree_node`, found `(_AuxData@register_pytree_node, _Children@register_pytree_node, /) -&gt; T@register_pytree_node`
- Found 2802 diagnostics
+ Found 2805 diagnostics

static-frame (https://github.com/static-frame/static-frame)
+ static_frame/core/bus.py:671:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[Bus[Any], object_]`, found `InterGetItemLocReduces[Top[Index[Any]] | Top[Series[Any, Any]] | TypeBlocks | ... omitted 6 union elements, object_]`
- static_frame/core/bus.py:675:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Bus[Any], object_]`, found `InterGetItemILocReduces[Self@iloc | Bus[Any], generic[object]]`
+ static_frame/core/bus.py:675:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Bus[Any], object_]`, found `InterGetItemILocReduces[Top[Index[Any]] | TypeBlocks | Top[Bus[Any]] | ... omitted 6 union elements, generic[object]]`
- static_frame/core/series.py:772:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Series[Any, Any], TVDtype@Series]`, found `InterGetItemILocReduces[Self@iloc | Series[Any, Any], generic[object]]`
+ static_frame/core/series.py:772:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Series[Any, Any], TVDtype@Series]`, found `InterGetItemILocReduces[Series[Any, Any] | TypeBlocks | Batch | ... omitted 6 union elements, generic[object]]`
- static_frame/core/series.py:4072:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[SeriesHE[Any, Any], TVDtype@SeriesHE]`, found `InterGetItemILocReduces[Self@iloc | SeriesHE[Any, Any], generic[object]]`
+ static_frame/core/series.py:4072:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[SeriesHE[Any, Any], TVDtype@SeriesHE]`, found `InterGetItemILocReduces[Bottom[Series[Any, Any]] | TypeBlocks | Batch | ... omitted 7 union elements, generic[object]]`
- static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Self@iloc | Yarn[Any], generic[object]]`
+ static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Top[Yarn[Any]] | TypeBlocks | Batch | ... omitted 6 union elements, generic[object]]`
- Found 1843 diagnostics
+ Found 1844 diagnostics

zulip (https://github.com/zulip/zulip)
+ zerver/lib/message.py:244:21: error[invalid-argument-type] Method `__delitem__` of type `bound method FormattedEditHistoryEvent.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;prev_content&quot;]` on object of type `FormattedEditHistoryEvent`
+ zerver/lib/message.py:245:21: error[invalid-argument-type] Method `__delitem__` of type `bound method FormattedEditHistoryEvent.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;prev_rendered_content&quot;]` on object of type `FormattedEditHistoryEvent`
+ zerver/lib/message.py:246:21: error[invalid-argument-type] Method `__delitem__` of type `bound method FormattedEditHistoryEvent.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;content_html_diff&quot;]` on object of type `FormattedEditHistoryEvent`
+ zerver/lib/users.py:637:13: error[invalid-argument-type] Method `__delitem__` of type `bound method APIUserDict.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;timezone&quot;]` on object of type `APIUserDict`
- Found 3652 diagnostics
+ Found 3656 diagnostics

core (https://github.com/home-assistant/core)
+ homeassistant/components/deconz/light.py:319:17: error[invalid-argument-type] Method `__delitem__` of type `bound method SetStateAttributes.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;on&quot;]` on object of type `SetStateAttributes`
+ homeassistant/components/deconz/light.py:339:17: error[invalid-argument-type] Method `__delitem__` of type `bound method SetStateAttributes.__delitem__(k: Never) -&gt; None` cannot be called with key of type `Literal[&quot;on&quot;]` on object of type `SetStateAttributes`
+ homeassistant/util/variance.py:47:12: error[invalid-return-type] Return type does not match returned value: expected `(**_P@ignore_variance) -&gt; _R@ignore_variance`, found `_Wrapped[_P@ignore_variance, _R@ignore_variance | int | float | datetime, _P@ignore_variance, _R@ignore_variance | int | float | datetime]`
- Found 14423 diagnostics
+ Found 14426 diagnostics

scipy (https://github.com/scipy/scipy)
- scipy/optimize/_nonlin.py:753:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ scipy/optimize/_nonlin.py:753:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- scipy/optimize/_nonlin.py:754:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ scipy/optimize/_nonlin.py:754:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- scipy/optimize/_nonlin.py:764:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ scipy/optimize/_nonlin.py:764:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- scipy/optimize/_nonlin.py:765:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ scipy/optimize/_nonlin.py:765:17: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- scipy/optimize/_nonlin.py:829:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ scipy/optimize/_nonlin.py:829:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method
- scipy/optimize/_nonlin.py:830:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__getitem__` method
+ scipy/optimize/_nonlin.py:830:13: error[non-subscriptable] Cannot subscript object of type `None` with no `__delitem__` method


</code></pre>



Memory usage changes were detected when running on open source projects

<pre><code>sphinx (https://github.com/sphinx-doc/sphinx)
-     struct metadata = ~20MB
+     struct metadata = ~21MB


</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:06</div>
            <div class="timeline-body"><p>I think the conformance tests are correct except that they don&#x27;t handle non-required keys for <code>TypedDict</code>, which I&#x27;m already working on as a follow-up PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-21 01:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-12-21 08:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-21 09:02</div>
            <div class="timeline-body">

<code>ecosystem-analyzer</code> results
<p>| Lint rule | Added | Removed | Changed |
|-----------|------:|--------:|--------:|
| <code>non-subscriptable</code> | 18 | 16 | 28 |
| <code>invalid-argument-type</code> | 17 | 8 | 20 |
| <code>unused-ignore-comment</code> | 0 | 12 | 0 |
| <code>invalid-return-type</code> | 0 | 2 | 5 |
| <strong>Total</strong> | <strong>35</strong> | <strong>38</strong> | <strong>53</strong> |</p>
<p><strong><a href="https://3ab034df.ty-ecosystem-ext.pages.dev/diff">Full report with detailed diff</a></strong> (<a href="https://3ab034df.ty-ecosystem-ext.pages.dev/timing">timing results</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/resources/mdtest/del.md</code>:235 on 2025-12-24 01:46</div>
            <div class="timeline-body"><p>This should probably say something like &quot;Cannot delete subscript on object of type ...&quot;?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-12-24 01:53</div>
            <div class="timeline-body"><p>love it</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-24 03:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2025-12-24 03:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-12-24 03:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:22:03 UTC
    </footer>
</body>
</html>
