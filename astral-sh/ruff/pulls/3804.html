<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use multi-fix semantics for `inplace` removal - astral-sh/ruff #3804</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use multi-fix semantics for <code>inplace</code> removal</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/3804">#3804</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-03-29 23:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Long ago, we added the ability to &quot;apply a single fix to a string in-place&quot;, which we used as a hack to enable multiple autofixes. (In short: we'd apply one fix, look at the fixed code, apply another fix, then tell Ruff that the fix is the replace the entire expression with that fixed output.) Ruff now supports multiple edits per fix, so we can instead model this behavior as two distinct fixes.</p>
<p>While I was here, I also made the <code>inplace</code> rule a little more robust.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-03-30 00:08</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Ecosystem</h3>
<p>✅ ecosystem check detected no changes.</p>
<h3>Benchmark</h3>
<h4>Linux</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
linter/all-rules/large/dataset.py          1.03     18.6±1.36ms     2.2 MB/sec    1.00     18.0±0.84ms     2.3 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      4.6±0.25ms     3.7 MB/sec    1.00      4.5±0.20ms     3.7 MB/sec
linter/all-rules/numpy/globals.py          1.10   646.1±38.11µs     4.6 MB/sec    1.00   586.1±28.39µs     5.0 MB/sec
linter/all-rules/pydantic/types.py         1.12      8.3±0.35ms     3.1 MB/sec    1.00      7.4±0.34ms     3.5 MB/sec
linter/default-rules/large/dataset.py      1.09     10.0±0.61ms     4.0 MB/sec    1.00      9.2±0.35ms     4.4 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.05      2.3±0.13ms     7.3 MB/sec    1.00      2.2±0.11ms     7.7 MB/sec
linter/default-rules/numpy/globals.py      1.17   287.5±16.50µs    10.3 MB/sec    1.00    244.9±9.91µs    12.1 MB/sec
linter/default-rules/pydantic/types.py     1.06      4.5±0.29ms     5.6 MB/sec    1.00      4.3±0.27ms     6.0 MB/sec
</code></pre>
<h4>Windows</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
linter/all-rules/large/dataset.py          1.00     18.2±0.62ms     2.2 MB/sec    1.12     20.3±0.65ms     2.0 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      4.8±0.23ms     3.5 MB/sec    1.07      5.2±0.18ms     3.2 MB/sec
linter/all-rules/numpy/globals.py          1.00   583.6±27.90µs     5.1 MB/sec    1.10   643.5±29.58µs     4.6 MB/sec
linter/all-rules/pydantic/types.py         1.00      8.0±0.33ms     3.2 MB/sec    1.08      8.6±0.32ms     3.0 MB/sec
linter/default-rules/large/dataset.py      1.00      9.7±0.51ms     4.2 MB/sec    1.10     10.7±0.61ms     3.8 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00      2.2±0.11ms     7.5 MB/sec    1.06      2.4±0.11ms     7.1 MB/sec
linter/default-rules/numpy/globals.py      1.00   276.2±15.90µs    10.7 MB/sec    1.06   293.7±23.46µs    10.0 MB/sec
linter/default-rules/pydantic/types.py     1.00      4.8±0.25ms     5.3 MB/sec    1.10      5.2±0.31ms     4.9 MB/sec
</code></pre>
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-03-30 00:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-03-30 00:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-03-30 00:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:56:53 UTC
    </footer>
</body>
</html>
