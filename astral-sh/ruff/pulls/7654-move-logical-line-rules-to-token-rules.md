```yaml
number: 7654
title: "Move logical-line rules to `token` rules"
type: pull_request
state: closed
author: MichaReiser
labels:
  - internal
assignees: []
base: main
head: move-logical-lines-to-token-rules
created_at: 2023-09-25T12:13:31Z
updated_at: 2024-01-16T10:03:24Z
url: https://github.com/astral-sh/ruff/pull/7654
synced_at: 2026-01-12T15:55:24Z
```

# Move logical-line rules to `token` rules

---

_@MichaReiser_

## Summary

Move the logical line rules into the token linting phase.

## Test Plan

`cargo test`


---

_Comment by @MichaReiser on 2023-09-25 12:13_

Current dependencies on/for this PR:
* main
  * **PR #7654** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7654" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7654?utm_source=stack-comment).

---

_Label `internal` added by @MichaReiser on 2023-09-25 12:13_

---

_@charliermarsh reviewed on 2023-09-25 17:29_

---

_Review comment by @charliermarsh on `crates/ruff_linter/src/linter.rs`:126 on 2023-09-25 17:29_

I think you now need to add `is_logical_lines` to line 97.

---

_@charliermarsh reviewed on 2023-09-25 17:29_

Not necessarily disagreeing, but what's the motivation?

---

_Comment by @MichaReiser on 2023-09-25 18:32_

It makes it clearer how many lint phases we have and we could explore changing all token based lints to be invoked per token rather than each driving their own iteration 

---

_@charliermarsh approved on 2023-09-26 23:51_

---

_Closed by @MichaReiser on 2023-09-27 06:46_

---

_Branch deleted on 2024-01-16 10:03_

---
