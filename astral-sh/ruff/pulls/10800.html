<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The linter and code actions can now be disabled in client settings for `ruff server` - astral-sh/ruff #10800</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>The linter and code actions can now be disabled in client settings for <code>ruff server</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/10800">#10800</a>
        opened by <a href="https://github.com/snowsignal">@snowsignal</a>
        on 2024-04-06 00:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-04-06 00:23</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This is a follow-up to https://github.com/astral-sh/ruff/pull/10764. Support for diagnostics, quick fixes, and source actions can now be disabled via client settings.</p>
<h2>Test Plan</h2>
<h3>Manual Testing</h3>
<p>Set up your workspace as described in the test plan in https://github.com/astral-sh/ruff/pull/10764, up to step 2. You don't need to add a debug statement.
The configuration for <code>folder_a</code> and <code>folder_b</code> should be as follows:
<code>folder_a</code>:</p>
<pre><code class="language-json">{
    &quot;ruff.codeAction.fixViolation&quot;: {
        &quot;enable&quot;: true
    }
}
</code></pre>
<p><code>folder_b</code></p>
<pre><code class="language-json">{
    &quot;ruff.codeAction.fixViolation&quot;: {
        &quot;enable&quot;: false
    }
}
</code></pre>
<p>Finally, open up your VS Code User Settings and un-check the <code>Ruff &gt; Fix All</code> setting.</p>
<ol>
<li>Open a Python file in <code>folder_a</code> that has existing problems. The problems should be highlighted, and quick fix should be available. <code>source.fixAll</code> should not be available as a source action.</li>
<li>Open a Python file in <code>folder_b</code> that has existing problems. The problems should be highlighted, but quick fixes should not be available for any of them. <code>source.fixAll</code> should not be available as a source action.</li>
<li>Open up your VS Code Workspace Settings (second tab under the search bar) and un-check <code>Ruff &gt; Lint: Enable</code></li>
<li>Both files you tested in steps 1 and 2 should now lack any visible diagnostics. <code>source.organizeImports</code> should still be available as a source action.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @snowsignal on 2024-04-06 00:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`ruff server`: Implement enable/disable settings for the linter and code actions" to "`ruff server`: The linter and code actions can now be disabled in settings" by @snowsignal on 2024-04-06 00:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "`ruff server`: The linter and code actions can now be disabled in settings" to "The linter and code actions can now be disabled in client settings for `ruff server`" by @snowsignal on 2024-04-06 00:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-04-06 00:36</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>‚úÖ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>‚úÖ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-04-08 08:14</div>
            <div class="timeline-body"><p>Test plan: Shouldn't the folder b configuration set <code>enabled: false</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-04-08 08:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> approved on 2024-04-08 12:09</div>
            <div class="timeline-body"><p>Tested out in NeoVim üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-04-08 14:52</div>
            <div class="timeline-body"><p>@MichaReiser You're right about the test plan, my bad. Let me update it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @snowsignal on 2024-04-08 14:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @snowsignal on 2024-04-08 14:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-04-08 14:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 22:37:32 UTC
    </footer>
</body>
</html>
