<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use PEP 639 license information for Ruff itself instead of classifier - astral-sh/ruff #19499</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use PEP 639 license information for Ruff itself instead of classifier</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/19499">#19499</a>
        opened by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a>
        on 2025-07-22 21:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Declare licenses using only these two fields, as per PEP 639:</p>
<ul>
<li><code>license</code>:       SPDX license expression consisting of one or more license identifiers</li>
<li><code>license-files</code>: list of license file glob patterns</li>
</ul>
<p>Supported by maturin ≥ 1.9.0:
https://www.maturin.rs/changelog.html</p>
<h2>Test Plan</h2>
<p>N/A</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @konstin by @charliermarsh on 2025-07-22 21:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @DimitriPapadopoulos on 2025-07-22 21:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @ntBre on 2025-07-22 21:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vivodi">@vivodi</a> reviewed on 2025-07-24 10:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vivodi">@vivodi</a> on <code>pyproject.toml</code>:25 on 2025-07-24 10:07</div>
            <div class="timeline-body"><p>Why is this removed?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a> reviewed on 2025-07-24 11:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a> on <code>pyproject.toml</code>:25 on 2025-07-24 11:34</div>
            <div class="timeline-body"><p>Because PEP639 expects only <code>licence</code> and <code>licence-files</code>.</p>
<ul>
<li><a href="https://peps.python.org/pep-0639/">PEP 639 – Improving License Clarity with Better Package Metadata</a></li>
<li><a href="https://packaging.python.org/en/latest/specifications/core-metadata/">Core metadata specifications</a></li>
</ul>
<p>It's redundant with:</p>
<pre><code class="language-toml">license = &quot;MIT&quot;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vivodi">@vivodi</a> reviewed on 2025-07-24 11:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vivodi">@vivodi</a> on <code>pyproject.toml</code>:25 on 2025-07-24 11:39</div>
            <div class="timeline-body"><p>Although PEP 639 expects only <code>license</code> and <code>license-files</code>, explicitly specifying license information in <code>classifiers</code> is still a widely adopted practice. Moreover, it does not conflict with PEP 639 — the PEP does not suggest removing license information from <code>classifiers</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vivodi">@vivodi</a> reviewed on 2025-07-24 11:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vivodi">@vivodi</a> on <code>pyproject.toml</code>:25 on 2025-07-24 11:47</div>
            <div class="timeline-body"><p>Sorry, that PEP <strong>does indeed recommend removing the license classifier</strong>: <a href="https://peps.python.org/pep-0639/#deprecate-license-classifiers">https://peps.python.org/pep-0639/#deprecate-license-classifiers</a> — I hadn’t looked at it carefully before.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> reviewed on 2025-07-27 19:09</div>
            <div class="timeline-body"><p>I confirmed that after this change, there's</p>
<pre><code>License-File: LICENSE
License-Expression: MIT
</code></pre>
<p>in the METADATA and a license file at <code>/ruff-0.12.4.dist-info/licenses/LICENSE</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/konstin">@konstin</a> approved on 2025-07-27 19:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "PEP 639 compliance" to "Use PEP 639 license information for Ruff itself instead of classifier" by @konstin on 2025-07-27 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> removed by @konstin on 2025-07-27 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @konstin on 2025-07-27 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @konstin on 2025-07-28 07:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @konstin on 2025-07-28 07:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> removed by @MichaReiser on 2025-07-28 07:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-07-28 07:48</div>
            <div class="timeline-body"><p>I removed the documentation label so that it appears under the &quot;Other&quot; section (we tend to remove the <em>Documentation</em> section in releases)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-07-28 08:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vivodi">@vivodi</a> on 2025-07-31 07:56</div>
            <div class="timeline-body"><p>I see this PR has been fully reverted:</p>
<ul>
<li>https://github.com/astral-sh/ruff/pull/19599</li>
<li>https://github.com/astral-sh/ruff/pull/19624</li>
</ul>
<p>Will you @DimitriPapadopoulos have time to look into it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DimitriPapadopoulos">@DimitriPapadopoulos</a> on 2025-07-31 09:11</div>
            <div class="timeline-body"><p>Unfortunately #19624 lacks context. Is the problem that <code>uv build</code> does not support PEP 639 yet?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:14:29 UTC
    </footer>
</body>
</html>
