<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stabilize `hug_parens_with_braces_and_square_brackets` preview style - astral-sh/ruff #22737</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Stabilize <code>hug_parens_with_braces_and_square_brackets</code> preview style</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22737">#22737</a>
        opened by <a href="https://github.com/dylwil3">@dylwil3</a>
        on 2026-01-19 20:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dylwil3">@dylwil3</a></div>
            <div class="timeline-body"><p>Don't get excited! Opening PRs for all preview styles to decide.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "v0.15" by @dylwil3 on 2026-01-19 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @dylwil3 on 2026-01-19 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> added by @dylwil3 on 2026-01-19 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @dylwil3 on 2026-01-19 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2026-01-19 20:32</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Formatter (stable)</h3>
<p>ℹ️ ecosystem check <strong>detected format changes</strong>. (+17288 -20358 lines in 909 files in 26 projects; 29 projects unchanged)</p>
<details><summary><a href="https://github.com/PostHog/HouseWatch">PostHog/HouseWatch</a> (+25 -37 lines across 1 file)</summary>
<p>

<p><a href='https://github.com/PostHog/HouseWatch/blob/9b126c0d588c1dc33045dfea3dd76f8abf888d29/housewatch/api/analyze.py#L71'>housewatch/api/analyze.py~L71</a></p>
<pre><code class="language-diff">         )
         normalized_query = query_details[0][&quot;normalized_query&quot;]
 
-        return Response(
-            {
-                &quot;query&quot;: normalized_query,
-            }
-        )
+        return Response({
+            &quot;query&quot;: normalized_query,
+        })
 
     @action(detail=True, methods=[&quot;GET&quot;])
     def query_metrics(self, request: Request, pk: str):
</code></pre>
<p><a href='https://github.com/PostHog/HouseWatch/blob/9b126c0d588c1dc33045dfea3dd76f8abf888d29/housewatch/api/analyze.py#L94'>housewatch/api/analyze.py~L94</a></p>
<pre><code class="language-diff">         )
         cpu = run_query(QUERY_CPU_USAGE_SQL, {&quot;days&quot;: days, &quot;conditions&quot;: conditions})
 
-        return Response(
-            {
-                &quot;execution_count&quot;: execution_count,
-                &quot;memory_usage&quot;: memory_usage,
-                &quot;read_bytes&quot;: read_bytes,
-                &quot;cpu&quot;: cpu,
-            }
-        )
+        return Response({
+            &quot;execution_count&quot;: execution_count,
+            &quot;memory_usage&quot;: memory_usage,
+            &quot;read_bytes&quot;: read_bytes,
+            &quot;cpu&quot;: cpu,
+        })
 
     @action(detail=True, methods=[&quot;GET&quot;])
     def query_explain(self, request: Request, pk: str):
</code></pre>
<p><a href='https://github.com/PostHog/HouseWatch/blob/9b126c0d588c1dc33045dfea3dd76f8abf888d29/housewatch/api/analyze.py#L111'>housewatch/api/analyze.py~L111</a></p>
<pre><code class="language-diff">         example_queries = query_details[0][&quot;example_queries&quot;]
         explain = run_query(EXPLAIN_QUERY, {&quot;query&quot;: example_queries[0]})
 
-        return Response(
-            {
-                &quot;explain&quot;: explain,
-            }
-        )
+        return Response({
+            &quot;explain&quot;: explain,
+        })
 
     @action(detail=True, methods=[&quot;GET&quot;])
     def query_examples(self, request: Request, pk: str):
</code></pre>
<p><a href='https://github.com/PostHog/HouseWatch/blob/9b126c0d588c1dc33045dfea3dd76f8abf888d29/housewatch/api/analyze.py#L124'>housewatch/api/analyze.py~L124</a></p>
<pre><code class="language-diff">         )
         example_queries = query_details[0][&quot;example_queries&quot;]
 
-        return Response(
-            {
-                &quot;example_queries&quot;: [{&quot;query&quot;: q} for q in example_queries],
-            }
-        )
+        return Response({
+            &quot;example_queries&quot;: [{&quot;query&quot;: q} for q in example_queries],
+        })
 
     @action(detail=False, methods=[&quot;GET&quot;])
     def query_graphs(self, request: Request):
</code></pre>
<p><a href='https://github.com/PostHog/HouseWatch/blob/9b126c0d588c1dc33045dfea3dd76f8abf888d29/housewatch/api/analyze.py#L141'>housewatch/api/analyze.py~L141</a></p>
<pre><code class="language-diff">         )
         read_bytes = run_query(QUERY_READ_BYTES_SQL, {&quot;days&quot;: days, &quot;conditions&quot;: &quot;&quot;})
         cpu = run_query(QUERY_CPU_USAGE_SQL, {&quot;days&quot;: days, &quot;conditions&quot;: &quot;&quot;})
-        return Response(
-            {
-                &quot;execution_count&quot;: execution_count,
-                &quot;memory_usage&quot;: memory_usage,
-                &quot;read_bytes&quot;: read_bytes,
-                &quot;cpu&quot;: cpu,
-            }
-        )
+        return Response({
+            &quot;execution_count&quot;: execution_count,
+            &quot;memory_usage&quot;: memory_usage,
+            &quot;read_bytes&quot;: read_bytes,
+            &quot;cpu&quot;: cpu,
+        })
 
     @action(detail=False, methods=[&quot;POST&quot;])
     def logs(self, request: Request):
</code></pre>
<p><a href='https://github.com/PostHog/HouseWatch/blob/9b126c0d588c1dc33045dfea3dd76f8abf888d29/housewatch/api/analyze.py#L295'>housewatch/api/analyze.py~L295</a></p>
<pre><code class="language-diff">                 )
                 i += 1
                 sleep(0.5)
-            return Response(
-                {
-                    &quot;is_result_equal&quot;: is_result_equal,
-                    &quot;benchmarking_result&quot;: benchmarking_result,
-                }
-            )
+            return Response({
+                &quot;is_result_equal&quot;: is_result_equal,
+                &quot;benchmarking_result&quot;: benchmarking_result,
+            })
         except Exception as e:
             return Response(
                 status=418, data={&quot;error&quot;: str(e), &quot;error_location&quot;: error_location}
</code></pre>
</p>
</details>
<details><summary><a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (+1248 -1413 lines across 60 files)</summary>
<p>

<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/brokers/pika.py#L238'>rasa/core/brokers/pika.py~L238</a></p>
<pre><code class="language-diff">             self.exchange_name, type=aio_pika.ExchangeType.FANOUT
         )
 
-        await asyncio.gather(
-            *[
-                self._bind_queue(queue_name, channel, exchange)
-                for queue_name in self.queues
-            ]
-        )
+        await asyncio.gather(*[
+            self._bind_queue(queue_name, channel, exchange)
+            for queue_name in self.queues
+        ])
 
         return exchange
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/channels/hangouts.py#L70'>rasa/core/channels/hangouts.py~L70</a></p>
<pre><code class="language-diff">                 )
                 return None
 
-            hangouts_buttons.append(
-                {
-                    &quot;textButton&quot;: {
-                        &quot;text&quot;: b_txt,
-                        &quot;onClick&quot;: {&quot;action&quot;: {&quot;actionMethodName&quot;: b_pl}},
-                    }
+            hangouts_buttons.append({
+                &quot;textButton&quot;: {
+                    &quot;text&quot;: b_txt,
+                    &quot;onClick&quot;: {&quot;action&quot;: {&quot;actionMethodName&quot;: b_pl}},
                 }
-            )
+            })
 
         card = {
             &quot;cards&quot;: [
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/evaluation/marker_base.py#L665'>rasa/core/evaluation/marker_base.py~L665</a></p>
<pre><code class="language-diff">         &quot;&quot;&quot;
         with path.open(mode=&quot;w&quot;) as f:
             table_writer = csv.writer(f)
-            table_writer.writerow(
-                [
-                    &quot;sender_id&quot;,
-                    &quot;session_idx&quot;,
-                    &quot;marker&quot;,
-                    &quot;event_idx&quot;,
-                    &quot;num_preceding_user_turns&quot;,
-                ]
-            )
+            table_writer.writerow([
+                &quot;sender_id&quot;,
+                &quot;session_idx&quot;,
+                &quot;marker&quot;,
+                &quot;event_idx&quot;,
+                &quot;num_preceding_user_turns&quot;,
+            ])
             for sender_id, results_per_session in results.items():
                 for session_idx, session_result in enumerate(results_per_session):
                     Marker._write_relevant_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/evaluation/marker_base.py#L686'>rasa/core/evaluation/marker_base.py~L686</a></p>
<pre><code class="language-diff">     ) -&gt; None:
         for marker_name, meta_data_per_relevant_event in session.items():
             for event_meta_data in meta_data_per_relevant_event:
-                writer.writerow(
-                    [
-                        sender_id,
-                        str(session_idx),
-                        marker_name,
-                        str(event_meta_data.idx),
-                        str(event_meta_data.preceding_user_turns),
-                    ]
-                )
+                writer.writerow([
+                    sender_id,
+                    str(session_idx),
+                    marker_name,
+                    str(event_meta_data.idx),
+                    str(event_meta_data.preceding_user_turns),
+                ])
 
 
 class OperatorMarker(Marker, ABC):
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/evaluation/marker_stats.py#L279'>rasa/core/evaluation/marker_stats.py~L279</a></p>
<pre><code class="language-diff">             value_str = str(np.nan)
         else:
             value_str = np.round(statistic_value, 3)
-        table_writer.writerow(
-            [
-                str(item)
-                for item in [
-                    sender_id,
-                    session_idx,
-                    marker_name,
-                    statistic_name,
-                    value_str,
-                ]
+        table_writer.writerow([
+            str(item)
+            for item in [
+                sender_id,
+                session_idx,
+                marker_name,
+                statistic_name,
+                value_str,
             ]
-        )
+        ])
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/featurizers/tracker_featurizers.py#L143'>rasa/core/featurizers/tracker_featurizers.py~L143</a></p>
<pre><code class="language-diff">         &quot;&quot;&quot;
         # store labels in numpy arrays so that it corresponds to np arrays of input
         # features
-        return ragged_array_to_ndarray(
-            [
-                np.array(
-                    [domain.index_for_action(action) for action in tracker_actions]
-                )
-                for tracker_actions in trackers_as_actions
-            ]
-        )
+        return ragged_array_to_ndarray([
+            np.array([domain.index_for_action(action) for action in tracker_actions])
+            for tracker_actions in trackers_as_actions
+        ])
 
     def _create_entity_tags(
         self,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/migrate.py#L70'>rasa/core/migrate.py~L70</a></p>
<pre><code class="language-diff">             updated_mappings.append(mapping_copy)
 
     for mapping in new_mappings:
-        mapping.update(
-            {
-                &quot;conditions&quot;: [
-                    _get_updated_mapping_condition(condition, mapping, slot_name)
-                ]
-            }
-        )
+        mapping.update({
+            &quot;conditions&quot;: [
+                _get_updated_mapping_condition(condition, mapping, slot_name)
+            ]
+        })
         updated_mappings.append(mapping)
 
     return updated_mappings
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/migrate.py#L178'>rasa/core/migrate.py~L178</a></p>
<pre><code class="language-diff">         elif key == KEY_FORMS:
             new_domain.update({key: new_forms})
         elif key == &quot;version&quot;:
-            new_domain.update(
-                {key: DoubleQuotedScalarString(LATEST_TRAINING_DATA_FORMAT_VERSION)}
-            )
+            new_domain.update({
+                key: DoubleQuotedScalarString(LATEST_TRAINING_DATA_FORMAT_VERSION)
+            })
         else:
             new_domain.update({key: value})
     return new_domain
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/migrate.py#L234'>rasa/core/migrate.py~L234</a></p>
<pre><code class="language-diff"> 
         if KEY_SLOTS not in original_content and KEY_FORMS not in original_content:
             if isinstance(original_content, dict):
-                original_content.update(
-                    {
-                        &quot;version&quot;: DoubleQuotedScalarString(
-                            LATEST_TRAINING_DATA_FORMAT_VERSION
-                        )
-                    }
-                )
+                original_content.update({
+                    &quot;version&quot;: DoubleQuotedScalarString(
+                        LATEST_TRAINING_DATA_FORMAT_VERSION
+                    )
+                })
 
             # this is done so that the other domain files can be moved
             # in the migrated directory
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/policies/ted_policy.py#L525'>rasa/core/policies/ted_policy.py~L525</a></p>
<pre><code class="language-diff">         model_data = RasaModelData(label_key=LABEL_KEY, label_sub_key=LABEL_SUB_KEY)
 
         if label_ids is not None and encoded_all_labels is not None:
-            label_ids = np.array(
-                [np.expand_dims(seq_label_ids, -1) for seq_label_ids in label_ids]
-            )
+            label_ids = np.array([
+                np.expand_dims(seq_label_ids, -1) for seq_label_ids in label_ids
+            ])
             model_data.add_features(
                 LABEL_KEY,
                 LABEL_SUB_KEY,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/policies/ted_policy.py#L555'>rasa/core/policies/ted_policy.py~L555</a></p>
<pre><code class="language-diff"> 
         # add the dialogue lengths
         attribute_present = next(iter(list(attribute_data.keys())))
-        dialogue_lengths = np.array(
-            [
-                np.size(np.squeeze(f, -1))
-                for f in model_data.data[attribute_present][MASK][0]
-            ]
-        )
+        dialogue_lengths = np.array([
+            np.size(np.squeeze(f, -1))
+            for f in model_data.data[attribute_present][MASK][0]
+        ])
         model_data.data[DIALOGUE][LENGTH] = [
             FeatureArray(dialogue_lengths, number_of_dimensions=1)
         ]
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/policies/ted_policy.py#L1298'>rasa/core/policies/ted_policy.py~L1298</a></p>
<pre><code class="language-diff">         # Disable input dropout in the config to be used if this is a label attribute.
         if is_label_attribute:
             config_to_use = self.config.copy()
-            config_to_use.update(
-                {SPARSE_INPUT_DROPOUT: False, DENSE_INPUT_DROPOUT: False}
-            )
+            config_to_use.update({
+                SPARSE_INPUT_DROPOUT: False,
+                DENSE_INPUT_DROPOUT: False,
+            })
         else:
             config_to_use = self.config
         # Attributes with sequence-level features also have sentence-level features,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/processor.py#L651'>rasa/core/processor.py~L651</a></p>
<pre><code class="language-diff">     @staticmethod
     def _log_slots(tracker: DialogueStateTracker) -&gt; None:
         # Log currently set slots
-        slot_values = &quot;\n&quot;.join(
-            [f&quot;\t{s.name}: {s.value}&quot; for s in tracker.slots.values()]
-        )
+        slot_values = &quot;\n&quot;.join([
+            f&quot;\t{s.name}: {s.value}&quot; for s in tracker.slots.values()
+        ])
         if slot_values.strip():
             structlogger.debug(
                 &quot;processor.slots.log&quot;, slot_values=copy.deepcopy(slot_values)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/test.py#L859'>rasa/core/test.py~L859</a></p>
<pre><code class="language-diff"> 
             if action_executed_result.action_targets:
                 tracker_eval_store.merge_store(action_executed_result)
-                tracker_actions.append(
-                    {
-                        &quot;action&quot;: action_executed_result.action_targets[0],
-                        &quot;predicted&quot;: action_executed_result.action_predictions[0],
-                        &quot;policy&quot;: prediction.policy_name,
-                        &quot;confidence&quot;: prediction.max_confidence,
-                    }
-                )
+                tracker_actions.append({
+                    &quot;action&quot;: action_executed_result.action_targets[0],
+                    &quot;predicted&quot;: action_executed_result.action_predictions[0],
+                    &quot;policy&quot;: prediction.policy_name,
+                    &quot;confidence&quot;: prediction.max_confidence,
+                })
         elif use_e2e and isinstance(event, UserUttered):
             # This means that user utterance didn't have a user message, only intent,
             # so we can skip the NLU part and take the parse data directly.
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/tracker_store.py#L606'>rasa/core/tracker_store.py~L606</a></p>
<pre><code class="language-diff">         for new_event in tracker.events:
             # Event subclasses implement `__eq__` method that make it difficult
             # to compare events. We use `as_dict` to compare events.
-            if all(
-                [
-                    new_event.as_dict() != existing_event.as_dict()
-                    for existing_event in merged.events
-                ]
-            ):
+            if all([
+                new_event.as_dict() != existing_event.as_dict()
+                for existing_event in merged.events
+            ]):
                 merged.update(new_event)
 
         return merged
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/training/interactive.py#L920'>rasa/core/training/interactive.py~L920</a></p>
<pre><code class="language-diff">     responses = NEW_RESPONSES
 
     # TODO for now there is no way to distinguish between action and form
-    collected_actions = list(
-        {
-            e[&quot;name&quot;]
-            for e in actions
-            if e[&quot;name&quot;] not in rasa.shared.core.constants.DEFAULT_ACTION_NAMES
-            and e[&quot;name&quot;] not in old_domain.form_names
-        }
-    )
-
-    new_domain = Domain.from_dict(
-        {
-            KEY_INTENTS: list(_intents_from_messages(messages)),
-            KEY_ENTITIES: _entities_from_messages(messages),
-            KEY_RESPONSES: responses,
-            KEY_ACTIONS: collected_actions,
-        }
-    )
+    collected_actions = list({
+        e[&quot;name&quot;]
+        for e in actions
+        if e[&quot;name&quot;] not in rasa.shared.core.constants.DEFAULT_ACTION_NAMES
+        and e[&quot;name&quot;] not in old_domain.form_names
+    })
+
+    new_domain = Domain.from_dict({
+        KEY_INTENTS: list(_intents_from_messages(messages)),
+        KEY_ENTITIES: _entities_from_messages(messages),
+        KEY_RESPONSES: responses,
+        KEY_ACTIONS: collected_actions,
+    })
 
     old_domain.merge(new_domain).persist(domain_path)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/core/training/interactive.py#L1725'>rasa/core/training/interactive.py~L1725</a></p>
<pre><code class="language-diff">     for potential_width in range(monospace_wrapping_width, -1, -1):
         lines = textwrap.wrap(text, potential_width)
         # test whether all lines' visible width fits the available width
-        if all(
-            [
-                terminaltables.width_and_alignment.visible_width(line)
-                &lt;= monospace_wrapping_width
-                for line in lines
-            ]
-        ):
+        if all([
+            terminaltables.width_and_alignment.visible_width(line)
+            &lt;= monospace_wrapping_width
+            for line in lines
+        ]):
             true_wrapping_width = potential_width
             break
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/engine/graph.py#L139'>rasa/engine/graph.py~L139</a></p>
<pre><code class="language-diff">             targets if targets else self.target_names
         )
 
-        return GraphSchema(
-            {
-                node_name: node
-                for node_name, node in self.nodes.items()
-                if node_name in dependencies
-            }
-        )
+        return GraphSchema({
+            node_name: node
+            for node_name, node in self.nodes.items()
+            if node_name in dependencies
+        })
 
     def _all_dependencies_schema(self, targets: List[Text]) -&gt; List[Text]:
         required = []
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/engine/recipes/default_recipe.py#L339'>rasa/engine/recipes/default_recipe.py~L339</a></p>
<pre><code class="language-diff">                     cli_parameters,
                 )
 
-            if component.types.intersection(
-                {
-                    self.ComponentType.MESSAGE_TOKENIZER,
-                    self.ComponentType.MESSAGE_FEATURIZER,
-                }
-            ):
+            if component.types.intersection({
+                self.ComponentType.MESSAGE_TOKENIZER,
+                self.ComponentType.MESSAGE_FEATURIZER,
+            }):
                 last_run_node = self._add_nlu_process_node(
                     train_nodes,
                     component.clazz,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/engine/recipes/default_recipe.py#L731'>rasa/engine/recipes/default_recipe.py~L731</a></p>
<pre><code class="language-diff">                     config=config,
                 )
 
-            if component.types.intersection(
-                {
-                    self.ComponentType.MESSAGE_TOKENIZER,
-                    self.ComponentType.MESSAGE_FEATURIZER,
-                }
-            ):
+            if component.types.intersection({
+                self.ComponentType.MESSAGE_TOKENIZER,
+                self.ComponentType.MESSAGE_FEATURIZER,
+            }):
                 last_run_node = self._add_nlu_predict_node_from_train(
                     predict_nodes,
                     component_name,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/engine/recipes/default_recipe.py#L745'>rasa/engine/recipes/default_recipe.py~L745</a></p>
<pre><code class="language-diff">                     config,
                     from_resource=component.is_trainable,
                 )
-            elif component.types.intersection(
-                {
-                    self.ComponentType.INTENT_CLASSIFIER,
-                    self.ComponentType.ENTITY_EXTRACTOR,
-                }
-            ):
+            elif component.types.intersection({
+                self.ComponentType.INTENT_CLASSIFIER,
+                self.ComponentType.ENTITY_EXTRACTOR,
+            }):
                 if component.is_trainable:
                     last_run_node = self._add_nlu_predict_node_from_train(
                         predict_nodes,
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/engine/validation.py#L510'>rasa/engine/validation.py~L510</a></p>
<pre><code class="language-diff">         for component_type, node_names in unmet_requirements_for_target.items():
             unmet_requirements.setdefault(component_type, set()).update(node_names)
     if unmet_requirements:
-        errors = &quot;\n&quot;.join(
-            [
-                f&quot;The following components require a {component_type.__name__}: &quot;
-                f&quot;{', '.join(sorted(required_by))}. &quot;
-                for component_type, required_by in unmet_requirements.items()
-            ]
-        )
+        errors = &quot;\n&quot;.join([
+            f&quot;The following components require a {component_type.__name__}: &quot;
+            f&quot;{', '.join(sorted(required_by))}. &quot;
+            for component_type, required_by in unmet_requirements.items()
+        ])
         num_nodes = len(
             set(
                 node_name
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/graph_components/validators/default_recipe_validator.py#L156'>rasa/graph_components/validators/default_recipe_validator.py~L156</a></p>
<pre><code class="language-diff">                 docs=DOCS_URL_COMPONENTS,
             )
 
-        if training_data.entity_examples and self._component_types.isdisjoint(
-            {DIETClassifier, CRFEntityExtractor}
-        ):
+        if training_data.entity_examples and self._component_types.isdisjoint({
+            DIETClassifier,
+            CRFEntityExtractor,
+        }):
             if training_data.entity_roles_groups_used():
                 rasa.shared.utils.io.raise_warning(
                     f&quot;You have defined training data with entities that &quot;
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/graph_components/validators/default_recipe_validator.py#L172'>rasa/graph_components/validators/default_recipe_validator.py~L172</a></p>
<pre><code class="language-diff">                     docs=DOCS_URL_COMPONENTS,
                 )
 
-        if training_data.regex_features and self._component_types.isdisjoint(
-            [RegexFeaturizer, RegexEntityExtractor]
-        ):
+        if training_data.regex_features and self._component_types.isdisjoint([
+            RegexFeaturizer,
+            RegexEntityExtractor,
+        ]):
             rasa.shared.utils.io.raise_warning(
                 f&quot;You have defined training data with regexes, but &quot;
                 f&quot;your NLU configuration does not include a 'RegexFeaturizer' &quot;
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/graph_components/validators/default_recipe_validator.py#L186'>rasa/graph_components/validators/default_recipe_validator.py~L186</a></p>
<pre><code class="language-diff">                 docs=DOCS_URL_COMPONENTS,
             )
 
-        if training_data.lookup_tables and self._component_types.isdisjoint(
-            [RegexFeaturizer, RegexEntityExtractor]
-        ):
+        if training_data.lookup_tables and self._component_types.isdisjoint([
+            RegexFeaturizer,
+            RegexEntityExtractor,
+        ]):
             rasa.shared.utils.io.raise_warning(
                 f&quot;You have defined training data consisting of lookup tables, but &quot;
                 f&quot;your NLU configuration does not include a featurizer &quot;
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/graph_components/validators/default_recipe_validator.py#L362'>rasa/graph_components/validators/default_recipe_validator.py~L362</a></p>
<pre><code class="language-diff">             and not node_name.startswith(&quot;e2e&quot;)
         ]
 
-        Featurizer.raise_if_featurizer_configs_are_not_compatible(
-            [schema_node.config for schema_node in featurizers]
-        )
+        Featurizer.raise_if_featurizer_configs_are_not_compatible([
+            schema_node.config for schema_node in featurizers
+        ])
 
     def _validate_core(self, story_graph: StoryGraph, domain: Domain) -&gt; None:
         &quot;&quot;&quot;Validates whether the configuration matches the training data.
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/nlu/classifiers/diet_classifier.py#L1463'>rasa/nlu/classifiers/diet_classifier.py~L1463</a></p>
<pre><code class="language-diff"> 
             # disable input dropout applied to sparse and dense label features
             label_config = self.config.copy()
-            label_config.update(
-                {SPARSE_INPUT_DROPOUT: False, DENSE_INPUT_DROPOUT: False}
-            )
+            label_config.update({
+                SPARSE_INPUT_DROPOUT: False,
+                DENSE_INPUT_DROPOUT: False,
+            })
 
             self._tf_layers[f&quot;feature_combining_layer.{self.label_name}&quot;] = (
                 rasa_layers.RasaFeatureCombiningLayer(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/nlu/featurizers/dense_featurizer/lm_featurizer.py#L543'>rasa/nlu/featurizers/dense_featurizer/lm_featurizer.py~L543</a></p>
<pre><code class="language-diff">         for index, embedding in enumerate(sequence_embeddings):
             embedding_size = embedding.shape[-1]
             if actual_sequence_lengths[index] &gt; self.max_model_sequence_length:
-                embedding = np.concatenate(
-                    [
-                        embedding,
-                        np.zeros(
-                            (
-                                actual_sequence_lengths[index]
-                                - self.max_model_sequence_length,
-                                embedding_size,
-                            ),
-                            dtype=np.float32,
+                embedding = np.concatenate([
+                    embedding,
+                    np.zeros(
+                        (
+                            actual_sequence_lengths[index]
+                            - self.max_model_sequence_length,
+                            embedding_size,
                         ),
-                    ]
-                )
+                        dtype=np.float32,
+                    ),
+                ])
             reshaped_sequence_embeddings.append(embedding)
         return ragged_array_to_ndarray(reshaped_sequence_embeddings)
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/nlu/featurizers/sparse_featurizer/count_vectors_featurizer.py#L436'>rasa/nlu/featurizers/sparse_featurizer/count_vectors_featurizer.py~L436</a></p>
<pre><code class="language-diff">         # To train a shared vocabulary, we use TEXT as the
         # attribute for which a combined vocabulary is built.
         if not self.finetune_mode:
-            self.vectorizers = self._create_shared_vocab_vectorizers(
-                {
-                    &quot;strip_accents&quot;: self.strip_accents,
-                    &quot;lowercase&quot;: self.lowercase,
-                    &quot;stop_words&quot;: self.stop_words,
-                    &quot;min_ngram&quot;: self.min_ngram,
-                    &quot;max_ngram&quot;: self.max_ngram,
-                    &quot;max_df&quot;: self.max_df,
-                    &quot;min_df&quot;: self.min_df,
-                    &quot;max_features&quot;: self.max_features,
-                    &quot;analyzer&quot;: self.analyzer,
-                }
-            )
+            self.vectorizers = self._create_shared_vocab_vectorizers({
+                &quot;strip_accents&quot;: self.strip_accents,
+                &quot;lowercase&quot;: self.lowercase,
+                &quot;stop_words&quot;: self.stop_words,
+                &quot;min_ngram&quot;: self.min_ngram,
+                &quot;max_ngram&quot;: self.max_ngram,
+                &quot;max_df&quot;: self.max_df,
+                &quot;min_df&quot;: self.min_df,
+                &quot;max_features&quot;: self.max_features,
+                &quot;analyzer&quot;: self.analyzer,
+            })
             self._fit_vectorizer_from_scratch(TEXT, combined_cleaned_texts)
         else:
             self._fit_loaded_vectorizer(TEXT, combined_cleaned_texts)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/nlu/featurizers/sparse_featurizer/count_vectors_featurizer.py#L459'>rasa/nlu/featurizers/sparse_featurizer/count_vectors_featurizer.py~L459</a></p>
<pre><code class="language-diff">     ) -&gt; None:
         &quot;&quot;&quot;Constructs the vectorizers and train them with an independent vocab.&quot;&quot;&quot;
         if not self.finetune_mode:
-            self.vectorizers = self._create_independent_vocab_vectorizers(
-                {
-                    &quot;strip_accents&quot;: self.strip_accents,
-                    &quot;lowercase&quot;: self.lowercase,
-                    &quot;stop_words&quot;: self.stop_words,
-                    &quot;min_ngram&quot;: self.min_ngram,
-                    &quot;max_ngram&quot;: self.max_ngram,
-                    &quot;max_df&quot;: self.max_df,
-                    &quot;min_df&quot;: self.min_df,
-                    &quot;max_features&quot;: self.max_features,
-                    &quot;analyzer&quot;: self.analyzer,
-                }
-            )
+            self.vectorizers = self._create_independent_vocab_vectorizers({
+                &quot;strip_accents&quot;: self.strip_accents,
+                &quot;lowercase&quot;: self.lowercase,
+                &quot;stop_words&quot;: self.stop_words,
+                &quot;min_ngram&quot;: self.min_ngram,
+                &quot;max_ngram&quot;: self.max_ngram,
+                &quot;max_df&quot;: self.max_df,
+                &quot;min_df&quot;: self.min_df,
+                &quot;max_features&quot;: self.max_features,
+                &quot;analyzer&quot;: self.analyzer,
+            })
         for attribute in self._attributes:
             if self._attribute_texts_is_non_empty(attribute_texts[attribute]):
                 if not self.finetune_mode:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/nlu/featurizers/sparse_featurizer/lexical_syntactic_featurizer.py#L199'>rasa/nlu/featurizers/sparse_featurizer/lexical_syntactic_featurizer.py~L199</a></p>
<pre><code class="language-diff">             `self.config` should be checked
         &quot;&quot;&quot;
         self._feature_to_idx_dict = feature_to_idx_dict
-        self._number_of_features = sum(
-            [
-                len(feature_values.values())
-                for feature_values in self._feature_to_idx_dict.values()
-            ]
-        )
+        self._number_of_features = sum([
+            len(feature_values.values())
+            for feature_values in self._feature_to_idx_dict.values()
+        ])
         if check_consistency_with_config:
             known_features = set(self._feature_to_idx_dict.keys())
             not_in_config = known_features.difference(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/nlu/test.py#L1116'>rasa/nlu/test.py~L1116</a></p>
<pre><code class="language-diff">     from rasa.nlu.extractors.crf_entity_extractor import CRFEntityExtractor
     from rasa.nlu.classifiers.diet_classifier import DIETClassifier
 
-    return not extractors.isdisjoint(
-        {CRFEntityExtractor.__name__, DIETClassifier.__name__}
-    )
+    return not extractors.isdisjoint({
+        CRFEntityExtractor.__name__,
+        DIETClassifier.__name__,
+    })
 
 
 def align_entity_predictions(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/server.py#L692'>rasa/server.py~L692</a></p>
<pre><code class="language-diff">     @app.get(&quot;/version&quot;)
     async def version(request: Request) -&gt; HTTPResponse:
         &quot;&quot;&quot;Respond with the version number of the installed Rasa.&quot;&quot;&quot;
-        return response.json(
-            {
-                &quot;version&quot;: rasa.__version__,
-                &quot;minimum_compatible_version&quot;: MINIMUM_COMPATIBLE_VERSION,
-            }
-        )
+        return response.json({
+            &quot;version&quot;: rasa.__version__,
+            &quot;minimum_compatible_version&quot;: MINIMUM_COMPATIBLE_VERSION,
+        })
 
     @app.get(&quot;/status&quot;)
     @requires_auth(app, auth_token)
     @ensure_loaded_agent(app)
     async def status(request: Request) -&gt; HTTPResponse:
         &quot;&quot;&quot;Respond with the model name and the fingerprint of that model.&quot;&quot;&quot;
-        return response.json(
-            {
-                &quot;model_file&quot;: app.ctx.agent.processor.model_filename,
-                &quot;model_id&quot;: app.ctx.agent.model_id,
-                &quot;num_active_training_jobs&quot;: app.ctx.active_training_processes.value,
-            }
-        )
+        return response.json({
+            &quot;model_file&quot;: app.ctx.agent.processor.model_filename,
+            &quot;model_id&quot;: app.ctx.agent.model_id,
+            &quot;num_active_training_jobs&quot;: app.ctx.active_training_processes.value,
+        })
 
     @app.get(&quot;/conversations/&lt;conversation_id:path&gt;/tracker&quot;)
     @requires_auth(app, auth_token)
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/domain.py#L419'>rasa/shared/core/domain.py~L419</a></p>
<pre><code class="language-diff">         # add the config, session_config and training data version defaults
         # if not included in the original domain dict
         if &quot;config&quot; not in data and not store_entities_as_slots:
-            data.update(
-                {&quot;config&quot;: {&quot;store_entities_as_slots&quot;: store_entities_as_slots}}
-            )
+            data.update({
+                &quot;config&quot;: {&quot;store_entities_as_slots&quot;: store_entities_as_slots}
+            })
 
         if SESSION_CONFIG_KEY not in data:
-            data.update(
-                {
-                    SESSION_CONFIG_KEY: {
-                        SESSION_EXPIRATION_TIME_KEY: (
-                            session_config.session_expiration_time
-                        ),
-                        CARRY_OVER_SLOTS_KEY: session_config.carry_over_slots,
-                    }
+            data.update({
+                SESSION_CONFIG_KEY: {
+                    SESSION_EXPIRATION_TIME_KEY: (
+                        session_config.session_expiration_time
+                    ),
+                    CARRY_OVER_SLOTS_KEY: session_config.carry_over_slots,
                 }
-            )
+            })
 
         if KEY_TRAINING_DATA_FORMAT_VERSION not in data:
-            data.update(
-                {
-                    KEY_TRAINING_DATA_FORMAT_VERSION: DoubleQuotedScalarString(
-                        LATEST_TRAINING_DATA_FORMAT_VERSION
-                    )
-                }
-            )
+            data.update({
+                KEY_TRAINING_DATA_FORMAT_VERSION: DoubleQuotedScalarString(
+                    LATEST_TRAINING_DATA_FORMAT_VERSION
+                )
+            })
 
         return data
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/events.py#L151'>rasa/shared/core/events.py~L151</a></p>
<pre><code class="language-diff"> 
     message_from_md = entities_parser.parse_training_example(text, intent)
     deserialised_entities = deserialise_entities(entities)
-    return TrainingDataWriter.generate_message(
-        {&quot;text&quot;: message_from_md.get(TEXT), &quot;entities&quot;: deserialised_entities}
-    )
+    return TrainingDataWriter.generate_message({
+        &quot;text&quot;: message_from_md.get(TEXT),
+        &quot;entities&quot;: deserialised_entities,
+    })
 
 
 def split_events(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/events.py#L583'>rasa/shared/core/events.py~L583</a></p>
<pre><code class="language-diff"> 
     def as_dict(self) -&gt; Dict[Text, Any]:
         _dict = super().as_dict()
-        _dict.update(
-            {
-                &quot;text&quot;: self.text,
-                &quot;parse_data&quot;: self.parse_data,
-                &quot;input_channel&quot;: getattr(self, &quot;input_channel&quot;, None),
-                &quot;message_id&quot;: getattr(self, &quot;message_id&quot;, None),
-                &quot;metadata&quot;: self.metadata,
-            }
-        )
+        _dict.update({
+            &quot;text&quot;: self.text,
+            &quot;parse_data&quot;: self.parse_data,
+            &quot;input_channel&quot;: getattr(self, &quot;input_channel&quot;, None),
+            &quot;message_id&quot;: getattr(self, &quot;message_id&quot;, None),
+            &quot;metadata&quot;: self.metadata,
+        })
         return _dict
 
     def as_sub_state(self) -&gt; Dict[Text, Union[None, Text, List[Optional[Text]]]]:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/events.py#L1165'>rasa/shared/core/events.py~L1165</a></p>
<pre><code class="language-diff"> 
     def __hash__(self) -&gt; int:
         &quot;&quot;&quot;Returns unique hash for event.&quot;&quot;&quot;
-        return hash(
-            (
-                self.intent,
-                self.entities,
-                self.trigger_date_time.isoformat(),
-                self.kill_on_user_message,
-                self.name,
-            )
-        )
+        return hash((
+            self.intent,
+            self.entities,
+            self.trigger_date_time.isoformat(),
+            self.kill_on_user_message,
+            self.name,
+        ))
 
     def __eq__(self, other: Any) -&gt; bool:
         &quot;&quot;&quot;Compares object with other object.&quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/events.py#L1327'>rasa/shared/core/events.py~L1327</a></p>
<pre><code class="language-diff"> 
     def as_story_string(self) -&gt; Text:
         &quot;&quot;&quot;Returns text representation of event.&quot;&quot;&quot;
-        props = json.dumps(
-            {&quot;name&quot;: self.name, &quot;intent&quot;: self.intent, &quot;entities&quot;: self.entities}
-        )
+        props = json.dumps({
+            &quot;name&quot;: self.name,
+            &quot;intent&quot;: self.intent,
+            &quot;entities&quot;: self.entities,
+        })
         return f&quot;{self.type_name}{props}&quot;
 
     @classmethod
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/events.py#L1639'>rasa/shared/core/events.py~L1639</a></p>
<pre><code class="language-diff">     def as_dict(self) -&gt; Dict[Text, Any]:
         &quot;&quot;&quot;Returns serialized event.&quot;&quot;&quot;
         d = super().as_dict()
-        d.update(
-            {
-                &quot;name&quot;: self.action_name,
-                &quot;policy&quot;: self.policy,
-                &quot;confidence&quot;: self.confidence,
-                &quot;action_text&quot;: self.action_text,
-                &quot;hide_rule_turn&quot;: self.hide_rule_turn,
-            }
-        )
+        d.update({
+            &quot;name&quot;: self.action_name,
+            &quot;policy&quot;: self.policy,
+            &quot;confidence&quot;: self.confidence,
+            &quot;action_text&quot;: self.action_text,
+            &quot;hide_rule_turn&quot;: self.hide_rule_turn,
+        })
         return d
 
     def as_sub_state(self) -&gt; Dict[Text, Text]:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/events.py#L1992'>rasa/shared/core/events.py~L1992</a></p>
<pre><code class="language-diff">     def as_dict(self) -&gt; Dict[Text, Any]:
         &quot;&quot;&quot;Returns serialized event.&quot;&quot;&quot;
         d = super().as_dict()
-        d.update(
-            {
-                &quot;name&quot;: self.action_name,
-                &quot;policy&quot;: self.policy,
-                &quot;confidence&quot;: self.confidence,
-            }
-        )
+        d.update({
+            &quot;name&quot;: self.action_name,
+            &quot;policy&quot;: self.policy,
+            &quot;confidence&quot;: self.confidence,
+        })
         return d
 
     def apply_to(self, tracker: &quot;DialogueStateTracker&quot;) -&gt; None:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/generator.py#L598'>rasa/shared/core/generator.py~L598</a></p>
<pre><code class="language-diff">         &quot;&quot;&quot;Add unused end checkpoints
         if they were never encountered as start checkpoints.
         &quot;&quot;&quot;
-        return unused_checkpoints.union(
-            {
-                start_name
-                for start_name in start_checkpoints
-                if start_name not in used_checkpoints
-            }
-        )
+        return unused_checkpoints.union({
+            start_name
+            for start_name in start_checkpoints
+            if start_name not in used_checkpoints
+        })
 
     @staticmethod
     def _filter_active_trackers(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/training_data/story_reader/yaml_story_reader.py#L751'>rasa/shared/core/training_data/story_reader/yaml_story_reader.py~L751</a></p>
<pre><code class="language-diff">                 entity_values = [entity_values]
 
             for entity_value in entity_values:
-                entities.append(
-                    {
-                        ENTITY_ATTRIBUTE_TYPE: entity_type,
-                        ENTITY_ATTRIBUTE_VALUE: entity_value,
-                        ENTITY_ATTRIBUTE_START: match.start(ENTITIES),
-                        ENTITY_ATTRIBUTE_END: match.end(ENTITIES),
-                        **default_properties,
-                    }
-                )
+                entities.append({
+                    ENTITY_ATTRIBUTE_TYPE: entity_type,
+                    ENTITY_ATTRIBUTE_VALUE: entity_value,
+                    ENTITY_ATTRIBUTE_START: match.start(ENTITIES),
+                    ENTITY_ATTRIBUTE_END: match.end(ENTITIES),
+                    **default_properties,
+                })
         return entities
 
     @staticmethod
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/training_data/story_writer/yaml_story_writer.py#L180'>rasa/shared/core/training_data/story_writer/yaml_story_writer.py~L180</a></p>
<pre><code class="language-diff">             `True` if the `stories` contain at least one active loop.
             `False` otherwise.
         &quot;&quot;&quot;
-        return any(
-            [
-                [event for event in story_step.events if isinstance(event, ActiveLoop)]
-                for story_step in stories
-            ]
-        )
+        return any([
+            [event for event in story_step.events if isinstance(event, ActiveLoop)]
+            for story_step in stories
+        ])
 
     @staticmethod
     def process_user_utterance(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/training_data/story_writer/yaml_story_writer.py#L225'>rasa/shared/core/training_data/story_writer/yaml_story_writer.py~L225</a></p>
<pre><code class="language-diff">                                     )
                                 )
                                 if commented_entity:
-                                    entity_map = CommentedMap(
-                                        [(entity[&quot;entity&quot;], entity[&quot;value&quot;])]
-                                    )
+                                    entity_map = CommentedMap([
+                                        (entity[&quot;entity&quot;], entity[&quot;value&quot;])
+                                    ])
                                     entity_map.yaml_add_eol_comment(
                                         commented_entity, entity[&quot;entity&quot;]
                                     )
                                     entities.append(entity_map)
                                 else:
                                     entities.append(
-                                        OrderedDict(
-                                            [(entity[&quot;entity&quot;], entity[&quot;value&quot;])]
-                                        )
+                                        OrderedDict([
+                                            (entity[&quot;entity&quot;], entity[&quot;value&quot;])
+                                        ])
                                     )
                     else:
                         entities.append(
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/training_data/story_writer/yaml_story_writer.py#L327'>rasa/shared/core/training_data/story_writer/yaml_story_writer.py~L327</a></p>
<pre><code class="language-diff">         for checkpoint in checkpoints:
             if checkpoint.name == STORY_START:
                 continue
-            next_checkpoint: OrderedDict[Text, Any] = OrderedDict(
-                [(KEY_CHECKPOINT, checkpoint.name)]
-            )
+            next_checkpoint: OrderedDict[Text, Any] = OrderedDict([
+                (KEY_CHECKPOINT, checkpoint.name)
+            ])
             if checkpoint.conditions:
                 next_checkpoint[KEY_CHECKPOINT_SLOTS] = [
                     {key: value} for key, value in checkpoint.conditions.items()
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/core/training_data/story_writer/yaml_story_writer.py#L346'>rasa/shared/core/training_data/story_writer/yaml_story_writer.py~L346</a></p>
<pre><code class="language-diff">         Returns:
             Dict with converted user utterances.
         &quot;&quot;&quot;
-        return OrderedDict(
-            [
-                (
-                    KEY_OR,
-                    [
-                        self.process_user_utterance(utterance, self._is_test_story)
-                        for utterance in utterances
-                    ],
-                )
-            ]
-        )
+        return OrderedDict([
+            (
+                KEY_OR,
+                [
+                    self.process_user_utterance(utterance, self._is_test_story)
+                    for utterance in utterances
+                ],
+            )
+        ])
 
     @staticmethod
     def process_active_loop(event: ActiveLoop) -&gt; OrderedDict:
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/importers/importer.py#L413'>rasa/shared/importers/importer.py~L413</a></p>
<pre><code class="language-diff">             retrieval_intents
         )
 
-        return Domain.from_dict(
-            {
-                KEY_INTENTS: retrieval_intent_properties,
-                KEY_RESPONSES: responses,
-                KEY_ACTIONS: action_names,
-            }
-        )
+        return Domain.from_dict({
+            KEY_INTENTS: retrieval_intent_properties,
+            KEY_RESPONSES: responses,
+            KEY_ACTIONS: action_names,
+        })
 
     def get_stories(self, exclusion_percentage: Optional[int] = None) -&gt; StoryGraph:
         &quot;&quot;&quot;Retrieves training stories / rules (see parent class for full docstring).&quot;&quot;&quot;
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/importers/importer.py#L481'>rasa/shared/importers/importer.py~L481</a></p>
<pre><code class="language-diff"> 
         additional_e2e_action_names = set()
         for story_step in stories.story_steps:
-            additional_e2e_action_names.update(
-                {
-                    event.action_text
-                    for event in story_step.events
-                    if isinstance(event, ActionExecuted) and event.action_text
-                }
-            )
+            additional_e2e_action_names.update({
+                event.action_text
+                for event in story_step.events
+                if isinstance(event, ActionExecuted) and event.action_text
+            })
 
         return Domain.from_dict({KEY_E2E_ACTIONS: list(additional_e2e_action_names)})
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/nlu/training_data/formats/readerwriter.py#L179'>rasa/shared/nlu/training_data/formats/readerwriter.py~L179</a></p>
<pre><code class="language-diff">         if use_short_syntax:
             return f&quot;({entity_type})&quot;
         else:
-            entity_dict = OrderedDict(
-                [
-                    (ENTITY_ATTRIBUTE_TYPE, entity_type),
-                    (ENTITY_ATTRIBUTE_ROLE, entity_role),
-                    (ENTITY_ATTRIBUTE_GROUP, entity_group),
-                    (ENTITY_ATTRIBUTE_VALUE, entity_value),
-                ]
-            )
-            entity_dict = OrderedDict(
-                [(k, v) for k, v in entity_dict.items() if v is not None]
-            )
+            entity_dict = OrderedDict([
+                (ENTITY_ATTRIBUTE_TYPE, entity_type),
+                (ENTITY_ATTRIBUTE_ROLE, entity_role),
+                (ENTITY_ATTRIBUTE_GROUP, entity_group),
+                (ENTITY_ATTRIBUTE_VALUE, entity_value),
+            ])
+            entity_dict = OrderedDict([
+                (k, v) for k, v in entity_dict.items() if v is not None
+            ])
 
             return f&quot;{json.dumps(entity_dict)}&quot;
 
</code></pre>
<p><a href='https://github.com/RasaHQ/rasa/blob/c4069568b4fe2adb5d5a1e55d17ce8cb9dda27fc/rasa/shared/nlu/training_data/formats/readerwriter.py#L212'>rasa/shared/nlu/training_data/formats/readerwriter.py~L212&lt;/a</p>
<p>... (truncated 56065 lines) ...</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-19 21:36:25 UTC
    </footer>
</body>
</html>
