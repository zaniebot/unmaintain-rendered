```yaml
number: 7177
title: "Copy the starred argument as is for `PLW3301` autofix"
type: pull_request
state: merged
author: dhruvmanila
labels:
  - bug
assignees: []
merged: true
base: main
head: dhruv/plw3301
created_at: 2023-09-06T02:30:13Z
updated_at: 2023-09-06T07:30:07Z
url: https://github.com/astral-sh/ruff/pull/7177
synced_at: 2026-01-12T02:45:38Z
```

# Copy the starred argument as is for `PLW3301` autofix

---

_Pull request opened by @dhruvmanila on 2023-09-06 02:30_

## Summary

This PR fixes the bug where the autofix for `PLE3301` would _unconditionally_
use the starred argument is there was only a single argument to a `min`/`max`
call. This is incorrect as it would add an additional star making it a keyword
argument.

```diff
- min(min(*arg), 1)
+ min(**arg, 1)
```

The fix is to only use the starred argument node if it isn't already a starred
argument.

## Test Plan

Add a new test case to verify the fix.

fixes: #7142


---

_Comment by @dhruvmanila on 2023-09-06 02:30_

Current dependencies on/for this PR:
* main
  * **PR #7177** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7177" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7177?utm_source=stack-comment).

---

_Comment by @github-actions[bot] on 2023-09-06 02:46_

## PR Check Results
### Ecosystem
âœ… ecosystem check detected no changes.



---

_@zanieb approved on 2023-09-06 03:21_

---

_Merged by @dhruvmanila on 2023-09-06 03:27_

---

_Closed by @dhruvmanila on 2023-09-06 03:27_

---

_Branch deleted on 2023-09-06 03:27_

---

_Label `bug` added by @dhruvmanila on 2023-09-06 07:30_

---
