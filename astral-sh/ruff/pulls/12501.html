<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add setup docs for Zed editor - astral-sh/ruff #12501</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add setup docs for Zed editor</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/12501">#12501</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2024-07-25 05:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body">Summary
<p>This PR adds the setup documentation for using Ruff with the Zed editor.</p>
<p>Closes: #12388</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-25 05:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-07-25 06:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/editors/setup.md</code>:473 on 2024-07-25 06:10</div>
            <div class="timeline-body"><p>This note is unclear to me. The formatter isn&#x27;t in code actions. How can the other code actions be before the formatter?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>docs/editors/setup.md</code>:473 on 2024-07-25 06:17</div>
            <div class="timeline-body"><p>What I meant was that in the <code>formatter</code> list, the code actions should be applied first, and then the language server should be used to run the formatter. So, the order in this list is important:</p>
<pre><code>      &quot;formatter&quot;: [
        {
          &quot;code_actions&quot;: {
            &quot;source.organizeImports.ruff&quot;: true,
            &quot;source.fixAll.ruff&quot;: true
          }
        },
        {
          &quot;language_server&quot;: {
            &quot;name&quot;: &quot;ruff&quot;
          }
        }
      ]
</code></pre>
<p>Otherwise, if a list of unused imports are removed, the blank lines between the imports section and the following section remains.</p>
<p>https://github.com/user-attachments/assets/f3f00896-d249-4808-a79b-a776c9435621</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2024-07-25 06:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-07-25 06:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>docs/editors/setup.md</code>:473 on 2024-07-25 06:21</div>
            <div class="timeline-body"><p>ah, the language server sets the formatter. It&#x27;s a bit confusing because the entire section is called <em>formatter</em>. Maybe rephrase to. ...the correct order of the code actions and the <em>formatter language server</em> settings.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/osiewicz">@osiewicz</a> on <code>docs/editors/setup.md</code>:422 on 2024-07-25 09:37</div>
            <div class="timeline-body"><p>Maybe we should be specific about the version (0.146.0) multi-formatters were made available in instead? As is, it sounds like I have to use Preview to use multiple formatters, when in reality this change is gonna be available on Stable channel in a week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/osiewicz">@osiewicz</a> reviewed on 2024-07-25 09:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2024-07-25 11:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>docs/editors/setup.md</code>:422 on 2024-07-25 11:05</div>
            <div class="timeline-body"><p>Yeah, that makes sense, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-25 11:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-07-25 12:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-25 13:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-07-25 13:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-07-25 13:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samueller">@samueller</a> on 2024-08-19 15:49</div>
            <div class="timeline-body"><p>I&#x27;ve read the setup docs, but still can&#x27;t figure out how to add linting options. For example, where in Zed&#x27;s <code>settings.json</code> do I add the option for <a href="https://docs.astral.sh/ruff/settings/#format_quote-style">quote-style</a>? The docs give examples for <code>pyproject.toml</code> and <code>ruff.toml</code> and I&#x27;ve tried many possible places in <code>settings.json</code>, but can&#x27;t figure it out.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-19 15:59</div>
            <div class="timeline-body"><p>@samueller sorry that you&#x27;re struggling with this.</p>
<p>The editor doesn&#x27;t support all ruff settings. It only supports a <a href="https://docs.astral.sh/ruff/editors/settings/">subset</a> and <code>quote-style</code> isn&#x27;t part of that subset. To configure the <code>quote-style</code>, you have to create a <code>pyproject.toml</code> or <code>ruff.toml</code> and set the quote style in there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samueller">@samueller</a> on 2024-08-19 16:02</div>
            <div class="timeline-body"><blockquote>
<p>It only supports a <a href="https://docs.astral.sh/ruff/editors/settings/">subset</a> and <code>quote-style</code> isn&#x27;t part of that subset.</p>
</blockquote>
<p>I understand, thank you for letting me know</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-08-20 03:55</div>
            <div class="timeline-body"><p>@samueller Sorry that you struggled with this. Do you have any recommendation on how can we improve this in the documentation to make it clearer?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samueller">@samueller</a> on 2024-08-20 13:57</div>
            <div class="timeline-body"><blockquote>
<p>@samueller Do you have any recommendation on how can we improve this in the documentation to make it clearer?</p>
</blockquote>
<p>Would have been great to have read which subset of features work in Zed&#x27;s <code>settings.json</code> and which don&#x27;t in the Zed configuration section.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-08-23 05:40</div>
            <div class="timeline-body"><blockquote>
<p>Would have been great to have read which subset of features work in Zed&#x27;s <code>settings.json</code> and which don&#x27;t in the Zed configuration section.</p>
</blockquote>
<p>I&#x27;m curious to know whether the following section in https://docs.astral.sh/ruff/editors/setup/#zed conveys this:</p>
<blockquote>
<p>To configure the language server, you can provide the <a href="https://docs.astral.sh/ruff/editors/settings/">server settings</a> under the <a href="https://zed.dev/docs/configuring-zed#lsp">lsp.ruff.initialization_options.settings</a> key:</p>
<pre><code>{
  &quot;lsp&quot;: {
    &quot;ruff&quot;: {
      &quot;initialization_options&quot;: {
        &quot;settings&quot;: {
          // Ruff server settings goes here
          &quot;lineLength&quot;: 80,
          &quot;lint&quot;: {
            &quot;extendSelect&quot;: [&quot;I&quot;],
          }
        }
      }
    }
  }
}
</code></pre>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/samueller">@samueller</a> on 2024-08-23 18:10</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;m curious to know whether the following section in https://docs.astral.sh/ruff/editors/setup/#zed conveys this:</p>
</blockquote>
<p>I had seen that, but it didn&#x27;t tell me the settings that won&#x27;t work, such as <code>quote-reply</code>. I had assumed all settings would work, I just needed to figure out how to specify them in <code>settings.json</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-08-26 06:55</div>
            <div class="timeline-body"><p>I see, thanks for the insight. I think it makes sense to explicitly clarify this point in the docs.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:05:28 UTC
    </footer>
</body>
</html>
