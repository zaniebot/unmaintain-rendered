<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve rule &amp; options documentation - astral-sh/ruff #14329</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve rule &amp; options documentation</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14329">#14329</a>
        opened by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a>
        on 2024-11-14 01:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on 2024-11-14 01:16</div>
            <div class="timeline-body"><ul>
<li>Add links within rule documentation to the options that the given rule uses</li>
<li>Add links within option documentation the the rules that use the given option</li>
<li>Fix dead link to typing.readthedocs.io</li>
<li>Add formatter compatibility notes to rules that are suggested not to be used</li>
<li>Remove links to options within a rule's documentation if that rule is not directly related to the option (even if the implementation of the rule makes use of the option), (E.g. rules D412 &amp; D414 with option <code>lint.pydocstyle.convention</code>)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @dhruvmanila on 2024-11-14 04:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/implicit.rs</code>:40 on 2024-11-14 08:17</div>
            <div class="timeline-body"><p>The rule is actually needed when using the formatter because the formatter can introduce new single-line implicitly concatenated strings. There's more detail about the incompatibility in https://github.com/astral-sh/ruff/issues/8272</p>
<p>We'll make this rule compatible with the new 2025 style, so maybe it's not worth documenting it for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/implicit.rs</code>:94 on 2024-11-14 08:19</div>
            <div class="timeline-body"><p>Same as for the other implicit-conatenated rule. The formatter doesn't make this rule redundant. We recommend against using this rule with the formatter because the formatter can introduce new violations when it splits an implicit concatenated string over multiple lines.</p>
<p>However, we address this issue in the new 2025 formatter style guide, at least for as long as a user uses both <code>SingleLineImplicitStringConcatenation</code> and <code>MultiLineImplicitStringConcatenation</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pydocstyle/rules/sections.rs</code>:83 on 2024-11-14 08:23</div>
            <div class="timeline-body"><p>I think we should keep this reference because changing the convention might disable this rule (it's not enabled for PEP257)</p>
<p>https://github.com/astral-sh/ruff/blob/83b1c48a935f17869b9ee618faadc99213f83d95/crates/ruff_linter/src/rules/pydocstyle/settings.rs#L55-L73</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pydocstyle/rules/sections.rs</code>:261 on 2024-11-14 08:24</div>
            <div class="timeline-body"><p>We should keep this link, PEP257 disables this rule</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-14 08:26</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> requested changes on 2024-11-14 08:27</div>
            <div class="timeline-body"><p>Thanks. This is great! Very nice finds.</p>
<p>We need to refine the documentation changes regarding the formatter compatibility with implicit concatenated string rules and we should keep the docstyle convention reference for some of the rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> reviewed on 2024-11-14 23:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on <code>crates/ruff_linter/src/rules/pydocstyle/rules/sections.rs</code>:83 on 2024-11-14 23:57</div>
            <div class="timeline-body"><p>Apologies. I was basing the need for the link to the convention setting based on whether it was documented within the main rule explanation. I have now fixed that documentation as well, for consistency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> reviewed on 2024-11-14 23:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on <code>crates/ruff_linter/src/rules/pydocstyle/rules/sections.rs</code>:261 on 2024-11-14 23:58</div>
            <div class="timeline-body"><p>I have returned the link to the setting and added more details on the effect the setting has on this rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> reviewed on 2024-11-15 00:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/implicit.rs</code>:40 on 2024-11-15 00:17</div>
            <div class="timeline-body"><p>I added this compatibility note due to the rule <code>ISC001</code> being on the list of incompatible linting rules: https://docs.astral.sh/ruff/formatter/#conflicting-lint-rules.
Perhaps a better message would be:</p>
<pre><code class="language-rust">/// # Formatter compatibility
/// Use of this rule alongside the [formatter] must be handled with care.
/// Currently, the [formatter] can introduce new single-line implicitly
/// concatenated strings, therefore we suggest rerunning the linter and
/// [formatter] in the following order:
/// 1. Run the linter with this rule (`ISC001`) disabled
/// 2. Run the [formatter]
/// 3. Rerun the linter with this rule (`ISC001`) enabled
/// This is one of very few cases where the [formatter] can produce code that
/// contains lint violations. It is a known issue that should be resolved by the
/// new 2025 style guide.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> reviewed on 2024-11-15 00:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/implicit.rs</code>:94 on 2024-11-15 00:18</div>
            <div class="timeline-body"><p>I added this compatibility note due to the rule <code>ISC002</code> being on the list of incompatible linting rules: https://docs.astral.sh/ruff/formatter/#conflicting-lint-rules.
Perhaps a better message would be:</p>
<pre><code class="language-rust">/// # Formatter compatibility
/// Use of this rule alongside the [formatter] must be handled with care.
/// Currently, the [formatter] can introduce new multi-line implicitly
/// concatenated strings, therefore we suggest rerunning the linter and
/// [formatter] in the following order:
/// 1. Run the linter with this rule (`ISC002`) disabled
/// 2. Run the [formatter]
/// 3. Rerun the linter with this rule (`ISC002`) enabled
/// This is one of very few cases where the [formatter] can produce code that
/// contains lint violations. It is a known issue that should be resolved by the
/// new 2025 style guide.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-11-15 07:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/implicit.rs</code>:40 on 2024-11-15 07:48</div>
            <div class="timeline-body"><p>This sounds great</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @CarrotManMatt on 2024-11-15 18:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-11-17 09:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2024-11-17 09:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-11-17 09:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-11-17 18:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on 2024-11-17 18:20</div>
            <div class="timeline-body"><p>@MichaReiser Do you have a link to the documentation for what will change with the 2025 style?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-17 19:18</div>
            <div class="timeline-body"><p>It's not very well documented at this point but you can find links to the planned changes in https://github.com/astral-sh/ruff/issues/13371</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 20:51:28 UTC
    </footer>
</body>
</html>
