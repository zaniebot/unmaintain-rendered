<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix iter example in usafe fixes doc - astral-sh/ruff #22118</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix iter example in usafe fixes doc</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22118">#22118</a>
        opened by <a href="https://github.com/PeterJCLaw">@PeterJCLaw</a>
        on 2025-12-20 21:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/PeterJCLaw">@PeterJCLaw</a></div>
            <div class="timeline-body">Summary
<p>This appears to have been a copy/paste error from the list example, as the subscript is not present in the original next/iter example only in the case where the error case is shown. While in the specific example code the subscript actually has no effect, it does make the example slightly confusing.</p>
<p>Consider the following variations, first the example from the docs unchanged and second the same code but not hitting the intended error case (due to using a non-empty collection):</p>
<pre><code>$ python3 -c &#x27;next(iter(range(0)))[0]&#x27;
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
StopIteration

$ python3 -c &#x27;next(iter(range(1)))[0]&#x27;
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
TypeError: &#x27;int&#x27; object is not subscriptable
</code></pre>
Test Plan
<p>Not directly tested, however see inline snippets above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/PeterJCLaw">@PeterJCLaw</a> on 2025-12-20 21:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-12-22 14:23</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-12-22 14:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/ntBre">@ntBre</a> on 2025-12-22 14:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-12-22 14:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:22:03 UTC
    </footer>
</body>
</html>
