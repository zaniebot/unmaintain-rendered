<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Write `ruff server` setup guide for Helix - astral-sh/ruff #11183</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Write <code>ruff server</code> setup guide for Helix</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/11183">#11183</a>
        opened by <a href="https://github.com/snowsignal">@snowsignal</a>
        on 2024-04-28 03:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/snowsignal">@snowsignal</a> on 2024-04-28 03:22</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Closes #11027.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by @snowsignal on 2024-04-28 03:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">server</span> added by @snowsignal on 2024-04-28 03:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:4 on 2024-04-28 12:55</div>
            <div class="timeline-body"><p>Nit: &quot;be at&quot;, like the last fragment?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:11 on 2024-04-28 12:56</div>
            <div class="timeline-body"><p>Nit: formatting here is different (no space after and before hard brackets) unlike the below. I'd probably just remove the spacing in both cases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-04-28 12:57</div>
            <div class="timeline-body"><p>I think there are some nice features in the existing Helix setup guide that we should replicate here (https://github.com/astral-sh/ruff-lsp?tab=readme-ov-file#example-helix):</p>
<ul>
<li><code>auto-format = true</code>?</li>
<li>Demonstrating how to configure it (<code>[language-server.ruff.config.settings]</code>)</li>
<li>Including a screenshot of the editor once you've reached the success state</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @snowsignal on 2024-04-29 16:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:51 on 2024-04-29 16:35</div>
            <div class="timeline-body"><p>Do we have a list of allowed settings here somewhere which we can link it to? If not, it might be a useful reference.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:24 on 2024-04-29 16:42</div>
            <div class="timeline-body"><p>We could also provide an example configuration to disable hover (similar to Neovim) if Helix has the same problem as Neovim which is that the client will ask for hover to all the configured servers but Ruff only provides for <code># noqa</code> comments. So, Neovim complains that there's no information via Ruff.</p>
<img width="864" alt="Screenshot 2024-04-29 at 22 09 43" src="https://github.com/astral-sh/ruff/assets/67177269/fc5e8f7b-3833-4762-9b20-c11726323d93">

<p>You can confirm if it's the same problem in Helix and if it is, we can recommend a similar config:</p>
<pre><code class="language-toml">[[language]]
name = &quot;python&quot;
language-servers = [ { name = &quot;ruff&quot;, except-features = [ &quot;hover&quot; ] }, &quot;pyright&quot; ]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:30 on 2024-04-29 16:44</div>
            <div class="timeline-body"><p>nit: Just a FYI that the latest version to support configuring multiple language servers is 23.10 which was released 6 months ago so it might be ok to not mention it here (https://github.com/helix-editor/helix/blob/master/CHANGELOG.md#2310-2023-10-24)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-04-29 16:44</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> approved on 2024-04-29 16:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/snowsignal">@snowsignal</a> reviewed on 2024-04-29 16:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/snowsignal">@snowsignal</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:51 on 2024-04-29 16:46</div>
            <div class="timeline-body"><p>We don't - I'll open an issue for that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/snowsignal">@snowsignal</a> reviewed on 2024-04-30 14:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/snowsignal">@snowsignal</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:24 on 2024-04-30 14:52</div>
            <div class="timeline-body"><p>Hover information is somewhat hidden by default in Helix (you have to press <code>Space-k</code> to access it, and it opens a new popup window). So I think we're good as-is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a> reviewed on 2024-04-30 16:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:24 on 2024-04-30 16:18</div>
            <div class="timeline-body"><p>Yes, it's similar in Neovim. It's fine to not add it, I was just wondering if Helix also shows a log message like the one in Neovim's case as shown above with &quot;No information available&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/snowsignal">@snowsignal</a> reviewed on 2024-04-30 16:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/snowsignal">@snowsignal</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:24 on 2024-04-30 16:20</div>
            <div class="timeline-body"><p>It just doesn't show anything if hover information isn't available.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/snowsignal">@snowsignal</a> on <code>crates/ruff_server/docs/setup/HELIX.md</code>:51 on 2024-04-30 17:15</div>
            <div class="timeline-body"><p>Issue opened: https://github.com/astral-sh/ruff/issues/11217</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/snowsignal">@snowsignal</a> reviewed on 2024-04-30 17:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @snowsignal on 2024-04-30 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @snowsignal on 2024-04-30 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-04-30 17:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 22:37:43 UTC
    </footer>
</body>
</html>
