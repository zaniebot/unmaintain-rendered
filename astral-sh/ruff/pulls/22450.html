<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>perflint: support tuple unpacking in PERF401 - astral-sh/ruff #22450</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>perflint: support tuple unpacking in PERF401</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22450">#22450</a>
        opened by <a href="https://github.com/Jkhall81">@Jkhall81</a>
        on 2026-01-08 02:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Jkhall81">@Jkhall81</a></div>
            <div class="timeline-body">Summary
<p>This PR fixes a false negative in <code>PERF401</code> where the rule failed to identify <code>for</code> loops using tuple or list unpacking (e.g., <code>for x, y in [(1, 2)]</code>).</p>
<p>The rule now correctly identifies <code>Expr::Tuple</code> and <code>Expr::List</code> targets, performs semantic safety checks on all identified bindings, and suggests a list comprehension fix that preserves the unpacking logic.</p>
<p>Closes #21648</p>
Test Plan
<ul>
<li>Added a new test case to <code>PERF401.py</code> covering tuple unpacking.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2026-01-08 02:24</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+237 -118 violations, +0 -0 fixes in 13 projects; 42 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+89 -62 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/connection_command.py#L154">airflow-core/src/airflow/cli/commands/connection_command.py:154:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/connection_command.py#L244">airflow-core/src/airflow/cli/commands/connection_command.py:244:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/connection_command.py#L244">airflow-core/src/airflow/cli/commands/connection_command.py:244:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/dag_command.py#L483">airflow-core/src/airflow/cli/commands/dag_command.py:483:25:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/dag_command.py#L487">airflow-core/src/airflow/cli/commands/dag_command.py:487:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/dag_processing/bundles/base.py#L125">airflow-core/src/airflow/dag_processing/bundles/base.py:125:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/dag_processing/bundles/base.py#L125">airflow-core/src/airflow/dag_processing/bundles/base.py:125:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/dag_processing/manager.py#L779">airflow-core/src/airflow/dag_processing/manager.py:779:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/example_dags/example_params_trigger_ui.py#L68">airflow-core/src/airflow/example_dags/example_params_trigger_ui.py:68:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/example_dags/example_params_trigger_ui.py#L68">airflow-core/src/airflow/example_dags/example_params_trigger_ui.py:68:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L680">airflow-core/src/airflow/models/asset.py:680:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L680">airflow-core/src/airflow/models/asset.py:680:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L768">airflow-core/src/airflow/models/asset.py:768:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L768">airflow-core/src/airflow/models/asset.py:768:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L881">airflow-core/src/airflow/models/asset.py:881:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L881">airflow-core/src/airflow/models/asset.py:881:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/taskinstance.py#L1761">airflow-core/src/airflow/models/taskinstance.py:1761:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/taskinstance.py#L1771">airflow-core/src/airflow/models/taskinstance.py:1771:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/tests/conftest.py#L86">airflow-core/tests/conftest.py:86:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/tests/unit/api_fastapi/common/test_exceptions.py#L85">airflow-core/tests/unit/api_fastapi/common/test_exceptions.py:85:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/tests/unit/api_fastapi/core_api/routes/ui/test_backfills.py#L155">airflow-core/tests/unit/api_fastapi/core_api/routes/ui/test_backfills.py:155:13:</a> PERF401 Use `list.extend` to create a transformed list
... 130 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/apache/superset">apache/superset</a> (+48 -38 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/importers/v1/__init__.py#L146">superset/commands/importers/v1/__init__.py:146:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/report/execute.py#L400">superset/commands/report/execute.py:400:21:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/report/execute.py#L400">superset/commands/report/execute.py:400:21:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/tag/delete.py#L103">superset/commands/tag/delete.py:103:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/tag/delete.py#L103">superset/commands/tag/delete.py:103:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/daos/tag.py#L368">superset/daos/tag.py:368:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/db_engine_specs/base.py#L113">superset/db_engine_specs/base.py:113:9:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/db_engine_specs/base.py#L113">superset/db_engine_specs/base.py:113:9:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/db_engine_specs/presto.py#L489">superset/db_engine_specs/presto.py:489:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/mcp_service/chart/tool/get_chart_preview.py#L1032">superset/mcp_service/chart/tool/get_chart_preview.py:1032:9:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/mcp_service/chart/tool/get_chart_preview.py#L1032">superset/mcp_service/chart/tool/get_chart_preview.py:1032:9:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/mcp_service/chart/tool/get_chart_preview.py#L1406">superset/mcp_service/chart/tool/get_chart_preview.py:1406:17:</a> PERF401 Use `list.extend` to create a transformed list
... 74 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+14 -11 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/has_props.py#L813">src/bokeh/core/has_props.py:813:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/container.py#L101">src/bokeh/core/property/container.py:101:21:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/container.py#L101">src/bokeh/core/property/container.py:101:21:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/layouts.py#L507">src/bokeh/layouts.py:507:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/layouts.py#L507">src/bokeh/layouts.py:507:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/models/layouts.py#L496">src/bokeh/models/layouts.py:496:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/models/layouts.py#L496">src/bokeh/models/layouts.py:496:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/plotting/_figure.py#L388">src/bokeh/plotting/_figure.py:388:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/plotting/_figure.py#L388">src/bokeh/plotting/_figure.py:388:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/plotting/_figure.py#L429">src/bokeh/plotting/_figure.py:429:13:</a> PERF401 Use `list.extend` to create a transformed list
... 15 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+5 -0 violations, +0 -0 fixes)
<p>

<pre>
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/databricks/__init__.py#L187">ibis/backends/databricks/__init__.py:187:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/flink/ddl.py#L34">ibis/backends/flink/ddl.py:34:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/impala/ddl.py#L33">ibis/backends/impala/ddl.py:33:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/risingwave/__init__.py#L56">ibis/backends/risingwave/__init__.py:56:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/expr/format.py#L194">ibis/expr/format.py:194:13:</a> PERF401 Use `list.extend` to create a transformed list
</pre>

</p>

<a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (+14 -0 violations, +0 -0 fixes)
<p>

<pre>
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/cli/langchain_cli/namespaces/migrate/generate/generic.py#L68">libs/cli/langchain_cli/namespaces/migrate/generate/generic.py:68:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/cli/langchain_cli/namespaces/migrate/generate/utils.py#L91">libs/cli/langchain_cli/namespaces/migrate/generate/utils.py:91:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/langchain_core/messages/ai.py#L375">libs/core/langchain_core/messages/ai.py:375:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/langchain_core/tools/base.py#L599">libs/core/langchain_core/tools/base.py:599:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/langchain_core/utils/function_calling.py#L689">libs/core/langchain_core/utils/function_calling.py:689:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/tests/unit_tests/runnables/test_concurrency.py#L73">libs/core/tests/unit_tests/runnables/test_concurrency.py:73:9:</a> PERF401 Use `list.extend` with an async comprehension to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain/langchain_classic/retrievers/merger_retriever.py#L117">libs/langchain/langchain_classic/retrievers/merger_retriever.py:117:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain/langchain_classic/retrievers/merger_retriever.py#L82">libs/langchain/langchain_classic/retrievers/merger_retriever.py:82:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain_v1/langchain/agents/middleware/file_search.py#L370">libs/langchain_v1/langchain/agents/middleware/file_search.py:370:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain_v1/tests/unit_tests/agents/test_agent_name.py#L122">libs/langchain_v1/tests/unit_tests/agents/test_agent_name.py:122:13:</a> PERF401 Use `list.extend` to create a transformed list
... 4 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (+16 -7 violations, +0 -0 fixes)
<p>

<pre>
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/functions/operators.py#L186">src/latch/functions/operators.py:186:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/download.py#L135">src/latch/ldata/_transfer/download.py:135:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/upload.py#L169">src/latch/ldata/_transfer/upload.py:169:25:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/upload.py#L169">src/latch/ldata/_transfer/upload.py:169:25:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/upload.py#L216">src/latch/ldata/_transfer/upload.py:216:29:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/registry/utils.py#L71">src/latch/registry/utils.py:71:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/registry/utils.py#L71">src/latch/registry/utils.py:71:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/resources/workflow.py#L73">src/latch/resources/workflow.py:73:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/resources/workflow.py#L73">src/latch/resources/workflow.py:73:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch_cli/exceptions/traceback.py#L30">src/latch_cli/exceptions/traceback.py:30:21:</a> PERF401 Use `list.extend` to create a transformed list
... 13 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/mlflow/mlflow">mlflow/mlflow</a> (+15 -0 violations, +0 -0 fixes)
<p>

<pre>
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/check_function_signatures.py#L65">dev/check_function_signatures.py:65:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/check_function_signatures.py#L97">dev/check_function_signatures.py:97:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/remove_experimental_decorators.py#L121">dev/remove_experimental_decorators.py:121:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/update_changelog.py#L119">dev/update_changelog.py:119:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/docs/api_reference/source/conf.py#L421">docs/api_reference/source/conf.py:421:17:</a> PERF401 Use `list.extend` to create a transformed list
+ examples/evaluation/rag-evaluation.ipynb:cell 9:4:9: PERF401 Use `list.extend` to create a transformed list
+ examples/llms/RAG/question-generation-retrieval-evaluation.ipynb:cell 16:21:9: PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/examples/spacy/train.py#L39">examples/spacy/train.py:39:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/mlflow/sklearn/__init__.py#L977">mlflow/sklearn/__init__.py:977:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/mlflow/sklearn/__init__.py#L980">mlflow/sklearn/__init__.py:980:13:</a> PERF401 Use `list.extend` to create a transformed list
... 5 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+8 -0 violations, +0 -0 fixes)
<p>

<pre>
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/_testing/__init__.py#L414">pandas/_testing/__init__.py:414:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/_numba/kernels/min_max_.py#L176">pandas/core/_numba/kernels/min_max_.py:176:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/arrays/period.py#L1467">pandas/core/arrays/period.py:1467:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/internals/blocks.py#L567">pandas/core/internals/blocks.py:567:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/reshape/merge.py#L1267">pandas/core/reshape/merge.py:1267:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/io/formats/printing.py#L161">pandas/io/formats/printing.py:161:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/io/json/_table_schema.py#L320">pandas/io/json/_table_schema.py:320:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/tests/test_sorting.py#L290">pandas/tests/test_sorting.py:290:17:</a> PERF401 Use `list.extend` to create a transformed list
</pre>

</p>


<p><em>... Truncated remaining completed project reports due to GitHub comment length restrictions</em></p>
Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PERF401 | 355 | 237 | 118 | 0 | 0 |</p>
</p>


Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+237 -118 violations, +0 -0 fixes in 13 projects; 42 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+89 -62 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/connection_command.py#L154">airflow-core/src/airflow/cli/commands/connection_command.py:154:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/connection_command.py#L244">airflow-core/src/airflow/cli/commands/connection_command.py:244:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/connection_command.py#L244">airflow-core/src/airflow/cli/commands/connection_command.py:244:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/dag_command.py#L483">airflow-core/src/airflow/cli/commands/dag_command.py:483:25:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/cli/commands/dag_command.py#L487">airflow-core/src/airflow/cli/commands/dag_command.py:487:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/dag_processing/bundles/base.py#L125">airflow-core/src/airflow/dag_processing/bundles/base.py:125:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/dag_processing/bundles/base.py#L125">airflow-core/src/airflow/dag_processing/bundles/base.py:125:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/dag_processing/manager.py#L779">airflow-core/src/airflow/dag_processing/manager.py:779:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/example_dags/example_params_trigger_ui.py#L68">airflow-core/src/airflow/example_dags/example_params_trigger_ui.py:68:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/example_dags/example_params_trigger_ui.py#L68">airflow-core/src/airflow/example_dags/example_params_trigger_ui.py:68:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L680">airflow-core/src/airflow/models/asset.py:680:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L680">airflow-core/src/airflow/models/asset.py:680:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L768">airflow-core/src/airflow/models/asset.py:768:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L768">airflow-core/src/airflow/models/asset.py:768:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L881">airflow-core/src/airflow/models/asset.py:881:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/asset.py#L881">airflow-core/src/airflow/models/asset.py:881:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/taskinstance.py#L1761">airflow-core/src/airflow/models/taskinstance.py:1761:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/src/airflow/models/taskinstance.py#L1771">airflow-core/src/airflow/models/taskinstance.py:1771:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/tests/conftest.py#L86">airflow-core/tests/conftest.py:86:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/tests/unit/api_fastapi/common/test_exceptions.py#L85">airflow-core/tests/unit/api_fastapi/common/test_exceptions.py:85:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/airflow/blob/928d5b4ba29dec84b636c300fc1b6915aceef243/airflow-core/tests/unit/api_fastapi/core_api/routes/ui/test_backfills.py#L155">airflow-core/tests/unit/api_fastapi/core_api/routes/ui/test_backfills.py:155:13:</a> PERF401 Use `list.extend` to create a transformed list
... 130 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/apache/superset">apache/superset</a> (+48 -38 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/importers/v1/__init__.py#L146">superset/commands/importers/v1/__init__.py:146:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/report/execute.py#L400">superset/commands/report/execute.py:400:21:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/report/execute.py#L400">superset/commands/report/execute.py:400:21:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/tag/delete.py#L103">superset/commands/tag/delete.py:103:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/commands/tag/delete.py#L103">superset/commands/tag/delete.py:103:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/daos/tag.py#L368">superset/daos/tag.py:368:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/db_engine_specs/base.py#L113">superset/db_engine_specs/base.py:113:9:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/db_engine_specs/base.py#L113">superset/db_engine_specs/base.py:113:9:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/db_engine_specs/presto.py#L489">superset/db_engine_specs/presto.py:489:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/mcp_service/chart/tool/get_chart_preview.py#L1032">superset/mcp_service/chart/tool/get_chart_preview.py:1032:9:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/mcp_service/chart/tool/get_chart_preview.py#L1032">superset/mcp_service/chart/tool/get_chart_preview.py:1032:9:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/apache/superset/blob/3fba9678565cbbffd048172eb3e01fac50ba31bc/superset/mcp_service/chart/tool/get_chart_preview.py#L1406">superset/mcp_service/chart/tool/get_chart_preview.py:1406:17:</a> PERF401 Use `list.extend` to create a transformed list
... 74 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+14 -11 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/has_props.py#L813">src/bokeh/core/has_props.py:813:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/container.py#L101">src/bokeh/core/property/container.py:101:21:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/container.py#L101">src/bokeh/core/property/container.py:101:21:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/layouts.py#L507">src/bokeh/layouts.py:507:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/layouts.py#L507">src/bokeh/layouts.py:507:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/models/layouts.py#L496">src/bokeh/models/layouts.py:496:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/models/layouts.py#L496">src/bokeh/models/layouts.py:496:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/plotting/_figure.py#L388">src/bokeh/plotting/_figure.py:388:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/plotting/_figure.py#L388">src/bokeh/plotting/_figure.py:388:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/plotting/_figure.py#L429">src/bokeh/plotting/_figure.py:429:13:</a> PERF401 Use `list.extend` to create a transformed list
... 15 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+5 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/databricks/__init__.py#L187">ibis/backends/databricks/__init__.py:187:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/flink/ddl.py#L34">ibis/backends/flink/ddl.py:34:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/impala/ddl.py#L33">ibis/backends/impala/ddl.py:33:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/risingwave/__init__.py#L56">ibis/backends/risingwave/__init__.py:56:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/expr/format.py#L194">ibis/expr/format.py:194:13:</a> PERF401 Use `list.extend` to create a transformed list
</pre>

</p>

<a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (+14 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/cli/langchain_cli/namespaces/migrate/generate/generic.py#L68">libs/cli/langchain_cli/namespaces/migrate/generate/generic.py:68:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/cli/langchain_cli/namespaces/migrate/generate/utils.py#L91">libs/cli/langchain_cli/namespaces/migrate/generate/utils.py:91:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/langchain_core/messages/ai.py#L375">libs/core/langchain_core/messages/ai.py:375:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/langchain_core/tools/base.py#L599">libs/core/langchain_core/tools/base.py:599:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/langchain_core/utils/function_calling.py#L689">libs/core/langchain_core/utils/function_calling.py:689:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/core/tests/unit_tests/runnables/test_concurrency.py#L73">libs/core/tests/unit_tests/runnables/test_concurrency.py:73:9:</a> PERF401 Use `list.extend` with an async comprehension to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain/langchain_classic/retrievers/merger_retriever.py#L117">libs/langchain/langchain_classic/retrievers/merger_retriever.py:117:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain/langchain_classic/retrievers/merger_retriever.py#L82">libs/langchain/langchain_classic/retrievers/merger_retriever.py:82:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain_v1/langchain/agents/middleware/file_search.py#L370">libs/langchain_v1/langchain/agents/middleware/file_search.py:370:21:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/langchain-ai/langchain/blob/66038386d42ffe4ed39b8cfc6a1ce7a2c9e9abe9/libs/langchain_v1/tests/unit_tests/agents/test_agent_name.py#L122">libs/langchain_v1/tests/unit_tests/agents/test_agent_name.py:122:13:</a> PERF401 Use `list.extend` to create a transformed list
... 4 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (+16 -7 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/functions/operators.py#L186">src/latch/functions/operators.py:186:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/download.py#L135">src/latch/ldata/_transfer/download.py:135:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/upload.py#L169">src/latch/ldata/_transfer/upload.py:169:25:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/upload.py#L169">src/latch/ldata/_transfer/upload.py:169:25:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/ldata/_transfer/upload.py#L216">src/latch/ldata/_transfer/upload.py:216:29:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/registry/utils.py#L71">src/latch/registry/utils.py:71:13:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/registry/utils.py#L71">src/latch/registry/utils.py:71:13:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/resources/workflow.py#L73">src/latch/resources/workflow.py:73:17:</a> PERF401 Use `list.extend` to create a transformed list
- <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch/resources/workflow.py#L73">src/latch/resources/workflow.py:73:17:</a> PERF401 Use a list comprehension to create a transformed list
+ <a href="https://github.com/latchbio/latch/blob/9d6f3c68e6ad91b3b192f16990b55b38bc682048/src/latch_cli/exceptions/traceback.py#L30">src/latch_cli/exceptions/traceback.py:30:21:</a> PERF401 Use `list.extend` to create a transformed list
... 13 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/mlflow/mlflow">mlflow/mlflow</a> (+15 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/check_function_signatures.py#L65">dev/check_function_signatures.py:65:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/check_function_signatures.py#L97">dev/check_function_signatures.py:97:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/remove_experimental_decorators.py#L121">dev/remove_experimental_decorators.py:121:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/dev/update_changelog.py#L119">dev/update_changelog.py:119:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/docs/api_reference/source/conf.py#L421">docs/api_reference/source/conf.py:421:17:</a> PERF401 Use `list.extend` to create a transformed list
+ examples/evaluation/rag-evaluation.ipynb:cell 9:4:9: PERF401 Use `list.extend` to create a transformed list
+ examples/llms/RAG/question-generation-retrieval-evaluation.ipynb:cell 16:21:9: PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/examples/spacy/train.py#L39">examples/spacy/train.py:39:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/mlflow/sklearn/__init__.py#L977">mlflow/sklearn/__init__.py:977:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/mlflow/mlflow/blob/4931c66d6035ab039849817a0f70ee4e05f4c0bc/mlflow/sklearn/__init__.py#L980">mlflow/sklearn/__init__.py:980:13:</a> PERF401 Use `list.extend` to create a transformed list
... 5 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+8 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/_testing/__init__.py#L414">pandas/_testing/__init__.py:414:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/_numba/kernels/min_max_.py#L176">pandas/core/_numba/kernels/min_max_.py:176:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/arrays/period.py#L1467">pandas/core/arrays/period.py:1467:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/internals/blocks.py#L567">pandas/core/internals/blocks.py:567:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/core/reshape/merge.py#L1267">pandas/core/reshape/merge.py:1267:17:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/io/formats/printing.py#L161">pandas/io/formats/printing.py:161:9:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/io/json/_table_schema.py#L320">pandas/io/json/_table_schema.py:320:13:</a> PERF401 Use `list.extend` to create a transformed list
+ <a href="https://github.com/pandas-dev/pandas/blob/a57434f60579a4df8a43e9b7f07f6ac3b05bbc17/pandas/tests/test_sorting.py#L290">pandas/tests/test_sorting.py:290:17:</a> PERF401 Use `list.extend` to create a transformed list
</pre>

</p>


<p><em>... Truncated remaining completed project reports due to GitHub comment length restrictions</em></p>
Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PERF401 | 355 | 237 | 118 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2026-01-08 19:57</div>
            <div class="timeline-body"><p>Some of the ecosystem changes looks legit (and good!) but at least a couple stand out as false positives, particularly ones where there are multiple places where <code>append</code> happens in different branches or in places where it clearly shouldn&#x27;t (or couldn&#x27;t) be a list comprehension:</p>
<p>https://github.com/apache/airflow/blob/6e93a46c39621a74bcb7b8276d3ecacd3dca9e54/airflow-core/src/airflow/models/taskinstance.py#L1759</p>
<p>https://github.com/apache/airflow/blob/6e93a46c39621a74bcb7b8276d3ecacd3dca9e54/airflow-core/src/airflow/cli/commands/dag_command.py#L479</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/amyreese">@amyreese</a> on 2026-01-08 19:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on 2026-01-08 20:13</div>
            <div class="timeline-body"><p>Looks like the rule is a little too aggressive now.  I&#x27;ll fix it, and i&#x27;ll be sure to check the ecosystem results.  I&#x27;m still getting used to how everything works here.  Thanks you for pointing this out though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on 2026-01-08 23:55</div>
            <div class="timeline-body"><p>I need some time to read over all the ecosystem stuff.  I looked over a few.  But it looks better so far.  I will finish this later today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on 2026-01-09 02:41</div>
            <div class="timeline-body"><p>It seems to be working.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2026-01-09 16:28</div>
            <div class="timeline-body"><p>Now it seems there are a number of existing violations that have turned into obvious false negatives. Do you know what would have caused this? A few examples from the ecosystem report that aren&#x27;t &quot;-0 violations&quot;:</p>
<p>https://github.com/apache/airflow/blob/7d6f0c2cc67cb0ef2bfcc1993fcfa8978c81f3a4/airflow-core/tests/unit/utils/test_task_group.py#L253</p>
<p>https://github.com/latchbio/latch/blob/dc91e5b22db76d1dcab1acf91c3afbcc597c0c3a/src/latch/ldata/_transfer/upload.py#L169</p>
<p>https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/core/property/container.py#L101</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2026-01-12 20:03</div>
            <div class="timeline-body"><p>Is this ready for another review? Should we add a couple of test cases based on the ecosystem results?</p>
<p>Based on the ecosystem impact, I&#x27;m thinking this should probably also be a preview change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on 2026-01-12 20:05</div>
            <div class="timeline-body"><p>I worked it over a few times.  If it still needs improvement, I need a shove in the right direction.  But yes, it&#x27;s ready for another review.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on 2026-01-12 20:22</div>
            <div class="timeline-body"><p>I can add tests based on the ecosystem results, no problem, if the &#x27;rule update&#x27; is acceptable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2026-01-12 20:26</div>
            <div class="timeline-body"><p>Sounds good! I just wanted to double check before I took a look. @amyreese might have a better sense for whether we should add more tests based on what she saw in the earlier ecosystem reports.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs</code>:272 on 2026-01-12 20:45</div>
            <div class="timeline-body"><p>Could we revert changing the order of this comparison and restore the comments that were here? I think the comments were still accurate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs</code>:111 on 2026-01-12 20:52</div>
            <div class="timeline-body"><p>I think if we move the <code>targets.contains</code> check into the <code>for target_id in &amp;targets</code> loop, we can avoid allocating a <code>Vec</code> here and just return a <code>&amp;[Expr]</code> from the <code>match</code>. This is the patch I was working with locally:</p>
<pre><code>diff --git a/crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs b/crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs
index 60edacb5e2..465211b334 100644
--- a/crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs
+++ b/crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs
@@ -95,20 +95,13 @@ impl Violation for ManualListComprehension {
 
 /// PERF401
 pub(crate) fn manual_list_comprehension(checker: &amp;Checker, for_stmt: &amp;ast::StmtFor) {
-    let mut targets = Vec::new();
-    match &amp;*for_stmt.target {
-        Expr::Name(ast::ExprName { id, .. }) =&gt; targets.push(id),
+    let targets = match &amp;*for_stmt.target {
+        name @ Expr::Name(_) =&gt; std::slice::from_ref(name),
         Expr::Tuple(ast::ExprTuple { elts, .. }) | Expr::List(ast::ExprList { elts, .. }) =&gt; {
-            for elt in elts {
-                if let Expr::Name(ast::ExprName { id, .. }) = elt {
-                    targets.push(id);
-                } else {
-                    return;
-                }
-            }
+            elts.as_slice()
         }
         _ =&gt; return,
-    }
+    };
 
     let (stmt, if_test) = match &amp;*for_stmt.body {
         // ```python
@@ -181,19 +174,6 @@ pub(crate) fn manual_list_comprehension(checker: &amp;Checker, for_stmt: &amp;ast::StmtF
         return;
     };
 
-    // Ignore direct list copies (e.g., `for x in y: filtered.append(x)`), unless it&#x27;s async, which
-    // `manual-list-copy` doesn&#x27;t cover.
-    if !for_stmt.is_async {
-        if if_test.is_none() {
-            if arg
-                .as_name_expr()
-                .is_some_and(|arg| targets.contains(&amp;&amp;arg.id))
-            {
-                return;
-            }
-        }
-    }
-
     // Avoid, e.g., `for x in y: filtered.append(filtered[-1] * 2)`.
     if any_over_expr(arg, &amp;|expr| {
         expr.as_name_expr()
@@ -254,11 +234,32 @@ pub(crate) fn manual_list_comprehension(checker: &amp;Checker, for_stmt: &amp;ast::StmtF
 
     // Ensure none of the loop targets (e.g., x, y in `for x, y in ...`)
     // leak outside the loop.
-    for target_id in &amp;targets {
-        let Some(target_binding) = checker.semantic().bindings.iter().find(|binding| {
-            binding.name(checker.locator().contents()) == **target_id
-                &amp;&amp; for_stmt.target.range().contains(binding.range().start())
-        }) else {
+    for target in targets {
+        let ast::Expr::Name(ast::ExprName {
+            id: target_id,
+            range: target_range,
+            ..
+        }) = target
+        else {
+            return;
+        };
+
+        // Ignore direct list copies (e.g., `for x in y: filtered.append(x)`), unless it&#x27;s async, which
+        // `manual-list-copy` doesn&#x27;t cover.
+        if !for_stmt.is_async {
+            if if_test.is_none() {
+                if arg.as_name_expr().is_some_and(|arg| arg.id == *target_id) {
+                    return;
+                }
+            }
+        }
+
+        let Some(target_binding) = checker
+            .semantic()
+            .bindings
+            .iter()
+            .find(|binding| binding.range == *target_range)
+        else {
             return;
         };
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/perflint/PERF401.py</code>:313 on 2026-01-12 20:53</div>
            <div class="timeline-body"><p>I think it would make sense to add a test with a list target:</p>
<pre><code>def f():
    xs = []
    for [x, y] in [[1, 2]]:
        xs.append(x + y)  # PERF401
</code></pre>
<p>since you handled it in the implementation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs</code>:260 on 2026-01-12 21:01</div>
            <div class="timeline-body"><p>I included this in the patch above, but if we keep a reference to the whole <code>Expr</code> or <code>ExprName</code>, we can simplify this back to:</p>
<pre><code>            binding.range == *target_range
</code></pre>
<p><code>Binding::name</code> is just using its range internally, so I don&#x27;t think we&#x27;re gaining anything by comparing both the str derived from the range and the range itself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2026-01-12 21:03</div>
            <div class="timeline-body"><p>Thank you! This looks reasonable to me overall, I Just had a few minor suggestions, mostly around avoiding allocating a <code>Vec</code> for the loop targets.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on <code>crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs</code>:260 on 2026-01-19 23:17</div>
            <div class="timeline-body"><p>I will work on this later today.  For some reason I didn&#x27;t get an email notification when you left these comments (on the 12th), which is strange.  Because it says I should be receiving notifications from this page.  Otherwise I would have had these updates done sooner.  Oh well.  Thank you for all the feedback.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Jkhall81">@Jkhall81</a> reviewed on 2026-01-19 23:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs</code>:260 on 2026-01-20 00:40</div>
            <div class="timeline-body"><p>No worries, and no rush! Thanks for working on this!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2026-01-20 00:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Jkhall81">@Jkhall81</a> reviewed on 2026-01-20 02:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on <code>crates/ruff_linter/src/rules/perflint/rules/manual_list_comprehension.rs</code>:260 on 2026-01-20 02:36</div>
            <div class="timeline-body"><p>I updated <code>manual_list_comprehension.rs</code> and <code>PERF401.py</code> to incorporate all of your suggested changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2026-01-21 01:08</div>
            <div class="timeline-body"><p>I&#x27;m still concerned about some of the ecosystem reports, like the ones below, where there are multiple locations in different branches that append to the same list, or are appending to lists that are passed as arguments. Unless I&#x27;m missing something, these are major false positives that should be &quot;easy&quot; to catch.</p>
<p>1: https://github.com/apache/airflow/blob/41403de774f8db47c48de0448329d8751b090e98/airflow-core/src/airflow/cli/commands/dag_command.py#L487
2: https://github.com/apache/airflow/blob/41403de774f8db47c48de0448329d8751b090e98/airflow-core/src/airflow/models/taskinstance.py#L1761
3: https://github.com/apache/superset/blob/f4597be341c3cc982a4c4639800c906be4ec39ba/superset/commands/importers/v1/<strong>init</strong>.py#L146
4: https://github.com/apache/superset/blob/f4597be341c3cc982a4c4639800c906be4ec39ba/superset/reports/notifications/webhook.py#L88
5: https://github.com/ibis-project/ibis/blob/64aed03898c543ede8ad2b7ce039b50d25861d33/ibis/backends/databricks/<strong>init</strong>.py#L187</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Jkhall81">@Jkhall81</a> on 2026-01-21 02:54</div>
            <div class="timeline-body"><p>@amyreese You&#x27;re right.  I added a check to check the reference count of the list variable.  In these false positive situations that you identified it should now suggest <code>list.extend</code>, instead of a list comprehension that would destroy any previously appended stuff.  I added a test also, just for this scenario.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-21 04:00:39 UTC
    </footer>
</body>
</html>
