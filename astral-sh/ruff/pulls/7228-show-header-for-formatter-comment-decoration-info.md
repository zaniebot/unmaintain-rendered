```yaml
number: 7228
title: Show header for formatter comment decoration info
type: pull_request
state: merged
author: konstin
labels: []
assignees: []
merged: true
base: main
head: Show_header_for_formatter_comment_decoration_info
created_at: 2023-09-07T17:27:05Z
updated_at: 2023-09-08T09:25:08Z
url: https://github.com/astral-sh/ruff/pull/7228
synced_at: 2026-01-12T02:45:38Z
```

# Show header for formatter comment decoration info

---

_Pull request opened by @konstin on 2023-09-07 17:27_

Show header for formatter comment decoration info

**Summary** Show a header in the formatter comment decoration debug output that shows which node is preceding/following/enclosing (https://github.com/astral-sh/ruff/pull/6813#issuecomment-1708119550). I kept this intentionally condensed to make it easy to use this is a small sidebar without vertical scrolling.

```console
$ cargo run --bin ruff_python_formatter -- --emit stdout --print-comments scratch.py
# Comment decoration: Range, Preceding, Following, Enclosing, Comment
17..20, Some((ParameterWithDefault, 6..10)), None, (Parameters, 5..22), "# a"
44..47, Some((StmtExpr, 28..39)), Some((StmtExpr, 52..60)), (StmtFunctionDef, 0..60), "# b"
77..80, None, None, (ExprList, 71..82), "# c"
{
    Node {
        kind: ParameterWithDefault,
        range: 6..10,
        source: `x=[]`,
    }: {
...
```

**Test Plan** It's debug output.


---

_Comment by @konstin on 2023-09-07 17:27_

Current dependencies on/for this PR:
* main
  * **PR #7227** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7227" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
    * **PR #7228** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7228" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7228?utm_source=stack-comment).

---

_Comment by @MichaReiser on 2023-09-07 17:45_

Nit: separate the elements and header elements with a comma?

---

_@MichaReiser approved on 2023-09-07 17:45_

---

_Merged by @konstin on 2023-09-08 09:25_

---

_Closed by @konstin on 2023-09-08 09:25_

---

_Branch deleted on 2023-09-08 09:25_

---
