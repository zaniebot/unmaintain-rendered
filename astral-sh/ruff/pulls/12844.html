<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stabilize `ASYNC100`, `ASYNC109`, `ASYNC110`, `ASYNC115` and `ASYNC116` behavior changes - astral-sh/ruff #12844</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Stabilize <code>ASYNC100</code>, <code>ASYNC109</code>, <code>ASYNC110</code>, <code>ASYNC115</code> and <code>ASYNC116</code> behavior changes</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/12844">#12844</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2024-08-12 12:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Closes https://github.com/astral-sh/ruff/issues/12268</p>
<h2>Test Plan</h2>
<p>I reviewed the updated snapshots</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-08-12 12:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> added by @MichaReiser on 2024-08-12 12:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-08-12 12:49</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+5 -0 violations, +0 -0 fixes in 4 projects; 50 projects unchanged)</p>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/b7fc211a693e4d13ff16a81efb0b83206df2df28/tests/test_utils/get_all_tests.py#L26'>tests/test_utils/get_all_tests.py:26:23:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/sampledata/us_counties.py#L45'>src/bokeh/sampledata/us_counties.py:45:33:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/sampledata/us_states.py#L44'>src/bokeh/sampledata/us_states.py:44:33:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/jrnl-org/jrnl">jrnl-org/jrnl</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>

<pre>
+ <a href='https://github.com/jrnl-org/jrnl/blob/4d84c491f19c852e5d2fa93d54aeb790e5ae9859/tests/lib/given_steps.py#L12'>tests/lib/given_steps.py:12:23:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
+ <a href='https://github.com/jrnl-org/jrnl/blob/4d84c491f19c852e5d2fa93d54aeb790e5ae9859/tests/lib/then_steps.py#L7'>tests/lib/then_steps.py:7:23:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/agronholm/anyio">agronholm/anyio</a> (+0 -0 violations, +0 -0 fixes)</summary>
<p>

<pre>
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| ICN001 | 5 | 5 | 0 | 0 | 0 |</p>
</p>
</details>

<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+23 -18 violations, +0 -0 fixes in 15 projects; 39 projects unchanged)</p>
<details><summary><a href="https://github.com/DisnakeDev/disnake">DisnakeDev/disnake</a> (+1 -1 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/DisnakeDev/disnake/blob/47f28721ca5eb8c41d7a327342edab5d9a6fa79f/disnake/ext/commands/flag_converter.py#L314'>disnake/ext/commands/flag_converter.py:314:28:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/DisnakeDev/disnake/blob/47f28721ca5eb8c41d7a327342edab5d9a6fa79f/disnake/ext/commands/flag_converter.py#L314'>disnake/ext/commands/flag_converter.py:314:28:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (+0 -3 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
- <a href='https://github.com/RasaHQ/rasa/blob/7807b19ad5fffab73ca1a04dc710f812115a9288/rasa/core/evaluation/marker_stats.py#L114'>rasa/core/evaluation/marker_stats.py:114:51:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/RasaHQ/rasa/blob/7807b19ad5fffab73ca1a04dc710f812115a9288/rasa/core/featurizers/single_state_featurizer.py#L119'>rasa/core/featurizers/single_state_featurizer.py:119:20:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/RasaHQ/rasa/blob/7807b19ad5fffab73ca1a04dc710f812115a9288/tests/core/featurizers/test_precomputation.py#L110'>tests/core/featurizers/test_precomputation.py:110:17:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/PlasmaPy/PlasmaPy">PlasmaPy/PlasmaPy</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/68f548c8614eb7e09d1137176c5c32a2ae7f55bc/src/plasmapy/particles/ionization_state_collection.py#L693'>src/plasmapy/particles/ionization_state_collection.py:693:40:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+3 -2 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/b7fc211a693e4d13ff16a81efb0b83206df2df28/helm_tests/airflow_aux/test_annotations.py#L409'>helm_tests/airflow_aux/test_annotations.py:409:63:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/apache/airflow/blob/b7fc211a693e4d13ff16a81efb0b83206df2df28/helm_tests/airflow_aux/test_annotations.py#L409'>helm_tests/airflow_aux/test_annotations.py:409:63:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/apache/airflow/blob/b7fc211a693e4d13ff16a81efb0b83206df2df28/tests/test_utils/get_all_tests.py#L26'>tests/test_utils/get_all_tests.py:26:23:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
+ <a href='https://github.com/apache/airflow/blob/b7fc211a693e4d13ff16a81efb0b83206df2df28/tests/ti_deps/deps/test_mapped_task_upstream_dep.py#L459'>tests/ti_deps/deps/test_mapped_task_upstream_dep.py:459:36:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/apache/airflow/blob/b7fc211a693e4d13ff16a81efb0b83206df2df28/tests/ti_deps/deps/test_mapped_task_upstream_dep.py#L459'>tests/ti_deps/deps/test_mapped_task_upstream_dep.py:459:36:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/superset">apache/superset</a> (+3 -3 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/superset/blob/57a4199f527c6bf197245f313ee28e0734c60368/superset/reports/notifications/email.py#L58'>superset/reports/notifications/email.py:58:28:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/apache/superset/blob/57a4199f527c6bf197245f313ee28e0734c60368/superset/reports/notifications/email.py#L58'>superset/reports/notifications/email.py:58:28:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/apache/superset/blob/57a4199f527c6bf197245f313ee28e0734c60368/superset/reports/notifications/slack_mixin.py#L107'>superset/reports/notifications/slack_mixin.py:107:43:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/apache/superset/blob/57a4199f527c6bf197245f313ee28e0734c60368/superset/reports/notifications/slack_mixin.py#L107'>superset/reports/notifications/slack_mixin.py:107:43:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/apache/superset/blob/57a4199f527c6bf197245f313ee28e0734c60368/superset/reports/notifications/slack_mixin.py#L97'>superset/reports/notifications/slack_mixin.py:97:39:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/apache/superset/blob/57a4199f527c6bf197245f313ee28e0734c60368/superset/reports/notifications/slack_mixin.py#L97'>superset/reports/notifications/slack_mixin.py:97:39:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+4 -2 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/file_output.py#L145'>src/bokeh/command/subcommands/file_output.py:145:17:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/file_output.py#L145'>src/bokeh/command/subcommands/file_output.py:145:17:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/serve.py#L831'>src/bokeh/command/subcommands/serve.py:831:17:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/serve.py#L831'>src/bokeh/command/subcommands/serve.py:831:17:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/sampledata/us_counties.py#L45'>src/bokeh/sampledata/us_counties.py:45:33:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/sampledata/us_states.py#L44'>src/bokeh/sampledata/us_states.py:44:33:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/docker/docker-py">docker/docker-py</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/docker/docker-py/blob/a3652028b1ead708bd9191efb286f909ba6c2a49/docker/types/containers.py#L725'>docker/types/containers.py:725:22:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+1 -1 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/ibis-project/ibis/blob/916525589197359202f81cb033a29b7dd47a9064/ibis/common/egraph.py#L776'>ibis/common/egraph.py:776:17:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/ibis-project/ibis/blob/916525589197359202f81cb033a29b7dd47a9064/ibis/common/egraph.py#L776'>ibis/common/egraph.py:776:17:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/jrnl-org/jrnl">jrnl-org/jrnl</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/jrnl-org/jrnl/blob/4d84c491f19c852e5d2fa93d54aeb790e5ae9859/tests/lib/given_steps.py#L12'>tests/lib/given_steps.py:12:23:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
+ <a href='https://github.com/jrnl-org/jrnl/blob/4d84c491f19c852e5d2fa93d54aeb790e5ae9859/tests/lib/then_steps.py#L7'>tests/lib/then_steps.py:7:23:</a> ICN001 `xml.etree.ElementTree` should be imported as `ET`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/mlflow/mlflow">mlflow/mlflow</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/mlflow/mlflow/blob/2d5e564bb14730ded86024ce65722308c473f8e0/tests/metrics/genai/test_genai_metrics.py#L554'>tests/metrics/genai/test_genai_metrics.py:554:37:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pypa/build">pypa/build</a> (+1 -1 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pypa/build/blob/3388ae05bb591223bdca853959f85f849fe6e012/src/build/__main__.py#L40'>src/build/__main__.py:40:14:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/pypa/build/blob/3388ae05bb591223bdca853959f85f849fe6e012/src/build/__main__.py#L40'>src/build/__main__.py:40:14:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pypa/pip">pypa/pip</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pypa/pip/blob/e98cc5ce078d8c8afd6804ff4e61aa2b12d05715/src/pip/_internal/locations/_sysconfig.py#L164'>src/pip/_internal/locations/_sysconfig.py:164:21:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/pypa/pip/blob/e98cc5ce078d8c8afd6804ff4e61aa2b12d05715/src/pip/_internal/locations/_sysconfig.py#L166'>src/pip/_internal/locations/_sysconfig.py:166:21:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/scikit-build/scikit-build">scikit-build/scikit-build</a> (+2 -2 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/scikit-build/scikit-build/blob/c81a2e5282ebcedae833da4ca33ee57089923d99/skbuild/setuptools_wrap.py#L516'>skbuild/setuptools_wrap.py:516:22:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/scikit-build/scikit-build/blob/c81a2e5282ebcedae833da4ca33ee57089923d99/skbuild/setuptools_wrap.py#L516'>skbuild/setuptools_wrap.py:516:22:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
+ <a href='https://github.com/scikit-build/scikit-build/blob/c81a2e5282ebcedae833da4ca33ee57089923d99/skbuild/setuptools_wrap.py#L519'>skbuild/setuptools_wrap.py:519:19:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/scikit-build/scikit-build/blob/c81a2e5282ebcedae833da4ca33ee57089923d99/skbuild/setuptools_wrap.py#L519'>skbuild/setuptools_wrap.py:519:19:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pytest-dev/pytest">pytest-dev/pytest</a> (+0 -3 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
- <a href='https://github.com/pytest-dev/pytest/blob/9446f024df846eefb8f2213d2854f7ec5552822a/src/_pytest/logging.py#L128'>src/_pytest/logging.py:128:24:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/pytest-dev/pytest/blob/9446f024df846eefb8f2213d2854f7ec5552822a/src/_pytest/reports.py#L345'>src/_pytest/reports.py:345:20:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
- <a href='https://github.com/pytest-dev/pytest/blob/9446f024df846eefb8f2213d2854f7ec5552822a/testing/conftest.py#L191'>testing/conftest.py:191:21:</a> RUF025 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary><a href="https://github.com/mesonbuild/meson-python">mesonbuild/meson-python</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/mesonbuild/meson-python/blob/d93d4de2d56bacf6fd32f3ee3f18494ea38d05f0/mesonpy/__init__.py#L570'>mesonpy/__init__.py:570:24:</a> C420 [*] Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead
</pre>

</p>
</details>
<details><summary>Changes by rule (3 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| C420 | 18 | 18 | 0 | 0 | 0 |
| RUF025 | 18 | 0 | 18 | 0 | 0 |
| ICN001 | 5 | 5 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2024-08-12 13:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2024-08-12 13:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-08-12 13:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-08-12 13:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:05:56 UTC
    </footer>
</body>
</html>
