<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-bandit`] Implement upstream updates for `S311`, `S324` and `S605` - astral-sh/ruff #10313</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-bandit</code>] Implement upstream updates for <code>S311</code>, <code>S324</code> and <code>S605</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/10313">#10313</a>
        opened by <a href="https://github.com/mkniewallner">@mkniewallner</a>
        on 2024-03-09 12:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2024-03-09 12:05</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Pick up updates made in latest <a href="https://github.com/PyCQA/bandit/releases">releases</a> of <code>bandit</code>:</p>
<ul>
<li><code>S311</code>: https://github.com/PyCQA/bandit/pull/940 and https://github.com/PyCQA/bandit/pull/1096</li>
<li><code>S324</code>: https://github.com/PyCQA/bandit/pull/1018</li>
<li><code>S605</code>: https://github.com/PyCQA/bandit/pull/1116</li>
</ul>
<h2>Test Plan</h2>
<p>Snapshot tests</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-03-09 12:19</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+8 -0 violations, +0 -0 fixes in 4 projects; 39 projects unchanged)</p>
<details><summary><a href="https://github.com/DisnakeDev/disnake">DisnakeDev/disnake</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>

<pre>
+ <a href='https://github.com/DisnakeDev/disnake/blob/cc1776a76788ac684f7f03bde720b5e22b21606c/disnake/backoff.py#L45'>disnake/backoff.py:45:16:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
+ <a href='https://github.com/DisnakeDev/disnake/blob/cc1776a76788ac684f7f03bde720b5e22b21606c/disnake/colour.py#L135'>disnake/colour.py:135:44:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/ac5f72022e24428408dddc08d68a5836674afc08/airflow/dag_processing/manager.py#L1156'>airflow/dag_processing/manager.py:1156:13:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
+ <a href='https://github.com/apache/airflow/blob/ac5f72022e24428408dddc08d68a5836674afc08/tests/dag_processing/test_job_runner.py#L363'>tests/dag_processing/test_job_runner.py:363:9:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
</pre>

</p>
</details>
<details><summary><a href="https://github.com/model-bakers/model_bakery">model-bakers/model_bakery</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>

<pre>
+ <a href='https://github.com/model-bakers/model_bakery/blob/c972cbb24f8c1fabfd285112588a72bd282d9014/model_bakery/random_gen.py#L30'>model_bakery/random_gen.py:30:16:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
</pre>

</p>
</details>
<details><summary><a href="https://github.com/zulip/zulip">zulip/zulip</a> (+3 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/zulip/zulip/blob/03ec788a9147db72729f867452342354ab5bea60/analytics/lib/fixtures.py#L39'>analytics/lib/fixtures.py:39:11:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
+ <a href='https://github.com/zulip/zulip/blob/03ec788a9147db72729f867452342354ab5bea60/tools/lib/provision.py#L280'>tools/lib/provision.py:280:60:</a> S605 Starting a process with a shell: seems safe, but may be changed in the future; consider rewriting without `shell`
+ <a href='https://github.com/zulip/zulip/blob/03ec788a9147db72729f867452342354ab5bea60/tools/lib/provision.py#L280'>tools/lib/provision.py:280:60:</a> S607 Starting a process with a partial executable path
</pre>

</p>
</details>
<details><summary>Changes by rule (3 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| S311 | 6 | 6 | 0 | 0 | 0 |
| S605 | 1 | 1 | 0 | 0 | 0 |
| S607 | 1 | 1 | 0 | 0 | 0 |</p>
</p>
</details>

<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+8 -0 violations, +0 -0 fixes in 4 projects; 39 projects unchanged)</p>
<details><summary><a href="https://github.com/DisnakeDev/disnake">DisnakeDev/disnake</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/DisnakeDev/disnake/blob/cc1776a76788ac684f7f03bde720b5e22b21606c/disnake/backoff.py#L45'>disnake/backoff.py:45:16:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
+ <a href='https://github.com/DisnakeDev/disnake/blob/cc1776a76788ac684f7f03bde720b5e22b21606c/disnake/colour.py#L135'>disnake/colour.py:135:44:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/ac5f72022e24428408dddc08d68a5836674afc08/airflow/dag_processing/manager.py#L1156'>airflow/dag_processing/manager.py:1156:13:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
+ <a href='https://github.com/apache/airflow/blob/ac5f72022e24428408dddc08d68a5836674afc08/tests/dag_processing/test_job_runner.py#L363'>tests/dag_processing/test_job_runner.py:363:9:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
</pre>

</p>
</details>
<details><summary><a href="https://github.com/model-bakers/model_bakery">model-bakers/model_bakery</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/model-bakers/model_bakery/blob/c972cbb24f8c1fabfd285112588a72bd282d9014/model_bakery/random_gen.py#L30'>model_bakery/random_gen.py:30:16:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
</pre>

</p>
</details>
<details><summary><a href="https://github.com/zulip/zulip">zulip/zulip</a> (+3 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/zulip/zulip/blob/03ec788a9147db72729f867452342354ab5bea60/analytics/lib/fixtures.py#L39'>analytics/lib/fixtures.py:39:11:</a> S311 Standard pseudo-random generators are not suitable for cryptographic purposes
+ <a href='https://github.com/zulip/zulip/blob/03ec788a9147db72729f867452342354ab5bea60/tools/lib/provision.py#L280'>tools/lib/provision.py:280:60:</a> S605 Starting a process with a shell: seems safe, but may be changed in the future; consider rewriting without `shell`
+ <a href='https://github.com/zulip/zulip/blob/03ec788a9147db72729f867452342354ab5bea60/tools/lib/provision.py#L280'>tools/lib/provision.py:280:60:</a> S607 Starting a process with a partial executable path
</pre>

</p>
</details>
<details><summary>Changes by rule (3 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| S311 | 6 | 6 | 0 | 0 | 0 |
| S605 | 1 | 1 | 0 | 0 | 0 |
| S607 | 1 | 1 | 0 | 0 | 0 |</p>
</p>
</details>

<h3>Formatter (stable)</h3>
<p>✅ ecosystem check detected no format changes.</p>
<h3>Formatter (preview)</h3>
<p>✅ ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @mkniewallner on 2024-03-09 13:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2024-03-09 14:01</div>
            <div class="timeline-body"><p>Not sure why there is a new match for <code>S607</code> on <code>zulip</code> in the ecosystem check as it was not changed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @charliermarsh by @charliermarsh on 2024-03-11 20:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2024-03-11 20:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-03-11 20:55</div>
            <div class="timeline-body"><p>Nice, this looks great -- thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-03-11 20:56</div>
            <div class="timeline-body"><blockquote>
<p>Not sure why there is a new match for S607 on zulip in the ecosystem check as it was not changed.</p>
</blockquote>
<p>I think it's because you added <code>getstatusoutput</code> to the list of shell-like calls.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2024-03-11 21:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2024-03-11 21:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2024-03-11 21:11</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>Not sure why there is a new match for S607 on zulip in the ecosystem check as it was not changed.</p>
</blockquote>
<p>I think it's because you added <code>getstatusoutput</code> to the list of shell-like calls.</p>
</blockquote>
<p>Oh yeah sorry, I did not know what S607 was exactly, and didn't see that this change would also apply to this rule. But it does seem legit to handle this new case for S607, as this is the core logic to detect shell invocations, so all good it seems!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-03-11 21:11</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 22:47:56 UTC
    </footer>
</body>
</html>
