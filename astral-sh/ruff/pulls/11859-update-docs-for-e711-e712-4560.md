```yaml
number: 11859
title: "Update docs for E711, E712 (#4560)"
type: pull_request
state: merged
author: psychedelicious
labels:
  - documentation
assignees: []
merged: true
base: main
head: psyche/docs/literal-comparisons-4560
created_at: 2024-06-13T13:49:14Z
updated_at: 2024-06-18T10:20:37Z
url: https://github.com/astral-sh/ruff/pull/11859
synced_at: 2026-01-12T15:55:39Z
```

# Update docs for E711, E712 (#4560)

---

_@psychedelicious_

## Summary

The fixes for rules E711 `NoneComparison` and E712 `TrueFalseComparison` are marked unsafe due to possible runtime behavior changes with libraries that override `__eq__` and `__ne__` methods.

- Add a "Fix safety" section to each rule explaining why the fixes are unsafe, commonly affected library methods, and alternatives. The sections are identical for each rule.
- Minor formatting tweak for E711's docs.

Ref: #4560

## Test Plan

reviewed w/ mkdocs dev server


---

_@psychedelicious reviewed on 2024-06-13 13:50_

---

_Review comment by @psychedelicious on `crates/ruff_linter/src/rules/pycodestyle/rules/literal_comparisons.rs`:61 on 2024-06-13 13:50_

Unsure if this level of detail is appropriate. Perhaps a link to the relevant issue (#4560) is preferred.

---

_Label `documentation` added by @MichaReiser on 2024-06-14 13:14_

---

_Review requested from @AlexWaygood by @MichaReiser on 2024-06-14 13:14_

---

_@AlexWaygood reviewed on 2024-06-17 16:38_

---

_Review comment by @AlexWaygood on `crates/ruff_linter/src/rules/pycodestyle/rules/literal_comparisons.rs`:61 on 2024-06-17 16:38_

Yeah, I think the first paragraph describing the general reason why this is an unsafe fix is good, but not sure we need to go into all these examples. An inline link to the issue sounds like a good idea!

---

_@AlexWaygood reviewed on 2024-06-17 16:38_

Thanks! I think a little too much detail right now, but looks good overall

---

_Comment by @psychedelicious on 2024-06-18 01:52_

Removed the copied examples/alternatives and instead linked to the GH issue.

---

_Review requested from @AlexWaygood by @psychedelicious on 2024-06-18 01:52_

---

_@AlexWaygood approved on 2024-06-18 10:20_

Thanks!

---

_Merged by @AlexWaygood on 2024-06-18 10:20_

---

_Closed by @AlexWaygood on 2024-06-18 10:20_

---
