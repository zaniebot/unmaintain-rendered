<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update `lint.flake8-type-checking.quoted-annotations` docs - astral-sh/ruff #20765</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update <code>lint.flake8-type-checking.quoted-annotations</code> docs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20765">#20765</a>
        opened by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a>
        on 2025-10-08 12:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CarrotManMatt">@CarrotManMatt</a></div>
            <div class="timeline-body"><p>Update <code>lint.flake8-type-checking.quoted-annotations</code> docs to mention Python 3.14.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_workspace/src/options.rs</code>:2171 on 2025-10-10 19:42</div>
            <div class="timeline-body"><p>I think we might want to leave the original text and append something like</p>
<blockquote>
<p>Similarly, this setting has no effect on Python versions after 3.14 because  these annotations are also deferred.</p>
</blockquote>
<p>It doesn&#x27;t have a practical difference in most cases, but the 3.14 semantics are a bit different from quoted annotations, so it seems better not to group them together completely.</p>
<p>My understanding based on PEP 649 is that <code>from __future__ import annotations</code> literally turns annotations into strings (requiring them to be <code>eval</code>ed or similar if you need to evaluate them), whereas 3.14 leaves them as normal expressions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-10-10 19:43</div>
            <div class="timeline-body"><p>Thank you! Just one nit about 3.14 vs <code>__future__</code> annotations. It also looks like you&#x27;ll need to run <code>cargo dev generate-all</code> to update the schema file, or I can handle that if you prefer :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">documentation</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-10-10 19:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on <code>crates/ruff_workspace/src/options.rs</code>:2171 on 2025-10-10 22:52</div>
            <div class="timeline-body"><p>Thanks for the review!ðŸ’š</p>
<p>Yep, agreed that keeping the wording separate reflects the difference in outcomes from using PEP 649 annotations vs <code>from __future__ import annotations</code>.
PEP 649 annotations aren&#x27;t exactly left as normal expressions, they&#x27;re held unevaluated internally until a view of them is explicitly requested with one of the <code>annotationlib.Format</code>s (one of which is complete evaluation to normal expressions). But that&#x27;s unnecessary nit-picking that doesn&#x27;t need to be mentioned in the docs.</p>
<p>In your opinion is it worth calling the 3.14+ annotations <code>PEP 649 annotations</code> or <code>PEP 649/PEP 749 annotations</code> as PEP 749 was just the confirmation for how to internally implement the annotation structure defined in PEP 649.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> reviewed on 2025-10-10 22:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CarrotManMatt">@CarrotManMatt</a> on 2025-10-10 22:53</div>
            <div class="timeline-body"><p>I&#x27;d appreciate if you could perform the docs generation for me after I make the requested change.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-14 06:40</div>
            <div class="timeline-body"><p>Thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-14 06:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-10-14 06:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-14 06:47</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>âœ… ecosystem check detected no linter changes.</p>
Linter (preview)
<p>âœ… ecosystem check detected no linter changes.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:19:20 UTC
    </footer>
</body>
</html>
