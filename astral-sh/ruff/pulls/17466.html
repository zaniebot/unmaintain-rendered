<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add playground workspace package-lock.json to gitignore - astral-sh/ruff #17466</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add playground workspace package-lock.json to gitignore</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17466">#17466</a>
        opened by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a>
        on 2025-04-18 17:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Sometimes these lockfiles auto generate for me and i accidentally commit them. Seems like i should add them to the gitignore</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @AlexWaygood on 2025-04-18 18:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">playground</span> added by @AlexWaygood on 2025-04-18 18:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @AlexWaygood on 2025-04-18 18:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-21 10:18</div>
            <div class="timeline-body"><p>This can happen if you run <code>npm install</code> in the wrong directory (at least, I'm not aware of any other way). That's why I'm unsure if we should ignore them in gitignore. I'm leaning towareds leaving the ignore file as is, unless there are other cases where you run into this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-04-21 12:44</div>
            <div class="timeline-body"><p>Often they just &quot;randomly&quot; generate for me. Probably due to one of my vscode extensions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-04-22 11:42</div>
            <div class="timeline-body"><p>https://github.com/astral-sh/ruff/pull/17533#discussion_r2053937717</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-22 12:37</div>
            <div class="timeline-body"><p>This never happened to me. Seems to me like a pretty clear case for a user-defined Git ignore pattern (e.g. in <code>.git/info/exclude</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-04-22 13:03</div>
            <div class="timeline-body"><p>Okay I can do that. Can I ask what the reason is for not adding it to the gitignore if it's something we actively don't want to be committed?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-04-22 14:49</div>
            <div class="timeline-body"><blockquote>
<p>Can I ask what the reason is for not adding it to the gitignore if it's something we actively don't want to be committed?</p>
</blockquote>
<p>I don't know our general strategy here, but from my personal experience, it's always good to keep <code>.gitignore</code> patterns to a minimum, and to keep patterns as specific as possible. Not talking about your PR here, but more generally. I had way more problems caused by overly-broad/wrong <code>.gitignore</code> patterns, then I had with files accidentally being committed. Better to accidentally commit a wrong file (and find out in review) than to lose actual changes that were not committed because you didn't realize they were gitignored by a rogue pattern.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-04-22 15:38</div>
            <div class="timeline-body"><p>Our practice has been to add files to <code>.gitignore</code> that we expect to get created when running scripts that are checked in, e.g. our dev commands because we know that everyone wants to ignore those.</p>
<p>We have refrained form adding files to the checked in <code>.gitignore</code> that are specific to your editor, your setup or your own dev workflow (e.g. I like to use samply and it creates a <code>profile.json</code>). These should be put into your user gitignore instead.</p>
<p>I haven't been able to reproduce the creation of a <code>package-lock.json</code> in the sub-packages except when I accidentally ran <code>npm install</code> in a sub-package folder. So I suspect that you may have some specific VS code extension (or something else) that triggers the installs which falls into the <em>your setup</em> category. However, if it turns out that this is something that impacts everyone working on the playground, adding it to our commited <code>.gitignore</code> is correct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-04-22 15:44</div>
            <div class="timeline-body"><p>Okay thank you, that sounds good to me.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MatthewMckee4 on 2025-04-22 15:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-04-25 20:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:11:41 UTC
    </footer>
</body>
</html>
