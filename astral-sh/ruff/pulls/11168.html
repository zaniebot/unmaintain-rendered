<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F401 - Distinguish between imports we wish to remove and those we wish to make explicit-exports - astral-sh/ruff #11168</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>F401 - Distinguish between imports we wish to remove and those we wish to make explicit-exports</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/11168">#11168</a>
        opened by <a href="https://github.com/plredmond">@plredmond</a>
        on 2024-04-26 22:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a></div>
            <div class="timeline-body"><p>Resolves #10390 and starts to address #10391</p>
Changes to behavior
<ul>
<li>In <code>__init__.py</code> we now offer some fixes for unused imports.<ul>
<li>If the import binding is first-party this PR suggests a fix to turn it into a redundant alias.</li>
<li>If the import binding is not first-party, this PR suggests a fix to remove it from the <code>__init__.py</code>.</li>
</ul>
</li>
<li>The fix-titles are specific to these new suggested fixes.</li>
<li><code>checker.settings.ignore_init_module_imports</code> setting is deprecated/ignored. There is probably a documentation change to make that complete which I haven&#x27;t done.</li>
</ul>
<hr>
Old description of implementation changes

Changes to the implementation
<ul>
<li>In the body of the loop over import statements that contain unused bindings, the bindings are partitioned into <code>to_reexport</code> and <code>to_remove</code> (according to how we want to resolve the fact they&#x27;re unused) with the following predicate:<pre><code>in_init &amp;&amp; is_first_party(checker, &amp;import.qualified_name().to_string()) // true means make it a reexport
</code></pre>
</li>
<li>Instead of generating a single fix per import statement, we now generate up to two fixes per import statement:<pre><code>(fix_by_removing_imports(checker, node_id, &amp;to_remove, in_init).ok(),
 fix_by_reexporting(checker, node_id, &amp;to_reexport, dunder_all).ok())
</code></pre>
</li>
<li>The <code>to_remove</code> fixes are unsafe when <code>in_init</code>.</li>
<li>The <code>to_explicit</code> fixes are safe. Currently, until a future PR, we make them redundant aliases (e.g. <code>import a</code> would become <code>import a as a</code>).</li>
</ul>
Other changes
<ul>
<li><code>checker.settings.ignore_init_module_imports</code> is deprecated/ignored. Instead, all fixes are gated on <code>checker.settings.preview.is_enabled()</code>.</li>
<li>Got rid of the pattern match on the import-binding bound by the inner loop because it seemed less readable than referencing fields on the binding.</li>
<li>[x] <code>// FIXME: rename &quot;imports&quot; to &quot;bindings&quot;</code> if reviewer agrees (see code)</li>
<li>[x] <code>// FIXME: rename &quot;node_id&quot; to &quot;import_statement&quot;</code> if reviewer agrees (see code)</li>
</ul>

Scope cut until a future PR

<ul>
<li>(Not implemented) The <code>to_explicit</code> fixes will be added to <code>__all__</code> unless it doesn&#x27;t exist. When <code>__all__</code> doesn&#x27;t exist they&#x27;re resolved by converting to redundant aliases (e.g. <code>import a</code> would become <code>import a as a</code>).</li>
</ul>
<hr>


Test plan
<ul>
<li>[x] <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_24</code> contains an <code>__init__.py</code> with<em>out</em> <code>__all__</code> that exercises the features in this PR, but it doesn&#x27;t pass.</li>
<li>[x] <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_25_dunder_all</code> contains an <code>__init__.py</code> <em>with</em> <code>__all__</code> that exercises the features in this PR, but it doesn&#x27;t pass.</li>
<li>[x] Write unit tests for the new edit functions in <code>fix::edits::make_redundant_alias</code>.</li>
</ul>


</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/plredmond">@plredmond</a> on 2024-04-29 21:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_24/__init__.py</code>:37 on 2024-04-29 21:13</div>
            <div class="timeline-body"><p>What&#x27;s up with the crazy spacing in this file?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-04-29 21:13</div>
            <div class="timeline-body"><p>saying <code>0</code> means &#x27;absolute import&#x27; which might be wrong</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_25__all/__init__.py</code>:44 on 2024-04-29 21:14</div>
            <div class="timeline-body"><p>Should we add comments to all of the empty helper files saying what they&#x27;re used for?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:205 on 2024-04-29 21:14</div>
            <div class="timeline-body"><p>reviewer, please approve or deny these renames? i think they&#x27;d improve the readability of the code</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:208 on 2024-04-29 21:14</div>
            <div class="timeline-body"><p>i have work on this part, but it&#x27;s been cut from this pr</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-29 21:15</div>
            <div class="timeline-body"><p>Should we just pass default values for these?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:205 on 2024-04-29 21:16</div>
            <div class="timeline-body"><p>These are fine with me</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-04-29 21:16</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+0 -0 violations, +104 -0 fixes in 2 projects; 42 projects unchanged)</p>
<a href="https://github.com/PostHog/HouseWatch">PostHog/HouseWatch</a> (+0 -0 violations, +4 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/PostHog/HouseWatch/blob/c8962f5464839fbbc0a60f398aa765d4bc8437b6/housewatch/models/__init__.py#L2">housewatch/models/__init__.py:2:21:</a> F401 [*] `.backup.ScheduledBackup` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/PostHog/HouseWatch/blob/c8962f5464839fbbc0a60f398aa765d4bc8437b6/housewatch/models/__init__.py#L2">housewatch/models/__init__.py:2:21:</a> F401 `.backup.ScheduledBackup` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/PostHog/HouseWatch/blob/c8962f5464839fbbc0a60f398aa765d4bc8437b6/housewatch/models/__init__.py#L2">housewatch/models/__init__.py:2:38:</a> F401 [*] `.backup.ScheduledBackupRun` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/PostHog/HouseWatch/blob/c8962f5464839fbbc0a60f398aa765d4bc8437b6/housewatch/models/__init__.py#L2">housewatch/models/__init__.py:2:38:</a> F401 `.backup.ScheduledBackupRun` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
</pre>

</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (+0 -0 violations, +100 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L10">latch/__init__.py:10:5:</a> F401 [*] `latch.functions.operators.group_tuple` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L10">latch/__init__.py:10:5:</a> F401 `latch.functions.operators.group_tuple` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L11">latch/__init__.py:11:5:</a> F401 [*] `latch.functions.operators.inner_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L11">latch/__init__.py:11:5:</a> F401 `latch.functions.operators.inner_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L12">latch/__init__.py:12:5:</a> F401 [*] `latch.functions.operators.latch_filter` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L12">latch/__init__.py:12:5:</a> F401 `latch.functions.operators.latch_filter` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L13">latch/__init__.py:13:5:</a> F401 [*] `latch.functions.operators.left_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L13">latch/__init__.py:13:5:</a> F401 `latch.functions.operators.left_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L14">latch/__init__.py:14:5:</a> F401 [*] `latch.functions.operators.outer_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L14">latch/__init__.py:14:5:</a> F401 `latch.functions.operators.outer_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L15">latch/__init__.py:15:5:</a> F401 [*] `latch.functions.operators.right_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L15">latch/__init__.py:15:5:</a> F401 `latch.functions.operators.right_join` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L17">latch/__init__.py:17:41:</a> F401 [*] `latch.resources.conditional.create_conditional_section` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L17">latch/__init__.py:17:41:</a> F401 `latch.resources.conditional.create_conditional_section` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L18">latch/__init__.py:18:39:</a> F401 [*] `latch.resources.map_tasks.map_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L18">latch/__init__.py:18:39:</a> F401 `latch.resources.map_tasks.map_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L19">latch/__init__.py:19:48:</a> F401 [*] `latch.resources.reference_workflow.workflow_reference` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L19">latch/__init__.py:19:48:</a> F401 `latch.resources.reference_workflow.workflow_reference` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L21">latch/__init__.py:21:5:</a> F401 [*] `latch.resources.tasks.custom_memory_optimized_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L21">latch/__init__.py:21:5:</a> F401 `latch.resources.tasks.custom_memory_optimized_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L22">latch/__init__.py:22:5:</a> F401 [*] `latch.resources.tasks.custom_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L22">latch/__init__.py:22:5:</a> F401 `latch.resources.tasks.custom_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L23">latch/__init__.py:23:5:</a> F401 [*] `latch.resources.tasks.large_gpu_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L23">latch/__init__.py:23:5:</a> F401 `latch.resources.tasks.large_gpu_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L24">latch/__init__.py:24:5:</a> F401 [*] `latch.resources.tasks.large_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L24">latch/__init__.py:24:5:</a> F401 `latch.resources.tasks.large_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L25">latch/__init__.py:25:5:</a> F401 [*] `latch.resources.tasks.medium_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L25">latch/__init__.py:25:5:</a> F401 `latch.resources.tasks.medium_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L26">latch/__init__.py:26:5:</a> F401 [*] `latch.resources.tasks.small_gpu_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L26">latch/__init__.py:26:5:</a> F401 `latch.resources.tasks.small_gpu_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L27">latch/__init__.py:27:5:</a> F401 [*] `latch.resources.tasks.small_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L27">latch/__init__.py:27:5:</a> F401 `latch.resources.tasks.small_task` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L29">latch/__init__.py:29:38:</a> F401 [*] `latch.resources.workflow.workflow` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L29">latch/__init__.py:29:38:</a> F401 `latch.resources.workflow.workflow` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L7">latch/__init__.py:7:38:</a> F401 [*] `latch.functions.messages.message` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L7">latch/__init__.py:7:38:</a> F401 `latch.functions.messages.message` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L9">latch/__init__.py:9:5:</a> F401 [*] `latch.functions.operators.combine` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/__init__.py#L9">latch/__init__.py:9:5:</a> F401 `latch.functions.operators.combine` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L10">latch/types/__init__.py:10:5:</a> F401 [*] `latch.types.metadata.LatchMetadata` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L10">latch/types/__init__.py:10:5:</a> F401 `latch.types.metadata.LatchMetadata` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L11">latch/types/__init__.py:11:5:</a> F401 [*] `latch.types.metadata.LatchParameter` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L11">latch/types/__init__.py:11:5:</a> F401 `latch.types.metadata.LatchParameter` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L12">latch/types/__init__.py:12:5:</a> F401 [*] `latch.types.metadata.LatchRule` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L12">latch/types/__init__.py:12:5:</a> F401 `latch.types.metadata.LatchRule` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L13">latch/types/__init__.py:13:5:</a> F401 [*] `latch.types.metadata.Params` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L13">latch/types/__init__.py:13:5:</a> F401 `latch.types.metadata.Params` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
+ <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L14">latch/types/__init__.py:14:5:</a> F401 [*] `latch.types.metadata.Section` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
- <a href="https://github.com/latchbio/latch/blob/d6695988e6cc19196f39b4ca056814b24be51555/latch/types/__init__.py#L14">latch/types/__init__.py:14:5:</a> F401 `latch.types.metadata.Section` imported but unused; consider removing, adding to `__all__`, or using a redundant alias
... 52 additional changes omitted for project
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| F401 | 104 | 0 | 0 | 104 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:42 on 2024-04-29 21:17</div>
            <div class="timeline-body"><p>Can you file an issue to fix this underline and help message? We should probably highlight &quot;renamed as bees&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:25 on 2024-04-29 21:18</div>
            <div class="timeline-body"><p>This help message is wrong, it should say something about exporting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-29 21:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-29 21:21</div>
            <div class="timeline-body"><p>The ecosystem checks look concerning. We&#x27;re losing fixes in preview? I think there should be no changes in stable?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-29 21:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_24/__init__.py</code>:37 on 2024-04-29 21:31</div>
            <div class="timeline-body"><p>Presuming this is to make the snapshots clearer, but I don&#x27;t think we do this elsewhere I would stick with the existing style</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_24/__init__.py</code>:37 on 2024-04-29 21:50</div>
            <div class="timeline-body"><p>Yeah, I was having trouble reading the snapshots. Willfix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-29 21:51</div>
            <div class="timeline-body"><p>You mean <code>Default::default()</code> values? I don&#x27;t know. I&#x27;m following the examples from the isort code that I saw elsewhere.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:205 on 2024-04-29 21:51</div>
            <div class="timeline-body"><p>Ok, I&#x27;ll do a commit with these.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:42 on 2024-04-29 21:52</div>
            <div class="timeline-body"><p>Are you saying that the diagnostic should always apply to the whole alias (name and asname) or are you saying that we should special-case the the renamed-but-unused case?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:25 on 2024-04-29 21:53</div>
            <div class="timeline-body"><p>Yeah, I didn&#x27;t touch the diagnostic generation code. My bad. I&#x27;ll take a look at improving that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 21:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/plredmond">@plredmond</a> on 2024-04-29 21:53</div>
            <div class="timeline-body"><p>Yes, yes those do look concerning. I&#x27;ll look into it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-29 21:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-29 21:58</div>
            <div class="timeline-body"><p>Well, we&#x27;re not sorting imports so I feel like it&#x27;s weird to use these import sort section flags from the settings for categorization here. Maybe it&#x27;s not... but I&#x27;d imagine setting values that make sense for this rule e.g. <code>no_sections</code> should be <code>false</code>, <code>section_order</code> should be an empty slice, and the <code>default_section</code> should be.. first party? so we don&#x27;t remove things that we&#x27;re not sure about? not sure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-29 22:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:42 on 2024-04-29 22:00</div>
            <div class="timeline-body"><p>I think that &quot;Remove unused import: <code>.renamed</code>&quot; with only &quot;bees&quot; highlighted is very confusing. I&#x27;d need to look at more cases to determine what we should change it to — that seems out of scope here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-29 22:01</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:25 on 2024-04-29 22:01</div>
            <div class="timeline-body"><p>Usually you have the violation take an enum then use that to generate the proper message</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-29 22:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:25 on 2024-04-29 22:02</div>
            <div class="timeline-body"><p>e.g. https://github.com/astral-sh/ruff/blob/a6d892b1f4b45bfed918f3240218d5fcd39d3099/crates/ruff_linter/src/rules/flake8_bandit/rules/bad_file_permissions.rs#L43-L52</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 22:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/resources/test/fixtures/pyflakes/F401_25__all/__init__.py</code>:44 on 2024-04-29 22:21</div>
            <div class="timeline-body"><p>I can do that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 22:26</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-29 22:26</div>
            <div class="timeline-body"><p>This function has <code>#[allow(clippy::too_many_arguments)]</code> on it and no docstring. I wasn&#x27;t about to dig into its implementation to figure out the meaning of all the arguments, since the tests are passing and the behavior is correct. I&#x27;ll do as you recommend and ensure the tests work. Thanks for looking.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-29 22:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:42 on 2024-04-29 22:27</div>
            <div class="timeline-body"><p>Ok, I&#x27;ll file an issue to point out that this rule only highlights the as-name part of the alias and that&#x27;s confusing. :+1:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-30 00:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:25 on 2024-04-30 00:05</div>
            <div class="timeline-body"><p>Thanks! I hadn&#x27;t picked up on this pattern.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/zanieb">@zanieb</a> on 2024-04-30 15:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-30 20:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-30 20:44</div>
            <div class="timeline-body"><p>Oof, I tried those arguments and it starts miscategorizing stdin imports as first party. Hmm. More investigation is required.</p>
<p>I read the function body a bit, and I think the problem is probably just changing the default_section argument.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-30 21:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-30 21:07</div>
            <div class="timeline-body"><p>Ok, I tried various combinations of these arguments and got various incorrect categorization results, so I&#x27;m going to leave this as-is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-30 23:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:25 on 2024-04-30 23:43</div>
            <div class="timeline-body"><p>I changed it so that when in <code>__init__.py</code> and the import is first-party and there&#x27;s no <code>__all__</code> it says to &quot;use a redundant alias&quot; and if there is a <code>__all__</code> it says &quot;add to <code>__all__</code>&quot;; otherwise it falls back to the text &quot;remove unused import&quot;. This isn&#x27;t perfect, because it means in the <code>import foo as bar</code> case it recommends one of the export texts, not &quot;remove unused import&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/snapshots/ruff_linter__rules__pyflakes__tests__F401_F401_24____init__.py.snap</code>:42 on 2024-04-30 23:48</div>
            <div class="timeline-body"><p>Filed <a href="https://github.com/astral-sh/ruff/issues/11223">astral-sh/ruff#11223</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-04-30 23:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-04-30 23:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-04-30 23:49</div>
            <div class="timeline-body"><p>I&#x27;m confused. It seems like using whatever our defaults are for the settings should give the correct behavior?</p>
<p>If a user changes these import sort settings, we shouldn&#x27;t see a change of behavior in this rule — that sounds incorrect.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 04:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-05-01 04:59</div>
            <div class="timeline-body"><p>Yeah we can&#x27;t do this here -- we need to know the level. This is the cause of the PostHog regressions in the ecosystem checks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 04:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-05-01 04:59</div>
            <div class="timeline-body"><p>We should use the user-defined settings IMO. I think what we have here is correct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 05:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:208 on 2024-05-01 05:00</div>
            <div class="timeline-body"><p>I think best-practice would then be to cut all the other <code>dunder_all</code>-related code from this PR. Otherwise, it&#x27;s not really being tested in the PR that introduces it. And who knows -- maybe we never address this TODO, and that code remains dead in the codebase forever.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 05:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:129 on 2024-05-01 05:05</div>
            <div class="timeline-body"><p>Can we import these at the top-level, rather than in here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 05:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:128 on 2024-05-01 05:05</div>
            <div class="timeline-body"><p>We would typically pass checker as the second argument. We tend to lead with the data that the function is about, and pass extra structs to query as secondary arguments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 05:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:117 on 2024-05-01 05:07</div>
            <div class="timeline-body"><p>I guess it&#x27;s not new, but I&#x27;m finding the selective inclusion of <code>name</code> here to be confusing as a user, since we show one diagnostic at a time that underlines the import, but then <em>sometimes</em> include the name and sometimes don&#x27;t. I&#x27;d vote to just remove <code>name</code> here while we&#x27;re changing it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-01 05:08</div>
            <div class="timeline-body"><p>Not sure what&#x27;s up with the Latch changes. I ran it locally and they are indeed classified as first-party (at least by the isort rule).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:127 on 2024-05-01 08:08</div>
            <div class="timeline-body"><p>Nit: Accepting an <code>iter</code> gives us a lot of flexibility but it seems that we have a <code>Vec</code> on all call sites. That&#x27;s why I would change the signature to accept a <code>&amp;&#x27;a [str]</code>. It has the added benefit that it avoids monomorphizing the function (not a huge problem here because the function itself isn&#x27;t large).</p>
<p>If you want to keep it an iterator, than I suggest considering to accept a <code>IntoIterator</code> because it makes calling the function more convenient. E.g. <code>make_redundant_alias(vec![&quot;x&quot;].into_iter(), stmt),</code> becomes <code>make_redundant_alias(vec![&quot;x&quot;], stmt)</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:128 on 2024-05-01 08:09</div>
            <div class="timeline-body"><p>Nit: You can consider using <code>AnyImport</code> here to get this type checked</p>
<pre><code>		import: AnyImport
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:141 on 2024-05-01 08:10</div>
            <div class="timeline-body"><p>Nit Nit: You could consider inversing the order here because testing if something is <code>None</code> is significantly cheaper than comparing two names</p>
<pre><code>                .find(|alias| alias.asname.is_none() &amp;&amp; name == alias.name.id)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:565 on 2024-05-01 08:11</div>
            <div class="timeline-body"><p>Nit: You don&#x27;t need a vec here, you can pass an array</p>
<pre><code>            make_redundant_alias([&quot;x&quot;].into_iter(), stmt),
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:117 on 2024-05-01 08:15</div>
            <div class="timeline-body"><p>I think we should do this as a separate PR or we&#x27;ll get flooded by ecosystem changes, making it harder to spot real changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:123 on 2024-05-01 08:18</div>
            <div class="timeline-body"><p>Nit: Could be a follow up PR or a preparation PR (or you decide not to do it at all)</p>
<p>I think it would be nice if <code>categorize</code> would either</p>
<ul>
<li>accept <code>&amp;Checker</code> as an argument and extract the relevant parts itself</li>
<li>accept a <code>IsortContext</code> that stores all the data. <code>IsortContext</code> could then offer a <code>::from_checker</code> method that removes a lot of the complexity here</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-05-01 08:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-01 15:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-05-01 15:59</div>
            <div class="timeline-body"><p>I think we should use the user-settings for some parts, but why should changing your isort section order or default section affect this rule?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 16:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-05-01 16:20</div>
            <div class="timeline-body"><p>I think including the default section <em>does</em> make sense. From the perspective of this rule, these are opaque settings that the user provides to tell us how imports should be categorized. This rule shouldn&#x27;t need to keep track of which settings <em>might</em> matter based on details of its own logic. Imagine instead that this method just takes <code>settings.isort</code>. Re-creating that object to omit some values would be breaking the API contract. (And I don&#x27;t really see any benefit -- it&#x27;s actually <em>more</em> work in the future, if we add arguments, to try and keep track of which ones should be provided and which should be intentionally omitted.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 16:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:117 on 2024-05-01 16:21</div>
            <div class="timeline-body"><p>(Though this only shows up in the fix message?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-01 16:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-05-01 16:37</div>
            <div class="timeline-body"><p>I mean.. the method doesn&#x27;t take <code>settings.isort</code> but okay. It sounds like what I want is a different categorization method that doesn&#x27;t rely on <code>isort</code> sections to determine if something is first-party or not — it&#x27;s a weird mix of concerns. Perhaps I&#x27;m just misunderstanding the intent of these settings but, as a user, I would be very surprised that import-sorting options affect fixes for unused imports.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-01 16:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-05-01 16:37</div>
            <div class="timeline-body"><p>It sounds like we should leave this as-is in this pull request though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 16:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:133 on 2024-05-01 16:40</div>
            <div class="timeline-body"><p>Yes, please leave it as-is.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 18:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-05-01 18:43</div>
            <div class="timeline-body"><p>How do I determine the correct level? I&#x27;ll look at existing examples, but I&#x27;m not 100% clear on the meaning of this argument. I saw carl&#x27;s PR related to it though, so I&#x27;ll look around.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 18:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:208 on 2024-05-01 18:46</div>
            <div class="timeline-body"><p>A lot of the design for how I implemented the current PR is predicated on doing the <code>__all__</code> stuff next. The only reason I didn&#x27;t do it in this PR was because of @zanieb&#x27;s instruction. I&#x27;m getting a bit of whiplash here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 18:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:117 on 2024-05-01 18:52</div>
            <div class="timeline-body"><p>Sounds like no change is needed here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 18:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:128 on 2024-05-01 18:53</div>
            <div class="timeline-body"><p>Willfix</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 18:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:129 on 2024-05-01 18:53</div>
            <div class="timeline-body"><p>Willfix</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 18:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:123 on 2024-05-01 18:57</div>
            <div class="timeline-body"><p>This seems out of context for this PR, but I agree that <code>categorize</code> probably shouldn&#x27;t have all these domain-specific arguments exposed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 19:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:128 on 2024-05-01 19:09</div>
            <div class="timeline-body"><p>I&#x27;m not actually sure what your suggestion is here, probably because I don&#x27;t know how to get from what I have in the caller (a <code>NodeId</code>) to an <code>AnyImport</code>. I was following existing code nearby which called <code>Semantic::statement</code> to convert <code>NodeId</code> to <code>Stmt</code>. What is the benefit of using <code>AnyImport</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 19:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:127 on 2024-05-01 19:11</div>
            <div class="timeline-body"><p>Yep, again, I was following the example set by <code>fix::edit::remove_unused_imports</code>, which is the only other <code>Edit</code>-producing function used by this rule. I assume we want code to be consistent. Happy to try out your suggestion, though. Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 19:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:128 on 2024-05-01 19:16</div>
            <div class="timeline-body"><p>(Ah yeah, I don&#x27;t think <code>AnyImport</code> does what you want. <code>AnyImport</code> is for a binding, but you&#x27;re operating on an entire statement here. You actually have an <code>AnyImport</code> already via <code>let Some(import) = binding.as_any_import()</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 19:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:224 on 2024-05-01 19:17</div>
            <div class="timeline-body"><p>Just trying to understand what&#x27;s happening in Latch, at least one thing is that I think <code>isort::categorize</code> expects <code>.module_name()</code> rather than <code>.qualified_name()</code>, so this should probably be <code>binding.import.module_name()</code> (although I wouldn&#x27;t expect it to change the outcome -- the module name is generally a prefix of the qualified name, and the import categorization just operates on the first segment).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:224 on 2024-05-01 19:20</div>
            <div class="timeline-body"><p>Oh interesting, but <code>crates/ruff_linter/src/rules/flake8_type_checking/rules/typing_only_runtime_import.rs</code> uses the <code>.qualified_name</code> with <code>level=0</code>. Interesting... I mean, on further review, it&#x27;s possible that <code>level=0</code> <em>should</em> work here, because the binding name is meant to be the fully-resolved name.</p>
<p>Like, if the user does this from a module named <code>foo</code>:</p>
<pre><code>from . import bar
</code></pre>
<p>Then the qualified name on the binding should be <code>[&quot;foo&quot;, &quot;bar&quot;]</code> -- and so we should be able to resolve it without taking into account the dots. I&#x27;m surprised it&#x27;s not working for those projects. It&#x27;s probably worth checking them out, running them locally, and looking at what <code>binding.import.qualified_name</code> is here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 19:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-01 19:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-05-01 19:21</div>
            <div class="timeline-body"><p>The correct level needs to come from the import statement, rather than <em>binding</em>. We don&#x27;t store it on the binding at all, but it&#x27;s a field on <code>Stmt::ImportFrom</code>. You could look it up using <code>import_statement</code> below, by grabbing the <code>Stmt</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 20:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:127 on 2024-05-01 20:42</div>
            <div class="timeline-body"><p>I tried this a couple different ways and I don&#x27;t think it ended up simplifying things. I don&#x27;t know the rust patterns here, but it seems like taking a slice ends up requiring a lot more collections because you can&#x27;t map down to subfields.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 20:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/fix/edits.rs</code>:128 on 2024-05-01 20:51</div>
            <div class="timeline-body"><p>I just saw that in the caller I have <code>ImportBinding.import : AnyImport</code>.</p>
<p>And yes, this code is producing an edit for a statement that incises one or more bindings, so the comment isn&#x27;t applicable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-01 21:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-05-01 21:02</div>
            <div class="timeline-body"><p>Would it be appropriate to add a <code>level</code> method to <code>impl Imported AnyImport</code> for this, or better to just pattern match on the <code>Stmt</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/plredmond">@plredmond</a> on 2024-05-01 21:24</div>
            <div class="timeline-body"><p>Done with this round of review. I think the outstanding issues (in order of importance) are:</p>
<p>(1) Incorrectly categorizing many imports as not first-party in ecosystem results.</p>
<ul>
<li>Latest change might address this by setting level correctly</li>
</ul>
(2) Dangling `__all__` code<ol><li>`let dunder_all = None;`<li>`dunder_all: bool` field of `UnusedImportContext::init`<li>`dunder_all: Option` argument of `fix_by_reexporting` <li> `match dunder_all` in `fix_by_reexporting` which has a &quot;not implemented&quot; branch <li> branch in `fix_title` of `impl Violation for UnusedImport` which handles the case for no2</ol>

<ul>
<li>To complete this feature requires adding a new edit function and calling it at no4.</li>
</ul>
(3) Some functions still take `impl Iterator&lt;...&gt;` but might be better to take `&amp;&#x27;a [...]`<ol><li>`fix::edits::make_redundant_alias` <li> `fix_by_reexporting` <li> `fix_by_removing_imports`</ol>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/plredmond">@plredmond</a> on 2024-05-01 21:37</div>
            <div class="timeline-body"><p><code>latch/latchbio</code> is still getting many imports incorrectly categorized, it seems</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/plredmond">@plredmond</a> on 2024-05-01 21:39</div>
            <div class="timeline-body"><p>I think there might just be a bug in my logic somewhere, since it seems that the only things being miscategorized are bindings in the syntax</p>
<pre><code>from foo.bar.baz import (bind1,bind2)
</code></pre>
<p>So I&#x27;ll write a test for that syntax and see what happens with it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-01 22:10</div>
            <div class="timeline-body"><p>Cool, I can help take a look at the remaining Latch categorizations tomorrow if it’s helpful!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-02 16:28</div>
            <div class="timeline-body"><p>On second glance, aren&#x27;t the ecosystem changes <em>correct</em>? We&#x27;re now offering fixes for first-party imports in <code>__init__.py</code> files, whereas we weren&#x27;t before?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-02 16:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-05-02 16:32</div>
            <div class="timeline-body"><p>On review, I think what you have here actually <em>is</em> fine, because we&#x27;re using <code>qualified_name</code>... Imagine you have <code>from . import bar</code> in a module named <code>foo</code>. <code>qualified_name</code> will get resolved to <code>foo.bar</code>, so it should correctly be marked as first-party.</p>
<p>(In the <code>isort</code> rules, we don&#x27;t have <code>qualified_name</code>, but rather, an import with a level (the dot) and member (<code>bar</code>), which is why we need to pass the level in. Also, the <code>isort</code> rules care about differentiating between relative and absolute imports -- they get rendered as separate sections -- but that doesn&#x27;t matter here.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-05-02 16:36</div>
            <div class="timeline-body"><p>The behavior here looks correct to me. Would you mind adding a brief summary of the <em>behavior</em> changes to the PR body, so that users that click through in the changelog can understand what changed, rather than being limited to the implementation details?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2024-05-02 16:37</div>
            <div class="timeline-body"><p>The behavior here looks correct to me. Would you mind adding a brief summary of the <em>behavior</em> changes to the PR body, so that users that click through in the changelog can understand what changed, rather than being limited to the implementation details?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2024-05-02 16:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:208 on 2024-05-02 16:54</div>
            <div class="timeline-body"><p>Here&#x27;s the entirety of what&#x27;s being requested here:</p>
<pre><code>diff --git a/crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs b/crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs
index 3a3302e8c..6dda41f8e 100644
--- a/crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs
+++ b/crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs
@@ -18,7 +18,7 @@ use crate::rules::{isort, isort::ImportSection, isort::ImportType};
 #[derive(Debug, Copy, Clone, Eq, PartialEq)]
 enum UnusedImportContext {
     ExceptHandler,
-    Init { first_party: bool, dunder_all: bool },
+    Init { first_party: bool },
 }
 
 /// ## What it does
@@ -108,14 +108,7 @@ impl Violation for UnusedImport {
     fn fix_title(&amp;self) -&gt; Option&lt;String&gt; {
         let UnusedImport { name, multiple, .. } = self;
         let resolution = match self.context {
-            Some(UnusedImportContext::Init {
-                first_party: true,
-                dunder_all: true,
-            }) =&gt; &quot;Add unused import to __all__&quot;,
-            Some(UnusedImportContext::Init {
-                first_party: true,
-                dunder_all: false,
-            }) =&gt; &quot;Use a redundant alias&quot;,
+            Some(UnusedImportContext::Init { first_party: true }) =&gt; &quot;Use a redundant alias&quot;,
             _ =&gt; &quot;Remove unused import&quot;,
         };
         Some(if *multiple {
@@ -147,7 +140,7 @@ fn is_first_party(qualified_name: &amp;str, level: u32, checker: &amp;Checker) -&gt; bool {
 
 /// For some unused binding in an import statement...
 ///
-///  __init__.py ∧ 1stpty → safe,   move to __all__ or convert to explicit-import
+///  __init__.py ∧ 1stpty → safe,   convert to explicit-import
 ///  __init__.py ∧ stdlib → unsafe, remove
 ///  __init__.py ∧ 3rdpty → unsafe, remove
 ///
@@ -204,8 +197,6 @@ pub(crate) fn unused_import(checker: &amp;Checker, scope: &amp;Scope, diagnostics: &amp;mut
 
     let in_init = checker.path().ends_with(&quot;__init__.py&quot;);
     let fix_init = checker.settings.preview.is_enabled();
-    // TODO: find the `__all__` node
-    let dunder_all = None;
 
     // Generate a diagnostic for every import, but share fixes across all imports within the same
     // statement (excluding those that are ignored).
@@ -234,7 +225,6 @@ pub(crate) fn unused_import(checker: &amp;Checker, scope: &amp;Scope, diagnostics: &amp;mut
                             level,
                             checker,
                         ),
-                        dunder_all: dunder_all.is_some(),
                     })
                 } else {
                     None
@@ -265,7 +255,6 @@ pub(crate) fn unused_import(checker: &amp;Checker, scope: &amp;Scope, diagnostics: &amp;mut
                     checker,
                     import_statement,
                     to_reexport.iter().map(|(binding, _)| binding),
-                    dunder_all,
                 )
                 .ok(),
             )
@@ -378,13 +367,12 @@ fn fix_by_removing_imports&lt;&#x27;a&gt;(
     )
 }
 
-/// Generate a [`Fix`] to make bindings in a statement explicit, either by adding them to `__all__`
-/// or changing them from `import a` to `import a as a`.
+/// Generate a [`Fix`] to make bindings in a statement explicit by adding a redundant alias (e.g.,
+/// converting `import a` to `import a as a`).
 fn fix_by_reexporting&lt;&#x27;a&gt;(
     checker: &amp;Checker,
     node_id: NodeId,
     imports: impl Iterator&lt;Item = &amp;&#x27;a ImportBinding&lt;&#x27;a&gt;&gt;,
-    dunder_all: Option&lt;NodeId&gt;,
 ) -&gt; Result&lt;Fix&gt; {
     let statement = checker.semantic().statement(node_id);
 
@@ -395,10 +383,7 @@ fn fix_by_reexporting&lt;&#x27;a&gt;(
         bail!(&quot;Expected import bindings&quot;);
     }
 
-    let edits = match dunder_all {
-        Some(_dunder_all) =&gt; bail!(&quot;Not implemented: add to dunder_all&quot;),
-        None =&gt; fix::edits::make_redundant_alias(member_names.iter().map(AsRef::as_ref), statement),
-    };
+    let edits = fix::edits::make_redundant_alias(member_names.iter().map(AsRef::as_ref), statement);
 
     // Only emit a fix if there are edits
     let mut tail = edits.into_iter();
</code></pre>
<p>I leave it to you as to whether you apply the patch.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-02 17:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:132 on 2024-05-02 17:13</div>
            <div class="timeline-body"><p>No longer hardcodes a zero argument in all cases. In the <code>FromImport</code> case we pass the <code>level</code> field in.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/plredmond">@plredmond</a> reviewed on 2024-05-02 17:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/plredmond">@plredmond</a> on <code>crates/ruff_linter/src/rules/pyflakes/rules/unused_import.rs</code>:208 on 2024-05-02 17:32</div>
            <div class="timeline-body"><p>Applied.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/plredmond">@plredmond</a> on 2024-05-02 23:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/plredmond">@plredmond</a> on 2024-05-02 23:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-05-02 23:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-05-02 23:11</div>
            <div class="timeline-body"><p>Congrats on the merge :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-03 05:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:03:44 UTC
    </footer>
</body>
</html>
