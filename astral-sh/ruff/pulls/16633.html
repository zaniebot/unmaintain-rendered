<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] Check if callable type is fully static - astral-sh/ruff #16633</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] Check if callable type is fully static</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/16633">#16633</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2025-03-11 16:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dhruvmanila">@dhruvmanila</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Part of #15382</p>
<p>This PR adds the check for whether a callable type is fully static or not.</p>
<p>A callable type is fully static if all of the parameter types are fully static <em>and</em> the return type is fully static <em>and</em> if it does not use the gradual form (<code>...</code>) for its parameters.</p>
<h2>Test Plan</h2>
<p>Update <code>is_fully_static.md</code> with callable types.</p>
<p>It seems that currently this test is grouped into either fully static or not, I think it would be useful to split them up in groups like callable, etc. I intentionally avoided that in this PR but I'll put up a PR for an appropriate split.</p>
<p>Note: I've an explicit goal of updating the property tests with the new callable types once all relations are implemented.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by @dhruvmanila on 2025-03-11 16:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @dhruvmanila on 2025-03-11 16:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @dhruvmanila on 2025-03-11 16:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @dhruvmanila on 2025-03-11 16:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @dhruvmanila on 2025-03-11 16:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-03-11 16:23</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<p>No ecosystem changes detected âœ…</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> approved on 2025-03-11 19:01</div>
            <div class="timeline-body"><p>This looks good, thank you.</p>
<p>May I ask why you plan to wait with the property tests until after you implemented all type properties? It seems to me like they could be of help. If you start out by returning <code>false</code> everywhere, they might even pass most existing property tests everywhere since they wouldn't fulfill the preconditions?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-03-12 04:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-03-12 06:07</div>
            <div class="timeline-body"><blockquote>
<p>May I ask why you plan to wait with the property tests until after you implemented all type properties? It seems to me like they could be of help. If you start out by returning <code>false</code> everywhere, they might even pass most existing property tests everywhere since they wouldn't fulfill the preconditions?</p>
</blockquote>
<p>Not at all. My main reason was to independently put up PRs for each method and continue with the others without blocking the ones that are good to go and enabling property tests <em>could</em> create CI failures on <code>main</code> for the ones that haven't been implemented yet.</p>
<p>That said, I do use a default return value (mostly <code>false</code>) for the ones that haven't been implemented yet and I can try adding them to verify today. Thanks for the suggestion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @dhruvmanila on 2025-03-12 06:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2025-03-12 06:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-03-12 06:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:10:38 UTC
    </footer>
</body>
</html>
