```yaml
number: 15286
title: Update Rust crate insta to v1.42.0
type: pull_request
state: merged
author: renovate
labels:
  - internal
assignees: []
merged: true
base: main
head: renovate/insta-1.x-lockfile
created_at: 2025-01-06T00:55:01Z
updated_at: 2025-01-06T01:14:46Z
url: https://github.com/astral-sh/ruff/pull/15286
synced_at: 2026-01-12T15:55:50Z
```

# Update Rust crate insta to v1.42.0

---

_@renovate_

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [insta](https://insta.rs/) ([source](https://redirect.github.com/mitsuhiko/insta)) | workspace.dependencies | minor | `1.41.1` -> `1.42.0` |

---

> [!WARNING]
> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.

---

### Release Notes

<details>
<summary>mitsuhiko/insta (insta)</summary>

### [`v1.42.0`](https://redirect.github.com/mitsuhiko/insta/blob/HEAD/CHANGELOG.md#1420)

[Compare Source](https://redirect.github.com/mitsuhiko/insta/compare/1.41.1...1.42.0)

-   Text snapshots no longer contain `snapshot_type: text` in their metadata.  For
    context, we originally added this in the prior release (1.41.0) to support
    binary snapshots, but some folks disliked the diff noise on any snapshot
    changes, and the maintainers' weighted votes favored reverting.  I apologize
    that this will cause some additional churn for those who used `cargo test --force-update-snapshots` to update their snapshots to the 1.41 format;
    running this again with 1.42 will remove those metadata entries.  To confirm:
    this doesn't affect whether snapshot tests pass or fail â€” the worst impact is
    some additional diffs in metadata.  [#&#8203;690](https://redirect.github.com/mitsuhiko/insta/issues/690)
-   Pending snapshots are no longer removed throughout the workspace by
    `cargo-insta` before running tests.  Instead, running a test will overwrite or
    remove its own pending snapshot.  To remove all pending snapshots, use `cargo
    insta reject` or run tests with `--unreferenced=delete`.  [#&#8203;651](https://redirect.github.com/mitsuhiko/insta/issues/651)
-   `insta::internals::SettingsBindDropGuard` (returned from
    `Settings::bind_to_scope`) no longer implements `Send`. This was incorrect and
    any tests relying on this behavior where not working properly. Fixes [#&#8203;694](https://redirect.github.com/mitsuhiko/insta/issues/694) in
    [#&#8203;695](https://redirect.github.com/mitsuhiko/insta/issues/695) by [@&#8203;jalil-salame](https://redirect.github.com/jalil-salame)

</details>

---

### Configuration

ðŸ“… **Schedule**: Branch creation - "before 4am on Monday" (UTC), Automerge - At any time (no schedule defined).

ðŸš¦ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

â™» **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

ðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR was generated by [Mend Renovate](https://mend.io/renovate/). View the [repository job log](https://developer.mend.io/github/astral-sh/ruff).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzOS44NS4wIiwidXBkYXRlZEluVmVyIjoiMzkuODUuMCIsInRhcmdldEJyYW5jaCI6Im1haW4iLCJsYWJlbHMiOlsiaW50ZXJuYWwiXX0=-->


---

_Label `internal` added by @renovate[bot] on 2025-01-06 00:55_

---

_Merged by @charliermarsh on 2025-01-06 01:06_

---

_Closed by @charliermarsh on 2025-01-06 01:06_

---

_Branch deleted on 2025-01-06 01:06_

---

_Comment by @github-actions[bot] on 2025-01-06 01:14_

<!-- generated-comment ecosystem -->
## `ruff-ecosystem` results
### Linter (stable)
âœ… ecosystem check detected no linter changes.

### Linter (preview)
âœ… ecosystem check detected no linter changes.

### Formatter (stable)
âœ… ecosystem check detected no format changes.

### Formatter (preview)
âœ… ecosystem check detected no format changes.




---
