<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stabilize two `flake8-pyi` rules - astral-sh/ruff #12860</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Stabilize two <code>flake8-pyi</code> rules</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/12860">#12860</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2024-08-13 12:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body">Summary
<p>Stabilize <code>PYI057</code> and <code>PYI62</code>.</p>
<p>The rules have been added more than 90 days ago and there are no outstanding issues (searching by rule name or code).</p>
<p>It is a bit funny that the rules apply to both <code>pyi</code> and <code>py</code> files, considering that they are part of <code>flake8-pyi</code>.
They do match the behavior of the upstream rules and we can move the rules into a more appropriate group when doing the rule categorization.</p>
Test Plan
<p>See ecosystem check</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 12:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-08-13 13:28</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>‚ÑπÔ∏è ecosystem check <strong>detected linter changes</strong>. (+16 -0 violations, +0 -0 fixes in 2 projects; 52 projects unchanged)</p>
<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/events.py#L569">src/bokeh/events.py:569:36:</a> PYI062 Duplicate literal member `-1`
</pre>

</p>

<a href="https://github.com/python/typeshed">python/typeshed</a> (+15 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --no-preview --select E,F,FA,I,PYI,RUF,UP,W</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stdlib/_collections_abc.pyi#L63">stdlib/_collections_abc.pyi:63:24:</a> PYI057 Do not use `typing.ByteString`, which has unclear semantics and is deprecated
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:11052:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:11057:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:11062:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:11067:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:3422:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:5868:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:5873:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:8355:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:8360:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:8689:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1188">stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1188:8694:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi#L496">stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi:496:918:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi#L496">stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi:496:923:</a> PYI062 Duplicate literal member `...`
+ <a href="https://github.com/python/typeshed/blob/89bb3c148cc72884092eb1da51f34eb6f671f58b/stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi#L496">stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi:496:928:</a> PYI062 Duplicate literal member `...`
</pre>

</p>

Changes by rule (2 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PYI062 | 15 | 15 | 0 | 0 | 0 |
| PYI057 | 1 | 1 | 0 | 0 | 0 |</p>
</p>


Linter (preview)
<p>‚úÖ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/codes.rs</code>:782 on 2024-08-13 13:29</div>
            <div class="timeline-body"><p>I think this one has been around for a little less than 90 days -- it was merged on May 29 and released on May 31. But it&#x27;s also a very simple and uncontroversial rule (IMO), so I&#x27;m okay with stabilising it a couple of weeks before we normally would üòÑ it&#x27;s not in our versioning policy that we have to wait 90 days</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2024-08-13 13:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-13 13:31</div>
            <div class="timeline-body"><p>I think the ecoystem report has gone haywire because you changed the base branch of the PR after it had been opened. Could you try rebasing it? Or maybe closing and reopening it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 13:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 13:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-08-13 13:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/codes.rs</code>:782 on 2024-08-13 13:33</div>
            <div class="timeline-body"><p>Lol, that&#x27;s correct. I only saw <em>May</em> and was like, that&#x27;s a long time ago. I did do the proper math for the other rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 14:14</div>
            <div class="timeline-body"><p>Hmm, I&#x27;m trying to reproduce the typeshed errors where the error message looks very off but without success so far</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-13 14:15</div>
            <div class="timeline-body"><blockquote>
<p>Hmm, I&#x27;m trying to reproduce the typeshed errors where the error message looks very off but without success so far</p>
</blockquote>
<p>If you can&#x27;t repro them locally, it&#x27;s probably another case of <a href="https://github.com/astral-sh/ruff/issues/11305">astral-sh/ruff#11305</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 15:14</div>
            <div class="timeline-body"><p>Ohh, thanks for pointing that out. I did paste that code snippet into the test and I can&#x27;t reproduce locally.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 15:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-13 15:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-08-13 15:14</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:06:01 UTC
    </footer>
</body>
</html>
