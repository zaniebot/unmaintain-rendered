<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-pyi`] Implement `PYI062` (`duplicate-literal-member`) - astral-sh/ruff #11269</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-pyi</code>] Implement <code>PYI062</code> (<code>duplicate-literal-member</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/11269">#11269</a>
        opened by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a>
        on 2024-05-03 19:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tusharsadhwani">@tusharsadhwani</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Implements <code>Y062</code> from <code>flake8-pyi</code>, mostly adopted from <code>Rule::DuplicateUnionMember</code> (without the <code>|</code> BinOp parts).</p>
<p>Currently <code>DuplicateUnionMember</code> also doesn't have an autofix for <code>Union[]</code> cases, so implementing both together seems like a good idea.</p>
<h2>Test Plan</h2>
<p><code>cargo test</code> / <code>cargo insta review</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @tusharsadhwani on 2024-05-03 19:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/src/codes.rs</code>:811 on 2024-05-03 19:46</div>
            <div class="timeline-body"><p>We add new rules in the <code>Preview</code> rule group</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-03 19:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-03 19:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/flake8_pyi/PYI062.py</code>:7 on 2024-05-03 19:48</div>
            <div class="timeline-body"><p>Can you add test cases where the inner literal is entirely redundant? e.g.</p>
<p><code>Literal[1, Literal[1]]</code>
<code>Literal[1, 2, Literal[1, 2]]</code>
<code>Literal[1, Literal[1], Literal[1]]</code>
<code>Literal[1, Literal[2], Literal[2]]</code>
<code>Literal[1, Literal[2, Literal[1]]]</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/flake8_pyi/PYI062.py</code>:7 on 2024-05-03 19:50</div>
            <div class="timeline-body"><p>These will be more important for when we add a fix, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-03 19:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-03 19:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_linter/resources/test/fixtures/flake8_pyi/PYI062.py</code>:7 on 2024-05-03 19:50</div>
            <div class="timeline-body"><p>It's also good to have coverage for cases like <code>Literal[1, 1, 1]</code> where we should raise the diagnostic twice.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-05-03 20:03</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>‚úÖ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>‚ÑπÔ∏è ecosystem check <strong>detected linter changes</strong>. (+15 -0 violations, +0 -0 fixes in 2 projects; 42 projects unchanged)</p>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/events.py#L569'>src/bokeh/events.py:569:36:</a> PYI062 Duplicate literal member `-1`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/python/typeshed">python/typeshed</a> (+14 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select E,F,FA,I,PYI,RUF,UP,W</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:10239:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:10244:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:10249:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:10254:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:3424:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:5833:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:5838:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:7915:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:7920:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:8172:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi#L1051'>stubs/tensorflow/tensorflow/compiler/xla/xla_pb2.pyi:1051:8177:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi#L496'>stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi:496:918:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi#L496'>stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi:496:923:</a> PYI062 Duplicate literal member `...`
+ <a href='https://github.com/python/typeshed/blob/3e3fd0dd86933214d903654c1e7057f25dba93fa/stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi#L496'>stubs/tensorflow/tensorflow/core/protobuf/rewriter_config_pb2.pyi:496:928:</a> PYI062 Duplicate literal member `...`
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PYI062 | 15 | 15 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-05-03 21:08</div>
            <div class="timeline-body"><p>Hm the typeshed ecosystem checks look concerning, do you know what's going on there?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on 2024-05-03 21:17</div>
            <div class="timeline-body"><p>@zanieb Doesn't seem to reproduce locally at least with copypasting the concerned files :/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-06 09:04</div>
            <div class="timeline-body"><p>@tusharsadhwani can you try rebasing your PR on the latest <code>main</code>? Maybe it's out of sync.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-06 09:06</div>
            <div class="timeline-body"><blockquote>
<p>@tusharsadhwani can you try rebasing your PR on the latest <code>main</code>? Maybe it's out of sync.</p>
</blockquote>
<p>I think something might be up with the ecosystem checks generally when it comes to typeshed. I've had several odd results on some of my other PRs that have touched <code>PYI</code> checks, e.g. https://github.com/astral-sh/ruff/pull/11128. I want to try to look into this today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on 2024-05-06 09:09</div>
            <div class="timeline-body"><p>Can confirm, merging main doesn't fix the issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-05-06 09:11</div>
            <div class="timeline-body"><blockquote>
<p>I think something might be up with the ecosystem checks generally when it comes to typeshed. I've had several odd results on some of my other PRs that have touched <code>PYI</code> checks, e.g. #11128. I want to try to look into this today.</p>
</blockquote>
<p>Oh, I see. @AlexWaygood Can you open a new issue to keep track of it? No need to go into detail there but if you're unable to look into it we're still aware of it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-06 09:16</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>I think something might be up with the ecosystem checks generally when it comes to typeshed. I've had several odd results on some of my other PRs that have touched <code>PYI</code> checks, e.g. #11128. I want to try to look into this today.</p>
</blockquote>
<p>Oh, I see. @AlexWaygood Can you open a new issue to keep track of it? No need to go into detail there but if you're unable to look into it we're still aware of it.</p>
</blockquote>
<p>Done:</p>
<ul>
<li>#11305</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/rules/flake8_pyi/rules/duplicate_literal_member.rs</code>:61 on 2024-05-07 13:57</div>
            <div class="timeline-body"><pre><code class="language-suggestion">            diagnostics.push(Diagnostic::new(
                DuplicateLiteralMember {
                    duplicate_name: checker.generator().expr(expr),
                },
                expr.range(),
            ));
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:1210 on 2024-05-07 14:01</div>
            <div class="timeline-body"><p>Hmm, why are we checking <code>BinOp</code> expressions here? A <code>Union</code> can either be a <code>Subscript</code> expression (<code>Union[int, str]</code>, etc.) or a <code>BitOr</code> expression (<code>int | str</code>, etc.). But AFAIK a <code>Literal</code> can only be a <code>Subscript</code> expression, right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/rules/flake8_pyi/rules/duplicate_literal_member.rs</code>:15 on 2024-05-07 14:02</div>
            <div class="timeline-body"><pre><code class="language-suggestion">/// Checks for duplicate members in a `typing.Literal[]` slice.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/rules/flake8_pyi/rules/duplicate_literal_member.rs</code>:28 on 2024-05-07 14:03</div>
            <div class="timeline-body"><p>Let's use an example that doesn't have booleans in the <code>Literal</code> slice, since strictly speaking <code>Literal[True, False]</code> could be written more simply using <code>bool</code> anyway:</p>
<pre><code class="language-suggestion">/// ```python
/// foo: Literal[&quot;a&quot;, &quot;b&quot;, &quot;a&quot;]
/// ```
///
/// Use instead:
/// ```python
/// foo: Literal[&quot;a&quot;, &quot;b&quot;]
/// ```
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_python_semantic/src/analyze/typing.rs</code>:440 on 2024-05-07 14:09</div>
            <div class="timeline-body"><p>nit: I know the existing <code>traverse_union</code> function in this file uses <code>.as_ref()</code> here, but it's best to avoid <code>AsRef&lt;&gt;</code> where possible in situations like this. A single struct in Ruff can have multiple implementations of the <code>AsRef</code> trait, so if you use <code>.as_ref()</code>, you're relying on type inference by the compiler to ensure that it gets converted to the correct type. That's potentially fragile -- it could unexpectedly break if the struct gets more <code>AsRef</code> implementations added in the future.</p>
<p><code>&amp;**slice</code> means:</p>
<ul>
<li>Take the <code>slice</code> variable, which currently has type <code>&amp;Box&lt;Expr&gt;</code></li>
<li>Dereference it once: -&gt; <code>Box&lt;Expr&gt;</code></li>
<li>Dereference it again: -&gt; <code>Expr</code></li>
<li>And now borrow it: -&gt; <code>&amp;Expr</code></li>
</ul>
<pre><code class="language-suggestion">                match &amp;**slice {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/resources/test/fixtures/flake8_pyi/PYI062.py</code>:1 on 2024-05-07 14:15</div>
            <div class="timeline-body"><p>There's no reason I can think of why they wouldn't work fine, but I would personally also add one or two examples to the fixtures that use fully-qualified <code>typing.Literal[]</code> and <code>typing_extensions.Literal[]</code> for the type (rather than just <code>Literal[]</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-05-07 14:15</div>
            <div class="timeline-body"><p>Nice!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> reviewed on 2024-05-07 14:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on <code>crates/ruff_python_semantic/src/analyze/typing.rs</code>:440 on 2024-05-07 14:30</div>
            <div class="timeline-body"><p>Clippy has suggested me &amp;** before, but it seemed awkward, it's not used very much in the codebase so I refrained.</p>
<p>I'll take care of the nits, and also have a PR up for <code>PYI064</code> in a couple hours.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> reviewed on 2024-05-07 14:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/zanieb">@zanieb</a> on <code>crates/ruff_python_semantic/src/analyze/typing.rs</code>:440 on 2024-05-07 14:31</div>
            <div class="timeline-body"><p>We're having this discussion internally now :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-05-07 14:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_python_semantic/src/analyze/typing.rs</code>:440 on 2024-05-07 14:35</div>
            <div class="timeline-body"><p>Yeah, feel free to leave this for now if you don't like it :-)</p>
<p>I personally like <code>&amp;**</code> as I feel like it's more explicit about exactly what you want to happen to the type. But as you say, we're pretty inconsistent about this currently across the codebase, and it's not a big deal either way :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> reviewed on 2024-05-07 17:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:1210 on 2024-05-07 17:41</div>
            <div class="timeline-body"><p>I'm not sure what you mean by <code>BinOp</code> being checked here, this code only checks for <code>Subscript</code> exprs as far as I understand.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-05-07 17:44</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:1210 on 2024-05-07 17:44</div>
            <div class="timeline-body"><p>You've added a hook here in this file so that the visitor that traverses the AST calls the <code>duplicate_literal_member</code> function on every <code>BinOp</code> node that it encounters:</p>
<p><img src="https://github.com/astral-sh/ruff/assets/66076021/fecbaeb1-9019-4d73-b9b9-293d7935ad1a" alt="image" /></p>
<p>But it doesn't need to (you only need the <code>Subscript</code> hook that you also added elsewhere in this file) since, unlike <code>Union</code>s, a <code>Literal</code> can only be a <code>Subscript</code> node</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @tusharsadhwani on 2024-05-07 17:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dhruvmanila by @tusharsadhwani on 2024-05-07 17:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @MichaReiser removed by @AlexWaygood on 2024-05-07 17:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @dhruvmanila removed by @AlexWaygood on 2024-05-07 17:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> reviewed on 2024-05-07 17:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:1210 on 2024-05-07 17:47</div>
            <div class="timeline-body"><p>~Oh right. Meant to place it 1 level above.~</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> reviewed on 2024-05-07 17:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:1210 on 2024-05-07 17:49</div>
            <div class="timeline-body"><p>It was completely unnecessary, removed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-05-07 17:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>ruff.schema.json</code>:1 on 2024-05-07 17:49</div>
            <div class="timeline-body"><p>did you run <code>prettier</code> on this file by mistake, by any chance? That's a pretty large diff for a generated file üëÄ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> reviewed on 2024-05-07 17:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on <code>ruff.schema.json</code>:1 on 2024-05-07 17:53</div>
            <div class="timeline-body"><p>Fixed. There was a merge conflict in the file and $EDITOR decided to format it on save.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2024-05-07 18:08</div>
            <div class="timeline-body"><p>LGTM, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-05-07 18:26</div>
            <div class="timeline-body"><p>I double-checked again, and I cannot reproduce the ecosystem results locally on my clone of typeshed. I checked out this PR branch locally in my ruff clone, and then ran this command from the directory of my typeshed clone, with the following results</p>
<pre><code>% cargo run --manifest-path ../ruff/Cargo.toml -- check stubs stdlib --isolated --select=PYI062 --preview --no-cache
    Finished dev [unoptimized + debuginfo] target(s) in 0.10s
     Running `/Users/alexw/dev/ruff/target/debug/ruff check stubs stdlib --isolated --select=PYI062 --preview --no-cache`
All checks passed!
</code></pre>
<p>I also confirmed that the same command did highlight duplicate literal members if I purposefully introduced some to a random <code>.pyi</code> file in typeshed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[flake8-pyi] Implement PYI062" to "[`flake8-pyi`] Implement `PYI062` (`duplicate-literal-member`)" by @AlexWaygood on 2024-05-07 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @AlexWaygood on 2024-05-07 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AlexWaygood on 2024-05-07 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-05-07 18:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:04:09 UTC
    </footer>
</body>
</html>
