```yaml
number: 12333
title: Update Rust crate compact_str to 0.8.0
type: pull_request
state: merged
author: renovate
labels:
  - internal
assignees: []
merged: true
base: main
head: renovate/compact_str-0.x
created_at: 2024-07-15T00:55:54Z
updated_at: 2024-07-15T06:17:48Z
url: https://github.com/astral-sh/ruff/pull/12333
synced_at: 2026-01-12T15:55:40Z
```

# Update Rust crate compact_str to 0.8.0

---

_@renovate_

[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Type | Update | Change |
|---|---|---|---|
| [compact_str](https://togithub.com/ParkMyCar/compact_str) | workspace.dependencies | minor | `0.7.1` -> `0.8.0` |

---

### Release Notes

<details>
<summary>ParkMyCar/compact_str (compact_str)</summary>

### [`v0.8.0`](https://togithub.com/ParkMyCar/compact_str/blob/HEAD/CHANGELOG.md#080)

##### July 8, 2024

#### Breaking Changes üí•

-   Consolidate `CompactString::new_inline(...)` and `CompactString::from_static_str(...)` into `CompactString::const:new(...)`. Methods are currently marked as deprecated and will be removed in `v0.9.0`.
    -   Implemented in [`Add const_new(); remove new_inline() and from_static_str()`](https://togithub.com/ParkMyCar/compact_str/pull/336)
-   Minimum supported Rust version (MSRV) was bumped to `v1.60`
    -   Implemented in [`fix: MSRV check and change MSRV to 1.60`](https://togithub.com/ParkMyCar/compact_str/pull/395)

#### Changes

-   Add support for [`borsh`](https://crates.io/crates/borsh) under an optional feature.
    -   Implemented in [`Add borsh support`](https://togithub.com/ParkMyCar/compact_str/pull/393)
-   Add additial `PartialEq` impls for `CompactString`
    -   Implemented in [`fix: More PartialEq impls`](https://togithub.com/ParkMyCar/compact_str/pull/381)
-   Match alignment of internal `InlineBuffer` and `Repr`.
    -   Implemeneted in [`Align InlineBuffer same as Repr`](https://togithub.com/ParkMyCar/compact_str/pull/358)
-   Fix conflict between `serde` and `no_std` features.
    -   Implemented in [`fix serde no-std issue`](https://togithub.com/ParkMyCar/compact_str/pull/347)
-   Improve performance of `CompactString::is_empty`.
    -   Implemented in [`Simplify is_empty()`](https://togithub.com/ParkMyCar/compact_str/pull/330)
-   Implement additional `From` impls that `std::string::String` has.
    -   Implemented in [`Add missing From impls that String has`](https://togithub.com/ParkMyCar/compact_str/pull/328)
-   Implement [`Clone::clone_from`](https://doc.rust-lang.org/std/clone/trait.Clone.html#method.clone_from) for `CompactString`.
    -   Implemented in [`Impl Clone::clone_from for CompactString`](https://togithub.com/ParkMyCar/compact_str/pull/325)
-   Make re-allocations of a heap-based `CompactString` fallible.
    -   Implemented in [`Make (re)allocations fallible`](https://togithub.com/ParkMyCar/compact_str/pull/323)
-   Inline short `&'static str`s
    -   Implemented in [`Inline short static strings`](https://togithub.com/ParkMyCar/compact_str/pull/321)
-   Add support for serializing a `CompactString` from [`diesel`](https://crates.io/crates/diesel) and [`sqlx`](https://crates.io/crates/sqlx)
    -   Implemented in [`Implement diesel compatibility`](https://togithub.com/ParkMyCar/compact_str/pull/318)
    -   Implemented in [`Implement for sqlx`](https://togithub.com/ParkMyCar/compact_str/pull/329)

... and everything from `v0.8.0-beta`

#### Fixed Issues

-   Re-enabled specialization for `String` in `trait ToCompactString` by upgrading to `castaway v0.2.3`
    -   Implemented in [`deps: Upgrade to castaway v0.2.3`](https://togithub.com/ParkMyCar/compact_str/pull/394)

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - "before 4am on Monday" (UTC), Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Disabled by config. Please merge this manually once you are satisfied.

‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update again.

---

 - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box

---

This PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/astral-sh/ruff).
<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy40MzEuNCIsInVwZGF0ZWRJblZlciI6IjM3LjQzMS40IiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6WyJpbnRlcm5hbCJdfQ==-->


---

_Label `internal` added by @renovate[bot] on 2024-07-15 00:55_

---

_Comment by @github-actions[bot] on 2024-07-15 01:17_

<!-- generated-comment ecosystem -->
## `ruff-ecosystem` results
### Linter (stable)
‚úÖ ecosystem check detected no linter changes.

### Linter (preview)
‚úÖ ecosystem check detected no linter changes.

### Formatter (stable)
‚ÑπÔ∏è ecosystem check **encountered format errors**. (no format changes; 1 project error)

<details><summary><a href="https://github.com/openai/openai-cookbook">openai/openai-cookbook</a> (error)</summary>
<p>

```
warning: Detected debug build without --no-cache.
error: Failed to parse examples/chatgpt/gpt_actions_library/.gpt_action_getting_started.ipynb:11:1:1: Expected an expression
error: Failed to parse examples/chatgpt/gpt_actions_library/gpt_action_bigquery.ipynb:13:1:1: Expected an expression
```

</p>
</details>

### Formatter (preview)
‚ÑπÔ∏è ecosystem check **encountered format errors**. (no format changes; 1 project error)

<details><summary><a href="https://github.com/openai/openai-cookbook">openai/openai-cookbook</a> (error)</summary>
<p>
<pre>ruff format --preview</pre>
</p>
<p>

```
warning: Detected debug build without --no-cache.
error: Failed to parse examples/chatgpt/gpt_actions_library/.gpt_action_getting_started.ipynb:11:1:1: Expected an expression
error: Failed to parse examples/chatgpt/gpt_actions_library/gpt_action_bigquery.ipynb:13:1:1: Expected an expression
```

</p>
</details>




---

_Review requested from @carljm by @MichaReiser on 2024-07-15 05:56_

---

_Review requested from @MichaReiser by @MichaReiser on 2024-07-15 05:56_

---

_Review requested from @AlexWaygood by @MichaReiser on 2024-07-15 05:56_

---

_Merged by @MichaReiser on 2024-07-15 06:03_

---

_Closed by @MichaReiser on 2024-07-15 06:03_

---

_Branch deleted on 2024-07-15 06:03_

---
