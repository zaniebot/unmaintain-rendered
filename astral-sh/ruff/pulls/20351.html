<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-simplify`] Mark guaranteed-bool fixes as safe `SIM103` - astral-sh/ruff #20351</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-simplify</code>] Mark guaranteed-bool fixes as safe <code>SIM103</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20351">#20351</a>
        opened by <a href="https://github.com/TaKO8Ki">@TaKO8Ki</a>
        on 2025-09-11 16:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/TaKO8Ki">@TaKO8Ki</a></div>
            <div class="timeline-body">

Summary


<p>Fixes #20287</p>
<p>Mark guaranteed-bool fixes as safe.</p>
<ul>
<li>Mark fixes as <code>Applicability::Safe</code> when the replacement is guaranteed boolean<ul>
<li>not , identity/membership compares (is/is not/in/not in), builtin bool(...)</li>
</ul>
</li>
<li>Keep <code>Applicability::Unsafe</code> for equality/inequality (==/!=) and other non‑guaranteed cases</li>
<li>Avoid offering a fix when bool is shadowed and expression isn’t guaranteed boolean</li>
</ul>
Test Plan


<p>Update the snapshot of <code>SIM103.py</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/TaKO8Ki">@TaKO8Ki</a> on <code>crates/ruff_linter/src/rules/flake8_simplify/rules/needless_bool.rs</code>:287 on 2025-09-11 16:50</div>
            <div class="timeline-body"><p>While some <code>if/else</code> chains were refactored into match expressions, the core logic for constructing the condition expression remains unchanged. This change only annotates applicability.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/TaKO8Ki">@TaKO8Ki</a> reviewed on 2025-09-11 16:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-11 17:01</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+0 -0 violations, +180 -0 fixes in 6 projects; 49 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+0 -0 violations, +74 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py#L326">airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py:326:9:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py#L326">airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py:326:9:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/configuration.py#L1370">airflow-core/src/airflow/configuration.py:1370:13:</a> SIM103 Return the condition `value is not None` directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/configuration.py#L1370">airflow-core/src/airflow/configuration.py:1370:13:</a> SIM103 [*] Return the condition `value is not None` directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/executors/executor_utils.py#L48">airflow-core/src/airflow/executors/executor_utils.py:48:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/executors/executor_utils.py#L48">airflow-core/src/airflow/executors/executor_utils.py:48:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/migrations/env.py#L37">airflow-core/src/airflow/migrations/env.py:37:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/migrations/env.py#L37">airflow-core/src/airflow/migrations/env.py:37:5:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/settings.py#L331">airflow-core/src/airflow/settings.py:331:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/settings.py#L331">airflow-core/src/airflow/settings.py:331:5:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py#L222">airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py:222:13:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py#L222">airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py:222:13:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/platform.py#L50">airflow-core/src/airflow/utils/platform.py:50:5:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/platform.py#L50">airflow-core/src/airflow/utils/platform.py:50:5:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/sqlalchemy.py#L439">airflow-core/src/airflow/utils/sqlalchemy.py:439:5:</a> SIM103 Return the condition `db_err_code in (&quot;55P03&quot;, 1205, 3572)` directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/sqlalchemy.py#L439">airflow-core/src/airflow/utils/sqlalchemy.py:439:5:</a> SIM103 [*] Return the condition `db_err_code in (&quot;55P03&quot;, 1205, 3572)` directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/strings.py#L37">airflow-core/src/airflow/utils/strings.py:37:5:</a> SIM103 Return the condition `astring.strip().lower() in TRUE_LIKE_VALUES` directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/strings.py#L37">airflow-core/src/airflow/utils/strings.py:37:5:</a> SIM103 [*] Return the condition `astring.strip().lower() in TRUE_LIKE_VALUES` directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/dev/breeze/src/airflow_breeze/commands/common_options.py#L507">dev/breeze/src/airflow_breeze/commands/common_options.py:507:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/dev/breeze/src/airflow_breeze/commands/common_options.py#L507">dev/breeze/src/airflow_breeze/commands/common_options.py:507:5:</a> SIM103 [*] Return the negated condition directly
... 54 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/apache/superset">apache/superset</a> (+0 -0 violations, +10 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/commands/importers/v1/utils.py#L223">superset/commands/importers/v1/utils.py:223:5:</a> SIM103 Return the condition `path.suffix.lower() in {&quot;.yaml&quot;, &quot;.yml&quot;}` directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/commands/importers/v1/utils.py#L223">superset/commands/importers/v1/utils.py:223:5:</a> SIM103 [*] Return the condition `path.suffix.lower() in {&quot;.yaml&quot;, &quot;.yml&quot;}` directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/db_engine_specs/dremio.py#L80">superset/db_engine_specs/dremio.py:80:9:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/db_engine_specs/dremio.py#L80">superset/db_engine_specs/dremio.py:80:9:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/extensions/metastore_cache.py#L121">superset/extensions/metastore_cache.py:121:9:</a> SIM103 Return the condition `bool(entry)` directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/extensions/metastore_cache.py#L121">superset/extensions/metastore_cache.py:121:9:</a> SIM103 [*] Return the condition `bool(entry)` directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/security/manager.py#L585">superset/security/manager.py:585:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/security/manager.py#L585">superset/security/manager.py:585:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/themes/utils.py#L85">superset/themes/utils.py:85:9:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/themes/utils.py#L85">superset/themes/utils.py:85:9:</a> SIM103 [*] Return the negated condition directly
</pre>

</p>

<a href="https://github.com/binary-husky/gpt_academic">binary-husky/gpt_academic</a> (+0 -0 violations, +18 -0 fixes)
<p>

<pre>
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L176">crazy_functions/crazy_utils.py:176:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L176">crazy_functions/crazy_utils.py:176:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L506">crazy_functions/crazy_utils.py:506:17:</a> SIM103 Return the condition `bool(match)` directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L506">crazy_functions/crazy_utils.py:506:17:</a> SIM103 [*] Return the condition `bool(match)` directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/doc_fns/content_folder.py#L81">crazy_functions/doc_fns/content_folder.py:81:13:</a> SIM103 Return the condition `not self.size &lt; 0` directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/doc_fns/content_folder.py#L81">crazy_functions/doc_fns/content_folder.py:81:13:</a> SIM103 [*] Return the condition `not self.size &lt; 0` directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/paper_fns/document_structure_extractor.py#L379">crazy_functions/paper_fns/document_structure_extractor.py:379:13:</a> SIM103 Return the condition directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/paper_fns/document_structure_extractor.py#L379">crazy_functions/paper_fns/document_structure_extractor.py:379:13:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/request_llms/bridge_spark.py#L12">request_llms/bridge_spark.py:12:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/request_llms/bridge_spark.py#L12">request_llms/bridge_spark.py:12:5:</a> SIM103 [*] Return the negated condition directly
... 8 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+0 -0 violations, +2 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/server_auth/auth.py#L40">examples/server/app/server_auth/auth.py:40:9:</a> SIM103 Return the condition `bool(username == &quot;bokeh&quot; and password == &quot;bokeh&quot;)` directly
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/server_auth/auth.py#L40">examples/server/app/server_auth/auth.py:40:9:</a> SIM103 [*] Return the condition `bool(username == &quot;bokeh&quot; and password == &quot;bokeh&quot;)` directly
</pre>

</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (+0 -0 violations, +2 -0 fixes)
<p>

<pre>
- <a href="https://github.com/latchbio/latch/blob/277eff6188e9cd65e02988c449d3ec5bb4134648/src/latch/types/utils.py#L21">src/latch/types/utils.py:21:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/latchbio/latch/blob/277eff6188e9cd65e02988c449d3ec5bb4134648/src/latch/types/utils.py#L21">src/latch/types/utils.py:21:5:</a> SIM103 [*] Return the negated condition directly
</pre>

</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (+0 -0 violations, +74 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --no-preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L1032">corporate/lib/stripe.py:1032:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L1032">corporate/lib/stripe.py:1032:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4257">corporate/lib/stripe.py:4257:9:</a> SIM103 Return the condition `plan_tier in implemented_plan_tiers` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4257">corporate/lib/stripe.py:4257:9:</a> SIM103 [*] Return the condition `plan_tier in implemented_plan_tiers` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4673">corporate/lib/stripe.py:4673:9:</a> SIM103 Return the condition `plan_tier in implemented_plan_tiers` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4673">corporate/lib/stripe.py:4673:9:</a> SIM103 [*] Return the condition `plan_tier in implemented_plan_tiers` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L5119">corporate/lib/stripe.py:5119:9:</a> SIM103 Return the condition `plan_tier in implemented_plan_tiers` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L5119">corporate/lib/stripe.py:5119:9:</a> SIM103 [*] Return the condition `plan_tier in implemented_plan_tiers` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L151">scripts/lib/zulip_tools.py:151:5:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L151">scripts/lib/zulip_tools.py:151:5:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L549">scripts/lib/zulip_tools.py:549:5:</a> SIM103 Return the condition `bool(&quot;posix&quot; in os.name and os.geteuid() == 0)` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L549">scripts/lib/zulip_tools.py:549:5:</a> SIM103 [*] Return the condition `bool(&quot;posix&quot; in os.name and os.geteuid() == 0)` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/tools/lib/provision_inner.py#L110">tools/lib/provision_inner.py:110:5:</a> SIM103 Return the condition `&quot;microsoft&quot; in result.stdout.lower()` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/tools/lib/provision_inner.py#L110">tools/lib/provision_inner.py:110:5:</a> SIM103 [*] Return the condition `&quot;microsoft&quot; in result.stdout.lower()` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/channel_folders.py#L89">zerver/lib/channel_folders.py:89:5:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/channel_folders.py#L89">zerver/lib/channel_folders.py:89:5:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/compatibility.py#L156">zerver/lib/compatibility.py:156:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/compatibility.py#L156">zerver/lib/compatibility.py:156:5:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/markdown/__init__.py#L1968">zerver/lib/markdown/__init__.py:1968:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/markdown/__init__.py#L1968">zerver/lib/markdown/__init__.py:1968:9:</a> SIM103 [*] Return the condition directly
... 54 additional changes omitted for project
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| SIM103 | 180 | 0 | 0 | 180 | 0 |</p>
</p>


Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+0 -0 violations, +180 -0 fixes in 6 projects; 49 projects unchanged)</p>
<a href="https://github.com/apache/airflow">apache/airflow</a> (+0 -0 violations, +74 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py#L326">airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py:326:9:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py#L326">airflow-core/src/airflow/api_fastapi/core_api/services/ui/calendar.py:326:9:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/configuration.py#L1370">airflow-core/src/airflow/configuration.py:1370:13:</a> SIM103 Return the condition `value is not None` directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/configuration.py#L1370">airflow-core/src/airflow/configuration.py:1370:13:</a> SIM103 [*] Return the condition `value is not None` directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/executors/executor_utils.py#L48">airflow-core/src/airflow/executors/executor_utils.py:48:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/executors/executor_utils.py#L48">airflow-core/src/airflow/executors/executor_utils.py:48:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/migrations/env.py#L37">airflow-core/src/airflow/migrations/env.py:37:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/migrations/env.py#L37">airflow-core/src/airflow/migrations/env.py:37:5:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/settings.py#L331">airflow-core/src/airflow/settings.py:331:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/settings.py#L331">airflow-core/src/airflow/settings.py:331:5:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py#L222">airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py:222:13:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py#L222">airflow-core/src/airflow/ti_deps/deps/trigger_rule_dep.py:222:13:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/platform.py#L50">airflow-core/src/airflow/utils/platform.py:50:5:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/platform.py#L50">airflow-core/src/airflow/utils/platform.py:50:5:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/sqlalchemy.py#L439">airflow-core/src/airflow/utils/sqlalchemy.py:439:5:</a> SIM103 Return the condition `db_err_code in (&quot;55P03&quot;, 1205, 3572)` directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/sqlalchemy.py#L439">airflow-core/src/airflow/utils/sqlalchemy.py:439:5:</a> SIM103 [*] Return the condition `db_err_code in (&quot;55P03&quot;, 1205, 3572)` directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/strings.py#L37">airflow-core/src/airflow/utils/strings.py:37:5:</a> SIM103 Return the condition `astring.strip().lower() in TRUE_LIKE_VALUES` directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/airflow-core/src/airflow/utils/strings.py#L37">airflow-core/src/airflow/utils/strings.py:37:5:</a> SIM103 [*] Return the condition `astring.strip().lower() in TRUE_LIKE_VALUES` directly
- <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/dev/breeze/src/airflow_breeze/commands/common_options.py#L507">dev/breeze/src/airflow_breeze/commands/common_options.py:507:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/airflow/blob/ece5fcd90d3b352527bac865a305f9c5f3c6bae1/dev/breeze/src/airflow_breeze/commands/common_options.py#L507">dev/breeze/src/airflow_breeze/commands/common_options.py:507:5:</a> SIM103 [*] Return the negated condition directly
... 54 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/apache/superset">apache/superset</a> (+0 -0 violations, +10 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/commands/importers/v1/utils.py#L223">superset/commands/importers/v1/utils.py:223:5:</a> SIM103 Return the condition `path.suffix.lower() in {&quot;.yaml&quot;, &quot;.yml&quot;}` directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/commands/importers/v1/utils.py#L223">superset/commands/importers/v1/utils.py:223:5:</a> SIM103 [*] Return the condition `path.suffix.lower() in {&quot;.yaml&quot;, &quot;.yml&quot;}` directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/db_engine_specs/dremio.py#L80">superset/db_engine_specs/dremio.py:80:9:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/db_engine_specs/dremio.py#L80">superset/db_engine_specs/dremio.py:80:9:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/extensions/metastore_cache.py#L121">superset/extensions/metastore_cache.py:121:9:</a> SIM103 Return the condition `bool(entry)` directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/extensions/metastore_cache.py#L121">superset/extensions/metastore_cache.py:121:9:</a> SIM103 [*] Return the condition `bool(entry)` directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/security/manager.py#L585">superset/security/manager.py:585:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/security/manager.py#L585">superset/security/manager.py:585:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/themes/utils.py#L85">superset/themes/utils.py:85:9:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/apache/superset/blob/b42060c8808778e86ca9f55bd9cfe74d1124793a/superset/themes/utils.py#L85">superset/themes/utils.py:85:9:</a> SIM103 [*] Return the negated condition directly
</pre>

</p>

<a href="https://github.com/binary-husky/gpt_academic">binary-husky/gpt_academic</a> (+0 -0 violations, +18 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L176">crazy_functions/crazy_utils.py:176:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L176">crazy_functions/crazy_utils.py:176:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L506">crazy_functions/crazy_utils.py:506:17:</a> SIM103 Return the condition `bool(match)` directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/crazy_utils.py#L506">crazy_functions/crazy_utils.py:506:17:</a> SIM103 [*] Return the condition `bool(match)` directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/doc_fns/content_folder.py#L81">crazy_functions/doc_fns/content_folder.py:81:13:</a> SIM103 Return the condition `not self.size &lt; 0` directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/doc_fns/content_folder.py#L81">crazy_functions/doc_fns/content_folder.py:81:13:</a> SIM103 [*] Return the condition `not self.size &lt; 0` directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/paper_fns/document_structure_extractor.py#L379">crazy_functions/paper_fns/document_structure_extractor.py:379:13:</a> SIM103 Return the condition directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/crazy_functions/paper_fns/document_structure_extractor.py#L379">crazy_functions/paper_fns/document_structure_extractor.py:379:13:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/request_llms/bridge_spark.py#L12">request_llms/bridge_spark.py:12:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/request_llms/bridge_spark.py#L12">request_llms/bridge_spark.py:12:5:</a> SIM103 [*] Return the negated condition directly
... 8 additional changes omitted for project
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+0 -0 violations, +2 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/server_auth/auth.py#L40">examples/server/app/server_auth/auth.py:40:9:</a> SIM103 Return the condition `bool(username == &quot;bokeh&quot; and password == &quot;bokeh&quot;)` directly
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/examples/server/app/server_auth/auth.py#L40">examples/server/app/server_auth/auth.py:40:9:</a> SIM103 [*] Return the condition `bool(username == &quot;bokeh&quot; and password == &quot;bokeh&quot;)` directly
</pre>

</p>

<a href="https://github.com/latchbio/latch">latchbio/latch</a> (+0 -0 violations, +2 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
- <a href="https://github.com/latchbio/latch/blob/277eff6188e9cd65e02988c449d3ec5bb4134648/src/latch/types/utils.py#L21">src/latch/types/utils.py:21:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/latchbio/latch/blob/277eff6188e9cd65e02988c449d3ec5bb4134648/src/latch/types/utils.py#L21">src/latch/types/utils.py:21:5:</a> SIM103 [*] Return the negated condition directly
</pre>

</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (+0 -0 violations, +74 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L1032">corporate/lib/stripe.py:1032:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L1032">corporate/lib/stripe.py:1032:9:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4257">corporate/lib/stripe.py:4257:9:</a> SIM103 Return the condition `plan_tier in implemented_plan_tiers` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4257">corporate/lib/stripe.py:4257:9:</a> SIM103 [*] Return the condition `plan_tier in implemented_plan_tiers` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4673">corporate/lib/stripe.py:4673:9:</a> SIM103 Return the condition `plan_tier in implemented_plan_tiers` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L4673">corporate/lib/stripe.py:4673:9:</a> SIM103 [*] Return the condition `plan_tier in implemented_plan_tiers` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L5119">corporate/lib/stripe.py:5119:9:</a> SIM103 Return the condition `plan_tier in implemented_plan_tiers` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/corporate/lib/stripe.py#L5119">corporate/lib/stripe.py:5119:9:</a> SIM103 [*] Return the condition `plan_tier in implemented_plan_tiers` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L151">scripts/lib/zulip_tools.py:151:5:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L151">scripts/lib/zulip_tools.py:151:5:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L549">scripts/lib/zulip_tools.py:549:5:</a> SIM103 Return the condition `bool(&quot;posix&quot; in os.name and os.geteuid() == 0)` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/scripts/lib/zulip_tools.py#L549">scripts/lib/zulip_tools.py:549:5:</a> SIM103 [*] Return the condition `bool(&quot;posix&quot; in os.name and os.geteuid() == 0)` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/tools/lib/provision_inner.py#L110">tools/lib/provision_inner.py:110:5:</a> SIM103 Return the condition `&quot;microsoft&quot; in result.stdout.lower()` directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/tools/lib/provision_inner.py#L110">tools/lib/provision_inner.py:110:5:</a> SIM103 [*] Return the condition `&quot;microsoft&quot; in result.stdout.lower()` directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/channel_folders.py#L89">zerver/lib/channel_folders.py:89:5:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/channel_folders.py#L89">zerver/lib/channel_folders.py:89:5:</a> SIM103 [*] Return the condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/compatibility.py#L156">zerver/lib/compatibility.py:156:5:</a> SIM103 Return the negated condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/compatibility.py#L156">zerver/lib/compatibility.py:156:5:</a> SIM103 [*] Return the negated condition directly
- <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/markdown/__init__.py#L1968">zerver/lib/markdown/__init__.py:1968:9:</a> SIM103 Return the condition directly
+ <a href="https://github.com/zulip/zulip/blob/57b7ada2e4446afa817fe3bc0d76b99100cffd47/zerver/lib/markdown/__init__.py#L1968">zerver/lib/markdown/__init__.py:1968:9:</a> SIM103 [*] Return the condition directly
... 54 additional changes omitted for project
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| SIM103 | 180 | 0 | 0 | 180 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_simplify/rules/needless_bool.rs</code>:342 on 2025-09-19 13:46</div>
            <div class="timeline-body"><p>Should we make this a guard like in the original code? That should allow us to combine the <code>_ =&gt; </code> cases on lines 370 and 382 again.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_simplify/rules/needless_bool.rs</code>:326 on 2025-09-19 13:49</div>
            <div class="timeline-body"><p>I think we could make this a guard too:</p>
<pre><code>            Expr::Compare(ast::ExprCompare { ops, .. }) if is_identity_or_membership_ops(ops.as_ref()) =&gt; {
                (Some((**operand).clone()), Applicability::Safe)
</code></pre>
<p>and fall through to the unsafe case below if the condition is false.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-09-19 14:04</div>
            <div class="timeline-body"><p>Thank you! This looks good to me with only a couple of small nits on the code.</p>
<p>However, I think we need to make this a preview change because SIM103 is a stable rule. We can only demote fix safety in a patch release, not upgrade unsafe to safe. You can see <a href="https://github.com/astral-sh/ruff/blob/c0fb235a703684bca1cc1767015bb7e19ab1c22f/crates/ruff_linter/src/preview.rs#L16-L19"><code>preview.rs</code></a> for some examples of preview functions.</p>
<p>We&#x27;ll need to update both the implementation and the docs to reflect the preview behavior. I like your new docs section, so I would probably recommend leaving the old one and just adding your new paragraphs, starting with <code>In preview, ...</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dscorbett">@dscorbett</a> on 2025-10-03 22:32</div>
            <div class="timeline-body"><p>I now think that the fix should stay unsafe when it inserts a <code>bool</code> call. Although it preserves the original behavior, it is often unnecessary and is probably not wanted. Keeping it unsafe encourages manual review. For example, this:</p>
<pre><code>def is_odd_or_zero(x):
    if x % 2 != 0 or x == 0:
        return True
    return False
</code></pre>
<p>is fixed to this:</p>
<pre><code>def is_odd_or_zero(x):
    return bool(x % 2 != 0 or x == 0)
</code></pre>
<p>but what was almost certainly intended was this:</p>
<pre><code>def is_odd_or_zero(x):
    return x % 2 != 0 or x == 0
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-21 07:59</div>
            <div class="timeline-body"><p>@TaKO8Ki sorry for another ping. Do you think you&#x27;ll have time in the near future to look into the PR feedback? If not, that&#x27;s completely fine, I&#x27;m just trying to understand the status of this PR</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2026-01-21 10:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-21 11:02:18 UTC
    </footer>
</body>
</html>
