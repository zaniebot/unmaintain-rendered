<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Include fix commit message when showing violations together with source - astral-sh/ruff #1505</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Include fix commit message when showing violations together with source</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/1505">#1505</a>
        opened by <a href="https://github.com/squiddy">@squiddy</a>
        on 2022-12-31 08:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/squiddy">@squiddy</a> on 2022-12-31 08:56</div>
            <div class="timeline-body"><p>This change doesn't have a lot of impact right now, as in many cases the commit message is similar to the error message itself. However, it is more actionable and makes it more obvious in what places we can improve.</p>
<p>Refs: #218</p>
<p><img src="https://user-images.githubusercontent.com/50333/210131029-d6439963-a7ab-4b1f-8efc-4acbc2f599ad.png" alt="image" /></p>
<hr />
<p>I think having this new commit message is a good first step, but long term I imagine it's more useful to the user if those messages were created by the check itself. We'd have much more context there and could generate much more actionable messages, e.g.</p>
<pre><code>= help: replace with `x.bar`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-31 12:45</div>
            <div class="timeline-body"><p>Yeah I was a bit torn on this (I originally added a <code>message</code> to <code>Fix</code>, but it felt off to be adding those everywhere when the rest of the check data was associated with <code>Check</code>). I was hoping that we could accomplish it by adding more context to the enum itself (for example, in the <code>getattr</code> case, we could add the property name and value, and then use that to formulate the <code>commit</code>). We could also allow overrides on <code>Fix</code> itself.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2022-12-31 12:52</div>
            <div class="timeline-body"><p>Adding more context to the enum certainly is more in line to what we're doing right now. I'll play around with that a bit, adding some context to some checks, and see how that goes. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2022-12-31 12:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-31 12:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-12-31 12:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 05:38:29 UTC
    </footer>
</body>
</html>
