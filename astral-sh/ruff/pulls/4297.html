<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement `--extend-fixable` option - astral-sh/ruff #4297</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement <code>--extend-fixable</code> option</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/4297">#4297</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-05-09 01:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-09 01:34</div>
            <div class="timeline-body"><h1>Summary</h1>
<p>This PR adds an <code>--extend-fixable</code> command-line and configuration file option, and changes the semantics to match those of <code>--select</code> (i.e., providing a new <code>--select</code> wipes out previous ignores, and so on).</p>
<p>Closes #4289.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-05-09 01:47</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Ecosystem</h3>
<p>âœ… ecosystem check detected no changes.</p>
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-05-09 06:05</div>
            <div class="timeline-body"><p>My concern with adding <code>--extend-fixable</code>, or any other new CLI argument that directly match to a configuration option is that we ultimately end up with a whole lot of CLI arguments: One to override every option in the configuration. What do you think of adding a <code>--config [key1=value1,key2=value2,...]</code> option that allows specifying ANY option in the configuration similar to <code>rustfmt</code> or <code>clippy</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-09 18:44</div>
            <div class="timeline-body"><p>I'm generally open to something like that, though I think in this case, it does make sense to add <code>--extend-fixable</code>, since it's an inconsistency in the API:</p>
<pre><code>Rule selection:
      --select &lt;RULE_CODE&gt;
          Comma-separated list of rule codes to enable (or ALL, to enable all rules)
      --ignore &lt;RULE_CODE&gt;
          Comma-separated list of rule codes to disable
      --extend-select &lt;RULE_CODE&gt;
          Like --select, but adds additional rule codes on top of the selected ones
      --per-file-ignores &lt;PER_FILE_IGNORES&gt;
          List of mappings from file pattern to code to exclude
      --fixable &lt;RULE_CODE&gt;
          List of rule codes to treat as eligible for autofix. Only applicable when autofix itself is enabled (e.g., via `--fix`)
      --unfixable &lt;RULE_CODE&gt;
          List of rule codes to treat as ineligible for autofix. Only applicable when autofix itself is enabled (e.g., via `--fix`)
</code></pre>
<p>(Notice that <code>--extend-select</code> exists, but not <code>--extend-fixable</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2023-05-10 07:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-05-10 07:26</div>
            <div class="timeline-body"><blockquote>
<p>I'm generally open to something like that, though I think in this case, it does make sense to add --extend-fixable, since it's an inconsistency in the API:</p>
</blockquote>
<p>What is your suggestion to decide on when we should add new explicit options? Should we also add <code>extend-ignore</code>, <code>extend-per-file-ignores</code>, and <code>extend-unfixable</code>? That's why I think I would prefer to potentially decide on adding support for <code>--config</code> (and rename the existing <code>--config</code> option to <code>--config-path</code>?) because I fear that it will always be possible to reason that some option should be supported because we already support some other option.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-05-19 02:20</div>
            <div class="timeline-body"><p>I think we <em>should</em> add these for all of the rule selection APIs, but not for the rule <em>configuration</em> APIs. That's my general stance right now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-05-19 02:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-05-19 02:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-05-19 02:20</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 03:50:41 UTC
    </footer>
</body>
</html>
