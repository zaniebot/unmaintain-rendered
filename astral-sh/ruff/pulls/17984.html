<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] bottom-up improvement of diagnostic messages for union type function calls - astral-sh/ruff #17984</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] bottom-up improvement of diagnostic messages for union type function calls</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17984">#17984</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2025-05-09 14:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>This PR is a redux of #17959. Namely, we still have the goal of
improving diagnostics for incorrect function calls through union types,
but we do it from a bottom-up approach. That is, instead of creating
one new aggregate &quot;invalid union call&quot; diagnostic, we keep all of the
existing diagnostics as-is but attach additional context to bring the
union type to the end user's attention.</p>
<p>The benefits of this PR I believe are:</p>
<ol>
<li>We retain our existing taxonomy with no new &quot;aggregate&quot; diagnostics.</li>
<li>Errors on function calls through union types will now surface all
relevant diagnostics.</li>
<li>Errant union variants now get added <code>info</code>-level sub-diagnostics
that contextualize the union information.</li>
</ol>
<p>One thing this <em>doesn't</em> do that was discussed in #17959 is aggregate
errant union calls based on the diagnostic ID. That is, if there weren't
multiple incorrect union variants that are wrong for the same reason
(like <code>invalid-argument-type</code>), then it was suggested that we could
aggregate those into a single top-level diagnostic. I chose not go down
this path for a number of reasons:</p>
<ol>
<li>It didn't seem plausibly straight-forward to do. I think it would
need a fair bit of refactoring.</li>
<li>I'm not convinced it's actually an improvement. It still has a
feeling of arbitrariness to it IMO. Moreover, it wasn't obvious to me
how to tie it all together in a way that was cohesive and made sense.</li>
<li>Time constraints. I've already spent a ton of time on this specific
diagnostic. :-)</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @BurntSushi on 2025-05-09 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @BurntSushi on 2025-05-09 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @BurntSushi on 2025-05-09 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @BurntSushi on 2025-05-09 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @BurntSushi on 2025-05-09 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">diagnostics</span> added by @BurntSushi on 2025-05-09 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-05-09 14:20</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<details>
<summary>Changes were detected when running on open source projects</summary>

<pre><code class="language-diff">more-itertools (https://github.com/more-itertools/more-itertools)
- error[invalid-argument-type] more_itertools/recipes.py:675:29: Argument to this function is incorrect: Expected `Sequence[_T] | AbstractSet[_T]`, found `range`
+ error[invalid-argument-type] more_itertools/recipes.py:675:29: Argument to bound method `sample` is incorrect: Expected `Sequence[_T] | AbstractSet[_T]`, found `range`

async-utils (https://github.com/mikeshardmind/async-utils)
- error[invalid-argument-type] src/async_utils/bg_loop.py:81:42: Argument to this function is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[_T]`
+ error[invalid-argument-type] src/async_utils/bg_loop.py:81:42: Argument to function `wrap_future` is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[_T]`
- error[invalid-argument-type] src/async_utils/corofunc_cache.py:117:50: Argument to this function is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
+ error[invalid-argument-type] src/async_utils/corofunc_cache.py:117:50: Argument to function `wrap_future` is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
- error[invalid-argument-type] src/async_utils/corofunc_cache.py:196:50: Argument to this function is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
+ error[invalid-argument-type] src/async_utils/corofunc_cache.py:196:50: Argument to function `wrap_future` is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
- error[invalid-argument-type] src/async_utils/task_cache.py:176:43: Argument to this function is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
+ error[invalid-argument-type] src/async_utils/task_cache.py:176:43: Argument to function `wrap_future` is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
- error[invalid-argument-type] src/async_utils/task_cache.py:262:43: Argument to this function is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`
+ error[invalid-argument-type] src/async_utils/task_cache.py:262:43: Argument to function `wrap_future` is incorrect: Expected `Future[_T] | Future[_T]`, found `Future[R]`

mypy_primer (https://github.com/hauntsaninja/mypy_primer)
+ error[missing-argument] mypy_primer/main.py:62:12: No argument provided for required parameter `repo` of function `setup_pyright`
+ error[missing-argument] mypy_primer/main.py:62:12: No argument provided for required parameter `repo` of function `setup_ty`
- error[invalid-argument-type] mypy_primer/main.py:130:39: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] mypy_primer/main.py:130:39: Argument to bound method `from_location` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] mypy_primer/projects.py:55:21: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] mypy_primer/projects.py:55:21: Argument to function `context_diff` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] mypy_primer/projects.py:56:21: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] mypy_primer/projects.py:56:21: Argument to function `context_diff` is incorrect: Expected `str`, found `str | None`
- Found 16 diagnostics
+ Found 18 diagnostics

parso (https://github.com/davidhalter/parso)
- error[invalid-argument-type] parso/__init__.py:57:28: Argument to this function is incorrect: Expected `str`, found `None`
+ error[invalid-argument-type] parso/__init__.py:57:28: Argument to function `load_grammar` is incorrect: Expected `str`, found `None`
- error[invalid-argument-type] parso/python/diff.py:884:35: Argument to this function is incorrect: Expected `tuple[int, int]`, found `tuple[Unknown, ...]`
+ error[invalid-argument-type] parso/python/diff.py:884:35: Argument to bound method `__init__` is incorrect: Expected `tuple[int, int]`, found `tuple[Unknown, ...]`
- error[invalid-argument-type] parso/python/tokenize.py:230:42: Argument to this function is incorrect: Expected `tuple[str]`, found `set[Unknown]`
+ error[invalid-argument-type] parso/python/tokenize.py:230:42: Argument is incorrect: Expected `tuple[str]`, found `set[Unknown]`

com2ann (https://github.com/ilevkivskyi/com2ann)
- error[invalid-argument-type] src/com2ann.py:163:32: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] src/com2ann.py:163:32: Argument is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] src/com2ann.py:166:32: Argument to this function is incorrect: Expected `int`, found `int | None`
+ error[invalid-argument-type] src/com2ann.py:166:32: Argument is incorrect: Expected `int`, found `int | None`
- error[invalid-argument-type] src/com2ann.py:166:50: Argument to this function is incorrect: Expected `int`, found `int | None`
+ error[invalid-argument-type] src/com2ann.py:166:50: Argument is incorrect: Expected `int`, found `int | None`
- error[invalid-argument-type] src/com2ann.py:667:23: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] src/com2ann.py:667:23: Argument to bound method `add` is incorrect: Expected `str`, found `str | None`

nionutils (https://github.com/nion-software/nionutils)
- error[invalid-argument-type] nion/utils/Stream.py:335:67: Argument to this function is incorrect: Expected `Observable | None`, found `(Observable &amp; ~AbstractStream[Unknown]) | (AbstractStream[Observable] &amp; ~AbstractStream[Unknown])`
+ error[invalid-argument-type] nion/utils/Stream.py:335:67: Argument to bound method `__init__` is incorrect: Expected `Observable | None`, found `(Observable &amp; ~AbstractStream[Unknown]) | (AbstractStream[Observable] &amp; ~AbstractStream[Unknown])`
- error[invalid-argument-type] nion/utils/Stream.py:550:53: Argument to this function is incorrect: Expected `Queue[ValueChange[Unknown]]`, found `Queue[ValueChange[T]]`
+ error[invalid-argument-type] nion/utils/Stream.py:550:53: Argument to bound method `__init__` is incorrect: Expected `Queue[ValueChange[Unknown]]`, found `Queue[ValueChange[T]]`

beartype (https://github.com/beartype/beartype)
- error[invalid-argument-type] beartype/_check/error/errmain.py:504:9: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] beartype/_check/error/errmain.py:504:9: Argument to function `suffix_str_unless_suffixed` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] beartype/_decor/_nontype/decornontype.py:369:23: Argument to this function is incorrect: Argument type `BeartypeableT` does not satisfy upper bound of type variable `_F`
+ error[invalid-argument-type] beartype/_decor/_nontype/decornontype.py:369:23: Argument to function `no_type_check` is incorrect: Argument type `BeartypeableT` does not satisfy upper bound of type variable `_F`
- error[invalid-argument-type] beartype/_decor/_nontype/decornontype.py:409:9: Argument to this function is incorrect: Expected `((...) -&gt; Unknown) | None`, found `BeartypeableT`
+ error[invalid-argument-type] beartype/_decor/_nontype/decornontype.py:409:9: Argument to function `make_func` is incorrect: Expected `((...) -&gt; Unknown) | None`, found `BeartypeableT`
- error[invalid-argument-type] beartype/_util/api/standard/utilfunctools.py:292:29: Argument to this function is incorrect: Expected `(...) -&gt; Unknown`, found `BeartypeableT`
+ error[invalid-argument-type] beartype/_util/api/standard/utilfunctools.py:292:29: Argument to function `unwrap_func_once` is incorrect: Expected `(...) -&gt; Unknown`, found `BeartypeableT`
- error[invalid-argument-type] beartype/_util/hint/pep/proposal/pep484585/pep484585ref.py:532:43: Argument to this function is incorrect: Expected `(...) -&gt; Unknown`, found `((...) -&gt; Unknown) | None`
+ error[invalid-argument-type] beartype/_util/hint/pep/proposal/pep484585/pep484585ref.py:532:43: Argument to function `label_callable` is incorrect: Expected `(...) -&gt; Unknown`, found `((...) -&gt; Unknown) | None`
- error[invalid-argument-type] beartype/claw/_importlib/clawimppath.py:142:23: Argument to this function is incorrect: Expected `(str, /) -&gt; PathEntryFinderProtocol`, found `Unknown | None`
+ error[invalid-argument-type] beartype/claw/_importlib/clawimppath.py:142:23: Argument to bound method `remove` is incorrect: Expected `(str, /) -&gt; PathEntryFinderProtocol`, found `Unknown | None`
- error[invalid-argument-type] beartype/door/_func/infer/inferhint.py:244:36: Argument to this function is incorrect: Expected `(...) -&gt; Unknown`, found `~type`
+ error[invalid-argument-type] beartype/door/_func/infer/inferhint.py:244:36: Argument to function `infer_hint_callable` is incorrect: Expected `(...) -&gt; Unknown`, found `~type`

python-chess (https://github.com/niklasf/python-chess)
- error[invalid-argument-type] chess/engine.py:2393:64: Argument to this function is incorrect: Expected `int`, found `int | None`
+ error[invalid-argument-type] chess/engine.py:2393:64: Argument to bound method `__init__` is incorrect: Expected `int`, found `int | None`
- error[invalid-argument-type] chess/engine.py:2972:43: Argument to this function is incorrect: Expected `AnalysisResult`, found `_T`
+ error[invalid-argument-type] chess/engine.py:2972:43: Argument to bound method `__init__` is incorrect: Expected `AnalysisResult`, found `_T`
- error[invalid-argument-type] chess/gaviota.py:1892:35: Argument to this function is incorrect: Expected `int`, found `@Todo(Support for `typing.TypeAlias`) | None | Literal[64]`
+ error[invalid-argument-type] chess/gaviota.py:1892:35: Argument to bound method `__init__` is incorrect: Expected `int`, found `@Todo(Support for `typing.TypeAlias`) | None | Literal[64]`
- error[invalid-argument-type] chess/polyglot.py:262:59: Argument to this function is incorrect: Expected `int`, found `@Todo(Support for `typing.TypeAlias`) | None`
+ error[invalid-argument-type] chess/polyglot.py:262:59: Argument to function `square_file` is incorrect: Expected `int`, found `@Todo(Support for `typing.TypeAlias`) | None`
- error[invalid-argument-type] chess/svg.py:170:19: Argument to this function is incorrect: Expected `str`, found `Unknown | None`
+ error[invalid-argument-type] chess/svg.py:170:19: Argument to function `_color` is incorrect: Expected `str`, found `Unknown | None`

pyinstrument (https://github.com/joerick/pyinstrument)
- error[invalid-argument-type] pyinstrument/__main__.py:56:32: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] pyinstrument/__main__.py:56:32: Argument to function `setattr` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] pyinstrument/__main__.py:323:76: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
+ error[invalid-argument-type] pyinstrument/__main__.py:323:76: Argument to function `file_is_a_tty` is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
- error[invalid-argument-type] pyinstrument/__main__.py:332:49: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] pyinstrument/__main__.py:332:49: Argument to function `load_report_from_temp_storage` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] pyinstrument/__main__.py:392:95: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
+ error[invalid-argument-type] pyinstrument/__main__.py:392:95: Argument to function `file_is_a_tty` is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
- error[invalid-argument-type] pyinstrument/__main__.py:445:40: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] pyinstrument/__main__.py:445:40: Argument to function `translate` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] pyinstrument/__main__.py:458:40: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] pyinstrument/__main__.py:458:40: Argument to function `translate` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] pyinstrument/__main__.py:513:47: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `TextIO`
+ error[invalid-argument-type] pyinstrument/__main__.py:513:47: Argument to function `file_supports_unicode` is incorrect: Expected `IO[AnyStr]`, found `TextIO`
- error[invalid-argument-type] pyinstrument/__main__.py:514:43: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `TextIO`
+ error[invalid-argument-type] pyinstrument/__main__.py:514:43: Argument to function `file_supports_color` is incorrect: Expected `IO[AnyStr]`, found `TextIO`
- error[invalid-argument-type] pyinstrument/__main__.py:533:48: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] pyinstrument/__main__.py:533:48: Argument to function `guess_renderer_from_outfile` is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] pyinstrument/context_manager.py:92:43: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
+ error[invalid-argument-type] pyinstrument/context_manager.py:92:43: Argument to function `file_supports_color` is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
- error[invalid-argument-type] pyinstrument/context_manager.py:93:47: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
+ error[invalid-argument-type] pyinstrument/context_manager.py:93:47: Argument to function `file_supports_unicode` is incorrect: Expected `IO[AnyStr]`, found `TextIO | @Todo(Support for `typing.TypeAlias`)`
- error[invalid-argument-type] pyinstrument/profiler.py:312:45: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `IO[str] | @Todo(Support for `typing.TypeAlias`)`
+ error[invalid-argument-type] pyinstrument/profiler.py:312:45: Argument to function `file_supports_unicode` is incorrect: Expected `IO[AnyStr]`, found `IO[str] | @Todo(Support for `typing.TypeAlias`)`
- error[invalid-argument-type] pyinstrument/profiler.py:314:41: Argument to this function is incorrect: Expected `IO[AnyStr]`, found `IO[str] | @Todo(Support for `typing.TypeAlias`)`
+ error[invalid-argument-type] pyinstrument/profiler.py:314:41: Argument to function `file_supports_color` is incorrect: Expected `IO[AnyStr]`, found `IO[str] | @Todo(Support for `typing.TypeAlias`)`
- error[invalid-argument-type] pyinstrument/renderers/html.py:104:25: Argument to this function is incorrect: Expected `str`, found `Literal[b&quot;&quot;]`
+ error[invalid-argument-type] pyinstrument/renderers/html.py:104:25: Argument to function `open` is incorrect: Expected `str`, found `Literal[b&quot;&quot;]`
- error[invalid-argument-type] pyinstrument/renderers/jsonrenderer.py:61:67: Argument to this function is incorrect: Expected `str`, found `str | None`
+ error[invalid-argument-type] pyinstrument/renderers/jsonrenderer.py:61:67: Argument is incorrect: Expected `str`, found `str | None`
- error[invalid-argument-type] pyinstrument/session.py:109:13: Argument to this function is incorrect: Expected `list[str]`, found `Unknown | None`
+ error[invalid-argument-type] pyinstrument/session.py:109:13: Argument to bound method `__init__` is incorrect: Expected `list[str]`, found `Unknown | None`

attrs (https://github.com/python-attrs/attrs)
- error[invalid-argument-type] tests/dataclass_transform_example.py:23:17: Argument to this function is incorrect: Expected `int`, found `Literal[b&quot;42&quot;]`
+ error[invalid-argument-type] tests/dataclass_transform_example.py:23:17: Argument is incorrect: Expected `int`, found `Literal[b&quot;42&quot;]`
- error[invalid-argument-type] tests/test_annotations.py:49:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:49:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:50:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:50:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:51:36: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:51:36: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:79:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:79:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:80:52: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:80:52: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:94:37: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:94:37: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:123:28: Argument to this function is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:123:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:125:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:125:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:127:50: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:127:50: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:128:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:128:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:130:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:130:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:131:33: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:131:33: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:133:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:133:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:135:42: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:135:42: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:416:28: Argument to this function is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:416:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:518:28: Argument to this function is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:518:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:520:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:520:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:521:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:521:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:522:36: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:522:36: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:540:28: Argument to this function is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:540:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'C'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:542:56: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:542:56: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:548:28: Argument to this function is incorrect: Argument type `&lt;class 'D'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:548:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'D'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:550:37: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'D'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:550:37: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'D'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:565:28: Argument to this function is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:565:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:567:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:567:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:568:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:568:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:569:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:569:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:583:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:583:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:584:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:584:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:585:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:585:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:599:28: Argument to this function is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:599:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:601:33: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:601:33: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:602:50: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:602:50: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:619:28: Argument to this function is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:619:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:620:28: Argument to this function is incorrect: Argument type `&lt;class 'B'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:620:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'B'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:622:46: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:622:46: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:623:33: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:623:33: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:625:46: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:625:46: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:626:33: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:626:33: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:667:28: Argument to this function is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:667:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:668:28: Argument to this function is incorrect: Argument type `&lt;class 'B'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:668:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'B'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:670:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:670:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:671:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:671:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:683:28: Argument to this function is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:683:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:685:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:685:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_annotations.py:687:28: Argument to this function is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_annotations.py:687:28: Argument to function `resolve_types` is incorrect: Argument type `&lt;class 'A'&gt;` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_annotations.py:689:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_annotations.py:689:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_converters.py:297:29: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_converters.py:297:29: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_converters.py:350:21: Argument to this function is incorrect: Expected `str | int`, found `list[Unknown]`
+ error[invalid-argument-type] tests/test_converters.py:350:21: Argument to function `to_bool` is incorrect: Expected `str | int`, found `list[Unknown]`
- error[invalid-argument-type] tests/test_filters.py:33:31: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:33:31: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:34:46: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:34:46: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:47:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:47:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:48:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:48:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:52:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:52:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:60:25: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:60:25: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:67:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:67:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:68:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:68:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:72:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:72:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:80:25: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:80:25: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:93:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:93:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:94:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:94:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:98:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:98:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:106:25: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:106:25: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:113:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:113:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:114:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:114:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:118:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:118:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_filters.py:126:25: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_filters.py:126:25: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_functional.py:167:25: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C1'&gt;`
+ error[invalid-argument-type] tests/test_functional.py:167:25: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C1'&gt;`
- error[invalid-argument-type] tests/test_functional.py:218:26: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `type`
+ error[invalid-argument-type] tests/test_functional.py:218:26: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `type`
- error[invalid-argument-type] tests/test_functional.py:545:42: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_functional.py:545:42: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_functional.py:546:44: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_functional.py:546:44: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_functional.py:547:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_functional.py:547:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_functional.py:646:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_functional.py:646:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_functional.py:647:35: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_functional.py:647:35: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_hooks.py:70:15: Argument to this function is incorrect: Expected `int`, found `Literal[&quot;3&quot;]`
+ error[invalid-argument-type] tests/test_hooks.py:70:15: Argument is incorrect: Expected `int`, found `Literal[&quot;3&quot;]`
- error[invalid-argument-type] tests/test_hooks.py:70:22: Argument to this function is incorrect: Expected `int | float`, found `Literal[&quot;3.14&quot;]`
+ error[invalid-argument-type] tests/test_hooks.py:70:22: Argument is incorrect: Expected `int | float`, found `Literal[&quot;3.14&quot;]`
- error[invalid-argument-type] tests/test_hooks.py:88:44: Argument to this function is incorrect: Expected `int`, found `float`
+ error[invalid-argument-type] tests/test_hooks.py:88:44: Argument is incorrect: Expected `int`, found `float`
- error[invalid-argument-type] tests/test_hooks.py:216:40: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_hooks.py:216:40: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_hooks.py:234:54: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Base'&gt;`
+ error[invalid-argument-type] tests/test_hooks.py:234:54: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Base'&gt;`
- error[invalid-argument-type] tests/test_hooks.py:262:21: Argument to this function is incorrect: Expected `datetime`, found `Literal[1]`
+ error[invalid-argument-type] tests/test_hooks.py:262:21: Argument is incorrect: Expected `datetime`, found `Literal[1]`
- error[invalid-argument-type] tests/test_hooks.py:263:22: Argument to this function is incorrect: Expected `datetime`, found `Literal[2]`
+ error[invalid-argument-type] tests/test_hooks.py:263:22: Argument is incorrect: Expected `datetime`, found `Literal[2]`
- error[invalid-argument-type] tests/test_hooks.py:264:30: Argument to this function is incorrect: Expected `datetime`, found `Literal[3]`
+ error[invalid-argument-type] tests/test_hooks.py:264:30: Argument is incorrect: Expected `datetime`, found `Literal[3]`
- error[invalid-argument-type] tests/test_make.py:204:28: Argument to this function is incorrect: Expected `type`, found `tuple[()]`
+ error[invalid-argument-type] tests/test_make.py:204:28: Argument is incorrect: Expected `type`, found `tuple[()]`
- error[invalid-argument-type] tests/test_make.py:462:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
+ error[invalid-argument-type] tests/test_make.py:462:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'A'&gt;`
- error[invalid-argument-type] tests/test_make.py:464:26: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
+ error[invalid-argument-type] tests/test_make.py:464:26: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
- error[invalid-argument-type] tests/test_make.py:465:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
+ error[invalid-argument-type] tests/test_make.py:465:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'B'&gt;`
- error[invalid-argument-type] tests/test_make.py:467:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_make.py:467:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_make.py:468:26: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_make.py:468:26: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_make.py:469:27: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_make.py:469:27: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_make.py:793:45: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_make.py:793:45: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_make.py:830:26: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'BaseClass'&gt;`
+ error[invalid-argument-type] tests/test_make.py:830:26: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'BaseClass'&gt;`
- error[invalid-argument-type] tests/test_make.py:831:26: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'SubClass'&gt;`
+ error[invalid-argument-type] tests/test_make.py:831:26: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'SubClass'&gt;`
- error[invalid-argument-type] tests/test_make.py:1242:32: Argument to this function is incorrect: Argument type `type` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_make.py:1242:32: Argument to function `resolve_types` is incorrect: Argument type `type` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_make.py:1253:32: Argument to this function is incorrect: Argument type `type` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/test_make.py:1253:32: Argument to function `resolve_types` is incorrect: Argument type `type` does not satisfy upper bound of type variable `_A`
- error[invalid-argument-type] tests/test_make.py:2013:34: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Cases'&gt;`
+ error[invalid-argument-type] tests/test_make.py:2013:34: Argument to function `fields_dict` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Cases'&gt;`
- error[invalid-argument-type] tests/test_next_gen.py:41:36: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `type`
+ error[invalid-argument-type] tests/test_next_gen.py:41:36: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `type`
- error[invalid-argument-type] tests/test_next_gen.py:68:23: Argument to this function is incorrect: Expected `int`, found `None`
+ error[invalid-argument-type] tests/test_next_gen.py:68:23: Argument is incorrect: Expected `int`, found `None`
- error[invalid-argument-type] tests/test_next_gen.py:146:29: Argument to this function is incorrect: Expected `list[Unknown]`, found `Literal[1]`
+ error[invalid-argument-type] tests/test_next_gen.py:146:29: Argument is incorrect: Expected `list[Unknown]`, found `Literal[1]`
- error[invalid-argument-type] tests/test_next_gen.py:146:48: Argument to this function is incorrect: Expected `list[Unknown]`, found `Literal[1]`
+ error[invalid-argument-type] tests/test_next_gen.py:146:48: Argument is incorrect: Expected `list[Unknown]`, found `Literal[1]`
- error[invalid-argument-type] tests/test_next_gen.py:148:26: Argument to this function is incorrect: Expected `list[Unknown]`, found `Literal[-1]`
+ error[invalid-argument-type] tests/test_next_gen.py:148:26: Argument is incorrect: Expected `list[Unknown]`, found `Literal[-1]`
- error[invalid-argument-type] tests/test_next_gen.py:149:39: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NewSchool'&gt;`
+ error[invalid-argument-type] tests/test_next_gen.py:149:39: Argument to function `fields_dict` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NewSchool'&gt;`
- error[invalid-argument-type] tests/test_next_gen.py:164:39: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NewSchool'&gt;`
+ error[invalid-argument-type] tests/test_next_gen.py:164:39: Argument to function `fields_dict` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NewSchool'&gt;`
- error[invalid-argument-type] tests/test_next_gen.py:216:15: Argument to this function is incorrect: Expected `str`, found `Literal[1]`
+ error[invalid-argument-type] tests/test_next_gen.py:216:15: Argument is incorrect: Expected `str`, found `Literal[1]`
- error[invalid-argument-type] tests/test_next_gen.py:444:25: Argument to this function is incorrect: Expected `int`, found `dict[Unknown, Unknown]`
+ error[invalid-argument-type] tests/test_next_gen.py:444:25: Argument is incorrect: Expected `int`, found `dict[Unknown, Unknown]`
- error[invalid-argument-type] tests/test_slots.py:103:24: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C1Slots'&gt;`
+ error[invalid-argument-type] tests/test_slots.py:103:24: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C1Slots'&gt;`
- error[invalid-argument-type] tests/test_slots.py:103:48: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C1'&gt;`
+ error[invalid-argument-type] tests/test_slots.py:103:48: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C1'&gt;`
- error[invalid-argument-type] tests/test_slots.py:545:41: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
+ error[invalid-argument-type] tests/test_slots.py:545:41: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'C'&gt;`
- error[invalid-argument-type] tests/test_validators.py:185:68: Argument to this function is incorrect: Expected `((Literal[&quot;a&quot;], Literal[&quot;a&quot;], int, /) -&gt; Match[Literal[&quot;a&quot;]] | None) | None`, found `Overload[(pattern: str | Pattern[str], string: str, flags: Unknown = Literal[0]) -&gt; Match[str] | None, (pattern: bytes | Pattern[bytes], string: @Todo(Support for `typing.TypeAlias`), flags: Unknown = Literal[0]) -&gt; Match[bytes] | None]`
+ error[invalid-argument-type] tests/test_validators.py:185:68: Argument to function `matches_re` is incorrect: Expected `((Literal[&quot;a&quot;], Literal[&quot;a&quot;], int, /) -&gt; Match[Literal[&quot;a&quot;]] | None) | None`, found `Overload[(pattern: str | Pattern[str], string: str, flags: Unknown = Literal[0]) -&gt; Match[str] | None, (pattern: bytes | Pattern[bytes], string: @Todo(Support for `typing.TypeAlias`), flags: Unknown = Literal[0]) -&gt; Match[bytes] | None]`
- error[invalid-argument-type] tests/test_validators.py:219:56: Argument to this function is incorrect: Expected `((Literal[&quot;a&quot;], Literal[&quot;a&quot;], int, /) -&gt; Match[Literal[&quot;a&quot;]] | None) | None`, found `Overload[(pattern: str | Pattern[str], string: str, flags: Unknown = Literal[0]) -&gt; Match[str] | None, (pattern: bytes | Pattern[bytes], string: @Todo(Support for `typing.TypeAlias`), flags: Unknown = Literal[0]) -&gt; Match[bytes] | None]`
+ error[invalid-argument-type] tests/test_validators.py:219:56: Argument to function `matches_re` is incorrect: Expected `((Literal[&quot;a&quot;], Literal[&quot;a&quot;], int, /) -&gt; Match[Literal[&quot;a&quot;]] | None) | None`, found `Overload[(pattern: str | Pattern[str], string: str, flags: Unknown = Literal[0]) -&gt; Match[str] | None, (pattern: bytes | Pattern[bytes], string: @Todo(Support for `typing.TypeAlias`), flags: Unknown = Literal[0]) -&gt; Match[bytes] | None]`
- error[invalid-argument-type] tests/test_validators.py:228:32: Argument to this function is incorrect: Expected `((Literal[&quot;a&quot;], Literal[&quot;a&quot;], int, /) -&gt; Match[Literal[&quot;a&quot;]] | None) | None`, found `() -&gt; Unknown`
+ error[invalid-argument-type] tests/test_validators.py:228:32: Argument to function `matches_re` is incorrect: Expected `((Literal[&quot;a&quot;], Literal[&quot;a&quot;], int, /) -&gt; Match[Literal[&quot;a&quot;]] | None) | None`, found `() -&gt; Unknown`
- error[invalid-argument-type] tests/test_validators.py:818:23: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Tester'&gt;`
+ error[invalid-argument-type] tests/test_validators.py:818:23: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Tester'&gt;`
- error[invalid-argument-type] tests/test_validators.py:890:23: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Tester'&gt;`
+ error[invalid-argument-type] tests/test_validators.py:890:23: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Tester'&gt;`
- error[invalid-argument-type] tests/test_validators.py:963:23: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Tester'&gt;`
+ error[invalid-argument-type] tests/test_validators.py:963:23: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'Tester'&gt;`
- error[invalid-argument-type] tests/typing_example.py:133:13: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'AliasExample'&gt;`
+ error[invalid-argument-type] tests/typing_example.py:133:13: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'AliasExample'&gt;`
- error[invalid-argument-type] tests/typing_example.py:134:13: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'AliasExample'&gt;`
+ error[invalid-argument-type] tests/typing_example.py:134:13: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'AliasExample'&gt;`
- error[invalid-argument-type] tests/typing_example.py:177:13: Argument to this function is incorrect: Expected `int`, found `Literal[&quot;on&quot;]`
+ error[invalid-argument-type] tests/typing_example.py:177:13: Argument is incorrect: Expected `int`, found `Literal[&quot;on&quot;]`
- error[invalid-argument-type] tests/typing_example.py:178:13: Argument to this function is incorrect: Expected `int`, found `Literal[&quot;yes&quot;]`
+ error[invalid-argument-type] tests/typing_example.py:178:13: Argument is incorrect: Expected `int`, found `Literal[&quot;yes&quot;]`
- error[invalid-argument-type] tests/typing_example.py:181:13: Argument to this function is incorrect: Expected `int`, found `Literal[&quot;n&quot;]`
+ error[invalid-argument-type] tests/typing_example.py:181:13: Argument is incorrect: Expected `int`, found `Literal[&quot;n&quot;]`
- error[invalid-argument-type] tests/typing_example.py:396:13: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
+ error[invalid-argument-type] tests/typing_example.py:396:13: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
- error[invalid-argument-type] tests/typing_example.py:397:17: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
+ error[invalid-argument-type] tests/typing_example.py:397:17: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
- error[invalid-argument-type] tests/typing_example.py:401:14: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
+ error[invalid-argument-type] tests/typing_example.py:401:14: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
- error[invalid-argument-type] tests/typing_example.py:402:18: Argument to this function is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
+ error[invalid-argument-type] tests/typing_example.py:402:18: Argument to function `fields` is incorrect: Expected `type[AttrsInstance]`, found `&lt;class 'NGFrozen'&gt;`
- error[invalid-argument-type] tests/typing_example.py:490:28: Argument to this function is incorrect: Argument type `type` does not satisfy upper bound of type variable `_A`
+ error[invalid-argument-type] tests/typing_example.py:490:28: Argument to function `resolve_types` is incorrect: Argument type `type` does not satisfy upper bound of type variable `_A`

git-revise (https://github.com/mystor/git-revise)
- error[invalid-argument-type] gitrevise/tui.py:126:40: Argument to this function is incorrect: Expected `Commit`, found `Commit | None`
+ error[invalid-argument-type] gitrevise/tui.py:126:40: Argument to function `commit_range` is incorrect: Expected `Commit`, found `Commit | None`
- error[invalid-argument-type] gitrevise/tui.py:128:47: Argument to this function is incorrect: Expected `Commit`, found `Commit | None`
+ error[invalid-argument-type] gitrevise/tui.py:128:47: Argument to function `local_commits` is incorrect: Expected `Commit`, found `Commit | None`
- error[invalid-argument-type] gitrevise/tui.py:128:47: Argument to this function is incorrect: Expected `Commit`, found `Commit | None`
+ error[invalid-argument-type] gitrevise/tui.py:128:47: Argument to function `local_commits` is incorrect: Expected `Commit`, found `Commit | None`
- error[invalid-argument-type] gitrevise/tui.py:128:47: Argument to this function is incorrect: Expected `Commit`, found `Commit | None`
+ error[invalid-argument-type] gitrevise/tui.py:128:47: Argument to function `local_commits` is incorrect: Expected `Commit`, found `Commit | None`
- error[invalid-argument-type] gitrevise/tui.py:180:39: Argument to this function is incorrect: Expected `Commit`, found `Commit | None`
+ error[invalid-argument-type] gitrevise/tui.py:180:39: Argument to function `commit_range` is incorrect: Expected `Commit`, found `Commit | None`

aioredis (https://github.com/aio-libs/aioredis)
- error[invalid-argument-type] aioredis/connection.py:1208:38: Argument to this function is incorrect: Expected `str | bytes`, found `str | None`
+ error[invalid-argument-type] aioredis/connection.py:1208:38: Argument to function `unquote` is incorrect: Expected `str | bytes`, found `str | None`
- error[invalid-argument-type] aioredis/connection.py:1210:38: Argument to this function is incorrect: Expected `str | bytes`, found `str | None`
+ error[invalid-argument-type] aioredis/connection.py:1210:38: Argument to function `unquote` is incorrect: Expected `str | bytes`, found `str | None`
- error[invalid-argument-type] aioredis/connection.py:1220:38: Argument to this function is incorrect: Expected `str | bytes`, found `str | None`
+ error[invalid-argument-type] aioredis/connection.py:1220:38: Argument to function `unquote` is incorrect: Expected `str | bytes`, found `str | None`

anyio (https://github.com/agronholm/anyio)
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:1220:38: Argument to this function is incorrect: Expected `tuple[str, int, int, int] | tuple[str, int]`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...]`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:1220:38: Argument to function `convert_ipv6_sockaddr` is incorrect: Expected `tuple[str, int, int, int] | tuple[str, int]`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...]`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2469:41: Argument to this function is incorrect: Expected `tuple[Context, (...) -&gt; Unknown, tuple[Unknown, ...], Future[Unknown], CancelScope] | None`, found `tuple[Context, (...) -&gt; T_Retval, @Todo(full tuple[...] support), Future[T_Retval], CancelScope | None]`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2469:41: Argument to bound method `put_nowait` is incorrect: Expected `tuple[Context, (...) -&gt; Unknown, tuple[Unknown, ...], Future[Unknown], CancelScope] | None`, found `tuple[Context, (...) -&gt; T_Retval, @Todo(full tuple[...] support), Future[T_Retval], CancelScope | None]`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2635:13: Argument to this function is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2635:13: Argument to bound method `create_datagram_endpoint` is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2635:13: Argument to this function is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2635:13: Argument to bound method `create_datagram_endpoint` is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2635:13: Argument to this function is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2635:13: Argument to bound method `create_datagram_endpoint` is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2636:13: Argument to this function is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2636:13: Argument to bound method `create_datagram_endpoint` is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2636:13: Argument to this function is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2636:13: Argument to bound method `create_datagram_endpoint` is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2636:13: Argument to this function is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2636:13: Argument to bound method `create_datagram_endpoint` is incorrect: Expected `tuple[str, int] | str | None`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...] | None`
- error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2700:53: Argument to this function is incorrect: Expected `tuple[str, int] | tuple[str, int, int, int]`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...]`
+ error[invalid-argument-type] src/anyio/_backends/_asyncio.py:2700:53: Argument to bound method `getnameinfo` is incorrect: Expected `tuple[str, int] | tuple[str, int, int, int]`, found `Unknown | tuple[@Todo(Generic tuple specializations), ...]`
- error[invalid-argument-type] src/anyio/_core/_streams.py:52:40: Argument to this function is incorrect: Expected `MemoryObjectStreamState[T_contra]`, found `MemoryObjectStreamState[T_Item]`
+ error[invalid-argument-type] src/anyio/_core/_streams.py:52:40: Argument is incorrect: Expected `MemoryObjectStreamState[T_contra]`, found `MemoryObjectStreamState[T_Item]`
- error[invalid-argument-type] src/anyio/_core/_streams.py:52:74: Argument to this function is incorrect: Expected `MemoryObjectStreamState[T_co]`, found `MemoryObjectStreamState[T_Item]`
+ error[invalid-argument-type] src/anyio/_core/_streams.py:52:74: Argument is incorrect: Expected `MemoryObjectStreamState[T_co]`, found `MemoryObjectStreamState[T_Item]`
- error[invalid-argument-type] src/anyio/from_thread.py:236:35: Argument to this function is incorrect: Expected `T_Retval`, found `@Todo(generic `typing.Awaitable` type) | Awaitable[T_Retval] | T_Retval`
+ error[invalid-argument-type] src/anyio/from_thread.py:236:35: Argument to bound method `set_result` is incorrect: Expected `T_Retval`, found `@Todo(generic `typing.Awaitable` type) | Awaitable[T_Retval] | T_Retval`
- error[invalid-argument-type] src/anyio/streams/text.py:123:36: Argument to this function is incorrect: Expected `InitVar[str]`, found `str`
+ error[invalid-argument-type] src/anyio/streams/text.py:123:36: Argument is incorrect: Expected `InitVar[str]`, found `str`
- error[invalid-argument-type] src/anyio/streams/text.py:123:55: Argument to this function is incorrect: Expected `InitVar[str]`, found `str`
+ error[invalid-argument-type] src/anyio/streams/text.py:123:55: Argument is incorrect: Expected `InitVar[str]`, found `str`
- error[invalid-argument-type] src/anyio/streams/text.py:126:36: Argument to this function is incorrect: Expected `InitVar[str]`, found `str`
+ error[invalid-argument-type] src/anyio/streams/text.py:126:36: Argument is incorrect: Expected `InitVar[str]`, found `str`

kornia (https://github.com/kornia/kornia)
- error[invalid-argument-type] kornia/augmentation/_2d/intensity/gaussian_illumination.py:162:63: Argument to this function is incorrect: Expected `tuple[int | float, int | f...*[Comment body truncated]*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-09 15:03</div>
            <div class="timeline-body"><p>There are a few diagnostics that now look like duplicates (but maybe they're not?). Could you take a look at them</p>
<pre><code>mypy (https://github.com/python/mypy)
+ error[lint:invalid-argument-type] mypy/checker.py:6610:45: Argument to this function is incorrect: Expected `ProperType`, found `None`
+ error[lint:invalid-argument-type] mypy/checker.py:6610:45: Argument to this function is incorrect: Expected `ProperType`, found `None`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-05-09 15:12</div>
            <div class="timeline-body"><p>@MichaReiser Only the top-level diagnostic is duplicative. So in concise output mode, they look like duplicates. But once you get more context, it's not duplicative:</p>
<pre><code>$ cat main.py
def f1(name: str) -&gt; int: return 0
def f2(name: str) -&gt; int: return 0

def _(flag: bool):
    if flag:
        f = f1
    else:
        f = f2
    x = f(3)

$ run-ty -q pr2 -- check main.py
error: lint:invalid-argument-type: Argument to this function is incorrect
 --&gt; main.py:9:11
  |
7 |     else:
8 |         f = f2
9 |     x = f(3)
  |           ^ Expected `str`, found `Literal[3]`
  |
info: Function defined here
 --&gt; main.py:1:5
  |
1 | def f1(name: str) -&gt; int: return 0
  |     ^^ --------- Parameter declared here
2 | def f2(name: str) -&gt; int: return 0
  |
info: Union variant `def f1(name: str) -&gt; int` is incompatible with this call site
info: Union type `(def f1(name: str) -&gt; int) | (def f2(name: str) -&gt; int)` is not callable
info: `lint:invalid-argument-type` is enabled by default

error: lint:invalid-argument-type: Argument to this function is incorrect
 --&gt; main.py:9:11
  |
7 |     else:
8 |         f = f2
9 |     x = f(3)
  |           ^ Expected `str`, found `Literal[3]`
  |
info: Function defined here
 --&gt; main.py:2:5
  |
1 | def f1(name: str) -&gt; int: return 0
2 | def f2(name: str) -&gt; int: return 0
  |     ^^ --------- Parameter declared here
3 |
4 | def _(flag: bool):
  |
info: Union variant `def f2(name: str) -&gt; int` is incompatible with this call site
info: Union type `(def f1(name: str) -&gt; int) | (def f2(name: str) -&gt; int)` is not callable
info: `lint:invalid-argument-type` is enabled by default

Found 2 diagnostics
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/resources/mdtest/snapshots/union_call.md_-_Calling_a_union_of_function_types_-_A_smaller_scale_example.snap</code>:34 on 2025-05-09 15:15</div>
            <div class="timeline-body"><p>I think one thing that would make the concise diagnostic for <code>invalid-argument-type</code> more informative (and less duplicate-looking in some cases) would be if we name the target function here, like we do below for <code>too-many-positional-arguments</code> (and for many of the other call diagnostics)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/resources/mdtest/snapshots/union_call.md_-_Calling_a_union_of_function_types_-_A_smaller_scale_example.snap</code>:52 on 2025-05-09 15:24</div>
            <div class="timeline-body"><p>I think I mentioned this in a comment on the previous PR: I think we should reserve &quot;not callable&quot; to describe &quot;objects that don't support the Python calling protocol&quot; (that's what the <code>call-not-callable</code> diagnostic describes). So I would rather give this context in a way that doesn't use the phrase &quot;not callable&quot;. One option could be &quot;Attempted to call union type <code>...</code>&quot; or &quot;Error calling union type <code>...</code>&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-05-09 15:33</div>
            <div class="timeline-body"><p>This looks great, thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-09 16:26</div>
            <div class="timeline-body"><p>I don't think I'll get to reviewing this before Monday but you shouldn't feel blocked by my review.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> reviewed on 2025-05-09 16:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>crates/ty_python_semantic/resources/mdtest/snapshots/union_call.md_-_Calling_a_union_of_function_types_-_A_smaller_scale_example.snap</code>:34 on 2025-05-09 16:49</div>
            <div class="timeline-body"><p>Nice. This is done. And <em>super</em> annoying to update mdtest for. Hah. But I think the messages are better.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> reviewed on 2025-05-09 16:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>crates/ty_python_semantic/resources/mdtest/snapshots/union_call.md_-_Calling_a_union_of_function_types_-_A_smaller_scale_example.snap</code>:52 on 2025-05-09 16:50</div>
            <div class="timeline-body"><p>Ah right, thanks for repeating that here.</p>
<p>I went with your &quot;Attempt to call union type <code>...</code>&quot; verbiage here. I think it's still not great, but I get want to keep the &quot;not callable&quot; verbiage reserved.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-05-09 17:06</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p> ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p> ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-05-09 17:17</div>
            <div class="timeline-body"><p>Ship it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2025-05-09 17:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-05-09 17:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-05-09 17:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-05-09 17:41</div>
            <div class="timeline-body"><p>@MichaReiser Happy to do follow-ups. :-)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:12:22 UTC
    </footer>
</body>
</html>
