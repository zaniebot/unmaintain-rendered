<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Disallow Self in metaclass and static methods - astral-sh/ruff #22755</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Disallow Self in metaclass and static methods</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22755">#22755</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2026-01-20 03:50
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body">Summary
<p>Closes <a href="https://github.com/astral-sh/ty/issues/1897">astral-sh/ty#1897</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 03:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2026-01-20 03:52</div>
            <div class="timeline-body">

<a href="https://github.com/python/typing/blob/dece44f2922ca390fe314145d09939514a21e76e/conformance/">Typing conformance results</a> improved üéâ
<p>The percentage of diagnostics emitted that were expected errors increased from 77.47% to 77.57%. The percentage of expected errors that received a diagnostic increased from 60.67% to 61.03%.</p>
Summary
<p>| Metric | Old | New | Diff | Outcome |
|--------|-----|-----|------|---------|
| True Positives  | 674 | 678 | +4 | ‚è´ (‚úÖ) |
| False Positives | 196 | 196 | +0 |  |
| False Negatives | 437 | 433 | -4 | ‚è¨ (‚úÖ) |
| Total Diagnostics | 870 | 874 | +4 | ‚è´ |
| Precision | 77.47% | 77.57% | +0.10% | ‚è´ (‚úÖ) |
| Recall | 60.67% | 61.03% | +0.36% | ‚è´ (‚úÖ) |</p>
True positives added


<p>| Location | Name | Message |
|----------|------|---------|
| <a href="https://github.com/python/typing/blob/dece44f2922ca390fe314145d09939514a21e76e/conformance/tests/generics_self_usage.py#L113">generics_self_usage.py:113:19</a> | invalid-type-form | <code>Self</code> cannot be used in a static method |
| <a href="https://github.com/python/typing/blob/dece44f2922ca390fe314145d09939514a21e76e/conformance/tests/generics_self_usage.py#L118">generics_self_usage.py:118:31</a> | invalid-type-form | <code>Self</code> cannot be used in a static method |
| <a href="https://github.com/python/typing/blob/dece44f2922ca390fe314145d09939514a21e76e/conformance/tests/generics_self_usage.py#L123">generics_self_usage.py:123:37</a> | invalid-type-form | <code>Self</code> cannot be used in a metaclass |
| <a href="https://github.com/python/typing/blob/dece44f2922ca390fe314145d09939514a21e76e/conformance/tests/generics_self_usage.py#L127">generics_self_usage.py:127:42</a> | invalid-type-form | <code>Self</code> cannot be used in a metaclass |</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2026-01-20 03:53</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>prefect (https://github.com/PrefectHQ/prefect)
- src/integrations/prefect-dbt/prefect_dbt/core/settings.py:94:28: error[invalid-assignment] Object of type `T@resolve_block_document_references | dict[str, Any]` is not assignable to `dict[str, Any]`
+ src/integrations/prefect-dbt/prefect_dbt/core/settings.py:94:28: error[invalid-assignment] Object of type `dict[str, Any] | int | T@resolve_block_document_references | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
- src/integrations/prefect-dbt/prefect_dbt/core/settings.py:99:28: error[invalid-assignment] Object of type `T@resolve_variables | dict[str, Any]` is not assignable to `dict[str, Any]`
+ src/integrations/prefect-dbt/prefect_dbt/core/settings.py:99:28: error[invalid-assignment] Object of type `int | T@resolve_variables | float | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
- src/prefect/cli/deploy/_core.py:86:21: error[invalid-assignment] Object of type `T@resolve_block_document_references | dict[str, Any]` is not assignable to `dict[str, Any]`
+ src/prefect/cli/deploy/_core.py:86:21: error[invalid-assignment] Object of type `dict[str, Any] | int | T@resolve_block_document_references | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
- src/prefect/cli/deploy/_core.py:87:21: error[invalid-assignment] Object of type `T@resolve_variables` is not assignable to `dict[str, Any]`
+ src/prefect/cli/deploy/_core.py:87:21: error[invalid-assignment] Object of type `int | T@resolve_variables | float | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
- src/prefect/deployments/steps/core.py:137:38: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any]`
+ src/prefect/deployments/steps/core.py:137:38: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `dict[str, Any] | int | T@resolve_block_document_references | ... omitted 4 union elements`
- src/prefect/utilities/templating.py:320:13: error[invalid-assignment] Invalid subscript assignment with key of type `object` and value of type `T@resolve_block_document_references | dict[str, Any]` on object of type `dict[str, Any]`
+ src/prefect/utilities/templating.py:320:13: error[invalid-assignment] Invalid subscript assignment with key of type `object` and value of type `dict[str, Any] | int | T@resolve_block_document_references | ... omitted 4 union elements` on object of type `dict[str, Any]`
- src/prefect/utilities/templating.py:323:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_block_document_references | dict[str, Any]`, found `list[Unknown | T@resolve_block_document_references | dict[str, Any]]`
+ src/prefect/utilities/templating.py:323:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_block_document_references | dict[str, Any]`, found `list[Unknown | dict[str, Any] | int | ... omitted 5 union elements]`
- src/prefect/utilities/templating.py:437:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `dict[object, Unknown | T@resolve_variables]`
+ src/prefect/utilities/templating.py:437:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `dict[object, Unknown | int | T@resolve_variables | ... omitted 5 union elements]`
- src/prefect/utilities/templating.py:442:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `list[Unknown | T@resolve_variables]`
+ src/prefect/utilities/templating.py:442:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `list[Unknown | int | T@resolve_variables | ... omitted 5 union elements]`
- src/prefect/workers/base.py:232:13: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any]`
+ src/prefect/workers/base.py:232:13: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `dict[str, Any] | int | T@resolve_block_document_references | ... omitted 4 union elements`
- src/prefect/workers/base.py:234:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `T@resolve_variables`
+ src/prefect/workers/base.py:234:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `int | T@resolve_variables | float | ... omitted 4 union elements`

scikit-build-core (https://github.com/scikit-build/scikit-build-core)
+ src/scikit_build_core/build/wheel.py:99:20: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- Found 46 diagnostics
+ Found 47 diagnostics


</code></pre>



Memory usage changes were detected when running on open source projects

<pre><code>flake8 (https://github.com/pycqa/flake8)
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`

trio (https://github.com/python-trio/trio)
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`

sphinx (https://github.com/sphinx-doc/sphinx)
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
- TOTAL MEMORY USAGE: ~287MB
+ TOTAL MEMORY USAGE: ~301MB

prefect (https://github.com/PrefectHQ/prefect)
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `resolve_typing_self`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest_enclosing_class`
+ WARN expected `heap_size` to be provided by Salsa query `nearest

... (truncated 18 lines) ...
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 04:02</div>
            <div class="timeline-body"><p>(Needs refinement, not ready for review!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2026-01-20 14:10</div>
            <div class="timeline-body">

Merging this PR will <strong>degrade performance by 5.32%</strong>
<p><code>‚ùå 1</code> regressed benchmark<br>
<code>‚úÖ 22</code> untouched benchmarks<br>
<code>‚è© 30</code> skipped benchmarks[^skipped]</p>
<blockquote>
<p>:warning: <em>Please fix the performance issues or <a href="https://codspeed.io/astral-sh/ruff/branches/charlie%2Fself2?utm_source=github&amp;utm_medium=comment-v2&amp;utm_content=acknowledge">acknowledge them on CodSpeed</a>.</em></p>
</blockquote>
Performance Changes
|     | Mode | Benchmark | <code>BASE</code> | <code>HEAD</code> | Efficiency |
| --- | ---- | --------- | ------ | ------ | ---------- |
| ‚ùå | WallTime | <a href="https://codspeed.io/astral-sh/ruff/branches/charlie%2Fself2?uri=crates%2Fruff_benchmark%2Fbenches%2Fty_walltime.rs%3A%3Aaltair&amp;runnerMode=WallTime&amp;utm_source=github&amp;utm_medium=comment-v2&amp;utm_content=benchmark"><code>altair</code></a> | 4.5 s | 4.7 s | -5.32% |
<p>Comparing <code>charlie/self2</code> (bfcdb75) with <code>main</code> (53962dc)</p>
<a href="https://codspeed.io/astral-sh/ruff/branches/charlie%2Fself2?utm_source=github&amp;utm_medium=comment-v2&amp;utm_content=button">
  
    
    
    <img alt="Open in CodSpeed" src="https://codspeed.io/pr-report/open-in-codspeed-light.svg">
  
</a>

<p>[^skipped]: 30 benchmarks were skipped, so the baseline results were used instead. If they were deleted from the codebase, <a href="https://codspeed.io/astral-sh/ruff/branches/charlie%2Fself2?sectionId=benchmark-comparison-section-baseline-result-skipped&amp;utm_source=github&amp;utm_medium=comment-v2&amp;utm_content=archive">click here and archive them to remove them from the performance reports</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 15:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 16:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-20 19:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-21 03:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-21 04:12</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/src/types/class.rs</code>:2388 on 2026-01-21 08:04</div>
            <div class="timeline-body"><p>Because this method directly accessed the AST, it needs to be Salsa-tracked to avoid overly eager cache invalidation if it&#x27;s accessed while inferring types for a different module to the one the class is defined in. But we try not to have too many Salsa-tracked functions/methods, because they increase our memory-usage, so it may be better to use the existing <code>explicit_bases</code> method unless this buys us a lot in terms of performance</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/resources/mdtest/annotations/self.md</code>:654 on 2026-01-21 08:10</div>
            <div class="timeline-body"><p>The behaviour demonstrated in this test is correct, but the prose describing it seems pretty confused. <code>__new__</code> <em>is</em> a staticmethod, even if isn&#x27;t decorated with <code>@staticmethod</code>. But using <code>Self</code> in <code>__new__</code> is allowed, partly because of the fact that at runtime it is heavily special-cased by the interpreter and behaves in many ways more like you&#x27;d usually expect a classmethod to behave. It always receives a <code>cls</code> argument with type <code>type[Self]</code> first, and it often returns an object of type <code>Self</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/ty_python_semantic/src/types/infer.rs</code>:229 on 2026-01-21 08:11</div>
            <div class="timeline-body"><p>Uff, I think we already have 3 methods for determining if a function is a staticmethod ‚Äî I&#x27;d prefer not to add a fourth üòÑ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> requested changes on 2026-01-21 08:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-21 15:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-21 16:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2026-01-21 16:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-21 19:07:25 UTC
    </footer>
</body>
</html>
