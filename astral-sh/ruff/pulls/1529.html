<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do not Change Quotation Style for `SIM118` Autofix - astral-sh/ruff #1529</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Do not Change Quotation Style for <code>SIM118</code> Autofix</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/1529">#1529</a>
        opened by <a href="https://github.com/saadmk11">@saadmk11</a>
        on 2023-01-01 14:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/saadmk11">@saadmk11</a></div>
            <div class="timeline-body"><p>closes https://github.com/charliermarsh/ruff/issues/1523</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2023-01-01 15:58</div>
            <div class="timeline-body"><p>I have a feeling we would need to look into other plugins then as well. There are many cases where we just string manipulate the code, and not use the source code generator.</p>
<p>I was initially confused as to why this is a bug, but apparently we want to fix code style issues of code we're not even touching? All the previous implementation was doing is to strip off <code>.keys()</code>.</p>
<p>Wondering where we draw the line, e.g.:</p>
<pre><code class="language-python">for x in data['something']:
     print('hello')
</code></pre>
<p><code>x</code> is unused here, so we rename it to <code>_x</code>. Do we also fix the quotes of the iterable? What about the loop body?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Fix Quotation Style for `SIM118` Autofix" to "Do not Change Quotation Style for `SIM118` Autofix" by @saadmk11 on 2023-01-01 16:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/saadmk11">@saadmk11</a> on 2023-01-01 16:54</div>
            <div class="timeline-body"><p>This actually makes it so that the linter does not automatically change the quotation style of the code it is updating as described in the linked issue. Sorry if the PR title was a bit misleading. ðŸ™‚</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/squiddy">@squiddy</a> on 2023-01-01 17:07</div>
            <div class="timeline-body"><blockquote>
<p>This actually makes it so that the linter does not automatically change the quotation style of the code it is updating as described in the linked issue. Sorry if the PR title was a bit misleading. ðŸ™‚</p>
</blockquote>
<p>Oh sorry, now I see it. The <code>to_string</code> on the node introduces the double quotes probably. Thank you.</p>
<p>Perhaps we can add a test case for that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-01-01 17:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-01 17:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 17:53</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 17:55</div>
            <div class="timeline-body"><p>My general philosophy on the quoting stuff right now: we're not obligated to &quot;fix&quot; incorrect quotes, but we shouldn't make them &quot;worse&quot;. So if a snippet uses single quotes, but the rest of the file uses double quotes, and we introduce a fix that changes the snippet but doesn't correct the quotes -- that's fine.</p>
<p>On the other hand: if a snippet uses single quotes, and the whole file uses single quotes, and we change it to double quotes -- that's wrong.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-01-01 17:57</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:55:19 UTC
    </footer>
</body>
</html>
