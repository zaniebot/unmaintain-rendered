<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`ruff`] Unformatted special comments (`RUF037`) - astral-sh/ruff #14111</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>ruff</code>] Unformatted special comments (<code>RUF037</code>)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14111">#14111</a>
        opened by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a>
        on 2024-11-05 16:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Resolves #10160.</p>
<h2>Test Plan</h2>
<p><code>cargo nextest run</code> and <code>cargo insta test</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-11-05 16:26</div>
            <div class="timeline-body"><p>I'm not sure why the snapshot is empty. Debugging showed that new diagnostics are correctly added, yet it's almost as if the rule never ran.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-05 16:37</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+1074 -0 violations, +0 -0 fixes in 11 projects; 43 projects unchanged)</p>
<details><summary><a href="https://github.com/RasaHQ/rasa">RasaHQ/rasa</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/RasaHQ/rasa/blob/7807b19ad5fffab73ca1a04dc710f812115a9288/rasa/core/agent.py#L422'>rasa/core/agent.py:422:95:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/RasaHQ/rasa/blob/7807b19ad5fffab73ca1a04dc710f812115a9288/rasa/utils/tensorflow/model_data.py#L106'>rasa/utils/tensorflow/model_data.py:106:110:</a> RUF037 [*] Unformatted special comment
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+90 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/airflow/www/views.py#L4936'>airflow/www/views.py:4936:62:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/dev/breeze/src/airflow_breeze/configure_rich_click.py#L21'>dev/breeze/src/airflow_breeze/configure_rich_click.py:21:47:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/docs/exts/docs_build/errors.py#L27'>docs/exts/docs_build/errors.py:27:62:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/kubernetes_tests/test_kubernetes_executor.py#L25'>kubernetes_tests/test_kubernetes_executor.py:25:21:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/kubernetes_tests/test_other_executors.py#L25'>kubernetes_tests/test_other_executors.py:25:21:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/providers/src/airflow/providers/edge/models/edge_worker.py#L137'>providers/src/airflow/providers/edge/models/edge_worker.py:137:36:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/providers/src/airflow/providers/edge/models/edge_worker.py#L154'>providers/src/airflow/providers/edge/models/edge_worker.py:154:41:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/providers/src/airflow/providers/google/cloud/hooks/bigquery.py#L1154'>providers/src/airflow/providers/google/cloud/hooks/bigquery.py:1154:33:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/providers/src/airflow/providers/google/cloud/hooks/compute_ssh.py#L39'>providers/src/airflow/providers/google/cloud/hooks/compute_ssh.py:39:20:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/airflow/blob/951b3a13bb3950b979650744223b328b6ebb2bb5/providers/src/airflow/providers/google/cloud/hooks/mlengine.py#L600'>providers/src/airflow/providers/google/cloud/hooks/mlengine.py:600:42:</a> RUF037 [*] Unformatted special comment
... 80 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/superset">apache/superset</a> (+46 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/superset/commands/chart/export.py#L17'>superset/commands/chart/export.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/superset/commands/dashboard/export.py#L17'>superset/commands/dashboard/export.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/superset/commands/database/export.py#L17'>superset/commands/database/export.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/superset/commands/dataset/export.py#L17'>superset/commands/dataset/export.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/superset/commands/query/export.py#L17'>superset/commands/query/export.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/tests/integration_tests/access_tests.py#L17'>tests/integration_tests/access_tests.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/tests/integration_tests/advanced_data_type/api_tests.py#L17'>tests/integration_tests/advanced_data_type/api_tests.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/tests/integration_tests/annotation_layers/api_tests.py#L17'>tests/integration_tests/annotation_layers/api_tests.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/tests/integration_tests/base_api_tests.py#L17'>tests/integration_tests/base_api_tests.py:17:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/apache/superset/blob/58f9be9b85cfd34f861d232cf834c96747133a39/tests/integration_tests/base_tests.py#L17'>tests/integration_tests/base_tests.py:17:3:</a> RUF037 [*] Unformatted special comment
... 36 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+872 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/release/ui.py#L27'>release/ui.py:27:24:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/__init__.py#L36'>src/bokeh/__init__.py:36:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/__init__.py#L88'>src/bokeh/__init__.py:88:28:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/__init__.py#L91'>src/bokeh/__init__.py:91:31:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/__init__.py#L96'>src/bokeh/__init__.py:96:19:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/__init__.py#L97'>src/bokeh/__init__.py:97:72:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/__main__.py#L27'>src/bokeh/__main__.py:27:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/__init__.py#L22'>src/bokeh/application/__init__.py:22:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/application.py#L24'>src/bokeh/application/application.py:24:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/__init__.py#L17'>src/bokeh/application/handlers/__init__.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/code.py#L31'>src/bokeh/application/handlers/code.py:31:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/code_runner.py#L17'>src/bokeh/application/handlers/code_runner.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/directory.py#L43'>src/bokeh/application/handlers/directory.py:43:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/document_lifecycle.py#L17'>src/bokeh/application/handlers/document_lifecycle.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/function.py#L33'>src/bokeh/application/handlers/function.py:33:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/handler.py#L38'>src/bokeh/application/handlers/handler.py:38:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/lifecycle.py#L17'>src/bokeh/application/handlers/lifecycle.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/notebook.py#L24'>src/bokeh/application/handlers/notebook.py:24:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/request_handler.py#L17'>src/bokeh/application/handlers/request_handler.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/script.py#L41'>src/bokeh/application/handlers/script.py:41:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/server_lifecycle.py#L17'>src/bokeh/application/handlers/server_lifecycle.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/application/handlers/server_request_handler.py#L17'>src/bokeh/application/handlers/server_request_handler.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/__init__.py#L26'>src/bokeh/client/__init__.py:26:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/connection.py#L20'>src/bokeh/client/connection.py:20:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/session.py#L29'>src/bokeh/client/session.py:29:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/states.py#L17'>src/bokeh/client/states.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/util.py#L16'>src/bokeh/client/util.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/client/websocket.py#L17'>src/bokeh/client/websocket.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/colors/__init__.py#L17'>src/bokeh/colors/__init__.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/colors/color.py#L16'>src/bokeh/colors/color.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/colors/groups.py#L16'>src/bokeh/colors/groups.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/colors/named.py#L16'>src/bokeh/colors/named.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/colors/util.py#L16'>src/bokeh/colors/util.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/bootstrap.py#L38'>src/bokeh/command/bootstrap.py:38:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommand.py#L17'>src/bokeh/command/subcommand.py:17:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/__init__.py#L16'>src/bokeh/command/subcommands/__init__.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/build.py#L16'>src/bokeh/command/subcommands/build.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/file_output.py#L16'>src/bokeh/command/subcommands/file_output.py:16:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/info.py#L50'>src/bokeh/command/subcommands/info.py:50:18:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/command/subcommands/init.py#L16'>src/bokeh/command/subcommands/init.py:16:18:</a> RUF037 [*] Unformatted special comment
... 832 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+6 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/ibis-project/ibis/blob/56ec3719fc2e8433dce2f5bea82e4283f443e2d1/.github/workflows/algolia/upload-algolia-api.py#L164'>.github/workflows/algolia/upload-algolia-api.py:164:56:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/ibis-project/ibis/blob/56ec3719fc2e8433dce2f5bea82e4283f443e2d1/.github/workflows/algolia/upload-algolia-api.py#L178'>.github/workflows/algolia/upload-algolia-api.py:178:58:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/ibis-project/ibis/blob/56ec3719fc2e8433dce2f5bea82e4283f443e2d1/.github/workflows/algolia/upload-algolia-api.py#L190'>.github/workflows/algolia/upload-algolia-api.py:190:68:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/ibis-project/ibis/blob/56ec3719fc2e8433dce2f5bea82e4283f443e2d1/.github/workflows/algolia/upload-algolia-api.py#L203'>.github/workflows/algolia/upload-algolia-api.py:203:55:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/ibis-project/ibis/blob/56ec3719fc2e8433dce2f5bea82e4283f443e2d1/.github/workflows/algolia/upload-algolia-api.py#L208'>.github/workflows/algolia/upload-algolia-api.py:208:68:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/ibis-project/ibis/blob/56ec3719fc2e8433dce2f5bea82e4283f443e2d1/ibis/backends/tests/test_client.py#L1475'>ibis/backends/tests/test_client.py:1475:39:</a> RUF037 [*] Unformatted special comment
</pre>

</p>
</details>
<details><summary><a href="https://github.com/rotki/rotki">rotki/rotki</a> (+17 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/pytestgeventwrapper.py#L1'>pytestgeventwrapper.py:1:37:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/pytestgeventwrapper.py#L2'>pytestgeventwrapper.py:2:23:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/__main__.py#L1'>rotkehlchen/__main__.py:1:30:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/__main__.py#L2'>rotkehlchen/__main__.py:2:23:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/api/rest.py#L2748'>rotkehlchen/api/rest.py:2748:70:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/chain/aggregator.py#L312'>rotkehlchen/chain/aggregator.py:312:87:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/chain/aggregator.py#L313'>rotkehlchen/chain/aggregator.py:313:89:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/chain/aggregator.py#L316'>rotkehlchen/chain/aggregator.py:316:85:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/chain/aggregator.py#L319'>rotkehlchen/chain/aggregator.py:319:85:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/rotki/rotki/blob/b12cc0248c98c5dba04f3738d5906e2bdaa92feb/rotkehlchen/chain/zksync_lite/manager.py#L634'>rotkehlchen/chain/zksync_lite/manager.py:634:52:</a> RUF037 [*] Unformatted special comment
... 7 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/zulip/zulip">zulip/zulip</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/zulip/zulip/blob/c4ad9d8e098746141416f9d0d7566b817d4db79b/zilencer/views.py#L809'>zilencer/views.py:809:53:</a> RUF037 [*] Unformatted special comment
</pre>

</p>
</details>
<details><summary><a href="https://github.com/indico/indico">indico/indico</a> (+8 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/core/celery/__init__.py#L51'>indico/core/celery/__init__.py:51:34:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/core/db/sqlalchemy/__init__.py#L9'>indico/core/db/sqlalchemy/__init__.py:9:26:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/core/signals/event/__init__.py#L8'>indico/core/signals/event/__init__.py:8:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/modules/categories/serialize.py#L55'>indico/modules/categories/serialize.py:55:102:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/web/forms/fields/__init__.py#L8'>indico/web/forms/fields/__init__.py:8:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/web/http_api/__init__.py#L8'>indico/web/http_api/__init__.py:8:3:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/web/http_api/metadata/serializer.py#L53'>indico/web/http_api/metadata/serializer.py:53:65:</a> RUF037 [*] Unformatted special comment
+ <a href='https://github.com/indico/indico/blob/f5853a71dd69942f6a7d59466793c7b50c88b606/indico/web/http_api/metadata/serializer.py#L54'>indico/web/http_api/metadata/serializer.py:54:63:</a> RUF037 [*] Unformatted special comment
</pre>

</p>
</details>
<details><summary><a href="https://github.com/python-trio/trio">python-trio/trio</a> (+0 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
</pre>

</p>
</details>
<details><summary><a href="https://github.com/wntrblm/nox">wntrblm/nox</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/wntrblm/nox/blob/bdd84a4d135b9c7471aad664a168fd441e4dfb64/nox/_options.py#L278'>nox/_options.py:278:36:</a> RUF037 [*] Unformatted special comment
</pre>

</p>
</details>

<p><em>... Truncated remaining completed project reports due to GitHub comment length restrictions</em></p>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| RUF037 | 1074 | 1074 | 0 | 0 | 0 |</p>
</p>
</details>

<h3>Formatter (stable)</h3>
<p>✅ ecosystem check detected no format changes.</p>
<h3>Formatter (preview)</h3>
<p>✅ ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`ruff`] Unformatted special comments (`RUF102`)" to "[`ruff`] Unformatted special comments (`RUF104`)" by @InSyncWithFoo on 2024-11-06 02:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-11-06 11:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/unformatted_special_comment.rs</code>:2 on 2024-11-06 11:45</div>
            <div class="timeline-body"><p>You can use https://doc.rust-lang.org/std/sync/struct.LazyLock.html</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @InSyncWithFoo on 2024-11-09 18:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @InSyncWithFoo on 2024-11-10 09:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @InSyncWithFoo on 2024-11-10 17:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2024-11-11 07:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @dhruvmanila on 2024-11-11 07:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/checkers/noqa.rs</code>:57 on 2024-11-11 13:04</div>
            <div class="timeline-body"><p>Can you explain the reasoning for this special handling? I think I would find this behavior surprising and I'm not sure if it justifies the added complexity</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/mod.rs</code>:390 on 2024-11-11 13:05</div>
            <div class="timeline-body"><p>Are these files testing different aspects? If so, can we give them more meaningful names than <code>_1</code> etc.?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/ruff/rules/unformatted_special_comment.rs</code>:34 on 2024-11-11 13:08</div>
            <div class="timeline-body"><p>I'm somewhat hesitant supporting non-ruff suppression comments:</p>
<ol>
<li>All other <code>RUF1XX</code> rules are specific to ruff pragma comments</li>
<li>I don't see us as the authority defining how <code>pyright</code> and <code>mypy</code> comments should be formatted.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-11-11 13:14</div>
            <div class="timeline-body"><p>Thanks for working on this rule.</p>
<p>I think we need to define the scope of this rule more carefully, especially when it comes to non-ruff suppression comments.</p>
<ol>
<li>All other <code>RUF1XX</code> rules are specific to ruff pragma comments</li>
<li>I don't see us as the authority defining how <code>pyright</code> and <code>mypy</code> comments should be formatted.</li>
</ol>
<p>I see two possible versions of this rule:</p>
<ul>
<li>One specific to ruff's suppression comments that enforces consistent formatting, including how rule codes are formatted</li>
<li>A general purpose rule that handles all kinds of pragma comments. It only enforces a single space between <code>#</code> and the keyword and, optionally, that the colon is followed by a space. We can add a configuration option to support custom pragma codes. This is not a <code>RUF1XX</code> rule.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2024-11-11 13:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/ruff_linter/src/checkers/noqa.rs</code>:57 on 2024-11-11 13:37</div>
            <div class="timeline-body"><p><code>blanket-noqa</code> (<code>PGH004</code>) gets similar treatment (right above, <a href="https://github.com/astral-sh/ruff/pull/14111/files/9c5ec194216fd0bbe1e9b5b5be0476a122b72087#diff-e078b56e67f3e7989390caeeee1bbe9b7f301a66ed0ceeddb159eed523880bedR48">line 48</a>), and must either not be enabled or explicitly disabled using <code>per-file-ignores</code>/<code># ruff: noqa: PGH004</code> (<a href="https://github.com/astral-sh/ruff/blob/b3b5c191051a4ea2b81b11ed3088a09ec6d051fc/crates/ruff_linter/src/checkers/noqa.rs#L223-L225">line 223</a>):</p>
<pre><code class="language-rust">if matches!(diagnostic.kind.rule(), Rule::BlanketNOQA) {
    continue;
}
</code></pre>
<pre><code class="language-rust">if settings.rules.enabled(Rule::BlanketNOQA)
    &amp;&amp; !per_file_ignores.contains(Rule::BlanketNOQA)
    &amp;&amp; !exemption.enumerates(Rule::BlanketNOQA)
</code></pre>
<p><code>RUF104</code> isn't a <code>noqa</code>-only rule, so <code>unformatted_special_comment()</code> shouldn't be called from <code>check_noqa()</code>. However, <code>exemption</code> is <a href="https://github.com/astral-sh/ruff/blob/b3b5c191051a4ea2b81b11ed3088a09ec6d051fc/crates/ruff_linter/src/checkers/noqa.rs#L38">computed</a> within <code>check_noqa()</code> using a function that <a href="https://github.com/astral-sh/ruff/blob/b3b5c191051a4ea2b81b11ed3088a09ec6d051fc/crates/ruff_linter/src/noqa.rs#L134-L137">might emit a warning</a> if a <code># noqa:</code> comment does not have any codes. This means the necessary information cannot be retrieved from functions other than <code>check_noqa()</code> without undesirable side-effects.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2024-11-11 13:51</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/ruff_linter/src/rules/ruff/rules/unformatted_special_comment.rs</code>:34 on 2024-11-11 13:51</div>
            <div class="timeline-body"><p>I see. This rule will be in charge of Ruff-related comments only, then. I take it that <code>Nopycln</code> should also be removed, given that there are no instances of such a comment in the entire codebase.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-12 11:00</div>
            <div class="timeline-body"><p>@AlexWaygood do you have any recommendations on the rule's scope?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/DetachHead">@DetachHead</a> on <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF104.py</code>:1 on 2024-11-13 12:37</div>
            <div class="timeline-body"><p>are <code># pyright:</code> comments supported too?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/DetachHead">@DetachHead</a> reviewed on 2024-11-13 12:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-13 14:09</div>
            <div class="timeline-body"><p>I agree that we're getting into very hairy territory if we start formatting other tools' pragma comments by default. However, it does seem useful to have a rule that does generalised formatting of pragma comments.</p>
<p>I like @MichaReiser's second suggestion in https://github.com/astral-sh/ruff/pull/14111#pullrequestreview-2427244566 -- I would suggest a rule</p>
<ul>
<li>That is not in the <code>RUF1XX</code> category (which as @MichaReiser says is a category specifically for Ruff pragma comments)</li>
<li>That by default, only formats Ruff pragma comments. (And maybe also <code>type: ignore</code> comments, since they are standardised across tools according to a specification?)</li>
<li>That can be configured so that it also includes other tool-specific pragma comments such as <code>pyright: ignore</code>, <code>isort: skip_file</code> and <code>pragma: nocover</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> reviewed on 2024-11-13 16:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF104.py</code>:1 on 2024-11-13 16:54</div>
            <div class="timeline-body"><p>Originally, but I removed <code># pyright:</code>, <code># mypy:</code> and <code># nopycln:</code> as per <a href="https://github.com/astral-sh/ruff/pull/14111#pullrequestreview-2427244566">this comment</a>. If this rule is accepted, I'll try my hands on another rule that does the same thing but for custom comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/resources/test/fixtures/ruff/RUF104.py</code>:1 on 2024-11-13 16:58</div>
            <div class="timeline-body"><p>@InSyncWithFoo I suggest we go forward with @AlexWaygood suggestions. That allows users to opt-in to formatting pyright comments or any other comment they like.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-11-13 16:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-11-13 17:04</div>
            <div class="timeline-body"><p>@AlexWaygood</p>
<ol>
<li>I'll move it to <code>RUF037</code>, then.</li>
<li>Currently the rule is handling (aside from <code># type</code>) <code># noqa</code>, <code># ruff: noqa</code>, <code># flake8: noqa</code>, <code># isort</code>, <code># ruff: isort</code> and <code># fmt</code>. Aren't these all comments that Ruff reads?</li>
<li>I'm in favor of limiting this rule to just Ruff comments, as I have already rewritten this PR a couple of times and I don't feel like redoing it all over again. I'll give custom comments their own rule in another PR.</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-13 17:15</div>
            <div class="timeline-body"><blockquote>
<p>Currently the rule is handling (aside from <code># type</code>) <code># noqa</code>, <code># ruff: noqa</code>, <code># flake8: noqa</code>, <code># isort</code>, <code># ruff: isort</code> and <code># fmt</code>. Aren't these all comments that Ruff reads?</p>
</blockquote>
<p>They are! I wasn't necessarily criticising anything you were doing -- was just giving my response to Micha's request in https://github.com/astral-sh/ruff/pull/14111#issuecomment-2470227442 on what the scope of the rule should be :-)</p>
<blockquote>
<p>I'm in favor of limiting this rule to just Ruff comments, as I have already rewritten this PR a couple of times and I don't feel like redoing it all over again. I'll give custom comments their own rule in another PR.</p>
</blockquote>
<p>Feel free to keep this PR small and not implement any configurability now. Small, incremental PRs are definitely encouraged! However, if you want to open a followup PR, please make this rule configurable in the followup PR rather than creating a separate rule just for custom comments. I think Micha and I are aligned that a single, configurable rule would be preferable to two rules that do very similar things.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`ruff`] Unformatted special comments (`RUF104`)" to "[`ruff`] Unformatted special comments (`RUF037`)" by @InSyncWithFoo on 2024-11-13 17:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-13 17:43</div>
            <div class="timeline-body"><p>I do think that we can drastically simplify the implementation because we no longer need to special case different comments. All we need is to match for <code># (fmt|noqa|...)</code> and then see if it has an optional <code>:</code> following it.</p>
<blockquote>
<p>Currently the rule is handling (aside from # type) # noqa, # ruff: noqa, # flake8: noqa, # isort, # ruff: isort and # fmt. Aren't these all comments that Ruff reads?</p>
</blockquote>
<p>Technically, there's also <code>yapf: disable|enable</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-11-13 18:19</div>
            <div class="timeline-body"><blockquote>
<p>I do think that we can drastically simplify the implementation because we no longer need to special case different comments.</p>
</blockquote>
<p>Special casing <code># noqa</code> so that all such comments uses <code>, </code> has been my intent all along, and I do want to keep it that way even if it turns out to be a little more complex than necessary. I don't have a strong opinion about the others, though at the moment only valid pragma comments are recognized.</p>
<p>@AlexWaygood If we were to add a &quot;custom&quot; formatter, that would need to be generic enough to apply to most, if not all, pragma comments. The only way to do so (that I can see) is to use regex search-and-replace.</p>
<p>Rust's regex engine guarantees linear time matching, so there is no risk of ReDoS. However, there are also disadvantages: No advanced features. Having no lookarounds, no conditional replacements, no multicaptures and no backreferences means that some comments would require multiple runs to be formatted correctly. For example:</p>
<pre><code class="language-toml">[tool.ruff.lint.format-special-comments]
# `#pyright:ignore[reportFoo,reportBar,reportQux]` -&gt; `# pyright: ignore[reportFoo,reportBar,reportQux]`
# https://regex101.com/r/zd9esV/1
'(?i)#\s*pyright\s*:\s*' = '# pyright: '

# `# pyright: ignore[reportFoo,reportBar,reportQux]` -&gt; `# pyright: ignore[reportFoo, reportBar,reportQux]`
# https://regex101.com/r/zd9esV/2
'(# pyright: ignore\[[^\s,]+(?:, [^\s,]+)*?),(?:\s{2,})?(\S)' = '$1, $2'

# `# pyright: ignore[reportFoo, reportBar,reportQux]` -&gt; `# pyright: ignore[reportFoo, reportBar, reportQux]`
# https://regex101.com/r/zd9esV/3
'(# pyright: ignore\[[^\s,]+(?:, [^\s,]+)*?),(?:\s{2,})?(\S)' = '$1, $2'

# And so on.
</code></pre>
<p>With PCRE features, it's much easier (less readable too, though):</p>
<pre><code class="language-toml"># https://regex101.com/r/URCpwl/1
'(?i)(?:(?:(\#\s*pyright\s*:\s*)|\G(?:ignore\[)?[^\s,]+\K,\s*))' = '${1:+# pyright\: :, }'
</code></pre>
<p>We could also consider <a href="https://github.com/fancy-regex/fancy-regex"><code>fancy-regex</code></a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">needs-decision</span> added by @MichaReiser on 2024-11-13 18:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-14 07:19</div>
            <div class="timeline-body"><p>The problem I see with special casing is that it isn't a good fit for a general-purpose, extensible rule; it should instead be a specific rule for <code>noqa</code>.</p>
<p>The question is if we can come up with some general rules that work for all suppression comments without being specific to any pragma comment and that allows easy configuration:</p>
<ul>
<li>Require a space between <code>#</code> and <code>name</code> in # <name>`</li>
<li>Require no space left of a <code>:</code> but require a space right of it: <code># name: ignore</code> ok, <code># name:ignore</code> not-ok</li>
<li>Require no a space left of a <code>,</code> but require a space right of it: <code># type: ignore[a, b]</code> is ok, <code>type: ignore[a,b]</code> isn't</li>
<li>Require no space around <code>[</code> but require a space right of <code>]</code> if it isn't the end of the comment.</li>
</ul>
<p>The rule doesn't require that any suppression comment is valid. E.g. it accepts <code>#type: ignore, a, b, cd</code> t</p>
<p>Note: What's interesting is that e.g. pyright's documentation uses a space before <code>[</code>: <code># pyright: ignore [reportPrivateUsage, reportGeneralTypeIssues]</code> whereas mypy recommends using no-space <code># type: ignore[&lt;code&gt;]</code> (which I prefer)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-11-14 07:29</div>
            <div class="timeline-body"><p>I would prefer it if we could have two rules, one for Ruff-specific comments and one customizable, somewhat similar to <code>I001</code> and <code>I002</code>. I don't want to rewrite <code>#noqa:A123,B456</code> to just <code># noqa: A123,B456</code>; <code># noqa: A123, B456</code> is clearly better. If special-casing in an extensible rule is so bad, then let's use two rules instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-14 07:32</div>
            <div class="timeline-body"><blockquote>
<p>I don't want to rewrite #noqa:A123,B456 to just # noqa: A123,B456; # noqa: A123, B456 is clearly better.</p>
</blockquote>
<p>The rule would handle this, when using the rules that I outlined above. What the rule wouldn't handle is that e.g. all rule codes are upper-case (although I'm not sure if ruff even accepts lower case rule codes?)</p>
<p>I'm open to having a noqa specific rule, but I don't think it should handle other ruff suppression comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/InSyncWithFoo">@InSyncWithFoo</a> on 2024-11-14 07:44</div>
            <div class="timeline-body"><blockquote>
<p>although I'm not sure if ruff even accepts lower case rule codes?</p>
</blockquote>
<p><code># ruff: noqa</code> does, <code># noqa</code> doesn't, though these codes are not taken into account during suppression. Previously, both of these uses <code>[A-Z]+[0-9]+</code>; Charlie changed both of them recently (#12809), then only reverted the latter (#14229).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Avasam">@Avasam</a> on 2024-11-18 00:18</div>
            <div class="timeline-body"><blockquote>
<p>A general purpose rule that handles all kinds of pragma comments. It only enforces a single space between # and the keyword and, optionally, that the colon is followed by a space. We can add a configuration option to support custom pragma codes.</p>
</blockquote>
<p>Making this rule extensible is also what I've suggesting in https://github.com/astral-sh/ruff/issues/10160#issuecomment-1971452721 . Even if it comes as a follow-up PR, I'd like if it could handle comments that Ruff doesn't need to be aware of (like pyright)</p>
<p>And if it supports regex somehow, this would superseed TD007 (https://docs.astral.sh/ruff/rules/missing-space-after-todo-colon/) entirely</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-12-19 12:14</div>
            <div class="timeline-body"><p>I'll close this PR because there's no agreement on the rule's semantics. We should define and align on that first before working on a new PR.</p>
<p>Thank you @InSyncWithFoo for initiating the discussion and creating this pr.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-12-19 12:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-12-19 16:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:07:29 UTC
    </footer>
</body>
</html>
