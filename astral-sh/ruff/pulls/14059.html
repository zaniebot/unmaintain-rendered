<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-pyi`] - include all python file types for `PYI006` and `PYI066` - astral-sh/ruff #14059</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-pyi</code>] - include all python file types for <code>PYI006</code> and <code>PYI066</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14059">#14059</a>
        opened by <a href="https://github.com/diceroll123">@diceroll123</a>
        on 2024-11-02 23:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/diceroll123">@diceroll123</a> on 2024-11-02 23:25</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>Allows <code>bad-version-info-order</code> and <code>bad-version-info-comparison</code> to work in file types besides stubs</p>
<p>Closes #13836</p>
<h2>Test Plan</h2>
<p><code>cargo test</code></p>
<p><em>I really only just moved code around and updated snapshots</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @diceroll123 on 2024-11-02 23:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-02 23:39</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+42 -0 violations, +0 -0 fixes in 6 projects; 48 projects unchanged)</p>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+4 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/6fd7052f863ad9fc95ea4b82f8993fc5858d0dc3/providers/src/airflow/providers/cloudant/hooks/cloudant.py#L25'>providers/src/airflow/providers/cloudant/hooks/cloudant.py:25:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/apache/airflow/blob/6fd7052f863ad9fc95ea4b82f8993fc5858d0dc3/providers/tests/cloudant/hooks/test_cloudant.py#L30'>providers/tests/cloudant/hooks/test_cloudant.py:30:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/apache/airflow/blob/6fd7052f863ad9fc95ea4b82f8993fc5858d0dc3/providers/tests/google/cloud/utils/test_mlengine_prediction_summary.py#L27'>providers/tests/google/cloud/utils/test_mlengine_prediction_summary.py:27:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/apache/airflow/blob/6fd7052f863ad9fc95ea4b82f8993fc5858d0dc3/tests/plugins/test_plugins_manager.py#L65'>tests/plugins/test_plugins_manager.py:65:12:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pypa/cibuildwheel">pypa/cibuildwheel</a> (+2 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pypa/cibuildwheel/blob/d2c7614c3a959e9500f186344ddf89e5e77937ea/bin/bump_version.py#L20'>bin/bump_version.py:20:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pypa/cibuildwheel/blob/d2c7614c3a959e9500f186344ddf89e5e77937ea/cibuildwheel/_compat/typing.py#L5'>cibuildwheel/_compat/typing.py:5:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pypa/setuptools">pypa/setuptools</a> (+4 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pypa/setuptools/blob/544cf20583a37b206eb8ee6ea5881a8d64d4b460/setuptools/_importlib.py#L3'>setuptools/_importlib.py:3:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pypa/setuptools/blob/544cf20583a37b206eb8ee6ea5881a8d64d4b460/setuptools/_importlib.py#L9'>setuptools/_importlib.py:9:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pypa/setuptools/blob/544cf20583a37b206eb8ee6ea5881a8d64d4b460/setuptools/command/bdist_wheel.py#L493'>setuptools/command/bdist_wheel.py:493:20:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pypa/setuptools/blob/544cf20583a37b206eb8ee6ea5881a8d64d4b460/setuptools/tests/test_bdist_wheel.py#L524'>setuptools/tests/test_bdist_wheel.py:524:8:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
</pre>

</p>
</details>
<details><summary><a href="https://github.com/scikit-build/scikit-build-core">scikit-build/scikit-build-core</a> (+19 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/docs/conf.py#L16'>docs/conf.py:16:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/builtins.py#L5'>src/scikit_build_core/_compat/builtins.py:5:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/importlib/metadata.py#L15'>src/scikit_build_core/_compat/importlib/metadata.py:15:8:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/importlib/metadata.py#L17'>src/scikit_build_core/_compat/importlib/metadata.py:17:10:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/importlib/metadata.py#L6'>src/scikit_build_core/_compat/importlib/metadata.py:6:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/importlib/resources.py#L5'>src/scikit_build_core/_compat/importlib/resources.py:5:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/tomllib.py#L5'>src/scikit_build_core/_compat/tomllib.py:5:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/typing.py#L14'>src/scikit_build_core/_compat/typing.py:14:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/typing.py#L19'>src/scikit_build_core/_compat/typing.py:19:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_compat/typing.py#L6'>src/scikit_build_core/_compat/typing.py:6:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/_logging.py#L80'>src/scikit_build_core/_logging.py:80:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/builder/sysconfig.py#L179'>src/scikit_build_core/builder/sysconfig.py:179:8:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/file_api/reply.py#L76'>src/scikit_build_core/file_api/reply.py:76:24:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/src/scikit_build_core/settings/json_schema.py#L67'>src/scikit_build_core/settings/json_schema.py:67:16:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/conftest.py#L16'>tests/conftest.py:16:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/conftest.py#L23'>tests/conftest.py:23:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/packages/navigate_editable/python/shared_pkg/py_module.py#L3'>tests/packages/navigate_editable/python/shared_pkg/py_module.py:3:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/test_builder.py#L247'>tests/test_builder.py:247:8:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/f6e60f41e46ce13ddbd344542d1bf45743b74514/tests/test_pyproject_pep660.py#L100'>tests/test_pyproject_pep660.py:100:8:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
</pre>

</p>
</details>
<details><summary><a href="https://github.com/python-trio/trio">python-trio/trio</a> (+7 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_core/_tests/test_run.py#L2783'>src/trio/_core/_tests/test_run.py:2783:4:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_tests/type_tests/path.py#L110'>src/trio/_tests/type_tests/path.py:110:8:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_tests/type_tests/path.py#L51'>src/trio/_tests/type_tests/path.py:51:8:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_tests/type_tests/path.py#L57'>src/trio/_tests/type_tests/path.py:57:8:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_tests/type_tests/path.py#L60'>src/trio/_tests/type_tests/path.py:60:8:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_tests/type_tests/path.py#L78'>src/trio/_tests/type_tests/path.py:78:8:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/python-trio/trio/blob/9d6e134d3256c811ea311322407058e102a8918e/src/trio/_tests/type_tests/path.py#L98'>src/trio/_tests/type_tests/path.py:98:8:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pytest-dev/pytest">pytest-dev/pytest</a> (+6 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pytest-dev/pytest/blob/a1a491837b35b719d77b4f03be318b505d495386/src/_pytest/_code/code.py#L699'>src/_pytest/_code/code.py:699:16:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pytest-dev/pytest/blob/a1a491837b35b719d77b4f03be318b505d495386/src/_pytest/assertion/rewrite.py#L299'>src/_pytest/assertion/rewrite.py:299:16:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pytest-dev/pytest/blob/a1a491837b35b719d77b4f03be318b505d495386/src/_pytest/pathlib.py#L41'>src/_pytest/pathlib.py:41:4:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pytest-dev/pytest/blob/a1a491837b35b719d77b4f03be318b505d495386/testing/_py/test_local.py#L21'>testing/_py/test_local.py:21:12:</a> PYI006 Use `<` or `>=` for `sys.version_info` comparisons
+ <a href='https://github.com/pytest-dev/pytest/blob/a1a491837b35b719d77b4f03be318b505d495386/testing/code/test_excinfo.py#L1771'>testing/code/test_excinfo.py:1771:8:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
+ <a href='https://github.com/pytest-dev/pytest/blob/a1a491837b35b719d77b4f03be318b505d495386/testing/test_debugging.py#L106'>testing/test_debugging.py:106:12:</a> PYI066 Use `>=` when using `if`-`else` with `sys.version_info` comparisons
</pre>

</p>
</details>
<details><summary>Changes by rule (2 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PYI066 | 34 | 34 | 0 | 0 | 0 |
| PYI006 | 8 | 8 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-11-03 02:48</div>
            <div class="timeline-body"><p>Thanks! We probably need to gate this under preview, since it's an expansion of the rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2024-11-03 02:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @charliermarsh on 2024-11-03 02:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2024-11-03 11:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2024-11-03 11:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-11-03 11:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 20:51:27 UTC
    </footer>
</body>
</html>
