<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-raise`] Add Plugin and `RSE102` Rule - astral-sh/ruff #2354</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-raise</code>] Add Plugin and <code>RSE102</code> Rule</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/2354">#2354</a>
        opened by <a href="https://github.com/saadmk11">@saadmk11</a>
        on 2023-01-30 14:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/saadmk11">@saadmk11</a></div>
            <div class="timeline-body"><p>closes https://github.com/charliermarsh/ruff/issues/2347</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 15:08</div>
            <div class="timeline-body"><p>I'm tempted to put this in <code>tryceratops</code> rather than introduce a new category. But we don't really have any precedent for doing that. I need to think on it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-01-30 16:10</div>
            <div class="timeline-body"><p>@charliermarsh I thought the same... It's a tricky one.</p>
<p>I guess in the fullness of time it might make sense to not group rules in <code>ruff</code> by the <code>flake8</code> plugin they came from, but have a &quot;lookup&quot; for each plugin that states what is implemented and what rule it maps to in <code>ruff</code>, e.g.</p>
<pre><code>flake8-raise:R100 → ruff:reraise-no-cause
flake8-raise:R101 → ruff:verbose-raise
flake8-raise:R102 → ruff:unnecessary-paren-on-raise-exception
tryceratops:TC200 → ruff:reraise-no-cause
tryceratops:TC201 → ruff:verbose-raise
</code></pre>
<p>And any rules that are intentionally not implemented, and the reason for their omission, can also be explained.</p>
<p>In a sense, the name of the plugin only feels relevant while transitioning to <code>ruff</code>. The main benefit is to have a comprehensive compatibility mapping[^1] to help people migrate and understand what has become of the rules they've been using. I guess that ties in somewhat with the discussions in #1773. (It would also be good to review those friendly names with respect to each other to ensure they make sense where they've been implemented in little islands before, e.g. <code>reraise-no-cause</code> might be better as <code>reraise-without-from</code>, <code>verbose-raise</code> might be better as <code>reraise-redundant-argument</code>, and <code>unnecessary-paren-on-raise-exception</code> could be <code>raise-with-empty-parentheses</code>?</p>
<p>[^1]: Might see if I can get around to this by dredging the issue tracker...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-01-30 16:11</div>
            <div class="timeline-body"><blockquote>
<p>But we don't really have any precedent for doing that.</p>
</blockquote>
<p>I think this furthers my point about:</p>
<blockquote>
<p>In a sense, the name of the plugin only feels relevant while transitioning to ruff.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 17:20</div>
            <div class="timeline-body"><p>@ngnpope - Yeah this all makes sense. I've written about it a bit before, mostly <a href="https://github.com/charliermarsh/ruff/issues/1992#issuecomment-1405497643">here</a>, but we'll eventually move towards a Ruff-first API that looks less like a Flake8 compatibility layer (while still retaining that layer). In that world, all of those rules can be categorized under the same <code>exceptions</code> category (or whatever's appropriate) rather than being split up by Flake8 plugins.</p>
<p>Soon, we're also going to enable a many-to-many mapping between these Flake8-like codes and the actual Ruff rules. So we'll be able to point both <code>TRY200</code> and <code>R100</code> to the same underlying rule, which would help too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-30 17:20</div>
            <div class="timeline-body"><p>I think the right thing to do here, for consistency, is to add this as <code>flake8-raise</code>, and then we can alias the <code>R100</code> and <code>R101</code> rules once aliasing is up and running.</p>
<p>However -- we should use a different prefix, as <code>R</code> is too generic. <code>RSE</code> or <code>RAI</code> would be reasonable to me?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ngnpope">@ngnpope</a> on 2023-01-30 17:22</div>
            <div class="timeline-body"><p>Agreed on switching the prefix. Either would work, but I guess <code>RSE</code> is potentially less likely to conflict with something else?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "[`flake8-raise`] Add Plugin and `R102` Rule" to "[`flake8-raise`] Add Plugin and `RSE102` Rule" by @saadmk11 on 2023-01-31 11:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/saadmk11">@saadmk11</a> on 2023-01-31 11:22</div>
            <div class="timeline-body"><blockquote>
<p>However -- we should use a different prefix, as <code>R</code> is too generic. <code>RSE</code> or <code>RAI</code> would be reasonable to me?</p>
</blockquote>
<p><code>RSE</code> sounds good to me. Updated the PR with it. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-01-31 23:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">plugin</span> added by @charliermarsh on 2023-01-31 23:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-01-31 23:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-01-31 23:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-02-01 03:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:55:54 UTC
    </footer>
</body>
</html>
