<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`pylint`] Implement `missing-maxsplit-arg` (`PLC0207`) - astral-sh/ruff #17454</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>pylint</code>] Implement <code>missing-maxsplit-arg</code> (<code>PLC0207</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17454">#17454</a>
        opened by <a href="https://github.com/vjurczenia">@vjurczenia</a>
        on 2025-04-17 22:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a></div>
            <div class="timeline-body">Summary
<p>Implements  <code>use-maxsplit-arg</code> (<code>PLC0207</code>)
https://pylint.readthedocs.io/en/latest/user_guide/messages/convention/use-maxsplit-arg.html</p>
<blockquote>
<p>Emitted when accessing only the first or last element of str.split().
The first and last element can be accessed by using str.split(sep, maxsplit=1)[0] or str.rsplit(sep, maxsplit=1)[-1] instead.</p>
</blockquote>
<p>This is part of <a href="https://github.com/astral-sh/ruff/issues/970">astral-sh/ruff#970</a></p>
Test Plan
<p><code>cargo test</code></p>
<p>Additionally compared Ruff output to Pylint:</p>
<pre><code>pylint --disable=all --enable=use-maxsplit-arg crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py

cargo run -p ruff -- check crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py --no-cache --select PLC0207
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Skylion007">@Skylion007</a> on 2025-04-18 16:13</div>
            <div class="timeline-body"><p>Does the original pylint handle slicing too (ie calling split but only using the first n elements)? If not, that would be a great generalization of this rule, maybe one that can be made ruff specific</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on 2025-04-18 18:29</div>
            <div class="timeline-body"><p>No, <a href="https://github.com/pylint-dev/pylint/blob/main/pylint/checkers/refactoring/recommendation_checker.py#L169">it only checks for indexes -1 and 0</a>, but making it more general is a very neat idea.</p>
<p>Having looked into the Pylint source just now, I also realize that this PR is missing the following functionality:</p>
<ul>
<li>checking the value of a variable used as the index</li>
<li>checking whether a variable used as the index might be mutated at runtime</li>
</ul>
<p>I&#x27;m happy to add this functionality to stay aligned with Pylint and would appreciate maintainer input on whether or not to implement the generalized rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-18 18:33</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-18 18:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/codes.rs</code>:192 on 2025-04-18 18:36</div>
            <div class="timeline-body"><p>New rules should be added to <code>RuleGroup::Preview</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-18 18:38</div>
            <div class="timeline-body"><p>I think making the rule more general (both by handling slices and by handling variables) sounds nice, but it&#x27;s also okay to add a simpler form of a rule first and extend it in follow-up PRs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-18 18:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-18 18:43</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+47 -0 violations, +0 -0 fixes in 14 projects; 41 projects unchanged)</p>
<a href="https://github.com/PlasmaPy/PlasmaPy">PlasmaPy/PlasmaPy</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/PlasmaPy/PlasmaPy/blob/5c17b8f3343a5cd403651201cbfa07bb1edcea1f/noxfile.py#L445">noxfile.py:445:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/apache/airflow">apache/airflow</a> (+9 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/dev/backport/update_backport_status.py#L78">dev/backport/update_backport_status.py:78:21:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/dev/breeze/src/airflow_breeze/commands/common_options.py#L442">dev/breeze/src/airflow_breeze/commands/common_options.py:442:26:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/dev/breeze/src/airflow_breeze/commands/release_management_commands.py#L2625">dev/breeze/src/airflow_breeze/commands/release_management_commands.py:2625:50:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/dev/breeze/src/airflow_breeze/prepare_providers/provider_documentation.py#L658">dev/breeze/src/airflow_breeze/prepare_providers/provider_documentation.py:658:34:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/dev/breeze/src/airflow_breeze/utils/run_utils.py#L118">dev/breeze/src/airflow_breeze/utils/run_utils.py:118:25:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/dev/breeze/src/airflow_breeze/utils/version_utils.py#L44">dev/breeze/src/airflow_breeze/utils/version_utils.py:44:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L66">providers/amazon/tests/system/amazon/aws/example_bedrock.py:66:24:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/providers/amazon/tests/system/amazon/aws/example_glue.py#L76">providers/amazon/tests/system/amazon/aws/example_glue.py:76:12:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/airflow/blob/9d31c74ec8b40275d11beb1a790268ebf633827e/scripts/in_container/install_airflow_and_providers.py#L32">scripts/in_container/install_airflow_and_providers.py:32:21:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/apache/superset">apache/superset</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/superset/blob/ea5a609d0b7014f264a54dab1381d3dac6e494ff/tests/common/query_context_generator.py#L214">tests/common/query_context_generator.py:214:29:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/apache/superset/blob/ea5a609d0b7014f264a54dab1381d3dac6e494ff/tests/common/query_context_generator.py#L255">tests/common/query_context_generator.py:255:22:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+3 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/io/notebook.py#L663">src/bokeh/io/notebook.py:663:26:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/util/token.py#L142">src/bokeh/util/token.py:142:41:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/util/token.py#L155">src/bokeh/util/token.py:155:41:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/freedomofpress/securedrop">freedomofpress/securedrop</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/freedomofpress/securedrop/blob/db43b77698ff53df9386cd9e822840597f57ba32/securedrop/store.py#L345">securedrop/store.py:345:49:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/ibis-project/ibis">ibis-project/ibis</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/ibis-project/ibis/blob/28fb8d5a24501faf648acf55c649a4df72c8b876/ibis/examples/gen_registry.py#L125">ibis/examples/gen_registry.py:125:52:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (+9 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/_api/deprecation.py#L362">libs/core/langchain_core/_api/deprecation.py:362:17:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/_api/deprecation.py#L362">libs/core/langchain_core/_api/deprecation.py:362:56:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/_api/deprecation.py#L370">libs/core/langchain_core/_api/deprecation.py:370:17:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/_api/deprecation.py#L371">libs/core/langchain_core/_api/deprecation.py:371:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/_api/deprecation.py#L475">libs/core/langchain_core/_api/deprecation.py:475:24:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/_api/deprecation.py#L494">libs/core/langchain_core/_api/deprecation.py:494:27:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/runnables/graph_mermaid.py#L157">libs/core/langchain_core/runnables/graph_mermaid.py:157:24:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/utils/mustache.py#L85">libs/core/langchain_core/utils/mustache.py:85:19:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/langchain-ai/langchain/blob/b808d272849516d1c0b902421edf1933a87d9afa/libs/core/langchain_core/utils/utils.py#L140">libs/core/langchain_core/utils/utils.py:140:32:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/pandas-dev/pandas/blob/f2f24a9d4396da43fad1d6f5145f85f6e1f5386c/pandas/compat/_optional.py#L166">pandas/compat/_optional.py:166:14:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/pypa/cibuildwheel">pypa/cibuildwheel</a> (+3 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/pypa/cibuildwheel/blob/7e099863cdbe9f0c241aa5ef52747f2db6b6f310/bin/update_pythons.py#L150">bin/update_pythons.py:150:22:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/pypa/cibuildwheel/blob/7e099863cdbe9f0c241aa5ef52747f2db6b6f310/cibuildwheel/platforms/macos.py#L153">cibuildwheel/platforms/macos.py:153:31:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/pypa/cibuildwheel/blob/7e099863cdbe9f0c241aa5ef52747f2db6b6f310/cibuildwheel/selector.py#L78">cibuildwheel/selector.py:78:26:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/rotki/rotki">rotki/rotki</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/rotki/rotki/blob/9970528f5ce011c0db45926b43711d6e402e32a6/rotkehlchen/assets/converters.py#L417">rotkehlchen/assets/converters.py:417:17:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (+11 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/lib/send_email.py#L287">zerver/lib/send_email.py:287:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/lib/send_email.py#L429">zerver/lib/send_email.py:429:21:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/lib/upload/local.py#L67">zerver/lib/upload/local.py:67:17:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/lib/upload/s3.py#L176">zerver/lib/upload/s3.py:176:25:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/lib/webhooks/common.py#L242">zerver/lib/webhooks/common.py:242:26:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/lib/webhooks/common.py#L269">zerver/lib/webhooks/common.py:269:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/middleware.py#L228">zerver/middleware.py:228:49:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/views/upload.py#L374">zerver/views/upload.py:374:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/webhooks/gitlab/view.py#L46">zerver/webhooks/gitlab/view.py:46:36:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/webhooks/stripe/view.py#L356">zerver/webhooks/stripe/view.py:356:39:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/zulip/zulip/blob/66c123dd437cdfc3711cb111e184667d2e307ecb/zerver/webhooks/wekan/view.py#L15">zerver/webhooks/wekan/view.py:15:12:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/wntrblm/nox">wntrblm/nox</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/wntrblm/nox/blob/382fc8c36292056d315929dad59cb12e74bdfb92/tests/test_sessions.py#L1199">tests/test_sessions.py:1199:44:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/pytest-dev/pytest">pytest-dev/pytest</a> (+3 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/pytest-dev/pytest/blob/f59e1ad661832f18bce28a9522be2c6d37485d09/src/_pytest/config/findpaths.py#L160">src/_pytest/config/findpaths.py:160:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/pytest-dev/pytest/blob/f59e1ad661832f18bce28a9522be2c6d37485d09/src/_pytest/terminal.py#L1007">src/_pytest/terminal.py:1007:40:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
+ <a href="https://github.com/pytest-dev/pytest/blob/f59e1ad661832f18bce28a9522be2c6d37485d09/src/_pytest/terminal.py#L459">src/_pytest/terminal.py:459:41:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

<a href="https://github.com/astropy/astropy">astropy/astropy</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/astropy/astropy/blob/863b40e2e18d0ffe0374a7379d6f7828c89ecabe/astropy/io/ascii/latex.py#L443">astropy/io/ascii/latex.py:443:16:</a> PLC0207 Accessing only the first or last element of `str.split()` without setting `maxsplit=1`
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PLC0207 | 47 | 47 | 0 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-18 18:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:113 on 2025-04-18 18:49</div>
            <div class="timeline-body"><p>The ecosystem check turned up some results like this:</p>
<pre><code>ext = file_path.rsplit(&quot;.&quot;, 2)[-1].lower()
</code></pre>
<p>The <code>maxsplit</code> argument doesn&#x27;t have to be passed as a keyword. We have a <code>find_argument_value</code> helper that should handle this and also extract the value for your comparison to 1:</p>
<p>https://github.com/astral-sh/ruff/blob/1108f662e47e8ff5456f00e5a0742f1cd9e95852/crates/ruff_python_ast/src/nodes.rs#L2854-L2859</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-18 18:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:113 on 2025-04-18 18:50</div>
            <div class="timeline-body"><p>Oh I see, you&#x27;re doing the positional comparison below, and this is a true positive because the <code>maxsplit</code> value also needs to be 1. In any case, this should help to combine the keyword and positional checks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-04-20 18:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/codes.rs</code>:192 on 2025-04-20 18:28</div>
            <div class="timeline-body"><p>Updated <a href="https://github.com/astral-sh/ruff/pull/17454/commits/38a9c81675e083775917671c47128af0ba297110">here</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-04-20 18:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:113 on 2025-04-20 18:40</div>
            <div class="timeline-body"><p>It&#x27;s way neater with <code>find_argument_value</code>, so thanks for that!</p>
<p>However, this ecosystem check failure had me re-evaluate the test included, so I compared it to the Pylint one and noticed that <code>maxsplit=2</code> should be a <a href="https://github.com/pylint-dev/pylint/blob/7d6f3f230e038eabee2efc75628329fe74aa943e/tests/functional/u/use/use_maxsplit_arg.py#L25">passing case</a>. The relevant Pylint source is <a href="https://github.com/pylint-dev/pylint/blob/main/pylint/checkers/refactoring/recommendation_checker.py#L139">here</a>.</p>
<p>Following that discovery, I&#x27;ve updated the test cases to closer match the Pylint ones, which left me with <a href="https://github.com/vjurczenia/ruff/blob/vjurczenia/missing_maxsplit_arg/crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py#L62">a few that require additional implementation</a>. These will require identifying:</p>
<ul>
<li>when split is called on slices of strings</li>
<li>kwargs set via unpacked dicts</li>
<li>if index is set via variable</li>
<li>if the index variable is modified in a loop (that includes the split call)</li>
<li>if split is called on a static class member that happens to be a string (I&#x27;m uncertain about this one, but think it should be possible.)</li>
<li>if split is called on a method that returns a string (I&#x27;m uncertain that this one is possible.)</li>
</ul>
<p>As before, any advice is appreciated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by <a href="https://github.com/vjurczenia">@vjurczenia</a> on 2025-04-23 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-04-23 00:57</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:113 on 2025-04-23 00:57</div>
            <div class="timeline-body"><blockquote>
<p>if split is called on a static class member that happens to be a string</p>
</blockquote>
<p>I&#x27;ve just managed to figure this one out, and its given me a bit of a confidence boost on the rest of them, so I&#x27;ve converted this PR to a Draft until they&#x27;re done.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-23 15:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:113 on 2025-04-23 15:06</div>
            <div class="timeline-body"><p>Awesome, thanks for the update and for your work on this. Ping me again if you end up needing help. I&#x27;m also happy merging a simpler first draft of the rule that we can expand later, if these end up being trickier than you want to deal with!</p>
<p>If it comes to that, let&#x27;s just include tests for the unhandled cases with clear TODO comments for future work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-12 21:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:113 on 2025-05-12 21:22</div>
            <div class="timeline-body"><p>Hi @ntBre , hope all is well. Sorry for the delay on getting back to this.</p>
<p>As you can see from my most recent commits, I&#x27;ve managed to get through a few of the cases I had listed. However, I think I&#x27;ve hit a bit of a wall with the rest. The remaining ones are:</p>
<ul>
<li>if index is set via a variable</li>
<li>if the index variable is modified in a loop (that includes the split call)</li>
<li>if split is called on a method that returns a string</li>
<li>if kwargs are set via an unpacked dict variable</li>
</ul>
<p>I&#x27;ve documented these as TODO in the test, and am happy to go ahead with merging this simpler first draft if you are.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/vjurczenia">@vjurczenia</a> on 2025-05-12 21:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:17 on 2025-05-14 17:07</div>
            <div class="timeline-body"><pre><code>/// Calling `str.split()` without `maxsplit` set splits on every delimiter in the
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:78 on 2025-05-14 17:14</div>
            <div class="timeline-body"><p>Should we use <code>let-else</code> here since the else branch is just <code>return</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:88 on 2025-05-14 17:21</div>
            <div class="timeline-body"><p>Could you add a comment here explaining what this is for? It looks like you&#x27;re recursing into nested subscripts, but I didn&#x27;t see any tests that would exercise that. I could be missing something here, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:111 on 2025-05-14 17:24</div>
            <div class="timeline-body"><p>This might be nice as a little <code>is_string</code> helper function here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:117 on 2025-05-14 17:53</div>
            <div class="timeline-body"><p>I think it would be pretty unusual to pass an unpacked literal dict, and we don&#x27;t handle this case in a somewhat similar rule <a href="https://docs.astral.sh/ruff/rules/split-static-string/#split-static-string-sim905">split-static-string (SIM905)</a>.</p>
<p>Actually we currently mishandle that case in SIM905, so maybe it is worth keeping here. I opened an issue to track this as a broader problem: <a href="https://github.com/astral-sh/ruff/issues/18101">astral-sh/ruff#18101</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py</code>:132 on 2025-05-14 18:04</div>
            <div class="timeline-body"><p>It would be fine to uncomment these just to confirm that they aren&#x27;t currently handled. You could also update your nice <code># [missing-maxsplit-arg]</code> comments to look like <code># TODO: [missing-maxsplit-arg]</code>. That&#x27;s not special here in ruff, but that&#x27;s similar to what we do for our ty mdtests, and it looks nice in the diff when removing the TODOs eventually.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py</code>:142 on 2025-05-14 18:06</div>
            <div class="timeline-body"><p>I think there was a recent change that <em>might</em> allow <code>typing::is_string</code> to detect these cases, actually! No worries if not though, it&#x27;s more a limitation of the helper function than the rule implementation. (It might be worth noting something like that for some of the TODO cases).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-05-14 18:13</div>
            <div class="timeline-body"><p>Thanks, this is looking great! I think this would be a good place to finish this PR and leave other extensions as follow-ups, as you said. It could be fun to add an auto-fix for this rule, as another follow-up, if you&#x27;re interested :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-15 23:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:17 on 2025-05-15 23:38</div>
            <div class="timeline-body"><p>Done in <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/b67bc213675034a4e1d2c54a73cd564619dac15e</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-15 23:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:78 on 2025-05-15 23:39</div>
            <div class="timeline-body"><p>Absolutely. Done in <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/b67bc213675034a4e1d2c54a73cd564619dac15e</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-15 23:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:88 on 2025-05-15 23:45</div>
            <div class="timeline-body"><p>Sure, I&#x27;&#x27;ve added a comment here <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/b67bc213675034a4e1d2c54a73cd564619dac15e</p>
<p>The test case for this is <code>&quot;1,2,3&quot;[::-1][::-1].split(&quot;,&quot;)[0]</code> since while theoretically you could slice a slice ad infinitum, slicing a slice just once should be enough to demonstrate the functionality.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-15 23:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:111 on 2025-05-15 23:45</div>
            <div class="timeline-body"><p>Agreed it&#x27;s a bit neater with the helper function. Added here <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/b67bc213675034a4e1d2c54a73cd564619dac15e</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-15 23:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py</code>:132 on 2025-05-15 23:52</div>
            <div class="timeline-body"><p>I like that idea, so I&#x27;ve actioned it here <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/b67bc213675034a4e1d2c54a73cd564619dac15e</p>
<p>One thing to note is that, uncommented, these test cases give us false positive errors:</p>
<pre><code>## Test unpacked dict instance kwargs 
# Errors
kwargs_without_maxsplit = {&quot;seq&quot;: &quot;,&quot;}
&quot;1,2,3&quot;.split(**kwargs_without_maxsplit)[0]  # TODO: [missing-maxsplit-arg]
# OK
kwargs_with_maxsplit = {&quot;maxsplit&quot;: 1}
&quot;1,2,3&quot;.split(&quot;,&quot;, **kwargs_with_maxsplit)[0]
kwargs_with_maxsplit = {&quot;sep&quot;: &quot;,&quot;, &quot;maxsplit&quot;: 1}
&quot;1,2,3&quot;.split(**kwargs_with_maxsplit)[0]
</code></pre>
<p>I think this is fine, it&#x27;s very clear in the test file that these are TODO.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-16 00:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:117 on 2025-05-16 00:00</div>
            <div class="timeline-body"><p>Neat. I agree it&#x27;s a bit of a silly case, but handling it brings us closer to pylint&#x27;s behavior.</p>
<p>Thanks for the shoutout in that other issue!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-16 00:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py</code>:142 on 2025-05-16 00:16</div>
            <div class="timeline-body"><p>I went ahead and rebased locally to get the most recent implementation of the helper and couldn&#x27;t get it to recognize the return of my test method <code>def get_string(self) -&gt; str:</code> as a string.</p>
<p>However, I did add some more comments to the tests here <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/378de24b52341eb06ec8fea67c3a8cc53cffc6a4</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-05-19 21:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:88 on 2025-05-19 21:11</div>
            <div class="timeline-body"><p>That makes sense, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:66 on 2025-05-19 21:25</div>
            <div class="timeline-body"><pre><code>fn is_string(expr: &amp;Expr, semantic: &amp;SemanticModel) -&gt; bool {
    if let Expr::Name(name) = expr {
        semantic
            .only_binding(name)
            .is_some_and(|binding_id| typing::is_string(semantic.binding(binding_id), semantic))
    } else if let Some(binding_id) = semantic.lookup_attribute(expr) {
        typing::is_string(semantic.binding(binding_id), semantic)
    } else {
        expr.is_string_literal_expr()
    }
}
</code></pre>
<p>Something like this might be a little neater.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py</code>:184 on 2025-05-19 21:31</div>
            <div class="timeline-body"><p>It might be good to have a <code># TODO: false positive</code> comment here just to make it totally clear without seeing the heading (like in the snapshots).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-05-19 21:33</div>
            <div class="timeline-body"><p>Thank you, this looks great!</p>
<p>I had two minor nits but this is otherwise good to go.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-19 23:40</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/src/rules/pylint/rules/missing_maxsplit_arg.rs</code>:66 on 2025-05-19 23:40</div>
            <div class="timeline-body"><p>It absolutely is. The original looks downright goofy now that I&#x27;m looking back on it.</p>
<p>Applied suggestion as part of <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/5997aa77f4c3c15c5909dd31165903fdbded9124</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vjurczenia">@vjurczenia</a> reviewed on 2025-05-19 23:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/vjurczenia">@vjurczenia</a> on <code>crates/ruff_linter/resources/test/fixtures/pylint/missing_maxsplit_arg.py</code>:184 on 2025-05-19 23:41</div>
            <div class="timeline-body"><p>Sounds good to me, added in <a href="https://github.com/astral-sh/ruff/pull/17454">astral-sh/ruff#17454</a>/commits/5997aa77f4c3c15c5909dd31165903fdbded9124</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-05-28 20:30</div>
            <div class="timeline-body"><p>Thanks again, this is great!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-28 20:39</div>
            <div class="timeline-body"><p>I merged <code>main</code> to pick up our rust version updates and then ran <code>cargo fmt</code> to make CI happy</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;`[pylint]` Implement `missing-maxsplit-arg` (`PLC0207`)&quot; to &quot;[`pylint`] Implement `missing-maxsplit-arg` (`PLC0207`)&quot; by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-28 20:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-28 20:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-05-28 20:46</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:13:25 UTC
    </footer>
</body>
</html>
