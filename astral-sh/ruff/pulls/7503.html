<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat(rules): implement `flake8-bandit` `S201` (`flask_debug_true`) - astral-sh/ruff #7503</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat(rules): implement <code>flake8-bandit</code> <code>S201</code> (<code>flask_debug_true</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/7503">#7503</a>
        opened by <a href="https://github.com/mkniewallner">@mkniewallner</a>
        on 2023-09-19 00:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mkniewallner">@mkniewallner</a></div>
            <div class="timeline-body"><p>Part of #1646.</p>
Summary
<p>Implement <code>S201</code> (<a href="https://bandit.readthedocs.io/en/latest/plugins/b201_flask_debug_true.html"><code>flask_debug_true</code></a>) rule from <code>bandit</code>.</p>
<p>I am fairly new to Rust and Ruff&#x27;s codebase, so there might be better ways to implement the rule or write the code.</p>
Test Plan
<p>Snapshot test from https://github.com/PyCQA/bandit/blob/1.7.5/examples/flask_debug.py, with a few additions in the &quot;unrelated&quot; part to test a bit more cases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2023-09-19 00:12</div>
            <div class="timeline-body"><a href="https://codspeed.io/astral-sh/ruff/branches/mkniewallner:feat/add-flake8-bandit-S201">CodSpeed Performance Report</a>
Merging #7503 will <strong>improve performances by 2.29%</strong>
<p>Comparing <code>mkniewallner:feat/add-flake8-bandit-S201</code> (7ed0354) with <code>main</code> (40f6456)</p>
Summary
<p><code>⚡ 1</code> improvements
<code>✅ 24</code> untouched benchmarks</p>
Benchmarks breakdown
<p>|     | Benchmark | <code>main</code> | <code>mkniewallner:feat/add-flake8-bandit-S201</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ⚡ | <code>linter/all-rules[numpy/ctypeslib.py]</code> | 35 ms | 34.3 ms | +2.29% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/mkniewallner">@mkniewallner</a> on 2023-09-19 00:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-09-19 00:17</div>
            <div class="timeline-body">PR Check Results
Ecosystem
<p>✅ ecosystem check detected no changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/codes.rs</code>:576 on 2023-09-19 00:19</div>
            <div class="timeline-body"><p>We&#x27;re now in the habit of adding new rules under <code>RuleGroup::Preview</code> -- mind changing it here?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/flake8_bandit/rules/flask_debug_true.rs</code>:13 on 2023-09-19 00:19</div>
            <div class="timeline-body"><p>It&#x27;s annoying, but we manually format these to fit 80 characters, since they sometimes get printed to the terminal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/flake8_bandit/rules/flask_debug_true.rs</code>:57 on 2023-09-19 00:20</div>
            <div class="timeline-body"><p>You can reduce one level of indentation by doing:</p>
<pre><code>let Some(debug_argument) = call.arguments.find_keyword(&quot;debug&quot;) else {
    return;
};

...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/flake8_bandit/rules/flask_debug_true.rs</code>:62 on 2023-09-19 00:20</div>
            <div class="timeline-body"><p>Same here: can use <code>let</code>-<code>else</code> to reduce indentation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/resources/test/fixtures/flake8_bandit/S201.py</code>:9 on 2023-09-19 00:21</div>
            <div class="timeline-body"><p>For whatever reason, the comment we typically use here is <code># Errors</code> and then <code># OK</code> (instead of <code>#okay</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-09-19 00:21</div>
            <div class="timeline-body"><p>Looks great! Just some minor stuff.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 00:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> approved on 2023-09-19 00:37</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-09-19 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-09-19 00:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:57:28 UTC
    </footer>
</body>
</html>
