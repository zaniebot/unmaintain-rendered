<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-simplify`] Detect unnecessary `None` default for additional key expression types (`SIM910`) - astral-sh/ruff #20343</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-simplify</code>] Detect unnecessary <code>None</code> default for additional key expression types (<code>SIM910</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20343">#20343</a>
        opened by <a href="https://github.com/danparizher">@danparizher</a>
        on 2025-09-11 05:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/danparizher">@danparizher</a></div>
            <div class="timeline-body">Summary
<p>Fixes #20341</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-11 05:23</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+6 -0 violations, +0 -0 fixes in 4 projects; 51 projects unchanged)</p>
<a href="https://github.com/apache/superset">apache/superset</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/apache/superset/blob/95333e34b11b8d241d1680eb3ac222cb5d44280e/superset/commands/database/tables.py#L143">superset/commands/database/tables.py:143:34:</a> SIM910 [*] Use `extra_dict_by_name.get(table.table)` instead of `extra_dict_by_name.get(table.table, None)`
</pre>

</p>

<a href="https://github.com/binary-husky/gpt_academic">binary-husky/gpt_academic</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/binary-husky/gpt_academic/blob/3546f8c1c44994bcc2ef3b2b187619821f2c33e9/request_llms/bridge_all.py#L1304">request_llms/bridge_all.py:1304:31:</a> SIM910 [*] Use `dict.get()` without default value
</pre>

</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/zulip/zulip/blob/c7810afb334556f4d54150aff26ec47444c96edf/zerver/models/users.py#L736">zerver/models/users.py:736:28:</a> SIM910 [*] Use `user_data.get(field.id)` instead of `user_data.get(field.id, None)`
+ <a href="https://github.com/zulip/zulip/blob/c7810afb334556f4d54150aff26ec47444c96edf/zerver/tornado/event_queue.py#L1231">zerver/tornado/event_queue.py:1231:49:</a> SIM910 [*] Use `extra_user_data.get(client.user_profile_id)` instead of `extra_user_data.get(client.user_profile_id, None)`
</pre>

</p>

<a href="https://github.com/astropy/astropy">astropy/astropy</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/astropy/astropy/blob/653cb50936a089b6f948a9c4cb53dddfd50a2ba6/astropy/table/mixins/registry.py#L66">astropy/table/mixins/registry.py:66:16:</a> SIM910 [*] Use `dict.get()` without default value
+ <a href="https://github.com/astropy/astropy/blob/653cb50936a089b6f948a9c4cb53dddfd50a2ba6/astropy/wcs/wcsapi/fitswcs.py#L287">astropy/wcs/wcsapi/fitswcs.py:287:34:</a> SIM910 [*] Use `CTYPE_TO_UCD1.get(ctype_name.upper())` instead of `CTYPE_TO_UCD1.get(ctype_name.upper(), None)`
</pre>

</p>

Changes by rule (1 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| SIM910 | 6 | 6 | 0 | 0 | 0 |</p>
</p>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-09-11 19:50</div>
            <div class="timeline-body"><p>Thank you! Sorry for the hassle, but could you preview gate this too? This is a pretty big expansion in scope since it was restricted to only two types of expressions before.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-11 19:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-11 19:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/ntBre">@ntBre</a> by <a href="https://github.com/danparizher">@danparizher</a> on 2025-09-11 22:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/flake8_simplify/SIM910_preview.py</code>:18 on 2025-09-12 13:31</div>
            <div class="timeline-body"><p>This is actually just another <code>Expr::Name</code> as key since it&#x27;s assigned to a variable. Even the if expression itself is only a single <code>Expr::If</code>, but this is fine either way!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-09-12 14:06</div>
            <div class="timeline-body"><p>Thank you! I just pushed one quick commit recombining the two test files. It makes it a little easier to stabilize later if we&#x27;re already running the tests on both stable and preview.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-09-12 14:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/flake8_simplify/SIM910_preview.py</code>:18 on 2025-09-12 14:08</div>
            <div class="timeline-body"><p>(I inlined this too while I was at it)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[`flake8-simplify`] Detect unnecessary `None` default when key is a method call (`SIM910`)&quot; to &quot;[`flake8-simplify`] Detect unnecessary `None` default for additional key expression types (`SIM910`)&quot; by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-12 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-12 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/ntBre">@ntBre</a> on 2025-09-12 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-09-12 14:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:18:31 UTC
    </footer>
</body>
</html>
