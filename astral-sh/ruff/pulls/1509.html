<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check for Unsupported Files and Display Errors and Warnings - astral-sh/ruff #1509</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Check for Unsupported Files and Display Errors and Warnings</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/1509">#1509</a>
        opened by <a href="https://github.com/saadmk11">@saadmk11</a>
        on 2022-12-31 11:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/saadmk11">@saadmk11</a></div>
            <div class="timeline-body"><p>closes https://github.com/charliermarsh/ruff/issues/1473</p>
<p><strong>Reference:</strong></p>
<blockquote>
<ul>
<li>(Optional) If we don't find <em>any</em> files, show a warning.</li>
<li>If we're passed a non <code>.py</code> or <code>.pyi</code> file, raise an error for that file (but process any valid files).</li>
</ul>
</blockquote>
<p><em>Originally posted by @charliermarsh in https://github.com/charliermarsh/ruff/issues/1473#issuecomment-1368082842</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-12-31 13:12</div>
            <div class="timeline-body"><p>Thank you! I decided to make the &quot;unsupported file type&quot; thing a hard error. I may regret it, we'll see!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2022-12-31 13:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2022-12-31 13:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-12-31 13:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andersk">@andersk</a> on 2023-01-01 23:22</div>
            <div class="timeline-body"><p>Zulip has many Python scripts that are marked executable with a shebang line but without a <code>.py</code> extension. I think this should be reverted.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 23:31</div>
            <div class="timeline-body"><p>Do you want / expect those to be linted? If so, how have you linted them in the past, given that we only check <code>.py</code> and <code>.pyi</code> files?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 23:33</div>
            <div class="timeline-body"><p>We can change this to just attempt to lint them, which would raise a syntax error for any non-Python files that are passed directly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andersk">@andersk</a> on 2023-01-01 23:34</div>
            <div class="timeline-body"><p>We linted all files passed directly on the command line, regardless of extension, until pretty recently (I’m checking where this changed).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 23:35</div>
            <div class="timeline-body"><p>Okay, I'm happy to revert to that behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 23:36</div>
            <div class="timeline-body"><p>(I guess my question was: are you passing those directly on the command line?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andersk">@andersk</a> on 2023-01-01 23:36</div>
            <div class="timeline-body"><p>Yes, Zulip has a wrapper script that finds all the Python files in the Git repository via extensions and shebang lines, and passes them directly on the command line.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 23:37</div>
            <div class="timeline-body"><p>Ok, I can fix this later tonight. Or feel free to send a PR of course. Sorry for the trouble.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/andersk">@andersk</a> on 2023-01-01 23:39</div>
            <div class="timeline-body"><p><code>git bisect</code> shows this changed in #1241.</p>
<p>(The problem isn’t urgent for Zulip, since Zulip uses a pinned version of Ruff.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-01 23:40</div>
            <div class="timeline-body"><p>Tracking here: #1541</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:55:19 UTC
    </footer>
</body>
</html>
