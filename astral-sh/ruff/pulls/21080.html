<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`refurb`] Extend support for `Path.open` (`FURB101`, `FURB103`) - astral-sh/ruff #21080</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>refurb</code>] Extend support for <code>Path.open</code> (<code>FURB101</code>, <code>FURB103</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21080">#21080</a>
        opened by <a href="https://github.com/11happy">@11happy</a>
        on 2025-10-26 10:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/11happy">@11happy</a> on 2025-10-26 10:43</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff/ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title? (Please prefix with `[ty]` for ty pull
  requests.)
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<!-- What's the purpose of the change? What does it do, and why? -->

<p>This PR fixes https://github.com/astral-sh/ruff/issues/18409</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

<p>I have added tests in FURB103.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-10-26 10:53</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+15 -0 violations, +0 -0 fixes in 4 projects; 51 projects unchanged)</p>
<details><summary><a href="https://github.com/PlasmaPy/PlasmaPy">PlasmaPy/PlasmaPy</a> (+5 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/.github/scripts/authors_in_cff.py#L40'>.github/scripts/authors_in_cff.py:40:10:</a> FURB101 `Path.open()` followed by `read()` can be replaced by `pathlib.Path("CITATION.cff").read_text()`
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/.github/scripts/citation_updater.py#L69'>.github/scripts/citation_updater.py:69:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `citation_rst_file.write_text(citation_rst_text)`
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/docs/_author_list_from_cff.py#L193'>docs/_author_list_from_cff.py:193:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `pathlib.Path(rst_file).write_text(authors_rst, encoding="utf-8")`
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/docs/_global_substitutions.py#L217'>docs/_global_substitutions.py:217:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `pathlib.Path(rst_file).write_text(content, encoding="utf-8")`
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/data/test_downloader.py#L191'>tests/utils/data/test_downloader.py:191:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `filepath.write_text("Not data")`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (+3 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/langchain-ai/langchain/blob/71778cb72116ab896e89e288fcdede868ea4f395/libs/partners/chroma/langchain_chroma/vectorstores.py#L489'>libs/partners/chroma/langchain_chroma/vectorstores.py:489:14:</a> FURB101 `Path.open()` followed by `read()` can be replaced by `Path(uri).read_bytes()`
+ <a href='https://github.com/langchain-ai/langchain/blob/71778cb72116ab896e89e288fcdede868ea4f395/libs/standard-tests/langchain_tests/conftest.py#L70'>libs/standard-tests/langchain_tests/conftest.py:70:14:</a> FURB101 [*] `Path.open()` followed by `read()` can be replaced by `cassette_path.read_bytes()`
+ <a href='https://github.com/langchain-ai/langchain/blob/71778cb72116ab896e89e288fcdede868ea4f395/libs/standard-tests/langchain_tests/conftest.py#L88'>libs/standard-tests/langchain_tests/conftest.py:88:14:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `cassette_path.write_bytes(data)`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/scikit-build/scikit-build-core">scikit-build/scikit-build-core</a> (+6 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/20153a10c0e967198cd1a47b4b0796a6aae5d6d0/src/scikit_build_core/ast/ast.py#L88'>src/scikit_build_core/ast/ast.py:88:10:</a> FURB101 `Path.open()` followed by `read()` can be replaced by `Path(sys.argv[1]).read_text(encoding="utf-8-sig")`
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/20153a10c0e967198cd1a47b4b0796a6aae5d6d0/src/scikit_build_core/ast/tokenizer.py#L77'>src/scikit_build_core/ast/tokenizer.py:77:10:</a> FURB101 `Path.open()` followed by `read()` can be replaced by `Path(sys.argv[1]).read_text(encoding="utf-8-sig")`
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/20153a10c0e967198cd1a47b4b0796a6aae5d6d0/src/scikit_build_core/metadata/regex.py#L58'>src/scikit_build_core/metadata/regex.py:58:10:</a> FURB101 `Path.open()` followed by `read()` can be replaced by `Path(input_filename).read_text(encoding="utf-8")`
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/20153a10c0e967198cd1a47b4b0796a6aae5d6d0/tests/test_dynamic_metadata.py#L274'>tests/test_dynamic_metadata.py:274:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `Path("__init__.py").write_text("__version__ = '0.1.0'")`
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/20153a10c0e967198cd1a47b4b0796a6aae5d6d0/tests/test_dynamic_metadata.py#L290'>tests/test_dynamic_metadata.py:290:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `Path("version.hpp")....`
+ <a href='https://github.com/scikit-build/scikit-build-core/blob/20153a10c0e967198cd1a47b4b0796a6aae5d6d0/tests/test_dynamic_metadata.py#L326'>tests/test_dynamic_metadata.py:326:10:</a> FURB103 [*] `Path.open()` followed by `write()` can be replaced by `Path("version.hpp")....`
</pre>

</p>
</details>
<details><summary><a href="https://github.com/indico/indico">indico/indico</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/indico/indico/blob/158b2a603253b4099d4943b3efa31b33e4fbe908/indico/vendor/django_mail/message.py#L369'>indico/vendor/django_mail/message.py:369:14:</a> FURB101 `Path.open()` followed by `read()` can be replaced by `path.read_bytes()`
</pre>

</p>
</details>
<details><summary>Changes by rule (2 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| FURB103 | 8 | 8 | 0 | 0 | 0 |
| FURB101 | 7 | 7 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-10-29 19:31</div>
            <div class="timeline-body"><p>@MichaReiser would appreciate your feedback on this whenever you get some time.</p>
<p>Thank you : )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/snapshots/ruff_linter__rules__refurb__tests__preview_FURB103_FURB103.py.snap</code>:1 on 2025-10-30 19:39</div>
            <div class="timeline-body"><p>Oh, I didn't notice this when reviewing #20520, but <code>FURB101</code> and <code>FURB103</code> are already preview rules, so we don't actually need the additional preview checks on their fixes (or these preview tests/snapshot files). Feel free to follow up on that, I think it's fine to leave it for a separate PR, though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/snapshots/ruff_linter__rules__refurb__tests__preview_FURB103_FURB103.py.snap</code>:285 on 2025-10-30 19:41</div>
            <div class="timeline-body"><p>I don't think we need to add the pathlib import for cases where the input was already a <code>Path</code>. We're just adding another method call onto the existing <code>Path</code>.</p>
<p>Ah, this might actually be highlighting a different issue. If <code>pathlib.Path</code> hasn't been imported, we shouldn't be applying the rule since this could be something else that just happens to be named <code>Path</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:270 on 2025-10-30 19:45</div>
            <div class="timeline-body"><p>Ah yeah, I think we need to be resolving the qualified name here. We may also be able to use our existing pathlib typing check:</p>
<p>https://github.com/astral-sh/ruff/blob/16b9b92182b7457478281e0cdfe4d14c74f33d13/crates/ruff_python_semantic/src/analyze/typing.rs#L1120-L1124</p>
<p>https://github.com/astral-sh/ruff/blob/16b9b92182b7457478281e0cdfe4d14c74f33d13/crates/ruff_python_semantic/src/analyze/typing.rs#L925-L928</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:293 on 2025-10-30 19:46</div>
            <div class="timeline-body"><p>It feels like we should probably be able to reuse some more code from <code>find_file_open</code> instead of duplicating the whole thing, but maybe they're different enough that that's not true.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/rules/write_whole_file.rs</code>:73 on 2025-10-30 19:48</div>
            <div class="timeline-body"><p>I don't feel too strongly about this, but I kind of think the old message applies well enough to both cases and we could just leave it alone and not need to track <code>is_path_open</code> in the <code>Violation</code> struct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> requested changes on 2025-10-30 19:50</div>
            <div class="timeline-body"><p>Thanks for working on this!</p>
<p>I think we need to be a bit more careful with how we identify existing <code>Path</code> instances and hopefully we can deduplicate some code too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-10-30 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @ntBre on 2025-10-30 19:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-10-30 20:08</div>
            <div class="timeline-body"><p>It might be helpful to reuse <code>is_open_call_from_pathlib</code> from ASYNC230: https://github.com/astral-sh/ruff/blob/1c7ea690a820deaa0e17ecf72593ebc4781f3752/crates/ruff_linter/src/rules/flake8_async/rules/blocking_open_call.rs#L73</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/amyreese">@amyreese</a> on 2025-10-30 20:11</div>
            <div class="timeline-body"><p>Alternately PathlibPathChecker which can also match annotations: https://github.com/astral-sh/ruff/blob/1c7ea690a820deaa0e17ecf72593ebc4781f3752/crates/ruff_linter/src/rules/flake8_async/rules/blocking_path_methods.rs#L161</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-02 13:15</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/snapshots/ruff_linter__rules__refurb__tests__preview_FURB103_FURB103.py.snap</code>:285 on 2025-11-02 13:15</div>
            <div class="timeline-body"><p>with the new name resolution utilizing the <code>is_open_call_from_pathlib</code> its not firing if pathlib.path has not been imported.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-02 13:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:270 on 2025-11-02 13:16</div>
            <div class="timeline-body"><p>sure, I have used <code>is_open_call_from_pathlib</code> as suggested by @amyreese howevr had to make the function public.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-02 13:17</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/rules/write_whole_file.rs</code>:73 on 2025-11-02 13:17</div>
            <div class="timeline-body"><p>I personally feel its a little bit more clear, however would be happy to change if you insist.
Thank  you : )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-11-02 13:18</div>
            <div class="timeline-body"><p>the common helper has too many arguments causing the clippy error, should I break it down ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-02 13:19</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:293 on 2025-11-02 13:19</div>
            <div class="timeline-body"><p>yes have extracted the common logic from both functions. currently named it <code>resolve_file_open</code> would be happy to change if you have any suggestions.
Thank you : )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-03 15:05</div>
            <div class="timeline-body"><blockquote>
<p>the common helper has too many arguments causing the clippy error, should I break it down ?</p>
</blockquote>
<p>I think it's okay just to add <code>#[expect(clippy::too_many_arguments)]</code> on the function.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/rules/write_whole_file.rs</code>:73 on 2025-11-03 15:05</div>
            <div class="timeline-body"><p>Sounds good, we can leave it then!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/resources/test/fixtures/refurb/FURB103.py</code>:1 on 2025-11-03 15:11</div>
            <div class="timeline-body"><p>I think we might want a separate file for these new tests and this import. We're losing a lot of snapshot changes where the fix needed to add this import.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:5 on 2025-11-03 15:14</div>
            <div class="timeline-body"><p>Can you move these back down to a separate <code>crate</code> import block like we had before? Stable rustfmt still doesn't handle this, unfortunately.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:271 on 2025-11-03 15:47</div>
            <div class="timeline-body"><p>Are we missing some of the argument validation code from <code>find_file_open</code>, especially these lines:</p>
<pre><code class="language-rust">    if args.iter().any(Expr::is_starred_expr)
        || keywords.iter().any(|keyword| keyword.arg.is_none())
    {
        return None;
    }
</code></pre>
<p>I also think we're doing too much inspection on the <code>attr.value</code>. For example, I think <code>is_open_call_from_pathlib</code> should be able to identify a case like this:</p>
<pre><code class="language-py">p = Path(&quot;file.txt&quot;)
with p.open(&quot;r&quot;) as f:
    f.write(&quot;test&quot;)
</code></pre>
<p>but the current implementation expects a literal <code>Path()</code> call, not a name that resolves to a <code>Path</code>.</p>
<p>We might need to make the <code>filename</code> field optional on the <code>FileOpen</code> struct.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-11-03 15:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-06 12:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/resources/test/fixtures/refurb/FURB103.py</code>:1 on 2025-11-06 12:37</div>
            <div class="timeline-body"><p>done I have added a seperate file suffixed _EXT</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:5 on 2025-11-06 12:37</div>
            <div class="timeline-body"><p>done</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-06 12:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-06 12:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:271 on 2025-11-06 12:38</div>
            <div class="timeline-body"><p>done , also the message is formatted accordingly but i feel its getting nested &amp; dosent feel good , not sure although</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-06 12:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:271 on 2025-11-06 12:41</div>
            <div class="timeline-body"><p>also I have not added any comments yet , should i add similar comments like <code>find_file_open</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-11-10 12:32</div>
            <div class="timeline-body"><p>Would you mind rebasing your PR? Doing so will allow us to merge your PR without delayed once reviewed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-11-10 13:27</div>
            <div class="timeline-body"><p>done rebased it &amp; resolved merge conflicts : )
Thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:283 on 2025-11-10 15:33</div>
            <div class="timeline-body"><p>I don't think this is quite right. <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><code>pathlib.Path</code></a> takes <code>*args</code>, so it can be called like this:</p>
<pre><code class="language-pycon">&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; Path(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;)
PosixPath('foo/bar/baz')
</code></pre>
<p>Taking only the first element would give the wrong result.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/snapshots/ruff_linter__rules__refurb__tests__FURB103_FURB103_1.py.snap</code>:131 on 2025-11-10 15:49</div>
            <div class="timeline-body"><p>Should this case have a fix?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-11-10 15:59</div>
            <div class="timeline-body"><p>Thanks for rebasing and for your work on this! I pushed a commit fixing a few nits but then noticed a few more minor issues. The implementation feels a bit complicated to me now, I want to keep thinking about it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-12 06:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:283 on 2025-11-12 06:28</div>
            <div class="timeline-body"><p>actually this is handeled correctly already as we are we are using <code>path_obj</code> in fix generation
also have changed to require filename only in none case</p>
<pre><code>let target = if let Some(path_obj) = open.path_obj {
        locator.slice(path_obj.range()).to_string()
    } else {
        let filename = open.filename?;
        let filename_code = locator.slice(filename.range());
        format!(&quot;{binding}({filename_code})&quot;)
    };
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-12 06:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:283 on 2025-11-12 06:29</div>
            <div class="timeline-body"><p>i think filename is redundant in path open cases as we are send <code>path_obj</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-12 06:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/snapshots/ruff_linter__rules__refurb__tests__FURB103_FURB103_1.py.snap</code>:131 on 2025-11-12 06:31</div>
            <div class="timeline-body"><p>I believe for this case we can have a fix, but would like to know your opinion on this .
Thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-11-12 06:33</div>
            <div class="timeline-body"><blockquote>
<p>Thanks for rebasing and for your work on this! I pushed a commit fixing a few nits but then noticed a few more minor issues. The implementation feels a bit complicated to me now, I want to keep thinking about it.</p>
</blockquote>
<p>I agree with you implementation is complex ,felt the same, would appreciate any pointers to decomplicate/refactor it ?
Thank you : )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/11happy">@11happy</a> reviewed on 2025-11-12 06:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/11happy">@11happy</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:283 on 2025-11-12 06:33</div>
            <div class="timeline-body"><p>have added the case</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/snapshots/ruff_linter__rules__refurb__tests__FURB103_FURB103_1.py.snap</code>:131 on 2025-11-19 20:29</div>
            <div class="timeline-body"><p>Sorry, yeah, I thought it should have a fix. This looks good now!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-11-19 20:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-11-19 20:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/refurb/helpers.rs</code>:283 on 2025-11-19 20:31</div>
            <div class="timeline-body"><p>Thanks, the new test looks good!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-11-19 21:44</div>
            <div class="timeline-body"><p>I just pushed a commit trying out an <code>OpenArgument</code> enum since the <code>path_obj</code> field and <code>filename</code> field were basically mutually exclusive. I think this makes things a little simpler, but I'm curious to get your thoughts on it too. I think the only remaining thing I don't love is the <code>is_path_open</code> check on the <code>Violation</code> struct. Maybe we could use the whole suggestion we generate for the fix in the error message?</p>
<p>I also fixed some new merge conflicts while I was here.</p>
<p>I also noticed that we haven't updated the code for FURB102, even though it's quite similar to FURB103. Do you want to do that in a follow-up PR?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-11-20 17:22</div>
            <div class="timeline-body"><blockquote>
<p>I just pushed a commit trying out an <code>OpenArgument</code> enum since the <code>path_obj</code> field and <code>filename</code> field were basically mutually exclusive. I think this makes things a little simpler, but I'm curious to get your thoughts on it too. I think the only remaining thing I don't love is the <code>is_path_open</code> check on the <code>Violation</code> struct. Maybe we could use the whole suggestion we generate for the fix in the error message?</p>
<p>I also fixed some new merge conflicts while I was here.</p>
<p>I also noticed that we haven't updated the code for FURB102, even though it's quite similar to FURB103. Do you want to do that in a follow-up PR?</p>
</blockquote>
<p>Thank you for these updates, will go through the commit in detail &amp; will share my thoughts, I am also interested to work on the follow up PR for FURB102 , I feel a little occupied this week but will update this PR &amp; my other open PRs soon.
Thanks again : )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-11-26 12:41</div>
            <div class="timeline-body"><blockquote>
<p>I just pushed a commit trying out an <code>OpenArgument</code> enum since the <code>path_obj</code> field and <code>filename</code> field were basically mutually exclusive. I think this makes things a little simpler, but I'm curious to get your thoughts on it too. I think the only remaining thing I don't love is the <code>is_path_open</code> check on the <code>Violation</code> struct. Maybe we could use the whole suggestion we generate for the fix in the error message?</p>
</blockquote>
<p>Yes, with the new OpenArgument enum code is a lot cleaner, what do you think of using <code>OpenArgument</code> directly instead of <code>is_path_open</code>  ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @ntBre by @11happy on 2025-12-01 06:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-12-16 20:58</div>
            <div class="timeline-body"><p>Thank you! The code for FURB103  looks good to me now, your last commit was a nice improvement :)</p>
<p>Based on the ecosystem report, this is already affecting FURB101 too (I had the wrong rule code when I mentioned FURB102 earlier). Would you mind going ahead and updating the FURB101 code and adding a test for it? I don't think it makes as much sense to save that for a follow-up if we already changed the rule's behavior here.</p>
<p>I think it's mostly just the <code>message</code>, <code>fix_title</code>, and <code>filename_code</code> that need to be updated, most of the logic is already in the shared helpers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/11happy">@11happy</a> on 2025-12-17 11:14</div>
            <div class="timeline-body"><blockquote>
<p>Thank you! The code for FURB103 looks good to me now, your last commit was a nice improvement :)</p>
<p>Based on the ecosystem report, this is already affecting FURB101 too (I had the wrong rule code when I mentioned FURB102 earlier). Would you mind going ahead and updating the FURB101 code and adding a test for it? I don't think it makes as much sense to save that for a follow-up if we already changed the rule's behavior here.</p>
<p>I think it's mostly just the <code>message</code>, <code>fix_title</code>, and <code>filename_code</code> that need to be updated, most of the logic is already in the shared helpers.</p>
</blockquote>
<p>done, to keep it consistent with FURB103 separated the tests for FURB101, also should I add more tests ?
Thank  you : )</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-12-17 14:17</div>
            <div class="timeline-body"><p>Thank you! I think this is enough testing for FURB101 since most of the tricky code is shared with FURB103.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Extend support for Path.Open in FURB103" to "[`refurb`] Extend support for `Path.open` (`FURB101`, `FURB103`)" by @ntBre on 2025-12-17 14:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ntBre on 2025-12-17 14:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-12-17 14:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 16:42:34 UTC
    </footer>
</body>
</html>
