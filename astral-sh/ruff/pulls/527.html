<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add a Flake8-to-Ruff configuration conversion tool - astral-sh/ruff #527</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add a Flake8-to-Ruff configuration conversion tool</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/527">#527</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2022-10-31 14:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>This PR adds a <code>flake8_to_ruff</code> command to generate a Ruff <code>pyproject.toml</code> section from an existing Flake8 configuration file (setup.cfg, tox.ini, or .flake8).</p>
<p>See: #414, #423.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-31 14:42</div>
            <div class="timeline-body"><p>This needs tests, <em>and</em> a strategy for actually distributing this tool. (It&#x27;s just an example script in the repo right now.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2022-10-31 14:42</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>src/flake8_to_ruff/parser.rs</code>:126 on 2022-10-31 14:42</div>
            <div class="timeline-body"><p>Wow, this was shockingly complicated, I guess it stems from INI being such a limited format. (This is basically a 1-to-1 port of the code from Flake8 for parsing the per-file-ignores.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-31 14:48</div>
            <div class="timeline-body"><p>@fsouza - Do you have any opinion on whether this should be distributed as...</p>
<ol>
<li>It&#x27;s own PyPI package.</li>
<li>A subcommand on <code>ruff</code>.</li>
<li>A separate binary that&#x27;s part of the same PyPI package (I don&#x27;t know if this is possible).</li>
</ol>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-31 15:34</div>
            <div class="timeline-body"><p>(Merging for now, will expose in a separate PR.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-31 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-31 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-10-31 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fsouza">@fsouza</a> on 2022-10-31 15:48</div>
            <div class="timeline-body"><blockquote>
<p>@fsouza - Do you have any opinion on whether this should be distributed as...</p>
<pre><code>1. It&#x27;s own PyPI package.

2. A subcommand on `ruff`.

3. A separate binary that&#x27;s part of the same PyPI package (I don&#x27;t know if this is possible).</code></pre>
</blockquote>
<p>Oh that&#x27;s an interesting one. I&#x27;m thinking a separate PyPI package since the common use case will likely be a one-off (or people like me that can&#x27;t really force everyone in the company to migrate and have to wrap it in something like flake8-ruff-wrapper lol).</p>
<p>The reason I&#x27;m thinking that a separate PyPI package is better is because not everyone that uses ruff will use this tool? What do you think?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2022-10-31 15:51</div>
            <div class="timeline-body"><p>Yeah that makes sense. I do want to split ruff into subcommands, but even then it&#x27;s probably not worth including this as a subcommand on ruff itself given that it&#x27;s more of a compatibility tool.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/fsouza">@fsouza</a> on <code>src/flake8_to_ruff/mod.rs</code>:25 on 2022-11-02 02:22</div>
            <div class="timeline-body"><p>It looks like this should be <code>max-line-length</code>/<code>max_line_length</code> instead?</p>
<p>https://flake8.pycqa.org/en/latest/user/options.html#cmdoption-flake8-max-line-length</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/fsouza">@fsouza</a> reviewed on 2022-11-02 02:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2022-11-02 02:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>src/flake8_to_ruff/mod.rs</code>:25 on 2022-11-02 02:27</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:51:23 UTC
    </footer>
</body>
</html>
