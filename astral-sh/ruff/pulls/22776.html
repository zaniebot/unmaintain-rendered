<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] show final search path instead of &quot;and 1 more paths&quot; - astral-sh/ruff #22776</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] show final search path instead of &quot;and 1 more paths&quot;</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22776">#22776</a>
        opened by <a href="https://github.com/mswart">@mswart</a>
        on 2026-01-20 20:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mswart">@mswart</a></div>
            <div class="timeline-body">Summary
<p>If there are six search paths, five are attached as subdiagnostic of unresolved imports but the sixth is by default hidden and replaced by &quot;... and 1 more paths. Run with <code>-v</code> to see all paths.&quot;</p>
<pre><code>info: Searched in the following paths during module resolution:
info:   1. &lt;temp_dir&gt;/extra1 (extra search path specified on the CLI or in your config file)
info:   2. &lt;temp_dir&gt;/extra2 (extra search path specified on the CLI or in your config file)
info:   3. &lt;temp_dir&gt;/extra3 (extra search path specified on the CLI or in your config file)
info:   4. &lt;temp_dir&gt;/extra4 (extra search path specified on the CLI or in your config file)
info:   5. &lt;temp_dir&gt;/ (first-party code)
info:   ... and 1 more paths. Run with `-v` to see all paths.
</code></pre>
<p>By hiding a single path this truncation does not shorten the output but still requires the user to rerun ty. We can just include the final search path instead.
The subdiagnostic &quot;and 1 more paths&quot; isn&#x27;t helpful - we can show the hidden path instead (and still have the same number of subdiagnistics).</p>
<pre><code>info: Searched in the following paths during module resolution:
info:   1. &lt;temp_dir&gt;/extra1 (extra search path specified on the CLI or in your config file)
info:   2. &lt;temp_dir&gt;/extra2 (extra search path specified on the CLI or in your config file)
info:   3. &lt;temp_dir&gt;/extra3 (extra search path specified on the CLI or in your config file)
info:   4. &lt;temp_dir&gt;/extra4 (extra search path specified on the CLI or in your config file)
info:   5. &lt;temp_dir&gt;/ (first-party code)
info:   6. vendored://stdlib (stdlib typeshed stubs vendored by ty)
</code></pre>
Test Plan
<ul>
<li>cargo test extended</li>
<li>manual invocation (with the configuration that prompted me to propose this change).</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/mswart">@mswart</a> on 2026-01-20 20:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/mswart">@mswart</a> on 2026-01-20 20:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/mswart">@mswart</a> on 2026-01-20 20:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/mswart">@mswart</a> on 2026-01-20 20:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/mswart">@mswart</a> on 2026-01-20 20:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 20:58:00 UTC
    </footer>
</body>
</html>
