<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autoformat confusable units - astral-sh/ruff #4430</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Autoformat confusable units</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/4430">#4430</a>
        opened by <a href="https://github.com/covracer">@covracer</a>
        on 2023-05-14 13:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/covracer">@covracer</a></div>
            <div class="timeline-body"><p>I&#x27;ve seen errors crop up from using the different micro and mu characters. Follow matching recommendations on which character to prefer for micro, ohm, and angstrom. References:</p>
<ul>
<li>Section 22.2 Letterlike Symbols, subsection Unit Symbols, page 877 of <a href="https://www.unicode.org/versions/Unicode15.0.0/UnicodeStandard-15.0.pdf">The Unicode Standard, Version 15.0
</a></li>
<li>Section 2.5 Duplicated Characters of <a href="https://www.unicode.org/reports/tr25/">Unicode Technical Report 25</a></li>
<li><a href="https://www.bipm.org/documents/20126/41483022/SI-Brochure-9-EN.pdf">SI brochure</a></li>
<li>https://github.com/unicode-org/icu/blob/main/icu4c/source/data/unidata/confusables.txt</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-05-14 13:25</div>
            <div class="timeline-body">PR Check Results
Ecosystem
<p>â„¹ï¸ ecosystem check <strong>detected changes</strong>. (+2, -0, 0 error(s))</p>
zulip (+2, -0)
<p>

<pre><code>+ zerver/tests/test_invite.py:1197:32: RUF001 [*] String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ zerver/tests/test_signup.py:1033:29: RUF001 [*] String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</code></pre>
</p>

Rules changed: 1

<p>| Rule | Changes | Additions | Removals |
| ---- | ------- | --------- | -------- |
| RUF001 | 2 | 2 | 0 |</p>
Benchmark
Linux
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
linter/all-rules/large/dataset.py          1.00     13.9Â±0.02ms     2.9 MB/sec    1.00     13.9Â±0.02ms     2.9 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.01      3.4Â±0.01ms     4.9 MB/sec    1.00      3.4Â±0.01ms     4.9 MB/sec
linter/all-rules/numpy/globals.py          1.01    428.0Â±0.47Âµs     6.9 MB/sec    1.00    424.9Â±0.45Âµs     6.9 MB/sec
linter/all-rules/pydantic/types.py         1.00      5.9Â±0.01ms     4.4 MB/sec    1.00      5.9Â±0.02ms     4.4 MB/sec
linter/default-rules/large/dataset.py      1.00      6.8Â±0.01ms     6.0 MB/sec    1.00      6.8Â±0.01ms     6.0 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.01   1508.9Â±2.89Âµs    11.0 MB/sec    1.00   1494.0Â±3.40Âµs    11.1 MB/sec
linter/default-rules/numpy/globals.py      1.02    173.2Â±1.81Âµs    17.0 MB/sec    1.00    169.7Â±1.31Âµs    17.4 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.1Â±0.00ms     8.2 MB/sec    1.00      3.1Â±0.01ms     8.2 MB/sec
parser/large/dataset.py                    1.01      5.2Â±0.01ms     7.8 MB/sec    1.00      5.2Â±0.00ms     7.8 MB/sec
parser/numpy/ctypeslib.py                  1.00   1020.1Â±0.54Âµs    16.3 MB/sec    1.00   1019.2Â±0.66Âµs    16.3 MB/sec
parser/numpy/globals.py                    1.00    105.6Â±0.27Âµs    27.9 MB/sec    1.00    105.5Â±0.16Âµs    28.0 MB/sec
parser/pydantic/types.py                   1.01      2.2Â±0.00ms    11.4 MB/sec    1.00      2.2Â±0.00ms    11.4 MB/sec
</code></pre>
Windows
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
linter/all-rules/large/dataset.py          1.00     16.6Â±0.20ms     2.5 MB/sec    1.00     16.6Â±0.31ms     2.5 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      4.2Â±0.05ms     4.0 MB/sec    1.00      4.2Â±0.04ms     4.0 MB/sec
linter/all-rules/numpy/globals.py          1.01   506.7Â±14.96Âµs     5.8 MB/sec    1.00    501.2Â±6.66Âµs     5.9 MB/sec
linter/all-rules/pydantic/types.py         1.00      7.0Â±0.08ms     3.6 MB/sec    1.00      7.0Â±0.08ms     3.6 MB/sec
linter/default-rules/large/dataset.py      1.00      8.2Â±0.14ms     4.9 MB/sec    1.00      8.3Â±0.07ms     4.9 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00  1771.6Â±24.87Âµs     9.4 MB/sec    1.00  1778.4Â±26.63Âµs     9.4 MB/sec
linter/default-rules/numpy/globals.py      1.00    203.4Â±3.13Âµs    14.5 MB/sec    1.02    207.3Â±7.52Âµs    14.2 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.7Â±0.05ms     6.9 MB/sec    1.01      3.8Â±0.07ms     6.8 MB/sec
parser/large/dataset.py                    1.00      6.3Â±0.05ms     6.4 MB/sec    1.02      6.4Â±0.07ms     6.3 MB/sec
parser/numpy/ctypeslib.py                  1.00  1192.4Â±16.10Âµs    14.0 MB/sec    1.02  1221.5Â±20.10Âµs    13.6 MB/sec
parser/numpy/globals.py                    1.00    123.3Â±2.36Âµs    23.9 MB/sec    1.01    124.7Â±2.84Âµs    23.7 MB/sec
parser/pydantic/types.py                   1.00      2.7Â±0.04ms     9.4 MB/sec    1.01      2.7Â±0.03ms     9.3 MB/sec
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>scripts/update_ambiguous_characters.py</code>:35 on 2023-05-15 07:02</div>
            <div class="timeline-body"><p>Nit: I wonder if we should instead change the type to <code>&lt;char, char&gt;</code>. Having the <code>char</code>s in place could make the table a bit more readable and avoids the <code>unwrap</code> calls.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2023-05-15 07:11</div>
            <div class="timeline-body"><p>Thanks for your contribution.</p>
<p>I&#x27;m not very familiar with unicode confusables. So bare with me ;)</p>
<p>Our current table is based on the VS code table and the standard seems to differentiate between mixed script and other confusables. I believe we currently only test for mixed-script confusables (similar to <a href="https://github.com/unicode-rs/unicode-security/blob/45178d16579a39c61e016333c8c20dc52fb9db26/src/tables.rs#L4314">unicode-security</a>). Do you know if these added scripts are also mixed script confusables or general confusables?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/covracer">@covracer</a> on 2023-05-16 12:00</div>
            <div class="timeline-body"><p>Thanks for taking a look!</p>
<p>The VS Code list only contains &quot;... characters (key) that are confusable with a basic ascii [0x20 to 0x7E] character (value)&quot;. https://github.com/hediet/vscode-unicode-data/blob/a2ee3e17acaad2957f910cf6c46f6ea2c6eae753/index.ts#L159</p>
<p>I wonder why they did that. Was it an easy starting point and they haven&#x27;t been motivated to build it out further? Would a full table would be too slow in node.js? ğŸ¤·</p>
<p>I too am new to Unicode security, and am still trying to figure out how to apply domain name spoofing concepts to code linting and autoformatting. TR 39 suggested reading TR 36 first, where I found this:</p>
<blockquote>
<p>While compatibility normalization and mixed-script detection can handle the majority of spoofing cases, they do not handle single-script confusables. https://www.unicode.org/reports/tr36/#Single_Script_Spoofing</p>
</blockquote>
<p>So it seems like normalization comes first in the process, before mixed script or single script handling. The substitutions I&#x27;m adding are normalizations.</p>
<p>A longer discussion of normalization from TR 36:</p>
<blockquote>
<p>Fortunately the design of IDN prevents a huge number of spoofing attacks. All conformant users of [<a href="https://www.unicode.org/reports/tr36/#IDNA2003">IDNA2003</a>] are required to process domain names to convert what are called <a href="http://www.unicode.org/glossary/#compatibility_equivalent">compatibility-equivalent</a> characters into a unique form using a process called compatibility normalization (NFKC)â€”for more information on this, see [<a href="https://www.unicode.org/reports/tr36/#UAX15">UAX15</a>]. This processing eliminates most possibilities for visual spoofing by mapping away a large number of visually confusable characters and sequences.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>crates/ruff/src/rules/ruff/rules/confusables.rs</code>:2121 on 2023-06-02 03:10</div>
            <div class="timeline-body"><p>Based on Section 2.5 in https://www.unicode.org/reports/tr25/, should this also include Kelvin sign?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-06-02 03:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-06-02 03:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>scripts/update_ambiguous_characters.py</code>:35 on 2023-06-02 03:10</div>
            <div class="timeline-body"><p>@MichaReiser - That seems reasonable to me, but will it increase the size of this map?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/covracer">@covracer</a> on <code>crates/ruff/src/rules/ruff/rules/confusables.rs</code>:2121 on 2023-06-03 11:50</div>
            <div class="timeline-body"><p>The list from VS Code covers Kelvin with <code>(8490, 75)</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/covracer">@covracer</a> reviewed on 2023-06-03 11:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/covracer">@covracer</a> on 2023-06-03 12:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-10-19 16:16</div>
            <div class="timeline-body"><p>I believe we were concerned about increasing the size of the map here but with use of <code>match</code> it shouldn&#x27;t matter anymore? @covracer would you be interested in updating with the latest changes on <code>main</code> and we can try to get this merged?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/charliermarsh">@charliermarsh</a> by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 04:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 04:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 04:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 04:59</div>
            <div class="timeline-body"><p>Thanks, and sorry for the extensive delay here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-11-03 05:14</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>â„¹ï¸ ecosystem check <strong>detected linter changes</strong>. (+9 -0 violations, +0 -0 fixes in 41 projects)</p>
<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/644813cd2e149f53ebfefc2e68ef60d421608ab4/examples/interaction/tools/subcoordinates_zoom.py#L22">examples/interaction/tools/subcoordinates_zoom.py:22:23:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</pre>

</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+6 -0 violations, +0 -0 fixes)
<p>

<pre>
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/_libs/tslibs/timedeltas.pyi#L58">pandas/_libs/tslibs/timedeltas.pyi:58:6:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5352">pandas/core/indexes/base.py:5352:26:</a> RUF003 Comment contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5353">pandas/core/indexes/base.py:5353:46:</a> RUF003 Comment contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5354">pandas/core/indexes/base.py:5354:69:</a> RUF003 Comment contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/tests/io/test_clipboard.py#L67">pandas/tests/io/test_clipboard.py:67:34:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/tests/scalar/timedelta/test_constructors.py#L306">pandas/tests/scalar/timedelta/test_constructors.py:306:25:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</pre>

</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --select ALL</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/zulip/zulip/blob/0b3f7a5a6bc0736ec8eb209fe951f487969e86a6/zerver/tests/test_invite.py#L1281">zerver/tests/test_invite.py:1281:32:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/zulip/zulip/blob/0b3f7a5a6bc0736ec8eb209fe951f487969e86a6/zerver/tests/test_signup.py#L1021">zerver/tests/test_signup.py:1021:29:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</pre>

</p>

Changes by rule (2 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| RUF001 | 6 | 6 | 0 | 0 | 0 |
| RUF003 | 3 | 3 | 0 | 0 | 0 |</p>
</p>


Linter (preview)
<p>â„¹ï¸ ecosystem check <strong>detected linter changes</strong>. (+9 -0 violations, +0 -0 fixes in 41 projects)</p>
<a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --select ALL --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/bokeh/bokeh/blob/644813cd2e149f53ebfefc2e68ef60d421608ab4/examples/interaction/tools/subcoordinates_zoom.py#L22">examples/interaction/tools/subcoordinates_zoom.py:22:23:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</pre>

</p>

<a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+6 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/_libs/tslibs/timedeltas.pyi#L58">pandas/_libs/tslibs/timedeltas.pyi:58:6:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5352">pandas/core/indexes/base.py:5352:26:</a> RUF003 Comment contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5353">pandas/core/indexes/base.py:5353:46:</a> RUF003 Comment contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5354">pandas/core/indexes/base.py:5354:69:</a> RUF003 Comment contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/tests/io/test_clipboard.py#L67">pandas/tests/io/test_clipboard.py:67:34:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/tests/scalar/timedelta/test_constructors.py#L306">pandas/tests/scalar/timedelta/test_constructors.py:306:25:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</pre>

</p>

<a href="https://github.com/zulip/zulip">zulip/zulip</a> (+2 -0 violations, +0 -0 fixes)
<p>
<pre>ruff check --no-cache --exit-zero --select ALL --preview</pre>
</p>
<p>

<pre>
+ <a href="https://github.com/zulip/zulip/blob/0b3f7a5a6bc0736ec8eb209fe951f487969e86a6/zerver/tests/test_invite.py#L1281">zerver/tests/test_invite.py:1281:32:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
+ <a href="https://github.com/zulip/zulip/blob/0b3f7a5a6bc0736ec8eb209fe951f487969e86a6/zerver/tests/test_signup.py#L1021">zerver/tests/test_signup.py:1021:29:</a> RUF001 String contains ambiguous `Âµ` (MICRO SIGN). Did you mean `Î¼` (GREEK SMALL LETTER MU)?
</pre>

</p>

Changes by rule (2 rules affected)
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| RUF001 | 6 | 6 | 0 | 0 | 0 |
| RUF003 | 3 | 3 | 0 | 0 | 0 |</p>
</p>


Formatter (stable)
<p>âœ… ecosystem check detected no format changes.</p>
Formatter (preview)
<p>âœ… ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 12:58</div>
            <div class="timeline-body"><p>Note to self: revisit these ecosystem changes today.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 13:50</div>
            <div class="timeline-body"><p>\cc @zanieb - Do you have an opinion on whether this should be a preview change...?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2023-11-03 15:12</div>
            <div class="timeline-body"><p>@charliermarsh looks like it creates new violations and it&#x27;s not a bug fix so it should probably be preview?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-11-03 16:09</div>
            <div class="timeline-body"><p>Done in <a href="https://github.com/astral-sh/ruff/pull/8473">astral-sh/ruff#8473</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-11-30 15:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/covracer">@covracer</a> on 2023-11-30 16:12</div>
            <div class="timeline-body"><p>Thanks! I&#x27;ve looked over the hits and made a best guess at how to proceed. Over time I&#x27;ll try to test and submit Pull Requests.</p>
<blockquote>
<p><a href="https://github.com/bokeh/bokeh/blob/644813cd2e149f53ebfefc2e68ef60d421608ab4/examples/interaction/tools/subcoordinates_zoom.py#L22">examples/interaction/tools/subcoordinates_zoom.py:22:23:</a> RUF001 String ...</p>
</blockquote>
<p>I would suggest applying the fix for this abbreviation of microvolts in <a href="https://docs.bokeh.org/en/latest/docs/examples/interaction/tools/subcoordinates_zoom.html">tooltip text</a>.</p>
<blockquote>
<p><a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/_libs/tslibs/timedeltas.pyi#L58">pandas/_libs/tslibs/timedeltas.pyi:58:6:</a> RUF001 String ...
<a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/tests/scalar/timedelta/test_constructors.py#L306">pandas/tests/scalar/timedelta/test_constructors.py:306:25:</a> RUF001 String ...</p>
</blockquote>
<p>timedeltas.pyi and timedeltas.pyx list many aliases for microseconds (among other units). test_constructors.py tests using the aliases. I would suggest <code># noqa: RUF001</code>.</p>
<blockquote>
<p><a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5352">pandas/core/indexes/base.py:5352:26:</a> RUF003 Comment ...
<a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5353">pandas/core/indexes/base.py:5353:46:</a> RUF003 Comment ...
<a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/core/indexes/base.py#L5354">pandas/core/indexes/base.py:5354:69:</a> RUF003 Comment ...</p>
</blockquote>
<p>This multiline comment documents performance analysis timings. I would suggest applying the fix.</p>
<blockquote>
<p><a href="https://github.com/pandas-dev/pandas/blob/0cdb37c445fc0a0a2144f981fd1acbf4f07d88ee/pandas/tests/io/test_clipboard.py#L67">pandas/tests/io/test_clipboard.py:67:34:</a> RUF001 String ...</p>
</blockquote>
<p>This is part of <code>dict[str, list[str]]</code> test data for <code>utf8</code>. ASCII and not-confusable Latin-1 Supplement characters are included alongside characters from higher Unicode blocks. I would suggest applying the fix.</p>
<blockquote>
<p><a href="https://github.com/zulip/zulip/blob/0b3f7a5a6bc0736ec8eb209fe951f487969e86a6/zerver/tests/test_invite.py#L1281">zerver/tests/test_invite.py:1281:32:</a> RUF001 String ...
<a href="https://github.com/zulip/zulip/blob/0b3f7a5a6bc0736ec8eb209fe951f487969e86a6/zerver/tests/test_signup.py#L1021">zerver/tests/test_signup.py:1021:29:</a> RUF001 String ...</p>
</blockquote>
<p>These tests use the same copy+pasted string to test &quot;non-ASCII characters&quot;, 3 from the Basic Latin block and 6 from the Latin-1 Supplement block (5 of which aren&#x27;t flagged as confusable). Unless the project would like to begin testing characters from higher blocks, I would suggest dropping the character or adding <code># noqa: RUF001</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/covracer">@covracer</a> on 2024-04-26 11:52</div>
            <div class="timeline-body"><p>Bokeh updated in <a href="https://github.com/bokeh/bokeh/pull/13668">bokeh/bokeh#13668</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2024-04-26 13:16</div>
            <div class="timeline-body"><p>Thanks @covracer!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:53:42 UTC
    </footer>
</body>
</html>
