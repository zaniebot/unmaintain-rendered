20958-reduce-duplicated-logic-between-the-macos-and.md