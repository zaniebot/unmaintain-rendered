```yaml
number: 7215
title: Add FString support to binary like formatting
type: pull_request
state: merged
author: MichaReiser
labels:
  - formatter
assignees: []
merged: true
base: main
head: binary-like-fstring-support
created_at: 2023-09-07T09:45:46Z
updated_at: 2023-09-21T10:38:45Z
url: https://github.com/astral-sh/ruff/pull/7215
synced_at: 2026-01-12T15:55:23Z
```

# Add FString support to binary like formatting

---

_@MichaReiser_

## Summary

This is the last part of the string - binary like formatting. It adds support for handling fstrings the same as "regular" strings.


## Test Plan

I added a test for both binary and comparison. 

Small improvements across several projects

**This PR**
| project      | similarity index  | total files       | changed files     |
|--------------|------------------:|------------------:|------------------:|
| cpython      |           0.76083 |              1789 |              1632 |
| django       |           0.99966 |              2760 |                58 |
| **transformers** |           0.99929 |              2587 |               454 |
| twine        |           1.00000 |                33 |                 0 |
| typeshed     |           0.99978 |              3496 |              2173 |
| **warehouse**    |           0.99825 |               648 |                22 |
| **zulip**        |           0.99950 |              1437 |                27 |


**Base**

| project      | similarity index  | total files       | changed files     |
|--------------|------------------:|------------------:|------------------:|
| cpython      |           0.76083 |              1789 |              1632 |
| django       |           0.99966 |              2760 |                58 |
| transformers |           0.99928 |              2587 |               454 |
| twine        |           1.00000 |                33 |                 0 |
| typeshed     |           0.99978 |              3496 |              2173 |
| warehouse    |           0.99824 |               648 |                22 |
| zulip        |           0.99948 |              1437 |                28 |


<!-- How was it tested? -->


---

_Comment by @MichaReiser on 2023-09-07 09:45_

Current dependencies on/for this PR:
* main
  * **PR #7145** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7145" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
    * **PR #7193** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7193" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
      * **PR #7215** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7215" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ
        * **PR #7217** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7217" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
          * **PR #7219** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7219" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
            * **PR #7242** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7242" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 
              * **PR #7567** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7567" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a> 

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7215?utm_source=stack-comment).

---

_Marked ready for review by @MichaReiser on 2023-09-07 09:48_

---

_Label `formatter` added by @MichaReiser on 2023-09-07 10:03_

---

_Review requested from @konstin by @MichaReiser on 2023-09-07 10:03_

---

_Review request for @konstin removed by @MichaReiser on 2023-09-07 10:03_

---

_Review requested from @charliermarsh by @MichaReiser on 2023-09-07 10:03_

---

_@charliermarsh approved on 2023-09-07 14:03_

---

_Review requested from @konstin by @MichaReiser on 2023-09-08 06:39_

---

_@konstin approved on 2023-09-08 08:10_

---

_Comment by @MichaReiser on 2023-09-08 09:33_

### Merge Activity

* **Sep 8, 5:33 AM**: [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7215) rebased this pull request after merging its parent, because this pull request is set to merge when ready.
* **Sep 8, 5:48 AM**: @MichaReiser merged this pull request with [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7215).


---

_Merged by @MichaReiser on 2023-09-08 09:48_

---

_Closed by @MichaReiser on 2023-09-08 09:48_

---

_Branch deleted on 2023-09-08 09:48_

---
