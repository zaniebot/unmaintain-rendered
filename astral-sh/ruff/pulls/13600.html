<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[flake8-bugbear] Consider replacing f&quot;'{foo}'&quot; with f&quot;{foo!r}&quot; which is both easier to read and will escape quotes inside foo if that would appear (B907) - astral-sh/ruff #13600</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[flake8-bugbear] Consider replacing f&quot;'{foo}'&quot; with f&quot;{foo!r}&quot; which is both easier to read and will escape quotes inside foo if that would appear (B907)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/13600">#13600</a>
        opened by <a href="https://github.com/agpt8">@agpt8</a>
        on 2024-10-02 09:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/agpt8">@agpt8</a> on 2024-10-02 09:57</div>
            <div class="timeline-body"><p>B907: Consider replacing f&quot;'{foo}'&quot; with f&quot;{foo!r}&quot; which is both easier to read and will escape quotes inside foo if that would appear. The check tries to filter out any format specs that are invalid together with !r. If youâ€™re using other conversion flags then e.g. f&quot;'{foo!a}'&quot; can be replaced with f&quot;{ascii(foo)!r}&quot;. Not currently implemented for python&lt;3.8 or str.format() calls.</p>
<p>Implement B907 flake8-bugbear rules in Ruff.</p>
<ul>
<li>Add <code>crates/ruff_linter/src/rules/flake8_bugbear/rules/b907.rs</code> to implement B907 rule to replace f&quot;'{foo}'&quot; with f&quot;{foo!r}&quot;.</li>
<li>Update <code>crates/ruff_linter/src/rules/flake8_bugbear/mod.rs</code> to include B907 rules.</li>
<li>Add test cases for B907 rules in <code>crates/ruff_linter/src/rules/flake8_bugbear/tests.rs</code>.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-10-04 05:46</div>
            <div class="timeline-body"><p>FYI, there's another implementation of <code>B903</code> at https://github.com/astral-sh/ruff/pull/12259</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/agpt8">@agpt8</a> on 2024-10-04 05:54</div>
            <div class="timeline-body"><p>Thanks @dhruvmanila. I'll remove the B903 implementation and instead create a PR for B907</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Implement B903 and B907 flake8-bugbear rules" to "[flake8-bugbear] Consider replacing f"'{foo}'" with f"{foo!r}" which is both easier to read and will escape quotes inside foo if that would appear (B907)" by @agpt8 on 2024-10-14 14:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @agpt8 on 2024-10-14 14:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-14 14:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 21:00:07 UTC
    </footer>
</body>
</html>
