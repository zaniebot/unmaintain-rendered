<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`flake8-simplify`] Add autofix for `contextlib.suppress` (`SIM105`) - astral-sh/ruff #3915</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>flake8-simplify</code>] Add autofix for <code>contextlib.suppress</code> (<code>SIM105</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/3915">#3915</a>
        opened by <a href="https://github.com/leiserfg">@leiserfg</a>
        on 2023-04-08 05:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/leiserfg">@leiserfg</a> on 2023-04-08 05:55</div>
            <div class="timeline-body"><p><em>No description provided.</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leiserfg">@leiserfg</a> on 2023-04-08 06:14</div>
            <div class="timeline-body"><p>Hi @charliermarsh  I saw the new api for edits, I was waiting for something like this to automatically fix sim105. Is there a way to check if the edit works fine (like for checking the diff after playing it in the tests)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-04-08 06:14</div>
            <div class="timeline-body"><h2>PR Check Results</h2>
<h3>Ecosystem</h3>
<p>ℹ️ ecosystem check <strong>detected changes</strong>. (+63, -63, 0 error(s))</p>
<details><summary>airflow (+51, -51)</summary>
<p>

<pre><code class="language-diff">- airflow/api/__init__.py:33:5: SIM105 Use `contextlib.suppress(AirflowConfigException)` instead of try-except-pass
+ airflow/api/__init__.py:33:5: SIM105 [*] Use `contextlib.suppress(AirflowConfigException)` instead of `try`-`except`-`pass`
- airflow/api_connexion/endpoints/log_endpoint.py:98:9: SIM105 Use `contextlib.suppress(TaskNotFound)` instead of try-except-pass
+ airflow/api_connexion/endpoints/log_endpoint.py:98:9: SIM105 [*] Use `contextlib.suppress(TaskNotFound)` instead of `try`-`except`-`pass`
- airflow/callbacks/pipe_callback_sink.py:43:9: SIM105 Use `contextlib.suppress(ConnectionError)` instead of try-except-pass
+ airflow/callbacks/pipe_callback_sink.py:43:9: SIM105 [*] Use `contextlib.suppress(ConnectionError)` instead of `try`-`except`-`pass`
- airflow/cli/commands/task_command.py:428:9: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ airflow/cli/commands/task_command.py:428:9: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- airflow/dag_processing/manager.py:182:9: SIM105 Use `contextlib.suppress(ConnectionError)` instead of try-except-pass
+ airflow/dag_processing/manager.py:182:9: SIM105 [*] Use `contextlib.suppress(ConnectionError)` instead of `try`-`except`-`pass`
- airflow/dag_processing/manager.py:332:13: SIM105 Use `contextlib.suppress(ConnectionError)` instead of try-except-pass
+ airflow/dag_processing/manager.py:332:13: SIM105 [*] Use `contextlib.suppress(ConnectionError)` instead of `try`-`except`-`pass`
- airflow/executors/celery_executor.py:206:5: SIM105 Use `contextlib.suppress(ImportError)` instead of try-except-pass
+ airflow/executors/celery_executor.py:206:5: SIM105 [*] Use `contextlib.suppress(ImportError)` instead of `try`-`except`-`pass`
- airflow/executors/celery_executor.py:211:5: SIM105 Use `contextlib.suppress(ImportError)` instead of try-except-pass
+ airflow/executors/celery_executor.py:211:5: SIM105 [*] Use `contextlib.suppress(ImportError)` instead of `try`-`except`-`pass`
- airflow/providers/google/cloud/hooks/datafusion.py:503:13: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ airflow/providers/google/cloud/hooks/datafusion.py:503:13: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- airflow/providers/google/cloud/hooks/stackdriver.py:296:17: SIM105 Use `contextlib.suppress(InvalidArgument)` instead of try-except-pass
+ airflow/providers/google/cloud/hooks/stackdriver.py:296:17: SIM105 [*] Use `contextlib.suppress(InvalidArgument)` instead of `try`-`except`-`pass`
- airflow/providers_manager.py:118:9: SIM105 Use `contextlib.suppress(KeyError)` instead of try-except-pass
+ airflow/providers_manager.py:118:9: SIM105 [*] Use `contextlib.suppress(KeyError)` instead of `try`-`except`-`pass`
- airflow/utils/code_utils.py:39:9: SIM105 Use `contextlib.suppress(TypeError)` instead of try-except-pass
+ airflow/utils/code_utils.py:39:9: SIM105 [*] Use `contextlib.suppress(TypeError)` instead of `try`-`except`-`pass`
- airflow/utils/code_utils.py:45:9: SIM105 Use `contextlib.suppress(TypeError, AttributeError)` instead of try-except-pass
+ airflow/utils/code_utils.py:45:9: SIM105 [*] Use `contextlib.suppress(TypeError, AttributeError)` instead of `try`-`except`-`pass`
- airflow/utils/log/secrets_masker.py:180:9: SIM105 Use `contextlib.suppress(AttributeError)` instead of try-except-pass
+ airflow/utils/log/secrets_masker.py:180:9: SIM105 [*] Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
- airflow/www/extensions/init_security.py:52:5: SIM105 Use `contextlib.suppress(AirflowConfigException)` instead of try-except-pass
+ airflow/www/extensions/init_security.py:52:5: SIM105 [*] Use `contextlib.suppress(AirflowConfigException)` instead of `try`-`except`-`pass`
- dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:165:9: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:165:9: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
- dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:173:5: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ dev/breeze/src/airflow_breeze/utils/kubernetes_utils.py:173:5: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- dev/breeze/src/airflow_breeze/utils/parallel.py:446:17: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ dev/breeze/src/airflow_breeze/utils/parallel.py:446:17: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
- dev/breeze/src/airflow_breeze/utils/run_utils.py:415:9: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ dev/breeze/src/airflow_breeze/utils/run_utils.py:415:9: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
- dev/breeze/src/airflow_breeze/utils/run_utils.py:432:21: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ dev/breeze/src/airflow_breeze/utils/run_utils.py:432:21: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
- scripts/ci/pre_commit/pre_commit_compile_www_assets_dev.py:44:5: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ scripts/ci/pre_commit/pre_commit_compile_www_assets_dev.py:44:5: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
- tests/cli/commands/test_task_command.py:608:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/cli/commands/test_task_command.py:608:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/cli/commands/test_task_command.py:620:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/cli/commands/test_task_command.py:620:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/cli/commands/test_task_command.py:806:17: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/cli/commands/test_task_command.py:806:17: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/dag_processing/test_manager.py:1198:13: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/dag_processing/test_manager.py:1198:13: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/dag_processing/test_manager.py:1248:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/dag_processing/test_manager.py:1248:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/jobs/test_scheduler_job.py:2815:13: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/jobs/test_scheduler_job.py:2815:13: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/listeners/test_listeners.py:83:5: SIM105 Use `contextlib.suppress(NotImplementedError)` instead of try-except-pass
+ tests/listeners/test_listeners.py:83:5: SIM105 [*] Use `contextlib.suppress(NotImplementedError)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:1666:9: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:1666:9: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:1696:13: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:1696:13: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:1721:13: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:1721:13: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:1729:9: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:1729:9: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:2559:9: SIM105 Use `contextlib.suppress(AirflowFailException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:2559:9: SIM105 [*] Use `contextlib.suppress(AirflowFailException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:2577:9: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:2577:9: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:583:13: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:583:13: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/models/test_taskinstance.py:622:13: SIM105 Use `contextlib.suppress(AirflowException)` instead of try-except-pass
+ tests/models/test_taskinstance.py:622:13: SIM105 [*] Use `contextlib.suppress(AirflowException)` instead of `try`-`except`-`pass`
- tests/providers/amazon/aws/deferrable/hooks/test_base_aws.py:29:1: SIM105 Use `contextlib.suppress(ImportError)` instead of try-except-pass
+ tests/providers/amazon/aws/deferrable/hooks/test_base_aws.py:29:1: SIM105 [*] Use `contextlib.suppress(ImportError)` instead of `try`-`except`-`pass`
- tests/providers/http/hooks/test_http.py:124:13: SIM105 Use `contextlib.suppress(MissingSchema, InvalidURL)` instead of try-except-pass
+ tests/providers/http/hooks/test_http.py:124:13: SIM105 [*] Use `contextlib.suppress(MissingSchema, InvalidURL)` instead of `try`-`except`-`pass`
- tests/providers/http/hooks/test_http.py:86:17: SIM105 Use `contextlib.suppress(MissingSchema)` instead of try-except-pass
+ tests/providers/http/hooks/test_http.py:86:17: SIM105 [*] Use `contextlib.suppress(MissingSchema)` instead of `try`-`except`-`pass`
- tests/providers/sftp/operators/test_sftp.py:315:9: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ tests/providers/sftp/operators/test_sftp.py:315:9: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- tests/providers/sftp/operators/test_sftp.py:329:9: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ tests/providers/sftp/operators/test_sftp.py:329:9: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- tests/providers/sftp/operators/test_sftp.py:345:9: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ tests/providers/sftp/operators/test_sftp.py:345:9: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- tests/providers/sftp/operators/test_sftp.py:387:9: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ tests/providers/sftp/operators/test_sftp.py:387:9: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- tests/system/providers/amazon/aws/example_quicksight.py:117:5: SIM105 Use `contextlib.suppress(client.exceptions.ResourceNotFoundException)` instead of try-except-pass
+ tests/system/providers/amazon/aws/example_quicksight.py:117:5: SIM105 [*] Use `contextlib.suppress(client.exceptions.ResourceNotFoundException)` instead of `try`-`except`-`pass`
- tests/system/providers/docker/example_taskflow_api_docker_virtualenv.py:112:5: SIM105 Use `contextlib.suppress(AttributeError)` instead of try-except-pass
+ tests/system/providers/docker/example_taskflow_api_docker_virtualenv.py:112:5: SIM105 [*] Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
- tests/task/task_runner/test_standard_task_runner.py:130:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/task/task_runner/test_standard_task_runner.py:130:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/task/task_runner/test_standard_task_runner.py:173:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/task/task_runner/test_standard_task_runner.py:173:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/task/task_runner/test_standard_task_runner.py:297:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/task/task_runner/test_standard_task_runner.py:297:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/task/task_runner/test_standard_task_runner.py:301:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/task/task_runner/test_standard_task_runner.py:301:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/task/task_runner/test_standard_task_runner.py:359:9: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ tests/task/task_runner/test_standard_task_runner.py:359:9: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
- tests/test_utils/system_tests_class.py:167:9: SIM105 Use `contextlib.suppress(FileNotFoundError)` instead of try-except-pass
+ tests/test_utils/system_tests_class.py:167:9: SIM105 [*] Use `contextlib.suppress(FileNotFoundError)` instead of `try`-`except`-`pass`
</code></pre>
</p>
</details>
<details><summary>bokeh (+12, -12)</summary>
<p>

<pre><code class="language-diff">- docs/bokeh/docserver.py:94:5: SIM105 Use `contextlib.suppress(KeyboardInterrupt)` instead of try-except-pass
+ docs/bokeh/docserver.py:94:5: SIM105 [*] Use `contextlib.suppress(KeyboardInterrupt)` instead of `try`-`except`-`pass`
- src/bokeh/embed/bundle.py:289:17: SIM105 Use `contextlib.suppress(json.decoder.JSONDecodeError)` instead of try-except-pass
+ src/bokeh/embed/bundle.py:289:17: SIM105 [*] Use `contextlib.suppress(json.decoder.JSONDecodeError)` instead of `try`-`except`-`pass`
- src/bokeh/io/export.py:517:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ src/bokeh/io/export.py:517:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- src/bokeh/io/export.py:522:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ src/bokeh/io/export.py:522:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- src/bokeh/models/util/structure.py:171:13: SIM105 Use `contextlib.suppress(TypeError, UnsetValueError)` instead of try-except-pass
+ src/bokeh/models/util/structure.py:171:13: SIM105 [*] Use `contextlib.suppress(TypeError, UnsetValueError)` instead of `try`-`except`-`pass`
- src/bokeh/models/util/structure.py:175:13: SIM105 Use `contextlib.suppress(TypeError, UnsetValueError)` instead of try-except-pass
+ src/bokeh/models/util/structure.py:175:13: SIM105 [*] Use `contextlib.suppress(TypeError, UnsetValueError)` instead of `try`-`except`-`pass`
- src/bokeh/models/util/structure.py:179:13: SIM105 Use `contextlib.suppress(AttributeError, ValueError, UnsetValueError)` instead of try-except-pass
+ src/bokeh/models/util/structure.py:179:13: SIM105 [*] Use `contextlib.suppress(AttributeError, ValueError, UnsetValueError)` instead of `try`-`except`-`pass`
- tests/support/plugins/file_server.py:111:9: SIM105 Use `contextlib.suppress(OSError)` instead of try-except-pass
+ tests/support/plugins/file_server.py:111:9: SIM105 [*] Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`
- tests/unit/bokeh/core/property/test_wrappers__property.py:421:5: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ tests/unit/bokeh/core/property/test_wrappers__property.py:421:5: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- tests/unit/bokeh/core/property/test_wrappers__property.py:426:5: SIM105 Use `contextlib.suppress(Exception)` instead of try-except-pass
+ tests/unit/bokeh/core/property/test_wrappers__property.py:426:5: SIM105 [*] Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
- tests/unit/bokeh/embed/test_standalone.py:395:9: SIM105 Use `contextlib.suppress(ValueError)` instead of try-except-pass
+ tests/unit/bokeh/embed/test_standalone.py:395:9: SIM105 [*] Use `contextlib.suppress(ValueError)` instead of `try`-`except`-`pass`
- tests/unit/bokeh/embed/test_util__embed.py:594:9: SIM105 Use `contextlib.suppress(ValueError)` instead of try-except-pass
+ tests/unit/bokeh/embed/test_util__embed.py:594:9: SIM105 [*] Use `contextlib.suppress(ValueError)` instead of `try`-`except`-`pass`
</code></pre>
</p>
</details>

<h3>Benchmark</h3>
<h4>Linux</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
linter/all-rules/large/dataset.py          1.01     15.1±0.02ms     2.7 MB/sec    1.00     15.0±0.02ms     2.7 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      3.8±0.00ms     4.4 MB/sec    1.00      3.8±0.01ms     4.4 MB/sec
linter/all-rules/numpy/globals.py          1.00    410.7±1.38µs     7.2 MB/sec    1.00    410.2±2.55µs     7.2 MB/sec
linter/all-rules/pydantic/types.py         1.00      6.4±0.02ms     4.0 MB/sec    1.00      6.5±0.01ms     3.9 MB/sec
linter/default-rules/large/dataset.py      1.00      7.9±0.01ms     5.2 MB/sec    1.00      7.8±0.01ms     5.2 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00   1738.4±3.18µs     9.6 MB/sec    1.00   1743.6±3.67µs     9.5 MB/sec
linter/default-rules/numpy/globals.py      1.00    179.7±0.34µs    16.4 MB/sec    1.02    182.4±0.71µs    16.2 MB/sec
linter/default-rules/pydantic/types.py     1.00      3.6±0.01ms     7.1 MB/sec    1.01      3.7±0.00ms     7.0 MB/sec
</code></pre>
<h4>Windows</h4>
<pre><code>group                                      main                                   pr
-----                                      ----                                   --
linter/all-rules/large/dataset.py          1.00     11.6±0.08ms     3.5 MB/sec    1.01     11.7±0.08ms     3.5 MB/sec
linter/all-rules/numpy/ctypeslib.py        1.00      3.1±0.02ms     5.4 MB/sec    1.00      3.1±0.03ms     5.4 MB/sec
linter/all-rules/numpy/globals.py          1.01    322.2±5.91µs     9.2 MB/sec    1.00    319.7±5.25µs     9.2 MB/sec
linter/all-rules/pydantic/types.py         1.00      5.0±0.09ms     5.1 MB/sec    1.00      5.0±0.04ms     5.1 MB/sec
linter/default-rules/large/dataset.py      1.00      5.9±0.03ms     6.8 MB/sec    1.00      6.0±0.02ms     6.8 MB/sec
linter/default-rules/numpy/ctypeslib.py    1.00   1291.6±8.88µs    12.9 MB/sec    1.01  1310.2±10.92µs    12.7 MB/sec
linter/default-rules/numpy/globals.py      1.00    135.1±1.28µs    21.8 MB/sec    1.01    136.0±1.77µs    21.7 MB/sec
linter/default-rules/pydantic/types.py     1.00      2.7±0.02ms     9.3 MB/sec    1.01      2.7±0.05ms     9.3 MB/sec
</code></pre>
<!-- thollander/actions-comment-pull-request "PR Check Results" -->

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @leiserfg on 2023-04-08 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-09 02:46</div>
            <div class="timeline-body"><p>@leiserfg - Our fixture tests aren't great for this right now but @MichaReiser is improving them (e.g., we'll be able to see actual diffs rather than JSON representations of the diagnostics as is the case now).</p>
<p>If it were me, I'd just do some manual testing via the CLI on a couple files (e.g., <code>cargo run -p ruff_cli -- /path/to/file.py --select SIM105 --no-cache --fix</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leiserfg">@leiserfg</a> on 2023-04-09 16:05</div>
            <div class="timeline-body"><blockquote>
<p>If it were me, I'd just do some manual testing via the CLI on a couple files</p>
</blockquote>
<p>I tried with:</p>
<pre><code class="language-python">try:
    a = 3
except (Exception1, Exception2, something.Exception3) as e:
    pass


def asdf():
    try:
        a = 3
    except Exception:
        pass
</code></pre>
<p>and it renders as</p>
<pre><code class="language-python">import contextlib
with contextlib.suppress(Exception1, Exception2, something.Exception3):
    a = 3


def asdf():
    with contextlib.suppress(Exception):
        a = 3
        
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leiserfg">@leiserfg</a> on 2023-04-09 16:07</div>
            <div class="timeline-body"><p>By the way, should not this rule match also when the body of the handler is <code>Constant::Ellipsis</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leiserfg">@leiserfg</a> on 2023-04-09 16:29</div>
            <div class="timeline-body"><p>The edition will not remove the extra indentation in the case of being in a nested block (as in the function), I can avoid it but it could potentially remove also trailing comments which I think is more dangerous, another run of black will fix it anyways.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/leiserfg">@leiserfg</a> on 2023-04-09 20:57</div>
            <div class="timeline-body"><p>This change takes care of the indentation issue without affecting the comments as they can't be before the <code>except</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-04-09 22:39</div>
            <div class="timeline-body"><p>Nice. I ran this over Bokeh, it worked great:</p>
<pre><code class="language-diff">diff --git a/docs/bokeh/docserver.py b/docs/bokeh/docserver.py
index eafbdcaf9..d5d7e84c8 100644
--- a/docs/bokeh/docserver.py
+++ b/docs/bokeh/docserver.py
@@ -40,6 +40,7 @@ from tornado.ioloop import IOLoop
 from tornado.wsgi import WSGIContainer
 
 from bokeh.util.tornado import fixup_windows_event_loop_policy
+import contextlib
 
 IOLOOP = None
 HOST = &quot;localhost&quot;
@@ -91,10 +92,9 @@ if __name__ == &quot;__main__&quot;:
     browser = threading.Thread(target=open_browser)
     browser.start()
 
-    try:
+    with contextlib.suppress(KeyboardInterrupt):
         input(&quot;Press &lt;ENTER&gt; to exit...\n&quot;)  # lgtm [py/use-of-input]
-    except KeyboardInterrupt:
-        pass
+
 
     IOLOOP.add_callback(IOLOOP.stop)  # type: ignore
     server.join()
diff --git a/src/bokeh/embed/bundle.py b/src/bokeh/embed/bundle.py
index 1c93fee36..6eebb8da3 100644
--- a/src/bokeh/embed/bundle.py
+++ b/src/bokeh/embed/bundle.py
@@ -49,6 +49,7 @@ from ..settings import settings
 from ..util.compiler import bundle_models
 from ..util.warnings import warn
 from .util import contains_tex_string, is_tex_string
+import contextlib
 
 if TYPE_CHECKING:
     from ..resources import Hashes
@@ -309,10 +310,9 @@ def _bundle_extensions(all_objs: set[Model], resources: Resources) -&gt; list[Exten
         pkg: Pkg | None = None
         if exists(package_path):
             with open(package_path) as io:
-                try:
+                with contextlib.suppress(json.decoder.JSONDecodeError):
                     pkg = json.load(io)
-                except json.decoder.JSONDecodeError:
-                    pass
+
 
         artifact_path: str
         server_url: str
diff --git a/src/bokeh/io/export.py b/src/bokeh/io/export.py
index c72fb332f..6557f7534 100644
--- a/src/bokeh/io/export.py
+++ b/src/bokeh/io/export.py
@@ -23,7 +23,7 @@ log = logging.getLogger(__name__)
 # Standard library imports
 import io
 import os
-from contextlib import contextmanager
+from contextlib import contextmanager, suppress
 from os.path import abspath, expanduser, splitext
 from tempfile import mkstemp
 from typing import (
@@ -514,15 +514,13 @@ class _TempFile:
         if self._closed:
             return
 
-        try:
+        with suppress(OSError):
             os.close(self.fd)
-        except OSError:
-            pass
 
-        try:
+
+        with suppress(OSError):
             os.unlink(self.path)
-        except OSError:
-            pass
+
 
         self._closed = True
 
diff --git a/src/bokeh/models/util/structure.py b/src/bokeh/models/util/structure.py
index 622c23e11..cbfbeef4d 100644
--- a/src/bokeh/models/util/structure.py
+++ b/src/bokeh/models/util/structure.py
@@ -61,6 +61,7 @@ from bokeh.models import (
     TableColumn,
     TapTool,
 )
+import contextlib
 
 if TYPE_CHECKING:
     import pandas as pd
@@ -168,18 +169,15 @@ class _BokehStructureGraph:
             answer1: bool = False
             answer2: bool = False
             answer3: bool = False
-            try:
+            with contextlib.suppress(TypeError, UnsetValueError):
                 answer1 = s in getattr(H, y)
-            except (TypeError, UnsetValueError):
-                pass
-            try:
+
+            with contextlib.suppress(TypeError, UnsetValueError):
                 answer2 = s == getattr(H, y)
-            except (TypeError, UnsetValueError):
-                pass
-            try:
+
+            with contextlib.suppress(AttributeError, ValueError, UnsetValueError):
                 answer3 = s in getattr(H, y).values()
-            except (AttributeError, ValueError, UnsetValueError):
-                pass
+
             return answer1 | answer2 | answer3
 
         K = nx.DiGraph()
diff --git a/tests/support/plugins/file_server.py b/tests/support/plugins/file_server.py
index a0855a678..9f73cd23b 100644
--- a/tests/support/plugins/file_server.py
+++ b/tests/support/plugins/file_server.py
@@ -33,6 +33,7 @@ from urllib.request import URLopener
 
 # External imports
 import pytest
+import contextlib
 
 #-----------------------------------------------------------------------------
 # Globals and constants
@@ -108,11 +109,10 @@ class SimpleWebServer:
     def stop(self) -&gt; None:
         &quot;&quot;&quot;Stops the server.&quot;&quot;&quot;
         self.stop_serving = True
-        try:
+        with contextlib.suppress(OSError):
             # This is to force stop the server loop
             URLopener().open(f&quot;http://{self.host}:{self.port}&quot;)
-        except OSError:
-            pass
+
         log.info(&quot;Shutting down the webserver&quot;)
         self.thread.join()
 
diff --git a/tests/unit/bokeh/core/property/test_wrappers__property.py b/tests/unit/bokeh/core/property/test_wrappers__property.py
index cb428dd5f..678301ac2 100644
--- a/tests/unit/bokeh/core/property/test_wrappers__property.py
+++ b/tests/unit/bokeh/core/property/test_wrappers__property.py
@@ -51,6 +51,7 @@ from _util_property import _TestModel
 
 # Module under test
 import bokeh.core.property.wrappers as bcpw # isort:skip
+import contextlib
 
 #-----------------------------------------------------------------------------
 # Setup
@@ -418,15 +419,13 @@ def test_PropertyValueList_mutators(mock_notify: MagicMock) -&gt; None:
     # py2 vs py2. The slice methods are only exist in py2. The tests above
     # exercise all the  cases, this just makes py3 report the non-py3 relevant
     # code as covered.
-    try:
+    with contextlib.suppress(Exception):
         pvl.__setslice__(1,2,3)
-    except Exception:
-        pass
 
-    try:
+
+    with contextlib.suppress(Exception):
         pvl.__delslice__(1,2)
-    except Exception:
-        pass
+
 
 @patch('bokeh.core.property.wrappers.PropertyValueContainer._notify_owners')
 def test_PropertyValueSet_mutators(mock_notify: MagicMock) -&gt; None:
diff --git a/tests/unit/bokeh/embed/test_standalone.py b/tests/unit/bokeh/embed/test_standalone.py
index 0de6cb163..6f749dd47 100644
--- a/tests/unit/bokeh/embed/test_standalone.py
+++ b/tests/unit/bokeh/embed/test_standalone.py
@@ -43,6 +43,7 @@ from bokeh.themes import Theme
 
 # Module under test
 import bokeh.embed.standalone as bes # isort:skip
+import contextlib
 
 #-----------------------------------------------------------------------------
 # Setup
@@ -423,10 +424,9 @@ class Test_json_item:
         # added to a document. Ignoring that since we just want to make sure
         # ODF is called with the expected theme arg.
         theme = Theme(json={})
-        try:
+        with contextlib.suppress(ValueError):
             bes.json_item(test_plot, theme=theme)
-        except ValueError:
-            pass
+
         mock_OFD.assert_called_once_with([test_plot], apply_theme=theme)
 
 
diff --git a/tests/unit/bokeh/embed/test_util__embed.py b/tests/unit/bokeh/embed/test_util__embed.py
index 472bacfda..d43d1bf58 100644
--- a/tests/unit/bokeh/embed/test_util__embed.py
+++ b/tests/unit/bokeh/embed/test_util__embed.py
@@ -38,6 +38,7 @@ from bokeh.util.logconfig import basicConfig
 
 # Module under test
 import bokeh.embed.util as beu # isort:skip
+import contextlib
 
 #-----------------------------------------------------------------------------
 # Setup
@@ -591,10 +592,9 @@ class Test_standalone_docs_json:
         d.add_root(p2)
         # ignore error unpacking None mock result, just checking to see that
         # standalone_docs_json_and_render_items is called as expected
-        try:
+        with contextlib.suppress(ValueError):
             beu.standalone_docs_json([p1, p2])
-        except ValueError:
-            pass
+
         mock_sdjari.assert_called_once_with([p1, p2])
 
     def test_output(self) -&gt; None:
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add fix for SIM105" to "[`flake8-simplify`] Add autofix for `contextlib.suppress` (`SIM105`)" by @charliermarsh on 2023-04-09 22:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @charliermarsh on 2023-04-09 22:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">autofix</span> added by @charliermarsh on 2023-04-09 22:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @charliermarsh on 2023-04-09 22:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @charliermarsh on 2023-04-09 22:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 04:29:47 UTC
    </footer>
</body>
</html>
