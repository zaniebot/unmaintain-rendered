<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New rule to prevent implicit string concatenation in collections - astral-sh/ruff #21972</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>New rule to prevent implicit string concatenation in collections</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/21972">#21972</a>
        opened by <a href="https://github.com/hauntsaninja">@hauntsaninja</a>
        on 2025-12-14 03:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hauntsaninja">@hauntsaninja</a></div>
            <div class="timeline-body"><p>This is a common footgun, see the example in https://github.com/astral-sh/ruff/issues/13014#issuecomment-3411496519</p>
<p>Fixes #13014 , fixes #13031</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-14 03:31</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+342 -0 violations, +0 -0 fixes in 14 projects; 41 projects unchanged)</p>
<details><summary><a href="https://github.com/PlasmaPy/PlasmaPy">PlasmaPy/PlasmaPy</a> (+9 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/formulary/test_dielectric.py#L191'>tests/formulary/test_dielectric.py:191:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/formulary/test_dielectric.py#L221'>tests/formulary/test_dielectric.py:221:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/particles/test_particle_class.py#L1165'>tests/particles/test_particle_class.py:1165:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/decorators/test_checks.py#L199'>tests/utils/decorators/test_checks.py:199:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/decorators/test_checks.py#L221'>tests/utils/decorators/test_checks.py:221:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/decorators/test_checks.py#L375'>tests/utils/decorators/test_checks.py:375:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/decorators/test_checks.py#L400'>tests/utils/decorators/test_checks.py:400:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/decorators/test_checks.py#L413'>tests/utils/decorators/test_checks.py:413:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/PlasmaPy/PlasmaPy/blob/8f90993a45b0a722f4ed22dda676718be0230913/tests/utils/decorators/test_checks.py#L427'>tests/utils/decorators/test_checks.py:427:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+94 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/src/airflow/cli/commands/connection_command.py#L288'>airflow-core/src/airflow/cli/commands/connection_command.py:288:25:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L413'>airflow-core/tests/unit/always/test_project_structure.py:413:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L415'>airflow-core/tests/unit/always/test_project_structure.py:415:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L518'>airflow-core/tests/unit/always/test_project_structure.py:518:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L523'>airflow-core/tests/unit/always/test_project_structure.py:523:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L525'>airflow-core/tests/unit/always/test_project_structure.py:525:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L527'>airflow-core/tests/unit/always/test_project_structure.py:527:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L529'>airflow-core/tests/unit/always/test_project_structure.py:529:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L531'>airflow-core/tests/unit/always/test_project_structure.py:531:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L577'>airflow-core/tests/unit/always/test_project_structure.py:577:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/always/test_project_structure.py#L579'>airflow-core/tests/unit/always/test_project_structure.py:579:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/cli/commands/test_connection_command.py#L245'>airflow-core/tests/unit/cli/commands/test_connection_command.py:245:21:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/airflow/blob/55a4ecd6be6cec0d7f7850258fbf40f578841785/airflow-core/tests/unit/cli/commands/test_connection_command.py#L248'>airflow-core/tests/unit/cli/commands/test_connection_command.py:248:21:</a> ISC004 Unparenthesized implicit string concatenation in collection
... 81 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/apache/superset">apache/superset</a> (+29 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/db_engine_specs/denodo.py#L103'>superset/db_engine_specs/denodo.py:103:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/db_engine_specs/denodo.py#L109'>superset/db_engine_specs/denodo.py:109:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/db_engine_specs/denodo.py#L125'>superset/db_engine_specs/denodo.py:125:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/tool/get_chart_data.py#L312'>superset/mcp_service/chart/tool/get_chart_data.py:312:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/validation/runtime/cardinality_validator.py#L146'>superset/mcp_service/chart/validation/runtime/cardinality_validator.py:146:25:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/validation/runtime/cardinality_validator.py#L154'>superset/mcp_service/chart/validation/runtime/cardinality_validator.py:154:25:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/validation/runtime/cardinality_validator.py#L175'>superset/mcp_service/chart/validation/runtime/cardinality_validator.py:175:21:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/validation/runtime/chart_type_suggester.py#L271'>superset/mcp_service/chart/validation/runtime/chart_type_suggester.py:271:21:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/validation/schema_validator.py#L182'>superset/mcp_service/chart/validation/schema_validator.py:182:21:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/apache/superset/blob/d0361cb88101ccea9ff400c0aad8b42074012ac2/superset/mcp_service/chart/validation/schema_validator.py#L184'>superset/mcp_service/chart/validation/schema_validator.py:184:21:</a> ISC004 Unparenthesized implicit string concatenation in collection
... 19 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+4 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/typings/bs4.pyi#L15'>src/typings/bs4.pyi:15:67:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/tests/unit/bokeh/io/test_export.py#L232'>tests/unit/bokeh/io/test_export.py:232:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/tests/unit/bokeh/io/test_export.py#L299'>tests/unit/bokeh/io/test_export.py:299:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/tests/unit/bokeh/io/test_export.py#L303'>tests/unit/bokeh/io/test_export.py:303:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
</pre>

</p>
</details>
<details><summary><a href="https://github.com/langchain-ai/langchain">langchain-ai/langchain</a> (+21 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/core/tests/unit_tests/_api/test_beta_decorator.py#L19'>libs/core/tests/unit_tests/_api/test_beta_decorator.py:19:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/core/tests/unit_tests/_api/test_beta_decorator.py#L38'>libs/core/tests/unit_tests/_api/test_beta_decorator.py:38:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/core/tests/unit_tests/_api/test_deprecation.py#L26'>libs/core/tests/unit_tests/_api/test_deprecation.py:26:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/core/tests/unit_tests/_api/test_deprecation.py#L53'>libs/core/tests/unit_tests/_api/test_deprecation.py:53:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/core/tests/unit_tests/language_models/chat_models/test_rate_limiting.py#L217'>libs/core/tests/unit_tests/language_models/chat_models/test_rate_limiting.py:217:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/langchain/langchain_classic/evaluation/scoring/prompt.py#L42'>libs/langchain/langchain_classic/evaluation/scoring/prompt.py:42:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py#L31'>libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py:31:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py#L37'>libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py:37:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py#L47'>libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py:47:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/langchain-ai/langchain/blob/37d8666276cee78dbe410f9d6e472f3024125825/libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py#L56'>libs/langchain/tests/unit_tests/chains/test_qa_with_sources.py:56:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
... 11 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pandas-dev/pandas">pandas-dev/pandas</a> (+81 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/conftest.py#L161'>pandas/conftest.py:161:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/io/parsers/c_parser_wrapper.py#L369'>pandas/io/parsers/c_parser_wrapper.py:369:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/arithmetic/test_period.py#L1157'>pandas/tests/arithmetic/test_period.py:1157:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/arithmetic/test_period.py#L1192'>pandas/tests/arithmetic/test_period.py:1192:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/arrays/datetimes/test_constructors.py#L34'>pandas/tests/arrays/datetimes/test_constructors.py:34:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/arrays/floating/test_arithmetic.py#L170'>pandas/tests/arrays/floating/test_arithmetic.py:170:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/computation/test_eval.py#L179'>pandas/tests/computation/test_eval.py:179:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/computation/test_eval.py#L224'>pandas/tests/computation/test_eval.py:224:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/groupby/test_raises.py#L265'>pandas/tests/groupby/test_raises.py:265:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/groupby/test_raises.py#L442'>pandas/tests/groupby/test_raises.py:442:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pandas-dev/pandas/blob/b43b95d2b4ef015903f45c9b34e2030bb582d70a/pandas/tests/groupby/test_raises.py#L448'>pandas/tests/groupby/test_raises.py:448:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
... 70 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pypa/pip">pypa/pip</a> (+29 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/src/pip/_internal/index/collector.py#L480'>src/pip/_internal/index/collector.py:480:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/src/pip/_internal/operations/freeze.py#L201'>src/pip/_internal/operations/freeze.py:201:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/functional/test_check.py#L181'>tests/functional/test_check.py:181:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/functional/test_install.py#L2030'>tests/functional/test_install.py:2030:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/functional/test_install_check.py#L112'>tests/functional/test_install_check.py:112:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/functional/test_new_resolver_hashes.py#L45'>tests/functional/test_new_resolver_hashes.py:45:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/functional/test_new_resolver_hashes.py#L54'>tests/functional/test_new_resolver_hashes.py:54:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/unit/test_collector.py#L130'>tests/unit/test_collector.py:130:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/unit/test_collector.py#L778'>tests/unit/test_collector.py:778:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/pip/blob/91d1ae2f22df116f710931133db46130dc07e945/tests/unit/test_collector.py#L816'>tests/unit/test_collector.py:816:9:</a> ISC004 Unparenthesized implicit string concatenation in collection
... 19 additional changes omitted for project
</pre>

</p>
</details>
<details><summary><a href="https://github.com/pypa/setuptools">pypa/setuptools</a> (+11 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --no-fix --output-format concise --preview</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/pkg_resources/tests/test_resources.py#L278'>pkg_resources/tests/test_resources.py:278:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/pkg_resources/tests/test_resources.py#L296'>pkg_resources/tests/test_resources.py:296:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/pkg_resources/tests/test_resources.py#L325'>pkg_resources/tests/test_resources.py:325:17:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/bdist_egg.py#L82'>setuptools/command/bdist_egg.py:82:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/bdist_egg.py#L89'>setuptools/command/bdist_egg.py:89:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/bdist_wheel.py#L148'>setuptools/command/bdist_wheel.py:148:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/bdist_wheel.py#L154'>setuptools/command/bdist_wheel.py:154:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/bdist_wheel.py#L188'>setuptools/command/bdist_wheel.py:188:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/bdist_wheel.py#L200'>setuptools/command/bdist_wheel.py:200:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
+ <a href='https://github.com/pypa/setuptools/blob/d198e86f57231e83de87975c5c82bc40c196da79/setuptools/command/dist_info.py#L32'>setuptools/command/dist_info.py:32:13:</a> ISC004 Unparenthesized implicit string concatenation in collection
... 1 additional changes omitted for project
</pre>

</p>
</details>

<p><em>... Truncated remaining completed project reports due to GitHub comment length restrictions</em></p>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| ISC004 | 342 | 342 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @hauntsaninja on 2025-12-14 06:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zsol">@zsol</a> on 2025-12-14 16:40</div>
            <div class="timeline-body"><p>FWIW This was one of the more impactful lint rules in Fixit that prevented several serious outages at Instagram/Meta</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:96 on 2025-12-15 07:44</div>
            <div class="timeline-body"><p>I don't think we should offer a fix here. The whole point of the rule is that it's unclear if the string is supposed to be two collection items or a single collection item.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-12-15 07:44</div>
            <div class="timeline-body"><p>Thank you. This rule makes sense to me</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hauntsaninja">@hauntsaninja</a> reviewed on 2025-12-15 07:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:96 on 2025-12-15 07:52</div>
            <div class="timeline-body"><p>Would you be okay with an &quot;unsafe&quot; fix?</p>
<p>I've been working with this rule on a massive codebase and having the fix made diffs much easier to review (in addition to genuinely fixing all the non-buggy cases)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hauntsaninja">@hauntsaninja</a> reviewed on 2025-12-15 07:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:96 on 2025-12-15 07:55</div>
            <div class="timeline-body"><p>In general, there are several ruff autofixes that aren't exactly in line with the point of the rule (e.g. adding strict=False to <code>zip</code>s) but are useful because they make diffs much more obvious and help people adopt the rule in the first place</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @ntBre by @MichaReiser on 2025-12-16 07:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2025-12-16 07:34</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:96 on 2025-12-16 07:34</div>
            <div class="timeline-body"><p>I'd be okay with that, but it's a stretch on what unsafe is intended for, because there's nothing inherently unsafe with the fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @ntBre on 2025-12-16 16:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @ntBre on 2025-12-16 16:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:96 on 2025-12-16 16:26</div>
            <div class="timeline-body"><p>I'm okay with this too. It's not what we usually use unsafe fixes for, but I'm convinced by the benefits.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:57 on 2025-12-16 16:31</div>
            <div class="timeline-body"><p>I don't feel strongly about this at all, but the <code>did you forget a comma?</code> after the semi-colon feels slightly too long/out of place to me. A couple of other options would be dropping it entirely or moving it to a <code>help</code> (or <code>info</code>) sub-diagnostic. That would look something like this:</p>
<pre><code>ISC004 [*] Unparenthesized implicit string concatenation in collection
 --&gt; ISC004.py:4:5
  |
2 |       &quot;Lobsters have blue blood.&quot;,
3 |       &quot;The liver is the only human organ that can fully regenerate itself.&quot;,
4 | /     &quot;Clarinets are made almost entirely out of wood from the mpingo tree.&quot;
5 | |     &quot;In 1971, astronaut Alan Shepard played golf on the moon.&quot;,
  | |______________________________________________________________^
6 |   )
  |
help: Did you forget a comma?
help: Wrap implicitly concatenated strings in parentheses
1 | facts = (
2 |     &quot;Lobsters have blue blood.&quot;,
3 |     &quot;The liver is the only human organ that can fully regenerate itself.&quot;,
  -     &quot;Clarinets are made almost entirely out of wood from the mpingo tree.&quot;
  -     &quot;In 1971, astronaut Alan Shepard played golf on the moon.&quot;,
4 +     (&quot;Clarinets are made almost entirely out of wood from the mpingo tree.&quot;
5 +     &quot;In 1971, astronaut Alan Shepard played golf on the moon.&quot;),
6 | )
7 | 
8 | facts = [
</code></pre>
<p>But again, I don't feel strongly, and we can leave it here in the main message if you prefer. That has the benefit of showing up in the <code>--output-format=concise</code> diagnostic anyway.</p>
<p>I also wonder if <code>Ambiguous</code> might be a better first word in the diagnostic than <code>Unparenthesized</code> since that's the problem parenthesizing is trying to fix, but that's an even smaller nit/suggestion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-12-16 16:42</div>
            <div class="timeline-body"><p>Thank you, this looks great!</p>
<p>I only had one comment with a couple of small ideas, but I'm also happy with the current state of the diagnostic.</p>
<p>I do agree with Micha that we should make this an unsafe fix, if we keep the fix, though.</p>
<p>I think we should also touch base upstream. They expressed interest in adding this rule as well (https://github.com/flake8-implicit-str-concat/flake8-implicit-str-concat/issues/55), so we should double check the error code to stay in sync, if we make it an ISC rule, which I think makes sense otherwise.</p>
<p>Have you had a chance to go through the ecosystem results? Cases like this feel a bit unfortunate to me:</p>
<pre><code class="language-py">        assert not np.isclose(val, expected, rtol=1e-16, atol=0.0), (
            f&quot;Permittivity value test gives {val} and should not be &quot;
            f&quot;equal to {expected}.&quot;,
        )
</code></pre>
<p>Maybe we should exclude cases with a single element?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-12-16 17:41</div>
            <div class="timeline-body"><p>I think I'm fine with</p>
<pre><code class="language-py">        assert not np.isclose(val, expected, rtol=1e-16, atol=0.0), (
          f&quot;Permittivity value test gives {val} and should not be &quot;
          f&quot;equal to {expected}.&quot;,
      )
</code></pre>
<p>because the trailing <code>,</code> is probably unintentional (it's now a tuple instead of string)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2025-12-16 20:59</div>
            <div class="timeline-body"><p>Thank you both!</p>
<blockquote>
<p>cases with single element</p>
</blockquote>
<p>Like Micha says, this should be a string not a tuple. There were several accidental tuples in my work codebase, so this would be good to keep. (Most of these were asserts, we could consider a separate rule that complains about single element str tuples as assert message)</p>
<blockquote>
<p>did you forget a comma</p>
</blockquote>
<p>Moved it to a note, thanks!</p>
<blockquote>
<p>I do agree with Micha that we should make this an unsafe fix</p>
</blockquote>
<p>Made it an unsafe fix, thanks!</p>
<blockquote>
<p>ambiguous vs unparenthesized</p>
</blockquote>
<p>I prefer &quot;unparenthesized&quot; because it makes it clearer what the lint rule wants you to do</p>
<blockquote>
<p>I think we should also touch base upstream</p>
</blockquote>
<p>Commented upstream</p>
<blockquote>
<p>ecosystem results</p>
</blockquote>
<p>Yeah, I looked at them, felt mostly positive / expected hits to me. In a large internal codebase this has caught dozens and dozens and dozens of bugs, and is a readability improvement in most of the other cases.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/flake8_implicit_str_concat/rules/collection_literal.rs</code>:54 on 2025-12-16 21:07</div>
            <div class="timeline-body"><p>Could you bump this to <code>0.14.10</code>? Sorry!</p>
<pre><code class="language-suggestion">#[violation_metadata(preview_since = &quot;0.14.10&quot;)]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-12-16 21:07</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hauntsaninja">@hauntsaninja</a> on 2025-12-16 21:40</div>
            <div class="timeline-body"><p>Fixed, and all is green!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-12-16 21:48</div>
            <div class="timeline-body"><p>Thanks again! I might give upstream at least until tomorrow to make sure there are no objections on the rule code (I take the :rocket: react on your comment as a positive sign), but this is otherwise good to go and should land before our release on Thursday.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ntBre on 2025-12-17 22:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-12-17 22:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:18:04 UTC
    </footer>
</body>
</html>
