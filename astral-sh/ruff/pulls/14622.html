<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow disabling (most of) CI with `no-test` label - astral-sh/ruff #14622</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow disabling (most of) CI with <code>no-test</code> label</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14622">#14622</a>
        opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a>
        on 2024-11-27 04:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-11-27 04:23</div>
            <div class="timeline-body"><p>Ref: https://github.com/astral-sh/uv/pull/9456</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ci</span> added by @dhruvmanila on 2024-11-27 04:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">no-test</span> added by @dhruvmanila on 2024-11-27 04:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-11-27 07:46</div>
            <div class="timeline-body"><p>I don't mind the change if other people find it useful, but I worry that it adds complexity to our CI jobs without being used much because it requires an extra label. I'm probably too lazy to add it, and not adding it has no actual cost to me. Would it make more sense to automatically apply the new behavior to draft PRs unless they have a specific label? Draft PRs already express the <em>I'm not done yet</em> without requiring an extra step from my side (and the <code>gh</code> CLI makes it very easy to publish in draft, publishing with a label is a bit more involved)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2024-11-27 07:48</div>
            <div class="timeline-body"><blockquote>
<p>Would it make more sense to automatically apply the new behavior to draft PRs unless they have a specific label because draft PRs already express the: I'm not done here.</p>
</blockquote>
<p>Yeah, I think I'm more in favor of checking the draft status of the PR instead of label. I've asked @zanieb for their opinion on this, will wait until then. I'm happy to hear others opinion as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-27 11:36</div>
            <div class="timeline-body"><p>One of the reasons I sometimes open draft PRs is to e.g. check it passes all CI before requesting the review of codeowners. Most CI can be run locally, it's true, but for some CI jobs it's much easier to just see how it does on GitHub (e.g. the ecosystem checks). So I'm not sure I'd be a huge fan of auto-disabling all CI for draft PRs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2025-01-21 21:41</div>
            <div class="timeline-body"><p>Just noticed the cross-link here. I feel pretty strongly that it doesn't make sense to toggle based on &quot;draft&quot; status â€” for the same reasons Alex said. This has required no maintenance since we added it in uv. I don't know if that changes anything here. We have more expensive CI over there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> approved on 2025-01-22 07:04</div>
            <div class="timeline-body"><p>I don't have a use case for this myself but if anyone else finds it useful, then I don't see why we shouldn't do it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dhruvmanila">@dhruvmanila</a> on 2025-01-22 08:29</div>
            <div class="timeline-body"><p>I'll go ahead and merge this but happy to re-iterate or revert if this turns out to be not so useful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @dhruvmanila on 2025-01-22 08:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @dhruvmanila on 2025-01-22 08:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-01-22 08:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 20:06:10 UTC
    </footer>
</body>
</html>
