<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Use `C[T]` instead of `C[Unknown]` for the upper bound of `Self` - astral-sh/ruff #20479</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Use <code>C[T]</code> instead of <code>C[Unknown]</code> for the upper bound of <code>Self</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/20479">#20479</a>
        opened by <a href="https://github.com/sharkdp">@sharkdp</a>
        on 2025-09-19 08:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a></div>
            <div class="timeline-body">Summary
<p>This PR includes two changes, both of which are necessary to resolve <a href="https://github.com/astral-sh/ty/issues/1196">astral-sh/ty#1196</a>:</p>
<ul>
<li>For a generic class <code>C[T]</code>, we previously used <code>C[Unknown]</code> as the upper bound of the <code>Self</code> type variable. There were two problems with this. For one, when <code>Self</code> appeared in contravariant position, we would materialize its upper bound to <code>Bottom[C[Unknown]]</code> (which might simplify to <code>C[Never]</code> if <code>C</code> is covariant in <code>T</code>) when accessing methods on <code>Top[C[Unknown]]</code>. This would result in <code>invalid-argument</code> errors on the <code>self</code> parameter. Also, using an upper bound of <code>C[Unknown]</code> would mean that inside methods, references to <code>T</code> would be treated as <code>Unknown</code>. This could lead to false negatives. To fix this, we now use <code>C[T]</code> (with a &quot;nested&quot; typevar) as the upper bound for <code>Self</code> on <code>C[T]</code>.</li>
<li>In order to make this work, we needed to allow assignability/subtyping of inferable typevars to other types, since we now check assignability of e.g. <code>C[int]</code> to <code>C[T]</code> (when checking assignability to the upper bound of <code>Self</code>) when calling an instance-method on <code>C[int]</code> whose <code>self</code> parameter is annotated as <code>self: Self</code> (or implicitly <code>Self</code>, following <a href="https://github.com/astral-sh/ruff/pull/18007">astral-sh/ruff#18007</a>).</li>
</ul>
<p>closes <a href="https://github.com/astral-sh/ty/issues/1196">astral-sh/ty#1196</a>
closes <a href="https://github.com/astral-sh/ty/issues/1208">astral-sh/ty#1208</a></p>
Test Plan
<p>Regression tests for both issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 08:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-19 08:47</div>
            <div class="timeline-body">

Diagnostic diff on <a href="https://github.com/python/typing/tree/d4f39b27a4a47aac8b6d4019e1b0b5b3156fabdc/conformance">typing conformance tests</a>

Changes were detected when running ty on typing conformance tests

<pre><code>--- old-output.txt	2025-09-23 11:27:35.083401635 +0000
+++ new-output.txt	2025-09-23 11:27:38.269417422 +0000
@@ -1,6 +1,6 @@
 WARN ty is pre-release software and not ready for production use. Expect to encounter bugs, missing features, and fatal errors.
 fatal[panic] Panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/3713cd7/src/function/execute.rs:213:25 when checking `/home/runner/work/ruff/ruff/typing/conformance/tests/aliases_type_statement.py`: `PEP695TypeAliasType &lt; &#x27;db &gt;::value_type_(Id(b816)): execute: too many cycle iterations`
-fatal[panic] Panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/3713cd7/src/function/execute.rs:213:25 when checking `/home/runner/work/ruff/ruff/typing/conformance/tests/aliases_typealiastype.py`: `infer_definition_types(Id(12e7a)): execute: too many cycle iterations`
+fatal[panic] Panicked at /home/runner/.cargo/git/checkouts/salsa-e6f3bb7c2a062968/3713cd7/src/function/execute.rs:213:25 when checking `/home/runner/work/ruff/ruff/typing/conformance/tests/aliases_typealiastype.py`: `infer_definition_types(Id(1327a)): execute: too many cycle iterations`
 _directives_deprecated_library.py:15:31: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `int`
 _directives_deprecated_library.py:30:26: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `str`
 _directives_deprecated_library.py:36:41: error[invalid-return-type] Function always implicitly returns `None`, which is not assignable to return type `Self@__add__`
</code></pre>


</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-19 09:01</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>anyio (https://github.com/agronholm/anyio)
- src/anyio/_backends/_asyncio.py:2530:13: error[invalid-argument-type] Argument to bound method `run` is incorrect: Expected `(...) -&gt; Future[T_Retval@run_async_from_thread]`, found `def run_coroutine_threadsafe[_T](coro: Coroutine[Any, Any, _T@run_coroutine_threadsafe], loop: AbstractEventLoop) -&gt; Future[_T@run_coroutine_threadsafe]`
- Found 227 diagnostics
+ Found 226 diagnostics

graphql-core (https://github.com/graphql-python/graphql-core)
- src/graphql/execution/execute.py:185:5: error[invalid-assignment] Object of type `staticmethod` is not assignable to `(Any, /) -&gt; bool`
- Found 303 diagnostics
+ Found 302 diagnostics

schemathesis (https://github.com/schemathesis/schemathesis)
- src/schemathesis/specs/openapi/negative/mutations.py:463:33: error[invalid-parameter-default] Default value of type `def ident[T](x: T@ident) -&gt; T@ident` is not assignable to annotated parameter type `(T@ordered, /) -&gt; Any`
- Found 272 diagnostics
+ Found 271 diagnostics

typeshed-stats (https://github.com/AlexWaygood/typeshed-stats)
- src/typeshed_stats/gather.py:1000:13: error[invalid-argument-type] Argument to bound method `from_lines` is incorrect: Expected `str | ((str, /) -&gt; Pattern)`, found `&lt;class &#x27;GitWildMatchPattern&#x27;&gt;`
- Found 25 diagnostics
+ Found 24 diagnostics

Expression (https://github.com/cognitedata/Expression)
- expression/collections/seq.py:637:41: error[invalid-argument-type] Argument to function `init_infinite` is incorrect: Expected `(int, /) -&gt; Unknown`, found `def identity[_A](value: _A@identity) -&gt; _A@identity`
- expression/extra/result/traversable.py:50:21: error[invalid-argument-type] Argument to function `traverse` is incorrect: Expected `(Result[_TSource@sequence, _TError@sequence], /) -&gt; Result[Unknown, Unknown]`, found `def identity[_A](value: _A@identity) -&gt; _A@identity`
- tests/test_array.py:357:1: error[invalid-assignment] Object of type `def singleton[_TSource](value: _TSource@singleton) -&gt; TypedArray[_TSource@singleton]` is not assignable to `(int, /) -&gt; TypedArray[int]`
- tests/test_block.py:335:1: error[invalid-assignment] Object of type `def singleton[_TSource](value: _TSource@singleton) -&gt; Block[_TSource@singleton]` is not assignable to `(int, /) -&gt; Block[int]`
- tests/test_map.py:49:19: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Map[str, int], /) -&gt; Unknown`, found `def to_seq[_Key, _Value](table: Map[_Key@to_seq, _Value@to_seq]) -&gt; Iterable[tuple[_Key@to_seq, _Value@to_seq]]`
- tests/test_option.py:28:21: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Option[Literal[42]], /) -&gt; Unknown`, found `def is_some[_TSource](option: Option[_TSource@is_some]) -&gt; @Todo(`TypeGuard[]` special form)`
- tests/test_option.py:29:21: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Option[Literal[42]], /) -&gt; Unknown`, found `def is_none[_TSource](option: Option[_TSource@is_none]) -&gt; @Todo(`TypeGuard[]` special form)`
- tests/test_parser.py:232:9: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Parser[str], /) -&gt; Unknown`, found `def many[_A](parser: Parser[_A@many]) -&gt; Parser[Block[_A@many]]`
- tests/test_result.py:487:24: error[invalid-argument-type] Argument to bound method `pipe` is incorrect: Expected `(Result[Literal[42], Any], /) -&gt; Unknown`, found `def swap[_TSource, _TError](result: Result[_TSource@swap, _TError@swap]) -&gt; Result[_TError@swap, _TSource@swap]`
- tests/test_result.py:573:24: error[invalid-argument-type] Argument to bound method `pipe` is incorrect: Expected `(Result[Literal[42], Any], /) -&gt; Unknown`, found `def merge[_TSource](result: Result[_TSource@merge, _TSource@merge]) -&gt; _TSource@merge`
- tests/test_seq.py:308:20: error[invalid-argument-type] Argument to bound method `choose` is incorrect: Expected `(None | Literal[42], /) -&gt; Option[Unknown]`, found `def of_optional[_TSource](value: _TSource@of_optional | None) -&gt; Option[_TSource@of_optional]`
- tests/test_seq.py:321:1: error[invalid-assignment] Object of type `def singleton[_TSource](item: _TSource@singleton) -&gt; Seq[_TSource@singleton]` is not assignable to `(int, /) -&gt; Seq[int]`
- Found 223 diagnostics
+ Found 211 diagnostics

urllib3 (https://github.com/urllib3/urllib3)
- test/__init__.py:119:12: error[invalid-return-type] Return type does not match returned value: expected `(_TestFuncT@notWindows, /) -&gt; _TestFuncT@notWindows`, found `Unknown | MarkDecorator`
- test/__init__.py:126:12: error[invalid-return-type] Return type does not match returned value: expected `(_TestFuncT@onlyBrotli, /) -&gt; _TestFuncT@onlyBrotli`, found `Unknown | MarkDecorator`
- test/__init__.py:132:12: error[invalid-return-type] Return type does not match returned value: expected `(_TestFuncT@notBrotli, /) -&gt; _TestFuncT@notBrotli`, found `Unknown | MarkDecorator`
- test/__init__.py:138:12: error[invalid-return-type] Return type does not match returned value: expected `(_TestFuncT@onlyZstd, /) -&gt; _TestFuncT@onlyZstd`, found `Unknown | MarkDecorator`
- test/__init__.py:145:12: error[invalid-return-type] Return type does not match returned value: expected `(_TestFuncT@notZstd, /) -&gt; _TestFuncT@notZstd`, found `Unknown | MarkDecorator`
- test/__init__.py:205:12: error[invalid-return-type] Return type does not match returned value: expected `(_TestFuncT@resolvesLocalhostFQDN, /) -&gt; _TestFuncT@resolvesLocalhostFQDN`, found `Unknown | MarkDecorator`
- Found 386 diagnostics
+ Found 380 diagnostics

xarray (https://github.com/pydata/xarray)
- xarray/core/utils.py:290:5: error[invalid-parameter-default] Default value of type `def equivalent[T](first: T@equivalent, second: T@equivalent) -&gt; bool` is not assignable to annotated parameter type `(V@update_safety_check, V@update_safety_check, /) -&gt; bool`
- xarray/core/utils.py:318:5: error[invalid-parameter-default] Default value of type `def equivalent[T](first: T@equivalent, second: T@equivalent) -&gt; bool` is not assignable to annotated parameter type `(V@remove_incompatible_items, V@remove_incompatible_items, /) -&gt; bool`
- xarray/core/utils.py:390:5: error[invalid-parameter-default] Default value of type `def equivalent[T](first: T@equivalent, second: T@equivalent) -&gt; bool` is not assignable to annotated parameter type `(V@dict_equiv, V@dict_equiv, /) -&gt; bool`
- xarray/core/utils.py:417:5: error[invalid-parameter-default] Default value of type `def equivalent[T](first: T@equivalent, second: T@equivalent) -&gt; bool` is not assignable to annotated parameter type `(V@compat_dict_intersection, V@compat_dict_intersection, /) -&gt; bool`
- xarray/core/utils.py:445:5: error[invalid-parameter-default] Default value of type `def equivalent[T](first: T@equivalent, second: T@equivalent) -&gt; bool` is not assignable to annotated parameter type `(V@compat_dict_union, V@compat_dict_union, /) -&gt; bool`
- Found 1600 diagnostics
+ Found 1595 diagnostics

discord.py (https://github.com/Rapptz/discord.py)
- discord/ext/commands/core.py:2123:12: error[invalid-return-type] Return type does not match returned value: expected `(T@has_any_role, /) -&gt; T@has_any_role`, found `Check[Unknown]`
- discord/ext/commands/core.py:2156:12: error[invalid-return-type] Return type does not match returned value: expected `(T@bot_has_role, /) -&gt; T@bot_has_role`, found `Check[Unknown]`
- discord/ext/commands/core.py:2185:12: error[invalid-return-type] Return type does not match returned value: expected `(T@bot_has_any_role, /) -&gt; T@bot_has_any_role`, found `Check[Unknown]`
- Found 512 diagnostics
+ Found 509 diagnostics

trio (https://github.com/python-trio/trio)
- src/trio/_path.py:235:34: error[invalid-argument-type] Argument to function `_wrap_method_path` is incorrect: Expected `(...) -&gt; Path`, found `def readlink(self) -&gt; Self@readlink`
- src/trio/_path.py:236:32: error[invalid-argument-type] Argument to function `_wrap_method_path` is incorrect: Expected `(...) -&gt; Path`, found `def rename(self, target: str | PurePath) -&gt; Self@rename`
- src/trio/_path.py:237:33: error[invalid-argument-type] Argument to function `_wrap_method_path` is incorrect: Expected `(...) -&gt; Path`, found `def replace(self, target: str | PurePath) -&gt; Self@replace`
- src/trio/_path.py:238:33: error[invalid-argument-type] Argument to function `_wrap_method_path` is incorrect: Expected `(...) -&gt; Path`, found `def resolve(self, strict: bool = Literal[False]) -&gt; Self@resolve`
- src/trio/_path.py:245:34: error[invalid-argument-type] Argument to function `_wrap_method_path` is incorrect: Expected `(...) -&gt; Path`, found `def absolute(self) -&gt; Self@absolute`
- src/trio/_path.py:246:36: error[invalid-argument-type] Argument to function `_wrap_method_path` is incorrect: Expected `(...) -&gt; Path`, found `def expanduser(self) -&gt; Self@expanduser`
- src/trio/_tests/test_testing_raisesgroup.py:390:10: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- src/trio/_tests/test_threads.py:89:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run_sync[RetT](fn: (...) -&gt; RetT@from_thread_run_sync, *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run_sync`
- src/trio/_tests/test_threads.py:96:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run_sync[RetT](fn: (...) -&gt; RetT@from_thread_run_sync, *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run_sync`
- src/trio/_tests/test_threads.py:104:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run[RetT](afn: (...) -&gt; Awaitable[RetT@from_thread_run], *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run`
- src/trio/_tests/test_threads.py:112:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run[RetT](afn: (...) -&gt; Awaitable[RetT@from_thread_run], *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run`
- src/trio/_tests/type_tests/raisesgroup.py:98:5: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- src/trio/_tests/type_tests/raisesgroup.py:103:5: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- src/trio/_tests/type_tests/raisesgroup.py:119:5: error[no-matching-overload] No overload of bound method `__init__` matches arguments
+ src/trio/_tests/type_tests/raisesgroup.py:92:51: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/trio/_tests/type_tests/raisesgroup.py:95:49: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/trio/_tests/type_tests/raisesgroup.py:99:57: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/trio/_tests/type_tests/raisesgroup.py:102:48: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/trio/_tests/type_tests/raisesgroup.py:106:67: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
+ src/trio/_tests/type_tests/raisesgroup.py:107:69: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 673 diagnostics
+ Found 665 diagnostics

mypy (https://github.com/python/mypy)
- mypy/modulefinder.py:41:38: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `Overload[(path: PathLike[AnyStr@abspath]) -&gt; AnyStr@abspath, (path: AnyStr@abspath) -&gt; AnyStr@abspath]`
- mypy/modulefinder.py:43:36: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `Overload[(path: PathLike[AnyStr@abspath]) -&gt; AnyStr@abspath, (path: AnyStr@abspath) -&gt; AnyStr@abspath]`
- mypy/modulefinder.py:45:39: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `Overload[(path: PathLike[AnyStr@abspath]) -&gt; AnyStr@abspath, (path: AnyStr@abspath) -&gt; AnyStr@abspath]`
- mypy/modulefinder.py:47:40: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `Overload[(path: PathLike[AnyStr@abspath]) -&gt; AnyStr@abspath, (path: AnyStr@abspath) -&gt; AnyStr@abspath]`
- Found 1858 diagnostics
+ Found 1854 diagnostics

cwltool (https://github.com/common-workflow-language/cwltool)
- cwltool/process.py:1182:5: error[invalid-parameter-default] Default value of type `def urljoin[AnyStr](base: AnyStr@urljoin, url: AnyStr@urljoin | None, allow_fragments: bool = Literal[True]) -&gt; AnyStr@urljoin` is not assignable to annotated parameter type `(str, str, /) -&gt; str`
- Found 144 diagnostics
+ Found 143 diagnostics

meson (https://github.com/mesonbuild/meson)
- mesonbuild/dependencies/python.py:104:33: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(Unknown, str, /) -&gt; Unknown`, found `Overload[(a: Sequence[_T@getitem], b: slice[Any, Any, Any], /) -&gt; Sequence[_T@getitem], (a: SupportsGetItem[_K@getitem, _V@getitem], b: _K@getitem, /) -&gt; _V@getitem]`
- unittests/helpers.py:228:16: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; R@xfail_if_jobname, /) -&gt; (...) -&gt; R@xfail_if_jobname`, found `def expectedFailure[_FT](test_item: _FT@expectedFailure) -&gt; _FT@expectedFailure`
- unittests/linuxliketests.py:712:48: error[invalid-argument-type] Argument to function `copytree` is incorrect: Expected `(str, str, /) -&gt; object`, found `def copyfile[_StrOrBytesPathT](src: @Todo(Support for `typing.TypeAlias`), dst: _StrOrBytesPathT@copyfile, *, follow_symlinks: bool = Literal[True]) -&gt; _StrOrBytesPathT@copyfile`
- Found 850 diagnostics
+ Found 847 diagnostics

setuptools (https://github.com/pypa/setuptools)
- setuptools/_distutils/command/install.py:718:24: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `Overload[(path: PathLike[AnyStr@normpath]) -&gt; AnyStr@normpath, (path: AnyOrLiteralStr@normpath) -&gt; AnyOrLiteralStr@normpath]`
- setuptools/_distutils/tests/test_bdist_dumb.py:74:44: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `Overload[(p: PathLike[AnyStr@basename]) -&gt; AnyStr@basename, (p: AnyOrLiteralStr@basename) -&gt; AnyOrLiteralStr@basename]`
- Found 771 diagnostics
+ Found 769 diagnostics

openlibrary (https://github.com/internetarchive/openlibrary)
+ openlibrary/catalog/utils/__init__.py:31:18: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 713 diagnostics
+ Found 714 diagnostics

pwndbg (https://github.com/pwndbg/pwndbg)
- pwndbg/dbg/gdb/__init__.py:1666:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def exit[T](func: () -&gt; T@exit, **kwargs: Any) -&gt; () -&gt; T@exit`
- pwndbg/dbg/gdb/__init__.py:1668:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def cont[T](func: () -&gt; T@cont, **kwargs: Any) -&gt; () -&gt; T@cont`
- pwndbg/dbg/gdb/__init__.py:1670:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def start[T](func: () -&gt; T@start, **kwargs: Any) -&gt; () -&gt; T@start`
- pwndbg/dbg/gdb/__init__.py:1672:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def stop[T](func: () -&gt; T@stop, **kwargs: Any) -&gt; () -&gt; T@stop`
- pwndbg/dbg/gdb/__init__.py:1674:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def new_objfile[T](func: () -&gt; T@new_objfile, **kwargs: Any) -&gt; () -&gt; T@new_objfile`
- pwndbg/dbg/gdb/__init__.py:1676:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def mem_changed[T](func: () -&gt; T@mem_changed, **kwargs: Any) -&gt; () -&gt; T@mem_changed`
- pwndbg/dbg/gdb/__init__.py:1678:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def reg_changed[T](func: () -&gt; T@reg_changed, **kwargs: Any) -&gt; () -&gt; T@reg_changed`
- Found 2529 diagnostics
+ Found 2522 diagnostics

ibis (https://github.com/ibis-project/ibis)
- ibis/backends/tests/test_numeric.py:1079:26: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(Unknown, Unknown, Unknown | int, /) -&gt; Unknown`, found `Overload[(arg1: SupportsRichComparisonT@min, arg2: SupportsRichComparisonT@min, /, *_args: SupportsRichComparisonT@min, *, key: None = None) -&gt; SupportsRichComparisonT@min, (arg1: _T@min, arg2: _T@min, /, *_args: _T@min, *, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None) -&gt; SupportsRichComparisonT@min, (iterable: Iterable[_T@min], *, /, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None, default: _T@min) -&gt; SupportsRichComparisonT@min | _T@min, (iterable: Iterable[_T1@min], *, /, key: (_T1@min, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@min) -&gt; _T1@min | _T2@min]`
- ibis/backends/tests/test_numeric.py:1091:26: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(Unknown, Unknown, Unknown | int, /) -&gt; Unknown`, found `Overload[(arg1: SupportsRichComparisonT@max, arg2: SupportsRichComparisonT@max, /, *_args: SupportsRichComparisonT@max, *, key: None = None) -&gt; SupportsRichComparisonT@max, (arg1: _T@max, arg2: _T@max, /, *_args: _T@max, *, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None) -&gt; SupportsRichComparisonT@max, (iterable: Iterable[_T@max], *, /, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None, default: _T@max) -&gt; SupportsRichComparisonT@max | _T@max, (iterable: Iterable[_T1@max], *, /, key: (_T1@max, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@max) -&gt; _T1@max | _T2@max]`
- Found 3281 diagnostics
+ Found 3279 diagnostics

jax (https://github.com/google/jax)
- jax/_src/tree_util.py:868:29: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(typing.TypeVar, /) -&gt; Unknown`, found `(def _simple_entrystr[KeyEntry](key: KeyEntry@_simple_entrystr) -&gt; str) | &lt;class &#x27;str&#x27;&gt;`
- Found 2249 diagnostics
+ Found 2248 diagnostics

core (https://github.com/home-assistant/core)
- homeassistant/components/nordpool/sensor.py:205:59: error[invalid-argument-type] Argument to function `get_min_max_price` is incorrect: Expected `(int | float, int | float, /) -&gt; int | float`, found `Overload[(arg1: SupportsRichComparisonT@min, arg2: SupportsRichComparisonT@min, /, *_args: SupportsRichComparisonT@min, *, key: None = None) -&gt; SupportsRichComparisonT@min, (arg1: _T@min, arg2: _T@min, /, *_args: _T@min, *, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None) -&gt; SupportsRichComparisonT@min, (iterable: Iterable[_T@min], *, /, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None, default: _T@min) -&gt; SupportsRichComparisonT@min | _T@min, (iterable: Iterable[_T1@min], *, /, key: (_T1@min, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@min) -&gt; _T1@min | _T2@min]`
- homeassistant/components/nordpool/sensor.py:207:48: error[invalid-argument-type] Argument to function `get_min_max_price` is incorrect: Expected `(int | float, int | float, /) -&gt; int | float`, found `Overload[(arg1: SupportsRichComparisonT@min, arg2: SupportsRichComparisonT@min, /, *_args: SupportsRichComparisonT@min, *, key: None = None) -&gt; SupportsRichComparisonT@min, (arg1: _T@min, arg2: _T@min, /, *_args: _T@min, *, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None) -&gt; SupportsRichComparisonT@min, (iterable: Iterable[_T@min], *, /, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None, default: _T@min) -&gt; SupportsRichComparisonT@min | _T@min, (iterable: Iterable[_T1@min], *, /, key: (_T1@min, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@min) -&gt; _T1@min | _T2@min]`
- homeassistant/components/nordpool/sensor.py:208:46: error[invalid-argument-type] Argument to function `get_min_max_price` is incorrect: Expected `(int | float, int | float, /) -&gt; int | float`, found `Overload[(arg1: SupportsRichComparisonT@min, arg2: SupportsRichComparisonT@min, /, *_args: SupportsRichComparisonT@min, *, key: None = None) -&gt; SupportsRichComparisonT@min, (arg1: _T@min, arg2: _T@min, /, *_args: _T@min, *, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None) -&gt; SupportsRichComparisonT@min, (iterable: Iterable[_T@min], *, /, key: (_T@min, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@min, (iterable: Iterable[SupportsRichComparisonT@min], *, /, key: None = None, default: _T@min) -&gt; SupportsRichComparisonT@min | _T@min, (iterable: Iterable[_T1@min], *, /, key: (_T1@min, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@min) -&gt; _T1@min | _T2@min]`
- homeassistant/components/nordpool/sensor.py:215:59: error[invalid-argument-type] Argument to function `get_min_max_price` is incorrect: Expected `(int | float, int | float, /) -&gt; int | float`, found `Overload[(arg1: SupportsRichComparisonT@max, arg2: SupportsRichComparisonT@max, /, *_args: SupportsRichComparisonT@max, *, key: None = None) -&gt; SupportsRichComparisonT@max, (arg1: _T@max, arg2: _T@max, /, *_args: _T@max, *, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None) -&gt; SupportsRichComparisonT@max, (iterable: Iterable[_T@max], *, /, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None, default: _T@max) -&gt; SupportsRichComparisonT@max | _T@max, (iterable: Iterable[_T1@max], *, /, key: (_T1@max, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@max) -&gt; _T1@max | _T2@max]`
- homeassistant/components/nordpool/sensor.py:217:48: error[invalid-argument-type] Argument to function `get_min_max_price` is incorrect: Expected `(int | float, int | float, /) -&gt; int | float`, found `Overload[(arg1: SupportsRichComparisonT@max, arg2: SupportsRichComparisonT@max, /, *_args: SupportsRichComparisonT@max, *, key: None = None) -&gt; SupportsRichComparisonT@max, (arg1: _T@max, arg2: _T@max, /, *_args: _T@max, *, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None) -&gt; SupportsRichComparisonT@max, (iterable: Iterable[_T@max], *, /, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None, default: _T@max) -&gt; SupportsRichComparisonT@max | _T@max, (iterable: Iterable[_T1@max], *, /, key: (_T1@max, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@max) -&gt; _T1@max | _T2@max]`
- homeassistant/components/nordpool/sensor.py:218:46: error[invalid-argument-type] Argument to function `get_min_max_price` is incorrect: Expected `(int | float, int | float, /) -&gt; int | float`, found `Overload[(arg1: SupportsRichComparisonT@max, arg2: SupportsRichComparisonT@max, /, *_args: SupportsRichComparisonT@max, *, key: None = None) -&gt; SupportsRichComparisonT@max, (arg1: _T@max, arg2: _T@max, /, *_args: _T@max, *, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None) -&gt; SupportsRichComparisonT@max, (iterable: Iterable[_T@max], *, /, key: (_T@max, /) -&gt; @Todo(Support for `typing.TypeAlias`)) -&gt; _T@max, (iterable: Iterable[SupportsRichComparisonT@max], *, /, key: None = None, default: _T@max) -&gt; SupportsRichComparisonT@max | _T@max, (iterable: Iterable[_T1@max], *, /, key: (_T1@max, /) -&gt; @Todo(Support for `typing.TypeAlias`), default: _T2@max) -&gt; _T1@max | _T2@max]`
- homeassistant/components/ovo_energy/sensor.py:41:5: error[invalid-assignment] Object of type `Overload[(number: _SupportsRound1[_T@round], ndigits: None = None) -&gt; _T@round, (number: _SupportsRound2[_T@round], ndigits: SupportsIndex) -&gt; _T@round]` is not assignable to `(Unknown, /) -&gt; StateType | datetime`
+ homeassistant/config.py:387:55: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 13463 diagnostics
+ Found 13457 diagnostics

sympy (https://github.com/sympy/sympy)
- sympy/matrices/matrixbase.py:574:23: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(Self@hstack, Self@hstack, /) -&gt; Self@hstack`, found `def row_join(self, other: Self@row_join) -&gt; Self@row_join`
- sympy/matrices/matrixbase.py:926:23: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(Self@vstack, Self@vstack, /) -&gt; Self@vstack`, found `def col_join(self, other: Self@col_join, /) -&gt; Self@col_join`
+ sympy/polys/polyclasses.py:1289:31: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- sympy/polys/polyclasses.py:2347:25: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 13595 diagnostics
+ Found 13593 diagnostics

CPython (Argument Clinic) (https://github.com/python/cpython)
- Lib/idlelib/tree.py:436:9: error[no-matching-overload] No overload of bound method `sort` matches arguments
- Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_itertools.py:146:31: error[no-matching-overload] No overload of function `__new__` matches arguments
- Lib/test/test_itertools.py:148:31: error[no-matching-overload] No overload of function `__new__` matches arguments
- Lib/tokenize.py:124:22: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `def escape[AnyStr](pattern: AnyStr@escape) -&gt; AnyStr@escape`
- Found 23904 diagnostics
+ Found 23900 diagnostics

CPython (cases_generator) (https://github.com/python/cpython)
- Lib/idlelib/tree.py:436:9: error[no-matching-overload] No overload of bound method `sort` matches arguments
- Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_itertools.py:146:31: error[no-matching-overload] No overload of function `__new__` matches arguments
- Lib/test/test_itertools.py:148:31: error[no-matching-overload] No overload of function `__new__` matches arguments
- Lib/tokenize.py:124:22: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `def escape[AnyStr](pattern: AnyStr@escape) -&gt; AnyStr@escape`
- Found 23904 diagnostics
+ Found 23900 diagnostics

CPython (peg_generator) (https://github.com/python/cpython)
- Lib/idlelib/tree.py:436:9: error[no-matching-overload] No overload of bound method `sort` matches arguments
- Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2142:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2144:34: error[invalid-argument-type] Argument to bound method `__lt__` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[Unknown]` of type variable `Self`
+ Lib/test/test_ipaddress.py:2538:66: error[invalid-argument-type] Argument to bound method `address_exclude` is incorrect: Argument type `IPv4Address | IPv6Address` does not satisfy upper bound `_BaseNetwork[_A@_BaseNetwork]` of type variable `Self`
- Lib/test/test_itertools.py:146:31: error[no-matching-overload] No overload of function `__new__` matches arguments
- Lib/test/test_itertools.py:148:31: error[no-matching-overload] No overload of function `__new__` matches arguments
- Lib/tokenize.py:124:22: error[invalid-argument-type] Argument to function `__new__` is incorrect: Expected `(str, /) -&gt; Unknown`, found `def escape[AnyStr](pattern: AnyStr@escape) -&gt; AnyStr@escape`
- Found 23903 diagnostics
+ Found 23899 diagnostics

</code></pre>

No memory usage changes detected ✅

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 09:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-09-19 09:07</div>
            <div class="timeline-body">

<code>ecosystem-analyzer</code> results
<p>| Lint rule | Added | Removed | Changed |
|-----------|------:|--------:|--------:|
| <code>invalid-argument-type</code> | 0 | 40 | 0 |
| <code>invalid-return-type</code> | 0 | 17 | 0 |
| <code>unused-ignore-comment</code> | 9 | 1 | 0 |
| <code>invalid-parameter-default</code> | 0 | 7 | 0 |
| <code>invalid-assignment</code> | 0 | 5 | 0 |
| <code>no-matching-overload</code> | 1 | 0 | 0 |
| <strong>Total</strong> | <strong>10</strong> | <strong>70</strong> | <strong>0</strong> |</p>
<p><strong><a href="https://david-fix-1196.ecosystem-663.pages.dev/diff">Full report with detailed diff</a></strong></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> removed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 11:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 11:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> removed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 12:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 12:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> removed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 16:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 16:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-19 17:06</div>
            <div class="timeline-body"><p>It&#x27;s just an endless rabbithole. Now we pick the wrong overload of <code>datetime.__sub__</code> when called with a <code>timedelta</code> for some reason. Probably because of the <code>skip_assignability_check</code> hack — which allows <code>timedelta</code> to be incorrectly assigned to <code>Self@datetime</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> removed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 13:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 13:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-09-22 13:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/ty_python_semantic/resources/mdtest/overloads.md</code>:140 on 2025-09-22 13:45</div>
            <div class="timeline-body"><p>This is a new test case adapted from a <code>datetime</code>/<code>timedelta</code> example observed in the ecosystem.</p>
<p>The lower of these two assertions was failing with the induct-into-bounds-of-typevars approach, because we would pick the first overload and return <code>Foo3 | Literal[1]</code>, if assignability to the upper bound of <code>Self</code> was not properly checked. And if we properly check the assignability to the upper bound of <code>Self</code>, we&#x27;re getting <code>false</code> from the missing <code>has_relation_to_impl</code> branch, and can&#x27;t fix <a href="https://github.com/astral-sh/ty/issues/1196">astral-sh/ty#1196</a>. So at that point, we need to bring back all of the subtyping/assignability adjustments. And then the induction into the bounds of <code>Self</code> doesn&#x27;t have any observable effect anymore, so I reverted it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> removed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-22 14:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/resources/mdtest/generics/legacy/functions.md</code>:369 on 2025-09-23 01:21</div>
            <div class="timeline-body"><pre><code>## Passing generic functions to generic functions
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/resources/mdtest/narrow/isinstance.md</code>:328 on 2025-09-23 01:23</div>
            <div class="timeline-body"><p>Why do we need the explicit <code>Self</code> annotations in this test?</p>
<p>Is this the right way to write the tests long-term (i.e. once we support implicit-type-of-self properly)? If not, should we have a TODO here to remove these annotations?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-09-23 01:55</div>
            <div class="timeline-body"><p>Probably best for @dcreager to review this, since it&#x27;s taking some initial steps in the direction of the full constraint accumulation PR. But if you&#x27;re blocked by landing it, or @dcreager has already taken a look at it in offline consultation, it looks good to me as a step in the right direction.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/ty_python_semantic/src/types.rs</code>:6734 on 2025-09-23 02:02</div>
            <div class="timeline-body"><p>We discussed this synchronously, but can you add a bit more context here for when the <code>None</code> case will be invoked? (The <code>Some</code> case is because a generic function might reference other typevars from enclosing generic scopes, and we only want to make <em>that function&#x27;s</em> typevars as inferable. But once we have decided that a particular typevar should be marked inferable, then any typevars mentioned in its default values (and bound/constraints if that approach had turned out to be fruitful) should be unconditionally marked as inferable)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/ty_python_semantic/src/types.rs</code>:7692 on 2025-09-23 02:04</div>
            <div class="timeline-body"><p>And then a bit of copy/paste from that commentary here where we switch from the <code>Some</code> case to the <code>None</code> case</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dcreager">@dcreager</a> approved on 2025-09-23 02:06</div>
            <div class="timeline-body"><p>We discussed offline a couple of different possibilities, and I&#x27;m convinced that this is the right expedient solution to unblock the type-of-self work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for <a href="https://github.com/AlexWaygood">@AlexWaygood</a> removed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-09-23 06:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-09-23 11:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/ty_python_semantic/resources/mdtest/narrow/isinstance.md</code>:328 on 2025-09-23 11:11</div>
            <div class="timeline-body"><blockquote>
<p>Why do we need the explicit <code>Self</code> annotations in this test?</p>
</blockquote>
<p>With these explicit <code>Self</code> annotations, these all become regression tests for <a href="https://github.com/astral-sh/ty/issues/1196">astral-sh/ty#1196</a>. I could have added new tests, but would have had to duplicate the different variance examples from here. Hopefully <code>self</code> and <code>self: Self</code> will soon be exactly equivalent (?), so yes, we will be able to remove these soon. I added TODO comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-23 12:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/sharkdp">@sharkdp</a> on 2025-09-23 12:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-09-23 12:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:18:48 UTC
    </footer>
</body>
</html>
