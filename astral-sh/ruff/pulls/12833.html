<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove error messages for removed CLI aliases - astral-sh/ruff #12833</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Remove error messages for removed CLI aliases</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/12833">#12833</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2024-08-12 09:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a></div>
            <div class="timeline-body">Summary
<p>This PR removes the following CLI aliases:</p>
<ul>
<li><code>ruff &lt;path&gt;</code> to <code>ruff check &lt;path&gt;</code></li>
<li><code>ruff --explain</code> to <code>ruff rule</code></li>
<li><code>ruff --clean</code> to <code>ruff clean</code></li>
<li><code>ruff --generate-shell-completion</code> to <code>ruff generate-shell-completion</code></li>
</ul>
<p>The aliases are deprecated since Ruff 0.3 and using them became a hard error in 0.5.</p>
<p>Closes <a href="https://github.com/astral-sh/ruff/issues/10171">astral-sh/ruff#10171</a></p>
Test Plan
<p>I tested that using any of the aliases becomes a hard error.</p>
Alternatives
<p>We could keep the error messages around a little longer. It&#x27;s not a lot of code but I would also expect that most users have migrated at this time (unless they skip 0.5)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-12 09:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">cli</span> added by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-12 09:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">breaking</span> removed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-12 09:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-08-12 09:13</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>‚úÖ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>‚úÖ ecosystem check detected no linter changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2024-08-12 11:24</div>
            <div class="timeline-body"><blockquote>
<p>We could keep the error messages around a little longer. It&#x27;s not a lot of code but I would also expect that most users have migrated at this time (unless they skip 0.5)</p>
</blockquote>
<p>I&#x27;d lean towards keeping these for another minor release, but I don&#x27;t feel strongly</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-12 12:31</div>
            <div class="timeline-body"><p>Like until 0.7.0?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-12 12:37</div>
            <div class="timeline-body"><blockquote>
<p>Like until 0.7.0?</p>
</blockquote>
<p>yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-12 12:42</div>
            <div class="timeline-body"><blockquote>
<p>yes</p>
</blockquote>
<p>Are you sure you won&#x27;t feel the same. IMO, we should either not remove the messages until like 1.0 or go ahead with it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-08-12 12:49</div>
            <div class="timeline-body"><blockquote>
<p>Are you sure you won&#x27;t feel the same.</p>
</blockquote>
<p>Yeah, pretty sure :P</p>
<p>With a one-month period, I feel like folks who aren&#x27;t super speedy in updating their dependencies could easily just bump their Ruff pin from 0.4 to 0.6 and never see the nice error message we&#x27;re giving them right now. Doubling the period to two months doesn&#x27;t get rid of that risk (nothing can), but I feel like there&#x27;ll be substantially fewer people falling into that bucket.</p>
<p>Again, though, I don&#x27;t feel strongly. They&#x27;ve been deprecated for ages and this abides by our versioning scheme.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-12 12:54</div>
            <div class="timeline-body"><p>This isn&#x27;t that much code to keep around for another cycle ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-12 12:56</div>
            <div class="timeline-body"><blockquote>
<p>IMO, we should either not remove the messages until like 1.0 or go ahead with it.</p>
</blockquote>
<p>I don&#x27;t really agree with this. I don&#x27;t think we should special-case 1.0.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-12 13:59</div>
            <div class="timeline-body"><blockquote>
<p>This isn&#x27;t that much code to keep around for another cycle ü§∑‚Äç‚ôÄÔ∏è</p>
</blockquote>
<p>That&#x27;s not my concern. My concern is that we keep spending time debating the same. That&#x27;s why I rather postpone the removal indefinitely because the win of removing is very minimal (with the exception of <code>--output-format=text</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v0.7&quot; by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-08-12 13:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zanieb">@zanieb</a> on 2024-08-12 14:37</div>
            <div class="timeline-body"><p>Sounds like Alex and I have loosely held opinions, maybe make the decision based on code maintenance? I agree we shouldn&#x27;t discuss it every cycle: we should set a future milestone and stick to it unless we&#x27;re getting clear feedback from the community that it is incorrect. We can also always revert (restore the helpful error) if we get reports from confused users.</p>
<p>Regardless, I think you should do what you think is best here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tmke8">@tmke8</a> on 2024-08-13 08:48</div>
            <div class="timeline-body"><p>Just stumbling upon this PR... as a more long-term solution, it might be nice if there were a general mechanism that checks whether an unknown flag matches a subcommand, and then to suggest that subcommand in the error message. Could even be checking if there is a match with a small edit distance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2024-10-08 11:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-10-08 11:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-08 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-10-08 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-10-08 11:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:05:58 UTC
    </footer>
</body>
</html>
