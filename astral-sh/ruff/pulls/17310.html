<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`airflow`] Extract `AIR311` from `AIR301` rules (`AIR301`, `AIR311`) - astral-sh/ruff #17310</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>airflow</code>] Extract <code>AIR311</code> from <code>AIR301</code> rules (<code>AIR301</code>, <code>AIR311</code>)</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17310">#17310</a>
        opened by <a href="https://github.com/Lee-W">@Lee-W</a>
        on 2025-04-09 11:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-09 11:07</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<!-- What's the purpose of the change? What does it do, and why? -->

<p>As discussed in https://github.com/astral-sh/ruff/issues/14626#issuecomment-2766146129, we're to separate suggested changes from required changes.</p>
<p>The following symbols have been moved to AIR311 from AIR301. They still work in Airflow 3.0, but they're suggested to be changed as they're expected to be removed in a future version.</p>
<ul>
<li>arguments<ul>
<li><code>airflow..DAG | dag</code><ul>
<li><code>sla_miss_callback</code></li>
</ul>
</li>
<li>operators<ul>
<li><code>sla</code></li>
</ul>
</li>
</ul>
</li>
<li>name<ul>
<li><code>airflow.Dataset] | [airflow.datasets.Dataset</code> ‚Üí <code>airflow.sdk.Asset</code></li>
<li><code>airflow.datasets, rest @ ..</code><ul>
<li><code>DatasetAlias</code> ‚Üí <code>airflow.sdk.AssetAlias</code></li>
<li><code>DatasetAll</code> ‚Üí <code>airflow.sdk.AssetAll</code></li>
<li><code>DatasetAny</code> ‚Üí <code>airflow.sdk.AssetAny</code></li>
<li><code>expand_alias_to_datasets</code> ‚Üí <code>airflow.sdk.expand_alias_to_assets</code></li>
<li><code>metadata.Metadata</code> ‚Üí <code>airflow.sdk.Metadata</code></li>
</ul>
</li>
</ul>
  <!--airflow.models.baseoperator-->

<ul>
<li><code>airflow.models.baseoperator.chain</code> ‚Üí <code>airflow.sdk.chain</code></li>
<li><code>airflow.models.baseoperator.chain_linear</code> ‚Üí <code>airflow.sdk.chain_linear</code></li>
<li><code>airflow.models.baseoperator.cross_downstream</code> ‚Üí <code>airflow.sdk.cross_downstream</code></li>
<li><code>airflow.models.baseoperatorlink.BaseOperatorLink</code> ‚Üí <code>airflow.sdk.definitions.baseoperatorlink.BaseOperatorLink</code></li>
<li><code>airflow.timetables, rest @ ..</code><ul>
<li><code>datasets.DatasetOrTimeSchedule</code> ‚Üí * <code>airflow.timetables.assets.AssetOrTimeSchedule</code></li>
</ul>
</li>
<li><code>airflow.utils, rest @ ..</code>  <!--airflow.utils.dag_parsing_context-->

<ul>
<li><code>dag_parsing_context.get_parsing_context</code> ‚Üí <code>airflow.sdk.get_parsing_context</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Test Plan</h2>
<!-- How was it tested? -->

<p>The test fixture has been updated acccordingly</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Extract air301 to air311" to "feat(AIR311): move suggested changes to AIR311" by @Lee-W on 2025-04-09 11:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "feat(AIR311): move suggested changes to AIR311" to "[`airflow`] Extract `AIR311` from `AIR301` rules (`AIR301`, `AIR311`)" by @Lee-W on 2025-04-10 15:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @Lee-W on 2025-04-10 15:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-10 15:46</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>‚úÖ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>‚ÑπÔ∏è ecosystem check <strong>detected linter changes</strong>. (+134 -134 violations, +0 -0 fixes in 1 projects; 54 projects unchanged)</p>
<details><summary><a href="https://github.com/apache/airflow">apache/airflow</a> (+134 -134 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --no-fix --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_appflow.py#L102'>providers/amazon/tests/system/amazon/aws/example_appflow.py:102:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_appflow.py#L102'>providers/amazon/tests/system/amazon/aws/example_appflow.py:102:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_appflow_run.py#L182'>providers/amazon/tests/system/amazon/aws/example_appflow_run.py:182:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_appflow_run.py#L182'>providers/amazon/tests/system/amazon/aws/example_appflow_run.py:182:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_athena.py#L159'>providers/amazon/tests/system/amazon/aws/example_athena.py:159:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_athena.py#L159'>providers/amazon/tests/system/amazon/aws/example_athena.py:159:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_azure_blob_to_s3.py#L65'>providers/amazon/tests/system/amazon/aws/example_azure_blob_to_s3.py:65:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_azure_blob_to_s3.py#L65'>providers/amazon/tests/system/amazon/aws/example_azure_blob_to_s3.py:65:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_batch.py#L258'>providers/amazon/tests/system/amazon/aws/example_batch.py:258:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_batch.py#L258'>providers/amazon/tests/system/amazon/aws/example_batch.py:258:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L108'>providers/amazon/tests/system/amazon/aws/example_bedrock.py:108:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L108'>providers/amazon/tests/system/amazon/aws/example_bedrock.py:108:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L137'>providers/amazon/tests/system/amazon/aws/example_bedrock.py:137:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L137'>providers/amazon/tests/system/amazon/aws/example_bedrock.py:137:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L197'>providers/amazon/tests/system/amazon/aws/example_bedrock.py:197:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock.py#L197'>providers/amazon/tests/system/amazon/aws/example_bedrock.py:197:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_batch_inference.py#L167'>providers/amazon/tests/system/amazon/aws/example_bedrock_batch_inference.py:167:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_batch_inference.py#L167'>providers/amazon/tests/system/amazon/aws/example_bedrock_batch_inference.py:167:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py#L111'>providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py:111:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py#L111'>providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py:111:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py#L112'>providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py:112:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py#L112'>providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py:112:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py#L567'>providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py:567:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py#L567'>providers/amazon/tests/system/amazon/aws/example_bedrock_retrieve_and_generate.py:567:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_cloudformation.py#L101'>providers/amazon/tests/system/amazon/aws/example_cloudformation.py:101:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_cloudformation.py#L101'>providers/amazon/tests/system/amazon/aws/example_cloudformation.py:101:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend.py#L118'>providers/amazon/tests/system/amazon/aws/example_comprehend.py:118:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend.py#L118'>providers/amazon/tests/system/amazon/aws/example_comprehend.py:118:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend.py#L74'>providers/amazon/tests/system/amazon/aws/example_comprehend.py:74:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend.py#L74'>providers/amazon/tests/system/amazon/aws/example_comprehend.py:74:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py#L109'>providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py:109:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py#L109'>providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py:109:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py#L198'>providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py:198:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py#L198'>providers/amazon/tests/system/amazon/aws/example_comprehend_document_classifier.py:198:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_datasync.py#L217'>providers/amazon/tests/system/amazon/aws/example_datasync.py:217:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_datasync.py#L217'>providers/amazon/tests/system/amazon/aws/example_datasync.py:217:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dms.py#L408'>providers/amazon/tests/system/amazon/aws/example_dms.py:408:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dms.py#L408'>providers/amazon/tests/system/amazon/aws/example_dms.py:408:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dms_serverless.py#L345'>providers/amazon/tests/system/amazon/aws/example_dms_serverless.py:345:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dms_serverless.py#L345'>providers/amazon/tests/system/amazon/aws/example_dms_serverless.py:345:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dynamodb.py#L109'>providers/amazon/tests/system/amazon/aws/example_dynamodb.py:109:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dynamodb.py#L109'>providers/amazon/tests/system/amazon/aws/example_dynamodb.py:109:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py#L154'>providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py:154:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py#L154'>providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py:154:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py#L234'>providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py:234:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py#L234'>providers/amazon/tests/system/amazon/aws/example_dynamodb_to_s3.py:234:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_ec2.py#L187'>providers/amazon/tests/system/amazon/aws/example_ec2.py:187:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_ec2.py#L187'>providers/amazon/tests/system/amazon/aws/example_ec2.py:187:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
- <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_ecs.py#L199'>providers/amazon/tests/system/amazon/aws/example_ecs.py:199:5:</a> AIR301 `airflow.models.baseoperator.chain` is removed in Airflow 3.0
+ <a href='https://github.com/apache/airflow/blob/86de25fa987b8a48aa922045c23ab82889f55a71/providers/amazon/tests/system/amazon/aws/example_ecs.py#L199'>providers/amazon/tests/system/amazon/aws/example_ecs.py:199:5:</a> AIR311 `airflow.models.baseoperator.chain` is removed in Airflow 3.0; It still works in Airflow 3.0 but is expected to be removed in a future version.
... 218 additional changes omitted for project
</pre>

</p>
</details>
<details><summary>Changes by rule (2 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| AIR311 | 134 | 134 | 0 | 0 | 0 |
| AIR301 | 134 | 0 | 134 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-10 15:57</div>
            <div class="timeline-body"><p>Hey @ntBre , I might have some refactoring on this one but would appreciate it if we could get an early review to see if I'm doing things right. Thanks üôÇ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-12 01:52</div>
            <div class="timeline-body"><p>@ntBre After a second check, I think this is ready to be reviewed. Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:233 on 2025-04-14 16:43</div>
            <div class="timeline-body"><p>nit: should this just be <code>airflow_3_suggested_update_expr</code> or is there a chance for more of these for minor versions? <code>airflow_3_1_...</code> for example</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/helpers.rs</code>:87 on 2025-04-14 16:51</div>
            <div class="timeline-body"><p>It looks like this function is only used once. Are you anticipating using it more in the future? If not, I might lean toward just inlining the additional two arguments to <code>is_airflow_builtin_or_provider</code> at the one call site.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:64 on 2025-04-14 16:54</div>
            <div class="timeline-body"><p>Should this have a <code> \</code> too? I think this will include a newline. I didn't see any extra newlines in the tests, though, so maybe I'm wrong.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:158 on 2025-04-14 17:09</div>
            <div class="timeline-body"><p>nit: we might want to store the output of <code>segments()</code> since it's used here and also in the second arm below.</p>
<p>Actually, I guess you can just replace the <code>_</code> in the second match arm with a name like <code>segments</code> to handle this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/snapshots/ruff_linter__rules__airflow__tests__AIR311_AIR311_args.py.snap</code>:7 on 2025-04-14 17:14</div>
            <div class="timeline-body"><p>Should these diagnostics say <code>AIR311</code> instead of <code>AIR301</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:89 on 2025-04-14 17:20</div>
            <div class="timeline-body"><p>very minor nit: I'd include a newline between the end of the previous function and the next one, here and in a few other places.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-04-14 17:20</div>
            <div class="timeline-body"><p>Thanks! Just some minor nits, but this looks great overall.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 12:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/checkers/ast/analyze/expression.rs</code>:233 on 2025-04-15 12:39</div>
            <div class="timeline-body"><p>No, but these suggested updates might no longer be just suggested updates for versions like 3.1</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 13:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/helpers.rs</code>:87 on 2025-04-15 13:02</div>
            <div class="timeline-body"><p>sounds good. updated</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 13:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:64 on 2025-04-15 13:08</div>
            <div class="timeline-body"><p>After a second thought, I think not having breakline's good. so I remove these <code>\</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 13:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:64 on 2025-04-15 13:25</div>
            <div class="timeline-body"><p>Tested with a few more formats. I decided to add them back to avoig newlines</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 13:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:158 on 2025-04-15 13:37</div>
            <div class="timeline-body"><blockquote>
<p>nit: we might want to store the output of segments() since it's used here and also in the second arm below.</p>
</blockquote>
<p>just extracted it</p>
<blockquote>
<p>Actually, I guess you can just replace the _ in the second match arm with a name like segments to handle this.</p>
</blockquote>
<p>I'm not sure I get this part ü§î  could you please elaborate a bit more</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 13:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/snapshots/ruff_linter__rules__airflow__tests__AIR311_AIR311_args.py.snap</code>:7 on 2025-04-15 13:43</div>
            <div class="timeline-body"><p>fixed. Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-15 13:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:158 on 2025-04-15 13:54</div>
            <div class="timeline-body"><p>I should have included a suggestion, but I didn't want to reselect my line range on GitHub :laughing:</p>
<p>Instead of something like this (which I'm guessing you meant by extracting):</p>
<pre><code class="language-rust">let segments = qualified_name.segments();
match segments { ... }
</code></pre>
<p>You can use the <code>match</code> pattern to bind <code>segments</code>:</p>
<pre><code class="language-rust">match qualified_name.segments() {
    [&quot;airflow&quot;, ..] =&gt; ...,
    segments =&gt; if is_airflow_operator(segments) {
                checker.report_diagnostics(diagnostic_for_argument(arguments, &quot;sla&quot;, None));
            }
}
</code></pre>
<p>Either way is fine, but that might be slightly neater than extracting the variable like normal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:158 on 2025-04-15 14:14</div>
            <div class="timeline-body"><p>just fixed it. this looks nice!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 14:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-15 14:16</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:89 on 2025-04-15 14:16</div>
            <div class="timeline-body"><p>Updated!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-15 14:18</div>
            <div class="timeline-body"><p>btw do you know when will the next version be released?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-15 14:30</div>
            <div class="timeline-body"><blockquote>
<p>btw do you know when will the next version be released?</p>
</blockquote>
<p>Should be this Thursday!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @dhruvmanila on 2025-04-15 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">preview</span> added by @dhruvmanila on 2025-04-15 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ntBre">@ntBre</a> on 2025-04-15 19:13</div>
            <div class="timeline-body"><p>Is this ready for one more quick review and then merging? I see the comments are resolved, but I don't see any new commits. Maybe GitHub is showing things out of order, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-15 23:24</div>
            <div class="timeline-body"><p>@ntBre yep, this is ready. I guess I might have fixed up some commits (but there should still have one or two new commits ü§î</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Lee-W">@Lee-W</a> on 2025-04-15 23:34</div>
            <div class="timeline-body"><p>in case of anything missed, i just rebase from the latest main and pushed again</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> reviewed on 2025-04-16 14:05</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/rules/suggested_to_update_3_0.rs</code>:64 on 2025-04-16 14:05</div>
            <div class="timeline-body"><p>That's good. I think some other parts of the code (maybe concise output?) expect these to be single lines.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/ntBre">@ntBre</a> on <code>crates/ruff_linter/src/rules/airflow/snapshots/ruff_linter__rules__airflow__tests__AIR311_AIR311_args.py.snap</code>:4 on 2025-04-16 14:06</div>
            <div class="timeline-body"><p>This one still says 301, but the filename says 311. Is that right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-04-16 14:15</div>
            <div class="timeline-body"><p>Thanks! I have one more question about a rule code. Is there somewhere that both <code>Airflow3SuggestedUpdate</code> and <code>Airflow3Removal</code> are being emitted? I'm a bit confused how both rules are active at once since the <code>test_case</code> should only be activating <code>Airflow3SuggestedUpdate</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-16 14:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/snapshots/ruff_linter__rules__airflow__tests__AIR311_AIR311_args.py.snap</code>:4 on 2025-04-16 14:27</div>
            <div class="timeline-body"><p>Oh... this is correct, but probably shouldn't be added here. The test case is supposed to check <code>sla</code> instead. let me change it a bit</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Lee-W">@Lee-W</a> reviewed on 2025-04-16 14:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/Lee-W">@Lee-W</a> on <code>crates/ruff_linter/src/rules/airflow/snapshots/ruff_linter__rules__airflow__tests__AIR311_AIR311_args.py.snap</code>:4 on 2025-04-16 14:48</div>
            <div class="timeline-body"><p>spot one bug and refactor the existing rule with the suggestion in this PR. just updated</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ntBre">@ntBre</a> approved on 2025-04-16 15:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ntBre on 2025-04-16 15:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ntBre on 2025-04-16 15:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 19:33:28 UTC
    </footer>
</body>
</html>
