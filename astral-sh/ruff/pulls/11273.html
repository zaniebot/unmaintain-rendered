<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handle single element cases in PYI016 - astral-sh/ruff #11273</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Handle single element cases in PYI016</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/11273">#11273</a>
        opened by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a>
        on 2024-05-03 21:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on 2024-05-03 21:10</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>For code like:</p>
<pre><code class="language-python">from typing import Union
x: Union[int, Union[int]]
</code></pre>
<p><code>PYI016</code> was not being raised, since the iterator was only matching on <code>Tuple</code>s inside the <code>Union[]</code>.</p>
<p>Same as https://github.com/PyCQA/flake8-pyi/issues/484</p>
<h2>Test Plan</h2>
<p><code>cargo test</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @tusharsadhwani on 2024-05-03 21:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @tusharsadhwani on 2024-05-03 21:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on 2024-05-03 21:28</div>
            <div class="timeline-body"><p>Seems to have broken PYI055 pretty severely. The PYI041 failure seems like a false positive though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @zanieb by @zanieb on 2024-05-04 01:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-08 18:33</div>
            <div class="timeline-body"><p>Hi @tusharsadhwani. Could you help me understand what's left to do for this PR and if you plan to work on it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on 2024-09-08 18:44</div>
            <div class="timeline-body"><p>Hey, from what I remember adding this test case and the implementation for it ended up breaking other lints, and I never got around to figuring out why the other lints broke.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-08 19:06</div>
            <div class="timeline-body"><p>Thanks. Are you okay with me closing the PR or do you plan to look into this in the future?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tusharsadhwani">@tusharsadhwani</a> on 2024-09-08 19:32</div>
            <div class="timeline-body"><p>It ended up being troublesome in the original flake8-pyi project as well, probably best to close it for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2024-09-08 19:44</div>
            <div class="timeline-body"><p>Thanks for the quick reply and for exploring an implementation of this rule.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2024-09-08 19:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-09-08 19:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 21:39:00 UTC
    </footer>
</body>
</html>
