<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ty] Avoid storing invalid multi-inference attempts - astral-sh/ruff #22062</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ty] Avoid storing invalid multi-inference attempts</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/22062">#22062</a>
        opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a>
        on 2025-12-18 21:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/ibraheemdev">@ibraheemdev</a> on 2025-12-18 21:20</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>This should make revealed types a little nicer, as well as avoid confusing the constraint solver in some cases (which were showing up in https://github.com/astral-sh/ruff/pull/21930).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @ibraheemdev on 2025-12-18 21:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ecosystem-analyzer</span> added by @ibraheemdev on 2025-12-18 21:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-18 21:22</div>
            <div class="timeline-body"><!-- generated-comment typing_conformance_diagnostics_diff -->

<h2>Diagnostic diff on <a href="https://github.com/python/typing/tree/9f6d8ced7cd1c8d92687a4e9c96d7716452e471e/conformance">typing conformance tests</a></h2>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-18 21:23</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<details>
<summary>Changes were detected when running on open source projects</summary>

<pre><code class="language-diff">graphql-core (https://github.com/graphql-python/graphql-core)
- tests/type/test_definition.py:163:72: error[invalid-argument-type] Argument to function `parse_literal` is incorrect: Expected `ValueNode`, found `dict[Unknown | str, Unknown | str] &amp; dict[str, Any]`
+ tests/type/test_definition.py:163:72: error[invalid-argument-type] Argument to function `parse_literal` is incorrect: Expected `ValueNode`, found `dict[str, Any] &amp; dict[Unknown | str, Unknown | str]`

scrapy (https://github.com/scrapy/scrapy)
- tests/test_downloadermiddleware_cookies.py:363:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[str, str | bytes] &amp; dict[Unknown | str, Unknown | bytes]`
+ tests/test_downloadermiddleware_cookies.py:363:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[Unknown | str, Unknown | bytes]`
- tests/test_downloadermiddleware_cookies.py:368:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[str, str | bytes] &amp; dict[Unknown | str, Unknown | bytes]`
+ tests/test_downloadermiddleware_cookies.py:368:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[Unknown | str, Unknown | bytes]`
- tests/test_downloadermiddleware_cookies.py:438:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[str, str | bool] &amp; dict[Unknown | str, Unknown | bool]`
+ tests/test_downloadermiddleware_cookies.py:438:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[Unknown | str, Unknown | bool]`
- tests/test_downloadermiddleware_cookies.py:443:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[str, str | float] &amp; dict[Unknown | str, Unknown | float]`
+ tests/test_downloadermiddleware_cookies.py:443:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[Unknown | str, Unknown | float]`
- tests/test_downloadermiddleware_cookies.py:448:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[str, str | int] &amp; dict[Unknown | str, Unknown | int]`
+ tests/test_downloadermiddleware_cookies.py:448:46: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `dict[Unknown | str, Unknown | int]`
- tests/test_http_request.py:667:58: error[invalid-argument-type] Argument to bound method `from_response` is incorrect: Expected `dict[str, Iterable[str]] | list[tuple[str, Iterable[str]]] | None`, found `dict[str, Iterable[str] | None] &amp; dict[Unknown | str, Unknown | None]`
+ tests/test_http_request.py:667:58: error[invalid-argument-type] Argument to bound method `from_response` is incorrect: Expected `dict[str, Iterable[str]] | list[tuple[str, Iterable[str]]] | None`, found `dict[Unknown | str, Unknown | None]`
- tests/test_utils_request.py:377:13: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `list[VerboseCookie | dict[Unknown | str, Unknown | str]] &amp; list[Unknown | dict[Unknown | str, Unknown | str]]`
+ tests/test_utils_request.py:377:13: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | list[VerboseCookie] | None`, found `list[Unknown | dict[Unknown | str, Unknown | str]]`

mitmproxy (https://github.com/mitmproxy/mitmproxy)
- test/mitmproxy/proxy/layers/http/test_http.py:84:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:84:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:92:35: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:92:35: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:98:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:98:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:154:34: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:154:34: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:198:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:198:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:212:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:212:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:272:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:272:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:322:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:322:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:846:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:846:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:965:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:965:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:1029:37: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:1029:37: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:1296:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:1296:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:1749:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:1749:33: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/http/test_http.py:1753:35: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `(HTTPFlow &amp; Unknown) | (_Placeholder[HTTPFlow] &amp; Unknown) | (HTTPFlow &amp; _Placeholder[Unknown]) | (_Placeholder[HTTPFlow] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/http/test_http.py:1753:35: error[invalid-argument-type] Argument is incorrect: Expected `HTTPFlow`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:105:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:105:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:136:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:136:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:157:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:157:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:165:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:165:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:217:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:217:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:239:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:239:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__raw_layers.py:255:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__raw_layers.py:255:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:480:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:480:32: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:555:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:555:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:610:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:610:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:615:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:615:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:714:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:714:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:716:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:716:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:778:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:778:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:786:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:786:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:800:45: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:800:45: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:804:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:804:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:851:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:886:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:851:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:886:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:888:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:888:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:946:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:946:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:948:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:948:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:987:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:987:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:997:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:997:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1008:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1008:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1022:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1022:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1030:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `(QuicTlsData &amp; Unknown) | (_Placeholder[QuicTlsData] &amp; Unknown) | (QuicTlsData &amp; _Placeholder[Unknown]) | (_Placeholder[QuicTlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1030:36: error[invalid-argument-type] Argument is incorrect: Expected `QuicTlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1064:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1064:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1078:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1078:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1102:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/quic/test__stream_layers.py:1102:40: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_modes.py:100:31: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_modes.py:100:31: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_modes.py:111:31: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_modes.py:111:31: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_modes.py:308:35: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_modes.py:308:35: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_modes.py:427:38: error[invalid-argument-type] Argument is incorrect: Expected `Socks5AuthData`, found `(Socks5AuthData &amp; Unknown) | (_Placeholder[Socks5AuthData] &amp; Unknown) | (Socks5AuthData &amp; _Placeholder[Unknown]) | (_Placeholder[Socks5AuthData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_modes.py:427:38: error[invalid-argument-type] Argument is incorrect: Expected `Socks5AuthData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:301:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:301:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:324:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:324:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:353:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `(NextLayer &amp; Unknown) | (_Placeholder[NextLayer] &amp; Unknown) | (NextLayer &amp; _Placeholder[Unknown]) | (_Placeholder[NextLayer] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:353:36: error[invalid-argument-type] Argument is incorrect: Expected `NextLayer`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:357:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:357:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:405:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:405:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:433:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:433:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:471:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:471:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:548:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:548:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:550:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:550:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:591:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:591:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:599:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:599:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:613:45: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:613:45: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:616:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:616:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:659:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:659:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:718:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:718:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:720:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:720:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:761:44: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:761:44: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:768:43: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:768:43: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:778:44: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:778:44: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:819:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `(ClientHelloData &amp; Unknown) | (_Placeholder[ClientHelloData] &amp; Unknown) | (ClientHelloData &amp; _Placeholder[Unknown]) | (_Placeholder[ClientHelloData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:819:39: error[invalid-argument-type] Argument is incorrect: Expected `ClientHelloData`, found `Unknown | _Placeholder[Unknown]`
- test/mitmproxy/proxy/layers/test_tls.py:821:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `(TlsData &amp; Unknown) | (_Placeholder[TlsData] &amp; Unknown) | (TlsData &amp; _Placeholder[Unknown]) | (_Placeholder[TlsData] &amp; _Placeholder[Unknown])`
+ test/mitmproxy/proxy/layers/test_tls.py:821:39: error[invalid-argument-type] Argument is incorrect: Expected `TlsData`, found `Unknown | _Placeholder[Unknown]`

meson (https://github.com/mesonbuild/meson)
- mesonbuild/backend/ninjabackend.py:2131:67: error[invalid-argument-type] Argument to bound method `get_link_whole_for` is incorrect: Expected `list[str]`, found `list[str | None] &amp; list[Unknown | str | None]`
+ mesonbuild/backend/ninjabackend.py:2131:67: error[invalid-argument-type] Argument to bound method `get_link_whole_for` is incorrect: Expected `list[str]`, found `list[Unknown | str | None]`

prefect (https://github.com/PrefectHQ/prefect)
- src/integrations/prefect-dbt/prefect_dbt/core/settings.py:94:28: error[invalid-assignment] Object of type `dict[str, Any] | T@resolve_block_document_references | str | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/integrations/prefect-dbt/prefect_dbt/core/settings.py:94:28: error[invalid-assignment] Object of type `dict[str, Any] | T@resolve_block_document_references` is not assignable to `dict[str, Any]`
- src/integrations/prefect-dbt/prefect_dbt/core/settings.py:99:28: error[invalid-assignment] Object of type `dict[str, Any] | T@resolve_variables | str | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/integrations/prefect-dbt/prefect_dbt/core/settings.py:99:28: error[invalid-assignment] Object of type `dict[str, Any] | T@resolve_variables` is not assignable to `dict[str, Any]`
- src/prefect/cli/deploy/_core.py:86:21: error[invalid-assignment] Object of type `T@resolve_block_document_references | dict[str, Any] | str | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/prefect/cli/deploy/_core.py:86:21: error[invalid-assignment] Object of type `T@resolve_block_document_references | dict[str, Any]` is not assignable to `dict[str, Any]`
- src/prefect/cli/deploy/_core.py:87:21: error[invalid-assignment] Object of type `T@resolve_variables | str | int | ... omitted 4 union elements` is not assignable to `dict[str, Any]`
+ src/prefect/cli/deploy/_core.py:87:21: error[invalid-assignment] Object of type `T@resolve_variables` is not assignable to `dict[str, Any]`
- src/prefect/deployments/steps/core.py:137:38: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any] | str | ... omitted 4 union elements`
+ src/prefect/deployments/steps/core.py:137:38: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any]`
- src/prefect/utilities/templating.py:320:13: error[invalid-assignment] Invalid subscript assignment with key of type `object` and value of type `T@resolve_block_document_references | dict[str, Any] | str | ... omitted 4 union elements` on object of type `dict[str, Any]`
+ src/prefect/utilities/templating.py:320:13: error[invalid-assignment] Invalid subscript assignment with key of type `object` and value of type `T@resolve_block_document_references | dict[str, Any]` on object of type `dict[str, Any]`
- src/prefect/utilities/templating.py:323:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_block_document_references | dict[str, Any]`, found `list[T@resolve_block_document_references | dict[str, Any] | str | ... omitted 5 union elements]`
+ src/prefect/utilities/templating.py:323:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_block_document_references | dict[str, Any]`, found `list[T@resolve_block_document_references | dict[str, Any] | Unknown]`
- src/prefect/utilities/templating.py:437:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `dict[object, T@resolve_variables | str | int | ... omitted 5 union elements]`
+ src/prefect/utilities/templating.py:437:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `dict[object, T@resolve_variables | Unknown]`
- src/prefect/utilities/templating.py:442:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `list[T@resolve_variables | str | int | ... omitted 5 union elements]`
+ src/prefect/utilities/templating.py:442:16: error[invalid-return-type] Return type does not match returned value: expected `T@resolve_variables`, found `list[T@resolve_variables | Unknown]`
- src/prefect/workers/base.py:228:13: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any] | str | ... omitted 4 union elements`
+ src/prefect/workers/base.py:228:13: error[invalid-argument-type] Argument is incorrect: Expected `T@resolve_variables`, found `T@resolve_block_document_references | dict[str, Any]`
- src/prefect/workers/base.py:230:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `T@resolve_variables | str | int | ... omitted 4 union elements`
+ src/prefect/workers/base.py:230:20: error[invalid-argument-type] Argument expression after ** must be a mapping type: Found `T@resolve_variables`

scikit-build-core (https://github.com/scikit-build/scikit-build-core)
+ src/scikit_build_core/build/wheel.py:98:20: error[no-matching-overload] No overload of bound method `__init__` matches arguments
- Found 43 diagnostics
+ Found 44 diagnostics

dd-trace-py (https://github.com/DataDog/dd-trace-py)
- ddtrace/appsec/_handlers.py:404:13: error[invalid-argument-type] Argument to bound method `add_configurations` is incorrect: Expected `list[tuple[str, str, str]]`, found `list[Unknown | tuple[str, int, Unknown]] &amp; list[tuple[str, str, str] | tuple[str, int, Unknown]]`
+ ddtrace/appsec/_handlers.py:404:13: error[invalid-argument-type] Argument to bound method `add_configurations` is incorrect: Expected `list[tuple[str, str, str]]`, found `list[Unknown | tuple[str, int, Unknown]]`

pandas-stubs (https://github.com/pandas-dev/pandas-stubs)
+ pandas-stubs/_typing.pyi:1221:16: warning[unused-ignore-comment] Unused blanket `type: ignore` directive
- Found 5080 diagnostics
+ Found 5081 diagnostics

static-frame (https://github.com/static-frame/static-frame)
- static_frame/core/bus.py:671:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemLocReduces[Bus[Any], object_]`, found `InterGetItemLocReduces[Bus[Any] | Top[Series[Any, Any]] | TypeBlocks | ... omitted 7 union elements, object_]`
- static_frame/core/bus.py:675:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Bus[Any], object_]`, found `InterGetItemILocReduces[Bus[Any] | Top[Index[Any]] | TypeBlocks | ... omitted 7 union elements, generic[object]]`
+ static_frame/core/bus.py:675:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Bus[Any], object_]`, found `InterGetItemILocReduces[Bus[Any], object_ | Self@iloc]`
- static_frame/core/series.py:772:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Series[Any, Any], TVDtype@Series]`, found `InterGetItemILocReduces[Series[Any, Any], generic[object]]`
+ static_frame/core/series.py:772:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Series[Any, Any], TVDtype@Series]`, found `InterGetItemILocReduces[Series[Any, Any] | Top[Index[Any]] | TypeBlocks | ... omitted 6 union elements, generic[object]]`
- static_frame/core/series.py:4072:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[SeriesHE[Any, Any], TVDtype@SeriesHE]`, found `InterGetItemILocReduces[SeriesHE[Any, Any], generic[object]]`
+ static_frame/core/series.py:4072:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[SeriesHE[Any, Any], TVDtype@SeriesHE]`, found `InterGetItemILocReduces[SeriesHE[Any, Any] | TypeBlocks | Batch | ... omitted 7 union elements, generic[object]]`
- static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Yarn[Any] | Top[Index[Any]] | TypeBlocks | ... omitted 7 union elements, generic[object]]`
+ static_frame/core/yarn.py:418:16: error[invalid-return-type] Return type does not match returned value: expected `InterGetItemILocReduces[Yarn[Any], object_]`, found `InterGetItemILocReduces[Yarn[Any], generic[object]]`
- Found 1839 diagnostics
+ Found 1838 diagnostics

core (https://github.com/home-assistant/core)
- homeassistant/components/home_connect/switch.py:286:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | None`, found `dict[str, str | UndefinedType] &amp; dict[Unknown | str, Unknown | str | UndefinedType]`
+ homeassistant/components/home_connect/switch.py:286:17: error[invalid-argument-type] Argument to bound method `__init__` is incorrect: Expected `dict[str, str] | None`, found `dict[Unknown | str, Unknown | str | UndefinedType]`
+ homeassistant/util/variance.py:47:12: error[invalid-return-type] Return type does not match returned value: expected `(**_P@ignore_variance) -&gt; _R@ignore_variance`, found `_Wrapped[_P@ignore_variance, _R@ignore_variance | int | float | datetime, _P@ignore_variance, _R@ignore_variance | int | float | datetime]`
- Found 14414 diagnostics
+ Found 14415 diagnostics


</code></pre>
</details>

<p>No memory usage changes detected ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/astral-sh-bot[bot]">@astral-sh-bot[bot]</a> on 2025-12-18 21:28</div>
            <div class="timeline-body"><!-- generated-comment ty ecosystem-analyzer -->

<h2><code>ecosystem-analyzer</code> results</h2>
<p>| Lint rule | Added | Removed | Changed |
|-----------|------:|--------:|--------:|
| <code>invalid-argument-type</code> | 0 | 0 | 81 |
| <code>invalid-return-type</code> | 0 | 0 | 2 |
| <code>type-assertion-failure</code> | 0 | 0 | 2 |
| <strong>Total</strong> | <strong>0</strong> | <strong>0</strong> | <strong>85</strong> |</p>
<p><strong><a href="https://ibraheem-failed-multi-infere.ecosystem-663.pages.dev/diff">Full report with detailed diff</a></strong> (<a href="https://ibraheem-failed-multi-infere.ecosystem-663.pages.dev/timing">timing results</a>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @ibraheemdev on 2025-12-18 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @ibraheemdev on 2025-12-18 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @ibraheemdev on 2025-12-18 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @ibraheemdev on 2025-12-18 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @ibraheemdev on 2025-12-18 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-12-18 21:40</div>
            <div class="timeline-body"><!-- __CODSPEED_PERFORMANCE_REPORT_COMMENT__ -->

<h2><a href="https://codspeed.io/astral-sh/ruff/branches/ibraheem%2Ffailed-multi-inference?utm_source=github&amp;utm_medium=comment&amp;utm_content=header">CodSpeed Performance Report</a></h2>
<h3>Merging #22062 will <strong>degrade performances by 5.31%</strong></h3>
<p><sub>Comparing <code>ibraheem/failed-multi-inference</code> (6c2eba8) with <code>main</code> (fa57253)[^unexpected-base]</sub>
[^unexpected-base]: No successful run was found on <code>main</code> (fa57253) during the generation of this report, so fa57253 was used instead as the comparison base. There might be some changes unrelated to this pull request in this report.</p>
<h3>Summary</h3>
<p><code>⚡ 2</code> improvements<br />
<code>❌ 1</code> regression<br />
<code>✅ 19</code> untouched<br />
<code>⏩ 30</code> skipped[^skipped]</p>
<blockquote>
<p>:warning: <em>Please fix the performance issues or <a href="https://codspeed.io/astral-sh/ruff/branches/ibraheem%2Ffailed-multi-inference?utm_source=github&amp;utm_medium=comment&amp;utm_content=acknowledge">acknowledge them on CodSpeed</a>.</em></p>
</blockquote>
<h3>Benchmarks breakdown</h3>
<p>|     | Mode | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | ---- | --------- | ------ | ------ | ------ |
| ❌ | WallTime | <a href="https://codspeed.io/astral-sh/ruff/branches/ibraheem%2Ffailed-multi-inference?uri=crates%2Fruff_benchmark%2Fbenches%2Fty_walltime.rs%3A%3Amedium%5Bcolour-science%5D&amp;runnerMode=WallTime&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=benchmark"><code>medium[colour-science]</code></a> | 105.3 s | 111.2 s | -5.31% |
| ⚡ | Simulation | <a href="https://codspeed.io/astral-sh/ruff/branches/ibraheem%2Ffailed-multi-inference?uri=crates%2Fruff_benchmark%2Fbenches%2Fty.rs%3A%3Aproject%3A%3Ahydra%3A%3Aproject%3A%3Ahydra-zen&amp;runnerMode=Instrumentation&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=benchmark"><code>hydra-zen</code></a> | 1.3 s | 1.3 s | +4% |
| ⚡ | Simulation | <a href="https://codspeed.io/astral-sh/ruff/branches/ibraheem%2Ffailed-multi-inference?uri=crates%2Fruff_benchmark%2Fbenches%2Fty.rs%3A%3Aproject%3A%3Aanyio%3A%3Aproject%3A%3Aanyio&amp;runnerMode=Instrumentation&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=benchmark"><code>anyio</code></a> | 1.4 s | 1.3 s | +6.91% |
[^skipped]: 30 benchmarks were skipped, so the baseline results were used instead. If they were deleted from the codebase, <a href="https://codspeed.io/astral-sh/ruff/branches/ibraheem%2Ffailed-multi-inference?sectionId=benchmark-comparison-section-baseline-result-skipped&amp;utm_source=github&amp;utm_medium=comment&amp;utm_content=archive">click here and archive them to remove them from the performance reports</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> approved on 2025-12-19 14:08</div>
            <div class="timeline-body"><p>That's a pretty huge improvement in the types we're displaying in our diagnostics 😃</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @ibraheemdev on 2025-12-19 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @ibraheemdev on 2025-12-19 15:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-12-19 15:38</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 16:36:42 UTC
    </footer>
</body>
</html>
