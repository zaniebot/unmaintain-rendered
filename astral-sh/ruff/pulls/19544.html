<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display generic function signature properly - astral-sh/ruff #19544</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Display generic function signature properly</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/19544">#19544</a>
        opened by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a>
        on 2025-07-24 23:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-24 23:54</div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff/ty! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title? (Please prefix with `[ty]` for ty pull
  requests.)
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Resolves https://github.com/astral-sh/ty/issues/817</p>
<p>Unsure if we want the upper bound to be displayed, but it makes sense to use this display struct already there</p>
<h2>Test Plan</h2>
<p>Update mdtest</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-24 23:57</div>
            <div class="timeline-body"><p>This extra <code>DisplayOptionalGenericContext</code> struct may be a bit overkill, but i imaging we may want to use it for classes in the future, not sure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-07-24 23:58</div>
            <div class="timeline-body"><!-- generated-comment mypy_primer -->

<h2><code>mypy_primer</code> results</h2>
<details>
<summary>Changes were detected when running on open source projects</summary>

<pre><code class="language-diff">Expression (https://github.com/cognitedata/Expression)
- expression/collections/seq.py:637:41: error[invalid-argument-type] Argument to function `init_infinite` is incorrect: Expected `(int, /) -&gt; Unknown`, found `def identity(value: _A@identity) -&gt; _A@identity`
+ expression/collections/seq.py:637:41: error[invalid-argument-type] Argument to function `init_infinite` is incorrect: Expected `(int, /) -&gt; Unknown`, found `def identity[_A](value: _A@identity) -&gt; _A@identity`
- expression/extra/option/pipeline.py:91:19: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(def Some(value: _T1@Some) -&gt; Option[_T1@Some], Unknown, /) -&gt; def Some(value: _T1@Some) -&gt; Option[_T1@Some]`, found `def reducer(acc: (Any, /) -&gt; Option[Any], fn: (Any, /) -&gt; Option[Any]) -&gt; (Any, /) -&gt; Option[Any]`
+ expression/extra/option/pipeline.py:91:19: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(def Some[_T1](value: _T1@Some) -&gt; Option[_T1@Some], Unknown, /) -&gt; def Some[_T1](value: _T1@Some) -&gt; Option[_T1@Some]`, found `def reducer(acc: (Any, /) -&gt; Option[Any], fn: (Any, /) -&gt; Option[Any]) -&gt; (Any, /) -&gt; Option[Any]`
- expression/extra/result/pipeline.py:96:19: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(def Ok(value: _TSource@Ok) -&gt; Result[_TSource@Ok, Any], Unknown, /) -&gt; def Ok(value: _TSource@Ok) -&gt; Result[_TSource@Ok, Any]`, found `def reducer(acc: (Any, /) -&gt; Result[Any, Any], fn: (Any, /) -&gt; Result[Any, Any]) -&gt; (Any, /) -&gt; Result[Any, Any]`
+ expression/extra/result/pipeline.py:96:19: error[invalid-argument-type] Argument to function `reduce` is incorrect: Expected `(def Ok[_TSource](value: _TSource@Ok) -&gt; Result[_TSource@Ok, Any], Unknown, /) -&gt; def Ok[_TSource](value: _TSource@Ok) -&gt; Result[_TSource@Ok, Any]`, found `def reducer(acc: (Any, /) -&gt; Result[Any, Any], fn: (Any, /) -&gt; Result[Any, Any]) -&gt; (Any, /) -&gt; Result[Any, Any]`
- expression/extra/result/traversable.py:50:21: error[invalid-argument-type] Argument to function `traverse` is incorrect: Expected `(Result[_TSource@sequence, _TError@sequence], /) -&gt; Result[Unknown, Unknown]`, found `def identity(value: _A@identity) -&gt; _A@identity`
+ expression/extra/result/traversable.py:50:21: error[invalid-argument-type] Argument to function `traverse` is incorrect: Expected `(Result[_TSource@sequence, _TError@sequence], /) -&gt; Result[Unknown, Unknown]`, found `def identity[_A](value: _A@identity) -&gt; _A@identity`
- tests/test_array.py:357:1: error[invalid-assignment] Object of type `def singleton(value: _TSource@singleton) -&gt; TypedArray[_TSource@singleton]` is not assignable to `(int, /) -&gt; TypedArray[int]`
+ tests/test_array.py:357:1: error[invalid-assignment] Object of type `def singleton[_TSource](value: _TSource@singleton) -&gt; TypedArray[_TSource@singleton]` is not assignable to `(int, /) -&gt; TypedArray[int]`
- tests/test_block.py:335:1: error[invalid-assignment] Object of type `def singleton(value: _TSource@singleton) -&gt; Block[_TSource@singleton]` is not assignable to `(int, /) -&gt; Block[int]`
+ tests/test_block.py:335:1: error[invalid-assignment] Object of type `def singleton[_TSource](value: _TSource@singleton) -&gt; Block[_TSource@singleton]` is not assignable to `(int, /) -&gt; Block[int]`
- tests/test_map.py:49:19: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Map[str, int], /) -&gt; Unknown`, found `def to_seq(table: Map[_Key@to_seq, _Value@to_seq]) -&gt; Iterable[tuple[_Key@to_seq, _Value@to_seq]]`
+ tests/test_map.py:49:19: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Map[str, int], /) -&gt; Unknown`, found `def to_seq[_Key: SupportsLessThan, _Value](table: Map[_Key@to_seq, _Value@to_seq]) -&gt; Iterable[tuple[_Key@to_seq, _Value@to_seq]]`
- tests/test_parser.py:232:9: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Parser[str], /) -&gt; Unknown`, found `def many(parser: Parser[_A@many]) -&gt; Parser[Block[_A@many]]`
+ tests/test_parser.py:232:9: error[invalid-argument-type] Argument to function `pipe` is incorrect: Expected `(Parser[str], /) -&gt; Unknown`, found `def many[_A](parser: Parser[_A@many]) -&gt; Parser[Block[_A@many]]`
- tests/test_result.py:487:24: error[invalid-argument-type] Argument to bound method `pipe` is incorrect: Expected `(Result[Literal[42], Any], /) -&gt; Unknown`, found `def swap(result: Result[_TSource@swap, _TError@swap]) -&gt; Result[_TError@swap, _TSource@swap]`
+ tests/test_result.py:487:24: error[invalid-argument-type] Argument to bound method `pipe` is incorrect: Expected `(Result[Literal[42], Any], /) -&gt; Unknown`, found `def swap[_TSource, _TError](result: Result[_TSource@swap, _TError@swap]) -&gt; Result[_TError@swap, _TSource@swap]`
- tests/test_result.py:573:24: error[invalid-argument-type] Argument to bound method `pipe` is incorrect: Expected `(Result[Literal[42], Any], /) -&gt; Unknown`, found `def merge(result: Result[_TSource@merge, _TSource@merge]) -&gt; _TSource@merge`
+ tests/test_result.py:573:24: error[invalid-argument-type] Argument to bound method `pipe` is incorrect: Expected `(Result[Literal[42], Any], /) -&gt; Unknown`, found `def merge[_TSource](result: Result[_TSource@merge, _TSource@merge]) -&gt; _TSource@merge`
- tests/test_seq.py:308:20: error[invalid-argument-type] Argument to bound method `choose` is incorrect: Expected `(None | Literal[42], /) -&gt; Option[Unknown]`, found `def of_optional(value: _TSource@of_optional | None) -&gt; Option[_TSource@of_optional]`
+ tests/test_seq.py:308:20: error[invalid-argument-type] Argument to bound method `choose` is incorrect: Expected `(None | Literal[42], /) -&gt; Option[Unknown]`, found `def of_optional[_TSource](value: _TSource@of_optional | None) -&gt; Option[_TSource@of_optional]`
- tests/test_seq.py:321:1: error[invalid-assignment] Object of type `def singleton(item: _TSource@singleton) -&gt; Seq[_TSource@singleton]` is not assignable to `(int, /) -&gt; Seq[int]`
+ tests/test_seq.py:321:1: error[invalid-assignment] Object of type `def singleton[_TSource](item: _TSource@singleton) -&gt; Seq[_TSource@singleton]` is not assignable to `(int, /) -&gt; Seq[int]`

trio (https://github.com/python-trio/trio)
- src/trio/_tests/test_threads.py:89:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run_sync(fn: (...) -&gt; RetT@from_thread_run_sync, *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run_sync`
+ src/trio/_tests/test_threads.py:89:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run_sync[RetT](fn: (...) -&gt; RetT@from_thread_run_sync, *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run_sync`
- src/trio/_tests/test_threads.py:96:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run_sync(fn: (...) -&gt; RetT@from_thread_run_sync, *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run_sync`
+ src/trio/_tests/test_threads.py:96:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run_sync[RetT](fn: (...) -&gt; RetT@from_thread_run_sync, *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run_sync`
- src/trio/_tests/test_threads.py:104:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run(afn: (...) -&gt; Awaitable[RetT@from_thread_run], *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run`
+ src/trio/_tests/test_threads.py:104:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run[RetT](afn: (...) -&gt; Awaitable[RetT@from_thread_run], *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run`
- src/trio/_tests/test_threads.py:112:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run(afn: (...) -&gt; Awaitable[RetT@from_thread_run], *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run`
+ src/trio/_tests/test_threads.py:112:22: error[invalid-argument-type] Argument to function `check_case` is incorrect: Expected `(...) -&gt; Thread`, found `def from_thread_run[RetT](afn: (...) -&gt; Awaitable[RetT@from_thread_run], *args: @Todo(`Unpack[]` special form), *, trio_token: TrioToken | None = None) -&gt; RetT@from_thread_run`

schemathesis (https://github.com/schemathesis/schemathesis)
- src/schemathesis/specs/openapi/negative/mutations.py:445:33: error[invalid-parameter-default] Default value of type `def ident(x: T@ident) -&gt; T@ident` is not assignable to annotated parameter type `(T@ordered, /) -&gt; Any`
+ src/schemathesis/specs/openapi/negative/mutations.py:445:33: error[invalid-parameter-default] Default value of type `def ident[T](x: T@ident) -&gt; T@ident` is not assignable to annotated parameter type `(T@ordered, /) -&gt; Any`

pwndbg (https://github.com/pwndbg/pwndbg)
- pwndbg/dbg/gdb/__init__.py:1663:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def exit(func: () -&gt; T@exit, **kwargs: Any) -&gt; () -&gt; T@exit`
+ pwndbg/dbg/gdb/__init__.py:1663:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def exit[T](func: () -&gt; T@exit, **kwargs: Any) -&gt; () -&gt; T@exit`
- pwndbg/dbg/gdb/__init__.py:1665:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def cont(func: () -&gt; T@cont, **kwargs: Any) -&gt; () -&gt; T@cont`
+ pwndbg/dbg/gdb/__init__.py:1665:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def cont[T](func: () -&gt; T@cont, **kwargs: Any) -&gt; () -&gt; T@cont`
- pwndbg/dbg/gdb/__init__.py:1667:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def start(func: () -&gt; T@start, **kwargs: Any) -&gt; () -&gt; T@start`
+ pwndbg/dbg/gdb/__init__.py:1667:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def start[T](func: () -&gt; T@start, **kwargs: Any) -&gt; () -&gt; T@start`
- pwndbg/dbg/gdb/__init__.py:1669:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def stop(func: () -&gt; T@stop, **kwargs: Any) -&gt; () -&gt; T@stop`
+ pwndbg/dbg/gdb/__init__.py:1669:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def stop[T](func: () -&gt; T@stop, **kwargs: Any) -&gt; () -&gt; T@stop`
- pwndbg/dbg/gdb/__init__.py:1671:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def new_objfile(func: () -&gt; T@new_objfile, **kwargs: Any) -&gt; () -&gt; T@new_objfile`
+ pwndbg/dbg/gdb/__init__.py:1671:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def new_objfile[T](func: () -&gt; T@new_objfile, **kwargs: Any) -&gt; () -&gt; T@new_objfile`
- pwndbg/dbg/gdb/__init__.py:1673:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def mem_changed(func: () -&gt; T@mem_changed, **kwargs: Any) -&gt; () -&gt; T@mem_changed`
+ pwndbg/dbg/gdb/__init__.py:1673:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def mem_changed[T](func: () -&gt; T@mem_changed, **kwargs: Any) -&gt; () -&gt; T@mem_changed`
- pwndbg/dbg/gdb/__init__.py:1675:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def reg_changed(func: () -&gt; T@reg_changed, **kwargs: Any) -&gt; () -&gt; T@reg_changed`
+ pwndbg/dbg/gdb/__init__.py:1675:20: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; T@event_handler, /) -&gt; (...) -&gt; T@event_handler`, found `def reg_changed[T](func: () -&gt; T@reg_changed, **kwargs: Any) -&gt; () -&gt; T@reg_changed`

pytest (https://github.com/pytest-dev/pytest)
- src/_pytest/pastebin.py:43:13: error[invalid-assignment] Method `__setitem__` of type `Unknown | (bound method Stash.__setitem__(key: StashKey[T@__setitem__], value: T@__setitem__) -&gt; None)` cannot be called with a key of type `Unknown | StashKey[IO[bytes]]` and a value of type `TextIOWrapper[_WrappedBuffer]` on object of type `Unknown | Stash`
+ src/_pytest/pastebin.py:43:13: error[invalid-assignment] Method `__setitem__` of type `Unknown | (bound method Stash.__setitem__[T](key: StashKey[T@__setitem__], value: T@__setitem__) -&gt; None)` cannot be called with a key of type `Unknown | StashKey[IO[bytes]]` and a value of type `TextIOWrapper[_WrappedBuffer]` on object of type `Unknown | Stash`
- src/_pytest/pytester.py:1129:21: error[invalid-assignment] Method `__setitem__` of type `Unknown | (bound method Stash.__setitem__(key: StashKey[T@__setitem__], value: T@__setitem__) -&gt; None)` cannot be called with a key of type `Unknown | StashKey[int]` and a value of type `Literal[0]` on object of type `Unknown | Stash`
+ src/_pytest/pytester.py:1129:21: error[invalid-assignment] Method `__setitem__` of type `Unknown | (bound method Stash.__setitem__[T](key: StashKey[T@__setitem__], value: T@__setitem__) -&gt; None)` cannot be called with a key of type `Unknown | StashKey[int]` and a value of type `Literal[0]` on object of type `Unknown | Stash`

cwltool (https://github.com/common-workflow-language/cwltool)
- cwltool/process.py:1182:5: error[invalid-parameter-default] Default value of type `def urljoin(base: AnyStr@urljoin, url: AnyStr@urljoin | None, allow_fragments: bool = Literal[True]) -&gt; AnyStr@urljoin` is not assignable to annotated parameter type `(str, str, /) -&gt; str`
+ cwltool/process.py:1182:5: error[invalid-parameter-default] Default value of type `def urljoin[AnyStr: (str, bytes)](base: AnyStr@urljoin, url: AnyStr@urljoin | None, allow_fragments: bool = Literal[True]) -&gt; AnyStr@urljoin` is not assignable to annotated parameter type `(str, str, /) -&gt; str`

streamlit (https://github.com/streamlit/streamlit)
- lib/streamlit/elements/dialog_decorator.py:292:16: error[invalid-return-type] Return type does not match returned value: expected `F@dialog_decorator | ((F@dialog_decorator, /) -&gt; F@dialog_decorator)`, found `def wrapper(f: F@wrapper) -&gt; F@wrapper`
+ lib/streamlit/elements/dialog_decorator.py:292:16: error[invalid-return-type] Return type does not match returned value: expected `F@dialog_decorator | ((F@dialog_decorator, /) -&gt; F@dialog_decorator)`, found `def wrapper[F: (...) -&gt; Any](f: F@wrapper) -&gt; F@wrapper`
- lib/streamlit/elements/dialog_decorator.py:333:16: error[invalid-return-type] Return type does not match returned value: expected `F@experimental_dialog_decorator | ((F@experimental_dialog_decorator, /) -&gt; F@experimental_dialog_decorator)`, found `def wrapper(f: F@wrapper) -&gt; F@wrapper`
+ lib/streamlit/elements/dialog_decorator.py:333:16: error[invalid-return-type] Return type does not match returned value: expected `F@experimental_dialog_decorator | ((F@experimental_dialog_decorator, /) -&gt; F@experimental_dialog_decorator)`, found `def wrapper[F: (...) -&gt; Any](f: F@wrapper) -&gt; F@wrapper`

meson (https://github.com/mesonbuild/meson)
- unittests/helpers.py:228:16: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; R@xfail_if_jobname, /) -&gt; (...) -&gt; R@xfail_if_jobname`, found `def expectedFailure(test_item: _FT@expectedFailure) -&gt; _FT@expectedFailure`
+ unittests/helpers.py:228:16: error[invalid-return-type] Return type does not match returned value: expected `((...) -&gt; R@xfail_if_jobname, /) -&gt; (...) -&gt; R@xfail_if_jobname`, found `def expectedFailure[_FT: (...) -&gt; Any](test_item: _FT@expectedFailure) -&gt; _FT@expectedFailure`
- unittests/linuxliketests.py:712:48: error[invalid-argument-type] Argument to function `copytree` is incorrect: Expected `(str, str, /) -&gt; object`, found `def copyfile(src: @Todo(Support for `typing.TypeAlias`), dst: _StrOrBytesPathT@copyfile, *, follow_symlinks: bool = Literal[True]) -&gt; _StrOrBytesPathT@copyfile`
+ unittests/linuxliketests.py:712:48: error[invalid-argument-type] Argument to function `copytree` is incorrect: Expected `(str, str, /) -&gt; object`, found `def copyfile[_StrOrBytesPathT: @Todo(Support for `typing.TypeAlias`)](src: @Todo(Support for `typing.TypeAlias`), dst: _StrOrBytesPathT@copyfile, *, follow_symlinks: bool = Literal[True]) -&gt; _StrOrBytesPathT@copyfile`

static-frame (https://github.com/static-frame/static-frame)
- static_frame/test/property/strategies.py:927:17: error[invalid-argument-type] Argument to function `get_index_hierarchy` is incorrect: Expected `(...) -&gt; IndexHierarchy`, found `(bound method type[Index[Any]].from_labels(labels: Iterable[Unknown], *, /, name: Unknown = None) -&gt; I@from_labels) | (bound method &lt;class 'Index'&gt;.from_labels(labels: Iterable[Unknown], *, /, name: Unknown = None) -&gt; I@from_labels)`
+ static_frame/test/property/strategies.py:927:17: error[invalid-argument-type] Argument to function `get_index_hierarchy` is incorrect: Expected `(...) -&gt; IndexHierarchy`, found `(bound method type[Index[Any]].from_labels[I: Index[Any]](labels: Iterable[Unknown], *, /, name: Unknown = None) -&gt; I@from_labels) | (bound method &lt;class 'Index'&gt;.from_labels[I: Index[Any]](labels: Iterable[Unknown], *, /, name: Unknown = None) -&gt; I@from_labels)`

</code></pre>
</details>
No memory usage changes detected ✅

</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-24 23:58</div>
            <div class="timeline-body"><p>I also don't think i need to consider <code>inherited_generic_context</code> at all</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-25 00:01</div>
            <div class="timeline-body"><p>hmm the <code>Self</code> generic context looks a bit unfortunate to include</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-25 00:03</div>
            <div class="timeline-body"><p>will mark as ready for some feedback</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @MatthewMckee4 on 2025-07-25 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @MatthewMckee4 on 2025-07-25 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @AlexWaygood by @MatthewMckee4 on 2025-07-25 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @sharkdp by @MatthewMckee4 on 2025-07-25 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @dcreager by @MatthewMckee4 on 2025-07-25 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @MichaReiser by @MatthewMckee4 on 2025-07-25 00:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_ide/src/completion.rs</code>:1250 on 2025-07-25 00:12</div>
            <div class="timeline-body"><p>I think we should for sure always exclude the upper bound of <code>Self</code>, since it's implied by the definition of <code>Self</code>. I think probably we should exclude <code>Self</code> entirely. (This kind of special handling will probably be easiest to do if we give <code>Self</code> its own distinct <code>TypeVarKind</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/resources/mdtest/named_tuple.md</code>:153 on 2025-07-25 00:14</div>
            <div class="timeline-body"><p>Yeah, I think we should skip <code>Self</code> when printing functions. Conceptually <code>Self</code> is really (implicitly) scoped to the class, not to the function.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-07-25 00:17</div>
            <div class="timeline-body"><p>This is looking pretty good, thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">ty</span> added by @ntBre on 2025-07-25 01:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on 2025-07-25 07:24</div>
            <div class="timeline-body"><p>Thanks for the feedback, I'll put this back in draft and get to it on Monday</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from @carljm by @MatthewMckee4 on 2025-07-27 18:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review request for @sharkdp removed by @sharkdp on 2025-07-28 06:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-08-05 20:27</div>
            <div class="timeline-body"><!-- generated-comment typing_conformance_diagnostics_diff -->

<h2>Diagnostic diff on <a href="https://github.com/python/typing/tree/d4f39b27a4a47aac8b6d4019e1b0b5b3156fabdc/conformance">typing conformance tests</a></h2>
<p>No changes detected when running ty on typing conformance tests ✅</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MatthewMckee4 on 2025-08-05 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @MatthewMckee4 on 2025-08-05 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/src/types.rs</code>:6706 on 2025-08-05 21:20</div>
            <div class="timeline-body"><p>Is there a reason we need this two-layer enum structure? It's not clear to me what it gains us; it seems simpler and equally reasonable to me to just add <code>Self</code> as a third <code>TypeVarKind</code> alongside <code>Legacy</code> and <code>Pep695</code>. Are there other kinds of &quot;Implicit&quot; typevars you expect we'll need to handle in the future?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-08-05 21:20</div>
            <div class="timeline-body"><p>The results here look great! Just one question inline about the implementation choices.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> on <code>crates/ty_python_semantic/src/types.rs</code>:6706 on 2025-08-05 21:23</div>
            <div class="timeline-body"><p>No there's not really a good reason other than it made sense at the time to separate them. I'm happy to revert this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MatthewMckee4">@MatthewMckee4</a> reviewed on 2025-08-05 21:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/ty_python_semantic/src/types.rs</code>:6703 on 2025-08-05 23:06</div>
            <div class="timeline-body"><pre><code class="language-suggestion">    /// T = TypeVar(&quot;T&quot;)
    Legacy,
    /// def foo[T](x: T) -&gt; T: ...
    Pep695,
    /// `typing.Self`
    Implicit,
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-08-05 23:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-08-05 23:07</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @carljm on 2025-08-05 23:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @carljm on 2025-08-05 23:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-11-06 11:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 16:54:19 UTC
    </footer>
</body>
</html>
