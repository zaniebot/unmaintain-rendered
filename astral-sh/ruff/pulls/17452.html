<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[red-knot] Fix MRO inference for protocol classes; allow inheritance from subscripted `Generic[]`; forbid subclassing unsubscripted `Generic` - astral-sh/ruff #17452</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[red-knot] Fix MRO inference for protocol classes; allow inheritance from subscripted <code>Generic[]</code>; forbid subclassing unsubscripted <code>Generic</code></h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/17452">#17452</a>
        opened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a>
        on 2025-04-17 18:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a></div>
            <div class="timeline-body">Summary
<ul>
<li>Add a new <code>KnownInstanceType::Generic</code> variant to represent the type of the symbol <code>typing(_extensions).Generic</code></li>
<li>Add new <code>ClassBase::Protocol</code> and <code>ClassBase::Generic</code> variants, to represent the fact that classes can have these symbols in their MRO at runtime, even though these are not represented as classes in typeshed.</li>
<li>Introduce a separate <code>SubclassOfInner</code> variant to represent the inner data that a <code>type[]</code> type holds. With the introduction of the new <code>ClassBase::Protocol</code> and <code>ClassBase::Generic</code> variants, the <code>ClassBase</code> enum is no longer suitable for this purpose, since <code>type[Protocol]</code> and <code>type[Generic]</code> are both meaningless.</li>
<li>Remove false-positive diagnostics when inheriting from <code>Generic[]</code></li>
<li>Remove false-positive diagnostics when subscripting an old-style generic class</li>
<li>Ensure that diagnostics are still emitted if a class inherits from bare <code>Generic</code></li>
<li>Correctly infer the MROs of protocol classes!</li>
</ul>
<p>This appears to get rid of a lot of <code>invalid-base</code> false-positive errors and greatly improves the accuracy of our MRO inference for classes that inherit from <code>Generic</code> and/or <code>Protocol</code>... unfortunately it seems to be introducing many new false positives regarding <code>__new__</code> in the mypy_primer report, which isn&#x27;t something I expected. Possibly these were latent bugs that are now exposed due to the fact that we understand a lot of MROs a lot more precisely...?</p>
Test Plan
<p>Mdtests updated and added.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">red-knot</span> added by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 18:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2025-04-17 18:37</div>
            <div class="timeline-body">

<code>mypy_primer</code> results

Changes were detected when running on open source projects

<pre><code>dacite (https://github.com/konradhalas/dacite)
- error[lint:invalid-base] /tmp/mypy_primer/projects/dacite/tests/core/test_forward_reference.py:26:12: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- error[lint:invalid-base] /tmp/mypy_primer/projects/dacite/tests/core/test_generics.py:17:9: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- error[lint:unknown-argument] /tmp/mypy_primer/projects/dacite/tests/core/test_generics.py:54:24: Argument `x` does not match any known parameter
- error[lint:unknown-argument] /tmp/mypy_primer/projects/dacite/tests/core/test_generics.py:54:38: Argument `y` does not match any known parameter
- error[lint:invalid-base] /tmp/mypy_primer/projects/dacite/tests/core/test_generics.py:79:13: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/dacite/tests/test_types.py:235:29: Cannot subscript object of type `Literal[Collection]` with no `__class_getitem__` method
- error[lint:invalid-base] /tmp/mypy_primer/projects/dacite/tests/test_types.py:275:13: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- Found 156 diagnostics
+ Found 149 diagnostics

itsdangerous (https://github.com/pallets/itsdangerous)
- error[lint:invalid-base] /tmp/mypy_primer/projects/itsdangerous/src/itsdangerous/serializer.py:42:18: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
+ error[lint:invalid-assignment] /tmp/mypy_primer/projects/itsdangerous/tests/test_itsdangerous/test_serializer.py:110:9: Object of type `Literal[BadUnsign]` is not assignable to attribute `signer` of type `type[Signer]`
- warning[lint:unused-ignore-comment] /tmp/mypy_primer/projects/itsdangerous/tests/test_itsdangerous/test_serializer.py:102:46: Unused blanket `type: ignore` directive
- warning[lint:unused-ignore-comment] /tmp/mypy_primer/projects/itsdangerous/tests/test_itsdangerous/test_serializer.py:132:42: Unused blanket `type: ignore` directive
- warning[lint:unused-ignore-comment] /tmp/mypy_primer/projects/itsdangerous/tests/test_itsdangerous/test_serializer.py:168:46: Unused blanket `type: ignore` directive
- Found 37 diagnostics
+ Found 34 diagnostics

bidict (https://github.com/jab/bidict)
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_typing.py:23:9: Cannot subscript object of type `Literal[Iterable]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_typing.py:34:22: Cannot subscript object of type `Literal[Maplike]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_typing.py:34:39: Cannot subscript object of type `Literal[Iterable]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_typing.py:35:13: Cannot subscript object of type `Literal[Iterator]` with no `__class_getitem__` method
- error[lint:inconsistent-mro] /tmp/mypy_primer/projects/bidict/bidict/_abc.py:72:1: Cannot create a consistent method resolution order (MRO) for class `MutableBidirectionalMapping` with bases list `[Unknown, Unknown]`
- error[lint:inconsistent-mro] /tmp/mypy_primer/projects/bidict/bidict/_bidict.py:35:1: Cannot create a consistent method resolution order (MRO) for class `MutableBidict` with bases list `[Unknown, Unknown]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/bidict/bidict/__init__.py:96:10: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/bidict/bidict/__init__.py:96:10: Argument to this function is incorrect: Expected `str`, found `Literal[suppress]`
- error[lint:invalid-base] /tmp/mypy_primer/projects/bidict/bidict/_orderedbase.py:38:16: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- error[lint:inconsistent-mro] /tmp/mypy_primer/projects/bidict/bidict/_orderedbidict.py:33:1: Cannot create a consistent method resolution order (MRO) for class `OrderedBidict` with bases list `[Unknown, Unknown]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/bidict/bidict/_orderedbidict.py:100:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/bidict/bidict/_orderedbidict.py:100:16: Argument to this function is incorrect: Expected `str`, found `Literal[_OrderedBidictKeysView]`
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_orderedbidict.py:112:30: Cannot subscript object of type `Literal[BidictKeysView]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_orderedbidict.py:131:23: Cannot subscript object of type `Literal[_OrderedBidictKeysView]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_base.py:59:22: Cannot subscript object of type `Literal[KeysView]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/bidict/_base.py:59:36: Cannot subscript object of type `Literal[ValuesView]` with no `__class_getitem__` method
- error[lint:missing-argument] /tmp/mypy_primer/projects/bidict/bidict/_base.py:253:53: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/bidict/bidict/_base.py:253:53: Argument to this function is incorrect: Expected `str`, found `Literal[BidictKeysView]`
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/bidict/tests/test_bidict.py:76:9: Cannot subscript object of type `Literal[Sequence]` with no `__class_getitem__` method
- error[lint:invalid-base] /tmp/mypy_primer/projects/bidict/tests/bidict_test_fixtures.py:40:30: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- error[lint:invalid-base] /tmp/mypy_primer/projects/bidict/tests/bidict_test_fixtures.py:125:14: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- Found 88 diagnostics
+ Found 67 diagnostics

porcupine (https://github.com/Akuli/porcupine)
- error[lint:missing-argument] /tmp/mypy_primer/projects/porcupine/porcupine/plugins/porcupine_debug_prompt.py:62:14: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/porcupine/porcupine/plugins/porcupine_debug_prompt.py:62:14: Argument to this function is incorrect: Expected `str`, found `Literal[redirect_stdout]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/porcupine/porcupine/plugins/porcupine_debug_prompt.py:62:47: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/porcupine/porcupine/plugins/porcupine_debug_prompt.py:62:47: Argument to this function is incorrect: Expected `str`, found `Literal[redirect_stderr]`
- Found 414 diagnostics
+ Found 410 diagnostics

packaging (https://github.com/pypa/packaging)
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/src/packaging/requirements.py:43:40: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/src/packaging/requirements.py:43:40: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/src/packaging/specifiers.py:804:21: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/src/packaging/specifiers.py:804:21: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/src/packaging/specifiers.py:808:21: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/src/packaging/specifiers.py:808:21: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/src/packaging/specifiers.py:844:21: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/src/packaging/specifiers.py:844:21: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:40:9: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:40:9: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:88:13: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:88:13: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:205:13: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:205:13: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:223:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:223:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:230:21: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:230:21: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:230:51: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:230:51: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:246:19: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:246:19: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:246:36: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:246:36: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:247:25: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:247:25: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:248:19: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:248:19: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:252:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:252:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:252:35: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:252:35: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:253:24: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:253:24: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:254:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:254:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:270:23: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:270:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:270:40: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:270:40: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:271:29: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:271:29: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:272:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:272:23: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:275:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:275:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:276:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:276:20: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:277:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:277:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:278:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:278:20: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:478:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:478:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:508:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:508:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:537:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:537:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:550:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:550:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:575:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:575:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:598:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:598:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:617:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:617:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:624:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:624:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:638:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:638:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:643:16: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:643:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:643:41: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:643:41: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:646:21: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:646:21: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:646:52: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:646:52: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:652:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:652:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:661:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:661:18: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:662:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:662:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:666:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:666:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:675:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:675:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:684:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:684:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:694:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:694:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:699:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:699:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:705:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:705:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:709:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:709:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:738:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:738:20: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:740:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:740:20: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:765:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:765:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:772:21: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:772:21: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:772:54: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:772:54: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:778:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:778:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:778:39: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:778:39: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:779:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:779:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:781:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:781:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:782:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:782:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:784:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:784:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:784:57: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:784:57: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:785:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:785:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:788:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:788:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:788:58: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:788:58: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:789:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:789:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:792:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:792:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:792:39: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:792:39: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:793:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:793:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:796:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:796:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:796:39: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:796:39: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:797:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:797:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:800:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:800:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:800:57: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:800:57: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:803:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:803:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:806:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:806:18: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:806:58: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:806:58: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:809:26: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:809:26: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:813:22: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:813:22: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:813:61: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:813:61: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:818:22: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:818:22: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:818:62: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:818:62: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:824:13: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:824:13: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:840:19: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:840:19: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:840:39: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:840:39: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:841:19: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:841:19: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:841:39: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:841:39: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:842:19: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:842:19: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:842:36: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:842:36: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:843:25: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:843:25: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:844:19: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:844:19: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:860:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:860:23: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:860:43: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:860:43: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:861:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:861:23: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:861:43: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:861:43: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:862:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:862:23: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:862:40: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:862:40: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:863:29: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:863:29: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:864:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:864:23: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:868:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:868:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:868:38: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:868:38: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:869:24: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:869:24: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:870:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:870:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:873:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:873:16: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:874:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:874:20: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:888:37: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:888:37: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:891:23: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:891:23: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:891:50: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_specifiers.py:891:50: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/_parser.py:46:32: Cannot subscript object of type `Literal[Sequence]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/_parser.py:47:14: Cannot subscript object of type `Literal[Sequence]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/markers.py:28:38: Cannot subscript object of type `Literal[AbstractSet]` with no `__class_getitem__` method
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/src/packaging/markers.py:183:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/src/packaging/markers.py:183:20: Argument to this function is incorrect: Expected `str`, found `Literal[Specifier]`
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/markers.py:217:55: Cannot subscript object of type `Literal[AbstractSet]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/markers.py:353:26: Cannot subscript object of type `Literal[AbstractSet]` with no `__class_getitem__` method
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/markers.py:354:22: Cannot subscript object of type `Literal[AbstractSet]` with no `__class_getitem__` method
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tasks/licenses.py:51:10: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tasks/licenses.py:51:10: Argument to this function is incorrect: Expected `str`, found `Literal[closing]`
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/packaging/src/packaging/tags.py:27:17: Cannot subscript object of type `Literal[Sequence]` with no `__class_getitem__` method
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/tests/test_metadata.py:530:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/tests/test_metadata.py:530:20: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- error[lint:invalid-base] /tmp/mypy_primer/projects/packaging/src/packaging/metadata.py:472:18: Invalid class base with type `object` (all bases must be a class, `Any`, `Unknown` or `Todo`)
- error[lint:missing-argument] /tmp/mypy_primer/projects/packaging/src/packaging/metadata.py:629:20: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/packaging/src/packaging/metadata.py:629:20: Argument to this function is incorrect: Expected `str`, found `Literal[SpecifierSet]`
- Found 333 diagnostics
+ Found 103 diagnostics

pyinstrument (https://github.com/joerick/pyinstrument)
- error[lint:missing-argument] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/base.py:97:22: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/base.py:97:22: Argument to this function is incorrect: Expected `str`, found `Literal[suppress]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/base.py:102:18: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/renderers/base.py:102:18: Argument to this function is incorrect: Expected `str`, found `Literal[suppress]`
+ error[lint:missing-argument] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/vendor/decorator.py:294:16: No arguments provided for required parameters `args`, `kwds` of function `__init__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/pyinstrument/pyinstrument/__main__.py:318:61: Argument to this function is incorrect: Expected `TextIO`, found `TextIOWrapper | TextIO | @Todo(Support for `typing.TypeAlias`)`
- Found 197 diagnostics
+ Found 193 diagnostics

paroxython (https://github.com/laowantong/paroxython)
+ error[lint:unresolved-attribute] /tmp/mypy_primer/projects/paroxython/examples/idioms/programs/052.0666-check-if-map-contains-value.py:13:6: Type `Literal[map]` has no attribute `values`
+ warning[lint:possibly-unbound-attribute] /tmp/mypy_primer/projects/paroxython/examples/simple/programs/21_xml_html_parsing.py:19:19: Attribute `getiterator` on type `Unknown | Element` is possibly unbound
+ error[lint:non-subscriptable] /tmp/mypy_primer/projects/paroxython/examples/idioms/programs_with_labels.py:178:5: Cannot subscript object of type `reversed` with no `__getitem__` method
+ error[lint:unresolved-attribute] /tmp/mypy_primer/projects/paroxython/examples/idioms/programs_with_labels.py:183:1: Type `reversed` has no attribute `reverse`
+ error[lint:unresolved-attribute] /tmp/mypy_primer/projects/paroxython/examples/idioms/programs_with_labels.py:447:6: Type `Literal[map]` has no attribute `values`
- Found 459 diagnostics
+ Found 464 diagnostics

python-htmlgen (https://github.com/srittau/python-htmlgen)
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:10:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:10:16: Argument to this function is incorrect: Expected `str`, found `Literal[Link]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:14:16: Argument to this function is incorrect: Expected `str`, found `Literal[Link]`
- error[lint:too-many-positional-arguments] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:14:39: Too many positional arguments to bound method `__new__`: expected 2, got 3
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:28:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:28:16: Argument to this function is incorrect: Expected `str`, found `Literal[Link]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:34:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:34:16: Argument to this function is incorrect: Expected `str`, found `Literal[Link]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:47:16: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/link.py:47:16: Argument to this function is incorrect: Expected `str`, found `Literal[Link]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:18:16: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:18:16: Argument to this function is incorrect: Expected `str`, found `Literal[Span]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:23:16: Argument to this function is incorrect: Expected `str`, found `Literal[Span]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:33:21: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:33:21: Argument to this function is incorrect: Expected `str`, found `Literal[Highlight]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:38:21: Argument to this function is incorrect: Expected `str`, found `Literal[Highlight]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:48:18: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:48:18: Argument to this function is incorrect: Expected `str`, found `Literal[Strong]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:53:18: Argument to this function is incorrect: Expected `str`, found `Literal[Strong]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:63:15: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:63:15: Argument to this function is incorrect: Expected `str`, found `Literal[Alternate]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:68:15: Argument to this function is incorrect: Expected `str`, found `Literal[Alternate]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:77:14: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:77:14: Argument to this function is incorrect: Expected `str`, found `Literal[Emphasis]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:82:14: Argument to this function is incorrect: Expected `str`, found `Literal[Emphasis]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:92:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:92:17: Argument to this function is incorrect: Expected `str`, found `Literal[Small]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/inline.py:97:17: Argument to this function is incorrect: Expected `str`, found `Literal[Small]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:10:17: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:10:17: Argument to this function is incorrect: Expected `str`, found `Literal[Video]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:16:17: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:16:17: Argument to this function is incorrect: Expected `str`, found `Literal[Video]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:26:17: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:26:17: Argument to this function is incorrect: Expected `str`, found `Literal[Video]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:36:17: No argument provided for required parameter `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/video.py:36:17: Argument to this function is incorrect: Expected `str`, found `Literal[Video]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/htmlgen/document.py:89:21: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/htmlgen/document.py:89:21: Argument to this function is incorrect: Expected `str`, found `Literal[Head]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/htmlgen/document.py:90:21: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/htmlgen/document.py:90:21: Argument to this function is incorrect: Expected `str`, found `Literal[Body]`
- error[lint:non-subscriptable] /tmp/mypy_primer/projects/python-htmlgen/htmlgen/generator.pyi:56:21: Cannot subscript object of type `Literal[Generator]` with no `__class_getitem__` method
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:10:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:10:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:14:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:14:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:40:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:40:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:41:15: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:41:15: Argument to this function is incorrect: Expected `str`, found `Literal[TableRow]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:56:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:56:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:71:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:71:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:77:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:77:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:78:15: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:78:15: Argument to this function is incorrect: Expected `str`, found `Literal[TableRow]`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:93:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:93:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:108:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:108:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:114:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:114:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:136:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:136:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:145:17: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__`
- error[lint:invalid-argument-type] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:145:17: Argument to this function is incorrect: Expected `str`, found `Literal[Table]`
- error[lint:missing-argument] /tmp/mypy_primer/projects/python-htmlgen/test_htmlgen/table.py:153:17: No ar...*[Comment body truncated]*
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[red-knot] Fix MRO inference for protocol classes; allow inheritance from subscripted `Generic[]`&quot; to &quot;[red-knot] Fix MRO inference for protocol classes; allow inheritance from subscripted `Generic[]`; forbid subclassing unsubscripted `Generic`&quot; by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2025-04-17 21:22</div>
            <div class="timeline-body">



<a href="https://codspeed.io/astral-sh/ruff/branches/alex%2Fprotocol-mros">CodSpeed Performance Report</a>
Merging #17452 will <strong>improve performances by 12.46%</strong>
<p>Comparing <code>alex/protocol-mros</code> (fe9f655) with <code>main</code> (fd3fc34)</p>
Summary
<p><code> 1</code> improvements<br>
<code> 32</code> untouched benchmarks</p>
Benchmarks breakdown
<p>|     | Benchmark | <code>BASE</code> | <code>HEAD</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
|  | <code>red_knot_check_file[incremental]</code> | 5.5 ms | 4.9 ms | +12.46% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:26</div>
            <div class="timeline-body"><blockquote>
<p>Merging #17452 will <strong>improve performances by 11.64%</strong></p>
</blockquote>
<p>hah... I think that might be entirely an accidental side effect of a temporary hack I added to reduce false positives when subscripting generic classes? But sure!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:28</div>
            <div class="timeline-body"><p>I&#x27;m not sure we can land this with the number of <code>__new__</code>-related false positives it currently appears to add. But I&#x27;m marking as &quot;ready for review&quot; since I&#x27;m off until Tuesday, and I think the overall approach is ready for review. (Plus if somebody has any ideas of how to easily address the <code>__new__</code> false positives, I&#x27;d love to hear them!)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-17 21:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/resources/mdtest/subscript/tuple.md</code>:120 on 2025-04-17 23:01</div>
            <div class="timeline-body"><p>I guess this <code>Todo(Protocol subscript)</code> should turn into <code>Generic</code> in the MRO? At runtime this is</p>
<pre><code>[&lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;tuple&#x27;&gt;, &lt;class &#x27;typing.Generic&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;]
</code></pre>
<p>Generic is there but Protocol is not. I&#x27;m not really sure why anything related to <code>Protocol</code> should show up here even now?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-04-17 23:17</div>
            <div class="timeline-body"><p>This looks reasonable to me. I hope it won&#x27;t conflict too much with @dcreager &#x27;s legacy-generics PR. I do think we need to at least understand the new ecosystem diagnostics in order to make a decision to land this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 12:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/resources/mdtest/subscript/tuple.md</code>:120 on 2025-04-18 12:35</div>
            <div class="timeline-body"><p>The MROs of builtin containers are all very different in typeshed to what they are at runtime. I&#x27;m not sure it makes sense for red-knot to distinguish between <code>tuple</code> and <code>Tuple</code>, and at runtime <code>tuple</code> obviously inherits directly from <code>object</code>. But in typeshed, <code>tuple</code> inherits from <code>typing.Sequence</code>, which inherits from <code>Reversible</code> and <code>Collection</code>. <code>Collection</code> and <code>Reversible</code> are both protocol classes, which is how <code>Protocol</code> ends up in the MRO here.</p>
<p>I can see if I can improve this to include <code>Generic</code> in the MRO as well without breaking the special-casing that means we don&#x27;t emit false positives when users subscript classes that inherit from <code>Protocol[T]</code> or <code>Generic[T]</code>. (This special-casing is the reason for the <code>Todo</code> type in the MRO.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 13:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/resources/mdtest/subscript/tuple.md</code>:120 on 2025-04-18 13:13</div>
            <div class="timeline-body"><p>On the latest version of the PR, this is now</p>
<pre><code>revealed: tuple[Literal[C], Literal[tuple], Literal[Sequence], Literal[Reversible], Literal[Collection], Literal[Iterable], Literal[Container], @Todo(`Protocol[]` subscript), @Todo(`Generic[]` subscript), Literal[object]]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-04-18 13:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/resources/mdtest/subscript/tuple.md</code>:120 on 2025-04-18 13:13</div>
            <div class="timeline-body"><p>Oh I think the explanation that it&#x27;s due to typeshed differences is sufficient, no need to try to get Generic in here unless it matters for some other concrete reason.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/resources/mdtest/subscript/tuple.md</code>:120 on 2025-04-18 13:18</div>
            <div class="timeline-body"><p>no worries -- it actually simplified some special-casing elsewhere, so I think it was a worthwhile change!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 13:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/red_knot_python_semantic/src/types/class_base.rs</code>:199 on 2025-04-18 13:30</div>
            <div class="timeline-body"><p>That&#x27;s annoying that the different array lengths produce different types and therefore different <code>Either</code> wrappers. There&#x27;s probably a way to simplify this down to a single type/wrapper using slices instead of arrays...but it&#x27;s also probably not worth the effort! (So no recommended change here, just me blathering)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-18 13:35</div>
            <div class="timeline-body"><p>Here&#x27;s a minimal repro for the <code>__new__</code> issue that reproduces on <code>main</code>:</p>
<pre><code>import abc

class Foo(metaclass=abc.ABCMeta): ...  

# error: No arguments provided for required parameters `bases`, `namespace` of bound method `__new__` (lint:missing-argument) [Ln 5, Col 1]
# error: Argument to this function is incorrect: Expected `str`, found `Literal[Foo]` (lint:invalid-argument-type) [Ln 5, Col 1]
Foo()  
</code></pre>
<p>We apparently think that the <code>__new__</code> method we should use for inference of <code>Foo</code> calls is <code>abc.ABCMeta.__new__</code> (which is overridden from <code>type.__new__</code>). I assume that this would reproduce with any custom metaclass that overrides <code>type.__new__</code>.</p>
<p>Something I don&#x27;t yet understand though is why we&#x27;re seeing errors like this on <code>bidict</code> <em>now</em> (relating to us thinking that the <code>__new__</code> method we should use for <code>typing.ItemsView</code> is <code>abc.ABCMeta.__new__</code>):</p>
<blockquote>
<pre><code>+ error[lint:missing-argument] /tmp/mypy_primer/projects/bidict/bidict/_frozen.py:44:26: No argument provided for required parameter `namespace` of bound method `__new__`
+ error[lint:invalid-argument-type] /tmp/mypy_primer/projects/bidict/bidict/_frozen.py:44:26: Argument to this function is incorrect: Expected `str`, found `Literal[ItemsView]`
</code></pre>
</blockquote>
<p>The <code>bidict</code> call in question is here: https://github.com/jab/bidict/blob/03ece106f8eb0f77baf983abc88b7ce4735edd4e/bidict/_frozen.py#L44</p>
<p>It appears that we <em>already</em> understand that the metaclass of <code>ItemsView</code> is <code>abc.ABCMeta</code>, although we have a woefully bad understanding of its MRO right now: https://playknot.ruff.rs/d10b6638-484c-4a3e-9bba-14aa972a8d9f</p>
<p>cc. @sharkdp -- this may be the cause of many of the <code>__new__</code>-related false positives in the ecosystem that you mentioned in red-knot planning yesterday</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:6363 on 2025-04-18 13:35</div>
            <div class="timeline-body"><p>nit: Does it work to change this to the following? (If so, I&#x27;m surprised clippy didn&#x27;t warn about that, I&#x27;m pretty sure it&#x27;s suggested that kind of change to me before)</p>
<pre><code>                        class
                            .iter_mro(self.db(), None)
                            .contains(&amp;ClassBase::Dynamic(DynamicType::SubscriptedGeneric))
</code></pre>
<p>(I was also going to suggest <code>class.is_subclass_of(...)</code> at first, but that takes in a <code>ClassType</code>, not a <code>ClassBase</code>.  Maybe change that method to take in <code>impl Into&lt;ClassBase&gt;</code>? That should still support all of the existing call sites, and you let you use it here too.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/red_knot_python_semantic/src/types/subclass_of.rs</code>:123 on 2025-04-18 13:36</div>
            <div class="timeline-body"><p>Add a doc comment here, explaining that it&#x27;s similar to <code>ClassBase</code> but only includes the variants that are valid in a subclass-of type</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dcreager">@dcreager</a> reviewed on 2025-04-18 13:38</div>
            <div class="timeline-body"><blockquote>
<blockquote>
<p>This looks reasonable to me. I hope it won&#x27;t conflict too much with @dcreager &#x27;s legacy-generics PR. I do think we need to at least understand the new ecosystem diagnostics in order to make a decision to land this.</p>
</blockquote>
</blockquote>
<p>No worries about this  I think it will actually help that PR quite a bit, since I hadn&#x27;t done anything yet related to <code>Generic</code>!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 13:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:6363 on 2025-04-18 13:47</div>
            <div class="timeline-body"><p>I think <code>.contains()</code> requires the third-party <code>Itertools</code> trait (which we already have as a dependency, but may not be imported in this module yet). I&#x27;m happy to use it here since we already have it as a dependency, just clarifying why Clippy might not be suggesting it </p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dcreager">@dcreager</a> reviewed on 2025-04-18 14:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/red_knot_python_semantic/src/types/infer.rs</code>:6363 on 2025-04-18 14:06</div>
            <div class="timeline-body"><p>Ah no it&#x27;s because it was on a <code>Vec</code>, not an <code>Iterator</code>!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-04-18 15:18</div>
            <div class="timeline-body"><blockquote>
<p>Something I don&#x27;t yet understand though is why we&#x27;re seeing errors like this on <code>bidict</code> <em>now</em></p>
</blockquote>
<p>Maybe this is because our current understanding of its MRO has <code>Unknown</code> in it? So we find an unknown <code>__new__</code> member on <code>Unknown</code>, before we get to checking the metaclass. But with this PR, we no longer find that unknown <code>__new__</code>. And I think our <code>__new__</code> lookup logic uses an &quot;ignore <code>object</code>&quot; policy currently, but then we wrongly fall back to a metaclass <code>__new__</code>. This is something we should prioritize fixing.</p>
<p>I had wondered on the <code>__new__</code> / <code>__init__</code> PR whether the &quot;ignore <code>object</code>&quot; policy was going to bite us in some way, because it&#x27;s not really a good reflection of what happens at runtime -- and it appears this is how it bites us.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/carljm">@carljm</a> on 2025-04-18 15:33</div>
            <div class="timeline-body"><p>Created <a href="https://github.com/astral-sh/ruff/issues/17462">astral-sh/ruff#17462</a> for the <code>__new__</code> issue. Maybe this is something @sharkdp could look at next week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 17:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class_base.rs</code>:199 on 2025-04-18 17:56</div>
            <div class="timeline-body"><p>I can&#x27;t see a way of doing it with slices while keeping the borrow checker happy. But I think having to use nested <code>Either</code> types is reason enough to bite the bullet and write a custom <code>Iterator</code> type  it&#x27;s not <em>that</em> much boilerplate, and it makes it easier to read at the callsite.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 18:21</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:781 on 2025-04-18 18:21</div>
            <div class="timeline-body"><p>I added this as a short-term hack to avoid the <code>__new__</code> false positives for classes that have <code>ABCMeta</code> as their metaclasses. Judging from the mypy_primer report, it looks extremely effective!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/dcreager">@dcreager</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-18 18:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-18 18:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:781 on 2025-04-18 18:25</div>
            <div class="timeline-body"><p>You&#x27;re robbing @sharkdp of the satisfaction of removing all these ecosystem false positives!</p>
<p>I guess it&#x27;s also satisfying to remove hacks in the codebase...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/class_base.rs</code>:226 on 2025-04-18 18:43</div>
            <div class="timeline-body"><p>nit: I think <code>FromClass</code> would be a clearer name here (and <code>fn from_class</code> below)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> approved on 2025-04-18 18:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/dcreager">@dcreager</a> on <code>crates/red_knot_python_semantic/src/types/class_base.rs</code>:199 on 2025-04-18 18:57</div>
            <div class="timeline-body"><p>I actually prefer the nested <code>Either</code> that you had before, tbh. I don&#x27;t think it will have any performance implications. And I think it <em>is</em> too much boilerplate for what it&#x27;s achieving, especially since you&#x27;re still returning <code>impl Iterator</code>.</p>
<p>That said, if others disagree I&#x27;m happy to go along with the consensus.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/dcreager">@dcreager</a> reviewed on 2025-04-18 19:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/carljm">@carljm</a> reviewed on 2025-04-18 19:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/carljm">@carljm</a> on <code>crates/red_knot_python_semantic/src/types/class_base.rs</code>:199 on 2025-04-18 19:22</div>
            <div class="timeline-body"><p>FWIW I don&#x27;t have strong feelings either way. Both versions seem kind of overwrought for what it&#x27;s actually doing, but that&#x27;s just life with the borrow checker sometimes :) The dedicated iterator is definitely more boilerplate overall, but also makes <em>this</em> method (which has the meaningful type logic in it) less painful to read (so it encapsulates the pain a little better). I approved because I&#x27;m fine with either.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AlexWaygood">@AlexWaygood</a> reviewed on 2025-04-18 19:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on <code>crates/red_knot_python_semantic/src/types/class_base.rs</code>:199 on 2025-04-18 19:49</div>
            <div class="timeline-body"><p>Yeah, I agree that both versions seem annoyingly verbose/overwrought! I weakly prefer the version I have now, though, basically for the reasons Carl mentions. I also don&#x27;t have strong feelings any which way, though.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-18 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2025-04-18 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2025-04-18 19:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sharkdp">@sharkdp</a> reviewed on 2025-04-30 13:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/sharkdp">@sharkdp</a> on <code>crates/red_knot_python_semantic/src/types/class.rs</code>:781 on 2025-04-30 13:11</div>
            <div class="timeline-body"><p>==&gt; <a href="https://github.com/astral-sh/ruff/pull/17733">astral-sh/ruff#17733</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:13:25 UTC
    </footer>
</body>
</html>
