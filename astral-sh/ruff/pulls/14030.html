<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sync vendored typeshed stubs - astral-sh/ruff #14030</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Sync vendored typeshed stubs</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/14030">#14030</a>
        opened by <a href="https://github.com/github-actions">@github-actions</a>
        on 2024-11-01 00:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/github-actions">@github-actions</a></div>
            <div class="timeline-body"><p>Close and reopen this PR to trigger CI</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/carljm">@carljm</a> by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/MichaReiser">@MichaReiser</a> by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/AlexWaygood">@AlexWaygood</a> by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Review requested from <a href="https://github.com/sharkdp">@sharkdp</a> by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-01 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-01 00:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-01 00:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-01 10:50</div>
            <div class="timeline-body"><p>Two changes to our tests were required:</p>
<ul>
<li><p>https://github.com/python/typeshed/pull/12918 means that we now understand that <code>__doc__</code> is present in the global namespace of all modules (good!)</p>
</li>
<li><p>https://github.com/python/typeshed/pull/12775 means that we no longer understand what the type of <code>types.ModuleType.__spec__</code> is (bad!).</p>
<p>This is because typeshed annotates <code>types.ModuleType.__spec__</code> as <code>ModuleSpec | None</code> in <code>types.pyi</code>, and <code>ModuleSpec</code> is imported from <code>importlib.machinery</code> in <code>types.pyi</code>, and <code>importlib/machinery.pyi</code> now re-exports <code>ModuleSpec</code> from <code>importlib._bootstrap</code>, and <code>importlib/_bootstrap.pyi</code> re-exports <code>ModuleSpec</code> from <code>_frozen_importlib</code> via a <code>*</code> import, and we don&#x27;t understand <code>*</code> imports yet.</p>
<p>I&#x27;m not sure it&#x27;s <em>absolutely</em> necessary for the stubs to have <em>quite</em> so much indirection here... but that&#x27;s a conversation we&#x27;d have to have over at typeshed. Whatever the case, even if there are no changes at typeshed, we should fix this regression in type inference naturally when we add support for <code>*</code> imports.</p>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-01 10:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/AlexWaygood">@AlexWaygood</a> on 2024-11-01 10:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2024-11-01 10:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-11-01 10:56</div>
            <div class="timeline-body">

<code>ruff-ecosystem</code> results
Linter (stable)
<p>✅ ecosystem check detected no linter changes.</p>
Linter (preview)
<p>✅ ecosystem check detected no linter changes.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:07:58 UTC
    </footer>
</body>
</html>
