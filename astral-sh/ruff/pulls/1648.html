<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Move external licenses to separate directory - astral-sh/ruff #1648</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Move external licenses to separate directory</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/1648">#1648</a>
        opened by <a href="https://github.com/charliermarsh">@charliermarsh</a>
        on 2023-01-05 00:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a></div>
            <div class="timeline-body"><p>I received some feedback from a friend at Google that our license structure was failing to get picked up as MIT when run against the license auto-detection systems that make it easier for Google employees to contribute. This was the other structure I considered initially (add licenses to a subdirectory), so lets run with that instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-05 01:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/charliermarsh">@charliermarsh</a> on 2023-01-05 01:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-01-05 01:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-01-25 12:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>pyproject.toml</code>:44 on 2023-01-25 12:27</div>
            <div class="timeline-body"><p>@messense - Do you know if there&#x27;s any way for Maturin to include these if I&#x27;m willing to manually enumerate them? (Even if they&#x27;re not identified as &quot;licenses&quot; in any special way, but rather, just included in the distributed wheel in some form?)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/messense">@messense</a> reviewed on 2023-01-25 12:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/messense">@messense</a> on <code>pyproject.toml</code>:44 on 2023-01-25 12:30</div>
            <div class="timeline-body"><p>You can use the <code>tool.maturin.include</code> option, see https://maturin.rs/metadata.html#add-maturin-build-options</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-01-25 18:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>pyproject.toml</code>:44 on 2023-01-25 18:25</div>
            <div class="timeline-body"><p>Thank you :)</p>
<p>I&#x27;m finding that I have to do <code>include = [&quot;../licenses/*&quot;]</code> given our structure. Which gives me this slightly strange wheel:</p>
<p><img src="https://user-images.githubusercontent.com/1309177/214650260-bad86fce-4f86-4ffc-8743-d1b406dd61c6.png" alt="Screen Shot 2023-01-25 at 1 24 49 PM"></p>
<p>Would it be too weird of me to symlink <code>licenses</code> into <code>python</code>, to get this?</p>
<p><img src="https://user-images.githubusercontent.com/1309177/214650333-75a7e478-5fb7-4c45-8512-5d6182242ada.png" alt="Screen Shot 2023-01-25 at 1 24 24 PM"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/charliermarsh">@charliermarsh</a> on <code>pyproject.toml</code>:44 on 2023-01-26 00:52</div>
            <div class="timeline-body"><p>@messense - Definitely not urgent, I decided to merge the licenses back into a single file (and was able to fix the broken license detector via some licensee hacks, I think).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/charliermarsh">@charliermarsh</a> reviewed on 2023-01-26 00:52</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/messense">@messense</a> reviewed on 2023-01-28 09:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/messense">@messense</a> on <code>pyproject.toml</code>:44 on 2023-01-28 09:20</div>
            <div class="timeline-body"><blockquote>
<p>Would it be too weird of me to symlink <code>licenses</code> into <code>python</code>, to get this?</p>
</blockquote>
<p>I think it&#x27;s fine for now, in the future <code>ruff-X.Y.Z.dist-info/license_files</code> folder is the proper place to put them. <code>[tool.maturin.include]</code> doesn&#x27;t support changing the path in wheel/sdist at the moment.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:51:44 UTC
    </footer>
</body>
</html>
