```yaml
number: 7508
title: "fix: Compiler warning about unused `map_or`"
type: pull_request
state: merged
author: MichaReiser
labels:
  - internal
assignees: []
merged: true
base: main
head: fix-map-or
created_at: 2023-09-19T07:59:24Z
updated_at: 2023-09-19T10:00:42Z
url: https://github.com/astral-sh/ruff/pull/7508
synced_at: 2026-01-12T15:55:24Z
```

# fix: Compiler warning about unused `map_or`

---

_@MichaReiser_

## Summary

Fixes a compile error about an unused `map_or` return value by rewritting the statement to `if let Some(..) = .. {}`

## Test Plan

`cargo test`


---

_Comment by @MichaReiser on 2023-09-19 07:59_

Current dependencies on/for this PR:
* main
  * **PR #7508** <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/7508" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ

This comment was auto-generated by [Graphite](https://app.graphite.dev/github/pr/astral-sh/ruff/7508?utm_source=stack-comment).

---

_Label `internal` added by @MichaReiser on 2023-09-19 07:59_

---

_Merged by @MichaReiser on 2023-09-19 08:10_

---

_Closed by @MichaReiser on 2023-09-19 08:10_

---

_Branch deleted on 2023-09-19 08:10_

---

_Comment by @github-actions[bot] on 2023-09-19 08:19_

## PR Check Results
### Ecosystem
âœ… ecosystem check detected no changes.



---

_Comment by @mkniewallner on 2023-09-19 09:41_

Sorry for that. Out of curiosity since I'm new to Rust, how could have I had spotted that? Isn't it something that is reported on the CI?

---

_Comment by @MichaReiser on 2023-09-19 09:51_

> Sorry for that. Out of curiosity since I'm new to Rust, how could have I had spotted that? Isn't it something that is reported on the CI?

No worries. I saw the message when running `cargo build` or `cargo test` locally. But I'm also using Rust's nightly compiler. So it's quite possible that the warning message is new and not something you could have seen. 

---

_Comment by @konstin on 2023-09-19 10:00_

Rust makes it easy to even find the PR where this was introduced: https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aclosed+map_or points to https://github.com/rust-lang/rust/pull/112655. Given this was merged for rust 1.73, we can expect it to become available on stable 2023-10-05 (https://releases.rs/).

---
