<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[`pylint`] Implement `chained-comparison` (`R1716`) - astral-sh/ruff #11807</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[<code>pylint</code>] Implement <code>chained-comparison</code> (<code>R1716</code>)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/astral-sh/ruff/pull/11807">#11807</a>
        opened by <a href="https://github.com/max-muoto">@max-muoto</a>
        on 2024-06-09 00:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-muoto">@max-muoto</a></div>
            <div class="timeline-body"><!--
Thank you for contributing to Ruff! To help us out with reviewing, please consider the following:

- Does this pull request include a summary of the change? (See below.)
- Does this pull request include a descriptive title?
- Does this pull request include references to any relevant issues?
-->

<h2>Summary</h2>
<p>Implements the <code>chained-comparison</code> rule from <a href="https://pylint.readthedocs.io/en/stable/user_guide/messages/refactor/chained-comparison.html">Pylint</a>.</p>
<p>Currently this doesn't include an autofix, but this is something I'll try and follow-up with.</p>
<h2>Test Plan</h2>
<!-- How was it tested? -->

<p><code>cargo test</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "chore: Scaffolding" to "Implement Unnecessary Chained Comprehension" by @max-muoto on 2024-06-09 00:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Implement Unnecessary Chained Comprehension" to "Implement Unnecessary Chained Comparison" by @max-muoto on 2024-06-09 03:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2024-06-09 04:15</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Linter (stable)</h3>
<p>✅ ecosystem check detected no linter changes.</p>
<h3>Linter (preview)</h3>
<p>ℹ️ ecosystem check <strong>detected linter changes</strong>. (+2 -0 violations, +0 -0 fixes in 2 projects; 48 projects unchanged)</p>
<details><summary><a href="https://github.com/bokeh/bokeh">bokeh/bokeh</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/bokeh/bokeh/blob/829b2a75c402d0d0abd7e37ff201fbdfd949d857/src/bokeh/colors/util.py#L63'>src/bokeh/colors/util.py:63:16:</a> PLR1716 Simplified chain comparison exists between the operands.
</pre>

</p>
</details>
<details><summary><a href="https://github.com/zulip/zulip">zulip/zulip</a> (+1 -0 violations, +0 -0 fixes)</summary>
<p>
<pre>ruff check --no-cache --exit-zero --ignore RUF9 --output-format concise --preview --select ALL</pre>
</p>
<p>

<pre>
+ <a href='https://github.com/zulip/zulip/blob/0ca0e036725ccda9107c4931aba353552d0f10cf/zilencer/management/commands/queue_rate.py#L59'>zilencer/management/commands/queue_rate.py:59:24:</a> PLR1716 Simplified chain comparison exists between the operands.
</pre>

</p>
</details>
<details><summary>Changes by rule (1 rules affected)</summary>
<p>

<p>| code | total | + violation | - violation | + fix | - fix |
| ---- | ------- | --------- | -------- | ----- | ---- |
| PLR1716 | 2 | 2 | 0 | 0 | 0 |</p>
</p>
</details>

</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Implement Unnecessary Chained Comparison" to "[`pylint`] Implement `chained-comparison` (`R1716`)" by @max-muoto on 2024-06-09 04:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @max-muoto on 2024-06-09 04:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Converted to draft by @max-muoto on 2024-06-09 05:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @max-muoto on 2024-06-09 05:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rule</span> added by @MichaReiser on 2024-06-10 06:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/max-muoto">@max-muoto</a> on 2024-06-17 15:47</div>
            <div class="timeline-body"><p>Just wanted to follow-up on this, maybe @charliermarsh if you're able to review?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:98 on 2024-06-20 07:23</div>
            <div class="timeline-body"><p>Cloning all IDs is rather expensive. We can avoid it by introducing some lifetimes.</p>
<pre><code class="language-patch">Subject: [PATCH] Don't lazily infer imports because it adds an AST dependency to the module looking up the definition
---
Index: crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
&lt;+&gt;UTF-8
===================================================================
diff --git a/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs b/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs
--- a/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs	(revision dbfcdefddeea5496c84530684429019fba4bff87)
+++ b/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs	(date 1718868097754)
@@ -47,12 +47,12 @@
     upper_bound: HashSet&lt;i32&gt;,
 }
 
-fn update_bounds(
+fn update_bounds&lt;'a&gt;(
     operator: ast::CmpOp,
-    id: String,
+    id: &amp;'a str,
     node_id: i32,
     is_left: bool,
-    uses: &amp;mut HashMap&lt;String, Bounds&gt;,
+    uses: &amp;mut HashMap&lt;&amp;'a str, Bounds&gt;,
 ) {
     match operator {
         ast::CmpOp::Lt | ast::CmpOp::LtE if is_left =&gt; {
@@ -71,16 +71,16 @@
     }
 }
 
-fn set_lower_upper_bounds(node: &amp;ast::ExprCompare, uses: &amp;mut HashMap&lt;String, Bounds&gt;) {
+fn set_lower_upper_bounds&lt;'a&gt;(node: &amp;'a ast::ExprCompare, uses: &amp;mut HashMap&lt;&amp;'a str, Bounds&gt;) {
     let mut left_operand: &amp;ast::Expr = &amp;node.left;
     let node_id = node as *const _ as i32;
     for (right_operand, operator) in node.comparators.iter().zip(node.ops.iter()) {
         if let Some(left_name_expr) = left_operand.as_name_expr() {
-            update_bounds(*operator, left_name_expr.id.clone(), node_id, true, uses);
+            update_bounds(*operator, &amp;left_name_expr.id, node_id, true, uses);
         }
 
         if let Some(right_name_expr) = right_operand.as_name_expr() {
-            update_bounds(*operator, right_name_expr.id.clone(), node_id, false, uses);
+            update_bounds(*operator, &amp;right_name_expr.id, node_id, false, uses);
         }
 
         left_operand = right_operand;
@@ -95,7 +95,7 @@
         return;
     }
 
-    let mut uses: HashMap&lt;String, Bounds&gt; = HashMap::new();
+    let mut uses: HashMap&lt;&amp;str, Bounds&gt; = HashMap::new();
     for expr in values {
         let Some(compare_expr) = expr.as_compare_expr() else {
             return;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:87 on 2024-06-20 07:30</div>
            <div class="timeline-body"><p>I don't think this is correct and I'm surprised that Clippy doesn't complain about a possible truncation.</p>
<ul>
<li><code>node</code> is a pointer. The size of a pointer depends on the platform but is 8 bytes large on 64bit systems</li>
<li><code>i32</code> is 4 bytes large</li>
</ul>
<p>Maybe @BurntSushi can enlighten me.</p>
<p>Anyway. I think we can get away with something simpler. We don't need globally unique node ids. Instead, we can just use an increasing index:</p>
<pre><code class="language-patch">Subject: [PATCH] Don't lazily infer imports because it adds an AST dependency to the module looking up the definition
---
Index: crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
&lt;+&gt;UTF-8
===================================================================
diff --git a/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs b/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs
--- a/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs	(revision dbfcdefddeea5496c84530684429019fba4bff87)
+++ b/crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs	(date 1718868630142)
@@ -43,14 +43,14 @@
 // Each integer is a unique identifier for the node.
 #[derive(Default)]
 struct Bounds {
-    lower_bound: HashSet&lt;i32&gt;,
-    upper_bound: HashSet&lt;i32&gt;,
+    lower_bound: HashSet&lt;u32&gt;,
+    upper_bound: HashSet&lt;u32&gt;,
 }
 
 fn update_bounds(
     operator: ast::CmpOp,
     id: String,
-    node_id: i32,
+    node_id: u32,
     is_left: bool,
     uses: &amp;mut HashMap&lt;String, Bounds&gt;,
 ) {
@@ -71,9 +71,13 @@
     }
 }
 
-fn set_lower_upper_bounds(node: &amp;ast::ExprCompare, uses: &amp;mut HashMap&lt;String, Bounds&gt;) {
+fn set_lower_upper_bounds(
+    node: &amp;ast::ExprCompare,
+    node_id: u32,
+    uses: &amp;mut HashMap&lt;String, Bounds&gt;,
+) {
     let mut left_operand: &amp;ast::Expr = &amp;node.left;
-    let node_id = node as *const _ as i32;
+
     for (right_operand, operator) in node.comparators.iter().zip(node.ops.iter()) {
         if let Some(left_name_expr) = left_operand.as_name_expr() {
             update_bounds(*operator, left_name_expr.id.clone(), node_id, true, uses);
@@ -96,11 +100,13 @@
     }
 
     let mut uses: HashMap&lt;String, Bounds&gt; = HashMap::new();
+    let mut node_id = 0u32;
     for expr in values {
         let Some(compare_expr) = expr.as_compare_expr() else {
             return;
         };
-        set_lower_upper_bounds(compare_expr, &amp;mut uses);
+        set_lower_upper_bounds(compare_expr, node_id, &amp;mut uses);
+        node_id += 1;
     }
 
     for bound in uses.values() {
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:48 on 2024-06-20 07:39</div>
            <div class="timeline-body"><p>I'm having some trouble understanding the precise logic, but I wonder if it is worth paying the cost of allocating two hash sets for each <code>Bound</code>. Especially, what's unclear to me is if the uniqueness is important for the correctness of the rule. Ultimately, we only iterate over the nodes once. That means we should never end up inserting the same node twice into lower or upper bounds.</p>
<p>I think we could instead use</p>
<ul>
<li>Use a <code>Vec&lt;(u32, Bound)&gt;</code> where <code>enum Bound { Lower, Upper }</code></li>
<li>We also know that the vec is sorted because we iterate the nodes in order. We can then implement a manual counting and use lookahead to to test if an id does both an upper and lower bound check</li>
</ul>
<p>This has the downside that we might end up writing a few extra bounds if a comparison tests the same name multiple times but that's fine. The overhead for this is minimal.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:124 on 2024-06-20 07:42</div>
            <div class="timeline-body"><p>I think it would be good if the diagnostic at least explains which part can be simplified and how. The violation otherwise seems hard to understand because Ruff tells you that you could do better without telling you how.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-06-20 07:44</div>
            <div class="timeline-body"><p>Thanks for contributing this rule.</p>
<p>I left  few comments on how I think we could improve the rule's performance.</p>
<p>I think we may want to spend some more time on improving the message. I as a user would struggle to understand what I'm supposed to do. Would it be possible to at least mention the relevant variables?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> reviewed on 2024-06-20 11:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:87 on 2024-06-20 11:31</div>
            <div class="timeline-body"><p>Yeah, it definitely could be a truncation here. I would in general be very careful about casting pointers to integers. I like your diff @MichaReiser. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/max-muoto">@max-muoto</a> on 2024-06-20 15:32</div>
            <div class="timeline-body"><blockquote>
<p>Thanks for contributing this rule.</p>
<p>I left few comments on how I think we could improve the rule's performance.</p>
<p>I think we may want to spend some more time on improving the message. I as a user would struggle to understand what I'm supposed to do. Would it be possible to at least mention the relevant variables?</p>
</blockquote>
<p>Thanks for the comprehensive review! I'll try and get back to everything tonight.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alexcdennis">@alexcdennis</a> reviewed on 2024-06-21 16:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/alexcdennis">@alexcdennis</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:101 on 2024-06-21 16:12</div>
            <div class="timeline-body"><p><code>continue</code> instead of <code>return</code>
to support test case like <code>a &lt; b and True and b &lt; c</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alexcdennis">@alexcdennis</a> reviewed on 2024-06-21 16:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/alexcdennis">@alexcdennis</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:48 on 2024-06-21 16:30</div>
            <div class="timeline-body"><p>could avoid the allocation altogether for <code>bool_op.values.len() &lt;= 32</code> by using bit sets for <code>lower_bound</code> and <code>upper_bound</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-muoto">@max-muoto</a> reviewed on 2024-06-23 02:38</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/max-muoto">@max-muoto</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:101 on 2024-06-23 02:38</div>
            <div class="timeline-body"><p>Fixed: https://github.com/astral-sh/ruff/pull/11807/commits/6ee4118a9fc3419069b729bff50fd9bb18059f46</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-muoto">@max-muoto</a> reviewed on 2024-06-23 02:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/max-muoto">@max-muoto</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:87 on 2024-06-23 02:39</div>
            <div class="timeline-body"><p>Great catch, no reason not to use an index here: https://github.com/astral-sh/ruff/pull/11807/commits/6ee4118a9fc3419069b729bff50fd9bb18059f46</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-muoto">@max-muoto</a> reviewed on 2024-06-23 02:39</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/max-muoto">@max-muoto</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:98 on 2024-06-23 02:39</div>
            <div class="timeline-body"><p>Thanks, good callout, fixed!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/codspeed-hq[bot]">@codspeed-hq[bot]</a> on 2024-06-23 02:43</div>
            <div class="timeline-body"><h2><a href="https://codspeed.io/astral-sh/ruff/branches/max-muoto:unnecessary-chained-comprehension">CodSpeed Performance Report</a></h2>
<h3>Merging #11807 will <strong>degrade performances by 4.83%</strong></h3>
<p><sub>Comparing <code>max-muoto:unnecessary-chained-comprehension</code> (f60f481) with <code>main</code> (7156096)</sub></p>
<h3>Summary</h3>
<p><code>❌ 1</code> regressions
<code>✅ 29</code> untouched benchmarks</p>
<blockquote>
<p>:warning: <em>Please fix the performance issues or <a href="https://codspeed.io/astral-sh/ruff/branches/max-muoto:unnecessary-chained-comprehension">acknowledge them on CodSpeed</a>.</em></p>
</blockquote>
<h3>Benchmarks breakdown</h3>
<p>|     | Benchmark | <code>main</code> | <code>max-muoto:unnecessary-chained-comprehension</code> | Change |
| --- | --------- | ----------------------- | ------------------- | ------ |
| ❌ | <code>linter/default-rules[pydantic/types.py]</code> | 1.8 ms | 1.9 ms | -4.83% |</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/max-muoto">@max-muoto</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:48 on 2024-06-23 03:12</div>
            <div class="timeline-body"><p>Great idea around using a bit-set, let me know what you think: https://github.com/astral-sh/ruff/pull/11807/commits/eb08ee497eeeaa4d0ef78f80ba4192be0617a4ad</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-muoto">@max-muoto</a> reviewed on 2024-06-23 03:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/max-muoto">@max-muoto</a> reviewed on 2024-06-23 03:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/max-muoto">@max-muoto</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:124 on 2024-06-23 03:30</div>
            <div class="timeline-body"><p>I can add that in now, or can wait until I add the autofix as well, which might make more sense as then I can consolidate how the new representation is determined. Any thoughts?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/alexcdennis">@alexcdennis</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:75 on 2024-06-24 20:37</div>
            <div class="timeline-body"><p>now that you are using a bit-set, these will fail for <code>node_idx &gt;= 32</code></p>
<p>I recommend having a check at the top of <code>unneccessary_chained_comparison</code> for <code>bool_op.values.len() &gt; 32</code></p>
<p>I'm guessing we want to keep the HashMap implementation as a fallback for longer expressions</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alexcdennis">@alexcdennis</a> reviewed on 2024-06-24 20:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:73 on 2024-06-28 07:36</div>
            <div class="timeline-body"><p>Using bit-index here is clever, but I think it's a bit too clever and we can probably get a way with a simpler solution that also works when there are more than 32 nodes.</p>
<p>Correct me if I'm wrong, but I think the analysis has a few interesting properties</p>
<ul>
<li>The <code>node_idx</code> is always increasing (it's sorted!)</li>
<li>The only data that we need to compute is the <code>shared_bounds</code>, <code>lower_bounds_count</code>, and <code>upper_bounds_count</code></li>
</ul>
<p>I wonder if we could use these properties to do the calculation right here in <code>update_bounds</code>:</p>
<p>What if we stored the following data for each identifier:</p>
<pre><code class="language-rust">struct Bounds {
	lower_count: u32,
	upper_count: u32,
	shared_count: NonZeroU32,
	last_node_index: u32
}
</code></pre>
<ul>
<li>a lower bound increments <code>lower_count</code></li>
<li>an upper bound increments <code>upper_count</code></li>
<li>shared count gets updated when <code>last_node_index == node_idx</code></li>
<li><code>update_bounds</code> always sets <code>last_node_index</code>.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-06-28 07:36</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MichaReiser">@MichaReiser</a> reviewed on 2024-06-28 07:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:124 on 2024-06-28 07:37</div>
            <div class="timeline-body"><p>@AlexWaygood what's your take. Do you have an idea on how to improve the message without including the identifier name?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alexcdennis">@alexcdennis</a> reviewed on 2024-06-28 14:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/alexcdennis">@alexcdennis</a> on <code>crates/ruff_linter/src/rules/pylint/rules/unnecessary_chained_comparison.rs</code>:73 on 2024-06-28 14:24</div>
            <div class="timeline-body"><p>We just have to be careful with non-monotonic/non-totally-ordered comparisons (eg. <code>a &lt; b &gt; c and b &lt; d</code>). The original pylint rule triggers on this case (although it's not clear what the correct fix is or if it is even appropriate to trigger on this case (relevant: #10028)).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/max-muoto">@max-muoto</a> on 2024-09-07 23:10</div>
            <div class="timeline-body"><p>Closing until I have more time to look into this, and properly address feedback.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @max-muoto on 2024-09-07 23:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:04:44 UTC
    </footer>
</body>
</html>
