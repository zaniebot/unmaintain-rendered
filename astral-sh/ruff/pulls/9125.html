<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`can_omit_optional_parentheses`: Exit early for unparenthesized expressions - astral-sh/ruff #9125</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>can_omit_optional_parentheses</code>: Exit early for unparenthesized expressions</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/astral-sh/ruff/pull/9125">#9125</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2023-12-14 05:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-14 05:39</div>
            <div class="timeline-body"><h2>Summary</h2>
<p>The <code>can_omit_optional_parentheses</code> layout tries to avoid parenthesizing an expression if
breaking any of it's sub-expressions that have their own parentheses make the expression fit.</p>
<p>This PR moves the check whether an expression contains any parenthesized expression further up
to ensure we avoid the slightly more expensive layout when there are no other parentheses by which we can break.</p>
<h2>Test Plan</h2>
<p>ecosystem check reports no changes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2023-12-14 05:39</div>
            <div class="timeline-body"><p>Current dependencies on/for this PR:</p>
<ul>
<li><code>main</code><ul>
<li><strong>PR #9125</strong> <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/9125?utm_source=stack-comment-icon" target="_blank"><img src="https://static.graphite.dev/graphite-32x32-black.png" alt="Graphite" width="10px" height="10px"/></a>  ðŸ‘ˆ</li>
</ul>
</li>
</ul>
<p>This <a href="https://stacking.dev/?utm_source=stack-comment">stack of pull requests</a> is managed by <a href="https://app.graphite.dev/github/pr/astral-sh/ruff/9125?utm_source=stack-comment">Graphite</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">internal</span> added by @MichaReiser on 2023-12-14 05:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">formatter</span> added by @MichaReiser on 2023-12-14 05:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/github-actions[bot]">@github-actions[bot]</a> on 2023-12-14 05:59</div>
            <div class="timeline-body"><!-- generated-comment ecosystem -->

<h2><code>ruff-ecosystem</code> results</h2>
<h3>Formatter (stable)</h3>
<p>âœ… ecosystem check detected no format changes.</p>
<h3>Formatter (preview)</h3>
<p>âœ… ecosystem check detected no format changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Marked ready for review by @MichaReiser on 2023-12-14 06:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @MichaReiser on 2023-12-14 06:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @MichaReiser on 2023-12-14 06:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-12-14 06:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 23:31:44 UTC
    </footer>
</body>
</html>
