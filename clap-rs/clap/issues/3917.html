<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fish support for native completions  - clap-rs/clap #3917</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>fish support for native completions </h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/clap-rs/clap/issues/3917">#3917</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2022-07-13 14:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/epage">@epage</a> on 2022-07-13 14:16</div>
            <div class="timeline-body"><p>See #3166 for more context</p>
<ul>
<li><a href="https://github.com/clap-rs/clap/blob/master/clap_complete/src/env/shells.rs">code</a></li>
<li><a href="https://github.com/clap-rs/clap/blob/master/clap_complete/tests/testsuite/fish.rs">tests</a></li>
<li><a href="https://pypi.org/project/argcomplete/">argcomplete</a> and <a href="https://github.com/spf13/cobra">cobra</a> can serve as examples</li>
</ul>
<p>Tasks</p>
<ul>
<li>[x] #5048</li>
<li>[ ]  Identify and resolve gaps with static completions</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @epage on 2022-07-13 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-completion</span> added by @epage on 2022-07-13 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">E-easy</span> added by @epage on 2022-07-13 14:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3166.html">clap-rs/clap#3166</a> on 2022-07-13 14:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4177.html">clap-rs/clap#4177</a> on 2022-09-02 18:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ModProg">@ModProg</a> on 2022-09-02 18:18</div>
            <div class="timeline-body"><p>I wanted to start on this, looking at the current structure with bash, would it make sense to move the bash mod into a separate file, and could/should some of the bash code be reused instead of duplicated, and therefore extracted into a shared module for utils?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-09-02 18:26</div>
            <div class="timeline-body"><p>I mostly kept it a single file for ease of prototyping.  It will make sense to split it into another file.  Please do that in a separate commit from other work so its easier to track whats going on</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">:money_with_wings: $20</span> added by @epage on 2022-09-13 14:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">E-help-wanted</span> added by @epage on 2022-09-20 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ModProg">@ModProg</a> on 2022-10-03 11:28</div>
            <div class="timeline-body"><p>Have the PR setup now for review. Still open things, especially in the handling of more complex functionality in handling parsing errors or arguments taking multiple values.</p>
<p>Also there might be some ways to unify code with claps actual parsing logic, but as I'm not familiar with it, I skipped that for now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-10-03 19:29</div>
            <div class="timeline-body"><blockquote>
<p>Also there might be some ways to unify code with claps actual parsing logic, but as I'm not familiar with it, I skipped that for now.</p>
</blockquote>
<p>Yeah, I hope to find a way to merge it one day but I figure its better for us to learn what is expected first</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ModProg">@ModProg</a> on 2022-10-04 10:08</div>
            <div class="timeline-body"><blockquote>
<p>Yeah, I hope to find a way to merge it one day but I figure its better for us to learn what is expected first</p>
</blockquote>
<p>Yeah makes sense. There is probably also a bunch of parsing/error handling that can be skipped for completions.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/5048.html">clap-rs/clap#5048</a> on 2023-07-28 10:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ModProg">@ModProg</a> on 2023-07-31 18:38</div>
            <div class="timeline-body"><ul>
<li>[ ] fish integration #5048</li>
<li>[ ] make globs in paths work with completion:<ul>
<li>complete containing globs: <code>*/ba</code> would complete to <code>*/bash.rs</code> and <code>*/banana.rs</code> (given the paths <code>a/bash.rs</code>, <code>a/banana.rs</code>, and <code>b/bash.rs</code> exist)</li>
<li>expand globs <code>a-*</code> would expand to <code>a-b a-c</code>.</li>
<li>complete substrings (not only prefixes) <code>rc/he/ba</code> would complete to <code>src/shell/bash.rs</code>.</li>
</ul>
</li>
<li>[ ] only complete options if current argument starts with <code>-</code> or <code>--</code> #5058</li>
<li>[ ] show help in completions #5056</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../MilesCranmer/rip2/issues/39.html">MilesCranmer/rip2#39</a> on 2024-06-25 21:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3916.html">clap-rs/clap#3916</a> on 2025-02-07 14:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:35:05 UTC
    </footer>
</body>
</html>
