```yaml
number: 3748
title: "ArgGroups values don't work well with get_many"
type: issue
state: closed
author: epage
labels:
  - C-bug
  - M-breaking-change
  - S-waiting-on-decision
  - A-parsing
assignees: []
created_at: 2022-05-24T22:09:35Z
updated_at: 2022-08-12T22:00:51Z
url: https://github.com/clap-rs/clap/issues/3748
synced_at: 2026-01-10T01:57:47Z
```

# ArgGroups values don't work well with get_many

---

_Issue opened by @epage on 2022-05-24 22:09_

When adding args, we also add them to their groups in `ArgMatches` but with #3732, we fail if the group has disparate types.

As an aside, people are paying for this issue when most aren't using it (especially derive).

We should improve this situation

---

_Label `C-bug` added by @epage on 2022-05-24 22:09_

---

_Label `S-waiting-on-decision` added by @epage on 2022-05-24 22:09_

---

_Label `A-parsing` added by @epage on 2022-05-24 22:09_

---

_Comment by @epage on 2022-05-24 22:16_

- We should allow setting an Action on arg groups so people opt-in to them appending, inspired by actions for args in #3405
- We should have a debug assert on the data type being the same for group members if the action has it being assigned

---

_Label `M-breaking-change` added by @epage on 2022-05-24 22:17_

---

_Added to milestone `4.0` by @epage on 2022-05-24 22:17_

---

_Comment by @epage on 2022-05-25 12:19_

ArgGroup actions might be a way of resolving #2317 as well

---

_Referenced in [clap-rs/clap#2317](../../clap-rs/clap/issues/2317.md) on 2022-05-25 12:27_

---

_Comment by @epage on 2022-07-22 18:04_

When fixing this, we could revert part of #3972

---

_Referenced in [clap-rs/clap#4072](../../clap-rs/clap/pulls/4072.md) on 2022-08-12 21:48_

---

_Closed by @epage on 2022-08-12 22:00_

---
