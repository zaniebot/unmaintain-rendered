<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The latest update enforces 1.7.9 rust version, breaking build pipelines. - clap-rs/clap #5087</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>The latest update enforces 1.7.9 rust version, breaking build pipelines.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/5087">#5087</a>
        opened by <a href="https://github.com/rikkigouda">@rikkigouda</a>
        on 2023-08-24 23:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rikkigouda">@rikkigouda</a></div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Rust Version</h3>
<p>1.69 (Dockerfile)</p>
<h3>Clap Version</h3>
<p>latest</p>
<h3>Minimal reproducible code</h3>
<p>Our pipelines have started breaking down due to the following error. After investigating, we found that clap crate has been updated enforcing newer rust version we do not use.</p>
<pre><code> #12 147.0 error: package `clap v4.4.0` cannot be built because it requires rustc 1.70.0 or newer, while the currently active rustc version is 1.69.0
</code></pre>
<h3>Steps to reproduce the bug with the above code</h3>
<p>Run <code>cargo build</code> against an existing rust project using <code>1.69</code> rust version.</p>
<h3>Actual Behaviour</h3>
<p>The build pipelines fail despite the fact that we have introduced no change.</p>
<h3>Expected Behaviour</h3>
<p>Build must stay green for projects relying on older rust versions (compatiblity).</p>
<h3>Additional Context</h3>
<p>We do not have clap in our toml file.</p>
<h3>Debug Output</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-bug</span> added by @rikkigouda on 2023-08-24 23:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-08-24 23:40</div>
            <div class="timeline-body"><p>Our MSRV policy is N-2 which this is in accordance with. In #3267, it was suggested to extend it but that was rejected.</p>
<p>I'm assuming you are not committing a lockfile. For projects that care about MSRV, I recommend you do. If you are concerned with cargo's policy, the cargo nightly documentation removes the discouragement to ignore lockfiles. I'm on mobile right now or else id provide the link.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2023-08-24 23:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../esp-rs/espflash/pulls/467.html">esp-rs/espflash#467</a> on 2023-08-27 03:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:49:11 UTC
    </footer>
</body>
</html>
