<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unable to use `-` as positional argument - clap-rs/clap #9</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unable to use <code>-</code> as positional argument</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/9">#9</a>
        opened by <a href="https://github.com/jhelwig">@jhelwig</a>
        on 2015-03-17 01:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jhelwig">@jhelwig</a></div>
            <div class="timeline-body"><p>Working on an app that should be able to operate on either STDIN or a file, I was trying to use <code>-</code> as the file name to indicate STDIN (as is the convention used in the app I'm porting, and elsewhere), but that causes an index out of bounds panic.</p>
<pre><code>% ./target/debug/signing-participants -
thread '&lt;main&gt;' panicked at 'index out of bounds: the len is 0 but the index is 0', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libcore/str/mod.rs:1685
</code></pre>
<p>So, I thought I'd try the common <code>--</code> to indicate &quot;only positional arguments follow&quot;, but that fails as well but much more gracefully.</p>
<pre><code>% ./target/debug/signing-participants -- -
Argument -- isn't valid
USAGE:
    signing-participants [FLAGS] [OPTIONS] &lt;INPUT&gt;
For more information try --help
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-03-17 01:25</div>
            <div class="timeline-body"><p>Ok, I think I've got an idea of how I can make this work. I was using <code>-</code> and <code>--</code> to narrow down the searches to &quot;flag&quot; or &quot;option&quot;, but I could do a check where if <code>-</code> is the only character in the argument, it'll parse as positional, as well as implement the <code>--</code> meaning only positional follows (which isn't currently implemented). I'll work on it tomorrow and post back with how it goes.</p>
<p>Thanks for the heads up!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @kbknapp on 2015-03-17 01:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2015-03-17 02:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-03-17 02:54</div>
            <div class="timeline-body"><p>Turned out to be an easier fix than anticipated. You can download v0.4.4 from crates.io now. If it's still not fixed just let me know.</p>
<p>Note that <code>--</code> still isn't implemented, that's on the TODO list.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jhelwig">@jhelwig</a> on 2015-03-17 02:58</div>
            <div class="timeline-body"><p>0.4.4 works with <code>-</code> as a positional argument for me now.  Thanks for the quick response!  I'll keep an eye on #10 as that'll be nice to have, too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3087.html">clap-rs/clap#3087</a> on 2021-12-09 04:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:46:17 UTC
    </footer>
</body>
</html>
