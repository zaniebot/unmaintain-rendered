<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support for single hyphen in long arguments - clap-rs/clap #1210</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support for single hyphen in long arguments</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1210">#1210</a>
        opened by <a href="https://github.com/kellpossible">@kellpossible</a>
        on 2018-03-18 06:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kellpossible">@kellpossible</a> on 2018-03-18 06:17</div>
            <div class="timeline-body"><p>Maintainer's notes:</p>
<ul>
<li>This is blocked on pulling out the parser (https://github.com/clap-rs/clap/issues/2915) so we can then abstract  it and allow alternative syntaxes</li>
</ul>
<hr />
<p>Hi, I would like to begin porting a piece of command line software to rust which uses arguments of the style &quot;-argument&quot; with a single hyphen instead of the usual &quot;--argument&quot; with two hyphens preceding the name of the argument, I would like to use clap for parsing these arguments, but it sounds like clap does not yet support this functionality?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-03-19 18:12</div>
            <div class="timeline-body"><p>We had an issue open for this and it's...<em>disappeared?</em></p>
<p>Thanks for (re)submitting! We'll need to go about the design of this a little bit because there were some open questions in the last discussion about this feature.</p>
<p>First and foremost, this will be an opt-in feature, probably via an <code>AppSettings</code> variant.</p>
<p>Now, once someone has opted-in, should <code>-option</code> style args be allowed with current double hyphen args (i.e. <code>-option</code> <em>and</em> <code>--option</code>), or should they disable/replace double hyphen longs?</p>
<p>Should they be allowed with <code>-o</code> shorts, or should they replace/disable single character shorts?</p>
<p>How should they interact with the current stacking of shorts? (i.e. right now if a CLI defines three shorts <code>-a</code>, <code>-b, and </code>-c<code>, one could do </code>$ prog -abc<code>which is equivalent to</code>$ prog -a -b -c`)</p>
<p>Once we get good answers on these questions we can start the implementation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kellpossible">@kellpossible</a> on 2018-03-19 22:55</div>
            <div class="timeline-body"><p>@kbknapp Hi! Yes that is strange that it disappeared!</p>
<p>In my particular use case, it would be fine for single hyphen <code>-option</code> to completely replace double hyphen <code>--option</code>  longs, and to disable shorts and disable short stacking. I can see now this change has quite a few ramifications, sorry!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kellpossible">@kellpossible</a> on 2018-03-19 23:04</div>
            <div class="timeline-body"><p>@kbknapp I would also be happy to help out with the implementation if it's not considered too complex for someone new to the project</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-03-19 23:55</div>
            <div class="timeline-body"><p>@kellpossible I think this one will be a rather complex implementation, so I'd rather wait until 3.x where the internals are a little more clean and easy to work with.</p>
<p>I'm also good with it disabling double hyphen longs and stacking, although I'm ok with shorts still sticking around.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-03-19 23:55</div>
            <div class="timeline-body"><p>This could also play into my wanting to support Windows style CLIs where <code>/</code> is used instead of <code>-</code>...but I'm not ready to put in an issue for that though as there are a bunch of other things to do first :wink:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/divagant-martian">@divagant-martian</a> on 2020-01-05 14:19</div>
            <div class="timeline-body"><p>One way of achieving this would be to have &quot;styles&quot; for long and short versions, where this use case could use two styles &quot;double hyphen&quot; and &quot;single hyphen&quot; so that it is clear that <code>--long-arg</code> is still valid, or just &quot;single hypen&quot; to disable the first one.  Somewhat related, thus commenting here.. I'd be interested too in being able to have argument values in the form <code>argkey:value</code> in a json style</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: settings</span> added by @pksunkara on 2020-02-01 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: intermediate</span> added by @pksunkara on 2020-02-01 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by @pksunkara on 2020-02-01 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @pksunkara on 2020-02-01 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new setting</span> added by @pksunkara on 2020-02-01 07:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @pksunkara on 2020-02-01 07:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> added by @pksunkara on 2020-02-01 07:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> removed by @pksunkara on 2021-08-13 10:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FibreFoX">@FibreFoX</a> on 2021-11-01 21:12</div>
            <div class="timeline-body"><p>Is there any update on this one?</p>
<p>I need to have some kind of single hyphen &quot;multi-char arguments&quot; in order to comply to a given argument specification: https://developer.elgato.com/documentation/stream-deck/sdk/registration-procedure/#compiled-plugin-registration</p>
<p>These specifications require my application to accept single hypen arguments like <code>myapp.exe -port 1234 -pluginUUID 14862781-8568-4472-bcfa-dffdeeaaec0d (...)</code></p>
<p>Would love to just be able to use <code>clap</code> on that one, but without the ability to somehow configure how many dashes/hyphens are used, it pushes me to use a different lib (if there are any for that use-case).</p>
<p>Maybe even when not having this supported (yet), maybe some additional note on the long-argument stuff would help to reduce searching this (and getting frustrated by that).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-11-01 21:38</div>
            <div class="timeline-body"><p>As far as I'm aware, there was no work on this during 3.0's development and we are at this point prioritizing polish to get the the release out.</p>
<p>kbnapp previously said 3.0's code base should help.  I wonder if #2915, with keeping this in mind, could make it even easier by offering lexing strategies.  If we use a trait for this, then we could easily extend to any lexing style.  This would be a big help for keeping the parser code understandable since it wouldn't need special cases for style and whether shorts are supported or not.</p>
<p>While not required, something also for us to consider is how to keep code size down with this.  Any kind of flag-based runtime control will mean only a really powerful link-time optimizer would cut out the extra code.  If we were okay with taking the lexing trait into the public API of clap, directly or indirectly, and if its object safe, we could accept a <code>Box&lt;dyn ArgLexer&gt;</code>.  We could then store it in a <code>enum Lexer { Box(Box&lt;ArgLexer&gt;), Owned(Default) }</code> (to avoid the allocation on the default case).  This means the default case only pays the price of dispatching on an enum.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2164.html">clap-rs/clap#2164</a> on 2021-11-03 02:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mkayaalp">@mkayaalp</a> on 2021-11-14 22:26</div>
            <div class="timeline-body"><p>See #2468 for a collection of non-Unix examples that include:</p>
<ul>
<li>single hyphen: <code>-option</code> (qemu-like),</li>
<li>slash: <code>/?</code> (Windows),</li>
<li>colon option argument separator: <code>argkey:value</code> (json-like, also similar to Windows style as it happens)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/815.html">clap-rs/clap#815</a> on 2021-11-15 14:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2468.html">clap-rs/clap#2468</a> on 2021-11-15 14:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../MarcelRobitaille/last-rs/issues/2.html">MarcelRobitaille/last-rs#2</a> on 2021-11-24 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/69.html">epage/clapng#69</a> on 2021-12-06 16:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/91.html">epage/clapng#91</a> on 2021-12-06 17:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/167.html">epage/clapng#167</a> on 2021-12-06 20:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/185.html">epage/clapng#185</a> on 2021-12-06 21:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: settings</span> removed by @epage on 2021-12-08 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-parsing</span> added by @epage on 2021-12-08 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone "3.1" by @epage on 2021-12-08 20:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> removed by @epage on 2021-12-08 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @epage on 2021-12-08 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new setting</span> removed by @epage on 2021-12-08 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: medium</span> removed by @epage on 2021-12-09 18:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> removed by @epage on 2021-12-09 18:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-blocked</span> added by @epage on 2021-12-09 18:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../kata-containers/kata-containers/pulls/3251.html">kata-containers/kata-containers#3251</a> on 2021-12-17 07:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3309.html">clap-rs/clap#3309</a> on 2022-01-18 16:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3635.html">clap-rs/clap#3635</a> on 2022-04-15 17:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../rosetta-rs/argparse-rosetta-rs/pulls/50.html">rosetta-rs/argparse-rosetta-rs#50</a> on 2022-09-10 01:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-10-10 13:23</div>
            <div class="timeline-body"><p>Yeah, going to go ahead and close this out in favor of #2468</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-10-10 13:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-blocked</span> removed by @epage on 2022-10-10 13:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-duplicate</span> added by @epage on 2022-10-10 13:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5377.html">clap-rs/clap#5377</a> on 2024-02-26 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../AFLplusplus/LibAFL/pulls/3130.html">AFLplusplus/LibAFL#3130</a> on 2025-05-20 20:26</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:45 UTC
    </footer>
</body>
</html>
