<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatted help display groups / sections - clap-rs/clap #1250</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Formatted help display groups / sections</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1250">#1250</a>
        opened by <a href="https://github.com/polarathene">@polarathene</a>
        on 2018-04-18 09:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/polarathene">@polarathene</a></div>
            <div class="timeline-body"><h3>Rust Version</h3>
<p>1.25</p>
<h3>Affected Version of clap</h3>
<p>2.31.2</p>
<hr />
<p>I am porting a C project which has a help layout with options and flags grouped into sections.</p>
<p>Similar to https://github.com/kbknapp/clap-rs/issues/805 , but without heading sections. I thought that using groups would be useful for this in some way along with <code>AppSettings::DeriveDisplayOrder</code> and <code>AppSettings::UnifiedHelpMessage</code> to get a layout like so:</p>
<pre><code>Looking Glass Client
Usage: looking-glass-client [OPTION]...
Example: looking-glass-client -h

  -h        Print out this help

  -f PATH   Specify the path to the shared memory file [current: /dev/shm/looking-glass]

  -s        Disable spice client
  -c HOST   Specify the spice host [current: 127.0.0.1]
  -p PORT   Specify the spice port [current: 5900]
  -j        Disable cursor position scaling
  -M        Don't hide the host cursor

  -k        Enable FPS display
  -g NAME   Force the use of a specific renderer
  -o OPTION Specify a renderer option (ie: opengl:vsync=0)
            Alternatively specify &quot;list&quot; to list all renderers and their options

  -a        Auto resize the window to the guest
  -n        Don't allow the window to be manually resized
  -r        Don't maintain the aspect ratio
  -d        Borderless mode
  -F        Borderless fullscreen mode
  -x XPOS   Initial window X position [current: 200]
  -y YPOS   Initial window Y position [current: 0]
  -w WIDTH  Initial window width [current: 1024]
  -b HEIGHT Initial window height [current: 768]
  -Q        Ignore requests to quit (ie: Alt+F4)

  -l        License information
</code></pre>
<p>I think this could be fairly simple to support with the v3 feature partially implemented with PR: https://github.com/kbknapp/clap-rs/pull/1211 . Using <code>.help_heading(&quot;&quot;)</code> seems to basically do it, although it still keeps the empty string in a new line resulting in two line breaks, it also repeats all options/flags in that heading(in testing I used the same help_heading <code>&quot;&quot;</code> value, so it printed it twice but with all 4 options in each heading instance).</p>
<p>While it could use something like <code>.group()</code> it's probably not appropriate(nor with multiple groups involved). <code>.args(&amp;[...])</code> could be a good way to group for this purpose(and might appropriate for the current <code>.help_heading()</code> too to avoid the duplication issue?). I'm not too familiar with what <code>.args()</code> is used for vs <code>.arg()</code>, so maybe there might be an issue with that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-06-05 01:27</div>
            <div class="timeline-body"><p>Does <code>DeriveDisplayOrder</code> and <code>UnifiedHelpMessage</code> not give the correct results?</p>
<p>I could <em>maybe</em> be considered to call the <code>help_heading(&quot;&quot;)</code> with a blank line or spaces a bug...but it would be a very low priority bug :stuck_out_tongue_winking_eye:</p>
<p>I'm going to close this issue for the time being, but if there is something we need to fix we can re-open.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2018-06-05 01:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../stickeritis/sticker/issues/147.html">stickeritis/sticker#147</a> on 2019-11-05 22:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:47:08 UTC
    </footer>
</body>
</html>
