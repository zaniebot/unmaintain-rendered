```yaml
number: 5029
title: Provide better did-you-mean suggestions for swapped words
type: issue
state: open
author: not-my-profile
labels:
  - C-enhancement
  - A-help
  - S-waiting-on-design
assignees: []
created_at: 2023-07-20T20:59:28Z
updated_at: 2023-07-20T21:25:30Z
url: https://github.com/clap-rs/clap/issues/5029
synced_at: 2026-01-10T01:57:48Z
```

# Provide better did-you-mean suggestions for swapped words

---

_Issue opened by @not-my-profile on 2023-07-20 20:59_

While using the `deno` CLI (which uses clap) I experienced the following:

```
$ deno check --write-lock
error: unexpected argument '--write-lock' found

  tip: a similar argument exists: '--no-lock'
```

The option I wanted was `--lock-write`.

Another example would be ripgrep e.g. `rg --not-type` currently suggests `--no-pre` when it should really be suggesting `--type-not`.

---

_Referenced in [clap-rs/clap#4997](../../clap-rs/clap/pulls/4997.md) on 2023-07-20 20:59_

---

_Label `C-enhancement` added by @epage on 2023-07-20 21:23_

---

_Label `A-help` added by @epage on 2023-07-20 21:23_

---

_Label `S-waiting-on-design` added by @epage on 2023-07-20 21:24_

---

_Comment by @epage on 2023-07-20 21:24_

Carrying some of the conversation from the PR

> So this will only check for one-"word" swaps and only if the word separator is `-` (which it really should be) and won't handle typos within those swapped words.
> 
> The thing I'm tying to decide if this is too narrow of a niche to include 



---

_Comment by @epage on 2023-07-20 21:25_

@not-my-profile 

> Right ... if you want to I can convert the PR to a draft and we can discuss this in an issue.
> 
> Personally I think mixing up the order of words of CLI arguments happens much more often for me than misspelling them. E.g. ripgrep has `--type-not` ... trying `--not-type` instead is a very easy mistake to make but clap currently suggests `--no-pre`. I think a small quality of life improvement like this across all clap CLIs would be nice ... sure this logic could be made more elaborate to also handle swaps in arguments consisting of e.g. 3 words but I think 2 word flags are much more common.



---

_Comment by @epage on 2023-07-20 21:25_

> I want to sit on this to give this more thought.  I'm trying to weigh out the couple of specific cases this helps with vs where the line is for us supporting these one-off heuristics.

---
