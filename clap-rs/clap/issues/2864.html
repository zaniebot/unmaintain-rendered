<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multicall executables should support matching argv[0] with a prefix stripped off - clap-rs/clap #2864</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Multicall executables should support matching argv[0] with a prefix stripped off</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2864">#2864</a>
        opened by <a href="https://github.com/fishface60">@fishface60</a>
        on 2021-10-12 20:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/fishface60">@fishface60</a></div>
            <div class="timeline-body">Please complete the following tasks
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
Clap Version
<p>3.0.0-beta.4</p>
Describe your use case
<p>The implementation of multicall needs to match the executable name against the program&#x27;s name or any applets.
If it doesn&#x27;t match any then it treats it as the applet not being found.</p>
<p>It should not be required for the executable name to match applet names exactly.</p>
<p>It&#x27;s not uncommon for a program to be installed with a custom prefix added to the binary name
e.g. GNU coreutils being installed prefixed with <code>g</code> e.g. <code>gcp</code> on non-GNU unix systems, or https://github.com/uutils/coreutils/ installing as <code>uu-cp</code>.</p>
Describe the solution you&#x27;d like
<p>uutils handles it by stripping off any string that ends with a non-alphanumeric character https://github.com/uutils/coreutils/blob/40a895f79dca20b06fbec365038655a4031e90d0/src/bin/coreutils.rs#L64
however this wouldn&#x27;t handle <code>gcp</code>.</p>
Alternatives, if applicable
<p>It could be built with a predetermined prefix rather than programmatically inferring a prefix to strip, in the style of coreutils&#x27; <code>./configure</code> file&#x27;s <code>--program-prefix</code>, <code>--program-suffix</code> or <code>--program-transform-name</code> options.</p>
Additional Context
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by <a href="https://github.com/fishface60">@fishface60</a> on 2021-10-12 20:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#2861</a> on 2021-10-12 20:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: settings</span> added by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-10-12 20:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#3041</a> on 2021-11-19 22:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>epage/clapng#215</a> on 2021-12-06 22:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>epage/clapng#217</a> on 2021-12-06 22:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: settings</span> removed by <a href="https://github.com/epage">@epage</a> on 2021-12-08 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-parsing</span> added by <a href="https://github.com/epage">@epage</a> on 2021-12-08 20:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> removed by <a href="https://github.com/epage">@epage</a> on 2021-12-08 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by <a href="https://github.com/epage">@epage</a> on 2021-12-08 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/epage">@epage</a> on 2021-12-13 15:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:58:23 UTC
    </footer>
</body>
</html>
