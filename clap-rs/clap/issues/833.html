<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>require use of --option=value syntax - clap-rs/clap #833</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>require use of --option=value syntax</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/833">#833</a>
        opened by <a href="https://github.com/adeschamps">@adeschamps</a>
        on 2017-01-30 07:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/adeschamps">@adeschamps</a> on 2017-01-30 07:17</div>
            <div class="timeline-body"><p>I'm looking at the <code>follow</code> option of the Unix <code>tail</code> command, and I'm not sure how to implement it. From the help output:</p>
<pre><code>-f, --follow[={name|descriptor}]
                output appended data as the file grows;
                  an absent option argument means 'descriptor'
</code></pre>
<p>So the following are equivalent:</p>
<pre><code>$ tail -f some-file
$ tail --follow some-file
$ tail --follow=descriptor some-file
</code></pre>
<p>Essentially, I think I need to only accept the <code>=</code> syntax, because in <code>$ tail --follow some-file</code>, <code>some-file</code> should be interpreted as a positional argument (in this case, the name of the file to print) and not as the value for the <code>follow</code> argument (which should default to <code>descriptor</code>). Is this possible?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-30 15:30</div>
            <div class="timeline-body"><p>There currently isn't a way to <em>force</em> use of the <code>--option=value</code> syntax. Although, I could add this as an opt-in feature.</p>
<p>You're right that <code>--follow some-file</code> would currently be interpretted as <code>some-file</code> being the value to <code>--follow</code>. There is a way to allow options to have no values (<code>Arg::minimum_values(0)</code>), you'd have to use either <code>$ tail some-file --follow</code> or <code>$ tail --follow -- some-file</code> have it parse correctly in current <code>clap</code>.</p>
<p>I'll add this to the new feature request issues and should be able to knock it out this week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: settings</span> added by @kbknapp on 2017-01-30 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by @kbknapp on 2017-01-30 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @kbknapp on 2017-01-30 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new setting</span> added by @kbknapp on 2017-01-30 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2017-01-30 15:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: options</span> added by @kbknapp on 2017-01-30 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Optional option where value is not required." to "require use of --option=value syntax" by @kbknapp on 2017-01-30 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "2.21.0" by @kbknapp on 2017-01-30 15:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @homu on 2017-02-21 04:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/adeschamps">@adeschamps</a> on 2017-03-19 15:11</div>
            <div class="timeline-body"><p>Just wanted to say a very late thank you!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:07 UTC
    </footer>
</body>
</html>
