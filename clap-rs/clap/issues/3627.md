```yaml
number: 3627
title: "Allow setting a `min_occurrences`"
type: issue
state: closed
author: martinvonz
labels:
  - C-enhancement
assignees: []
created_at: 2022-04-13T16:58:26Z
updated_at: 2022-04-13T17:11:19Z
url: https://github.com/clap-rs/clap/issues/3627
synced_at: 2026-01-10T01:57:47Z
```

# Allow setting a `min_occurrences`

---

_Issue opened by @martinvonz on 2022-04-13 16:58_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

3.1.8

### Describe your use case

I have these arguments:
```
struct RebaseArgs {
    /// Rebase only this revision, rebasing descendants onto this revision's
    /// parent(s)
    #[clap(long, short)]
    revision: Option<String>,
    /// The revision to rebase onto
    #[clap(long, short, required = true, min_values = 1)]
    destination: Vec<String>,
}
```

I want to require at least one rebase destination. I first tried `require = true` and `min_values = 1` separately, but neither seemed to do what I wanted. The combination did seem to work, though. However, now I just noticed that it would allow `-d x y z` to be interpreted as multiple destinations. What I wanted was to allow `-d x -d y -d z` (and disallow positional arguments).

### Describe the solution you'd like

It would be nice to be able to set `min_occurrences` (just like you can set `max_occurrences`) and have clap validate it for you.

### Alternatives, if applicable

The application code can do the validation itself, which is what I'll do for now.

### Additional Context

_No response_

---

_Label `C-enhancement` added by @martinvonz on 2022-04-13 16:58_

---

_Comment by @martinvonz on 2022-04-13 17:11_

Hmm, somehow `required = true` seems to be enough. I have no idea why I thought that wasn't enough when I tried it a couple of days ago. Sorry.

---

_Closed by @martinvonz on 2022-04-13 17:11_

---
