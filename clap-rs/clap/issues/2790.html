<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow Windows users to opt into color support - clap-rs/clap #2790</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow Windows users to opt into color support</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/2790">#2790</a>
        opened by <a href="https://github.com/pie-flavor">@pie-flavor</a>
        on 2021-09-24 19:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pie-flavor">@pie-flavor</a> on 2021-09-24 19:00</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>2.33.3</p>
<h3>Describe your use case</h3>
<p>Clap currently automatically disables coloring support on Windows because Windows has not historically supported ANSI color codes and clap doesn't feel like using crossterm instead. However, the current version of Windows does support ANSI codes, and furthermore statically linking the MSVCRT on the current version will let the built binary support colors on prior versions. I am on the current version of Windows, so I would like to be able to use the coloring support Clap already has.</p>
<h3>Describe the solution you'd like</h3>
<p>Add an opt-in feature <code>force-colors</code> that will prevent auto-disabling ANSI colors on Windows.</p>
<h3>Alternatives, if applicable</h3>
<p>Use an arbitrary cfg flag instead, so that only the binary's build environment can set it and not their dependencies.</p>
<h3>Additional Context</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @pie-flavor on 2021-09-24 19:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-09-24 19:05</div>
            <div class="timeline-body"><p>This should be addressed in master / v3.  We switched to termcolor.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-09-24 19:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pie-flavor">@pie-flavor</a> on 2021-09-29 17:36</div>
            <div class="timeline-body"><p>I hadn't seen that, great! However, it would be great if this behavior was back ported to v2 as well, which would probably take the shape I described.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-09-29 18:20</div>
            <div class="timeline-body"><p>My understanding is we're only backporting critical fixes.  To put in context, its been over a year since the last commit to <code>v2-master</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../kherge/rs.aws-login/issues/13.html">kherge/rs.aws-login#13</a> on 2022-01-02 06:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:08 UTC
    </footer>
</body>
</html>
