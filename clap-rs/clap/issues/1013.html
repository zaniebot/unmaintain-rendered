<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The help message offset is inconsistent - clap-rs/clap #1013</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>The help message offset is inconsistent</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/clap-rs/clap/issues/1013">#1013</a>
        opened by <a href="https://github.com/marmistrz">@marmistrz</a>
        on 2017-07-25 10:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/marmistrz">@marmistrz</a> on 2017-07-25 10:40</div>
            <div class="timeline-body"><h3>Rust Version</h3>
<p>1.19.0</p>
<h3>Affected Version of clap</h3>
<p>2.25.1</p>
<h3>Issue description</h3>
<p>Take this Rust project: https://github.com/marmistrz/randmockery/commit/3fa575f6642a9679c5fe0f7432803e21de4566dd</p>
<p>(I specify the commit because the app may be developed further). When launching <code>randmockery --help</code> I get</p>
<pre><code>randmockery 0.1.0
Marcin Mielniczuk &lt;mail&gt;
Proof-of-concept that we can mock randomness

USAGE:
    randmockery [OPTIONS] &lt;command&gt;...

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -l &lt;library&gt;...        Adds a library to be injected

ARGS:
    &lt;command&gt;...    The command to be executed
</code></pre>
<p>I'd expect all the help messages to be aligned to each other:</p>
<pre><code>FLAGS:
    -h, --help             Prints help information
    -V, --version          Prints version information

OPTIONS:
    -l &lt;library&gt;...        Adds a library to be injected

ARGS:
    &lt;command&gt;...           The command to be executed
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-10-04 02:48</div>
            <div class="timeline-body"><p>The alignment is per <em>section</em> (i.e. <code>ARGS</code>, <code>FLAGS</code>, etc.). In small programs like the example, I agree it looks better aligned as a single unit, but in large programs this actually looks worse (subjective opinion I know).</p>
<p>I'm going to close this as just by design. But I'm open to discussing the issue if there is an argument to be made.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2017-10-04 02:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marmistrz">@marmistrz</a> on 2017-10-04 08:26</div>
            <div class="timeline-body"><p>Since it's subjective, what about making it configurable?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-10-24 01:54</div>
            <div class="timeline-body"><p>@marmistrz apologies I didn't get the ping that a comment was made!</p>
<p>In general I'm ok with making things configurable, and I'm not against adding a setting does exactly this. I'll re-open the issue but can't promise when it'll be done due to my work schedule lately. I'd be happy to help someone figure this out if they'd like to work on a fairly easy to implement issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @kbknapp on 2017-10-24 01:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @kbknapp on 2017-10-24 01:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by @kbknapp on 2017-10-24 01:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> added by @kbknapp on 2017-10-24 01:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new setting</span> added by @kbknapp on 2017-10-24 01:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2017-10-24 01:55</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1277.html">clap-rs/clap#1277</a> on 2018-05-28 13:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2018-07-22 02:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @pksunkara on 2020-02-04 12:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> removed by @pksunkara on 2020-02-04 12:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @pksunkara on 2020-02-04 12:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-10-27 09:24</div>
            <div class="timeline-body"><p>@epage What do you think of this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-10-27 18:05</div>
            <div class="timeline-body"><p>My general stance is to push back against configuration and prefer making a decision one way or the other :), depending on how hard the workarounds are, the number of people affected, etc.</p>
<p>For those unaware, my motivations for low configuration are:</p>
<ul>
<li>Keep the API more focused.  Its hard to find relevant parts of the API because the surface area is so large.</li>
<li>Keep the number of supported cases down (not number of flags but their permutations) since we've seen a lot of problems crop up from unexpected interactions</li>
<li>Keep the code base smaller / more nimble</li>
</ul>
<p>We might be able to re-frame this to have it <em>and</em> keep low configuration, like with https://github.com/clap-rs/clap/issues/2913 or https://github.com/clap-rs/clap/issues/2914.   We could keep the mainline <code>clap</code> behavior less configurable but allow people in the more corner cases to drop down to lower level APIs that offer them more flexibility to do what they want  We can then keep on an eye on these (especially with crates.io's reverse dependencies) and use that as feedback for where we should take clap.</p>
<p>As for timelines, I wouldn't think this is a priority for 3.1.  Putting it in my buckets (Focus Area, Planned, Someday), the prior conversation makes this seem like a Planned but my suggestion above makes this sound like a Someday or that it is Planned but blocked on #2913 and would then be targeted as a change to the lower level help generator only.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-10-27 20:32</div>
            <div class="timeline-body"><blockquote>
<p>My general stance is to push back against configuration and prefer making a decision one way or the other :), depending on how hard the workarounds are, the number of people affected, etc.</p>
</blockquote>
<p>I guess that's where we differ. I envision clap (and clap had always been) to allow all kinds of configuration so that users can choose their own preferences.</p>
<p>Our job as maintainers is to grow the codebase to make sure those configuration options are not workarounds but rather modular and the number of people affected are less because they can opt-out.</p>
<p>In fact, I would wager that the reason clap is so popular is because of it's flexibility.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/75.html">epage/clapng#75</a> on 2021-12-06 16:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new setting</span> removed by @epage on 2021-12-08 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-bug</span> added by @epage on 2021-12-08 20:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> removed by @epage on 2021-12-09 17:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> removed by @epage on 2021-12-09 17:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-waiting-on-design</span> added by @epage on 2021-12-09 17:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone "3.1" by @epage on 2021-12-09 17:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../ducaale/xh/pulls/216.html">ducaale/xh#216</a> on 2022-01-01 19:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:32 UTC
    </footer>
</body>
</html>
