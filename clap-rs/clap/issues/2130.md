```yaml
number: 2130
title: "AppSettings::ColoredHelp does not color Usage heading."
type: issue
state: closed
author: newAM
labels:
  - C-bug
assignees: []
created_at: 2020-09-12T15:49:30Z
updated_at: 2020-09-12T18:28:16Z
url: https://github.com/clap-rs/clap/issues/2130
synced_at: 2026-01-10T01:57:44Z
```

# AppSettings::ColoredHelp does not color Usage heading.

---

_Issue opened by @newAM on 2020-09-12 15:49_

### Code

```rust
fn main() {
    clap::App::new("MyApp")
        .setting(clap::AppSettings::ColoredHelp)
        .get_matches();
}
```

### Steps to reproduce the issue

1. Put the above code into `examples/debug.rs`
2. Run `cargo run --example debug -- --help`
3. Observe the `Usage:` heading is not colored, but the `Flags:` heading is colored yellow.

### Version

* **Rust**: `rustc 1.46.0 (04488afe3 2020-08-24)`
* **Clap**:  3e9ee86713b5c407b50ba76f30cffaed25952063 (master)

### Actual Behavior Summary

![image](https://user-images.githubusercontent.com/7845120/92999288-8fbd1880-f4d4-11ea-82c8-11b262e38532.png)

### Expected Behavior Summary

I think the `Usage:` heading should be colored yellow.

### Debug output

<details>
<summary> Debug Output </summary>
<pre>
<code>
[            clap::build::app]  App::_do_parse
[            clap::build::app]  App::_build
[            clap::build::app]  App::_propagate:MyApp
[            clap::build::app]  App::_derive_display_order:MyApp
[            clap::build::app]  App::_create_help_and_version
[            clap::build::app]  App::_create_help_and_version: Building --help
[            clap::build::app]  App::_create_help_and_version: Building --version
[clap::build::app::debug_asserts]       App::_debug_asserts
[            clap::build::arg]  Arg::_debug_asserts:help
[            clap::build::arg]  Arg::_debug_asserts:version
[         clap::parse::parser]  Parser::get_matches_with
[         clap::parse::parser]  Parser::_build
[         clap::parse::parser]  Parser::_verify_positionals
[         clap::parse::parser]  Parser::get_matches_with: Begin parsing '"--help"' ([45, 45, 104, 101, 108, 112])
[         clap::parse::parser]  Parser::is_new_arg: "--help":NotFound
[         clap::parse::parser]  Parser::is_new_arg: arg_allows_tac=false
[         clap::parse::parser]  Parser::is_new_arg: -- found
[         clap::parse::parser]  Parser::is_new_arg: starts_new_arg=true
[         clap::parse::parser]  Parser::possible_subcommand: arg="--help"
[         clap::parse::parser]  Parser::get_matches_with: possible_sc=false, sc=None
[         clap::parse::parser]  Parser::parse_long_arg
[         clap::parse::parser]  Parser::parse_long_arg: Does it contain '='...
[         clap::parse::parser]  No
[         clap::parse::parser]  Parser::parse_long_arg: Found valid opt or flag '--help'
[         clap::parse::parser]  Parser::check_for_help_and_version_str
[         clap::parse::parser]  Parser::check_for_help_and_version_str: Checking if --"help" is help or version...
[         clap::parse::parser]  Help
[         clap::parse::parser]  [         clap::parse::parser]  Parser::use_long_help
Parser::help_err: use_long=false
[         clap::parse::parser]  Parser::use_long_help
[         clap::parse::parser]  Parser::color_help
[            clap::build::app]  App::color: Color setting...
[            clap::build::app]  Auto
[          clap::output::help]  Help::new
[          clap::output::help]  Help::write_help
[          clap::output::help]  Help::write_templated_help
[          clap::output::help]  Help::write_bin_name
[         clap::output::usage]  Usage::create_usage_no_title
[         clap::output::usage]  Usage::create_help_usage; incl_reqs=true
[         clap::output::usage]  Usage::get_required_usage_from: incls=[], matcher=false, incl_last=false
[         clap::output::usage]  Usage::get_required_usage_from: unrolled_reqs=[]
[         clap::output::usage]  Usage::get_required_usage_from: ret_val=[]
[         clap::output::usage]  Usage::needs_flags_tag
[         clap::output::usage]  Usage::needs_flags_tag:iter: f=help
[         clap::output::usage]  Usage::needs_flags_tag:iter: f=version
[         clap::output::usage]  Usage::needs_flags_tag: [FLAGS] not required
[         clap::output::usage]  Usage::create_help_usage: usage=debug
[          clap::output::help]  Help::write_all_args
[          clap::output::help]  Help::write_args
[          clap::output::help]  should_show_arg: use_long=false, arg=help
[          clap::output::help]  Help::write_args: Current Longest...2
[          clap::output::help]  Help::write_args: New Longest...6
[          clap::output::help]  should_show_arg: use_long=false, arg=version
[          clap::output::help]  Help::write_args: Current Longest...6
[          clap::output::help]  Help::write_args: New Longest...9
[          clap::output::help]  Help::write_arg
[          clap::output::help]  Help::short
[          clap::output::help]  Help::long
[          clap::output::help]  Help::val: arg=help
[          clap::output::help]  Help::spec_vals: a=--help
[          clap::output::help]  Help::val: Has switch...
[          clap::output::help]  Yes
[          clap::output::help]  Help::val: force_next_line...false
[          clap::output::help]  Help::val: nlh...false
[          clap::output::help]  Help::val: taken...21
[          clap::output::help]  val: help_width > (width - taken)...23 > (100 - 21)
[          clap::output::help]  Help::val: longest...9
[          clap::output::help]  Help::val: next_line...
[          clap::output::help]  No
[          clap::output::help]  Help::write_nspaces!: num=7
[          clap::output::help]  Help::help
[          clap::output::help]  Help::help: Next Line...false
[          clap::output::help]  Help::help: Too long...
[          clap::output::help]  No
[          clap::output::help]  Help::write_arg
[          clap::output::help]  Help::short
[          clap::output::help]  Help::long
[          clap::output::help]  Help::val: arg=version
[          clap::output::help]  Help::spec_vals: a=--version
[          clap::output::help]  Help::val: Has switch...
[          clap::output::help]  Yes
[          clap::output::help]  Help::val: force_next_line...false
[          clap::output::help]  Help::val: nlh...false
[          clap::output::help]  Help::val: taken...21
[          clap::output::help]  val: help_width > (width - taken)...26 > (100 - 21)
[          clap::output::help]  Help::val: longest...9
[          clap::output::help]  Help::val: next_line...
[          clap::output::help]  No
[          clap::output::help]  Help::write_nspaces!: num=4
[          clap::output::help]  Help::help
[          clap::output::help]  Help::help: Next Line...false
[          clap::output::help]  Help::help: Too long...
[          clap::output::help]  No
[           clap::output::fmt]  is_a_tty: stderr=false

</code>
</pre>
</details>


---

_Label `T: bug` added by @newAM on 2020-09-12 15:49_

---

_Comment by @newAM on 2020-09-12 16:03_

Approximate commit that introduced this change: 4545a47ff61b91d9a23ee2366b102af7aa2eecbc
From #2067 

---

_Referenced in [clap-rs/clap#2131](../../clap-rs/clap/pulls/2131.md) on 2020-09-12 17:01_

---

_Added to milestone `3.0` by @pksunkara on 2020-09-12 18:04_

---

_Closed by @bors[bot] on 2020-09-12 18:28_

---
