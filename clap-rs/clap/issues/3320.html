<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show possible values when an arguments value is missing - clap-rs/clap #3320</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Show possible values when an arguments value is missing</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/3320">#3320</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2022-01-19 18:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/epage">@epage</a> on 2022-01-19 18:48</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>v3.0.6</p>
<h3>Describe your use case</h3>
<p>Many CLIs allow using the argument without a value to list what values are available.  This allows a more targeted browsing than digging in <code>--help</code></p>
<p>Today, clap just points people to help</p>
<pre><code class="language-console">$ git-stack --color
    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `/home/epage/src/personal/git-stack/target/debug/git-stack --color`
error: The argument '--color &lt;WHEN&gt;' requires a value but none was supplied

USAGE:
    git-stack [OPTIONS]

For more information try --help
</code></pre>
<h3>Describe the solution you'd like</h3>
<p>For example:</p>
<pre><code class="language-console">$ cargo test --test    
error: &quot;--test&quot; takes one argument.                                      
Available tests:                    
    builder     
    derive                                                               
    derive_ui                       
    examples                                                             
    macros                                                                                                                                         
    yaml                                                                 
</code></pre>
<p>(granted, this is dynamically generating the list)</p>
<p>We could also list the <code>PossibleValue::help</code> like in #3312.</p>
<h3>Alternatives, if applicable</h3>
<p><em>No response</em></p>
<h3>Additional Context</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @epage on 2022-01-19 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-help</span> added by @epage on 2022-01-19 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">E-medium</span> added by @epage on 2022-01-19 18:48</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-01-19 18:52</div>
            <div class="timeline-body"><p>Maybe we should also have the unknown value error point people to this</p>
<p>Today:</p>
<pre><code class="language-console">$ git-stack --color lklk
    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `/home/epage/src/personal/git-stack/target/debug/git-stack --color lklk`
error: Invalid value for '--color &lt;WHEN&gt;': Unknown color choice 'lklk'

For more information try --help

$ git-stack --color
    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `/home/epage/src/personal/git-stack/target/debug/git-stack --color`
error: The argument '--color &lt;WHEN&gt;' requires a value but none was supplied

USAGE:
    git-stack [OPTIONS]

For more information try --help
</code></pre>
<p>Potential future:</p>
<pre><code class="language-console">$ git-stack --color lklk
    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `/home/epage/src/personal/git-stack/target/debug/git-stack --color lklk`
error: Invalid value for '--color &lt;WHEN&gt;': Unknown color choice 'lklk'

For valid color choices try `git-stack --color`
For more information try `git-stack --help`

$ git-stack --color
    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `/home/epage/src/personal/git-stack/target/debug/git-stack --color`
error: The argument '--color &lt;WHEN&gt;' requires a value but none was supplied

Possible values:
- auto
- always
- never
- 
For more information try `git-stack --help`
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-01-19 22:08</div>
            <div class="timeline-body"><p>Correction: looks like I wasn't using <code>possible_values</code>.  The error is actually</p>
<pre><code class="language-console">$ cargo run -- --color foo
    Finished dev [unoptimized + debuginfo] target(s) in 0.02s
     Running `/home/epage/src/personal/concolor/target/debug/concolor-example --color foo`
error: &quot;foo&quot; isn't a valid value for '--color &lt;WHEN&gt;'
        [possible values: always, auto, never]

USAGE:
    concolor-example --color &lt;WHEN&gt;

For more information try --help
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3394.html">clap-rs/clap#3394</a> on 2022-02-02 20:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-02-02 20:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:33 UTC
    </footer>
</body>
</html>
