<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support delimited values for native completions - clap-rs/clap #3922</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support delimited values for native completions</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/clap-rs/clap/issues/3922">#3922</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2022-07-13 14:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/epage">@epage</a> on 2022-07-13 14:19</div>
            <div class="timeline-body"><p>See #3166 for more context</p>
<ul>
<li><a href="https://github.com/clap-rs/clap/blob/master/clap_complete/src/dynamic.rs">code</a></li>
<li><a href="https://github.com/clap-rs/clap/blob/master/clap_complete/tests/dynamic.rs">tests</a></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @epage on 2022-07-13 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-builder</span> added by @epage on 2022-07-13 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-completion</span> added by @epage on 2022-07-13 14:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3166.html">clap-rs/clap#3166</a> on 2022-07-13 14:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">:money_with_wings: $20</span> added by @epage on 2022-09-13 14:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">E-help-wanted</span> added by @epage on 2022-09-20 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5587.html">clap-rs/clap#5587</a> on 2024-07-22 18:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/5602.html">clap-rs/clap#5602</a> on 2024-07-26 13:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2024-08-16 21:15</div>
            <div class="timeline-body"><p>@shannmu is there a reason #5602 didn't close this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shannmu">@shannmu</a> on 2024-08-19 06:46</div>
            <div class="timeline-body"><p>The issue still seems to be related to <code>allow_hyphen_values</code>, where the completion for the delimited option includes the possible values of positional arguments (if they are also delimited). This is not caused by this issue, but it shows that the issue has not been fully resolved.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2024-08-19 13:30</div>
            <div class="timeline-body"><p>I don't what <code>allow_hyphen_values</code> has to do with <code>value_delimiter</code>. I don't quite understand your explanation.  Mind re-phrasing or providing examples?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shannmu">@shannmu</a> on 2024-08-19 14:32</div>
            <div class="timeline-body"><p>https://github.com/clap-rs/clap/blob/d81158599f5b3a2434845a1731377eae84780b9a/clap_complete/tests/testsuite/dynamic.rs#L673-L683</p>
<p><code>--delimiter=comma</code> is treated as a delimited positional argument. We complete positional argument without conditions required when the current state is <code>ValueDone</code>, so it will call <code>complete_arg_value</code>.
https://github.com/clap-rs/clap/blob/d81158599f5b3a2434845a1731377eae84780b9a/clap_complete/src/dynamic/complete.rs#L216-L221</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2024-08-19 14:56</div>
            <div class="timeline-body"><p>@shannmu I had missed that.  If there is a known issue in a PR, call it out.   That should have been discussed before merging.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:08 UTC
    </footer>
</body>
</html>
