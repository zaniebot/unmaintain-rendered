<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add an option to show aliases to `--help` - clap-rs/clap #3994</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add an option to show aliases to <code>--help</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3994">#3994</a>
        opened by <a href="https://github.com/poma">@poma</a>
        on 2022-07-26 21:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/poma">@poma</a></div>
            <div class="timeline-body">Please complete the following tasks
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
Clap Version
<p>3.0.10</p>
Describe your use case
<p>Currently the developer either specifies <code>alias</code> or <code>visible_alias</code> so that aliases for commands are either always shown or always hidden in the help. On one hand, the developers want users to be able to discover shortcuts for the commands from help message, but on the other hand having aliases for each command clutters the screen and makes it less readable.</p>
<p>Example with aliases:</p>
<pre><code>    to-dec                 Convert hex value into a decimal number. [aliases: td, 2d]
    to-fix                 Convert an integer into a fixed point number. [aliases: tf, 2f]
    to-hex                 Convert an integer to hex. [aliases: th, 2h]
    to-hexdata             Normalize the input to lowercase, 0x-prefixed hex. [aliases: thd, 2hd]
    to-int256              Convert a number to a hex-encoded int256. [aliases: ti, 2i]
    to-rlp                 RLP encodes hex data, or an array of hex data
    to-uint256             Convert a number to a hex-encoded uint256. [aliases: tu, 2u]
</code></pre>
<p>Without:</p>
<pre><code>    to-dec                 Convert hex value into a decimal number.
    to-fix                 Convert an integer into a fixed point number.
    to-hex                 Convert an integer to hex.
    to-hexdata             Normalize the input to lowercase, 0x-prefixed hex.
    to-int256              Convert a number to a hex-encoded int256.
    to-rlp                 RLP encodes hex data, or an array of hex data
    to-uint256             Convert a number to a hex-encoded uint256.
</code></pre>
Describe the solution you&#x27;d like
<p>Add an additional argument to <code>--help</code> that prints help as if all <code>alias</code> items were <code>visible_alias</code> ones. This way aliases would stay hidden by default to avoid screen clutter, but there would still be a way to discover them.</p>
<p>Not sure how to better implement it</p>
Alternatives, if applicable
<p><em>No response</em></p>
Additional Context
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-07-26 21:08</div>
            <div class="timeline-body"><p>An alternative solution would be for us to elide more information with <code>-h</code> but still show it with <code>--help</code> (we already specialize <code>--help</code> to be a verbose help output).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-help</span> added by <a href="https://github.com/epage">@epage</a> on 2022-07-26 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-waiting-on-design</span> added by <a href="https://github.com/epage">@epage</a> on 2022-07-26 21:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-07-26 21:11</div>
            <div class="timeline-body"><p>Most likely any solution would not be automatic but opt-in as some CLI authors very intentionally want some aliases hidden from the user.</p>
<p>This means this issue is not as likely to be solved directly because we are making a concerted effort to trim down clap (#1365).  Instead of offering a flag for people to tweak individual piece of behavior, we are instead limiting those to the common case and offering the less common cases the building blocks they need to get the behavior they want.  In this case, the building block is likely our <a href="https://github.com/clap-rs/clap/issues/2914">decoupling of help generation from formatting</a> so users can format it as they wish while still getting a lot of the basics taken care of.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/poma">@poma</a> on 2022-07-26 22:16</div>
            <div class="timeline-body"><p>What about <code>-h</code> always hiding aliases and <code>--help</code> showing <code>visible_alias</code> ones? Or maybe even hiding aliases only when no command is used and help is printed?</p>
<p>#2914 is very cool but will probably take a long time to implement</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-07-27 20:53</div>
            <div class="timeline-body"><p>Yes, I brought that up earlier (<code>-h</code> / <code>--help</code>).  My main concern is either justifying the change enough to not require consensus or gathering consensus that this is justifiable.</p>
<blockquote>
<p>Or maybe even hiding aliases only when no command is used and help is printed?</p>
</blockquote>
<p>I&#x27;d be concerned about adding a third help mode (two help modes can already be confusing).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/poma">@poma</a> on 2022-07-27 21:26</div>
            <div class="timeline-body"><p>Oh well I guess we&#x27;ll have to settle with current state until modular help rendering is implemented. I saw an issue to make aliases grey in colored output, that would also help with readability if it&#x27;s possible to implement it earlier than modular rendering.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-07-27 21:29</div>
            <div class="timeline-body"><p>It is.  I was going to turn my attention to how we deal with colors in clap 4.1 (currently focused on 4.0).  If someone wants to take a crack at that subset of it earlier, they are welcome to it.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:59:11 UTC
    </footer>
</body>
</html>
