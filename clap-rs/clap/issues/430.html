<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update (1.5.5 -&gt; 2.1.1) broke my code - clap-rs/clap #430</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update (1.5.5 -&gt; 2.1.1) broke my code</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/430">#430</a>
        opened by <a href="https://github.com/matthiasbeyer">@matthiasbeyer</a>
        on 2016-02-20 20:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/matthiasbeyer">@matthiasbeyer</a> on 2016-02-20 20:22</div>
            <div class="timeline-body"><p>Nothing critical, though you might want to know:</p>
<pre><code class="language-rust">if let Some(spec) = matches.values_of(&quot;header&quot;) {
    // ...
    debug!(&quot;{:?}&quot;, spec);
}
</code></pre>
<p>As the return value of the <code>ArgMatches::values_of()</code> now returns something which does not implement <code>Debug</code>, the update ended in a compile error.</p>
<blockquote>
<p>ArgMatches::values_of returns an Values now which implements Iterator (should not break any code)</p>
</blockquote>
<p>As said, this is nothing serious for me, and this issue is just FYI. Feel free to close this issue after reading.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/433.html">clap-rs/clap#433</a> on 2016-02-21 18:00</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-02-22 05:37</div>
            <div class="timeline-body"><p>Yeah, there were a few breaking changes from 1x to 2x, hence the major version bump. :smile:</p>
<p>Now for your specific issue, instead of returning a <code>Vec</code> like we used to, that method now returns an iterator which is far more flexible, but it does have the downside like you noted. To fix that code, all you need to do is add</p>
<pre><code class="language-rust">if let Some(spec) = matches.values_of(&quot;header&quot;) {
    // ...
    debug!(&quot;{:?}&quot;, spec.collect::&lt;Vec&lt;_&gt;&gt;());
}
</code></pre>
<p>I'll leave this open until you confirm that works for you :wink:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> added by @kbknapp on 2016-02-22 05:38</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @matthiasbeyer on 2016-02-22 06:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
