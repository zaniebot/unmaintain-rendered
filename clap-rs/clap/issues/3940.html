<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`args_conflicts_with_subcommands` does not overriding requireds on arguments - clap-rs/clap #3940</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>args_conflicts_with_subcommands</code> does not overriding requireds on arguments</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3940">#3940</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2022-07-16 02:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a></div>
            <div class="timeline-body"><p>Maintainer's notes</p>
<p>Normally, conflicts are two way and they override <code>required(true)</code>.  We aren't doing that with <code>args_conflicts_with_subcommands</code> while it can be worked around with <code>subcommand_negates_reqs</code>.  The main question is whether to consider this a breaking change or not.</p>
<p>--</p>
<h3>Discussed in https://github.com/clap-rs/clap/discussions/3892</h3>
<div type='discussions-op-text'>

<p><sup>Originally posted by <strong>sasial-dev</strong> July  1, 2022</sup>
How would I <strong>not</strong> have <code>-f</code> &amp; <code>-p</code> in the subcommands?</p>
<pre><code class="language-rust">    let cli = command!(&quot;edit-place&quot;)
        .propagate_version(true)
        .arg_required_else_help(true)
        .subcommand(
            command!(&quot;config&quot;)
                .about(&quot;Edit the favourites config&quot;)
                .subcommand_required(true)
                .subcommand(command!(&quot;add&quot;).about(&quot;Add a favourite&quot;))
                .subcommand(command!(&quot;list&quot;).about(&quot;List all favourites&quot;))
                .subcommand(command!(&quot;remove&quot;).about(&quot;Remove a favourite&quot;)),
        )
        .arg(arg!(-p --place &lt;&quot;place id&quot;&gt; &quot;Place ID to open&quot;).global(false))
        .arg(arg!(-f --favourite &lt;&quot;favourite name&quot;&gt; &quot;Favourite place to open&quot;).global(false))
        .group(
            ArgGroup::new(&quot;id&quot;)
                .required(true)
                .args(&amp;[&quot;place&quot;, &quot;favourite&quot;]),
        )
        .get_matches();
```&lt;/div&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-bug</span> added by @epage on 2022-07-16 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">M-breaking-change</span> added by @epage on 2022-07-16 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-parsing</span> added by @epage on 2022-07-16 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">E-easy</span> added by @epage on 2022-07-16 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "4.0" by @epage on 2022-07-16 02:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/3974.html">clap-rs/clap#3974</a> on 2022-07-22 19:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-07-22 19:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sasial-dev">@sasial-dev</a> on 2022-07-22 21:43</div>
            <div class="timeline-body"><p>Thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5358.html">clap-rs/clap#5358</a> on 2024-02-19 19:13</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:48:41 UTC
    </footer>
</body>
</html>
