<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Argument names must be unique, but '' is in use by more than one argument or group' - clap-rs/clap #2180</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Argument names must be unique, but '' is in use by more than one argument or group'</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/2180">#2180</a>
        opened by <a href="https://github.com/embeddedpenguin">@embeddedpenguin</a>
        on 2020-10-20 23:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/embeddedpenguin">@embeddedpenguin</a> on 2020-10-20 23:44</div>
            <div class="timeline-body"><h3>Code</h3>
<p>The project is getting pretty big at this point so I'm just going to link the repo. Please excuse my awful code =(
https://git.epenguin.net/ePenguin/ePenguin-Igloo</p>
<h3>Steps to reproduce the issue</h3>
<ol>
<li>Run &quot;cargo run new&quot;</li>
<li>Get error</li>
</ol>
<pre><code>thread 'main' panicked at 'Argument names must be unique, but '' is in use by more than one argument or group', /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1613:13
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<h3>Version</h3>
<ul>
<li><strong>Rust</strong>: rustc 1.45.0 (5c1f21c3b 2020-07-13)</li>
<li><strong>Clap</strong>: clap 3.0.0-beta.1</li>
</ul>
<h3>Actual Behavior Summary</h3>
<p>There isn't a whole lot of behavior to report. It just fails when I use &quot;new&quot; as an arg. All other subcommands work. I've tried backtracing this and got this output:</p>
<pre><code>$ RUST_BACKTRACE=1 ./target/debug/igloo new samd21
thread 'main' panicked at 'Argument names must be unique, but '' is in use by more than one argument or group', /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1613:13
stack backtrace:
   0: backtrace::backtrace::libunwind::trace
             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.46/src/backtrace/libunwind.rs:86
   1: backtrace::backtrace::trace_unsynchronized
             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.46/src/backtrace/mod.rs:66
   2: std::sys_common::backtrace::_print_fmt
             at src/libstd/sys_common/backtrace.rs:78
   3: &lt;std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display&gt;::fmt
             at src/libstd/sys_common/backtrace.rs:59
   4: core::fmt::write
             at src/libcore/fmt/mod.rs:1076
   5: std::io::Write::write_fmt
             at src/libstd/io/mod.rs:1537
   6: std::sys_common::backtrace::_print
             at src/libstd/sys_common/backtrace.rs:62
   7: std::sys_common::backtrace::print
             at src/libstd/sys_common/backtrace.rs:49
   8: std::panicking::default_hook::{{closure}}
             at src/libstd/panicking.rs:198
   9: std::panicking::default_hook
             at src/libstd/panicking.rs:218
  10: std::panicking::rust_panic_with_hook
             at src/libstd/panicking.rs:486
  11: rust_begin_unwind
             at src/libstd/panicking.rs:388
  12: std::panicking::begin_panic_fmt
             at src/libstd/panicking.rs:342
  13: clap::build::app::App::_debug_asserts
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1613
  14: clap::build::app::App::_build
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1559
  15: clap::parse::parser::Parser::parse_subcommand
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/parse/parser.rs:1020
  16: clap::parse::parser::Parser::get_matches_with
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/parse/parser.rs:730
  17: clap::build::app::App::_do_parse
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1497
  18: clap::build::app::App::try_get_matches_from_mut
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1479
  19: clap::build::app::App::get_matches_from
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1369
  20: clap::build::app::App::get_matches
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1274
  21: igloo::igloo::Igloo::new
             at src/igloo.rs:74
  22: igloo::main
             at src/main.rs:18
  23: std::rt::lang_start::{{closure}}
             at /home/penguin/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/rt.rs:67
  24: std::rt::lang_start_internal::{{closure}}
             at src/libstd/rt.rs:52
  25: std::panicking::try::do_call
             at src/libstd/panicking.rs:297
  26: std::panicking::try
             at src/libstd/panicking.rs:274
  27: std::panic::catch_unwind
             at src/libstd/panic.rs:394
  28: std::rt::lang_start_internal
             at src/libstd/rt.rs:51
  29: std::rt::lang_start
             at /home/penguin/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/rt.rs:67
  30: main
  31: __libc_start_main
  32: _start
</code></pre>
<p>I definitely triggered whatever is happening because it wasn't doing this earlier. I'm trying to roll back changes to see what I did now, but the panic error makes no sense. It says '' is being repeated as an argument name, which is nothing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @embeddedpenguin on 2020-10-20 23:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/embeddedpenguin">@embeddedpenguin</a> on 2020-10-21 04:59</div>
            <div class="timeline-body"><p>Update:  This doesn't happen when running with the --release flag. I don't know why that would be.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/embeddedpenguin">@embeddedpenguin</a> on 2020-10-21 05:24</div>
            <div class="timeline-body"><p>Solved by switching from beta1 to beta2.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @embeddedpenguin on 2020-10-21 05:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:33 UTC
    </footer>
</body>
</html>
