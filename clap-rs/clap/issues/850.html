<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zsh completion is too strict on command line args - clap-rs/clap #850</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>zsh completion is too strict on command line args</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/850">#850</a>
        opened by <a href="https://github.com/laishulu">@laishulu</a>
        on 2017-02-15 00:39
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/laishulu">@laishulu</a></div>
            <div class="timeline-body">Rust Version
<p>rustc 1.17.0-nightly (29dece1c8 2017-02-08)</p>
Affected Version of clap
<p>&quot;clap 2.20.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
name = &quot;clap&quot;
&quot;checksum clap 2.20.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;f89819450aa94325998aa83ce7ea142db11ad24c725d6bc48459845e0d6d9f18&quot;</p>
Expected Behavior Summary
<p><code>myapp --foo1 bar1 --foo2 bar2 --foo3 bar3 --&lt;tab&gt;</code>
then list candidates for more args.</p>
Actual Behavior Summary
<p>when <code>myapp --foo1=bar1 --foo2=bar2 --foo3=bar3 --&lt;tab&gt; </code> , auto complete works perfect.
but  if I use <code>space</code> instead of the <code>=</code> symbol, auto complete doesn&#x27;t work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:36</div>
            <div class="timeline-body"><p>I&#x27;m not sure I understand the issue entirely. Are you saying the candidates don&#x27;t include the <code>=</code> but you&#x27;d like them to, or there are missing valid candidates?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/laishulu">@laishulu</a> on 2017-02-15 15:38</div>
            <div class="timeline-body"><p>when <code>myapp --foo1=bar1 --foo2=bar2 --foo3=bar3 --&lt;tab&gt; </code> , auto complete works perfect.
but  if I use <code>space</code> instead of the <code>=</code> symbol, auto complete doesn&#x27;t work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
            <div class="timeline-body"><p>Ah ok! I understand, thanks.</p>
<p>I think this has to do with how Zsh completion works and isn&#x27;t specific to <code>clap</code>. In Bash completion scripts there&#x27;s a way to tell the interpreter that a value follows certain options, but I&#x27;m not aware of a way to do this in Zsh.</p>
<p>I&#x27;m open to suggestions on how to make the completion generation better.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: completion gen</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: intermediate</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">M: help wanted</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-15 15:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x blocker</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 18:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> removed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 18:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#1141</a> on 2018-01-06 11:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/segevfiner">@segevfiner</a> on 2018-01-14 05:03</div>
            <div class="timeline-body"><p>This might have been fixed by #1141. Needs testing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-07-22 01:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x blocker</span> removed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-07-22 01:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-03-03 21:21</div>
            <div class="timeline-body"><p>@segevfiner @laishulu  I don&#x27;t have zsh and I tried testing it with mac&#x27;s default zsh (5.3) and I keep getting <code>_arguments not found</code>. If one of you could test and respond back, that would be great.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#1793</a> on 2020-04-08 06:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/intgr">@intgr</a> on 2020-04-08 16:48</div>
            <div class="timeline-body"><p>By pksunkara&#x27;s request, I tested with the example program in PR #1793, this issue is fixed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-04-08 17:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:46 UTC
    </footer>
</body>
</html>
