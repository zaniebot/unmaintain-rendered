<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upgrade dependency on unicode-segmentation - clap-rs/clap #1003</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Upgrade dependency on unicode-segmentation</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/1003">#1003</a>
        opened by <a href="https://github.com/shepmaster">@shepmaster</a>
        on 2017-07-18 17:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/shepmaster">@shepmaster</a> on 2017-07-18 17:51</div>
            <div class="timeline-body"><p>As you noticed, I had to remove clap from the crates on the playground. After trying to update the crates again, it still failed, so I did a bit of digging.</p>
<p>Right now, unicode-segmentation is one of the top-100 downloaded crates, as is clap. The playgrounds logic is to take the newest version of all available crates and resolve them together.</p>
<p>Unfortunately for this case, <a href="https://github.com/kbknapp/clap-rs/blob/e27a6ffbde87a35a367cd3c5b7369ef8173d0e7a/Cargo.toml#L22">clap 2.25.0 disallows that version</a> (also, there doesn't appear to be a tag for 2.25.0?).</p>
<p>It's likely that a future version of Cargo will introduce the concept of public/private dependencies. If unicode-segmentation is such, this type of problem will be magically solved. Until then, our hands are tied a bit â€” we have to prevent one or the other. <em>Right now</em>, clap is the only consumer of unicode-segmentation, so I can probably blacklist unicode-segmentation, but if anyone else starts using it, clap might be the one to lose out ðŸ˜¿</p>
<p>I see the comment and understand why you have to limit the version; I just wanted to let you know the outcome of that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mgeisler">@mgeisler</a> on 2017-07-23 11:33</div>
            <div class="timeline-body"><p>Hi @shepmaster -- I just saw that it was me who introduced the version restriction in https://github.com/kbknapp/clap-rs/commit/dd4c41e23785322f001d6c432596c649940596cf.</p>
<p>I saw somewhere that clap is committed to supporting the two previous stable versions of Rust, which these days means Rust 1.17 and later. So perhaps this is easy to resolve by dropping support for the older versions of Rust. @kbknapp should weigh in here, I think.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/shepmaster">@shepmaster</a> on 2017-07-23 17:10</div>
            <div class="timeline-body"><p>Perhaps it is! To be clear, as a <em>user</em> of clap, I'm not in need of this change; I just wanted to give the heads up. Of course, if it's upgraded, my life as playground maintainer would be made easier ðŸ˜ˆ</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-07-29 17:52</div>
            <div class="timeline-body"><p>I'm good with moving the minimum version of Rust to 1.13, so long as we also bump the minor. Yes, 1.17 is <em>technically</em> as far back as I'm guaranteed to support, but in practice I've been ****FAR**** more conservative.</p>
<p>As I've been saying for nearly 6 months now, I was hoping to get 3.x out the door and wait until then tobump the minimum required version of Rust. Buuut, life has been getting in t he way of that. So I'm fine upgrading to Rust 1.13.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-07-29 21:08</div>
            <div class="timeline-body"><p>Closed with v2.26.0</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2017-07-29 21:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:32 UTC
    </footer>
</body>
</html>
