<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specifying a default value but no help text results in the default value being pushed one space to the right inside the help screen - clap-rs/clap #2040</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Specifying a default value but no help text results in the default value being pushed one space to the right inside the help screen</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2040">#2040</a>
        opened by <a href="https://github.com/mainrs">@mainrs</a>
        on 2020-07-30 11:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mainrs">@mainrs</a></div>
            <div class="timeline-body"><h2>Output</h2>
<pre><code class="language-text">next-semver 0.0.0
Detect the next semantic release version based on your commit history

USAGE:
    next-semver.exe [FLAGS] [OPTIONS]

FLAGS:
    -h, --help       Prints help information

OPTIONS:
    -f, --from &lt;from&gt;    The branch, commit or tag from where to start the detection process
    -t, --to &lt;to&gt;         [default: HEAD]
</code></pre>
<p>Take a look at the <code>-t,--to</code> option. It's one space too much aligned to the right :)</p>
<h3>Code</h3>
<pre><code class="language-rust">use clap::Clap;

#[derive(Clap, Debug)]
struct Args {
    /// The branch, commit or tag from where to start the detection process.
    ///
    /// If not specified, the tool will automatically use the latest published
    /// semantic version compatible tag (`vX.X.X`).
    #[clap(long, short)]
    from: Option&lt;String&gt;,
    #[clap(long, short, default_value = &quot;HEAD&quot;)]
    to: String,
}

fn main() {
	let _args = Args::parse();
}
</code></pre>
<h3>Steps to reproduce the issue</h3>
<ol>
<li><code>cargo run -- -h</code></li>
</ol>
<h3>Version</h3>
<ul>
<li><strong>Rust</strong>: rustc 1.41.0 (5e1a79984 2020-01-27)</li>
<li><strong>Clap</strong>: 3.0.0-beta.1</li>
</ul>
<h3>Expected Behavior Summary</h3>
<p>The default value should be aligned with the help text, i.e. one space to the left.</p>
<p><strong>Edit:</strong> I know, it's nothing major but I haven't found an issue on here so I thought it's still worth mentioning :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @mainrs on 2020-07-30 11:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @pksunkara on 2020-07-30 11:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @pksunkara on 2020-07-30 11:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: args</span> added by @pksunkara on 2020-07-30 11:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/knidarkness">@knidarkness</a> on 2020-08-24 16:57</div>
            <div class="timeline-body"><p>I'm using <code>clap</code> for couple of my projects and really liked it so far. So, @pksunkara if you don't mind I could handle this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-08-24 17:00</div>
            <div class="timeline-body"><p>You are welcome to go ahead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2109.html">clap-rs/clap#2109</a> on 2020-08-25 07:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2020-08-25 13:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:47:43 UTC
    </footer>
</body>
</html>
