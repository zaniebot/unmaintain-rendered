<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use a default template instead of separate code path in Help::write_help - clap-rs/clap #2002</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use a default template instead of separate code path in Help::write_help</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2002">#2002</a>
        opened by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a>
        on 2020-07-06 11:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-07-06 11:06</div>
            <div class="timeline-body"><p>As @kitlith noticed in https://github.com/clap-rs/clap/pull/1986#issuecomment-653928929,:</p>
<blockquote>
<p>Using a template vs not using a template go through two somewhat different code-paths, right? You don't internally use a template unless the user provides one.</p>
</blockquote>
<p>In other words, instead of using some sort of hardcoded template, we use a separate function that acts like a hardcoded template.</p>
<p>I think that it worth exploring simply using a hardcoded template instead of a separate code path. We may also export this template as <code>pub static: &amp;str DEFAULT_TEMPLATE</code>, but I'm opposed to considering <em>precise contents</em> of the default template as an API contract as we may (and probably will) tweak it here and there.</p>
<p>Related code:
https://github.com/clap-rs/clap/blob/9fc8ec965e42db926ef6aa894810c23600dac49d/src/output/help.rs#L110-L115</p>
<p>The function in question:
https://github.com/clap-rs/clap/blob/9fc8ec965e42db926ef6aa894810c23600dac49d/src/output/help.rs#L821</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P2: need to have</span> added by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: medium</span> added by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">Z: mentored</span> added by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: refactor</span> added by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @CreepySkeleton on 2020-07-06 11:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1986.html">clap-rs/clap#1986</a> on 2020-07-06 11:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kitlith">@kitlith</a> on 2020-07-06 18:14</div>
            <div class="timeline-body"><p>I agree. The precise contents of that template should be able to change. The guarantee I was going for is not &quot;this is the template that will <em>always</em> produce the default output&quot; but &quot;this is the template that produces the default output for this version&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2067.html">clap-rs/clap#2067</a> on 2020-08-14 01:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2020-08-15 00:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3413.html">clap-rs/clap#3413</a> on 2022-02-07 21:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:34:17 UTC
    </footer>
</body>
</html>
