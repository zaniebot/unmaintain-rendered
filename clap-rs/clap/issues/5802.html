<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paragraphs for long help derived from doc comments may be splitted on more cases - clap-rs/clap #5802</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Paragraphs for long help derived from doc comments may be splitted on more cases</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/5802">#5802</a>
        opened by <a href="https://github.com/JohanVonElectrum">@JohanVonElectrum</a>
        on 2024-11-01 16:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/JohanVonElectrum">@JohanVonElectrum</a> on 2024-11-01 16:35</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Rust Version</h3>
<p>rustc 1.80.0 (051478957 2024-07-21)</p>
<h3>Clap Version</h3>
<p>4.5.20</p>
<h3>Minimal reproducible code</h3>
<pre><code class="language-rust">use clap::Parser;

#[derive(Debug, Parser)]
struct GlobalArgs {
    /// Verbose level
    ///
    /// Levels:  
    /// - 0: info + warn + error  
    /// - 1: debug + info + warn + error  
    /// - 2: trace + debug + info + warn + error
    #[arg(short, long, action = clap::ArgAction::Count)]
    verbose: u8,
}

#[derive(Debug, Parser)]
#[command(version, about, long_about = None)]
struct Args {
    #[clap(flatten)]
    global: GlobalArgs,
}

fn main() {
    let args = Args::parse();
    println!(&quot;{:?}&quot;, args);
}
</code></pre>
<h3>Steps to reproduce the bug with the above code</h3>
<p>cargo run -- --help</p>
<h3>Actual Behaviour</h3>
<p>Options:
-v, --verbose...
Verbose mode, print more information</p>
<pre><code>      Levels: - 0: info + warn + error - 1: debug + info + warn + error - 2: trace + debug + info + warn + error</code></pre>
<h3>Expected Behaviour</h3>
<p>Options:
-v, --verbose...
Verbose mode, print more information</p>
<pre><code>      Levels:
      - 0: info + warn + error
      - 1: debug + info + warn + error
      - 2: trace + debug + info + warn + error</code></pre>
<h3>Additional Context</h3>
<p>I expect a paragraph to split on lines ending on double space or backslash or when starting by <code>- </code> or <code>&lt;num&gt;. </code>. Note that in the provided minimal example the lines from <code>Level:  </code> to <code>- 1: ...</code> end with double space.</p>
<h3>Debug Output</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-bug</span> added by @JohanVonElectrum on 2024-11-01 16:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/5803.html">clap-rs/clap#5803</a> on 2024-11-01 16:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @epage by @epage on 2024-11-04 18:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-derive</span> added by @epage on 2024-11-04 18:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Unassigned @epage by @epage on 2024-11-04 18:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2024-11-04 18:18</div>
            <div class="timeline-body"><p>This appears to be a duplicate of #2389, closing in favor of that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2024-11-04 18:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/JohanVonElectrum">@JohanVonElectrum</a> on 2024-11-04 18:46</div>
            <div class="timeline-body"><p>Thank you for pointing that out. I had searched for issues related to newlines but didnâ€™t find #2389, as it addresses general markdown parsing. I now see the overlap and will contribute to the discussion there. Thanks for the guidance!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2024-11-04 19:06</div>
            <div class="timeline-body"><p>Fully understand the difficulty of finding issues and identifying whats relevant!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:35 UTC
    </footer>
</body>
</html>
