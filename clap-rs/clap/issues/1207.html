<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Non string default parameters - clap-rs/clap #1207</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Non string default parameters</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1207">#1207</a>
        opened by <a href="https://github.com/jbreitbart">@jbreitbart</a>
        on 2018-03-11 11:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jbreitbart">@jbreitbart</a></div>
            <div class="timeline-body"><p>I am not sure if this is a real issue or just me being stupid. I am wondering if it is possible to support non string-default parameters. Currently it seems like I have to do</p>
<pre><code>    let cpus_str = num_cpus::get().to_string();
    let matches = App::new(&quot;heat-rs&quot;)
        .arg(
            Arg::with_name(&quot;threads&quot;)
                .long(&quot;threads&quot;)
                .short(&quot;t&quot;)
                .help(&quot;Number of threads&quot;)
                .default_value(&amp;cpus_str)
                .required(true),
        )
        .get_matches();
</code></pre>
<p>but the string looks superfluous. Is there any reason why I cannot set an integer default value?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-03-19 18:01</div>
            <div class="timeline-body"><p>Not a stupid question at all! Currently clap only handles strings. Strings in, strings out. You can use something like <a href="https://github.com/TeXitoi/structopt"><code>structopt</code></a> (which uses clap internally) to use Rust types.</p>
<p>It&#x27;s not an exact answer to your question, but should help.</p>
<p>Also note that <code>structopt</code> is in the process of being merged into clap proper ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-03-19 18:01</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-03-19 18:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:07 UTC
    </footer>
</body>
</html>
