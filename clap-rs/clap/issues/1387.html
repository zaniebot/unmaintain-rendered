<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yaml-rust dependency is outdated - clap-rs/clap #1387</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>yaml-rust dependency is outdated</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1387">#1387</a>
        opened by <a href="https://github.com/kpcyrd">@kpcyrd</a>
        on 2018-11-23 11:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/kpcyrd">@kpcyrd</a> on 2018-11-23 11:22</div>
            <div class="timeline-body"><h3>Affected Version of clap</h3>
<pre><code>2.32.0
</code></pre>
<h3>Bug or Feature Request Summary</h3>
<p>The latest version of yaml-rust is currently:</p>
<pre><code>yaml-rust = &quot;0.4.2&quot;
</code></pre>
<p>The version clap is depending on is:</p>
<pre><code>yaml-rust = { version = &quot;0.3.5&quot;, optional = true }
</code></pre>
<p>An update would be appreciated!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hashmap">@hashmap</a> on 2018-12-18 11:08</div>
            <div class="timeline-body"><pre><code>$cargo audit
    Fetching advisory database from `https://github.com/RustSec/advisory-db.git`
      Loaded 17 security advisories (from /home/ubuntu/.cargo/advisory-db)
    Scanning Cargo.lock for vulnerabilities (311 crate dependencies)
error: Vulnerable crates found!

ID:      RUSTSEC-2018-0006
Crate:   yaml-rust
Version: 0.3.5
Date:    2018-09-17
URL:     https://github.com/chyh1990/yaml-rust/pull/109
Title:   Uncontrolled recursion leads to abort in deserialization
Solution: upgrade to: &gt;= 0.4.1

error: 1 vulnerability found!
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1396.html">clap-rs/clap#1396</a> on 2018-12-18 11:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1415.html">clap-rs/clap#1415</a> on 2019-02-17 00:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @spacekookie on 2019-03-26 08:54</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ErichDonGubler">@ErichDonGubler</a> on 2019-03-27 15:40</div>
            <div class="timeline-body"><p>Wait, why did this get reverted? :( Should the issue be reopened?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by @spacekookie on 2019-03-28 10:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spacekookie">@spacekookie</a> on 2019-03-28 15:59</div>
            <div class="timeline-body"><p>Just to bring everybody up to speed. Yes, the PR that fixed this issue was reverted. The description explains in detail why (https://github.com/clap-rs/clap/pull/1439)</p>
<p>I have opened https://github.com/chyh1990/yaml-rust/issues/126 which would allow me to merge a backported patch that mitigates this vulnerability to <code>0.3.x</code>. Then they could publish a new patch version that we pin to :tada:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ErichDonGubler">@ErichDonGubler</a> on 2019-03-28 16:16</div>
            <div class="timeline-body"><p>Wonderful explanation! Thank you. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gedigi">@gedigi</a> on 2019-05-07 07:51</div>
            <div class="timeline-body"><p>@spacekookie yaml-rust doesn't seem actively maintained, or at least I don't see your request getting any attention. Alternatives?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/spacekookie">@spacekookie</a> on 2019-05-07 08:16</div>
            <div class="timeline-body"><p>I'd suggest we fork 0.3 and upload it to crates.io ourselves. I'll probably do that this afternoon.</p>
<p>Thanks for the reminder on this btw. I've been pretty swamped at work the last 2 months :weary:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/gedigi">@gedigi</a> on 2019-05-07 15:51</div>
            <div class="timeline-body"><p>Thanks a lot. Is there anything I can do to help? I donâ€™t have much experience dealing with crates.io.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../paritytech/substrate/issues/2559.html">paritytech/substrate#2559</a> on 2019-05-14 09:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 15:26</div>
            <div class="timeline-body"><p>Closing due to inactivity. Honestly, I don't think we should fix it unless we have the patch backported to <code>rust-yaml 0.3</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @CreepySkeleton on 2020-02-01 15:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kpcyrd">@kpcyrd</a> on 2020-02-01 15:50</div>
            <div class="timeline-body"><p>If yaml support is unmaintained, can you please drop the dependency as a whole?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 15:52</div>
            <div class="timeline-body"><p>How would you expect us to drop it from <code>2.33</code>? That would be a breaking change.</p>
<p>Also, <a href="https://github.com/clap-rs/clap/issues/1569#issuecomment-540630305">like I said</a>, there's no much point in this fix for <code>clap</code> anyway.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kpcyrd">@kpcyrd</a> on 2020-02-01 16:14</div>
            <div class="timeline-body"><p>I didn't file the issue due to security issues but because we have to carry a patch for clap downstream: https://salsa.debian.org/rust-team/debcargo-conf/blob/master/src/clap/debian/patches/relax-dep-versions.patch</p>
<p>Closing the issue doesn't make the dependency less outdated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: duplicate</span> added by @pksunkara on 2020-02-01 18:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-02-01 18:34</div>
            <div class="timeline-body"><p>We have a duplicate at #1569. Please follow there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-02 02:12</div>
            <div class="timeline-body"><p>@kpcyrd for clarity, the reason we can't bump rust-yaml to 0.4 is because some types from this crate are part of clap's API. If we actually do the bump, that would be s breaking change for users relying on them.</p>
<p>We did bump in the new-coming clap 3.0 but clap 2.x is going to have to stay on rust-yaml 0.3.x</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:55 UTC
    </footer>
</body>
</html>
