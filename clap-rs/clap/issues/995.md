```yaml
number: 995
title: Bug with hyphenated long arguments using macro 
type: issue
state: closed
author: salpalvv
labels: []
assignees: []
created_at: 2017-07-05T19:12:38Z
updated_at: 2018-08-02T03:30:08Z
url: https://github.com/clap-rs/clap/issues/995
synced_at: 2026-01-10T01:57:41Z
```

# Bug with hyphenated long arguments using macro 

---

_Issue opened by @salpalvv on 2017-07-05 19:12_

### Rust Version

rustc 1.20.0-nightly (2fbba5bdb 2017-07-04)

### Affected Version of clap

 "clap 2.25.0 (registry+https://github.com/rust-lang/crates.io-index)",
name = "clap"
"checksum clap 2.25.0 (registry+https://github.com/rust-lang/crates.io-index)" = "867a885995b4184be051b70a592d4d70e32d7a188db6e8dff626af286a962771"


### Expected Behavior Summary

hyphenated long arguments should work while using macro
```
(@arg test: -m --mattermost-channel ... "this should work")
```
`-m` and `--mattermost-channel` should be valid 

### Actual Behavior Summary

`-m` is not registering. 
`--mattermost` and `-c` are considered the valid arguments
I am guessing the `-channel` is getting picked up as `-c` for short and overriding `-m`

setting `.short("m)` and `.long("mattermost-channel")` in builder pattern works fine 

### Steps to Reproduce the issue

use macro and a hyphenated command

---

_Comment by @halostatue on 2017-07-15 16:24_

The macro docs suggest that your code should be:

`(@arg test: -m --"mattermost-channel" ... "this should work")`

---

_Comment by @salpalvv on 2017-07-19 21:05_

`(@arg test: -m --("mattermost-channel") ... "this should work")` with the parens seems to work per the docs. 

Perhaps this could be made a little more visible in the docs. I'm going to close this since it's a "limitation of rust macros"

---

_Closed by @salpalvv on 2017-07-19 21:05_

---
