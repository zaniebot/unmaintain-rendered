<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add support for building arguments from toml - clap-rs/clap #81</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add support for building arguments from toml</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/81">#81</a>
        opened by <a href="https://github.com/kbknapp">@kbknapp</a>
        on 2015-04-29 01:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kbknapp">@kbknapp</a></div>
            <div class="timeline-body"><p>Splitting from #80 to track separately. Same method though, via a <code>feature</code> due to additional <code>toml-rs</code> dep.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">feature request</span> added by @kbknapp on 2015-04-29 01:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">optional dep</span> added by @kbknapp on 2015-05-04 04:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-04 04:16</div>
            <div class="timeline-body"><p>This may get dropped as I'm not sure toml is the best way to represent an app structure unless it's dynamically generated somehow...TBD</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">postponed</span> added by @kbknapp on 2015-05-11 17:44</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> added by @kbknapp on 2015-07-15 04:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: args</span> added by @kbknapp on 2015-07-15 04:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: app</span> added by @kbknapp on 2015-07-15 04:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: intermediate</span> added by @kbknapp on 2015-07-15 04:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: wont do</span> added by @kbknapp on 2015-07-27 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: postponed</span> removed by @kbknapp on 2015-07-27 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2015-07-27 12:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/216.html">clap-rs/clap#216</a> on 2015-09-02 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vks">@vks</a> on 2016-09-07 21:14</div>
            <div class="timeline-body"><blockquote>
<p>I'm not sure toml is the best way to represent an app structure unless it's dynamically generated somehow...</p>
</blockquote>
<p>What exactly is the problem? TOML allows nesting as well, but keeps it flat:</p>
<pre><code class="language-yaml">subcommands:
    - subcmd:
        about: demos subcommands from yaml
        version: &quot;0.1&quot;
        author: Kevin K. &lt;kbknapp@gmail.com&gt;
        args:
            - scopt:
                short: B
                multiple: true
                help: example subcommand option
                takes_value: true
            - scpos1:
                help: example subcommand positional
                index: 1
</code></pre>
<p>would be</p>
<pre><code class="language-toml">[subcommands.subcmd]
about = &quot;demos subcommands from yaml&quot;
version = &quot;0.1&quot;
author = &quot;Kevin K. &lt;kbknapp@gmail.com&gt;&quot;

[subcommands.args.scopt]
short = &quot;B&quot;
multiple = true
help = &quot;example subcommand option&quot;
takes_value = true

[subcommands.args.scpos1]
help = &quot;example subcommand positional&quot;
index = 1
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-09-07 21:43</div>
            <div class="timeline-body"><p>@vks it's not that it doesn't support it, it's that unless you're dynamically generating that, it would be a pain to write. YAML on the other hand pretty short and easy to read / mentally parse. Granted that a personal opinion, and if it's not shared I'd be happy to merge TOML support as well...I just don't have the bandwidth right now to add it :stuck_out_tongue_winking_eye:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vks">@vks</a> on 2016-09-07 22:08</div>
            <div class="timeline-body"><p>@kbknapp I think if we used serde we would get both YAML and TOML (and others).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-09-08 19:44</div>
            <div class="timeline-body"><p>Potentially yes, I haven't worked with serde in quite a while, so I'd have to hit the books again to see how much work it'd be. I'm not opposed to it by any means, other than I'd like to keep these features working on stable and not have to require nightly.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:46:19 UTC
    </footer>
</body>
</html>
