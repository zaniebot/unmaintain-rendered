```yaml
number: 566
title: gen_completion to string
type: issue
state: closed
author: davidszotten
labels:
  - A-completion
assignees: []
created_at: 2016-07-04T10:05:10Z
updated_at: 2018-08-02T03:29:51Z
url: https://github.com/clap-rs/clap/issues/566
synced_at: 2026-01-10T01:57:40Z
```

# gen_completion to string

---

_Issue opened by @davidszotten on 2016-07-04 10:05_

until there is a way to ship additional files with `cargo install`, i'd like to add a subcommand to my binary that prints the completion code to stdout, (that users can redirect to a file at location at their convenience; this seems more intuitive than pointing the commend at a directory and have it write there)

at the moment it seems the main entry point `ComplGen` is completely built around writing a file to a directory. what are your thoughts on splitting out the file writing from the generation?

given the single public api `gen_completions` i'm not sure what the best approach to adding/changing this would be.


---

_Referenced in [clap-rs/clap#567](../../clap-rs/clap/issues/567.md) on 2016-07-04 12:39_

---

_Comment by @kbknapp on 2016-07-04 21:30_

Without making a breaking change, this could be possible by adding a `App::gen_completion_to<W: io::Write>` method. It would require some fairly minor changes to the internals of `ComplGen` but that shoudln't be too hard. Thanks for the idea :+1: 


---

_Label `T: new feature` added by @kbknapp on 2016-07-04 21:31_

---

_Label `D: intermediate` added by @kbknapp on 2016-07-04 21:31_

---

_Label `W: 2.x` added by @kbknapp on 2016-07-04 21:31_

---

_Label `C: completion gen` added by @kbknapp on 2016-07-04 21:31_

---

_Label `P4: nice to have` added by @kbknapp on 2016-07-04 21:31_

---

_Comment by @davidszotten on 2016-07-05 08:09_

cool, will have a go


---

_Referenced in [clap-rs/clap#570](../../clap-rs/clap/pulls/570.md) on 2016-07-05 10:10_

---

_Closed by @homu on 2016-07-23 17:42_

---
