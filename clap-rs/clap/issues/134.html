<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program name (bin_name) should be configurable - clap-rs/clap #134</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Program name (bin_name) should be configurable</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/134">#134</a>
        opened by <a href="https://github.com/DanielKeep">@DanielKeep</a>
        on 2015-05-30 15:01
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/DanielKeep">@DanielKeep</a> on 2015-05-30 15:01</div>
            <div class="timeline-body"><p>The first line of the <code>--help</code> message for my program is as follows:</p>
<pre><code class="language-text">cargo-script.exe-script 0.1.1
</code></pre>
<p>The obvious issue is that this is hideously ugly, and also misleading.  I'm writing a Cargo subcommand and, as such, the user is <em>never</em> going to invoke this program as &quot;cargo-script&quot;.  I need to tell clap that the program should identify itself as &quot;cargo&quot;.  <em>Ideally</em>, I'd be able to tell it to lie when using the &quot;script&quot; subcommand, but not when it isn't provided.</p>
<p>I thought about just altering the arguments clap is parsing, but there doesn't appear to be any way to do this.</p>
<p>Also, it would help to not have the file extension present in the name.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-30 16:36</div>
            <div class="timeline-body"><p>This shouldn't be too hard, let me play with an implementation idea and I'll post back here. Thanks for taking the time to file this!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @kbknapp on 2015-05-30 16:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @kbknapp by @kbknapp on 2015-05-30 16:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DanielKeep">@DanielKeep</a> on 2015-05-30 16:52</div>
            <div class="timeline-body"><p>No problem.  If it's of any use, the code in question is in <a href="https://github.com/DanielKeep/cargo-script/tree/v0.1.1">cargo-script/v0.1.1</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-30 16:56</div>
            <div class="timeline-body"><p>Thanks! I was just about to ask. So ideally, you'd like to be able to say the <code>bin_name</code> of the parent command is <code>cargo</code> and you've got a subcommand of <code>script</code> which in the help/version should be dispalyed as:</p>
<pre><code class="language-sh">$ cargo script -v
cargo-script v1.0
</code></pre>
<p>But in usage strings should be displayed as:</p>
<pre><code class="language-sh">USAGE:
    cargo script &lt;script&gt;
</code></pre>
<p>Correct?</p>
<p>If that's the case I should have this working in about 10 minutes ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DanielKeep">@DanielKeep</a> on 2015-05-30 17:01</div>
            <div class="timeline-body"><p>Pretty much, yeah.  So long as it doesn't call itself <code>cargo-script-script</code> or <code>cargo.exe script</code>, it's all good.  :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-30 17:03</div>
            <div class="timeline-body"><p>Aright, I've got it working tested with this scenario. Uploading now, use 0.10.2 on crates.io
The relevant piece for you is on the <code>App</code> struct set the <code>.bin_name(&quot;cargo&quot;)</code> which allows you to override the system determined binary name with whatever you want. You could also use <code>cargo.exe</code> if you prefer, it could be anything.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2015-05-30 17:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-30 17:21</div>
            <div class="timeline-body"><p>It's up on crates.io now, you can also use the master branch here.</p>
<p>off topic, <code>cargo script</code> looks awesome! I'm going to have to keep an eye on this!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/DanielKeep">@DanielKeep</a> on 2015-05-30 18:03</div>
            <div class="timeline-body"><p>Thanks; updated.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:31 UTC
    </footer>
</body>
</html>
