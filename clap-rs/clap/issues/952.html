<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement and Derive common traits - clap-rs/clap #952</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement and Derive common traits</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/952">#952</a>
        opened by <a href="https://github.com/kbknapp">@kbknapp</a>
        on 2017-05-09 22:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kbknapp">@kbknapp</a></div>
            <div class="timeline-body"><p>Eagerly derive/implement common traits for all public types. I haven&#x27;t yet looked at which ones would actually be appropriate to implement. The list below is just a quick list.</p>
<p>I&#x27;m not 100% sure, but I think adding these would be a breaking change?</p>
<ul>
<li>[ ] App<ul>
<li>[ ] Clone</li>
<li>[ ] Eq</li>
<li>[ ] PartialEq</li>
<li>[ ] Ord</li>
<li>[ ] PartialOrd</li>
<li>[ ] Hash</li>
<li>[ ] Debug,</li>
<li>[ ] Display</li>
<li>[ ] Default</li>
</ul>
</li>
<li>[ ] Arg<ul>
<li>[ ] Clone</li>
<li>[ ] Eq</li>
<li>[ ] PartialEq</li>
<li>[ ] Ord</li>
<li>[ ] PartialOrd</li>
<li>[ ] Hash</li>
<li>[ ] Debug,</li>
<li>[ ] Display</li>
<li>[ ] Default</li>
</ul>
</li>
<li>[ ] ArgMatches<ul>
<li>[ ] Clone</li>
<li>[ ] Eq</li>
<li>[ ] PartialEq</li>
<li>[ ] Ord</li>
<li>[ ] PartialOrd</li>
<li>[ ] Hash</li>
<li>[ ] Debug,</li>
<li>[ ] Display</li>
<li>[ ] Default</li>
</ul>
</li>
<li>[ ] Values<ul>
<li>[ ] Copy</li>
<li>[ ] Clone</li>
<li>[ ] Eq</li>
<li>[ ] PartialEq</li>
<li>[ ] Ord</li>
<li>[ ] PartialOrd</li>
<li>[ ] Hash</li>
<li>[ ] Debug,</li>
<li>[ ] Display</li>
<li>[ ] Default</li>
</ul>
</li>
<li>[ ] ValuesOs<ul>
<li>[ ] Copy</li>
<li>[ ] Clone</li>
<li>[ ] Eq</li>
<li>[ ] PartialEq</li>
<li>[ ] Ord</li>
<li>[ ] PartialOrd</li>
<li>[ ] Hash</li>
<li>[ ] Debug,</li>
<li>[ ] Display</li>
<li>[ ] Default</li>
</ul>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">E: breaking change</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">M: mentored</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;Lib Blitz Overhaul&quot; by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-05-09 22:06</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#950</a> on 2017-05-09 22:07</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Vinatorul">@Vinatorul</a> on 2017-06-18 17:46</div>
            <div class="timeline-body"><p>I can work on this. I am not sure about breaking change right now, it depends from associated changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-06-18 18:01</div>
            <div class="timeline-body"><p>Yeah I&#x27;m concerned with the breaking changes implications. I&#x27;ve got a local 3x branch that I&#x27;ve been working on the past few days. Once I get it to a state where it actually builds I&#x27;ll push the branch and you can run through the types making sure they&#x27;re all deriving the traits they should. :+1:</p>
<p>I&#x27;ve got one more work trip coming up soon, but I&#x27;m hoping to have this branch pushed sometime this coming week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Vinatorul">@Vinatorul</a> on 2017-06-18 18:18</div>
            <div class="timeline-body"><p>Nice, is there any issues I can work on while you will be away? Are you still using <code>gitter</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-06-20 03:05</div>
            <div class="timeline-body"><p>@Vinatorul The gitter is still up, and I get pinged on mobile (usually) when new messages are posted. Really any of the current feature requests <em>could</em> get knocked out, but 3.x is being heavily refactored, so it&#x27;ll probably just be easier to wait until I get it building.</p>
<p>I now have a 3x-dev branch up, but it doesn&#x27;t compile yet as it&#x27;s a messy state of partially refactored. I&#x27;m hoping to get a large chunk of it complete tomorrow while on an airplane :smile: Once the refactoring is done, adding the new features will be easy, and you can jump on in at that point. I&#x27;ll publish a list of priorities as well.</p>
<p>Once it&#x27;s good to go, I&#x27;ll create a 3x-master branch and start merging feature PRs onto that branch.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;Lib Blitz Overhaul&quot; by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-02-02 02:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v3-alpha1&quot; by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-02-02 02:03</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">good first issue</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-07-22 02:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Removed from milestone &quot;v3-alpha.2&quot; by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-02-01 07:45</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v3.0&quot; by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-02-01 07:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sassman">@sassman</a> on 2020-05-06 08:30</div>
            <div class="timeline-body"><p>Can this issue be tackled now? If that is the case, I&#x27;d might have a look at it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-05-06 08:31</div>
            <div class="timeline-body"><p>Yes, please. Which is why I added it to the rust weekly.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sassman">@sassman</a> on 2020-05-06 08:33</div>
            <div class="timeline-body"><p>There I saw it and it might be an easy candidate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-05-06 15:55</div>
            <div class="timeline-body"><p>Regarding certain traits:</p>
<ul>
<li>Default is meaningless for <code>Arg</code>, <code>App</code>, <code>ArgGroup</code>.</li>
<li>Implementing <code>PartialOrd + Ord</code> is <em>probably</em> next to impossible because they aren&#x27;t implemented  for <code>IndexMap</code>. Same with <code>Hash</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2020-05-06 16:10</div>
            <div class="timeline-body"><p>With #1365 we should look at how much this increases the binary size and probably feature gate this (it&#x27;s ok if it&#x27;s in the default features) if it negatively effects the size. I <em>think</em> LLVM is pretty good about dead code elimination and removing any trait impls that we impl (or derive) but aren&#x27;t actually used in the resulting binary...but I&#x27;m not 100% certain in all cases. I know there are specific cases where LLVM won&#x27;t remove dead code, but I believe that is tied to generics and monomorphic trait impls IIRC.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pickfire">@pickfire</a> on 2020-05-13 02:32</div>
            <div class="timeline-body"><p>@sassman are you working on all of it or do you need some help?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sassman">@sassman</a> on 2020-05-13 08:46</div>
            <div class="timeline-body"><p>@pickfire I started by <code>PartialEq</code> on <code>ArgGroup</code> and <code>App</code> and wrote some little tests for it. But I&#x27;m not sure if tests would be necessary for those standard traits.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-05-13 08:48</div>
            <div class="timeline-body"><p>Tests are not needed. Just write <code>derive(PartialEq)</code> and if it compiles, then it&#x27;s okay. That is why this is a beginner issue ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-05-13 08:49</div>
            <div class="timeline-body"><p>Tests are only needed if there is a custom implementation somewhere.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pickfire">@pickfire</a> on 2020-05-13 09:22</div>
            <div class="timeline-body"><p>@pksunkara It would be fun if beginners are able to claim parts of this issue like <a href="https://github.com/rust-dc/fish-manpage-completions/issues/2">rust-dc/fish-manpage-completions#2</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#1037</a> on 2020-05-14 14:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#2266</a> on 2020-12-23 23:47</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-12-26 17:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:53 UTC
    </footer>
</body>
</html>
