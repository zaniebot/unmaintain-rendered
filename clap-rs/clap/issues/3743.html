<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is `Arg::validator_regex` even needed anymore? - clap-rs/clap #3743</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Is <code>Arg::validator_regex</code> even needed anymore?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3743">#3743</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2022-05-23 20:21
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a></div>
            <div class="timeline-body"><p>It was proposed for addition in #1968.  That included a workaround but the motivating reason for baking it in was yaml support but that was deprecated in #3087.</p>
<p>With #3732, we are getting support for users to define reusable parsers / validators, rather than having every kind baked in.  Users can provide their own validators or a <code>clap_regex</code> crate could be created to provide a general one.</p>
<p>The runtime costs of regex support are only paid for by those enabling the feature.  However, there are usability challenges with clap due to how large the API is.  If we could cut the <code>Arg::validator_regex</code>, <code>regex</code> feature, and <code>RegexSet</code>, that will help focus the clap API.  On top of that, we are deprecating the other <code>validator*</code> functions and this would stand out.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-bug</span> added by <a href="https://github.com/epage">@epage</a> on 2022-05-23 20:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-validators</span> added by <a href="https://github.com/epage">@epage</a> on 2022-05-23 20:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;3.x&quot; by <a href="https://github.com/epage">@epage</a> on 2022-05-23 20:21</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-05-23 20:22</div>
            <div class="timeline-body"><p>I had considered adding a <code>RegexValueParser</code> but I wasn&#x27;t quite happy with the generic error message and the API and realized it could just as well be supported outside of clap as inside and it would reduce the API burden of clap.  This led me down this path.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#2675</a> on 2022-05-23 20:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#1968</a> on 2022-05-23 20:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#3756</a> on 2022-05-25 19:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/epage">@epage</a> on 2022-05-25 19:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#3199</a> on 2022-05-25 20:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:58:58 UTC
    </footer>
</body>
</html>
