<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unclear instructions for `app_from_crate!` - clap-rs/clap #2355</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unclear instructions for `app_from_crate!`</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2355">#2355</a>
        opened by <a href="https://github.com/xaocon">@xaocon</a>
        on 2021-02-20 20:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/xaocon">@xaocon</a> on 2021-02-20 20:15</div>
            <div class="timeline-body"><h3>Clap version</h3>
<p>2.33.3 - though I checked masters docstrings and I don't see any improvement.</p>
<h3>Where</h3>
<p>https://github.com/clap-rs/clap/blob/3907e116210884f9259ae94e78dc031e9511ca6f/src/macros.rs#L169
https://docs.rs/clap/2.33.3/clap/macro.app_from_crate.html</p>
<h3>What's wrong</h3>
<p>It's not clear how to develop this into a fully formed app. I was hoping to use it like <code>clap_app!</code> but with sections removed that had already been filled but that didn't work. I tried chaining them a couple of different ways. I tried using the result from <code>app_from_crate!</code> as the first argument to <code>clap_app!</code> but none of that works. Macros in Macros don't seem to work anywhere as I originally tried using the <code>crate_*!</code> macros to fill in <code>clap_app!</code>. I'm not sure there is a good way to set up options if you use <code>app_from_crate!</code> but it doesn't seem like it's a very helpful macro if not.</p>
<h3>How to fix</h3>
<p>I'm not really sure. If someone could explain it to me I wouldn't mind putting in a PR for it but I don't have enough understanding of macros to make sense of it currently.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: docs</span> added by @xaocon on 2021-02-20 20:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-02-20 20:31</div>
            <div class="timeline-body"><p>Here's an example, https://github.com/clap-rs/clap/blob/6ce1e4fda211a7373ce7c4167964e6ca073bdfc1/tests/app_from_crate.rs#L16</p>
<p>And the macro code is pretty self-explanatory. https://github.com/clap-rs/clap/blob/3907e116210884f9259ae94e78dc031e9511ca6f/src/macros.rs#L194</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/xaocon">@xaocon</a> on 2021-02-20 21:01</div>
            <div class="timeline-body"><p>The <code>app_from_crate!</code> code is pretty self-explanatory but I had hoped to use <code>app_from_crate!</code> with the argument building style from <code>clap_app!</code> and I can't make sense of that one. I guess you're saying that there's not a good way to build out arguments for the app using macros if you use <code>app_from_crate!</code>? It turns out I had had a mistake in my syntax that was keeping me from using the <code>crate_*!</code> macros in <code>clap_app!</code> so it's not really much of a big deal to just use <code>clap_app!</code>.</p>
<p>If there is some reasonable way to use the macro arguments from <code>clap_app!</code> with <code>app_from_crate!</code> then I think it would be helpful mention it in the documents as I believe it wasn't completely unreasonable for me to think that was possible. If there is, I think it would be helpful to show how in the example. In either case, I'd be happy to open a PR for it. I also noticed a small typo in the <code>crate_license!</code> macro docs that I could correct at the same time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-02-20 21:12</div>
            <div class="timeline-body"><p>Can you paste your code?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-02-20 21:15</div>
            <div class="timeline-body"><p>And no, <code>app_from_crate!</code> cannot be  used with <code>clap_app</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-02-20 21:15</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Locked by @clap-rs on 2021-02-20 21:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:34:25 UTC
    </footer>
</body>
</html>
