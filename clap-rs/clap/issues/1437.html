<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`allow_leading_hyphens` doesn't work on positional arguments - clap-rs/clap #1437</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>allow_leading_hyphens</code> doesn&#x27;t work on positional arguments</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1437">#1437</a>
        opened by <a href="https://github.com/rocallahan">@rocallahan</a>
        on 2019-03-26 10:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rocallahan">@rocallahan</a></div>
            <div class="timeline-body">Affected Version of clap
<p>2.32.0</p>
Bug or Feature Request Summary
<p><code>allow_leading_hyphens</code> doesn&#x27;t work on positional arguments. Example:</p>
<pre><code>use clap::{App, Arg};
fn main() {
    let m = App::new(&quot;pattest&quot;)
        .arg(Arg::with_name(&quot;pat&quot;)
            .allow_hyphen_values(true)
            .required(true)
            .takes_value(true))
        .get_matches();
    assert_eq!(m.value_of(&quot;pat&quot;), Some(&quot;-file&quot;));
}
</code></pre>
Expected Behavior Summary
<p>Running with <code>target/debug/test -file</code> should exit normally.</p>
Actual Behavior Summary
<pre><code>[roc@localhost test]$ target/debug/test -file
error: Found argument &#x27;-f&#x27; which wasn&#x27;t expected, or isn&#x27;t valid in this context

USAGE:
    test &lt;pat&gt;

For more information try --help
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zicklag">@zicklag</a> on 2020-01-19 00:24</div>
            <div class="timeline-body"><p>I&#x27;m having this issue in clap 3: commit 92c2b5d.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: args</span> added by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: positional args</span> added by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> added by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;3.1&quot; by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>getsentry/sentry-cli#770</a> on 2020-06-22 15:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jbangelo">@jbangelo</a> on 2021-07-30 21:01</div>
            <div class="timeline-body"><p>It won&#x27;t work for everyone, but <a href="https://docs.rs/clap/2.33.1/clap/enum.AppSettings.html#variant.AllowLeadingHyphen"><code>AppSettings::AllowLeadingHyphen</code></a> will allow parsing of positional arguments with leading hyphens.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to <a href="https://github.com/ldm0">@ldm0</a> by <a href="https://github.com/ldm0">@ldm0</a> on 2021-08-01 14:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>uutils/coreutils#2535</a> on 2021-08-03 22:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#2655</a> on 2021-08-07 12:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#2669</a> on 2021-08-07 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-08-08 19:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:22 UTC
    </footer>
</body>
</html>
