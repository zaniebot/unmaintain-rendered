<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`allow_leading_hyphens` doesn't work on positional arguments - clap-rs/clap #1437</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>`allow_leading_hyphens` doesn't work on positional arguments</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1437">#1437</a>
        opened by <a href="https://github.com/rocallahan">@rocallahan</a>
        on 2019-03-26 10:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/rocallahan">@rocallahan</a> on 2019-03-26 10:14</div>
            <div class="timeline-body"><h3>Affected Version of clap</h3>
<p>2.32.0</p>
<h3>Bug or Feature Request Summary</h3>
<p><code>allow_leading_hyphens</code> doesn't work on positional arguments. Example:</p>
<pre><code>use clap::{App, Arg};
fn main() {
    let m = App::new(&quot;pattest&quot;)
        .arg(Arg::with_name(&quot;pat&quot;)
            .allow_hyphen_values(true)
            .required(true)
            .takes_value(true))
        .get_matches();
    assert_eq!(m.value_of(&quot;pat&quot;), Some(&quot;-file&quot;));
}
</code></pre>
<h3>Expected Behavior Summary</h3>
<p>Running with <code>target/debug/test -file</code> should exit normally.</p>
<h3>Actual Behavior Summary</h3>
<pre><code>[roc@localhost test]$ target/debug/test -file
error: Found argument '-f' which wasn't expected, or isn't valid in this context

USAGE:
    test &lt;pat&gt;

For more information try --help
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/zicklag">@zicklag</a> on 2020-01-19 00:24</div>
            <div class="timeline-body"><p>I'm having this issue in clap 3: commit 92c2b5d.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: args</span> added by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: positional args</span> added by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> added by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @CreepySkeleton on 2020-02-01 14:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../getsentry/sentry-cli/pulls/770.html">getsentry/sentry-cli#770</a> on 2020-06-22 15:42</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jbangelo">@jbangelo</a> on 2021-07-30 21:01</div>
            <div class="timeline-body"><p>It won't work for everyone, but <a href="https://docs.rs/clap/2.33.1/clap/enum.AppSettings.html#variant.AllowLeadingHyphen"><code>AppSettings::AllowLeadingHyphen</code></a> will allow parsing of positional arguments with leading hyphens.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @ldm0 by @ldm0 on 2021-08-01 14:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../uutils/coreutils/issues/2535.html">uutils/coreutils#2535</a> on 2021-08-03 22:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2655.html">clap-rs/clap#2655</a> on 2021-08-07 12:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2669.html">clap-rs/clap#2669</a> on 2021-08-07 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-08-08 19:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:57 UTC
    </footer>
</body>
</html>
