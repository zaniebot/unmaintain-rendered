```yaml
number: 3089
title: "`App` feels like an awkward name in the API"
type: issue
state: closed
author: epage
labels:
  - C-bug
  - M-breaking-change
  - A-builder
  - E-easy
assignees: []
created_at: 2021-12-08T19:47:46Z
updated_at: 2022-02-15T15:35:41Z
url: https://github.com/clap-rs/clap/issues/3089
synced_at: 2026-01-10T01:57:46Z
```

# `App` feels like an awkward name in the API

---

_Issue opened by @epage on 2021-12-08 19:47_

Maintainer's notes
- The plan is to rename `App` to `Command`, including in other names like `app_from_crate` and `AppSettings`
---
clap version: master

Existing code:
```rust
use clap::{app_from_crate, arg, App, AppSettings};

fn main() {
    let matches = app_from_crate!()
        .global_setting(AppSettings::PropagateVersion)
        .global_setting(AppSettings::UseLongFormatForHelpSubcommand)
        .setting(AppSettings::SubcommandRequiredElseHelp)
        .subcommand(
            App::new("add")
                .about("Adds files to myapp")
                .arg(arg!([NAME])),
        )
        .get_matches();

    match matches.subcommand() {
        Some(("add", sub_matches)) => println!(
            "'myapp add' was used, name is: {:?}",
            sub_matches.value_of("NAME")
        ),
        _ => unreachable!(),
    }
}
```

Personally, its always felt weird constructing an "App" and then adding "apps" as subcommands.

---

_Label `T: bug` added by @epage on 2021-12-08 19:47_

---

_Label `C: app` added by @epage on 2021-12-08 19:47_

---

_Comment by @epage on 2021-12-08 19:48_

I've considered names like `Parser` or `ParserBuilder` (see #2911) but we run into conflicts between builder and derive traits.

When [splitting up the impl blocks in the docs](https://docs.rs/clap/3.0.0-rc.0/clap/struct.App.html#impl-2), I had the idea for `Command`.  I think this makes more sense for the argument to `Command::new`, in subcommand context, etc.

See
```rust
use clap::{app_from_crate, arg, App, AppSettings};

fn main() {
    let matches = command_from_crate!()
        .global_setting(CommandSettings::PropagateVersion)
        .global_setting(CommandSettings::UseLongFormatForHelpSubcommand)
        .setting(CommandSettings::SubcommandRequiredElseHelp)
        .subcommand(
            Command::new("add")
                .about("Adds files to myapp")
                .arg(arg!([NAME])),
        )
        .get_matches();

    match matches.subcommand() {
        Some(("add", sub_matches)) => println!(
            "'myapp add' was used, name is: {:?}",
            sub_matches.value_of("NAME")
        ),
        _ => unreachable!(),
    }
}
```

---

_Comment by @nicoburns on 2021-12-08 20:50_

`Command` seems right to me. That's what I've seen other CLI parsing libraries use for this concept. I suppose `Subcommand` could also work to match the method name. `App` definitely seems confusing to me. I would expect `App` to contain the core logic of my program not CLI argument parsing.

---

_Label `M-breaking-change` added by @epage on 2021-12-09 00:58_

---

_Label `E-easy` added by @epage on 2021-12-13 22:36_

---

_Added to milestone `4.0` by @epage on 2021-12-14 15:25_

---

_Referenced in [clap-rs/clap#2911](../../clap-rs/clap/issues/2911.md) on 2021-12-14 15:30_

---

_Referenced in [clap-rs/clap#3472](../../clap-rs/clap/pulls/3472.md) on 2022-02-15 13:27_

---

_Referenced in [clap-rs/clap#3473](../../clap-rs/clap/pulls/3473.md) on 2022-02-15 14:01_

---

_Referenced in [clap-rs/clap#3474](../../clap-rs/clap/pulls/3474.md) on 2022-02-15 14:50_

---

_Comment by @epage on 2022-02-15 15:35_

We've now done
- `App` -> `Command`
- `app_from_crate` -> `command`
- `IntoApp::into_app` -> `CommandFactory::command`

The only thing left is removing the deprecations in 4.0.   Since we have #3021 for that, going to close this out.

---

_Closed by @epage on 2022-02-15 15:35_

---
