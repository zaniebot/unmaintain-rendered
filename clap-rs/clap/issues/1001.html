<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Positional arguments similar to command names get confused with commands - clap-rs/clap #1001</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Positional arguments similar to command names get confused with commands</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1001">#1001</a>
        opened by <a href="https://github.com/g2p">@g2p</a>
        on 2017-07-17 23:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/g2p">@g2p</a></div>
            <div class="timeline-body">Rust Version
<p>rustc 1.20.0-nightly (6d9d82d3d 2017-07-14)</p>
Affected Version of clap
<p>clap 2.25.0</p>
Expected Behavior Summary
<p><code>program file subcommand</code> runs</p>
Actual Behavior Summary
<pre><code>error: The subcommand &#x27;file&#x27; wasn&#x27;t recognized
	Did you mean &#x27;nile&#x27;?
</code></pre>
Steps to Reproduce the issue
<p>Call a clap_app with a positional argument that looks like a command name.</p>
Sample Code or Link to Sample Code
<pre><code>    let matches = clap_app!((&quot;Something&quot;) =&gt;
        (@arg FILE: +required &quot;File to examine&quot;)
        (@setting SubcommandRequiredElseHelp)
        (@subcommand nile =&gt; (about: &quot;Whatever&quot;))
    ).get_matches();
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-10-04 02:34</div>
            <div class="timeline-body"><p>While I agree this is annoying, if the values supplied have the possibility of being close to a subcommand, I&#x27;d compile <em>without</em> the <code>suggestions</code> feature. If that isn&#x27;t an option, there are several <a href="https://docs.rs/clap/2.26.2/clap/enum.AppSettings.html"><code>AppSettings</code></a> variants that help with this issue, such as making subcommands required, or disallowing args between subcommands.</p>
<p>I&#x27;m open to suggestions on how to approach this issue, but in order to provide suggestions, we <em>have</em> to check if the values supplied are similar to something.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-10-04 02:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-11-06 03:45</div>
            <div class="timeline-body"><p>This may be fixed with 2.27.1 however my concerns above still stand :wink:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-11-06 03:45</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:55 UTC
    </footer>
</body>
</html>
