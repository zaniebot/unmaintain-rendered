<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improvements to `Arg::new` - clap-rs/clap #1885</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Improvements to `Arg::new`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/1885">#1885</a>
        opened by <a href="https://github.com/pksunkara">@pksunkara</a>
        on 2020-04-30 18:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-04-30 18:26</div>
            <div class="timeline-body"><h3>Make sure you completed the following tasks</h3>
<ul>
<li>[x] Searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[x] Searched the closed issues</li>
</ul>
<h3>Describe your use case</h3>
<p><code>Arg::new</code> has been suggested to use (along with <code>App::new</code>) in one of the roadmap issues. It is implemented but there are still a lot of <code>Arg::with_name</code> usages.</p>
<h3>Describe the solution you'd like</h3>
<ul>
<li>Remove <code>Arg::with_name</code> completely (also fixing examples, docs, etc.. just search <code>with_name</code>)</li>
<li>Align <code>Arg::new</code> signature with <code>App::new</code> to make them consistent by changing one of them or both. @kbknapp probably has some thoughts about this.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @pksunkara on 2020-04-30 18:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> removed by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: app</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: args</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P2: need to have</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">Z: good first issue</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">Z: mentored</span> added by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.0" by @pksunkara on 2020-04-30 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2020-04-30 18:36</div>
            <div class="timeline-body"><p>I'm :+1: on this and it was the intent for 3.0. My <em>only</em> concern is it makes churn for upgrading from 2.x to 3.x with no functional difference.</p>
<p>One proposal is to simply deprecate <code>Arg::with_name</code> and remove in 4.x. Of course, the counter argument is there are other breaking changes, so some churn is expected.</p>
<p>It's such a small function that I'd honestly be fine either way (deprecate for 3.x or just go ahead and hard remove).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-04-30 18:43</div>
            <div class="timeline-body"><p>Spoiler: @pksunkara and I have been talking about some sort of automatized update tool based on <code>rust_analyzer</code> üòè  Click the button, become happy!</p>
<p>We'll get to it as soon as we deal wit more pressing stuff.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2020-04-30 18:49</div>
            <div class="timeline-body"><p>That would be awesome. I had considered some kind of upgrade script, but there certain cases where the intent isn't 100% known because clap 2.x didn't allow enough granularity (<code>multiple(true)</code>, etc.). Looking forward to see how this progresses!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-04-30 21:33</div>
            <div class="timeline-body"><p>I had the idea for auto-upgrade tool long before working in rust. But with rust-analyzer doing most of the heavy lifting and me also needing it for another project of mine, I started to seriously consider this and try to see if I can do an MVP for clap v3. I have some workflow and API designs, but haven't written them down anywhere.</p>
<p>https://github.com/pksunkara/cargo-up. I should be working on it heavily from next week. Just trying to finish up some of the current tasks I was working on.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2020-05-15 06:30</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:32 UTC
    </footer>
</body>
</html>
