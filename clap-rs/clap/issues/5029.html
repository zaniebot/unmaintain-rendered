<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provide better did-you-mean suggestions for swapped words - clap-rs/clap #5029</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Provide better did-you-mean suggestions for swapped words</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/clap-rs/clap/issues/5029">#5029</a>
        opened by <a href="https://github.com/not-my-profile">@not-my-profile</a>
        on 2023-07-20 20:59
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/not-my-profile">@not-my-profile</a> on 2023-07-20 20:59</div>
            <div class="timeline-body"><p>While using the <code>deno</code> CLI (which uses clap) I experienced the following:</p>
<pre><code>$ deno check --write-lock
error: unexpected argument '--write-lock' found

  tip: a similar argument exists: '--no-lock'
</code></pre>
<p>The option I wanted was <code>--lock-write</code>.</p>
<p>Another example would be ripgrep e.g. <code>rg --not-type</code> currently suggests <code>--no-pre</code> when it should really be suggesting <code>--type-not</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4997.html">clap-rs/clap#4997</a> on 2023-07-20 20:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @epage on 2023-07-20 21:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-help</span> added by @epage on 2023-07-20 21:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-waiting-on-design</span> added by @epage on 2023-07-20 21:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-07-20 21:24</div>
            <div class="timeline-body"><p>Carrying some of the conversation from the PR</p>
<blockquote>
<p>So this will only check for one-&quot;word&quot; swaps and only if the word separator is <code>-</code> (which it really should be) and won't handle typos within those swapped words.</p>
<p>The thing I'm tying to decide if this is too narrow of a niche to include</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-07-20 21:25</div>
            <div class="timeline-body"><p>@not-my-profile</p>
<blockquote>
<p>Right ... if you want to I can convert the PR to a draft and we can discuss this in an issue.</p>
<p>Personally I think mixing up the order of words of CLI arguments happens much more often for me than misspelling them. E.g. ripgrep has <code>--type-not</code> ... trying <code>--not-type</code> instead is a very easy mistake to make but clap currently suggests <code>--no-pre</code>. I think a small quality of life improvement like this across all clap CLIs would be nice ... sure this logic could be made more elaborate to also handle swaps in arguments consisting of e.g. 3 words but I think 2 word flags are much more common.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-07-20 21:25</div>
            <div class="timeline-body"><blockquote>
<p>I want to sit on this to give this more thought.  I'm trying to weigh out the couple of specific cases this helps with vs where the line is for us supporting these one-off heuristics.</p>
</blockquote>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:35:27 UTC
    </footer>
</body>
</html>
