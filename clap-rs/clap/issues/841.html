<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>completion does not respect global arguments - clap-rs/clap #841</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>completion does not respect global arguments</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/841">#841</a>
        opened by <a href="https://github.com/laishulu">@laishulu</a>
        on 2017-02-03 11:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/laishulu">@laishulu</a> on 2017-02-03 11:11</div>
            <div class="timeline-body"><h3>Rust Version</h3>
<p>rustc -V</p>
<h3>Affected Version of clap</h3>
<p>clap 2.20.0</p>
<h3>Expected Behavior Summary</h3>
<ol>
<li><code>global-arg</code> is a global arg of <code>myapp</code> which can be used in <code>subcmd</code>, i.e both <code>myapp --global-arg subcmd</code> and <code>myapp subcmd --global-arg</code> work</li>
<li>when I type <code>myapp subcmd --[tab]</code>, <code>global-arg</code> should pops up.</li>
</ol>
<h3>Actual Behavior Summary</h3>
<p>when I type <code>myapp subcmd --[tab]</code>, <code>global-arg</code> does not show up</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-03 16:15</div>
            <div class="timeline-body"><p>Three questions for you:</p>
<ul>
<li>Can you post a link to the code, or a snippet of the code you're trying to use?</li>
<li>Which shell are you using?</li>
<li>Does the <code>myapp</code> or <code>subcmd</code> have an underscore in the name? (<code>_</code>). If so, this could be from #581 which I'm currently working on and have almost ready to PR.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> added by @kbknapp on 2017-02-03 16:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/laishulu">@laishulu</a> on 2017-02-03 16:21</div>
            <div class="timeline-body"><pre><code>                    app.gen_completions_to(&quot;myapp&quot;,
                                           Shell::Zsh,
                                           &amp;mut io::stdout())
</code></pre>
<p>I use <code>zsh</code>.  underscore is in nowhere.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: completion gen</span> added by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P2: need to have</span> added by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> removed by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "2.20.3" by @kbknapp on 2017-02-03 16:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-02-03 17:53</div>
            <div class="timeline-body"><p>Alright, I have this fixed, once #842 merges I'll start the new PR</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2017-02-03 22:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:07 UTC
    </footer>
</body>
</html>
