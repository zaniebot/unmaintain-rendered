<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot use hyphenated values in clap_app! macro - clap-rs/clap #1253</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot use hyphenated values in clap_app! macro</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1253">#1253</a>
        opened by <a href="https://github.com/mattgathu">@mattgathu</a>
        on 2018-04-18 19:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mattgathu">@mattgathu</a></div>
            <div class="timeline-body">

Rust Version
<p>rustc 1.27.0-nightly</p>
Affected Version of clap
<p>2.31.2</p>
Expected Behavior Summary
<p>I&#x27;m converting an argument to use the <code>clap_app!</code> macro</p>
<p>from</p>
<pre><code>Arg::with_name(&quot;FILE&quot;)
        .short(&quot;O&quot;)
        .long(&quot;output-document&quot;)
        .help(&quot;write documents to FILE&quot;)
        .required(false)
        .takes_value(true)
</code></pre>
<p>to</p>
<pre><code> (@arg FILE: -O --output-document +takes_value &quot;write documents to FILE&quot;)
</code></pre>
<p>Expected help output should be:</p>
<pre><code>OPTIONS:
    -O, --output-document &lt;FILE&gt;    write documents to FILE
</code></pre>
Actual Behavior Summary
<p>Instead the help output is</p>
<pre><code>OPTIONS:
    -d, --output &lt;FILE&gt;        write documents to FILE
</code></pre>
Steps to Reproduce the issue
<p>Use a hyphenated value for <code>long</code> when defining an argument using the <code>clap_app!</code> macro.</p>
Sample Code or Link to Sample Code
<p>NA</p>
Debug output
<p>NA</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-06-05 01:35</div>
            <div class="timeline-body"><p>Sorry for the long wait, I&#x27;ve been away with my day job.</p>
<p>You have to use <code>--(&quot;my-arg-name&quot;)</code> when using the macros. It&#x27;s a limitation of the macro system in Rust :disappointed:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-06-05 01:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mattgathu">@mattgathu</a> on 2018-06-05 07:49</div>
            <div class="timeline-body"><p>@kbknapp is this documented? If not, maybe document this somewhere.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-06-05 13:37</div>
            <div class="timeline-body"><p>@mattgathu <a href="https://docs.rs/clap/2.31.2/clap/macro.clap_app.html#shorthand-syntax-for-args">it is documented</a> although I&#x27;ll be the first to admit it&#x27;s somewhat hidden :stuck_out_tongue_winking_eye: Unfortunately, macros in general are somewhat hard to document in Rust.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#1248</a> on 2018-06-05 13:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:10 UTC
    </footer>
</body>
</html>
