<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make colored help output more compatible with an applications overall theme - clap-rs/clap #2963</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Make colored help output more compatible with an applications overall theme</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/2963">#2963</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2021-10-29 19:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/epage">@epage</a> on 2021-10-29 19:58</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Rust Version</h3>
<p>rustc 1.55.0 (c8dfcfe04 2021-09-06)</p>
<h3>Clap Version</h3>
<p>master</p>
<h3>Steps to reproduce the bug with the above code</h3>
<p>Run <a href="https://github.com/termapps/enquirer#multi-select-prompt">enquirer</a> and compare the program's regular output with its <code>--help</code> (after enabling colored help)</p>
<h3>Actual Behaviour</h3>
<p>The colors clash with the application's overall theme</p>
<h3>Expected Behaviour</h3>
<p>The colors are tastefully align with the rest of the theme</p>
<h3>Additional Context</h3>
<p>See also #2906</p>
<p>In discussing <a href="https://github.com/clap-rs/clap/pull/2845#issuecomment-945185102">the concerns raised #2845</a> (see also https://github.com/clap-rs/clap/discussions/2906), we realized that at least one way to describe / categorize the problem with colored help is how well it meshes with the rest of an applications theme.</p>
<p>One of our aims is to provide a low-effort polished (&quot;modern&quot;) experience.  A subset of our target users will polish the rest of their app over time, including color support and will run into theme compatibility issues. If we can provide both a polished low-effort experience and increase our theme compatibility, that seems like an overall win for our users.</p>
<p>This could be solved by manual help generation (like today or with #2913) or by providing theming support (#1790) but these increase the friction for a polished experience, making it less likely for them to do so.</p>
<p>If we go with changing the current coloring, it doesn't mean we can't use color it has to be a lot more selective and semantically relevant, like with errors.  Other tools at our disposal are dim, bold, underline, and italics.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @epage on 2021-10-29 19:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @epage on 2021-10-29 19:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ctrlcctrlv">@ctrlcctrlv</a> on 2021-11-16 07:53</div>
            <div class="timeline-body"><p>If you want to guarantee better default colors regardless of a user's terminal theme, you do have the TrueColor escape codes at your disposal, as supported in modern terminals like Kitty. You can also figure out if you're in a light or dark colored terminal with the XTerm escape <code>\e]11;?\a</code>, supported in even older terminals.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/231.html">epage/clapng#231</a> on 2021-12-06 22:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1251.html">clap-rs/clap#1251</a> on 2021-12-09 18:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1456.html">clap-rs/clap#1456</a> on 2021-12-09 19:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/1398.html">clap-rs/clap#1398</a> on 2021-12-10 16:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-waiting-on-design</span> added by @epage on 2021-12-13 22:07</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3234.html">clap-rs/clap#3234</a> on 2021-12-31 12:46</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../crate-ci/cargo-release/issues/510.html">crate-ci/cargo-release#510</a> on 2022-08-08 13:59</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4117.html">clap-rs/clap#4117</a> on 2022-08-26 00:35</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-08-26 00:50</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ctrlcctrlv">@ctrlcctrlv</a> on 2022-08-26 11:15</div>
            <div class="timeline-body"><p>@epage Much nicer looking now. What do you think about my theming idea? No need? Or something you'd want a PR about? I have enough TTY exp to do it for sure.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-08-26 12:23</div>
            <div class="timeline-body"><p>Referring to using true color?</p>
<p>That makes it independent of the terminal's color scheme but it doesn't make it compatible with the application's theme / branding which is what spawned this.  I've also found it can cause more problems with the terminal's theme because you don't know the background color and what provides more contrast.  Light/dark detection helps but I'm hesitant for including that.</p>
<p>This will best be experimented with on the user's side with #3234.  If someone settles on something that is enough of an improvement and universal enough, then we can reconsider.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/4132.html">clap-rs/clap#4132</a> on 2022-08-27 02:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../Wilfred/difftastic/issues/548.html">Wilfred/difftastic#548</a> on 2023-08-03 18:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../jj-vcs/jj/pulls/5716.html">jj-vcs/jj#5716</a> on 2025-02-16 02:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:08 UTC
    </footer>
</body>
</html>
