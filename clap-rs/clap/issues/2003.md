```yaml
number: 2003
title: multiple verbose (-vvv) parsed wrong in 3.0 beta release
type: issue
state: closed
author: fragrans
labels:
  - C-bug
assignees: []
created_at: 2020-07-07T02:46:18Z
updated_at: 2020-07-10T12:54:35Z
url: https://github.com/clap-rs/clap/issues/2003
synced_at: 2026-01-10T01:57:44Z
```

# multiple verbose (-vvv) parsed wrong in 3.0 beta release

---

_Issue opened by @fragrans on 2020-07-07 02:46_

This following yaml file could recognize multiple level verbose argument (-vvv); but broke in 3.0 beta release.
Please check this sample repository:

https://github.com/fragrans/clap_error_2020


```yaml
name: rod
about: MDW rod.
args:
    - version:
        long: version
        about: Shows version

    - verbose:
        short: v
        multiple: true
        about: Sets the level of verbosity

subcommands:
    - daemon:
        about: serve in background
```

![image](https://user-images.githubusercontent.com/102768/86695324-03f3bf80-c03f-11ea-82de-2254c8176e7c.png)




---

_Label `T: bug` added by @fragrans on 2020-07-07 02:46_

---

_Comment by @CreepySkeleton on 2020-07-07 06:53_

It's not wrong, it's you need `multiple_occurences` instead because `multiple` implies `takes_value`. 

Dear, I thing we need a **BOLD WARNING: this is very likely not what you want** attached to `multiple`. And good docs. I'm back to writing the book...

---

_Closed by @CreepySkeleton on 2020-07-07 06:53_

---

_Comment by @fragrans on 2020-07-07 07:21_

changing multiple to multiple_occurences gave panic.

```yaml
name: rod
args:
    - verbose:
        short: v
        multiple_occurences: true
        about: Sets the level of verbosity
```

```pwsh
 Finished dev [unoptimized + debuginfo] target(s) in 53.47s
     Running `target\debug\rod.exe -vvvv daemon`
thread 'main' panicked at 'Unknown Arg setting 'multiple_occurences' in YAML file for arg 'verbose'', C:\Users\LL L\.cargo\registry\src\mirrors.tuna.tsinghua.edu.cn-df7c3c540f42cdbd\clap-3.0.0-beta.1\src\build\arg\mod.rs:243:22
stack backtrace:
   0: backtrace::backtrace::trace_unsynchronized
             at C:\Users\VssAdministrator\.cargo\registry\src\github.com-1ecc6299db9ec823\backtrace-0.3.46\src\backtrace\mod.rs:66      
   1: std::sys_common::backtrace::_print_fmt
```




---

_Comment by @CreepySkeleton on 2020-07-07 07:38_

Ugh, doesn't work with YAML yet... For now, use `multiple: true takes_value: false` in that order.

---

_Comment by @fragrans on 2020-07-07 07:39_

Thanks.

---

_Comment by @pksunkara on 2020-07-10 12:54_

@CreepySkeleton  We should probably keep this issue open, right?

---
