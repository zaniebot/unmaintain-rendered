```yaml
number: 5284
title: Support subcommand flags in native completion engine
type: issue
state: open
author: epage
labels:
  - C-enhancement
  - E-medium
  - A-completion
  - ":money_with_wings: $20"
assignees: []
created_at: 2024-01-04T19:03:50Z
updated_at: 2024-01-04T19:03:50Z
url: https://github.com/clap-rs/clap/issues/5284
synced_at: 2026-01-10T01:57:49Z
```

# Support subcommand flags in native completion engine

---

_Issue opened by @epage on 2024-01-04 19:03_

#3656 added subcommand support but left out pacman-like flag subcommands.

One catch is that subcommand short flags can be conjoined with each other and regular short flags (`-Sq`). If that is a hassle, we can split that out into a separate issue.

We shouldn't offer hidden options by default but complete them if the user starts typing them

See #3166 for more details on native completions

- [code](https://github.com/clap-rs/clap/blob/master/clap_complete/src/dynamic)
- [tests](https://github.com/clap-rs/clap/blob/master/clap_complete/tests/dynamic.rs)

---

_Label `C-enhancement` added by @epage on 2024-01-04 19:03_

---

_Label `E-medium` added by @epage on 2024-01-04 19:03_

---

_Label `A-completion` added by @epage on 2024-01-04 19:03_

---

_Label `:money_with_wings: $20` added by @epage on 2024-01-04 19:03_

---

_Referenced in [clap-rs/clap#3166](../../clap-rs/clap/issues/3166.md) on 2024-01-04 19:04_

---

_Referenced in [clap-rs/clap#5587](../../clap-rs/clap/issues/5587.md) on 2024-07-22 18:02_

---
