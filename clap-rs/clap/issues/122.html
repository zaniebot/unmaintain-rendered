<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A better way to handle empty strings in argument values - clap-rs/clap #122</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>A better way to handle empty strings in argument values</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/122">#122</a>
        opened by <a href="https://github.com/Byron">@Byron</a>
        on 2015-05-17 14:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Byron">@Byron</a> on 2015-05-17 14:26</div>
            <div class="timeline-body"><p>Currently it is possible to pass an empty string to arguments defined like this (maybe it's a valid value to all of them):</p>
<pre><code class="language-Rust">Arg::new(&quot;from-stop&quot;)
             .required(true)
</code></pre>
<p>On the command-line, it's now possible to pass in an empty string like so:</p>
<pre><code class="language-bash">$ trains shortest-route A &quot;&quot;
</code></pre>
<p>I believe it's too far fetched to disallow empty strings in general, but it would be great if I could set a flag (maybe even it's default on) on the <code>Arg</code> type to let the parser handle empty values for me.</p>
<p>This could look like this:</p>
<pre><code class="language-Rust">Arg::new(&quot;to-stop&quot;)
       .allow_empty_values(false)
       .required(true)
</code></pre>
<p>If such a feature does not exist on parser level, each client will have to implement its own check.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-17 16:22</div>
            <div class="timeline-body"><p>I think this is a valid suggestion. Let me play with an implementation and I'll post back with the solution.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Assigned to @kbknapp by @kbknapp on 2015-05-17 16:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @kbknapp on 2015-05-17 16:22</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-17 17:04</div>
            <div class="timeline-body"><p>I have the initial work on this done, but I'm going to roll it into a larger update tonight since I don't have time to finish it until later today. I'll posy back later today once its complete ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Byron">@Byron</a> on 2015-05-17 17:23</div>
            <div class="timeline-body"><p>Thanks! No reason to hurry though, as I am just playing it safe and used
'stdin' instead of '-' for the final toy project.
And Google.rs will use this capability once available.
On Sun 17 May 2015 at 19:04 Kevin K. notifications@github.com wrote:</p>
<blockquote>
<p>I have the initial work on this done, but I'm going to roll it into a
larger update tonight since I don't have time to finish it until later
today. I'll posy back later today once its complete ;)</p>
<p>â€”
Reply to this email directly or view it on GitHub
https://github.com/kbknapp/clap-rs/issues/122#issuecomment-102823350.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2015-05-17 22:23</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-17 22:27</div>
            <div class="timeline-body"><p>Should be good now :) Use v0.9.1 on crates.io</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
