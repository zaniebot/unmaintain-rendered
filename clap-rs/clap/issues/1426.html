<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&quot;require_equals&quot; doesn't work in YAML config files - clap-rs/clap #1426</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>&quot;require_equals&quot; doesn&#x27;t work in YAML config files</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1426">#1426</a>
        opened by <a href="https://github.com/rivy">@rivy</a>
        on 2019-03-11 03:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rivy">@rivy</a></div>
            <div class="timeline-body">Rust Version
<p><code>rustc 1.34.0-nightly (097c04cf4 2019-02-24)</code></p>
Affected Version of clap
<pre><code>name = &quot;clap&quot;
&quot;clap 2.32.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
&quot;checksum clap 2.32.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;b957d88f4b6a63b9d70d5f454ac8011819c6efa7727858f458ab71c756ce2d3e&quot;
</code></pre>
Bug or Feature Request Summary
<p>&quot;require_equals&quot; within YAML configurations causes build errors:</p>
<p><code>... panicked at &#x27;Unknown Arg setting &#x27;require_equals&#x27; in YAML file ...</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rivy">@rivy</a> on 2019-07-22 00:35</div>
            <div class="timeline-body"><p>Fixed in v3 by #1508 (merged).</p>
<p>The workaround for v2 is to use yaml input as usual for the majority of options and then add on the options manually for those needing <code>require_equals()</code> ...</p>
<pre><code>use clap::App;
let yaml = load_yaml!( ... );
let matches = App::from_yaml(yaml)
        .arg(clap::Arg::with_name(&quot;color&quot;).long(&quot;color&quot;)
            .default_value(&quot;auto&quot;)
            .global(true)
            .value_name(&quot;WHEN&quot;)
            .multiple(true)
            .min_values(0)
            .require_equals(true)
            .overrides_with(&quot;color&quot;)
            )
        .version(crate_version!())
        .set_term_width(90)
        .setting(AppSettings::SubcommandRequired)
        .get_matches();
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/rivy">@rivy</a> on 2019-07-22 00:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:21 UTC
    </footer>
</body>
</html>
