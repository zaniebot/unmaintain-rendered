```yaml
number: 1134
title: Cannot parse strings that start with hyphens
type: issue
state: closed
author: 71
labels: []
assignees: []
created_at: 2017-12-20T21:48:03Z
updated_at: 2018-08-02T03:30:16Z
url: https://github.com/clap-rs/clap/issues/1134
synced_at: 2026-01-10T01:57:42Z
```

# Cannot parse strings that start with hyphens

---

_Issue opened by @71 on 2017-12-20 21:48_

### Rust Version
* rustc 1.24.0-nightly (dc39c3169 2017-12-17)

### Affected Version of clap
* Clap 2.29.0

### Expected Behavior Summary
For an input such as `program --argument "---..--"` or `program "-something"`, both "---..--" and "-something" should be considered values.

### Actual Behavior Summary
Those strings are considered as arguments:
```
error: Found argument '--' which wasn't expected, or isn't valid in this context

USAGE:
    program subcommand [FLAGS] [inputs]...

For more information try --help
```

### Debug output
[Gist](https://gist.github.com/6A/7e1327b089cdd1bf4905e3a7b85686fb)

---

_Comment by @kbknapp on 2018-01-09 17:18_

This has to do with shell quoting rules. `--argument "---..---" is the exact same as `--argument ---..---` to most shells.

The fix is to use [`Arg::allow_leading_hyphen(true)`](https://docs.rs/clap/2.29.0/clap/struct.Arg.html#method.allow_hyphen_values) for just `--argument` or globally for the entire program (not usually recommended) with [`AppSettings::AllowLeadingHyphen`](https://docs.rs/clap/2.29.0/clap/enum.ArgSettings.html#variant.AllowLeadingHyphen).

I'm going to close this for now, but feel free to let me know if these don't work for you.

---

_Closed by @kbknapp on 2018-01-09 17:18_

---

_Referenced in [krawieck/ez-renamer#1](../../krawieck/ez-renamer/issues/1.md) on 2020-05-05 08:11_

---

_Referenced in [foundry-rs/foundry#584](../../foundry-rs/foundry/pulls/584.md) on 2022-01-26 02:09_

---

_Referenced in [facet-rs/facet-args#3](../../facet-rs/facet-args/issues/3.md) on 2025-10-19 18:11_

---

_Referenced in [sharkdp/bat#2944](../../sharkdp/bat/issues/2944.md) on 2025-10-19 18:15_

---
