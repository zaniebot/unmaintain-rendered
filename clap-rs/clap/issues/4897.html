<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show subcommand `about` on same line, even in `--help` - clap-rs/clap #4897</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Show subcommand `about` on same line, even in `--help`</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/4897">#4897</a>
        opened by <a href="https://github.com/Centri3">@Centri3</a>
        on 2023-05-09 19:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Centri3">@Centri3</a> on 2023-05-09 19:28</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Clap Version</h3>
<p>master</p>
<h3>Describe your use case</h3>
<p>It's easier to read, of course when long_about (not just the summary) is used, putting it on the same line is less than desirable, but this always shows the summary anyway.</p>
<p>Example:</p>
<pre><code>Usage: a &lt;X&gt; &lt;COMMAND&gt;

Commands:
  lol   This, however - since it's only showing the summary, it may be easier to digest if it's on the same line, or just cleaner (ok, that isn't a summary...)
  help  Print this message or the help of the given subcommand(s)

Arguments:
  &lt;X&gt;
          Really short summary
          
          Very long and descriptive, perhaps overly descriptive explanation of what
          this code does and utterly every little detail of it...
          
          Since this is NOT just the summary, it's ok to put this on multiple lines.

Options:
  -h, --help
          Print help (see a summary with '-h')
</code></pre>
<h3>Describe the solution you'd like</h3>
<p>Currently, line 898 in help_template.rs (or, somewhere in <code>write_subcommands</code>):</p>
<pre><code class="language-rs">self.write_subcommand(sc_str, sc, next_line_help, longest);
</code></pre>
<p>Switch this to:</p>
<pre><code class="language-rs">self.write_subcommand(sc_str, sc, false, longest);
</code></pre>
<p>This will cause clap to always show subcommands on the same line.</p>
<p>Alas, <strong>This is not future proof.</strong></p>
<h3>Alternatives, if applicable</h3>
<p>#1334, or just no changes. It's fine currently.</p>
<h3>Additional Context</h3>
<p>Since it only ever shows <code>about</code> and not <code>long_about</code> for subcommands in particular, it makes sense for it to (by default) show it on the same line, since it's the summary. <code>-h</code> does this, and so does <code>--help</code> too - unless <code>long_about</code> is provided on anything.</p>
<p>if <code>next_line_help(true)</code> is passed, then it should preserve the current behavior of course.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @Centri3 on 2023-05-09 19:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/4902.html">clap-rs/clap#4902</a> on 2023-05-12 08:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-05-12 08:43</div>
            <div class="timeline-body"><p>Created #4902</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2023-05-19 15:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:09 UTC
    </footer>
</body>
</html>
