<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fenced code blocks in argument documentation - clap-rs/clap #3122</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fenced code blocks in argument documentation</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3122">#3122</a>
        opened by <a href="https://github.com/epage">@epage</a>
        on 2021-12-09 16:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a></div>
            <div class="timeline-body"><p><a href="https://github.com/jonhoo"><img src="https://avatars.githubusercontent.com/u/176295?v=4"></a> <strong>Issue by <a href="https://github.com/jonhoo">jonhoo</a></strong>
<em>Saturday Mar 02, 2019 at 20:54 GMT</em>
<em>Originally opened as <a href="https://github.com/TeXitoi/structopt/issues/166">TeXitoi/structopt#166</a></em></p>
<hr>
<p>I have an option that I want to include some example code for (TOML specifically), but it seems like <code>structopt</code> (or maybe clap?) eliminates all of the newlines for it. Could we maybe detect fenced code blocks and change the newline handling rules for that segment of the help text?</p>
<pre><code>#[derive(StructOpt, Debug)]
#[structopt(name = &quot;extractor&quot;)]
struct Opt {
    /// Meta file describing the sheets.
    ///
    /// The file should be of the form:
    ///
    /// ```toml
    /// [first_file]
    /// left = [
    ///     # this is row 1 of the left-hand side page
    ///     [
    ///         # these are the tokens in row 1
    ///         &quot;first_token&quot;,
    ///         &quot;second_token&quot;,
    ///         # the number of columns indicates whether they are big or small
    ///         # (5 | 6 is small, &lt;= 4 is big)
    ///         # to ignore an element, use:
    ///         &quot;&quot;,
    ///     ],
    ///     # this is row 2 of the left page
    ///     [
    ///         # ...
    ///     ]
    /// ],
    /// right = [
    ///     # rows of right-hand side page ...
    /// ]
    /// ```
    ///
    /// Files (like `first_file`) are expected to reside adjacent to the TOML file and have a `jpg`
    /// extension.
    #[structopt(parse(from_os_str), default_value = &quot;images/meta.toml&quot;)]
    meta: PathBuf,
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-12-09 16:16</div>
            <div class="timeline-body"><p><a href="https://github.com/TeXitoi"><img src="https://avatars.githubusercontent.com/u/5787066?v=4"></a> <strong>Comment by <a href="https://github.com/TeXitoi">TeXitoi</a></strong>
<em>Sunday Mar 03, 2019 at 09:01 GMT</em></p>
<hr>
<p>Related to #163</p>
<p>You&#x27;ll find some workaround on this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-derive</span> added by <a href="https://github.com/epage">@epage</a> on 2021-12-09 16:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by <a href="https://github.com/epage">@epage</a> on 2021-12-09 16:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-12-10 01:39</div>
            <div class="timeline-body"><p>This is a dupe of #2389. There&#x27;s a lot of context in #2401 too as pointed out in that issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-12-10 20:12</div>
            <div class="timeline-body"><p>Closing in favor of #2389</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/epage">@epage</a> on 2021-12-10 20:12</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-duplicate</span> added by <a href="https://github.com/epage">@epage</a> on 2022-01-11 18:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:58:34 UTC
    </footer>
</body>
</html>
