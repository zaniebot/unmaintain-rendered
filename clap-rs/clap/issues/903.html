<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Argument requiring equals does not print = in help - clap-rs/clap #903</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Argument requiring equals does not print = in help</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/903">#903</a>
        opened by <a href="https://github.com/TimBednarzyk">@TimBednarzyk</a>
        on 2017-03-14 21:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/TimBednarzyk">@TimBednarzyk</a></div>
            <div class="timeline-body">Rust Version
<p>1.14.0</p>
Affected Version of clap
<p>2.21.1</p>
Expected Behavior Summary
<p>When calling <code>arg.require_equals(true)</code>, the generated help message should show <code>--arg=&lt;VALUE&gt;</code>. Without the equals sign in the help message, the user will think to put a space and will be confused when that fails.</p>
Actual Behavior Summary
<p>The help message shows <code>--arg &lt;VALUE&gt;</code></p>
Sample Code
<pre><code>extern crate clap;

use clap::*;

fn main() {
  let matches = App::new(&quot;example&quot;)
    .arg(Arg::with_name(&quot;mode&quot;)
         .long(&quot;mode&quot;)
         .value_name(&quot;MODE&quot;)
         .require_equals(true)
         .default_value(&quot;foo&quot;)
         .possible_values(&amp;[&quot;foo&quot;, &quot;bar&quot;])
         ).get_matches();

  if matches.value_of(&quot;mode&quot;).unwrap() == &quot;foo&quot; {
    println!(&quot;mode == foo&quot;);
  }
  else {
    println!(&quot;mode == bar&quot;);
  }
}
</code></pre>
Debug output
<p><img src="https://cloud.githubusercontent.com/assets/8797125/23923006/27647fbe-08db-11e7-9273-86051dca9acb.png" alt="image"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:13</div>
            <div class="timeline-body"><p>Great point, I hadn&#x27;t thought about that. This is a very simple fix. I&#x27;m away from my computer for a few days, but will knock this out first thing when I return. If anyone submits a PR, it&#x27;s simply adding some lines to the Display implementation of OptBuilder.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: options</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">M: mentored</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-03-15 03:16</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/homu">@homu</a> on 2017-03-17 02:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:48 UTC
    </footer>
</body>
</html>
