<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot parse strings that start with hyphens - clap-rs/clap #1134</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot parse strings that start with hyphens</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1134">#1134</a>
        opened by <a href="https://github.com/71">@71</a>
        on 2017-12-20 21:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/71">@71</a></div>
            <div class="timeline-body">Rust Version
<ul>
<li>rustc 1.24.0-nightly (dc39c3169 2017-12-17)</li>
</ul>
Affected Version of clap
<ul>
<li>Clap 2.29.0</li>
</ul>
Expected Behavior Summary
<p>For an input such as <code>program --argument &quot;---..--&quot;</code> or <code>program &quot;-something&quot;</code>, both &quot;---..--&quot; and &quot;-something&quot; should be considered values.</p>
Actual Behavior Summary
<p>Those strings are considered as arguments:</p>
<pre><code>error: Found argument &#x27;--&#x27; which wasn&#x27;t expected, or isn&#x27;t valid in this context

USAGE:
    program subcommand [FLAGS] [inputs]...

For more information try --help
</code></pre>
Debug output
<p><a href="https://gist.github.com/6A/7e1327b089cdd1bf4905e3a7b85686fb">Gist</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-01-09 17:18</div>
            <div class="timeline-body"><p>This has to do with shell quoting rules. <code>--argument &quot;---..---&quot; is the exact same as </code>--argument ---..---` to most shells.</p>
<p>The fix is to use <a href="https://docs.rs/clap/2.29.0/clap/struct.Arg.html#method.allow_hyphen_values"><code>Arg::allow_leading_hyphen(true)</code></a> for just <code>--argument</code> or globally for the entire program (not usually recommended) with <a href="https://docs.rs/clap/2.29.0/clap/enum.ArgSettings.html#variant.AllowLeadingHyphen"><code>AppSettings::AllowLeadingHyphen</code></a>.</p>
<p>I&#x27;m going to close this for now, but feel free to let me know if these don&#x27;t work for you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-01-09 17:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>krawieck/ez-renamer#1</a> on 2020-05-05 08:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>foundry-rs/foundry#584</a> on 2022-01-26 02:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>facet-rs/facet-args#3</a> on 2025-10-19 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>sharkdp/bat#2944</a> on 2025-10-19 18:15</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:04 UTC
    </footer>
</body>
</html>
