```yaml
number: 2920
title: "clap: README issue, making it not work directly"
type: issue
state: closed
author: CoAuToSe
labels:
  - A-docs
assignees: []
created_at: 2021-10-22T10:19:22Z
updated_at: 2021-10-25T15:40:31Z
url: https://github.com/clap-rs/clap/issues/2920
synced_at: 2026-01-10T01:57:45Z
```

# clap: README issue, making it not work directly

---

_Issue opened by @CoAuToSe on 2021-10-22 10:19_

### Please complete the following tasks

- [x] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [x] I have searched the existing issues

### Clap Version

3.0.0-beta.5

### Where?

https://github.com/clap-rs/clap/tree/master/clap_derive

### What's wrong?

 In the code inside the README.md file, at each derive which implement the trait ```value_hint``` add ```clap::``` before ```ValueHint::FilePath``` to have ```value_hint = clap::ValueHint::FilePath``` making the total line equal to:
```#[clap(short, long, parse(from_os_str), value_hint = clap::ValueHint::FilePath)]```
and change ```short ="c"``` by ```short = 'c'```


### How to fix?

Rewrite the "hello world" code in the README.md file:

```rust
use clap::Parser;
use std::path::PathBuf;

/// A basic example
#[derive(Parser, Debug)]
#[clap(name = "basic")]
struct Opt {
    // A flag, true if used in the command line. Note doc comment will
    // be used for the help message of the flag. The name of the
    // argument will be, by default, based on the name of the field.
    /// Activate debug mode
    #[clap(short, long)]
    debug: bool,

    // The number of occurrences of the `v/verbose` flag
    /// Verbose mode (-v, -vv, -vvv, etc.)
    #[clap(short, long, parse(from_occurrences))]
    verbose: u8,

    /// Set speed
    #[clap(short, long, default_value = "42")]
    speed: f64,

    /// Output file
    #[clap(short, long, parse(from_os_str), value_hint = clap::ValueHint::FilePath)]
    output: PathBuf,

    // the long option will be translated by default to kebab case,
    // i.e. `--nb-cars`.
    /// Number of cars
    #[clap(short = 'c', long)]
    nb_cars: Option<i32>,

    /// admin_level to consider
    #[clap(short, long)]
    level: Vec<String>,

    /// Files to process
    #[clap(name = "FILE", parse(from_os_str), value_hint = clap::ValueHint::AnyPath)]
    files: Vec<PathBuf>,
}

fn main() {
    let opt = Opt::parse();
    println!("{:#?}", opt);
}
```

---

_Label `C: docs` added by @CoAuToSe on 2021-10-22 10:19_

---

_Comment by @epage on 2021-10-23 15:15_

Thanks for reporting this!  Looks like we aren't testing our examples like we should.

---

_Referenced in [clap-rs/clap#2927](../../clap-rs/clap/pulls/2927.md) on 2021-10-23 15:50_

---

_Added to milestone `3.0` by @pksunkara on 2021-10-24 21:39_

---

_Closed by @bors[bot] on 2021-10-25 15:40_

---

_Closed by @bors[bot] on 2021-10-25 15:40_

---
