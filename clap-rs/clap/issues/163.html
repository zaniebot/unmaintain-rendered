<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unable to compile - clap-rs/clap #163</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unable to compile</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/163">#163</a>
        opened by <a href="https://github.com/sirideain">@sirideain</a>
        on 2015-07-18 05:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/sirideain">@sirideain</a> on 2015-07-18 05:38</div>
            <div class="timeline-body"><p>I get these errors whenever I try to compile any version after 0.11.0. I tried with Rust 1.1.0, 1.2.0, and 1.3.0.</p>
<p>After some more trial and error, I was able to get it to compile if I removed the default-features line below.</p>
<pre><code class="language-toml">[dependencies.clap]
version = &quot;*&quot;
default-features = false
features = [ &quot;suggestions&quot; ] # Color can't be used with Windows as it throws odd characters in there
</code></pre>
<pre><code>   Compiling strsim v0.4.0
   Compiling clap v1.1.2
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1714:49: 1714:70 error: the trait `core::fmt::Display` is not implemented
 for the type `T` [E0277]
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1714                                                 Format::Warning(&amp;arg
),

                                                            ^~~~~~~~~~~~~~~~~~~~
~
note: in expansion of format_args!
&lt;std macros&gt;:2:26: 2:57 note: expansion site
&lt;std macros&gt;:1:1: 2:61 note: in expansion of format!
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1712:59: 1716:86 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1710:33: 1723:34 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1709:29: 1724:30 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1708:25: 1725:26 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1699:21: 1771:22 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1698:17: 1772:18 note: expansion site
note: in expansion of while let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1689:9: 1944:10 note: expansion site
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1714:49: 1714:70 help: run `rustc --explain E0277` to see a detailed expl
anation
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1714:49: 1714:70 note: `T` cannot be formatted with the default formatter
; try using `:?` instead if you are using a format string
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1714                                                 Format::Warning(&amp;arg
),

                                                            ^~~~~~~~~~~~~~~~~~~~
~
note: in expansion of format_args!
&lt;std macros&gt;:2:26: 2:57 note: expansion site
&lt;std macros&gt;:1:1: 2:61 note: in expansion of format!
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1712:59: 1716:86 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1710:33: 1723:34 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1709:29: 1724:30 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1708:25: 1725:26 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1699:21: 1771:22 note: expansion site
note: in expansion of if let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1698:17: 1772:18 note: expansion site
note: in expansion of while let expansion
C:\Users\Charlie\.cargo\registry\src\github.com-0a35038f75765ae4\clap-1.1.2\src\
app.rs:1689:9: 1944:10 note: expansion site
error: aborting due to previous error
Could not compile `clap`.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-07-18 12:38</div>
            <div class="timeline-body"><p>Thanks for taking the time to file this! I'll start looking into it!</p>
<p>I'll post back here with anything I find.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @kbknapp on 2015-07-18 12:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P1: urgent</span> added by @kbknapp on 2015-07-18 12:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: app</span> added by @kbknapp on 2015-07-18 12:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-07-18 13:27</div>
            <div class="timeline-body"><p>Also, I forgot to ask, which version of Rust are you using? (<code>rustc -V</code> should spit it out).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sirideain">@sirideain</a> on 2015-07-18 13:31</div>
            <div class="timeline-body"><p>I tried it with three versions of Rust.</p>
<p>rustc 1.1.0 (35ceea399 2015-06-19)
rustc 1.2.0-beta.2 (c8bab9d06 2015-07-09)
rustc 1.3.0-nightly (e4e93196e 2015-07-14)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-07-18 13:32</div>
            <div class="timeline-body"><p>Ok, good to know, thanks! :)</p>
<p>I may also just disable colorized output on windows, because if it just spits out crazy characters no reason to make windows devs have to manually exclude the dep.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sirideain">@sirideain</a> on 2015-07-18 13:35</div>
            <div class="timeline-body"><p>Here is what the output looks like on Windows.</p>
<p>←[1;31merror:←[0m The argument '←[33m-a←[0m' isn't valid</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-07-18 13:36</div>
            <div class="timeline-body"><p>Yep, I was able to reproduce this error, as well as the wonky colorized output. This should be an easy fix, and I should have a working 1.1.3 up for you soon ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/164.html">clap-rs/clap#164</a> on 2015-07-18 14:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-07-18 14:37</div>
            <div class="timeline-body"><p>Once #164 passes Travis I'll merge into master and publish v1.1.3 on crates.io</p>
<p>Also note with that PR, you no longer need to specify</p>
<pre><code class="language-toml">default-features = false
features = [&quot;suggestions&quot;]
</code></pre>
<p>It will still compile <code>ansi_term</code> but it won't use it. Now if you want to keep your dep list short, or just don't want to compile <code>ansi_term</code> you can still turn off the <code>&quot;color&quot;</code> feature like before ;)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2015-07-18 14:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-07-18 15:05</div>
            <div class="timeline-body"><p>This issue has been fixed with v1.1.3 on crates.io or master here. @classicboss302 please let me know if  you have any further issues! And thanks again for taking to time to report this and assist! :+1:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3122.html">clap-rs/clap#3122</a> on 2021-12-09 16:16</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:17 UTC
    </footer>
</body>
</html>
