```yaml
number: 3757
title: "Request: add ValueHint::NewFilePath"
type: issue
state: closed
author: alexjago
labels:
  - C-enhancement
  - A-completion
  - S-wont-fix
assignees: []
created_at: 2022-05-26T03:09:55Z
updated_at: 2022-11-08T04:56:05Z
url: https://github.com/clap-rs/clap/issues/3757
synced_at: 2026-01-10T01:57:47Z
```

# Request: add ValueHint::NewFilePath

---

_Issue opened by @alexjago on 2022-05-26 03:09_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

3.0.0

### Describe your use case

I'm a user of [klask](https://github.com/MichalGniadek/klask) which is a GUI wrapper for `clap`-based CLI programs. 

`klask` shows a file chooser for arguments with `ValueHint::FilePath`. 

However, sometimes files need to be created, not just opened. For this reason the "Save" dialog and the "Open" dialog are _different dialog boxes_ at the GUI level, at least on Mac.  

With just `FilePath` alone, there's no way to know that this is a file which might need to be created, or one that already exists. 

### Describe the solution you'd like

I'm asking for an additional enum variant, `ValueHint::NewFilePath`. This would be quite similar to `FilePath`, except that it would provide appropriate semantics for GUI wrappers like Klask to show a new-file dialog rather than an existing-file dialog.

### Alternatives, if applicable

* `FilePath` (and potentially other variants) could wrap a boolean indicating whether the argument is expected to already exist or not.
* Add an alternative variant `ValueHint::Custom<String>` (this might've been suggested before). 

### Additional Context

_No response_

---

_Label `C-enhancement` added by @alexjago on 2022-05-26 03:09_

---

_Comment by @epage on 2022-05-26 11:45_

ValueHint is intended for completions.  If a completion system took meaning from a `NewFilePath`, then this would be an easy decision.  I did a quick scan and did not see any do so, so now we need to decide how much do we extend a system intended for one purpose for the sake of other purposes.  I'm not quite sure what is a good answer here.

---

_Label `S-triage` added by @epage on 2022-09-28 16:20_

---

_Label `S-triage` removed by @epage on 2022-11-08 04:56_

---

_Label `A-completion` added by @epage on 2022-11-08 04:56_

---

_Label `S-wont-fix` added by @epage on 2022-11-08 04:56_

---

_Comment by @epage on 2022-11-08 04:56_

As value hints are intended for completions (we plan to move `ValueHint` type into `clap_complete`), I'm going to close this without there being a completion system that natively supports this.

---

_Closed by @epage on 2022-11-08 04:56_

---
