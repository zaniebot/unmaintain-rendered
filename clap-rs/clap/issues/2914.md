```yaml
number: 2914
title: "[modular] Decouple help format from help generation"
type: issue
state: open
author: epage
labels:
  - C-enhancement
  - A-help
assignees: []
created_at: 2021-10-19T15:40:34Z
updated_at: 2023-12-29T11:12:53Z
url: https://github.com/clap-rs/clap/issues/2914
synced_at: 2026-01-10T01:57:45Z
```

# [modular] Decouple help format from help generation

---

_Issue opened by @epage on 2021-10-19 15:40_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Clap Version

master

### Describe your use case

For manpage generation (#552), md generation, or other output formats, it would help if we provided a way to reuse a lot of what is included in the help generation which would reduce overall bloat (#1384)

### Describe the solution you'd like

1. Pull out a usage and help generation API
2. Split help generation in two, one that gathers what should be included and in what order from the actual `--help` layout
3. Expose the "gather" side of this as its own API for people to plug into.

### Alternatives, if applicable

_No response_

### Additional Context

_No response_

---

_Label `T: new feature` added by @epage on 2021-10-19 15:40_

---

_Assigned to @epage by @epage on 2021-10-19 15:40_

---

_Referenced in [clap-rs/clap#1013](../../clap-rs/clap/issues/1013.md) on 2021-10-27 18:05_

---

_Referenced in [clap-rs/clap#2956](../../clap-rs/clap/pulls/2956.md) on 2021-10-27 21:04_

---

_Referenced in [clap-rs/clap#1790](../../clap-rs/clap/issues/1790.md) on 2021-10-29 20:41_

---

_Referenced in [epage/clapng#75](../../epage/clapng/issues/75.md) on 2021-12-06 16:34_

---

_Referenced in [epage/clapng#227](../../epage/clapng/issues/227.md) on 2021-12-06 22:21_

---

_Referenced in [clap-rs/clap#918](../../clap-rs/clap/issues/918.md) on 2021-12-08 20:30_

---

_Label `T: new feature` removed by @epage on 2021-12-08 21:08_

---

_Label `C-enhancement` added by @epage on 2021-12-08 21:08_

---

_Label `A-help` added by @epage on 2021-12-09 03:15_

---

_Referenced in [clap-rs/clap#552](../../clap-rs/clap/issues/552.md) on 2021-12-09 16:51_

---

_Referenced in [clap-rs/clap#1384](../../clap-rs/clap/issues/1384.md) on 2021-12-09 19:26_

---

_Referenced in [clap-rs/clap#1398](../../clap-rs/clap/issues/1398.md) on 2021-12-10 14:22_

---

_Referenced in [clap-rs/clap#1334](../../clap-rs/clap/issues/1334.md) on 2021-12-10 16:22_

---

_Referenced in [clap-rs/clap#2033](../../clap-rs/clap/issues/2033.md) on 2021-12-10 21:59_

---

_Label `S-blocked` added by @epage on 2021-12-13 22:06_

---

_Referenced in [clap-rs/clap#2389](../../clap-rs/clap/issues/2389.md) on 2021-12-30 20:36_

---

_Referenced in [clap-rs/clap#3234](../../clap-rs/clap/issues/3234.md) on 2021-12-31 12:46_

---

_Referenced in [clap-rs/clap#1407](../../clap-rs/clap/issues/1407.md) on 2022-01-11 17:31_

---

_Referenced in [clap-rs/clap#3300](../../clap-rs/clap/issues/3300.md) on 2022-01-18 16:23_

---

_Referenced in [clap-rs/clap#3312](../../clap-rs/clap/issues/3312.md) on 2022-01-19 16:25_

---

_Referenced in [clap-rs/clap#1365](../../clap-rs/clap/issues/1365.md) on 2022-02-01 17:25_

---

_Referenced in [clap-rs/clap#3418](../../clap-rs/clap/issues/3418.md) on 2022-02-08 15:26_

---

_Referenced in [clap-rs/clap#3480](../../clap-rs/clap/issues/3480.md) on 2022-02-17 20:08_

---

_Referenced in [clap-rs/clap-md#5](../../clap-rs/clap-md/pulls/5.md) on 2022-04-29 21:13_

---

_Referenced in [kanidm/kanidm#668](../../kanidm/kanidm/issues/668.md) on 2022-05-27 15:34_

---

_Referenced in [clap-rs/clap#3994](../../clap-rs/clap/issues/3994.md) on 2022-07-26 21:11_

---

_Referenced in [clap-rs/clap#4110](../../clap-rs/clap/pulls/4110.md) on 2022-08-24 15:27_

---

_Referenced in [clap-rs/clap#4114](../../clap-rs/clap/pulls/4114.md) on 2022-08-25 18:44_

---

_Label `S-blocked` removed by @epage on 2023-02-28 22:13_

---

_Comment by @fhennig on 2023-12-25 16:08_

Hey! I just stumbled on this feature and I'm interested in using it. I see loads of referenced PRs, would it be possible to give an update on this? Is it being worked towards? Just curious, thanks for all the work on this great library! Cheers

---

_Comment by @epage on 2023-12-27 18:12_

The big challenge is with designing the APIs.  The issue to watch will be #5236 as that allow us to define a subset of the API.  We can then open things up under `unstable-` features for more iteration and experimentation.

---

_Comment by @fhennig on 2023-12-29 11:12_

Ok great! thanks for letting me know, I'll keep an eye on it. I'm interested in this for generating `adoc` documentation for our commandline tools.

---

_Referenced in [clap-rs/clap#5780](../../clap-rs/clap/issues/5780.md) on 2024-10-18 02:40_

---

_Referenced in [clap-rs/clap#380](../../clap-rs/clap/issues/380.md) on 2025-09-08 15:24_

---

_Referenced in [clap-rs/clap#6140](../../clap-rs/clap/issues/6140.md) on 2025-09-25 16:15_

---
