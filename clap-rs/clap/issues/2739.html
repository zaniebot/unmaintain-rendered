<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regroup &quot;similar&quot; flags/options in the help prompt - clap-rs/clap #2739</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Regroup &quot;similar&quot; flags/options in the help prompt</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/clap-rs/clap/issues/2739">#2739</a>
        opened by <a href="https://github.com/PandH4cker">@PandH4cker</a>
        on 2021-08-26 12:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/PandH4cker">@PandH4cker</a> on 2021-08-26 12:49</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>3.0.0-beta.2</p>
<h3>Describe your use case</h3>
<p>Hi everyone,</p>
<p>I just suggest to add a simple feature about the display of the help prompt to regroup flags/options that seem to us &quot;similar&quot; and to simplify the help prompt in order to reduce its length and be more compact.</p>
<p>The function should regroup args and be visualized:</p>
<p><strong>Like this:</strong></p>
<pre><code>--PS/PA/PU/PY &lt;portlist&gt;: help message
</code></pre>
<p><strong>Instead of:</strong></p>
<pre><code>--PS &lt;portlist&gt; : same help message
--PA &lt;portlist&gt; : same help message
--PU &lt;portlist&gt; : same help message
--PY &lt;portlist&gt;  : same help message
</code></pre>
<h3>Describe the solution you'd like</h3>
<p>It could be nice to have a <strong>function like this</strong>:</p>
<pre><code class="language-rust">impl&lt;'help&gt; App&lt;'help&gt;
pub fn help_regroup&lt;T: Key&gt;(mut self, arg_id: T, args: &amp;[T], help_message: &amp;str) -&gt; Self
</code></pre>
<p><strong>And be used like this:</strong></p>
<pre><code class="language-rust">app
     .arg(Arg::new(&quot;PA&quot;))
     .arg(Arg::new(&quot;PU&quot;))
     .arg(Arg::new(&quot;PY&quot;))
     ...
     .help_regroup(&quot;PA&quot;, &amp;[&quot;PU&quot;, &quot;PY&quot;], &quot;Unique Help Message&quot;)
</code></pre>
<p><strong>OUTPUT:</strong></p>
<pre><code>PA/PU/PY &lt;value_name&gt;: unique_help_message

### Alternatives, if applicable

_No response_

### Additional Context

_No response_
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @PandH4cker on 2021-08-26 12:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-08-26 13:40</div>
            <div class="timeline-body"><p>To help understand the use case, how are the flags different if they have the same help message?  Or is the flag name meant to be context enough to clarify, like a command dealing with semver versions have <code>--major</code>, <code>--minor</code>, --patch` flags?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/PandH4cker">@PandH4cker</a> on 2021-08-26 13:42</div>
            <div class="timeline-body"><p>I mean by the same/unique help message including &quot;or ...&quot; in it like:</p>
<p>... : &quot;Major or Minor or Patch..&quot;</p>
<p>I'm building an app with Clap and I'm facing with this kind of &quot;help duplicates&quot; that could be nicer if more compact:</p>
<pre><code>HOST DISCOVERY:
        --sL                                 List Scan - simply list targets to scan
        --sn                                 Ping Scan - disable port scan
        --Pn                                 Treat all hosts as online -- skip host discovery
        --PS &lt;portlist&gt;                      TCP SYN discovery to given ports
        --PA &lt;portlist&gt;                      TCP ACK discovery to given ports
        --PU &lt;portlist&gt;                      UDP discovery to given ports
        --PY &lt;portlist&gt;                      SCTP discovery to given ports
</code></pre>
<h3>What It Should Be:</h3>
<pre><code>HOST DISCOVERY:
        --sL                                 List Scan - simply list targets to scan
        --sn                                 Ping Scan - disable port scan
        --Pn                                 Treat all hosts as online -- skip host discovery
        --PS/PA/PU/PY &lt;portlist&gt;             TCP SYN/ACK, UDP and SCTP discovery to given ports
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">:money_with_wings: $10</span> added by @pksunkara on 2021-08-31 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @pksunkara on 2021-08-31 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: medium</span> added by @pksunkara on 2021-08-31 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> added by @pksunkara on 2021-08-31 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/203.html">epage/clapng#203</a> on 2021-12-06 21:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> removed by @epage on 2021-12-08 21:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @epage on 2021-12-08 21:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-12-13 17:41</div>
            <div class="timeline-body"><p>Some quick thoughts: I'd probably model this after usages to reduce user confusion.  The downside is that would look like <code>--PS &lt;portlist&gt; | --PA &lt;portlist&gt;</code> etc which gets fairly verbose.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> removed by @epage on 2021-12-13 17:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: medium</span> removed by @epage on 2021-12-13 17:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">:money_with_wings: $10</span> removed by @epage on 2021-12-13 17:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-waiting-on-design</span> added by @epage on 2021-12-13 17:41</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-08-25 21:57</div>
            <div class="timeline-body"><p>Might not apply in the reporters case but one way of doing this in CLI11 is by having a string parsed at runtime: https://cliutils.github.io/CLI11/book/chapters/flags.html</p>
<p>I don't think thats the way we should go but I wanted to make note of how others solve similar problems.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:34:35 UTC
    </footer>
</body>
</html>
