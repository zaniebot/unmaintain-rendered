<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature: cargo env simplified - clap-rs/clap #778</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature: cargo env simplified</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/778">#778</a>
        opened by <a href="https://github.com/ishitatsuyuki">@ishitatsuyuki</a>
        on 2016-12-17 07:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ishitatsuyuki">@ishitatsuyuki</a> on 2016-12-17 07:26</div>
            <div class="timeline-body"><p>This is a proposal of a more clean wrapper around Cargo.toml.</p>
<p>Right now the macro only supports version and author. If all things supported (package name, description) are taken into place, this would be cool.</p>
<p>Macro proposal: a wrapper around clap_app</p>
<pre><code class="language-rust">clap_cargo_app!(
    // package name, version, authors, descriptions are taken into place, if applicable
    (@arg ...)
)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/638.html">clap-rs/clap#638</a> on 2016-12-17 07:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-12-18 20:29</div>
            <div class="timeline-body"><p>Great idea! I think this would require each of those be implemented as separate macros, but you're right, I'd also like a single macro to pull in everything. Let me mull over the implementation over the holidays and I'll post back here.</p>
<p>The only thing I don't really want to do is have a <code>clap_app!</code> and <code>clap_cargo_app!</code> macro. I'd like to either combine these into the <code>clap_app!</code> macro, or do something like a <code>app_with_defaults!</code> macro.</p>
<p>i.e.</p>
<pre><code class="language-rust">let app = app_from_crate!()
    // continue builder like normal
</code></pre>
<p>The above being the same as</p>
<pre><code class="language-rust">let app = App::new(crate_name!())
    .version(crate_version!())
    .author(crate_authors!())
    .about(crate_description!())
    // other builders like normal.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: macros</span> added by @kbknapp on 2016-12-18 20:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: intermediate</span> added by @kbknapp on 2016-12-18 20:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> added by @kbknapp on 2016-12-18 20:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by @kbknapp on 2016-12-18 20:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @kbknapp on 2016-12-18 20:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2016-12-18 20:30</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "2.20.0" by @kbknapp on 2016-12-27 04:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-12-31 05:28</div>
            <div class="timeline-body"><h2>ToDo</h2>
<ul>
<li>[x] Add <code>crate_description!</code></li>
<li>[x] <code>crate_description!</code> docs</li>
<li>[x] Add <code>crate_name!</code></li>
<li>[x] <code>crate_name!</code> docs</li>
<li>[x] Add <code>app_from_crate!</code></li>
<li>[x] <code>app_from_crate!</code> docs</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/798.html">clap-rs/clap#798</a> on 2016-12-31 13:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @homu on 2016-12-31 22:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-12-31 22:05</div>
            <div class="timeline-body"><p>Big thanks to @nabijaczleweli for implementing this üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nabijaczleweli">@nabijaczleweli</a> on 2017-01-01 00:58</div>
            <div class="timeline-body"><p>I aim to please</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:06 UTC
    </footer>
</body>
</html>
