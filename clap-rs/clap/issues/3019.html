<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove rustdoc automatic link markup in clap_derive-generated help messages - clap-rs/clap #3019</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Remove rustdoc automatic link markup in clap_derive-generated help messages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3019">#3019</a>
        opened by <a href="https://github.com/AntonHermann">@AntonHermann</a>
        on 2021-11-12 19:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AntonHermann">@AntonHermann</a></div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>3.0.0-beta.5</p>
<h3>Describe your use case</h3>
<p>When using URLs in doc comments like &quot;see https://repo.com for details&quot;, rustdoc emits a warning suggesting the automatic link syntax: &quot;see &lt;https://repo.com&gt; for details&quot;.</p>
<p>When clap uses this doc comment to generate help messages, it outputs the automatic link markup (angle brackets) as it was written instead of removing the markup, leaving only the url in place.</p>
<h3>Describe the solution you'd like</h3>
<p>Removing the automatic link markup and just using the URL in the help message would be a good solution in my opinion.</p>
<p>One could also consider emitting the ansi control sequence to markup links in the terminal on linux (see <a href="https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda">this writeup</a> for details, terminal support, etc.) so they are clickable in many terminal emulators.</p>
<h3>Alternatives, if applicable</h3>
<p>Leaving everything as is, meaning that users who want to use <code>rustdoc</code>s automatic links but don't want them to show up in help output would have to duplicate their help message and pass it to <code>#[clap(about = &quot;...&quot;)]</code> or <code>#[clap(long_about = &quot;...&quot;)]</code>.
(I haven't checked whether those take preference over doc-comments, if they do not then it would be impossible to have working links in rustdoc while not having the link markup in the clap output?)</p>
<h3>Additional Context</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @AntonHermann on 2021-11-12 19:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: derive macros</span> added by @epage on 2021-11-12 19:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-11-12 19:33</div>
            <div class="timeline-body"><p>Thanks for the feedback!</p>
<p>I suspect there are other improvements to be made in our post-porcessing.  The challenge will be in finding the right balance between implementation cost and quality.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../ouch-org/ouch/pulls/196.html">ouch-org/ouch#196</a> on 2021-11-12 21:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-11-14 00:32</div>
            <div class="timeline-body"><p>This can be closed since #2389 covers it already.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @AntonHermann on 2021-11-14 01:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:48:11 UTC
    </footer>
</body>
</html>
