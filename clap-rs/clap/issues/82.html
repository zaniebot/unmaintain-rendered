<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement smart usage - clap-rs/clap #82</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement smart usage</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/82">#82</a>
        opened by <a href="https://github.com/kbknapp">@kbknapp</a>
        on 2015-04-29 01:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kbknapp">@kbknapp</a></div>
            <div class="timeline-body"><p>Usage strings, if possible should be re-generated upon error for the current usage case. For example if you have a non-required by default argument which requires another argument, and the user fails to supply the third argument (which is required by proxy), the usage string is generic - yet the error message says a required argument is missing...which argument?</p>
<pre><code>let m = App::new(&quot;app&quot;)
                .arg(Arg::from_usage(&quot;--reqs&quot;).requires(&quot;input&quot;))
                .arg_from_usage(&quot;[input] &#x27;some input&#x27;&quot;)
                .get_matches();
</code></pre>
<p>Run with <code>app --reqs</code> and the usage does not identify <code>[input]</code> as a requirement, yet states a generic &quot;required argument missing&quot;</p>
<p>Now this <em>does</em> happen in certain instances, but I want to implement it in <em>all</em> instances.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-04-29 01:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#88</a> on 2015-04-29 18:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-04-30 15:16</div>
            <div class="timeline-body"><p>Closed with #90</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-04-30 15:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-05-01 02:26</div>
            <div class="timeline-body"><p>Usage strings are now recalculated on errors, so that the current usage attempt is a template and all requirements/conflicts are spelled out in the usage string.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:03 UTC
    </footer>
</body>
</html>
