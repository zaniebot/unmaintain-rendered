<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final word in help text is not wrapped - clap-rs/clap #828</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Final word in help text is not wrapped</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/828">#828</a>
        opened by <a href="https://github.com/mgeisler">@mgeisler</a>
        on 2017-01-29 20:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mgeisler">@mgeisler</a> on 2017-01-29 20:00</div>
            <div class="timeline-body"><h3>Affected Version of clap</h3>
<p>Tested with latest <code>master</code>, d29d7cc.</p>
<h3>Expected Behavior Summary</h3>
<p>The final word in the help text should be wrapped.</p>
<h3>Actual Behavior Summary</h3>
<p>The final word remain with the next to final word, that is, the last space is ignored.</p>
<h3>Steps to Reproduce the issue</h3>
<pre><code>#[test]
fn final_word_wrapping() {
    let app = App::new(&quot;ctest&quot;).version(&quot;0.1&quot;).set_term_width(24);
    assert!(test::compare_output(app, &quot;ctest --help&quot;, FINAL_WORD_WRAPPING, false));
}

static FINAL_WORD_WRAPPING: &amp;'static str = &quot;ctest 0.1

USAGE:
    ctest

FLAGS:
    -h, --help
            Prints help
            information
    -V, --version
            Prints
            version information
&quot;;
</code></pre>
<p>The <code>&quot;version information&quot;</code> line is longer than 12 characters, despite <code>information</code> being only 11 characters wide.</p>
<p>I have a fix for this that I'll post next.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-30 02:33</div>
            <div class="timeline-body"><p>Interesting, I wonder if it's counting the space? Could you post a gist of the output when you compile clap with <code>features = [&quot;debug&quot;]</code> and run the test program?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @kbknapp on 2017-01-30 02:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: intermediate</span> added by @kbknapp on 2017-01-30 02:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by @kbknapp on 2017-01-30 02:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @kbknapp on 2017-01-30 02:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2017-01-30 02:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "2.20.2" by @kbknapp on 2017-01-30 04:36</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/832.html">clap-rs/clap#832</a> on 2017-01-30 06:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mgeisler">@mgeisler</a> on 2017-01-30 06:55</div>
            <div class="timeline-body"><p>I've put up a PR for fixing this and a small related bug. As explained, I hope to do a drop-in replacement later with my <a href="https://crates.io/crates/textwrap">textwrap crate</a>, but wanted to make sure the output didn't change first. So I compared the existing code with the wrapping done by that crate and found small problems.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @homu on 2017-01-31 01:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:26 UTC
    </footer>
</body>
</html>
