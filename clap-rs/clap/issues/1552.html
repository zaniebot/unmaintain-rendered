<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use of deprecated &quot;std::sync::ONCE_INIT&quot; - clap-rs/clap #1552</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use of deprecated &quot;std::sync::ONCE_INIT&quot;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1552">#1552</a>
        opened by <a href="https://github.com/Zooce">@Zooce</a>
        on 2019-09-26 19:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Zooce">@Zooce</a></div>
            <div class="timeline-body"><!--
Please use the following template to assist with creating an issue and to ensure a speedy resolution. If an area is not applicable, feel free to delete the area or mark with `N/A`
-->

<h3>Rust Version</h3>
<p><code>rustc 1.38.0 (625451e37 2019-09-23)</code></p>
<h3>Affected Version of clap</h3>
<p><code>clap v2.33.0</code></p>
<h3>Bug or Feature Request Summary</h3>
<p>Warnings for use of deprecated feature.</p>
<h3>Expected Behavior Summary</h3>
<p>No warnings for use  of deprecated feature.</p>
<h3>Actual Behavior Summary</h3>
<pre><code>warning: use of deprecated item 'std::sync::ONCE_INIT': the `new` function is now preferred
   --&gt; src\settings.rs:151:17
    |
151 |         .author(clap::crate_authors!(&quot;\n&quot;))
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default
    = note: this warning originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)

warning: use of deprecated item 'std::sync::ONCE_INIT': the `new` function is now preferred
   --&gt; src\settings.rs:151:17
    |
151 |         .author(clap::crate_authors!(&quot;\n&quot;))
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: this warning originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)
</code></pre>
<h3>Steps to Reproduce the issue</h3>
<p>Build an app that uses <code>clap::crate_authors!(&quot;\n&quot;)</code> with the versions of <code>rustc</code> and <code>clap</code> provided above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Zooce">@Zooce</a> on 2019-09-26 19:26</div>
            <div class="timeline-body"><p>Similar to #1517</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1558.html">clap-rs/clap#1558</a> on 2019-10-02 13:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Dylan-DPC-zz on 2019-10-04 12:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bwinton">@bwinton</a> on 2019-12-10 20:20</div>
            <div class="timeline-body"><p>I'm seeing this warning a bunch, and I'm glad that it's fixed, but am wondering if I could ask you to do a release that includes it to calm my compiler down? ðŸ˜‰</p>
<p>(But if a 3.0 beta release is upcoming, I'll happily switch to that instead! ðŸ™‚)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../alacritty/alacritty/issues/3617.html">alacritty/alacritty#3617</a> on 2020-04-20 07:26</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../dmfutcher/git-profile/pulls/3.html">dmfutcher/git-profile#3</a> on 2020-11-11 03:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:47:23 UTC
    </footer>
</body>
</html>
