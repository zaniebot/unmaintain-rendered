<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow the name of PossibleValue derived by ArgEnum to be specified - clap-rs/clap #3242</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow the name of PossibleValue derived by ArgEnum to be specified</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3242">#3242</a>
        opened by <a href="https://github.com/pwinckles">@pwinckles</a>
        on 2022-01-02 15:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pwinckles">@pwinckles</a></div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>3.0.0</p>
<h3>Describe your use case</h3>
<p>I have an enum that I'd like to derive with <code>ArgEnum</code>. However, <code>ArgEnum</code> only allows the possible value names to be derived from the name of the enum variant. This is problematic because the values I'd like to use are not valid enum variant names. Furthermore, the <code>alias</code> mechanism does allow me to specify the values I want, but the values do not appear in the generated documentation.</p>
<p>Contrived example:</p>
<pre><code class="language-rust">#[derive(ArgEnum)]
enum Example {
    #[clap(alias = &quot;1&quot;)]
    One,
    #[clap(alias = &quot;2&quot;)]
    Two,
}
</code></pre>
<h3>Describe the solution you'd like</h3>
<p>I would like to be able to specify the name of the variant, and it is these values that should appear in the documentation. Something like the following:</p>
<pre><code class="language-rust">#[derive(ArgEnum)]
enum Example {
    #[clap(name = &quot;1&quot;)]
    One,
    #[clap(name = &quot;2&quot;)]
    Two,
}
</code></pre>
<h3>Alternatives, if applicable</h3>
<p>Currently, I'm solving the problem by using <code>strum</code> derives, but it would be nice if this worked out of the box.</p>
<h3>Additional Context</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @pwinckles on 2022-01-02 15:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-01-03 12:35</div>
            <div class="timeline-body"><p><code>name</code> is supported.  I went ahead and added it to the <a href="https://github.com/clap-rs/clap/tree/master/examples/derive_ref#possible-value-attributes">derive ref</a> because technically it is a &quot;magic&quot; attribute because we default it but any <code>PossibleValue</code> method can be used inside of the attribute.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pwinckles">@pwinckles</a> on 2022-01-03 12:52</div>
            <div class="timeline-body"><p>@epage Great! Thank you! I should have tried it. I assumed it wouldn't work because I didn't see it in the docs and I didn't see a <code>name()</code> method in the <a href="https://docs.rs/clap/latest/clap/struct.PossibleValue.html">PossibleValue docs</a> either.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-01-03 13:48</div>
            <div class="timeline-body"><p>Oh, right.  This is purely a magic attribute because we map <code>name</code> to <code>new</code>.  I forgot because <code>Arg</code> and <code>App</code> also have a <code>name</code> method.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-01-03 13:48</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-derive</span> added by @epage on 2022-01-11 18:22</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:48:21 UTC
    </footer>
</body>
</html>
