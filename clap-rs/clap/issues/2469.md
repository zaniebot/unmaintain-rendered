```yaml
number: 2469
title: "clap_up build fails: no method named `hook_method_call_expr_on`"
type: issue
state: closed
author: mkayaalp
labels:
  - C-bug
assignees: []
created_at: 2021-05-06T20:48:39Z
updated_at: 2021-05-06T21:59:25Z
url: https://github.com/clap-rs/clap/issues/2469
synced_at: 2026-01-10T01:57:44Z
```

# clap_up build fails: no method named `hook_method_call_expr_on`

---

_Issue opened by @mkayaalp on 2021-05-06 20:48_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Rust Version

`rustc 1.52.0 (88f19c6da 2021-05-03)`

### Clap Version

`master`

### Steps to reproduce the bug

```
cargo build --workspace
```
or:
```
cd clap_up
cargo build
```

### Actual Behaviour

```
error[E0599]: no method named `hook_method_call_expr_on` found for struct `cargo_up::Version` in the current scope
   --> clap_up/src/lib.rs:101:18
    |
101 |                 .hook_method_call_expr_on("clap::app::App", "args_from_usage", |u, n, _| {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^ help: there is an associated function with a similar name: `hook_method_call_expr`
```

### Additional Context

The commit [`b69c192`](https://github.com/clap-rs/clap/commit/b69c192) added usage of `hook_*_on` methods, which are added to `cargo-up` by commit [`738fcb2`](https://github.com/pksunkara/cargo-up/commit/738fcb2). This is not in the `v0.0.4` of `cargo-up` which `clap_up` depends on.

It is also difficult to track down, since you can't just `grep` for the method name given in the error message (`hook_*_on` names are generated by a macro).

It can be resolved by changing the dependency to revision `e31d07b`:
```
diff --git a/clap_up/Cargo.toml b/clap_up/Cargo.toml
index fa4d49fd..3c01e5ca 100644
--- a/clap_up/Cargo.toml
+++ b/clap_up/Cargo.toml
@@ -28,7 +28,7 @@ maintenance = {status = "actively-developed"}
 bench = false
 
 [dependencies]
-cargo-up = { version = "=0.0.4" }
+cargo-up = { git = "https://github.com/pksunkara/cargo-up", rev = "e31d07b" }
 
 [package.metadata.docs.rs]
 targets = ["x86_64-unknown-linux-gnu"]
```

---

_Label `T: bug` added by @mkayaalp on 2021-05-06 20:48_

---

_Comment by @pksunkara on 2021-05-06 21:58_

Yeah, `clap_up` is still WIP which is why it is not in `default_members` https://github.com/clap-rs/clap/blob/master/Cargo.toml#L118.

I am closing this because there's no use tracking bugs for things which are not yet released and still heavily WIP.

---

_Closed by @pksunkara on 2021-05-06 21:58_

---
