```yaml
number: 2180
title: "Argument names must be unique, but '' is in use by more than one argument or group'"
type: issue
state: closed
author: embeddedpenguin
labels:
  - C-bug
assignees: []
created_at: 2020-10-20T23:44:15Z
updated_at: 2020-10-21T05:24:36Z
url: https://github.com/clap-rs/clap/issues/2180
synced_at: 2026-01-10T01:57:44Z
```

# Argument names must be unique, but '' is in use by more than one argument or group'

---

_Issue opened by @embeddedpenguin on 2020-10-20 23:44_

### Code

The project is getting pretty big at this point so I'm just going to link the repo. Please excuse my awful code =(
https://git.epenguin.net/ePenguin/ePenguin-Igloo

### Steps to reproduce the issue

1. Run "cargo run new"
2. Get error
```
thread 'main' panicked at 'Argument names must be unique, but '' is in use by more than one argument or group', /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1613:13
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```

### Version

* **Rust**: rustc 1.45.0 (5c1f21c3b 2020-07-13)
* **Clap**: clap 3.0.0-beta.1

### Actual Behavior Summary

There isn't a whole lot of behavior to report. It just fails when I use "new" as an arg. All other subcommands work. I've tried backtracing this and got this output:
```
$ RUST_BACKTRACE=1 ./target/debug/igloo new samd21
thread 'main' panicked at 'Argument names must be unique, but '' is in use by more than one argument or group', /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1613:13
stack backtrace:
   0: backtrace::backtrace::libunwind::trace
             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.46/src/backtrace/libunwind.rs:86
   1: backtrace::backtrace::trace_unsynchronized
             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.46/src/backtrace/mod.rs:66
   2: std::sys_common::backtrace::_print_fmt
             at src/libstd/sys_common/backtrace.rs:78
   3: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt
             at src/libstd/sys_common/backtrace.rs:59
   4: core::fmt::write
             at src/libcore/fmt/mod.rs:1076
   5: std::io::Write::write_fmt
             at src/libstd/io/mod.rs:1537
   6: std::sys_common::backtrace::_print
             at src/libstd/sys_common/backtrace.rs:62
   7: std::sys_common::backtrace::print
             at src/libstd/sys_common/backtrace.rs:49
   8: std::panicking::default_hook::{{closure}}
             at src/libstd/panicking.rs:198
   9: std::panicking::default_hook
             at src/libstd/panicking.rs:218
  10: std::panicking::rust_panic_with_hook
             at src/libstd/panicking.rs:486
  11: rust_begin_unwind
             at src/libstd/panicking.rs:388
  12: std::panicking::begin_panic_fmt
             at src/libstd/panicking.rs:342
  13: clap::build::app::App::_debug_asserts
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1613
  14: clap::build::app::App::_build
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1559
  15: clap::parse::parser::Parser::parse_subcommand
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/parse/parser.rs:1020
  16: clap::parse::parser::Parser::get_matches_with
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/parse/parser.rs:730
  17: clap::build::app::App::_do_parse
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1497
  18: clap::build::app::App::try_get_matches_from_mut
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1479
  19: clap::build::app::App::get_matches_from
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1369
  20: clap::build::app::App::get_matches
             at /home/penguin/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-3.0.0-beta.1/src/build/app/mod.rs:1274
  21: igloo::igloo::Igloo::new
             at src/igloo.rs:74
  22: igloo::main
             at src/main.rs:18
  23: std::rt::lang_start::{{closure}}
             at /home/penguin/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/rt.rs:67
  24: std::rt::lang_start_internal::{{closure}}
             at src/libstd/rt.rs:52
  25: std::panicking::try::do_call
             at src/libstd/panicking.rs:297
  26: std::panicking::try
             at src/libstd/panicking.rs:274
  27: std::panic::catch_unwind
             at src/libstd/panic.rs:394
  28: std::rt::lang_start_internal
             at src/libstd/rt.rs:51
  29: std::rt::lang_start
             at /home/penguin/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/rt.rs:67
  30: main
  31: __libc_start_main
  32: _start
```

I definitely triggered whatever is happening because it wasn't doing this earlier. I'm trying to roll back changes to see what I did now, but the panic error makes no sense. It says '' is being repeated as an argument name, which is nothing.

---

_Label `T: bug` added by @embeddedpenguin on 2020-10-20 23:44_

---

_Comment by @embeddedpenguin on 2020-10-21 04:59_

Update:  This doesn't happen when running with the --release flag. I don't know why that would be.

---

_Comment by @embeddedpenguin on 2020-10-21 05:24_

Solved by switching from beta1 to beta2. 

---

_Closed by @embeddedpenguin on 2020-10-21 05:24_

---
