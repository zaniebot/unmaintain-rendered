<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clap: README issue, making it not work directly - clap-rs/clap #2920</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>clap: README issue, making it not work directly</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2920">#2920</a>
        opened by <a href="https://github.com/CoAuToSe">@CoAuToSe</a>
        on 2021-10-22 10:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/CoAuToSe">@CoAuToSe</a></div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[x] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[x] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>3.0.0-beta.5</p>
<h3>Where?</h3>
<p>https://github.com/clap-rs/clap/tree/master/clap_derive</p>
<h3>What's wrong?</h3>
<p>In the code inside the README.md file, at each derive which implement the trait <code>value_hint</code> add <code>clap::</code> before <code>ValueHint::FilePath</code> to have <code>value_hint = clap::ValueHint::FilePath</code> making the total line equal to:
<code>#[clap(short, long, parse(from_os_str), value_hint = clap::ValueHint::FilePath)]</code>
and change <code>short =&quot;c&quot;</code> by <code>short = 'c'</code></p>
<h3>How to fix?</h3>
<p>Rewrite the &quot;hello world&quot; code in the README.md file:</p>
<pre><code class="language-rust">use clap::Parser;
use std::path::PathBuf;

/// A basic example
#[derive(Parser, Debug)]
#[clap(name = &quot;basic&quot;)]
struct Opt {
    // A flag, true if used in the command line. Note doc comment will
    // be used for the help message of the flag. The name of the
    // argument will be, by default, based on the name of the field.
    /// Activate debug mode
    #[clap(short, long)]
    debug: bool,

    // The number of occurrences of the `v/verbose` flag
    /// Verbose mode (-v, -vv, -vvv, etc.)
    #[clap(short, long, parse(from_occurrences))]
    verbose: u8,

    /// Set speed
    #[clap(short, long, default_value = &quot;42&quot;)]
    speed: f64,

    /// Output file
    #[clap(short, long, parse(from_os_str), value_hint = clap::ValueHint::FilePath)]
    output: PathBuf,

    // the long option will be translated by default to kebab case,
    // i.e. `--nb-cars`.
    /// Number of cars
    #[clap(short = 'c', long)]
    nb_cars: Option&lt;i32&gt;,

    /// admin_level to consider
    #[clap(short, long)]
    level: Vec&lt;String&gt;,

    /// Files to process
    #[clap(name = &quot;FILE&quot;, parse(from_os_str), value_hint = clap::ValueHint::AnyPath)]
    files: Vec&lt;PathBuf&gt;,
}

fn main() {
    let opt = Opt::parse();
    println!(&quot;{:#?}&quot;, opt);
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: docs</span> added by @CoAuToSe on 2021-10-22 10:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-10-23 15:15</div>
            <div class="timeline-body"><p>Thanks for reporting this!  Looks like we aren't testing our examples like we should.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2927.html">clap-rs/clap#2927</a> on 2021-10-23 15:50</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.0" by @pksunkara on 2021-10-24 21:39</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2021-10-25 15:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2021-10-25 15:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:48:09 UTC
    </footer>
</body>
</html>
