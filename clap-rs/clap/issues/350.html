<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update usage parser (potentially with nom or chomp) - clap-rs/clap #350</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Update usage parser (potentially with nom or chomp)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/350">#350</a>
        opened by <a href="https://github.com/kbknapp">@kbknapp</a>
        on 2015-11-24 17:28
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kbknapp">@kbknapp</a></div>
            <div class="timeline-body"><p>With <a href="https://github.com/Geal/nom">nom</a> recently reaching 1.0 I&#x27;m wondering if using would be any benefit to this project. Particularly in the test-ability, performance, and maintainability.</p>
<p>Because I&#x27;m very unfamiliar with it, but slowly reading through it, this may be slow going.</p>
<p>Perhaps initially evaluating on the <a href="https://github.com/kbknapp/clap-rs/blob/41bd23300de7e84d288b161073079e4fb9d49373/src/usageparser.rs">from_usage parser</a>.</p>
<p>To be clear, in order to be merged into mainline it needs to <strong>not</strong> impact performance at all (which I don&#x27;t believe will be an issue), and must improve at least one of the items above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-24 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P4: nice to have</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-24 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: intermediate</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-24 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: parsing</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-24 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 1.x</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-24 17:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Vinatorul">@Vinatorul</a> on 2015-11-25 07:59</div>
            <div class="timeline-body"><p>From the one side - we can rewrite parser no <code>nom</code> and make it more clear.
From the other - <code>nom</code> is new dependency.</p>
<p>As for me - I&#x27;m pretty much for rewriting :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-25 08:15</div>
            <div class="timeline-body"><p>Yeah I understand the new dep thing, but if we can make the code more readable, concise, testable, and performant then I&#x27;m all ok using a new dep. If we can do all the above by just re-writing the parser I&#x27;m good with that too. But I would imagine handwriting a new parser might be re-implenting things already solved in<code>nom</code></p>
<p>Also <code>chomp</code> looks promising too but the fact that it&#x27;s less established and pre-1.0 means I&#x27;d lean towards <code>nom</code> all things being equal.</p>
<p>To be clear, I&#x27;m not really advocating using <code>nom</code> in master yet, more just testing to see if it&#x27;s something we should start using.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2015-11-25 08:19</div>
            <div class="timeline-body"><p>In all honesty using an iterator in the usage parser is silly, but I guess it made sense to me when I did it. We&#x27;d probably get way better performance using a real parser, which is what I&#x27;d really like to explore. Whether that&#x27;s using something like <code>nom</code> or home rolled? Let&#x27;s try them both and see what looks/performs best! :smile:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;v2.0&quot; by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-01-23 15:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-01-25 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 1.x</span> removed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-01-25 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Evaluate potential for use of nom&quot; to &quot;Update usage parser (potentially with nom or chomp)&quot; by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-01-25 18:27</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-01-26 08:23</div>
            <div class="timeline-body"><p>Closed with #386</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-01-26 08:23</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:17 UTC
    </footer>
</body>
</html>
