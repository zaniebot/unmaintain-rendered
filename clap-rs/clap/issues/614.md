```yaml
number: 614
title: "Yaml Parsing of \"conflicts_with\" should be able to process a single value"
type: issue
state: closed
author: Gilnaa
labels:
  - C-bug
assignees: []
created_at: 2016-08-05T15:50:15Z
updated_at: 2018-08-02T03:29:52Z
url: https://github.com/clap-rs/clap/issues/614
synced_at: 2026-01-10T01:57:40Z
```

# Yaml Parsing of "conflicts_with" should be able to process a single value

---

_Issue opened by @Gilnaa on 2016-08-05 15:50_

#513 Currently, when using the following yaml notation:

```
args:
    - verbose:
        short: v
        long: verbose
        help: Output verbose CLI output
        conflicts_with: quiet

    - quiet:
        short: q
        long: quiet
        help: Supress non-error messages.
        conflicts_with: verbose
```

the parsing will panic due to the [following](https://github.com/kbknapp/clap-rs/blob/master/src/args/arg.rs#L195) lines: (it is initially unclear as to why)

```
"conflicts_with" => {
                    for ys in v.as_vec().unwrap() {
```

The [example](https://github.com/kbknapp/clap-rs/blob/master/examples/17_yaml.yml#L33) says that:

```
# Conflicts, mutual overrides, and requirements can all be defined as a
# list, where the key is the name of the other argument
```

but it does not say that they _must_ be defined as a list.

It is unclear whether this is a bug or not, but the example definitely misinforms the user as for the correct usage.


---

_Comment by @kbknapp on 2016-08-20 22:06_

Thanks for pointing this out. I'll try to fix it in place, instead of just the docs, as I think your code example should work and not doing so is a bug.


---

_Label `T: bug` added by @kbknapp on 2016-08-20 22:06_

---

_Label `P1: urgent` added by @kbknapp on 2016-08-20 22:06_

---

_Label `W: 2.x` added by @kbknapp on 2016-08-20 22:06_

---

_Label `C: yaml parser` added by @kbknapp on 2016-08-20 22:06_

---

_Added to milestone `2.10.1` by @kbknapp on 2016-08-20 22:14_

---

_Referenced in [clap-rs/clap#620](../../clap-rs/clap/pulls/620.md) on 2016-08-20 22:58_

---

_Referenced in [clap-rs/clap#613](../../clap-rs/clap/issues/613.md) on 2016-08-20 22:59_

---

_Closed by @homu on 2016-08-20 23:47_

---
