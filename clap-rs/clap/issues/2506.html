<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uncontrolled recursion leads to abort in deserialization - clap-rs/clap #2506</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Uncontrolled recursion leads to abort in deserialization</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2506">#2506</a>
        opened by <a href="https://github.com/vireshk">@vireshk</a>
        on 2021-05-28 07:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/vireshk">@vireshk</a> on 2021-05-28 07:56</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Rust Version</h3>
<p>rustc 1.52.1 (9bc8c42bb 2021-05-09)</p>
<h3>Clap Version</h3>
<p>v2.33.3</p>
<h3>Minimal reproducible code</h3>
<pre><code class="language-rust">fn main() {}
</code></pre>
<h3>Steps to reproduce the bug with the above code</h3>
<p>Have this dependency in Carto.toml</p>
<p>clap = { version = &quot;2.33.3&quot;,  features = [&quot;yaml&quot;] }</p>
<p>and do:</p>
<p>$ cargo audit -q</p>
<h3>Actual Behaviour</h3>
<p>$ cargo audit -q
Crate:         yaml-rust
Version:       0.3.5
Title:         Uncontrolled recursion leads to abort in deserialization
Date:          2018-09-17
ID:            RUSTSEC-2018-0006
URL:           https://rustsec.org/advisories/RUSTSEC-2018-0006
Solution:      Upgrade to &gt;=0.4.1
Dependency tree:
yaml-rust 0.3.5
└── clap 2.33.3
└── vhost-device-i2c 0.1.0</p>
<p>error: 1 vulnerability found!</p>
<h3>Expected Behaviour</h3>
<p>No errors</p>
<h3>Additional Context</h3>
<p>https://buildkite.com/rust-vmm/vhost-device-ci/builds/13#c50950ee-b2cb-4726-896a-fe2ac287ad79</p>
<p>Link to the issue.</p>
<h3>Debug Output</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @vireshk on 2021-05-28 07:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../rust-vmm/vhost-device/pulls/1.html">rust-vmm/vhost-device#1</a> on 2021-05-28 07:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-05-28 08:01</div>
            <div class="timeline-body"><p>Duplicate of #1569.</p>
<p>Hello, you marked that you searched other issues. Can you please explain how you did not find this one?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-05-28 08:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vireshk">@vireshk</a> on 2021-05-28 08:54</div>
            <div class="timeline-body"><blockquote>
<p>Hello, you marked that you searched other issues. Can you please explain how you did not find this one?</p>
</blockquote>
<p>I was able to find it earlier and somehow it looked to me that it would be fixed by clap 2.33.3, maybe I misread then..</p>
<p>But even after following #1569 I am not able to understand how to fix this problem. Do I understand correctly that it is only fixed for clap 3 onwards and not for 2.33.* ?</p>
<p>Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vireshk">@vireshk</a> on 2021-05-28 09:13</div>
            <div class="timeline-body"><blockquote>
<p>But even after following #1569 I am not able to understand how to fix this problem. Do I understand correctly that it is only fixed for clap 3 onwards and not for 2.33.* ?</p>
</blockquote>
<p>Ahh, I was able to get over it. Thanks.</p>
<p>clap = { version = &quot;3.0.0-beta.2&quot;, features = [&quot;yaml&quot;] }</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:34:29 UTC
    </footer>
</body>
</html>
