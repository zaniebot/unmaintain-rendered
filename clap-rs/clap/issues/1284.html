<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suggest PATTERN when passing an invalid flag as a pattern - clap-rs/clap #1284</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Suggest PATTERN when passing an invalid flag as a pattern</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1284">#1284</a>
        opened by <a href="https://github.com/flip111">@flip111</a>
        on 2018-06-03 12:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/flip111">@flip111</a> on 2018-06-03 12:33</div>
            <div class="timeline-body"><h3>Rust Version</h3>
<p>rustc 1.24.1</p>
<h3>Affected Version of clap</h3>
<p>https://github.com/BurntSushi/ripgrep/blob/master/Cargo.lock#L47</p>
<h3>Suggestion</h3>
<p>When passing a PATTERN which looks like a flag (starting with <code>--</code> or perhaps <code>-</code>)
and when the parser expects a PATTERN
then suggest using <code>-- --myPattern</code></p>
<p>Before error text</p>
<pre><code>error: Found argument '--no-suggest' which wasn't expected, or isn't valid in this context
	Did you mean --no-sort-files?

USAGE:
    
    rg [OPTIONS] PATTERN [PATH ...]
    rg [OPTIONS] [-e PATTERN ...] [-f FILE ...] [PATH ...]
    rg [OPTIONS] --files [PATH ...]
    rg [OPTIONS] --type-list

For more information try --help
</code></pre>
<p>After help text (only in case when the parser accepts a PATTERN</p>
<pre><code>error: Found argument '--no-suggest' which wasn't expected, or isn't valid in this context
	Did you mean --no-sort-files?
        If you tried to supply `--no-suggest` as a PATTERN use `rg -- --no-suggest`

USAGE:
    
    rg [OPTIONS] PATTERN [PATH ...]
    rg [OPTIONS] [-e PATTERN ...] [-f FILE ...] [PATH ...]
    rg [OPTIONS] --files [PATH ...]
    rg [OPTIONS] --type-list

For more information try --help
</code></pre>
<p>Addresses https://github.com/BurntSushi/ripgrep/issues/936</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2018-06-04 21:18</div>
            <div class="timeline-body"><p>This is what we do for subcommands, so adding it for args should be a quick fix!</p>
<p>Thanks for bringing it to my attention as I've been out for a few weeks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by @kbknapp on 2018-06-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by @kbknapp on 2018-06-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P2: need to have</span> added by @kbknapp on 2018-06-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by @kbknapp on 2018-06-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2018-06-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: errors</span> added by @kbknapp on 2018-06-04 21:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rharriso">@rharriso</a> on 2019-06-28 06:03</div>
            <div class="timeline-body"><p>I have a branch work on this:</p>
<p>https://github.com/rharriso/clap/tree/maybe-suggest-positional-arguments</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/1514.html">clap-rs/clap#1514</a> on 2019-06-30 23:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2154.html">clap-rs/clap#2154</a> on 2020-10-06 12:08</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2020-10-09 19:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2766.html">clap-rs/clap#2766</a> on 2022-10-13 14:03</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:33:48 UTC
    </footer>
</body>
</html>
