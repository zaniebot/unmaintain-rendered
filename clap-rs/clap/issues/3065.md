```yaml
number: 3065
title: "Cannot enable crate features on Rust Playground because `[package.metadata.playground]` is absent in Cargo.toml"
type: issue
state: closed
author: pvshvp-oss
labels:
  - C-enhancement
assignees: []
created_at: 2021-12-06T08:12:20Z
updated_at: 2021-12-08T22:18:51Z
url: https://github.com/clap-rs/clap/issues/3065
synced_at: 2026-01-10T01:57:46Z
```

# Cannot enable crate features on Rust Playground because `[package.metadata.playground]` is absent in Cargo.toml

---

_Issue opened by @pvshvp-oss on 2021-12-06 08:12_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Clap Version

2.34.0

### Describe your use case

Tried using a string YAML with `clap` on the Rust playground, but it does not run due to the `yaml` feature not being enabled. Here is an example code: 
``` rust
use clap;
use yaml_rust; // Needs the `yaml` feature

fn yaml_literal() -> &'static str {
    return r#"
    args: 
    - json:
        about: Output in the JSON format for machine readability and scripting purposes.
        long: json
        global: true
    - plain:
        about: Output plain text of the output without extra information, for machine readability and scripting purposes.
        long: plain
        global: true
    - debug:
        about: Output debug messages.
        long: debug
        global: true
    "#;
}

fn main() {
    let yaml = yaml_rust::YamlLoader::load_from_str(yaml_literal())
        .unwrap()
        .get(0)
        .unwrap();
    let app = clap::App::from_yaml(yaml);
    println!("{}", app.render_usage());
}
```

### Describe the solution you'd like

Please add a list of features (including 'yaml') under `[package.metadata.playground]` section in your `Cargo.toml` file. Because it is currently not present, only the default features are enabled on the rust playground. That severely limits the use of `clap`, because there is no other way to enable crate features on the Rust Playground.

### Alternatives, if applicable

None.

### Additional Context

_No response_

---

_Label `T: new feature` added by @pvshvp-oss on 2021-12-06 08:12_

---

_Referenced in [epage/clapng#247](../../epage/clapng/issues/247.md) on 2021-12-06 23:14_

---

_Label `C-enhancement` added by @epage on 2021-12-08 21:07_

---

_Label `T: new feature` removed by @epage on 2021-12-08 21:07_

---

_Referenced in [clap-rs/clap#3097](../../clap-rs/clap/pulls/3097.md) on 2021-12-08 22:07_

---

_Comment by @epage on 2021-12-08 22:07_

Thanks! I wasn't aware of this and it seems like its not documented (I did find https://github.com/integer32llc/rust-playground/issues/192).  We now have https://github.com/clap-rs/clap/pull/3097 for doing this

---

_Closed by @epage on 2021-12-08 22:18_

---
