<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidates for renaming before v3 - clap-rs/clap #2164</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Candidates for renaming before v3</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/2164">#2164</a>
        opened by <a href="https://github.com/pksunkara">@pksunkara</a>
        on 2020-10-10 15:18
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-10-10 15:18</div>
            <div class="timeline-body"><ul>
<li>AppSettings<ul>
<li>[ ] <a href="https://docs.rs/clap/3.0.0-beta.2/clap/enum.AppSettings.html#variant.ArgsNegateSubcommands">ArgsNegateSubcommands</a> -&gt; ?</li>
<li>[x] <a href="https://docs.rs/clap/3.0.0-beta.2/clap/enum.AppSettings.html#variant.GlobalVersion">GlobalVersion</a> -&gt; PropagateVersion</li>
<li>[ ] <a href="https://docs.rs/clap/3.0.0-beta.2/clap/enum.AppSettings.html#variant.HelpRequired">HelpRequired</a> -&gt; RequireHelp</li>
<li>[ ] <a href="https://docs.rs/clap/3.0.0-beta.2/clap/enum.AppSettings.html#variant.SubcommandRequired">SubcommandRequired</a> -&gt; RequireSubcommand</li>
<li>[ ] ArgRequiredElseHelp -&gt; DisplayHelpWhenNoArg</li>
<li>[ ] SubcommandRequiredElseHelp -&gt; DisplayHelpWhenNoSubcommand</li>
<li>[ ] <a href="https://docs.rs/clap/3.0.0-beta.2/clap/enum.AppSettings.html#variant.AllowLeadingHyphen">AllowLeadingHyphen</a> -&gt; AllowHyphenValues (did this in Arg already)</li>
<li>[ ] SubcommandPrecedenceOverArg -&gt; GiveSubcommandPrecedenceOverArg</li>
<li>[ ] SubcommandsNegateReqs -&gt; ?</li>
<li>[ ] UnifiedHelpMessage -&gt; UnifyHelpMessage</li>
<li>[ ] ColoredHelp -&gt; ColorHelp / UseColoredHelp / ?</li>
<li>[ ] TrailingVarArg -&gt; ?</li>
</ul>
</li>
<li>Make <code>App::generate_usage</code> (a new function) consistent with <code>App::render_*</code> (also new)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by @pksunkara on 2020-10-10 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: settings</span> added by @pksunkara on 2020-10-10 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.0" by @pksunkara on 2020-10-10 15:18</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Possible candidates for renaming before v3" to "Candidates for renaming before v3" by @pksunkara on 2021-07-14 20:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-07-22 14:48</div>
            <div class="timeline-body"><p>RE <code>GlobalVersion</code></p>
<p>A benefit to this name is clap already has the term &quot;global&quot; that I think translates to this.</p>
<p>RE <code>RequireHelp</code> and <code>RequireSubcommand</code></p>
<p>The thing I dislike here is that one &quot;requires&quot; is for developers and the other is for users.  It'd be nice if we had a way of distinguishing these.</p>
<p>Maybe <code>RequireHelp</code> should be <code>ExpectHelp</code> like <code>Option::expect</code>?</p>
<p>This should also probably be renamed to <code>ExpectAbout</code> because the <code>help</code> argument was renamed to <code>about</code>.</p>
<p>RE ArgRequiredElseHelp</p>
<p>I like the consistency in using <code>Require</code>.  Maybe <code>RequireArgElseHelp</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-07-22 15:01</div>
            <div class="timeline-body"><p>So my current table</p>
<ul>
<li><code>ArgsNegateSubcommands</code></li>
<li><code>GlobalVersion</code></li>
<li><code>HelpRequired</code> -&gt; <code>ExpectAbout</code></li>
<li><code>SubcommandRequired</code> -&gt; <code>RequireSubcommand</code></li>
<li><code>SubcommandRequiredElseHelp</code> -&gt; <code>RequireSubcommandElseHelp</code></li>
<li><code>ArgRequiredElseHelp</code> -&gt; <code>RequireArgElseHelp</code></li>
<li><code>AllowLeadingHyphen</code>: rename the Arg version back.  This is more accurate than &quot;Hyphen values&quot; in my mind</li>
<li><code>SubcommandPrecedenceOverArg</code></li>
<li><code>SubcmmandsNegateReqs</code> -&gt; <code>SubcommandNegateRequires</code></li>
<li><code>ColoredHelp</code> -&gt; <code>ColorHelp</code></li>
<li><code>AllArgsOverrideSelf</code> -&gt; <code>ArgsOverrideSelf</code> (<code>all</code> is redundant, this is set on the app)</li>
<li><code>UnifiedHelpMessage</code> -&gt; <code>UnifyHelpMessage</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2021-10-02 00:10</div>
            <div class="timeline-body"><p>My general thoughts are, &quot;What is least surprising or what is most likely to be searched for in the docs when wanting capability X.&quot; With a strong preference for consistency (back to my least surprising point) over perfect naming. So if we are using a verb/noun in some context, once the user has internalized that meaning with regard for clap, seeing that same verb or noun should have the same result.</p>
<p>I tend to think in terms of <code>Noun_Verb(Past Participle)[_Context If Needed]</code> when it's an attribute applied to an item, or <code>[Verb_Noun]</code> when it's instruction for clap to perform an action.  There are several instances where this ins't the case, and those are ones I'd lean to towards changing, if any.</p>
<p>It could be argued that we should have different structure based on if the action is at parser build time, parse time, or validation time...as well as if it's a setting for clap, the developer, or the end user. But naming is one of the most bike-shedable things in CS so I'm partial to just leave well enough alone.</p>
<p>Likewise I tend to think that unless a name is actively causing a problem, or conflicting with some other naming scheme we've been using it's a low priority for change. Churn is more detrimental to downstream users than a less than perfect name.</p>
<p>Just my 2 cents.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-10-02 18:18</div>
            <div class="timeline-body"><blockquote>
<p>My general thoughts are, &quot;What is least surprising or what is most likely to be searched for in the docs when wanting capability X.&quot; With a strong preference for consistency (back to my least surprising point) over perfect naming. So if we are using a verb/noun in some context, once the user has internalized that meaning with regard for clap, seeing that same verb or noun should have the same result.</p>
</blockquote>
<p>Another consideration for having a good scheme and having the feature stand out by being first (usually a noun) is it makes it easier to scan and discover new features when dealing with a specific domain (e.g. its easy to find <code>Setting</code>s related to subcommands when they start with <code>Subcommand</code>)</p>
<blockquote>
<p>Likewise I tend to think that unless a name is actively causing a problem, or conflicting with some other naming scheme we've been using it's a low priority for change. Churn is more detrimental to downstream users than a less than perfect name.</p>
</blockquote>
<p>I've been impacted by both sides of this.  Churn is rough.  Similarly, inconsistent and undiscoverable names are also rough.  I recently ran into this with <code>nom</code> where I didn't know features existed and did things in very round about ways because the naming was bad, inconsistent, and the docs didn't help towards discoverablity (I've been creating issues and prepping PRs to help improve this)</p>
<hr />
<p>For v3, probably my biggest care about is if we started some renames and, if so, is it in a polished enough state or should we change it one way or the other.  Anything else I can see pushing off to a later release.   I guess I'd also throw in &quot;having an API style guide&quot; so new features are more likely to be right from the beginning.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-10-04 16:43</div>
            <div class="timeline-body"><p>~~One rename we should do for v3 is make <code>App::generate_usage</code> (a new function) consistent with <code>App::render_*</code> (also new)~~</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2883.html">clap-rs/clap#2883</a> on 2021-10-15 14:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-10-16 21:04</div>
            <div class="timeline-body"><p>Based on kbknapp's post, I recommend we wrap this up with the following renames:</p>
<ul>
<li><code>HelpRequired</code> -&gt; <code>AboutExpected</code>: using the <code>.expect</code> verbiage to distance  this from the word &quot;require&quot; which has a strong runtime connotation to users and we've rena med <code>Arg::help</code> to <code>Arg::about</code> (which personally I dislike because I prefer the naming consistency than perfect accuracy for finding this in docs)</li>
<li><code>AllowLeadingHyphen</code>: rename the Arg version back to this.  This is more accurate than &quot;Hyphen values&quot; in my mind</li>
<li><code>SubcmmandsNegateReqs</code> -&gt; <code>SubcommandNegateRequires</code></li>
<li><code>AllArgsOverrideSelf</code> -&gt; <code>ArgsOverrideSelf</code> (<code>all</code> is redundant, this is set on the app)</li>
<li><code>mut_arg</code> -&gt; <code>arg_mut</code> (<code>_mut</code> should be a suffix), new this release</li>
</ul>
<p>If I were to prioritize this, I would say</p>
<ul>
<li><code>AllowLeadingHyphen</code>: rename the Arg version back to this.  This is more accurate than &quot;Hyphen values&quot; in my mind and is the less disruptive route for clap2 users</li>
<li><code>mut_arg</code> -&gt; <code>arg_mut</code> (<code>_mut</code> should be a suffix, we should clarify this is a get and not set), new this release</li>
</ul>
<p>If we keep with NounVerb, there are other renames we can do to be more consistent with that but people have already been living with it, they can live with it a little longer.</p>
<p>I did not see any other renames that I would undo because of the background / preference towards Setting::NounVerb</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2021-11-03 02:04</div>
            <div class="timeline-body"><p>Another thought on <code>AllowLeadingHyphen</code> vs <code>AllowHyphenValues</code> is https://github.com/clap-rs/clap/issues/1210 which, in the discussion, includes supporting alternative argument sigils, like Windows style <code>/</code>.  I've not dug into the code to confirm this but I wonder if we can take inspiration from <code>SubcommandPrecedenceOverArg</code> on the naming, like <code>ValuePrecedenceOverArg</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/16.html">epage/clapng#16</a> on 2021-11-18 17:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../epage/clapng/issues/167.html">epage/clapng#167</a> on 2021-12-06 20:18</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-12-07 02:59</div>
            <div class="timeline-body"><p>Proposing to punt this to v4 to get 3.0.0-rc.0 out this week.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-12-07 17:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/3075.html">clap-rs/clap#3075</a> on 2021-12-07 21:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:07 UTC
    </footer>
</body>
</html>
