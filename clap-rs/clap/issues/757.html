<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indentation of App.about() and other App messages - clap-rs/clap #757</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Indentation of App.about() and other App messages</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/757">#757</a>
        opened by <a href="https://github.com/mandeep">@mandeep</a>
        on 2016-11-25 06:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mandeep">@mandeep</a></div>
            <div class="timeline-body">Rust Version
<ul>
<li>rustc 1.11.0 (9b21dcd6a 2016-08-15)</li>
</ul>
Affected Version of clap
<ul>
<li>version = &quot;2.19.0&quot;</li>
</ul>
Expected Behavior Summary
<p>When using methods of App such as about(), before_help(), or after_help(), if the messages
contained in the methods span multiple lines they will not be indented correctly when printed in
terminal.</p>
Actual Behavior Summary
<p>The messages in these methods should be indented properly when spanning over multiple lines.</p>
Steps to Reproduce the issue
<p>See below</p>
Sample Code or Link to Sample Code
<p>Example:</p>
<pre><code>App::new(&quot;Amortization&quot;)
                        .version(&quot;0.1.0&quot;)
                        .author(&quot;Mandeep &lt;info@mandeep.xyz&gt;&quot;)
                        .about(
                            &quot;Amortization requires the borrowed amount of the loan,
                            interest rate of the loan, length of the loan in years,
                            and the total number of payments made annually.

                            Example usage: amortization 500000 4 7 12

                            The resulting amortization schedule will print to terminal.&quot;)
</code></pre>
<p>Results in the following when printed in terminal:</p>
<pre><code>Amortization requires the borrowed amount of the loan,
                            interest rate of the loan, length of the loan in years,
                            and the total number of payments made annually.

                            Example usage: amortization 500000 4 7 12

                            The resulting amortization schedule will print to terminal.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-11-26 20:52</div>
            <div class="timeline-body"><p>This has to do with the way Rust handles string literals. The string literal contains all the newlines and tabs/spaces you had to input while typing. This is why you&#x27;ll see most people unindent their string literals like so:</p>
<pre><code>    App:;new(&quot;Amortization&quot;)
        .version(&quot;1.1&quot;)
        .about(
&quot;Amortization requires the borrowed amount of the loan,
interest rate of the loan, length of the loan in years,
and the total number of payments made annually.

Example usage: amortization 500000 4 7 12

The resulting amortization schedule will print to terminal.&quot;)
</code></pre>
<p>Or use <code>static</code> strings.</p>
<pre><code>static AMORTIZATION_ABOUT: &amp;&#x27;static str = 
&quot;Amortization requires the borrowed amount of the loan,
interest rate of the loan, length of the loan in years,
and the total number of payments made annually.

Example usage: amortization 500000 4 7 12

The resulting amortization schedule will print to terminal.
&quot;;

fn main() {
    App::new(&quot;Amortization&quot;)
        .version(&quot;1.0&quot;)
        .about(AMORTIZATION_ABOUT);
}
</code></pre>
<p>Also note that those newlines are all hard newlines, meaning <code>clap</code> can&#x27;t wrap intelligently at the terminal width. Sometimes this is desireable though, such as if you&#x27;d like to have all your line wraps at a specific length. But it&#x27;s important to know that if you <em>don&#x27;t</em> specifically want that, and you want <code>clap</code> to wrap at the terminal width, you have to escape your newlines like this (it&#x27;s the same whether you use <code>static</code> variables or string literals):</p>
<pre><code>static AMORTIZATION_ABOUT: &amp;&#x27;static str = 
&quot;Amortization requires the borrowed amount of the loan, \
interest rate of the loan, length of the loan in years, \
and the total number of payments made annually. \

Example usage: amortization 500000 4 7 12 

The resulting amortization schedule will print to terminal.
&quot;;

fn main() {
    App::new(&quot;Amortization&quot;)
        .version(&quot;1.0&quot;)
        .about(AMORTIZATION_ABOUT);
}
</code></pre>
<p>Unfortunately, this isn&#x27;t something <code>clap</code> could easily fix since it&#x27;s handled at the Rust level. I&#x27;m going to close this, but please feel free to let me know if you have other ideas ðŸ˜‰</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-11-26 20:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: RFC / question</span> added by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-11-26 20:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mandeep">@mandeep</a> on 2016-11-27 00:32</div>
            <div class="timeline-body"><p>I&#x27;m currently using the first example which is a little unpleasant to read. In the clap-rs docs, the help() method shows multi-line indented text. Is there something different about this method?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-11-27 00:56</div>
            <div class="timeline-body"><p>Which page in the docs?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mandeep">@mandeep</a> on 2016-11-27 01:24</div>
            <div class="timeline-body"><p>Sorry I forgot the link in the previous post:
https://docs.rs/clap/2.19.0/clap/struct.App.html#examples-10</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-11-27 01:35</div>
            <div class="timeline-body"><p>Ah yeah in that case I used the escaping newlines, notice all the <code>\</code>s at the end of the lines. When you escape the newline in a string literal Rust also escapes all the whitespace leading up to the first printed character.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mandeep">@mandeep</a> on 2016-11-27 01:42</div>
            <div class="timeline-body"><p>Oops, I didn&#x27;t even notice. Thanks for letting me know about that!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2016-11-27 01:57</div>
            <div class="timeline-body"><p>No problem :+1:</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:56:39 UTC
    </footer>
</body>
</html>
