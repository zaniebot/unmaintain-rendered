<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add the ability to add alternative names for subcommand variants with `#[clap]` attribute - clap-rs/clap #3639</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Add the ability to add alternative names for subcommand variants with `#[clap]` attribute</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/3639">#3639</a>
        opened by <a href="https://github.com/mitchmindtree">@mitchmindtree</a>
        on 2022-04-18 08:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/mitchmindtree">@mitchmindtree</a> on 2022-04-18 08:51</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Clap Version</h3>
<p>3.1.9</p>
<h3>Describe your use case</h3>
<p>It would be nice if we could add alternative names for subcommands.</p>
<p>E.g. a <code>Build(BuildCmd)</code> command for cargo might offer:</p>
<pre><code>cargo build
</code></pre>
<p>It would be nice if we could easily add shorthand aliases for this command. E.g.</p>
<pre><code>cargo b
</code></pre>
<p>I believe this is currently possible for options, but I didn't come across a solution for subcommands.</p>
<p>Currently, the only solution I'm aware of for aliasing subcommands is to add further variants, e.g.</p>
<pre><code class="language-rust">    Build(BuildCmd),
    B(BuildCmd),
</code></pre>
<p>however I think we run into duplicated help docs here.</p>
<h3>Describe the solution you'd like</h3>
<p>Perhaps something along the lines of</p>
<pre><code class="language-rust">    #[clap(alias = &quot;b&quot;)]
    Build
</code></pre>
<p>Or something like:</p>
<pre><code class="language-rust">    #[clap(short)]
    Build
</code></pre>
<p>or</p>
<pre><code class="language-rust">    #[clap(short = &quot;b&quot;)]
</code></pre>
<p>By having a dedicated macro, we could generate dedicated documentation that describes the command is an alias or shorthand for the longer form.</p>
<h3>Alternatives, if applicable</h3>
<p><em>No response</em></p>
<h3>Additional Context</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @mitchmindtree on 2022-04-18 08:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../FuelLabs/sway/pulls/1285.html">FuelLabs/sway#1285</a> on 2022-04-18 08:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-04-18 12:10</div>
            <div class="timeline-body"><p>On the derive-reference, we explain under <a href="https://github.com/clap-rs/clap/blob/v3.1.9/examples/derive_ref/README.md#command-attributes">&quot;Raw attributes&quot; that any <code>Command</code> builder method can be used as an attribute</a>.</p>
<p>If you then go over to <a href="https://docs.rs/clap/latest/clap/type.Command.html"><code>Command</code></a>, you'll see a link for subcommand settings, scroll down, and you'll see we have an <a href="https://docs.rs/clap/latest/clap/struct.App.html#method.alias">alias</a> method.</p>
<p>Both of these combined mean you can do</p>
<pre><code class="language-rust">    #[clap(alias = &quot;b&quot;)]
    Build
</code></pre>
<p>though that doesn't show up in the <code>help</code> by default.  For that, you are looking for</p>
<pre><code class="language-rust">    #[clap(visible_alias = &quot;b&quot;)]
    Build
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mitchmindtree">@mitchmindtree</a> on 2022-04-18 12:35</div>
            <div class="timeline-body"><p>Ahh thanks for the quick response, and apologies for the oversight! Hopefully this issue at leasts helps another clap wanderer in the future.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @mitchmindtree on 2022-04-18 12:35</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:34 UTC
    </footer>
</body>
</html>
