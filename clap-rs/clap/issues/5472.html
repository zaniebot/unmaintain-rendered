<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No clap_derive for latest clap - clap-rs/clap #5472</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No clap_derive for latest clap</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/5472">#5472</a>
        opened by <a href="https://github.com/Cthutu">@Cthutu</a>
        on 2024-04-23 12:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/Cthutu">@Cthutu</a> on 2024-04-23 12:55</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Rust Version</h3>
<p>rustc 1.77.2</p>
<h3>Clap Version</h3>
<p>4.5.4</p>
<h3>Minimal reproducible code</h3>
<pre><code class="language-rust">fn main() {}
</code></pre>
<h3>Steps to reproduce the bug with the above code</h3>
<p>Add clap using <code>cargo add clap -F derive</code>.</p>
<h3>Actual Behaviour</h3>
<pre><code>error: failed to select a version for the requirement `clap_derive = &quot;=4.5.4&quot;`
candidate versions found which didn't match: 4.4.7, 4.4.2, 4.4.0, ...
location searched: crates.io index
required by package `clap v4.5.4`
    ... which satisfies dependency `clap = &quot;^4.5.4&quot;` (locked to 4.5.4) of package `mchat v0.1.0 (C:\Users\Matt17\mud\mchat)`
if you are looking for the prerelease package it needs to be specified explicitly
    clap_derive = { version = &quot;4.0.0-rc.1&quot; }
perhaps a crate was updated and forgotten to be re-vendored?
</code></pre>
<h3>Expected Behaviour</h3>
<p>Derive feature should be added without error.</p>
<h3>Additional Context</h3>
<p><em>No response</em></p>
<h3>Debug Output</h3>
<p>Can't compile clap.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-bug</span> added by @Cthutu on 2024-04-23 12:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Cthutu">@Cthutu</a> on 2024-04-23 13:36</div>
            <div class="timeline-body"><p>By running <code>cargo update</code>, it seemed to fix itself.  Not sure if it is a local issue or not.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Cthutu on 2024-04-23 13:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2024-04-23 14:00</div>
            <div class="timeline-body"><p>Also tried those reproduction steps and they didn't work for me.  Sometimes cargo can get into weird states when multiple dependencies are present.  Were those your actual steps or was this only on an existing project?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/5931.html">clap-rs/clap#5931</a> on 2025-02-26 08:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:35:35 UTC
    </footer>
</body>
</html>
