<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add repository / homepage URL to `help_template` keys - clap-rs/clap #4963</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>Add repository / homepage URL to `help_template` keys</h1>

    <div class="meta">
        <span class="state state-open">Open</span>
        <a href="https://github.com/clap-rs/clap/issues/4963">#4963</a>
        opened by <a href="https://github.com/ajeetdsouza">@ajeetdsouza</a>
        on 2023-06-10 15:02
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/ajeetdsouza">@ajeetdsouza</a> on 2023-06-10 15:02</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Clap Version</h3>
<p>4.3.2</p>
<h3>Describe your use case</h3>
<p>It would be great if I could add the application homepage URL to the help page via a template key, eg.:</p>
<pre><code>{before-help}&lt;bold&gt;&lt;underline&gt;{name} {version}&lt;/underline&gt;&lt;/bold&gt;
{author}
{repository}

...
</code></pre>
<p>An example - <code>ripgrep</code> uses the following format for the start of the help page:</p>
<pre><code>ripgrep 13.0.0
Andrew Gallant &lt;jamslam@gmail.com&gt;

ripgrep (rg) recursively searches the current directory for a regex pattern.
By default, ripgrep will respect gitignore rules and automatically skip hidden
files/directories and binary files.

Use -h for short descriptions and --help for more details.

Project home page: https://github.com/BurntSushi/ripgrep
</code></pre>
<h3>Describe the solution you'd like</h3>
<p>A key for <code>{homepage}</code> and <code>{repository}</code> would fix this.</p>
<h3>Alternatives, if applicable</h3>
<p><em>No response</em></p>
<h3>Additional Context</h3>
<p>I want to use the repository variable in <a href="https://github.com/ajeetdsouza/zoxide">zoxide</a>'s help page, so that users can report issues more easily.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @ajeetdsouza on 2023-06-10 15:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-06-10 15:39</div>
            <div class="timeline-body"><p>clap can't look this information up directly.  <code>CARGO_PKG_REPOSITORY</code> and <code>CARGO_PKG_HOMEPAGE</code> would need to be looked up within your code and passed in.  Even with the derive API, we prefer to at least opt-in for inferred fields to be passed in (<code>#[command(name)]</code>).  We'd need to add a <code>Command::homepage</code> or something for users / the derive to pass this in that would only exist for the sake of the help template which to me is questionable value for the cost that everyone would be paying.</p>
<p>However, we are (slowly) working on a plugin system to clap. The easiest example is that clap should know nothing about <code>ValueHint</code> but instead it should be in <code>clap_complete</code> but we allow users to attach state like that to an <code>Arg</code> without caring what it is.  So a user could set <code>clap_complete::ValueHint</code> and <code>clap_complete</code> can read it when needed.</p>
<p>We could have help-template specific plugins that would make it so only the people using them would be paying the cost for them.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:34 UTC
    </footer>
</body>
</html>
