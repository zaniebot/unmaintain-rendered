```yaml
number: 5502
title: "[clap-completions] impl Generator for dyn Generator"
type: issue
state: open
author: lolbinarycat
labels:
  - C-enhancement
  - A-completion
assignees: []
created_at: 2024-05-23T19:50:56Z
updated_at: 2024-06-07T00:34:14Z
url: https://github.com/clap-rs/clap/issues/5502
synced_at: 2026-01-10T01:57:49Z
```

# [clap-completions] impl Generator for dyn Generator

---

_Issue opened by @lolbinarycat on 2024-05-23 19:50_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

4.5.4

### Describe your use case

being able to easily decide which shell to generate completions for at runtime without limiting yourself to only implementations of Generator found in clap-complete.

### Describe the solution you'd like

add two new blanket implementations of Generator, one for `&dyn Generator` and one for `Box<dyn Generator>`.

### Alternatives, if applicable

`clap_complete::Shell`: can't represent generators defined outside of clap-complete.

### Additional Context

Generator is already object-safe, so this should be an easy change.

---

_Label `C-enhancement` added by @lolbinarycat on 2024-05-23 19:50_

---

_Label `A-completion` added by @epage on 2024-05-23 20:03_

---

_Comment by @epage on 2024-06-06 20:47_

Could you provide a more concrete example of what you are trying to accomplish?

---

_Comment by @lolbinarycat on 2024-06-07 00:34_

having an array of generators, including those provided by other crates.

---
