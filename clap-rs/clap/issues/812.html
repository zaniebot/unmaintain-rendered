<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easier App building with a DSL macro - clap-rs/clap #812</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Easier App building with a DSL macro</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/812">#812</a>
        opened by <a href="https://github.com/theduke">@theduke</a>
        on 2017-01-08 12:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/theduke">@theduke</a></div>
            <div class="timeline-body"><p>Would you be open to a pull request that adds a DSL (domain specific language) like macro that allows even smoother building of an app?</p>
<p>An example duplicating the app from the docs:</p>
<pre><code class="language-rust">let my_app = build_app! {
    App(&quot;My Syper Program&quot;) {
        author &quot;Kevin K. &lt;kbknapp@gmail.com&gt;&quot;,
        about &quot;Does awesome things&quot;,

        Arg(&quot;config&quot;) {
            short &quot;c&quot;,
            long &quot;config&quot;,
            value_name &quot;FILE&quot;,
            help &quot;Sets a custom config file&quot;,
            takes_value,
        }

        Arg(&quot;INPUT&quot;) {
            help &quot;Sets the input file to use&quot;,
            required,
            index 1,
        }

        Arg(&quot;v&quot;) {
            short &quot;v&quot;,
            multiple,
            help &quot;Sets the level of verbosity&quot;,
        }

        subcommand(&quot;test&quot;) {
            about &quot;controls testing features&quot;,
            version &quot;1.3&quot;,
            author &quot;Someone E. &lt;someone_else@other.com&gt;&quot;,
            short &quot;d&quot;,
            help &quot;Print debug info verbosely&quot;,
        }
    }
};
</code></pre>
<p>In my opinion, that's a lot more convenient and performant than using a yaml file or usage strings.</p>
<p>This can be implemented pretty easily with a &quot;token tree muncher&quot; macro. The settings would not have to be in any specific order.</p>
<p>The only requirement is the terminating COMMA after individual settings that are not wrapped in some delimiter like Arg {}, but that's still pretty nice.</p>
<p>If you like this at all I'll write up a PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theduke">@theduke</a> on 2017-01-08 16:28</div>
            <div class="timeline-body"><p>Whoops.</p>
<p><code>clap_app!</code>...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @theduke on 2017-01-08 16:28</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:46:48 UTC
    </footer>
</body>
</html>
