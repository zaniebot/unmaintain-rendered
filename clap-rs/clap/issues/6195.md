```yaml
number: 6195
title: Incorrect error message when using the help subcommand with an argument
type: issue
state: open
author: Korne127
labels:
  - C-bug
  - S-triage
assignees: []
created_at: 2025-12-11T23:53:24Z
updated_at: 2025-12-12T13:52:18Z
url: https://github.com/clap-rs/clap/issues/6195
synced_at: 2026-01-10T01:57:50Z
```

# Incorrect error message when using the help subcommand with an argument

---

_Issue opened by @Korne127 on 2025-12-11 23:53_

### Please complete the following tasks

- [x] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [x] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Rust Version

rustc 1.91.1 (ed61e7d7e 2025-11-07)

### Clap Version

4.5.53

### Minimal reproducible code

```rust
#[derive(Parser)]
#[command()]
enum CommandExample {
	TestCommand
}

pub(crate) fn main() {
	CommandExample::parse();
}
```


### Steps to reproduce the bug with the above code

cargo run -- help abc

### Actual Behaviour

error: unrecognized subcommand 'abc'

Usage: cli <COMMAND>


### Expected Behaviour

Either displaying the normal help command like `cargo run -- help` would do:

> Usage: cli <COMMAND>
> 
> Commands:
>   test-command  
>   help          Print this message or the help of the given subcommand(s)
> 
> Options:
>   -h, --help  Print help
> 

Or displaying an accurate error message that the argument is unexpected like `cargo run -- test-command abc` would do:

> error: unexpected argument 'abc' found
> 
> Usage: cli help


### Additional Context

The given error message is inaccurate as this abc isn't a subcommand but an argument for the help subcommand (that shouldn't exist). I assume this is an edge case that hasn't been tested.

### Debug Output

-

---

_Label `C-bug` added by @Korne127 on 2025-12-11 23:53_

---

_Label `S-triage` added by @Korne127 on 2025-12-11 23:53_

---

_Comment by @epage on 2025-12-12 13:52_

So I recreated your example
```rust
#!/usr/env nargo
---
[dependencies]
clap = { version = "4", features = ["derive"] }
---

use clap::Parser;

#[derive(Parser)]
#[command()]
enum CommandExample {
    TestCommand,
}

pub(crate) fn main() {
    CommandExample::parse();
}
```
And ran
```console
$ nargo clap-6195.rs help help
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.07s
     Running `/home/epage/.cargo/build/7c/e90215a74bc230/target/debug/clap-6195 help help`
Print this message or the help of the given subcommand(s)

Usage: clap-6195.rs help [COMMAND]...

Arguments:
  [COMMAND]...  Print help for the subcommand(s)
```
It reports that anything passed to `help` is a subcommand.

Is there a reason you expected it to be an argument and not a subcommand?  And a reason that persisted even after it said it was a subcommand?

---
