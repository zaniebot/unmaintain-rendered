<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`clap_app!` documentation example is not accurate. - clap-rs/clap #2736</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>clap_app!</code> documentation example is not accurate.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2736">#2736</a>
        opened by <a href="https://github.com/Shaddy">@Shaddy</a>
        on 2021-08-25 15:46
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Shaddy">@Shaddy</a></div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the existing issues</li>
</ul>
<h3>Clap Version</h3>
<p>2.33.3</p>
<h3>Where?</h3>
<p>https://docs.rs/clap/2.33.3/clap/#quick-example</p>
<h3>What's wrong?</h3>
<p>The documentation uses an example using three different clap app (default/hybrid, YAML, and macro) however, the <code>clap_app!</code> doesn't produce the example output.</p>
<pre><code>OPTIONS:
    -c, --config &lt;FILE&gt;    Sets a custom config file
</code></pre>
<p>This option doesn't contain <code>&lt;FILE&gt;</code> but <code>&lt;CONFIG&gt;</code> because the macro version doesn't define a <code>value_name</code>.</p>
<p>Also, <code>-d</code> flag is missing.</p>
<h3>How to fix?</h3>
<p>Use</p>
<pre><code>(@arg config: -c --config +takes_value value_name(&quot;FILE&quot;) &quot;Sets a custom config file&quot;)
</code></pre>
<p>Instead of</p>
<pre><code>(@arg CONFIG: -c --config +takes_value &quot;Sets a custom config file&quot;)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: docs</span> added by @Shaddy on 2021-08-25 15:46</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Shaddy">@Shaddy</a> on 2021-08-25 16:11</div>
            <div class="timeline-body"><p>Actually I just realize that this is even better:</p>
<pre><code>(@arg config: -c --config &lt;FILE&gt; +takes_value &quot;Sets a custom config file&quot;)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Shaddy">@Shaddy</a> on 2021-08-26 11:16</div>
            <div class="timeline-body"><p>Also, doesn't <code>value_name / &lt;VALUE_NAME&gt;</code> make <code>takes_value(true)</code> redundant?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Shaddy">@Shaddy</a> on 2021-09-02 12:04</div>
            <div class="timeline-body"><p>Well, using <code>&lt;FILE&gt;</code> is not exactly the same as <code>value_name(&quot;FILE&quot;)</code>, the first implies +required (surprisingly) while the latter doesn't.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-09-04 09:34</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:48:03 UTC
    </footer>
</body>
</html>
