```yaml
number: 424
title: clap truncates filenames with commas in them
type: issue
state: closed
author: ketsuban
labels: []
assignees: []
created_at: 2016-02-13T16:27:52Z
updated_at: 2018-08-02T03:29:48Z
url: https://github.com/clap-rs/clap/issues/424
synced_at: 2026-01-10T01:57:40Z
```

# clap truncates filenames with commas in them

---

_Issue opened by @ketsuban on 2016-02-13 16:27_

I recently received the nice surprise of [a pull request contributing an improved CLI to my project](https://github.com/Ketsuban/rustboyadvance/commit/16dca1e2233b0f84dd7d2575796f17329996f830) using this crate. When I went to try this out having merged it, I was met with a thread panic. Some `println!` debugging led me to this discovery.

```
thomas@klinklang:~/Documents/Projects/rustboyadvance$ target/debug/rustboyadvance "artifacts/Pokemon - Emerald Version (USA, Europe).gba"
ROM file name: "artifacts/Pokemon - Emerald Version (USA"
thread '<main>' panicked at 'called `Result::unwrap()` on an `Err` value: Error { repr: Os { code: 2, message: "No such file or directory" } }', ../src/libcore/result.rs:741
```

It appears `clap` is truncating my filename. I've tried escaping the comma, but that just adds a backslash to the incorrectly-truncated path.


---

_Label `T: bug` added by @sru on 2016-02-13 17:09_

---

_Label `C: args` added by @sru on 2016-02-13 17:09_

---

_Label `C: parsing` added by @sru on 2016-02-13 17:09_

---

_Comment by @kbknapp on 2016-02-14 08:53_

Thanks for taking the time to file this! I'll take a look and post back with what I find!


---

_Label `P2: need to have` added by @kbknapp on 2016-02-14 08:54_

---

_Label `W: 2.x` added by @kbknapp on 2016-02-14 08:54_

---

_Comment by @kbknapp on 2016-02-14 08:58_

Ah ok so I found it, and can't believe I didn't think about it first. The reason is `clap` uses a comma by default to delimit values for when people do things like `--option=val1,val2,val3`

In order to turn this off, you just need to use `Arg::use_delimiter(false)` :wink: 


---

_Label `T: RFC / question` added by @kbknapp on 2016-02-14 08:58_

---

_Label `C: args` removed by @kbknapp on 2016-02-14 08:58_

---

_Label `C: parsing` removed by @kbknapp on 2016-02-14 08:58_

---

_Label `P2: need to have` removed by @kbknapp on 2016-02-14 08:58_

---

_Label `T: bug` removed by @kbknapp on 2016-02-14 08:58_

---

_Label `W: 2.x` removed by @kbknapp on 2016-02-14 08:58_

---

_Comment by @ketsuban on 2016-02-14 09:11_

Awesome, thanks very much.


---

_Closed by @ketsuban on 2016-02-14 09:11_

---
