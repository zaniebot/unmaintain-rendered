<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>confusing documentation on parsing multiple subcommands (minor issue) - clap-rs/clap #1434</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../index.html">Back to index</a>
    </div>

    <h1>confusing documentation on parsing multiple subcommands (minor issue)</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/1434">#1434</a>
        opened by <a href="https://github.com/0x900C5649">@0x900C5649</a>
        on 2019-03-20 12:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/0x900C5649">@0x900C5649</a> on 2019-03-20 12:14</div>
            <div class="timeline-body"><p>I am working on a personal project for which I would like to parse a list of subcommands (together with their arguments).
So something like:</p>
<pre><code class="language-bash">./myprogram generatelist --size 12 storelist mylist.txt
</code></pre>
<p>I wanted this to give me two subcommands (generatelist and storelist) with their arguments.</p>
<p>I thought this is possible because the [documentation] (https://docs.rs/clap/2.32.0/clap/enum.AppSettings.html#variant.ArgsNegateSubcommands)  on <code>AppSettings::ArgsNegateSubcommands</code> states:</p>
<blockquote>
<p>By default <code>clap</code> allows arguments between subcommands such as <code>&lt;cmd&gt; [cmd_args] &lt;cmd2&gt; [cmd2_args] &lt;cmd3&gt; [cmd3_args]</code></p>
</blockquote>
<p>As I couldn't make my program work I checked for more sources and found</p>
<ul>
<li><p>#84 (which is marked as <code>W: wont do</code>)</p>
</li>
<li><p>The comment in <code>clap/examples/20_subcommands.rs</code>:</p>
<blockquote>
<pre><code class="language-rust">// Notice only one command per &quot;level&quot; may be used. You could not, for example, do:
//
// $ git clone url push origin path
</code></pre>
</blockquote>
<p>Both basically state, that what I wanted to do is not possible.</p>
</li>
</ul>
<p>So my best guess is, that the documentation on <code>AppSettings::ArgsNegateSubcommands</code> assumes <code>&lt;cmd3&gt;</code> to be a subcommand of <code>&lt;cmd2&gt;</code>, which should be a subcommand of <code>&lt;cmd&gt;</code></p>
<h3>Possible fix</h3>
<p>The simplest solution to avoid this confusion would probably be to rename the subcommands in the documentation to <code>&lt;cmd&gt;</code>, <code>&lt;subcmd&gt;</code> and <code>&lt;subsubcommand&gt;</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ithinuel">@ithinuel</a> on 2019-03-29 20:57</div>
            <div class="timeline-body"><p>I had the exact same &quot;adventure&quot; than you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: docs</span> added by @CreepySkeleton on 2020-02-01 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @CreepySkeleton on 2020-02-01 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by @CreepySkeleton on 2020-02-01 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: enhancement</span> added by @CreepySkeleton on 2020-02-01 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> added by @CreepySkeleton on 2020-02-01 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @CreepySkeleton on 2020-02-01 14:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-05-26 03:17</div>
            <div class="timeline-body"><p>The actual issue is #2222 but leaving this issue open for docs fix.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 3.x</span> removed by @pksunkara on 2021-06-21 20:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2685.html">clap-rs/clap#2685</a> on 2021-08-13 18:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @pksunkara on 2021-08-13 19:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:28:32 UTC
    </footer>
</body>
</html>
