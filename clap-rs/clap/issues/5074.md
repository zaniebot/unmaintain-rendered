```yaml
number: 5074
title: Avoid printing trailing whitespace in help output
type: issue
state: open
author: djc
labels:
  - C-enhancement
assignees: []
created_at: 2023-08-16T13:49:16Z
updated_at: 2023-08-16T14:04:12Z
url: https://github.com/clap-rs/clap/issues/5074
synced_at: 2026-01-10T01:57:48Z
```

# Avoid printing trailing whitespace in help output

---

_Issue opened by @djc on 2023-08-16 13:49_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

4.3.21

### Describe your use case

In the rustup project, we use the trycmd crate to make sure we don't regress help output. However, while [upgrading](https://github.com/rust-lang/rustup/pull/3444) clap from 3 to 4, I noticed that clap 4 seems to output trailing spaces in some cases:

<img width="503" alt="Screenshot 2023-08-16 at 15 46 14" src="https://github.com/clap-rs/clap/assets/158471/02f21365-1f13-44fc-9cc7-81b0399daa45">

<img width="306" alt="Screenshot 2023-08-16 at 15 46 30" src="https://github.com/clap-rs/clap/assets/158471/bcac7b91-4962-4054-814c-72f3654665e1">

Personally, I have configured VS Code to `files.trimTrailingWhitespace` which I believe is helpful in most cases. As such, it has proven to be challenging to fix up the trycmd snapshots.

### Describe the solution you'd like

Ideally I think clap should not output trailing whitespace.

### Alternatives, if applicable

Do nothing, I guess -- I suppose this is a niche concern.

### Additional Context

_No response_

---

_Label `C-enhancement` added by @djc on 2023-08-16 13:49_

---

_Comment by @epage on 2023-08-16 13:59_

So far I've not been too particular about trailing whitespace so long as it doesn't get styled because it can add a bit of bookkeeping (affecting binary size) for something most people won't see.

---
