<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Request : Add range validation for float types - clap-rs/clap #5245</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Feature Request : Add range validation for float types</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/5245">#5245</a>
        opened by <a href="https://github.com/RaulTrombin">@RaulTrombin</a>
        on 2023-12-04 12:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/RaulTrombin">@RaulTrombin</a></div>
            <div class="timeline-body">Please complete the following tasks
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
Clap Version
<p>4.4.6</p>
Describe your use case
<p>Actually value_parser! only have .range() setup for unsigned int and int types.
<a href="https://docs.rs/clap/latest/clap/struct.Arg.html#method.value_parser">value_parser</a></p>
Describe the solution you&#x27;d like
<p>Would like that clap validade some inputs like:</p>
<p>--set-frequency 300
Should not accept.</p>
<p>--set-frequency 0.1
Ok.</p>
<p>...
.value_parser(clap::value_parser!(f64).range(...200.0))
...</p>
Alternatives, if applicable
<p><em>No response</em></p>
Additional Context
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by <a href="https://github.com/RaulTrombin">@RaulTrombin</a> on 2023-12-04 12:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-12-04 15:31</div>
            <div class="timeline-body"><p>The built-in <code>range</code> is mostly to help give good error messages when dealing with smaller types like <code>u8</code> (we parse it as a <code>u64</code> and then range cap it to <code>u8</code>)</p>
<p>I&#x27;d very much be interested in seeing crates created explore additional value parsers. like https://docs.rs/clio/latest/clio/, and we can consider what might be worth moving into clap.  One reason to be cautious is that the more code we have (even if unused), the worse the impact on compile times.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/epage">@epage</a> on 2023-12-04 15:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-parsing</span> added by <a href="https://github.com/epage">@epage</a> on 2023-12-04 15:31</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/RaulTrombin">@RaulTrombin</a> on 2023-12-04 15:59</div>
            <div class="timeline-body"><p>@epage So the easiest way would be to create some special crate for fields validation with type, range and sets?
Then it could be enabled as a feature for clap or something like?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-12-04 16:07</div>
            <div class="timeline-body"><p>It wouldn&#x27;t be enabled as a feature of clap but could integrate with clap by just passing a value constructed from this other crate into clap</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 20:00:01 UTC
    </footer>
</body>
</html>
