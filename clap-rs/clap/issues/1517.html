<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building with rustc 1.36.0 emits deprecation warnings. - clap-rs/clap #1517</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Building with rustc 1.36.0 emits deprecation warnings.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/1517">#1517</a>
        opened by <a href="https://github.com/nicodemus26">@nicodemus26</a>
        on 2019-07-05 19:10
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nicodemus26">@nicodemus26</a></div>
            <div class="timeline-body">

Rust Version
<p>1.36.0</p>
Affected Version of clap
<p>v2.33.0</p>
Bug or Feature Request Summary
<p>Deprecation warnings when building examples, e.g. <code>cargo build --example 09_auto_version</code></p>
<pre><code>warning: use of deprecated item &#x27;bitflags::core::str::&lt;impl str&gt;::trim_left_matches&#x27;: superseded by `trim_start_matches`
  --&gt; src/app/parser.rs:90:19
   |
90 |         let c = s.trim_left_matches(|c| c == &#x27;-&#x27;)
   |                   ^^^^^^^^^^^^^^^^^ help: replace the use of the deprecated item: `trim_start_matches`
   |
   = note: #[warn(deprecated)] on by default

warning: use of deprecated item &#x27;bitflags::core::str::&lt;impl str&gt;::trim_left_matches&#x27;: superseded by `trim_start_matches`
  --&gt; src/app/parser.rs:98:19
   |
98 |         let c = s.trim_left_matches(|c| c == &#x27;-&#x27;)
   |                   ^^^^^^^^^^^^^^^^^ help: replace the use of the deprecated item: `trim_start_matches`

warning: use of deprecated item &#x27;bitflags::core::str::&lt;impl str&gt;::trim_left_matches&#x27;: superseded by `trim_start_matches`
   --&gt; src/args/arg.rs:332:35
    |
332 |         self.s.short = s.as_ref().trim_left_matches(|c| c == &#x27;-&#x27;).chars().nth(0);
    |                                   ^^^^^^^^^^^^^^^^^ help: replace the use of the deprecated item: `trim_start_matches`

warning: use of deprecated item &#x27;bitflags::core::str::&lt;impl str&gt;::trim_left_matches&#x27;: superseded by `trim_start_matches`
   --&gt; src/args/arg.rs:372:30
    |
372 |         self.s.long = Some(l.trim_left_matches(|c| c == &#x27;-&#x27;));
    |                              ^^^^^^^^^^^^^^^^^ help: replace the use of the deprecated item: `trim_start_matches`

</code></pre>
Expected Behavior Summary
<p>No deprecation warnings</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a>clap-rs/clap#1552</a> on 2019-09-26 19:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/cljoly">@cljoly</a> on 2019-10-20 11:08</div>
            <div class="timeline-body"><p>When I build both <code>master</code> (daef001bbf32aeb29365832fa9c2fa327d8b1600) and <code>v3-master</code> (398b9dc6ccde0b8d43b023b215e0996134fd4718), I donâ€™t get any warning. Maybe this issue has been solved and should be closed?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Dylan-DPC-zz">@Dylan-DPC-zz</a> on 2019-10-20 11:09</div>
            <div class="timeline-body"><p>Yeah we fixed it. thanks</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/Dylan-DPC-zz">@Dylan-DPC-zz</a> on 2019-10-20 11:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/faern">@faern</a> on 2019-12-10 15:12</div>
            <div class="timeline-body"><p>Can there be a release with this fix? Since it&#x27;s a macro the warning propagates to anyone using <code>clap</code>. It&#x27;s been a persistent warning for quite a while now.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:26 UTC
    </footer>
</body>
</html>
