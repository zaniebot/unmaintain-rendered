<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DisableColoredHelp and less decorated formatting in general from a user side - clap-rs/clap #3780</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>DisableColoredHelp and less decorated formatting in general from a user side</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3780">#3780</a>
        opened by <a href="https://github.com/pacak">@pacak</a>
        on 2022-06-02 01:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/pacak">@pacak</a> on 2022-06-02 01:30</div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Clap Version</h3>
<p>not using one myself</p>
<h3>Describe your use case</h3>
<p>Some of the existing tools use clap to parse command line options, at some point clap started using fancier formatting: colors and extra empty lines between commands. Colors used by clap look ugly in my terminal color scheme and extra empty lines make it so options that would otherwise fit on a single line easily take 2-3 pages making it harder to use.</p>
<h3>Describe the solution you'd like</h3>
<p>An environment variable that I can set globally in order to achieve <code>DisableColoredHelp</code>-like effects. And ideally a formatting like this, but without colors.  https://github.com/clap-rs/clap/discussions/2906#discussioncomment-1646705</p>
<p>Bad since it uses 1/5 of the horizontal space which I have plenty and 3x as much vertical space as needed and this causes whole help to take up several pages making it annoying to write a command</p>
<pre><code>        --locked
            Require Cargo.lock is up to date

        --offline
            Run without accessing the network

</code></pre>
<p>Good, uses 3x less vertical space, uses about as much horizontal space as the previous setup, still well within 80 columns</p>
<pre><code>        --locked       Require Cargo.lock is up to date
        --offline      Run without accessing the network
</code></pre>
<h3>Alternatives, if applicable</h3>
<p>NO_COLOR environment variable, setting it globally is not an option since I do want to keep it enabled.</p>
<h3>Additional Context</h3>
<p>I'm using a slightly modified color scheme and a slightly larger than usual font size.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @pacak on 2022-06-02 01:30</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-06-02 14:29</div>
            <div class="timeline-body"><p>Colored help was discussed a lot in https://github.com/clap-rs/clap/discussions/2906.  That links to several issues for improving it.</p>
<p>More context is needed to know why the help is overflowing to the next line.  The intention is to give more room for when it overflows the line.</p>
<p>We offer control over both for application authors.  I'd also recommend reaching out to them if you have concerns over how their applications are configured.</p>
<p>This issue is also actually two issues.</p>
<p>I'm going to go ahead and close this.  If you want to open an issue about this in the future, please remember to</p>
<ul>
<li>Be specific and only include one topic per issue</li>
<li>Please provide more context (application, full output, how its configured clap, etc)</li>
<li>Please provide more constructive feedback than something being &quot;ugly&quot;.  Why is it ugly?  Is there a way to make it not ugly?  etc</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-06-02 14:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pacak">@pacak</a> on 2022-06-02 22:35</div>
            <div class="timeline-body"><blockquote>
<p>This issue is also actually two issues.</p>
</blockquote>
<p>Hmm... Both are cosmetic things, both related to something mostly end user must deal with and don't have any control of. But if I must pick - colors are more important to fix.</p>
<blockquote>
<p>Colored help was discussed a lot in https://github.com/clap-rs/clap/discussions/2906.</p>
</blockquote>
<p>I saw it, went though everything: I even linked one of the comments myself, it doesn't offer any solutions to a problem I'm having. There are links but none of them talks from the end user point of view.</p>
<blockquote>
<p>We offer control over both for application authors. I'd also recommend reaching out to them if you have concerns over how their applications are configured.</p>
</blockquote>
<p>That's not really an option. In an extreme case I'm using them all and convincing everyone to get rid of the colors. Even if I succeed (which I won't) - this renders whole coloring machinery in clap useless. Some apps could be already dead with maintainers nowhere to be seen. There are some more realistic solutions including making private or public app fork (see ormolu/fourmolu in Haskell over ability to configure some things) or doing some shell script magic that would nuke the colors for the apps I do care about.</p>
<p>I just wanted to share a point of view of someone who actually needs to read the help to understand how to use something. Authors tend to know how the thing works and use it at most as a reference.</p>
<blockquote>
<p>Please provide more constructive feedback than something being &quot;ugly&quot;. Why is it ugly? Is there a way to make it not ugly? etc</p>
</blockquote>
<p>With my monitor/colorscheme/glasses/color perception I need to strain my eyes to read the green part of a screenshot I linked. I can add more screenshots but without glasses/eyes/color perception it won't help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../../crate-ci/cargo-release/issues/510.html">crate-ci/cargo-release#510</a> on 2022-08-08 01:32</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 01:35:01 UTC
    </footer>
</body>
</html>
