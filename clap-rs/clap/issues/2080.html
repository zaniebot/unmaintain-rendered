<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allow changing message for generated help subcommand - clap-rs/clap #2080</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Allow changing message for generated help subcommand</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/issues/2080">#2080</a>
        opened by <a href="https://github.com/casey">@casey</a>
        on 2020-08-17 08:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/casey">@casey</a> on 2020-08-17 08:17</div>
            <div class="timeline-body"><p>It would be nice if it were possible to change the help message for the Clap-provided <code>help</code> subcommand. For reference, the current text is &quot;Prints this message or the help of the given subcommand(s)&quot;.</p>
<p>Forked from #1640.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: new feature</span> added by @casey on 2020-08-17 08:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone "3.1" by @pksunkara on 2020-08-17 08:22</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">:money_with_wings: $5</span> added by @pksunkara on 2020-08-17 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: help message</span> added by @pksunkara on 2020-08-17 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">D: easy</span> added by @pksunkara on 2020-08-17 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @pksunkara on 2020-08-17 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> added by @pksunkara on 2020-08-17 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">Z: good first issue</span> added by @pksunkara on 2020-08-17 08:23</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P3: want to have</span> removed by @pksunkara on 2020-08-17 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P2: need to have</span> added by @pksunkara on 2020-08-17 08:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-08-17 08:29</div>
            <div class="timeline-body"><p>To close this:</p>
<p>We need the following 2 api's added to <code>App</code> along with tests</p>
<ul>
<li><code>global_help_about</code></li>
<li><code>help_about</code></li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-08-17 22:35</div>
            <div class="timeline-body"><p>A few remarks:</p>
<ul>
<li>The names must reflect the fact that the message is the thing being adjusted, not anything else.</li>
<li>The names must mention &quot;subcommand&quot;.</li>
</ul>
<p>I propose <code>global_help_subcommand_message</code> and <code>help_subcommand_message</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-08-18 04:32</div>
            <div class="timeline-body"><p>This also refers to the <code>about</code> value of the <code>help</code> and <code>version</code> args. Not only subcommands, which is the reason for my original name proposal. We have been using <code>about</code> for the help message almost everywhere. We shouldn't refer it to as <code>message</code>. We have to be consistent.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hbina">@hbina</a> on 2020-08-22 00:53</div>
            <div class="timeline-body"><p>Are you referring to these texts?</p>
<pre><code class="language-bash">hbina@hbinalapt:~/git/clap$ cargo run --example 01a_quick_example -- test --help
   Compiling clap v3.0.0-beta.1 (/home/hbina/git/clap)
    Finished dev [unoptimized + debuginfo] target(s) in 0.68s
     Running `target/debug/examples/01a_quick_example test --help`
01a_quick_example-test 
does testing things

USAGE:
    01a_quick_example &lt;output&gt; test [FLAGS]

FLAGS:
    -h, --help       Prints help information // &lt;---- this??
    -l, --list       lists test values
    -V, --version    Prints version information // &lt;--- and this?
</code></pre>
<p>Edit: Oh is this only relevant for clap 3.0+?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/casey">@casey</a> on 2020-08-22 01:27</div>
            <div class="timeline-body"><p>@hbina This is referring to the help subcommand text, not the help flag text. So the message that gets printed when you run <code>cmd help</code>, not <code>cmd --help</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hbina">@hbina</a> on 2020-08-22 03:39</div>
            <div class="timeline-body"><p>I have submitted a PR that should resolve this but the tests are failing and I don't know why.
From a visual check they appear to be the same, but I might be missing some hidden newlines/carriage return.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2093.html">clap-rs/clap#2093</a> on 2020-08-22 03:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-08-22 04:14</div>
            <div class="timeline-body"><p>Please rebases on master. We recently removed some extra trailing whitespace in help text.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-08-22 07:46</div>
            <div class="timeline-body"><p>Come to think of it, do we really need different methods for adjusting <code>--help</code> option message and <code>help</code> subcommand message? I'm almost 100% sure there's no case you'd want them to be different.</p>
<p>So, maybe just make <code>help_message</code> affect the <code>help</code> subcommand?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/casey">@casey</a> on 2020-08-22 08:28</div>
            <div class="timeline-body"><p>@CreepySkeleton For my purposes, that would be ideal. The message I set for the <code>--help</code> option is appropriate for the <code>help</code> subcommand.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-08-22 20:56</div>
            <div class="timeline-body"><p>Come on guys, that is why I proposed just one help_about in earlier comments.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CreepySkeleton">@CreepySkeleton</a> on 2020-08-23 11:41</div>
            <div class="timeline-body"><p>@pksunkara Ugh, right. It just wasn't spelled out what that APIs actually do and I assumed wrong.</p>
<p>I don't like the <code>help_about</code> name. I mean, imagine you aren't familiar with the project and trying to find the method that does the thing. <code>help_about</code> doesn't click anything in my brain ðŸ˜•</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-08-27 08:31</div>
            <div class="timeline-body"><p>Yeah, but we are calling the description of args/apps as <code>about</code> which is why I was proposing <code>_about</code>. Whatever we come up with should work with <code>version</code> too.</p>
<p><code>help_SUFFIX</code>
<code>global_help_SUFFIX</code>
<code>version_SUFFIX</code>
<code>global_version_SUFFIX</code></p>
<p>And we can't name it <code>help</code> because <code>help</code> is about the help arg/subcommand.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/2143.html">clap-rs/clap#2143</a> on 2020-09-24 21:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @bors[bot] on 2020-09-26 07:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2021-02-07 18:05</div>
            <div class="timeline-body"><p>I have thought about this more and removed the added <code>help_about</code> in favor of doing <code>app.mut_arg(&quot;help&quot;, |a| a.about(&quot;help info&quot;))</code>. Setting it once at the top level <code>App</code> should be enough.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../issues/2500.html">clap-rs/clap#2500</a> on 2021-05-26 19:25</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:07 UTC
    </footer>
</body>
</html>
