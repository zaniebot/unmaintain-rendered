<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unresolved Links in clap Crate Documentation - clap-rs/clap #5238</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Unresolved Links in clap Crate Documentation</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/5238">#5238</a>
        opened by <a href="https://github.com/lpnh">@lpnh</a>
        on 2023-12-02 13:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lpnh">@lpnh</a></div>
            <div class="timeline-body"><h2>Summary</h2>
<p>While working on a project that uses the <code>clap</code> crate, I encountered a few broken links in the documentation preview when hovering over the crate in my IDE. To investigate further, I cloned the repository and ran <code>cargo doc</code>, which revealed several unresolved link warnings.</p>
<h2>Steps to Reproduce</h2>
<p>Clone the <code>clap</code> repository.
Navigate to the <code>clap</code> directory.
Run <code>cargo doc</code>.
Observe the following warning messages indicating unresolved links:</p>
<pre><code>warning: unresolved link to `super::Arg::env`
   --&gt; clap_builder/src/builder/action.rs:344:68
    |
344 |     /// [`default_values`][super::Arg::default_values] and [`env`][super::Arg::env] may still be
    |                                                                    ^^^^^^^^^^^^^^^ the struct `Arg` has no field or associated item named `env`
    |
    = note: `#[warn(rustdoc::broken_intra_doc_links)]` on by default

warning: unresolved link to `crate::crate_name`
   --&gt; clap_builder/src/builder/command.rs:120:68
    |
120 |     /// See also [`command!`](crate::command!) and [`crate_name!`](crate::crate_name!).
    |                                                                    ^^^^^^^^^^^^^^^^^^ no item named `crate_name` in module `clap_builder`

warning: unresolved link to `crate_authors`
    --&gt; clap_builder/src/builder/command.rs:1656:54
     |
1656 |     /// **Pro-tip:** Use `clap`s convenience macro [`crate_authors!`] to
     |                                                      ^^^^^^^^^^^^^^ no item named `crate_authors` in scope
     |
     = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `crate::crate_description`
    --&gt; clap_builder/src/builder/command.rs:1685:41
     |
1685 |     /// See also [`crate_description!`](crate::crate_description!).
     |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^ no item named `crate_description` in module `clap_builder`

warning: unresolved link to `crate_version`
    --&gt; clap_builder/src/builder/command.rs:1820:54
     |
1820 |     /// **Pro-tip:** Use `clap`s convenience macro [`crate_version!`] to
     |                                                      ^^^^^^^^^^^^^^ no item named `crate_version` in scope
     |
     = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `crate_version`
    --&gt; clap_builder/src/builder/command.rs:1843:54
     |
1843 |     /// **Pro-tip:** Use `clap`s convenience macro [`crate_version!`] to
     |                                                      ^^^^^^^^^^^^^^ no item named `crate_version` in scope
     |
     = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `crate::Arg::env`
 --&gt; clap_builder/src/parser/matches/value_source.rs:7:33
  |
7 |     /// Value came [`Arg::env`][crate::Arg::env]
  |                                 ^^^^^^^^^^^^^^^ the struct `Arg` has no field or associated item named `env`

    Checking clap v4.4.10 (/user/clap)
warning: `clap_builder` (lib doc) generated 7 warnings
 Documenting clap v4.4.10 (/user/clap)
warning: unresolved link to `_derive::_tutorial::chapter_0`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = note: no item named `_derive` in scope
   = note: `#[warn(rustdoc::broken_intra_doc_links)]` on by default

warning: unresolved link to `_derive`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
                                                                              ^^^^^^^
   = note: no item named `_derive` in scope
   = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `_tutorial::chapter_0`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           - Builder [tutorial][_tutorial::chapter_0] and [reference](index.html)
                                ^^^^^^^^^^^^^^^^^^^^
   = note: no item named `_tutorial` in scope

warning: unresolved link to `_cookbook`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           - [Cookbook][_cookbook]
                        ^^^^^^^^^
   = note: no item named `_cookbook` in scope
   = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `_faq`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           - [FAQ][_faq]
                   ^^^^
   = note: no item named `_faq` in scope
   = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `_features`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           *(See also [feature flag reference][_features])*
                                               ^^^^^^^^^
   = note: no item named `_features` in scope
   = help: to escape `[` and `]` characters, add '\' before them like `\[` or `\]`

warning: unresolved link to `_derive::_tutorial`
  --&gt; src/lib.rs:6:1
   |
6  | / //! &gt; **Command Line Argument Parser for Rust**
7  | | //!
8  | | //! Quick Links:
9  | | //! - Derive [tutorial][_derive::_tutorial::chapter_0] and [reference][_derive]
...  |
78 | | //! - [Command-line Apps for Rust](https://rust-cli.github.io/book/index.html) book
79 | | //!
   | |___^
   |
   = note: the link appears in this line:
           
           See also the derive [tutorial][_derive::_tutorial] and [reference][_derive]
                                          ^^^^^^^^^^^^^^^^^^
   = note: no item named `_derive` in scope

warning: `clap` (lib doc) generated 7 warnings
</code></pre>
<h2>Partial Solution</h2>
<p>In an attempt to resolve these warnings, I discovered that removing the <code>#[cfg(feature = &quot;unstable-doc&quot;)]</code> attribute from <a href="https://github.com/clap-rs/clap/blob/c0a1814d3c1d93c18faaedc95fd251846e47f4fe/src/lib.rs#L106">lib.rs</a> eliminates most of them. However, I'm not entirely sure if this is the appropriate solution, as it might have other unintended effects on the documentation or crate functionality.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2023-12-02 14:10</div>
            <div class="timeline-body"><p>All of those links are for functionality behind feature flags and itd be expected for them to not work without those features enabledd</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2023-12-02 14:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:49:15 UTC
    </footer>
</body>
</html>
