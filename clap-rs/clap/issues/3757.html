<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request: add ValueHint::NewFilePath - clap-rs/clap #3757</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Request: add ValueHint::NewFilePath</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/3757">#3757</a>
        opened by <a href="https://github.com/alexjago">@alexjago</a>
        on 2022-05-26 03:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alexjago">@alexjago</a></div>
            <div class="timeline-body"><h3>Please complete the following tasks</h3>
<ul>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[X] I have searched the <a href="https://github.com/clap-rs/clap/issues">open</a> and <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed">rejected</a> issues</li>
</ul>
<h3>Clap Version</h3>
<p>3.0.0</p>
<h3>Describe your use case</h3>
<p>I'm a user of <a href="https://github.com/MichalGniadek/klask">klask</a> which is a GUI wrapper for <code>clap</code>-based CLI programs.</p>
<p><code>klask</code> shows a file chooser for arguments with <code>ValueHint::FilePath</code>.</p>
<p>However, sometimes files need to be created, not just opened. For this reason the &quot;Save&quot; dialog and the &quot;Open&quot; dialog are <em>different dialog boxes</em> at the GUI level, at least on Mac.</p>
<p>With just <code>FilePath</code> alone, there's no way to know that this is a file which might need to be created, or one that already exists.</p>
<h3>Describe the solution you'd like</h3>
<p>I'm asking for an additional enum variant, <code>ValueHint::NewFilePath</code>. This would be quite similar to <code>FilePath</code>, except that it would provide appropriate semantics for GUI wrappers like Klask to show a new-file dialog rather than an existing-file dialog.</p>
<h3>Alternatives, if applicable</h3>
<ul>
<li><code>FilePath</code> (and potentially other variants) could wrap a boolean indicating whether the argument is expected to already exist or not.</li>
<li>Add an alternative variant <code>ValueHint::Custom&lt;String&gt;</code> (this might've been suggested before).</li>
</ul>
<h3>Additional Context</h3>
<p><em>No response</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C-enhancement</span> added by @alexjago on 2022-05-26 03:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-05-26 11:45</div>
            <div class="timeline-body"><p>ValueHint is intended for completions.  If a completion system took meaning from a <code>NewFilePath</code>, then this would be an easy decision.  I did a quick scan and did not see any do so, so now we need to decide how much do we extend a system intended for one purpose for the sake of other purposes.  I'm not quite sure what is a good answer here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-triage</span> added by @epage on 2022-09-28 16:20</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-triage</span> removed by @epage on 2022-11-08 04:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">A-completion</span> added by @epage on 2022-11-08 04:56</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">S-wont-fix</span> added by @epage on 2022-11-08 04:56</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/epage">@epage</a> on 2022-11-08 04:56</div>
            <div class="timeline-body"><p>As value hints are intended for completions (we plan to move <code>ValueHint</code> type into <code>clap_complete</code>), I'm going to close this without there being a completion system that natively supports this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @epage on 2022-11-08 04:56</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 17:48:34 UTC
    </footer>
</body>
</html>
