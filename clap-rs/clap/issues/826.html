<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error: failed to select a version for `libc` (required by `appname`): - clap-rs/clap #826</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>error: failed to select a version for <code>libc</code> (required by <code>appname</code>):</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/826">#826</a>
        opened by <a href="https://github.com/CBSears">@CBSears</a>
        on 2017-01-28 18:04
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/CBSears">@CBSears</a> on 2017-01-28 18:04</div>
            <div class="timeline-body"><p>rustc 1.15.0-beta.3 (a035041ba 2017-01-07)
clap = &quot;2.20.0&quot;</p>
<p>I'm developing on OSX, latest and greatest.</p>
<p>I am only just starting to use clap. So I'm including essentially three lines in my project and I can't even get it to build. I'm not even calling clap.</p>
<p>In my Cargo.toml:</p>
<p>clap = &quot;2.20.0&quot;
libc = &quot;0.2.20&quot;</p>
<p>I've also tried libc 0.2.19 and 0.2.18 as well with the same error message. When I build my code:</p>
<p>% cargo clean; cargo build
Updating registry <code>https://github.com/rust-lang/crates.io-index</code>
error: failed to select a version for <code>libc</code> (required by <code>appname</code>):
all possible versions conflict with previously selected versions of <code>libc</code>
version 0.2.19 in use by libc v0.2.19
possible versions to select: 0.2.20</p>
<p>In particular, this line makes no sense to me:</p>
<p>version 0.2.19 in use by libc v0.2.19</p>
<p>My entire Cargo.toml is:</p>
<p>[package]
name = &quot;appname&quot;
version = &quot;0.1.0&quot;
authors = [&quot;chris&quot;]</p>
<p>build = &quot;build.rs&quot;</p>
<p>[dependencies]</p>
<p>time = &quot;0.1&quot;
clap = &quot;2.20.0&quot;
libc = &quot;0.2.20&quot;
rustc-serialize = &quot;0.3&quot;</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "error: failed to select a version for `libc` (required by `xxx`):" to "error: failed to select a version for `libc` (required by `appname`):" by @CBSears on 2017-01-28 18:26</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CBSears">@CBSears</a> on 2017-01-28 19:04</div>
            <div class="timeline-body"><p>The problem persisted <em>after</em> I commented out &quot;extern crate clap;&quot; and &quot;clap = &quot;2.20.0&quot;
It went away after cargo update. But returned when I uncommented these lines.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-29 22:53</div>
            <div class="timeline-body"><p>Thanks for reporting this! I saw this mentioned on the subreddit as well. I'll do some tests and see where it lies, if it's as simple as bumping the pinned libc version I'll do that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">C: meta</span> added by @kbknapp on 2017-01-29 22:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">P1: urgent</span> added by @kbknapp on 2017-01-29 22:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">W: 2.x</span> added by @kbknapp on 2017-01-29 22:53</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-29 23:40</div>
            <div class="timeline-body"><p>Alright this should be fixed, I'm uploading the PR now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/CBSears">@CBSears</a> on 2017-01-30 02:15</div>
            <div class="timeline-body"><p>Can you explain what it was since I wasn't understanding what the problem
was at all. Newish to Rust and I thought it was pilot error.</p>
<p>C</p>
<p>On Sun, Jan 29, 2017 at 3:40 PM Kevin K. <a href="mailto:notifications@github.com">notifications@github.com</a> wrote:</p>
<blockquote>
<p>Alright this should be fixed, I'm uploading the PR now</p>
<p>â€”
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/kbknapp/clap-rs/issues/826#issuecomment-275955947">https://github.com/kbknapp/clap-rs/issues/826#issuecomment-275955947</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AFJM0ReCOhPTlH6xQi2Kt9ecX0jWJl9Uks5rXSNdgaJpZM4Lwkkr">https://github.com/notifications/unsubscribe-auth/AFJM0ReCOhPTlH6xQi2Kt9ecX0jWJl9Uks5rXSNdgaJpZM4Lwkkr</a>
.</p>
</blockquote>
<p>--
Ite Ursi</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-30 02:29</div>
            <div class="timeline-body"><p>To be honest I'm not 100% sure since <code>cargo</code> should allow for multiple versions of a dep to exist in the dep graph.</p>
<p>The way it went down is <code>clap</code> required exactly version <code>0.2.18</code> of <code>libc</code>, while one of <code>clap</code>s deps required &quot;up to&quot; version <code>0.2.20</code> and cargo didn't like that for some reason.</p>
<p>I've relaxed <code>clap</code>s version requirements and also updated that dep of <code>clap</code>s (<a href="https://github.com/kbknapp/term_size-rs">term_size-rs</a>) so it shouldn't happen again. Now both of those crates require anything semver compatible with <code>0.2.20</code> and above.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-30 02:30</div>
            <div class="timeline-body"><p>As soon as #830 merges I'll put v2.20.1 on crates.io</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-01-30 20:31</div>
            <div class="timeline-body"><p>Closed with #830</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @kbknapp on 2017-01-30 20:31</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:31:39 UTC
    </footer>
</body>
</html>
