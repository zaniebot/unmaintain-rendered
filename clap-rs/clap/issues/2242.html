<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panic: found positional argument which is not required with a lower index than a required positional argument - clap-rs/clap #2242</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Panic: found positional argument which is not required with a lower index than a required positional argument</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/issues/2242">#2242</a>
        opened by <a href="https://github.com/nagisa">@nagisa</a>
        on 2020-12-07 16:03
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nagisa">@nagisa</a></div>
            <div class="timeline-body">Make sure you completed the following tasks
<ul>
<li>[ ] Searched the <a href="https://github.com/clap-rs/clap/discussions">discussions</a></li>
<li>[x] Searched the closed issues</li>
</ul>
Code
<pre><code>    let matches = clap::App::new(clap::crate_name!())
        .version(clap::crate_version!())
        .author(clap::crate_authors!())
        .about(clap::crate_description!())
        .arg(
            clap::Arg::with_name(&quot;dummy&quot;)
                .possible_value(&quot;dummy&quot;)
                .required(false)
                .hidden(true)
        )
        .arg(
            clap::Arg::with_name(&quot;BANANA&quot;)
                .required(true)
                .env(&quot;BANANA&quot;)
        )
        .arg(
            clap::Arg::with_name(&quot;PEACH&quot;)
                .required(true)
                .env(&quot;PEACH&quot;)
        ).get_matches();
</code></pre>
Steps to reproduce the issue
<ol>
<li>Run snippet above</li>
</ol>
Version
<ul>
<li><strong>Clap</strong>: 2.33.3</li>
</ul>
Actual Behavior Summary
<p>This snippet when run panics.</p>
Expected Behavior Summary
<p>There&#x27;s no obvious reason it should panic.</p>
Debug output
<pre><code>DEBUG:clap:Parser::propagate_settings: self=cargo-phabricator, g_settings=AppFlags(
    (empty),
)
DEBUG:clap:Parser::get_matches_with;
thread &#x27;main&#x27; panicked at &#x27;Found positional argument which is not required with a lower index than a required positional argument: &quot;dummy&quot; index 1&#x27;, /home/nagisa/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-2.33.3/src/app/parser.rs:643:21
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">T: bug</span> added by <a href="https://github.com/nagisa">@nagisa</a> on 2020-12-07 16:03</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-12-07 16:45</div>
            <div class="timeline-body"><p>There is clear reason showing why it&#x27;s panicking. You haven&#x27;t searched previous issues and discussions where this has been elaborated.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-12-07 16:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nagisa">@nagisa</a> on 2020-12-07 17:03</div>
            <div class="timeline-body"><blockquote>
<p>You haven&#x27;t searched previous issues and discussions where this has been elaborated.</p>
</blockquote>
<p>Either <a href="https://github.com/clap-rs/clap/issues?q=is%3Aissue+You+haven%27t+searched+previous+issues+and+discussions+where+this+has+been+elaborated.">github search is broken</a> or there were no previous issues with this panic message. I did explicitly mark the checkbox that I did spend at least some effort looking through the closed issues.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-12-07 17:10</div>
            <div class="timeline-body"><p>https://github.com/clap-rs/clap/discussions/2221</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-12-08 15:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/pksunkara">@pksunkara</a> on 2020-12-08 15:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 19:57:59 UTC
    </footer>
</body>
</html>
