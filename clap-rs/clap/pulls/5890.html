<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat: called the third_party_subcommands function - clap-rs/clap #5890</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat: called the third_party_subcommands function</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/clap-rs/clap/pull/5890">#5890</a>
        opened by <a href="https://github.com/ibilalkayy">@ibilalkayy</a>
        on 2025-01-24 11:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/ibilalkayy">@ibilalkayy</a> on 2025-01-24 11:54</div>
            <div class="timeline-body"><p>Hey there,</p>
<p>I want to let you know that I called the <a href="https://github.com/rust-lang/cargo/blob/91d8140d66e86127348c1230c9b913effca3d1c9/src/bin/cargo/main.rs#L222">third_party_subcommands</a> function in the test but I have some points about the issue.</p>
<ol>
<li>The <code>third_party_subcommands</code> function is not present in the clap repo. How would the clap repo know that it is calling from the cargo repo? There could be a few possibilities:<ul>
<li>The API is already defined here that will communicate with a cargo repo.</li>
<li>There is a requirement for a mock function for the third-party subcommand for testing.</li>
<li>The test code here should be written in the cargo repo for the third-party function to be called there.</li>
</ul>
</li>
<li>Although I tested it and it gave me an OK sign but I am still unsure about how to make the third-party subcommand work. Because <code>cargo hack [TAB]</code> was not auto-completing the command.</li>
<li>The <code>engine.rs</code> file was not included in the module tree. So rust-analyzer was not able to offer IDE services. So I added a module <code>pub mod engine</code> and this error was removed but this time, <code>pub mod engine</code> gave me the following message:</li>
</ol>
<blockquote>
<p>code is inactive due to #[cfg] directives: feature = &quot;unstable-dynamic&quot; is disabledrust-analyzer<a href="https://rust-analyzer.github.io/manual.html#inactive-code">inactive-code</a></p>
</blockquote>
<ol start="5">
<li>If I define the <code>unstable-dynamic</code> in the cargo.toml file in the <code>clap_complete</code>, it also gives me an error by unidentifying this feature.</li>
</ol>
<p>Let me know if there are other improvements required to make it work.</p>
<p>Thank you!</p>
<!--
Thanks for helping out!

Please link the appropriate issue from your PR.

If you don't have an issue, we'd recommend starting with one first so the PR can focus on the
implementation (unless its an obvious bug or documentation fix that will have
little conversation).
-->

</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:09 UTC
    </footer>
</body>
</html>
