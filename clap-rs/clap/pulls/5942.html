<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat(builder): Make `clap::Error` be `Clone` - clap-rs/clap #5942</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat(builder): Make <code>clap::Error</code> be <code>Clone</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/clap-rs/clap/pull/5942">#5942</a>
        opened by <a href="https://github.com/ilyagr">@ilyagr</a>
        on 2025-03-08 05:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/ilyagr">@ilyagr</a> on 2025-03-08 05:17</div>
            <div class="timeline-body"><p>#5935</p>
<p>As he mentioned in https://github.com/clap-rs/clap/issues/5935#issuecomment-2707958021, @yuja just refactored the <code>jj</code> code so that it no longer requires this, quite easily in retrospect (https://github.com/jj-vcs/jj/pull/5929).</p>
<p>Still, I will list a few reasons to do this, since I still think it's worth doing. All of them amount to a &quot;nice to have&quot;, not anything crucial. So, if this idea does not sit well with you, no pressure.</p>
<hr />
<p>Some reasons to make <code>clap::Error</code> be <code>Clone</code>:</p>
<ul>
<li>As you (@epage) suggested, <code>clap::Error</code>s could be cached</li>
<li><code>Clone</code> types are convenient for new Rust users who might not be experienced in solving ownership problems</li>
<li>Since <code>clap::Error</code>s can be edited, one might want to edit them in a fallible way. It should be possible to save a backup copy in case the edit fails.</li>
<li>More generally, all else being equal, it's nice to not require people to refactor their programs. In this case, one could argue that the refactor would improve their programs, but the improvement of avoiding a clone in the error path would be quite minor and might not be worth their time.</li>
<li>There's little to no cost to doing so</li>
</ul>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-10 12:32:18 UTC
    </footer>
</body>
</html>
