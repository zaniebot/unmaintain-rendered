<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fix(help): Align mixed argument types - clap-rs/clap #5963</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>fix(help): Align mixed argument types</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/clap-rs/clap/pull/5963">#5963</a>
        opened by <a href="https://github.com/BrandonXLF">@BrandonXLF</a>
        on 2025-03-30 07:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BrandonXLF">@BrandonXLF</a></div>
            <div class="timeline-body"><p>Fixes the alignment of sections with mixed argument types, including those without short arguments. This is done by adding an extra 4 to the length of arguments that will show a short flag (by calling <code>fn short</code>) instead of trying to account for it elsewhere.</p>
<p>For example:</p>
<pre><code>Options:
      --from &lt;FROM_VER&gt;  The version to upgrade from
  [TO_VER]           The version to upgrade to
</code></pre>
<p>Will now show as:</p>
<pre><code>Options:
  --from &lt;FROM_VER&gt;  The version to upgrade from
  [TO_VER]           The version to upgrade to
</code></pre>
<p>Fixes #3835.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:485 on 2025-03-31 17:59</div>
            <div class="timeline-body"><p>Instead of comments to declare logical dependencies, should we pull this out into a variable?  Ideally, that would be in a refactor commit before this one</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-03-31 17:59</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-03-31 18:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:482 on 2025-03-31 18:00</div>
            <div class="timeline-body"><p>I&#x27;d rather this get pulled out into a separate variable than to embed an <code>if</code> inside a parameter like this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-03-31 18:00</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:485 on 2025-03-31 18:00</div>
            <div class="timeline-body"><p>(uggh, the code already was doing this)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-03-31 18:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>tests/builder/help.rs</code>:3972 on 2025-03-31 18:02</div>
            <div class="timeline-body"><p>Could you re-orgaize this PR where this commit as added in its own commit but changed so its passing, then this commit would change the test to pass with the new logic.  The diff between these two commits would then show how the behavior changed.</p>
<p>See https://github.com/clap-rs/clap/blob/master/CONTRIBUTING.md#preparing-the-pr for more details</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BrandonXLF">@BrandonXLF</a> reviewed on 2025-04-01 01:55</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BrandonXLF">@BrandonXLF</a> on <code>clap_builder/src/output/help_template.rs</code>:485 on 2025-04-01 01:55</div>
            <div class="timeline-body"><p>This sounds like a good idea regardless, done.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 20:00:47 UTC
    </footer>
</body>
</html>
