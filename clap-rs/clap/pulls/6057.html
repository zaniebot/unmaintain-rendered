<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feat(help): Allow styling for inline context - clap-rs/clap #6057</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>feat(help): Allow styling for inline context</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/clap-rs/clap/pull/6057">#6057</a>
        opened by <a href="https://github.com/GilShoshan94">@GilShoshan94</a>
        on 2025-07-01 20:41
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a></div>
            <div class="timeline-body"><p>Styles for [aliases], [default], [env], and [possible values] as well as their values</p>
<p>fix <a href="https://github.com/clap-rs/clap/issues/5093">clap-rs/clap#5093</a></p>
<p>Continuation of PR <a href="https://github.com/clap-rs/clap/pull/5482">clap-rs/clap#5482</a> but clean.</p>
<p>I created an issue (<a href="https://github.com/clap-rs/clap/issues/6056">clap-rs/clap#6056</a>) about <code>literal</code> possible values in long help for when 5.0 is rolling out as @pksunkara asked.</p>
<p>I added more granularity in the styling of each &quot;context&quot; but still a general one to style all of them at once too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-01 20:48</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:40 on 2025-07-01 20:48</div>
            <div class="timeline-body"><p>So I wasn&#x27;t able to catch up on #5482 before the content was lost but this does not look like what was discussed in #5093 and there is no context in the PR for why we are allowing distinct customization of each part.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-01 20:58</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:40 on 2025-07-01 20:58</div>
            <div class="timeline-body"><p>Hi,
I did the first PR in May 2024... I had to rebase and revisit, some things changed a bit, so I had to really rethink it.
On the way I did this improvement and permit more granularity (without breaking change).</p>
<p>What was discussed was just 2 styling options:</p>
<ul>
<li><code>inline_context</code></li>
<li><code>inline_context_value</code></li>
</ul>
<p>The original discussion, with you, is here: <a href="https://github.com/clap-rs/clap/issues/5093">clap-rs/clap#5093</a></p>
<p>I did the same here but exposed more options to overwrite the styling of individual context as well.
The contexts are the following: [aliases], [default], [env], and [possible values].</p>
<p>I also renamed to a <code>context</code> and <code>context_data</code> to be a bit shorter.</p>
<p>If you have an issue with it, I can remove the granularity and stay with only <code>context</code> and <code>context_data</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-01 21:02</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:40 on 2025-07-01 21:02</div>
            <div class="timeline-body"><p>Yes, please remove all of the extra styles.</p>
<p>In the future, at best check-in on the issue if you have additional thoughts and at minimum, call them out in the PR.  PR reviewers shouldn&#x27;t be surprised about user-facing design deviations when they start looking at code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-01 21:50</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:40 on 2025-07-01 21:50</div>
            <div class="timeline-body"><p>Ok, I will remove it now and open a new issue for that specifically.</p>
<p>Just to point it out, I wrote in the PR message:</p>
<pre><code>&quot;I added more granularity in the styling of each &quot;context&quot; but still a general one to style all of them at once too.&quot;
</code></pre>
<p>So, I did call them out in the PR.</p>
<p>Ok, working on it now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-01 22:06</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:40 on 2025-07-01 22:06</div>
            <div class="timeline-body"><p>Done, I removed all the granularity and left only <code>context</code> and <code>context_data</code> (also eddited the documentation)</p>
<p>Sorry for the confusion. I saw it as an improvement, but I understand that we need to discuss it beforehand.
I will open a new issue and new PR once this get merged.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pksunkara">@pksunkara</a> on <code>clap_builder/src/builder/styling.rs</code>:32 on 2025-07-02 01:56</div>
            <div class="timeline-body"><p>I think I preferred the <code>context_value</code>, but I will leave it for @epage to give his opinion.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/pksunkara">@pksunkara</a> on <code>clap_builder/src/output/help_template.rs</code>:795 on 2025-07-02 02:03</div>
            <div class="timeline-body"><p>Please rename all <code>pvs</code> for default related block to <code>dvs</code> (default values)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/pksunkara">@pksunkara</a> requested changes on 2025-07-02 02:06</div>
            <div class="timeline-body"><p>Nothing else jumps out.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:32 on 2025-07-02 16:53</div>
            <div class="timeline-body"><p>I switched from <code>context_value</code> to <code>context_data</code> because of my enhancement for more granularity in the styling for each &quot;context&quot; category (but I will do it in another issue ticket instead of here).</p>
<p>And in that enhancement, I got a <code>context_possible_values</code> for the <code>[possible values]</code> context, and so for its values, it would be <code>context_possible_values_value</code>, which is ugly as well as confusing, so I switched the <code>_value</code> into <code>_data</code> and kept it consistent across all the contexts as well as the general one.</p>
<p>You can see what I plan to later PR in my branch &quot;granularity&quot; <a href="https://github.com/clap-rs/clap/compare/master...GilShoshan94:clap:granularity">link</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-02 16:53</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:795 on 2025-07-02 17:09</div>
            <div class="timeline-body"><p>I did see that too while working on the code and got confused too.
I renamed <code>pvs</code> to <code>dvs</code> for the <code>[default]</code> context but did not push yet because I have a question about it:</p>
<p>I did not even know we can have a list of default values for an argument, it is not entirely clear to me when it does happens but when it does, I see here that the list is joined with simple space <code>.join(&quot; &quot;)</code>.
Shouldn&#x27;t it be separated by commas <code>.join(&quot;, &quot;)</code>  instead?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-02 17:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:27</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:32 on 2025-07-02 20:27</div>
            <div class="timeline-body"><p>Considering the granularity was explicitly asked not to be included <code>_value</code> to be used (<a href="https://github.com/clap-rs/clap/issues/5093">clap-rs/clap#5093</a>#issuecomment-2083062949), I would ask that we stay with <code>_value</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:28</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:795 on 2025-07-02 20:28</div>
            <div class="timeline-body"><p>We offer <a href="https://docs.rs/clap/latest/clap/struct.Arg.html#method.default_values"><code>Arg::default_values</code></a>.</p>
<p>Changing other output should not be part of this PR.  If you want, feel free to open an issue and we can discuss what the output should be there.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:30</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:124 on 2025-07-02 20:30</div>
            <div class="timeline-body"><ul>
<li>This includes <code>,</code> and <code>and</code> in the literal text</li>
<li>Enumerating every type of context can make this more difficult to read, can grow stale, etc</li>
</ul>
<p>I&#x27;d recommend</p>
<pre><code>    /// Highlight all specified contexts (e.g. `[default: false]`)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:31</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:126 on 2025-07-02 20:31</div>
            <div class="timeline-body"><p>I&#x27;d frame this differently</p>
<pre><code>    /// To specialize the style of the value within the context, see [`Styling::context_value`]
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:135 on 2025-07-02 20:32</div>
            <div class="timeline-body"><pre><code>    /// Highlight values within all of the context (e.g. the `false` in `[default: false]`)
    ///
    /// If not explicitly set, falls back to `context`&#x27;s style.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:35</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:795 on 2025-07-02 20:35</div>
            <div class="timeline-body"><p>If any such rename happens, it should be in its own commit.</p>
<p>Since the code is already like this, I consider this feedback to be non-blocking</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:837 on 2025-07-02 20:37</div>
            <div class="timeline-body"><p>Should we split out these <code>{ctx},{ctx:#}</code>s?  I&#x27;m less thinking from a performance perspective and more from a binary size perspective</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:37</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:835 on 2025-07-02 20:37</div>
            <div class="timeline-body"><p>shouldn&#x27;t that be <code>pv</code> since this is the non-plural form this is operating on?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-02 20:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:1 on 2025-07-02 20:41</div>
            <div class="timeline-body"><p>Can you update <code>src/bin/stdio-fixture.rs</code> to</p>
<ul>
<li>Cover each of the cases (including plurals), this should be in its own commit</li>
<li>Update it to use this new feature</li>
</ul>
<p>Hmm, I still need to go back and add an SVG snapshot of that help output so we can track through PRs how that changes.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 05:08</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:795 on 2025-07-03 05:08</div>
            <div class="timeline-body"><blockquote>
<p>We offer <a href="https://docs.rs/clap/latest/clap/struct.Arg.html#method.default_values"><code>Arg::default_values</code></a>.</p>
<p>Changing other output should not be part of this PR. If you want, feel free to open an issue and we can discuss what the output should be there.</p>
</blockquote>
<p>I see that the method, I have never seen a concrete example of it... What does it mean to have a list of default for one argument? I assume that there is a meaning that I fail to see but regardless the formatting of simply space separator seems strange where a comma separator seems more appropriated.</p>
<p>I open a new issue to discuss it, see #6059</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 05:10</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:835 on 2025-07-03 05:10</div>
            <div class="timeline-body"><p>correct, I will fix that</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 05:12</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:837 on 2025-07-03 05:12</div>
            <div class="timeline-body"><p>I don&#x27;t understand what you mean by</p>
<blockquote>
<p>split out these {ctx},{ctx:#}s</p>
</blockquote>
<p>What are you suggesting for me to do ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 05:13</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:1 on 2025-07-03 05:13</div>
            <div class="timeline-body"><p>Sure, I never touched those fixtures before, but I will try my best</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:32 on 2025-07-03 05:25</div>
            <div class="timeline-body"><p>done,
It is <code>context</code> and <code>context_value</code> now.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 05:25</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:41</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:795 on 2025-07-03 06:41</div>
            <div class="timeline-body"><blockquote>
<p>If any such rename happens, it should be in its own commit.</p>
<p>Since the code is already like this, I consider this feedback to be non-blocking</p>
</blockquote>
<p>I made a separated commit for the rename</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:45</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:124 on 2025-07-03 06:45</div>
            <div class="timeline-body"><p>done, thank you for the recommendation, it is better indeed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:124 on 2025-07-03 06:47</div>
            <div class="timeline-body"><p>I just removed the parentheses around the example and add a comma to be consistent with the other existing docs on the others existing methods</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:135 on 2025-07-03 06:47</div>
            <div class="timeline-body"><p>done</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:47</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:835 on 2025-07-03 06:47</div>
            <div class="timeline-body"><p>done</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:54</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:126 on 2025-07-03 06:54</div>
            <div class="timeline-body"><p>Indeed better, I just changed  &quot;<em>see [<code>Styling::context_value</code>]</em>&quot; to &quot;<em>see [<code>Styles::context_value</code>]</em>&quot;, I think this is what you meant, correct ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-03 06:56</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:837 on 2025-07-03 06:56</div>
            <div class="timeline-body"><p>I did put the <code>format!(&quot;{ctx}, {ctx:#}&quot;)</code> as its own string in a variable like so:
<code>let val_sep = format!(&quot;{ctx}, {ctx:#}&quot;); // context values styled separator</code></p>
<p>And I am using a ref to it in the join.
Is this what you were suggesting ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:997 on 2025-07-03 07:08</div>
            <div class="timeline-body"><p>@epage</p>
<p>I just found something strange, in this function <code>sc_spec_vals</code> for the aliases of the Command, I see we have 3 types:</p>
<ul>
<li><strong>aliases</strong> -&gt; and we show them in the help with <code>.get_visible_aliases()</code></li>
<li><strong>short_flag_aliases</strong> -&gt; with <code>.get_visible_short_flag_aliases()</code></li>
<li><strong>long_flag_aliases</strong> -&gt; with <code>.get_visible_long_flag_aliases()</code></li>
</ul>
<p>The visible aliases and the short flag ones are collected, but the long flag aliases are forgotten.</p>
<p>Also, it is weird that in the function is using a vector to collect only one string to after join on it to return either one string or an empty string ...</p>
<p>Anyway, this seems like long flag aliases are forgotten, should I open a new issue for it (with a new PR for it) ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-03 14:20</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-03 14:20</div>
            <div class="timeline-body"><p>Let&#x27;s defer out all &quot;Possible Values&quot; changes in long help to #6056.</p>
<p>The original issue was focused on the <code>[]</code> sections.  The possibility of touching long help didn&#x27;t come up until <a href="https://github.com/clap-rs/clap/issues/5093">clap-rs/clap#5093</a>#issuecomment-2091863555 and I never got to reply to that.</p>
<p>I feel like the formatting of Possible Values is very different than <code>[]</code>.  Instead of being a special syntax for context, its written more like what someone would write out and I don&#x27;t feel confident that styling it like <code>[]</code> is the right call.</p>
<p>Take <code>rg --help</code> as an example</p>
<pre><code>        --color &lt;WHEN&gt;
            This flag controls when to use colors. The default setting is &#x27;auto&#x27;, which
            means ripgrep will try to guess when to use colors. For example, if ripgrep is
            printing to a terminal, then it will use colors, but if it is redirected to a
            file or a pipe, then it will suppress color output. ripgrep will suppress color
            output in some other circumstances as well. For example, if the TERM
            environment variable is not set or set to &#x27;dumb&#x27;, then ripgrep will not use
            colors.

            The possible values for this flag are:

                never    Colors will never be used.
                auto     The default. ripgrep tries to be smart.
                always   Colors will always be used regardless of where output is sent.
                ansi     Like &#x27;always&#x27;, but emits ANSI escapes (even in a Windows console).

            When the --vimgrep flag is given to ripgrep, then the default value for the
            --color flag changes to &#x27;never&#x27;.
</code></pre>
<p>this isn&#x27;t using clap anymore and it didn&#x27;t use our Possible Values rendering, but the format is similar.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-03 14:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:126 on 2025-07-03 14:22</div>
            <div class="timeline-body"><p>Yes, thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-03 14:22</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:837 on 2025-07-03 14:22</div>
            <div class="timeline-body"><p>Yes, thank you</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-03 14:23</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/builder/styling.rs</code>:203 on 2025-07-03 14:23</div>
            <div class="timeline-body"><p>nit: this can also be written as</p>
<pre><code>self.context_value.as_ref().unwrap_or(&amp;self.context)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-03 16:42</div>
            <div class="timeline-body"><p>But except for this case, the other &quot;contexts&quot; (default, env, ...) use the same formatting function for the long help, so they are automatically using the same styling <code>context</code> and <code>context_value</code> for the long help than in the short help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:203 on 2025-07-03 16:52</div>
            <div class="timeline-body"><p>No, I can&#x27;t because <code>unwrap_or</code> is <em>non-const</em>, so I had to do it this way to keep the method <code>const</code> as the other get methods are already.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:1 on 2025-07-03 19:49</div>
            <div class="timeline-body"><p>I did it, I added a bunch of cases in a new commit.
You can clearly see that we are missing the visible long flag aliases that I talked about in my other comment.</p>
<p>I see that I failed CI and it was because I didn&#x27;t the tests using this fixture.</p>
<p>I updated those tests to reflect the new cases and now it passes the checks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/builder/styling.rs</code>:1 on 2025-07-07 23:56</div>
            <div class="timeline-body"><p>I am letting you @epage to mark this conversation as resolved or let me know what you want me to do.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-08 20:03</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-08 20:03</div>
            <div class="timeline-body"><p>Why was this marked as resolved when we are still applying <code>{ctx}</code> to &quot;Possible Values:&quot; in the long help?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-08 20:04</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-08 20:04</div>
            <div class="timeline-body"><p>Looking at the screenshot in #6056, it looks like there was a pending comment that didn&#x27;t get posted.  That said, that pending comment and lack of change here doesn&#x27;t seem to warrant marking this as resolved.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-09 20:39</div>
            <div class="timeline-body"><p>My bad, I never encountered the &quot;Pending&quot; comment in Github, I understand now that you never saw it. If I understood correctly, I have to &quot;submit&quot; a review for you to see it.</p>
<p>Sorry for the technical miscommunication from my end due to my lack of collaborative workflow knowledge. I am learning and will get better at it.</p>
<p>So, do you prefer for me to remove the change <code>{ctx}</code> to &quot;Possible Values:&quot; in the long help for this PR and leave the discussion for #6056  ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-09 20:43</div>
            <div class="timeline-body"><p>I didn&#x27;t know about the &quot;pending&quot; comments.... Had no idea you could not see them even.
I apologize for my miscommunication. I learned for next time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-09 20:46</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-09 20:46</div>
            <div class="timeline-body"><p>Yes, I would.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/epage">@epage</a> reviewed on 2025-07-09 21:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/epage">@epage</a> on <code>clap_builder/src/output/help_template.rs</code>:997 on 2025-07-09 21:11</div>
            <div class="timeline-body"><p>This was all added in #1974.  Based on <a href="https://github.com/clap-rs/clap/pull/1974">clap-rs/clap#1974</a>/files#r452746777, it sounds like long aliases were added later.  Since I don&#x27;t see any explicit comments about it, I&#x27;m assuming this was overlooked when updating the PR.</p>
<p>Feel free to open an issue about this.  Based on that history, it might be minor enough to include in another commit in this PR.  Interesting how subcommands had a combined alias spec value before #5999.</p>
<p>As for the <code>Vec</code>, its setup to be general for new spec values to be added.  I can take it or leave it for changing it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-09 21:43</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-09 21:43</div>
            <div class="timeline-body"><p>Ok, I will remove it. Once done I will mark this as resolved.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-09 21:49</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:997 on 2025-07-09 21:49</div>
            <div class="timeline-body"><p>I opened an issue about it =&gt; #6067
I will add a commit in this PR to fix it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/GilShoshan94">@GilShoshan94</a> reviewed on 2025-07-09 22:24</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/GilShoshan94">@GilShoshan94</a> on <code>clap_builder/src/output/help_template.rs</code>:683 on 2025-07-09 22:24</div>
            <div class="timeline-body"><p>Done, I removed it.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 20:00:52 UTC
    </footer>
</body>
</html>
