```yaml
number: 6052
title: "fix(parser): Ensure help subcommand works with ignore_errors flag"
type: pull_request
state: closed
author: imtherealnaska
labels: []
assignees: []
draft: true
base: master
head: help_error_bug_fix
created_at: 2025-06-30T15:42:18Z
updated_at: 2025-06-30T18:05:14Z
url: https://github.com/clap-rs/clap/pull/6052
synced_at: 2026-01-10T01:57:50Z
```

# fix(parser): Ensure help subcommand works with ignore_errors flag

---

_Pull request opened by @imtherealnaska on 2025-06-30 15:42_

Fixes: [5919](https://github.com/clap-rs/clap/issues/5919)



---

_Review comment by @pksunkara on `tests/builder/ignore_errors.rs`:246 on 2025-06-30 15:57_

You don't need this test because it's already tested elsewhere.

---

_Review comment by @pksunkara on `clap_builder/src/parser/parser.rs`:58 on 2025-06-30 15:57_

Both the `match` used below are not needed. I would suggest something like the following on top of old code:

```rs
if err.kind() != ErrorKind::DisplayHelp && err.kind() != ErrorKind::DisplayVersion && self.cmd.is_ignore_errors_set() {
```

---

_Review comment by @pksunkara on `tests/builder/ignore_errors.rs`:230 on 2025-06-30 15:58_

Please add this test in a separate commit before the commit with the fix.

---

_@pksunkara requested changes on 2025-06-30 15:59_

I am going to be honest, it looks like you used AI to make the PR. Please polish it to an acceptable level.

---

_@imtherealnaska reviewed on 2025-06-30 16:04_

---

_Review comment by @imtherealnaska on `tests/builder/ignore_errors.rs`:230 on 2025-06-30 16:04_

Hi , not to be offensive , this was a draft PR . I just asked for a review from copilot and tried to make it happy. 

---

_@imtherealnaska reviewed on 2025-06-30 16:19_

---

_Review comment by @imtherealnaska on `tests/builder/ignore_errors.rs`:230 on 2025-06-30 16:19_

Will do a proper rewrite and raise a PR. Thanks. for the reviews

---

_@epage reviewed on 2025-06-30 18:05_

---

_Review comment by @epage on `clap_builder/src/parser/parser.rs`:58 on 2025-06-30 18:05_

In general, this doesn't seem like the right place for a fix.  I just tried the test  without the source changes, and it still passes (btw this is one of the reasons we recommend splitting PRs into two commits (1) add a test, showing the existing behavior and (2) add the fix with test updates, see #5959 as an example)

---
