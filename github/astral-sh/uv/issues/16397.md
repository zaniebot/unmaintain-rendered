---
number: 16397
title: transformers ImportError when package was installed with uv
type: issue
state: closed
author: MikolajTym
labels:
  - question
assignees: []
created_at: 2025-10-21T18:10:30Z
updated_at: 2025-10-28T23:53:29Z
url: https://github.com/astral-sh/uv/issues/16397
synced_at: 2026-01-07T12:31:16-06:00
---

# transformers ImportError when package was installed with uv

---

_Issue opened by @MikolajTym on 2025-10-21 18:10_

### Summary

# Problem description

I cannot import the `AutoTokenizer` transformers class when venv was created by the uv.
I have installed the transformers with `uv add transformers[torch]`. Then when I am trying to import the `AutoTokenizer` (`from transformers import AutoTokenizer`), I am encountering an ImportError. The same steps work fine when using a standard venv created with `python -m venv` and installing with pip.

There is issue related to this problem within the transformers GitHub repository (https://github.com/huggingface/transformers/issues/38442). Some answers point that the problem may be caused by the env reasons. As the installation and import using regular python venv works, it can be somehow related to the uv.

# Reproduction of the problem

## Installation with uv

```cmd
mkdir import_error_uv && cd import_error_uv && uv venv --python 3.12.6 && uv init && uv add transformers[torch] && .venv\Scripts\activate && uv run python -c "from transformers import AutoTokenizer"
```

Execution of these command results in:
`ImportError: cannot import name 'GenerationMixin' from 'transformers.generation' (C:\Projects\import_error_uv\.venv\Lib\site-packages\transformers\generation\__init__.py). Did you mean: 'GenerationMode'?`

The result of the `uv pip freeze`:
```
accelerate==1.11.0
certifi==2025.10.5
charset-normalizer==3.4.4
colorama==0.4.6
filelock==3.20.0
fsspec==2025.9.0
huggingface-hub==0.35.3
idna==3.11
jinja2==3.1.6
markupsafe==3.0.3
mpmath==1.3.0
networkx==3.5
numpy==2.3.4
packaging==25.0
psutil==7.1.1
pyyaml==6.0.3
regex==2025.10.23
requests==2.32.5
safetensors==0.6.2
setuptools==80.9.0
sympy==1.14.0
tokenizers==0.22.1
torch==2.9.0
tqdm==4.67.1
transformers==4.57.1
typing-extensions==4.15.0
urllib3==2.5.0
```

## Installation with regular venv (import works)

```cmd
mkdir import_error_python && cd import_error_python && python -m venv .venv && .venv\Scripts\activate && pip install transformers[torch] && python -c "from transformers import AutoTokenizer"
```

The result of the `pip freeze` which is identical to the `uv pip freeze` regardless of case sensitivity:
```
accelerate==1.11.0
certifi==2025.10.5
charset-normalizer==3.4.4
colorama==0.4.6
filelock==3.20.0
fsspec==2025.9.0
huggingface-hub==0.35.3
idna==3.11
Jinja2==3.1.6
MarkupSafe==3.0.3
mpmath==1.3.0
networkx==3.5
numpy==2.3.4
packaging==25.0
psutil==7.1.1
PyYAML==6.0.3
regex==2025.10.23
requests==2.32.5
safetensors==0.6.2
setuptools==80.9.0
sympy==1.14.0
tokenizers==0.22.1
torch==2.9.0
tqdm==4.67.1
transformers==4.57.1
typing_extensions==4.15.0
urllib3==2.5.0
```

I'm not sure whether the uv is the error reason, however the import works when I'm using the pip.
Moreover the same uv commands work perfectly for WSL, so the problem may be related to the Windows.

### Platform

Windows 11 x86_64

### Version

uv 0.9.3 (83635a6c4 2025-10-15)

### Python version

3.12.6

---

_Label `bug` added by @MikolajTym on 2025-10-21 18:10_

---

_Comment by @johnnynunez on 2025-10-22 05:54_

same happens to me

---

_Label `windows` added by @konstin on 2025-10-22 08:12_

---

_Label `needs-mre` added by @konstin on 2025-10-22 08:12_

---

_Comment by @konstin on 2025-10-22 08:14_

Thanks for the clear reproduction, I tried it on a relative pristine Windows 11 VM and could not reproduce the error.

Could you try `uv cache clean`?

---

_Comment by @MikolajTym on 2025-10-22 09:54_

> Thanks for the clear reproduction, I tried it on a relative pristine Windows 11 VM and could not reproduce the error.
> 
> Could you try `uv cache clean`?

Thank you! The uv cache was the reason, after cache cleaning, the import works fine.

---

_Label `bug` removed by @konstin on 2025-10-22 10:50_

---

_Label `windows` removed by @konstin on 2025-10-22 10:50_

---

_Label `needs-mre` removed by @konstin on 2025-10-22 10:50_

---

_Label `question` added by @konstin on 2025-10-22 10:50_

---

_Closed by @charliermarsh on 2025-10-28 23:53_

---
