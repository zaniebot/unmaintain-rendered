---
number: 15359
title: Use the same version in both library and its workspaces
type: issue
state: open
author: saroad2
labels:
  - enhancement
assignees: []
created_at: 2025-08-18T20:31:04Z
updated_at: 2025-08-18T20:31:04Z
url: https://github.com/astral-sh/uv/issues/15359
synced_at: 2026-01-07T12:31:16-06:00
---

# Use the same version in both library and its workspaces

---

_Issue opened by @saroad2 on 2025-08-18 20:31_

### Summary

## TL;DR
When building a library with workspaces, one might want to use the same version for all workspaces in a repo.

## The issue

Let's say that I'm working on a library with two workspaces `my-workspace1` and `my-workspace2`.

I want to make sure that when I run `uv build --all-packages`, the distibution created for all packages has the same version. If this isn't the case, one might have problems re-uploading a depndecy library to PyPi, as the current version of the workspace is already uploaded.

Solving this issue will help to make sure that when deploying a library, one deploy all the necessary updates to the internal dependency packages

## Possible solutions

### Option 1: Update version for all workspaces at once.

At the moment, in order to update the version for both a library and one of its workspaces, I need to run 2 commands:

```console
uv version --bump patch
uv version --package my-workspace1 --bump path
uv version --package my-workspace2 --bump path
```

One solution to keep the version the same for all workspace is if one could update all versions at once by running something like `uv version --all-packages --bump path`, in the same way that one can build all workspaces at  once with `uv build --all-packages`.

### Option 2: dynamic version from parent

One can set the version in the workspace as `dynamic` and explicitly write that the version is taken from the parent library.
For example, in `my-workspace1`, one should be able to set *pyproject.toml* in the following way:

```toml
[project]
name = "my-workspace1"
dynamic = ["version"]
...

[build-system]
requires = ["uv_build>=0.8.8,<0.9.0"]
build-backend = "uv_build"

[tool.uv.build-backend]
version = { source: "parent"}
```

In that way, when building the package from the workspace with `uv build --package my-workspace1`, the version will be taken from the parent

## Summary
Currently, in order to sync versions between different workspaces in the same repo, one needs to manually update them one by one.

These two proposed solutions can solve them in a relatively easy way.
We can decide to support only one of them or both, if we want to.

If my suggestion approved by the maintainers, I would gladly go ahead and try to implement them.

Thank you!

### Example

_No response_

---

_Label `enhancement` added by @saroad2 on 2025-08-18 20:31_

---
