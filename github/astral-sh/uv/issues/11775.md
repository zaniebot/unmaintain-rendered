---
number: 11775
title: "`py run pytest` inexplicably overrides `.so` file"
type: issue
state: open
author: nschloe
labels:
  - bug
assignees: []
created_at: 2025-02-25T09:32:02Z
updated_at: 2025-02-27T12:56:48Z
url: https://github.com/astral-sh/uv/issues/11775
synced_at: 2026-01-07T12:31:15-06:00
---

# `py run pytest` inexplicably overrides `.so` file

---

_Issue opened by @nschloe on 2025-02-25 09:32_

### Summary

I'd like to run tests on my pyo3 Python package. To this end, I build the module

```
uv venv --python=python          
uv pip install -U maturin        
uv run maturin develop --release 
```

and then run the tests:

```
uv pip install -U pytest     
.venv/bin/python -m pytest 
```

This works fine. When replacing the last line with
```
uv run pytest
```
the library file
```
.venv/lib/python3.13/site-packages/foo/foo.cpython-313-x86_64-linux-gnu.so
```
gets replaced by an older version though.

MWE attached. Run `just build`, then change something in `src/lib.rs`, and watch how `just test` pulls in the old version.

[mwe.zip](https://github.com/user-attachments/files/18961392/mwe.zip)

### Platform

Linux 6.12.13-1-lts x86_64 GNU/Linux

### Version

uv 0.5.9

### Python version

Python 3.11.11

---

_Label `bug` added by @nschloe on 2025-02-25 09:32_

---

_Comment by @nschloe on 2025-02-25 10:01_

Apparently, it doesn't override the `.so` file when using `uv run --isolated pytest`.

---

_Comment by @konstin on 2025-02-27 12:56_

This looks like another instance of #11390.

---
