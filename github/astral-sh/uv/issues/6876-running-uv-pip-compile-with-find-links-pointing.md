---
number: 6876
title: "Running `uv pip compile` with `--find-links` pointing towards a local wheel does not produce the expected output"
type: issue
state: closed
author: williamglasse
labels:
  - documentation
assignees: []
created_at: 2024-08-30T14:48:21Z
updated_at: 2024-08-30T14:56:39Z
url: https://github.com/astral-sh/uv/issues/6876
synced_at: 2026-01-07T13:12:17-06:00
---

# Running `uv pip compile` with `--find-links` pointing towards a local wheel does not produce the expected output

---

_Issue opened by @williamglasse on 2024-08-30 14:48_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->
Hello!

Unsure whether this is a bug, or I could be misusing uv!

I'm trying to migrate over from pip-tools to using UV instead. I've got a local wheel that I'd like to install, that lives within my repository as a .whl file. In pip-compile world, I'd run `pip-compile --find-links=./local_wheels --output-file=requirements.txt pyproject.toml` and this generated a requirements.txt file. The resultant requirement.txt file would contain `--find-links ./local_wheels` at the top of the file. This would mean that when I run pip-sync, it would make use of wheels found within the /local_wheels directory

I expected `uv pip compile --find-links ./local_wheels --output-file=requirements.txt pyproject.toml` to return a similar output to requirements.txt, but it doesn't have the expected `--find-links ./local_wheels` in the autogenerated output

Am I missing something or is this a bug?


---

_Renamed from "Running `uv pip compile` with `--find-links` does not produce the expected output" to "Running `uv pip compile` with `--find-links` pointing towards a local wheel does not produce the expected output" by @williamglasse on 2024-08-30 14:48_

---

_Comment by @charliermarsh on 2024-08-30 14:48_

I think you can pass `--emit-find-links` to include them (we just don't do it by default).

---

_Comment by @charliermarsh on 2024-08-30 14:49_

It's mentioned here for index URLs, but I should probably add a reference to `--emit-find-links` to help with search: https://docs.astral.sh/uv/pip/compatibility/#pip-compile-defaults

---

_Label `documentation` added by @charliermarsh on 2024-08-30 14:49_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-08-30 14:49_

---

_Comment by @williamglasse on 2024-08-30 14:51_

> It's mentioned here for index URLs, but I should probably add a reference to `--emit-find-links` to help with search: https://docs.astral.sh/uv/pip/compatibility/#pip-compile-defaults

Thank you @charliermarsh that was what I was looking for! Thank you for such a speedy response.

Out of interest, I have another issue, where for some reason setuptools is being added to requirements.txt, whereas it wasn't before. Is there another flag I'm missing that will make uv behave similar to how pip-tools was?

---

_Comment by @charliermarsh on 2024-08-30 14:52_

You could add `--no-emit-package setuptools`. I think `pip-compile` may omit it by default right now? But IIRC that's being removed in future versions of `pip-tools`.

---

_Comment by @charliermarsh on 2024-08-30 14:53_

You should be able to set these things in your `pyproject.toml` if you want:

```toml
[tool.uv.pip]
emit-find-links = true
no-emit-package = ["setuptools"]
```

(Something like that -- didn't test it before writing :))

---

_Comment by @williamglasse on 2024-08-30 14:56_

A big thank you @charliermarsh, that is exactly what I needed! Thank you for solving both of my issues, I had started going around in circles, so much appreciated <3 

---

_Closed by @williamglasse on 2024-08-30 14:56_

---

_Comment by @charliermarsh on 2024-08-30 14:56_

No prob! I can add some things to the compatibility guide so it's easier to reference in the future.

---
