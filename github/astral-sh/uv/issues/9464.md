---
number: 9464
title: "Same Machine, Pytorch works for one, doesn't work for another"
type: issue
state: closed
author: sglbl
labels:
  - question
assignees: []
created_at: 2024-11-27T12:01:21Z
updated_at: 2024-12-02T14:04:50Z
url: https://github.com/astral-sh/uv/issues/9464
synced_at: 2026-01-07T12:31:15-06:00
---

# Same Machine, Pytorch works for one, doesn't work for another

---

_Issue opened by @sglbl on 2024-11-27 12:01_

I have `Ubuntu 22.04` and `uv 0.5.0`.

I added torch cpu version using;
`uv add torch --index https://download.pytorch.org/whl/cpu --index-strategy unsafe-best-match`
Then I used the same pyproject.toml file on another project on the same computer.
But this time it gives: 
```bash
~/digit_classification$ uv sync --index-strategy unsafe-best-match
Resolved 169 packages in 0.87ms
error: Distribution `torch==2.5.1 @ registry+https://download.pytorch.org/whl/cpu` can't be installed because it doesn't have a source distribution or wheel for the current platform

```


When I check pip list on the first project:
```bash
~/sg_project_template$ uv pip list | grep torch
torch                     2.5.1+cpu
```
I think it's about it should look for the version torch==2.5.1+cpu but it looks for torch==2.5.1.

![Image](https://github.com/user-attachments/assets/14f0bef8-d69f-4e9d-8351-3458e5266080)


---

_Comment by @konstin on 2024-11-27 12:46_

What python version(s) are you using in those projects?

---

_Comment by @sglbl on 2024-11-27 13:36_

> What python version(s) are you using in those projects?

I only have the default Ubuntu22.04 Python which is Python 3.10.12
```txt
sglbl@DEDUCE-PC:~/deduce/sg_project_template$ lsb_release -a | grep Description:
No LSB modules are available.
Description:    Ubuntu 22.04.5 LTS
sglbl@DEDUCE-PC:~/deduce/sg_project_template$ python -V
Python 3.10.12
sglbl@DEDUCE-PC:~/deduce/sg_project_template$ which python
/usr/bin/python
sglbl@DEDUCE-PC:~/deduce/sg_project_template$ source .venv/bin/activate
(.venv) sglbl@DEDUCE-PC:~/deduce/sg_project_template$ which python
/home/sglbl/deduce/sg_project_template/.venv/bin/python
(.venv) sglbl@DEDUCE-PC:~/deduce/sg_project_template$ uv python list
cpython-3.13.0+freethreaded-linux-x86_64-gnu    <download available>
cpython-3.12.7-linux-x86_64-gnu                 <download available>
cpython-3.11.10-linux-x86_64-gnu                <download available>
cpython-3.10.15-linux-x86_64-gnu                <download available>
cpython-3.10.12-linux-x86_64-gnu                /usr/bin/python3.10
cpython-3.10.12-linux-x86_64-gnu                /usr/bin/python3 -> python3.10
cpython-3.10.12-linux-x86_64-gnu                /usr/bin/python -> python3
cpython-3.10.12-linux-x86_64-gnu                /bin/python3.10
cpython-3.10.12-linux-x86_64-gnu                /bin/python3 -> python3.10
cpython-3.10.12-linux-x86_64-gnu                /bin/python -> python3
cpython-3.9.20-linux-x86_64-gnu                 <download available>
cpython-3.8.20-linux-x86_64-gnu                 <download available>
cpython-3.7.9-linux-x86_64-gnu                  <download available>
pypy-3.10.14-linux-x86_64-gnu                   <download available>
pypy-3.9.19-linux-x86_64-gnu                    <download available>
pypy-3.8.16-linux-x86_64-gnu                    <download available>
pypy-3.7.13-linux-x86_64-gnu                    <download available>
```

---

_Comment by @charliermarsh on 2024-11-27 13:44_

Can you try removing the lockfile and re-running?

---

_Label `question` added by @charliermarsh on 2024-11-27 13:44_

---

_Comment by @sglbl on 2024-11-27 13:50_

> Can you try removing the lockfile and re-running?

Thank you @charliermarsh , even though I'm not sure why removing uv.lock file solves the issue of 
**`can't be installed because it doesn't have a source distribution or wheel for the current platform`**, 
it works now.

---

_Closed by @sglbl on 2024-11-27 13:50_

---
