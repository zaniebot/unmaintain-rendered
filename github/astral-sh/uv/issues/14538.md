---
number: 14538
title: Fail to resolve transitive private dependencies
type: issue
state: closed
author: ThomasHezard
labels:
  - bug
assignees: []
created_at: 2025-07-10T12:15:09Z
updated_at: 2025-07-10T23:30:35Z
url: https://github.com/astral-sh/uv/issues/14538
synced_at: 2026-01-07T12:31:16-06:00
---

# Fail to resolve transitive private dependencies

---

_Issue opened by @ThomasHezard on 2025-07-10 12:15_

### Summary

Hello üëã

I am having issues with private transitive dependencies. I am not 100% sure this is a bug though.

My case is pretty simple:
- `packageA` is distributed on the private registry `registryA`,
- `packageB` is distributed on the private registry `registryB` and depends on `packageA`,
- I am working on a project depending on `packageB`, but not explicitly on `packageA`.

I thought the following `pyproject.toml` would work (credentials are provided through environment variables, no problem about that), 
```toml
# ‚ùå NOT WORKING

[project]
name = "my_project"
requires-python = ">=3.12"
dependencies = [
    "packageB>=1.0",
]

[tool.uv.sources]
packageB = { index = "registryB" }
packageA = { index = "registryA" }

[[tool.uv.index]]
name = "registryB"
url = "https://registryB.my-domain/pypi/simple"
explicit = true

[[tool.uv.index]]
name = "registryA"
url = "https://registryA.my-domain/pypi/simple"
explicit = true
```
but I obtain the error
```bash
√ó No solution found when resolving dependencies:
‚ï∞‚îÄ‚ñ∂ Because packageA was not found in the package registry [...]
[...]
 Because packageA was not found in the package registry and packageB>=1.0 depends on packageA>=1.0,<2.dev0, we can conclude that packageB>=1.0 cannot be used.
```

The only solution I found so far if to add `"packageA"` in my project's dependencies, even though my project does not explicitly depend on it, which makes this solution not very satisfying:
```toml
# ‚úÖ WORKING

[project]
name = "my_project"
requires-python = ">=3.12"
dependencies = [
    "packageB>=1.0",
    "packageA",
]

[tool.uv.sources]
packageB = { index = "registryB" }
packageA = { index = "registryA" }

[[tool.uv.index]]
name = "registryB"
url = "https://registryB.my-domain/pypi/simple"
explicit = true

[[tool.uv.index]]
name = "registryA"
url = "https://registryA.my-domain/pypi/simple"
explicit = true
```

- _**Is that a bug?**_    
- _**If not, what would be the proper way to deal with this situation?**_

Thank you for your help üôè
Best,

Thomas

### Platform

Darwin 24.5.0 arm64, Linux 6.8.0-63-generic x86_64 GNU/Linux

### Version

0.7.19

### Python version

3.12.9

---

_Label `bug` added by @ThomasHezard on 2025-07-10 12:15_

---

_Comment by @zanieb on 2025-07-10 13:35_

We don't propagate sources for transitive dependencies. We're considering it, but it's intentionally not done right now.

---

_Comment by @ThomasHezard on 2025-07-10 14:57_

Thank you for the answer üôè

Would you recommend a solution different from what I did?

Feel free to tag the issue appropriately, link to other issues or close the issue.

---

_Comment by @zanieb on 2025-07-10 17:20_

I think, until we respect sources for transitive dependencies, adding it as a direct dependency is the best option.

---

_Comment by @charliermarsh on 2025-07-10 23:30_

I think I'll merge this into https://github.com/astral-sh/uv/issues/8253.

---

_Closed by @charliermarsh on 2025-07-10 23:30_

---
