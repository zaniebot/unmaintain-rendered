---
number: 12639
title: Constraints files with spaces
type: issue
state: open
author: henryiii
labels:
  - bug
  - external
assignees: []
created_at: 2025-04-02T21:09:48Z
updated_at: 2025-11-09T03:16:22Z
url: https://github.com/astral-sh/uv/issues/12639
synced_at: 2026-01-07T12:31:15-06:00
---

# Constraints files with spaces

---

_Issue opened by @henryiii on 2025-04-02 21:09_

### Summary

`uv pip` doesn't support constraint files with spaces:

```console
$ echo "pytest~=7" > "constraints file.txt"
$ uv pip install pytest -c "constraints file.txt"
error: File not found: `constraints`
```

While pip does:

```console
$ .venv/bin/pip install pytest -c "constraints file.txt"
ERROR: Invalid requirement: 'pytest~=7': Expected end or semicolon (after name and no valid version specifier)
    pytest~=7
          ^ (from line 1 of constraints file.txt)
```

(Ignore the fact I don't know how to write a constraint file, oops)

Note this is different than `PIP_CONSTRAINT`, which does not support spaces, and instead requires URIs since spaces are used to input multiple files.

I was trying to use uv in more places in cibuildwheel and ran into this, we test paths with spaces since they are common on Windows. https://github.com/pypa/cibuildwheel/pull/2322

### Platform

All

### Version

uv 0.6.10 (Homebrew 2025-03-26) (and others)

### Python version

_No response_

---

_Label `bug` added by @henryiii on 2025-04-02 21:09_

---

_Comment by @charliermarsh on 2025-04-02 21:13_

Yeah we use the same syntax here and in the constraints environment variable, I think. What seems like it might be right?

---

_Comment by @henryiii on 2025-04-02 21:54_

You can do `-c` multiple times. Sadly, you can't do that with an environment variable, so that's why the spaces are required there (I don't like using spaces there, but pip couldn't change it due to backcompat). But it shouldn't be in the command line, spaces are supported there!

---

_Comment by @charliermarsh on 2025-04-03 12:57_

Clap doesn't have any way for us to differentiate in the parsing here. We'd need something like https://github.com/clap-rs/clap/discussions/3796.

---

_Referenced in [pypa/cibuildwheel#2322](../../pypa/cibuildwheel/pulls/2322.md) on 2025-04-03 14:13_

---

_Referenced in [astral-sh/uv#15806](../../astral-sh/uv/issues/15806.md) on 2025-09-12 10:13_

---

_Label `external` added by @zanieb on 2025-11-09 03:16_

---
