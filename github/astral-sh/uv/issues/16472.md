---
number: 16472
title: "`uv pip` only works with system Python for package installation"
type: issue
state: closed
author: mrsarm
labels:
  - question
assignees: []
created_at: 2025-10-27T15:56:05Z
updated_at: 2025-10-27T16:17:04Z
url: https://github.com/astral-sh/uv/issues/16472
synced_at: 2026-01-07T12:31:16-06:00
---

# `uv pip` only works with system Python for package installation

---

_Issue opened by @mrsarm on 2025-10-27 15:56_

### Summary

Installation on virtual environments only work OK when I create the venv with the system Python, otherwise when I create a venv with a different version of Python installed with uv, and then try to install a package on the venv, it fails with:

```sh
$ uv pip install ipython
error: No virtual environment found for Python 3.12; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
```

This error has been happening in my Ubuntu 24.04 since I installed `uv`, version 0.7.x (don't remember exactly the version), then I updated to v0.8.22 and got the same, and Today I tried updating again to to v0.9.5: same problem.

### Steps

First, here is the list of my Python versions installed so far, no one works OK for package installation except the system version:

```sh
$ uv python list --only-installed
cpython-3.12.3-linux-x86_64-gnu     /usr/bin/python3.12
cpython-3.12.3-linux-x86_64-gnu     /usr/bin/python3 -> python3.12
cpython-3.11.13-linux-x86_64-gnu    /home/user/.local/share/uv/python/cpython-3.11.13-linux-x86_64-gnu/bin/python3.11
cpython-3.10.18-linux-x86_64-gnu    /home/user/.local/share/uv/python/cpython-3.10.18-linux-x86_64-gnu/bin/python3.10
cpython-3.9.23-linux-x86_64-gnu     /home/user/.local/share/uv/python/cpython-3.9.23-linux-x86_64-gnu/bin/python3.9
```

To reproduce the error:

```sh
$ mkdir test311

$ cd test311/

$ uv venv --python 3.11
Using CPython 3.11.13
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate

$ source .venv/bin/activate
(test311) $ python3 --version
Python 3.11.13

(test311) $ uv pip install ipython --verbose
DEBUG uv 0.9.5
DEBUG Acquired shared lock for `/home/user/.cache/uv`
DEBUG Searching for Python 3.12 in virtual environments
DEBUG Found `cpython-3.11.13-linux-x86_64-gnu` at `/home/user/Temp/venvs/test311/.venv/bin/python3` (active virtual environment)
DEBUG Skipping interpreter at `.venv/bin/python3` from active virtual environment: does not satisfy request `3.12`
DEBUG Found `cpython-3.11.13-linux-x86_64-gnu` at `/home/user/Temp/venvs/test311/.venv/bin/python3` (virtual environment)
DEBUG Skipping interpreter at `.venv/bin/python3` from virtual environment: does not satisfy request `3.12`
DEBUG Searching for managed installations at `/home/user/.local/share/uv/python`
DEBUG Skipping managed installation `cpython-3.11.13-linux-x86_64-gnu`: does not satisfy `3.12`
DEBUG Skipping managed installation `cpython-3.10.18-linux-x86_64-gnu`: does not satisfy `3.12`
DEBUG Skipping managed installation `cpython-3.9.23-linux-x86_64-gnu`: does not satisfy `3.12`
DEBUG Found `cpython-3.11.13-linux-x86_64-gnu` at `/home/user/Temp/venvs/test311/.venv/bin/python3` (first executable in the search path)
DEBUG Skipping interpreter at `.venv/bin/python3` from first executable in the search path: does not satisfy request `3.12`
DEBUG Ignoring Python interpreter at `/home/user/Temp/venvs/test311/.venv/bin/python`: system interpreter not explicitly requested
DEBUG Ignoring Python interpreter at `/usr/bin/python3.12`: system interpreter not explicitly requested
DEBUG Ignoring Python interpreter at `/usr/bin/python3`: system interpreter not explicitly requested
DEBUG Released lock at `/home/user/.cache/uv/.lock`
error: No virtual environment found for Python 3.12; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
```

As you can see, executing `python3 --version` or just `python3` works, it uses the right version of Pyhon (3.11), the env is activated, but then I cannot install anything with `uv pip`, and the error mention my system version (3.12). Skipping the activation of the virtual environment before executing `uv pip ...` doesn't make any difference.

I tried the same in a fresh Ubuntu Server 24.04 with Virtual Box and it worked, so must me something in my local setup, but the error doesn't give me any clue what is wrong.


### Platform

Ubuntu 24.04 x86_64

### Version

uv 0.9.5

### Python version

Python 3.12.3

---

_Label `bug` added by @mrsarm on 2025-10-27 15:56_

---

_Comment by @zanieb on 2025-10-27 15:59_

Can you share `uv python find -vv`?

It seems like something is requesting Python 3.12, do you have a `.python-version` file or `UV_PYTHON=3.12` set?

---

_Label `bug` removed by @zanieb on 2025-10-27 16:00_

---

_Label `question` added by @zanieb on 2025-10-27 16:00_

---

_Comment by @mrsarm on 2025-10-27 16:17_

Ohh it was the env variable `$UV_PYTHON`, I have this in my `~/.bashrc`:

```sh
export UV_PYTHON="3.12"
```

I don't remember why I did it. Maybe I was just experimenting. In any case, removing the variable makes everything work OK.

Thanks for the help !

---

_Closed by @mrsarm on 2025-10-27 16:17_

---
