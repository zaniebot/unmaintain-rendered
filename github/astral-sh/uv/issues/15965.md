---
number: 15965
title: "`uv pip compile` ability to utilize `uv.lock`"
type: issue
state: closed
author: jamesbraza
labels:
  - enhancement
assignees: []
created_at: 2025-09-20T17:46:40Z
updated_at: 2025-09-20T18:06:13Z
url: https://github.com/astral-sh/uv/issues/15965
synced_at: 2026-01-07T12:31:16-06:00
---

# `uv pip compile` ability to utilize `uv.lock`

---

_Issue opened by @jamesbraza on 2025-09-20 17:46_

### Summary

I use `uv pip compile` to compile a subset of the deps + extras:

```none
uv pip compile pyproject.toml --extra a --extra b --output-file requirements.txt
```

However, this doesn't respect `uv.lock`, and unfortunately a bad third party release last night burned me.

Going forward, any chance we can have `uv pip compile` either:

- Support `uv.lock` as a constraint: `uv pip compile pyproject.toml --constraint uv.lock`
- Pull directly from `uv.lock`: `uv pip compile uv.lock`

---

A work around is a two-step process:

```none
uv export ... --format requirements-txt --output constraints.txt
uv pip compile ... --constraint constraints.txt
```

### Example

I put examples in the other section.

---

_Label `enhancement` added by @jamesbraza on 2025-09-20 17:46_

---

_Comment by @zanieb on 2025-09-20 17:48_

Why can't you do `uv export` was a one-step output? I'm not sure I understand that part.

---

_Comment by @jamesbraza on 2025-09-20 18:03_

Oh I see, yeah can just do:

```none
uv export --format requirements-txt --no-hashes --no-dev \
    --extra a --extra b --output-file requirements.txt
```

Once again Zanie you have resolved my request with a simple comment ðŸ˜†. Going to close this out

---

_Closed by @jamesbraza on 2025-09-20 18:03_

---

_Comment by @zanieb on 2025-09-20 18:06_

Cool :) I'm glad it fits your use-case!

---
