---
number: 14520
title: "uv tool upgrade: add `--close-running` option to stop running .exe's before upgrading"
type: issue
state: open
author: soredake
labels:
  - enhancement
assignees: []
created_at: 2025-07-09T14:48:12Z
updated_at: 2025-07-09T17:17:01Z
url: https://github.com/astral-sh/uv/issues/14520
synced_at: 2026-01-07T12:31:16-06:00
---

# uv tool upgrade: add `--close-running` option to stop running .exe's before upgrading

---

_Issue opened by @soredake on 2025-07-09 14:48_

### Summary

Would be useful for always-running tools like `trakt-scrobbler`

See also:
https://github.com/astral-sh/uv/issues/11930
https://github.com/astral-sh/uv/issues/8528

### Example

This will prevent this error:

```
â¯ uv tool upgrade trakt-scrobbler
    Updated https://github.com/iamkroot/trakt-scrobbler.git (8e6febbed94cf7a27515f46f7c359ed70fd2f9b7)
      Built trakt-scrobbler @ git+https://github.com/iamkroot/trakt-scrobbler.git@8e6febbed94cf7a27515f46f7c359ed70fd2f9b7
Updated trakt-scrobbler v1.7.0 -> v1.7.2
 - pydantic==2.11.4
 + pydantic==2.11.5
 - trakt-scrobbler==1.7.0 (from git+https://github.com/iamkroot/trakt-scrobbler.git@cfba6c6ae6c73259760faf7c5db75404095ecdf6)
 + trakt-scrobbler==1.7.2 (from git+https://github.com/iamkroot/trakt-scrobbler.git@8e6febbed94cf7a27515f46f7c359ed70fd2f9b7)
 - typing-inspection==0.4.0
 + typing-inspection==0.4.1
error: Failed to upgrade trakt-scrobbler
  Caused by: Failed to install entrypoint
  Caused by: failed to copy file from C:\Users\ruruo\AppData\Roaming\uv\tools\trakt-scrobbler\Scripts\trakts.exe to C:\Users\ruruo\.local\bin\trakts.exe: The process cannot access the file because it is being used by another process. (os error 32)
```

---

_Label `enhancement` added by @soredake on 2025-07-09 14:48_

---

_Comment by @Aditya-PS-05 on 2025-07-09 17:13_

@charliermarsh can you assign me this issue?

---

_Comment by @zanieb on 2025-07-09 17:17_

I'm not sure we want to implement this @Aditya-PS-05. I'd wait until we have consensus something should be done before implementing it. You could do a PoC if you want, but that's no guarantee we'd do it.

I think the better approach here is to move the existing executables into a temporary directory, which I think we can do while they're running?

---
