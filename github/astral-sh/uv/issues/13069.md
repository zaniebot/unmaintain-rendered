---
number: 13069
title: Allow override dependencies in workspace members
type: issue
state: open
author: haarisr
labels:
  - enhancement
assignees: []
created_at: 2025-04-23T15:02:09Z
updated_at: 2025-04-25T07:08:12Z
url: https://github.com/astral-sh/uv/issues/13069
synced_at: 2026-01-07T12:31:16-06:00
---

# Allow override dependencies in workspace members

---

_Issue opened by @haarisr on 2025-04-23 15:02_

### Summary

In the docs, it is mentioned that override-dependencies always falls back to the workspace root.

In the scenario that I only sync a certain workspace member, I would like that to use the override dependencies of the workspace member.

I expect it to work in the following two scenarios

1.
```bash
cd member && uv sync
```
2. 
```bash
uv sync --package member
```

If I sync from the workspace root without specifying package then it can respect the override-dependencies in the root workspace.




### Example

_No response_

---

_Label `enhancement` added by @haarisr on 2025-04-23 15:02_

---

_Comment by @konstin on 2025-04-23 15:34_

Does https://docs.astral.sh/uv/concepts/projects/config/#conflicting-dependencies work for you? Otherwise, can you describe why you need to override dependencies? With a specific use case, it's easier to find a fitting solution.

---

_Comment by @haarisr on 2025-04-23 18:57_

> Does https://docs.astral.sh/uv/concepts/projects/config/#conflicting-dependencies work for you? Otherwise, can you describe why you need to override dependencies? With a specific use case, it's easier to find a fitting solution.

No, I do not think that solves it.

I am trying to shrink the total number of dependencies in our package/workspace. But some 3rd party dependencies do have a lot of transitive dependencies, some of which are used in certain modules that we do not import.

For eg a package may declare `matplotlib` as a dependency, but I for sure know I am not going to import that part of the module that is used for visualization..

One solution is to ask the maintainer of the package to declare it optional but that is a lot more work than me just overriding the dep in the workspace member to remove `matplotlib`.

---

_Comment by @charliermarsh on 2025-04-23 20:17_

Yeah we don't support this. Overrides have to be declared in the root, as you point out, because we lock the entire workspace at once.

---

_Comment by @haarisr on 2025-04-24 21:06_

I was thinking a little more about this.

Is this not similar to resolution of conflicting dependencies?

Workspace A can require matplotlib, Workspace B can override it.

With uv sync --package A, I get matplotlib. With uv sync --package B I remove matplotlib.

If I do uv sync --all-packages i get a matplotlib since A requires it.

---

_Comment by @konstin on 2025-04-25 07:08_

Only your workspace root can apply overrides, as overrides are global and break the usual rules of dependencies. They are an escape hatch for the regular rules to get out of an dependency conflict which gets defined once for the entire lockfile.

---
