---
number: 15401
title: UV binary not working on Raspberry Pi 5 when installed from Snap or Homebrew Linux
type: issue
state: closed
author: jace
labels:
  - bug
  - external
assignees: []
created_at: 2025-08-21T07:11:56Z
updated_at: 2025-08-21T16:45:12Z
url: https://github.com/astral-sh/uv/issues/15401
synced_at: 2026-01-07T12:31:16-06:00
---

# UV binary not working on Raspberry Pi 5 when installed from Snap or Homebrew Linux

---

_Issue opened by @jace on 2025-08-21 07:11_

### Summary

Following up from #10942, I've found two more UV binary releases broken on a Raspberry Pi 5, from Snap (v0.8.10) and Homebrew Linux (v0.8.12). Same jemalloc error. The curl install script _does work_ and is what I'm using for now.

Note: Despite Homebrew's warning about arm64 not being supported with bottles, it poured uv from a bottle.

<img width="981" height="380" alt="Homebrew arm64 warning" src="https://github.com/user-attachments/assets/db20354e-62c6-4f47-9d88-ba582d8d9c6b" />
<img width="980" height="984" alt="Homebrew uv jemalloc error" src="https://github.com/user-attachments/assets/569b7cb3-d827-4e1e-bd45-353bf0ab80ec" />

Snap:

<img width="961" height="227" alt="Snap uv jemalloc error" src="https://github.com/user-attachments/assets/f4a2b64b-1020-4ec8-a8ec-bfcb782ea31f" />

### Platform

Debian 12 on Raspberry Pi 5 arm64 (Linux 6.12.34+rpt-rpi-2712 aarch64 GNU/Linux)

### Version

0.8.10 and 0.8.12

### Python version

3.11.12

---

_Label `bug` added by @jace on 2025-08-21 07:11_

---

_Comment by @zanieb on 2025-08-21 10:57_

It sounds like they're not packaging uv correctly for that platform.

See https://github.com/astral-sh/uv/issues/4647#issuecomment-2200020378 and https://github.com/gnzlbg/jemallocator/issues/170#issuecomment-1503228963

https://github.com/astral-sh/uv/blob/9c9efc89578bc9fd96502a0d084a77aa718b2355/.github/workflows/build-binaries.yml#L417-L419

---

_Label `external` added by @zanieb on 2025-08-21 10:57_

---

_Referenced in [lengau/uv-snap#10](../../lengau/uv-snap/issues/10.md) on 2025-08-21 11:01_

---

_Comment by @konstin on 2025-08-21 11:51_

Note that we don't control the uv snap, that's why we only recommend the installation methods at https://docs.astral.sh/uv/getting-started/installation/.

---

_Comment by @woodruffw on 2025-08-21 13:41_

> Note: Despite Homebrew's warning about arm64 not being supported with bottles, it poured uv from a bottle.

FWIW, this is probably because you either have Homebrew's developer mode enabled or you've explicitly set `HOMEBREW_ARM64_TESTING`: Homebrew *does* have ARM64 Linux support, but it's currently in beta per https://github.com/Homebrew/brew/issues/19208.

The relevant check is here:

https://github.com/Homebrew/brew/blob/e910f91124dc0bb84368e183288629a2b83a817d/Library/Homebrew/extend/os/linux/diagnostic.rb#L82-L93

That being said, you're right about this being a bad build ðŸ™‚ -- @zanieb's pointer makes sense to me as a fix, so I'll look at getting that upstreamed into Homebrew's bottle build.

---

_Referenced in [Homebrew/homebrew-core#234353](../../Homebrew/homebrew-core/pulls/234353.md) on 2025-08-21 14:02_

---

_Comment by @woodruffw on 2025-08-21 14:03_

I've opened https://github.com/Homebrew/homebrew-core/pull/234353 on homebrew-core with the prospective fix.

---

_Comment by @jace on 2025-08-21 15:40_

Thanks for the quick response! This is my first day using Homebrew Linux â€“ I may have accidentally turned on developer mode.

I had the same error with difftastic but building that from source fixed it (reported https://github.com/Wilfred/difftastic/issues/872). Thought I'd try building uv too, but after three freezes I've learnt 8 GB RAM + default 200 MB swap isn't enough. ðŸ˜…

I'm setting up cross-platform dotfiles and learning there's no good abstraction for package managers. It's already sprawling with macOS/brew, Termux/pkg, Ubuntu/apt+snap, RPiOS/apt+<del>snap</del>+brew+curl|sh. I have one more to go with Armbian for Rockchip64 SBCs.

The dream: `(brew|pkg|sudo apt) install [package list]` and no special cases.

---

_Comment by @woodruffw on 2025-08-21 15:57_

No problem! It looks like the brew rebuild has gone through; could you do a `brew update && brew reinstall uv` and see if it works for you now?

---

_Comment by @jace on 2025-08-21 16:41_

Yes! It works! Would it be too much to ask for the same fix for difftastic and fd? Those are the other two with the same jemalloc error on my Pi.

---

_Comment by @woodruffw on 2025-08-21 16:45_

> Yes! It works! Would it be too much to ask for the same fix for difftastic and fd? Those are the other two with the same jemalloc error on my Pi.

Glad to hear it!

Neither of those is an Astral project, JFYI. But I'll be able to look at those later today potentially. In the mean time, if you file an issue for those on homebrew-core's issue tracker, another maintainer might be able to get to them first.

---

_Closed by @woodruffw on 2025-08-21 16:45_

---

_Referenced in [pkgxdev/pantry#10413](../../pkgxdev/pantry/issues/10413.md) on 2025-09-05 14:07_

---
