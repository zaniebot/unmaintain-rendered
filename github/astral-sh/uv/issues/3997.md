---
number: 3997
title: Unable to install pytorch dev release build (uv pip fails, regular pip succeeds)
type: issue
state: closed
author: fynnsu
labels:
  - compatibility
assignees: []
created_at: 2024-06-03T20:58:23Z
updated_at: 2024-06-03T21:04:56Z
url: https://github.com/astral-sh/uv/issues/3997
synced_at: 2026-01-07T12:31:14-06:00
---

# Unable to install pytorch dev release build (uv pip fails, regular pip succeeds)

---

_Issue opened by @fynnsu on 2024-06-03 20:58_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

uv version: 0.2.6

I ran the following and found that `uv` failed to find the `torch==2.3.1` package, but regular pip succeeded with the same command. Command to install upcoming release build of torch comes from [here](https://dev-discuss.pytorch.org/t/pytorch-release-2-3-1-final-rc-is-available/2126)


```bash
uv venv # Found a cpython 3.10 interpreter
source .venv/bin/activate
uv pip install --index-url https://download.pytorch.org/whl/test/cu121 torch==2.3.1 torchvision==0.18.1 torchaudio==2.3.1
# Fails with:
#   × No solution found when resolving dependencies:
#   ╰─▶ Because there is no version of torch==2.3.1 and you require torch==2.3.1, we can conclude that the requirements are unsatisfiable.

uv pip install pip
python -m pip install --index-url https://download.pytorch.org/whl/test/cu121 torch==2.3.1 torchvision==0.18.1 torchaudio==2.3.1
# Succeeds
```

Also going to the index link, I can manually confirm that the `torch==2.3.1` package does exist.






---

_Comment by @fynnsu on 2024-06-03 21:02_

Ahh okay, looking into this further, it seems like the versions are listed with `+cu121` and if I update the command to
```bash
uv pip install --index-url https://download.pytorch.org/whl/test/cu121 torch==2.3.1+cu121 torchvision==0.18.1+cu121 torchaudio==2.3.1+cu121
```
it works.

I still think this might be a bug though, because I would expect `uv pip` to behave the same as regular pip and match without the `+cu121`. (Unless this is an intentional divergence from the pip behaviour)

---

_Comment by @charliermarsh on 2024-06-03 21:04_

Thanks -- this is covered in the pip compatibility guide: https://github.com/astral-sh/uv/blob/main/PIP_COMPATIBILITY.md#local-version-identifiers

---

_Label `compatibility` added by @charliermarsh on 2024-06-03 21:04_

---

_Closed by @charliermarsh on 2024-06-03 21:04_

---
