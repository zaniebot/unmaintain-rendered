---
number: 10628
title: How to configure uv to use namespace packages?
type: issue
state: open
author: rvhaasen
labels:
  - question
assignees: []
created_at: 2025-01-15T10:55:19Z
updated_at: 2025-10-10T08:29:58Z
url: https://github.com/astral-sh/uv/issues/10628
synced_at: 2026-01-07T12:31:15-06:00
---

# How to configure uv to use namespace packages?

---

_Issue opened by @rvhaasen on 2025-01-15 10:55_

While migrating a project from setuptools to uv I cannot get a namespace package correct:

**First the "setuptools version" of the project:**

It contains directives for finding the namespace packages (in setup.cfg):
```
...
package_dir = =src
packages = find_namespace:
[options.packages.find]
where = src
include = a.b.*
...
```
The file layout of MyPackage is as follows:

```
pyproject.toml
setup.cfg
src/a/b/MyPackage
        __init__.py
        SomeSubPackage
           __init__.py

```

pip install -e . 
MyPackage is now available using namespace "a.b":

`import a.b.MyPackage`

**Now the "uv version" of the project:**
(relevant parts)

It uses following lines in pyproject.toml for specifiying the package:

```
...
[tool.hatch.build.targets.wheel]
packages = ["src/a/b/MyPackage"]
...
```
uv sync 
will get the depenedencies and creates an editable installation in .venv

This makes MyPackage available without the namespace part

`import MyPackage`

Which is not what I want, MyPackage should be available in namespace "a.b"

I cannot not find a way how to configure it such that i can import the package as "a.b.MPackage".
I tried variations like:
packages = ["src/*"]

But none of the variations work.

---

_Comment by @charliermarsh on 2025-01-15 16:39_

If you're using `setup.cfg`, I don't think you should be using `[tool.hatch.build.targets.wheel]`? (That's not related to uv, though. That's your "build backend" which is independent of uv.) You should be using something like

```toml
[build-system]
requires = ["setuptools>=42"]
build-backend = "setuptools.build_meta"
```

---

_Label `question` added by @charliermarsh on 2025-01-15 16:39_

---

_Comment by @rvhaasen on 2025-01-16 09:30_

I'm not using setup.cfg in the "uv version". The goal is to only have all configuration in pyproject.toml.

I did specify hatchling as backend, and by doing so, I had to set 
```
[tool.hatch.build.targets.wheel]
packages = ["src/a/b/MyPackage"]

```
If it is not specified, then 'uv sync' failed because hatchling cannot find the package. I think that by default it tries to build the package when a build-system is defined.
I did however not expect that this option would have effect on the installation of the package in .venv,
but somehow it did. If "packages" is not defined as "src/a/b/MyPackage" then MyPackage is not installed in the .venv.

But finally, I found a solution by not specifying a build system in pyproject.toml (and of course removing the tool.hatch.build.targets.wheel parameter). No it all works fine and the pyproject.toml looks clean.

'uv sync' installs the package and dependencies properly, and I can import MyPackage as
`import a.b.MyPackage
`

Thanks for your comment, it helped finding a solution!

---

_Comment by @moaddib666 on 2025-05-14 14:41_

Hi @rvhaasen Looks like a duplicate of https://github.com/astral-sh/uv/issues/6575, I'd suggest take a brief look 

---

_Comment by @woutervhy on 2025-10-10 08:29_

@rvhaasen 
Take a look at my example:
https://github.com/libranet/demo-uv-workspace/tree/main

---

_Referenced in [linkml/linkml#2873](../../linkml/linkml/pulls/2873.md) on 2025-10-16 21:37_

---
