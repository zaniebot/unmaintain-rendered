---
number: 7372
title: uv sync with pytorch gpu version is not working
type: issue
state: closed
author: EtienneT
labels:
  - question
assignees: []
created_at: 2024-09-13T18:07:57Z
updated_at: 2024-09-13T18:24:12Z
url: https://github.com/astral-sh/uv/issues/7372
synced_at: 2026-01-07T12:31:15-06:00
---

# uv sync with pytorch gpu version is not working

---

_Issue opened by @EtienneT on 2024-09-13 18:07_

I can't seem to find any good example of how to add pytorch GPU version in a pyproject.toml.

Given this pyproject.toml, I get it to work by using `uv pip install -r pyproject.toml`:

```
[project]
name = "test"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.11,<3.13"
dependencies = [
    "torch==2.4.0+cu124"
]

[tool.uv]
index-strategy = "unsafe-best-match"

[tool.uv.pip]
index-url = "https://pypi.org/simple"
extra-index-url = [
    "https://pypi.org/simple",
    "https://download.pytorch.org/whl/cu124",
]

[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"
```

But as soon as I try to use `uv sync`, I get the following error:
```
× No solution found when resolving dependencies:
  ╰─▶ Because there is no version of torch==2.4.0+cu124 and your project depends on torch==2.4.0+cu124, we can conclude that your project's requirements are unsatisfiable.
```

---

_Comment by @charliermarsh on 2024-09-13 18:15_

Can you try changing `[tool.uv.pip]` to `[tool.uv]`? `[tool.uv.pip]` settings only apply to `uv pip` commands.

---

_Label `question` added by @charliermarsh on 2024-09-13 18:15_

---

_Comment by @EtienneT on 2024-09-13 18:24_

Yep that fixed it!  Thanks a lot for the quick response!

---

_Closed by @EtienneT on 2024-09-13 18:24_

---
