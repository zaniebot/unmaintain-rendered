---
number: 11729
title: This environment is externally managed (again)
type: issue
state: closed
author: cornpo
labels:
  - needs-mre
assignees: []
created_at: 2025-02-24T00:22:29Z
updated_at: 2025-03-15T01:02:21Z
url: https://github.com/astral-sh/uv/issues/11729
synced_at: 2026-01-07T12:31:15-06:00
---

# This environment is externally managed (again)

---

_Issue opened by @cornpo on 2025-02-24 00:22_

### Summary

Steps to reproduce. Make a venv in any way with uv venv, et al. and it defaults to wanting to install packages system wide on uv sync.

For instance 'git clone https://github.com/alexander-zuev/supabase-mcp-server.git &&  cd supabase-mcp-server && uv venv && source .venv/bin/activate' runs fine. But upon invoking 'uv sync' I get 'error: externally-managed-environment Ã— This environment is externally managed' even though I have UV_PROJECT_ENVIRONMENT & VIRTUAL_ENV set to previously created .venv directory. 'which python' gives '/supabase/.venv/bin/python'

### Platform

Manjaro Linux 6.13.0-rc6-1-amd-drm-fixes-gbd275e6cfc97 x86_64 GNU/Linux

### Version

uv 0.5.29 (ca73c4754 2025-02-05)

### Python version

3.12.9, 3.13.2, whatever you pick with uv venv --python 3.*

---

_Label `bug` added by @cornpo on 2025-02-24 00:22_

---

_Comment by @HernandoR on 2025-02-24 04:45_

I sometimes confused which env the uv is interacting with when I call `uv sync` or `uv add`, I'm currently enforcing check `which python` and `source .venv/bin/activate` every time before `uv sync`.

Hope anyone can solve my confusion.

---

_Comment by @charliermarsh on 2025-02-24 18:52_

Are you certain that you have `UV_PROJECT_ENVIRONMENT` set to the current working directory's `.venv` value? I'd suggest completely unsetting `UV_PROJECT_ENVIRONMENT` -- that's the default for uv anyway. Why set it?

---

_Label `bug` removed by @charliermarsh on 2025-02-24 18:52_

---

_Label `needs-mre` added by @charliermarsh on 2025-02-24 18:52_

---

_Closed by @charliermarsh on 2025-03-15 01:02_

---

_Comment by @charliermarsh on 2025-03-15 01:02_

Closing due to lack of follow-up, but happy to re-open with an MRE!

---

_Assigned to @charliermarsh by @charliermarsh on 2025-03-15 01:02_

---
