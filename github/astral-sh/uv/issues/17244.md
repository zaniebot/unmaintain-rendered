---
number: 17244
title: Support devDependencies for uv run --script
type: issue
state: open
author: xiaoxiangmoe
labels:
  - enhancement
  - question
assignees: []
created_at: 2025-12-27T21:08:07Z
updated_at: 2026-01-04T19:10:25Z
url: https://github.com/astral-sh/uv/issues/17244
synced_at: 2026-01-07T12:31:16-06:00
---

# Support devDependencies for uv run --script

---

_Issue opened by @xiaoxiangmoe on 2025-12-27 21:08_

### Summary

```sh
> cat docker-client.py
#!/usr/bin/env -S uv run --script
#
# /// script
# requires-python = ">=3.13"
# dependencies = [
#     "docker>=7.1.0",
#     "ty>=0.0.7",
# ]
# ///

import docker

print(docker.from_env())
```

```sh
> uv add --script docker-client.py --dev ty
error: the argument '--script <SCRIPT>' cannot be used with '--dev'
```

Run this script need no ty, so we need move ty into devDependencies.


<details>
<summary>
Why do we need to add ty to devDependencies?
</summary>
If I don't lock ty version into dependencies or devDependencies with docker-client.py.lock, I won't know which version of my type checker I used a few months later. uvx may install latest version, which is an extremely bad disaster for a reproducible environment.
</details>


### Example

_No response_

---

_Label `enhancement` added by @xiaoxiangmoe on 2025-12-27 21:08_

---

_Comment by @charliermarsh on 2026-01-04 19:10_

This actually isn't supported in the standards right now -- we can't write `[dependency-groups]` into those files, since https://peps.python.org/pep-0735/ only covers `pyproject.toml`. We could use `[tool.uv.dev-dependencies]`, but we want to deprecate that so I don't think it would be wise to add a load-bearing use-case. I'd rather see this solved in the standards first.

---

_Label `question` added by @charliermarsh on 2026-01-04 19:10_

---
