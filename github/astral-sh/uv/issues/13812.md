---
number: 13812
title: "Test cases on Windows flake with exit code `-1073741819`"
type: issue
state: open
author: zanieb
labels:
  - ci-flake
assignees: []
created_at: 2025-06-03T14:02:22Z
updated_at: 2025-06-16T16:46:31Z
url: https://github.com/astral-sh/uv/issues/13812
synced_at: 2026-01-07T12:31:16-06:00
---

# Test cases on Windows flake with exit code `-1073741819`

---

_Issue opened by @zanieb on 2025-06-03 14:02_

```
        FAIL [   2.228s] uv::it sync::sync_group
  stdout ───

    running 1 test
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    Snapshot: sync_group
    Source: D:\uv:1317
    ───────────────────────────────────────────────────────────────────────────────
    Expression: snapshot
    ───────────────────────────────────────────────────────────────────────────────
    -old snapshot
    +new results
    ────────────┬──────────────────────────────────────────────────────────────────
        0       │-success: true
        1       │-exit_code: 0
              0 │+success: false
              1 │+exit_code: -1073741819
        2     2 │ ----- stdout -----
        3     3 │ 
        4     4 │ ----- stderr -----
        5     5 │ Resolved 10 packages in [TIME]
    ────────────┴──────────────────────────────────────────────────────────────────
    Stopped on the first failure. Run `cargo insta test` to run all snapshots.
    test sync::sync_group ... FAILED

    failures:

    failures:
        sync::sync_group

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 1646 filtered out; finished in 2.20s
    
  stderr ───

    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    ----- stdout -----

    ----- stderr -----
    Resolved 10 packages in 4ms
    Prepared 2 packages in 50ms
    Installed 2 packages in 60ms
     + iniconfig==2.0.0
     + typing-extensions==4.10.0

    ────────────────────────────────────────────────────────────────────────────────


    thread 'sync::sync_group' panicked at D:/.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\insta-1.43.1\src\runtime.rs:679:13:
    snapshot assertion for 'sync_group' failed in line 1317
```

---

_Label `ci-flake` added by @zanieb on 2025-06-03 14:02_

---

_Comment by @zanieb on 2025-06-03 14:02_

e.g., https://github.com/astral-sh/uv/actions/runs/15419136863/job/43389293103?pr=13808

---

_Referenced in [astral-sh/uv#13023](../../astral-sh/uv/issues/13023.md) on 2025-06-03 14:37_

---

_Comment by @konstin on 2025-06-03 14:38_

The crash analysis didn't trigger :/

> No files were found with the provided path: dumps/*.dmp. No artifacts will be uploaded.

---

_Renamed from "`sync::sync_group` flakes with exit code `-1073741819` on Windows" to "Test cases on Windows flake with exit code `-1073741819`" by @zanieb on 2025-06-03 14:39_

---

_Comment by @zanieb on 2025-06-03 14:39_

See also #13023 — this doesn't seem focused on a specific test.

---

_Referenced in [astral-sh/uv#13928](../../astral-sh/uv/issues/13928.md) on 2025-06-09 17:13_

---

_Comment by @jtfmumm on 2025-06-09 17:25_

This error code looks like a Windows Access Violation error (hex: `0xC0000005`).

Another case: https://github.com/astral-sh/uv/actions/runs/15539150456/job/43745497711?pr=13917 on `lock_invalid_hash`. 

---

_Referenced in [astral-sh/uv#13941](../../astral-sh/uv/pulls/13941.md) on 2025-06-10 10:24_

---

_Comment by @konstin on 2025-06-12 09:53_

Another one: https://github.com/astral-sh/uv/actions/runs/15600709049/job/43939940603?pr=13978

---

_Comment by @konstin on 2025-06-16 16:46_

We finally have a backtrace (https://github.com/astral-sh/uv/actions/runs/15686548260/job/44191093407?pr=14081):

```
         FAIL [   4.630s] uv::it pip_list::list_outdated_index
  stdout ───

    running 1 test
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Snapshot Summary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    Snapshot: list_outdated_index-2
    Source: D:\uv:263
    ───────────────────────────────────────────────────────────────────────────────
    Expression: snapshot
    ───────────────────────────────────────────────────────────────────────────────
    -old snapshot
    +new results
    ────────────┬──────────────────────────────────────────────────────────────────
        0       │-success: true
        1       │-exit_code: 0
              0 │+success: false
              1 │+exit_code: -1073741819
        2     2 │ ----- stdout -----
        3     3 │ Package Version Latest Type
        4     4 │ ------- ------- ------ -----
        5     5 │ anyio   3.0.0   3.5.0  wheel
    ────────────┴──────────────────────────────────────────────────────────────────
    Stopped on the first failure. Run `cargo insta test` to run all snapshots.
    test pip_list::list_outdated_index ... FAILED

    failures:

    failures:
        pip_list::list_outdated_index

    test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 1679 filtered out; finished in 4.59s
    
  stderr ───

    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    ----- stdout -----

    ----- stderr -----
    Resolved 3 packages in 173ms
    Prepared 3 packages in 69ms
    Installed 3 packages in 354ms
     + anyio==3.0.0
     + idna==3.6
     + sniffio==1.3.1

    ────────────────────────────────────────────────────────────────────────────────


    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Unfiltered output ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    ----- stdout -----
    Package Version Latest Type
    ------- ------- ------ -----
    anyio   3.0.0   3.5.0  wheel

    ----- stderr -----

    ────────────────────────────────────────────────────────────────────────────────


    thread 'pip_list::list_outdated_index' panicked at D:/.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\insta-1.43.1\src\runtime.rs:679:13:
    snapshot assertion for 'list_outdated_index-2' failed in line 263
    stack backtrace:
       0: std::panicking::begin_panic_handler
                 at /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library\std\src\panicking.rs:695
       1: core::panicking::panic_fmt
                 at /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library\core\src\panicking.rs:75
       2: insta::runtime::SnapshotAssertionContext::finalize
                 at D:\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\insta-1.43.1\src\runtime.rs:679
       3: insta::runtime::assert_snapshot
                 at D:\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\insta-1.43.1\src\runtime.rs:848
       4: it::pip_list::list_outdated_index
                 at .\tests\it\common\mod.rs:1708
       5: it::pip_list::list_outdated_index::closure$0
                 at .\tests\it\pip_list.rs:239
       6: core::ops::function::FnOnce::call_once<it::pip_list::list_outdated_index::closure_env$0,tuple$<> >
                 at /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb\library\core\src\ops\function.rs:250
       7: core::ops::function::FnOnce::call_once
                 at /rustc/05f9846f893b09a1be1fc8560e33fc3c815cfecb/library\core\src\ops\function.rs:250
    note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

error: test run failed
Error: Process completed with exit code 100.
```

---

_Referenced in [astral-sh/uv#14563](../../astral-sh/uv/issues/14563.md) on 2025-07-11 15:03_

---

_Referenced in [astral-sh/uv#14582](../../astral-sh/uv/pulls/14582.md) on 2025-07-13 02:49_

---
