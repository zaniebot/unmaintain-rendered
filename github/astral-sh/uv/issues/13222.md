---
number: 13222
title: "Installing package from local pypiserver not working with `0.7.0`"
type: issue
state: closed
author: my1e5
labels:
  - bug
  - great writeup
assignees: []
created_at: 2025-04-30T10:35:31Z
updated_at: 2025-04-30T11:05:06Z
url: https://github.com/astral-sh/uv/issues/13222
synced_at: 2026-01-07T12:31:16-06:00
---

# Installing package from local pypiserver not working with `0.7.0`

---

_Issue opened by @my1e5 on 2025-04-30 10:35_

### Summary

I have a pypiserver running on my local network. I'm unable to install packages from it starting `0.7.0`. Here is a minimal reproducable example.

## Create a `.whl` and copy to a folder

```
$ uv init --package foo
$ cd foo
$ uv build
$ mkdir ~/packages
$ mv dist/foo-0.1.0-py3-none-any.whl ~/packages
```

## Run a `pypi-server`
```
$ uv tool install pypiserver
$ pypi-server run -p 8080 ~/packages &
```

## Add package to another project

```
$ uv init bar
$ cd bar/
```

### `0.6.17`

This works fine.

```
$ uv self update 0.6.17
info: Checking for updates...
success: Upgraded uv from v0.7.0 to v0.6.17! https://github.com/astral-sh/uv/releases/tag/0.6.17

$ uv add --index http://localhost:8080 foo
Using CPython 3.13.1
Creating virtual environment at: .venv
Resolved 2 packages in 17ms
Prepared 1 package in 6ms
Installed 1 package in 6ms
 + foo==0.1.0

$ uv remove foo
Resolved 1 package in 2ms
Uninstalled 1 package in 3ms
 - foo==0.1.0
```


### `0.7.0`

Remove `foo` before trying agan with `0.7.0`. Now we get a `No solution found when resolving dependencies` error.

```
$ uv self update 0.7.0
info: Checking for updates...
success: Upgraded uv from v0.6.17 to v0.7.0! https://github.com/astral-sh/uv/releases/tag/0.7.0

$ uv add --index http://localhost:8080 foo
  × No solution found when resolving dependencies:
  ╰─▶ Because there are no versions of foo and your project depends on foo, we can conclude that
      your project's requirements are unsatisfiable.
  help: If you want to add the package regardless of the failed resolution, provide the
        `--frozen` flag to skip locking and syncing.
```

<details>

<summary>Verbose logs</summary>

```
DEBUG uv 0.7.0 (62bca8c34 2025-04-29)
DEBUG Found project root: `/Users/rd/Documents/bar`
DEBUG No workspace root found, using project root
DEBUG Acquired lock for `/Users/rd/Documents/bar`
DEBUG Reading Python requests from version file at `/Users/rd/Documents/bar/.python-version`
DEBUG Using Python request `3.13` from version file at `.python-version`
DEBUG Checking for Python environment at `.venv`
DEBUG The virtual environment's Python version satisfies the request: `Python 3.13`
DEBUG Released lock at `/var/folders/zq/tmmf50wd6p3gmy630_7j62x40000gp/T/uv-e0a65891d657ea58.lock`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: bar @ file:///Users/rd/Documents/bar
DEBUG No workspace root found, using project root
DEBUG Ignoring existing lockfile due to mismatched requirements for: `bar==0.1.0`
  Requested: {Requirement { name: PackageName("foo"), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([]), index: None, conflict: None }, origin: None }}
  Existing: {}
DEBUG Solving with installed Python version: 3.13.1
DEBUG Solving with target Python version: >=3.13
DEBUG Adding direct dependency: bar*
DEBUG Searching for a compatible version of bar @ file:///Users/rd/Documents/bar (*)
DEBUG Adding direct dependency: foo*
DEBUG Found stale response for: http://localhost:8080/foo/
DEBUG Sending revalidation request for: http://localhost:8080/foo/
DEBUG Found modified response for: http://localhost:8080/foo/
DEBUG Searching for a compatible version of foo (*)
DEBUG No compatible version found for: foo
DEBUG Recording unit propagation conflict of foo from incompatibility of (bar)
DEBUG Searching for a compatible version of bar @ file:///Users/rd/Documents/bar (<0.1.0 | >0.1.0)
DEBUG No compatible version found for: bar
DEBUG Reverting changes to `pyproject.toml`
DEBUG Reverting changes to `uv.lock`
  × No solution found when resolving dependencies:
  ╰─▶ Because there are no versions of foo and your project depends on foo, we can conclude that your project's requirements are unsatisfiable.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and syncing.
```

</details>



### Platform

macOS

### Version

0.7.0

### Python version

_No response_

---

_Label `bug` added by @my1e5 on 2025-04-30 10:35_

---

_Renamed from "Installating package from local pypiserver not working with `0.7.0`" to "Installing package from local pypiserver not working with `0.7.0`" by @my1e5 on 2025-04-30 10:37_

---

_Label `great writeup` added by @konstin on 2025-04-30 10:40_

---

_Comment by @konstin on 2025-04-30 10:48_

Fixes by 0.7.1

CC @jtfmumm we should test this too when re-introducing the redirect behavior.

---

_Closed by @konstin on 2025-04-30 10:48_

---

_Assigned to @jtfmumm by @jtfmumm on 2025-04-30 11:05_

---
