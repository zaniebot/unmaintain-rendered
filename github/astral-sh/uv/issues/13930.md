---
number: 13930
title: "`uv` cannot resolve Jetpack (l4t) dependencies"
type: issue
state: closed
author: PawelPeczek-Roboflow
labels:
  - question
assignees: []
created_at: 2025-06-09T17:59:20Z
updated_at: 2025-06-10T16:44:19Z
url: https://github.com/astral-sh/uv/issues/13930
synced_at: 2026-01-07T12:31:16-06:00
---

# `uv` cannot resolve Jetpack (l4t) dependencies

---

_Issue opened by @PawelPeczek-Roboflow on 2025-06-09 17:59_

### Question

Hello there,

I am not sure if I am doing it right, but I am struggling to resolve the environment which defines torch index with packages suited to run on Nvidia Orin devices with Jetpack 6 (also known as Linux For Tegra).

```
[project]
name = "XXX"
version = "0.1.0"
description = "YYY"
readme = "README.md"
requires-python = ">=3.10,<3.13"

dependencies = []

[project.optional-dependencies]
cpu = [
  "torch>=2.7.0",
  "torchvision>=0.22.0",
]
cu128 = [
  "torch>=2.7.0",
  "torchvision>=0.22.0",
]
torch-jp6 = [
  "torch>=2.0.0; sys_platform == 'linux' and platform_machine == 'aarch64' and python_version == '3.10'",    # tried lots of combination of markers here, nothing works
  "torchvision"
]

[tool.uv]
conflicts = [
  [
    { extra = "cpu" },
    { extra = "cu128" },
    { extra = "torch-jp6" },
  ],
]

[tool.uv.sources]
torch = [
  { index = "pytorch-cpu", extra = "cpu" },
  { index = "pytorch-cu128", extra = "cu128" },
  { index = "jp6-cuda", extra = "torch-jp6" },
]
torchvision = [
  { index = "pytorch-cpu", extra = "cpu" },
  { index = "pytorch-cu128", extra = "cu128" },
  { index = "jp6-cuda", extra = "torch-jp6" },
]

[[tool.uv.index]]
name = "pytorch-cpu"
url = "https://download.pytorch.org/whl/cpu"
explicit = true

[[tool.uv.index]]
name = "pytorch-cu128"
url = "https://download.pytorch.org/whl/cu128"
explicit = true

[[tool.uv.index]]
name = "jp6-cuda"
url = "https://pypi.jetson-ai-lab.dev/jp6/cu126"
explicit = true
```

The error I get in response to `uv sync` is the following:
```
â¯ uv sync
  Ã— No solution found when resolving dependencies:
  â•°â”€â–¶ Because there are no versions of torch{platform_machine == 'aarch64' and sys_platform == 'linux'}
      and inference-exp[torch-jp6] depends on torch{platform_machine == 'aarch64' and sys_platform ==
      'linux'}>=2.0.0, we can conclude that inference-exp[torch-jp6]'s requirements are unsatisfiable.
      And because your project requires inference-exp[torch-jp6], we can conclude that your project's
      requirements are unsatisfiable.
```

I am sure that the package can be resolved from https://pypi.jetson-ai-lab.dev/jp6/cu126:
```
pip index versions torch --index-url https://pypi.jetson-ai-lab.dev/jp6/cu126 --python-version 3.10 --platform linux_aarch64

torch (2.7.0)
Available versions: 2.7.0, 2.6.0, 2.5.0, 2.4.0
```

The solution I am looking for would allow using multiple python versions for general installations of my package, but only specific one when specific extras are in use. Would really appreciate help ðŸ™ 


### Platform

MacOS 15.5

### Version

uv 0.7.12 (dc3fd4647 2025-06-06)

---

_Label `question` added by @PawelPeczek-Roboflow on 2025-06-09 17:59_

---

_Comment by @aw632 on 2025-06-09 21:02_

Getting the same issue, on Jetson with CUDA 12.6. Here's my complete error log:

```
user@gary:/mnt/data/awang/torch_compile_example$ uv add torch --index https://pypi.jetson-ai-lab.dev/jp6/cu126 -vv
DEBUG uv 0.7.11
DEBUG Found project root: `/mnt/data/awang/torch_compile_example`
DEBUG No workspace root found, using project root
TRACE Checking lock for `/mnt/data/awang/torch_compile_example` at `/tmp/uv-c2963d847eb09856.lock`
DEBUG Acquired lock for `/mnt/data/awang/torch_compile_example`
DEBUG Reading Python requests from version file at `/mnt/data/awang/torch_compile_example/.python-version`
DEBUG Using Python request `3.10` from version file at `.python-version`
DEBUG Checking for Python environment at `.venv`
TRACE Cached interpreter info for Python 3.10.12, skipping probing: .venv/bin/python3
DEBUG The project environment's Python version satisfies the request: `Python 3.10`
TRACE The project environment's Python version meets the Python requirement: `>=3.10`
DEBUG Released lock at `/tmp/uv-c2963d847eb09856.lock`
DEBUG Using request timeout of 30s
DEBUG Found static `pyproject.toml` for: torch-compile-example @ file:///mnt/data/awang/torch_compile_example
DEBUG No workspace root found, using project root
DEBUG Ignoring existing lockfile due to mismatched requirements for: `torch-compile-example==0.1.0`
  Requested: {Requirement { name: PackageName("torch"), extras: [], groups: [], marker: true, source: Registry { specifier: VersionSpecifiers([]), index: None, conflict: None }, origin: None }}
  Existing: {}
TRACE Performing lookahead for torch-compile-example @ file:///mnt/data/awang/torch_compile_example
DEBUG Solving with installed Python version: 3.10.12
DEBUG Solving with target Python version: >=3.10
TRACE Assigned packages: 
TRACE Chose package for decision: root. remaining choices: 
DEBUG Adding direct dependency: torch-compile-example*
TRACE Assigned packages: root==0a0.dev0
TRACE Chose package for decision: torch-compile-example. remaining choices: 
DEBUG Searching for a compatible version of torch-compile-example @ file:///mnt/data/awang/torch_compile_example (*)
DEBUG Adding direct dependency: torch*
TRACE Assigned packages: root==0a0.dev0, torch-compile-example==0.1.0
TRACE Chose package for decision: torch. remaining choices: 
TRACE Fetching metadata for torch from https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Cached request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ is storable because its response has a heuristically cacheable status code 200
TRACE Could not determine freshness lifetime, assuming none exists
TRACE Cached request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ has a cached response that does not allow staleness
TRACE Request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ does not have a fresh cache because its age is 49 seconds, it is greater than the freshness lifetime of 0 seconds and stale cached responses are not allowed
DEBUG Found stale response for: https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
DEBUG Sending revalidation request for: https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Handling request for https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ with authentication policy auto
TRACE Request for https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ is unauthenticated, checking cache
TRACE No credentials in cache for URL https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Attempting unauthenticated request for https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Resource is modified because status is 200 and not 304
DEBUG Found modified response for: https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/
TRACE Cached request https://pypi.jetson-ai-lab.dev/jp6/cu126/torch/ is storable because its response has a heuristically cacheable status code 200
WARN Skipping file for torch: 
WARN Skipping file for torch: 
WARN Skipping file for torch: 
WARN Skipping file for torch: +searchhelp
WARN Skipping file for torch: +status
WARN Skipping file for torch: 2.4.0
WARN Skipping file for torch: 2.5.0
WARN Skipping file for torch: 2.6.0
WARN Skipping file for torch: 2.6.0rc1
WARN Skipping file for torch: 2.7.0
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: cu126
WARN Skipping file for torch: jp6
WARN Skipping file for torch: latest
WARN Skipping file for torch: torch
WARN Skipping file for torch: torch
TRACE Received package metadata for: torch
TRACE Selecting candidate for torch with range * with 0 remote versions
TRACE Exhausted all candidates for package torch with range * after 0 steps
DEBUG Searching for a compatible version of torch (*)
TRACE Selecting candidate for torch with range * with 0 remote versions
TRACE Exhausted all candidates for package torch with range * after 0 steps
DEBUG No compatible version found for: torch
DEBUG Recording unit propagation conflict of torch from incompatibility of (torch-compile-example)
TRACE Assigned packages: root==0a0.dev0
TRACE Chose package for decision: torch-compile-example. remaining choices: 
DEBUG Searching for a compatible version of torch-compile-example @ file:///mnt/data/awang/torch_compile_example (<0.1.0 | >0.1.0)
DEBUG No compatible version found for: torch-compile-example
DEBUG Reverting changes to `pyproject.toml`
DEBUG Reverting changes to `uv.lock`
  Ã— No solution found when resolving dependencies:
TRACE Resolver derivation tree before reduction
term root==0a0.dev0
  root==0a0.dev0 depends on torch-compile-example*
  term torch-compile-example*
    term torch-compile-example==0.1.0
      torch-compile-example==0.1.0 depends on torch*
      no versions of torch*
    no versions of torch-compile-example<0.1.0 | >0.1.0
TRACE Resolver derivation tree after reduction
term torch-compile-example==0.1.0
  torch-compile-example==0.1.0 depends on torch*
  no versions of torch*
  â•°â”€â–¶ Because there are no versions of torch and your project depends on torch, we can conclude that your project's requirements are unsatisfiable.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and syncing.
```

---

_Comment by @charliermarsh on 2025-06-09 21:08_

To start, I _think_ you need to use `https://pypi.jetson-ai-lab.dev/jp6/cu126/+simple`? `https://pypi.jetson-ai-lab.dev/jp6/cu126` is not a Simple API URL (if you open that page in a browser, it needs to be a list of links).

---

_Comment by @zanieb on 2025-06-09 21:14_

You could also suggest they update their DevPi version to support Simple API queries at that URL (as noted in https://github.com/astral-sh/uv/issues/11136)

---

_Comment by @aw632 on 2025-06-10 03:17_

@charliermarsh I can confirm that adding `+simple` fixes the issue for me, thanks! @PawelPeczek-Roboflow I think this should work for you as well?

---

_Comment by @PawelPeczek-Roboflow on 2025-06-10 09:22_

Checking now - thanks a lot, would never guess to check that :)

---

_Comment by @PawelPeczek-Roboflow on 2025-06-10 09:24_

works for me, thanks

---

_Closed by @konstin on 2025-06-10 09:41_

---

_Comment by @aw632 on 2025-06-10 16:40_

> You could also suggest they update their DevPi version to support Simple API queries at that URL (as noted in [#11136](https://github.com/astral-sh/uv/issues/11136))

I will raise this to the Jetpack team internally. Thanks, good idea!

---
