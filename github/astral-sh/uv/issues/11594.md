---
number: 11594
title: "Allow using `requirements.in` to specify dependencies for `uv tool run` and `uv tool install` and show examples in the docs"
type: issue
state: open
author: ShaiAvr
labels:
  - documentation
assignees: []
created_at: 2025-02-18T11:55:02Z
updated_at: 2025-03-18T20:24:25Z
url: https://github.com/astral-sh/uv/issues/11594
synced_at: 2026-01-07T12:31:15-06:00
---

# Allow using `requirements.in` to specify dependencies for `uv tool run` and `uv tool install` and show examples in the docs

---

_Issue opened by @ShaiAvr on 2025-02-18 11:55_

### Summary

I want to migrate to `uv` to manage my Python installations and tools. I currently use `pyenv` and I usually have a "global" installation into which I install ipython, ruff, numpy, etc. I use it for quick sketches or playing around (Real projects use virtual environments of course). According to the [docs](https://docs.astral.sh/uv/pip/environments/#python-environments), I shouldn't really mess with a global installation, which I can understand, and I want to migrate to using the `uv tool` interface. One common workflow I have is to simply open an `ipython` session into which I can import numpy or another library to test and play around. Since I use `ipython` a lot, I think it would be better to install it rather than doing `uvx ipython` every time. The problem, is that I need many dependencies for `ipython`. For example, I use the [rich extension for ipython](https://rich.readthedocs.io/en/stable/introduction.html#ipython-extension) to get nice colors and highlighting so I always need to run `uvx --with rich ipython`. In addition, I almost always use numpy or other libraries in Python, so if I were to install this tool, it would be something like `uv tool install --with 'rich,numpy,scipy,matplotlib,pandas,sympy,astropy,attrs' ipython`. This commands gets quite long, and while I only run it once to install everything, it's still not nice. When reading the command reference of the `uv tool install` command, I found that it accepts an option `--with-requirements <WITH_REQUIREMENTS>` which takes a `requirements.txt` file. This looks like a nice solution to my problem, but I have a few problems with this option which I think we can address:

- The option takes a `requirements.txt` file instead of `requirements.in`. `requirements.txt` is normally for locked dependencies and in this case, it makes less sense to lock the dependencies of an installed tool. I think the option should be changed to take a `requirements.in` file instead or in addition to `requirements.txt`, so I can simply specify all the dependencies of a tool in a file without version locking.
- This option isn't very well documented. From my search, this option only appears in the reference of the `uv tool run` and `uv tool install` commands. There is no mention of this option in the guides for using and installing tools and no examples of how to use this option. The ability to specify the dependencies of a tool in a file instead of in a command line argument seems to me like a great feature and I think the guides should mention it and provide examples on how to do that.

### Example

I believe my suggestions could improve the workflow of running and installing tools. With these suggestions implemented, I can simply make a `requirements.in` file containing:
```
astropy
attrs
colorama
matplotlib
mccabe
numba
numpy
opt_einsum
pandas
pillow
pint
requests
rich
rich-argparse
scipy
sympy
tqdm
uncertainties
```
and then use `uv tool install --with-requirements requirements.in ipython` to install `ipython` which I can then launch with all the libraries I need to play around and test things out, and it's very easy to change or extend this file and run the same command to get `ipython` with all the libraries I need.

Another idea I had is that we can extend this interface to install tools from a configuration file. For example, we can make a JSON file:
```json
{
    "ipython": {
        "python version": "3.12",
        "dependencies": ["rich", "numpy", ...]
    },
    "ruff": {
        "python version": "3.13"
    },
    ....
}
```
and then I can run something like `uv tool install --tools requirements.json` to install all the tools I need with their specified versions and dependencies with one command. This will make installing Python tools on another computer much easier and faster. I don't know how realistic this idea is, but I thought to mention it in addition to the improving the docs and allowing `requirements.in`.

---

_Label `enhancement` added by @ShaiAvr on 2025-02-18 11:55_

---

_Comment by @zanieb on 2025-02-18 15:43_

We accept `requirements.in` files here. 

```
❯ echo "anyio" > requirements.in
❯ uv run --with-requirements reqquir
❯ uvx --with-requirements ./requirements.in python -c "import anyio"
Installed 3 packages in 4ms
```

`requirements.txt` just refers to the defacto-format of the file.

We can add some documentation though.

Regarding declarative tool installations from a file — we're interested in that and it's on the roadmap.

---

_Label `enhancement` removed by @zanieb on 2025-02-18 15:43_

---

_Label `documentation` added by @zanieb on 2025-02-18 15:43_

---

_Assigned to @zanieb by @zanieb on 2025-02-18 15:43_

---

_Comment by @ShaiAvr on 2025-02-20 12:06_

@zanieb In that case, I certainly think the documentation could be improved. Both to specify that `requirements.in` also works, and to provide examples of using this feature.

---

_Comment by @zanieb on 2025-02-20 14:18_

Sure, we just have to balance that with all the other things we need to do.

---

_Comment by @liiight on 2025-03-18 20:24_

> Regarding declarative tool installations from a file — we're interested in that and it's on the roadmap

@zanieb is there an issue to watch for this?

Thanks in advance, and thank you and everyone involved for the mind boggling work you all do on this project!

---
