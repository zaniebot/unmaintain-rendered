---
number: 3871
title: unable to locate pybind11; works after pip install
type: issue
state: closed
author: Ryang20718
labels:
  - question
assignees: []
created_at: 2024-05-28T00:08:20Z
updated_at: 2024-05-28T01:07:18Z
url: https://github.com/astral-sh/uv/issues/3871
synced_at: 2026-01-07T12:31:14-06:00
---

# unable to locate pybind11; works after pip install

---

_Issue opened by @Ryang20718 on 2024-05-28 00:08_

Appreciate the fast tool! 

Uv seems to be unable to locate pybind11 when installing pytorch deps. However, this is resolvable if I run `pip install deepdoctection[pt]`


Version:
```
uv 0.2.4 (98652e395 2024-05-26)
```


Command to repro: 


```
uv pip install deepdoctection[pt] --verbose
DEBUG Searching for Python interpreter in virtual environments
DEBUG Found CPython 3.9.6 at `/private/tmp/tt/.venv/bin/python3` (virtual environment)
DEBUG Using Python 3.9.6 environment at .venv/bin/python3
DEBUG Acquired lock for `.venv`
DEBUG At least one requirement is not satisfied: deepdoctection[pt]
DEBUG Using registry request timeout of 30s
DEBUG Solving with target Python version 3.9.6
DEBUG Adding direct dependency: deepdoctection*
DEBUG Adding direct dependency: deepdoctection[pt]*
DEBUG Found fresh response for: https://pypi.org/simple/deepdoctection/
DEBUG Searching for a compatible version of deepdoctection[pt] (*)
DEBUG Selecting: deepdoctection[pt]==0.32 (deepdoctection-0.32-py3-none-any.whl)
DEBUG Searching for a compatible version of deepdoctection (==0.32)
DEBUG Selecting: deepdoctection==0.32 (deepdoctection-0.32-py3-none-any.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/49/6b/fdd019de31ceab30c042ad70e5aa4755a3b8c72b055c81f4f0cace30082c/deepdoctection-0.32-py3-none-any.whl.metadata
DEBUG Adding transitive dependency for deepdoctection==0.32: catalogue==2.0.10
DEBUG Adding transitive dependency for deepdoctection==0.32: huggingface-hub>=0.12.0
DEBUG Adding transitive dependency for deepdoctection==0.32: importlib-metadata>=5.0.0
DEBUG Adding transitive dependency for deepdoctection==0.32: jsonlines==3.1.0
DEBUG Adding transitive dependency for deepdoctection==0.32: lazy-imports==0.3.1
DEBUG Adding transitive dependency for deepdoctection==0.32: mock==4.0.3
DEBUG Adding transitive dependency for deepdoctection==0.32: networkx>=2.7.1
DEBUG Adding transitive dependency for deepdoctection==0.32: numpy>=1.21
DEBUG Adding transitive dependency for deepdoctection==0.32: packaging>=20.0
DEBUG Adding transitive dependency for deepdoctection==0.32: pillow>=10.0.0
DEBUG Adding transitive dependency for deepdoctection==0.32: pypdf>=3.16.0
DEBUG Adding transitive dependency for deepdoctection==0.32: pyyaml>=6.0.1
DEBUG Adding transitive dependency for deepdoctection==0.32: pyzmq>=16
DEBUG Adding transitive dependency for deepdoctection==0.32: termcolor>=1.1
DEBUG Adding transitive dependency for deepdoctection==0.32: tabulate>=0.7.7
DEBUG Adding transitive dependency for deepdoctection==0.32: tqdm==4.64.0
DEBUG Found fresh response for: https://pypi.org/simple/catalogue/
DEBUG Searching for a compatible version of catalogue (==2.0.10)
DEBUG Selecting: catalogue==2.0.10 (catalogue-2.0.10-py3-none-any.whl)
DEBUG Found fresh response for: https://pypi.org/simple/termcolor/
DEBUG Found fresh response for: https://pypi.org/simple/jsonlines/
DEBUG Found fresh response for: https://pypi.org/simple/lazy-imports/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/d9/5f/8c716e47b3a50cbd7c146f45881e11d9414def768b7cd9c5e6650ec2a80a/termcolor-2.4.0-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://pypi.org/simple/pypdf/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/68/32/290ca20eb3a2b97ffa6ba1791fcafacb3cd2f41f539c96eb54cfc3cfcf47/jsonlines-3.1.0-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/9e/96/d32b941a501ab566a16358d68b6eb4e4acc373fab3c3c4d7d9e649f7b4bb/catalogue-2.0.10-py3-none-any.whl.metadata
DEBUG Searching for a compatible version of jsonlines (==3.1.0)
DEBUG Selecting: jsonlines==3.1.0 (jsonlines-3.1.0-py3-none-any.whl)
DEBUG Adding transitive dependency for jsonlines==3.1.0: attrs>=19.2.0
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/c9/d1/450b19bbdbb2c802f554312c62ce2a2c0d8744fe14735bc70ad2803578c7/pypdf-4.2.0-py3-none-any.whl.metadata
DEBUG Searching for a compatible version of lazy-imports (==0.3.1)
DEBUG Selecting: lazy-imports==0.3.1 (lazy_imports-0.3.1-py3-none-any.whl)
DEBUG Found fresh response for: https://pypi.org/simple/tabulate/
DEBUG Found stale response for: https://pypi.org/simple/networkx/
DEBUG Sending revalidation request for: https://pypi.org/simple/networkx/
DEBUG Found stale response for: https://pypi.org/simple/huggingface-hub/
DEBUG Sending revalidation request for: https://pypi.org/simple/huggingface-hub/
DEBUG Found fresh response for: https://pypi.org/simple/mock/
DEBUG Found stale response for: https://pypi.org/simple/importlib-metadata/
DEBUG Sending revalidation request for: https://pypi.org/simple/importlib-metadata/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/30/05/4c61bea2b48804893ae1466cf5add2bea3449ea065009d7e5df0ee0e6a58/lazy_imports-0.3.1-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://pypi.org/simple/attrs/
DEBUG Found fresh response for: https://pypi.org/simple/tqdm/
DEBUG Searching for a compatible version of mock (==4.0.3)
DEBUG Selecting: mock==4.0.3 (mock-4.0.3-py3-none-any.whl)
DEBUG Found stale response for: https://pypi.org/simple/packaging/
DEBUG Sending revalidation request for: https://pypi.org/simple/packaging/
DEBUG Found stale response for: https://pypi.org/simple/pyyaml/
DEBUG Sending revalidation request for: https://pypi.org/simple/pyyaml/
DEBUG Found stale response for: https://pypi.org/simple/pillow/
DEBUG Sending revalidation request for: https://pypi.org/simple/pillow/
DEBUG Found fresh response for: https://pypi.org/simple/pyzmq/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/40/44/4a5f08c96eb108af5cb50b41f76142f0afa346dfa99d5296fe7202a11854/tabulate-0.9.0-py3-none-any.whl.metadata
DEBUG Found stale response for: https://pypi.org/simple/numpy/
DEBUG Sending revalidation request for: https://pypi.org/simple/numpy/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/8a/c4/d15f1e627fff25443ded77ea70a7b5532d6371498f9285d44d62587e209c/tqdm-4.64.0-py2.py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/5c/03/b7e605db4a57c0f6fba744b11ef3ddf4ddebcada35022927a2b5fc623fdf/mock-4.0.3-py3-none-any.whl.metadata
DEBUG Searching for a compatible version of tqdm (==4.64.0)
DEBUG Selecting: tqdm==4.64.0 (tqdm-4.64.0-py2.py3-none-any.whl)
DEBUG Searching for a compatible version of deepdoctection[pt] (==0.32)
DEBUG Selecting: deepdoctection[pt]==0.32 (deepdoctection-0.32-py3-none-any.whl)
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: catalogue==2.0.10
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: huggingface-hub>=0.12.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: importlib-metadata>=5.0.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: jsonlines==3.1.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: lazy-imports==0.3.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: mock==4.0.3
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: networkx>=2.7.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: numpy>=1.21
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: packaging>=20.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pillow>=10.0.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pypdf>=3.16.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pyyaml>=6.0.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pyzmq>=16
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: termcolor>=1.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: tabulate>=0.7.7
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: tqdm==4.64.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: catalogue==2.0.10
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: huggingface-hub>=0.12.0
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/32/7f/77324143424424b8dccd5f0e2ec5676f388667d1b38f9c4b30cdb706fef1/pyzmq-26.0.3-cp39-cp39-macosx_10_15_universal2.whl.metadata
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: importlib-metadata>=5.0.0
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/e0/44/827b2a91a5816512fcaf3cc4ebc465ccd5d598c45cefa6703fcf4a79018f/attrs-23.2.0-py3-none-any.whl.metadata
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: jsonlines==3.1.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: lazy-imports==0.3.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: mock==4.0.3
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: networkx>=2.7.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: numpy>=1.21
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: packaging>=20.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pillow>=10.0.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pypdf>=3.16.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pyyaml>=6.0.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pyzmq>=16
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: termcolor>=1.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: tabulate>=0.7.7
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: tqdm==4.64.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: timm>=0.9.16
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: transformers>=4.36.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: accelerate>=0.29.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: python-doctr==0.8.1
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: boto3==1.34.102
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: pdfplumber>=0.11.0
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: fasttext==0.9.2
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: jdeskew>=0.2.2
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: apted==1.0.3
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: distance==0.1.3
DEBUG Adding transitive dependency for deepdoctection[pt]==0.32: lxml>=4.9.1
DEBUG Found stale response for: https://pypi.org/simple/python-doctr/
DEBUG Sending revalidation request for: https://pypi.org/simple/python-doctr/
DEBUG Found fresh response for: https://pypi.org/simple/pdfplumber/
DEBUG Found fresh response for: https://pypi.org/simple/distance/
DEBUG Found fresh response for: https://pypi.org/simple/accelerate/
DEBUG Found fresh response for: https://pypi.org/simple/timm/
DEBUG Acquired lock for `/Users/ryang/Library/Caches/uv/built-wheels-v3/pypi/distance/0.1.3`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/ee/ec/315015b6c4667d889cc14348c93e31f9fd43a6f61162b85c39e4a21018d5/pdfplumber-0.11.0-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://pypi.org/simple/apted/
DEBUG Found fresh response for: https://pypi.org/simple/transformers/
DEBUG Found fresh response for: https://pypi.org/simple/jdeskew/
DEBUG Found fresh response for: https://pypi.org/simple/fasttext/
DEBUG Acquired lock for `/Users/ryang/Library/Caches/uv/built-wheels-v3/pypi/fasttext/0.9.2`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/e9/bb/1edd2c836071e91d2bd331b9542bbd592e23d1474645b9c6fd56232caace/accelerate-0.30.1-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/19/0d/57fe21d3bcba4832ed59bc3bf0f544e8f0011f8ccd6fd85bc8e2a5d42c94/timm-1.0.3-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/b9/71/c2bcf92376d3ae65d57111d33f577aca68d343e1b7b1914a3767bfbac18e/apted-1.0.3-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/5c/1a/883e47df323437aefa0d0a92ccfb38895d9416bd0b56262c2e46a47767b8/Distance-0.1.3.tar.gz
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/e3/c3/feb5c99f5de0d045e899a08404edd024e66833e68a38beebc63d0ef839c1/jdeskew-0.2.2-py3-none-any.whl.metadata
DEBUG Preparing metadata for: distance==0.1.3
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/f8/85/e2b368ab6d3528827b147fdb814f8189acc981a4bc2f99ab894650e05c40/fasttext-0.9.2.tar.gz
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/79/e1/dcba5ba74392015ceeababf3455138f5875202e66e3316d7ca223bdb7b1c/transformers-4.41.1-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://pypi.org/simple/boto3/
DEBUG No static `PKG-INFO` available for: distance==0.1.3 (MissingPkgInfo)
DEBUG Preparing metadata for: fasttext==0.9.2
DEBUG Found fresh response for: https://pypi.org/simple/lxml/
DEBUG No static `pyproject.toml` available for: distance==0.1.3 (MissingPyprojectToml)
DEBUG Solving with target Python version 3.9.6
DEBUG Adding direct dependency: setuptools>=40.8.0
DEBUG No static `PKG-INFO` available for: fasttext==0.9.2 (DynamicPkgInfo(UnsupportedMetadataVersion("1.1")))
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/b4/a1/66d2002a3df35ec491e6e6d8fc05a0a9c5e1a29470f02537d5469c048606/boto3-1.34.102-py3-none-any.whl.metadata
DEBUG No static `pyproject.toml` available for: fasttext==0.9.2 (MissingPyprojectToml)
DEBUG Found stale response for: https://pypi.org/simple/setuptools/
DEBUG Sending revalidation request for: https://pypi.org/simple/setuptools/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/51/79/9f7d249850c9f8357538055359bffa91cc9f0606fcea72b6881fdea9ee39/lxml-5.2.2-cp39-cp39-macosx_10_9_universal2.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/numpy/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/ae/8c/ab03a7c25741f9ebc92684a20125fbc9fc1b8e1e700beb9197d750fdff88/numpy-1.26.4-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/packaging/
DEBUG Found not-modified response for: https://pypi.org/simple/huggingface-hub/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/49/df/1fceb2f8900f8639e278b056416d49134fb8d84c5942ffaa01ad34782422/packaging-24.0-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/78/71/6ce4136149cb42b98599d49c39b3a39dd6858b5f9307490998c40e26a51e/huggingface_hub-0.23.2-py3-none-any.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/networkx/
DEBUG Found not-modified response for: https://pypi.org/simple/pyyaml/
DEBUG Found not-modified response for: https://pypi.org/simple/importlib-metadata/
DEBUG Found not-modified response for: https://pypi.org/simple/pillow/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/2d/0a/679461c511447ffaf176567d5c496d1de27cbe34a87df6677d7171b2fbd4/importlib_metadata-7.1.0-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/45/94/af9bdb72d390001b1e9622892133b8cd90903a8cbba3a5e1eeecfe630faf/pillow-10.3.0-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/setuptools/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/0e/88/21b2f16cb2123c1e9375f2c93486e35fdc86e63f02e274f0e99c589ef153/PyYAML-6.0.1-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/python-doctr/
DEBUG Searching for a compatible version of setuptools (>=40.8.0)
DEBUG Selecting: setuptools==70.0.0 (setuptools-70.0.0-py3-none-any.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/de/88/70c5767a0e43eb4451c2200f07d042a4bcd7639276003a9c54a68cfcc1f8/setuptools-70.0.0-py3-none-any.whl.metadata
DEBUG Searching for a compatible version of python-doctr (==0.8.1)
DEBUG Selecting: python-doctr==0.8.1 (python_doctr-0.8.1-py3-none-any.whl)
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/13/4d/51816da51b32a8830a874d4cc8e7603d862642df27ea6ee7c083cc1047f6/python_doctr-0.8.1-py3-none-any.whl.metadata
DEBUG Tried 2 versions: root 1, setuptools 1
DEBUG Adding transitive dependency for python-doctr==0.8.1: importlib-metadata*
DEBUG Adding transitive dependency for python-doctr==0.8.1: numpy>=1.16.0, <2.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: scipy>=1.4.0, <2.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: h5py>=3.1.0, <4.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: opencv-python>=4.5.0, <5.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: pypdfium2>=4.0.0, <5.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: pyclipper>=1.2.0, <2.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: shapely>=1.6.0, <3.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: langdetect>=1.0.9, <2.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: rapidfuzz>=3.0.0, <4.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: huggingface-hub>=0.20.0, <1.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: matplotlib>=3.1.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: weasyprint>=55.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: pillow>=9.2.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: defusedxml>=0.7.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: mplcursors>=0.3
DEBUG Adding transitive dependency for python-doctr==0.8.1: unidecode>=1.0.0
DEBUG Adding transitive dependency for python-doctr==0.8.1: tqdm>=4.30.0
DEBUG Searching for a compatible version of boto3 (==1.34.102)
DEBUG Selecting: boto3==1.34.102 (boto3-1.34.102-py3-none-any.whl)
DEBUG Adding transitive dependency for boto3==1.34.102: botocore>=1.34.102, <1.35.0
DEBUG Adding transitive dependency for boto3==1.34.102: jmespath>=0.7.1, <2.0.0
DEBUG Adding transitive dependency for boto3==1.34.102: s3transfer>=0.10.0, <0.11.0
DEBUG Searching for a compatible version of fasttext (==0.9.2)
DEBUG Selecting: fasttext==0.9.2 (fasttext-0.9.2.tar.gz)
DEBUG Installing in setuptools==70.0.0 in /Users/ryang/Library/Caches/uv/.tmpOvC6Lc/.venv
DEBUG Requirement already cached: setuptools==70.0.0
DEBUG Installing build requirement: setuptools==70.0.0
DEBUG Calling `setuptools.build_meta:__legacy__.get_requires_for_build_wheel()`
DEBUG Installing in setuptools==70.0.0 in /Users/ryang/Library/Caches/uv/.tmpZL21Hm/.venv
DEBUG Requirement already cached: setuptools==70.0.0
DEBUG Installing build requirement: setuptools==70.0.0
DEBUG Calling `setuptools.build_meta:__legacy__.get_requires_for_build_wheel()`
DEBUG Found stale response for: https://pypi.org/simple/h5py/
DEBUG Sending revalidation request for: https://pypi.org/simple/h5py/
DEBUG Found stale response for: https://pypi.org/simple/scipy/
DEBUG Sending revalidation request for: https://pypi.org/simple/scipy/
DEBUG Found stale response for: https://pypi.org/simple/langdetect/
DEBUG Sending revalidation request for: https://pypi.org/simple/langdetect/
DEBUG Found stale response for: https://pypi.org/simple/mplcursors/
DEBUG Sending revalidation request for: https://pypi.org/simple/mplcursors/
DEBUG Found stale response for: https://pypi.org/simple/defusedxml/
DEBUG Sending revalidation request for: https://pypi.org/simple/defusedxml/
DEBUG Found fresh response for: https://pypi.org/simple/s3transfer/
DEBUG Found fresh response for: https://pypi.org/simple/jmespath/
DEBUG Found stale response for: https://pypi.org/simple/unidecode/
DEBUG Sending revalidation request for: https://pypi.org/simple/unidecode/
DEBUG Found stale response for: https://pypi.org/simple/pyclipper/
DEBUG Sending revalidation request for: https://pypi.org/simple/pyclipper/
DEBUG Found stale response for: https://pypi.org/simple/weasyprint/
DEBUG Sending revalidation request for: https://pypi.org/simple/weasyprint/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/83/37/395cdb6ee92925fa211e55d8f07b9f93cf93f60d7d4ce5e66fd73f1ea986/s3transfer-0.10.1-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/31/b4/b9b800c45527aadd64d5b442f9b932b00648617eb5d63d2c7a6587b7cafc/jmespath-1.0.1-py3-none-any.whl.metadata
DEBUG Found stale response for: https://pypi.org/simple/shapely/
DEBUG Sending revalidation request for: https://pypi.org/simple/shapely/
DEBUG Found stale response for: https://pypi.org/simple/opencv-python/
DEBUG Sending revalidation request for: https://pypi.org/simple/opencv-python/
DEBUG Found stale response for: https://pypi.org/simple/matplotlib/
DEBUG Sending revalidation request for: https://pypi.org/simple/matplotlib/
DEBUG Found stale response for: https://pypi.org/simple/pypdfium2/
DEBUG Sending revalidation request for: https://pypi.org/simple/pypdfium2/
DEBUG Found fresh response for: https://pypi.org/simple/botocore/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/da/a1/2f6349a3444ce349da16a260d45b74e4ffc5404b765bea1f07ae7df17360/botocore-1.34.113-py3-none-any.whl.metadata
DEBUG Found stale response for: https://pypi.org/simple/rapidfuzz/
DEBUG Sending revalidation request for: https://pypi.org/simple/rapidfuzz/
DEBUG Found not-modified response for: https://pypi.org/simple/h5py/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/3c/fb/e213586de5ea56f1747a843e725c62eef350512be57452186996ba660d52/h5py-3.11.0-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/scipy/
DEBUG Found not-modified response for: https://pypi.org/simple/shapely/
DEBUG Found not-modified response for: https://pypi.org/simple/mplcursors/
DEBUG Found not-modified response for: https://pypi.org/simple/langdetect/
DEBUG Found not-modified response for: https://pypi.org/simple/pyclipper/
DEBUG Found not-modified response for: https://pypi.org/simple/defusedxml/
DEBUG Found not-modified response for: https://pypi.org/simple/weasyprint/
DEBUG Found not-modified response for: https://pypi.org/simple/unidecode/
DEBUG Found not-modified response for: https://pypi.org/simple/opencv-python/
DEBUG Acquired lock for `/Users/ryang/Library/Caches/uv/built-wheels-v3/pypi/mplcursors/0.5.3`
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/5c/c0/e71b94b20ccf9effb38d7147c0064c08c622309fd487b1b677771a97d18c/scipy-1.13.1-cp39-cp39-macosx_12_0_arm64.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/ed/0f/0d0063a407a6827f2335c53190535c35fa6744a9da7ce4a77f56b984b109/shapely-2.0.4-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/d0/04/31f2f175c475c0274a7fb20552e18c4f5b1ef04b211dd4d7301ca6bf4534/langdetect-1.0.9-py2-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/84/b7/6ec57841fb67c98f52fc8e4a2d96df60059637cba077edc569a302a8ffc7/Unidecode-1.3.8-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/0e/31/a49abf6690be72365a9df7805dd4275d7044eaef807b430d038544a3900b/weasyprint-62.1-py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/37/bb/9e3c9f4255de75618e37ab045314b3e4283d6255aaeab5e155599979bc08/pyclipper-1.3.0.post5-cp39-cp39-macosx_10_9_universal2.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/07/6c/aa3f2f849e01cb6a001cd8554a88d4c77c5c1a31c95bdf1cf9301e6d9ef4/defusedxml-0.7.1-py2.py3-none-any.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/70/11/26f6016ff1ed7c43b5ee51793ac9f9d14ea7f5af8e2ecf9703d8bb88c96b/mplcursors-0.5.3.tar.gz
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/77/df/b56175c3fb5bc058774bdcf35f5a71cf9c3c5b909f98a1c688eb71cd3b1f/opencv_python-4.9.0.80-cp37-abi3-macosx_11_0_arm64.whl.metadata
DEBUG Using cached metadata for: mplcursors==0.5.3
DEBUG Found not-modified response for: https://pypi.org/simple/pypdfium2/
DEBUG Found not-modified response for: https://pypi.org/simple/matplotlib/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/9c/2b/3b82a88735fb2fff513990963ce288f67b78b08c9ec528210387fb3a2757/matplotlib-3.9.0-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/21/8b/27d4d5409f3c76b985f4ee4afe147b606594411e15ac4dc1c3363c9a9810/pypdfium2-4.30.0-py3-none-macosx_11_0_arm64.whl.metadata
DEBUG Found not-modified response for: https://pypi.org/simple/rapidfuzz/
DEBUG Found fresh response for: https://files.pythonhosted.org/packages/23/5a/b1170db85c205a84b6d9ae5545d28f4a953999d9a45670373456086bee19/rapidfuzz-3.9.1-cp39-cp39-macosx_11_0_arm64.whl.metadata
DEBUG Installing extra requirements for build backend
DEBUG Solving with target Python version 3.9.6
DEBUG Adding direct dependency: setuptools>=40.8.0
DEBUG Adding direct dependency: wheel*
DEBUG Searching for a compatible version of setuptools (>=40.8.0)
DEBUG Selecting: setuptools==70.0.0 (setuptools-70.0.0-py3-none-any.whl)
DEBUG Found stale response for: https://pypi.org/simple/wheel/
DEBUG Sending revalidation request for: https://pypi.org/simple/wheel/
error: Failed to download and build `fasttext==0.9.2`
  Caused by: Failed to build: `fasttext==0.9.2`
  Caused by: Build backend failed to determine extra requires with `build_wheel()` with exit status: 1
--- stdout:

--- stderr:
/Users/ryang/Library/Caches/uv/.tmpZL21Hm/.venv/bin/python: No module named pip
Traceback (most recent call last):
  File "<string>", line 38, in __init__
ModuleNotFoundError: No module named 'pybind11'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "<string>", line 14, in <module>
  File "/Users/ryang/Library/Caches/uv/.tmpZL21Hm/.venv/lib/python3.9/site-packages/setuptools/build_meta.py", line 325, in get_requires_for_build_wheel
    return self._get_build_requires(config_settings, requirements=['wheel'])
  File "/Users/ryang/Library/Caches/uv/.tmpZL21Hm/.venv/lib/python3.9/site-packages/setuptools/build_meta.py", line 295, in _get_build_requires
    self.run_setup()
  File "/Users/ryang/Library/Caches/uv/.tmpZL21Hm/.venv/lib/python3.9/site-packages/setuptools/build_meta.py", line 487, in run_setup
    super().run_setup(setup_script=setup_script)
  File "/Users/ryang/Library/Caches/uv/.tmpZL21Hm/.venv/lib/python3.9/site-packages/setuptools/build_meta.py", line 311, in run_setup
    exec(code, locals())
  File "<string>", line 72, in <module>
  File "<string>", line 41, in __init__
RuntimeError: pybind11 install failed.
---
```

---

_Comment by @charliermarsh on 2024-05-28 00:13_

You likely need to install with `--no-build-isolation`.

---

_Comment by @charliermarsh on 2024-05-28 00:14_

You can see that pip fails with the same error if you run with `--use-pep517`, which will eventually be the default:

```
❯ pip install fasttext==0.9.2 --use-pep517 --no-cache --force-reinstall
Collecting fasttext==0.9.2
  Downloading fasttext-0.9.2.tar.gz (68 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 68.8/68.8 kB 6.6 MB/s eta 0:00:00
  Installing build dependencies ... done
  Getting requirements to build wheel ... error
  error: subprocess-exited-with-error

  × Getting requirements to build wheel did not run successfully.
  │ exit code: 1
  ╰─> [28 lines of output]
      /Users/crmarsh/.local/share/rtx/installs/python/3.12.2/bin/python: No module named pip
      Traceback (most recent call last):
        File "<string>", line 38, in __init__
      ModuleNotFoundError: No module named 'pybind11'

      During handling of the above exception, another exception occurred:

      Traceback (most recent call last):
        File "/Users/crmarsh/.local/share/rtx/installs/python/3.12.2/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 353, in <module>
          main()
        File "/Users/crmarsh/.local/share/rtx/installs/python/3.12.2/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 335, in main
          json_out['return_val'] = hook(**hook_input['kwargs'])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/Users/crmarsh/.local/share/rtx/installs/python/3.12.2/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 118, in get_requires_for_build_wheel
          return hook(config_settings)
                 ^^^^^^^^^^^^^^^^^^^^^
        File "/private/var/folders/nt/6gf2v7_s3k13zq_t3944rwz40000gn/T/pip-build-env-0mgmcczq/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 325, in get_requires_for_build_wheel
          return self._get_build_requires(config_settings, requirements=['wheel'])
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/private/var/folders/nt/6gf2v7_s3k13zq_t3944rwz40000gn/T/pip-build-env-0mgmcczq/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 295, in _get_build_requires
          self.run_setup()
        File "/private/var/folders/nt/6gf2v7_s3k13zq_t3944rwz40000gn/T/pip-build-env-0mgmcczq/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 487, in run_setup
          super().run_setup(setup_script=setup_script)
        File "/private/var/folders/nt/6gf2v7_s3k13zq_t3944rwz40000gn/T/pip-build-env-0mgmcczq/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 311, in run_setup
          exec(code, locals())
        File "<string>", line 72, in <module>
        File "<string>", line 41, in __init__
      RuntimeError: pybind11 install failed.
      [end of output]
```

---

_Comment by @charliermarsh on 2024-05-28 00:15_

`fasttext` is also covered here: https://github.com/astral-sh/uv/issues/2252.

Install pybind11 into your environment, then run with `--no-build-isolation`.

---

_Label `question` added by @charliermarsh on 2024-05-28 00:15_

---

_Comment by @Ryang20718 on 2024-05-28 01:07_

thanks charlie! I'll close this as a dup

---

_Closed by @Ryang20718 on 2024-05-28 01:07_

---
