---
number: 7483
title: Add lock files for inline script metadata
type: issue
state: closed
author: ketozhang
labels:
  - wish
assignees: []
created_at: 2024-09-18T04:03:12Z
updated_at: 2025-01-08T20:34:47Z
url: https://github.com/astral-sh/uv/issues/7483
synced_at: 2026-01-07T12:31:15-06:00
---

# Add lock files for inline script metadata

---

_Issue opened by @ketozhang on 2024-09-18 04:03_

https://docs.astral.sh/uv/guides/scripts/#declaring-script-dependencies

I find inline script metadata difficult to adopt because it forces all my users to run the script with a compatible runner (e.g., uv or pipx). For backwards compatibility with `pip install` method, a tradition requirements file is still necessary. 

```sh
$ uv pip compile --script example.py -o requirements.txt
```

```sh
# Users without uv
$ pip install -r requirements.txt
$ python example.py
```

Other use cases involve, not relying on uv's venv management. For example, you have many scripts with inline metadata, but want 1 venv to be compatible with all:

```
$ uv pip compile --scripts scripts/*.py -o requirements.txt
```

---

My title could be more specific, but I am opening it up to `uv run example.py` automatically creating a `uv.lock`. This could be a future once we have a standard lock file.

---

_Label `wish` added by @charliermarsh on 2024-09-20 03:20_

---

_Comment by @charliermarsh on 2024-09-20 03:23_

There's some overlap with #6318, though I guess you're also asking here for a way to install the script dependencies outside of uv. I'm not sure if we're likely to support that since it kind of defeats the purpose of the PEP.

---

_Comment by @ketozhang on 2024-09-21 23:53_

There's significant overlap with #6318 that I am OK with closing this as duplicate.

I feel it---I have the same sentiment back when the PEP was designed. After the fact, I now wish the PEP went further with addressing reproducibility (no good ideas until we have a standard lock file)

---

_Referenced in [astral-sh/uv#10123](../../astral-sh/uv/pulls/10123.md) on 2024-12-23 18:43_

---

_Referenced in [astral-sh/uv#10136](../../astral-sh/uv/pulls/10136.md) on 2024-12-25 19:02_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-12-27 14:40_

---

_Closed by @charliermarsh on 2025-01-08 20:34_

---

_Closed by @charliermarsh on 2025-01-08 20:34_

---
