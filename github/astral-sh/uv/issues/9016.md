---
number: 9016
title: "`uv sync --locked --no-build --no-install-project` fails."
type: issue
state: closed
author: heckad
labels:
  - bug
assignees: []
created_at: 2024-11-11T13:24:28Z
updated_at: 2024-11-11T19:02:38Z
url: https://github.com/astral-sh/uv/issues/9016
synced_at: 2026-01-07T12:31:15-06:00
---

# `uv sync --locked --no-build --no-install-project` fails.

---

_Issue opened by @heckad on 2024-11-11 13:24_

If use `uv sync --locked --no-build --no-install-project` command that error will occurred
```
warning: Failed to validate existing lockfile: Distribution `project==0.0.0a0 @ editable+.` can't be installed because it is marked as `--no-build` but has no binary distribution
Resolved 29 packages in 17ms
error: The lockfile at `uv.lock` needs to be updated, but `--locked` was provided. To update the lockfile, run `uv lock`.
```
If remove `--locked` argument then all works fine, but the lock file doesn't change. It's strange that he wants to update the log file and doesn't do this. Also if remove `--no-build` but left `--locked` then everything goes well too.

uv 0.5.1

---

_Label `bug` added by @charliermarsh on 2024-11-11 13:49_

---

_Comment by @charliermarsh on 2024-11-11 13:49_

I guess I'd consider it a bug, sort of a strange interaction.

---

_Assigned to @charliermarsh by @charliermarsh on 2024-11-11 14:32_

---

_Comment by @charliermarsh on 2024-11-11 17:56_

Does `uv sync --frozen --no-build --no-install-project` work?

---

_Comment by @heckad on 2024-11-11 18:23_

Yes, it does

---

_Referenced in [astral-sh/uv#9024](../../astral-sh/uv/pulls/9024.md) on 2024-11-11 18:38_

---

_Closed by @charliermarsh on 2024-11-11 19:02_

---

_Closed by @charliermarsh on 2024-11-11 19:02_

---
