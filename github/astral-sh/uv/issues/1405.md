---
number: 1405
title: Support .netrc files
type: issue
state: closed
author: janbernloehr
labels:
  - registry
  - configuration
assignees: []
created_at: 2024-02-16T01:01:04Z
updated_at: 2024-03-06T20:48:32Z
url: https://github.com/astral-sh/uv/issues/1405
synced_at: 2026-01-07T12:31:14-06:00
---

# Support .netrc files

---

_Issue opened by @janbernloehr on 2024-02-16 01:01_

pip supports obtaining credentials for authentication from `.netrc` files. This allows to keep `pip.conf`, `--index-url` and `--find-links` free of credentials and instead store them in a central place in `~/.netrc`.

Unfortunately, uv does not support obtaining credentials from there.

This is also required, for e.g. using requirements.txt files that refer to wheels at urls that require auth
```
torch @ https://foo.org/torch.whl
```



---

_Label `configuration` added by @zanieb on 2024-02-16 01:03_

---

_Label `index` added by @zanieb on 2024-02-16 01:04_

---

_Comment by @zanieb on 2024-02-16 01:04_

Thanks for the report! We definitely need to address registry authentication.

---

_Comment by @brandon-piner-aruba on 2024-02-16 05:33_

We would also like the .netrc support. We specify the private repo in a slightly different way 

```
# From Gemfury (https://pypi.fury.io/the-org/)
# =============================================
some-package
another-package
```

---

_Comment by @framillien on 2024-02-16 14:18_

@zanieb Since you are using `reqwest` crate, using `reqwest-netrc` middleware could be an option ?

---

_Comment by @framillien on 2024-02-16 16:07_

This work for index access, but fail on download since reqwest middleware is not used: 
https://github.com/astral-sh/uv/blob/main/crates/uv-client/src/registry_client.rs#L415

---

_Assigned to @zanieb by @zanieb on 2024-02-16 16:13_

---

_Comment by @framillien on 2024-02-19 14:06_

In fact this is not download in itself that cause this issue, but only the `read_metadata_range_request` usage. If I activate `reqwest-netrc` and skip all metada range errors [(here)](https://github.com/astral-sh/uv/blob/main/crates/uv-client/src/registry_client.rs#L457) the download succeed.

In my situation, the error we need to skip is an HTTP 401.

---

_Referenced in [astral-sh/uv#2241](../../astral-sh/uv/pulls/2241.md) on 2024-03-06 15:35_

---

_Closed by @charliermarsh on 2024-03-06 20:48_

---

_Referenced in [astral-sh/uv#3338](../../astral-sh/uv/issues/3338.md) on 2024-05-02 13:21_

---
