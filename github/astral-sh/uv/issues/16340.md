---
number: 16340
title: Incorrect 403 Forbidden during uvx with non existing package
type: issue
state: closed
author: maltevesper
labels:
  - bug
assignees: []
created_at: 2025-10-17T09:52:18Z
updated_at: 2025-10-20T11:43:19Z
url: https://github.com/astral-sh/uv/issues/16340
synced_at: 2026-01-07T12:31:16-06:00
---

# Incorrect 403 Forbidden during uvx with non existing package

---

_Issue opened by @maltevesper on 2025-10-17 09:52_

### Summary

Trying to run `uvx identify-cli` sends the user on a wild goose chase with a spurious 403 error that is not really there. In short, I do not expect to get a `403 Forbidden` when looking for a non existing package, when the same configuration works for an existing package.

Environment:
Corparate pypi mirror accessible without credentials
identify-cli is part of identify, so it is correct that uvx errors, but the erro message should be that there is no such package, not a 403

# Quick summary
uvx identify-cli
```
  × No solution found when resolving tool dependencies:
  ╰─▶ Because identify-cli was not found in the package registry and you require identify-cli, we can conclude that your requirements are unsatisfiable.

      hint: An index URL (https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple) could not be queried due to a lack of valid authentication credentials (403 Forbidden).
```

 uvx --from identify identify-cli uv.lock
```
["file", "non-executable", "text"]
```

# Relevant Verbose output

uvx -v identify-cli
```
DEBUG No cache entry for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify-cli/
DEBUG Checking netrc for credentials for https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify-cli/
DEBUG Acquired lock for `credentials store`
DEBUG Released lock at `/home/user/.local/share/uv/credentials/credentials.toml.lock`
DEBUG No credentials file found at /home/user/.local/share/uv/credentials/credentials.toml
DEBUG Indexes search failed because of status code failure: 403 Forbidden
DEBUG Searching for a compatible version of identify-cli (*)
DEBUG No compatible version found for: identify-cli
```


 uvx --from identify identify-cli uv.lock
```
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.14
DEBUG Solving with target Python version: >=3.14
DEBUG Adding direct dependency: identify*
DEBUG Found stale response for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
DEBUG Sending revalidation request for: https.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
DEBUG Found modified response for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
WARN Server returned unusable 304 for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/simple/identify/
DEBUG Searching for a compatible version of identify (*)
DEBUG Selecting: identify==2.6.15 [compatible] (identify-2.6.15-py2.py3-none-any.whl)
DEBUG Found fresh response for: https://pypi.INTRANET.COM/api/pypi/pypi_virtual/packages/packages/0f/1c/e5fd8f973d4f375adb21565739498e2e9a1e54c858a97b9a8ccfdc81da9b/identify-2.6.15-py2.py3-none-any.whl
DEBUG Tried 1 versions: identify 1
DEBUG marker environment resolution took 0.096s
Resolved 1 package in 97ms
```

### Platform

Linux 6.6.87.2-microsoft-standard-WSL2 x86_64 GNU/Linux

### Version

0.9.1

### Python version

3.14.0

---

_Label `bug` added by @maltevesper on 2025-10-17 09:52_

---

_Referenced in [astral-sh/uv#16353](../../astral-sh/uv/pulls/16353.md) on 2025-10-18 06:43_

---

_Closed by @konstin on 2025-10-20 11:43_

---
