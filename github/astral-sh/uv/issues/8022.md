---
number: 8022
title: "`--frozen` will change behaviour of `--only-dev`"
type: issue
state: closed
author: tonnico
labels:
  - question
assignees: []
created_at: 2024-10-08T21:39:00Z
updated_at: 2024-10-08T21:49:27Z
url: https://github.com/astral-sh/uv/issues/8022
synced_at: 2026-01-07T12:31:15-06:00
---

# `--frozen` will change behaviour of `--only-dev`

---

_Issue opened by @tonnico on 2024-10-08 21:39_

Recursive dev dependencies are removed when `--frozen` is set.

My project:
```
.
├── mylib
│  ├── pyproject.toml
│  ├── README.md
│  └── src
│     └── mylib
│        ├── __init__.py
│        └── py.typed
├── pyproject.toml
├── README.md
└── uv.lock
```

<details>

<summary>./pyproject.toml</summary>

```toml
[tool.uv.workspace]
members = ["mylib"]
```
</details>

<details>

<summary>mylib/pyproject.toml</summary>

```toml
[project]
name = "mylib"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = []

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.uv]
dev-dependencies = [
    "pytest>=8.3.3",
]
```
</details>

sync without `--frozen`
```
> uv sync --only-dev
Resolved 6 packages in 0.47ms
Installed 4 packages in 9ms
 + iniconfig==2.0.0
 + packaging==24.1
 + pluggy==1.5.0
 + pytest==8.3.3
```

sync with `--frozen`
```
> uv sync --only-dev --frozen
Uninstalled 4 packages in 34ms
 - iniconfig==2.0.0
 - packaging==24.1
 - pluggy==1.5.0
 - pytest==8.3.3
```

---

_Comment by @charliermarsh on 2024-10-08 21:40_

It looks like you're using a legacy root project without a `[project]` table. I'd suggest adding a `[project]` table to the root `pyproject.toml`.

---

_Label `question` added by @charliermarsh on 2024-10-08 21:45_

---

_Comment by @tonnico on 2024-10-08 21:45_

Ah i see. Thanks. Now it won't install my nested dev dependencies anymore. Is there a command to do so?
If not I would close this issue and point to #8002.

---

_Comment by @charliermarsh on 2024-10-08 21:47_

Na, we don't install transitive development dependencies when you install the root package. We can follow up in the other issue!

---

_Comment by @tonnico on 2024-10-08 21:49_

Ok, thank you.

---

_Closed by @tonnico on 2024-10-08 21:49_

---
