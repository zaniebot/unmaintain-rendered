---
number: 2773
title: "`pip compile` reads output file as input file"
type: issue
state: closed
author: bersbersbers
labels:
  - question
assignees: []
created_at: 2024-04-02T12:28:03Z
updated_at: 2024-04-02T23:10:43Z
url: https://github.com/astral-sh/uv/issues/2773
synced_at: 2026-01-07T13:12:17-06:00
---

# `pip compile` reads output file as input file

---

_Issue opened by @bersbersbers on 2024-04-02 12:28_

The output of `uv pip compile` depends on if you redirect the output to a file, if that file already exists. Without, or without existing output file, `numpy==1.26.4`; with existing output file, `numpy==1.26.0`.

```
(.venv) C:\Code\Bug>uv --version
uv 0.1.27 (f60e7495c 2024-04-01)
```

`pyproject.toml`
```toml
[project]
name = "bug"
dependencies = ["numpy"]
```

`requirements.txt`
```
numpy==1.26.0
```

```
(.venv) C:\Code\Bug>uv pip compile pyproject.toml            
Resolved 1 package in 181ms
# This file was autogenerated by uv via the following command:
#    uv pip compile pyproject.toml
numpy==1.26.4
```

```
(.venv) C:\Code\Bug>uv pip compile pyproject.toml -o requirements.txt
Resolved 1 package in 15ms
# This file was autogenerated by uv via the following command:
#    uv pip compile pyproject.toml -o requirements.txt
numpy==1.26.0
```

---

_Comment by @charliermarsh on 2024-04-02 12:28_

This is by design and consistent with `pip-tools`. You can run with `--upgrade` to ignore versions in the existing output file.

---

_Label `question` added by @charliermarsh on 2024-04-02 12:30_

---

_Comment by @charliermarsh on 2024-04-02 23:10_

Closing as "working as intended".

---

_Closed by @charliermarsh on 2024-04-02 23:10_

---
