---
number: 3593
title: pip compile with local disk package without hard dependency on uv?
type: issue
state: closed
author: Nomelas
labels:
  - duplicate
assignees: []
created_at: 2024-05-14T21:13:19Z
updated_at: 2024-05-15T03:44:26Z
url: https://github.com/astral-sh/uv/issues/3593
synced_at: 2026-01-07T12:31:14-06:00
---

# pip compile with local disk package without hard dependency on uv?

---

_Issue opened by @Nomelas on 2024-05-14 21:13_

This is my situation, 

In my project i have a `pyproject.toml` which contains my dependencies and maps my `lib` directory as a local package.
When i run `pip install .` it installs my dependencies and my lib directory as my project name (my-project for example) and version specified in my `pyproject.toml` (version is actually dynamic).

In order to have `uv pip compile` also include my local package, i needed to create a requirements.in which contains only `.` (i have a separate one for requirements-dev.in containing `-e .[dev]` for additional development dependencies).

When I run `uv pip compile requirements.in -o requirements.txt`, it generates the file as expected except for the line;
`my-project @ .`

When I run `uv pip compile requirements-dev.in -o requirements-dev.txt`, it generates the file as expected except for the line;
`-e .`

Now, when I run vanilla `pip install -r requirements-dev.txt` it works as expected, but when I run `pip install -r requirements.txt`, it complains that the line `my-project @ .` is not valid. This works fine however when running `uv pip install -r requirements.txt` but my goal is to not have a hard dependency on uv when installing already pinned versions like this. Is it possible to accomplish this?

---

_Renamed from "pip compile with local disk package?" to "pip compile with local disk package without hard dependency on uv?" by @Nomelas on 2024-05-14 21:13_

---

_Comment by @Nomelas on 2024-05-14 22:51_

manually replacing "my-project @ ." with "." makes it work with pip, but there must be a better way?

---

_Comment by @charliermarsh on 2024-05-14 23:09_

Yes, pip does not support relative paths with named dependencies, and we always output with names. You can track and chime in here if you'd like: https://github.com/astral-sh/uv/issues/3180

---

_Closed by @charliermarsh on 2024-05-14 23:09_

---

_Label `duplicate` added by @zanieb on 2024-05-15 03:44_

---
