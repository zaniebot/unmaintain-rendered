---
number: 4990
title: "`uvx`: a hash was expected but one was not found for direct URL source distribution"
type: issue
state: closed
author: romeroyonatan
labels:
  - bug
  - great writeup
  - preview
assignees: []
created_at: 2024-07-11T10:29:33Z
updated_at: 2024-07-12T01:31:08Z
url: https://github.com/astral-sh/uv/issues/4990
synced_at: 2026-01-07T12:31:14-06:00
---

# `uvx`: a hash was expected but one was not found for direct URL source distribution

---

_Issue opened by @romeroyonatan on 2024-07-11 10:29_

### Description
`uvx`/`uv tool run` cannot run a command **from a dependency URL** in **Windows 11**. 

### Steps to Reproduce
```
uvx --from 'awscli @ https://github.com/aws/aws-cli/archive/refs/tags/2.17.9.zip' aws
```
### Expected Behavior
The `aws` command should be executed displaying its usage message

```bash
$ uvx --from 'awscli @ https://github.com/aws/aws-cli/archive/refs/tags/2.17.9.zip' aws
warning: `uv tool run` is experimental and may change without warning.
Resolved 16 packages in 1.11s

usage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]
To see help text, you can run:

  aws help
  aws <command> help
  aws <command> <subcommand> help

aws: error: the following arguments are required: command
```

### Actual Behavior
The command fails with the message `a hash was expected but one was not found for direct URL source distribution`

```powershell
PS > uvx --from 'awscli @ https://github.com/aws/aws-cli/archive/refs/tags/2.17.9.zip' aws
warning: `uv tool run` is experimental and may change without warning.
Resolved 16 packages in 1.25s
error: since the distribution `awscli==2.17.9 @ direct+https://github.com/aws/aws-cli/archive/refs/tags/2.17.9.zip` comes from a direct dependency, a hash was expected but one was not found for direct URL source distribution
```

### Logs
[logs-uvx-failure.txt](https://github.com/user-attachments/files/16175383/logs-uvx-failure.txt)

### Environment
**Operating System:** Windows 11 Pro 21H2 (Build 22000.2538)
**Shell:** Powershell 7.4.3
**Python version:** 3.11.9
**uv version**: 0.2.24

Thank you to the maintainers for your hard work and dedication in maintaining this project! Your efforts are greatly appreciated.

---

_Comment by @charliermarsh on 2024-07-11 14:18_

Thanks! That’s unintentional — I’ll fix it.

---

_Assigned to @charliermarsh by @charliermarsh on 2024-07-11 14:18_

---

_Label `bug` added by @charliermarsh on 2024-07-11 14:18_

---

_Label `preview` added by @charliermarsh on 2024-07-11 14:18_

---

_Label `great writeup` added by @zanieb on 2024-07-11 14:28_

---

_Comment by @zanieb on 2024-07-11 14:28_

Thanks for the clear report!

---

_Referenced in [astral-sh/uv#5002](../../astral-sh/uv/pulls/5002.md) on 2024-07-12 01:20_

---

_Closed by @charliermarsh on 2024-07-12 01:31_

---

_Closed by @charliermarsh on 2024-07-12 01:31_

---
