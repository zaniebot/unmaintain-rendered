---
number: 5278
title: "Feature Request: Add Poetry dependency group support to `uv pip compile`"
type: issue
state: closed
author: siavashyj
labels: []
assignees: []
created_at: 2024-07-22T02:08:55Z
updated_at: 2024-07-22T13:17:11Z
url: https://github.com/astral-sh/uv/issues/5278
synced_at: 2026-01-07T12:31:14-06:00
---

# Feature Request: Add Poetry dependency group support to `uv pip compile`

---

_Issue opened by @siavashyj on 2024-07-22 02:08_

### Description

Currently, `uv pip compile` does not support [Poetry's dependency groups feature](https://python-poetry.org/docs/managing-dependencies/#dependency-groups). Adding this support would greatly enhance uv's compatibility with Poetry projects and improve workflow for developers who use both tools.

### Use Case

Many projects use Poetry's dependency groups to separate different sets of dependencies (e.g., development dependencies, test dependencies, etc.). Being able to compile requirements files for specific groups using `uv pip compile` would streamline the process of managing dependencies in these projects.

### Proposed Functionality

1. Add a new option to `uv pip compile`, such as `--poetry-group` or `-g`, that allows specifying one or more Poetry dependency groups.
2. When this option is used, `uv pip compile` should read the `pyproject.toml` file and only include dependencies from the specified group(s) in the compiled requirements file.
3. If no group is specified, the default behavior should be to include all dependencies (similar to Poetry's behavior).

### Example Usage

```
uv pip compile --poetry-group dev -o requirements-dev.txt
uv pip compile --poetry-group dev,test -o requirements-dev-test.txt
```

### Additional Considerations

- How should conflicts between groups be handled if multiple groups are specified?
- Should there be an option to exclude certain groups?
- How should this feature interact with other existing `uv pip compile` options?

### Benefits

1. Improved compatibility with Poetry projects
2. More granular control over dependency compilation
3. Easier management of different environments (development, testing, production, etc.)


---

_Comment by @jamesbraza on 2024-07-22 04:03_

An aside is Poetry could be then paired with Rye to resolve https://github.com/astral-sh/rye/issues/421, albeit in a hacky way where one has both Rye and Poetry present in the same ecosystem ðŸ˜† 

---

_Comment by @zanieb on 2024-07-22 04:17_

I don't think we'll add support for reading Poetry's configuration (similarly, we have avoided reading pip's configuration). Instead, I'd point to [PEP 735](https://peps.python.org/pep-0735/) which proposes a standardized format for dependency groups.

---

_Comment by @zanieb on 2024-07-22 04:18_

(Thanks for the comprehensive overview though, I appreciate it!)

---

_Comment by @charliermarsh on 2024-07-22 13:17_

Agreed. Unfortunately I think we're unlikely to support this both because we avoid reading configuration designed for other tools and because Poetry's dependency syntax and semantics are not standardized and entirely custom to Poetry.

---

_Closed by @charliermarsh on 2024-07-22 13:17_

---

_Referenced in [astral-sh/uv#5632](../../astral-sh/uv/issues/5632.md) on 2024-07-30 20:19_

---
