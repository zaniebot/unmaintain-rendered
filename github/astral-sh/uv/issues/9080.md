---
number: 9080
title: uv pip issue with code execution upon wheel compilation with cython on python 3.10.11
type: issue
state: closed
author: fervand1
labels:
  - needs-mre
assignees: []
created_at: 2024-11-13T07:52:47Z
updated_at: 2024-11-16T10:02:44Z
url: https://github.com/astral-sh/uv/issues/9080
synced_at: 2026-01-07T12:31:15-06:00
---

# uv pip issue with code execution upon wheel compilation with cython on python 3.10.11

---

_Issue opened by @fervand1 on 2024-11-13 07:52_

uv version - latest 0.5.1
platform - windows 10/11 with python 3.10.11

I have a validation code in my package that was doing below check, can be replicable even by using str instead six.text_type
```
        if not isinstance(data, six.text_type):
            raise ValueError("Data must be of string type")
```

when I install the compiled wheel with uv pip, the above check is bypassed when the data passed is [], {}, or integer like 123
The same if I install with pip and run the test works fine.

What could be causing this weird behavior? Why is the exception not raised and what role could uv pip play python type checks?


---

_Comment by @charliermarsh on 2024-11-13 13:58_

I have no clue. Are you sure the check itself is running? Can you put together a minimal reproduction that we can test?

---

_Label `needs-mre` added by @charliermarsh on 2024-11-13 13:58_

---

_Comment by @fervand1 on 2024-11-13 14:07_

@charliermarsh yes, check it self is running. The test cases pass on linux distribution with same python 3.10 version and also if I install the wheel without uv in our ci the exception is caught correctly. I will try to provide a minimal reproduction soon. Thanks

---

_Comment by @fervand1 on 2024-11-16 10:02_

@charliermarsh I tried creating a dummy package to reproduce the same function and test but weirdly it is unable to replicate so am guessing there could be some other side effect on my project package. I will investigate that, for now I will close this ticket or re-open if I am able to spot this issue. Thanks

---

_Closed by @fervand1 on 2024-11-16 10:02_

---
