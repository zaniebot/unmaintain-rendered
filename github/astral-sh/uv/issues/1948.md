---
number: 1948
title: Audit does not include check for new extras
type: issue
state: closed
author: zanieb
labels:
  - bug
assignees: []
created_at: 2024-02-24T05:05:13Z
updated_at: 2024-02-24T19:06:59Z
url: https://github.com/astral-sh/uv/issues/1948
synced_at: 2026-01-07T12:31:14-06:00
---

# Audit does not include check for new extras

---

_Issue opened by @zanieb on 2024-02-24 05:05_

Adding an extra does not update the package without `--upgrade`, e.g.

```
❯ uv pip install packse
...
❯ packse index up
Using index commands requires installation with extra 'index'.
❯ uv pip install "packse[index]"
Audited 1 package in 10ms
❯ uv pip install "packse[index]" --upgrade
Resolved 33 packages in 368ms
Downloaded 1 package in 102ms
Installed 1 package in 13ms
 + pypiserver==2.0.1
```

If feasible, we should include this in audits.

---

_Label `bug` added by @zanieb on 2024-02-24 05:05_

---

_Renamed from "Audit does not include checking for extras" to "Audit does not include check for new extras" by @zanieb on 2024-02-24 06:53_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-02-24 11:57_

---

_Comment by @skshetry on 2024-02-24 14:36_

Maybe https://github.com/astral-sh/uv/issues/1651 is also related? 

It does not pick any new dependencies, on either editable or non-editable installs.

```console
uv pip install "."
Audited 1 package in 2ms
```

But the `--upgrade` works. 

---

_Comment by @charliermarsh on 2024-02-24 14:41_

I think editable are slightly different, but I’ll be looking into both this weekend or early next week.

---

_Comment by @charliermarsh on 2024-02-24 18:36_

I'm unable to reproduce this. Is it possible you're on an older version? (We did fix this in https://github.com/astral-sh/uv/pull/1727.)

---

_Comment by @zanieb on 2024-02-24 19:06_

Yep older version — sorry so many shims around.

---

_Closed by @zanieb on 2024-02-24 19:06_

---
