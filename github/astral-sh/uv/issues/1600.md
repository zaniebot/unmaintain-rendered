---
number: 1600
title: "--extra-index-url failing when package not in --index-url (polygraphy 0.47.1)"
type: issue
state: closed
author: kafonek
labels:
  - bug
  - duplicate
  - registry
assignees: []
created_at: 2024-02-17T16:53:53Z
updated_at: 2024-02-29T16:57:09Z
url: https://github.com/astral-sh/uv/issues/1600
synced_at: 2026-01-07T12:31:14-06:00
---

# --extra-index-url failing when package not in --index-url (polygraphy 0.47.1)

---

_Issue opened by @kafonek on 2024-02-17 16:53_

`polygraphy==0.47.1` is present on the nvidia package index but not regular PyPI. On `uv` 0.1.3, I can `uv pip install polygraphy==0.47.1 --index-url https://pypi.ngc.nvidia.com` but not `uv pip install polygraphy==0.47.1 --extra-index-url https://pypi.ngc.nvidia.com`. 

I realize this is very similar to https://github.com/astral-sh/uv/issues/1377 but the discussion in that ticket seemed to be more about priority of indices to install from than an absence of checking the extra index url.

Verbose output below - 

```
❯ uv pip install polygraphy==0.47.1 --extra-index-url https://pypi.ngc.nvidia.com -v
 uv::requirements::from_source source=polygraphy==0.47.1
    0.006585s DEBUG uv_interpreter::virtual_env Found a virtualenv named .venv at: /home/kafonek/scratch/.venv
    0.006640s DEBUG uv_interpreter::interpreter Detecting markers for: /home/kafonek/scratch/.venv/bin/python
    0.032748s DEBUG uv::commands::pip_install Using Python 3.10.12 environment at /home/kafonek/scratch/.venv/bin/python
 uv_client::flat_index::from_entries
 uv_resolver::resolver::solve
      0.039637s   0ms DEBUG uv_resolver::resolver Solving with target Python version 3.10.12
   uv_resolver::resolver::choose_version package=root
   uv_resolver::resolver::get_dependencies package=root, version=0a0.dev0
        0.039680s   0ms DEBUG uv_resolver::resolver Adding direct dependency: polygraphy==0.47.1
   uv_resolver::resolver::choose_version package=polygraphy
     uv_resolver::resolver::package_wait package_name=polygraphy
 uv_resolver::resolver::process_request request=Versions polygraphy
   uv_client::registry_client::simple_api package=polygraphy
     uv_client::cached_client::get_cacheable
       uv_client::cached_client::read_and_parse_cache file=/home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv
 uv_resolver::resolver::process_request request=Prefetch polygraphy ==0.47.1
          0.045662s   5ms  WARN uv_client::cached_client Broken cache entry at /home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv, removing: failed to open file `/home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv`
          0.045932s   6ms DEBUG uv_client::cached_client No cache entry for: https://pypi.org/simple/polygraphy/
       uv_client::cached_client::fresh_request url="https://pypi.org/simple/polygraphy/"
       uv_client::cached_client::new_cache file=/home/kafonek/.cache/uv/simple-v0/pypi/polygraphy.rkyv
       uv_client::registry_client::parse_simple_api package=polygraphy
 uv_resolver::version_map::from_metadata
        0.093293s  53ms DEBUG uv_resolver::resolver Searching for a compatible version of polygraphy (==0.47.1)
      0.093341s  53ms DEBUG uv_resolver::resolver No compatible version found for: polygraphy
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of polygraphy==0.47.1 and you require polygraphy==0.47.1, we can conclude that the requirements are unsatisfiable.
```

---

_Label `bug` added by @zanieb on 2024-02-17 17:15_

---

_Label `index` added by @zanieb on 2024-02-17 17:15_

---

_Comment by @exs-avianello on 2024-02-17 21:06_

I think that this is the same as observed in https://github.com/astral-sh/uv/issues/1451 

---

_Comment by @kafonek on 2024-02-17 21:46_

Ah, I glanced at your ticket and ducked out after seeing the timeout. I think you're right that it's the same thing. At least this is another example to test with.

---

_Closed by @kafonek on 2024-02-17 21:46_

---

_Referenced in [astral-sh/uv#1451](../../astral-sh/uv/issues/1451.md) on 2024-02-17 21:47_

---

_Label `duplicate` added by @zanieb on 2024-02-18 06:59_

---

_Closed by @zanieb on 2024-02-18 06:59_

---

_Referenced in [astral-sh/uv#171](../../astral-sh/uv/issues/171.md) on 2024-02-29 12:52_

---

_Referenced in [astral-sh/uv#2083](../../astral-sh/uv/pulls/2083.md) on 2024-02-29 15:16_

---

_Closed by @BurntSushi on 2024-02-29 16:57_

---

_Referenced in [astral-sh/uv#2159](../../astral-sh/uv/issues/2159.md) on 2024-03-04 17:03_

---

_Referenced in [astral-sh/uv#2205](../../astral-sh/uv/issues/2205.md) on 2024-03-05 16:42_

---

_Referenced in [astral-sh/uv#2542](../../astral-sh/uv/issues/2542.md) on 2024-03-19 17:20_

---

_Referenced in [astral-sh/uv#2718](../../astral-sh/uv/issues/2718.md) on 2024-03-28 19:19_

---
