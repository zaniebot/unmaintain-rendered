---
number: 5106
title: "Bug: compile with --python-platform linux does not consider manylinux "
type: issue
state: closed
author: jbw-vtl
labels:
  - documentation
assignees: []
created_at: 2024-07-16T14:32:43Z
updated_at: 2024-07-16T16:10:55Z
url: https://github.com/astral-sh/uv/issues/5106
synced_at: 2026-01-07T12:31:14-06:00
---

# Bug: compile with --python-platform linux does not consider manylinux 

---

_Issue opened by @jbw-vtl on 2024-07-16 14:32_

Hi All,

Maybe this is me misunderstanding how the more open `--python-platform` specifiers `windows / linux / macos` are expected to function, however ran into a case with `uv pip compile --python-platform linux` not recognizing a manylinux wheel.

```text
uv==0.2.24
python==3.11.9
Windows
```

```text
# requirements.in
connectorx==0.3.3
```
```bash
uv pip compile requirements.in --python-version 3.11 --python-platform linux -v
```
```text
DEBUG uv 0.2.24
DEBUG Starting Python discovery for Python 3.11
DEBUG Looking for exact match for request Python 3.11
DEBUG Searching for Python 3.11 in system path or `py` launcher
DEBUG Found cpython 3.11.9 at `...\.venv\Scripts\python.exe` (active virtual environment)
DEBUG Using Python 3.11.9 interpreter at ...\.venv\Scripts\python.exe for builds
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.11.9
DEBUG Solving with target Python version: 3.11.0
DEBUG Adding direct dependency: connectorx==0.3.3
DEBUG Found fresh response for: https://<internal-nexus>/repository/pypi-group/simple/connectorx/
DEBUG Searching for a compatible version of connectorx (==0.3.3)
  x No solution found when resolving dependencies:
  `-> Because connectorx==0.3.3 has no wheels are available with a matching Python implementation and you require connectorx==0.3.3, we can conclude that the requirements are unsatisfiable.
```
The repo however has a manylinux_2_28_x86_84 wheel.
![image](https://github.com/user-attachments/assets/40268185-309e-4a18-bdb5-8ac01d76d8ca)

Running with a more granular scoping of the below executes successfully.
```bash
uv pip compile requirements.in --python-version 3.11 --python-platform x86_64-manylinux_2_28 -v
```
```text
DEBUG uv 0.2.24
DEBUG Starting Python discovery for Python 3.11
DEBUG Looking for exact match for request Python 3.11
DEBUG Searching for Python 3.11 in system path or `py` launcher
DEBUG Found cpython 3.11.9 at `...\.venv\Scripts\python.exe` (active virtual environment)
DEBUG Using Python 3.11.9 interpreter at ...\.venv\Scripts\python.exe for builds
DEBUG Using request timeout of 30s
DEBUG Solving with installed Python version: 3.11.9
DEBUG Solving with target Python version: 3.11.0
DEBUG Adding direct dependency: connectorx==0.3.3
DEBUG Found fresh response for: https://<internal-nexus>/repository/pypi-group/simple/connectorx/
DEBUG Searching for a compatible version of connectorx (==0.3.3)
DEBUG Selecting: connectorx==0.3.3 (connectorx-0.3.3-cp311-cp311-manylinux_2_28_x86_64.whl)
DEBUG No cache entry for: https://<internal-nexus>/repository/pypi-group/packages/connectorx/0.3.3/connectorx-0.3.3-cp311-cp311-manylinux_2_28_x86_64.whl#sha256=f430c359e7977818f90ac8cce3bb7ba340469dcabee13e4ac7926f80e34e8c4d
WARN Range requests not supported for connectorx-0.3.3-cp311-cp311-manylinux_2_28_x86_64.whl; streaming wheel
DEBUG No cache entry for: https://<internal-nexus>/repository/pypi-group/packages/connectorx/0.3.3/connectorx-0.3.3-cp311-cp311-manylinux_2_28_x86_64.whl#sha256=f430c359e7977818f90ac8cce3bb7ba340469dcabee13e4ac7926f80e34e8c4d
DEBUG Tried 1 versions: connectorx 1
DEBUG Split  took 1.902s
Resolved 1 package in 1.90s
# This file was autogenerated by uv via the following command:
#    uv pip compile requirements.in --python-version 3.11 --python-platform x86_64-manylinux_2_28
connectorx==0.3.3
    # via -r requirements.in
```

---

_Comment by @charliermarsh on 2024-07-16 14:33_

I believe this is intentional. `--linux` is an alias for `x86_64-manylinux_2_17`.

---

_Comment by @charliermarsh on 2024-07-16 14:34_

If you want to target a higher `manylinux` version (i.e., lower compatibility), what you're doing above is correct -- passing (e.g.) `manylinux_2_28` explicitly.

---

_Comment by @jbw-vtl on 2024-07-16 14:42_

Interesting that makes sense.

Is this something we could add to the documentation?
Been looking around a bit online but not clear to me `linux` is an alias for `x86_64-manylinux_2_17`.


---

_Label `documentation` added by @zanieb on 2024-07-16 14:51_

---

_Comment by @zanieb on 2024-07-16 14:53_

`uv help pip compile` shows:

> - linux:                      An alias for `x86_64-unknown-linux-gnu`, the default target for Linux

We could add some documentation on cross-platform locking to `docs/pip/compile.md` though (not a live doc yet)

---

_Comment by @charliermarsh on 2024-07-16 14:59_

The README does have:

```
For example, if you're running uv on macOS, but want to resolve for Linux, you can run
`uv pip compile --python-platform=linux requirements.in` to produce a `manylinux2014`-compatible
resolution.
```


---

_Comment by @jbw-vtl on 2024-07-16 15:11_

Tried upgrading uv to the latest version just now, `uv help` does not seem to be available.  
`uv help pip compile` failed with `error: program not found`

Either way, for now using the more specific python-platform is working well.
Thank you very much for the prompt replies, closing the issue


---

_Closed by @jbw-vtl on 2024-07-16 15:11_

---

_Comment by @zanieb on 2024-07-16 15:25_

@jbw-vtl that sounds like a bug, would you mind opening a report? If you use `uv help pip compile --no-pager` I presume it will work

---

_Comment by @jbw-vtl on 2024-07-16 16:10_

will do, thanks

---
