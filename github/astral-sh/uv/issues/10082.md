---
number: 10082
title: "A command to install/get version of the package from `uv.lock`"
type: issue
state: open
author: paduszyk
labels:
  - enhancement
  - cli
assignees: []
created_at: 2024-12-21T14:53:04Z
updated_at: 2025-03-01T05:06:19Z
url: https://github.com/astral-sh/uv/issues/10082
synced_at: 2026-01-07T12:31:15-06:00
---

# A command to install/get version of the package from `uv.lock`

---

_Issue opened by @paduszyk on 2024-12-21 14:53_

In some circumstances, one may need a package installed using an exact version pinned in `uv.lock`.

For instance, this is the case when one wants to run `ruff check` on `ruff format` in CI and use the same version of the Ruff as the one installed in the environment &mdash; in fact, in the case of linting/formatting with `ruff`, the `ruff` is the only dependency required.

The following workflow:

```yaml
# ...

jobs:
  ruff:
    runs-on: ubuntu-latest
    steps:
      # Check out.
      # Set up Python. 
      - run: uv add ruff
      - run: uv run ruff check
      - run: uv run ruff format
```

will use the latest version compatible with Python set up &mdash; It does not have to be the same as the one in `uv.lock`.

One can circumvent this by using:


```yaml
    - run: uv sync --only-group ruff --frozen
```

with the `ruff` dependency group available in `pyproject.toml`. But is there any sense to define a separate group for a single development dependency?

I think that adding an extra command that would either return the exact version or install the pinned package would be an interesting feature. If the former, the version could be used as input for GitHub Actions...

Note that similar ideas were tried to be added to other dependency managers, e.g. python-poetry/poetry#3570.




---

_Comment by @zanieb on 2025-01-06 20:40_

Up to date Poetry ref https://github.com/python-poetry/poetry/issues/3033

Unfortunately, I think the best `uv sync` flag for this is `--package` which is already taken for selecting a workspace member. I think we could overload the term? But it could be confusing unless we do so elsewhere and allow selection of _any_ package as the root of the tree instead of just workspace members? cc @charliermarsh 

---

_Label `enhancement` added by @zanieb on 2025-01-06 20:40_

---

_Label `cli` added by @zanieb on 2025-01-06 20:40_

---

_Comment by @zanieb on 2025-01-06 20:41_

A `uv export` flag would be reasonable too.

---

_Comment by @paduszyk on 2025-01-25 18:58_

@zanieb The particular case used in my Ruff example is solved by: astral-sh/ruff-action#30 :+1:

But anyways, I will stay with my point that extending uv by providing an interface for extracting dependency versions from `uv.lock` might be useful.

---

_Comment by @chriskuehl on 2025-03-01 05:06_

I would also appreciate this feature as I think this is a very natural way to run Ruff in CI given that it doesn't require any other dependencies to be installed. My use case is packaging a "Ruff CI" step into a shared CI pipeline which is used by many of our projects. I don't want to build the entire virtualenv in this step as it can be slow and fragile in some of our projects (e.g. if some deps need to be compiled).

My current workaround is to use a command like `uvx $(uv export --frozen --no-hashes | grep '^ruff==')` which I think achieves a similar goal.

---
