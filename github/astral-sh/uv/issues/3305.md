---
number: 3305
title: "Implied \"--require-hashes\"?"
type: issue
state: closed
author: helderco
labels:
  - compatibility
assignees: []
created_at: 2024-04-29T10:53:39Z
updated_at: 2024-07-17T21:25:32Z
url: https://github.com/astral-sh/uv/issues/3305
synced_at: 2026-01-07T12:31:14-06:00
---

# Implied "--require-hashes"?

---

_Issue opened by @helderco on 2024-04-29 10:53_

It's great to have the new `--require-hashes` option, but can it be implied if installing from a requirements file with hashes?

It's what `pip` does:

>   --require-hashes            Require a hash to check each requirement against, for repeatable installs. This option is implied when any package in a requirements file has a --hash option.

The reason I need this is because I need to make a container image that installs dependencies from a requirements file, but I don't know if that file will have hashes or not.

---

_Label `compatibility` added by @zanieb on 2024-04-29 14:32_

---

_Comment by @zanieb on 2024-04-29 14:32_

Seems reasonable!

---

_Comment by @charliermarsh on 2024-04-29 14:34_

Somewhat interested in finding other designs here, Iâ€™m generally not a fan of implied settings.

---

_Comment by @helderco on 2024-04-30 12:00_

`pip install` checks hashes by default if a requirements file contains hashes. You could disable it with `--no-require-hashes`.

Or introduce an explicit `--verify-hashes` that checks them if they exist, but otherwise doesn't "require" them.

---

_Comment by @helderco on 2024-05-29 19:15_

Hey! ðŸ‘‹ Any update on this? In Dagger, hashes are only checked if uv is disabled explicitly. ðŸ˜…

---

_Assigned to @charliermarsh by @charliermarsh on 2024-06-04 01:09_

---

_Referenced in [astral-sh/uv#4007](../../astral-sh/uv/pulls/4007.md) on 2024-06-04 01:51_

---

_Comment by @charliermarsh on 2024-06-04 01:52_

I added it in https://github.com/astral-sh/uv/pull/4007.

---

_Comment by @hauntsaninja on 2024-06-25 00:26_

I think it's important for the defaults to be secure. Maybe uv could have the proposed `--verify-hashes` behaviour on by default? ("I have a hash but I expect it to not be checked" seems pretty niche)

---

_Closed by @charliermarsh on 2024-07-17 21:25_

---

_Closed by @charliermarsh on 2024-07-17 21:25_

---

_Referenced in [astral-sh/uv#9164](../../astral-sh/uv/issues/9164.md) on 2024-11-16 09:40_

---
