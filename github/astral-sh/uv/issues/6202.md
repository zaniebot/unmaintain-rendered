---
number: 6202
title: "Feature Request: Allow `uv pip install --dry-run` from an explicit package list"
type: issue
state: open
author: chaubold
labels: []
assignees: []
created_at: 2024-08-19T12:58:09Z
updated_at: 2024-08-19T13:00:04Z
url: https://github.com/astral-sh/uv/issues/6202
synced_at: 2026-01-07T12:31:14-06:00
---

# Feature Request: Allow `uv pip install --dry-run` from an explicit package list

---

_Issue opened by @chaubold on 2024-08-19 12:58_

Hey guys,

Thank you for providing `uv`, it's great to see so much movement in the Python package management ecosystem right now!

I'd love to use `uv` throughout our pipeline, where we do the following:

* Have a conda `environment.yaml` containing dependencies that need to be installed with `conda` and with `pip`
* Resolve the dependencies for `conda` and `pip` using `conda-lock` cross platform from linux on all operating systems (linux, win, osx-64, osx-arm64).
* download and bundle all these packages for deployment / offline installs

Unfortunately, `conda-lock` is causing quite some problems. `micromamba` can do all of the cross-platform package resolution for `conda` in a `--dry-run` fashion. But up to now we haven't found a different solution to perform `pip` dependency resolution that doesn't require manifesting the conda environment first (which doesn't work so well cross platform).

I looked at the `uv` source code and saw that `uv pip install` relies on [`SitePackages`](https://github.com/astral-sh/uv/blob/main/crates/uv-installer/src/site_packages.rs) to determine which packages are available in the base environment. But `SitePackages` can only be created `from_environment` or `from_interpreter` right now. 

Wouldn't it make sense (also for testing purposes) to allow `SitePackages` to be created `from_package_list`? This list could e.g. be something like you get from `conda list --json`? Then one could run `uv pip install --dry-run --package-list packages.json my-dependency1, my-dependency2` and get a detailed list of what packages _would_ be installed by `uv`, without ever manifesting anything.

Oh, and btw, structured `json` or `yaml` output would be great for those kinds of CI/CD pipelines ðŸ˜‰!

---
