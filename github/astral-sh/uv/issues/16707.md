---
number: 16707
title: "`uv tool upgrade --all` errors with `lock() not supported` on Termux"
type: issue
state: closed
author: Jisu-Woniu
labels:
  - bug
assignees: []
created_at: 2025-11-12T16:40:54Z
updated_at: 2025-11-18T13:27:26Z
url: https://github.com/astral-sh/uv/issues/16707
synced_at: 2026-01-07T12:31:16-06:00
---

# `uv tool upgrade --all` errors with `lock() not supported` on Termux

---

_Issue opened by @Jisu-Woniu on 2025-11-12 16:40_

### Summary

When running `uv tool upgrade --all` on Termux on Android, it fails with:

```log
error: failed to lock `/data/data/com.termux/file/home/.local/share/uv/tools/.lock`: lock() not supported
```

There are other error reports from Termux users about running other `uv` dep management command in https://github.com/termux/termux-packages/issues/27176

### Platform

Android 15 aarch64, Termux 0.118.3

### Version

uv 0.9.8

### Python version

Python 3.12.12

---

_Label `bug` added by @Jisu-Woniu on 2025-11-12 16:40_

---

_Comment by @Jisu-Woniu on 2025-11-12 16:44_

Maybe a fallback way for platforms not supporting `lock()` is required.

---

_Comment by @konstin on 2025-11-13 10:18_

We need to add more unsupported checks to file locking, though I'd like to build this on top of https://github.com/astral-sh/uv/pull/16342 cause it will conflict otherwise.

---

_Comment by @samypr100 on 2025-11-16 03:03_

This should be fixed in termux for the time being since `0.9.9-1`, please upgrade your termux uv package. There is a tracking issue in https://github.com/rust-lang/rust/issues/148325 which likely means support for Android has yet to be added (which I think it was due to https://github.com/rust-lang/rust/issues/146312#issuecomment-3336089830).

---

_Comment by @davegoopot on 2025-11-17 12:42_

I can confirm is fixed on Termux in 0.9.9-1.

---

_Closed by @konstin on 2025-11-18 13:27_

---
