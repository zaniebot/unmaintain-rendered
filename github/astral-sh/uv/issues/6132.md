---
number: 6132
title: "Remove `filename` from `File` struct"
type: issue
state: open
author: charliermarsh
labels:
  - performance
assignees: []
created_at: 2024-08-16T01:05:48Z
updated_at: 2024-08-16T13:22:09Z
url: https://github.com/astral-sh/uv/issues/6132
synced_at: 2026-01-07T12:31:14-06:00
---

# Remove `filename` from `File` struct

---

_Issue opened by @charliermarsh on 2024-08-16 01:05_

There's a section in [PEP 691](https://peps.python.org/pep-0691/#why-include-the-filename-when-the-url-has-it-already) that says:

> We could reduce the size of our responses by removing the filename key and expecting clients to pull that information out of the URL.

> Currently this PEP chooses not to do that, largely because [PEP 503](https://peps.python.org/pep-0503/) explicitly required that the filename be available via the anchor tag of the links, though that was largely because something had to be there. It’s not clear if repositories in the wild always have a filename as the last part of the URL or if they’re relying on the filename in the anchor tag.

> It also makes the responses slightly nicer to read for a human, as you get a nice short unique identifier.

> If we got reasonable confidence that mandating the filename is in the URL, then we could drop this data and reduce the size of the JSON response.

But [PEP 503](https://peps.python.org/pep-0503/) says:

> The href attribute MUST be a URL that links to the location of the file for download, and the text of the anchor tag MUST match the final path component (the filename) of the URL.

I think we actually rely on the filename exactly matching the end of the URL, e.g., when serializing and deserializing the lockfile. So I think we should just rip it out.


---

_Label `performance` added by @charliermarsh on 2024-08-16 01:05_

---
