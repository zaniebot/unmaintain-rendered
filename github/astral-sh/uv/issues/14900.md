---
number: 14900
title: constraint dependencies are ignored for workspace members.
type: issue
state: closed
author: matthewshober
labels: []
assignees: []
created_at: 2025-07-25T17:25:56Z
updated_at: 2025-07-31T11:55:50Z
url: https://github.com/astral-sh/uv/issues/14900
synced_at: 2026-01-07T12:31:16-06:00
---

# constraint dependencies are ignored for workspace members.

---

_Issue opened by @matthewshober on 2025-07-25 17:25_

### Summary

Given a uv workspace, e.g.
```
â”œâ”€â”€ packages
â”‚   â””â”€â”€ my-package
â”‚       â”œâ”€â”€ pyproject.toml
â”‚       â””â”€â”€ src
â”‚           â””â”€â”€ my_package
â”‚               â”œâ”€â”€ __init__.py
â”‚               â””â”€â”€ foo.py
â”œâ”€â”€ pyproject.toml
â””â”€â”€ uv.lock
```

If you declare [constraint-dependencies](https://docs.astral.sh/uv/reference/settings/#constraint-dependencies) in `packages/my-package/pyproject.toml`, those constraints are ignored.

I would expect uv to either properly handle constraints defined in workspace members, or return an error/warning indicating that they are not supported.

### Platform

Darwin 24.5.0 arm64

### Version

0.8.3

### Python version

3.12

---

_Label `bug` added by @matthewshober on 2025-07-25 17:25_

---

_Comment by @charliermarsh on 2025-07-25 17:30_

This is documented here: https://docs.astral.sh/uv/reference/settings/#constraint-dependencies

---

_Comment by @matthewshober on 2025-07-25 17:39_

> This is documented here: https://docs.astral.sh/uv/reference/settings/#constraint-dependencies

Apologies I don't know how I missed that ðŸ˜† . 

Is there any alternative to stuffing a large constraints list (e.g. https://raw.githubusercontent.com/apache/airflow/constraints-3.0.3/constraints-3.13.txt) into the main `pyproject.toml`? I know there's some support for constraints files (e.g. `uv pip install ... --constraints`), but it would be nice to be able to declare a constraints file in `pyproject.toml` or to be able to provide it when doing `uv lock --upgrade`.


---

_Comment by @charliermarsh on 2025-07-31 11:54_

Unfortunately I don't think either of those are supported right now. We do support adding a constraints file on the CLI with `uv add`, IIRC.

---

_Label `bug` removed by @charliermarsh on 2025-07-31 11:54_

---

_Comment by @charliermarsh on 2025-07-31 11:55_

I think this would be the right issue to follow: https://github.com/astral-sh/uv/issues/12490

---

_Closed by @charliermarsh on 2025-07-31 11:55_

---
