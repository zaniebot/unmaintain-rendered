---
number: 12809
title: Missing extra on dependant package
type: issue
state: closed
author: presidento
labels:
  - question
assignees: []
created_at: 2025-04-10T14:09:58Z
updated_at: 2025-04-10T14:35:12Z
url: https://github.com/astral-sh/uv/issues/12809
synced_at: 2026-01-07T12:31:15-06:00
---

# Missing extra on dependant package

---

_Issue opened by @presidento on 2025-04-10 14:09_

### Summary

The `django-post_office` requires `bleach[css]`, but the `css` extra is missing when I use uv.

```
❯ uv init test
Initialized project `test` at `C:\***\test`

❯ cd test

❯ uv add django-post_office
Using CPython 3.13.2 interpreter at: C:\Users\MFarkas\AppData\Local\Programs\Python\Python313\python.exe
Creating virtual environment at: .venv
Resolved 9 packages in 48ms
Installed 8 packages in 1.54s
 + asgiref==3.8.1
 + bleach==6.2.0 <-----------------------------------
 + django==5.2
 + django-post-office==3.9.1
 + sqlparse==0.5.3
 + tinycss2==1.4.0
 + tzdata==2025.2
 + webencodings==0.5.1

❯ uv export --no-hashes --no-annotate --format requirements-txt
Resolved 9 packages in 1ms
# This file was autogenerated by uv via the following command:
#    uv export --no-hashes --no-annotate --format requirements-txt
asgiref==3.8.1
bleach==6.2.0 <-----------------------------------
django==5.2
django-post-office==3.9.1
sqlparse==0.5.3
tinycss2==1.4.0
tzdata==2025.2 ; sys_platform == 'win32'
webencodings==0.5.1
```

While using pip-tools:

```
❯ pip-compile --no-annotate
#
# This file is autogenerated by pip-compile with Python 3.12
# by the following command:
#
#    pip-compile --no-annotate
#
asgiref==3.8.1
bleach[css]==6.2.0 <-------------------------
django==5.2
django-post-office==3.9.1
sqlparse==0.5.3
tinycss2==1.4.0
tzdata==2025.2
webencodings==0.5.1
```

### Platform

Windows 10 x86_64

### Version

uv 0.6.13 (a0f5c7250 2025-04-07)

### Python version

Python 3.12.9

---

_Label `bug` added by @presidento on 2025-04-10 14:09_

---

_Comment by @charliermarsh on 2025-04-10 14:11_

You can run with `--no-strip-extras` if you want to retain them in the output file. Note that there is no semantic different at all between including or excluding them -- the exact same set of dependencies get installed either way.

---

_Label `bug` removed by @charliermarsh on 2025-04-10 14:11_

---

_Label `question` added by @charliermarsh on 2025-04-10 14:11_

---

_Comment by @presidento on 2025-04-10 14:35_

Thank you, and sorry for the bug report.

---

_Closed by @presidento on 2025-04-10 14:35_

---
