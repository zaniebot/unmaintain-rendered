---
number: 8161
title: Cannot install JupyterLab
type: issue
state: closed
author: pollow
labels:
  - question
assignees: []
created_at: 2024-10-13T21:24:21Z
updated_at: 2024-11-07T10:27:37Z
url: https://github.com/astral-sh/uv/issues/8161
synced_at: 2026-01-07T12:31:15-06:00
---

# Cannot install JupyterLab

---

_Issue opened by @pollow on 2024-10-13 21:24_

I am having trouble setting up the a JupyterLab environment. I would expect to simply `uv add jupyterlab` and it will set up the dependencies and ready to run, which is my expectation of a package management.

But I run in the following error, and after some research, i only found posts suggesting try `conda-forge`, which is another project management tool that I beileve is conflicting with uv?

I wonder what's the preferred practice here. Thanks.

```
PS D:\Workplace\simple-toy> uv add jupyterlab
Resolved 106 packages in 26ms
error: Failed to prepare distributions
  Caused by: Failed to fetch wheel: pywinpty==2.0.13
  Caused by: Build backend failed to build wheel through `build_wheel` (exit code: 1)

[stdout]
Running `maturin pep517 build-wheel -i C:\Users\%USERNAME%\AppData\Local\uv\cache\builds-v0\.tmpHNo1lN\Scripts\python.exe --compatibility off`

[stderr]
ðŸ’¥ maturin failed
  Caused by: Cargo metadata failed. Do you have cargo in your PATH?
  Caused by: program not found
Error: command ['maturin', 'pep517', 'build-wheel', '-i', 'C:\\Users\\%USERNAME%\\AppData\\Local\\uv\\cache\\builds-v0\\.tmpHNo1lN\\Scripts\\python.exe', '--compatibility', 'off'] returned non-zero exit status 1
```

`uv` version is `uv 0.4.20 (0e1b25a53 2024-10-08)`.
Platform: Windows 11.


---

_Comment by @bluss on 2024-10-13 21:47_

Which python version are you using? I see that pywinpty doesn't have binary wheels for py 3.13 yet. So I would suggest trying with python 3.12 instead, it might be more compatible because 3.13 is very newly released. Maybe try `uv python pin 3.12` in the project and try again? (Or 3.11, etc)

---

_Comment by @pollow on 2024-10-14 00:42_

@bluss Yes it is 3.13. Wasn't expecting this beeing the reason. Thanks.

---

_Closed by @charliermarsh on 2024-10-14 13:44_

---

_Label `question` added by @charliermarsh on 2024-10-14 13:44_

---

_Comment by @LxYuan0420 on 2024-11-07 09:00_

The issue still seems to persist even after upgrading to Python 3.12

```
(playgrounds) â•­â”€$ ~/works/playgrounds
â•°â”€âž¤  cat .python-version
3.12
(playgrounds) â•­â”€$ ~/works/playgrounds
â•°â”€âž¤  bat requirements.txt
â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       â”‚ File: requirements.txt
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1   â”‚ jupyterlab
   2   â”‚ jupyterlab-vim
â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(playgrounds) â•­â”€$ ~/works/playgrounds
â•°â”€âž¤  uv pip install -r requirements.txt
â ‡ Resolving dependencies...
error: Failed to fetch: `https://pypi.org/simple/jupyterlab/`
  Caused by: Request failed after 3 retries
  Caused by: error sending request for url (https://pypi.org/simple/jupyterlab/)
  Caused by: client error (Connect)
  Caused by: invalid peer certificate: UnknownIssuer
```

---

_Comment by @konstin on 2024-11-07 09:09_

@LxYuan0420 your problem seems to be about SSL certificates, unrelated to the original problem. Can you `curl https://pypi.org/simple/jupyterlab/` or `wget https://pypi.org/simple/jupyterlab/`?

---

_Comment by @LxYuan0420 on 2024-11-07 09:25_

Thanks for the quick reply.

I tested with the curl command and received this output, so I donâ€™t think itâ€™s an SSL certificate issue?

```bash
... truncated output ...
<a href="https://files.pythonhosted.org/packages/e2/53/3d513eaf8f45c0d3bbb648f95e400cd85b4d0a4c449c9a21f662da4b5190/jupyterlab-4.3.0rc1.tar.gz#sha256=711135838fdf33eed70b1440803763cd0210212b04dfd381c335a4968f77ade5" data-requires-python="&gt;=3.8" >jupyterlab-4.3.0rc1.tar.gz</a><br />
<a href="https://files.pythonhosted.org/packages/2c/61/e87b188e224c040ff5a30fd63ea61d1767e419d23abb9c731693d6de0a64/jupyterlab-4.3.0-py3-none-any.whl#sha256=f67e1095ad61ae04349024f0b40345062ab108a0c6998d9810fec6a3c1a70cd5" data-requires-python="&gt;=3.8" data-dist-info-metadata="sha256
0ff4f7aaa9b3fed68adc83">jupyterlab-4.3.0-py3-none-any.whl</a><br />
<a href="https://files.pythonhosted.org/packages/1b/19/67c3dd19789337396f2e43d9d8373d5e59b4ce6ad8df51edde83bf2156fd/jupyterlab-4.3.0.tar.gz#sha256=7c6835cbf8df0af0ec8a39332e85ff11693fb9a468205343b4fc0bfbc74817e5" data-requires-python="&gt;=3.8" >jupyterlab-4.3.0.tar.gz</a><br />
</body>
</html>
* Connection #0 to host pypi.org left intact
<!--SERIAL 25747349-->%

```

Also, I tried installing those packages using Pythonâ€™s venv, and it is working fine.
```bash
â•­â”€$ ~/works
â•°â”€âž¤  mkdir test-jupyter-lab
â•­â”€$ ~/works
â•°â”€âž¤  cd test-jupyter-lab
â•­â”€$ ~/works/test-jupyter-lab
â•°â”€âž¤  cp ../requirements.txt .
â•­â”€$ ~/works/test-jupyter-lab
â•°â”€âž¤  bat requirements.txt
â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       â”‚ File: requirements.txt
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1   â”‚ jupyterlab
   2   â”‚ jupyterlab-vim
â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•­â”€$ ~/works/test-jupyter-lab
â•°â”€âž¤  python3 -m venv .venv
â•­â”€$ ~/works/test-jupyter-lab
â•°â”€âž¤  source .venv/bin/activate
(.venv) â•­â”€$ ~/works/test-jupyter-lab
â•°â”€âž¤  pip install -r requirements.txt
(.venv) â•­â”€$ ~/works/test-jupyter-lab
â•°â”€âž¤  pip freeze | grep -E "jupyterlab|vim"
jupyterlab==4.3.0
jupyterlab-vim==4.1.4
jupyterlab_pygments==0.3.0
jupyterlab_server==2.27.3

```


---

_Comment by @LxYuan0420 on 2024-11-07 10:27_

Fixed! The issue was caused by the corporate proxy certificates. The workaround is:

```bash
$ uv pip install -r requirements.txt --native-tls
```

References: 
- [Setting native-tls = true](https://docs.astral.sh/uv/reference/settings/#native-tls)
- #8832 

Thanks

CC: @konstin 

---
