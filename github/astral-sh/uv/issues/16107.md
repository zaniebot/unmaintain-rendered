---
number: 16107
title: Error parsing env variable containing dashes with --env-file flag
type: issue
state: closed
author: gbassinello
labels:
  - bug
assignees: []
created_at: 2025-10-02T20:28:40Z
updated_at: 2025-10-02T20:47:47Z
url: https://github.com/astral-sh/uv/issues/16107
synced_at: 2026-01-07T12:31:16-06:00
---

# Error parsing env variable containing dashes with --env-file flag

---

_Issue opened by @gbassinello on 2025-10-02 20:28_

### Summary

Hello,

I'm having a bug when using `uv run` to start a flask application using the `--env-file` flag when a environment variable inside my `.env` file starts with dashes.



When I started having this weird behaviour, I passed the `--print-config` flag to `gunicorn`. The .env file looks like this:

```
GUNICORN_CMD_ARGS="--bind=0.0.0.0:8080 --workers=1 --forwarded-allow-ips='*' --print-config"
```

Which makes `gunicorn` prints the configured values and it showed me this:

```bash
> uv run --env-file .env gunicorn example_api.main:app
access_log_format                  = %(h)s %(l)s %(u)s %(t)s "%(r)s" %(s)s %(b)s "%(f)s" "%(a)s"
accesslog                          = None
backlog                            = 2048
bind                               = ['ind=0.0.0.0:8080'] <------
ca_certs                           = None
capture_output                     = False
...
```

If I run it passing the env variable inline, it works as expected:

```bash
> GUNICORN_CMD_ARGS="--bind=0.0.0.0:8080 --workers=1 --forwarded-allow-ips='*' --print-config" uv run --env-file .env gunicorn example_api.main:app
access_log_format                  = %(h)s %(l)s %(u)s %(t)s "%(r)s" %(s)s %(b)s "%(f)s" "%(a)s"
accesslog                          = None
backlog                            = 2048
bind                               = ['0.0.0.0:8080'] <-----
ca_certs                           = None
capture_output                     = False
...
```


Reproducible example:
- `example_app.py`
```python
from flask import Flask
app = Flask(__name__)

@app.get("/")
def main():
    return "ok"
```

- `.env`
```txt
GUNICORN_CMD_ARGS="--bind=0.0.0.0:8080 --workers=1 --forwarded-allow-ips='*' --print-config"
```

- `pyproject.toml`
```toml
[project]
name = "example_app"
version = "0.0.1"
requires-python = ">=3.12"
dependencies = ["flask", "gunicorn"]
```

Run:
```bash
> uv install
> uv run --env-file .env gunicorn example_app:app
```

Information:
- `uv --version`: 0.8.22
- `gunicorn --version`: 23.0.0
- `python3 --version`: 3.12.8
- `echo $SHELL`: zsh 5.8.1
- ubuntu 22.04

### Platform

Ubuntu 22.04.05

### Version

0.8.22

### Python version

3.12.8

---

_Label `bug` added by @gbassinello on 2025-10-02 20:28_

---

_Comment by @gbassinello on 2025-10-02 20:47_

My bad guys, shouldve tried in another terminal before creating the issue. 
The bug is caused by [vscode's python environment extension](https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-python-envs). It is incorrectly parsing the .env files.

Tried in another terminal and worked as expected. Will open an issue for them instead, thanks.


---

_Closed by @gbassinello on 2025-10-02 20:47_

---

_Referenced in [microsoft/vscode-python-environments#887](../../microsoft/vscode-python-environments/issues/887.md) on 2025-10-02 21:02_

---
