---
number: 12242
title: "`uv sync` fails where `uv build` succeeds on specified module root and name"
type: issue
state: closed
author: nbaju1
labels:
  - bug
assignees: []
created_at: 2025-03-17T15:34:20Z
updated_at: 2025-03-17T16:21:23Z
url: https://github.com/astral-sh/uv/issues/12242
synced_at: 2026-01-07T12:31:15-06:00
---

# `uv sync` fails where `uv build` succeeds on specified module root and name

---

_Issue opened by @nbaju1 on 2025-03-17 15:34_

### Summary

Steps to reproduce:

1. Create a project with the following structure:
```markdown
some-test-library/
├── library_for_test/
└── pyproject.toml
```
and the following pyproject.toml
```toml
[project]
name = "some-test-library"
version = "0.1.0"
description = "Some test library"
requires-python = ">=3.10"

[build-system]
requires = ["uv_build"]
build-backend = "uv_build"

[tool.uv.build-backend]
module-root = ""
module-name = "library_for_test"
```
2. Run `uv build`
3. Run `uv sync`

Output of step 2:
```
Building source distribution...
Building wheel from source distribution...
Successfully built dist\some_test_library-0.1.0.tar.gz
Successfully built dist\some_test_library-0.1.0-py3-none-any.whl
```

Output of step 3:
```
Resolved 1 package in 2ms
  × Failed to build `some-test-library @ file:///C:/<pathiness>/some-test-library`
  ├─▶ The build backend returned an error
  ╰─▶ Call to `uv_build.build_editable` failed (exit code: 1)

      [stderr]
      Error: Expected a Python module with an `__init__.py` at: `some_test_library`

      hint: This usually indicates a problem with the package or the build environment.
```

Doing the same with the following build config produces no errors:
```
[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["library_for_test"]
```

### Platform

Windows 11

### Version

0.6.6

### Python version

Python 3.12.7

---

_Label `bug` added by @nbaju1 on 2025-03-17 15:34_

---

_Comment by @charliermarsh on 2025-03-17 16:21_

This was fixed in https://github.com/astral-sh/uv/pull/12137 but hasn't been released.

---

_Closed by @charliermarsh on 2025-03-17 16:21_

---
