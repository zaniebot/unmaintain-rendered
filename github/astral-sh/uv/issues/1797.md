---
number: 1797
title: Specify Constraints File In Dependencies
type: issue
state: closed
author: juftin
labels:
  - duplicate
assignees: []
created_at: 2024-02-21T06:13:28Z
updated_at: 2024-05-09T14:43:54Z
url: https://github.com/astral-sh/uv/issues/1797
synced_at: 2026-01-07T12:31:14-06:00
---

# Specify Constraints File In Dependencies

---

_Issue opened by @juftin on 2024-02-21 06:13_

`uv` doesn't specify a constraints file as a dependency when enumerating which packages depend on one-another. IMO, having `-c constraints.txt` is helpful information in the following example (`uv==0.1.6`):

```diff
--- a/piptools_requirements.txt
+++ b/uv_requirements.txt
@@ -1,9 +1,5 @@
-#
-# This file is autogenerated by pip-compile with Python 3.12
-# by the following command:
-#
-#    pip-compile --constraint=constraints.txt --output-file=piptools_requirements.txt -
-#
+# This file was autogenerated by uv via the following command:
+#    uv pip compile - -o uv_requirements.txt -c constraints.txt
 certifi==2024.2.2
     # via requests
 charset-normalizer==3.3.2
@@ -11,8 +7,5 @@ charset-normalizer==3.3.2
 idna==3.6
     # via requests
 requests==2.31.0
-    # via -r -
 urllib3==2.2.1
-    # via
-    #   -c constraints.txt
-    #   requests
+    # via requests
```

## Recreation Steps

```shell
docker run --rm -it python:3.12 /bin/bash
```

```shell
pip install -q pip-tools uv
echo "urllib3==2.2.1" > constraints.txt
echo "requests" | pip-compile - -o piptools_requirements.txt -c constraints.txt
echo "requests" | uv pip compile - -o uv_requirements.txt -c constraints.txt
git diff piptools_requirements.txt uv_requirements.txt
```

---

_Comment by @juftin on 2024-02-21 06:24_

Same goes for `requirements.in` files, I think having them included is helpful too:

```shell
pip install -q pip-tools uv
echo "urllib3==2.2.1" > constraints.txt
echo "requests" > requirements.in
pip-compile requirements.in -o piptools_requirements.txt -c constraints.txt
uv pip compile requirements.in -o uv_requirements.txt -c constraints.txt
git diff piptools_requirements.txt uv_requirements.txt
```

```diff
--- a/piptools_requirements.txt
+++ b/uv_requirements.txt
@@ -1,9 +1,5 @@
-#
-# This file is autogenerated by pip-compile with Python 3.12
-# by the following command:
-#
-#    pip-compile --constraint=constraints.txt --output-file=piptools_requirements.txt requirements.in
-#
+# This file was autogenerated by uv via the following command:
+#    uv pip compile requirements.in -o uv_requirements.txt -c constraints.txt
 certifi==2024.2.2
     # via requests
 charset-normalizer==3.3.2
@@ -11,8 +7,5 @@ charset-normalizer==3.3.2
 idna==3.6
     # via requests
 requests==2.31.0
-    # via -r requirements.in
 urllib3==2.2.1
-    # via
-    #   -c constraints.txt
-    #   requests
+    # via requests
```

---

_Comment by @T-256 on 2024-02-21 06:35_

Related https://github.com/astral-sh/uv/issues/1343

---

_Comment by @charliermarsh on 2024-02-21 19:41_

Yeah I think this is the same as https://github.com/astral-sh/uv/issues/1343. Gonna merge into that issue. Thanks!

---

_Closed by @charliermarsh on 2024-02-21 19:41_

---

_Label `duplicate` added by @zanieb on 2024-02-21 20:40_

---

_Comment by @charliermarsh on 2024-05-09 14:43_

Supported in the next version via https://github.com/astral-sh/uv/pull/3269.

---
