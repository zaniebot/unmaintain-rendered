---
number: 16502
title: "[uv lock] Git Submodule Isolation support"
type: issue
state: open
author: DEKHTIARJonathan
labels:
  - question
assignees: []
created_at: 2025-10-29T20:04:05Z
updated_at: 2025-10-30T10:32:09Z
url: https://github.com/astral-sh/uv/issues/16502
synced_at: 2026-01-07T12:31:16-06:00
---

# [uv lock] Git Submodule Isolation support

---

_Issue opened by @DEKHTIARJonathan on 2025-10-29 20:04_

### Summary

Given that `uv` supports creating monorepo. It started to become very very useful to start aggregating many projects using `git submodule`.

`uv lock` functions with no problem at the top level of the monorepo. Unfortunately, it seems impossible to lock (independently) each `git submodule`.

### Why this matters ?

Well, in a monorepo you don't necessarily want only the top repo to provide a `uv.lock`, it's very useful to also be able to lock the submodule.

Right now the only way to do that is to clone twice the repo (once in the monorepo, once outside), it's quite annoying.

### Ideally

One of these would probably sort of work well:

```bash
uv lock --isolate-submodule
uv lock --project .  # this one exist but doesn't work
uv lock --directory .  # this one exist but doesn't work
```

I think the implementation would be reasonably simple but extremely helpful to manage monorepos.

### Example

```toml
[project]
name = "My_Monorepo"
version = "1.0.0"
dependencies = []
requires-python = ">=3.10"

[tool.uv]
package = false

[tool.uv.sources]
mysubmodule = { workspace = true }

[tool.uv.workspace]
members = [
    "mysubmodule",
]

---

_Label `enhancement` added by @DEKHTIARJonathan on 2025-10-29 20:04_

---

_Renamed from "[uv lock] Git Submodule support" to "[uv lock] Git Submodule Isolation support" by @DEKHTIARJonathan on 2025-10-29 20:04_

---

_Comment by @konstin on 2025-10-30 10:32_

In a workspace with submodules, I recommend path dependencies with `editable = true` over workspace dependencies. A path dependency means that the other package also exists on its own and can have its own lockfile and some extra and group options apply, otherwise workspace dependencies are internally treated as editable path dependencies.

---

_Label `enhancement` removed by @konstin on 2025-10-30 10:32_

---

_Label `question` added by @konstin on 2025-10-30 10:32_

---
