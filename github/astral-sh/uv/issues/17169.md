---
number: 17169
title: Please rebase astral-reqwest-retry on upstream version 0.8.0
type: issue
state: closed
author: musicinmybrain
labels:
  - enhancement
assignees: []
created_at: 2025-12-18T10:19:06Z
updated_at: 2025-12-18T14:14:28Z
url: https://github.com/astral-sh/uv/issues/17169
synced_at: 2026-01-07T12:31:16-06:00
---

# Please rebase astral-reqwest-retry on upstream version 0.8.0

---

_Issue opened by @musicinmybrain on 2025-12-18 10:19_

### Summary

With low priority, please rebase https://github.com/astral-sh/reqwest-middleware on https://github.com/TrueLayer/reqwest-middleware/commit/1485f61e20c8cd31cabb663788f06206c19cabaf, thereby updating https://crates.io/crates/astral-reqwest-retry from 0.7.0 to 0.8.0.

----

The breaking change in `retry-polices` 0.5 was that `build_with_total_retry_duration_and_max_retries` was renamed to `build_with_total_retry_duration_and_limit_retries`.

https://github.com/TrueLayer/retry-policies/blob/v0.5.1/CHANGELOG.md

The SemVer break in `reqwest-retry` is simply because it re-exports `retry-policies`.

https://github.com/TrueLayer/reqwest-middleware/blob/1485f61e20c8cd31cabb663788f06206c19cabaf/reqwest-retry/CHANGELOG.md

It would also be necessary to adjust the version bounds in uv to allow astral-reqwest-retry 0.8. No source-code changes would be required in uv because it doesn’t use `build_with_total_retry_duration_and_max_retries`.

The benefit of all this is that astral-reqwest-retry, and by extension uv, would end up depending on the *current* version of https://crates.io/crates/retry-policies, and not having dependencies stuck on older releases is always nice for long-term maintainability. This would also make it easier for me to stop maintaining a `rust-retry-policies0.4` compat package in Fedora.

I opened this issue on uv rather than on https://github.com/astral-sh/reqwest-middleware because issues are not enabled there, and PR’s are restricted to collaborators.

### Example

_No response_

---

_Label `enhancement` added by @musicinmybrain on 2025-12-18 10:19_

---

_Renamed from "Please astral-reqwest-retry on upstream version 0.8.0" to "Please rebase astral-reqwest-retry on upstream version 0.8.0" by @musicinmybrain on 2025-12-18 10:19_

---

_Referenced in [astral-sh/uv#17170](../../astral-sh/uv/pulls/17170.md) on 2025-12-18 10:44_

---

_Comment by @konstin on 2025-12-18 10:44_

I've updated the crate.

I've enabled issues on the repository, we don't intend it for wide usage, but it's relevant for re-distributors of uv. But the issues reach us either way :)



---

_Closed by @konstin on 2025-12-18 10:59_

---

_Comment by @musicinmybrain on 2025-12-18 14:14_

Thank you!

---
