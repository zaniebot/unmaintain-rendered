---
number: 1900
title: "`uv pip compile`: add `--no-upgrade` flag"
type: issue
state: closed
author: gotmax23
labels:
  - enhancement
  - cli
assignees: []
created_at: 2024-02-23T04:11:43Z
updated_at: 2024-05-01T18:13:34Z
url: https://github.com/astral-sh/uv/issues/1900
synced_at: 2026-01-07T12:31:14-06:00
---

# `uv pip compile`: add `--no-upgrade` flag

---

_Issue opened by @gotmax23 on 2024-02-23 04:11_

(Version: uv 0.1.9)

It would be nice if `uv pip compile` had a `--no-upgrade` flag to reverse `--upgrade`. In my projects' nox configurations, we have something like

``` python
@nox.session(name="pip-compile")
def pip_compile(session):
    session.run("pip-compile", "requirements.in", "-o", "requirements.txt", "--upgrade", *session.posargs)
```

so `--upgrade` is the default operation, but sometimes we want to disable that behavior with `nox -e pip-compile -- --no-upgrade`.

---

_Comment by @zanieb on 2024-02-23 04:26_

Could you just drop `--upgrade` from that command when you see `--no-upgrade`? I think allowing multiple conflicting arguments to be passed leads to too much ambiguity.

---

_Label `enhancement` added by @zanieb on 2024-02-23 04:26_

---

_Label `cli` added by @zanieb on 2024-02-23 04:26_

---

_Comment by @gotmax23 on 2024-02-23 05:05_

> Could you just drop --upgrade from that command when you see --no-upgrade?

We _could_, but that would definitely make it more complicated.

> I think allowing multiple conflicting arguments to be passed leads to too much ambiguity.


For what it's worth, allowing to invert boolean CLI flags with a `--no-FLAG` option is popular amongst CLI interfaces.

---

_Assigned to @charliermarsh by @charliermarsh on 2024-05-01 16:44_

---

_Referenced in [astral-sh/uv#3328](../../astral-sh/uv/pulls/3328.md) on 2024-05-01 16:48_

---

_Closed by @charliermarsh on 2024-05-01 18:13_

---
