---
number: 8329
title: "`uv run` without generating `uv.lock` file"
type: issue
state: closed
author: patrick-kidger
labels:
  - question
assignees: []
created_at: 2024-10-18T14:23:21Z
updated_at: 2024-10-18T14:39:05Z
url: https://github.com/astral-sh/uv/issues/8329
synced_at: 2026-01-07T12:31:15-06:00
---

# `uv run` without generating `uv.lock` file

---

_Issue opened by @patrick-kidger on 2024-10-18 14:23_

We'd like to use `uv`, whilst using `requirements.txt` as the lockfile format.

(Right now this is important for interopability with other tools: until PEP751 becomes reality then `requirements.txt` is the de-facto common denominator understood by everyone.)

For that purpose we're currently using `uv run --with-requirements requirements.txt <rest of command here>`. However, this seems to generate a spurious `uv.lock` file.

Given that `--with-requirements` involves explicitly opting in to using a different lockfile, then I'm not sure if this is unexpected behaviour and I'm raising a bug report, or if this is something there should be a flag to toggle and I'm raising a feature request!

---

_Comment by @zanieb on 2024-10-18 14:28_

`uv run --with-requirements` includes those requirements _on top_ of your project ones. Maybe you want to set `managed = false` in your project?

https://docs.astral.sh/uv/reference/settings/#managed 

---

_Label `question` added by @zanieb on 2024-10-18 14:28_

---

_Comment by @patrick-kidger on 2024-10-18 14:39_

Ah, I didn't know that existed! Okay, giving it a try: my understanding is that to use `requirements.txt` as the lock file instead, then I should replace `uv run <foo>` with
```
uv pip compile pyproject.toml -o requirements.txt &>/dev/null && uv run --with-requirements requirements.txt <foo>
```

Thanks for your help :)

---

_Closed by @patrick-kidger on 2024-10-18 14:39_

---
