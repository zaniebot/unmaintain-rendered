---
number: 15014
title: torch nightlies fails if the latest nightly is missing
type: issue
state: open
author: pbontrager
labels:
  - question
assignees: []
created_at: 2025-08-01T16:30:37Z
updated_at: 2025-08-01T18:29:34Z
url: https://github.com/astral-sh/uv/issues/15014
synced_at: 2026-01-07T12:31:16-06:00
---

# torch nightlies fails if the latest nightly is missing

---

_Issue opened by @pbontrager on 2025-08-01 16:30_

### Summary

I have a torch dependency in my project list "torch>2.7.1". And I include an index:
```
[[tool.uv.index]]
name = "torch-nightly"
url = "https://download.pytorch.org/whl/nightly/"
explicit = True

[tool.uv.sources]
torch = { index = "pytorch-nightly" }
```

This normally works, but when I ran it today, it failed because the linux wheels didn't build and push to the index for some reason (2.9.0.dev20250801+cu128). Therefore the latest builds are only for "win_amd64". Since my only requirement is ">2.7.1", shouldn't the system fall back to yesterdays build (2.9.0.dev20250731+cu128), which are still on the index?

### Platform

Linux 6.4.3-0_fbk20_zion_2830_g3e5ab162667d x86_64 GNU/Linux

### Version

uv 0.8.4

### Python version

Python 3.12

---

_Label `bug` added by @pbontrager on 2025-08-01 16:30_

---

_Comment by @zanieb on 2025-08-01 16:56_

Please see https://docs.astral.sh/uv/concepts/resolution/#required-environments

---

_Label `bug` removed by @zanieb on 2025-08-01 16:56_

---

_Label `question` added by @zanieb on 2025-08-01 16:56_

---

_Comment by @pbontrager on 2025-08-01 18:24_

Okay thank you! Adding the environments option fixed it in this case. To further clarify, this means that every platform supported needs to be on the same version of the dependency? Is there a way to support linux + win + darwin and for each one it takes the latest build that exists even if they're not the same?

---

_Comment by @zanieb on 2025-08-01 18:29_

> To further clarify, this means that every platform supported needs to be on the same version of the dependency?

I'm not actually sure. It gets kind of nuanced at that point. I think you'd want a new https://docs.astral.sh/uv/concepts/resolution/#multi-version-resolution option like `fork-strategy = "platform"`

---
