---
number: 11983
title: "authentication using SSH: failed to parse url to GitLab repo"
type: issue
state: closed
author: MttBallu
labels:
  - bug
assignees: []
created_at: 2025-03-05T16:54:53Z
updated_at: 2025-03-06T03:46:11Z
url: https://github.com/astral-sh/uv/issues/11983
synced_at: 2026-01-07T12:31:15-06:00
---

# authentication using SSH: failed to parse url to GitLab repo

---

_Issue opened by @MttBallu on 2025-03-05 16:54_

### Summary

I am trying to add  a git dependency source where the remote repo is stored on an instance of Git Lab by running : 
` uv add git+ssh://git@<gitlab_instance>:<my_username>/<path_to_repo>.git`
but I get the following error : 

**error: Failed to parse: <url>
Caused by: invalid port number**

But I get no error when using `git+https://<gitlab_instance>:<my_username>/<path_to_repo>.git`.
I have no issue when I manually clone the repo using ssh.

Is there any extra information to provide when using ssh over https in the `uv add` command ? 

### Platform

Ubuntu 22.04

### Version

0.6.3

### Python version

3.12

---

_Label `bug` added by @MttBallu on 2025-03-05 16:54_

---

_Comment by @zanieb on 2025-03-05 18:39_

Is this supported elsewhere? e.g., in `pip`?

I'd need to look at the URL specification, but we generally rely on foundational libraries in the ecosystem for parsing here.

---

_Comment by @MttBallu on 2025-03-05 21:20_

I found the issue. Following [this issue on SO](https://stackoverflow.com/questions/4830856/is-it-possible-to-use-pip-to-install-a-package-from-a-private-github-repository), the ':' in the url provided by gitlab has to be replaced by a '/' and the `uv add` command works as expected. 

---

_Closed by @charliermarsh on 2025-03-06 03:46_

---

_Comment by @charliermarsh on 2025-03-06 03:46_

Thanks for following up.

---
