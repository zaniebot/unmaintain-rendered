---
number: 7170
title: Can not install an earlier futures version with uv
type: issue
state: closed
author: selimt
labels:
  - question
assignees: []
created_at: 2024-09-07T16:33:48Z
updated_at: 2024-09-17T13:28:41Z
url: https://github.com/astral-sh/uv/issues/7170
synced_at: 2026-01-07T12:31:15-06:00
---

# Can not install an earlier futures version with uv

---

_Issue opened by @selimt on 2024-09-07 16:33_

Installing a package that has the "futures" package dependency results in the following error:
```
> uv pip install futures
Resolved 1 package in 19ms
error: Failed to prepare distributions
  Caused by: Failed to fetch wheel: futures==3.4.0
  Caused by: Build backend failed to determine extra requires with `build_wheel()` with exit status: 1
--- stdout:

--- stderr:
This backport is meant only for Python 2.
It does not work on Python 3, and Python 3 users do not need it as the concurrent.futures package is available in the standard library.
For projects that work on both Python 2 and 3, the dependency needs to be conditional on the Python version, like so:
extras_require={':python_version == "2.7"': ['futures']}
```
with uv 0.4.2 the same command goes through without any issues. And regular `pip install` command succeeds as well.

I agree that the upstream package should specify the Python requirement as specified above but at least we should be able to install an earlier version of `futures` (3.1.1) that doesn't have the "python<3" requirement.


---

_Comment by @charliermarsh on 2024-09-08 15:10_

> with uv 0.4.2 the same command goes through without any issues.

Do you mean that this changed in newer versions?

---

_Comment by @selimt on 2024-09-08 16:12_

Correct. 0.4.3 through 0.4.7 has this issue.

---

_Comment by @charliermarsh on 2024-09-16 03:04_

This seems ok to me. You _can_ install `uv pip install futures==3.1.1` or earlier versions (though the package warns you not to do this). But if you try to build the latest, we fail.

---

_Label `question` added by @charliermarsh on 2024-09-16 03:04_

---

_Comment by @charliermarsh on 2024-09-16 03:05_

We don't respect upper bounds on `requires-python` which is why we stopped backtracking.

---

_Comment by @selimt on 2024-09-17 06:39_

OK, thanks, did not realize the change in behavior for backtracking. We updated our setup.py, so all good here.


---

_Closed by @zanieb on 2024-09-17 13:28_

---

_Referenced in [astral-sh/uv#7563](../../astral-sh/uv/issues/7563.md) on 2024-09-19 22:13_

---
