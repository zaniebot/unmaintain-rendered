---
number: 10848
title: How to ignore conflicts in transitive dependencies when publishing to PyPI?
type: issue
state: closed
author: cthoyt
labels:
  - question
assignees: []
created_at: 2025-01-22T10:17:31Z
updated_at: 2025-01-22T12:30:59Z
url: https://github.com/astral-sh/uv/issues/10848
synced_at: 2026-01-07T12:31:15-06:00
---

# How to ignore conflicts in transitive dependencies when publishing to PyPI?

---

_Issue opened by @cthoyt on 2025-01-22 10:17_

### Question

I'm running into the issue where I know that a transitive dependency of my project, `gilda`, has unnecessarily strict version pins to `scikit-learn<1.5`.

```console
$ uv init --package test_reqs
Initialized project `test-reqs` at `/Users/cthoyt/Desktop/test_reqs`
$ cd test_reqs
$ uv add "scikit-learn>=1.6.0"
Using CPython 3.13.1
Creating virtual environment at: .venv
Resolved 6 packages in 844ms
   Built test-reqs @ file:///Users/cthoyt/Desktop/test_reqs
Prepared 6 packages in 3.50s
Installed 6 packages in 28ms
 + joblib==1.4.2
 + numpy==2.2.2
 + scikit-learn==1.6.1
 + scipy==1.15.1
 + test-reqs==0.1.0 (from file:///Users/cthoyt/Desktop/test_reqs)
 + threadpoolctl==3.5.
$ uv add "gilda>=1.4.0"
  × No solution found when resolving dependencies:
  ╰─▶ Because only gilda<=1.4.0 is available and gilda==1.4.0 depends on scikit-learn<1.5, we can conclude that gilda>=1.4.0
      depends on scikit-learn<1.5.
      And because your project depends on gilda>=1.4.0 and scikit-learn>=1.6.0, we can conclude that your project's requirements
      are unsatisfiable.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and
        syncing.
```

First, kudos on this being a super helpful resolution message. As suggested, for my local project, I can use `--frozen` to tell the resolver I know what I'm doing and am sure I want to override its default behavior.

**My goal** is that I want to publish to PyPI, and make sure that downstream users of my package get `gilda` but don't run into the same issue. I'm under the impression that the `uv.lock` solution with `--frozen` only works for users who download the source code and install it with uv.

My question is - is there a solution to my issue that will work directly from PyPI? I.e., if I publish `test_reqs` to PyPI, is there a way for anyone using `pip install test_reqs` (or equivalent, whether with uv or not) to get the information about the surgery I did on the requirements? 

A few alternatives I've considered:

- Making a fork of this repo, fixing the requirements, and using `[tool.uv.sources]` in my `pyproject.toml` following https://docs.astral.sh/uv/concepts/projects/dependencies/#git
- Not pinning gilda to `>=1.4`. Resolution will "work" and get version 1.2, where there is no scikit-learn pin, but I need the most recent features, so this isn't a realistic option


### Platform

Darwin 24.2.0 arm64

### Version

uv 0.5.22 (4574ced37 2025-01-21)

---

_Label `question` added by @cthoyt on 2025-01-22 10:17_

---

_Comment by @konstin on 2025-01-22 12:26_

> My question is - is there a solution to my issue that will work directly from PyPI?

Unfortunately, no. pypi doesn't allow influencing the metadata of other packages. You can only document to users what workarounds exists with different packaging tools.

> Making a fork of this repo, fixing the requirements, and using [tool.uv.sources] in my pyproject.toml following https://docs.astral.sh/uv/concepts/projects/dependencies/#git

pypi doesn't allow URL or path dependencies and `[tool.uv.sources]` is not published for that reason. You would need to publish forks under different names for the whole dependency chain to gilda.

---

_Comment by @cthoyt on 2025-01-22 12:30_

@konstin thanks for confirming what I was thinking. I hope this issue is valuable in case someone else has a similar question :)

---

_Closed by @cthoyt on 2025-01-22 12:30_

---
