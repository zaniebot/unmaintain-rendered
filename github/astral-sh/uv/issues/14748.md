---
number: 14748
title: "feat: `UV_PYTHON` but only scoped to `uv venv` and similar internal commands which create a `venv`."
type: issue
state: closed
author: gabyx
labels:
  - enhancement
assignees: []
created_at: 2025-07-19T16:16:55Z
updated_at: 2025-09-06T17:44:19Z
url: https://github.com/astral-sh/uv/issues/14748
synced_at: 2026-01-07T12:31:16-06:00
---

# feat: `UV_PYTHON` but only scoped to `uv venv` and similar internal commands which create a `venv`.

---

_Issue opened by @gabyx on 2025-07-19 16:16_

### Summary

`uv` is a much better improvement then the berhavior `poetry` has:

I am coming from a determinstic usecase with NixOS  with devenv, I am a contributor in https://github.com/cachix/devenv.

We set `UV_PYTHON_DOWNLOAD=never` because a Nix DevShell will define the `python` version available and Nix dev shell setups 
dont want any system python etc to be used in any use case. So its strictly forbidden to do that.

- We have currently no way to really forcefully set the python version which `uv venv` use (and underlying internal flow which use a virt. env)
  It would be really nice if a `UV_PYTHON_VENV` would exist which `uv` would always consult and use that python executable to create a virtual environment ( `uv venv`). This will give devenv/nix a more deterministic/stable way to have always the same python used when a virt. env is created. When `uv venv`.

- The `UV_PYTHON` variable is to globally scoped as when set to lets say `/nix/store/...-python-3.13.../bin/python` 
  - `uv venv` will work initially but any `uv pip install` will fail as it will pick up the system (read-only) python etc.
 
# Suggestions

- Enhance CLI `uv venv` to have the flag `--python` be represented as
  
  ```
   -p, --python <PYTHON>      The Python interpreter to use for the virtual environment. [env: UV_PYTHON_VENV="..." (if    set) or UV_PYTHON="..."]
   ```  

- Make the `UV_PYTHON_VENV` be used instead of `UV_PYTHON` when creating virt. envs and fallback to `UV_PYTHON` if not set.



### Example

_No response_

---

_Label `enhancement` added by @gabyx on 2025-07-19 16:16_

---

_Referenced in [cachix/devenv#1959](../../cachix/devenv/pulls/1959.md) on 2025-07-19 16:18_

---

_Comment by @konstin on 2025-07-21 11:03_

Can you use one of the other mechanisms to control the Python interpreter, such as the `--python` option, placing the Python you want to use at the top of `PATH`, or `uv python pin`?

---

_Comment by @gabyx on 2025-07-21 11:35_

Oh I didnt know `uv python pin`. I check.

---

_Comment by @gabyx on 2025-08-04 20:40_

Ok so far `devevn.sh` places the python at the top of the path which is ok and work mostly:

**But** not in all cases.

Lets say we have `/nix/store/.../bin/python` in the top of the path and developer activates another virtual env. somewhere else with `source /b/bin/activate`. Now any `uv sync -v` *when the env. folder is not yet there* will use that python `/b/bin/python` and create the venv. We dont want this, we want to fully control what python `uv` uses when creating the environment when doing `uv sync ...` or with `uv venv dir` etc, we use `UV_PROJECT_ENVIRONMENT=.devenv/state/venv` hardcode that venv directory so far.

So the only way to achieve the above is to set `UV_PYTHON` but that also influences other commands `uv pip install` etc which is a bit weird. Therefore it would be nice to think about the proposed solution above.

---

_Comment by @zanieb on 2025-08-04 21:18_

Sort of similar to https://github.com/astral-sh/uv/issues/6645

---

_Closed by @gabyx on 2025-09-06 17:44_

---

_Referenced in [astral-sh/uv#15709](../../astral-sh/uv/issues/15709.md) on 2025-09-06 19:21_

---
