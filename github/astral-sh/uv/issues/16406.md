---
number: 16406
title: Panic when trying to export a lockfile that has no root
type: issue
state: closed
author: Inujel
labels:
  - bug
assignees: []
created_at: 2025-10-22T08:42:04Z
updated_at: 2025-10-23T20:07:15Z
url: https://github.com/astral-sh/uv/issues/16406
synced_at: 2026-01-07T12:31:16-06:00
---

# Panic when trying to export a lockfile that has no root

---

_Issue opened by @Inujel on 2025-10-22 08:42_

### Summary

When running `uv export --frozen --format requirements-txt --verbose` with a `uv.lock` that has no root, uv crashes with the following message:
```
DEBUG uv 0.9.5 (d5f39331a 2025-10-21)
DEBUG Acquired shared lock for `C:\Users\jj\AppData\Local\uv\cache`
DEBUG Found project root: `C:\Local\tv\266\videomaster-regtool-generator`
DEBUG No workspace root found, using project root

thread 'main2' panicked at C:\a\uv\uv\crates\uv-resolver\src\lock\export\mod.rs:77:18:
could not find root
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
DEBUG Released lock at `C:\Users\jj\AppData\Local\uv\cache\.lock`

thread 'main' panicked at C:\a\uv\uv\crates\uv\src\lib.rs:2407:10:
Tokio executor failed, was there a panic?: Any { .. }
```

I understand that the lockfile is ill-formed, and that an error should be expected, but I think it deserves a better message.

[uv.lock.txt](https://github.com/user-attachments/files/23049618/uv.lock.txt)
(I had to rename it to .txt to upload it).

### Platform

Windows 10 and Ubuntu 22.04

### Version

0.8.22 and 0.9.5

### Python version

Python 3.12.11

---

_Label `bug` added by @Inujel on 2025-10-22 08:42_

---

_Referenced in [astral-sh/uv#16407](../../astral-sh/uv/pulls/16407.md) on 2025-10-22 10:47_

---

_Closed by @zanieb on 2025-10-23 20:07_

---
