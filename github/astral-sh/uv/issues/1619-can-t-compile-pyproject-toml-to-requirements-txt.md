---
number: 1619
title: "Can't compile pyproject.toml to requirements.txt"
type: issue
state: closed
author: Pixel-Minions
labels:
  - question
assignees: []
created_at: 2024-02-18T00:18:25Z
updated_at: 2024-03-25T20:30:54Z
url: https://github.com/astral-sh/uv/issues/1619
synced_at: 2026-01-07T13:12:16-06:00
---

# Can't compile pyproject.toml to requirements.txt

---

_Issue opened by @Pixel-Minions on 2024-02-18 00:18_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with uv.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `uv pip sync requirements.txt`), ideally including the `--verbose` flag.
* The current uv platform.
* The current uv version (`uv --version`).
-->

Hi,

I am running issues with the compilation of pyproject.toml to requirements.txt, I am using:
`uv pip compile pyproject.toml -o requirements.txt.

![image](https://github.com/astral-sh/uv/assets/1145623/ad32cf05-5ab6-4951-b1a0-a7d1160556f8)

This is the content of the toml:

```toml
[tool.poetry]
name = "test package"
version = "1.0.0"
description = "test team"
authors = ["test <test@example.com>"]

[tool.poetry.dependencies]
python = "^3.7"
boto3 = "^1.29"
QtPy = "^2.4"
Fileseq = "^1.15"
sentry-sdk = "^1.35"
qtmodern = "^0.2"
pystray = "^0.19"
rpyc = "^5.3"
```

---

_Comment by @kpeez on 2024-02-18 00:30_

Your pyproject.toml is set up for poetry. You need to modify it to something like the following:

```bash
[project]
name = "test package"
version = "1.0.0"
description = "test team"
authors = [{name = "test", email="test@example.com"}]
dependencies = [
    "boto3", 
    "QtPy", 
    "Fileseq",
    "sentry-sdk",
    "qtmodern",
    "pystray", 
    "rpyc",
]
```
then running `uv pip compile -o requirements.txt pyproject.toml` should work as expected.

If you have additional optional dependencies those are specified in a different section:
```
[project.optional-dependencies]
dev = [
    "ruff",
    "mypy",
    "pytest",
]
```
and can be generated by running `uv pip compile -o requirements-dev.txt --extra=dev pyproject.toml`

If you want to specify specific package versions you can [see here for more info](https://packaging.python.org/en/latest/guides/writing-pyproject-toml/).

---

_Renamed from "Can't compile pyproject.toml to requirements.py" to "Can't compile pyproject.toml to requirements.txt" by @AlexWaygood on 2024-02-18 00:46_

---

_Comment by @Pixel-Minions on 2024-02-18 01:16_

Amazing @AlexWaygood , it works! Thank you. I would have loved to have the conversion from poetry to standard pyproject just because I have some many more. Can I briefly ask @AlexWaygood if does it support virtual environments from embedded versions of python? I tried a moment ago but it seems it doesn't. I can create an issue about it.

---

_Label `question` added by @charliermarsh on 2024-02-18 02:11_

---

_Comment by @charliermarsh on 2024-02-18 02:12_

Ah yeah, unfortunately we don't support Poetry's metadata format, which is custom to Poetry. Perhaps we should add a custom error message here.

---

_Comment by @zanieb on 2024-02-18 07:42_

Also reported in https://github.com/astral-sh/uv/issues/1597

---

_Referenced in [astral-sh/uv#1630](../../astral-sh/uv/issues/1630.md) on 2024-02-18 07:47_

---

_Comment by @zanieb on 2024-02-18 07:48_

Closing in favor of https://github.com/astral-sh/uv/issues/1630. Thanks for reporting!

---

_Closed by @zanieb on 2024-02-18 07:48_

---

_Referenced in [astral-sh/uv#1712](../../astral-sh/uv/issues/1712.md) on 2024-02-19 18:52_

---

_Referenced in [astral-sh/uv#1437](../../astral-sh/uv/issues/1437.md) on 2024-02-19 18:52_

---

_Referenced in [astral-sh/uv#2633](../../astral-sh/uv/pulls/2633.md) on 2024-03-25 19:41_

---

_Comment by @zanieb on 2024-03-25 20:30_

As of https://github.com/astral-sh/uv/pull/2633 we support reading this directly.

---
