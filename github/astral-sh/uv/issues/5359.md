---
number: 5359
title: "`--link-mode=symlink` fails with scripts"
type: issue
state: closed
author: charliermarsh
labels:
  - bug
assignees: []
created_at: 2024-07-23T18:07:37Z
updated_at: 2024-07-24T14:21:42Z
url: https://github.com/astral-sh/uv/issues/5359
synced_at: 2026-01-07T12:31:14-06:00
---

# `--link-mode=symlink` fails with scripts

---

_Issue opened by @charliermarsh on 2024-07-23 18:07_

For example:

```
‚ùØ uv tool install hatch==1.12.0 --with uv==0.2.27 --force --link-mode=symlink -n
warning: `uv tool install` is experimental and may change without warning
Resolved 36 packages in 281ms
Prepared 36 packages in 864ms
error: Failed to install: uv-0.2.27-py3-none-macosx_11_0_arm64.whl (uv==0.2.27)
  Caused by: The wheel is invalid: Wheel contains entry in scripts directory that is not a file: /Users/crmarsh/Library/Application Support/uv/tools/hatch/lib/python3.12/site-packages/uv-0.2.27.data/scripts/uvx
```

---

_Label `bug` added by @charliermarsh on 2024-07-23 18:07_

---

_Referenced in [dagger/dagger#8020](../../dagger/dagger/pulls/8020.md) on 2024-07-23 18:32_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-07-23 21:55_

---

_Referenced in [astral-sh/uv#5380](../../astral-sh/uv/pulls/5380.md) on 2024-07-23 22:11_

---

_Closed by @charliermarsh on 2024-07-23 22:24_

---

_Comment by @hutch3232 on 2024-07-24 14:18_

Thank you for working on this! I tested it this morning and unfortunately I'm still encountering issues.

```
(code) ubuntu [/mnt/code]: uv pip install docutils==0.16
Resolved 1 package in 964ms
Uninstalled 1 package in 4.52s
error: Failed to install: docutils-0.16-py2.py3-none-any.http.whl (docutils==0.16)
  Caused by: The wheel is invalid: Wheel contains entry in scripts directory that is not a file: /mnt/code/.venv/lib/python3.10/site-packages/docutils-0.16.data/scripts/rst2html.py

(code) ubuntu [/mnt/code]: uv pip sync requirements.txt
Resolved 55 packages in 15.42s
error: Failed to install: awscli-1.33.13-py3-none-any.http.whl (awscli==1.33.13)
  Caused by: The wheel is invalid: Wheel contains entry in scripts directory that is not a file: /mnt/code/.venv/lib/python3.10/site-packages/awscli-1.33.13.data/scripts/aws

(code) ubuntu [/mnt/code]: uv --version
uv 0.2.28

# trying a new/different venv and python version
(code) ubuntu [/mnt/code]: uv pip install docutils==0.16 --link-mode=symlink
Resolved 1 package in 1.16s
error: Failed to install: docutils-0.16-py2.py3-none-any.http.whl (docutils==0.16)
  Caused by: The wheel is invalid: Wheel contains entry in scripts directory that is not a file: /mnt/code/test/lib/python3.9/site-packages/docutils-0.16.data/scripts/rst2html.py
```

---

_Comment by @charliermarsh on 2024-07-24 14:20_

This change hasn't been released yet.

---

_Comment by @hutch3232 on 2024-07-24 14:21_

So sorry - I got confused!

---

_Referenced in [prefix-dev/pixi#1650](../../prefix-dev/pixi/issues/1650.md) on 2024-07-25 08:51_

---
