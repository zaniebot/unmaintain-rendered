---
number: 14343
title: "Make `uv run --resintall` exit with code 0"
type: issue
state: closed
author: harnvo
labels:
  - question
assignees: []
created_at: 2025-06-29T03:51:39Z
updated_at: 2025-06-30T13:22:46Z
url: https://github.com/astral-sh/uv/issues/14343
synced_at: 2026-01-07T12:31:16-06:00
---

# Make `uv run --resintall` exit with code 0

---

_Issue opened by @harnvo on 2025-06-29 03:51_

### Summary

Making `uv run --reinstall` to exit with code 0 makes it easier to work with docker, as exiting with code 2 would result in failed build.
```text
 => ERROR [6/6] RUN export PATH="/root/.local/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin" &&     uv run --reinstall  430.5s
------                                                                                                                                                                                                                                                      
 > [6/6] RUN export PATH="/root/.local/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin" &&     uv run --reinstall:        
2.100 Downloading cpython-3.12.11-linux-x86_64-gnu (download) (32.8MiB)                                                                                                                                                                                     
113.6  Downloading cpython-3.12.11-linux-x86_64-gnu (download)                                                                                                                                                                                              
113.7 Using CPython 3.12.11                                                                                                                                                                                                                                 
113.7 Creating virtual environment at: .venv                                                                                                                                                                                                                
113.8    Building mypkg @ file:///app
114.1 Downloading pandas (11.4MiB)
114.1 Downloading numpy (15.9MiB)
114.2 Downloading sympy (5.9MiB)
117.7  Downloading setuptools
118.8       Built mypkg @ file:///app
119.8  Downloading pydantic-core
127.5  Downloading sympy
.... <more packages> ...
430.2 Installed 61 packages in 220ms
430.2 Provide a command or script to invoke with `uv run <command>` or `uv run <script>.py`.
430.2 
430.2 The following commands are available in the environment:
430.2 
430.2 - f2py
430.2 - fastapi
430.2 ... <more packages> ...
430.2 
430.2 See `uv run --help` for more information.
------
Dockerfile:20
--------------------
  19 |     
  20 | >>> RUN  export PATH="/root/.local/bin:$PATH" && \
  21 | >>>     uv run --reinstall
--------------------
--------------------
ERROR: failed to solve: process "/bin/sh -c export PATH=\"/root/.local/bin:$PATH\" &&     uv run --reinstall" did not complete successfully: exit code: 2
```

# Additional Info

A simple workaround would be ` export PATH="/root/.local/bin:$PATH" && uv run --reinstall || [ $? -eq 2 ]`. But it would be nice to have `uv run --resintall` work natively.

### Example

_No response_

---

_Label `enhancement` added by @harnvo on 2025-06-29 03:51_

---

_Comment by @zanieb on 2025-06-29 15:57_

Why are you using `uv run --reinstall` without a command? Do you want `uv sync --reinstall`?

---

_Label `enhancement` removed by @zanieb on 2025-06-29 15:57_

---

_Label `question` added by @zanieb on 2025-06-29 15:57_

---

_Comment by @zanieb on 2025-06-29 15:57_

(We won't change the exit code for invalid uses of `uv run`, a command is required)

---

_Closed by @harnvo on 2025-06-30 13:22_

---
