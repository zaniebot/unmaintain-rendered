---
number: 16974
title: "Can't convince uvx to update program from a local project"
type: issue
state: closed
author: rafalkrupinski
labels:
  - question
assignees: []
created_at: 2025-12-03T19:52:04Z
updated_at: 2025-12-17T09:22:15Z
url: https://github.com/astral-sh/uv/issues/16974
synced_at: 2026-01-07T12:31:16-06:00
---

# Can't convince uvx to update program from a local project

---

_Issue opened by @rafalkrupinski on 2025-12-03 19:52_

### Summary

After running a local project with 
```shell
uvx --from ~/projects/$project $command
```
uvx caches it âœ…

But after changing the source code in ~/projects/$project, uvx still runs the old version. The only way to run the new version was to run `uvx -n`, but that keeps the old version in the cache. I've also tried:

`uvx --refresh ...`
No warnings, just uses the old version

`uvx -U ...` or
`uvx -P $project ...`
> warning: Tools cannot be upgraded via `uvx` [...]

Why is it even in the documentation?

`--verbose` [output from `uvx --refresh`](https://cloud.disroot.org/s/sm2Y4cCXwYcyfJC)




### Platform

Arch Linux amd64

### Version

0.9.14

### Python version

3.14t

---

_Label `bug` added by @rafalkrupinski on 2025-12-03 19:52_

---

_Comment by @zanieb on 2025-12-03 20:05_

> Why is it even in the documentation?

Because we use a shared set of options for all commands that perform resolution.

---

_Comment by @zanieb on 2025-12-03 20:06_

This does look like a bug, `--refresh` should invalidate the cached wheel for the project and, furthermore, it should probably invalidate the cached environment. It's not immediately clear to me why it does not.

---

_Comment by @rafalkrupinski on 2025-12-04 08:39_

Is uvx assuming that the project hasn't change because it's the same version?

---

_Referenced in [astral-sh/uv#16991](../../astral-sh/uv/pulls/16991.md) on 2025-12-04 21:00_

---

_Comment by @konstin on 2025-12-16 14:22_

uv caches builds by default, you can use editable installs for development: `uvx --with-editable <path>`. This will make uv refer to the project sources directly instead of copying them from the cache. If there is compiled code, consider settings cache keys (https://docs.astral.sh/uv/reference/settings/#cache-keys).

---

_Label `bug` removed by @konstin on 2025-12-16 14:22_

---

_Label `question` added by @konstin on 2025-12-16 14:22_

---

_Comment by @rafalkrupinski on 2025-12-16 18:49_

+1 for editable

correct me if I'm wrong but cache-keys for this sounds kinda hacky, given that its docs only mentions files like setup.py or pyproject.toml

---

_Closed by @rafalkrupinski on 2025-12-16 22:17_

---

_Comment by @konstin on 2025-12-17 09:22_

Cache keys are helpful if you have C/C++/Rust/etc. sources that get compiled to a native module, to allow uv to check if we need to recompile. Editable are a better, easier and faster solution for pure-Python packages.

---
