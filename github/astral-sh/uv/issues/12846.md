---
number: 12846
title: Installing library from a directory recursively cloned
type: issue
state: closed
author: AnirudhG07
labels:
  - question
assignees: []
created_at: 2025-04-11T21:18:39Z
updated_at: 2025-04-11T21:54:06Z
url: https://github.com/astral-sh/uv/issues/12846
synced_at: 2026-01-07T12:31:15-06:00
---

# Installing library from a directory recursively cloned

---

_Issue opened by @AnirudhG07 on 2025-04-11 21:18_

### Question

I am trying to implement [gaussian splatting](https://github.com/graphdeco-inria/gaussian-splatting), which has a [submodule/simple-knn](https://github.com/graphdeco-inria/gaussian-splatting/tree/main/submodules) to be installed.
In usual python, this is done with `pip install submodules/simple-knn`, but when i do `uv add` or `uv pip install submodule/simple-knn`, it gives the below error
```
❯ uv add  submodules/simple-knn
error: The build backend returned an error
  Caused by: Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit status: 1)

[stderr]
Traceback (most recent call last):
  File "<string>", line 14, in <module>
  File "/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py", line 334, in get_requires_for_build_wheel
    return self._get_build_requires(config_settings, requirements=[])
  File "/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py", line 304, in _get_build_requires
    self.run_setup()
  File "/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py", line 522, in run_setup
    super().run_setup(setup_script=setup_script)
  File "/home/anirudhgupta/.cache/uv/builds-v0/.tmpbXG5JP/lib/python3.10/site-packages/setuptools/build_meta.py", line 320, in run_setup
    exec(code, locals())
  File "<string>", line 13, in <module>
ModuleNotFoundError: No module named 'torch'

hint: This error likely indicates that `file:///home/anirudhgupta/main/projects/gaussian-splatting/submodules/simple-knn` depends on `torch`, but doesn't declare it as a build dependency. If `file:///home/anirudhgupta/main/projects/gaussian-splatting/submodules/simple-knn` is a first-party package, consider adding `torch` to its `build-system.requires`. Otherwise, `uv pip install torch` into the environment and re-run with `--no-build-isolation`.
```
And I have `torch` and tried the flag suggestion(only). With this, I got the below error

<details>
<summary>Toggle to see</summary>

```
❯ uv add --no-build-isolation submodules/simple-knn
Resolved 29 packages in 7ms
  x Failed to build `simple-knn @ file:///home/anirudhgupta/main/projects/gaussian-splatting/submodules/simple-knn`
  |-> The build backend returned an error
  `-> Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit status: 1)

      [stdout]
      running bdist_wheel
      running build
      running build_ext

      [stderr]
      Traceback (most recent call last):
        File "<string>", line 11, in <module>
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py", line 435, in build_wheel
          return _build(['bdist_wheel'])
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py", line 426, in _build
          return self._build_with_temp_dir(
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py", line 407, in _build_with_temp_dir
          self.run_setup()
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py", line 522, in run_setup
          super().run_setup(setup_script=setup_script)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/build_meta.py", line 320, in run_setup
          exec(code, locals())
        File "<string>", line 21, in <module>
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/__init__.py", line 117, in setup
          return distutils.core.setup(**attrs)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/core.py", line 186, in setup
          return run_commands(dist)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/core.py", line 202, in run_commands
          dist.run_commands()
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py", line 1002, in run_commands
          self.run_command(cmd)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/dist.py", line 1104, in run_command
          super().run_command(command)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py", line 1021, in run_command
          cmd_obj.run()
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/command/bdist_wheel.py", line 370, in run
          self.run_command("build")
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/cmd.py", line 357, in run_command
          self.distribution.run_command(command)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/dist.py", line 1104, in run_command
          super().run_command(command)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py", line 1021, in run_command
          cmd_obj.run()
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/command/build.py", line 135, in run
          self.run_command(cmd_name)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/cmd.py", line 357, in run_command
          self.distribution.run_command(command)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/dist.py", line 1104, in run_command
          super().run_command(command)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/dist.py", line 1021, in run_command
          cmd_obj.run()
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/command/build_ext.py", line 99, in run
          _build_ext.run(self)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/setuptools/_distutils/command/build_ext.py", line 368, in run
          self.build_extensions()
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/torch/utils/cpp_extension.py", line 552, in build_extensions
          _check_cuda_version(compiler_name, compiler_version)
        File "/home/anirudhgupta/main/projects/gaussian-splatting/.venv/lib/python3.10/site-packages/torch/utils/cpp_extension.py", line 447, in _check_cuda_version
          raise RuntimeError(CUDA_MISMATCH_MESSAGE.format(cuda_str_version, torch.version.cuda))
      RuntimeError:
      The detected CUDA version (11.5) mismatches the version that was used to compile
      PyTorch (12.4). Please make sure to use the same CUDA versions.


      hint: This usually indicates a problem with the package or the build environment.
  help: If you want to add the package regardless of the failed resolution, provide the `--frozen` flag to skip locking and syncing.
```

</details>

When I try the `--frozen` command, it does not fix the dependency issue of the package. Please help with this.

In the repo, they have used `conda` to fix this. Please share how to do this with `uv`! Thanks

### Platform

Ubuntu 22.04

### Version

0.6.14

---

_Label `question` added by @AnirudhG07 on 2025-04-11 21:18_

---

_Comment by @AnirudhG07 on 2025-04-11 21:54_

Nevermind. Fixed it. 

---

_Closed by @AnirudhG07 on 2025-04-11 21:54_

---
