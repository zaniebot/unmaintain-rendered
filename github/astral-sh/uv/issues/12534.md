---
number: 12534
title: Possible compatibility issue with uv sync and pyO3 extension modules
type: issue
state: open
author: un4gt
labels:
  - question
assignees: []
created_at: 2025-03-28T15:57:26Z
updated_at: 2025-03-31T02:04:01Z
url: https://github.com/astral-sh/uv/issues/12534
synced_at: 2026-01-07T12:31:15-06:00
---

# Possible compatibility issue with uv sync and pyO3 extension modules

---

_Issue opened by @un4gt on 2025-03-28 15:57_

### Question

Hi Astral team ðŸ‘‹

First of all, thank you for creating such an amazing tool! I've been thoroughly impressed with uv's performance and the [extension module documentation](https://docs.astral.sh/uv/concepts/projects/init/#projects-with-extension-modules) has been incredibly helpful in setting up my pyO3 project.

I'm encountering an unexpected behavior when using uv sync with Rust-based Python extensions. Here's my scenario:

Environment:

- Python 3.8.20 + Rust 1.86.0-nightly
- Windows 11 x86
-  uv version: 0.6.0

Steps to reproduce:

1. Initialize project with : `uv init --build-backend maturin example-ext`

2. Syncing project and run some tests(pytest)

3. Modify Rust code in src/xx

4. Run uv sync

5. Observe that src/xx/xx.pyd is not updated and some of test failed

6. Manually adjust pyproject.toml (specific changes made)

7. rerun uv sync and test all pass

Expected behavior:
uv sync should automatically detect Rust code changes and rebuild the extension module

Observed behavior:
Requires manual intervention in pyproject.toml to trigger proper rebuild

Additional context:
This impacts our testing workflow as pytest/tox depends on up-to-date binaries. 

Could you please advise if this is a known limitation or if there's a recommended workflow for Rust extensions? Any guidance would be greatly appreciated!

Thanks again for your hard work on this groundbreaking tool ðŸ”¥

### Platform

Windows 11 x64

### Version

uv 0.6.0

---

_Label `question` added by @un4gt on 2025-03-28 15:57_

---

_Comment by @charliermarsh on 2025-03-31 02:04_

By default, we only re-build when certain files change. See the documentation: https://docs.astral.sh/uv/concepts/cache/. You could add `**/*.rs` to the cache keys, if you want to rebuild whenever Rust code changes. Or you can pass `--reinstall-package example-ext` to any invocation to force a rebuild.

---

_Assigned to @charliermarsh by @charliermarsh on 2025-03-31 02:04_

---
