---
number: 3484
title: "Error when installing old release: 'python_requires' must be a string containing valid version specifiers"
type: issue
state: closed
author: detrin
labels:
  - question
assignees: []
created_at: 2024-05-09T14:18:10Z
updated_at: 2024-05-09T15:26:51Z
url: https://github.com/astral-sh/uv/issues/3484
synced_at: 2026-01-07T12:31:14-06:00
---

# Error when installing old release: 'python_requires' must be a string containing valid version specifiers

---

_Issue opened by @detrin on 2024-05-09 14:18_

I am using MacOS. When I try to install this old release it fails for python 3.12, 3.11 and 3.10. However when using `python3.10 -m venv` it does work. So I suspect `uv` doesn't support old version specifiers yet. This is not first time that it happened to me. 
```
# uv pip install smart-open==2.1.0                                        
error: Failed to download and build: smart-open==2.1.0
  Caused by: Failed to build: smart-open==2.1.0
  Caused by: Build backend failed to determine extra requires with `build_wheel()` with exit status: 1
--- stdout:

--- stderr:
error in smart_open setup command: 'python_requires' must be a string containing valid version specifiers; Invalid specifier: '>=3.5.*'
---
```


---

_Comment by @zanieb on 2024-05-09 14:20_

Hi! This looks like a failure in the build backend that `smart-open` uses, not `uv`. We're just calling the build backend and displaying the error it raises.

---

_Label `question` added by @zanieb on 2024-05-09 14:22_

---

_Comment by @charliermarsh on 2024-05-09 14:49_

Yeah, this doesn't work for me with pip either (on Python 3.12.2):

```
❯ pip install smart-open==2.1.0
Collecting smart-open==2.1.0
  Downloading smart_open-2.1.0.tar.gz (116 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 116.9/116.9 kB 3.7 MB/s eta 0:00:00
  Preparing metadata (setup.py) ... error
  error: subprocess-exited-with-error

  × python setup.py egg_info did not run successfully.
  │ exit code: 1
  ╰─> [1 lines of output]
      error in smart_open setup command: 'python_requires' must be a string containing valid version specifiers; Invalid specifier: '>=3.5.*'
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
error: metadata-generation-failed

× Encountered error while generating package metadata.
╰─> See above for output.

note: This is an issue with the package mentioned above, not pip.
hint: See above for details.
```

---

_Comment by @charliermarsh on 2024-05-09 14:49_

However it does work on Python 3.10.

---

_Comment by @charliermarsh on 2024-05-09 14:50_

So my guess is that your uv environment is using Python 3.12?

---

_Comment by @detrin on 2024-05-09 15:10_

yes, but it didn't work on uv+python3.10 either. I can try once again 

---

_Comment by @zanieb on 2024-05-09 15:14_

Are you using `uv venv --python 3.10`?

---

_Comment by @detrin on 2024-05-09 15:26_

> Are you using `uv venv --python 3.10`?

Yes.

So, I ran it just now in a new shell. Seems like I must have had another environment active in the background, or I am not sure what was the source of the error. Anyway, seems like there is no issue for this particular combination. Thanks for prompt response and I am closing the issue.  

---

_Closed by @detrin on 2024-05-09 15:26_

---
