---
number: 3425
title: Make it possible to avoid yanked versions of packages in compiled requirements
type: issue
state: closed
author: barseghyanartur
labels:
  - question
assignees: []
created_at: 2024-05-07T15:20:08Z
updated_at: 2025-08-27T18:56:54Z
url: https://github.com/astral-sh/uv/issues/3425
synced_at: 2026-01-07T12:31:14-06:00
---

# Make it possible to avoid yanked versions of packages in compiled requirements

---

_Issue opened by @barseghyanartur on 2024-05-07 15:20_

## Feature request

Make it possible to avoid yanked versions of packages in compiled requirements (compiled with `uv pip compile`).

### What's the problem this feature will solve?

For instance, [Django 4.2.12](https://pypi.org/project/Django/4.2.12/) was marked as yanked, but appears in the compiled requirements. Not ideal.

### Describe the solution you'd like

At least to have an option to opt-out from yanked versions. It would be better though to have that as a default (and have an optional argument for opting-in).

### Command

```sh
uv pip compile --output-file requirements/default.txt \
    --no-strip-extras \
    --extra tests --extra loadtests pyproject.toml \
    --no-emit-package pip \
    --upgrade
```

### UV platform

macOS

### UV version

0.1.39

---

_Comment by @barseghyanartur on 2024-05-07 15:39_

It might be that you already do that. In that case, maybe I was unlucky, and my requirements were compiled after the release has been marked as yanked. In that case, sorry for the buzz. Worth checking anyway.

---

_Comment by @zanieb on 2024-05-07 15:56_

Yanked versions should already be excluded unless they are pinned in the requirements we're compiling.

---

_Label `question` added by @zanieb on 2024-05-07 15:57_

---

_Comment by @barseghyanartur on 2024-05-07 19:43_

@zanieb:

Thanks for confirming. Then it was probably just a bad timing.

---

_Closed by @barseghyanartur on 2024-05-07 19:43_

---

_Comment by @seefood on 2025-08-25 08:51_

just got a remark about a yanked package for the first time while running uv lock. it's not an explicit dependency. should I just accept the fate or make it an explicit dependency? is there a recommended workaround or is uv smart enough to have used one if there was and I should just accept its resolution as the best scenario?


---

_Comment by @zanieb on 2025-08-25 12:55_

We'll usually only use a yanked version if it's pinned somewhere, so presumably one of your dependencies is pinning to that yanked version?

You can use `uv lock --upgrade-package <name>` to see if we can resolve to another version.

---

_Comment by @seefood on 2025-08-26 10:55_

in my case it just said package foo version 1.5.0 is yanked, so I explicitly added foo<1.5.0 and the lock indeed picked 1.4.5 and said nothing. I think there's no automatic attempt by uv to avoid yanks.

---

_Comment by @zanieb on 2025-08-27 18:56_

That's just not true. See the test coverage at https://github.com/astral-sh/uv/blob/ee0ba65eb22c6bba59ea216ff07aeb170f8d3f2a/crates/uv/tests/it/pip_install_scenarios.rs#L4189-L4631

 Feel free to share a reproduction in a new issue and we can look at it. It's not appropriate to bump an old issue like this.

---
