---
number: 2512
title: Add dependabot support
type: issue
state: open
author: mjclarke94
labels:
  - external
  - integration
assignees: []
created_at: 2024-03-18T15:56:58Z
updated_at: 2025-12-24T14:28:08Z
url: https://github.com/astral-sh/uv/issues/2512
synced_at: 2026-01-07T12:31:14-06:00
---

# Add dependabot support

---

_Issue opened by @mjclarke94 on 2024-03-18 15:56_

I'm not quite sure on whether this is a `rye` or a `uv` issue, but it would be broadly useful to have dependabot understand rye/uv backed projects as a target for dependabot updates. The current known targets are `pip` and `poetry` (which you leave as pip, they just have support for a poetry-style pyproject file).

Whether there is some way of tricking dependabot using the `pip` compatibility layer, or if it's better to have bespoke handlers I'm not sure!

---

_Comment by @zanieb on 2024-03-18 16:17_

We don't have a lockfile standard here at uv so I think that the `pip` dependabot backend should just work? I'm not sure there's more for us to do at this time. This seems more relevant for `rye`.

---

_Comment by @mjclarke94 on 2024-03-20 20:40_

Fair enough! As a secondary point, it might be useful to work with the dependabot maintainers to allow them to use uv for dependency resolution. We have some repositories which dependabot times out trying to solve, and uv solves pretty much instantaneously. 

Given they explicitly support poetry (including generating a lock file), there's definitely precedent for it, and the goal of pip compatibility means that this could just be a straight swap in some repositories.

---

_Referenced in [astral-sh/uv#2583](../../astral-sh/uv/issues/2583.md) on 2024-03-21 14:26_

---

_Label `wish` added by @zanieb on 2024-03-21 14:28_

---

_Label `integration` added by @zanieb on 2024-03-21 14:28_

---

_Comment by @notatallshaw on 2024-03-21 14:35_

> We have some repositories which dependabot times out trying to solve, and uv solves pretty much instantaneously.

Do you have a concrete example?

Not uv related, but I have a significant improvement to Pip's resolution for complex backtracking cases (https://github.com/notatallshaw/pip/tree/prefer-conflicting-causes), and it would be good to know as many real world cases it solves or not.

---

_Referenced in [astral-sh/uv#1468](../../astral-sh/uv/issues/1468.md) on 2024-06-13 13:48_

---

_Comment by @avilaton on 2024-06-19 11:49_

I tried spending a little time on this today and got some feedback from dependabot's CI here https://github.com/dependabot/dependabot-core/actions/runs/9581241755/job/26417616046

One error appears to be easy to fix, there is a check to control that there is an error trying to install a dependency that should fail. 

The other I have to look into but here is the message we get from uv when dependabot tries to use it as a direct replacement for `pip-compile`
```
"error: invalid value 'pyyaml==6.0.1' for '--upgrade-package <UPGRADE_PACKAGE>': Not a valid package or extra name: \"pyyaml==6.0.1\". Names must start and end with a letter or digit and may only contain -, _, ., and alphanumeric characters.\n\nFor more information, try '--help'."
```

---

_Comment by @avilaton on 2024-07-03 19:29_

Made a bit more progress and found that there is an existing issue here to fix what I encountered above https://github.com/astral-sh/uv/issues/1964, writing it down for future generations.

---

_Comment by @avilaton on 2024-07-14 14:22_

The above issue is solved, one step closer! We are now blocked with a tiny header difference issue https://github.com/astral-sh/uv/issues/5031 which is already merged and will be out with next release, thanks @skshetry .

I've mentioned it in another issue but I'm holding from the `autogenerated by uv` string in the header to swap `pip-compile` for `uv pip compile` for the lack of any better idea and since the header still receives updates, I'd like for this to be taken into account.

---

_Comment by @skshetry on 2024-07-14 14:46_

Another alternative could to be parse the compile_command. [That is what renovatebot does](https://docs.renovatebot.com/modules/manager/pip-compile/#assumption-of-header-with-a-command).


---

_Comment by @albertferras-vrf on 2024-08-14 13:32_

Is there any update on this or an estimate on when uv will support dependabot? I can see the issues you mentioned @avilaton are resolved.

---

_Comment by @avilaton on 2024-08-14 16:16_

> Is there any update on this or an estimate on when uv will support dependabot? I can see the issues you mentioned @avilaton are resolved.

I think the `uv` side of it is done, but need help adding more test coverage on the dependabot PR I submitted and haven't had time to do it. If you have time please have a look at it, all help is welcome!

---

_Comment by @danieleades on 2024-08-21 16:25_

Maybe I'm reading it wrong but this issue seems to have evolved a little after it was originally created.
I'm blocked from adopting UV until dependably supports bumping dev dependencies. Is this supported? Is support coming?

---

_Comment by @zanieb on 2024-08-21 18:50_

See #6236 â€” basically it's not supported yet. I think they're working on it still. Renovate supports this.

---

_Referenced in [epicserve/django-base-site#951](../../epicserve/django-base-site/pulls/951.md) on 2024-09-01 20:36_

---

_Referenced in [dependabot/dependabot-core#10040](../../dependabot/dependabot-core/pulls/10040.md) on 2024-09-04 07:31_

---

_Comment by @jonjanego on 2024-09-04 15:59_

ðŸ‘‹ from the GitHub Dependabot team. There's a [PR in dependabot-core](https://github.com/dependabot/dependabot-core/pull/10040) that aims to help support uv. @zanieb in case you didn't notice the tag there, i'm pinging you here to see if you could take a look :)

Thanks!

---

_Referenced in [climatepolicyradar/knowledge-graph#60](../../climatepolicyradar/knowledge-graph/pulls/60.md) on 2024-10-17 23:54_

---

_Comment by @sstrullmyer on 2025-03-13 19:29_

Noting this just shipped GA: https://github.blog/changelog/2025-03-13-dependabot-version-updates-now-support-uv-in-general-availability/

---

_Comment by @markhallen on 2025-03-19 14:48_

Hello from the GitHub Dependabot team ðŸ‘‹ 

I have made some updates to how we handle `uv.lock` files and [merged](https://github.com/dependabot/dependabot-core/pull/11851) today.

We have a generated bump [PR](https://github.com/dsp-testing/dependabot-uv/pull/8/files) for the `httpx` dependency on our testing repo.

I generated the original `uv.lock` file on MacOS. The subsequent run of `uv lock --upgrade-package httpx` in the Dependabot action also removed some wheels for the unrelated dependency `charset-normalizer`.

Is this expected behaviour? Any feedback on this would be gratefully received. Thank you!

---

_Comment by @zanieb on 2025-03-19 14:55_

Thank you for reaching out!

I took a look at that pull request (in Dependabot) and it looks better. 

What uv version was the lockfile generated with originally? We may have added additional filtering of wheels that cannot be selected, e.g., as in #12299

---

_Comment by @zanieb on 2025-03-19 15:02_

On a separate note, I see you're testing against a dependency that is _also_ pinned in the `pyproject.toml`

```diff
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -5,6 +5,6 @@ description = "Add your description here"
 readme = "README.md"
 requires-python = ">=3.9"
 dependencies = [
-    "httpx==0.20",
+    "httpx==0.28.1",
     "requests==2.31.0",
 ]
```

I don't think this is a regular pattern, since that's the point of the `uv.lock` file. It'd be good to test with a constrained version too, e.g., `httpx>=0.20`.

---

_Comment by @zanieb on 2025-03-19 15:06_

It looks like somehow the `requires-python` range is being changed from `>=3.9` to `>=3.13` and we're dropping the old wheels. Are you changing the Python version range? If so, why?

---

_Comment by @markhallen on 2025-03-19 15:10_

> It looks like somehow the `requires-python` range is being changed from `>=3.9` to `>=3.13` and we're dropping the old wheels. Are you changing the Python version range? If so, why?

We are not intentionally changing it and actually have [code](https://github.com/dependabot/dependabot-core/blob/59943c098d9a28736a2f3ac2945faf3048e662ed/uv/lib/dependabot/uv/file_updater/lock_file_updater.rb#L117-L121) to maintain it in case it is inadvertently updated.

I'm going to look into what is happening here. Thanks

---

_Comment by @zanieb on 2025-03-19 15:10_

It seems like this occurs at https://github.com/dependabot/dependabot-core/blob/59943c098d9a28736a2f3ac2945faf3048e662ed/uv/lib/dependabot/uv/file_updater/lock_file_updater.rb#L166-L170

You don't need to do that. The project metadata needs to be preserved for a correct lock.

---

_Comment by @konstin on 2025-03-19 15:23_

For general semantics, `uv lock` will look at the `pyproject.toml` and at `uv.lock` and only make those change required to align the lockfile with `pyproject.toml`. This means if a `==`-pinned dependency is updated in `pyproject.toml`, `uv lock` will make the relevant minimal change to `uv.lock`. `uv lock` does no change if it doesn't have to, so e.g. a plain `httpx` requirement won't be updated. `uv lock --upgrade-package httpx` otoh does update the lockfile entry for a plain `httpx` requirement to the latest version compatible with the rest of the `pyproject.toml`.

For the Python version, we use `project.requires-python` to determine which versions are allowed (their `Requires-Python` must start at least as low as the main project's one). Separately, we need a Python interpreter during locking for the case that we need to build a package. The default logic for discovering the Python interpreter is multi-layered (different sources for interpreters across platforms), but you can pass a specific one `--python`.

---

_Referenced in [dependabot/dependabot-core#11852](../../dependabot/dependabot-core/pulls/11852.md) on 2025-03-19 15:39_

---

_Comment by @markhallen on 2025-03-19 15:39_

> It seems like this occurs at https://github.com/dependabot/dependabot-core/blob/59943c098d9a28736a2f3ac2945faf3048e662ed/uv/lib/dependabot/uv/file_updater/lock_file_updater.rb#L166-L170
> 
> You don't need to do that. The project metadata needs to be preserved for a correct lock.

I've raised a [PR](https://github.com/dependabot/dependabot-core/pull/11852) to remove this.

---

_Comment by @markhallen on 2025-03-20 08:56_

Thanks for the comment @konstin 

> Separately, we need a Python interpreter during locking for the case that we need to build a package. The default logic for discovering the Python interpreter is multi-layered (different sources for interpreters across platforms), but you can pass a specific one `--python`.

Can we do something similar to `uv lock --upgrade-package ...` that does not try to build or download the packages and only update the lock file or even just returning the updated lock file contents? This is an approach used for other package managers in Dependabot.



---

_Comment by @konstin on 2025-03-20 09:26_

Technically, you can use `--no-build` to not build any packages. But this means that you won't be able to resolve any resolutions with packages that only have source distribution (with Metadata Version <2.2, which is still common), so we highly recommend running the regular `uv lock --upgrade-package`. uv tries hard to just update the lockfile (it's what makes uv fast), but the historic lack of reliable metadata forces us to sometimes build just to extract dependency information.

Usually, we also don't download the entire wheels, given [PEP 658](https://peps.python.org/pep-0658/) or Range Request support for metadata, but for the (rare) indexes that don't support either, we have no option but to download an entire wheel and read the METADATA from it.

Both of those caveats should be generally the same for pip/pip-tools and poetry (pip for example has `--only-binary :all:`). We expose those options more prominently, we're the only tool not written in Python, so for us, running Python code is an explicit extra step and not just a `subprocess.check_call([sys.executable, ...])`.

---

_Referenced in [epicserve/django-base-site#1107](../../epicserve/django-base-site/pulls/1107.md) on 2025-04-26 15:50_

---

_Comment by @cdeil on 2025-05-22 06:27_

The docs at https://docs.astral.sh/uv/guides/integration/dependency-bots/#dependabot still say this:

> Support for uv is not yet available. Progress can be tracked at [dependabot/dependabot-core#10478](https://github.com/dependabot/dependabot-core/issues/10478).

I think that's not accurate any more, Dependabot support is available (complete or partially)?

Could you please update the docs page?

---

_Comment by @christianplatta1012 on 2025-05-22 06:34_

I would suggest to describe it as partial support. There are still some features missing (e.g. https://github.com/dependabot/dependabot-core/issues/11913) and quite a few open issues (https://github.com/dependabot/dependabot-core/issues?q=is%3Aissue%20state%3Aopen%20uv). But basic support is available and this should be expressed in the docs, because it is likely that some folks won't adopt uv without it (imho)

---

_Comment by @epicserve on 2025-05-22 12:04_

I recently added it to my project (https://github.com/epicserve/django-base-site/blob/main/.github/dependabot.yml#L16) and haven't encountered any issues yet. My project is a starter Django template, so it's not something that runs in production, and is small compared to a mature project.

---

_Label `wish` removed by @konstin on 2025-05-22 17:22_

---

_Label `external` added by @konstin on 2025-05-22 17:22_

---

_Referenced in [astral-sh/uv#13690](../../astral-sh/uv/pulls/13690.md) on 2025-05-27 21:26_

---

_Comment by @konstin on 2025-05-28 12:46_

We updated the section in the documentation about dependabot and added an example how to use it. We still see a number of issue blocking adoption in https://github.com/dependabot/dependabot-core/issues?q=is%3Aissue%20state%3Aopen%20uv, so we'll keep this open a bit longer.

---

_Referenced in [apache/superset#33162](../../apache/superset/issues/33162.md) on 2025-06-17 16:14_

---

_Referenced in [NHSDigital/manage-vaccinations-in-schools-testing#381](../../NHSDigital/manage-vaccinations-in-schools-testing/issues/381.md) on 2025-06-19 07:58_

---

_Comment by @kaihendry on 2025-06-23 09:33_

I just tried uv dependabot and it doesn't seem to generate a PR. Am I missing something? https://github.com/kaihendry/pycallfoo/blob/main/.github/dependabot.yml

[pycallfoo](https://github.com/kaihendry/pycallfoo/) depends on [pyunderstand](https://github.com/kaihendry/pyunderstand) 0.1.2, but pyunderstand has been updated to [v0.1.3](https://github.com/kaihendry/pyunderstand/releases/tag/v0.1.3)

---

_Referenced in [dagger/dagger#10627](../../dagger/dagger/pulls/10627.md) on 2025-06-23 11:41_

---

_Referenced in [jond01/xil#264](../../jond01/xil/issues/264.md) on 2025-06-23 20:30_

---

_Referenced in [data-apis/array-api-typing#36](../../data-apis/array-api-typing/pulls/36.md) on 2025-07-02 21:05_

---

_Comment by @phaabe on 2025-07-10 12:38_

Is this the place to ask questions about uv x dependabot?

From the docs:

> Dependabot supports updating uv.lock files.

Why doesn't dependabot also update the `pyproject.toml`? :) 
Is that planned?

---

_Comment by @zanieb on 2025-07-10 13:18_

That's a question for GitHub and the Dependabot team.

---

_Comment by @phaabe on 2025-07-15 11:47_

Question added here:
https://github.com/dependabot/dependabot-core/issues/12609

---

_Comment by @sgrtye on 2025-07-25 13:58_

> Why doesn't dependabot also update the `pyproject.toml`? :) Is that planned?

@phaabe, in an earlier [discussion](https://github.com/astral-sh/uv/issues/6692#issuecomment-2312851977), one of the member have mentioned that

> We don't support "bumping" the dependency constraints in your pyproject.toml yet. That's definitely something we're interested in, but we haven't done any design work for that yet.

But I haven't been able to find any update on updating pinned versions in pyproject.toml since then.

Perhaps the dependabot is also waiting for official support to update the pyprojet.toml from uv.


---

_Referenced in [langgenius/dify#25677](../../langgenius/dify/pulls/25677.md) on 2025-09-14 16:39_

---

_Comment by @jonathanblade on 2025-11-29 17:07_

Hello, everyone!

Why doesnâ€™t Dependabot upgrade my dependencies specified with extras (e.g., `pydantic[email]>=2.12.3`)?

If I manually run `uv lock --upgrade-package pydantic`, the version bumps from `2.12.3` to `2.12.5` without any problem.

Or is this a question for the Dependabot team?

---

_Comment by @edgarrmondragon on 2025-11-29 17:24_

@jonathanblade 

- https://github.com/dependabot/dependabot-core/issues/12443

---

_Comment by @carlincherry on 2025-12-11 22:29_

Hi! ðŸ‘‹ I'm the Dependabot PM over at GitHub (I'm sorry I'm just seeing this thread) and wanted to chime in here to let y'all know we're planning to ship security updates for uv for Dependabot next week. Currently Dependabot only supports version updates (ie bumps to latest version), but starting next week, you'll be able to get Dependabot Security Alerts and prs for uv as well. I chatted with Charlie in the past about Dependabot but lost that thread so figured I'd drop a line here. 

I believe in one forum or another the other uv x Dependabot questions posed in this issue have been answered, but if there's anything outstanding (or if you give security updates a try and have feedback) please reach out: carlincherry@github.com ðŸ™ 

---

_Comment by @jzazo on 2025-12-12 12:20_

Thanks for the update! Can I bring attention to this issue as well, where dependabot fails to run with workspaces?
https://github.com/dependabot/dependabot-core/issues/12072

---

_Referenced in [dependabot/dependabot-core#11913](../../dependabot/dependabot-core/issues/11913.md) on 2025-12-12 12:51_

---

_Comment by @eleweek on 2025-12-22 18:49_

How can I explicitly pin Python's version to a certain one with `uv`? 

The recommended way is [creating .python-version](https://github.com/dependabot/dependabot-core/issues/1455#issuecomment-545389290). I tried doing so and putting `3.12` in it, but dependabot seems to ignore it â€” is this because of `uv`? 

I know that a variety of Python versions is actually supported â€” changing the global `requires-python >=` statement in `pyproject.toml` results in dependabot using that version.

---

_Comment by @eleweek on 2025-12-24 14:27_

> How can I explicitly pin Python's version to a certain one with uv?

Re: this. I filed a [bug](https://github.com/dependabot/dependabot-core/issues/13858) in the `dependabot-core` repo.

---

_Referenced in [PowerGridModel/power-grid-model-workshop#42](../../PowerGridModel/power-grid-model-workshop/pulls/42.md) on 2026-01-05 15:26_

---
