---
number: 16621
title: "`uv python install` should respect `pyproject.toml`'s `requires-python` value"
type: issue
state: open
author: adonh
labels:
  - enhancement
  - needs-decision
assignees: []
created_at: 2025-11-06T20:49:39Z
updated_at: 2025-11-07T22:08:37Z
url: https://github.com/astral-sh/uv/issues/16621
synced_at: 2026-01-07T12:31:16-06:00
---

# `uv python install` should respect `pyproject.toml`'s `requires-python` value

---

_Issue opened by @adonh on 2025-11-06 20:49_

### Summary

As implied by documentation
> [Project Python versions](https://docs.astral.sh/uv/concepts/python-versions/#project-python-versions)
uv will respect Python requirements defined in requires-python in the pyproject.toml file during project command invocations. The first Python version that is compatible with the requirement will be used, unless a version is otherwise requested, e.g., via a .python-version file or the --python flag.

`uv python install` should respect `pyproject.toml`'s `requires-python` value.
As far as python install command, pyproject.toml seems to be completely ignored.
But it does pay attention to .python-version correctly.

OS reported: MacOS & Debian (at least)

Steps to reproduce:
```
% cat pyproject.toml
[project]
name = "xx"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = "==3.13.9"
dependencies = []
```

```
% uv python install -v
DEBUG uv 0.9.7
DEBUG Acquired lock for `/root/.local/share/uv/python`
DEBUG No Python version file found in ancestors of working directory: /data/xx
DEBUG No installation found for request `default (cpython-any-linux-aarch64-gnu)`
DEBUG Found download `cpython-3.14.0-linux-aarch64-gnu` for request `default (cpython-any-linux-aarch64-gnu)`
DEBUG Using request timeout of 30s
DEBUG Downloading https://github.com/astral-sh/python-build-standalone/releases/download/20251028/cpython-3.14.0%2B20251028-aarch64-unknown-linux-gnu-install_only_stripped.tar.gz
DEBUG Extracting cpython-3.14.0-20251028-aarch64-unknown-linux-gnu-install_only_stripped.tar.gz to temporary location: /root/.local/share/uv/python/.temp/.tmpxJk7zx
Downloading cpython-3.14.0-linux-aarch64-gnu (download) (28.6MiB)
 Downloading cpython-3.14.0-linux-aarch64-gnu (download)
DEBUG Moving /root/.local/share/uv/python/.temp/.tmpxJk7zx/python to /root/.local/share/uv/python/cpython-3.14.0-linux-aarch64-gnu
DEBUG Installed executable at `/root/.local/bin/python3.14` for cpython-3.14.0-linux-aarch64-gnu
Installed Python 3.14.0 in 2.34s
 + cpython-3.14.0-linux-aarch64-gnu (python3.14)
DEBUG Released lock at `/root/.local/share/uv/python/.lock`
```

```
% echo "3.13.9" > .python-version
% uv python install -v
DEBUG uv 0.9.7
DEBUG Acquired lock for `/root/.local/share/uv/python`
DEBUG Reading Python requests from version file at `/data/xx/.python-version`
DEBUG Found Python version file at: .python-version
DEBUG No installation found for request `3.13.9 (cpython-3.13.9-linux-aarch64-gnu)`
DEBUG Found download `cpython-3.13.9-linux-aarch64-gnu` for request `3.13.9 (cpython-3.13.9-linux-aarch64-gnu)`
DEBUG Using request timeout of 30s
DEBUG Downloading https://github.com/astral-sh/python-build-standalone/releases/download/20251028/cpython-3.13.9%2B20251028-aarch64-unknown-linux-gnu-install_only_stripped.tar.gz
DEBUG Extracting cpython-3.13.9-20251028-aarch64-unknown-linux-gnu-install_only_stripped.tar.gz to temporary location: /root/.local/share/uv/python/.temp/.tmpyICnd8
Downloading cpython-3.13.9-linux-aarch64-gnu (download) (27.7MiB)
 Downloading cpython-3.13.9-linux-aarch64-gnu (download)
DEBUG Moving /root/.local/share/uv/python/.temp/.tmpyICnd8/python to /root/.local/share/uv/python/cpython-3.13.9-linux-aarch64-gnu
DEBUG Installed executable at `/root/.local/bin/python3.13` for cpython-3.13.9-linux-aarch64-gnu
Installed Python 3.13.9 in 2.28s
 + cpython-3.13.9-linux-aarch64-gnu (python3.13)
DEBUG Released lock at `/root/.local/share/uv/python/.lock`
```

### Platform

`Linux 6.10.14-linuxkit aarch64 GNU/Linux` and `Darwin 24.6.0 arm64 Darwin` at a minimum (MacOS & Debian)

### Version

0.9.7

### Python version

irrelevant

---

_Label `bug` added by @adonh on 2025-11-06 20:49_

---

_Label `bug` removed by @zanieb on 2025-11-06 21:31_

---

_Label `enhancement` added by @zanieb on 2025-11-06 21:31_

---

_Comment by @adonh on 2025-11-07 04:13_

thx for the quick review.

i should have noted that there is indeed a bug, either in the above behavior, or in documentation.
the section "Python versions" appears to imply that uv python install will indeed respect pyproject.toml:

> [Project Python versions](https://docs.astral.sh/uv/concepts/python-versions/#project-python-versions)
uv will respect Python requirements defined in requires-python in the pyproject.toml file during project command invocations. The first Python version that is compatible with the requirement will be used, unless a version is otherwise requested, e.g., via a .python-version file or the --python flag.

---

_Comment by @zanieb on 2025-11-07 04:19_

`uv python install` isn't one of the "project" commands. If you were to instead use `uv sync` or `uv run`, we would respect the `requires-python` value. It's sort of an open question if `uv python install` should read the `pyproject.toml` for this purpose, and I believe it's "by design" that it does not right now. I think it's definitely reasonable to consider doing so though.

---

_Label `needs-decision` added by @zanieb on 2025-11-07 04:19_

---

_Comment by @adonh on 2025-11-07 22:06_

understood- that this is a subjective feature that does not exist today.

perhaps `uv python install` could gain an optional flag to follow python version settings from a project metadata file?
if possible, if you can turn this ticket into a feature suggestion then?

at a minimum, do you think the documentation can be clarified? as it reads now, given that the section quoted above (https://docs.astral.sh/uv/concepts/python-versions/#upgrading-python-versions) sits right in between sections that are discussing various aspects of invoking `uv python ...`, it's not clear at all that the reference to "during project command invocations" does **not** apply to `uv python ...`.

Thx again!

---
