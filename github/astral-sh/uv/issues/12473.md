---
number: 12473
title: Duplicate workspace member priority
type: issue
state: open
author: b-phi
labels:
  - bug
assignees: []
created_at: 2025-03-25T23:26:33Z
updated_at: 2025-04-15T12:39:43Z
url: https://github.com/astral-sh/uv/issues/12473
synced_at: 2026-01-07T12:31:15-06:00
---

# Duplicate workspace member priority

---

_Issue opened by @b-phi on 2025-03-25 23:26_

### Question

While trying to find a workaround for using uv with conditionally accessible git submodules, I discovered the following. If a workspace member is present in two locations, the latter is used. In the example below, `dir_b/foo` would be locked against.

```
[project]
dependencies = ['foo']

[tool.uv.sources]
members = ['dir_a/*', 'dir_b/*']
```

```
dir_a/
     foo/...
dir_b/
     foo/...
pyproject.toml
```

This actually works very well for my use case since I can introduce a fallback if the real package is not accessible to a user. Before adopting this approach, I wanted to confirm that this behavior is at least not considered a bug and is unlikely to change suddenly. I could see an argument that this edge case should instead raise an error.


### Platform

_No response_

### Version

_No response_

---

_Label `question` added by @b-phi on 2025-03-25 23:26_

---

_Assigned to @konstin by @zanieb on 2025-04-01 19:05_

---

_Comment by @konstin on 2025-04-15 12:39_

I consider this behavior a bug, uv should error in this case. The order in which a workspace is discovered isn't fixed, and generally we error when we find a package twice with different URLs for the same platform (e.g. in `requirements.txt`).

---

_Label `question` removed by @konstin on 2025-04-15 12:39_

---

_Label `bug` added by @konstin on 2025-04-15 12:39_

---

_Unassigned @konstin by @konstin on 2025-04-15 12:39_

---
