---
number: 12718
title: Sharing code between two libraries published from the same workspace
type: issue
state: open
author: xixixao
labels:
  - question
assignees: []
created_at: 2025-04-07T14:39:29Z
updated_at: 2025-05-08T04:46:34Z
url: https://github.com/astral-sh/uv/issues/12718
synced_at: 2026-01-07T12:31:15-06:00
---

# Sharing code between two libraries published from the same workspace

---

_Issue opened by @xixixao on 2025-04-07 14:39_

### Question

If I have two libraries, A and B, published from the same monorepo workspace, and I want to share code between them, how can I do that? I'm ok publishing C to the index, but I want editable mode to work like for any other dependencies in the workspace.

### Platform

_No response_

### Version

_No response_

---

_Label `question` added by @xixixao on 2025-04-07 14:39_

---

_Comment by @xixixao on 2025-04-11 08:01_

Current workarounds:

Option 1: Give up and release all libs in one distribution
Option 2: Copy the library code C into A when A is being published, so that it becomes a package inside A's distribution (same for B). We do this via a script in CI.

---

_Comment by @xixixao on 2025-04-27 17:45_

@charliermarsh sorry for the ping, but this is pretty fundamental for our usage of UV, do you have any ideas?

We went with workaround 2. in the short term, but it doesn't work when we don't want the code from library C to be duplicated (in case both A and B are installed).

I should also add that the situation is worse because we don't keep the published version number in pyproject.toml, so that we can avoid merge conflicts (we compute the version number in CI during publish).

---

_Comment by @konstin on 2025-04-28 16:14_

What is the problem in having the shared between A and B in another package, and have both A and B depend on that package? Editable installation works with multiple packages and is the default for all packages in a uv workspace, otherwise you can select editable installation for installation in `tool.uv.sources` or with `uv pip -e` respectively.

---

_Comment by @NellyWhads on 2025-05-08 04:46_

Hey @xixixao - I think you are describing a [Polylithic Monorepo](https://polylith.gitbook.io/polylith).

The titled link it to the core project maintained by @DavidVujic - it works _very well_ with `uv`. I use it "in production" for a very complex set of packages and development projects.

Here are the [`python`-specific docs](https://davidvujic.github.io/python-polylith-docs/), and also [the `uv` example repo](https://github.com/DavidVujic/python-polylith-example-uv)

---
