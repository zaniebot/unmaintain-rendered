---
number: 16893
title: Inconsistency with handling pre-release packages - installing from pypi vs installing from git
type: issue
state: open
author: Andrej730
labels:
  - question
assignees: []
created_at: 2025-11-29T18:59:26Z
updated_at: 2025-11-29T19:45:27Z
url: https://github.com/astral-sh/uv/issues/16893
synced_at: 2026-01-07T12:31:16-06:00
---

# Inconsistency with handling pre-release packages - installing from pypi vs installing from git

---

_Issue opened by @Andrej730 on 2025-11-29 18:59_

### Summary

E.g. running `uv tool install changedetection.io==0.51.4 --python 3.11` fail with an error, since pre-releases are not allowed for this package.
```
  × No solution found when resolving dependencies:
  ╰─▶ Because there is no version of pyppeteer-ng==2.0.0rc10 and changedetection-io==0.51.4 depends on pyppeteer-ng==2.0.0rc10, we can conclude that changedetection-io==0.51.4
      cannot be used.
      And because you require changedetection-io==0.51.4, we can conclude that your requirements are unsatisfiable.

      hint: `pyppeteer-ng` was requested with a pre-release marker (e.g., pyppeteer-ng==2.0.0rc10), but pre-releases weren't enabled (try: `--prerelease=allow`)
```

But installing `uv tool install git+https://github.com/dgtlmoon/changedetection.io.git@0.51.4 --python 3.11` works without any errors.

Since in both cases the same pre-release package is requested, shouldn't it behave the same?
https://github.com/dgtlmoon/changedetection.io/blob/39274f121c7eca724fcc1e888533ab30c3f45499/requirements.txt#L87C1-L87C24

### Platform

Windows 11 x86_64

### Version

uv 0.9.2 (141369ce7 2025-10-10)

### Python version

3.11

---

_Label `bug` added by @Andrej730 on 2025-11-29 18:59_

---

_Referenced in [dgtlmoon/changedetection.io#3662](../../dgtlmoon/changedetection.io/issues/3662.md) on 2025-11-29 19:04_

---

_Comment by @charliermarsh on 2025-11-29 19:09_

We have a concept of "lookahead" for direct URL dependencies, so we end up accepting pre-releases if they're explicitly requested by a direct URL dependency (which doesn't apply to registry requirements).


---

_Label `bug` removed by @charliermarsh on 2025-11-29 19:09_

---

_Label `question` added by @charliermarsh on 2025-11-29 19:09_

---

_Comment by @Andrej730 on 2025-11-29 19:45_

Should this be documented or it applies to many other areas, so it wouldn't make sense to document it in just `--prerelease`?

And reading `--prerelease` option description - isn't installing this package from `pip` falls into `Allow pre-release versions if the package has an explicit pre-release marker in its version requirements` and it should be accepted when installing from `pip` too? Since it has explicit pre-release marker in the requirements - `pyppeteer-ng==2.0.0rc10`

Ref to docs - https://docs.astral.sh/uv/reference/cli/#uv-add--prerelease

---
