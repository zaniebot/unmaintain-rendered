---
number: 7245
title: "Questions: Migrating from poetry"
type: issue
state: closed
author: EdgyEdgemond
labels:
  - question
assignees: []
created_at: 2024-09-10T08:12:17Z
updated_at: 2024-09-11T09:11:34Z
url: https://github.com/astral-sh/uv/issues/7245
synced_at: 2026-01-07T12:31:15-06:00
---

# Questions: Migrating from poetry

---

_Issue opened by @EdgyEdgemond on 2024-09-10 08:12_

I came here looking for information on `poetry env info` but found another comment on a closed issue that covered a few other points. So I hijacked that comment.

_Originally posted by @mikeleppane in https://github.com/astral-sh/uv/issues/6668#issuecomment-2311845394_

After using Poetry for years, I've decided to try uv. And it's great ðŸ‘. Here are some thoughts I had while using uv. Some of these may have been discussed already.
- export only dev-dependencies from uv.lock to requirements-dev.txt (this is useful at least in the CI); _poetry export --without-hashes --without-urls  --only=dev -o requirements-dev.txt_
- _uv sync/pip install_ only dev-dependencies (like above useful in the CI) 
- show the latest version but only for outdated packages; _poetry show --outdated_ / _poetry show --outdated --only=dev_ has been useful. 
- how do get info about the current virtual env? E.g. Poetry has _poetry env info_ command to display info about current env
- is it possible to only update dev-dependencies like _poetry update --only=dev_?

Thanks!

_Originally posted by @mikeleppane in https://github.com/astral-sh/uv/issues/6668#issuecomment-2311845394_
            

---

_Comment by @EdgyEdgemond on 2024-09-10 13:18_

to add to this, I can see how to do forks in resolving dependencies, and adding sources. Is the following case covered in `uv` currently?

```
 
[tool.poetry.dependencies]
torch = [
    { markers = "sys_platform == 'darwin' and platform_machine == 'arm64'", url = "https://download.pytorch.org/whl/cpu/torch-2.0.1-cp310-none-macosx_11_0_arm64.whl" },
    { markers = "sys_platform == 'darwin' and platform_machine == 'x86_64'", url = "https://download.pytorch.org/whl/cpu/torch-2.0.1-cp310-none-macosx_10_9_x86_64.whl" },
    { platform = "linux", version = "=2.0.1", source = "pytorch-cpu" },
]

[[tool.poetry.source]]
name = "pytorch-cpu"
url = "https://download.pytorch.org/whl/cpu"
priority = "explicit"
```

---

_Comment by @charliermarsh on 2024-09-10 13:42_

A lot of different questions here but I'll try to answer them:

> export only dev-dependencies from uv.lock to requirements-dev.txt (this is useful at least in the CI); poetry export --without-hashes --without-urls --only=dev -o requirements-dev.txt

> uv sync/pip install only dev-dependencies (like above useful in the CI)

These don't exist right now, see #6472.

> show the latest version but only for outdated packages; poetry show --outdated / poetry show --outdated --only=dev has been useful.

`--outdated` isn't supported yet, see https://github.com/astral-sh/uv/issues/2150.

> how do get info about the current virtual env? E.g. Poetry has poetry env info command to display info about current env

We intentionally don't support using an arbitrary virtual environment for the uv "project" APIs (`uv sync`, `uv lock`, etc.), it also lives in `.venv`. What information would you want here?

> is it possible to only update dev-dependencies like poetry update --only=dev?

Same thing, we don't support this kind of only-dev workflow right now.

> to add to this, I can see how to do forks in resolving dependencies, and adding sources. Is the following case covered in uv currently?


You can accomplish this without `tool.uv.sources`, i.e., using only standards-compliant metadata, but `tool.uv.sources` doesn't support a list like that right now (see https://github.com/astral-sh/uv/issues/3397):

```toml
[project]
dependencies = [
    "torch @ https://download.pytorch.org/whl/cpu/torch-2.0.1-cp310-none-macosx_11_0_arm64.whl ; sys_platform == 'darwin' and platform_machine == 'arm64'",
    "torch @ https://download.pytorch.org/whl/cpu/torch-2.0.1-cp310-none-macosx_10_9_x86_64.whl ; sys_platform == 'darwin' and platform_machine == 'x86_64'",
    "torch==2.0.1 ; sys_platform != 'darwin' or platform_machine != 'arm64' or platform_machine != 'x86_64'"
]
```

Then you'd set `https://download.pytorch.org/whl/cpu` as your `extra-index-url`.

That last feature (`explicit` pinning) is tracked in #171.


---

_Label `question` added by @charliermarsh on 2024-09-10 13:42_

---

_Comment by @EdgyEdgemond on 2024-09-10 14:17_

-edit- Just rereading your response, are you saying it *always* lives in `.venv`, if so I am happy to move forward with that assumption -/edit-

Thanks for the prompt response @charliermarsh 

In terms of `poetry env info` it is used to determine where the venv is currently located (if in project, in a poetry directory etc.) So that the location can be used dynamically in a script without knowing what the current dev did in their poetry/uv setup etc. 

This is the one that I am most interested in "location of current venv"
```
>> poetry env info -p
/home/edgy/code/test-uv/.venv
```

Example of full output 
```
>> poetry env info

Virtualenv
Python:         3.12.4
Implementation: CPython
Path:           /home/edgy/code/test-uv/.venv
Executable:     /home/edgy/code/test-uv/.venv/bin/python
Valid:          True

Base
Platform:   linux
OS:         posix
Python:     3.12.4
Path:       /usr
Executable: /usr/bin/python3.12
```


---

_Comment by @EdgyEdgemond on 2024-09-10 14:19_

In terms of my torch question, it looks like `find-links` might have been what I was after. Have yet to confirm with a colleague on a mac that it is working, but the following #worksonmymachine and is a lot simpler.

```
dependencies = [
    "torch == 2.0.1+cpu",
]

[tool.uv]
find-links = ["https://download.pytorch.org/whl/torch_stable.html"]
```

---

_Comment by @EdgyEdgemond on 2024-09-10 14:20_

@mikeleppane some answers to some of your questions as well.

---

_Referenced in [astral-sh/uv#7284](../../astral-sh/uv/issues/7284.md) on 2024-09-11 08:36_

---

_Closed by @EdgyEdgemond on 2024-09-11 09:11_

---

_Referenced in [astral-sh/uv#5945](../../astral-sh/uv/issues/5945.md) on 2024-09-11 13:27_

---

_Referenced in [astral-sh/uv#11695](../../astral-sh/uv/issues/11695.md) on 2025-02-21 17:55_

---
