---
number: 12544
title: "Can't activate a virtual environment if Python version is pinned"
type: issue
state: closed
author: dmfigol
labels:
  - needs-mre
assignees: []
created_at: 2025-03-29T13:36:10Z
updated_at: 2025-03-29T18:40:34Z
url: https://github.com/astral-sh/uv/issues/12544
synced_at: 2026-01-07T12:31:15-06:00
---

# Can't activate a virtual environment if Python version is pinned

---

_Issue opened by @dmfigol on 2025-03-29 13:36_

### Summary

If you pin python version using `.python-version`, then the virtual environment can't be activated. See reproduction below:

```
-> % mkdir uv-venv-bug && cd uv-venv-bug   
[~/uv-venv-bug] 
-> % uv python pin 3.9
Pinned `.python-version` to `3.9`
[~/uv-venv-bug] 
-> % uv venv venv
Using CPython 3.9.21
Creating virtual environment at: venv
Activate with: source venv/bin/activate
[~/uv-venv-bug] 
-> % source venv/bin/activate
[~/uv-venv-bug] 
-> % which python
python not found
[~/uv-venv-bug] 
-> % echo $VIRTUAL_ENV
[~/uv-venv-bug] 
-> % uv pip install httpx
error: No virtual environment found; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
[~/uv-venv-bug] 
-> % ls -la
total 16
drwxrwxr-x  3 dmfigol dmfigol 4096 Mar 29 14:27 .
drwxr-xr-x 40 dmfigol dmfigol 4096 Mar 29 14:28 ..
-rw-rw-r--  1 dmfigol dmfigol    4 Mar 29 14:26 .python-version
drwxrwxr-x  4 dmfigol dmfigol 4096 Mar 29 14:27 venv
```

### Platform

Ubuntu 24.04.2

### Version

0.6.10

### Python version

_No response_

---

_Label `bug` added by @dmfigol on 2025-03-29 13:36_

---

_Renamed from "Can't activatea  virtual environment if Python version is pinned" to "Can't activate a virtual environment if Python version is pinned" by @dmfigol on 2025-03-29 13:37_

---

_Comment by @FishAlchemist on 2025-03-29 14:56_

Is the terminal you're using ``bash/zsh``?
If not, the scripts are actually different.
![Image](https://github.com/user-attachments/assets/ea6bc64d-d4b2-40d8-b8d6-e5a33dc5f60b)
As for ``uv pip install``, if you haven't successfully entered the virtual environment, it will look for ``.venv``
Ref: https://docs.astral.sh/uv/pip/compatibility/#virtual-environments-by-default
Ref: https://docs.astral.sh/uv/concepts/python-versions/#finding-a-python-executable

---

_Comment by @dmfigol on 2025-03-29 18:00_

I use zsh. The issue is about the fact that I can't activate virtual environment.

---

_Comment by @charliermarsh on 2025-03-29 18:12_

I don't have any ideas here -- I've never seen this. There must be something unusual about your machine or setup (e.g., do you have pyenv installed, could it be resolving to a pyenv shim in some bad way, or something?). What does `venv/pyenv.cfg` contain? Does it point to a valid Python?

---

_Label `bug` removed by @charliermarsh on 2025-03-29 18:12_

---

_Comment by @charliermarsh on 2025-03-29 18:13_

```
❯ mkdir uv-venv-bug && cd uv-venv-bug
❯ uv python pin 3.9
Pinned `.python-version` to `3.9`
❯ uv venv venv
Using CPython 3.9.20
Creating virtual environment at: venv
Activate with: source venv/bin/activate
❯ source venv/bin/activate
❯ python
Python 3.9.20 (main, Oct 16 2024, 08:30:28)
[Clang 18.1.8 ] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

---

_Label `needs-mre` added by @charliermarsh on 2025-03-29 18:13_

---

_Comment by @dmfigol on 2025-03-29 18:36_

@charliermarsh thank you Charlie for testing. With your pyenv pointer I was able to localize this to pyenv-virtualenv specifically. After I uninstalled everything pyenv related, uv venv works now correctly.
I am sorry for spending your time on what proved to be my issue, not uv.
Thank you folks for your work on uv, I love using it!

---

_Closed by @dmfigol on 2025-03-29 18:36_

---

_Comment by @charliermarsh on 2025-03-29 18:40_

That's great to hear, thanks for following up!

---
