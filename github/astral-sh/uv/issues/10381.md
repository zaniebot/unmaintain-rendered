---
number: 10381
title: Add uvx --with-inline-requirements-from
type: issue
state: closed
author: Julian
labels:
  - enhancement
  - needs-design
  - cli
assignees: []
created_at: 2025-01-08T01:30:43Z
updated_at: 2025-01-08T11:26:56Z
url: https://github.com/astral-sh/uv/issues/10381
synced_at: 2026-01-07T12:31:15-06:00
---

# Add uvx --with-inline-requirements-from

---

_Issue opened by @Julian on 2025-01-08 01:30_

This is an admittedly niche idea -- in that I'm not sure how popular PEP723 itself is, it's a niche use case itself, and this is an even smaller one. But if you'll indulge me (and if I haven't missed an existing issue asking for this, which I don't immediately see)...

The use case is given a script with inline script metadata, say:

```python
#!/usr/bin/env python3
# /// script
# requires-python = ">=3.12"
# dependencies = [
#   "attrs",
#   "rich",
#   "rich-click",
#   "imagehash",
# ]
# ///

importantstuff
```

how should one run `pyright` on this script? In particular, pyright wants to be run in a virtual environment where all of the dependencies / imports are available.

Of course pyright is just an example, there are quite a few other tools that work this way, `pip-audit`, `pip-licenses`, many others.

It would seem like it'd be nice to able to run:

```
uvx --with-inline-requirements-from myscript.py pyright myscript.py
```

to satisfy this.

Again, no hard feelings if this is closed, or certainly if it is bottom of the priority list! But filing as it would indeed be something I'd use. 

---

_Comment by @zanieb on 2025-01-08 04:49_

I think this might be solved by adding `--script` to `uv export`, e.g., `uv export --script script.py | uvx --with-requirements - pyright` or accepting scripts as a "requirements" file, e.g., `uvx --with-requirements script.py pyright`. 

Relevant discussions for those at

- https://github.com/astral-sh/uv/issues/8609
- https://github.com/astral-sh/uv/issues/7032#issuecomment-2329574482

---

_Label `enhancement` added by @zanieb on 2025-01-08 04:50_

---

_Label `needs-design` added by @zanieb on 2025-01-08 04:50_

---

_Label `cli` added by @zanieb on 2025-01-08 04:50_

---

_Comment by @Julian on 2025-01-08 11:26_

Aha! I haven't had my coffee yet but this maybe even looks like a dupe of #7032?

I see Charlie mention essentially this: https://github.com/astral-sh/uv/issues/7032#issuecomment-2329582395

So perhaps going to close this even and I'll keep an eye on whichever design there wins out.

---

_Closed by @Julian on 2025-01-08 11:26_

---

_Referenced in [astral-sh/uv#15296](../../astral-sh/uv/issues/15296.md) on 2025-11-16 09:48_

---
