---
number: 1463
title: query values not preserved in urls
type: issue
state: closed
author: janbernloehr
labels:
  - bug
  - question
assignees: []
created_at: 2024-02-16T09:46:50Z
updated_at: 2024-02-16T21:16:33Z
url: https://github.com/astral-sh/uv/issues/1463
synced_at: 2026-01-07T12:31:14-06:00
---

# query values not preserved in urls

---

_Issue opened by @janbernloehr on 2024-02-16 09:46_

When specifying a requirement using a url containing a query string
```
torch @ https://foo.org/torch.whl?some=auth
```
the query string is lost by uv. This is required e.g. when downloading wheels from an azure blob storage container with SAS authentication.

pip and pip-compile preserve the query string.

---

_Label `bug` added by @zanieb on 2024-02-16 14:42_

---

_Comment by @zanieb on 2024-02-16 14:43_

Thanks for the report.

We'll need to figure out a good test case for this, ideally we could include this in a `compile` or `install` test.

---

_Comment by @charliermarsh on 2024-02-16 16:08_

So I see the query string preserved, if I run (e.g.) `pip compile requirements.in` with this:

```
flask @ https://files.pythonhosted.org/packages/36/42/015c23096649b908c809c69388a805a571a3bea44362fe87e33fc3afa01f/flask-3.0.0-py3-none-any.whl?foo=bar
```

Anything else to know about the URL you used? Was it an HTTPS or Git dependency? Were there environment variables in it?

---

_Label `question` added by @charliermarsh on 2024-02-16 16:08_

---

_Comment by @janbernloehr on 2024-02-16 21:16_

Indeed it works with 0.1.2!

---

_Closed by @janbernloehr on 2024-02-16 21:16_

---
