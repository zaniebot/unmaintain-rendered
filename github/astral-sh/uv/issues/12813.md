---
number: 12813
title: "Local packages missing in `uv export` output"
type: issue
state: closed
author: fepegar
labels:
  - bug
assignees: []
created_at: 2025-04-10T16:47:10Z
updated_at: 2025-04-11T20:46:49Z
url: https://github.com/astral-sh/uv/issues/12813
synced_at: 2026-01-07T12:31:15-06:00
---

# Local packages missing in `uv export` output

---

_Issue opened by @fepegar on 2025-04-10 16:47_

### Summary

As the title says. MWE:

```shell
uv init mwe
cd mwe
uv init --no-workspace foo
uv add ./foo
uv export
```

Output:

```
Initialized project `mwe` at `/tmp/mwe`
Initialized project `foo` at `/tmp/mwe/foo`
Using CPython 3.13.2
Creating virtual environment at: .venv
Resolved 2 packages in 6ms
Audited in 0.01ms
Resolved 2 packages in 1ms
# This file was autogenerated by uv via the following command:
#    uv export
```

### Platform

Ubuntu 22.04 (WSL)

### Version

0.6.14

### Python version

3.13.2

---

_Label `bug` added by @fepegar on 2025-04-10 16:47_

---

_Renamed from "Local packages missing in uv export" to "Local packages missing in `uv export` output" by @fepegar on 2025-04-10 16:50_

---

_Comment by @konstin on 2025-04-11 10:30_

The fix is to add a build system entry to `foo`:

```
[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
```

I'd say the problem here that we don't complain about `foo = { path = "foo" }` with `foo` lacking a build system, ignoring it with `uv sync` (while claiming to have "Resolved 2 packages") but installing it with `uv pip install .`.

---

_Comment by @charliermarsh on 2025-04-11 12:47_

Ah yeah, this is correct.

---

_Closed by @charliermarsh on 2025-04-11 12:47_

---

_Comment by @konstin on 2025-04-11 12:58_

I think we should improve the `uv sync` output here, the behavior difference between `uv sync`, where the output looks like it's doing the right thing but doesn't install anything, and then `uv pip install .` doing roughly the right thing while implicitly using setuptools is very confusing.

---

_Comment by @charliermarsh on 2025-04-11 13:49_

This is covered in other issues already @konstin. There's an issue for (1) changing `path = "..."` to assume non-virtual. And for (2) the discrepancy between `uv sync` and `uv pip install`.

---

_Comment by @fepegar on 2025-04-11 20:46_

Thank you. For reference, it does work with these commands (adding `--package`):

```shell
uv init mwe
cd mwe
uv init --no-workspace --package foo
uv add ./foo
uv export
```

```
Initialized project `mwe` at `/private/tmp/mwe`
Initialized project `foo` at `/private/tmp/mwe/foo`
Using CPython 3.12.5
Creating virtual environment at: .venv
Resolved 2 packages in 11ms
      Built foo @ file:///private/tmp/mwe/foo
Prepared 1 package in 428ms
Installed 1 package in 1ms
 + foo==0.1.0 (from file:///private/tmp/mwe/foo)
Resolved 2 packages in 0.72ms
# This file was autogenerated by uv via the following command:
#    uv export
./foo
    # via mwe
```

---
