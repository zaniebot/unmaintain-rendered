---
number: 1407
title: "Better error messages when trying to `uv pip install` a wheel file without a package name"
type: issue
state: closed
author: carlosperate
labels:
  - error messages
assignees: []
created_at: 2024-02-16T01:27:47Z
updated_at: 2024-03-22T21:24:18Z
url: https://github.com/astral-sh/uv/issues/1407
synced_at: 2026-01-07T12:31:14-06:00
---

# Better error messages when trying to `uv pip install` a wheel file without a package name

---

_Issue opened by @carlosperate on 2024-02-16 01:27_

In the spirit of PR https://github.com/astral-sh/uv/pull/669, it'd be nice if some of the error messages when trying to install a wheel without specifiying the package name were a bit more helpful.

The error message for a relative path is good:
```
$ uv pip install mu/wheels/1.2.2/appnope-0.1.4-py2.py3-none-any.whl
error: Failed to parse `mu/wheels/1.2.2/appnope-0.1.4-py2.py3-none-any.whl`
  Caused by: URL requirement must be preceded by a package name. Add the name of the package before the URL (e.g., `package_name @ https://...`).
mu/wheels/1.2.2/appnope-0.1.4-py2.py3-none-any.whl
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
```
But the error for a full path that starts with `/`, is not as helpful:
```
$ uv pip install /Users/microbit-carlos/workspace/tmp/mu-tests/mu/mu/wheels/1.2.2/appnope-0.1.4-py2.py3-none-any.whl
error: Failed to parse `/Users/microbit-carlos/workspace/tmp/mu-tests/mu/mu/wheels/1.2.2/appnope-0.1.4-py2.py3-none-any.whl`
  Caused by: Expected package name starting with an alphanumeric character, found '/'
/Users/microbit-carlos/workspace/tmp/mu-tests/mu/mu/wheels/1.2.2/appnope-0.1.4-py2.py3-none-any.whl
^
```

And the error when the path is a filename in a local directory is not as helpful either:
```
$ cd mu/wheels/1.2.2/
$ uv pip install appnope-0.1.4-py2.py3-none-any.whl
  Ã— No solution found when resolving dependencies:
  â•°â”€â–¶ Because appnope-0-1-4-py2-py3-none-any-whl was not found in the package registry and you require appnope-0-1-4-py2-py3-none-any-whl, we can
      conclude that the requirements are unsatisfiable.
```

---

_Label `error messages` added by @charliermarsh on 2024-02-16 01:30_

---

_Comment by @charliermarsh on 2024-02-16 01:30_

Nice, those are great cases to handle, thanks.

---

_Comment by @zanieb on 2024-02-16 01:57_

Related 
- #313 
- https://github.com/astral-sh/uv/issues/1403

---

_Comment by @akx on 2024-02-16 06:45_

ðŸ‘ from me. I have a Dockerfile that does a multistage build where wheels are built in a chunkier container and installed (only) from those wheels in a second stage.

```
FROM something AS requirements
COPY requirements.txt /wheels/requirements.txt
RUN cd /wheels && pip wheel --no-cache-dir -r requirements.txt
# ...
FROM somethingelse AS runtime
# ...
RUN --mount=type=cache,ro,from=requirements,source=/wheels,target=/wheels pip install --no-cache-dir --no-index --find-links /wheels /wheels/*.whl
```
Trying to replace `pip install` with `uv pip install` goes
```
0.171 error: Failed to parse `/wheels/Babel-2.14.0-py3-none-any.whl`
0.171   Caused by: Expected package name starting with an alphanumeric character, found '/'
0.171 /wheels/Babel-2.14.0-py3-none-any.whl
```
(Replacing `pip wheel` with `uv pip wheel` fails too, because `wheel` isn't a subcommand yet, but that's #920.)

---

_Comment by @charliermarsh on 2024-02-16 06:51_

(You should be able to use `Babel @ /wheels/Babel-2.14.0-py3-none-any.whl` -- does that work?)

---

_Comment by @akx on 2024-02-16 06:53_

@charliermarsh Can't try that easily unfortunately since the list of requirements comes from shell wildcard expansion ðŸ˜… 


---

_Comment by @charliermarsh on 2024-02-16 06:56_

Oh hah. Okay, got it :) It sounds like you need https://github.com/astral-sh/uv/issues/313.

---

_Comment by @matthewfeickert on 2024-02-21 21:14_

> Can't try that easily unfortunately since the list of requirements comes from shell wildcard expansion

Yeah, this is something that I run into as well, when I have validation shell scripts that find all the wheels from an archive that's been downloaded and then execute something similar to

```
uv pip install "./archive/*.whl"
```

(I know that this is already in the works over on Issue #313, so thank you!, I just wanted to give another example of a common workflow.)

---

_Comment by @charliermarsh on 2024-03-22 21:24_

This is now supported, so no need to improve the error messages!

---

_Closed by @charliermarsh on 2024-03-22 21:24_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-03-22 21:24_

---
