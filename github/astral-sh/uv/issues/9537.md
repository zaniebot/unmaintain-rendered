---
number: 9537
title: Editable dependency in dev environment only, and source the git version in packaging environment
type: issue
state: closed
author: choucavalier
labels: []
assignees: []
created_at: 2024-11-30T10:33:27Z
updated_at: 2024-12-03T22:05:09Z
url: https://github.com/astral-sh/uv/issues/9537
synced_at: 2026-01-07T12:31:15-06:00
---

# Editable dependency in dev environment only, and source the git version in packaging environment

---

_Issue opened by @choucavalier on 2024-11-30 10:33_

Hello! Thanks for the awesome work on uv. The amount of things you're getting right and the speed of your development team is inspiring!

Say I have a package `foo` and another package `bar` that I'm both developing.

`bar` depends on `foo`.

In my dev environment, I'll have a local version of both `foo` and `bar` that I'm working on.

```
./devel/foo
./devel/bar
```

Each package has its own `pyproject.toml`. `foo` itself has some optional dependencies and I want `bar` to depend on `foo` without the optional dependencies, because `foo` is exposing some specific set of features to `bar` and has its own other functionalities that depend on heavy Python libraries that I definitely don't want to have as dependencies of `bar`.

While I'm working on `bar`, I want to have the `foo` dependency in **editable** mode.

But when I'm packaging `bar`, I want it to fetch the `foo` dependency from a git repositry.

In other words, I would like the dependency in the `dev` dependency group to be

```
[tool.uv.sources]
foo = { path = "../foo" }
```

And in the packaging environment (in the normal `dependencies` part of the `pyproject.toml`) to be

```
[tool.uv.sources]
foo = { git = "ssh://git@mygit.com:myorg/mypackage" }
```

Right now, if I add `foo` as a dependency in either, it's gonna overwrite the other version.

What's the right way to manage this situation with uv?

---

_Comment by @zanieb on 2024-12-03 18:01_

Is this about the same as https://github.com/astral-sh/uv/issues/7945 ?

---

_Comment by @choucavalier on 2024-12-03 22:05_

@zanieb very much looks like so, thanks for pointing it out: it did not came up in my searches on the issue tracker. closing this in favor of the existing issue

---

_Closed by @choucavalier on 2024-12-03 22:05_

---

_Referenced in [astral-sh/uv#9258](../../astral-sh/uv/issues/9258.md) on 2025-04-23 17:14_

---

_Referenced in [astral-sh/uv#13073](../../astral-sh/uv/issues/13073.md) on 2025-04-23 19:27_

---
