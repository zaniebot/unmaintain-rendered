---
number: 13180
title: opencv functions do not work in uv scripts, but work fine in pip environment on same system
type: issue
state: closed
author: Youjin1985
labels:
  - needs-mre
assignees: []
created_at: 2025-04-28T14:51:39Z
updated_at: 2025-05-04T12:43:37Z
url: https://github.com/astral-sh/uv/issues/13180
synced_at: 2026-01-07T12:31:16-06:00
---

# opencv functions do not work in uv scripts, but work fine in pip environment on same system

---

_Issue opened by @Youjin1985 on 2025-04-28 14:51_

### Summary



Traceback (most recent call last):
  File "...cv_debug.py", line 18, in <module>
    cv2.namedWindow("TrackedBars")
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
cv2.error: OpenCV(4.11.0) D:\a\opencv-python\opencv-python\opencv\modules\highgui\src\window.cpp:1284: error: (-2:Unspecified error) The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Cocoa support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script in function 'cvNamedWindow'



If I use pip managed virtualenv, this does not happen and opencv functions work as expected

code to reproduce:

```
import cv2
import numpy as np
import mss
from PIL import Image

sct = mss.mss()

def empty(i):
    pass

cv2.namedWindow("TrackedBars")
cv2.resizeWindow("TrackedBars", 640, 360)


def on_trackbar(val):
    hue_min = cv2.getTrackbarPos("Hue Min", "TrackedBars")
    hue_max = cv2.getTrackbarPos("Hue Max", "TrackedBars")
    sat_min = cv2.getTrackbarPos("Sat Min", "TrackedBars")
    sat_max = cv2.getTrackbarPos("Sat Max", "TrackedBars")
    val_min = cv2.getTrackbarPos("Val Min", "TrackedBars")
    val_max = cv2.getTrackbarPos("Val Max", "TrackedBars")

    lower = np.array([hue_min, sat_min, val_min])
    upper = np.array([hue_max, sat_max, val_max])

    imgMASK = cv2.inRange(imgHSV, lower, upper)

    cv2.imshow("Output1", img)
    cv2.imshow("Output2", imgHSV)
    cv2.imshow("Mask", imgMASK)


cv2.createTrackbar("Hue Min", "TrackedBars", 0, 179, on_trackbar)
cv2.createTrackbar("Hue Max", "TrackedBars", 179, 179, on_trackbar)
cv2.createTrackbar("Sat Min", "TrackedBars", 0, 255, on_trackbar)
cv2.createTrackbar("Sat Max", "TrackedBars", 255, 255, on_trackbar)
cv2.createTrackbar("Val Min", "TrackedBars", 0, 255, on_trackbar)
cv2.createTrackbar("Val Max", "TrackedBars", 255, 255, on_trackbar)

shot = sct.grab({'left':900, 'top': 100, 'width': 1600, 'height':1000})
img = np.array(Image.frombytes("RGB", shot.size, shot.bgra, "raw", "BGRX"), dtype=np.uint8)
imgHSV = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)


on_trackbar(0)
cv2.waitKey()
```

### Platform

Windows 11 x86_64

### Version

uv 0.6.14 (a4cec56dc 2025-04-09)

### Python version

Python 3.13.3

---

_Label `bug` added by @Youjin1985 on 2025-04-28 14:51_

---

_Comment by @konstin on 2025-04-28 16:02_

What commands did you use for the uv install and which for the pip install?

---

_Label `bug` removed by @konstin on 2025-04-28 16:02_

---

_Label `needs-mre` added by @konstin on 2025-04-28 16:02_

---

_Comment by @Youjin1985 on 2025-04-29 08:28_

For pip:
pip install opencv-python
For uv:
uv add opencv-python

---

_Comment by @konstin on 2025-04-29 08:38_

Can you share a minimal reproducible example, with all commands you ran, your `pyproject.toml` and the verbose logs with (`-v`)? See https://github.com/astral-sh/uv/issues/9452 for more details.

---

_Comment by @charliermarsh on 2025-05-04 12:43_

(Closing due to lack of MRE, but happy to re-open with more info.)

---

_Closed by @charliermarsh on 2025-05-04 12:43_

---
