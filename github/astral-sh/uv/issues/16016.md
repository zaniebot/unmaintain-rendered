---
number: 16016
title: "Add a CLI argument to make `uv export` include build dependencies"
type: issue
state: open
author: frazar
labels:
  - enhancement
assignees: []
created_at: 2025-09-24T14:26:59Z
updated_at: 2025-09-24T16:08:39Z
url: https://github.com/astral-sh/uv/issues/16016
synced_at: 2026-01-07T12:31:16-06:00
---

# Add a CLI argument to make `uv export` include build dependencies

---

_Issue opened by @frazar on 2025-09-24 14:26_

### Summary

Hello, and thanks for this wonderful piece of software!

My use case is the following. I would like to compile an exhaustive list of all the dependencies of my Python package, so that they can be easily collected in a single archive. The archive should then allow me to create a new venv from scratch, even without an internet connection.

Right now, this can be (partially) achieved with a combination of `uv export` and `pip download` (or perhaps soon just `uv download` #3163).

```bash
$ uv init
$ uv add 'fire==0.6.0'
$ uv export --frozen > requirements.txt  # <-- Here is the issue
$ pip download -r requirements.txt -d offline-archive
$ tar -czf offline-archive.tgz offline-archive
```

However, when generating the `requirements.txt` file, `uv export` does not consider the build dependencies of my package dependencies. In the example above, `fire==0.6.0` has some build-time dependencies and creating an environment without an internet connection would fail.

```
$ uv venv
$ . .venv/bin/activate
$ tar -xzf offline-archive.tgz
$ uv pip install --no-index --no-cache --find-links offline-archive -r requirements.txt
  × Failed to download and build `fire==0.6.0`
  ├─▶ Failed to resolve requirements from `setup.py` build
  ├─▶ No solution found when resolving: `setuptools>=40.8.0`
  ╰─▶ Because setuptools was not found in the provided package locations and you require
      setuptools>=40.8.0, we can conclude that your requirements are unsatisfiable.
(test) [Exit status: 1]
```

It might be possible that `uv` can not collect the build dependencies for all my package dependencies. If not, a compromise would be to at least include those declared with `[tool.uv.extra-build-dependencies]`.

I tried looking around the open Issues but couldn't find anything matching this request. The closest issues and why they don't match:

- #7496: This is about including the "extra-index" URL in the generated requirements.txt files 
- #12072: This is about including, for each dependency, any "extra" packages of that dependency. However it does not touch the topic of build-time dependencies.

### Example

_No response_

---

_Label `enhancement` added by @frazar on 2025-09-24 14:27_

---

_Comment by @zanieb on 2025-09-24 14:39_

We don't support locking build dependencies yet, which would be a pre-requisite for this. We're interested, but it's a hard problem.

---
