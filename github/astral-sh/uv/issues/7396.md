---
number: 7396
title: Run a file without .py extension
type: issue
state: closed
author: sequoiayoav
labels:
  - enhancement
  - cli
assignees: []
created_at: 2024-09-14T17:12:57Z
updated_at: 2024-10-11T09:53:26Z
url: https://github.com/astral-sh/uv/issues/7396
synced_at: 2026-01-07T12:31:15-06:00
---

# Run a file without .py extension

---

_Issue opened by @sequoiayoav on 2024-09-14 17:12_

if I make this file and name it `example.py`

```py
#!/usr/bin/env uv run --quiet

# /// script
# dependencies = [
#     "requests",
# ]
# ///

from requests import get

resp = get("https://example.com")
print(resp)
```
```sh
chmod +x example.py
```
running `example.py` in my shell just works, 
But if I rename the file to just `example` and try to run it, uv doesn't recognize it as a python file.
this isn't a bug, just want some help on this. (or recommendations)
thanks!



---

_Comment by @charliermarsh on 2024-09-14 18:54_

Does `uv run python ./example` work as expected?

---

_Label `question` added by @charliermarsh on 2024-09-14 18:55_

---

_Comment by @kbernhagen on 2024-09-14 19:35_

Possible workaround:
```
#!/usr/bin/env uv run -q --no-project --python 3.12 --with requests
```

It would be nice if `uv run` had option `--script` that did not need to have an explicit path to the script.

I am using an alias as a workaround in `.zshrc`:
```
alias fahctl='uv run -q --no-project --python 3.12 --with websocket-client fahctl'
```

---

_Comment by @kbernhagen on 2024-09-14 19:45_

> Does `uv run python ./example` work as expected?

Does not work for me
```sh
% uv run python /usr/local/bin/fahctl 
Missing python3-websocket library
```


---

_Comment by @kbernhagen on 2024-09-14 19:51_

The best thing would probably be for python3 itself to understand PEP 723.

---

_Comment by @charliermarsh on 2024-09-14 19:59_

We may want an explicit `--script` option to treat a path as PEP 723 script without sniffing the extension.

---

_Comment by @zanieb on 2024-09-15 21:33_

Seems reasonable to me.

---

_Comment by @sequoiayoav on 2024-09-17 19:01_

Sounds like the perfect solution

---

_Label `question` removed by @zanieb on 2024-09-17 19:01_

---

_Label `cli` added by @zanieb on 2024-09-17 19:01_

---

_Label `enhancement` added by @zanieb on 2024-09-17 19:02_

---

_Referenced in [astral-sh/uv#6375](../../astral-sh/uv/pulls/6375.md) on 2024-09-17 19:02_

---

_Comment by @slavos1 on 2024-09-22 18:41_

First off, thanks for uv.

Came across this issue too and on Ubuntu it not only "does not work", it calls itself recursively. ðŸ˜¨ 

Example:
```python
#!/usr/bin/env -S uv run
import sys
print(f'sys.executable={sys.executable}')
```

When I name this file `test-uv.py`, make it `chmod +x`, then `./test-uv.py` works normally.

However, when I name this file `test-uv`, make it `chmod +x`, then `./test-uv` never finishes as it spawns itself recursively -- you can see it from this `while true; do ps -e ...|grep uv -w; sleep .1; done`:
```shell
1110162 1110156 uv run ./test-uv
1110168 1110162 uv run ./test-uv
1110174 1110168 uv run ./test-uv
1110180 1110174 uv run ./test-uv
1110186 1110180 uv run ./test-uv
1110192 1110186 uv run ./test-uv
1110198 1110192 uv run ./test-uv
1110204 1110198 uv run ./test-uv
1110210 1110204 uv run ./test-uv
```

I used `uv` version `0.4.15`.


---

_Referenced in [astral-sh/uv#7739](../../astral-sh/uv/pulls/7739.md) on 2024-09-27 13:47_

---

_Comment by @charliermarsh on 2024-10-11 09:53_

`--script` now exists to power this use-case.

---

_Closed by @charliermarsh on 2024-10-11 09:53_

---

_Referenced in [astral-sh/uv#9483](../../astral-sh/uv/issues/9483.md) on 2024-11-27 19:48_

---

_Referenced in [scipy/scipy-stubs#259](../../scipy/scipy-stubs/pulls/259.md) on 2024-12-05 00:41_

---
