---
number: 5837
title: Rule for “Subclass dataclass attribute overwritten by Base class init attribute”
type: issue
state: open
author: ssweber
labels:
  - type-inference
  - needs-decision
assignees: []
created_at: 2023-07-17T16:41:00Z
updated_at: 2023-07-20T02:14:23Z
url: https://github.com/astral-sh/ruff/issues/5837
synced_at: 2026-01-07T12:31:12-06:00
---

# Rule for “Subclass dataclass attribute overwritten by Base class init attribute”

---

_Issue opened by @ssweber on 2023-07-17 16:41_

Is there a rule to catch the following:

```python
from dataclasses import dataclass

@dataclass
class Base:
    value: int = 10

@dataclass
class Subclass(Base):
    value = 20
# Should be `value: int = 20`. missing the `: int`.
# It's treated as a Class level variable and will be
# overwritten by Base `value` during init

print(Base().value) # Output: 10
print(Subclass.value) # Output: 20
print(Subclass().value)  # Output: 10

---

_Label `typing` added by @charliermarsh on 2023-07-19 01:18_

---

_Label `needs-decision` added by @charliermarsh on 2023-07-19 01:18_

---

_Label `typing` removed by @charliermarsh on 2023-07-19 01:19_

---

_Label `type-inference` added by @charliermarsh on 2023-07-19 01:19_

---

_Comment by @charliermarsh on 2023-07-19 01:20_

I don't think we can implement this reliably without cross-file type analysis. Unless the rule were "Every attribute in a dataclass should have a type annotation, even if only a `ClassVar`."

---

_Comment by @ssweber on 2023-07-20 02:13_

I think that’s a good wording. I’m super green in things, but I was surprised by the behavior!

---

_Referenced in [astral-sh/ruff#18105](../../astral-sh/ruff/issues/18105.md) on 2025-05-14 20:19_

---
