---
number: 4662
title: F541 not detecting issue when string is split into multiple lines
type: issue
state: closed
author: Kirska
labels:
  - question
assignees: []
created_at: 2023-05-25T19:45:54Z
updated_at: 2023-05-26T03:04:51Z
url: https://github.com/astral-sh/ruff/issues/4662
synced_at: 2026-01-07T12:31:12-06:00
---

# F541 not detecting issue when string is split into multiple lines

---

_Issue opened by @Kirska on 2023-05-25 19:45_

Example code:
```
some_string = "hello"
test_string = (
    f"this is a string without placeholders "
    "and this is also without placeholders "
    f"{some_string} is in a placeholder"
)
```

The first line should generate a violation and it does not. If you delete the other 2 lines, then the violation is found.

Command to run:
`ruff check --select F541`

My ruff version: 0.0.263

---

_Comment by @charliermarsh on 2023-05-25 19:50_

Hmm, so I _think_ this is intentional, since it's common to use a shared prefix for all tokens within an implicit string concatenation, which has a number of benefits:

- Common horizontal alignment (the first character of each line is aligned with every other line).
- No need to change prefixes if you reflow text (e.g., one line gets too long, so a word is moved up to the previous line).

Pyflakes has the same behavior -- it doesn't flag the above case either. My inclination is to call this "working as intended".

---

_Label `question` added by @charliermarsh on 2023-05-25 19:50_

---

_Comment by @charliermarsh on 2023-05-26 03:04_

I'm going to close as "working as intended", but happy to field follow-up questions here.

---

_Closed by @charliermarsh on 2023-05-26 03:04_

---

_Referenced in [canonical/ops-scenario#108](../../canonical/ops-scenario/pulls/108.md) on 2024-04-05 04:01_

---
