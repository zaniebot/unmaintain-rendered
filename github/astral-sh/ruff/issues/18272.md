---
number: 18272
title: Rule E712 in pytest assertion
type: issue
state: closed
author: EricDepagne
labels:
  - help wanted
  - diagnostics
assignees: []
created_at: 2025-05-23T09:05:01Z
updated_at: 2025-05-28T07:06:40Z
url: https://github.com/astral-sh/ruff/issues/18272
synced_at: 2026-01-07T12:31:13-06:00
---

# Rule E712 in pytest assertion

---

_Issue opened by @EricDepagne on 2025-05-23 09:05_

### Summary

I do some image analysis and I have some pytests that use assert().

Here's an example:
```
def test_blurry(not_blurry_image):
    assert is_blurry(not_blurry_image) == False
```
where `is_blurry` is my function that tests for blurryness and it returns a boolean.
My test is here to make sure that if I pass an image that I know is not blurry to my function it returns False.
And I have a warning from ruff about E712, which is:
`Avoid equality comparisons to False; use if not is_blurry(no_blurry_image): for False checks`

Not sure if it's my test that should be re-written or if ruff should not trigger this warning in an assert, but the explanation message here is  incorrect as I can't use an if statement there.

### Version

ruff 0.9.5

---

_Comment by @MichaReiser on 2025-05-23 13:17_

Thanks for opening this issue. I can see where the confusion is coming from. Ruff's diagnostic shouldn't assume the context here. 

What the suggestion is trying to tell you is that you can rewrite your assertion to 

```py
assert not is_blurry(not_blurry_image)
```

but it does a poor job at it. We should improve the diagnostic.

---

_Label `help wanted` added by @MichaReiser on 2025-05-23 13:17_

---

_Label `diagnostics` added by @MichaReiser on 2025-05-23 13:17_

---

_Comment by @EricDepagne on 2025-05-23 14:56_

Thanks @MichaReiser  for the explanation.
And the suggestion to improve my tests.

---

_Comment by @CodeMan62 on 2025-05-25 03:16_

taking this issue and propose a fix asap 


---

_Referenced in [astral-sh/ruff#18328](../../astral-sh/ruff/pulls/18328.md) on 2025-05-26 20:18_

---

_Closed by @MichaReiser on 2025-05-28 07:06_

---
