---
number: 10361
title: Removing unnecessary list() for generators
type: issue
state: closed
author: spaceby
labels:
  - rule
assignees: []
created_at: 2024-03-12T15:56:40Z
updated_at: 2024-03-29T20:19:51Z
url: https://github.com/astral-sh/ruff/issues/10361
synced_at: 2026-01-07T12:31:13-06:00
---

# Removing unnecessary list() for generators

---

_Issue opened by @spaceby on 2024-03-12 15:56_

Can you add the following rules?

`a.extend([i for i in range(10)])` to  `a.extend(i for i in range(10))`
`a.extend(list(range(10))` to `a.extend(range(10)`

`' '.join([i for i in range(10)])` to  `' '.join(i for i in range(10))`
`' '.join(list(range(10))` to `' '.join(range(10)`

`[1, *list(range(10))]` to `[1, *range(10)]`

`itertools.starmap(func, zip(range(5), range(5)))` to `map(func, range(5), range(5))`

---

_Label `rule` added by @charliermarsh on 2024-03-15 13:55_

---

_Comment by @charliermarsh on 2024-03-15 13:55_

Seems reasonable although the `extend` could be wrong if we don't know that `a` is a list; similarly, changing `.join` could be wrong if we don't know that the caller is a string. Just caveats.

---

_Comment by @MichaReiser on 2024-03-18 09:49_

This seems similar to https://docs.astral.sh/ruff/rules/unnecessary-comprehension-any-all/ What's unclear to me is if this should be a new rule or if the existing rule should be changed to detect any unnecessary list generators.

---

_Comment by @charliermarsh on 2024-03-18 13:05_

I'd say one rule, for built-in methods that consume generators.

---

_Comment by @charliermarsh on 2024-03-29 20:19_

This can be merged into https://github.com/astral-sh/ruff/issues/3259.

---

_Closed by @charliermarsh on 2024-03-29 20:19_

---
