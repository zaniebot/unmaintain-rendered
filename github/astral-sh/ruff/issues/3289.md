---
number: 3289
title: "Feature Request:  GitHub Action for Ruff"
type: issue
state: closed
author: brucearctor
labels:
  - wish
assignees: []
created_at: 2023-03-01T05:59:27Z
updated_at: 2023-04-03T23:43:08Z
url: https://github.com/astral-sh/ruff/issues/3289
synced_at: 2026-01-07T12:31:12-06:00
---

# Feature Request:  GitHub Action for Ruff

---

_Issue opened by @brucearctor on 2023-03-01 05:59_

Would love an official GitHub Action for Ruff 

The docs for Black to which this idea follows and could mimic:  https://black.readthedocs.io/en/stable/integrations/github_actions.html

The link to the code in black:  https://github.com/psf/black/blob/main/action/main.py

The docs from GH for creating an action:  https://docs.github.com/en/actions/creating-actions

@charliermarsh -- I'd be happy to write and submit a PR.  Is that something you/this-project would be interested in, potentially willing to accept [ naturally TBD on code, etc ]?  


<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->


---

_Comment by @danieleades on 2023-03-01 09:05_

does a pre-commit action solve your use-case?

see https://github.com/charliermarsh/ruff-pre-commit
and https://github.com/pre-commit/action

---

_Comment by @brucearctor on 2023-03-01 18:57_

Pre-Commit is ALSO great!  

I hope my teams all use pre-commit, but I do not trust them to always use, which is why I would look to ruff to not surface any problems -  in, for example, GH - before allowing the code to be merged

---

_Comment by @danieleades on 2023-03-01 19:05_

using pre-commit in CI will give you what you're after, whether your team uses it locally or not. With the added advantage that they can opt in locally to the same checks that you run remotely

---

_Comment by @edgarrmondragon on 2023-03-01 19:12_

One disadvantage of pre-commit (at least pre-commit.ci) is that it doesn't report annotations back to github, unlike what a `ruff check . --format github` run would do.

---

_Comment by @wichert on 2023-03-07 10:06_

Perhaps that could be handled by checking [`GITHUB_ACTIONS` environment variable](https://docs.github.com/en/actions/learn-github-actions/variables#default-environment-variables), and if it is set to `true` default to the `github` format?

---

_Comment by @Jackenmen on 2023-03-07 10:58_

> One disadvantage of pre-commit (at least pre-commit.ci) is that it doesn't report annotations back to github, unlike what a `ruff check . --format github` run would do.

pre-commit ran from GH Actions can though. You would want to set the `RUFF_FORMAT` env var so that the output format is appropriate when ran in CI while kept default when ran locally.

---

_Comment by @luator on 2023-03-07 11:08_

The [documentation](https://beta.ruff.rs/docs/editor-integrations/#github-actions) already includes an example how to set up a GitHub workflow.  It's not using a dedicated action but just some "run" commands but it seems to be simple enough for me that no special action is needed.  Or am I missing some scenario where this would not work?

---

_Comment by @brucearctor on 2023-03-07 16:20_

One can always run code.  There are a number of instances where packaging code to be a script, container, library, [ or action ], etc. can be nice ... 

For naive users, I imagine also much easier to have all the recommended defaults set, and then surface any config options with associated explinations, in the GH Action documentation.  

Is a packaged GH Action that people *could* use desirable to make it potentially easier on users  [ yes, the `run:` directive is a valid way to accomplish things ] ?  I would imagine that helps increase usability, but ...?  TBD, based on what this project expects of its userbase, the aims for support, etc.



---

_Comment by @edgarrmondragon on 2023-03-07 16:58_

> Perhaps that could be handled by checking [`GITHUB_ACTIONS` environment variable](https://docs.github.com/en/actions/learn-github-actions/variables#default-environment-variables), and if it is set to `true` default to the `github` format?

@wichert that was actually removed in https://github.com/charliermarsh/ruff/pull/1697

> pre-commit ran from GH Actions can though. You would want to set the `RUFF_FORMAT` env var so that the output format is appropriate when ran in CI while kept default when ran locally.

@Jackenmen yeah, even the official pre-commit action would work well with that env var, I think.

---

_Comment by @mpizenberg on 2023-03-10 10:17_

@brucearctor I’d be interested in such a gh action but I can understand not wanting the maintenance burden in the ruff repo. Maybe go ahead and create that action under your name if you think that’s relatively easy. From there it will be easier to see tradeoffs and popularity of the action. If useful, it can be integrated later?

---

_Comment by @kislyuk on 2023-03-21 14:30_

I too would love to see an officially supported ruff github action. I don't think any of the workarounds listed above (pre-commit hooks, etc.) are suitable workarounds for a standalone github action.

For reference, black and isort provide officially supported standalone github actions, and I think that has meaningfully contributed to their adoption among developers who work on github.

---

_Comment by @charliermarsh on 2023-03-21 14:35_

FWIW I don't mind supporting this, but I haven't looked into how the Black and isort Actions work.

---

_Comment by @charliermarsh on 2023-03-21 14:39_

If I were to go about this, I'd probably just try to mirror the Black action.

---

_Comment by @MichaReiser on 2023-03-21 14:55_

> If I were to go about this, I'd probably just try to mirror the Black action

Implementingent the functionality to check and format changed files only directly into ruff (or as a tool on top of it)  could be interesting. This is mainly because we'll need this for GitHub, GitLab... you name it integrations. The only part that, in my view, should be CI specific is:
* Installing ruff (if not using a package manager)
* Transforming ruffs output into something that CI provider understands
* Setting up the caching

---

_Label `wishlist` added by @charliermarsh on 2023-03-21 21:44_

---

_Referenced in [astral-sh/ruff#3756](../../astral-sh/ruff/pulls/3756.md) on 2023-03-27 04:29_

---

_Comment by @brucearctor on 2023-03-27 04:32_

I got a Draft PR together.  How does it look?  Can extend/modify if needed [ and happy to help maintain ].  Once others believe code looks good, I'm happy to add docs to https://github.com/charliermarsh/ruff/pull/3756 or follow up with docs in another PR.  

---

_Referenced in [astral-sh/ruff#3820](../../astral-sh/ruff/pulls/3820.md) on 2023-03-30 17:48_

---

_Comment by @brucearctor on 2023-03-30 17:49_

Accidently closed, and doesn't look like can re-open.  Is now found --> https://github.com/charliermarsh/ruff/pull/3820

---

_Comment by @charliermarsh on 2023-04-03 23:43_

Rock on, this now exists as [`ruff-action`](https://github.com/chartboost/ruff-action) (docs added in https://github.com/charliermarsh/ruff/pull/3857).

---

_Closed by @charliermarsh on 2023-04-03 23:43_

---

_Referenced in [cfpb/regtech-data-validator#35](../../cfpb/regtech-data-validator/issues/35.md) on 2023-08-18 06:21_

---

_Referenced in [astral-sh/ruff#8400](../../astral-sh/ruff/issues/8400.md) on 2023-11-01 08:57_

---

_Referenced in [seedcase-project/team#89](../../seedcase-project/team/issues/89.md) on 2024-01-01 12:14_

---
