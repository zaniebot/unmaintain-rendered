---
number: 17997
title: Server does not support syncing TOML configuration files
type: issue
state: open
author: trim21
labels:
  - server
assignees: []
created_at: 2025-05-09T21:41:11Z
updated_at: 2025-05-20T17:39:30Z
url: https://github.com/astral-sh/ruff/issues/17997
synced_at: 2026-01-07T12:31:13-06:00
---

# Server does not support syncing TOML configuration files

---

_Issue opened by @trim21 on 2025-05-09 21:41_

### Summary

I'm using ruff with RyeCharm and running ruff in LSP mode, it wrongly report syntax error on pyproject.toml file.


![Image](https://github.com/user-attachments/assets/e4bc3c42-f47a-409f-9893-afe5b9d8c2d5)

original issueï¼š

https://github.com/InSyncWithFoo/ryecharm/issues/67#issue-30531120401

@InSyncWithFoo 

### Version

ruff 0.11.8 (75effb8ed 2025-05-01)

---

_Comment by @InSyncWithFoo on 2025-05-09 22:09_

Ruff has at least one rule that runs specifically on `pyproject.toml` ([`RUF200`](https://docs.astral.sh/ruff/rules/invalid-pyproject-toml/)), yet Ruff's server only ever expects that all files passed to it are either `.py`, `.pyi` or `.ipynb`. See also #16950.

---

_Comment by @MichaReiser on 2025-05-10 07:20_

The ruff server doesn't support pyproject.toml files. RyeCharm should not send change events for those files (only file watcher events)

---

_Label `server` added by @MichaReiser on 2025-05-10 07:20_

---

_Comment by @trim21 on 2025-05-10 10:55_

so ruff think this is a bug on RyeCharm side? ðŸ¤”

---

_Comment by @InSyncWithFoo on 2025-05-10 12:37_

@MichaReiser Would a fix be accepted, or should this issue be closed?

---

_Comment by @MichaReiser on 2025-05-12 07:44_

I'm open to adding support for lint project.toml files as long as it doesn't significantly increase complexityâ€”unless @dhruvmanila knows of a reason why we didn't add support for them.

One thing we need to be mindful of is that VS code will start sending `didChange` events for `pyproject.toml` files and no longer sends `didWatchedFilesChange` events if the file gets edited in the editor.

---

_Renamed from "when running in LSP mode, ruff try to parse pyproject.toml as python file and report a SyntaxError" to "Server does not support syncing TOML configuration files" by @dhruvmanila on 2025-05-20 17:02_

---

_Comment by @dhruvmanila on 2025-05-20 17:16_

I don't remember if there was any specific reason that the server doesn't support syncing TOML files so I'm open to adding them as well.

> One thing we need to be mindful of is that VS code will start sending `didChange` events for `pyproject.toml` files and no longer sends `didWatchedFilesChange` events if the file gets edited in the editor.

Is this mentioned somewhere?

---

_Comment by @MichaReiser on 2025-05-20 17:39_

I don't think so but that's what I observed when working on ty and sorr of makes sense

---
