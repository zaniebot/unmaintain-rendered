---
number: 8318
title: Consider handling invalid octal escapes
type: issue
state: open
author: sno2
labels:
  - rule
  - needs-decision
assignees: []
created_at: 2023-10-28T23:44:01Z
updated_at: 2023-10-30T23:30:38Z
url: https://github.com/astral-sh/ruff/issues/8318
synced_at: 2026-01-07T12:31:12-06:00
---

# Consider handling invalid octal escapes

---

_Issue opened by @sno2 on 2023-10-28 23:44_

Here is the wording from the [Python 3.12 lexical analysis page on escape sequences](https://docs.python.org/3/reference/lexical_analysis.html#escape-sequences):

> As in Standard C, up to three octal digits are accepted.
> 
> Changed in version 3.11: Octal escapes with value larger than 0o377 produce a [DeprecationWarning](https://docs.python.org/3/library/exceptions.html#DeprecationWarning).
> 
> Changed in version 3.12: Octal escapes with value larger than 0o377 produce a [SyntaxWarning](https://docs.python.org/3/library/exceptions.html#SyntaxWarning). In a future Python version they will be eventually a [SyntaxError](https://docs.python.org/3/library/exceptions.html#SyntaxError).

Therefore, code like the following now gives an error in Python 3.12 and a warning in 3.11:

```python
a = "\777"
```

```
SyntaxWarning: invalid octal escape sequence '\777' (on 3.12)
```

The easiest option would be to make the parser fail on invalid escapes such as these. Although, I am not sure if this functionality would be better as a lint rule because the syntax error only exists on the latest version of Python.

---

_Label `rule` added by @charliermarsh on 2023-10-30 23:30_

---

_Label `needs-decision` added by @charliermarsh on 2023-10-30 23:30_

---
