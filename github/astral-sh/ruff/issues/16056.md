---
number: 16056
title: "`--show-settings` should not search for config files when used with `--isolated`"
type: issue
state: closed
author: InSyncWithFoo
labels: []
assignees: []
created_at: 2025-02-09T22:20:12Z
updated_at: 2025-02-11T16:37:36Z
url: https://github.com/astral-sh/ruff/issues/16056
synced_at: 2026-01-07T12:31:13-06:00
---

# `--show-settings` should not search for config files when used with `--isolated`

---

_Issue opened by @InSyncWithFoo on 2025-02-09 22:20_

Minimal reproducible example:

```shell
$ cd /
$ ruff check --show-settings --isolated
```

The second command takes a very long time, but eventually terminates. Presumably, it searches the entire home directory looking for configuration files.

---

_Referenced in [astral-sh/ruff#16068](../../astral-sh/ruff/pulls/16068.md) on 2025-02-10 00:39_

---

_Comment by @MichaReiser on 2025-02-10 07:52_

I agree that there's a potential to improve performance but it does change the command's behavior (it no longer checks if there are any python files). I also think that this is a rather obscure use and running the command doesn't take longer than running `ruff check` would. 

That's why I'm inclined to mark this as "working as intended".


---

_Comment by @InSyncWithFoo on 2025-02-10 16:35_

@MichaReiser I don't think a command can be said to be "working as intended" when it straight-up ignores one of the arguments. Ruff should either comply with (in which case I think outputting the default settings would be most intuitive) or complain about it (similar to how `--config file.toml` cannot be used with `--isolated`).

It was only because I have been using the command a lot (see also #16030) that I discovered this problem. It never came across my thoughts that `--show-settings --isolated` wouldn't give me the "default" settings for a generic, hypothetical file. That is, until I found myself having to press <kbd>Ctrl</kbd> + <kbd>C</kbd> to terminate the process.

---

_Comment by @MichaReiser on 2025-02-11 08:24_

> I don't think a command can be said to be "working as intended" when it straight-up ignores one of the arguments. 

I don't think ruff ignores the `--isolated` command. I changed the `line-length` setting to 140 and `ruff check --show-settings --isolated` shows `formatter.line_width = 88` which suggests that the `--isolated` argument isn't ignored. 

Running without `--isolated` gives me `formatter.line_width = 140`.

> It never came across my thoughts that --show-settings --isolated wouldn't give me the "default" settings for a generic, hypothetical file. That is, until I found myself having to press Ctrl + C to terminate the process.

I agree that scanning the entire directory may not be ideal. But Ruff does the same when not using `--isolated,` and I don't think we should fix this for isolated only. 

---

_Comment by @InSyncWithFoo on 2025-02-11 16:37_

@MichaReiser I guess that makes sense. I'll close this then. What replacement do you suggest for the workaround I'm currently using in #16030?

---

_Closed by @InSyncWithFoo on 2025-02-11 16:37_

---
