---
number: 2373
title: A way to list per-file-ignore rules for debugging
type: issue
state: closed
author: Alphasite
labels: []
assignees: []
created_at: 2023-01-31T02:18:00Z
updated_at: 2023-01-31T04:11:58Z
url: https://github.com/astral-sh/ruff/issues/2373
synced_at: 2026-01-07T12:31:12-06:00
---

# A way to list per-file-ignore rules for debugging

---

_Issue opened by @Alphasite on 2023-01-31 02:18_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

- A minimal code snippet that reproduces the bug.
- The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
- The current Ruff settings (any relevant sections from your `pyproject.toml`).
- The current Ruff version (`ruff --version`).
-->

Hi! 

Thank you for building this fantastic tool, I had a small request, or guidance on how to contribute a feature my self, is there a way to get debug output for the `per-file-ignores` rules, so i can understand exactly what the created globs were. 

(for background: i couldn't figure out why no variant of `**/test/**/*` wasn't working and it turns out that per-file-ignores are calculated relative to the extended `ruff.toml` file, which was an issue in my case as my config file was in a sibling folder, rather than the parent, so the pattern would never be able to match files in the current directory). 

I ended up adding a hack to debug this and finally figured out the issue, but it would be helpful if there was a verbosity level which printed this information: 
```
        settings.per_file_ignores
            .iter()
            .for_each(|(absolute, basename, _)| {
                println!("ignoring: abs: {} basename: {}", absolute.glob(), basename.glob())
            });
```
example output:
```
ignoring: abs: /Users/me/Workspace/gitlab.eng.comp.com/something/server/**/test/**/* basename: **/test/**/*
...
```

Thanks.

---

_Comment by @charliermarsh on 2023-01-31 02:31_

Let me see what we include under the various CLI flags...

---

_Comment by @charliermarsh on 2023-01-31 02:32_

I'll add this to the `-v` logging.

---

_Comment by @charliermarsh on 2023-01-31 02:34_

In the meantime, though, if you just want to see the resolved regexes, you can do `ruff foo --show-settings`. Look at the `per_file_ignores` section, and take a look at the `re`. (All filenames are converted to absolute, so those are what get matched against the regexes.)

---

_Assigned to @charliermarsh by @charliermarsh on 2023-01-31 02:34_

---

_Comment by @Alphasite on 2023-01-31 02:45_

Oh, i hadn't realized those were in there, thank you! 

---

_Comment by @charliermarsh on 2023-01-31 02:53_

No worries! It could be nice if we _also_ told you when a pattern matched a file. We already do that for `exclude` (if you set `--verbose`).

---

_Referenced in [astral-sh/ruff#2376](../../astral-sh/ruff/pulls/2376.md) on 2023-01-31 04:07_

---

_Closed by @charliermarsh on 2023-01-31 04:11_

---
