---
number: 8925
title: "D400 rule (\"ends-in-period\") adds dot at the end of RST headings which break sphinx builds"
type: issue
state: closed
author: AKuederle
labels:
  - bug
  - docstring
assignees: []
created_at: 2023-11-30T15:12:39Z
updated_at: 2023-11-30T19:27:22Z
url: https://github.com/astral-sh/ruff/issues/8925
synced_at: 2026-01-07T12:31:12-06:00
---

# D400 rule ("ends-in-period") adds dot at the end of RST headings which break sphinx builds

---

_Issue opened by @AKuederle on 2023-11-30 15:12_

When using `sphinx-gallery` you regularly write example files that need to start with a RST-style heading in the module docstring.

```
"""
My example
==========

My example explanation
"""
print("my_example")
```

The autofix rule for D400 adds a dot at the end of the underline, making it invalid RST and breaking the Sphinx build

After transformation:

```
"""
My example
==========.

My example explanation
"""
print("my_example")
```

Tested in latest ruff version (0.1.6)


---

_Assigned to @charliermarsh by @charliermarsh on 2023-11-30 15:56_

---

_Label `bug` added by @charliermarsh on 2023-11-30 15:56_

---

_Label `docstring` added by @charliermarsh on 2023-11-30 15:56_

---

_Comment by @charliermarsh on 2023-11-30 19:27_

Closed by https://github.com/astral-sh/ruff/pull/8929 -- thanks for reporting!

---

_Closed by @charliermarsh on 2023-11-30 19:27_

---
