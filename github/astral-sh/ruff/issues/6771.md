---
number: 6771
title: Include trailing end-of-line comments in the measured line width
type: issue
state: closed
author: MichaReiser
labels:
  - formatter
assignees: []
created_at: 2023-08-22T14:32:03Z
updated_at: 2023-08-30T08:07:13Z
url: https://github.com/astral-sh/ruff/issues/6771
synced_at: 2026-01-07T12:31:12-06:00
---

# Include trailing end-of-line comments in the measured line width

---

_Issue opened by @MichaReiser on 2023-08-22 14:32_

_No description provided._

---

_Referenced in [astral-sh/ruff#6197](../../astral-sh/ruff/issues/6197.md) on 2023-08-22 14:32_

---

_Label `formatter` added by @MichaReiser on 2023-08-22 14:32_

---

_Added to milestone `Formatter: Beta` by @MichaReiser on 2023-08-22 14:32_

---

_Removed from milestone `Formatter: Beta` by @MichaReiser on 2023-08-24 08:41_

---

_Added to milestone `Formatter: Alpha` by @MichaReiser on 2023-08-24 08:41_

---

_Referenced in [astral-sh/ruff#6830](../../astral-sh/ruff/pulls/6830.md) on 2023-08-26 01:49_

---

_Comment by @cnpryer on 2023-08-26 02:05_

I can help look into this, but how is it different from #5630? Are there ever situations where a trailing end-of-line comment isn't handled as a line suffix?

---

_Comment by @MichaReiser on 2023-08-26 06:39_

> I can help look into this, but how is it different from #5630? Are there ever situations where a trailing end-of-line comment isn't handled as a line suffix?

#5630 is only about adding the reserved_width field to LineSuffix but without changing the formatting yet (always initialise it with 0). This issue is about changing the default to the actual comment with. 

---

_Referenced in [astral-sh/ruff#6901](../../astral-sh/ruff/pulls/6901.md) on 2023-08-26 17:54_

---

_Assigned to @cnpryer by @MichaReiser on 2023-08-28 08:26_

---

_Closed by @MichaReiser on 2023-08-30 08:07_

---
