---
number: 1382
title: UP006 is getting incorrectly reported with Python 3.8
type: issue
state: closed
author: rassie
labels: []
assignees: []
created_at: 2022-12-26T15:17:01Z
updated_at: 2022-12-26T15:37:01Z
url: https://github.com/astral-sh/ruff/issues/1382
synced_at: 2026-01-07T12:31:12-06:00
---

# UP006 is getting incorrectly reported with Python 3.8

---

_Issue opened by @rassie on 2022-12-26 15:17_

Our current Python version is still 3.8, so `ruff`'s `target-version` is set to `py38`. However, `UP006` is still getting reported on `List[int]`, proposing `list[int]`, which is only available from Python 3.9.

(From the sound of the documentation, I assume that `target-version` is all about setting the minimal Python version, but what can I do to limit the upper bound?)

---

_Comment by @charliermarsh on 2022-12-26 15:18_

Hmm, are you importing from futures at all? Like `from __future__ import annotations`?

---

_Comment by @rassie on 2022-12-26 15:20_

In this particular file I do, however, I'm not quite sure this has been a concious decision. But using that import doesn't normally allow using `list[int]`, if I'm not mistaken?

---

_Comment by @charliermarsh on 2022-12-26 15:21_

It does, as long as `List[int]` is used as an annotation and not as a runtime value.

---

_Comment by @charliermarsh on 2022-12-26 15:22_

(Unless I'm mistaken!)

---

_Comment by @rassie on 2022-12-26 15:24_

Is there a good way to verify this? `mypy` seems to accept both, with or without futures import.

---

_Comment by @charliermarsh on 2022-12-26 15:31_

Without future import:

```~/workspace on î‚  main [!] via ğŸ v3.11.0
â¯ cat main.py
â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       â”‚ File: main.py
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1   â”‚ from typing import List
   2   â”‚
   3   â”‚ x: List[int] = []
   4   â”‚ x: list[int] = []
â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
~/workspace on î‚  main [!] via ğŸ v3.11.0
â¯ python3.7 main.py
Traceback (most recent call last):
  File "main.py", line 4, in <module>
    x: list[int] = []
TypeError: 'type' object is not subscriptable
```

With future import:

```
~/workspace on î‚  main [!] via ğŸ v3.11.0
â¯ cat main.py
â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       â”‚ File: main.py
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1   â”‚ from __future__ import annotations
   2   â”‚
   3   â”‚ from typing import List
   4   â”‚
   5   â”‚ x: List[int] = []
   6   â”‚ x: list[int] = []
â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
~/workspace on î‚  main [!] via ğŸ v3.11.0
â¯ python3.7 main.py
```


---

_Comment by @charliermarsh on 2022-12-26 15:32_

I do this in [`ruff-lsp`](https://github.com/charliermarsh/ruff-lsp/blob/d04b07cf28cf20eaf2c0e180ca4ef76d52bd7e31/ruff_lsp/server.py#L55), all of this code is tested on Python 3.7 - 3.11.

---

_Comment by @rassie on 2022-12-26 15:37_

OK, then it sound like a non-issue, thanks!

For any future visitors: it's extremely difficult to find this in the official docs, but https://peps.python.org/pep-0585/ does mention the futures import as a way to activate this.

---

_Closed by @rassie on 2022-12-26 15:37_

---
