---
number: 6720
title: "Failed to create fix for StringDotFormatExtraNamedArguments: Failed to extract expression from source"
type: issue
state: closed
author: qarmin
labels:
  - bug
  - fuzzer
assignees: []
created_at: 2023-08-21T09:15:08Z
updated_at: 2023-08-22T17:45:07Z
url: https://github.com/astral-sh/ruff/issues/6720
synced_at: 2026-01-07T12:31:12-06:00
---

# Failed to create fix for StringDotFormatExtraNamedArguments: Failed to extract expression from source

---

_Issue opened by @qarmin on 2023-08-21 09:15_

Ruff 0.0.285

```
ruff  *.py --select ALL --no-cache
```

file content:
```
def list_test_params(param_input):
        option = (
            '{name}={value}'
            .format(nam=name, value=value)
        )
```

error:
```
error: Failed to create fix for StringDotFormatExtraNamedArguments: Failed to extract expression from source

```


[PY_FILE_TEST_14854806573.py.zip](https://github.com/astral-sh/ruff/files/12394392/PY_FILE_TEST_14854806573.py.zip)



---

_Label `bug` added by @charliermarsh on 2023-08-21 12:57_

---

_Label `fuzzer` added by @charliermarsh on 2023-08-21 12:57_

---

_Comment by @charliermarsh on 2023-08-21 12:57_

Probably requires "fake" parentheses around the expression to support multi-line parsing.

---

_Assigned to @charliermarsh by @charliermarsh on 2023-08-21 13:16_

---

_Referenced in [astral-sh/ruff#6742](../../astral-sh/ruff/pulls/6742.md) on 2023-08-21 22:28_

---

_Closed by @charliermarsh on 2023-08-22 17:45_

---
