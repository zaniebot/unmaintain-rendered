---
number: 6214
title: Unnecessary semicolon fix removes subsequent lines
type: issue
state: closed
author: addisoncrump
labels:
  - bug
assignees: []
created_at: 2023-07-31T22:44:55Z
updated_at: 2023-08-01T04:20:31Z
url: https://github.com/astral-sh/ruff/issues/6214
synced_at: 2026-01-07T12:31:12-06:00
---

# Unnecessary semicolon fix removes subsequent lines

---

_Issue opened by @addisoncrump on 2023-07-31 22:44_

Consider the following snippet:

```py
a = \
  5;
```

We would expect that the (admittedly contrived example) would be corrected to:

```py
a = \
  5
```

Instead, it is corrected to:

```py
a =
```

This completely removes the second half of the expression on the continuation.

```
thread '<unnamed>' panicked at 'Fixed source has a syntax error where the source document does not. This is a bug in one of the generated fixes:
<filename>:1:5: E999 SyntaxError: Unexpected token Newline
  |
1 | a = 
  |     ^ E999
  |


Last generated fixes:
<filename>:2:4: E703 [*] Statement ends with an unnecessary semicolon
  |
1 | a = \
2 |   5;
  |    ^ E703
  |
  = help: Remove unnecessary semicolon

â„¹ Fix
1   |-a = \
2   |-  5;
  1 |+a = 


Source with applied fixes:
a = 
', /home/addisoncrump/git/ruff/crates/ruff/src/test.rs:202:21
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
Aborted
```

---

_Referenced in [astral-sh/ruff#4972](../../astral-sh/ruff/issues/4972.md) on 2023-07-31 22:45_

---

_Comment by @addisoncrump on 2023-07-31 22:50_

Note that this happens in a variety of scenarios:

```py
(\
);
```

And so on.

---

_Assigned to @charliermarsh by @charliermarsh on 2023-08-01 03:36_

---

_Label `bug` added by @charliermarsh on 2023-08-01 03:36_

---

_Referenced in [astral-sh/ruff#6219](../../astral-sh/ruff/pulls/6219.md) on 2023-08-01 03:41_

---

_Closed by @charliermarsh on 2023-08-01 04:20_

---
