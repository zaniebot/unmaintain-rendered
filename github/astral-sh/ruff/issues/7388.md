---
number: 7388
title: "Some `E` rules are ignored unless explicitly included in `select`"
type: issue
state: closed
author: figchutney
labels:
  - question
assignees: []
created_at: 2023-09-14T11:23:31Z
updated_at: 2023-09-15T14:46:04Z
url: https://github.com/astral-sh/ruff/issues/7388
synced_at: 2026-01-07T12:31:12-06:00
---

# Some `E` rules are ignored unless explicitly included in `select`

---

_Issue opened by @figchutney on 2023-09-14 11:23_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

Hey üëã 

## Summary

I've just set up `ruff` (so speedy!) and noticed something peculiar I thought worth asking about.

**TL;DR** - `ruff` appears to ignore a subset of `E` rules (even though they appear to have been implemented according to https://github.com/astral-sh/ruff/issues/2402). Explicitly including one of the ignored rules in `select` in `pyproject.toml` means that `ruff` _does_ consider the rule.

I'll use [`E225`](https://beta.ruff.rs/docs/rules/missing-whitespace-around-operator/) (`missing-whitespace-around-operator`) as an example, but I suspect this applies to some of the other `E` rules.

## Example

### With `select = ["E"]`

`pyproject.toml`
```toml
[tool.ruff]
select = ["E"]
```

`foo.py`
```py
foo =5
```

`ruff check .`
```zsh
‚ûú ruff check .

```
(i.e. no errors reported)

### With `select = ["E225"]`

`pyproject.toml`
```toml
[tool.ruff]
select = ["E225"]
```

`foo.py`
```py
foo =5
```

`ruff check .`
```zsh
‚ûú ruff check .
src/foo.py:1:5: E225 Missing whitespace around operator
Found 1 error.
```

Is this expected behaviour? Is there a way I can make `ruff` consider all `E` rules instead of a subset of them?

Thanks! üôè 

---

_Comment by @zanieb on 2023-09-14 13:55_

Hi! These rules are in preview. See [our documentation](https://beta.ruff.rs/docs/preview/) for details.

Using the `--preview` flag will select those rules.

There's a bug in our documentation where the preview indicator is missing. It'll be restored in our next release (fixed in https://github.com/astral-sh/ruff/pull/7341)

---

_Label `question` added by @zanieb on 2023-09-14 13:56_

---

_Comment by @figchutney on 2023-09-15 11:33_

Hey - thanks for such a quick reply. Just to confirm, selecting `E` by itself means `ruff` does _not_ check preview rules within that ruleset, but selecting a preview rule explicitly (e.g. `E225`) means `ruff` _does_ check the rule. Is that right?

---

_Comment by @zanieb on 2023-09-15 13:58_

@figchutney not quite.

`E` does not include preview rules unless you include the `--preview` flag then `E225` would be included. You _can_ select `E225` directly without the preview flag because that's how it used to work ‚Äî however, we've deprecated that functionality and you'll get a warning.

---

_Comment by @figchutney on 2023-09-15 14:46_

Thanks for the explaination üëå 

---

_Closed by @figchutney on 2023-09-15 14:46_

---
