---
number: 9848
title: "New rule: disallow code in `__init__` modules"
type: issue
state: closed
author: samueljsb
labels:
  - rule
assignees: []
created_at: 2024-02-05T23:32:34Z
updated_at: 2025-12-30T16:32:12Z
url: https://github.com/astral-sh/ruff/issues/9848
synced_at: 2026-01-07T12:31:13-06:00
---

# New rule: disallow code in `__init__` modules

---

_Issue opened by @samueljsb on 2024-02-05 23:32_

Could we add the rules from [flake8-empty-init-modules/](https://pypi.org/project/flake8-empty-init-modules/) (`EIM001`/`EIM002`) to `ruff`?

These disallow code in `__init__` modules (EIM001) or disallow anything other than imports and assignment to `__all__` (EIM002).

Disclaimer: I am the author of the flake8 plugin. I'd be interested in trying to implement the checks for `ruff` if they would be welcome.


---

_Label `rule` added by @charliermarsh on 2024-02-11 00:08_

---

_Label `needs-decision` added by @charliermarsh on 2024-02-11 00:08_

---

_Referenced in [astral-sh/ruff#11631](../../astral-sh/ruff/issues/11631.md) on 2024-06-01 23:34_

---

_Comment by @andersfylling on 2025-02-12 11:30_

This would be really helpful to avoid surprising cyclic dependency errors.

---

_Comment by @andersfylling on 2025-05-09 10:31_

for people that want something temporary using pre-commit:

> empty-init-hook.py
```py
import sys
import os

non_empty_files = False

files = sys.argv[1:]
for file in files:
    if os.path.getsize(file) > 0:
        non_empty_files = True
        print(f"not empty: {file}")

if non_empty_files:
    exit(1)
```

> .pre-commit.yaml
```
default_language_version:
  python: python3.12
repos:
- repo: local
  hooks:
  - id: empty-init-files
    name: empty init files
    entry: uv run python ./empty-init-hook.py
    language: system
    files: __init__.py$
    pass_filenames: true
```

Running this would take <1s for repos with hundreds of python files, and an example output for failed cases looks like:
```
> uv run pre-commit run --all-files

empty init files.........................................................Failed
- hook id: empty-init-files
- duration: 0.59s
- exit code: 1

not empty: my_app/__init__.py
not empty: my_app/something/__init__.py

---

_Referenced in [astral-sh/ruff#22143](../../astral-sh/ruff/pulls/22143.md) on 2025-12-22 17:46_

---

_Label `needs-decision` removed by @MichaReiser on 2025-12-26 08:54_

---

_Closed by @ntBre on 2025-12-30 16:32_

---
