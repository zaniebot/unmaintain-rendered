---
number: 12962
title: "`__all__` related rules"
type: issue
state: open
author: Goldziher
labels:
  - rule
  - type-inference
assignees: []
created_at: 2024-08-18T10:12:28Z
updated_at: 2024-10-24T14:33:08Z
url: https://github.com/astral-sh/ruff/issues/12962
synced_at: 2026-01-07T12:31:13-06:00
---

# `__all__` related rules

---

_Issue opened by @Goldziher on 2024-08-18 10:12_

1. I would like to ask for a rule that requires an `__all__` list to be declared in each file where there are non-private members, and all the non-private members are listed in it. 
2. Another helpful rule is to detect declarations in `__all__` that are unused
~~3. Another rule would be to automatically order `__all__`~~
4. Another rule might be to enforce private module members when no exported, or require they are in `__all__` if used outside

---

_Comment by @AlexWaygood on 2024-08-18 10:48_

> 3\. Another rule would be to automatically order `__all__`

This already exists as `unsorted-dunder-all` in our `ruff` category!

---

_Comment by @Goldziher on 2024-08-18 14:15_

> > 3. Another rule would be to automatically order `__all__`
> 
> This already exists as `unsorted-dunder-all` in our `ruff` category!

oh I didn't notice. well that's nice. 

---

_Comment by @MichaReiser on 2024-08-19 13:39_

> 2. Another helpful rule is to detect declarations in __all__ that are unused

This would require multifile analysis, which Ruff doesn't support today. Even then, the rule would be inherently unsafe for libraries where a symbol in `__all__` might be imported by another application. But I do agree that knowing about "dead code" in general would be useful.

> I would like to ask for a rule that requires an __all__ list to be declared in each file where there are non-private members, and all the non-private members are listed in it.

Can you help me understand the motivation for explicitly requiring `__all__` when all members are public? Or is `__all__` only required if there's at least one private and one public member in the file? 



> Another rule might be to enforce private module members when no exported, or require they are in __all__ if used outside

This also requires multifile analysis

---

_Label `rule` added by @MichaReiser on 2024-08-19 13:39_

---

_Label `multifile-analysis` added by @MichaReiser on 2024-08-19 13:39_

---

_Comment by @Goldziher on 2024-08-19 13:56_

> Can you help me understand the motivation for explicitly requiring __all__ when all members are public? Or is __all__ only required if there's at least one private and one public member in the file?

Yes. It's a way to enforce modules with explicit public exports. 

---

_Label `type-inference` added by @MichaReiser on 2024-10-24 14:32_

---

_Label `multifile-analysis` removed by @MichaReiser on 2024-10-24 14:33_

---
