---
number: 11663
title: "[red-knot] name resolution for non-local variables"
type: issue
state: closed
author: carljm
labels:
  - ty
assignees: []
created_at: 2024-05-31T22:12:57Z
updated_at: 2024-09-03T21:18:07Z
url: https://github.com/astral-sh/ruff/issues/11663
synced_at: 2026-01-07T12:31:13-06:00
---

# [red-knot] name resolution for non-local variables

---

_Issue opened by @carljm on 2024-05-31 22:12_

Currently we only handle local and global names, not nonlocals.


---

_Label `red-knot` added by @carljm on 2024-05-31 22:12_

---

_Assigned to @plredmond by @carljm on 2024-05-31 22:12_

---

_Unassigned @plredmond by @carljm on 2024-06-05 01:04_

---

_Renamed from "[red-knot] proper name resolution" to "[red-knot] name resolution for free variables" by @carljm on 2024-08-05 17:35_

---

_Renamed from "[red-knot] name resolution for free variables" to "[red-knot] name resolution for non-local variables" by @carljm on 2024-08-05 17:36_

---

_Referenced in [astral-sh/ruff#11662](../../astral-sh/ruff/issues/11662.md) on 2024-08-05 17:37_

---

_Comment by @alex on 2024-08-27 15:20_

Does this include resolution for local variables used in comprehensions?

---

_Comment by @carljm on 2024-08-27 15:53_

> Does this include resolution for local variables used in comprehensions?

It should, yes. But this issue (and everything tagged `red-knot` on this repo) is for the under-development and very early-stages type checker, not relevant to the currently-shipping ruff linter. So if you're seeing a problem in ruff related to comprehension vars, that should be a separate issue.

---

_Comment by @alex on 2024-08-27 16:05_

Oh I understand the state of red knot. I've just been poking at it for fun
:-)

On Tue, Aug 27, 2024, 11:54 AM Carl Meyer ***@***.***> wrote:

> Does this include resolution for local variables used in comprehensions?
>
> It should, yes. But this issue (and everything tagged red-knot on this
> repo) is for the under-development and very early-stages type checker, not
> relevant to the currently-shipping ruff linter. So if you're seeing a
> problem in ruff related to comprehension vars, that should be a separate
> issue.
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/astral-sh/ruff/issues/11663#issuecomment-2312941661>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAAAGBHMUFXB7DI6CQJ7FOTZTSOJ7AVCNFSM6AAAAABITQZXB2VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDGMJSHE2DCNRWGE>
> .
> You are receiving this because you are subscribed to this thread.Message
> ID: ***@***.***>
>


---

_Comment by @carljm on 2024-08-27 16:07_

Oh, awesome!! Also, hello, it's been a while, good to see you around :)

---

_Comment by @alex on 2024-08-27 23:20_

You too!

---

_Referenced in [astral-sh/ruff#13177](../../astral-sh/ruff/pulls/13177.md) on 2024-08-31 00:31_

---

_Closed by @carljm on 2024-09-03 21:18_

---

_Closed by @carljm on 2024-09-03 21:18_

---
