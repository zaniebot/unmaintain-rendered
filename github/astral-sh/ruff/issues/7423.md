---
number: 7423
title: "Formatter incompatibility: extra parentheses around unary expression"
type: issue
state: closed
author: charliermarsh
labels:
  - formatter
  - accepted
assignees: []
created_at: 2023-09-15T21:15:07Z
updated_at: 2023-09-16T17:07:40Z
url: https://github.com/astral-sh/ruff/issues/7423
synced_at: 2026-01-07T12:31:12-06:00
---

# Formatter incompatibility: extra parentheses around unary expression

---

_Issue opened by @charliermarsh on 2023-09-15 21:15_

Given:

```python
if True:
    if True:
        if True:
            if not yn_question(
                Fore.RED
                + "WARNING: Removing listed files. Do you really want to continue. yes/n)? "
            ):
                sys.exit(1)
```

Ruff formats as:
```python
if True:
    if True:
        if True:
            if (
                not yn_question(
                    Fore.RED
                    + "WARNING: Removing listed files. Do you really want to continue. yes/n)? "
                )
            ):
                sys.exit(1)
```

Black formats as:

```python
if True:
    if True:
        if True:
            if not yn_question(
                Fore.RED
                + "WARNING: Removing listed files. Do you really want to continue. yes/n)? "
            ):
                sys.exit(1)
```

Similar to https://github.com/astral-sh/ruff/issues/7420.

Sourced from https://github.com/astral-sh/ruff/issues/7394.

---

_Label `formatter` added by @charliermarsh on 2023-09-15 21:15_

---

_Added to milestone `Formatter: Beta` by @charliermarsh on 2023-09-15 21:15_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-09-15 21:18_

---

_Label `accepted` added by @charliermarsh on 2023-09-15 21:18_

---

_Referenced in [astral-sh/ruff#7428](../../astral-sh/ruff/pulls/7428.md) on 2023-09-16 02:16_

---

_Closed by @charliermarsh on 2023-09-16 17:07_

---
