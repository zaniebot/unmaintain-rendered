---
number: 18219
title: Not respecting gitignore for file in subdirectory
type: issue
state: closed
author: PhilReinhold
labels: []
assignees: []
created_at: 2025-05-20T14:47:47Z
updated_at: 2025-05-20T21:00:01Z
url: https://github.com/astral-sh/ruff/issues/18219
synced_at: 2026-01-07T12:31:13-06:00
---

# Not respecting gitignore for file in subdirectory

---

_Issue opened by @PhilReinhold on 2025-05-20 14:47_

### Summary

I have simplified the issue to the following setup

```
>>> tree
.
└── src
    └── subdir
        └── bad.py

3 directories, 2 files
>>> cat .gitignore
src/subdir/bad.py
>>> uvx ruff --version
ruff 0.11.10
>>> uvx ruff check src -v
[2025-05-20][07:40:53][ruff::resolve][DEBUG] Using Ruff default settings
[2025-05-20][07:40:53][ignore::gitignore][DEBUG] opened gitignore file: /Users/pcrein/scratch/ruff-test/.gitignore
[2025-05-20][07:40:53][ruff_workspace::resolver][DEBUG] Included path via `include`: "/Users/pcrein/scratch/ruff-test/src/subdir/bad.py"
[2025-05-20][07:40:53][ruff::commands::check][DEBUG] Identified files to lint in: 3.836583ms
[2025-05-20][07:40:53][ruff::diagnostics][DEBUG] Checking: /Users/pcrein/scratch/ruff-test/src/subdir/bad.py
[2025-05-20][07:40:53][ruff::commands::check][DEBUG] Checked 1 files in: 5.448125ms
src/subdir/bad.py:1:1: F821 Undefined name `blah`
  |
1 | blah
  | ^^^^ F821
  |

Found 1 error.
```

It seems to be incorrectly checking the file, even though it is gitignored. I have checked that moving the file up from `src/subdir` to `src` and changing the .gitignore results in it being correctly ignored.

### Version

0.11.10

---

_Comment by @ntBre on 2025-05-20 21:00_

Thanks, but I think this is a duplicate.

---

_Closed by @ntBre on 2025-05-20 21:00_

---
