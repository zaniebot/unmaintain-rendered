---
number: 3950
title: "False positive: `PYI015` does not allow assigning `typing_extensions.TypeVar`"
type: issue
state: closed
author: bryanforbes
labels:
  - bug
assignees: []
created_at: 2023-04-12T17:36:37Z
updated_at: 2023-04-12T21:30:17Z
url: https://github.com/astral-sh/ruff/issues/3950
synced_at: 2026-01-07T12:31:12-06:00
---

# False positive: `PYI015` does not allow assigning `typing_extensions.TypeVar`

---

_Issue opened by @bryanforbes on 2023-04-12 17:36_

Ruff version: 0.0.261

Given the following file `test.pyi`:

```python
from typing_extensions import TypeVar

_T = TypeVar('_T', infer_variance=True)
```

And the following invocation:

```sh
ruff --select PYI015 --isolated --no-cache test.pyi
```

Ruff produces the following error:

```
test.pyi:3:6: PYI015 [*] Only simple default values allowed for assignments
```

[PEP-695](https://peps.python.org/pep-0695/) and [PEP-696](https://peps.python.org/pep-0696/) are under consideration and add new parameters to `TypeVar()`. `typing_extensions` has added a `TypeVar` class in order to test out these new features before they are accepted. `flake8-pyi` does not raise `Y015` for the above.

---

_Label `bug` added by @charliermarsh on 2023-04-12 20:03_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-04-12 20:05_

---

_Comment by @charliermarsh on 2023-04-12 20:05_

It looks like we allow `from typing import TypeVar` here but not `from typing_extensions import TypeVar`. I think it's just an oversight. Will double check.

---

_Comment by @bryanforbes on 2023-04-12 20:19_

It looks like `flake8-pyi` checks for both `typing` and `typing_extensions` here: https://github.com/PyCQA/flake8-pyi/blob/64863f80c7f91fae23418db048bb41185c2fb5ed/pyi.py#L354

---

_Referenced in [astral-sh/ruff#3951](../../astral-sh/ruff/pulls/3951.md) on 2023-04-12 20:39_

---

_Closed by @charliermarsh on 2023-04-12 21:30_

---
