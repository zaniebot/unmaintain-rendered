---
number: 6951
title: "Failed to create fix for UnnecessaryMap: Should have two arguments"
type: issue
state: closed
author: qarmin
labels:
  - bug
  - fuzzer
assignees: []
created_at: 2023-08-28T19:53:36Z
updated_at: 2023-08-28T20:49:42Z
url: https://github.com/astral-sh/ruff/issues/6951
synced_at: 2026-01-07T12:31:12-06:00
---

# Failed to create fix for UnnecessaryMap: Should have two arguments

---

_Issue opened by @qarmin on 2023-08-28 19:53_

Ruff 0.0.286 (latest changes from main branch)

```
ruff  *.py --select ALL --no-cache
```

file content:
```
def ists2dict(keys, values):
   return dict(map(lambda k, v: (k, v), keys, values))
```

error:
```
error: Failed to create fix for UnnecessaryMap: Should have two arguments
```


[_helpers-42522735449234892253272 (10th copy)044.py.zip](https://github.com/astral-sh/ruff/files/12457792/_helpers-42522735449234892253272.10th.copy.044.py.zip)


---

_Label `bug` added by @zanieb on 2023-08-28 20:05_

---

_Label `fuzzer` added by @zanieb on 2023-08-28 20:05_

---

_Comment by @zanieb on 2023-08-28 20:10_

Bails at https://github.com/astral-sh/ruff/blob/fc89976c24d1c8b9d13d88ef70b619e8a2ac393a/crates/ruff/src/rules/flake8_comprehensions/fixes.rs#L1014

The following is valid code at runtime:
```python
map(lambda x, y: x + y, [1], [2])
```

It seems like the fix would need to be updated to zip the arguments when there are multiple.

---

_Assigned to @charliermarsh by @charliermarsh on 2023-08-28 20:11_

---

_Referenced in [astral-sh/ruff#6954](../../astral-sh/ruff/pulls/6954.md) on 2023-08-28 20:14_

---

_Closed by @charliermarsh on 2023-08-28 20:49_

---
