---
number: 3868
title: Function level linting
type: issue
state: open
author: eronning
labels:
  - wish
assignees: []
created_at: 2023-04-03T18:55:58Z
updated_at: 2025-06-16T18:59:38Z
url: https://github.com/astral-sh/ruff/issues/3868
synced_at: 2026-01-07T12:31:12-06:00
---

# Function level linting

---

_Issue opened by @eronning on 2023-04-03 18:55_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:


-->

**Feature Request:** 

Would like the ability to be able to lint against certain call patterns in our codebase. 

Context: We added a layer on top of our ORM and would like funnel code paths accessing the DB to that layer. There isn't an easy way to block native ORM calls without blocking DB operations altogether. Linting would be the best path.

**Sample Code:**

```
class Model:
  def foo()
    ...

class FooModel(Model):
  def foo_fn()
    ... # do things
    foo() # noqa (want to ignore this)

def to_implement()
   FooModel.foo() # raise lint
   FooModel.foo_fn() # preferred pattern
 
```

Due to this pattern of referencing functions we can't make use of the `banned-api` rule that exists today. We need a more granular form of linting.


---

_Comment by @charliermarsh on 2023-04-03 19:45_

Is it correct to say that you want to ban any call of the form `*.foo()` and `foo()`? 

---

_Label `question` added by @charliermarsh on 2023-04-03 19:45_

---

_Comment by @eronning on 2023-04-03 22:59_

> Is it correct to say that you want to ban any call of the form `*.foo()` and `foo()`?

Yes @charliermarsh, that is correct.

---

_Label `question` removed by @charliermarsh on 2023-07-10 01:20_

---

_Label `wish` added by @charliermarsh on 2023-07-10 01:20_

---

_Comment by @adam-grant-hendry on 2023-08-30 18:44_

@charliermarsh Could we add to this the ability to ignore a rule for an entire scope, like so:

```python
DEBUG = True

def debug() -> None:
    # noqa: T201  # This is for debugging only
    if DEBUG:
        print(f'Debug message...')
```

This is similar in some respect to [issue #3711](https://github.com/astral-sh/ruff/issues/3711), but I would prefer not to have to explicitly turn linting `on` at the beginning of the function and `off` at the end unless I only need to turn off a particular segment of the code block (not the whole thing).

The method I propose would match `pylint`'s [block disables](https://pylint.pycqa.org/en/latest/user_guide/messages/message_control.html#block-disables) capability.

---

_Comment by @zanieb on 2023-08-31 03:40_

@adam-grant-hendry I don't think that belongs in this issue — do you want to open a new issue?

---

_Comment by @charliermarsh on 2023-08-31 05:55_

Although the specific proposal there is slightly different, I think I would just direct folks to add comments to https://github.com/astral-sh/ruff/issues/3711 rather than file a new issue. (We want to redo suppression comments eventually but probably won’t make minor changes to them until we do a full redesign.)

---

_Comment by @adam-grant-hendry on 2023-08-31 14:16_

@charliermarsh @zanieb Per our discussion, I’ll ask the author to create a checklist at the beginning of the issue so the items to be addressed are clear and can be marked as completed by different PRs:

- [ ] Add section-level suppression/ignoring of rules (`ruff: noqa: on` and `ruff: noqa: off`)
- [ ] Add scope-level suppression/ignoring of rules (matches [`pylint` block disabled](https://pylint.pycqa.org/en/latest/user_guide/messages/message_control.html#block-disables))

---

_Referenced in [astral-sh/ruff#3711](../../astral-sh/ruff/issues/3711.md) on 2023-08-31 14:28_

---

_Comment by @inoa-jboliveira on 2025-06-16 18:58_

I think I have a similar need for this. I want basically [TID251 banned-api](https://docs.astral.sh/ruff/rules/banned-api/) but for any function


The name banned-api is actually quite fitting. 

My problem is I have
```
import foo

foo.bar.deprecated()  # I want the linter to error on this function call
foo.bar.some_other_function()
foo.baz.another()
```

the `deprecated( )` name is dynamically loaded and there are no imports. If I could ask the linter to ban the API this would solve a big issue I have, because there could this thing could be dormant in many of several hundred PRs of a project and I want them to be caught by the linter before merging to master.




---
