---
number: 14153
title: "Docs: code blocks invalid python syntax"
type: issue
state: open
author: sbrugman
labels:
  - documentation
assignees: []
created_at: 2024-11-07T12:51:44Z
updated_at: 2024-11-08T08:23:48Z
url: https://github.com/astral-sh/ruff/issues/14153
synced_at: 2026-01-07T12:31:13-06:00
---

# Docs: code blocks invalid python syntax

---

_Issue opened by @sbrugman on 2024-11-07 12:51_

Several rules that operate on physical lines have Python example code blocks. However, often these blocks are invalid Python syntax.
Should these be changed to text?

 e.g.
```
```text
```

Example: https://docs.astral.sh/ruff/rules/tab-after-keyword/

---

_Comment by @MichaReiser on 2024-11-07 13:00_

What's the advantage in your view to use `text`? I do like that `python` still gives us keyword highlighting. 

---

_Comment by @sbrugman on 2024-11-07 13:14_

I encountered this when extracting imports from the examples (for categorisation). I can imagine wanting to doctest the examples being valid (where applicable).

I do also like the keyword highlighting. 

Either way would be fine with me. Just opening the issue for discussion purposes.

---

_Comment by @MichaReiser on 2024-11-07 13:53_

Yeah, that's a good point. Not sure how to get the best of both worlds

---

_Label `documentation` added by @AlexWaygood on 2024-11-07 14:44_

---

_Comment by @dylwil3 on 2024-11-07 18:01_

We could do something similar to the Attributes section here:

https://doc.rust-lang.org/rustdoc/write-documentation/documentation-tests.html

And then whatever script you're using to pull these examples could look for a flag like `should_fail` or `no_compile` etc.

---

_Comment by @MichaReiser on 2024-11-08 08:23_

I like that idea. But I suspect we would lose the python syntax highlighting on the website unless we transform `should_fail` and `no_compile` (or whatever the name we decide on) back to `python` when generating the docs output.

---
