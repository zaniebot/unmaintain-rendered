---
number: 4738
title: "RET505: strange behavior on an innocuous code"
type: issue
state: closed
author: saippuakauppias
labels: []
assignees: []
created_at: 2023-05-30T22:20:07Z
updated_at: 2023-05-30T22:22:51Z
url: https://github.com/astral-sh/ruff/issues/4738
synced_at: 2026-01-07T12:31:12-06:00
---

# RET505: strange behavior on an innocuous code

---

_Issue opened by @saippuakauppias on 2023-05-30 22:20_

Rule: https://beta.ruff.rs/docs/rules/superfluous-else-return/

Test code:
```python
from typing import Optional


def test_rule(first: Optional[int], second: Optional[int]) -> str:
    if first:
        return '1'
    elif second:
        return '2'
    return 'not found'
```

Linter result:
```
$ ruff test-ret.py --select RET
test-ret.py:7:5 RET505 Unnecessary `elif` after `return` statement
Found 1 error.
```


---

_Comment by @charliermarsh on 2023-05-30 22:22_

I _think_ this is correct. `elif second` can be changed to `if second`, since if the first branch triggers, the function will return anyway.

---

_Closed by @charliermarsh on 2023-05-30 22:22_

---
