---
number: 2035
title: "`SIM103` autofix inverts condition"
type: issue
state: closed
author: charliermarsh
labels:
  - bug
  - fixes
assignees: []
created_at: 2023-01-20T16:57:20Z
updated_at: 2023-01-20T18:17:21Z
url: https://github.com/astral-sh/ruff/issues/2035
synced_at: 2026-01-07T12:31:12-06:00
---

# `SIM103` autofix inverts condition

---

_Issue opened by @charliermarsh on 2023-01-20 16:57_

FYI `SIM103` autofix refactored my code to be incorrect:

```
(apps-z6RSF3Uo-py3.10) jack@macbook api % cat /tmp/a.py 
def verify_user(kind):
    if kind != "USER":
        return False
    else:
        return True
(apps-z6RSF3Uo-py3.10) jack@macbook api % ruff /tmp/a.py
/tmp/a.py:2:5: SIM103 Return the condition `kind != "USER"` directly
Found 1 error(s).
1 potentially fixable with the --fix option.
(apps-z6RSF3Uo-py3.10) jack@macbook api % ruff /tmp/a.py --fix
Found 1 error(s) (1 fixed, 0 remaining).
(apps-z6RSF3Uo-py3.10) jack@macbook api % cat /tmp/a.py      
def verify_user(kind):
    return kind != "USER"
(apps-z6RSF3Uo-py3.10) jack@macbook api % 

```

In the first case, the function returns `False` if the kind is not `"USER"`, and True otherwise. In the fixed function, it returns the opposite. In the REPL:

```
>>> def verify_user(kind):
...     if kind != "USER":
...         return False
...     else:
...         return True
>>> verify_user("USER")
True
>>> def verify_user(kind):
...     return kind != "USER"
>>> verify_user("USER")
False
```

_Originally posted by @jackklika in https://github.com/charliermarsh/ruff/issues/998#issuecomment-1398638916_
            

---

_Assigned to @charliermarsh by @charliermarsh on 2023-01-20 16:57_

---

_Label `bug` added by @charliermarsh on 2023-01-20 16:57_

---

_Label `autofix` added by @charliermarsh on 2023-01-20 16:57_

---

_Referenced in [astral-sh/ruff#2037](../../astral-sh/ruff/pulls/2037.md) on 2023-01-20 18:16_

---

_Closed by @charliermarsh on 2023-01-20 18:17_

---
