---
number: 14088
title: "UP044 fix fails on 0.7.2: \"Fix introduced a syntax error.\""
type: issue
state: closed
author: chbndrhnns
labels: []
assignees: []
created_at: 2024-11-04T09:59:32Z
updated_at: 2024-11-04T11:22:44Z
url: https://github.com/astral-sh/ruff/issues/14088
synced_at: 2026-01-07T12:31:13-06:00
---

# UP044 fix fails on 0.7.2: "Fix introduced a syntax error."

---

_Issue opened by @chbndrhnns on 2024-11-04 09:59_

`ruff` suggested to create an issue for this scenario where `UP044` seems not to work.

Command: `ruff check --fix --unsafe-fixes tests/test_.p`
Ruff version: 0.7.2

Code:

```py
"""Settings for Openstack service."""
import collections
import typing as t

import openstack


class ConnectOptions(t.TypedDict, total=False):
    baremetal_api_version: str
    block_storage_api_version: str
    compute_api_version: str
    database_api_version: str
    image_api_version: str
    network_api_version: str
    object_store_api_version: str
    volume_api_version: str


class Clouds(collections.abc.Collection):

    def require_connection(
        self,
        cloud_id,
        *,
        connection_cls: type[
            openstack.connection.Connection
        ] = openstack.connection.Connection,
        **kwargs: t.Unpack[ConnectOptions],
    ) -> openstack.connection.Connection:
        """Return a connection instance."""
```

Config:

```toml
[tool.ruff.lint]
preview = true

select = [
    "UP",
]

```

---

_Comment by @MichaReiser on 2024-11-04 11:22_

Thanks for reporting. This should be fixed with 0.7.3, see https://github.com/astral-sh/ruff/issues/14047

---

_Closed by @MichaReiser on 2024-11-04 11:22_

---
