---
number: 7147
title: autofix for UP035
type: issue
state: closed
author: Olegt0rr
labels:
  - question
assignees: []
created_at: 2023-09-05T11:15:25Z
updated_at: 2023-09-06T12:55:09Z
url: https://github.com/astral-sh/ruff/issues/7147
synced_at: 2026-01-07T12:31:12-06:00
---

# autofix for UP035

---

_Issue opened by @Olegt0rr on 2023-09-05 11:15_

Source:

```python
from typing import Dict, List


def get_values(some_dict: Dict) -> List:
    return list(some_dict.values())
```

Command:
```
ruff check --select UP draft.py --fix
```

Fact result:
```python
from typing import Dict, List


def get_values(some_dict: dict) -> list:
    return list(some_dict.values())
```
\+ 
```
draft.py:1:1: UP035 `typing.Dict` is deprecated, use `dict` instead
draft.py:1:1: UP035 `typing.List` is deprecated, use `list` instead
```

Expected result:
```python
def get_values(some_dict: dict) -> list:
    return list(some_dict.values())

```

it seems we should just remove import string if there's no usage

---

_Comment by @charliermarsh on 2023-09-05 11:25_

This is generally by design: we tend to treat edits as only concerning their own violation. In this case, we'd expect the `typing` imports to be removed by the `unused-import` rule, so if you run the above snippet with `--select UP035 --select F401`, we _will_ generate the expected result seamlessly.

---

_Label `question` added by @zanieb on 2023-09-05 16:37_

---

_Comment by @Olegt0rr on 2023-09-06 07:23_

Why it's bad to remove `Dict` import for just replaced `Dict` with `dict`?
It seems single UP035 should be able to solve problem without any additional rules.

imho

---

_Comment by @charliermarsh on 2023-09-06 12:55_

I agree that it would probably be nice to remove them (though _arguably_ unexpected), but it's more a design choice on our side: by keeping each rule's autofix focused on just the diagnostic it enforces, and running diagnostics repeatedly (i.e., if you run with `--select UP --select F`, we'll first remove the `Dict` usages, and then in a second iteration, remove the `Dict` imports), it really simplifies the number of concerns that each rule needs to have. I think this is unlikely to change in the near future, though perhaps we'll end up special-casing unused imports at some point.

---

_Closed by @charliermarsh on 2023-09-06 12:55_

---
