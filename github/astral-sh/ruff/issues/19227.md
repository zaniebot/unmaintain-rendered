---
number: 19227
title: "Allow `fmt: skip` for dict and list contents"
type: issue
state: closed
author: spaceone
labels:
  - question
assignees: []
created_at: 2025-07-09T09:20:00Z
updated_at: 2025-07-09T11:20:03Z
url: https://github.com/astral-sh/ruff/issues/19227
synced_at: 2026-01-07T12:31:13-06:00
---

# Allow `fmt: skip` for dict and list contents

---

_Issue opened by @spaceone on 2025-07-09 09:20_

```python
from foo import Tab, Group, _
layout = [  # fmt: skip
    Tab(_('General'), _('Basic settings'), layout=[
        Group(_('User account'), layout=[
            ['title', 'firstname', 'lastname'],
            ['username', 'description'],
            'password',
            ['overridePWHistory', 'overridePWLength'],
            'mailPrimaryAddress',
        ]),
        Group(_('Personal information'), layout=[
            'displayName',
            'birthday',
            'jpegPhoto',
        ]),
        Group(_('Organisation'), layout=[
            'organisation',
            ['employeeNumber', 'employeeType'],
            'secretary',
        ]),
    ]),
    Tab(_('Groups'), _('Groups'), layout=[
        Group(_('Primary group'), layout=[
            'primaryGroup',
        ]),
        Group(_('Additional groups'), layout=[
            'groups',
        ]),
    ]),
]

```

is reformatted as:
```python
from foo import Tab, Group, _
layout = [  # fmt: skip
    Tab(
        _('General'),
        _('Basic settings'),
        layout=[
            Group(
                _('User account'),
                layout=[
                    ['title', 'firstname', 'lastname'],
                    ['username', 'description'],
                    'password',
                    ['overridePWHistory', 'overridePWLength'],
                    'mailPrimaryAddress',
                ],
            ),
            Group(
                _('Personal information'),
                layout=[
                    'displayName',
                    'birthday',
                    'jpegPhoto',
                ],
            ),
            Group(
                _('Organisation'),
                layout=[
                    'organisation',
                    ['employeeNumber', 'employeeType'],
                    'secretary',
                ],
            ),
        ],
    ),
    Tab(
        _('Groups'),
        _('Groups'),
        layout=[
            Group(
                _('Primary group'),
                layout=[
                    'primaryGroup',
                ],
            ),
            Group(
                _('Additional groups'),
                layout=[
                    'groups',
                ],
            ),
        ],
    ),
]

```
I have many of those and different dictionary defintions, where I would like to have a single comment instead of using `#fmt: off` / `#fmt: on` blocks.

---

_Comment by @akx on 2025-07-09 10:13_

The `# fmt: skip` comment needs to be at the end of the expression you don't want to format, in this case after the final closing `]`. [See playground.](https://play.ruff.rs/0db4019e-040d-435f-912f-1cb4f41a8483)

---

_Label `question` added by @MichaReiser on 2025-07-09 10:39_

---

_Comment by @spaceone on 2025-07-09 11:00_

ah thank you! Closing this issue is okay for me.

---

_Closed by @MichaReiser on 2025-07-09 11:20_

---
