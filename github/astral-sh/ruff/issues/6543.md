---
number: 6543
title: "rule to detect unnecessary `is True`/`is False`"
type: issue
state: open
author: DetachHead
labels: []
assignees: []
created_at: 2023-08-14T02:18:28Z
updated_at: 2023-08-15T02:24:09Z
url: https://github.com/astral-sh/ruff/issues/6543
synced_at: 2026-01-07T12:31:12-06:00
---

# rule to detect unnecessary `is True`/`is False`

---

_Issue opened by @DetachHead on 2023-08-14 02:18_

```py
def foo(value: bool):
    if value is True: # should be `if value`
        ...
    if value is False: # should be: `if not value`
        ...
```

---

_Comment by @heidi666 on 2023-08-14 06:23_

These aren't equivalent though, unless you're taking the type hint into account when you're evaluating the rule.

---

_Comment by @DetachHead on 2023-08-14 09:46_

yeah it should take the type into account

---

_Comment by @NeilGirdhar on 2023-08-14 23:08_

> These aren't equivalent though, unless you're taking the type hint into account when you're evaluating the rule.

You're right that they're not equivalent.

I'm not sure if you're arguing against there being a rule, but I think that there should be a rule irrespective of type inference.  If you want to check the type and its value, then I prefer:
```python
if isinstance(value, bool) and value: ...
```
or
```python
match value:
    case True: ...
```
These constructs (`isinstance` and `match`) make it clear that switching on type is happening.

So I think even without the annotation, this should be a rule.

As far as I know, Ruff doesn't have the type inference capabilities of type checkers, so it may not be feasible to expect it to deduce the type.

---

_Comment by @DetachHead on 2023-08-14 23:48_

i think #3893 should be prioritized, since it would make implementing rules like this easier

---

_Comment by @NeilGirdhar on 2023-08-15 02:11_

> I disagree. Checking with `is` is the commonly used and recommended way (see [PEP8](https://peps.python.org/pep-0008/#programming-recommendations)) to check for singletons like None, True, False etc. As

Yes, it's recommended for `None`.  Is there anyone recommends it for `True` and `False`?  The [Google Python style guide](https://google.github.io/styleguide/pyguide.html) forbids using `==`, and explicitly recommends `if x`.  I see your point that they're singletons, but they're also values of the type `bool`

I realize that this may be opinionated, so do you have any examples in code where `if x is True` is beneficial?  We may be able to get a clearer picture by examining a code search.

To me, it seems problematic in both ways that it comes up:
* it seems unnecessarily wordy in the case of a known `bool` (a common beginner error), and
* it makes code hard to type check and hard to read when it's used as an implicit type switch.

Here's an example of an implicit type switch:
```python
if x is True:
  ...
elif x is False:
  ...
else:
  ... # The type checker won't deduce that x is not Boolean here.
```
versus the explicit type switch:
```python
if isinstance(x, bool):
  if x:
    ...
  else:
    ...
else:
  ... # the type checker knows that x is not Boolean here.
```
I think the latter code is much clearer and easier to type check.  (Or maybe the type checkers should change, but we should probably see how often this pattern is used.)

---
