---
number: 7289
title: "`C413` breaks reversed(sorted(generator expression))"
type: issue
state: closed
author: vpoverennov
labels:
  - bug
  - fixes
assignees: []
created_at: 2023-09-12T09:11:20Z
updated_at: 2023-09-13T19:40:46Z
url: https://github.com/astral-sh/ruff/issues/7289
synced_at: 2026-01-07T12:31:12-06:00
---

# `C413` breaks reversed(sorted(generator expression))

---

_Issue opened by @vpoverennov on 2023-09-12 09:11_

C413 breaks reversed(sorted(generator expression))

* The command you invoked - `ruff main.py --isolated --select C413 --fix`
* The current Ruff settings - none
* The current Ruff version - `ruff 0.0.288`

* A minimal code snippet that reproduces the bug.
```
# main.py

x = reversed(sorted(i for i in range(42)))
```


Actual result:

```
x = sorted(i for i in range(42), reverse=True)
```

Expected (notice the extra parentheses around the generator expression)
```
x = sorted((i for i in range(42)), reverse=True)
```


---

_Renamed from "C413 breaks reversed(sorted(generator expression))" to "`C413` breaks reversed(sorted(generator expression))" by @vpoverennov on 2023-09-12 09:15_

---

_Comment by @dhruvmanila on 2023-09-12 10:58_

It seems that if there are any additional arguments, the generator expression needs to be parenthesized. So, this works:

```python
x = sorted(i for i in range(42))
```

---

_Label `bug` added by @dhruvmanila on 2023-09-12 10:58_

---

_Label `autofix` added by @zanieb on 2023-09-12 14:47_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-09-13 19:23_

---

_Referenced in [astral-sh/ruff#7365](../../astral-sh/ruff/pulls/7365.md) on 2023-09-13 19:26_

---

_Closed by @charliermarsh on 2023-09-13 19:40_

---
