---
number: 3934
title: ISC003 false positive
type: issue
state: closed
author: trim21
labels:
  - bug
assignees: []
created_at: 2023-04-11T14:55:27Z
updated_at: 2023-04-13T18:46:41Z
url: https://github.com/astral-sh/ruff/issues/3934
synced_at: 2026-01-07T12:31:12-06:00
---

# ISC003 false positive

---

_Issue opened by @trim21 on 2023-04-11 14:55_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

ruff 0.0.261

`pyproject.toml`
```toml

[tool.ruff]
select = [
 "ISC"
]
```

```python
RED = ""
COLOR_END = ""

DATA_LOSS_MESSAGE = RED + "All Data will lost, please backup first" + COLOR_END


def update_database() -> None:
    print(
        (
            "s1 "
            + "s2\n"
            + DATA_LOSS_MESSAGE
        )
    )

```

app.py:9:9: ISC003 Explicitly concatenated string should be implicitly concatenated

you can't implicitly concat string literial and variable

---

_Label `bug` added by @charliermarsh on 2023-04-11 15:01_

---

_Comment by @charliermarsh on 2023-04-11 15:01_

Oh, good call!

---

_Comment by @dhruvmanila on 2023-04-11 15:06_

I think it's fine as it's complaining only when both the left and right are string literals:

```python
def update_database() -> None:
    print(
        (
            "s1 "  # <-- it's compaining here
            + "s2\n"
          # ^ when you remove this `+`, it stops complaining as expected
            + DATA_LOSS_MESSAGE
        )
    )
```

Is the expectation that if there's at least one variable then the warning shouldn't be raised?

---

_Comment by @trim21 on 2023-04-11 15:09_

> I think it's fine as it's complaining only when both the left and right are string literals:
> 
> ```python
> def update_database() -> None:
>     print(
>         (
>             "s1 "  # <-- it's compaining here
>             + "s2\n"
>           # ^ when you remove this `+`, it stops complaining as expected
>             + DATA_LOSS_MESSAGE
>         )
>     )
> ```
> 
> Is the expectation that if there's at least one variable then the warning shouldn't be raised?

sounds reasonable, this make sense to me.


---

_Comment by @charliermarsh on 2023-04-11 15:27_

Ah yeah, I guess it's arguably not a _bug_, but more a matter of what's most sensible.

---

_Comment by @trim21 on 2023-04-11 23:29_

in that case should i close it? Or you want to re-consider this rule and leave it open?

---

_Comment by @charliermarsh on 2023-04-13 18:46_

On further reflection, let's close for now. I think it would arguably be surprising _not_ to flag this.

---

_Closed by @charliermarsh on 2023-04-13 18:46_

---
