---
number: 12161
title: Update preview logic for Ruff server
type: issue
state: closed
author: dhruvmanila
labels:
  - server
assignees: []
created_at: 2024-07-03T04:42:41Z
updated_at: 2024-07-18T05:35:03Z
url: https://github.com/astral-sh/ruff/issues/12161
synced_at: 2026-01-07T12:31:13-06:00
---

# Update preview logic for Ruff server

---

_Issue opened by @dhruvmanila on 2024-07-03 04:42_

 I'm okay merging this but there are at least two follow-ups that are necessary

* Don't set the `--preview` flag in `ruff-vscode` if the `server` version is `>= 0.5`. We should do this pre-release to avoid that users will unintentionally opt in the future.
* I would expect that `ruff server --preview` works the same as `ruff check --preview` and `ruff format --preview` and enables all `--preview` features (linter and formatter). 

I would expect that running `ruff server --preview` would enable all preview features similar to setting `preview = true` in the settings.

_Originally posted by @MichaReiser in https://github.com/astral-sh/ruff/pull/12053#pullrequestreview-2144332754_
            

---

_Label `server` added by @dhruvmanila on 2024-07-03 04:42_

---

_Added to milestone `Ruff Server: Stable` by @dhruvmanila on 2024-07-03 04:43_

---

_Referenced in [astral-sh/ruff#12208](../../astral-sh/ruff/pulls/12208.md) on 2024-07-05 14:00_

---

_Assigned to @dhruvmanila by @dhruvmanila on 2024-07-09 07:42_

---

_Closed by @dhruvmanila on 2024-07-18 05:35_

---

_Closed by @dhruvmanila on 2024-07-18 05:35_

---
