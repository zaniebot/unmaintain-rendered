---
number: 13516
title: "ANN401: Add option to only enforce on the standard spelling"
type: issue
state: open
author: ofek
labels:
  - question
assignees: []
created_at: 2024-09-25T21:05:53Z
updated_at: 2025-09-19T02:36:31Z
url: https://github.com/astral-sh/ruff/issues/13516
synced_at: 2026-01-07T12:31:13-06:00
---

# ANN401: Add option to only enforce on the standard spelling

---

_Issue opened by @ofek on 2024-09-25 21:05_

Although it's possible to annotate using the [inner type](https://peps.python.org/pep-0484/#arbitrary-argument-lists-and-default-argument-values), and more recently the ability to [`Unpack`](https://peps.python.org/pep-0692/) a `TypedDict`, there are many common situations where one would desire `Any`:

- When the arguments are coming from deserialized data across the wire or user input.
- When overriding a method like `__init__` with new arguments. This saves significant boilerplate and potentially bugs that would be caused by redefining the base class method's signature.
- When adding annotations to large existing code bases.

It's a convention to signal that the arguments should be typed when they are not named exactly `*args`/`**kwargs`. Here's an example from the standard library:

https://github.com/python/cpython/blob/ea5c6507044db0a92f12b5022f91885034fb9a09/Lib/pathlib.py#L711-L717

```python
    def joinpath(self, *pathsegments):
        """Combine this path with one or several arguments, and return a
        new path representing either a subpath (if all arguments are relative
        paths) or a totally different path (if one of the arguments is
        anchored).
        """
        return self.with_segments(self, *pathsegments)
```

---

_Comment by @charliermarsh on 2024-09-25 22:55_

I think this is somewhat covered by https://docs.astral.sh/ruff/rules/any-type/ -- can you take a look at that rule?

---

_Label `question` added by @charliermarsh on 2024-09-25 22:55_

---

_Comment by @ofek on 2024-09-25 22:59_

Ah I didn't see that one, thanks! As I mentioned though if it existed (which it does) I wouldn't use it without the option I'm asking for. Are you saying that it automatically allows `Any` if the arguments are spelled `*args`/`**kwargs`?

---

_Renamed from "Add configurable lint for the `Any` type on arbitrary arguments and keyword arguments" to "ANN401: Add option to only enforce on the standard spelling" by @ofek on 2024-09-25 23:01_

---

_Comment by @charliermarsh on 2024-09-25 23:15_

I think there's an option for that: https://docs.astral.sh/ruff/settings/#lintflake8-annotations

---

_Comment by @ofek on 2024-09-25 23:29_

Not quite as that disables ubiquitously for star arguments. Using the example from the standard library, I want this to fail:

```python
def joinpath(self, *pathsegments: Any): ...
```

but this to pass for allowing the situations I enumerated in the OP:

```python
def joinpath(self, *args: Any): ...
```

---

_Comment by @zanieb on 2024-09-25 23:37_

Can you show this convention used in typed code? My understanding is that the standard library doesn't use type annotations so it doesn't seem like a good example.

---

_Comment by @ofek on 2024-09-25 23:52_

- https://github.com/psf/black/blob/8d9d18c0338d9fbfc27b38f6f69bb630d90512fa/src/black/output.py#L16 (would be named kwargs but they're trying to match https://click.palletsprojects.com/en/8.1.x/api/#click.style)
- https://github.com/psf/black/blob/8d9d18c0338d9fbfc27b38f6f69bb630d90512fa/src/black/output.py#L113

---

_Comment by @ofek on 2024-09-26 02:33_

Another example:

- https://github.com/litestar-org/litestar/blob/b18774922fedc86089d143d9a5484f393826557d/litestar/exceptions/base_exceptions.py#L13
- https://github.com/litestar-org/litestar/blob/b18774922fedc86089d143d9a5484f393826557d/litestar/events/listener.py#L24

---

_Comment by @ofek on 2024-09-26 02:35_

Another example from the Microsoft cloud SDK: https://github.com/Azure/azure-sdk-for-python/blob/f0c6e8b007699a8c83d7b21d85b1b54621dfd001/sdk/core/corehttp/corehttp/credentials.py#L27

They do that everywhere and it's actually a pattern I forgot to list in the OP. To avoid eventual breaking changes you allow functions to have arbitrary keyword arguments, in which case you don't know the future so you have to use `Any`.

---

_Comment by @MichaReiser on 2024-09-26 06:21_

CC: @AlexWaygood 

---

_Comment by @ofek on 2025-09-19 02:36_

Has there been any progress on this?

---
