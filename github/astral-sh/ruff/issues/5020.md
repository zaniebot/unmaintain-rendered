---
number: 5020
title: RUF005 rewrites raw strings
type: issue
state: closed
author: scastlara
labels:
  - bug
assignees: []
created_at: 2023-06-12T07:53:50Z
updated_at: 2023-06-12T12:53:11Z
url: https://github.com/astral-sh/ruff/issues/5020
synced_at: 2026-01-07T12:31:12-06:00
---

# RUF005 rewrites raw strings

---

_Issue opened by @scastlara on 2023-06-12 07:53_

Hello! üëãüèΩ 

I've encountered this problem when working on a django+rest-framework project.

`RUF005` seems to rewrite my `re_path` (which are regular expression paths) so that they don't use python's raw strings anymore. Maybe this is intended, maybe not, but it is rather strange.

```python
from django.urls import re_path
from api.v1.routers import SimpleRouter

MyView = None
AnotherView = None
router = SimpleRouter()
router.register(r"another-endpoint", AnotherView)

urlpatterns = [
    re_path(r"^my-endpoint/?", MyView, name="view1"),
    re_path(r"^my-endpoint/(?P<pk>\d+)?", MyView, name="view2"),
] + router.urls
```

And then `ruff --select=RUF005 foo.py`

```
foo.py:9:15: RUF005 Consider `[re_path("^my-endpoint/?", MyView, name="view1"), re_path("^my-endpoint/(?P<pk>\\d+)?", MyView, name="view2"), *router.urls]` instead of concatenation
Found 1 error.
```

Making it use `*router.urls` is indeed the purpose of this rule, but it seems strange it undoes my raw strings, especially this one  which I think is just better with `r""`:

`r"^my-endpoint/(?P<pk>\d+)?"` ‚û°Ô∏è  `"^my-endpoint/(?P<pk>\\d+)?"`

Thanks!

---

_Comment by @charliermarsh on 2023-06-12 12:51_

Thank you for the clear issue :) Totally -- this is a bug in Ruff, though one that's a little tricky for us to fix, so won't be resolved immediately.

---

_Comment by @charliermarsh on 2023-06-12 12:53_

I think this is a duplicate of #4130, so closing in favor of that, though I take this as another vote that we need to fix it.

---

_Closed by @charliermarsh on 2023-06-12 12:53_

---

_Label `bug` added by @charliermarsh on 2023-06-12 12:53_

---
