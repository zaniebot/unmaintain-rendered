---
number: 11365
title: "`ruff check --fix --select I` seems to split imports incorrectly "
type: issue
state: closed
author: svfat
labels:
  - question
  - isort
assignees: []
created_at: 2024-05-10T17:16:21Z
updated_at: 2024-08-06T07:36:57Z
url: https://github.com/astral-sh/ruff/issues/11365
synced_at: 2026-01-07T12:31:13-06:00
---

# `ruff check --fix --select I` seems to split imports incorrectly 

---

_Issue opened by @svfat on 2024-05-10 17:16_

Keywords: import, imports

When running `ruff check --fix --select I` on my code, I've noticed that it does not handle imports within round brackets correctly. Specifically, it unnecessarily splits grouped imports into separate blocks. 

**Example**:
Running the command on the following code:
```python
from aws_cdk import (
    aws_dynamodb as dynamodb,
    aws_lambda as lambda,
)
```

Results in:
```python
from aws_cdk import (
    aws_dynamodb as dynamodb,
)
from aws_cdk import (
    aws_lambda as lambda,
)
```


**pyproject.toml settings**
```[tool.ruff]
line-length = 120
indent-width = 4

[tool.ruff.format]
indent-style = "space"
quote-style = "single"
docstring-code-format = true
skip-magic-trailing-comma = false
line-ending = "auto"

[tool.ruff.lint.pydocstyle]
convention = "google"
```

**ruff version:**
ruff 0.4.4

---

_Comment by @charliermarsh on 2024-05-10 18:41_

Can you try with:

```toml
[tool.ruff.lint.isort]
combine-as-imports = true
```

---

_Label `question` added by @charliermarsh on 2024-05-10 18:41_

---

_Label `isort` added by @charliermarsh on 2024-05-10 18:41_

---

_Comment by @charliermarsh on 2024-05-11 16:18_

I've confirmed in the playground that `combine-as-imports` leaves that as stable formatting: https://play.ruff.rs/0e4f5cd7-3ced-4a4a-89b6-c4670fe8b1d1

---

_Closed by @charliermarsh on 2024-05-11 16:18_

---

_Assigned to @charliermarsh by @charliermarsh on 2024-05-11 16:18_

---

_Comment by @Emerentius on 2024-08-06 07:33_

Could this be reopened?

`combine-as-imports` isn't really the solution here, it's more of a workaround. The definition of that setting is "Combines as imports on the same line." which isn't what you may want.

The way I see it, you may prefer to have as-imports on their own line or on the same line:
```
from aws_cdk import (
    aws_dynamodb as dynamodb,
    aws_lambda as lambda,
)
```

```
from aws_cdk import aws_dynamodb as dynamodb, aws_lambda as lambda
```
and if enough imports appear on one line, the second formatting choice would fall back to placing each as-import on its own line.

Right now, there is no way of configuring ruff such that you would always have as-imports on their own line without also getting small groups of as-imports in one line, possibly mixed with regular non-as-imports.

I can't imagine anyone wanting to have the `from some_module import (` part repeated for every import. It balloons the import section because every as-import is now 3 lines big.

---
