---
number: 18770
title: "[flake8-pytest-style] PT001/PT023 deletes comments inside the parenthesis"
type: issue
state: closed
author: MeGaGiGaGon
labels:
  - bug
  - fixes
  - help wanted
assignees: []
created_at: 2025-06-18T21:07:13Z
updated_at: 2025-06-20T06:24:00Z
url: https://github.com/astral-sh/ruff/issues/18770
synced_at: 2026-01-07T12:31:13-06:00
---

# [flake8-pytest-style] PT001/PT023 deletes comments inside the parenthesis

---

_Issue opened by @MeGaGiGaGon on 2025-06-18 21:07_

### Summary

With `PT001` on default no-parenthesis mode, it deletes comments inside the parenthesis [playground](https://play.ruff.rs/3cd80119-2c2d-4e02-ab49-19802f8119e9)

I'm not sure if this is an actual concern since I'm not too familiar with `pytest`, but I can imagine a case where this could be undesirable: If all parameters were commented out for whatever reason, and it gets removed by CI. I'm not sure if you would ever encounter this while actually using `pytest`.
```
PS ~\Desktop\New_folder>Get-Content issue.py
```
```py
import pytest

@pytest.fixture(
    # TODO: use module scope
    # scope="module"
)
def my_fixture(): ...
```
```
PS ~\Desktop\New_folder>uvx ruff check issue.py --select PT --fix --diff
```
```diff
--- issue.py
+++ issue.py
@@ -1,7 +1,4 @@
 import pytest

-@pytest.fixture(
-    # TODO: use module scope
-    # scope="module"
-)
+@pytest.fixture
 def my_fixture(): ...

Would fix 1 error.
```

All of this also applies to `PT023` [playground](https://play.ruff.rs/e2b06604-5a7f-49bd-a238-ff45a75e8494)

### Version

ruff 0.12.0 (87f0feb21 2025-06-17) + playground

---

_Renamed from "[flake8-pytest-style] PT001 deletes comments inside the parenthesis" to "[flake8-pytest-style] PT001/PT023 deletes comments inside the parenthesis" by @MeGaGiGaGon on 2025-06-18 21:09_

---

_Referenced in [astral-sh/ruff#18771](../../astral-sh/ruff/issues/18771.md) on 2025-06-18 21:41_

---

_Label `bug` added by @ntBre on 2025-06-19 00:05_

---

_Label `fixes` added by @ntBre on 2025-06-19 00:05_

---

_Label `help wanted` added by @ntBre on 2025-06-19 00:05_

---

_Comment by @MichaReiser on 2025-06-19 11:05_

Thanks. We should mark this fix as unsafe if it intersects with any comment

---

_Referenced in [astral-sh/ruff#18792](../../astral-sh/ruff/pulls/18792.md) on 2025-06-19 13:42_

---

_Closed by @MichaReiser on 2025-06-20 06:24_

---
