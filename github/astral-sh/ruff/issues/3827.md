---
number: 3827
title: Docstring autofixer adds too much whitespace
type: issue
state: closed
author: stinodego
labels:
  - bug
  - docstring
assignees: []
created_at: 2023-03-31T08:09:25Z
updated_at: 2023-04-28T01:24:36Z
url: https://github.com/astral-sh/ruff/issues/3827
synced_at: 2026-01-07T12:31:12-06:00
---

# Docstring autofixer adds too much whitespace

---

_Issue opened by @stinodego on 2023-03-31 08:09_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

My function docstring looks like this, and is missing whitespace between the sections "Parameters" and "Examples"

```python
def pow(self, exponent: int | float | Series | Expr) -> Self:
    """
    Raise expression to the power of the given exponent.

    Parameters
    ----------
    exponent
        ...
    Examples
    --------
    >>> df = pl.DataFrame({"foo": [1, 2, 3, 4]})

    """
    ...
```

After autofixing, two blank lines are inserted. Only a single blank line would be sufficient:

```python
def pow(self, exponent: int | float | Series | Expr) -> Self:
    """
    Raise expression to the power of the given exponent.

    Parameters
    ----------
    exponent
        ...


    Examples
    --------
    >>> df = pl.DataFrame({"foo": [1, 2, 3, 4]})

    """
    ...
```

The reason seems to be that `D410` (missing blank line after section) and `D411` (missing blank line before section) are applied at the same time.

This is on the latest ruff version.

---

_Referenced in [astral-sh/ruff#3828](../../astral-sh/ruff/issues/3828.md) on 2023-03-31 10:19_

---

_Label `bug` added by @charliermarsh on 2023-03-31 14:27_

---

_Label `docstring` added by @charliermarsh on 2023-03-31 14:27_

---

_Referenced in [astral-sh/ruff#4110](../../astral-sh/ruff/pulls/4110.md) on 2023-04-26 02:42_

---

_Closed by @charliermarsh on 2023-04-28 01:24_

---
