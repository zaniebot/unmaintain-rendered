---
number: 11938
title: Validate token ranges in the parser tests
type: issue
state: closed
author: dhruvmanila
labels:
  - parser
  - testing
assignees: []
created_at: 2024-06-19T11:19:07Z
updated_at: 2024-06-25T08:14:30Z
url: https://github.com/astral-sh/ruff/issues/11938
synced_at: 2026-01-07T12:31:13-06:00
---

# Validate token ranges in the parser tests

---

_Issue opened by @dhruvmanila on 2024-06-19 11:19_

Issues such as #11937, #11929 basically suggests that the token ranges are overlapping which is causing the panic in downstream tools.

I think it would be useful to validate the parsed output in the test cases to make sure that the token ranges don't overlap. This would be similar to the validation done on the AST.

---

_Label `parser` added by @dhruvmanila on 2024-06-19 11:19_

---

_Label `testing` added by @dhruvmanila on 2024-06-19 11:19_

---

_Referenced in [astral-sh/ruff#12019](../../astral-sh/ruff/pulls/12019.md) on 2024-06-25 03:21_

---

_Closed by @dhruvmanila on 2024-06-25 08:14_

---

_Closed by @dhruvmanila on 2024-06-25 08:14_

---
