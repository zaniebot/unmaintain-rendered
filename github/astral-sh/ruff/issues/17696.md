---
number: 17696
title: "Feature request: Configure `--fix-only` but per-rule in the `TOML` config"
type: issue
state: open
author: Avasam
labels:
  - cli
  - needs-decision
assignees: []
created_at: 2025-04-28T22:17:08Z
updated_at: 2025-04-29T05:51:51Z
url: https://github.com/astral-sh/ruff/issues/17696
synced_at: 2026-01-07T12:31:13-06:00
---

# Feature request: Configure `--fix-only` but per-rule in the `TOML` config

---

_Issue opened by @Avasam on 2025-04-28 22:17_

### Summary

This was originally opened as a Discussion, I'm opening an issue for visibility and to make it a proper Feature Request: https://github.com/astral-sh/ruff/discussions/10106

Original post by @jamesbraza :
> I like [ANN201](https://docs.astral.sh/ruff/rules/missing-return-type-undocumented-public-function/)'s autofix because it adds `-> None` to functions where possible. However, in general, I don't like enforcing a requirement to specify return types.
> 
> From my `pyproject.toml` config file:
> 
> ```toml
> [tool.ruff]
> unsafe-fixes = true
> 
> [tool.ruff.lint]
> ignore = [
>     "ANN",
> ]
> select = ["ALL"]
> 
> [tool.ruff.lint.flake8-annotations]
> mypy-init-return = true
> ```
> 
> This enables the autofixes for ANN201, but also makes it a requirement to always pass.
> 
> In general, I am looking for something like `--fix-only`, but instead of being global, it is scoped to specific rules. Is there some way to have `--fix-only` for specific rule codes?

Additional info I added:
> * `ANN` is a good example where I'd use this.
> * Another is `UP031`/`UP032`: [`printf-string-formatting` (`UP031`) - fix should f-string instead of `str.format`Â #11332 (comment)](https://github.com/astral-sh/ruff/issues/11332#issuecomment-2836795627)
> * Typeshed has a few more examples where we'd only want to trigger autofixes w/o failing when there's nothing to fix (namely for `PTH` and `PYI`): [python/typeshed@`232c31c`/pyproject.toml#L88-L92](https://github.com/python/typeshed/blob/232c31c5c42cd5f2a6d9d1b2ec01c38dbd550f42/pyproject.toml#L88-L92)

---

I think this should only apply to safe fixes, because the goal here is to *not* warn/fail for something that would require manual intervention. And there's already https://docs.astral.sh/ruff/settings/#lint_extend-safe-fixes which can be used in conjunction if you wanna apply unsafe fixes here.

---

_Label `cli` added by @MichaReiser on 2025-04-29 05:50_

---

_Label `needs-design` added by @MichaReiser on 2025-04-29 05:50_

---

_Comment by @MichaReiser on 2025-04-29 05:51_

To sum up what's requested: A way to enable rules but ignore all instances of that rule if they don't have an associated fix. 

---

_Label `needs-design` removed by @MichaReiser on 2025-04-29 05:51_

---

_Label `needs-decision` added by @MichaReiser on 2025-04-29 05:51_

---
