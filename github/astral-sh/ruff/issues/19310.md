---
number: 19310
title: "`match_semicolon` breaks on form feed, making I002 introduce a syntax error"
type: issue
state: closed
author: dscorbett
labels:
  - bug
  - fixes
  - help wanted
assignees: []
created_at: 2025-07-13T18:18:37Z
updated_at: 2025-07-16T20:39:06Z
url: https://github.com/astral-sh/ruff/issues/19310
synced_at: 2026-01-07T12:31:13-06:00
---

# `match_semicolon` breaks on form feed, making I002 introduce a syntax error

---

_Issue opened by @dscorbett on 2025-07-13 18:18_

### Summary

[`match_semicolon`](https://github.com/astral-sh/ruff/blob/0.12.3/crates/ruff_linter/src/importer/insertion.rs#L295) does not recognize U+000C FORM FEED as white space. That makes the fix for [missing-required-import (I002)](https://docs.astral.sh/ruff/rules/missing-required-import/) insert the required import on the next line instead of after the semicolon, which can introduce a syntax error. [Example](https://play.ruff.rs/1adfc4a9-e8ba-42bc-928c-efafc73cc298):

```console
$ cat >i002.py <<'# EOF'
"docstring"; print(
    f"{__doc__=}",
)
# EOF

$ ruff --isolated check --config 'lint.isort.required-imports=["import sys"]' i002.py --select I002 --diff 2>&1 | grep error:
error: Fix introduced a syntax error. Reverting all changes.
```

There is a form feed before the semicolon in that example. Some browsers hide control characters. Hopefully itâ€™s still there if you copy and paste it.

### Version

ruff 0.12.3 (5bc81f26c 2025-07-11)

---

_Label `bug` added by @AlexWaygood on 2025-07-13 21:08_

---

_Label `fixes` added by @AlexWaygood on 2025-07-13 21:08_

---

_Label `help wanted` added by @MichaReiser on 2025-07-14 07:13_

---

_Referenced in [astral-sh/ruff#19343](../../astral-sh/ruff/pulls/19343.md) on 2025-07-14 23:38_

---

_Closed by @ntBre on 2025-07-16 20:39_

---
