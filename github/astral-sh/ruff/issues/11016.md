---
number: 11016
title: "PLE0307 triggers on `__str__` that always raises an exception"
type: issue
state: closed
author: ThiefMaster
labels:
  - bug
assignees: []
created_at: 2024-04-18T20:52:43Z
updated_at: 2024-04-18T22:55:17Z
url: https://github.com/astral-sh/ruff/issues/11016
synced_at: 2026-01-07T12:31:13-06:00
---

# PLE0307 triggers on `__str__` that always raises an exception

---

_Issue opened by @ThiefMaster on 2024-04-18 20:52_

```py
class PasswordHash:
    def __str__(self):
        raise RuntimeError('This hash cannot be used in a string context')

```

```
$ ruff check --isolated --select PLE0307 --preview --no-cache --output-format concise rufftest/ruff_sample.py
rufftest/ruff_sample.py:2:9: PLE0307 `__str__` does not return `str`
```

It works as expected when raising `NotImplementedError`, but IMHO any raise-only body should avoid triggering this.

---

_Assigned to @charliermarsh by @charliermarsh on 2024-04-18 20:53_

---

_Label `bug` added by @charliermarsh on 2024-04-18 20:53_

---

_Referenced in [astral-sh/ruff#11017](../../astral-sh/ruff/pulls/11017.md) on 2024-04-18 21:21_

---

_Closed by @charliermarsh on 2024-04-18 22:55_

---
