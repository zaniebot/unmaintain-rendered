---
number: 11940
title: False Positive YODA Condition SIM300
type: issue
state: closed
author: lukasz-flyrlabs
labels:
  - rule
assignees: []
created_at: 2024-06-19T13:06:16Z
updated_at: 2024-06-23T16:27:39Z
url: https://github.com/astral-sh/ruff/issues/11940
synced_at: 2026-01-07T12:31:13-06:00
---

# False Positive YODA Condition SIM300

---

_Issue opened by @lukasz-flyrlabs on 2024-06-19 13:06_

Keywords searched:
"YODA", "SIM300"

Description:
Ruff incorrectly flags a comparison between a setting from dynaconf (str) and an enum value (str) as a YODA condition. The condition being flagged is not a YODA condition as it involves a configuration setting and an enum, not a plain constant or literal.

Minimal code snippet to reproduce the bug:
```python
from enum import Enum
from dynaconf import Dynaconf

class PriceSource(Enum):
    source1 = "source1"
    source2 = "source2"

settings = Dynaconf(settings_files=["settings.toml"])
# settings.toml content:
# [default]
# PRICE_SOURCE = "source1"

assert settings.PRICE_SOURCE == PriceSource.source1
```

ruff==0.4.9 

---

_Comment by @trag1c on 2024-06-19 13:09_

Corrected code block :)
```py
from enum import Enum
from dynaconf import Dynaconf

class PriceSource(Enum):
    source1 = "source1"
    source2 = "source2"

settings = Dynaconf(settings_files=["settings.toml"])
# settings.toml content:
# [default]
# PRICE_SOURCE = "source1"

assert settings.PRICE_SOURCE == PriceSource.source1
```

---

_Comment by @MichaReiser on 2024-06-21 06:08_

@AlexWaygood any thoughts on this?

---

_Label `rule` added by @MichaReiser on 2024-06-21 06:08_

---

_Comment by @AlexWaygood on 2024-06-21 11:26_

Strictly speaking, I suppose this is a false positive. But to me, it seems like the rule is working as designed, and the heuristic it uses seems pretty reasonable to me. I'm not sure we should change anything here as I haven't seen evidence (yet) that this kind of false positive is particularly common. My advice would be to just `# noqa` it in this instance (or switch off the rule if you find that you have many false positives from this rule on your code).

---

_Comment by @charliermarsh on 2024-06-23 16:27_

Yeah, I think this is actually reasonable. I'd suggest not using `SCREAMING_SNAKE_CASE` for the setting value if it isn't a constant.

---

_Closed by @charliermarsh on 2024-06-23 16:27_

---
