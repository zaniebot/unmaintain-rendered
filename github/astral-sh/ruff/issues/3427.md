---
number: 3427
title: "Bug in `flake8-docstrings` auto-fixer when function contains parameter named `args`"
type: issue
state: closed
author: stinodego
labels:
  - docstring
assignees: []
created_at: 2023-03-10T01:05:54Z
updated_at: 2023-03-10T11:54:26Z
url: https://github.com/astral-sh/ruff/issues/3427
synced_at: 2026-01-07T12:31:12-06:00
---

# Bug in `flake8-docstrings` auto-fixer when function contains parameter named `args`

---

_Issue opened by @stinodego on 2023-03-10 01:05_

A recent version has introduced a regression in `flake8-docstrings` lints.

Consider the following valid docstring:

```python
def hello(args):
    """
    Cool function.

    Parameters
    ----------
    args
        ...

    """

```

Which will be "autofixed" to:

```python
def hello(args):
    """
    Cool function.

    Parameters
    ----------

    Args
    ----
        ...

    """
```

Looks like the regex should be tuned a bit better to avoid recognizing `args` as a section header when it is a parameter name.

---

_Comment by @charliermarsh on 2023-03-10 02:51_

I can probably fix, but have you considered explicitly setting the docstring convention?

```toml
[tool.ruff.pydocstyle]
convention = "numpy"
```

As-is, we have to infer it, and this is likely getting tripped up by the presence of "args" which is a Google- but not a NumPy-compatible section header. ("Parameters" is NumPy-only though.)



---

_Label `docstring` added by @charliermarsh on 2023-03-10 02:52_

---

_Assigned to @charliermarsh by @charliermarsh on 2023-03-10 02:52_

---

_Referenced in [astral-sh/ruff#3430](../../astral-sh/ruff/pulls/3430.md) on 2023-03-10 02:53_

---

_Closed by @charliermarsh on 2023-03-10 02:58_

---

_Comment by @stinodego on 2023-03-10 11:54_

Thanks for the fix!

> have you considered explicitly setting the docstring convention?

For Polars, we use "numpy convention with some additional lints" - so setting the convention won't work for us. We construct our own "convention" with a set of ignore codes.

> we have to infer it, and this is likely getting tripped up by the presence of "args" which is a Google- but not a NumPy-compatible section header

I thought it was extra weird that the result was an `Args` section with `----` under it, because those dashes are numpy convention, while the Args section is Google convention ü§∑‚Äç‚ôÇÔ∏è 

---
