---
number: 16868
title: "non-unique-enums (PIE796): false positive"
type: issue
state: closed
author: g-braeunlich
labels:
  - bug
  - help wanted
assignees: []
created_at: 2025-03-20T13:02:03Z
updated_at: 2025-04-08T19:53:29Z
url: https://github.com/astral-sh/ruff/issues/16868
synced_at: 2026-01-07T12:31:13-06:00
---

# non-unique-enums (PIE796): false positive

---

_Issue opened by @g-braeunlich on 2025-03-20 13:02_

### Summary

Example:
```py
import enum
from enum import Enum


class E(Enum):
    A = enum.auto(), 0
    B = enum.auto(), 1
    C = enum.auto(), 0 # <- false positive here

    def __init__(self, uid: int, flag: int) -> None:
        self.uid = uid
        self.flag = flag


print(E.A.value)
print(E.C.value)
print(E.A.value == E.C.value)
```

Output:
```
(1, 0)
(3, 0)
False
```

So cleary in this example, the values are unique, but still this rule warns about an enum with duplicated value:
```
PIE796 Enum contains duplicate value: `enum.auto(), 0`
   |
 6 |     A = enum.auto(), 0
 7 |     B = enum.auto(), 1
 8 |     C = enum.auto(), 0
   |     ^^^^^^^^^^^^^^^^^^ PIE796
 9 |
10 |     def __init__(self, uid: int, flag: int) -> None:
   |
```

### Version

ruff 0.9.10

---

_Label `bug` added by @ntBre on 2025-03-20 14:20_

---

_Label `help wanted` added by @MichaReiser on 2025-03-21 08:35_

---

_Comment by @kiran-4444 on 2025-03-22 19:42_

I'd like to work on this.

---

_Assigned to @kiran-4444 by @ntBre on 2025-03-23 14:45_

---

_Referenced in [astral-sh/ruff#17274](../../astral-sh/ruff/pulls/17274.md) on 2025-04-07 13:34_

---

_Closed by @ntBre on 2025-04-08 19:53_

---

_Closed by @ntBre on 2025-04-08 19:53_

---
