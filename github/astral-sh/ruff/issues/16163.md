---
number: 16163
title: PLW3301 false positive if outer call has one argument and inner call has multiple arguments
type: issue
state: closed
author: dscorbett
labels:
  - bug
  - rule
  - help wanted
assignees: []
created_at: 2025-02-14T14:29:08Z
updated_at: 2025-06-20T13:35:11Z
url: https://github.com/astral-sh/ruff/issues/16163
synced_at: 2026-01-07T12:31:13-06:00
---

# PLW3301 false positive if outer call has one argument and inner call has multiple arguments

---

_Issue opened by @dscorbett on 2025-02-14 14:29_

### Description

[`nested-min-max` (PLW3301)](https://docs.astral.sh/ruff/rules/nested-min-max/) has a false positive in Ruff 0.9.6 when the inner call is the outer callâ€™s only argument and the inner call has multiple arguments.
```console
$ cat >plw3301.py <<'# EOF'
print(min(min([2, 3], [4, 1])))
print(max(max([2, 4], [3, 1])))
# EOF

$ python plw3301.py
2
3

$ ruff --isolated check --select PLW3301 plw3301.py --unsafe-fixes --fix
Found 2 errors (2 fixed, 0 remaining).

$ python plw3301.py
[2, 3]
[3, 1]
```
This is similar to #4682, in which the inner call has only one argument.

---

_Label `bug` added by @AlexWaygood on 2025-02-14 14:40_

---

_Label `rule` added by @AlexWaygood on 2025-02-14 14:40_

---

_Label `help wanted` added by @AlexWaygood on 2025-02-14 14:40_

---

_Comment by @vladNed on 2025-02-14 18:21_

yeah, seems like if formats the code thus modifying the behavior of the original code. 

I can start working on this if its fine.

The min/max should be flatten when the values inside are the same and not when the parent min/max is applied on a different type of values

---

_Comment by @vladNed on 2025-02-17 09:30_

found that the function just checks for arguments that are min/max inside the min/max without checking the types inside the nested one. 

Probably one improvement I can do is to check if inside there is a the nested one contains the same types as the parent one.

---

_Referenced in [astral-sh/ruff#16885](../../astral-sh/ruff/pulls/16885.md) on 2025-03-21 12:33_

---

_Comment by @zackw on 2025-04-02 18:08_

The converse is also a false positive:

```
x = max(floor, max(iterable))  # erroneous PLW3301
```

cannot be expressed any other way in general.

---

_Referenced in [astral-sh/ruff#17878](../../astral-sh/ruff/pulls/17878.md) on 2025-05-06 03:34_

---

_Closed by @ntBre on 2025-06-20 13:35_

---

_Referenced in [astral-sh/ruff#18849](../../astral-sh/ruff/issues/18849.md) on 2025-06-21 14:22_

---
