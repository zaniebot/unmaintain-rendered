---
number: 15151
title: "Feature: Disable cache from pyproject.toml"
type: issue
state: closed
author: orlandodiaz
labels:
  - question
  - cache
assignees: []
created_at: 2024-12-26T17:07:52Z
updated_at: 2025-02-17T08:23:25Z
url: https://github.com/astral-sh/ruff/issues/15151
synced_at: 2026-01-07T12:31:13-06:00
---

# Feature: Disable cache from pyproject.toml

---

_Issue opened by @orlandodiaz on 2024-12-26 17:07_

We have can pass --no-cache via the CLI to disable cache. Do we not have a setting to do this in the pyproject.toml?

A simple setting like this would be nice. Ruff is fast enough for me that cache only brings problems and adds a bunch of .ruff_cache folders everywhere. I prefer to keep it disabled

[tool.ruff]
cache = false

---

_Comment by @MichaReiser on 2024-12-26 17:45_

There is no built-in way to disable the cache. However, on Unix, you can set `cache-dir = "/dev/null".  You can also set `cache-dir="some/shared/directory/.ruff-cache` to use a shared directory between project, to reduce the "cache folders everywhere"

> cache only brings problems and

Can you tell me more about the problems you run into with caching? It would be great if we can fix those. 

---

_Label `question` added by @MichaReiser on 2024-12-26 17:45_

---

_Label `cache` added by @dhruvmanila on 2024-12-30 09:42_

---

_Comment by @bkurtz on 2025-01-21 23:03_

Can't speak for the OP, but I like to run CI checks in a read-only copy of the working tree (helps ensure decent code hygiene like not writing files in the code tree, etc) and between that and docker, arranging for there to be a _writable_ cache dir can be a bit of a PITA.

---

_Comment by @MichaReiser on 2025-01-22 07:06_

You can set the `RUFF_NO_CACHE` env variable in CI to disable caching.

---

_Comment by @bkurtz on 2025-01-24 23:11_

Yup, that (or even the CLI flag) is definitely good enough for my use-case.  (I actually also really like your suggestion of setting the cache dir somewhere outside the repo, which is what I did in the end even for CI.)

---

_Closed by @MichaReiser on 2025-02-17 08:23_

---
