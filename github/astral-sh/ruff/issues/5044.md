---
number: 5044
title: Incorrect f-string parsing
type: issue
state: closed
author: hauntsaninja
labels: []
assignees: []
created_at: 2023-06-13T07:15:30Z
updated_at: 2023-06-13T13:04:44Z
url: https://github.com/astral-sh/ruff/issues/5044
synced_at: 2026-01-07T12:31:12-06:00
---

# Incorrect f-string parsing

---

_Issue opened by @hauntsaninja on 2023-06-13 07:15_

Not the best string ever, but ruff doesn't handle it like Python
```
λ cat test.py
print(f"$N_{{img}}\in\{{0,1,2\}}$")
λ python test.py
$N_{img}\in\{0,1,2\}$
λ ruff check test.py --select F401
error: Failed to parse test.py:1:25: f-string: unterminated string
```

---

_Referenced in [RustPython/Parser#88](../../RustPython/Parser/issues/88.md) on 2023-06-13 13:04_

---

_Comment by @charliermarsh on 2023-06-13 13:04_

Nice, thanks -- re-opening on the parser as https://github.com/RustPython/Parser/issues/88.

---

_Closed by @charliermarsh on 2023-06-13 13:04_

---
