---
number: 18895
title: "UP025 fix introduces a syntax error for an empty string followed by a `u`-prefixed string"
type: issue
state: closed
author: dscorbett
labels:
  - bug
  - fixes
  - help wanted
assignees: []
created_at: 2025-06-23T13:30:30Z
updated_at: 2025-07-01T13:34:09Z
url: https://github.com/astral-sh/ruff/issues/18895
synced_at: 2026-01-07T12:31:13-06:00
---

# UP025 fix introduces a syntax error for an empty string followed by a `u`-prefixed string

---

_Issue opened by @dscorbett on 2025-06-23 13:30_

### Summary

The fix for [`unicode-kind-prefix` (UP025)](https://docs.astral.sh/ruff/rules/unicode-kind-prefix/) can introduce a syntax error when the prefixed string follows a non-triple-quoted empty string with the same kind of quotation marks without an intervening space. The fix should add a space if necessary.

[Playground](https://play.ruff.rs/43ba6955-f9cb-470c-a407-a412a307cc5b)
```console
$ cat >up025.py <<'# EOF'
""u""
# EOF

$ ruff --isolated check up025.py --select UP025 --diff 2>&1 | grep error:
error: Fix introduced a syntax error. Reverting all changes.
```

### Version

ruff 0.12.0 (87f0feb21 2025-06-17)

---

_Label `bug` added by @AlexWaygood on 2025-06-23 13:45_

---

_Label `fixes` added by @AlexWaygood on 2025-06-23 13:45_

---

_Label `help wanted` added by @MichaReiser on 2025-06-23 13:52_

---

_Comment by @lubaskinc0de on 2025-06-23 15:34_

i want to work on this 

---

_Assigned to @lubaskinc0de by @MichaReiser on 2025-06-23 15:46_

---

_Referenced in [astral-sh/ruff#18899](../../astral-sh/ruff/pulls/18899.md) on 2025-06-23 17:08_

---

_Closed by @ntBre on 2025-07-01 13:34_

---
