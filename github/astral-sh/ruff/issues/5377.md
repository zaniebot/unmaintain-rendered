---
number: 5377
title: "[rule] simpify `x if x else y` to `x or y`"
type: issue
state: closed
author: dorschw
labels:
  - rule
  - preview
assignees: []
created_at: 2023-06-26T18:28:03Z
updated_at: 2024-04-06T16:39:25Z
url: https://github.com/astral-sh/ruff/issues/5377
synced_at: 2026-01-07T12:31:12-06:00
---

# [rule] simpify `x if x else y` to `x or y`

---

_Issue opened by @dorschw on 2023-06-26 18:28_

I wanted to suggest it to `flake8-simplify` but there hasn't been much activity there in a while, and `flake8-pie` says they're deprecated and link to ruff. 

```diff
x = ...
- y = x if x else 'default'
+ y = x or 'default'
```

It could be a bit confusing to newcomers, but cleaner, imo, to anyone familiar with ternaries in Python.  

---

_Label `question` added by @charliermarsh on 2023-06-27 13:52_

---

_Label `rule` added by @charliermarsh on 2023-06-27 13:52_

---

_Comment by @evanrittenhouse on 2023-06-27 22:32_

I think the logic here should be pretty closely related to [`ExprOrTrue`](https://github.com/astral-sh/ruff/blob/main/crates/ruff/src/rules/flake8_simplify/rules/ast_bool_op.rs#L213).

---

_Comment by @evanrittenhouse on 2023-06-28 13:57_

@charliermarsh I can implement this if we want to do it, but it'll diverge from upstream. Is that alright?

---

_Label `question` removed by @charliermarsh on 2023-07-10 01:09_

---

_Label `needs-decision` added by @charliermarsh on 2023-07-10 01:09_

---

_Comment by @dosisod on 2023-08-17 02:54_

This is implemented as [`FURB110`](https://github.com/dosisod/refurb/blob/master/docs/checks.md#furb110-use-or-oper) in Refurb (see #1348), so you could put this check under that category.

---

_Comment by @charliermarsh on 2024-04-06 16:39_

Closed by https://github.com/astral-sh/ruff/pull/10687.

---

_Closed by @charliermarsh on 2024-04-06 16:39_

---

_Label `needs-decision` removed by @charliermarsh on 2024-04-06 16:39_

---

_Label `preview` added by @charliermarsh on 2024-04-06 16:39_

---
