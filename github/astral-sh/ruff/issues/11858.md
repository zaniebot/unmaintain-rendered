---
number: 11858
title: "false-positive for `PD011` and Django's TextChoices"
type: issue
state: closed
author: Zerotask
labels: []
assignees: []
created_at: 2024-06-13T13:32:37Z
updated_at: 2024-06-13T13:35:57Z
url: https://github.com/astral-sh/ruff/issues/11858
synced_at: 2026-01-07T12:31:13-06:00
---

# false-positive for `PD011` and Django's TextChoices

---

_Issue opened by @Zerotask on 2024-06-13 13:32_

A call with `ruff check .` and the `PD` rule activated, prints the error 
```
PD011 Use `.to_numpy()` instead of `.values`
```

The mentioned line is `if value not in User.Gender.values:`

`User.Gender` is a [TextChoices](https://github.com/django/django/blob/2a32b233822683c51e59722b7c9aa0789fc4ab1b/django/db/models/enums.py#L107) based class from django which itself inherits from `enum.Enum` and `StrEnum`.
No pandas or numpy involved

---

_Comment by @charliermarsh on 2024-06-13 13:35_

Thanks, I believe this is the same as #6432.

---

_Closed by @charliermarsh on 2024-06-13 13:35_

---

_Referenced in [astral-sh/ruff#14671](../../astral-sh/ruff/pulls/14671.md) on 2024-11-29 07:33_

---
