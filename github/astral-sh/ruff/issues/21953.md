---
number: 21953
title: RUF012 warns for pydantic.v1.main.BaseModel
type: issue
state: open
author: justin-snyder-slgg
labels:
  - rule
assignees: []
created_at: 2025-12-12T17:22:36Z
updated_at: 2025-12-12T20:23:00Z
url: https://github.com/astral-sh/ruff/issues/21953
synced_at: 2026-01-07T12:31:14-06:00
---

# RUF012 warns for pydantic.v1.main.BaseModel

---

_Issue opened by @justin-snyder-slgg on 2025-12-12 17:22_

### Summary

The folks at Pydantic somewhat recently added an alternate migration path which allows you to use v1 from v2.

Ruff does not correctly identify this case as a valid exception to RUF012

Example:
```python
from pydantic.v1.main import BaseModel

class Foo(BaseModel):
    bar: list[str] = ['baz']  # <- triggers RUF012
```

Fix:
```python
from pydantic.v1 import BaseModel  # removing the .main here works

class Foo(BaseModel):
    bar: list[str] = ['baz']  # <- triggers RUF012
```

Perhaps it would be a good idea to add a setting to mark exceptions to this rule...

Or maybe there's another rule I should activate to force the simpler import since pyright is still really bad at prioritizing the right import paths (often suggesting indirect imports through third party libraries or subpackages even when stuff is exposed from the top level module of a library)

### Version

_No response_

---

_Renamed from "RUF012 warns for pydantic.v1.BaseModel" to "RUF012 warns for pydantic.v1.main.BaseModel" by @justin-snyder-slgg on 2025-12-12 17:24_

---

_Comment by @ntBre on 2025-12-12 18:13_

Hmm, yeah I'm surprised we don't expose a setting for this. I thought [extend-immutable-calls](https://docs.astral.sh/ruff/settings/#lint_flake8-bugbear_extend-immutable-calls) would apply here, but we pass an empty list of additional calls here instead of reusing the bugbear setting in the shared helper:

https://github.com/astral-sh/ruff/blob/6216e66ed6d41a497395d22330029d721e122aa1/crates/ruff_linter/src/rules/ruff/rules/mutable_class_default.rs#L121

Instead we use this helper with several different pydantic exceptions:

https://github.com/astral-sh/ruff/blob/6216e66ed6d41a497395d22330029d721e122aa1/crates/ruff_linter/src/rules/ruff/helpers.rs#L210-L219

---

_Label `rule` added by @ntBre on 2025-12-12 18:14_

---
