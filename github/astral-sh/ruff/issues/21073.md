---
number: 21073
title: "Documentation for `extend` doesn't accurately describe `lint.ignore` and `lint.select` behavior"
type: issue
state: closed
author: chirizxc
labels:
  - documentation
assignees: []
created_at: 2025-10-25T10:58:24Z
updated_at: 2025-10-31T15:10:16Z
url: https://github.com/astral-sh/ruff/issues/21073
synced_at: 2026-01-07T12:31:13-06:00
---

# Documentation for `extend` doesn't accurately describe `lint.ignore` and `lint.select` behavior

---

_Issue opened by @chirizxc on 2025-10-25 10:58_

The [current documentation](https://docs.astral.sh/ruff/settings/#exclude) for the extend configuration option states:

> "To resolve the current `pyproject.toml` file, Ruff will first resolve this base configuration file, then merge in any properties defined in the current configuration file."

This description is misleading for `lint.ignore` and `lint.select` options, as their behavior depends on whether select is specified in the child configuration.

Actual Behavior:
1. Without select in child config ([code](https://github.com/astral-sh/ruff/blob/0.14.2/crates/ruff_workspace/src/configuration.rs#L1124-L1126))

When select is not specified in the child config, `rule_selections` from parent and child configs are accumulated into a vector, not replaced. 
```toml
# Parent config  
[lint]
select = ["ALL"]
ignore = ["E501"]

# Child config
extend = "../ruff.toml"
[lint]
ignore = ["F401"]

# Result: Both E501 AND F401 are ignored (accumulated)
```
2. With select in child config ([code](https://github.com/astral-sh/ruff/blob/0.14.2/crates/ruff_workspace/src/configuration.rs#L905-L930))

When select is specified in the child config, it triggers a complete reset of select_set, and parent's ignore rules are not applied. 
```toml
# Parent config
[lint]
select = ["ALL"]
ignore = ["E501"]

# Child config
extend = "../ruff.toml"
[lint]
select = ["EM", "TC"]
ignore = ["EM102", "TC001"]

# Result: Only EM102 and TC001 is ignored (parent's E501 is NOT ignored)
```


---

_Renamed from "Documentation for `extend` doesn't accurately describe lint.ignore and lint.select behavior" to "Documentation for `extend` doesn't accurately describe `lint.ignore` and `lint.select` behavior" by @chirizxc on 2025-10-25 11:14_

---

_Comment by @MichaReiser on 2025-10-27 09:00_

Thanks for opening this issue. We're aware that the `select` and `extend-` semantic is somewhat confusing and we're thinking on replacing it with a simpler but more consistent behavior. But that doesn't mean that we can't improve our documentation in the meantime.


I think it makes sense to add a link to the Rule selection page and copy the following paragraph (and adjust it)

> In those scenarios, Ruff uses the "highest-priority" [select](https://docs.astral.sh/ruff/settings/#lint_select) as the basis for the rule set, and then applies [extend-select](https://docs.astral.sh/ruff/settings/#lint_extend-select) and [ignore](https://docs.astral.sh/ruff/settings/#lint_ignore) adjustments. CLI options are given higher priority than pyproject.toml options, and the current pyproject.toml file is given higher priority than any inherited pyproject.toml files.

---

_Label `documentation` added by @MichaReiser on 2025-10-27 09:00_

---

_Referenced in [astral-sh/ruff#21135](../../astral-sh/ruff/pulls/21135.md) on 2025-10-30 09:49_

---

_Closed by @MichaReiser on 2025-10-31 15:10_

---
