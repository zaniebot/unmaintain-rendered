---
number: 13167
title: False negative for D403 when the first sentence only has one word but the whole docstring is longer
type: issue
state: closed
author: dscorbett
labels:
  - rule
assignees: []
created_at: 2024-08-30T18:44:21Z
updated_at: 2024-12-30T10:58:15Z
url: https://github.com/astral-sh/ruff/issues/13167
synced_at: 2026-01-07T12:31:13-06:00
---

# False negative for D403 when the first sentence only has one word but the whole docstring is longer

---

_Issue opened by @dscorbett on 2024-08-30 18:44_

[D403](https://docs.astral.sh/ruff/rules/first-line-capitalized/) has a false negative when the docstring’s first word (tokenized by spaces) is not ASCII alphabetic _and_ the docstring either contains a space or doesn’t end with ASCII terminal punctuation. This is similar to #10775. #10776 only fixed the case where a docstring contains no spaces and ends with ASCII terminal punctuation.

In the following example, `f1` has a true positive and `f2` has a false negative.

```console
$ ruff --version
ruff 0.6.3
$ cat d403.py
def f1():
    """footles."""
def f2():
    """footles.

    This is a no-op.
    """
$ ruff check -q --output-format concise --isolated --select D403 d403.py
d403.py:2:5: D403 [*] First word of the first line should be capitalized: `footles` -> `Footles`
```

---

_Comment by @MichaReiser on 2024-09-02 07:21_

The current behavior is insofar intentional that it matches [pydocstyle](https://github.com/PyCQA/pydocstyle/blob/8d0cdfc93e86e096bb5753f07dc5c7c373e63837/src/pydocstyle/checker.py#L574-L589)

We would have to take a closer look why pydocstyle deliberately excludes all first words that contain any non ASCII characters. 

---

_Label `rule` added by @MichaReiser on 2024-09-02 07:21_

---

_Label `needs-decision` added by @MichaReiser on 2024-09-02 07:21_

---

_Label `needs-decision` removed by @MichaReiser on 2024-09-02 07:22_

---

_Comment by @dscorbett on 2024-09-02 14:36_

Ruff’s D403 already doesn’t match pydocstyle: Ruff flags `f1` and pydocstyle doesn’t. This is intentional due to #10775. As long as Ruff’s behavior is different, I think it should be self-consistent.

---

_Referenced in [astral-sh/ruff#15082](../../astral-sh/ruff/pulls/15082.md) on 2024-12-20 14:59_

---

_Comment by @InSyncWithFoo on 2024-12-30 10:51_

This seems to be reseolved by #15082.

---

_Closed by @MichaReiser on 2024-12-30 10:58_

---
