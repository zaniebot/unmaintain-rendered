---
number: 10397
title: "PyLint false positive PLW0602 when `del` a global"
type: issue
state: closed
author: ilius
labels:
  - bug
assignees: []
created_at: 2024-03-13T22:55:36Z
updated_at: 2024-03-15T00:45:48Z
url: https://github.com/astral-sh/ruff/issues/10397
synced_at: 2026-01-07T12:31:13-06:00
---

# PyLint false positive PLW0602 when `del` a global

---

_Issue opened by @ilius on 2024-03-13 22:55_

Sample code:
```
test_global_var = None


def delete_test_global_var():
	global test_global_var
	if "test_global_var" in globals():
		del test_global_var

```

Command: `ruff check --preview --isolated --select PL del-global.py`
Output:
```
del-global.py:5:9: PLW0603 Using the global statement to update `test_global_var` is discouraged
  |
4 | def delete_test_global_var():
5 |     global test_global_var
  |            ^^^^^^^^^^^^^^^ PLW0603
6 |     if "test_global_var" in globals():
7 |         del test_global_var
  |

del-global.py:5:9: PLW0602 Using global for `test_global_var` but no assignment is done
  |
4 | def delete_test_global_var():
5 |     global test_global_var
  |            ^^^^^^^^^^^^^^^ PLW0602
6 |     if "test_global_var" in globals():
7 |         del test_global_var
  |

Found 2 errors.

```

Version:
```
$ ruff version
ruff 0.3.2
```


---

_Label `bug` added by @charliermarsh on 2024-03-14 15:40_

---

_Comment by @charliermarsh on 2024-03-14 15:40_

Thanks!

---

_Comment by @charliermarsh on 2024-03-14 17:58_

This only occurs when the `del` is in a conditional.

---

_Assigned to @charliermarsh by @charliermarsh on 2024-03-14 21:11_

---

_Referenced in [astral-sh/ruff#10415](../../astral-sh/ruff/pulls/10415.md) on 2024-03-15 00:23_

---

_Closed by @charliermarsh on 2024-03-15 00:45_

---
