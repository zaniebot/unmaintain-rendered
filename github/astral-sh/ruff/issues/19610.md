---
number: 19610
title: SIM905 fix fails on r-string unescapable character concatenation cases
type: issue
state: open
author: MeGaGiGaGon
labels:
  - bug
  - fixes
assignees: []
created_at: 2025-07-29T01:20:23Z
updated_at: 2025-07-29T19:23:17Z
url: https://github.com/astral-sh/ruff/issues/19610
synced_at: 2026-01-07T12:31:13-06:00
---

# SIM905 fix fails on r-string unescapable character concatenation cases

---

_Issue opened by @MeGaGiGaGon on 2025-07-29 01:20_

### Summary

If an r-string contains an un-backslash-escapable character via string concatenation, the fix for [split-static-string (SIM905)](https://docs.astral.sh/ruff/rules/split-static-string/#split-static-string-sim905) will cause a syntax error: 
https://play.ruff.rs/31b14872-6b32-481e-aded-775273a866d1
```powershell
PS >echo 'r"1" "\n".split("1")' | uvx ruff check - --select SIM905 --fix --diff 2>&1 | rg "syntax error"
error: Fix introduced a syntax error. Reverting all changes.
```
Another example:
```powershell
PS >echo @'
r"1" """
""".split("1")
'@ | uvx ruff check - --select SIM905 --fix --diff 2>&1 | rg "syntax error"
error: Fix introduced a syntax error. Reverting all changes.
```

Using the playground to see the resulting fix, both examples fix to:
```py
[r"", r"
"]
```
The issue comes from `\n` not being a valid escape sequence to put in an r-string, so a literal `\n` is inserted, but since the strings are only single quoted it causes a syntax error.

Another example, using `\"` instead of `\n`:
```powershell
PS >echo 'r"" "\"".split("1")' | uvx ruff check - --select SIM905 --fix --diff 2>&1 | rg "syntax error"
error: Fix introduced a syntax error. Reverting all changes.
```
This fixes to:
```py
[r"""]
```
Where the removal of the `\` for the r-string causes an unclosed triple quoted string.

### Version

ruff 0.12.5 (d13228ab8 2025-07-24)

---

_Label `bug` added by @ntBre on 2025-07-29 19:23_

---

_Label `fixes` added by @ntBre on 2025-07-29 19:23_

---

_Referenced in [astral-sh/ruff#19702](../../astral-sh/ruff/pulls/19702.md) on 2025-08-01 23:28_

---
