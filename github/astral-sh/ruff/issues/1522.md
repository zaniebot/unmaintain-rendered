---
number: 1522
title: Generalize import-rewrite infrastructure
type: issue
state: closed
author: charliermarsh
labels:
  - core
assignees: []
created_at: 2023-01-01T02:24:09Z
updated_at: 2023-01-31T12:20:33Z
url: https://github.com/astral-sh/ruff/issues/1522
synced_at: 2026-01-07T12:31:12-06:00
---

# Generalize import-rewrite infrastructure

---

_Issue opened by @charliermarsh on 2023-01-01 02:24_

In #1488, we added some infra to rewrite `mock` imports. But the problem is quite general. We've done similar stuff for `six` imports.

You can see how [pyupgrade](https://github.com/asottile/pyupgrade/blob/97ed6fb3cf2e650d4f762ba231c3f04c41797710/pyupgrade/_plugins/imports.py) handles this problem.

We should at least implement the `REPLACE_EXACT` logic since (I think?) that's what we have for `mock`.


---

_Label `core` added by @charliermarsh on 2023-01-01 02:24_

---

_Comment by @charliermarsh on 2023-01-01 18:15_

I need to look at where else this would be useful.

---

_Comment by @charliermarsh on 2023-01-31 00:58_

This is largely handled by #2049.

---

_Closed by @charliermarsh on 2023-01-31 00:58_

---

_Comment by @JonathanPlasse on 2023-01-31 09:08_

Does it support adding a new import?

---

_Comment by @charliermarsh on 2023-01-31 12:20_

No, but that's tracked in #835.

---
