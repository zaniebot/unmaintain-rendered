---
number: 10661
title: failed to parse toml
type: issue
state: closed
author: anantgupta129
labels:
  - question
  - configuration
assignees: []
created_at: 2024-03-29T14:41:41Z
updated_at: 2024-03-30T10:17:58Z
url: https://github.com/astral-sh/ruff/issues/10661
synced_at: 2026-01-07T12:31:13-06:00
---

# failed to parse toml

---

_Issue opened by @anantgupta129 on 2024-03-29 14:41_

```toml
# Exclude a variety of commonly ignored directories.
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".git-rewrite",
    ".hg",
    ".ipynb_checkpoints",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".pyenv",
    ".pytest_cache",
    ".pytype",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    ".vscode",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
    "site-packages",
    "venv",
]

# Same as Black.
line-length = 99

# Assume Python 3.8
target-version = "py38"

[lint]
ignore = []
select = [
    "E",  # pycodestyle errors
    "W",  # pycodestyle warnings
    "F",  # pyflakes
    "I",  # isort (import ordering)
    "D",  # pydocstyle
]
# Allow fix for all enabled rules (when `--fix`) is provided.
fixable = ["ALL"]
unfixable = []

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"

# Sort imports in groups and by case
[lint.isort]
force-sort-within-sections = true
case_sensitive = true
sections = ["FUTURE", "STDLIB", "THIRDPARTY", "FIRSTPARTY", "LOCALFOLDER"]
force-wrap-aliases = true
combine-as-imports = true

[lint.pydocstyle]
# Use Google-style docstrings.
convention = "google"


[format]
# Like Black, use double quotes for strings.
quote-style = "double"

# Like Black, respect magic trailing commas.
skip-magic-trailing-comma = false

# Like Black, automatically detect the appropriate line ending.
line-ending = "auto"

# Enable auto-formatting of code examples in docstrings. Markdown,
# reStructuredText code/literal blocks and doctests are all supported..
docstring-code-format = true

# Set the line length limit used when formatting code snippets in
# docstrings.
#
# This only has an effect when the `docstring-code-format` setting is
# enabled.
docstring-code-line-length = "dynamic"
```

â†’ ruff check 
ruff failed
  Cause: Failed to parse ruff.toml
  Cause: TOML parse error at line 38, column 1
   |
38 | [lint]
   | ^^^^^^^
unknown field `case_sensitive`, expected one of `force-wrap-aliases`, `force-single-line`, `single-line-exclusions`, `combine-as-imports`, `split-on-trailing-comma`, `order-by-type`, `force-sort-within-sections`, `case-sensitive`, `force-to-top`, `known-first-party`, `known-third-party`, `known-local-folder`, `extra-standard-library`, `relative-imports-order`, `required-imports`, `classes`, `constants`, `variables`, `no-lines-before`, `lines-after-imports`, `lines-between-types`, `forced-separate`, `section-order`, `no-sections`, `detect-same-package`, `from-first`, `length-sort`, `length-sort-straight`, `sections`

help in error with the config 

---

_Comment by @AlexWaygood on 2024-03-29 14:50_

Hi! As the error message states, `case_sensitive` isn't currently a valid field in the `lint.isort` table. You need to use `case-sensitive` (with a hyphen, not an underscore).

---

_Closed by @AlexWaygood on 2024-03-29 14:50_

---

_Label `configuration` added by @AlexWaygood on 2024-03-29 14:51_

---

_Label `question` added by @zanieb on 2024-03-29 15:52_

---

_Comment by @anantgupta129 on 2024-03-30 05:10_

Hi @AlexWaygood 

thanks for the reply
testing on this simple code 
```

def climbStairs(n):
    if n == 1:
        return 1
    if n == 2:
        return 2

    dp = [0] * (n + 1)
    dp[1] = 1  # 1 way to reach the first step
    dp[2] = 2  # 2 ways to reach the second step

    for i in range(3 , n + 1 ) :
        # The number of ways to reach the current step is the sum of
        # the number of ways to reach the previous two steps
        dp[i] = dp[i - 1] + dp[i - 2]

    # x = n
    # y = 1
    # if x == 4: print(x, y); x, y = y , x

    return dp[n]
```

the white space in `range(3 , n + 1 ) :` not getting removed like in black `range(3, n + 1):` using command `ruff check  .\tmp.py --fix`

how to enable this behaviour below is my ruff config 
```
# Exclude a variety of commonly ignored directories.
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".git-rewrite",
    ".hg",
    ".ipynb_checkpoints",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".pyenv",
    ".pytest_cache",
    ".pytype",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    ".vscode",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
    "site-packages",
    "venv",
]

# Same as Black.
line-length = 99
indent-width = 4

# Assume Python 3.8
target-version = "py38"

extend-include = ["*.ipynb"]

[lint]
# Enable Pyflakes (`F`) and a subset of the pycodestyle (`E`)  codes by default.
# Unlike Flake8, Ruff doesn't enable pycodestyle warnings (`W`) or
# McCabe complexity (`C901`) by default.
select = ["E4", "E7", "E9", "F", "B", "Q", "I", "D", "UP"]
ignore = ["D100", "D103"]

# Allow fix for all enabled rules (when `--fix`) is provided.
fixable = ["ALL"]
unfixable = []
extend-select = ["D400", "E501"]

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"

# Sort imports in groups and by case
[lint.isort]
force-sort-within-sections = true
case-sensitive = true
# sections = ["FUTURE", "STDLIB", "THIRDPARTY", "FIRSTPARTY", "LOCALFOLDER"]
force-wrap-aliases = true
combine-as-imports = true

[lint.pycodestyle]
max-doc-length = 101

[lint.pydocstyle]
# Use Google-style docstrings.
convention = "google"

[format]
# Like Black, use double quotes for strings.
quote-style = "double"


# Like Black, respect magic trailing commas.
skip-magic-trailing-comma = false

# Like Black, automatically detect the appropriate line ending.
line-ending = "auto"

# Enable auto-formatting of code examples in docstrings. Markdown,
# reStructuredText code/literal blocks and doctests are all supported.
docstring-code-format = true

# Set the line length limit used when formatting code snippets in
# docstrings.
#
# This only has an effect when the `docstring-code-format` setting is
# enabled.
docstring-code-line-length = "dynamic"
```


---

_Comment by @AlexWaygood on 2024-03-30 10:17_

Hi @anantgupta129 -- `ruff check` only runs the ruff linter on your code. To run the ruff formatter on your code, you'll need to run `ruff format` on your code as well as `ruff check` -- for example, `ruff format .\tmp.py`. The full documentation for the formatter is here: https://docs.astral.sh/ruff/formatter/.

Hope that helps :-)

---
