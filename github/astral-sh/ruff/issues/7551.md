---
number: 7551
title: "Feature Request: Ability to set relative python file paths in the reports"
type: issue
state: open
author: matroscoe
labels:
  - configuration
  - needs-decision
assignees: []
created_at: 2023-09-20T17:52:09Z
updated_at: 2024-10-28T02:01:48Z
url: https://github.com/astral-sh/ruff/issues/7551
synced_at: 2026-01-07T12:31:12-06:00
---

# Feature Request: Ability to set relative python file paths in the reports

---

_Issue opened by @matroscoe on 2023-09-20 17:52_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->
This is happening with the latest version of ruff 
```shell
$ ruff --version 
> ruff 0.0.290
```

Trying to integrate ruff into sonar and it is having a hard time parsing the json output from the following command: 
```shell
ruff --exit-zero --output-file "ruff_report.json" --format json ./<module> ./tests
```
The issue seems to be that the ruff report when run in a GitHub action includes the full path so something like: 
```shell
/home/runner/work/<repo>/<namespace>/<module>/<module>/<module>/<python-file>.py
```
if would be nice to have a `relative` flag so that the report can just use the `<repo>/<namespace>/<module>/<module>/<module>/<python-file>.py` portion. This is the same behavior as the [relative flag in coverage.py](https://coverage.readthedocs.io/en/latest/config.html#run-relative-files) 

The error reported by sonar: 
```shell
WARN: Failed to resolve 178 file path(s) in Ruff report. No issues imported related to file(s):/home/runner/work/<repo>/<namespace>/<module>/<module>/<module>/<python-file>.py; .... (it goes on to list every file reporting an issue)
```

---

_Label `configuration` added by @charliermarsh on 2023-09-22 03:49_

---

_Label `needs-decision` added by @charliermarsh on 2023-09-22 03:49_

---

_Comment by @matroscoe on 2023-09-29 18:18_

for more background we are trying to have the report generated ingested into `sonarcloud` as a backup to pre-commit not working or being missed when it is run and sonar seems to be having problems with the fully justified paths that are generated when it is run as an action: https://community.sonarsource.com/t/importing-mypy-report-into-sonarcloud-from-pre-commit/101495/8

---

_Comment by @zanieb on 2023-09-29 18:33_

I think that the JSON output just uses absolute paths (whereas our default output uses relative paths). Would the addition of a relative path field in our JSON output suffice?

---

_Comment by @charliermarsh on 2023-09-29 18:37_

Hmm, how does ESLint solve this problem? They use absolute paths too.

---

_Comment by @matroscoe on 2023-09-29 19:29_

I think it would, the absolute paths aren't an issue for us locally it is only causing problems when they are being run as a part of a GitHub action.

---

_Comment by @philipp-horstenkamp on 2024-01-19 16:11_

I used the ruff pylint style export and imported them as pylint issues. This is not a thing of beauty. But it works.
But yes i agree. A json export with relativ paths would be nice.

---

_Comment by @crimsonknave on 2024-07-19 22:00_

I'm currently using the following workaround for an action where we run ruff inside a docker container and the paths don't match. My app is installed in `/app/` in the dockerfile. The sed strips that out to give a relative path. I believe that you should be able to do something similar for the json file, but `jq` might be a better tool there.

```bash
ruff check --output-format=github --output-file=ruff.txt
cat ruff.txt | sed 's/\/app\///'
```

---

_Comment by @PhorstenkampFuzzy on 2024-08-30 12:54_

We are executing ruff as a fallback in jenkins and import the reports into SonarQube for ease of visualisation / tracking.
The current implementation with exporting in the pylint format works but isn't quiet as smooth as it could be.
Is there any way this could be implemented soonish? ðŸ™‡ 

---

_Comment by @badrobit on 2024-10-28 02:01_

hey, was checking in to see if there had been any movement on this? it is mainly an issue when feeding into tools for overall quality monitoring such as `SonarCloud`

---
