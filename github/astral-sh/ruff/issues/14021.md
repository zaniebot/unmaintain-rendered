---
number: 14021
title: "Sort imports: zoneinfo ends up in 3rd party section"
type: issue
state: closed
author: minusf
labels:
  - question
  - isort
  - configuration
assignees: []
created_at: 2024-10-31T15:39:46Z
updated_at: 2024-10-31T16:45:38Z
url: https://github.com/astral-sh/ruff/issues/14021
synced_at: 2026-01-07T12:31:13-06:00
---

# Sort imports: zoneinfo ends up in 3rd party section

---

_Issue opened by @minusf on 2024-10-31 15:39_

I am a bit confused about `zoneinfo` ending up behind `requests`:

```
% ruff --version
ruff 0.7.1

% cat .config/ruff/pyproject.toml
[tool.ruff]
line-length = 100
extend-exclude = [
  "**/migrations/*.py",
]
[tool.ruff.lint]
preview = true
select = [
  "A",      # https://pypi.org/project/flake8-builtins/
  "B",      # https://pypi.org/project/flake8-bugbear/
  "C4",     # https://pypi.org/project/flake8-comprehensions/
  "C90",    # https://pypi.org/project/mccabe/
  "DJ",     # https://pypi.org/project/flake8-django/
  "DTZ",    # https://pypi.org/project/flake8-datetimez/
  "E", "W", # https://pypi.org/project/pycodestyle/
  "F",      # https://pypi.org/project/pyflakes/
  "FURB",   # https://pypi.org/project/refurb/
  "G",      # https://pypi.org/project/flake8-logging-format/
  "I",      # https://pypi.org/project/isort/
  "N",      # https://pypi.org/project/pep8-naming/
  "PERF",   # https://pypi.org/project/perflint/
  "PIE",    # https://pypi.org/project/flake8-pie/
  "PL",     # https://pypi.org/project/pylint/
  "PT",     # https://pypi.org/project/flake8-pytest-style/
  "PTH",    # https://pypi.org/project/flake8-use-pathlib/
  "RET",    # https://pypi.org/project/flake8-return/
  "RUF",    # Ruff-specific rules
  "S",      # https://pypi.org/project/flake8-bandit/
  "SIM",    # https://pypi.org/project/flake8-simplify/
  "UP",     # https://pypi.org/project/pyupgrade/
]
ignore = [
  "RUF012",   # https://docs.astral.sh/ruff/rules/mutable-class-default/
  "S101",     # https://docs.astral.sh/ruff/rules/assert/
  "PLR6301",  # https://docs.astral.sh/ruff/rules/no-self-use/
  "F401",     # just for this test
]
[tool.ruff.lint.flake8-pytest-style]
fixture-parentheses = false
mark-parentheses = false
[tool.ruff.lint.isort]
lines-between-types = 1
section-order = ["future", "standard-library", "third-party", "django", "wagtail", "first-party", "local-folder"]
[tool.ruff.lint.isort.sections]
"django" = ["django"]
"wagtail" = ["wagtail"]

% cat test.py
import datetime
import logging
import os
import zoneinfo

from time import sleep

import requests

% ruff check test.py
test.py:1:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 | / import datetime
2 | | import logging
3 | | import os
4 | | import zoneinfo
5 | |
6 | | from time import sleep
7 | |
8 | | import requests
  |
  = help: Organize imports

% ruff check --fix test.py
Found 1 error (1 fixed, 0 remaining).

% cat test.py
import datetime
import logging
import os

from time import sleep

import requests
import zoneinfo
```

---

_Comment by @AlexWaygood on 2024-10-31 16:36_

Sorry for the confusion here.

This is because you don't set [`project.requires-python`](https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#python-requires) or [`tool.ruff.target-version`](https://docs.astral.sh/ruff/settings/#target-version) in your pyproject.toml configuration file. Because neither option is set, we fall back to assuming our default Python version -- which is currently Python 3.8. `zoneinfo` was added to the standard library in Python 3.9, which means that we come to the conclusion that `zoneinfo` is _not_ a standard-library import on Python 3.8, and therefore not a standard-library import in your code with `--target-version py38` (the default).

I think we should probably change our default Python version in our next minor release. Until then, you can make Ruff understand that `zoneinfo` is a standard-library import in your code by setting `tool.ruff.target-version` to `py39` or higher in your `.config/ruff/pyproject.toml` file.

---

_Label `question` added by @AlexWaygood on 2024-10-31 16:36_

---

_Label `isort` added by @AlexWaygood on 2024-10-31 16:36_

---

_Label `configuration` added by @AlexWaygood on 2024-10-31 16:36_

---

_Comment by @minusf on 2024-10-31 16:44_

That makes complete sense, I overlooked this part. Thanks and closing.

---

_Closed by @minusf on 2024-10-31 16:44_

---
