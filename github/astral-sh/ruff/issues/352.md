---
number: 352
title: M001 is not working
type: issue
state: closed
author: adriangb
labels: []
assignees: []
created_at: 2022-10-07T20:37:50Z
updated_at: 2022-10-07T20:57:11Z
url: https://github.com/astral-sh/ruff/issues/352
synced_at: 2026-01-07T12:31:12-06:00
---

# M001 is not working

---

_Issue opened by @adriangb on 2022-10-07 20:37_

With ruff v0.0.59 given a file like:

```python
def foo() -> None:
    a = 1  # noqa: F401
    print(a)
```

Running:

```shell
ruff --extend-select M001 test.py
```

There are no errors

---

_Comment by @charliermarsh on 2022-10-07 20:48_

Interestingly I actually get:

```
âˆ´ ruff --select M001 foo.py
Found 1 error(s).
foo.py:2:10: M001 Unused `noqa` directive for: F401
1 potentially fixable with the --fix option.
```

---

_Comment by @charliermarsh on 2022-10-07 20:48_

Does `ruff --show-settings test.py` have anything interesting?

---

_Comment by @adriangb on 2022-10-07 20:51_

Oh duh user error, I had a config file floating around...

---

_Closed by @adriangb on 2022-10-07 20:51_

---

_Comment by @charliermarsh on 2022-10-07 20:54_

Out of curiosity: what was the config file doing? Did it have an explicit ignore on M001? Something else?

---

_Comment by @adriangb on 2022-10-07 20:55_

> Did it have an explicit ignore on M001?

Yes ğŸ¤¦ğŸ» , I don't even remember why I put it in there. Embarrassing.

---

_Comment by @charliermarsh on 2022-10-07 20:57_

Not embarrassing at all! It's bad that it was confusing for you as the user. If you explicitly `--select` something that's ignored by the config, we should warn you.

---

_Referenced in [astral-sh/ruff#355](../../astral-sh/ruff/issues/355.md) on 2022-10-07 20:58_

---
