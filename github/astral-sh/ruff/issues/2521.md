---
number: 2521
title: "`SLF001`: False negative when `self`/`cls` not direct ancestor"
type: issue
state: closed
author: ngnpope
labels: []
assignees: []
created_at: 2023-02-03T09:46:50Z
updated_at: 2023-02-03T12:39:26Z
url: https://github.com/astral-sh/ruff/issues/2521
synced_at: 2026-01-07T12:31:12-06:00
---

# `SLF001`: False negative when `self`/`cls` not direct ancestor

---

_Issue opened by @ngnpope on 2023-02-03 09:46_

Here's some example code:
```python
class Request:
    _private = True

class View:
    def __init__(self, request):
        self.request = request

    def process():
        if self.request._private:  # False Negative
            return None
        return self.request

request = Request()
view = View(request)
assert request._private  # SLF001
assert view.request._private  # False Negative
```
Which yields the following:
```console
‚ùØ ruff --version
ruff 0.0.240

‚ùØ ruff --select SLF001 bug.py 
bug.py:15:8: SLF001 Private member accessed: `request._private`
Found 1 error.
```

@saadmk11 Linking you in to this one... Thanks for [implementing](https://github.com/charliermarsh/ruff/pull/2470) this plugin ü¶∏üèª 

---

_Comment by @saadmk11 on 2023-02-03 10:46_

Oops! Missed a case. Thanks for finding it. :)

---

_Referenced in [astral-sh/ruff#2527](../../astral-sh/ruff/pulls/2527.md) on 2023-02-03 11:01_

---

_Closed by @charliermarsh on 2023-02-03 12:39_

---
