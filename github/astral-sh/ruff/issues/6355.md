---
number: 6355
title: "Should S108 be detected in `tempfile.TemporaryDirectory(dir=\"/dev/shm\")`?"
type: issue
state: closed
author: mihaic
labels:
  - accepted
assignees: []
created_at: 2023-08-04T23:08:26Z
updated_at: 2023-08-09T04:52:32Z
url: https://github.com/astral-sh/ruff/issues/6355
synced_at: 2026-01-07T12:31:12-06:00
---

# Should S108 be detected in `tempfile.TemporaryDirectory(dir="/dev/shm")`?

---

_Issue opened by @mihaic on 2023-08-04 23:08_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->
Considering the following contents of `issue.py` (no other files, no `pyproject.toml`):
```python
import tempfile

with tempfile.TemporaryDirectory(dir="/dev/shm") as tmp:
    pass
```

S108 is detected:
```
ruff check --select S108 --isolated issue.py
issue.py:3:38: S108 Probable insecure usage of temporary file or directory: "/dev/shm"
Found 1 error.
```

Shouldn't the usage of `TemporaryDirectory` preclude S108?

```
ruff --version
ruff 0.0.282
```

---

_Comment by @charliermarsh on 2023-08-04 23:15_

Yeah, it should probably be allowed.

---

_Label `accepted` added by @charliermarsh on 2023-08-04 23:15_

---

_Referenced in [astral-sh/ruff#6416](../../astral-sh/ruff/pulls/6416.md) on 2023-08-08 04:54_

---

_Closed by @dhruvmanila on 2023-08-09 04:52_

---
