---
number: 4842
title: "UP006: autofix does not work if there is a method of the same name"
type: issue
state: closed
author: saippuakauppias
labels: []
assignees: []
created_at: 2023-06-03T21:58:59Z
updated_at: 2023-06-04T02:03:11Z
url: https://github.com/astral-sh/ruff/issues/4842
synced_at: 2026-01-07T12:31:12-06:00
---

# UP006: autofix does not work if there is a method of the same name

---

_Issue opened by @saippuakauppias on 2023-06-03 21:58_

Example:
```python
from typing import Set


class FooBar:
    def set(self, data: str) -> None:
        ...

    def prefetch(self, fields: Set[str]) -> None:
        ...
```

Output:
```shell
$ ruff --fix --select UP006 ruff_errors/UP006.py
ruff_errors/UP006.py:8:32: UP006 Use `set` instead of `Set` for type annotation
Found 1 error.
```

---

_Renamed from "UP006: Autocorrect does not work if there is a method of the same name" to "UP006: autofix does not work if there is a method of the same name" by @saippuakauppias on 2023-06-03 22:05_

---

_Comment by @charliermarsh on 2023-06-04 02:03_

This is intentional though -- you can't use `set` there. If you do, Mypy gives you:

```
foo.py:8: error: Function "foo.FooBar.set" is not valid as a type  [valid-type]
foo.py:8: note: Perhaps you need "Callable[...]" or a callback protocol?
```

And Pyright gives you:

```
/Users/crmarsh/workspace/staging/foo.py
  /Users/crmarsh/workspace/staging/foo.py:8:32 - error: Expected type expression but received "(self: Self@FooBar, data: str) -> None" (reportGeneralTypeIssues)
1 error, 0 warnings, 0 informations
```

So, I think it's correct to warn but not fix here.

---

_Closed by @charliermarsh on 2023-06-04 02:03_

---
