---
number: 17806
title: Should there be a generic docstring formatting checker
type: issue
state: open
author: kivicode
labels:
  - question
assignees: []
created_at: 2025-05-03T04:31:18Z
updated_at: 2025-05-03T15:38:34Z
url: https://github.com/astral-sh/ruff/issues/17806
synced_at: 2026-01-07T12:31:13-06:00
---

# Should there be a generic docstring formatting checker

---

_Issue opened by @kivicode on 2025-05-03 04:31_

### Question

Hi,
I'm currently building a tool for docstring linting.
The idea is to verify whether a docstring matches a given format, based on an arbitrary template defined in Mustache.

I know that Ruff already supports some degree of validation against common formats (e.g., Google, NumPy, etc.).
My question is: would the Astral team be interested in adding this kind of functionality into Ruff, or should it remain as a separate tool?

If you're open to the idea, Iâ€™d be happy to handle the Rust rewrite myself and would just need some support with integration at the later stages.

### Version

_No response_

---

_Label `question` added by @kivicode on 2025-05-03 04:31_

---

_Comment by @MichaReiser on 2025-05-03 13:52_

Can you share some more details on how such a template in Mustache looks like and how it would do the matching?

This does sound interesting, but it will require some figuring out how this fits into our rules structure (we plan to change it in the near future). We're currently very thin stretched, which is why I don't think we'll get to this anytime soon. I'm sorry.

---

_Comment by @kivicode on 2025-05-03 15:38_

I'm basing the syntax off the autoDocstring extension for VSCode, a typical mustache template would look something like [this](https://github.com/NilsJPWerner/autoDocstring/blob/master/src/docstring/templates/google.mustache).

<details>
<summary> Example </summary>

```mustache
{{! Google Docstring Template }}
{{summaryPlaceholder}}

{{extendedSummaryPlaceholder}}
{{#parametersExist}}

Args:
{{#args}}
    {{var}} ({{typePlaceholder}}): {{descriptionPlaceholder}}
{{/args}}
{{#kwargs}}
    {{var}} ({{typePlaceholder}}, optional): {{descriptionPlaceholder}}. Defaults to {{&default}}.
{{/kwargs}}
{{/parametersExist}}
{{#exceptionsExist}}

Raises:
{{#exceptions}}
    {{type}}: {{descriptionPlaceholder}}
{{/exceptions}}
{{/exceptionsExist}}
{{#returnsExist}}

Returns:
{{#returns}}
    {{typePlaceholder}}: {{descriptionPlaceholder}}
{{/returns}}
{{/returnsExist}}
{{#yieldsExist}}

Yields:
{{#yields}}
    {{typePlaceholder}}: {{descriptionPlaceholder}}
{{/yields}}
{{/yieldsExist}}
```

</details>

My current implementation is at about the POC stage at the moment, but the core idea is to use a function signature information to match the "static/literal" parts of the template and then attempt to assign the rest of the sections with backtracking.

I'm still figuring out some customization and reporting details, but it should be able to report stuff like `"Invalid argument docstring for parameter A of function foo"`. At the moment, I'm implementing it in python, but I wouldn't expect many problems porting it to rust.

To be clear, I have no problem keeping it as a separate tool, just curious if that would fit the ruff narrative :)

---
