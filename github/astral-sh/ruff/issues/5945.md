---
number: 5945
title: False positive with isort rule I001 in jupyter notebooks
type: issue
state: closed
author: felix-cw
labels: []
assignees: []
created_at: 2023-07-21T10:57:51Z
updated_at: 2023-07-21T13:39:03Z
url: https://github.com/astral-sh/ruff/issues/5945
synced_at: 2026-01-07T12:31:12-06:00
---

# False positive with isort rule I001 in jupyter notebooks

---

_Issue opened by @felix-cw on 2023-07-21 10:57_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

Short summary: I think this problem is very similar to https://github.com/nbQA-dev/nbQA/issues/806

I am using the current latest version: `0.0.278`
This problem arises when you have a jupyter notebook containing a cell with imports without a trailing newline, followed by another cell without a leading newline, and you run ruff with rule `I001` selected.

My example notebook has the following cells:

```python
import os
```

```python
print("hello world")
```

If I run the command below, it shows an I001 violation, because there is no blank line separating the imports from the rest of the code.

```bash
ruff check ruff-isort.ipynb --no-cache --select=I001 --isolated --show-source
```

```text
ruff-isort.ipynb:cell 1:1:1: I001 [*] Import block is un-sorted or un-formatted
  |
1 | / import os
2 | | print("hello world")
  | |_^ I001
  |
  = help: Organize imports

Found 1 error.
[*] 1 potentially fixable with the --fix option.
```

Also, when I run the command with the --fix option, no changes are made to the file and the error persists.

As in the nbQA issue mentioned above, the issue might be addressed by adding 2 newlines between cells instead of 1 in the intermediate code.

Thanks all for this amazing tool!




---

_Comment by @dhruvmanila on 2023-07-21 13:32_

Hey, thanks for opening this issue and using Ruff on Jupyter Notebooks during the experimental phase! :)

This was fixed in #5876 and will be available in the next release.

---

_Closed by @dhruvmanila on 2023-07-21 13:32_

---

_Comment by @charliermarsh on 2023-07-21 13:39_

Thank you @felix-cw, really appreciate the issue!

---
