---
number: 4267
title: "There is a string in the first line of the code.  However, ruff raises an error of RUF002 which says \"Docstring contains ambiguous unicode character\". "
type: issue
state: closed
author: yuji38kwmt
labels: []
assignees: []
created_at: 2023-05-07T08:32:57Z
updated_at: 2023-05-07T13:51:21Z
url: https://github.com/astral-sh/ruff/issues/4267
synced_at: 2026-01-07T12:31:12-06:00
---

# There is a string in the first line of the code.  However, ruff raises an error of RUF002 which says "Docstring contains ambiguous unicode character". 

---

_Issue opened by @yuji38kwmt on 2023-05-07 08:32_

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->

# Python code

`sample.py`

```python
"ａ"
a = "ａ"
"ａ"
```

# Command

```
$ ruff check sample.py --select RUF
sample.py:1:2: RUF002 [*] Docstring contains ambiguous unicode character `ａ` (did you mean `a`?)
sample.py:2:6: RUF001 [*] String contains ambiguous unicode character `ａ` (did you mean `a`?)
sample.py:3:2: RUF001 [*] String contains ambiguous unicode character `ａ` (did you mean `a`?)
Found 3 errors.
[*] 3 potentially fixable with the --fix option.
```

# Issue
There is a string in the first line of the code. 
However, when I run Ruff, it raises an error of RUF002 which says "Docstring contains ambiguous unicode character". 
I believe that Ruff should raise an error of RUF001 which says "String contains ambiguous unicode character".




# Settings
no pyproject.toml

# Version

```
$ ruff --version
ruff 0.0.264

```




---

_Comment by @charliermarsh on 2023-05-07 13:51_

While a bit confusing, I think this might be correct, since Python does consider that top-level string `"a"` to be a docstring.

If you run `help(sample)`:

```
Help on module sample:

NAME
    sample - ａ

DATA
    a = 'ａ'

FILE
    /Users/crmarsh/workspace/ruff/sample.py
```

Notice that the docstring appears after `sample -`. So from Python's perspective, it _is_ a docstring, even if it doesn't seem like one, unless I'm mistaken.


---

_Closed by @charliermarsh on 2023-05-07 13:51_

---
