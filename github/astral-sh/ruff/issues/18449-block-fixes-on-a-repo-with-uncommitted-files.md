---
number: 18449
title: Block fixes on a repo with uncommitted files?
type: issue
state: open
author: etiennebacher
labels:
  - cli
  - wish
assignees: []
created_at: 2025-06-03T21:39:53Z
updated_at: 2025-06-04T05:12:17Z
url: https://github.com/astral-sh/ruff/issues/18449
synced_at: 2026-01-07T13:12:16-06:00
---

# Block fixes on a repo with uncommitted files?

---

_Issue opened by @etiennebacher on 2025-06-03 21:39_

Hello, while using `cargo fix` on a repo that uses version control, I got this error:

> error: the working directory of this package has uncommitted changes, and `cargo fix` can potentially perform destructive changes; if you'd like to suppress this error pass `--allow-dirty`, or commit the changes to these files: <list of files>

I thought this was very useful. In the absence of this check, it can be very hard to see the changes generated by `cargo fix`.

It made me realize that Ruff doesn't have this kind of check (and therefore doesn't have an equivalent of `--allow-dirty`). This would seem quite useful to me and therefore I'm surprised I haven't found a single issue or documentation item mentioning this. I looked for "dirty", "uncommitted", and "unstaged" in the issues and docs, I hope I didn't overlook something obvious. 

Has this been discussed before? Does it make sense to implement this feature (which would likely break some workflow since previous calls to `--fix` would now be blocked)? If not, maybe the [section on fixes](https://docs.astral.sh/ruff/linter/#fixes) could suggest using version control before applying `--fix`.

---

ruff 0.11.12

---

_Label `cli` added by @MichaReiser on 2025-06-04 05:12_

---

_Label `wish` added by @MichaReiser on 2025-06-04 05:12_

---

_Referenced in [etiennebacher/jarl#23](../../etiennebacher/jarl/issues/23.md) on 2025-06-04 07:01_

---
