---
number: 2955
title: "PT006: ignores parametrize markers on classes"
type: issue
state: closed
author: bastimeyer
labels:
  - rule
  - needs-decision
assignees: []
created_at: 2023-02-16T16:08:41Z
updated_at: 2024-12-02T13:11:21Z
url: https://github.com/astral-sh/ruff/issues/2955
synced_at: 2026-01-07T12:31:12-06:00
---

# PT006: ignores parametrize markers on classes

---

_Issue opened by @bastimeyer on 2023-02-16 16:08_

before
```py
import pytest


@pytest.mark.parametrize("foo,bar", [(1, 2), (3, 4)])
class Foo:
    def test_foo(self, foo: int, bar: int):
        assert foo < bar


@pytest.mark.parametrize("foo,bar", [(1, 2), (3, 4)])
def test_bar(foo: int, bar: int):
    assert foo < bar
```

lint & fix
```
$ ruff --version
ruff 0.0.247

$ ruff --select PT006 PT006.py 
PT006.py:10:26: PT006 [*] Wrong name(s) type in `@pytest.mark.parametrize`, expected `tuple`
Found 1 error.
[*] 1 potentially fixable with the --fix option.

$ ruff --select PT006 --fix PT006.py
Found 1 error (1 fixed, 0 remaining).
```

after
```py
import pytest


@pytest.mark.parametrize("foo,bar", [(1, 2), (3, 4)])
class Foo:
    def test_foo(self, foo: int, bar: int):
        assert foo < bar


@pytest.mark.parametrize(("foo", "bar"), [(1, 2), (3, 4)])
def test_bar(foo: int, bar: int):
    assert foo < bar
```

expected
```py
import pytest


@pytest.mark.parametrize(("foo", "bar"), [(1, 2), (3, 4)])
class Foo:
    def test_foo(self, foo: int, bar: int):
        assert foo < bar


@pytest.mark.parametrize(("foo", "bar"), [(1, 2), (3, 4)])
def test_bar(foo: int, bar: int):
    assert foo < bar
```

---

_Comment by @charliermarsh on 2023-02-16 16:56_

@edgarrmondragon - Do you know if these rules can just be applied "blindly" to classes, as to functions?

---

_Label `question` added by @charliermarsh on 2023-02-16 17:11_

---

_Label `rule` added by @charliermarsh on 2023-07-10 01:18_

---

_Label `needs-decision` added by @charliermarsh on 2023-07-10 01:18_

---

_Label `question` removed by @charliermarsh on 2023-07-10 01:18_

---

_Comment by @harupy on 2024-12-02 12:19_

@charliermarsh @MichaReiser I think #14515 fixed this issue (preview mode is required to check any `pytest.mark.parametrize` calls).

---

_Comment by @MichaReiser on 2024-12-02 13:11_

Thanks @harupy 

---

_Closed by @MichaReiser on 2024-12-02 13:11_

---
