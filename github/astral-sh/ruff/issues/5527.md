---
number: 5527
title: "Add opposite of `extend` field or add it as cli option"
type: issue
state: open
author: axd1x8a
labels:
  - configuration
  - needs-decision
assignees: []
created_at: 2023-07-05T07:45:28Z
updated_at: 2023-07-10T01:07:56Z
url: https://github.com/astral-sh/ruff/issues/5527
synced_at: 2026-01-07T12:31:12-06:00
---

# Add opposite of `extend` field or add it as cli option

---

_Issue opened by @axd1x8a on 2023-07-05 07:45_

So, I have many projects that may or may not use ruff and have a global config `ruff.toml` in the home directory. I want ruff to replace the settings from the global config with those in the project, as if every `pyproject.toml` had `extend`.


> Why not just copy the settings to each project? 

Unfortunately, I can't get others to use the same settings that I have. For the same reason I can't use extend in `pyproject`, it won't work without my global configuration.

> Why not do the opposite?

In this case, the global config will replace the local settings, which may have exceptions for certain files (e.g. ignore errors in tests).

### My suggestion: 

- Add a `require` field, which will try to update the config with what is passed to it, and if there is no such file, do nothing

```toml
# ~/ruff.toml
require = "${PWD}/pyproject.toml"
```
```sh
ruff --config ~/ruff.toml
```
#### OR
- Add a `--extend` flag that would work as `extend` in `./pyproject.toml`

Example: `ruff --extend ~/ruff.toml .`


---

_Label `question` added by @charliermarsh on 2023-07-05 13:34_

---

_Label `configuration` added by @charliermarsh on 2023-07-05 13:34_

---

_Label `question` removed by @charliermarsh on 2023-07-10 01:07_

---

_Label `needs-decision` added by @charliermarsh on 2023-07-10 01:07_

---
