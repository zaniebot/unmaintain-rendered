---
number: 8215
title: "Format: Blank lines before classes minor inconsistency"
type: issue
state: closed
author: Paul-Aime
labels:
  - bug
  - formatter
assignees: []
created_at: 2023-10-25T13:19:31Z
updated_at: 2023-10-26T00:32:01Z
url: https://github.com/astral-sh/ruff/issues/8215
synced_at: 2026-01-07T12:31:12-06:00
---

# Format: Blank lines before classes minor inconsistency

---

_Issue opened by @Paul-Aime on 2023-10-25 13:19_

`ruff format` generally adds two blank lines between a class and a previous commented line.
But it does not if the class is the first line of code of the file.

Not a bug and only a minor inconsistency, but also `black` does always add two blank lines, so just documenting the behavior here.

**Reproducible example**

Consider following file `ruff_inconsistency.py`:

```python
# a = 1  # uncomment to change behavior

# comment

class A:
    def foo(self):
        pass

# comment

class B:
    def bar(self):
        pass
```

will format into:

```python
# a = 1  # uncomment to change behavior

# comment

class A:
    def foo(self):
        pass


# comment


class B:
    def bar(self):
        pass
```

We can see a single blank line before `class A:` but two blank lines before `class B:`.

As a note, `black` does not exhibit that behavior, and consistently add two blank lines:

```bash
$ diff <(black -q - < ruff_inconsistency.py) <(ruff format -q - < ruff_inconsistency.py)
5d4
<
```

**Versions**

```bash
$ ruff --version
ruff 0.1.2

$ black --version
black, 23.10.0 (compiled: no)
Python (CPython) 3.12.0
```

<!--
Thank you for taking the time to report an issue! We're glad to have you involved with Ruff.

If you're filing a bug report, please consider including the following information:

* A minimal code snippet that reproduces the bug.
* The command you invoked (e.g., `ruff /path/to/file.py --fix`), ideally including the `--isolated` flag.
* The current Ruff settings (any relevant sections from your `pyproject.toml`).
* The current Ruff version (`ruff --version`).
-->


---

_Label `bug` added by @charliermarsh on 2023-10-25 18:00_

---

_Label `formatter` added by @charliermarsh on 2023-10-25 18:00_

---

_Added to milestone `Formatter: Stable` by @charliermarsh on 2023-10-25 18:00_

---

_Comment by @charliermarsh on 2023-10-25 18:00_

Thanks!

---

_Assigned to @charliermarsh by @charliermarsh on 2023-10-25 18:56_

---

_Referenced in [astral-sh/ruff#8224](../../astral-sh/ruff/pulls/8224.md) on 2023-10-25 18:58_

---

_Closed by @charliermarsh on 2023-10-26 00:32_

---
