---
number: 5150
title: Ruff fails on the issue introduced during fix
type: issue
state: closed
author: Cjkjvfnby
labels:
  - fixes
assignees: []
created_at: 2023-06-16T17:17:55Z
updated_at: 2025-02-02T19:52:43Z
url: https://github.com/astral-sh/ruff/issues/5150
synced_at: 2026-01-07T12:31:12-06:00
---

# Ruff fails on the issue introduced during fix

---

_Issue opened by @Cjkjvfnby on 2023-06-16 17:17_

Applying FLY002 to the code creates a code that does not pass `E501 Line too long`

This check is mentioned in the https://github.com/astral-sh/ruff/issues/2102

Code sample:
```python
expected = "\n".join(
    [
        "=== long text ======================================================================",
        "=== long text ======================================================================",
    ],
)
```

```shell
ruff scratch.py
scratch.py:1:12: FLY002 [*] Consider `"=== long text ======================================================================\n=== long text ======================================================================"` instead of string join    
Found 1 errors.
[*] 1 potentially fixable with the --fix option.
```

```shell
ruff scratch.py --fix
scratch.py:1:99: E501 Line too long (183 > 98 characters)
Found 1 errors (1 fixed, 0 remaining).
```



---

_Label `autofix` added by @charliermarsh on 2023-06-17 04:30_

---

_Referenced in [astral-sh/ruff#15706](../../astral-sh/ruff/pulls/15706.md) on 2025-01-24 03:13_

---

_Comment by @MichaReiser on 2025-02-02 19:52_

I think in this case it's best to use a noqa comment. We used to consider the line length for some rules but this can lead to undesired false-negatives because it's far from a good metric for complexity. 

Another alternative here, but it requires human intervention, is to use a multiline string instead. 

---

_Closed by @MichaReiser on 2025-02-02 19:52_

---
