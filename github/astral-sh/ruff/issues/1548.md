---
number: 1548
title: noqa comments do not work on multiline function signatures
type: issue
state: closed
author: marscher
labels:
  - suppression
assignees: []
created_at: 2023-01-02T09:02:52Z
updated_at: 2023-01-03T10:26:20Z
url: https://github.com/astral-sh/ruff/issues/1548
synced_at: 2026-01-07T12:31:12-06:00
---

# noqa comments do not work on multiline function signatures

---

_Issue opened by @marscher on 2023-01-02 09:02_

Ruff-0.0.204 accepts `noqa` selector comments if the signature is contained in one line. But it fails if the signature gets wrapped along multiple lines. The latter sometimes happens for long parameters lists leading to too long lines.


Ruff ignores C901 as expected
```python
def foo(a: int, b: float) -> float:  # noqa: C901
    pass
```

Ruff reports C901 for this:
```python
def foo(a: int,
            b: float
) -> float:  # noqa: C901
    pass
```

---

_Renamed from "noqa comment do not work on multiline function signatures" to "noqa comments do not work on multiline function signatures" by @marscher on 2023-01-02 10:24_

---

_Comment by @charliermarsh on 2023-01-02 18:36_

The desired placement is like this:

```py
def foo(  # noqa: C901
    a: int,
    b: float,
) -> float:
    pass
```

Which is consistent with Flake8, so I think this is working as intended!

---

_Closed by @charliermarsh on 2023-01-02 18:36_

---

_Label `noqa` added by @charliermarsh on 2023-01-02 18:36_

---

_Comment by @marscher on 2023-01-03 10:26_

Thanks for the clarification! I will now blame my IDE :+1: 

---
