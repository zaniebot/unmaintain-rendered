---
number: 3332
title: "Use version from  `requires-python` if `target-version` is undefined"
type: issue
state: closed
author: WhyNotHugo
labels: []
assignees: []
created_at: 2023-03-04T02:16:15Z
updated_at: 2023-03-04T16:07:57Z
url: https://github.com/astral-sh/ruff/issues/3332
synced_at: 2026-01-07T12:31:12-06:00
---

# Use version from  `requires-python` if `target-version` is undefined

---

_Issue opened by @WhyNotHugo on 2023-03-04 02:16_

If `target-version` is undefined, use the minimal `target-version` from [PEP-621](https://peps.python.org/pep-0621/#requires-python).

This is what black does: https://github.com/psf/black/pull/3219

Mainly, it means we don't have to repeat the target python twice in pyproject.toml.

---

_Comment by @charliermarsh on 2023-03-04 04:04_

100%. I think this is a dupe of #2039 so closing in favor of that. I'd love for someone to contribute this :)

---

_Closed by @charliermarsh on 2023-03-04 04:04_

---

_Comment by @WhyNotHugo on 2023-03-04 10:13_

Too many false positives looking for “python”, “version” and “target” in issues.

I’ll follow that one, thanks.

---

_Comment by @charliermarsh on 2023-03-04 16:07_

Haha no worries.

---
