---
number: 1018
title: Incorrect suggestions for flag under subcommand
type: issue
state: closed
author: wabain
labels: []
assignees: []
created_at: 2017-08-05T16:39:14Z
updated_at: 2018-08-02T03:30:10Z
url: https://github.com/clap-rs/clap/issues/1018
synced_at: 2026-01-07T12:31:16-06:00
---

# Incorrect suggestions for flag under subcommand

---

_Issue opened by @wabain on 2017-08-05 16:39_

### Rust Version

`rustc 1.19.0 (0ade33941 2017-07-17)`

### Affected Version of clap

version 2.26.0

### Expected Behavior Summary

When a flag is passed for which no suggestions are found, but for which there is a suggested flag under a subcommand, clap suggests invoking the subcommand with the flag. A message might look like:

> error: Found argument '--subcm' which wasn't expected, or isn't valid in this context
>     Did you mean to put '--subcmdarg' after the subcommand 'subcmd'

### Actual Behavior Summary

The suggestion is misformatted -- it puts the input flag in place of the suggested flag and the suggested flag in place of the subcommand.

The test `subcmd_did_you_mean_output` actually exemplifies the issue. It has the output:

> error: Found argument '--subcmdarg' which wasn't expected, or isn't valid in this context
>     Did you mean to put '--subcmdarg' after the subcommand 'subcmdarg'?

The second `subcmdarg` should be `subcmd`.

### Sample Code or Link to Sample Code

[Here.](https://github.com/kbknapp/clap-rs/blob/76869a0d68193093a70dcb63d248a7da91294a16/tests/subcommands.rs#L46)


---

_Referenced in [clap-rs/clap#1019](../../clap-rs/clap/pulls/1019.md) on 2017-08-05 16:53_

---

_Closed by @kbknapp on 2017-08-15 02:41_

---
