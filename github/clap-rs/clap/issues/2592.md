---
number: 2592
title: arg_enum with skip?
type: issue
state: closed
author: epage
labels:
  - C-enhancement
  - E-help-wanted
  - ":money_with_wings: $5"
assignees: []
created_at: 2021-07-14T20:18:42Z
updated_at: 2021-07-17T03:57:08Z
url: https://github.com/clap-rs/clap/issues/2592
synced_at: 2026-01-07T12:31:17-06:00
---

# arg_enum with skip?

---

_Issue opened by @epage on 2021-07-14 20:18_

### Discussed in https://github.com/clap-rs/clap/discussions/2561

<div type='discussions-op-text'>

<sup>Originally posted by **numToStr** June 21, 2021</sup>
I have an enum that I am using inside the app but I also want to use that as an argument inside the cli but the problem is that I don't want to expose some enum variant in the cli.

In the following example, I don't want to expose `Table::Common` but I am getting `methods are not allowed for skipped fields` error. I am confused by this error and wondering is this suppose to work? If not, can anyone tell me how to achieve this, without creating another enum?

```rust
#[derive(Debug, ArgEnum, PartialEq)]
pub enum Table {
    /// Common table to store common data
    Common,
    /// Password table where all the passwords are stored
    Password,
}

#[derive(Debug, Clap)]
pub struct Export {
    /// Table name
    #[clap(short, long, arg_enum, skip = Table::Common)] // <----- Is this suppose to work?
    table: Table,
}
```</div>

---

_Label `:money_with_wings: $5` added by @pksunkara on 2021-07-14 20:29_

---

_Label `C: arg enums` added by @pksunkara on 2021-07-14 20:29_

---

_Label `help wanted` added by @pksunkara on 2021-07-14 20:29_

---

_Label `T: enhancement` added by @pksunkara on 2021-07-14 20:29_

---

_Label `D: easy` added by @pksunkara on 2021-07-14 20:29_

---

_Label `P4: nice to have` added by @pksunkara on 2021-07-14 20:29_

---

_Referenced in [clap-rs/clap#2593](../../clap-rs/clap/pulls/2593.md) on 2021-07-14 20:38_

---

_Closed by @pksunkara on 2021-07-17 03:57_

---
