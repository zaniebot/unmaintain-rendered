---
number: 5271
title: "Improve panic! message when short names collide"
type: issue
state: closed
author: szabgab
labels:
  - C-enhancement
assignees: []
created_at: 2023-12-27T07:58:29Z
updated_at: 2023-12-27T16:59:06Z
url: https://github.com/clap-rs/clap/issues/5271
synced_at: 2026-01-07T12:31:17-06:00
---

# Improve panic! message when short names collide

---

_Issue opened by @szabgab on 2023-12-27 07:58_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

4.4.11

### Describe your use case

When adding `short` to a parameter that starts with the letter `h` the error message is this:

```
Command short: Short option names must be unique for each argument, but '-h' is in use by both 'host' and 'help' (call `cmd.disable_help_flag(true)` to remove the auto-generated `--help`)
```

eg. this code:

```
use clap::Parser;

#[derive(Parser)]
struct Cli {
    #[arg(long, short)]
    host: String,
}

fn main() {
    let args = Cli::parse();
    println!("host:    {}", args.host);
}
```

### Describe the solution you'd like

IMHO it would be better to also mention the possibility to manually set the short letter. See my extension of the message:

```
Command short: Short option names must be unique for each argument, but '-h' is in use by both 'host' and 'help' (call `cmd.disable_help_flag(true)` to remove the auto-generated `--help` or set the short name manually to some letter other than h. For example `short='H'`)
```

### Alternatives, if applicable

Maybe the error should include a link to the documentation: https://docs.rs/clap/latest/clap/_derive/index.html#arg-attributes

### Additional Context

_No response_

---

_Label `C-enhancement` added by @szabgab on 2023-12-27 07:58_

---

_Comment by @epage on 2023-12-27 16:59_

The message today is independent of which API is being used.  It doesn't know you are using the derive API to say that it can be overriden explicitly.

---

_Closed by @epage on 2023-12-27 16:59_

---
