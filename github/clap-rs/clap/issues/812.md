---
number: 812
title: Easier App building with a DSL macro
type: issue
state: closed
author: theduke
labels: []
assignees: []
created_at: 2017-01-08T12:41:25Z
updated_at: 2018-08-02T03:29:59Z
url: https://github.com/clap-rs/clap/issues/812
synced_at: 2026-01-07T12:31:16-06:00
---

# Easier App building with a DSL macro

---

_Issue opened by @theduke on 2017-01-08 12:41_

Would you be open to a pull request that adds a DSL (domain specific language) like macro that allows even smoother building of an app?

An example duplicating the app from the docs:


```rust
let my_app = build_app! {
    App("My Syper Program") {
        author "Kevin K. <kbknapp@gmail.com>",
        about "Does awesome things",

        Arg("config") {
            short "c",
            long "config",
            value_name "FILE",
            help "Sets a custom config file",
            takes_value,
        }

        Arg("INPUT") {
            help "Sets the input file to use",
            required,
            index 1,
        }

        Arg("v") {
            short "v",
            multiple,
            help "Sets the level of verbosity",
        }

        subcommand("test") {
            about "controls testing features",
            version "1.3",
            author "Someone E. <someone_else@other.com>",
            short "d",
            help "Print debug info verbosely",
        }
    }
};
```

In my opinion, that's a lot more convenient and performant than using a yaml file or usage strings.

This can be implemented pretty easily with a "token tree muncher" macro. The settings would not have to be in any specific order.

The only requirement is the terminating COMMA after individual settings that are not wrapped in some delimiter like Arg {}, but that's still pretty nice.

If you like this at all I'll write up a PR.

---

_Comment by @theduke on 2017-01-08 16:28_

Whoops.

`clap_app!`...


---

_Closed by @theduke on 2017-01-08 16:28_

---
