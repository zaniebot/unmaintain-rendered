---
number: 170
title: Allow custom arg validations
type: issue
state: closed
author: kbknapp
labels:
  - A-parsing
assignees: []
created_at: 2015-07-30T23:18:40Z
updated_at: 2018-08-02T03:29:41Z
url: https://github.com/clap-rs/clap/issues/170
synced_at: 2026-01-07T12:31:16-06:00
---

# Allow custom arg validations

---

_Issue opened by @kbknapp on 2015-07-30 23:18_

One should be allowed to specify a custom validation function which will be run against an argument value.

From a birds eye view:

``` rust
let app = App::new("test")
              .arg(Arg::with_name("opt")
                     .long("long")
                     .takes_value(true)
                     .validator(|val| { 
                         if val.len() == 5 { 
                             Ok(val) 
                         } else { 
                             Err("--long must be 5 characters long") 
                         }
                     })
               );  
```

If possible I may also look at providing some pre-conceived validator functions which would could be used like so:

``` rust
let app = App::new("test")
              .arg(Arg::with_name("opt")
                     .long("long")
                     .takes_value(true)
                     .validator( ArgValidators::U8 )
               );  
```


---

_Label `T: new feature` added by @kbknapp on 2015-07-30 23:24_

---

_Label `P4: nice to have` added by @kbknapp on 2015-07-30 23:24_

---

_Label `C: args` added by @kbknapp on 2015-07-30 23:24_

---

_Label `D: intermediate` added by @kbknapp on 2015-07-30 23:24_

---

_Label `C: parsing` added by @kbknapp on 2015-07-30 23:24_

---

_Referenced in [clap-rs/clap#174](../../clap-rs/clap/pulls/174.md) on 2015-08-14 22:46_

---

_Closed by @kbknapp on 2015-08-14 23:39_

---
