---
number: 1020
title: "error: unexpected token: `ansi_term` on install."
type: issue
state: closed
author: peterbraden
labels: []
assignees: []
created_at: 2017-08-08T09:38:57Z
updated_at: 2018-08-02T03:30:10Z
url: https://github.com/clap-rs/clap/issues/1020
synced_at: 2026-01-07T12:31:16-06:00
---

# error: unexpected token: `ansi_term` on install.

---

_Issue opened by @peterbraden on 2017-08-08 09:38_

Cannot install clap: error: unexpected token: `ansi_term`

### Rust Version
rustc 1.21.0-nightly (ba1d065ff 2017-08-06)
Linux 4.4.0-78-generic #99-Ubuntu SMP Thu Apr 27 15:29:09 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux

### Affected Version of clap

2.26.0

### Error

From cargo install: 
```
rustc --crate-name clap /home/peterbraden/.cargo/registry/src/github.com-1ecc6299db9ec823/clap-2.26.0/src/lib.rs --crate-type lib --emit=dep-info,link -C debuginfo=2 --cfg feature="ansi_term" --cfg feature="atty" --cfg feature="color" --cfg feature="default" --cfg feature="strsim" --cfg feature="suggestions" --cfg feature="term_size" --cfg feature="wrap_help" -C metadata=cf9dbf2e3cba7666 -C extra-filename=-cf9dbf2e3cba7666 --out-dir /home/peterbraden/repos/rays.rust/target/debug/deps -L dependency=/home/peterbraden/repos/rays.rust/target/debug/deps --extern vec_map=/home/peterbraden/repos/rays.rust/target/debug/deps/libvec_map-66d135e4a56a2974.rlib --extern term_size=/home/peterbraden/repos/rays.rust/target/debug/deps/libterm_size-7ac003ad07eb95e6.rlib --extern atty=/home/peterbraden/repos/rays.rust/target/debug/deps/libatty-d361ef8933cbb926.rlib --extern strsim=/home/peterbraden/repos/rays.rust/target/debug/deps/libstrsim-7945dec219afce20.rlib --extern bitflags=/home/peterbraden/repos/rays.rust/target/debug/deps/libbitflags-4387a52965025114.rlib --extern ansi_term=/home/peterbraden/repos/rays.rust/target/debug/deps/libansi_term-7396796376ceb9c4.rlib --extern unicode_width=/home/peterbraden/repos/rays.rust/target/debug/deps/libunicode_width-2c35a8480a5383eb.rlib --extern unicode_segmentation=/home/peterbraden/repos/rays.rust/target/debug/deps/libunicode_segmentation-a7629537c4cca8b9.rlib --extern textwrap=/home/peterbraden/repos/rays.rust/target/debug/deps/libtextwrap-fc96431d50bfc615.rlib --cap-lints allow
error: unexpected token: `ansi_term`
 --> cfgspec:1:8
  |
1 | feature=ansi_term

```

---

_Comment by @kbknapp on 2017-10-04 02:56_

I'm not sure how you got that? There is no `ansi_term` feature. It's a dep of the `color` feature. Can you explain more how this came about? I need to be able to reproduce it.

---

_Label `T: RFC / question` added by @kbknapp on 2017-10-04 02:56_

---

_Closed by @kbknapp on 2017-11-06 03:46_

---
