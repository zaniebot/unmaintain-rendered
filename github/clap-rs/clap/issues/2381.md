---
number: 2381
title: Want to require any option from a group, or from a list
type: issue
state: closed
author: carycodes
labels: []
assignees: []
created_at: 2021-03-04T20:44:39Z
updated_at: 2021-03-05T11:48:38Z
url: https://github.com/clap-rs/clap/issues/2381
synced_at: 2026-01-07T12:31:17-06:00
---

# Want to require any option from a group, or from a list

---

_Issue opened by @carycodes on 2021-03-04 20:44_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Describe your use case

If one of a set of actions is indicated, shared options for those actions should be allowed.  Those "shared options" should require at least one of the actions to be specified.  it's certainly possible I'm missing something, but I haven't found any way to do that with the currently available "require" options.

### Describe the solution you'd like

cli --eat-food --quickly # allowed
cli --drink-water --slowly # allowed
cli --slowly # ERROR

An implementation might look like 

...ArgGroup::with_name("consume-options").requires_group("consume-actions")...

or if done without groups, it might look like this:

...Arg::with_name("slowly").requires_any_of(&["eat-food", "drink-water])...

This rule would also allow something like 

cli --eat-food --drink-water --slowly

In other words, the requirement is "one or more."  It would be up to the rules around eat and drink whether those flags conflict with each other.

### Alternatives, if applicable

_No response_

### Additional Context

_No response_



---

_Label `T: new feature` added by @carycodes on 2021-03-04 20:44_

---

_Closed by @pksunkara on 2021-03-05 11:48_

---

_Locked by @clap-rs on 2021-03-05 11:48_

---
