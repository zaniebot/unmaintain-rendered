---
number: 5649
title: Style completion options with rust-native completions
type: issue
state: open
author: epage
labels:
  - C-enhancement
  - E-medium
  - A-completion
assignees: []
created_at: 2024-08-10T00:05:31Z
updated_at: 2024-09-04T20:08:28Z
url: https://github.com/clap-rs/clap/issues/5649
synced_at: 2026-01-07T12:31:17-06:00
---

# Style completion options with rust-native completions

---

_Issue opened by @epage on 2024-08-10 00:05_

Two halves to this

Some completion options have a "pretty" mode, a display-only completion result

Next step is coloring of that, see
- https://carapace.sh/
- https://carapace-sh.github.io/carapace/carapace/action/style.html

---

_Label `E-medium` added by @epage on 2024-08-10 00:05_

---

_Label `A-completion` added by @epage on 2024-08-10 00:05_

---

_Label `C-enhancement` added by @epage on 2024-08-10 02:10_

---

_Comment by @epage on 2024-08-10 20:50_

This could likely be a `pretty: Option<StyledStr>` and wouldn't require a breaking change.

---

_Comment by @epage on 2024-09-04 19:41_

It looks like powershell has native support for a "pretty" or "display" value called `listItemText`

https://learn.microsoft.com/en-us/dotnet/api/system.management.automation.completionresult.-ctor?view=powershellsdk-7.4.0#system-management-automation-completionresult-ctor(system-string-system-string-system-management-automation-completionresulttype-system-string)

---

_Comment by @epage on 2024-09-04 19:59_

Carapace


For bash, it includes the display item in the description
https://github.com/carapace-sh/carapace/blob/68d3237f5321f743ec0428e450957b797f3889b3/internal/shell/bash/action.go#L100-L106

For zsh, it does `display:description`.  Unsure if that is special zsh syntax
https://github.com/carapace-sh/carapace/blob/68d3237f5321f743ec0428e450957b797f3889b3/internal/shell/zsh/action.go#L70-L74

For elvish, its communicating via json

---

_Referenced in [clap-rs/clap#5791](../../clap-rs/clap/pulls/5791.md) on 2024-10-28 20:20_

---
