---
number: 1639
title: "Add options to require `help` and `long_help`"
type: issue
state: closed
author: casey
labels:
  - A-help
  - E-help-wanted
  - E-easy
assignees: []
created_at: 2020-01-21T07:45:58Z
updated_at: 2020-02-10T18:09:08Z
url: https://github.com/clap-rs/clap/issues/1639
synced_at: 2026-01-07T12:31:17-06:00
---

# Add options to require `help` and `long_help`

---

_Issue opened by @casey on 2020-01-21 07:45_

I like to add `help` strings, and sometimes `long_help` strings to all of my arguments, but I often forget.

It would be nice if I could add options to make app creation fail if help and long help strings are accidentally omitted. Perhaps `AppSettings::RequireHelp` and `AppSettings::RequireLongHelp`.

So this would panic on the call to `App::arg`:

```rust
let app = App::new(env!("CARGO_PKG_NAME"))
  .setting(AppSettings::RequireHelp)
  .arg(
    Arg::with_name("foo") // no help :(
  );
```

And this would be ok:

```rust
let app = App::new(env!("CARGO_PKG_NAME"))
  .setting(AppSettings::RequireHelp)
  .arg(
    Arg::with_name("foo").help("It does foo stuff") // help :)
  );
```

`App::arg` doesn't return a `Result`, but I think panicking is okay, since this is intended to aid development, and should not be encountered by end users. It would also be possible to make `AppSettings::RequireHelp` a noop on release builds.

---

_Added to milestone `3.0` by @CreepySkeleton on 2020-02-01 10:43_

---

_Label `C: help message` added by @CreepySkeleton on 2020-02-01 10:45_

---

_Label `D: easy` added by @CreepySkeleton on 2020-02-01 10:45_

---

_Label `good first issue` added by @CreepySkeleton on 2020-02-01 10:45_

---

_Label `help wanted` added by @CreepySkeleton on 2020-02-01 10:45_

---

_Label `P3: want to have` added by @CreepySkeleton on 2020-02-01 10:45_

---

_Comment by @thomasfermi on 2020-02-07 21:15_

Hi everybody, I just wanted to let you know that I started working on this. I will try to propose a solution via a pull request within the next 5 days. Since I am new to rust, clap, and the GitHub workflow, it will probably need some reviews and iterations.

---

_Referenced in [clap-rs/clap#1683](../../clap-rs/clap/pulls/1683.md) on 2020-02-09 20:14_

---

_Comment by @thomasfermi on 2020-02-09 20:24_

Thanks @pksunkara for linking my pull request to this issue. Would I have been able to do this myself? Or do you need certain rights to link issues to pull requests?

---

_Comment by @pksunkara on 2020-02-09 20:27_

https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#manually-linking-a-pull-request-to-an-issue

---

_Comment by @Dylan-DPC-zz on 2020-02-09 20:27_

@thomasfermi nope you don't. 

---

_Comment by @CreepySkeleton on 2020-02-09 20:29_

@thomasfermi The easiest way to do that is to put `Closes #ABCD` line in your first comment. I'm not sure if it works with editing, why don't you try and see for yourself?



---

_Comment by @thomasfermi on 2020-02-09 20:34_

> https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#manually-linking-a-pull-request-to-an-issue

I originally tried with that tutorial, but the "link" thing was grayed out and not clickable.

---

_Comment by @thomasfermi on 2020-02-09 20:35_

> @thomasfermi The easiest way to do that is to put `Closes #ABCD` line in your first comment. I'm not sure if it works with editing, why don't you try and see for yourself?

Thanks, that is indeed an easy solution! I edited my first comment in the pull request.

---

_Comment by @CreepySkeleton on 2020-02-09 20:36_

@thomasfermi The first line from this guide:

> Anyone with **write permissions** to a repository can manually link a pull request to an issue.

You don't have write permissions :(

---

_Closed by @bors[bot] on 2020-02-10 18:09_

---

_Referenced in [casey/intermodal#158](../../casey/intermodal/issues/158.md) on 2020-02-10 19:58_

---
