---
number: 6097
title: Ignore case on commands and sub-commands
type: issue
state: closed
author: Urgau
labels:
  - C-enhancement
  - A-parsing
  - S-wont-fix
assignees: []
created_at: 2025-08-09T14:53:44Z
updated_at: 2025-08-12T19:52:46Z
url: https://github.com/clap-rs/clap/issues/6097
synced_at: 2026-01-07T12:31:17-06:00
---

# Ignore case on commands and sub-commands

---

_Issue opened by @Urgau on 2025-08-09 14:53_

### Please complete the following tasks

- [x] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [x] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

4.5.39

### Describe your use case

We use clap to parse commands of a bot. Those commands might be entered on a regular input prompt, which on mobile makes the First letter in capital, making clap throw out an error because the case are not identical.

### Describe the solution you'd like

Similar to the already existing [`Arg::ignore_case`](https://docs.rs/clap/latest/clap/struct.Arg.html#method.ignore_case) option for arguments, we would like to have the same feature for `Command`.

```rust
impl Command {
    pub fn ignore_case(self, yes: bool) -> Command;
}
```
The option would only affect the command name, it would not be application specific.

### Alternatives, if applicable

_No response_

### Additional Context

Related to https://github.com/rust-lang/triagebot/pull/2115

---

_Label `C-enhancement` added by @Urgau on 2025-08-09 14:53_

---

_Comment by @epage on 2025-08-11 17:36_

I thought more extensive case insensitivity had come up before but I can only find #4955 which the person handled by adding aliases.

You mention commands.  Are you needing this for subcommands only or also flags?

Implementation-wise, I'm unsure how this would be to support.  We pre-calculate the flag to `Arg` mappings, rather than doing a linear search every time, which may make it harder to swap out how that mapping works.  I'd have to check how we handle this for subcommands.

We'd also need to be sure to check for case ambiguous duplicates in our debug asserts.  Short flag duplicates could especially confuse people.

How important is being able to set it everywhere?  Depending on how the discussion for the above goes, this could end up being a global setting that clap propagates out.  If not, `Command::mut_args` would be one way to apply something to every argument without us directly supporting propagating it.  However, we don't have similar for `mut_subcommands` though we could add it.

---

_Label `S-waiting-on-design` added by @epage on 2025-08-11 17:36_

---

_Label `A-parsing` added by @epage on 2025-08-11 17:36_

---

_Comment by @Urgau on 2025-08-11 18:59_

> Are you needing this for subcommands only or also flags?

Subcommands only. Smartphone keyboards don't seems to make the first letter after `-` or `--` upper.

> How important is being able to set it everywhere?

Subcommands and arguments *(already handled)* are the only I'm interested in.

> Depending on how the discussion for the above goes, this could end up being a global setting that clap propagates out.

That would fine for us. My proposal was based on `Arg::ignore_case` which is done per arg, but in our case we would want to apply it to every subcommands and arguments.

---

_Comment by @epage on 2025-08-11 19:48_

I went ahead and added [`mut_subcommands`](https://docs.rs/clap/latest/clap/struct.Command.html#method.mut_subcommands) and added an example for your case.

Would that work?

---

_Referenced in [rust-lang/triagebot#2115](../../rust-lang/triagebot/pulls/2115.md) on 2025-08-11 20:55_

---

_Comment by @Urgau on 2025-08-12 19:50_

Yes, that works for us.

*For the record I ended-up modifying your example a bit to allow it to recurse into sub-commands.*
```rust
fn allow_title_case(sub: clap::Command) -> clap::Command {
    let name = sub.get_name();
    let alias = name
        .chars()
        .enumerate()
        .map(|(i, c)| if i == 0 { c.to_ascii_uppercase() } else { c })
        .collect::<String>();
    sub.alias(alias)
        // Recursively allow title-case subcommands
       .mut_subcommands(allow_title_case)
}

let command = command.mut_subcommands(allow_title_case);
```

---

_Label `S-waiting-on-design` removed by @epage on 2025-08-12 19:52_

---

_Label `S-wont-fix` added by @epage on 2025-08-12 19:52_

---

_Comment by @epage on 2025-08-12 19:52_

I would be inclined to close this then unless more use cases come up that show the necessity of this.

---

_Closed by @epage on 2025-08-12 19:52_

---
