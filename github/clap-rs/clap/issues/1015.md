---
number: 1015
title: Short/long help distinction seems unclear to the end-user
type: issue
state: closed
author: 8573
labels:
  - C-enhancement
  - A-help
  - A-docs
  - S-waiting-on-design
assignees: []
created_at: 2017-07-29T08:31:05Z
updated_at: 2023-10-23T13:14:20Z
url: https://github.com/clap-rs/clap/issues/1015
synced_at: 2026-01-07T12:31:16-06:00
---

# Short/long help distinction seems unclear to the end-user

---

_Issue opened by @8573 on 2017-07-29 08:31_

    FLAGS:
        -h, --help       Prints help information
        -V, --version    Prints version information

This default help message, produced by `clap` version 2.25.1, seems to
me to imply that `-h` and `--help` do the same thing, when they don't
necessarily. For [`Arg`]s defined with both `help` and `long_help`,
`--help` may provide much more information than `-h`, but as far as I
can tell there is nothing to make the end-user aware of this, which
seems problematic to me.

[`Arg`]: <https://docs.rs/clap/2.25.1/clap/struct.Arg.html>




---

_Comment by @kbknapp on 2017-07-29 19:35_

True, but then again they *might* do the same thing. Programs that opt in to differences (via `Arg::long_help` and friends) can also change the default help message to reflect those differences, such as how [`ripgrep`](https://github.com/BurntSushi/ripgrep/blob/d4b790fd8d979591cee058e7014957b9f579380d/src/app.rs#L59) does it.

I do believe this should be marked as a documentation issue.

---

_Label `C: docs` added by @kbknapp on 2017-07-29 19:35_

---

_Label `D: easy` added by @kbknapp on 2017-07-29 19:35_

---

_Label `M: mentored` added by @kbknapp on 2017-07-29 19:35_

---

_Comment by @8573 on 2017-07-29 22:14_

> True, but then again they *might* do the same thing. Programs that
> opt in to differences (via `Arg::long_help` and friends) can also
> change the default help message to reflect those differences, such as how
> [`ripgrep`](https://github.com/BurntSushi/ripgrep/blob/d4b790fd8d979591cee058e7014957b9f579380d/src/app.rs#L59)
> does it.

Oh huh, I'd never noticed that in ripgrep; thanks for the tip.

> I do believe this should be marked as a documentation issue.

Okay.



---

_Label `C: help message` added by @kbknapp on 2018-07-22 02:33_

---

_Label `P3: want to have` added by @kbknapp on 2018-07-22 02:33_

---

_Label `W: 3.x` added by @kbknapp on 2018-07-22 02:33_

---

_Label `good first issue` added by @kbknapp on 2018-07-22 02:33_

---

_Added to milestone `v3-alpha.1` by @kbknapp on 2018-07-22 02:33_

---

_Removed from milestone `v3-alpha.2` by @pksunkara on 2020-02-01 07:45_

---

_Added to milestone `v3.0` by @pksunkara on 2020-02-01 07:45_

---

_Removed from milestone `3.0` by @pksunkara on 2021-02-28 12:31_

---

_Added to milestone `3.1` by @pksunkara on 2021-02-28 12:31_

---

_Label `W: 3.x` removed by @pksunkara on 2021-08-13 10:40_

---

_Comment by @martinvonz on 2021-08-28 20:36_

Is it reasonable for clap to split up `-h` and `--help` into two arguments, so they appear on two lines in the help text?

I think much of the problem is that they're presented as `-h, --help`, which made at least me (as a user) think that they're just aliases. I'm a little worried that, even if I (as a developer) add a custom help message with `App::help_message()` to clarify that the two flags are different, my users might make not even read that because they see `-h, --help` and assume they're aliases without reading the description.


---

_Referenced in [epage/clapng#76](../../epage/clapng/issues/76.md) on 2021-12-06 16:35_

---

_Label `D: easy` removed by @epage on 2021-12-09 17:07_

---

_Label `P3: want to have` removed by @epage on 2021-12-09 17:07_

---

_Label `E-medium` removed by @epage on 2021-12-09 17:07_

---

_Label `E-easy` removed by @epage on 2021-12-09 17:07_

---

_Label `S-waiting-on-design` added by @epage on 2021-12-09 17:07_

---

_Removed from milestone `3.1` by @epage on 2021-12-09 17:07_

---

_Label `C-enhancement` added by @epage on 2021-12-13 22:44_

---

_Referenced in [clap-rs/clap#3367](../../clap-rs/clap/issues/3367.md) on 2022-01-31 22:10_

---

_Comment by @AndreKR on 2022-03-22 16:14_

> Is it reasonable for clap to split up -h and --help into two arguments, so they appear on two lines in the help text?

Yes, they should absolutely be on separate lines if they do different things. The distinction between short and long help might make sense but putting `-h, --help` and expecting that users realize that they are different does not.

---

_Comment by @epage on 2022-04-18 12:20_

For those that only want one or the other, #3405 might be a way of forcing it by having `HelpShort`, `HelpLong`, and `HelpAuto` actions.

---

_Comment by @epage on 2022-08-31 17:55_

Thought it was interesting to see how some tools handle this

```console
$ rg -h 
...
Use -h for short descriptions and --help for more details.
...
```
```console
$ rg --help
...
Use -h for short descriptions and --help for more details.
...
```
```console
$ bat -h
...
Note: `bat -h` prints a short and concise overview while `bat --help` gives all details.
```
```console
$ bat --help
...
Note: `bat -h` prints a short and concise overview while `bat --help` gives all details.
```

What if we changed the help description for `-h` / `--help`
```rust
.help("Print this help message.  Use `--help` for more detail")
.long_help("Print this help message..  Use `-h` for a summary")
```

As [kbknapp](https://github.com/kbknapp) said earlier in this thread
> True, but then again they might do the same thing

Since then
- The derive has become the go-to way of configuring clap, making it more natural (or accidental) to provide long help
- `PossibleValue` now has help which, if specified, will cause long help to be used

I'm thinking that putting these hints in the description for help would be good enough at this point in time to resolve this.  `cargo` is a popular counter example that doesn't use long help.  I wonder if it should make `--help` go to the man page like the `help` subcommand does though, like git.

---

_Comment by @epage on 2022-08-31 17:55_

We could also auto-detect if long help is used.  Unsure if we want to pay that runtime price though.

---

_Referenced in [clap-rs/clap#4159](../../clap-rs/clap/pulls/4159.md) on 2022-08-31 19:19_

---

_Closed by @epage on 2022-08-31 19:38_

---

_Referenced in [jj-vcs/jj#2409](../../jj-vcs/jj/pulls/2409.md) on 2023-10-22 16:51_

---

_Comment by @gasche on 2023-10-22 17:03_

I hit this issue when using `jj`: I was reading doc using `-h`, it was missing the information I needed, and I wasted time because I did not think of using `--help` which I assumed was doing the exact same thing.

I am used to CLI interface conventions where the long and short names of an option do the same thing. It would never occur to me that `-h` and `--help`, if they both show help, would show different amount of help.

Personally I think that if two options do different things, they should have different short and long names. For example, one could have `-h / --help` on one hand and `-sh / --short-help` or `-hs / --help-summary` on the other hand.

---

_Comment by @gasche on 2023-10-22 17:05_

(Or maybe `-h / --help` for short help and `--doc` for "documentation" (long help).)

---

_Comment by @epage on 2023-10-23 13:14_

@gasche does `jj`s help output for `--help` say to use `--help` for more information?

> I am used to CLI interface conventions where the long and short names of an option do the same thing. It would never occur to me that -h and --help, if they both show help, would show different amount of help.

I found it odd at first as well but it isn't unique to clap.  `git stash -h` will show brief information and `git stash --help` will show the man page.

We are unlikely to remove support for it at this point due to compatibility within the applications that use it.  We have made it configurable in 4.3.14, so applications can choose to switch to something else.  We can explore changing the defaults though.  However, the case for it would likely need to be strong due to the people relying on the current behavior.

The current convention is entrenched enough that we are unlikely to change i

---
