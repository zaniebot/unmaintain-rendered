---
number: 2678
title: Inferring more meaning from types for derives
type: issue
state: closed
author: epage
labels:
  - C-enhancement
  - A-derive
  - S-waiting-on-design
assignees: []
created_at: 2021-08-11T18:27:55Z
updated_at: 2022-06-08T16:02:44Z
url: https://github.com/clap-rs/clap/issues/2678
synced_at: 2026-01-07T12:31:17-06:00
---

# Inferring more meaning from types for derives

---

_Issue opened by @epage on 2021-08-11 18:27_

### Discussed in https://github.com/clap-rs/clap/discussions/2637

<div type='discussions-op-text'>

<sup>Originally posted by **epage** July 28, 2021</sup>
Right now, we only use types to infer occurrences / values (see #1772) or some limited capabilities when a user sets `arg_enum`.

What else can we infer from types?
- If its a `Path`, set [ValueHint::AnyPath](https://docs.rs/clap/3.0.0-beta.2/clap/enum.ValueHint.html)
- Expand on https://github.com/clap-rs/clap/pull/2611 and set `value_name` based on the type, like `NUM` for integers, `PATH` for `Path`, etc
- Select an appropriate parser for `Path`, `OsString`, etc.
  - https://github.com/clap-rs/clap/pull/2298 wuld help with this</div>

---

_Added to milestone `4.0` by @pksunkara on 2021-08-11 18:28_

---

_Removed from milestone `4.0` by @pksunkara on 2021-08-11 23:29_

---

_Label `T: new feature` added by @pksunkara on 2021-08-11 23:29_

---

_Label `C: derive macros` added by @pksunkara on 2021-08-11 23:29_

---

_Referenced in [epage/clapng#195](../../epage/clapng/issues/195.md) on 2021-12-06 21:19_

---

_Label `T: new feature` removed by @epage on 2021-12-08 21:09_

---

_Label `C-enhancement` added by @epage on 2021-12-08 21:09_

---

_Label `S-waiting-on-design` added by @epage on 2021-12-13 17:09_

---

_Comment by @epage on 2022-06-08 16:02_

This was greatly improved with the introduction of `value_parser`, see #3742

---

_Closed by @epage on 2022-06-08 16:02_

---
