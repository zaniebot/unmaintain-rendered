---
number: 2870
title: "Loosen requirement on using `&[]` to pass into builder functions"
type: issue
state: closed
author: epage
labels:
  - C-bug
  - M-breaking-change
  - A-builder
  - S-blocked
assignees: []
created_at: 2021-10-14T00:35:13Z
updated_at: 2022-08-15T19:24:36Z
url: https://github.com/clap-rs/clap/issues/2870
synced_at: 2026-01-07T12:31:17-06:00
---

# Loosen requirement on using `&[]` to pass into builder functions

---

_Issue opened by @epage on 2021-10-14 00:35_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Rust Version

rustc 1.53.0 (53cb7b09b 2021-06-17)

### Clap Version

v3.0.0-beta.4

### Minimal reproducible code

See #2857

### Steps to reproduce the bug with the above code

See #2857

### Actual Behaviour

Builders only accept `&[]`

### Expected Behaviour

Builders accept an `IntoIterator`

### Additional Context

Prior attempts
- #2414 
- #2857 

In #1041 I proposed we use `kstring` crate for our strings.  `kstring::KString` is like a `Cow<'static, str>` with small-string optimization.  This removes lifetimes from our types but more relevant to here, offers us more `Into` flexibility that makes it so we can trivial implement the API we want (see #2857 for some of the problems).

Blocked on #1041

### Debug Output

_No response_

---

_Label `T: bug` added by @epage on 2021-10-14 00:35_

---

_Label `C: args` added by @epage on 2021-10-14 00:35_

---

_Label `C: app` added by @epage on 2021-10-14 00:35_

---

_Label `M: blocked` added by @epage on 2021-10-14 00:35_

---

_Added to milestone `4.0` by @epage on 2021-10-14 00:35_

---

_Label `E: breaking change` added by @epage on 2021-10-19 16:34_

---

_Label `W: blocked` added by @pksunkara on 2021-10-27 09:59_

---

_Label `M: blocked` removed by @pksunkara on 2021-10-27 09:59_

---

_Referenced in [epage/clapng#221](../../epage/clapng/issues/221.md) on 2021-12-06 22:18_

---

_Label `C: args` removed by @epage on 2021-12-08 20:27_

---

_Referenced in [clap-rs/clap#4072](../../clap-rs/clap/pulls/4072.md) on 2022-08-12 21:48_

---

_Referenced in [clap-rs/clap#4081](../../clap-rs/clap/pulls/4081.md) on 2022-08-15 18:27_

---

_Closed by @epage on 2022-08-15 19:24_

---

_Referenced in [console-rs/dialoguer#223](../../console-rs/dialoguer/pulls/223.md) on 2022-10-22 19:28_

---
