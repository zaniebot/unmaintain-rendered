---
number: 5488
title: Check for group of repeated arguments
type: issue
state: closed
author: Velnbur
labels:
  - C-enhancement
assignees: []
created_at: 2024-05-08T07:46:44Z
updated_at: 2024-06-10T21:36:24Z
url: https://github.com/clap-rs/clap/issues/5488
synced_at: 2026-01-07T12:31:17-06:00
---

# Check for group of repeated arguments

---

_Issue opened by @Velnbur on 2024-05-08 07:46_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

4.3.23

### Describe your use case

Currently trying to implement a CLI that accepts different repeated arguments. The problem is that we need to add checks that the lengths of a subset of repeated parameters should be the same. 

1. So for example CLI sends different messages to different recipients:

```sh
# is okay
cli send --recipient ALICE --content "hi!" --recipient BOB --content "goodbye"
# results in error as no second recipient is presented
cli send --recipient ALICE --content "hi!" --content "goodbye"
```

2. But `recipients.len()` < `contents.len()` is okay:

```sh
cli send --recipient ALICE --recipient BOB --content "hi!"
```

 Just the same content will be sent to different recipients. So `contents` became `vec!["hi!"; recipients.len()]` in this case.

### Describe the solution you'd like

Developing additional functionality to `ArgGroup` could fix that, but I have no context about its current implementation.

### Alternatives, if applicable

I believe that #1704 will fix the first case of the requested feature. Which, with some additional tweaks, can fulfill my needs with second case too

### Additional Context

_No response_

---

_Label `C-enhancement` added by @Velnbur on 2024-05-08 07:46_

---

_Renamed from "Check for validation for group of repeated arguments" to "Check for group of repeated arguments" by @Velnbur on 2024-05-08 07:48_

---

_Comment by @epage on 2024-06-10 21:36_

To confirm, the way `--recipient` and `--content` are interleaved doesn't matter, only their lengths?

So you can do
```console
$ cli send --recipient ALICE --content "hi!" --recipient BOB --content "goodbye"
$ cli send --recipient ALICE --recipient BOB --content "hi!" --content "goodbye"
```
and the meaning would be the same?

For myself, I feel like that would be confusing and don't see us adding native support for something thing like this without a stronger case for why this isn't confusing and is more broadly applicable, particularly in light of our work to keep the API, build times, and binary size small.

I think it would be better to focus our efforts on #1704 and #3476.  As such, I'm closing this.  If there is a reason for us to re-evaluate the status of this, let us know!

---

_Closed by @epage on 2024-06-10 21:36_

---
