---
number: 2588
title: "Dead code in `Subcommand::from_arg_matches`"
type: issue
state: closed
author: epage
labels:
  - C-bug
  - A-derive
assignees: []
created_at: 2021-07-14T17:54:49Z
updated_at: 2021-07-16T21:57:30Z
url: https://github.com/clap-rs/clap/issues/2588
synced_at: 2026-01-07T12:31:17-06:00
---

# Dead code in `Subcommand::from_arg_matches`

---

_Issue opened by @epage on 2021-07-14 17:54_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Rust Version

rustc 1.53.0 (53cb7b09b 2021-06-17)

### Clap Version

3.0.0-beta.2

### Minimal reproducible code

```rust
#[derive(Clap)]
enum Parent {
  #[flatten]
  Child(Child)
}

#[derive(Clap)]
enum Child{
  One,
  Two,
}
```


### Steps to reproduce the bug with the above code

Run `cargo expand`

### Actual Behaviour

`impl FromArgMatches for Parent` will have a case for a command name `child` when no `child` command exists

### Expected Behaviour

The `child` case doesn't exist

### Additional Context

_No response_

### Debug Output

_No response_

---

_Label `T: bug` added by @epage on 2021-07-14 17:54_

---

_Label `C: derive macros` added by @pksunkara on 2021-07-14 17:58_

---

_Referenced in [clap-rs/clap#2590](../../clap-rs/clap/pulls/2590.md) on 2021-07-14 18:33_

---

_Added to milestone `3.0` by @pksunkara on 2021-07-14 19:58_

---

_Removed from milestone `3.0` by @pksunkara on 2021-07-14 19:58_

---

_Closed by @pksunkara on 2021-07-16 21:57_

---
