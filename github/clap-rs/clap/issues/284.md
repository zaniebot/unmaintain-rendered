---
number: 284
title: Question about flags and values in YAML
type: issue
state: closed
author: XAMPPRocky
labels: []
assignees: []
created_at: 2015-09-28T23:28:08Z
updated_at: 2018-08-02T03:29:45Z
url: https://github.com/clap-rs/clap/issues/284
synced_at: 2026-01-07T12:31:16-06:00
---

# Question about flags and values in YAML

---

_Issue opened by @XAMPPRocky on 2015-09-28 23:28_

When a flag is imported from YAML, and used in the app, the parser will recognise that the flag being passed, but will not give it a value leading to getting a `None`. In the following example, I have two arguments, one a required free argument, the other a flag that conflicts withs the first. The program will run without error, leading to believe the flag is being parsed correctly, but isn't being assigned a value.
### main.rs

```
fn main() {
    use clap::App;
    let yaml = load_yaml!("../cli.yml");
    let matches = App::from_yaml(yaml).get_matches();

    println!("{:?}", matches.value_of("stdin"));
}
```
### cli.yml

```
name: Test
version: 0.0.1
author: Aaron P. <theaaronepower@gmail.com>
about: testing
args:
  - input:
        index: 1
        multiple: true
        required: true
        help: The input file(s)/directory(ies)
  - stdin:
        short: s
        long: stdin
        conflicts_with:
            - input
```
# Meta
###### clap version: 1.4.2


---

_Comment by @kbknapp on 2015-09-29 00:43_

Ah ok. This is because flags don't have a value, they are simply present or not present. Using the `value_of()` will always return `None` with flags. Instead use `is_present("stdin")` which returns a `bool` to see if the flag was used or not.

Slightly un-related, if the flag has `multiple(true)` you can use `occurrences_of("stdin")` to see how many times the user passed it (such as `-sss` or `-s -s -s`). Not really applicable to this problem, but just FYI :wink:


---

_Label `T: RFC / question` added by @kbknapp on 2015-09-29 00:44_

---

_Renamed from "Flags do not fully work when imported from YAML" to "Question about flags and values in YAML" by @kbknapp on 2015-09-30 18:45_

---

_Closed by @kbknapp on 2015-10-28 13:09_

---
