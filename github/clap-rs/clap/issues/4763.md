---
number: 4763
title: "Use of ArgAction::Set instead of ArgAction::SetTrue gives confusing runtime error"
type: issue
state: closed
author: kornelski
labels:
  - C-bug
assignees: []
created_at: 2023-03-16T18:24:36Z
updated_at: 2023-03-16T20:47:15Z
url: https://github.com/clap-rs/clap/issues/4763
synced_at: 2026-01-07T12:31:17-06:00
---

# Use of ArgAction::Set instead of ArgAction::SetTrue gives confusing runtime error

---

_Issue opened by @kornelski on 2023-03-16 18:24_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Rust Version

rustc 1.70.0-nightly (7b4f48927 2023-03-12)

### Clap Version

4.1.8

### Minimal reproducible code

```rust
use clap::*;

fn main() {
     let args = Command::new("test")
        .arg(Arg::new("overwrite")
            .short('f')
            .long("overwrite")
            .action(ArgAction::Set))
        .get_matches();
        
    let overwrite = args.get_flag("overwrite");
}
```


### Steps to reproduce the bug with the above code

cargo run


### Actual Behaviour

thread 'main' panicked at 'ArgAction::SetTrue / ArgAction::SetFalse is defaulted'

### Expected Behaviour

The message could be more direct, i.e. point out the root cause that `ArgAction::Set` is not the same as `ArgAction::SetTrue`. I don't know what "being defaulted" is supposed to mean in this context, and it doesn't help resolve the problem.



### Additional Context

_No response_

### Debug Output

_No response_

---

_Label `C-bug` added by @kornelski on 2023-03-16 18:24_

---

_Referenced in [clap-rs/clap#4764](../../clap-rs/clap/pulls/4764.md) on 2023-03-16 20:33_

---

_Closed by @epage on 2023-03-16 20:47_

---
