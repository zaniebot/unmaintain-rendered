---
number: 5931
title: The front page example is wrong
type: issue
state: closed
author: the80srobot
labels:
  - C-bug
assignees: []
created_at: 2025-02-26T08:00:05Z
updated_at: 2025-06-10T15:30:04Z
url: https://github.com/clap-rs/clap/issues/5931
synced_at: 2026-01-07T12:31:17-06:00
---

# The front page example is wrong

---

_Issue opened by @the80srobot on 2025-02-26 08:00_

### Please complete the following tasks

- [x] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [x] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Rust Version

1.85.0

### Clap Version

4.5.31

### Minimal reproducible code

```sh
cargo add clap --features derive
```

And then the example from https://docs.rs/clap/latest/clap/

### Steps to reproduce the bug with the above code

Run the command to add clap. This already will fail with:

```
 failed to select a version for the requirement `clap_derive = "=4.5.28"`
candidate versions found which didn't match: 4.5.24, 4.5.18, 4.5.13, ...
location searched: crates.io index
required by package `clap v4.5.31`
    ... which satisfies dependency `clap = "^4.5.31"` (locked to 4.5.31) of package `rednose v0.1.0 (/home/debian/pedro/rednose)`
    ... which satisfies path dependency `rednose` (locked to 0.1.0) of package `pedro v0.1.0 (/home/debian/pedro/pedro)`
if you are looking for the prerelease package it needs to be specified explicitly
    clap_derive = { version = "4.0.0-rc.1" }
```

Because clap_derive and clap are at incompatible versions.

### Actual Behaviour

The cargo command already fails.

### Expected Behaviour

It should be possible to depend on this crate.

### Additional Context

_No response_

### Debug Output

_No response_

---

_Label `C-bug` added by @the80srobot on 2025-02-26 08:00_

---

_Comment by @the80srobot on 2025-02-26 08:04_

You *can* get cargo to fix the issue by running `cargo update`, but clap is the only crate that consistently requires this. See also #5472 for the last time this has come up.

---

_Comment by @epage on 2025-02-26 19:37_

This would likely be better reported as a `cargo add` issue.  I'd recommend opening an issue over there and include reproduction steps (e.g. I tried to create a scenario like this and couldn't)

---

_Comment by @epage on 2025-06-10 15:30_

As this is not a clap issue but a cargo issue, I'm going to go ahead and close this

---

_Closed by @epage on 2025-06-10 15:30_

---
