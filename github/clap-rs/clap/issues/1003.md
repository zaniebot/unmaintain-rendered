---
number: 1003
title: Upgrade dependency on unicode-segmentation
type: issue
state: closed
author: shepmaster
labels: []
assignees: []
created_at: 2017-07-18T17:51:17Z
updated_at: 2018-08-02T03:30:09Z
url: https://github.com/clap-rs/clap/issues/1003
synced_at: 2026-01-07T12:31:16-06:00
---

# Upgrade dependency on unicode-segmentation

---

_Issue opened by @shepmaster on 2017-07-18 17:51_

As you noticed, I had to remove clap from the crates on the playground. After trying to update the crates again, it still failed, so I did a bit of digging.

Right now, unicode-segmentation is one of the top-100 downloaded crates, as is clap. The playgrounds logic is to take the newest version of all available crates and resolve them together.

Unfortunately for this case, [clap 2.25.0 disallows that version](https://github.com/kbknapp/clap-rs/blob/e27a6ffbde87a35a367cd3c5b7369ef8173d0e7a/Cargo.toml#L22) (also, there doesn't appear to be a tag for 2.25.0?).

It's likely that a future version of Cargo will introduce the concept of public/private dependencies. If unicode-segmentation is such, this type of problem will be magically solved. Until then, our hands are tied a bit â€” we have to prevent one or the other. *Right now*, clap is the only consumer of unicode-segmentation, so I can probably blacklist unicode-segmentation, but if anyone else starts using it, clap might be the one to lose out ðŸ˜¿ 

I see the comment and understand why you have to limit the version; I just wanted to let you know the outcome of that.

---

_Comment by @mgeisler on 2017-07-23 11:33_

Hi @shepmaster -- I just saw that it was me who introduced the version restriction in https://github.com/kbknapp/clap-rs/commit/dd4c41e23785322f001d6c432596c649940596cf.

I saw somewhere that clap is committed to supporting the two previous stable versions of Rust, which these days means Rust 1.17 and later. So perhaps this is easy to resolve by dropping support for the older versions of Rust. @kbknapp should weigh in here, I think.

---

_Comment by @shepmaster on 2017-07-23 17:10_

Perhaps it is! To be clear, as a *user* of clap, I'm not in need of this change; I just wanted to give the heads up. Of course, if it's upgraded, my life as playground maintainer would be made easier ðŸ˜ˆ 

---

_Comment by @kbknapp on 2017-07-29 17:52_

I'm good with moving the minimum version of Rust to 1.13, so long as we also bump the minor. Yes, 1.17 is *technically* as far back as I'm guaranteed to support, but in practice I've been ****FAR**** more conservative.

As I've been saying for nearly 6 months now, I was hoping to get 3.x out the door and wait until then tobump the minimum required version of Rust. Buuut, life has been getting in t he way of that. So I'm fine upgrading to Rust 1.13.

---

_Comment by @kbknapp on 2017-07-29 21:08_

Closed with v2.26.0

---

_Closed by @kbknapp on 2017-07-29 21:08_

---
