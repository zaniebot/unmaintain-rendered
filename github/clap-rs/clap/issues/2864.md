---
number: 2864
title: "Multicall executables should support matching argv[0] with a prefix stripped off"
type: issue
state: closed
author: fishface60
labels:
  - C-enhancement
  - A-parsing
assignees: []
created_at: 2021-10-12T20:49:01Z
updated_at: 2021-12-13T15:22:00Z
url: https://github.com/clap-rs/clap/issues/2864
synced_at: 2026-01-07T12:31:17-06:00
---

# Multicall executables should support matching argv[0] with a prefix stripped off

---

_Issue opened by @fishface60 on 2021-10-12 20:49_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the existing issues

### Clap Version

3.0.0-beta.4

### Describe your use case

The implementation of multicall needs to match the executable name against the program's name or any applets.
If it doesn't match any then it treats it as the applet not being found.

It should not be required for the executable name to match applet names exactly.

It's not uncommon for a program to be installed with a custom prefix added to the binary name
e.g. GNU coreutils being installed prefixed with `g` e.g. `gcp` on non-GNU unix systems, or https://github.com/uutils/coreutils/ installing as `uu-cp`.


### Describe the solution you'd like

uutils handles it by stripping off any string that ends with a non-alphanumeric character https://github.com/uutils/coreutils/blob/40a895f79dca20b06fbec365038655a4031e90d0/src/bin/coreutils.rs#L64
however this wouldn't handle `gcp`.

### Alternatives, if applicable

It could be built with a predetermined prefix rather than programmatically inferring a prefix to strip, in the style of coreutils' `./configure` file's `--program-prefix`, `--program-suffix` or `--program-transform-name` options.

### Additional Context

_No response_

---

_Label `T: new feature` added by @fishface60 on 2021-10-12 20:49_

---

_Referenced in [clap-rs/clap#2861](../../clap-rs/clap/issues/2861.md) on 2021-10-12 20:49_

---

_Label `C: settings` added by @pksunkara on 2021-10-12 20:53_

---

_Referenced in [clap-rs/clap#3041](../../clap-rs/clap/pulls/3041.md) on 2021-11-19 22:17_

---

_Referenced in [epage/clapng#215](../../epage/clapng/issues/215.md) on 2021-12-06 22:18_

---

_Referenced in [epage/clapng#217](../../epage/clapng/issues/217.md) on 2021-12-06 22:18_

---

_Label `C: settings` removed by @epage on 2021-12-08 20:17_

---

_Label `A-parsing` added by @epage on 2021-12-08 20:17_

---

_Label `T: new feature` removed by @epage on 2021-12-08 21:08_

---

_Label `C-enhancement` added by @epage on 2021-12-08 21:08_

---

_Closed by @epage on 2021-12-13 15:22_

---
