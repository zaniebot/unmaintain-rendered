---
number: 5117
title: Allow the generated nushell completion scripts to be used as module and overlay
type: issue
state: closed
author: nibon7
labels:
  - C-enhancement
assignees: []
created_at: 2023-09-11T11:10:05Z
updated_at: 2023-09-11T14:26:59Z
url: https://github.com/clap-rs/clap/issues/5117
synced_at: 2026-01-07T12:31:17-06:00
---

# Allow the generated nushell completion scripts to be used as module and overlay

---

_Issue opened by @nibon7 on 2023-09-11 11:10_

### Please complete the following tasks

- [X] I have searched the [discussions](https://github.com/clap-rs/clap/discussions)
- [X] I have searched the [open](https://github.com/clap-rs/clap/issues) and [rejected](https://github.com/clap-rs/clap/issues?q=is%3Aissue+label%3AS-wont-fix+is%3Aclosed) issues

### Clap Version

master

### Describe your use case

The current nushell completion scripts generated by clap_complete_nushell can only be used as script with `source` command, I wish the generated scripts were more general and could be used as module and overlay.

### Describe the solution you'd like

Allow the nushell completion scripts to be used as module and overlay. For example:

* module
```
clap_complete_nushell/tests/snapshots on  nu
❯ use basic.nu *
clap_complete_nushell/tests/snapshots on  nu
❯ | my-app
my-app
my-app test       Subcommand
my-app help       Print this message or the help of the given subcommand(s)
my-app help help  Print this message or the help of the given subcommand(s)
my-app help test  Subcommand
```

* overlay
```
clap_complete_nushell/tests/snapshots on  nu
❯ overlay use basic.nu
clap_complete_nushell/tests/snapshots on  nu
❯ | my-app
my-app
my-app help       Print this message or the help of the given subcommand(s)
my-app test       Subcommand
my-app help test  Subcommand
my-app help help  Print this message or the help of the given subcommand(s)
```

### Alternatives, if applicable

_No response_

### Additional Context

_No response_

---

_Label `C-enhancement` added by @nibon7 on 2023-09-11 11:10_

---

_Referenced in [clap-rs/clap#5118](../../clap-rs/clap/pulls/5118.md) on 2023-09-11 11:12_

---

_Closed by @epage on 2023-09-11 14:27_

---
