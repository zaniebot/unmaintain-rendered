<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missing attribute when specifying an explicit version - zanieb/rooster #66</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Missing attribute when specifying an explicit version</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/zanieb/rooster/issues/66">#66</a>
        opened by <a href="https://github.com/MichaReiser">@MichaReiser</a>
        on 2025-05-13 09:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Issue opened by <a href="https://github.com/MichaReiser">@MichaReiser</a> on 2025-05-13 09:56</div>
            <div class="timeline-body"><pre><code>./scripts/release.sh --version &quot;0.0.1-alpha.1&quot;
Traceback (most recent call last):
  File &quot;/Users/micha/astral/ty/.venv/bin/rooster&quot;, line 10, in &lt;module&gt;
    sys.exit(app())
             ~~~^^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/typer/main.py&quot;, line 340, in __call__
    raise e
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/typer/main.py&quot;, line 323, in __call__
    return get_command(self)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/click/core.py&quot;, line 1161, in __call__
    return self.main(*args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/typer/core.py&quot;, line 740, in main
    return _main(
        self,
    ...&lt;6 lines&gt;...
        **extra,
    )
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/typer/core.py&quot;, line 195, in _main
    rv = self.invoke(ctx)
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/click/core.py&quot;, line 1697, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
                           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/click/core.py&quot;, line 1443, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/click/core.py&quot;, line 788, in invoke
    return __callback(*args, **kwargs)
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/typer/main.py&quot;, line 698, in wrapper
    return callback(**use_params)
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/rooster/_cli.py&quot;, line 290, in release
    update_version_file(
    ~~~~~~~~~~~~~~~~~~~^
        version_file, last_version or Version(&quot;0.0.0&quot;), new_version
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/rooster/_versions.py&quot;, line 155, in update_version_file
    to_cargo_version(new_version),
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File &quot;/Users/micha/astral/ty/.venv/lib/python3.13/site-packages/rooster/_versions.py&quot;, line 120, in to_cargo_version
    if not version.is_prerelease:
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'is_prerelease'
</code></pre>
<p><code>new_version</code> is a <code>Version</code> when using bump (or no argument) but a string when specified as a CLI option.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Referenced in <a href="../pulls/67.html">zanieb/rooster#67</a> on 2025-05-13 10:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-05-13 12:44</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:10 UTC
    </footer>
</body>
</html>
