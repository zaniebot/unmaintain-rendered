<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Properly parse JSON in caching logic - zanieb/rooster #71</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Properly parse JSON in caching logic</h1>

    <div class="meta">
        <span class="state state-closed">Closed</span>
        <a href="https://github.com/zanieb/rooster/pull/71">#71</a>
        opened by <a href="https://github.com/geofft">@geofft</a>
        on 2025-07-14 18:00
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header">Pull request opened by <a href="https://github.com/geofft">@geofft</a> on 2025-07-14 18:00</div>
            <div class="timeline-body"><p>Hishel works with httpcore.Response, not httpx.Response, which doesn't do e.g. gzip decoding. In order to correctly parse the JSON we have to construct an httpx.Response (which Hishel will do later but not at the point where we need it).</p>
<p>Without this, responses containing a JSON list of errors are incorrectly cached.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zanieb">@zanieb</a> approved on 2025-07-14 18:09</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @zanieb on 2025-07-14 19:27</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @zanieb on 2025-07-14 19:27</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-09 23:35:10 UTC
    </footer>
</body>
</html>
