<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>`ignore`: Add `overrides::Glob::inner` - BurntSushi/ripgrep #2615</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1><code>ignore</code>: Add <code>overrides::Glob::inner</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2615">#2615</a>
        opened by <a href="https://github.com/9999years">@9999years</a>
        on 2023-09-29 17:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/9999years">@9999years</a></div>
            <div class="timeline-body"><p>This returns the inner glob, if any, and can be used to differentiate between matching against an explicit ignore glob and not matching against any globs.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Add `ignore::overrides::Glob::inner`" to "`ignore`: Add `overrides::Glob::inner`" by @9999years on 2023-09-29 17:43</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-09-29 18:02</div>
            <div class="timeline-body"><p>I'm going to pass on this. The override glob is purposely an opaque type and this exposes its implementation to a point that I'm not quite comfortable with. Also, the fact that it returns an <code>Option</code> makes this API a bit confusing and also somewhat dependent on implementation details.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2023-09-29 18:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/9999years">@9999years</a> on 2023-09-29 18:07</div>
            <div class="timeline-body"><p>Why bother exposing it at all, then? The docs say &quot;This is used to report information about the highest precedent glob that matched&quot;, but it doesn't report any information outside of the <code>Debug</code> implementation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-09-29 18:10</div>
            <div class="timeline-body"><blockquote>
<p>Why bother exposing it at all, then?</p>
</blockquote>
<p>I don't know. I designed the API many years ago and I've been unhappy with it ever since. It wouldn't surprise me if I exposed it for an unprincipled reason or if I just copied the design of the <code>gitignore</code> sub-module.</p>
<p>I would be open to exposing routines on an override glob that let you query information about it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/9999years">@9999years</a> on 2023-09-29 18:14</div>
            <div class="timeline-body"><p>Gotcha. Maybe it's worth reworking the API and pushing a 1.0 release? Let me know if you want to collaborate on it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2023-09-29 18:16</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-09-29 18:25</div>
            <div class="timeline-body"><p>Oh it's absolutely worth doing. I plan on it. Problem is, I've been wanting to do it for years. The entire crate needs to be rewritten. It will take me some time to get to it. I can ping you in issues if that's okay when I start thinking about it and write something down. My first step will probably be to collect all of the issues on this tracker about the crate, including open bugs that have their issues in how the crate works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/9999years">@9999years</a> on 2023-09-29 18:34</div>
            <div class="timeline-body"><p>Sure, sounds good.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">gitignore</span> added by @BurntSushi on 2023-09-29 18:36</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:44:11 UTC
    </footer>
</body>
</html>
