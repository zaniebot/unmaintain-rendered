<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simplify main error handling by using the new return Result from main feature - BurntSushi/ripgrep #952</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>simplify main error handling by using the new return Result from main feature</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/952">#952</a>
        opened by <a href="https://github.com/rtaycher">@rtaycher</a>
        on 2018-06-16 07:34
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/rtaycher">@rtaycher</a></div>
            <div class="timeline-body"><p>return Result from main/increase minimum version to 1.26</p>
<p>Is printing <code>Error: StringError(&quot;no matches&quot;)</code> on no matches ok or should I put back <code>process::exit(1)</code> and not print anything?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-06-16 11:34</div>
            <div class="timeline-body"><p>Thanks for the PR! I appreciate that you&#x27;re trying to improve things here, but there are several issues with this PR, which is why I&#x27;m just going to close this out. Those issues are:</p>
<ul>
<li>Compare the output of <code>rg foo --colors &#x27;invalid&#x27;</code> on master and in this PR. Your PR shows the error as a debug representation. This is unacceptable for end users, and this is why <code>result-in-main</code>, as it currently exists, is not allowed in my projects.</li>
<li>The simplification being made here is, IMO, nominal.</li>
<li>Increasing the minimum Rust version to the <em>latest stable release</em> isn&#x27;t acceptable. While ripgrep doesn&#x27;t have an official policy on this matter, requiring the latest stable release is definitely not the right thing to do.</li>
<li>Printing an error message when no results are found represents a <em>significant behavioral change</em>. I can&#x27;t imagine any reality in which I would accept a change like that, but in general, for significant changes you really need to open an issue so that it can be properly discussed.</li>
<li>Your branch name starts with a <code>U+0096 START OF GUARDED AREA</code> character, which makes it unreasonably difficult to manage.</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-06-16 11:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rtaycher">@rtaycher</a> on 2018-06-16 17:03</div>
            <div class="timeline-body"><p>thank you fro the explanation</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/rtaycher">@rtaycher</a> on 2018-06-16 17:37</div>
            <div class="timeline-body"><blockquote>
<p>Increasing the minimum Rust version to the latest stable release isn&#x27;t acceptable. While ripgrep doesn&#x27;t have an official policy on this matter, requiring the latest stable release is definitely not the right thing to do.</p>
</blockquote>
<p>I&#x27;m sorry about this one, it may have been obvious but maybe it should be mentioned/semi-official (don&#x27;t increase the minimum version to last stable release/last 2 stable releases)? I tried to find anything on ripgreps version policy in the rpo but could only find that it had been incremented in jumps by looking at the git history.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-06-16 19:52</div>
            <div class="timeline-body"><p>The only real policy is &quot;be conservative, within reason.&quot; I don&#x27;t really know how to articulate it more than that. It&#x27;s a judgment call. Part of this has to do with the <em>reason</em> for bumping the minimum Rust version too. Nominal reasons (like the code change in this PR, barring the other issues I mentioned) are never going to pass my sniff test. The most common reason to bump the minimum Rust version for ripgrep is &quot;because a dependency bumped it, and in due time, it&#x27;s good to stay up to date with dependencies and move with the ecosystem.&quot;</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:17 UTC
    </footer>
</body>
</html>
