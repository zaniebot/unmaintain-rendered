<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add replacement into json output - BurntSushi/ripgrep #2883</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add replacement into json output</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2883">#2883</a>
        opened by <a href="https://github.com/MagicDuck">@MagicDuck</a>
        on 2024-09-08 09:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/MagicDuck">@MagicDuck</a></div>
            <div class="timeline-body"><p>fixes <a href="https://github.com/BurntSushi/ripgrep/issues/1872">BurntSushi/ripgrep#1872</a></p>
<p>Hi, I am new to this repo so feel free to let me know if there is any way I can improve this PR. As detailed in the liked issue, this functionality is useful for quite a few cases where search/replace type tooling is built around ripgrep. My own neovim plugin is an example of a tool built on top of your great work ðŸ˜„ : https://github.com/MagicDuck/grug-far.nvim
This change would allow me to show diffs, a much requested feature.</p>
<p>Example:</p>
<p>Given the following text in file <code>/home/andrew/sherlock</code>:</p>
<pre><code>For the Doctor Watsons of this world, as opposed to the Sherlock
Holmeses, success in the province of detective work must always
</code></pre>
<p>Searching for <code>Watson</code> with a replacement parameter of <code>Moriarity</code>, here&#x27;s what a match type item would looks like:</p>
<pre><code>{
  &quot;type&quot;: &quot;match&quot;,
  &quot;data&quot;: {
    &quot;path&quot;: {&quot;text&quot;: &quot;/home/andrew/sherlock&quot;},
    &quot;lines&quot;: {&quot;text&quot;: &quot;For the Doctor Watsons of this world, as opposed to the Sherlock\n&quot;},
    &quot;line_number&quot;: 1,
    &quot;absolute_offset&quot;: 0,
    &quot;submatches&quot;: [
      {&quot;match&quot;: {&quot;text&quot;: &quot;Watson&quot;}, &quot;replacement&quot;: {&quot;text&quot;: &quot;Moriarity&quot;}, &quot;start&quot;: 15, &quot;end&quot;: 21}
    ]
  }
}
</code></pre>
<p>P.S. Your documentation in code is amazing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MagicDuck">@MagicDuck</a> on 2024-09-08 09:30</div>
            <div class="timeline-body"><p>hmm, not sure why the musleabihf test failed, it just says <code>This job failed</code>...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MagicDuck">@MagicDuck</a> on 2024-09-08 17:50</div>
            <div class="timeline-body"><p>hmm, passed now after changing a comment, just a blip I guess ðŸ˜†</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rollup</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-07-26 15:36</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-07-26 15:36</div>
            <div class="timeline-body"><p>I&#x27;ve picked this up into my rollup branch. This was overall very well done. The only thing missing was an integration test checking that this worked (which I&#x27;ve added). Thank you for adding docs as well!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/MagicDuck">@MagicDuck</a> on 2025-07-28 17:16</div>
            <div class="timeline-body"><p>That&#x27;s great news! Thank you so much! Looking forward to the rollup branch changes going out! ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-07-28 17:26</div>
            <div class="timeline-body"><p>Yeah this PR will get closed automatically once the rollup branch gets merged.</p>
<p>It will still be a bit. I have a big backlog to work through.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-20 01:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:20 UTC
    </footer>
</body>
</html>
