<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix reiteration of the first found match with --only-mathing flag - BurntSushi/ripgrep #454</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix reiteration of the first found match with --only-mathing flag</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/454">#454</a>
        opened by <a href="https://github.com/kpp">@kpp</a>
        on 2017-04-20 15:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kpp">@kpp</a></div>
            <div class="timeline-body"><p>Fixes #451</p>
<pre><code>~/ripgrep$ cat tests/digits.txt 
1 2 3
123
~/ripgrep$ cargo run -- &quot;\d&quot; tests/digits.txt -o --column
    Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs
     Running `target/debug/rg '\d' tests/digits.txt -o --column`
1:1:1
1:3:2
1:5:3
2:1:1
2:2:2
2:3:3
~/ripgrep$ cargo run -- &quot;\d+&quot; tests/digits.txt -o --column
    Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs
     Running `target/debug/rg '\d+' tests/digits.txt -o --column`
1:1:1
1:3:2
1:5:3
2:1:123

</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>tests/tests.rs</code>:1618 on 2017-04-20 15:07</div>
            <div class="timeline-body"><p>Could you use a raw string literal for this? e.g., <code>r&quot;\d&quot;</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>tests/tests.rs</code>:1620 on 2017-04-20 15:07</div>
            <div class="timeline-body"><p>I don't think you need this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>tests/tests.rs</code>:1612 on 2017-04-20 15:08</div>
            <div class="timeline-body"><p>This test looks good. Could you add another test that approximately mimics the bug report in #451? e.g., Test that the actual results printed are correct instead of just column numbers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> requested changes on 2017-04-20 15:12</div>
            <div class="timeline-body"><p>Thanks for this fix! I think this mostly looks good, but I left some nits on the test. I also think we should include a regression test that roughly matches what the reporter initially presented.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kpp">@kpp</a> reviewed on 2017-04-20 15:14</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/kpp">@kpp</a> on <code>tests/tests.rs</code>:1618 on 2017-04-20 15:14</div>
            <div class="timeline-body"><p>Sure</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kpp">@kpp</a> reviewed on 2017-04-20 15:18</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/kpp">@kpp</a> on <code>tests/tests.rs</code>:1620 on 2017-04-20 15:18</div>
            <div class="timeline-body"><p>You are right</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/kpp">@kpp</a> on <code>tests/tests.rs</code>:1612 on 2017-04-20 15:29</div>
            <div class="timeline-body"><p>Ah. I see. Yep</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/kpp">@kpp</a> reviewed on 2017-04-20 15:29</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kpp">@kpp</a> on 2017-04-21 11:42</div>
            <div class="timeline-body"><p>@BurntSushi ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> approved on 2017-04-21 12:11</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2017-04-21 12:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-04-21 12:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-21 12:12</div>
            <div class="timeline-body"><p>Looks good, thank you!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2017-04-23 12:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:27:50 UTC
    </footer>
</body>
</html>
