<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve smartness of --smart-case - BurntSushi/ripgrep #718</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve smartness of --smart-case</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/718">#718</a>
        opened by <a href="https://github.com/okdana">@okdana</a>
        on 2017-12-18 21:13
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/okdana">@okdana</a></div>
            <div class="timeline-body"><p>Fixes #717 (partially)</p>
<p>As suggested, i changed the smart-case feature in the <code>grep</code> crate to look for upper-case characters in the pattern itself rather than the AST. I also added some tests for it, and a note in the manual.</p>
<p>I didn't update the <code>grep</code> version number â€” you don't want me to do that, right?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> reviewed on 2017-12-18 21:32</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>grep/src/search.rs</code>:323 on 2017-12-18 21:32</div>
            <div class="timeline-body"><p>This should accept a <code>&amp;str</code>. I believe the callers won't need to be changed because of auto deref.</p>
<p>(Basically, you almost never want a <code>&amp;String</code> or a <code>&amp;Vec&lt;T&gt;</code>, and instead should prefer <code>&amp;str</code> or <code>&amp;[T]</code>. It obviously doesn't <em>really</em> matter because this is an internal helper function, but I do want to stay idiomatic.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> reviewed on 2017-12-18 21:33</div>
            <div class="timeline-body"></div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>grep/src/search.rs</code>:332 on 2017-12-18 21:33</div>
            <div class="timeline-body"><p>This should just be <code>false</code> (no semi-colon) instead of <code>return false;</code>. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Review comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on <code>grep/src/search.rs</code>:394 on 2017-12-18 21:33</div>
            <div class="timeline-body"><p>Awesome, thank you for these tests!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> requested changes on 2017-12-18 21:34</div>
            <div class="timeline-body"><p>This is great thanks! I have just a couple of very minor Rust-specific nits.</p>
<p>And yeah, don't update the version number. I do that as part of the release process.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-12-18 21:36</div>
            <div class="timeline-body"><p>Oops. Fixed i think</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> approved on 2017-12-18 21:41</div>
            <div class="timeline-body"><p>Looks great! Thanks for the fixes!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2017-12-18 22:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-12-18 22:58</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:27:56 UTC
    </footer>
</body>
</html>
