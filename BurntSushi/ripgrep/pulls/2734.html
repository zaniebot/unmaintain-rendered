<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bump memchr = &quot;2.7.1&quot; - BurntSushi/ripgrep #2734</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>bump memchr = &quot;2.7.1&quot;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2734">#2734</a>
        opened by <a href="https://github.com/vors">@vors</a>
        on 2024-02-13 21:16
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vors">@vors</a></div>
            <div class="timeline-body"><p>Currently I cannot use <code>ignore</code> create with the latest ruff crates. Hence the bump in versions.</p>
<p>Test plan: CI</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-13 21:25</div>
            <div class="timeline-body"><p>Sorry what? Can you elaborate?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vors">@vors</a> on 2024-02-13 21:28</div>
            <div class="timeline-body"><p>sorry, I want to use both https://github.com/astral-sh/ruff and <code>ignore</code> crate from this repo in a single project.</p>
<p>Currently I&#x27;m getting</p>
<pre><code>note: for more details see https://doc.rust-lang.org/cargo/reference/resolver.html#resolver-versions
    Blocking waiting for file lock on package cache
    Updating git repository `https://github.com/astral-sh/ruff.git`
    Updating crates.io index
error: failed to select a version for `memchr`.
    ... required by package `ruff_python_parser v0.0.0 (https://github.com/astral-sh/ruff.git?rev=v0.2.1#0ccca408)`
    ... which satisfies git dependency `ruff_python_parser` of package `bzl_gen_python_extractor v0.1.0 (/Users/sergei/src/bzl-gen-build/crates/python_extractor)`
versions that meet the requirements `^2.7.1` are: 2.7.1

all possible versions conflict with previously selected packages.

  previously selected package `memchr v2.6.3`
    ... which satisfies dependency `memchr = &quot;^2.6.3&quot;` (locked to 2.6.3) of package `ignore v0.4.22`
    ... which satisfies dependency `ignore = &quot;^0.4.22&quot;` (locked to 0.4.22) of package `bzl_gen_build_driver v0.1.0 (/Users/sergei/src/bzl-gen-build/crates/driver)`

failed to select a version for `memchr` which could resolve this conflict
</code></pre>
<p>I&#x27;m fairly new to rust, if there is a better way to deal with it would appreciate a guidance.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-13 21:40</div>
            <div class="timeline-body"><p>I&#x27;m very confused. The version bumps in this PR really don&#x27;t have anything to do with what you&#x27;re trying to do. A version constraint of <code>2.6.3</code> is the same as <code>^2.6.3</code> and that&#x27;s the same as <code>&gt;=2.6.3, &lt; 3.0.0</code>. Since <code>memchr 2.7.1</code> satisfies that constraint, there shouldn&#x27;t be any issue here.</p>
<p>Please provide a complete reproduction.</p>
<p>Also, <code>ruff</code> is a program, not a library.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/vors">@vors</a> on 2024-02-13 21:52</div>
            <div class="timeline-body"><p>Oh I though that the repro would be</p>
<pre><code>[dependencies]
ruff_python_parser = { git = &quot;https://github.com/astral-sh/ruff.git&quot;, rev = &quot;v0.2.1&quot; }
ignore = &quot;0.4.22&quot;
</code></pre>
<p>but turned out it doesn&#x27;t repro.</p>
<p>Sorry for the noise and thank you for the explanations.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/vors">@vors</a> on 2024-02-13 21:52</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:20 UTC
    </footer>
</body>
</html>
