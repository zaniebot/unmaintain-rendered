<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add -d as short command for --max-depth - BurntSushi/ripgrep #2644</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add -d as short command for --max-depth</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2644">#2644</a>
        opened by <a href="https://github.com/3tilley">@3tilley</a>
        on 2023-11-02 19:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/3tilley">@3tilley</a></div>
            <div class="timeline-body"><p>I've given a go to #2643, partly just as an experiment into how easy it would be - the answer was pretty easy with the tools available.</p>
<p>I've not:</p>
<ul>
<li>Updated much documentation. The help is generated automatically, and I followed the model of <code>--max-count / -m</code> while making this change, where it's exclusively referred to by the long name</li>
<li>Added or updated any tests - I couldn't see that the <code>--max-depth</code> functionality is tested anywhere, so I didn't see anywhere to add or tweak for the short form. I can add some if you would like</li>
</ul>
<p>I have given my best go at updating the zsh completions, but I'd be lying if I said I understood exactly how it worked. I've followed the example of <code>--max-count</code> and <code>--max-columns</code>, but I'd appreciate your eye to make sure it's been implemented correctly.</p>
<p>I've also tested locally, and it seems to work the same as <code>--max-depth</code> does:</p>
<pre><code>$./target/debug/rg.exe glue --max-depth 4
$./target/debug/rg.exe glue -d 4
$./target/debug/rg.exe glue -d4
$./target/debug/rg.exe glue -d=4
$./target/debug/rg.exe glue --max-depth 5
crates\searcher\src\searcher\mod.rs
20:    searcher::glue::{MultiLine, ReadByLine, SliceByLine},
27:mod glue;
$./target/debug/rg.exe glue -d 5
crates\searcher\src\searcher\mod.rs
20:    searcher::glue::{MultiLine, ReadByLine, SliceByLine},
27:mod glue;
$./target/debug/rg.exe glue -d5
crates\searcher\src\searcher\mod.rs
20:    searcher::glue::{MultiLine, ReadByLine, SliceByLine},
27:mod glue;
$./target/debug/rg.exe glue -d=5
crates\searcher\src\searcher\mod.rs
20:    searcher::glue::{MultiLine, ReadByLine, SliceByLine},
27:mod glue;
</code></pre>
<p>If you agree with the premise of the change, let me know if there is anything I should update or check for.</p>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rollup</span> added by @BurntSushi on 2023-11-21 23:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2023-11-21 23:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:44:12 UTC
    </footer>
</body>
</html>
