<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ignore: add `inverted_matching` option for `OverrideBuilder` - BurntSushi/ripgrep #2945</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ignore: add <code>inverted_matching</code> option for <code>OverrideBuilder</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2945">#2945</a>
        opened by <a href="https://github.com/yuuhikaze">@yuuhikaze</a>
        on 2024-12-09 14:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yuuhikaze">@yuuhikaze</a></div>
            <div class="timeline-body"><p>The <code>overrides</code> module description for the <code>ignore</code> crate is as follows:</p>
<pre><code class="language-markdown">The overrides module provides a way to specify a set of override globs.
This provides functionality similar to `--include` or `--exclude` in command
line tools.
</code></pre>
<p>However there is no way for the user to configure the <code>OverrideBuilder</code> to act as an <code>--exclude</code>, precisely this PR implements that.</p>
<blockquote>
<p>Usage of the option can be found <a href="https://github.com/yuuhikaze/tern/blob/9932b43905ebf07c499904d0234f6b5c5ec173aa/src/converter.rs#L41">here</a>.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-08-17 18:04</div>
            <div class="timeline-body"><p>Using shared mutable state like this in a library is totally nuts.</p>
<p>And the presumption here isn't correct anyway. The <code>--exclude</code> is done by adding a <code>!</code> to beginning of the glob. This is even in the public API documentation.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-08-17 18:04</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yuuhikaze">@yuuhikaze</a> on 2025-08-27 20:11</div>
            <div class="timeline-body"><p>Good afternoon,
Can you explain me why &quot;using shared mutable state like this in a library is totally nuts&quot;?
I still consider the API should provide the functionality proposed in the PR since that would be more idiomatic and transparent rather than telling the user to negate his logic. It is easier to think in a non negative way.
The implementation may not be best, but as the author of the crate, you could come up with something more sophistacated and ad hoc.
Greetings!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:44:18 UTC
    </footer>
</body>
</html>
