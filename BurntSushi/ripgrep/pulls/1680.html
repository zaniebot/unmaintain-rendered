<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cli: adding -. as short option for --hidden - BurntSushi/ripgrep #1680</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>cli: adding -. as short option for --hidden</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/1680">#1680</a>
        opened by <a href="https://github.com/marcospb19">@marcospb19</a>
        on 2020-09-10 23:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/marcospb19">@marcospb19</a></div>
            <div class="timeline-body"><p>There was no short option for <code>--hidden</code>, I assume because <code>-H</code> is already taken by <code>--with-filename</code> from the original <code>grep</code>, and <code>-h</code> should always be <code>--help</code>.</p>
<p>The fact is, a lot of times when searching recursively in a directory, <code>--hidden</code> is needed to show files that start with an <code>.</code> (dot).</p>
<p>So doesn't it make sense to use a dot for the short flag?
<code>rg -. PATTERN</code>.</p>
<p>The only software I'm aware that uses <code>-.</code> is <code>feh</code>, however there seems to be no semantic relation with the dot itself, in contrast with <code>ripgrep</code>'s.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marcospb19">@marcospb19</a> on 2020-09-10 23:46</div>
            <div class="timeline-body"><p>Hey, thanks for the great software, I'll understand if think that this flag is weird, it was also weird for me at first glance, so no hard feelings if you just decline it :smiley: .</p>
<p>Also, I'm not sure if <code>-.</code> is portable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2020-09-11 13:17</div>
            <div class="timeline-body"><p>I like the cleverness of this, but I'm not sure how I feel about it. It pushes my weirdness budget, personally. I am potentially in favor of having a short flag for <code>--hidden</code>, although personally, I tend to use <code>-uu</code> instead. However, this does have the side effect of also ignoring gitignore files, which I suppose may be undesirable. But usually if I want to search hidden files, I'm probably wanting to search things in gitignore too.</p>
<p>As far as portable, <code>-.</code> wouldn't have any technical issues with being portable. With that said, using a leading <code>.</code> to indicate that a file is hidden is a Unix convention, and I don't know how Windows users would feel about it. (On Windows, a file being hidden is I think an actual attribute of the file's metadata.)</p>
<p>@okdana What are your thoughts on this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2020-09-11 18:29</div>
            <div class="timeline-body"><p>I think <code>-a</code> is the closest thing to a standard for this, but obv that's taken. <code>-.</code> isn't a portability issue for <code>rg</code> itself (as long as you continue to use an argument-processing library that supports it), but it's possible that some external software like wrapper scripts and completion functions might not handle it well? I'm pretty sure zsh will, don't know about bash, fish, or anything Windows-related. <code>.</code> isn't special to any shell, though, afaik, so it does have that going for it.</p>
<p>I don't know. There's definitely a logic to it, but it's weird. And it sets a precedent.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/marcospb19">@marcospb19</a> on 2020-09-12 00:42</div>
            <div class="timeline-body"><p>@BurntSushi and @okdana, thanks for the responses!</p>
<blockquote>
<p>Is it possible that some external software like wrapper scripts and completion functions might not handle it well? I'm pretty sure zsh will, don't know about bash, fish, or anything Windows-related.</p>
</blockquote>
<p>I assume that everything will work with <code>zsh</code>, <code>bash</code> and <code>fish</code>, I also tried searching for <a href="https://github.com/derf/feh">feh</a> issues with the <code>-.</code> flag in the whole git history and issues/PRs sections, and I found nothing, but again, I know nothing about the <code>Windows</code> side of it :disappointed: .</p>
<hr />
<blockquote>
<p>As far as portable, -. wouldn't have any technical issues with being portable. With that said, using a leading . to indicate that a file is hidden is a Unix convention, and I don't know how Windows users would feel about it.</p>
</blockquote>
<p>I personally think that offering a short flag as an extra option of usage will always be better than not offering a short flag option at all, if <code>unix</code> users can use it and enjoy it, that's a great thing.</p>
<p>It would be even better if someone could figure out a better option that could satisfy all the user base, however I'm out of ideas (I would suggest something with <code>clap</code>'s short options aliases, but... this feature does not exist yet, weird).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> approved on 2021-05-30 16:34</div>
            <div class="timeline-body"><p>While I'm still a little unsure, I decided to accept this. I like the connection between <code>-.</code> and hidden files, even though it is a bit Unixy.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rollup</span> added by @BurntSushi on 2021-05-30 16:34</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2021-06-01 01:51</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:28:14 UTC
    </footer>
</body>
</html>
