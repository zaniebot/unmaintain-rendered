<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix brew formula name to not conflict with core - BurntSushi/ripgrep #143</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Fix brew formula name to not conflict with core</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/143">#143</a>
        opened by <a href="https://github.com/moshen">@moshen</a>
        on 2016-10-03 21:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/moshen">@moshen</a></div>
            <div class="timeline-body"><p>Since the homebrew-core formula was accepted, we should differentiate
the prebuilt formula available in this tap</p>
<p>Only after my previous PR was accepted (and I tried it again), did I notice that there may be an issue with conflicting formula names:</p>
<p><img src="https://cloud.githubusercontent.com/assets/168513/19055204/7049a34e-8988-11e6-9832-c20d294e146c.png" alt="image"></p>
<p>This is failing because the cache I have from installing the <code>homebrew-core</code> version of ripgrep doesn&#x27;t match the sha of the prebuilt download.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-03 21:52</div>
            <div class="timeline-body"><p>Is <code>-prebuilt</code> an idiom that the Homebrew ecosystem uses? If not, is there one?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/moshen">@moshen</a> on 2016-10-03 22:02</div>
            <div class="timeline-body"><p>Good question.  There is really only <code>bottle</code> (but you aren&#x27;t distributing <code>bottle</code>s) from what I can tell.  This actually seems like more of a problem with Homebrew since it doesn&#x27;t namespace the cache by tap name.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-03 22:15</div>
            <div class="timeline-body"><p>Hmm. I would like to make sure we get this name right. For example, I can imagine being convinced that the tap should compile from source instead of distributing prebuilt binaries. However, that&#x27;s unlikely to happen unless something like <code>rustup</code> gets packaged because we&#x27;d need a nightly compiler to enable SIMD.</p>
<p>In Archlinux, we&#x27;d call this <code>ripgrep-git</code>, but that&#x27;s not accurate because this tap doesn&#x27;t track master. We also have things like <code>ripgrep-bin</code>, but that has the same problem as <code>ripgrep-prebuilt</code>.</p>
<p>Maybe I&#x27;m overthinking this. (I do like <code>ripgrep-bin</code> better than <code>ripgrep-prebuilt</code> though.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/moshen">@moshen</a> on 2016-10-04 03:27</div>
            <div class="timeline-body"><p>It appears that <a href="https://github.com/Homebrew/homebrew-core/blob/d4109a06e6b3957a7091ced6de1dd9d4de801952/Formula/multirust.rb">multirust</a> is available (which uses rustup?).  However, there are no formula which depend on it.. so I&#x27;m not sure if that&#x27;s allowed.  <a href="https://github.com/Homebrew/homebrew-core/pull/5563">I have a change that is using it to build with rust nightly</a>.  I guess this PR could just hang out depending on what happens there.  If the Homebrew PR is accepted and bottles created from the nightly build, I can revise this PR further.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-04 10:49</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-04 10:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-04 10:49</div>
            <div class="timeline-body"><p><code>multirust</code> is on the way out unfortunately (to be replaced by <code>rustup</code>). The Homebrew folks probably made the right call by sticking with <code>rust</code>. In general, we really shouldn&#x27;t be packaging nightly Rust at all. It just so happens that <code>ripgrep</code> benefits from it. I realize it sucks, but it&#x27;s a good motivator for us (the Rust community) to get SIMD stabilized.</p>
<p>With that in mind, I&#x27;m just going to accept this and call it done. Thanks so much for straightening this out!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/moshen">@moshen</a> on 2016-10-04 16:28</div>
            <div class="timeline-body"><p>Gotcha.  No problem!  Thanks for ripgrep! üçª</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:15 UTC
    </footer>
</body>
</html>
