<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>deps: use fs-err instead of std::fs in walkdir - BurntSushi/ripgrep #1693</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>deps: use fs-err instead of std::fs in walkdir</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/1693">#1693</a>
        opened by <a href="https://github.com/hoodie">@hoodie</a>
        on 2020-09-30 22:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hoodie">@hoodie</a></div>
            <div class="timeline-body"><p>Hi there, thanks so much for ripgrep, I use it every day!
I just stumbled upon this little crate called <a href="https://github.com/andrewhickman/fs-err">fs-err</a> which produces nicer fs errors but is basically a drop in replacement for <code>std::err</code>.</p>
<p>I thought I'd give it a try in ripgrep et voilÃ¡</p>
<p>before:</p>
<pre><code class="language-bash">~  /usr/bin/rg password /root
/root: Permission denied (os error 13)
</code></pre>
<p>after:</p>
<pre><code class="language-bash">~  rg password /root 
/root: failed to read directory `/root`
</code></pre>
<p>thank you for your consideration</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2020-09-30 22:39</div>
            <div class="timeline-body"><p>Is it nicer? It seems like it provides less useful information</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoodie">@hoodie</a> on 2020-09-30 22:46</div>
            <div class="timeline-body"><p>@okdana actually you might be right ðŸ˜€</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @hoodie on 2020-09-30 22:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2020-10-01 12:57</div>
            <div class="timeline-body"><p>@hoodie I had the same reaction as @okdana. And ripgrep already tries pretty hard to add file paths to error messages, which appears to be the primary benefit of something like <code>fs-err</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hoodie">@hoodie</a> on 2020-10-01 14:21</div>
            <div class="timeline-body"><p>It was mainly an exercise for me, I was so surprised that it was so easy to integrate that I didn't validate the results thoroughly enough</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:28:15 UTC
    </footer>
</body>
</html>
