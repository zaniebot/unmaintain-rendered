<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[WIP] Implement -o, --only-matching. - BurntSushi/ripgrep #125</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[WIP] Implement -o, --only-matching.</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/125">#125</a>
        opened by <a href="https://github.com/utkarshkukreti">@utkarshkukreti</a>
        on 2016-09-28 10:48
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/utkarshkukreti">@utkarshkukreti</a></div>
            <div class="timeline-body"><p>Fixes #34.</p>
<p>@BurntSushi The tests pass, but let me know if anything is wrong or can be improved!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-28 11:00</div>
            <div class="timeline-body"><p>@utkarshkukreti Thanks! This looks good as a first pass. One of the reasons why I hadn't just done this myself is because I wasn't sure about its interaction with other flags. But we can figure that out here! Some questions:</p>
<ul>
<li>What if the user wants line counts? What about column numbers? What about file paths?</li>
<li>What if <code>--vimgrep</code> is passed? (I think having one flag override the other is fine btw, we just need to say it.)</li>
<li>What about colors?</li>
<li>How does it interact with the context options? (GNU grep's output here is... strange, but I can see how it makes sense. Namely, it doesn't print any context lines, but does still print context separators.)</li>
</ul>
<p>Pretty much all of these interactions need to be tested too. Doing some of these things may not be very nice in the current printer code.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/utkarshkukreti">@utkarshkukreti</a> on 2016-09-28 17:39</div>
            <div class="timeline-body"><p>@BurntSushi thanks for the initial review! I'll try to address everything as soon as I can. As for (3), both <code>ag</code> and <code>grep</code> color all the text with <code>-o</code>, so I think we should do the same here if colors are enabled.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Implement -o, --only-matching." to "[WIP] Implement -o, --only-matching." by @utkarshkukreti on 2016-09-28 17:39</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-28 17:41</div>
            <div class="timeline-body"><p>@utkarshkukreti That's a reasonable choice.</p>
<p>In general, we should probably put a strong preference towards answering my questions by looking at what other tools do. I've tried to give <code>grep</code> behavior the higher priority over any other tool. (With that said, there can be good reasons for doing something different than <code>grep</code>, we should just try to justify it.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/utkarshkukreti">@utkarshkukreti</a> on 2016-11-04 14:51</div>
            <div class="timeline-body"><p>Unfortunately, I didn't get time to work on this and probably won't for a few weeks. I'm closing this but if anyone wants to use these changes as a starting point for their own attempt, please feel free to!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @utkarshkukreti on 2016-11-04 14:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-11-04 14:52</div>
            <div class="timeline-body"><p>@utkarshkukreti No problem! Thanks for the heads up! I understand this was probably trickier than it appeared, in large part because the printing code isn't in the best shape. I expect to try to add this when I refactor the search/print code.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:27:44 UTC
    </footer>
</body>
</html>
