<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>On Windows MSVC, statically link the C runtime - BurntSushi/ripgrep #1613</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>On Windows MSVC, statically link the C runtime</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/1613">#1613</a>
        opened by <a href="https://github.com/AustinWise">@AustinWise</a>
        on 2020-06-09 21:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/AustinWise">@AustinWise</a></div>
            <div class="timeline-body"><p>Before this change, rg.exe depended on vcruntime140.dll, which does not exist on a fresh install of Windows. The missing DLL prevents rg.exe from starting.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AustinWise">@AustinWise</a> on 2020-06-09 21:30</div>
            <div class="timeline-body"><p>There is precedence for using this option. The <code>rg.exe</code> shipped with VS Code is <a href="https://github.com/microsoft/ripgrep-prebuilt/blob/677ffbed25585367af2d7642650f976496091a23/build/windows.yml#L35">compiled with this option</a>. rustc.exe is <a href="https://github.com/rust-lang/rust/pull/39837">compiled with this option</a> too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/AustinWise">@AustinWise</a> on 2020-06-09 23:22</div>
            <div class="timeline-body"><p>The main downside to this change is it grows the binary size. For x64, it increases 2% from 4.14 MB to 4.24 MB.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wdscxsj">@wdscxsj</a> on 2020-09-01 08:22</div>
            <div class="timeline-body"><p>I suppose 0.1 MB is negligible here... An immediately usable binary is much better than having to find and download the venerable Visual C++ Redistributable in emergency.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a> approved on 2021-05-31 00:26</div>
            <div class="timeline-body"><p>I love this, thank you! I'll also update the README which IIRC mentions installing vcruntime or similar.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rollup</span> added by @BurntSushi on 2021-05-31 00:28</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2021-06-01 01:51</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2022-02-21 22:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:28:14 UTC
    </footer>
</body>
</html>
