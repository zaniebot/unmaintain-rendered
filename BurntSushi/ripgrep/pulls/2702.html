<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add ARM build configurations to CI and release workflows - BurntSushi/ripgrep #2702</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add ARM build configurations to CI and release workflows</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2702">#2702</a>
        opened by <a href="https://github.com/yelkarama">@yelkarama</a>
        on 2024-01-05 06:17
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/yelkarama">@yelkarama</a></div>
            <div class="timeline-body"><p>Add the following targets:</p>
<ul>
<li>armv7-unknown-linux-gnueabihf</li>
<li>armv7-unknown-linux-musleabi</li>
<li>armv7-unknown-linux-musleabihf</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-01-05 13:15</div>
            <div class="timeline-body"><p>Could you say why you opened #2700 and #2701 too? This should only need one PR.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yelkarama">@yelkarama</a> on 2024-01-05 21:33</div>
            <div class="timeline-body"><p>Please ignore the other 2. I was trying to push another commit in a separate branch, but it ended up (twice) in the master branch and it was included in the PR. I had to close them and submit this one instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-01-05 21:40</div>
            <div class="timeline-body"><p>Hmm okay. Just so you're aware, you can rebase and force push.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-01-06 13:50</div>
            <div class="timeline-body"><p>How did you test this? You have to run the release workflow and ensure the binaries are produced in a fork. Right now, it fails because the <code>armv7-unknown-linux-musleabi</code> target doesn't seem to have a Docker image:</p>
<pre><code>$ docker run -it rustembedded/cross:armv7-unknown-linux-musleabi bash
Unable to find image 'rustembedded/cross:armv7-unknown-linux-musleabi' locally
docker: Error response from daemon: manifest for rustembedded/cross:armv7-unknown-linux-musleabi not found: manifest unknown: manifest unknown.
See 'docker run --help'.
</code></pre>
<p>Ah okay... It looks like the Cross project changed this around. Sigh. It's now here:</p>
<pre><code>$ docker run -it ghcr.io/cross-rs/x86_64-unknown-linux-musl:main bash
root@45607f50d74d:/# exit
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-01-06 15:18</div>
            <div class="timeline-body"><p>Switching everything over to ghcr.io was a bit of a pain. It also turned out that we don't need the old custom images I was maintaining any more. But that was probably true before.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2024-01-06 15:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-01-06 15:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:44:13 UTC
    </footer>
</body>
</html>
