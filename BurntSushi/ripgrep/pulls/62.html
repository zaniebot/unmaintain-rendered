<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>--type js: include more extensions - BurntSushi/ripgrep #62</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>--type js: include more extensions</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/62">#62</a>
        opened by <a href="https://github.com/martinlindhe">@martinlindhe</a>
        on 2016-09-24 12:45
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/martinlindhe">@martinlindhe</a></div>
            <div class="timeline-body"><p>Includes more commonly used extensions to the js type.</p>
<ul>
<li>coffe, used by coffescript</li>
<li>ts, tsx, used by typescript</li>
<li>jsx, used by react.js</li>
<li>vue, used by vue.js</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Keats">@Keats</a> on 2016-09-24 16:02</div>
            <div class="timeline-body"><p>TypeScript also uses <code>.tsx</code> for ts files with JSX in them</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-24 17:16</div>
            <div class="timeline-body"><p>@Keats thanks for the suggestion. Patch updated to include .tsx</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-24 18:06</div>
            <div class="timeline-body"><p>Hmm... I'm not an especially seasoned Javascript programmer, so I could be wrong about this, but it seems weird to lump things like CoffeeScript under the Javascript type. Was that intentional? Should CoffeeScript be given its own type? Same for TypeScript and JSX?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-25 06:25</div>
            <div class="timeline-body"><p>To me it was intentional to include coffescript (I saw there already is a separate coffescript type too).</p>
<p>Maybe js is a bit special, but I've many times messed with js project where more than one of these extensions are used.</p>
<p>For example right now i have a golang app, with a js frontend. The js frontend is built with vue.js so it is a mix of .js and .vue files. So when i am searching for a &quot;javascript related&quot; snippet, i don't want the mental burden of figuring &quot;may the code be in a .vue component, or in a .js file?&quot; (it's all javascript). And while coffescript might look differently, it compiles down to js and is used in projects together with other parts of js code, which might be in a .js file.</p>
<p>It is not uncommon to find coffescript stuff in your node_modules dependencies.</p>
<p>Regarding typescript, it is a superscript of javascript and is getting more popular as well.</p>
<p>So this patch address my use case (searching for &quot;js stuff&quot; in the &quot;js-like files&quot;)</p>
<p>Regarding not lumping things together, I am thinking one could make it even better if it were possible to specify a type that consisted of multiple types. So we could have a &quot;js&quot; type, that for now could include *.js&quot;, coffescript, typescript, react and vue types.
This would require more changes to the code however, and I am not well suited to resolve it atm.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-25 06:42</div>
            <div class="timeline-body"><p>Also related, similar functionality in ag:
https://github.com/ggreer/the_silver_searcher/blob/31e1f8cb856736df254dccb62cf15e937002ef48/src/lang.c#L42</p>
<p><code>{ &quot;js&quot;, { &quot;js&quot;, &quot;jsx&quot;, &quot;vue&quot; } },</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 13:17</div>
            <div class="timeline-body"><p>I am pretty torn on this issue. It feels really wrong to lump entirely separate languages into the same file type.</p>
<p>Your use case does sound important, and I can see why you want this. I may request that you define your own type for this (which can be done conveniently with an alias until we get a config file).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:02</div>
            <div class="timeline-body"><p>This feature suggestion may make having a custom type a little easier: https://github.com/BurntSushi/ripgrep/issues/83</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-25 14:06</div>
            <div class="timeline-body"><p>Okay, so to progress this patch, could it be accepted if we drop the coffescript stuff entirely? Or should i rather just drop it and live happy with some rg alias?</p>
<p>Regarding #83, interesting!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:39</div>
            <div class="timeline-body"><p>Well, the problem is that even JSX claims to be its own language. From https://jsx.github.io/:</p>
<blockquote>
<p>JSX is a statically-typed, object-oriented programming language designed to run on modern web browsers.</p>
</blockquote>
<p>However, from what I know about JSX, in practice, I can see how it makes sense to lump it under the <code>js</code> type.</p>
<p>I looked for information about <code>.vue</code> files but couldn't find any. (I skimmed through the Vue project web site.) Are they claiming to be their own programming language too?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:41</div>
            <div class="timeline-body"><p>But the <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">React docs say</a> that it's not its own language, but a syntax extension:</p>
<blockquote>
<p>JSX is a JavaScript syntax extension that looks similar to XML.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Keats">@Keats</a> on 2016-09-25 14:42</div>
            <div class="timeline-body"><p>I think that's a different <code>jsx</code>, I could be wrong but I think @martinlindhe refers to the React syntax, not this language (last release was in 2014 so I guess the one from dena is not an active project anymore)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:43</div>
            <div class="timeline-body"><p>@Keats Oh. Thanks for the clarification!</p>
<p>I think my feeling here is that we should drop TypeScript and CoffeeScript from being designated as Javascript, but keep JSX.</p>
<p>I don't know about Vue though. Are <code>.vue</code> files template files? Wouldn't they be predominantly HTML?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Keats">@Keats</a> on 2016-09-25 14:47</div>
            <div class="timeline-body"><p>Looking at files like https://github.com/ElemeFE/vue-desktop/blob/master/src/basic/alert.vue, it seems .vue is a mix of html/css and js (similar to a react component with inline css).
Can <code>-t</code> and <code>-T</code> take lists?
I.e. to use <code>--type js,ts</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:52</div>
            <div class="timeline-body"><blockquote>
<p>Can -t and -T take lists?</p>
</blockquote>
<p>Just specify <code>-t</code> multiple times. <code>-tjs -tts</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-25 15:00</div>
            <div class="timeline-body"><p>@BurntSushi with regards to .vue files (vue components), they contain sections: one for html template, one for css, one for script (js), looks like <img src="https://vuejs.org/images/vue-component.png" alt="https://vuejs.org/guide/application.html" /></p>
<p>From experience, a vue component usually has the majority of code in javascript.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 15:02</div>
            <div class="timeline-body"><p>OK, I guess I'm fine with that.</p>
<p>So I'd say to take out TypeScript and CoffeeScript, keep jsx and vue, and let's get this merged.</p>
<p>Thank you so much for your patience and sticking with me. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-25 15:07</div>
            <div class="timeline-body"><p>No problems! Reworked the patch according to comments.</p>
<p>I left out the following in order to stay on track for this PR, but I think this should be added to types.rs as well:</p>
<pre><code class="language-rust">(&quot;typescript&quot;, &amp;[&quot;*.ts&quot;, &quot;*.tsx&quot;]),
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2016-09-25 15:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2016-09-25 15:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 15:11</div>
            <div class="timeline-body"><p>Poifect. Adding TypeScript would be great. (I do kind of think the name should be <code>ts</code> though? <code>typescript</code> feels a bit long to type, but I think someone who uses TypeScript should weigh in on whether <code>ts</code> is acceptable or not.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Keats">@Keats</a> on 2016-09-25 15:12</div>
            <div class="timeline-body"><p><code>ts</code> is the preferred name yes</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/martinlindhe">@martinlindhe</a> on 2016-09-25 15:16</div>
            <div class="timeline-body"><p>Addressed ts in #84</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:27:43 UTC
    </footer>
</body>
</html>
