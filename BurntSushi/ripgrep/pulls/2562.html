<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>windows: set default path separator to '/' in MSYS - BurntSushi/ripgrep #2562</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>windows: set default path separator to '/' in MSYS</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/2562">#2562</a>
        opened by <a href="https://github.com/EJammy">@EJammy</a>
        on 2023-07-19 02:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/EJammy">@EJammy</a></div>
            <div class="timeline-body"><p>Adapted from https://github.com/sharkdp/fd/pull/730
Also see https://github.com/sharkdp/fd/issues/537#issuecomment-757519135</p>
<p>This removes the need to use <code>--path-separator</code> for MSYS and MSYS2 environments (such as Git Bash), as per #275, but not for Cygwin (see linked pr and comment).</p>
<p>Not sure if this is welcomed, since it is handling a special case for specific environment. But I think this is a good improvement as it aligns with the behavior of <code>fd</code> and removes error when running commands such as <code>rg foobar --files-with-matches | xargs </code> without <code>--path-separator</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-07-19 14:00</div>
            <div class="timeline-body"><p>In terms of implementation, I think this logic should probably live in ripgrep proper and not inside <code>grep-printer</code>.</p>
<p>In terms of idea, I'm less sure about this. It seems like it's easy enough to work-around by defining an alias or a config file to set the default path separator yourself. It doesn't feel right to be doing this automatically behind your back. And this is a very subtle (IMO) change in behavior and it's not clear to me what the impact of it would be.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EJammy">@EJammy</a> on 2023-07-20 03:01</div>
            <div class="timeline-body"><p>I'm aware of the workaround. I proposed this change because it took me a while to figure out the error after piping the results of <code>rg --files-with-matches</code>, while most tools under MSYS, like fd and git, &quot;just works&quot;. I installed ripgrep through MSYS2 with <code>pacman -S mingw-w64-x86_64-ripgrep</code>, so I expected it to work well under that environment.</p>
<p>However, this method of installation is not documented, so I figured it might not have the best support. And I have to agree when I discover this solution it also felt a bit wrong to me too. Might be best to just leave it for the user to configure and improve documentation (#1667).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-07-20 13:11</div>
            <div class="timeline-body"><p>Apologies for my potential ignorance here, but could you say more about the relationship between cygwin and MSYS? In my brain, I seem to remember them being connected or the same in some way, but I find myself unable to articulate precisely their relationship.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/EJammy">@EJammy</a> on 2023-07-21 01:39</div>
            <div class="timeline-body"><p>I'm not an expert either. I've only recently started using MSYS2 to work in windows and have not touched cygwin before.</p>
<p>But from my understanding, MSYS is built on top of cygwin and provides tools to build and run native windows software. It also has a package manager (<code>pacman</code>). It's also worth noting that git bash (from git for windows) is based on MSYS2, so when people mention git bash it's just repackaged MSYS2.</p>
<p>There's more info on their home page: https://www.msys2.org/
Some additional differences: https://www.msys2.org/wiki/How-does-MSYS2-differ-from-Cygwin/</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-08-29 02:53</div>
            <div class="timeline-body"><p>All righty, thanks. I think I'm going to close this then.</p>
<p>I'm not necessarily 100% opposed to something like this, but I just don't have a ton of visibility into its impact. And in general, I've found the whole cygwin/MSYS2 environment to be pretty difficult to fit into. The fundamental problem is that there is no cygwin Rust target, so Rust programs in cygwin don't get linked with the cygwin POSIX emulation layer (or whatever it's called). They stay native Windows programs. So it's best to think about ripgrep as <em>always</em> a native Windows program and not something that is built for cygwin.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2023-08-29 02:53</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:44:09 UTC
    </footer>
</body>
</html>
