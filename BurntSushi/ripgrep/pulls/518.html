<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bump encoding_rs to 0.6 - BurntSushi/ripgrep #518</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>bump encoding_rs to 0.6</h1>

    <div class="meta">
        <span class="state-icon state-merged"></span>
        <a href="https://github.com/BurntSushi/ripgrep/pull/518">#518</a>
        opened by <a href="https://github.com/igor-raits">@igor-raits</a>
        on 2017-06-15 16:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/igor-raits">@igor-raits</a></div>
            <div class="timeline-body"><p><em>No description provided.</em></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/igor-raits">@igor-raits</a> on 2017-06-15 16:42</div>
            <div class="timeline-body"><p>Looks like encoding_rs is not compatible with rust 1.12.... Not sure what you would like to do about that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-15 16:52</div>
            <div class="timeline-body"><p>Right. Could you:</p>
<ol>
<li>Bump <code>1.12.0</code> in <code>.travis.yml</code> to <code>1.16.0</code>?</li>
<li>Bumping just the <code>Cargo.toml</code> isn't sufficient. You'll also want to update <code>Cargo.lock</code>. You can do that by running <code>cargo update -p encoding_rs</code>.</li>
</ol>
<p>Let's hope <code>encoding_rs</code> compiles on <code>1.16.0</code>, but unfortunately, <code>encoding_rs</code>'s CI doesn't seem to test on a specific Rust version. I'll file an issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-15 16:54</div>
            <div class="timeline-body"><p>issue filed: https://github.com/hsivonen/encoding_rs/issues/18#issue-236253315</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-15 17:02</div>
            <div class="timeline-body"><p>@ignatenkobrain We should probably have a discussion at some point regarding how we'll deal with these bumps going forward. This happened to be timed pretty well, since I've been wanting to bump the minimum Rust version for ripgrep for a while now. But I don't think I'll always be so accommodating? For example, when the time comes for ripgrep 1.0 to be released, it's not clear to me whether that means &quot;ripgrep 1.x will forever work on Rust 1.y, where Rust 1.y is the minimum Rust version supported at the time ripgrep 1.x was released.&quot; If I choose that policy, then it seems like ripgrep will gets its major version bump at least somewhat semi-frequently. But what if I didn't want to bump the major version that frequently and instead stuck with Rust 1.y? Well, invariably, that would mean that I won't be able to update some of my dependencies. How much of a problem will that be for you? And more broadly, what are your thoughts on this type of policy?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/igor-raits">@igor-raits</a> on 2017-06-15 17:53</div>
            <div class="timeline-body"><p>@BurntSushi Speaking on behalf of Fedora Rust SIG:</p>
<ol>
<li>We are going to follow latest stable releases of rust for all version of Fedora.</li>
<li>We prefer to have only one version of crate (we can have multiple versions at the same time) and that should be latest one.</li>
<li>Because of 2, we bump version of dependencies so it will use latest version and write patch if it is not building. For non-trivial cases where we can't port ourselves (time or lazyness) we create compat package with old crate which means that it also needs some patching for its dependencies to use latest version and so on. So far in repo we have ripgrep, rustfmt, rustfilt tools and only one compatibility package is there (toml-0.2, because there were a lot of changes to 0.3 and I was not able to port rustfmt myself).</li>
</ol>
<p>To summarize: We don't care about minimal rust version, it should be just some stable version. We would prefer if upstream will use latest-shiny version of crates so we will not do patching here and there.</p>
<p>I think it definitely makes sense to support some old compilers, but I think it makes to support 2-3 last versions so people have time to migrate.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-15 18:14</div>
            <div class="timeline-body"><p>@ignatenkobrain Thank you. That is an extremely helpful data point.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Object905">@Object905</a> on 2017-07-11 21:40</div>
            <div class="timeline-body"><p>Also now <code>encoding_rs</code> has <code>simd-accel</code> feature, so it would be nice to add it in <code>simd-accel</code> feature as well.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Merged by @BurntSushi on 2017-07-30 22:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-07-30 22:00</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Branch deleted on 2017-11-13 18:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 18:27:51 UTC
    </footer>
</body>
</html>
