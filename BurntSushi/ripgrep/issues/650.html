<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Too many open files (os error 24) on Linux - BurntSushi/ripgrep #650</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Too many open files (os error 24) on Linux</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/650">#650</a>
        opened by <a href="https://github.com/erg">@erg</a>
        on 2017-10-23 16:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/erg">@erg</a></div>
            <div class="timeline-body"><p>I have a modest amount of files (226,441) from ec2 in subdirectories and ripgrep opens too many at once on Arch Linux.</p>
<pre><code>rg asdfasdfasdf
...
./ec2-stuff/2016/09/28/03: Too many open files (os error 24)
./ec2-stuff//2016/09/13/07: Too many open files (os error 24)
./ec2-stuff///2016/09/28/13: Too many open files (os error 24)
./ec2-stuff//2016/09/07/18: Too many open files (os error 24)
./ec2-stuff//2016/09/28/07: Too many open files (os error 24)
./ec2-stuff//2016/09/07/15: Too many open files (os error 24)
./ec2-stuff//2016/09/07/06: Too many open files (os error 24)
...
</code></pre>
<pre><code>➜  ec2 find . | wc -l
226441
➜  ~ rg --version
ripgrep 0.7.0
-AVX -SIMD
➜  ~ uname -a
Linux ergbox 4.13.8-1-ARCH #1 SMP PREEMPT Wed Oct 18 11:49:44 CEST 2017 x86_64 GNU/Linux
➜  ~ cat /proc/sys/fs/file-max
13166298
➜  ~ ulimit -Hn               
4096
➜  ~ ulimit -Sn               
1024
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-10-23 16:21</div>
            <div class="timeline-body"><p>This was fixed in 0.7.1 — see #648</p>
<p>ETA: The <a href="https://www.archlinux.org/packages/community/x86_64/ripgrep/">Arch package</a> has already been flagged as out-of-date, so it&#x27;s just a matter of waiting for them to update it now</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/erg">@erg</a> on 2017-10-23 16:24</div>
            <div class="timeline-body"><p>Ah. Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/erg">@erg</a> on 2017-10-23 16:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:05 UTC
    </footer>
</body>
</html>
