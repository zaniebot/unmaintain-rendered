<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>deb package lacks a man page - BurntSushi/ripgrep #842</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>deb package lacks a man page</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/842">#842</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2018-02-28 19:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><h4>What version of ripgrep are you using?</h4>
<p>0.8.1</p>
<h4>What operating system are you using ripgrep on?</h4>
<p>Linux</p>
<h4>Describe your question, feature request, or bug.</h4>
<p>The deb package in ripgrep's release artifacts does not install the man page. This deb package is generated using the helpful <a href="https://github.com/mmstick/cargo-deb"><code>cargo-deb</code></a> tool. This tool basically &quot;just works&quot;: I run it in the root of the ripgrep repo and out pops a deb package that can be installed in any Debian or Ubuntu system. This approach isn't idiomatic in the sense that every dependency of ripgrep is individually packaged, but the idiomatic approach is <strong>extremely costly</strong>. So costly, in fact, that I could never personally do it. But I can run <code>cargo deb</code>.</p>
<p>There is a small problem: the deb package doesn't contain a man page. I suspect the right answer here is to somehow teach <code>cargo deb</code> how to bundle a man page with the package it produces.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @BurntSushi on 2018-02-28 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @BurntSushi on 2018-02-28 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/infinity0">@infinity0</a> on 2018-03-08 17:05</div>
            <div class="timeline-body"><p>https://anonscm.debian.org/cgit/pkg-rust/debcargo.git/ is the &quot;idiomatic approach&quot;.</p>
<p>The right approach is to adopt a standard path for cargo crates to put man pages, then both debcargo and cargo-deb can put man pages from this standard path into the .debs it generates. <code>man/</code> is perfectly fine for this, and I hear other crates have done this on an ad-hoc basis.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tmccombs">@tmccombs</a> on 2018-03-19 03:00</div>
            <div class="timeline-body"><p>Somewhat related to this, the deb is also missing shell completion functions (bash completion, zsh, etc.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kamalmarhubi">@kamalmarhubi</a> on 2018-04-05 15:41</div>
            <div class="timeline-body"><p>@BurntSushi would you accept a short term fix to &quot;manually&quot; add the files to the deb package?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-04-05 16:18</div>
            <div class="timeline-body"><p>@kamalmarhubi Potentially. Today, I run <code>cargo deb</code> and upload the resulting package manually. If there's another command or two I can run to include the man page, that I'd be willing to do that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tmccombs">@tmccombs</a> on 2018-04-05 18:23</div>
            <div class="timeline-body"><p>It looks like the cargo deb plugin supports an assets config to specify which assets to include.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2018-08-22 03:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:28 UTC
    </footer>
</body>
</html>
