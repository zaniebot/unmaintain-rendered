<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add `add_gitignore` mthod to `WalkBuilder` - BurntSushi/ripgrep #2983</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add <code>add_gitignore</code> mthod to <code>WalkBuilder</code></h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2983">#2983</a>
        opened by <a href="https://github.com/shulaoda">@shulaoda</a>
        on 2025-02-03 07:51
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/shulaoda">@shulaoda</a></div>
            <div class="timeline-body"><h4>Describe your feature request</h4>
<p>Related to #2964</p>
<p>Currently, <code>OverrideBuilder</code> does not behave as expected with respect to the reverse functionality of <code>GitignoreBuilder</code>. Therefore, I propose adding an <code>add_gitignore</code> method to <code>WalkBuilder</code> that would allow users to directly pass a <code>Gitignore</code> object instead of needing to provide a path that converts a <code>.gitignore</code> file into a <code>Gitignore</code> object.</p>
<p>This method could function similarly to <code>add_ignore</code>, but instead of reading the <code>.gitignore</code> file from a <code>path</code>, it would accept a <code>Gitignore</code> object directly.</p>
<pre><code class="language-rust">pub fn add_gitignore(&amp;mut self, gi: Gitignore)  {
    self.ig_builder.add_ignore(gi);
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-23 01:29</div>
            <div class="timeline-body"><p>I'm worried about adding this because it will likely have subtle semantics. You mention <code>OverrideBuilder</code>, but an analog to <code>WalkBuilder::add_ignore</code> would have difference precedence than <code>WalkBuilder::overrides</code>. Plus, this new method would need to be mutually exclusive with <code>WalkBuilder::add_ignore</code>. Finally, it's unclear to me why <code>OverrideBuilder</code> isn't working for your use case.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-09-23 01:29</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:53 UTC
    </footer>
</body>
</html>
