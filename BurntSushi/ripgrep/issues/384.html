<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ignore] Strange whitelist behaviour - BurntSushi/ripgrep #384</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[ignore] Strange whitelist behaviour</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/384">#384</a>
        opened by <a href="https://github.com/Yamakaky">@Yamakaky</a>
        on 2017-02-28 03:22
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Yamakaky">@Yamakaky</a></div>
            <div class="timeline-body"><pre><code>let overrides = &quot;
    !/*
    /tmp
&quot;;
let walker = WalkBuilder::new(&quot;/&quot;)
                         .overrides(OverrideBuilder::new(&quot;/&quot;)
                                                    .add(overrides)
                                                    .unwrap()
                                                    .build()
                                                    .unwrap())
                         .build();
for res in  walker {
    let entry = res.unwrap();
    println!(&quot;{:?}&quot;, entry);
}
</code></pre>
<p>I expect this code to list the files in <code>/tmp</code>, but it also lists the files in all <code>/</code>, like <code>/home</code>. Did I do something wrong?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-03-13 00:09</div>
            <div class="timeline-body"><p>The docs for the <a href="https://docs.rs/ignore/0.1.7/ignore/overrides/struct.OverrideBuilder.html#method.add"><code>add</code></a> method say:</p>
<blockquote>
<p>Add a glob to the set of overrides.</p>
</blockquote>
<p>In your code, you&#x27;re adding a whole bunch of globs. You need to add them one at a time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-03-13 00:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Yamakaky">@Yamakaky</a> on 2017-03-13 01:10</div>
            <div class="timeline-body"><p>Oh, OK, thanks.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:03 UTC
    </footer>
</body>
</html>
