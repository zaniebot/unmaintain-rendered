<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support Double Dashes Before Final Argument - BurntSushi/ripgrep #1077</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Support Double Dashes Before Final Argument</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1077">#1077</a>
        opened by <a href="https://github.com/Miserlou">@Miserlou</a>
        on 2018-10-04 17:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Miserlou">@Miserlou</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<pre><code>ripgrep 0.10.0
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)
</code></pre>
How did you install ripgrep?
<p>brew</p>
What operating system are you using ripgrep on?
<p>OSX</p>
Describe your question, feature request, or bug.
<p><code>rg</code> doesn&#x27;t appear to support <code>--</code> to signify the final argument:</p>
<p>ex:</p>
<pre><code>$ rg -- Client struct
struct: No such file or directory (os error 2)
</code></pre>
<p>I&#x27;d <em>expect</em> anything after <code>--</code> to be treated as the PATTERN parameter, ex:</p>
<pre><code>$ rg -- Client struct
nomad/vault.go
165:type vaultClient struct {

api/api.go
336:type Client struct {
</code></pre>
<p>I got <a href="https://github.com/Miserlou/Loop/issues/16">pestered into adding this</a> into my own Rust tool, <code>loop</code>, so I know it&#x27;s possible! :-P</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-10-04 17:14</div>
            <div class="timeline-body"><p>From the man page, ripgrep&#x27;s usage:</p>
<pre><code>rg [OPTIONS] PATTERN [PATH...]
</code></pre>
<p>Thus, if you give <code>rg -- Client struct</code>, then the expectation is that it would work as if you used <code>rg Client struct</code>. Since there are two positional parameters, the first is treated as a pattern and the second is treated as a path. Therefore, the error message you get is the expected behavior.</p>
<p>You probably want <code>rg -- &#x27;Client struct&#x27;</code>.</p>
<p>Note that the purpose of <code>--</code> is not to &quot;signify the final argument,&quot; but rather, to denote that anything following <code>--</code> should be interpreted as a <em>positional</em> argument and <em>never</em> a flag. This for example permits using <code>rg -- -e</code> to search for <code>-e</code> where <code>rg -e</code> would emit an error because it interprets <code>-e</code> as a flag. (<code>rg -e -e</code> does work though, so the <code>--</code> for this case isn&#x27;t strictly necessary.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-10-04 17:14</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-10-04 17:14</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Miserlou">@Miserlou</a> on 2018-10-04 17:19</div>
            <div class="timeline-body"><p>Gotcha, thank you.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:07 UTC
    </footer>
</body>
</html>
