<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implement new ** glob semantics per Git - BurntSushi/ripgrep #1098</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Implement new ** glob semantics per Git</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1098">#1098</a>
        opened by <a href="https://github.com/okdana">@okdana</a>
        on 2018-11-01 16:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/okdana">@okdana</a></div>
            <div class="timeline-body"><p>Hey! Looks like the new <code>**</code> glob semantics discussed on the Git mailing list have been merged:</p>
<p>https://github.com/git/git/commit/627186d0206dcb219c43f8e6670b4487802a4921</p>
<p>(Just to reiterate, the change makes a <code>**</code> used in any context other than <code>**/</code>, <code>/**/</code>, or <code>/**</code> act as two regular <code>*</code>s.)</p>
<p>I <em>believe</em> this change will appear not in the up-coming release (2.20), but the one right after that.</p>
<p>I'd been playing with <code>globset</code> in preparation for this landing, which is how i discovered the issues i mentioned in #1093, but i'm not happy with my changes, so i don't have a PR yet. I was also unsure whether you'd want to wait until this actually appears in a released Git or what. But i wanted to make a note of it, anyway, just to track it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2018-12-10 02:09</div>
            <div class="timeline-body"><p>I was wrong about when this would come out. It's in 2.20, released today: <a href="http://lkml.iu.edu/hypermail/linux/kernel/1812.1/00293.html">http://lkml.iu.edu/hypermail/linux/kernel/1812.1/00293.html</a></p>
<p>And the updated documentation is live: <a href="https://git-scm.com/docs/gitignore">https://git-scm.com/docs/gitignore</a></p>
<p>The difference in behaviour can be confirmed with e.g. <code>git ls-files</code> in the ripgrep repo:</p>
<pre><code>% ~cellar/git/2.19.2/bin/git ls-files --ignored -x '/**.md'
# (no output)
% ~cellar/git/2.20.0/bin/git ls-files --ignored -x '/**.md'
CHANGELOG.md
FAQ.md
GUIDE.md
ISSUE_TEMPLATE.md
README.md
</code></pre>
<p>(We'd already established this, but just to be clear, Git did actually accept <code>**</code> in many cases where it said it didn't, so some documented-illegal patterns, like <code>[A-Z]**.md</code>, won't demonstrate any difference)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-10 12:11</div>
            <div class="timeline-body"><p>Awesome! I'm happy to see the <code>**</code> issue finally moving towards a solid answer. :-)</p>
<p>Sorry I haven't addressed this sooner or your PR yet. Everything looks good, and thanks for all the legwork on this. From what I've skimmed, everything sounds right, but I haven't quite gotten the time to sink my teeth into the details yet.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2019-01-24 00:59</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:44 UTC
    </footer>
</body>
</html>
