<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surprising application of .gitignore in rust-lang/rust repo - BurntSushi/ripgrep #25</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Surprising application of .gitignore in rust-lang/rust repo</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/25">#25</a>
        opened by <a href="https://github.com/brson">@brson</a>
        on 2016-09-23 18:30
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/brson">@brson</a></div>
            <div class="timeline-body"><p>This may be working as designed but it was quite surprising. If I run <code>rg LLVM_BINDINGS</code> from the top level of the rust repo I get results. If I do the same from <code>src/</code> I get no results. The reason is that rust's .gitignore file contains <code>/llvm/</code>.</p>
<p>Perhaps this is how .gitignore is defined to work, but it's not what I expected. I might expect that .gitignore would by applied relative to the directory in which it is defined.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/foophoof">@foophoof</a> on 2016-09-23 18:50</div>
            <div class="timeline-body"><p>According to <code>gitignore(5)</code> on my system (OS X running Git 2.9.0) (emphasis mine):</p>
<blockquote>
<ul>
<li>Patterns read from a .gitignore file in the same directory as the path, or in any parent directory, with patterns in the higher level files (up to the toplevel of the work tree) being overridden by those in lower level files down to the directory containing the file. <strong>These patterns match relative to the location of the .gitignore file.</strong> A project normally includes such .gitignore files in its repository, containing patterns for files generated as part of the project build.</li>
</ul>
</blockquote>
<p>So I think your expectation is correct, that it <em>should</em> match relative to the location of the file, not the current directory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @BurntSushi on 2016-09-24 02:13</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-24 02:13</div>
            <div class="timeline-body"><p>It is indeed a plain ol' bug.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2016-09-24 22:40</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:41:37 UTC
    </footer>
</body>
</html>
