<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trim whitespace from lines - BurntSushi/ripgrep #917</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>trim whitespace from lines</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/917">#917</a>
        opened by <a href="https://github.com/eljulians">@eljulians</a>
        on 2018-05-11 10:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/eljulians">@eljulians</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<pre><code>ripgrep 0.8.1 (rev c8e9f25b85)
-SIMD -AVX 
</code></pre>
How did you install ripgrep?
<p>From <code>.deb</code> binary.</p>
What operating system are you using ripgrep on?
<p>Linux Mint 18.1 Serena.</p>
Describe your question, feature request, or bug.
<p>First of all, thanks and congratulations for this tool.</p>
<p>I&#x27;ve searched in the help and in the issues, and as I didn&#x27;t find anything related, I&#x27;m opening this suggestion.</p>
<p>I think that would be nice to add an option for trimming the output of the coincident lines. In other words, not to print the indentation of the lines. I think that this could improve the readability of the output.</p>
<p>Currently, for this search:</p>
<pre><code>rg POST views/
</code></pre>
<p>I would get the following output:</p>
<pre><code>views/modals/contact.twig
13:               &lt;form action=&quot;/contact/send&quot; method=&quot;POST&quot; id=&quot;form-contact&quot;&gt;
</code></pre>
<p>(Note the code indentation).</p>
<p>With an option for trimming (e.g. <code>--trim</code>), we would get the following:</p>
<pre><code>views/modals/contact.twig
13:&lt;form action=&quot;/contact/send&quot; method=&quot;POST&quot; id=&quot;form-contact&quot;&gt;
</code></pre>
<p>(The indentation is now removed from the output).</p>
<p>I really think that this could be a very useful option, since almost every part of the code is indented, except class or function definitions.</p>
<p><strong>PD:</strong> this could also work in combination with <code>--max-columns</code> option, so the trimming would be done before the output is filtered with this options. But as I know nothing about ripgrep internals and the feasibility and difficulty of this, I just leave it as a little extra suggestion. Actually this wouldn&#x27;t be very relevant, since the <code>--max-columns</code> is thought for the output we actually don&#x27;t want to see. So, if you find appropriate the original suggestion, just implement it as you think it&#x27;s better for ripgrep. :)</p>
<p>Thanks again and keep up the great work!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-05-11 10:32</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-05-11 10:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-05-11 10:32</div>
            <div class="timeline-body"><p>This is an interesting request. I&#x27;m not sure if it&#x27;s a fit. What would you use it for? I see your example, but indentation is often a useful artifact to see in the output. Is it just an aesthetic thing?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eljulians">@eljulians</a> on 2018-05-11 10:38</div>
            <div class="timeline-body"><p>@BurntSushi Thanks for such a quick response.</p>
<p>Actually, yes, just an aesthetic thing. Personally, when grepping code, I don&#x27;t find the indentation interesting: if I later need to edit the file, I already know the line to go to; and if I just need to read the output, because of the lacking context, as we just get the single line, the indentation doesn&#x27;t actually help in many cases, IMHO.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-05-11 10:39</div>
            <div class="timeline-body"><p>@julenpardo Interesting. So if this flag were added, would you just have it always enabled? How would you use it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2018-05-11 10:42</div>
            <div class="timeline-body"><p>For whatever it&#x27;s worth, this is a feature that interests me too, and if you decide that it&#x27;s a good idea i&#x27;d be willing to work on it. I mentioned in #544 that i used to have a wrapper script for <code>ag</code> that achieved this effect, but it was ugly and didn&#x27;t always work well. Like @julenpardo says, the purpose is just readability; i find that indentation in the search output, disconnected as it is from the surrounding context, is very rarely useful — it just adds visual noise that makes it harder to understand the results.</p>
<p>If the feature were added, i would put <code>--trim</code> (or w/e) in my default options and then just add <code>--no-trim</code> (or w/e) in the rare cases where i needed it turned off.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/eljulians">@eljulians</a> on 2018-05-11 10:53</div>
            <div class="timeline-body"><p>@BurntSushi I was thinking about adding it as a non-default option and then adding it to my ripgrep config file. I mean, I wouldn&#x27;t make as default such a significant visual change in the output just because it came to my mind :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-05-11 11:27</div>
            <div class="timeline-body"><p>@julenpardo Oh, no, yeah, this definitely can&#x27;t be enabled by default. What I meant is whether <em>you</em> would enable it by default. :-) In any case, I think you and @okdana sold me.</p>
<p>I see two ways this can get added:</p>
<ul>
<li>Someone wants to brave the current printer and do it.</li>
<li>I&#x27;ll add it as part of work on libripgrep. (I have actually started this, and even written down some code. But realistically is probably still a ways away from completion.)</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> removed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-05-11 11:28</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-06 14:30</div>
            <div class="timeline-body"><p>I am working on the new printer right now, and I should be able to add this in with very little fuss.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">libripgrep</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-06 14:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;libripgrep&quot; by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-06 14:31</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;[Suggestion] Trim coincident lines&quot; to &quot;trim coincident lines&quot; by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-06 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;trim coincident lines&quot; to &quot;trim whitespace from lines&quot; by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-06 14:58</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-08-20 11:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:06 UTC
    </footer>
</body>
</html>
