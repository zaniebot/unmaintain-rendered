<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>list all files that the &quot;smart search&quot; would search through - BurntSushi/ripgrep #527</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>list all files that the &quot;smart search&quot; would search through</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/527">#527</a>
        opened by <a href="https://github.com/wbolster">@wbolster</a>
        on 2017-06-24 15:20
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/wbolster">@wbolster</a></div>
            <div class="timeline-body"><p>the <code>ag</code> tool has a <code>ag -l</code> option that lists all files that it would search through. it would be great if <code>rg</code> also had something like <code>rg --list</code>.</p>
<p>this is useful for a variety of use cases, e.g. for <a href="http://entrproject.org/">entr</a>:</p>
<pre><code>$ ag -l | entr make
</code></pre>
<p>...and as a &quot;smart&quot; alternative to fiddling with <code>git ls-files</code> and so on.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-24 15:24</div>
            <div class="timeline-body"><p>Firstly, <code>ag -l</code> doesn&#x27;t list all files it would search through. It lists all files that contain at least one match. ripgrep has this flag. (Oh, interestingly, it will print everything if no query is given. One wonders what the difference is between <code>ag -g .</code> and <code>ag -l</code>.)</p>
<p>Secondly, ripgrep has a <code>--files</code> flag that does list all files that it would search. Why doesn&#x27;t that work for you?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-24 15:24</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wbolster">@wbolster</a> on 2017-06-24 15:42</div>
            <div class="timeline-body"><p>ah, <code>rg --files</code> exists already. thanks. that solves it for me.</p>
<p>i did not notice it looking for it in the <code>--help</code> output, and the reason is the rather odd alignment:</p>
<pre><code>    -E, --encoding &lt;ENCODING&gt;
            Specify the text encoding that ripgrep will use on all files
            searched. The default value is &#x27;auto&#x27;, which will cause ripgrep
            to do a best effort automatic detection of encoding on a per-file
            basis. Other supported values can be found in the list of labels
            here: https://encoding.spec.whatwg.org/#concept-encoding-get
             
    -f, --file &lt;FILE&gt;...
            Search for patterns from the given file, with one pattern per
            line. When this flag is used or multiple times or in combination
            with the -e/--regexp flag, then all patterns provided are
            searched. Empty pattern lines will match all input lines, and the
            newline is not counted as part of the pattern.
             
        --files
            Print each file that would be searched without actually
            performing the search. This is useful to determine whether a
            particular file is being searched or not.
             
    -l, --files-with-matches
            Only show the paths with at least one match.
</code></pre>
<p>may i suggest left aligning the headers, even if no <code>-o</code> <code>-n</code> <code>-e</code> letter shortcut is available?</p>
<p>and yeah, <code>ag</code> makes the query optional:</p>
<pre><code>       -l --files-with-matches
              Only print the names of files  containing  matches,  not  the
              matching  lines.  An  empty  query  will print all files that
              would be searched.
</code></pre>
<p>the difference with <code>ag -g .</code> would be empty files perhaps.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/wbolster">@wbolster</a> on 2017-06-24 15:42</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:04 UTC
    </footer>
</body>
</html>
