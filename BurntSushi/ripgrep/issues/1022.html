<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>organized flags in man page according to logical section? - BurntSushi/ripgrep #1022</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>organized flags in man page according to logical section?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1022">#1022</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2018-08-20 19:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>The number of flags ripgrep has is truly staggering. A quick count appears to put it at <code>80</code>. Right now, these flags are listed alphabetically in the man page. I'm wondering whether it would be better to group them into logical sections.</p>
<p>For example, when PCRE2 support is enabled with the <code>--pcre2</code>, its Unicode support is enabled by default. ripgrep provides a flag, <code>--no-pcre2-unicode</code>, to disable PCRE2's Unicode support. However, the man page lists this as <code>--pcre2-unicode</code>, and states that it is enabled by default and can be disabled by using <code>--no-pcre2-unicode</code>. I did it this way so that the flag would be &quot;discoverable&quot; next to the <code>--pcre2</code> flag. But perhaps the better thing to do here is to just group flags.</p>
<p>I am somewhat inspired to do this based on ripgrep's zsh <a href="https://github.com/BurntSushi/ripgrep/blob/master/complete/_rg">completion script</a>, which defines its own groups. I'm not sure we want to make the groups in the man page as granular as that, but with the number of flags ripgrep has, it seems like a decent idea.</p>
<p>@okdana I'm especially interested to hear your opinion on this. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @BurntSushi on 2018-08-20 19:49</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2018-08-20 20:32</div>
            <div class="timeline-body"><p>Hmm.</p>
<p>I personally find it useful to be able to scan through man pages alphabetically when i don't know the name of an option or i just want to learn about the tool's feature set. The worst man page i can think of is the one for <code>rsync</code>, which like <code>rg</code> has a million options, but unlike <code>rg</code> there is no immediately discernible order to them in the manual. (Close inspection reveals that they're grouped roughly by functionality — e.g., all of the options related to symlinks and hard links are together — but there are way too many groups and they're not labelled.) Trying to browse through it is a nightmare, it's unreal.</p>
<p>Honestly, i feel a bit hypocritical even about the grouping in the zsh function, because one of my first complaints about the old one was that the options were arranged in an order that wasn't obvious to me. I fixed that in my first rewrite, but now it's ended up kind of back where it was. (e.g., there's no reason that anyone looking at that function should expect to find <code>--vimgrep</code> listed under <code>p</code>.) But it's functional, so we'll live with it i guess.</p>
<p>Anyway... what i'm getting at is that i think grouping them into sections would be an improvement <strong><em>if</em></strong> their number is kept fairly low. Like if we stuck to maybe five broad categories — 'output options', 'file options', 'pattern options'.... Something like that. I feel like that would accomplish the goal of grouping related functionality together without compromising browsability. Once you start to get loads of categories you have to think about how to order the categories themselves, precisely what names to give them, whether there's overlap amongst them, &amp;c. It's not bad if it's just a handful.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-08-20 20:43</div>
            <div class="timeline-body"><p>Yeah, I hear ya. Those are good points. I think that's kind of why I went to the alphabetical strategy in the first place. I think the options used to be in groups (&quot;common&quot; and &quot;less common&quot; ring a bell), and I could never predict where a flag should be. I can see that happening with any number of groups unfortunately.</p>
<p>Maybe the right thing to do here is to leave the man page as is and (automatically generate) another doc listing the flags according to some grouping mechanism. Still not a huge fan of that either to be honest. Hmm.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2018-08-20 21:29</div>
            <div class="timeline-body"><p>Some very complex tools like Perl and zsh break their documentation up into totally separate man pages, which i guess is kind of a similar idea, but i don't think <code>rg</code> is anywhere near complicated enough for that.</p>
<p>Another thing that some tools do is take an optional argument to <code>--help</code>, so if you did have a way to produce output both with and without categories, you could provide something like <code>--help=with-categories</code> or whatever. But honestly i suspect most people don't feel strongly about it either way. I doubt you'd get many complaints if you just changed it (within reason obv).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-08-21 15:22</div>
            <div class="timeline-body"><p>Thinking about this more, yeah, I think I want to keep the flag listing alphabetical. Another approach to solving my original problem is to simply list out &quot;related&quot; flags in certain places. e.g., The docs for <code>--pcre2</code> could mention <code>--no-pcre2-unicode</code> (presuming we switch to that as the canonical flag for consistency).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2018-08-22 03:05</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:39 UTC
    </footer>
</body>
</html>
