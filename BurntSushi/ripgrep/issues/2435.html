<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>add --pretty=no (with short option) - BurntSushi/ripgrep #2435</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>add --pretty=no (with short option)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2435">#2435</a>
        opened by <a href="https://github.com/nkiesel">@nkiesel</a>
        on 2023-02-28 21:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nkiesel">@nkiesel</a></div>
            <div class="timeline-body">Describe your feature request
<p>In nearly all cases where I pipe ripgrep output, I send it to less or bat, and thus want to use --pretty. I thus would prefer to make that the default (using ripgrep configuration), and only overwrite this in cases where I send it to some other consumer.  Thus, I would like to have a &quot;-P&#x27; or so option which would negate the pretty default, so that &quot;rg xxx | less&quot; would work like &quot;rg -p xxx | less&quot;, and &quot;rg -P xxx | less&quot; would work like the current behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-02-28 21:38</div>
            <div class="timeline-body"><p>I&#x27;d be open to a pull request that added a <code>--no-pretty</code> flag to override <code>--pretty</code>. It should not have a short flag. (And certainly cannot be <code>-P</code>, as <code>-P</code> is short for <code>--pcre2</code>.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-02-28 21:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nkiesel">@nkiesel</a> on 2023-03-01 19:34</div>
            <div class="timeline-body"><p>Yes, <code>-P</code> is clearly wrong. But why not a short flag? I would have to type this in for e.g <code>rg --no-pretty foo | sed ...</code> If I make <code>--pretty</code> my default.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nkiesel">@nkiesel</a> on 2023-03-01 19:38</div>
            <div class="timeline-body"><p>Other idea: <code>git grep</code> automatically uses a pager for longer output to terminal. With that, <code>rg -p foo | less -RF</code> could be shortened to <code>rg foo</code>. Was that ever considered?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-03-01 19:51</div>
            <div class="timeline-body"><p>Because ripgrep has almost used every lowercase and uppercase letter for short flags already. I was a bit too relaxed with handing them out in the beginning, but now I&#x27;ve flipped to the other extreme: to add a new short flag requires compelling reasoning. Your use case merits filling in a gap, but it does not rise to the level of &quot;compelling enough for a short flag.&quot;</p>
<p>And yes, there are issues on the tracker about adding a pager. Generally rejected due to cross platform concerns and the fact that you can do it on your own with an alias/function/wrapper script.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nkiesel">@nkiesel</a> on 2023-03-02 02:02</div>
            <div class="timeline-body"><p>I settled for</p>
<pre><code>rg () {
	if [[ -t 1 ]]
	then
		command rg -p &quot;$@&quot; | less -RF
	else
		command rg &quot;$@&quot;
	fi
}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/nkiesel">@nkiesel</a> on 2023-03-02 02:02</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:12 UTC
    </footer>
</body>
</html>
