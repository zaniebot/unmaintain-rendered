<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rg --version is misleading - BurntSushi/ripgrep #1013</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>rg --version is misleading</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1013">#1013</a>
        opened by <a href="https://github.com/vks">@vks</a>
        on 2018-08-13 08:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/vks">@vks</a></div>
            <div class="timeline-body"><p>When running <code>rg --version</code> with the provided ripgrep-0.9.0-x86_64-unknown-linux-musl binary I'm getting the following output:</p>
<pre><code>ripgrep 0.9.0 (rev 6799dcfc0e)
-SIMD -AVX
</code></pre>
<p>This suggests that <code>SIMD</code> and <code>AVX</code> are disabled. However, the binary is supposedly using runtime detection of the corresponding hardware support, so this is misleading.</p>
<p>To fix this, the corresponding output code should check for hardware support like the ripgrep code actually using the hardware instructions. Currently, the output code only considers the corresponding Cargo features, ignoring runtime detection.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-08-14 13:13</div>
            <div class="timeline-body"><p>It looks like we'll need to include <em>both</em> compile time and run time support unfortunately. Including only one will be misleading until all of ripgrep's dependencies move to runtime detection.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @BurntSushi on 2018-08-14 13:13</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2018-08-20 11:10</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:39 UTC
    </footer>
</body>
</html>
