<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provide Statically Compiled Binaries for (aarch64|arm64) Linux - BurntSushi/ripgrep #2739</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Provide Statically Compiled Binaries for (aarch64|arm64) Linux</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2739">#2739</a>
        opened by <a href="https://github.com/Azathothas">@Azathothas</a>
        on 2024-02-20 06:52
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Azathothas">@Azathothas</a></div>
            <div class="timeline-body"><p>Hi, the current releases for arm64 Linux is based on gnu and not musl.
As a result, the binary is dynamically linked:</p>
<pre><code>$ https://github.com/BurntSushi/ripgrep/releases/download/14.1.0/ripgrep-14.1.0-aarch64-unknown-linux-gnu.tar.gz
$ file rg &amp;&amp; ldd rg
rg: ELF 64-bit LSB pie executable, ARM aarch64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-aarch64.so.1, for GNU/Linux 3.7.0, BuildID[sha1]=62e25ad353379dfb4ddf3c94be5e00cd086d56d5, stripped
        linux-vdso.so.1 (0x0000ffffa91df000)
        libgcc_s.so.1 =&gt; /lib/aarch64-linux-gnu/libgcc_s.so.1 (0x0000ffffa8c40000)
        libpthread.so.0 =&gt; /lib/aarch64-linux-gnu/libpthread.so.0 (0x0000ffffa8c20000)
        libdl.so.2 =&gt; /lib/aarch64-linux-gnu/libdl.so.2 (0x0000ffffa8c00000)
        libc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000ffffa8a50000)
        /lib/ld-linux-aarch64.so.1 (0x0000ffffa91a6000)
$ du -sh rg
5.2M    rg
</code></pre>
<p>Adding target: <code>aarch64-unknown-linux-musl</code> in https://github.com/BurntSushi/ripgrep/blob/master/.github/workflows/release.yml should work.</p>
<p>However, you can release an even more optimized &amp; smaller binary, based on : https://github.com/Azathothas/Toolpacks/blob/main/.github/scripts/aarch64_Linux/bins/ripgrep.sh</p>
<pre><code>$ file &quot;./target/$RUST_TARGET/release/rg&quot;
./target/aarch64-unknown-linux-musl/release/rg: ELF 64-bit LSB executable, ARM aarch64, version 1 (SYSV), statically linked, stripped
$ du -sh &quot;./target/$RUST_TARGET/release/rg&quot;
4.0M    ./target/aarch64-unknown-linux-musl/release/rg
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-20 11:36</div>
            <div class="timeline-body"><p>I&#x27;d be okay with adding this target in a way that matches the configuration of everything else. (The question of whether to enable LTO or not has been discussed a few times before. I remain reluctant to enable it for releases.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tzq0301">@tzq0301</a> on 2024-06-06 10:55</div>
            <div class="timeline-body"><p>Any progress about this issue? It&#x27;s really helpful in some specific situations.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-06-06 11:42</div>
            <div class="timeline-body"><p>Please don&#x27;t ask for progress updates. If there was an update, you would see it here or linked from here.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tzq0301">@tzq0301</a> on 2024-06-06 16:22</div>
            <div class="timeline-body"><p>Maybe this helpful? <a href="https://github.com/BurntSushi/ripgrep/pull/2834">BurntSushi/ripgrep#2834</a></p>
<p>The output (the artifact) can be well worked on my aarch64 Debian VM.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisdone-artificial">@chrisdone-artificial</a> on 2025-10-23 13:37</div>
            <div class="timeline-body"><p>@tzq0301 thanks - I&#x27;m trying that out <a href="https://github.com/BurntSushi/ripgrep/pull/3207">here</a> for the latest release.</p>
<p>For my home environment I&#x27;ve tried my best to love Nix (mixed results! üòÇ), but have settled on inlining statically built arm64/amd64 binaries into my Emacs git repo (that way I can move between my Linux on my work MacBook and Linux on my personal lappy seamlessly). It&#x27;s a little unconventional but with my Emacs config intimiately tied to rg&#x27;s behavior, I want it pinned. So I&#x27;m happy to attempt a one-off artifact build and then I won&#x27;t have to do it again for years.</p>
<p><strong>EDIT</strong>: Looks like I misunderstood the mechanics of ripgrep&#x27;s GHA artifact genertation. I&#x27;ll come back to this another time and install the Rust toolchain on a docker container or something and run a static build. üëç</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chrisdone-artificial">@chrisdone-artificial</a> on 2025-10-23 14:56</div>
            <div class="timeline-body"><p>Ended up using a Dockerfile: <a href="https://gist.github.com/chrisdone-artificial/14ca15717e94d0980865475d9602dcf7">rg arm64 static build</a> Easy peasy.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:13 UTC
    </footer>
</body>
</html>
