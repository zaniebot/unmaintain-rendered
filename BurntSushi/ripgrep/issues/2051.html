<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ignore: Please support parallel walk without Send - BurntSushi/ripgrep #2051</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ignore: Please support parallel walk without Send</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2051">#2051</a>
        opened by <a href="https://github.com/joshtriplett">@joshtriplett</a>
        on 2021-11-07 22:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/joshtriplett">@joshtriplett</a></div>
            <div class="timeline-body"><p>Based on the documentation of WalkParallel, it <em>seems</em> like it should be able to construct the function for each thread <em>on</em> that thread, such that it doesn't actually need <code>Send</code>. However, both the return value of <code>mkf</code> and the <code>ParallelVisitor</code> trait require <code>Send</code>, which makes it difficult to operate on structures that don't support <code>Send</code>. I was hoping to construct separate structures for each thread.</p>
<p>It <em>does</em> make sense that the <code>mkf</code> function and the <code>ParallelVisitorBuilder</code> need to be <code>Send</code>, to allow sending them to each thread and calling them. I'd just like to avoid needing <code>Send</code> on the function and <code>ParallelVisitor</code> (respectively) that they produce.</p>
<p>I looked for an open issue about this, and didn't find one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-11-08 00:59</div>
            <div class="timeline-body"><p>I'm not sure when I would have time to look into this, but the first thing I would try is to remove the bound and see if ripgrep still builds. If it does, then this might be okay. If it doesn't, then we'll have something further to investigate.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:28 UTC
    </footer>
</body>
</html>
