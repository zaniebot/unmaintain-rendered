<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Not Getting Regex Matches When Other Tools Do Match - BurntSushi/ripgrep #2853</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Not Getting Regex Matches When Other Tools Do Match</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2853">#2853</a>
        opened by <a href="https://github.com/patb-stout">@patb-stout</a>
        on 2024-07-15 22:49
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/patb-stout">@patb-stout</a></div>
            <div class="timeline-body"><h3>Please tick this box to confirm you have reviewed the above.</h3>
<ul>
<li>[X] I have a different issue.</li>
</ul>
<h3>What version of ripgrep are you using?</h3>
<p>ripgrep 14.1.0 (rev e50df40a19); [features:-simd-accel,+pcre2; simd(compile):+SSE2,-SSSE3,-AVX2; simd(runtime):+SSE2,+SSSE3,+AVX2] from ripgrep-14.1.0-x86_64-pc-windows-msvc.zip</p>
<h3>How did you install ripgrep?</h3>
<p>Downloaded zip binary and used directly in DOS.</p>
<h3>What operating system are you using ripgrep on?</h3>
<p>Windows Server 2019 version 1809</p>
<h3>Describe your bug.</h3>
<p>From command prompt, I get no matches with rg &quot;(&quot;.[^&quot;]+,.[^&quot;]+&quot;)&quot; ./test.txt</p>
<h3>What are the steps to reproduce the behavior?</h3>
<p>test.txt is a UTF8 file in DOS (CRLF) line endings. Contents of text file is as follows.
&quot;Mark&quot;,&quot;&quot;123 Somewhere Ln, 90210&quot;&quot;,&quot;Blue&quot;
&quot;&quot;abc,def&quot;&quot;,&quot;&quot;,&quot;&quot;
test</p>
<h3>What is the actual behavior?</h3>
<p>I get no matches.</p>
<h3>What is the expected behavior?</h3>
<p>According to regex101.com, ripgrep should have returned the following two matches.
&quot;&quot;123 Somewhere Ln, 90210&quot;&quot;
&quot;&quot;abc,def&quot;&quot;</p>
<p>And the capture groups should have returned the following two.
&quot;123 Somewhere Ln, 90210&quot;
&quot;abc,def&quot;</p>
<p>Ultimately, I was trying to use ripgrep to remove doubled up double-quotes around text qualified values. These values are double text qualifed (with double quotes) and I only want them text qualified one time per text value.</p>
<p><img src="https://github.com/user-attachments/assets/7d7cc1d5-f445-471f-b877-ca67f96be35b" alt="Regex Issue" />
The attached screen capture shows how the regex pattern properly finds between the doubled double quotes and the green shows proper matching of the capture group.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/VladimirMarkelov">@VladimirMarkelov</a> on 2024-07-15 22:58</div>
            <div class="timeline-body"><p>What is your shell? If you use cmd.exe, it treats <code>^</code> as escape characters, so your <code>rg &quot;(&quot;.[^&quot;]+,.[^&quot;]+&quot;)&quot;</code>, likely, turns into <code>rg &quot;(&quot;.[&quot;]+,.[&quot;]+&quot;)&quot;</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-07-15 23:05</div>
            <div class="timeline-body"><p>Yes, this looks like a shell issue. And regex101 isn't &quot;another tool&quot; comparable to ripgrep. The only way regex101 is relevant is if you've isolated every other possible explanation for the difference. Shell quoting rules is one. But there are many others.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2024-07-15 23:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/patb-stout">@patb-stout</a> on 2024-07-16 13:25</div>
            <div class="timeline-body"><p>I used the same regex successfully with sed on Cygwin Linux and also with UltraEdit (with the Perl regex type selected) on Windows, but I do see where the ^ symbol is seen as an escape character on DOS/command prompt (cmd.exe). I will see what I can do to get it working from DOS.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-07-16 13:48</div>
            <div class="timeline-body"><blockquote>
<p>I used the same regex successfully</p>
</blockquote>
<p>That's just it. You very likely didn't. Because of the shell quoting rules.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/garoto">@garoto</a> on 2024-07-16 13:55</div>
            <div class="timeline-body"><p><code>rg (&quot;.[^^\&quot;]+,.[^^\&quot;]+&quot;) regex.test</code></p>
<p>Escape both carets with an extra caret and the double-quotes inside the brackets with the C escape char, the backslash.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:50 UTC
    </footer>
</body>
</html>
