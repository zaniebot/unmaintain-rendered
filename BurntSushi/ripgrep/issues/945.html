<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>On .gitignore error handling - BurntSushi/ripgrep #945</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>On .gitignore error handling</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/945">#945</a>
        opened by <a href="https://github.com/gcp">@gcp</a>
        on 2018-06-12 23:19
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/gcp">@gcp</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>ripgrep 0.8.1
-SIMD -AVX</p>
How did you install ripgrep?
<p>cargo</p>
What operating system are you using ripgrep on?
<p>Linux (Ubuntu 16.04)</p>
Describe your question, feature request, or bug.
<p>Using ripgrep over the entire Android AOSP tree produces quite a few errors parsing .gitignore files. There&#x27;s 2 concerns with this: 1) when using ripgrep, I don&#x27;t really care about its opinion on the .gitignore files of another project 2) I&#x27;m assuming this means there&#x27;s a behavior difference between real git and ripgrep&#x27;s gitignore parsing.</p>
<p>Examples:</p>
<pre><code>./external/glide/.gitignore: line 24: error parsing glob &#x27;**local.properties&#x27;: invalid use of **; must be one path component

./external/chromium-trace/catapult/telemetry/bin/.gitignore: line 2: error parsing glob &#x27;!**.sha1&#x27;: invalid use of **; must be one path component
</code></pre>
<p>I&#x27;m not sure what the correct solution here should be, but these error messages are not useful and obscure the real output.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2018-06-12 23:33</div>
            <div class="timeline-body"><p>You can silence the error messages with the <code>--no-messages</code> flag. To make the effect permanent you can add the option either to a shell alias or to your <a href="https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md#configuration-file">config file</a>.</p>
<p>As far as behaviour differences, it does appear that git (2.17.1) accepts both of those patterns (confirmed via <code>git status</code> and <code>git check-ignore</code>), even though <a href="https://git-scm.com/docs/gitignore">the documentation</a> explicitly states that <code>**</code> is invalid unless preceded and/or followed by a slash. ü§∑‚Äç‚ôÄÔ∏è</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-06-12 23:40</div>
            <div class="timeline-body"><p>This same issue has been filed several times:  #373, #646, #507, #859. The first one in particular contains the most discussion.</p>
<p>Current master has a <a href="https://github.com/BurntSushi/ripgrep/commit/0ee0b160b583715b2c4629978695f3567cb6fc09"><code>--no-ignore-messages</code></a> flag, which suppresses exactly these error messages.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-06-12 23:40</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-06-12 23:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Pateo-zhengfang">@Pateo-zhengfang</a> on 2025-04-27 08:48</div>
            <div class="timeline-body"><p>Did you successfully port ripgrep to AOSP?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:06 UTC
    </footer>
</body>
</html>
