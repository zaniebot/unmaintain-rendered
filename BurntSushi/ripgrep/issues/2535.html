<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot use glob on Windows - BurntSushi/ripgrep #2535</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot use glob on Windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2535">#2535</a>
        opened by <a href="https://github.com/ashrasmun">@ashrasmun</a>
        on 2023-06-14 08:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/ashrasmun">@ashrasmun</a></div>
            <div class="timeline-body"><h4>What version of ripgrep are you using?</h4>
<pre><code>w:\sandbox\test&gt;rg --version
ripgrep 13.0.0 (rev af6b6c543b)
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)
</code></pre>
<h4>How did you install ripgrep?</h4>
<p>https://github.com/BurntSushi/ripgrep/releases</p>
<h4>What operating system are you using ripgrep on?</h4>
<p>Windows 10</p>
<h4>Describe your bug.</h4>
<p>I would like to search for text in a subset of files, not all of them. I tried using <code>-g/--glob</code>, but it doesn't seem to work.</p>
<h4>What are the steps to reproduce the behavior?</h4>
<pre><code>w:\sandbox\test&gt;type nul&gt;test.txt

w:\sandbox\test&gt;nvim test.txt # Add 'lib' to the file

w:\sandbox\test&gt;rg lib
test.txt
lib

w:\sandbox\test&gt;rg lib -g '*'
No files were searched, which means ripgrep probably applied a filter you didn't expect.
Running with --debug will show why files are being skipped.
</code></pre>
<h4>What is the actual behavior?</h4>
<p>https://gist.github.com/ashrasmun/245ec0e48dd2b8377b0aa4616b7e9b2d</p>
<h4>What is the expected behavior?</h4>
<p>I would like to search for string 'lib' in a narrow set of files, not all of them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-06-14 13:02</div>
            <div class="timeline-body"><p>Thanks for the report. Can you say why you didn't run with <code>--debug</code> and show the output, as the error message suggests?</p>
<p>My best guess is that you have a Windows problem. IIRC, single quotes don't work the way your command suggests you think they do: https://superuser.com/questions/324278/how-to-make-windows-command-prompt-treat-single-quote-as-though-it-is-a-double-q</p>
<p>It might be a good idea to read a tutorial on how to use the Windows command line. I'm not a Windows user myself so I'm not sure what the best one might be.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ltrzesniewski">@ltrzesniewski</a> on 2023-06-14 13:34</div>
            <div class="timeline-body"><p>They actually provided the <code>--debug</code> output in the gist, and it says:</p>
<blockquote>
<p><code>glob converted to regex: Glob { glob: &quot;**/'*'&quot;, re: &quot;(?-u)^(?:/?|.*/)'[^/]*'$&quot;</code> [...]</p>
</blockquote>
<p>So yeah, the single quotes are interpreted literally and they end up in the glob pattern.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-06-14 13:38</div>
            <div class="timeline-body"><p>Ah nice! I completely missed the gist link. Thanks for pointing that out. :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Locked by @ghost on 2023-06-14 13:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:41 UTC
    </footer>
</body>
</html>
