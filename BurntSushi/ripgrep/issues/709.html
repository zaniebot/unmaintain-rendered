<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suggest --fixed-strings on invalid regexps - BurntSushi/ripgrep #709</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Suggest --fixed-strings on invalid regexps</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/709">#709</a>
        opened by <a href="https://github.com/Wilfred">@Wilfred</a>
        on 2017-12-06 17:15
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Wilfred">@Wilfred</a></div>
            <div class="timeline-body"><pre><code>$ rg &quot;foo(&quot;
Error parsing regex near &#x27;foo(&#x27; at character offset 3: Unclosed parenthesis.
</code></pre>
<p>I think ripgrep should suggest the <code>--fixed-strings</code> argument if there&#x27;s a regex syntax error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-12-06 17:17</div>
            <div class="timeline-body"><p>Hmmmm... I think I&#x27;d be OK with that.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-12-06 17:17</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/balajisivaraman">@balajisivaraman</a> on 2018-01-01 15:01</div>
            <div class="timeline-body"><p>I can pick this one up next.</p>
<p>One question though: Do we still want the error generated by the <code>regex</code> lib to be propagated all the way to the command line? Or are OK with replacing that with a generic error such as: &quot;<em>Syntax error encountered while parsing provided regex. Please recheck. Note: Perhaps you meant to use --fixed-strings instead.</em>&quot;</p>
<p>I can think of a relatively straightforward, easy-to-implement fix if we&#x27;re OK with the latter.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/erikrw">@erikrw</a> on 2018-01-01 15:13</div>
            <div class="timeline-body"><p>I would suggest regex error details to be shown to the user. grep, ack, and ag also give details about regex errors.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-01-01 15:15</div>
            <div class="timeline-body"><p>@balajisivaraman We <em>definitely</em> want to surface the syntax error.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/balajisivaraman">@balajisivaraman</a> on 2018-01-14 15:22</div>
            <div class="timeline-body"><p>Can this be closed with the merging of #727?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-01-14 16:19</div>
            <div class="timeline-body"><p>@balajisivaraman Yup! Thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-01-14 16:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wsdjeg">@wsdjeg</a> on 2018-02-01 13:48</div>
            <div class="timeline-body"><p>@BurntSushi does <code>--fixed-strings</code> means auto fixe regex?  I mean if the regex has no errors, just use it as regex.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-02-01 13:59</div>
            <div class="timeline-body"><p>@wsdjeg I don&#x27;t understand your question or your suggestion. Could you please elaborate? Please include examples.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-02-01 14:00</div>
            <div class="timeline-body"><p>@wsdjeg Also, have you read the documentation?</p>
<pre><code>    -F, --fixed-strings                     
            Treat the pattern as a literal string instead of a regular expression. When this flag is
            used, special regular expression meta characters such as (){}*+. do not need to be
            escaped.
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wsdjeg">@wsdjeg</a> on 2018-02-01 14:14</div>
            <div class="timeline-body"><p>@BurntSushi I have read it, I just create a grep plugin , and using rg as backgroud tool. search the user&#x27;s input.</p>
<p>I hope I auto detect if the user is input a right expression. that means, it will be better there is an option --auto-fixed-string.  if there is error in such expression, treat it as fixed string. otherwise use it as regex.</p>
<p>here is an gif:</p>
<p><img src="https://user-images.githubusercontent.com/13142418/35682815-9edaddd6-0727-11e8-9d83-0f1e14467865.gif" alt="2018-02-01-22-05-15"></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-02-01 14:20</div>
            <div class="timeline-body"><p>@wsdjeg That seems like a distinct feature request that is completely orthogonal to this issue. Please open a new issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/wsdjeg">@wsdjeg</a> on 2018-02-01 14:22</div>
            <div class="timeline-body"><p>Ok, and thanks for this project.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/prosoitos">@prosoitos</a> on 2025-06-02 21:16</div>
            <div class="timeline-body"><p>It looks like this got addressed years ago, yet, with version 14.1.1 (latest), when running:</p>
<pre><code>rg &quot;foo(&quot;
</code></pre>
<p>I am getting:</p>
<pre><code>rg: regex parse error:
    (?:foo()
    ^
error: unclosed group
</code></pre>
<p>No mention of <code>--fixed-strings</code>.</p>
<p>I am confused.</p>
<p>Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:05 UTC
    </footer>
</body>
</html>
