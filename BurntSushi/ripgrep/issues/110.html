<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>build fails in 'grep v0.1.3' with cargo 0.13.0: match arms have incompatible types - BurntSushi/ripgrep #110</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>build fails in &#x27;grep v0.1.3&#x27; with cargo 0.13.0: match arms have incompatible types</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/110">#110</a>
        opened by <a href="https://github.com/nikias">@nikias</a>
        on 2016-09-26 22:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/nikias">@nikias</a></div>
            <div class="timeline-body"><p>Building with cargo 0.13.0 I got the following error when it compiles grep v0.1.3:</p>
<pre><code>/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:53:19: 56:10 error: match arms have incompatible types:
 expected `&amp;[_; 0]`,
    found `&amp;[u8]`
(expected array of 0 elements,
    found slice) [E0308]
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:53         let req = match req_lits.iter().max_by_key(|lit| lit.len()) {
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:54             None =&gt; &amp;[],
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:55             Some(req) =&gt; &amp;***req,
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:56         };
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:53:19: 56:10 help: run `rustc --explain E0308` to see a detailed explanation
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:55:26: 55:33 note: match arm with an incompatible type
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:55             Some(req) =&gt; &amp;***req,
                                                                                                                     ^~~~~~~
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:68:35: 68:44 error: the type of this value must be known in this context
/Users/nikias/.cargo/registry/src/github.com-1ecc6299db9ec823/grep-0.1.3/src/literals.rs:68         if req_lits.len() == 1 &amp;&amp; req.len() &gt; lit.len() {
                                                                                                                              ^~~~~~~~~
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-26 22:59</div>
            <div class="timeline-body"><p>Can you show the output of <code>cargo --version</code> and <code>rustc --version</code>? e.g.,</p>
<pre><code>[andrew@Cheetah ripgrep] cargo --version
cargo 0.13.0-nightly (9399229 2016-09-14)
[andrew@Cheetah ripgrep] rustc --version
rustc 1.13.0-nightly (4f9812a59 2016-09-21)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nikias">@nikias</a> on 2016-09-26 23:01</div>
            <div class="timeline-body"><pre><code>$ cargo --version
cargo 0.13.0 (dd91250 2016-09-26)
$ rustc --version
rustc 1.7.0-dev
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-26 23:01</div>
            <div class="timeline-body"><p>@nikias Ah, your Rust is old. Unfortunately, <code>ripgrep</code> requires 1.9 or newer!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-26 23:01</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-26 23:02</div>
            <div class="timeline-body"><p>I strongly recommend <a href="https://rustup.rs/">rustup</a> for installing Rust!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nikias">@nikias</a> on 2016-09-27 06:43</div>
            <div class="timeline-body"><p>Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:01 UTC
    </footer>
</body>
</html>
