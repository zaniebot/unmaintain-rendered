<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$RIPGREP_CONFIG_PATH not respected in fish shell - BurntSushi/ripgrep #1793</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>$RIPGREP_CONFIG_PATH not respected in fish shell</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1793">#1793</a>
        opened by <a href="https://github.com/bronzehedwick">@bronzehedwick</a>
        on 2021-02-03 14:31
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bronzehedwick">@bronzehedwick</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>ripgrep 12.1.1
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)</p>
How did you install ripgrep?
<p>Homebrew</p>
What operating system are you using ripgrep on?
<p>Darwin lpub0055 18.7.0 Darwin Kernel Version 18.7.0: Tue Nov 10 00:07:31 PST 2020; root:xnu-4903.278.51~1/RELEASE_X86_64 x86_64</p>
Describe your bug.
<p>Setting the <code>$RIPGREP_CONFIG_PATH</code> environment variable to my config file does not result in my config file being respected in the fish shell. Was able to see the behavior fine in bash.</p>
What are the steps to reproduce the behavior?
<ul>
<li><code>set -U RIPGREP_CONFIG_PATH ~/.config/ripgrep/ripgreprc</code></li>
<li>Add option to config file: <code>--type-add jsx:*.jsx*</code></li>
</ul>
What is the actual behavior?
<p><code>rg -tjsx console</code> outputs:</p>
<pre><code>unrecognized file type: jsx
</code></pre>
What is the expected behavior?
<p>Read the configuration file.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-02-03 14:36</div>
            <div class="timeline-body"><p>ripgrep doesn&#x27;t care about your shell. All it does is read the environment variable in the standard way. If it isn&#x27;t there then it isn&#x27;t set.</p>
<p>Consider using the <code>--debug</code> flag. It will tell you if a config file is being loaded, and if so, the additional flags that come from it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bronzehedwick">@bronzehedwick</a> on 2021-02-03 15:04</div>
            <div class="timeline-body"><p>Hmm interesting. I might not have a working <code>rg</code>, then, because it doesn&#x27;t have the <code>--debug</code> flag.</p>
<pre><code>$ rg --debug -tjsx console
fish: Unknown command: rg --debug
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-02-03 15:09</div>
            <div class="timeline-body"><p>Please read the error. The error doesn&#x27;t say that the <code>--debug</code> flag doesn&#x27;t exist. The error is <em>from your shell</em> and is, for whatever reason, telling you that the command <code>rg --debug</code> does not exist. I have no idea why Fish is interpreting <code>rg --debug</code> as a single command, but it&#x27;s definitely not a problem with ripgrep.</p>
<p>I don&#x27;t use Fish so I can&#x27;t really be of any more help. My guess is that there is something borked about your Fish configuration. So I would recommend trying vanilla Fish. If that works, then add your configuration back piece by piece until you find the thing that breaks stuff. In short, debug the problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-02-03 15:09</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-02-03 15:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bronzehedwick">@bronzehedwick</a> on 2021-02-03 15:18</div>
            <div class="timeline-body"><p>Okay thanks.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ilyagr">@ilyagr</a> on 2021-03-14 03:12</div>
            <div class="timeline-body"><p>@bronzehedwick The correct way to set this up is <code>set -Ux RIPGREP_CONFIG_PATH ~/.config/ripgrep/ripgreprc</code>, I believe (note the extra <code>x</code>).</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:10 UTC
    </footer>
</body>
</html>
