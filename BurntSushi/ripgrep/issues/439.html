<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rg --help outputs search results - BurntSushi/ripgrep #439</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>rg --help outputs search results</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/439">#439</a>
        opened by <a href="https://github.com/bluss">@bluss</a>
        on 2017-04-05 14:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bluss">@bluss</a></div>
            <div class="timeline-body"><p>I don't understand this.</p>
<p>rg 0.5.0 installed using cargo install -f ripgrep compiled using <code>rustc 1.18.0-nightly (5309a3e31 2017-04-03)</code> platform: Linux x86-64.</p>
<p><code>~/.cargo/bin/rg -h</code> outputs the help as expected, <code>~/.cargo/bin/rg --help</code> outputs..something that looks like every line of all the files?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-04-05 14:55</div>
            <div class="timeline-body"><p><code>cargo install</code> doesn't use/respect the <code>Cargo.lock</code> (TMK). See #438 for details on this issue.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-05 14:56</div>
            <div class="timeline-body"><p>Strange. I can't seem to reproduce. There's been a little bit of churn lately on handling <code>-h/--help</code>, so I wonder if compiling from <code>master</code> has the same bug. Would you be willing to try that?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-05 14:56</div>
            <div class="timeline-body"><p>@kbknapp Oh. Derp. Thanks for that reminder. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-05 14:57</div>
            <div class="timeline-body"><blockquote>
<p>I can't seem to reproduce.</p>
</blockquote>
<p>Of course, I didn't use the same steps as @bluss. Instead, I did this, which I thought was equivalent before @kbknapp's reminder:</p>
<pre><code>$ git clone git://github.com/BurntSushi/ripgrep
$ cd ripgrep
$ git checkout 0.5.0
$ cargo build --release
$ ./target/release/rg --help
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-04-05 15:06</div>
            <div class="timeline-body"><p>I just pushed the new version to crates.io so once the ripgrep tests pass it should be safe to merge ;-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-05 15:39</div>
            <div class="timeline-body"><p>OK, the PR is merged. I will close this one out once I put out a new release of ripgrep and test that <code>cargo install</code> works. Thanks again @kbknapp!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2017-04-05 17:42</div>
            <div class="timeline-body"><p>Cool. What does cargo install --locked do? It's not entirely clear.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2017-04-05 18:20</div>
            <div class="timeline-body"><p>I'm confused too, was just looking at cargo install and wondering if it were possible to ask it to respect the lock file. Then I learned it's not packaged.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kbknapp">@kbknapp</a> on 2017-04-05 18:49</div>
            <div class="timeline-body"><blockquote>
<p>What does cargo install --locked do? It's not entirely clear.
[..] was just looking at cargo install and wondering if it were possible to ask it to respect the lock file. Then I learned it's not packaged.</p>
</blockquote>
<p>So, the <code>Cargo.lock</code> is never packaged? I'm wondering what <code>--locked</code> and <code>--frozen</code> do too, then. Seems strange to me, as it's pretty much the whole purpose for <em>binaries</em> so that things like this exact issue don't happen. I'd have thought (before just recently) that it'd be the <em>default</em> for <code>cargo install</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/yarko">@yarko</a> on 2017-04-09 02:26</div>
            <div class="timeline-body"><p>glad that simply following @BurntSushi 's clone/build idiom works for just copying the built command into place.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @BurntSushi on 2017-04-09 12:51</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-09 14:32</div>
            <div class="timeline-body"><p>I can confirm that <code>cargo install ripgrep</code> now works in <code>0.5.1</code>. Thanks for the report @bluss!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-04-09 14:32</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2017-04-09 14:33</div>
            <div class="timeline-body"><p>Thanks for fixing. I'm glad you continue to support cargo install, it's very convenient.. for rusties.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/bluss">@bluss</a> on 2017-04-09 14:37</div>
            <div class="timeline-body"><p>Fix confirmed on this end, by the way.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:08 UTC
    </footer>
</body>
</html>
