<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comma separated file types (e.g. --type-add html:*.html,*.htm) do not work as stated - BurntSushi/ripgrep #82</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Comma separated file types (e.g. --type-add html:<em>.html,</em>.htm) do not work as stated</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/82">#82</a>
        opened by <a href="https://github.com/SigmundVik">@SigmundVik</a>
        on 2016-09-25 13:32
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/SigmundVik">@SigmundVik</a></div>
            <div class="timeline-body"><p>From the <code>rg --help</code> output:</p>
<pre><code>    --type-add ARG ...
        Add a new glob for a particular file type.
        Example: --type-add html:*.html,*.htm
</code></pre>
<p>Here are three test cases using this to grep for the word <code>uniqueness</code> in a tree containing the source code and documentation for the <code>boost</code> library:</p>
<pre><code>[BOOTCAMP] [sigmund-MAC-dev] 15:09 0:00:00.13 88956M d:\dev\base-00\lib\boost&gt;rg --type-add html:*.html,*.htm -t html uniqueness .
doc\html\intrusive\advanced_lookups_insertions.html
350:        are known to fulfill order (sets and multisets) and uniqueness (sets) invariants.
353:        up assignments from other associative containers: if the ordering and uniqueness
362:        ordering and uniqueness preconditions are not assured by the caller.&lt;/strong&gt;&lt;/span&gt;

doc\html\jam\language.html
88:        with grist, a string value used to assure uniqueness. A file target with
</code></pre>
<p>The case above gives the expected output.</p>
<pre><code>[BOOTCAMP] [sigmund-MAC-dev] 15:10 0:00:00.47 88956M d:\dev\base-00\lib\boost&gt;rg --type-add html:*.xxx -t html uniqueness .
doc\html\intrusive\advanced_lookups_insertions.html
350:        are known to fulfill order (sets and multisets) and uniqueness (sets) invariants.
353:        up assignments from other associative containers: if the ordering and uniqueness
362:        ordering and uniqueness preconditions are not assured by the caller.&lt;/strong&gt;&lt;/span&gt;

doc\html\jam\language.html
88:        with grist, a string value used to assure uniqueness. A file target with
</code></pre>
<p>The case above does not give the expected output.  There are no files in the tree with file extensions &quot;xxx&quot;.</p>
<pre><code>[BOOTCAMP] [sigmund-MAC-dev] 15:10 0:00:00.59 88956M d:\dev\base-00\lib\boost&gt;rg --type-add xxx:*.html,*.htm -t xxx uniqueness .
No files were searched, which means ripgrep probably applied a filter you didn't expect. Try running again with --debug.
</code></pre>
<p>The case above does not give the expected output.  The expected otput is the same as for the first case.</p>
<p>This was produced running rg version 0.1.17.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 13:49</div>
            <div class="timeline-body"><p>OK, so the first problem is that the example is wrong: there is no support for comma separated globs. The docs need to be fixed.</p>
<p>The second problem is that <code>--type-add</code> is additive. Since <code>html</code> is already defined in <code>ripgrep</code>, running <code>--type-add 'html:*.xxx'</code> adds <code>*.xxx</code> to the already existing globs. If you want to start fresh, use <code>--type-clear html</code>.</p>
<p>The docs could use more examples.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/SigmundVik">@SigmundVik</a> on 2016-09-25 14:01</div>
            <div class="timeline-body"><p>I see, thank you!</p>
<p>There is already a suggestion for supporting curly brace glob syntax (https://github.com/BurntSushi/ripgrep/issues/80).</p>
<p>With this, the documentation could be updated to:</p>
<pre><code>    --type-add ARG ...
        Add a new glob for a particular file type.
        Example: --type-add html:*.{html,htm}
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:05</div>
            <div class="timeline-body"><p>That's a good point, thanks. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2016-09-25 18:37</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:41:41 UTC
    </footer>
</body>
</html>
