<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add option to read files in order of physical location on disk - BurntSushi/ripgrep #2497</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add option to read files in order of physical location on disk</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2497">#2497</a>
        opened by <a href="https://github.com/as-com">@as-com</a>
        on 2023-04-22 18:53
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/as-com">@as-com</a></div>
            <div class="timeline-body">Describe your feature request
<p>It would be nice if ripgrep could support using something like fiemap to sort the files in order of physical location on disk to speed up searches like <a href="https://github.com/pkolaczk/fclones">fclones</a> does. It would be extremely helpful for hard drives and in some cases could be helpful for SSDs too.</p>
<p>For reading compressed data with -z and with multiple threads, ripgrep could pre-read the files in order before invoking the decompressors to load the data into the page cache without random accesses.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-04-23 11:54</div>
            <div class="timeline-body"><p>I think this is pretty firmly outside the scope of ripgrep. This feature request is also not well motivated. A well motivated version of this request would be to provide a reproducible example that demonstrates the performance benefits of searching files in a different order than what ripgrep does naturally. Is it a 5% difference? If so, clearly, it isn&#x27;t worth the extra code to do it (almost certainly). Is it an order of magnitude different? Okay, then maybe it&#x27;s worth adding what I would guess to be some platform specific code to do things a little smarter.</p>
<p>But even then, it still seems out of scope. If this is just about the order of searching, then why not write a program that generates a list of files in the desired order and then feed that to ripgrep? Why does this logic have to be in ripgrep itself?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-04-23 11:54</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wontfix</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-04-23 11:54</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:13 UTC
    </footer>
</body>
</html>
