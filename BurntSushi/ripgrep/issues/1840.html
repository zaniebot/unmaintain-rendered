<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wrong handling of &quot;hidden&quot; current directory - BurntSushi/ripgrep #1840</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Wrong handling of &quot;hidden&quot; current directory</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1840">#1840</a>
        opened by <a href="https://github.com/lbolla">@lbolla</a>
        on 2021-04-01 12:38
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lbolla">@lbolla</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>12.1.1</p>
How did you install ripgrep?
<p>Github binary release</p>
What operating system are you using ripgrep on?
<p>Ubuntu 20.04</p>
Describe your bug.
<p>When the current directory is &quot;hidden&quot; (name starts with dot), <code>rg</code> fails to find matches in subdirectories.</p>
What are the steps to reproduce the behavior?
<p>Consider this code:</p>
<pre><code># rg finds matches in this case.
 » rg flycheck-pycheckers-ena .emacs.d
.emacs.d/elpa/flycheck-pycheckers-20200828.1814/flycheck-pycheckers.el
206:(define-obsolete-variable-alias &#x27;flycheck-pycheckers-enabled-codes &#x27;flycheck-pycheckers-enable-codes &quot;&quot;)
207:(flycheck-def-option-var flycheck-pycheckers-enable-codes
260:             (eval (when flycheck-pycheckers-enable-codes
261:                     (concat &quot;--enable-codes=&quot; (when (listp flycheck-pycheckers-enable-codes)
262:                                                 (mapconcat &#x27;identity flycheck-pycheckers-enable-codes &quot;,&quot;)))))

# Now I cd into a &quot;hidden&quot; directory and rerun the search
~ » cd .emacs.d

# No matches found!
~/.emacs.d(master*) » rg flycheck-pycheckers-ena

# No matter if I specify to search the current directory with &quot;.&quot;
~/.emacs.d(master*) » rg flycheck-pycheckers-ena .

# But it&#x27;s fine if I specify the subdirectory
~/.emacs.d(master*) » rg flycheck-pycheckers-ena elpa
elpa/flycheck-pycheckers-20200828.1814/flycheck-pycheckers.el
206:(define-obsolete-variable-alias &#x27;flycheck-pycheckers-enabled-codes &#x27;flycheck-pycheckers-enable-codes &quot;&quot;)
207:(flycheck-def-option-var flycheck-pycheckers-enable-codes
260:             (eval (when flycheck-pycheckers-enable-codes
261:                     (concat &quot;--enable-codes=&quot; (when (listp flycheck-pycheckers-enable-codes)
262:                                                 (mapconcat &#x27;identity flycheck-pycheckers-enable-codes &quot;,&quot;)))))
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-04-01 12:45</div>
            <div class="timeline-body"><p>Please follow the instructions in the issue template and include the output when running with the <code>--debug</code> flag.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lbolla">@lbolla</a> on 2021-04-01 12:53</div>
            <div class="timeline-body"><p>@BurntSushi Ah, I must have missed mention to the <code>--debug</code> flag! Thanks.</p>
<p>Running with <code>rg --debug</code> gave me a hint of what&#x27;s going on. The &quot;hidden&quot; directory (&quot;.emacs.d&quot;) is actually a symlink to a subdirectory inside a repository: <code>rg</code> is picking up the parent&#x27;s &quot;.gitignore&quot;. Running <code>rg --no-ignore-parent</code> works.</p>
<p>Thanks again for your help.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/lbolla">@lbolla</a> on 2021-04-01 12:53</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-04-01 13:06</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:11 UTC
    </footer>
</body>
</html>
