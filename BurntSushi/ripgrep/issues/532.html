<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No zsh filename tab-autocompletion - BurntSushi/ripgrep #532</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>No zsh filename tab-autocompletion</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/532">#532</a>
        opened by <a href="https://github.com/mattsmithdatera">@mattsmithdatera</a>
        on 2017-06-29 19:08
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mattsmithdatera">@mattsmithdatera</a></div>
            <div class="timeline-body"><p>Info:</p>
<pre><code class="language-zsh">rg --version
ripgrep 0.5.2

zsh --version
zsh 5.2 (x86_64-apple-darwin15.0.0)
</code></pre>
<p>Reproduction steps:</p>
<ol>
<li>Use zsh shell</li>
<li>Copy _rg autocompletion file to zsh /usr/share/zsh/site-functions location</li>
<li>type `rg &quot;test-match&quot; /usr/</li>
<li>Start pressing <code>tab</code>.</li>
<li>Nothing is suggested</li>
</ol>
<p>Expected behavior (demonstrated with bash shell, where this functions correctly):</p>
<ol>
<li>Use bash shell</li>
<li>copy rg bash autocompletion file to /usr/local/etc/bash_completion.d</li>
<li>type <code>rg &quot;test-match&quot; /usr/</code></li>
<li>Start pressing <code>tab</code></li>
<li>Files in /usr/ are suggested for autocompletion</li>
</ol>
<p>Additional info:</p>
<ul>
<li>Zsh autocompletes ripgrep options without issue</li>
<li>Zsh fails to autocomplete files regardless of presence of zsh autocompletion file in site-functions folder</li>
<li>ripgrep installed via Homebrew on OSX</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-29 20:56</div>
            <div class="timeline-body"><p>Someone else will need to handle this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by @BurntSushi on 2017-06-29 20:57</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @BurntSushi on 2017-06-29 20:57</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-29 20:57</div>
            <div class="timeline-body"><p>(I'm really not happy about ripgrep providing auto completions like this. I don't have the inclination to debug their problems.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-07-01 06:26</div>
            <div class="timeline-body"><p>The zsh completion function in the Homebrew package is not the one that's in the <code>ripgrep</code> repository. Not sure where theirs comes from, there's no attribution or anything. The one in the repo seems to work fine for me, at least in terms of completing the file name. There are some other (trivial) issues with it, though, that i can put together a PR for if you want. (The biggest one is that the descriptions for <code>--count</code> and <code>--max-count</code> are the same, which causes zsh to treat them as aliases for each other.)</p>
<p>ETA: Oh, their completion function must be the one that <code>clap</code> was auto-generating. It wasn't replaced by the hand-written one until a few weeks after 0.5.2 was released. Homebrew will probably pull in the new one whenever 0.5.3 lands.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-07-01 13:04</div>
            <div class="timeline-body"><p>@okdana PRs would be most appreciated. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-07-03 11:16</div>
            <div class="timeline-body"><p>It sounds like this has been fixed, but you need to use the manually curated zsh completion script here: https://github.com/BurntSushi/ripgrep/blob/master/complete/_rg (Which should be the one that is bundled in the next release tarball.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-07-03 11:17</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:13 UTC
    </footer>
</body>
</html>
