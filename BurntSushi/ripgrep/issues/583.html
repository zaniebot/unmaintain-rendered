<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zsh completion failed - BurntSushi/ripgrep #583</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>zsh completion failed</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/583">#583</a>
        opened by <a href="https://github.com/misery">@misery</a>
        on 2017-08-24 13:42
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/misery">@misery</a></div>
            <div class="timeline-body"><p>Since 0.6.0 zsh completion is broken.</p>
<p>Just type &quot;rg&quot; and double press TAB key:</p>
<pre><code>$ rg 
_rg: parse error near `)'
</code></pre>
<p>zsh version: 5.4.1</p>
<p>If I use _rg zsh file from 0.5.2 in 0.6.0 it still works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-08-24 14:03</div>
            <div class="timeline-body"><p>Probably the same issue as #582: It seems that the Arch packager made a mistake in their install script, so that the PowerShell completion function is installed instead of the zsh one.</p>
<p>Here's the change that broke it:</p>
<p>https://git.archlinux.org/svntogit/community.git/commit/trunk?h=packages/ripgrep&amp;id=370020d2f6db7b71c053667c5f2ef073f77f6a61</p>
<p>And here's a bug ticket for it:</p>
<p>https://bugs.archlinux.org/task/55266</p>
<p>As a work-around you can install the completion file directly from the repo:</p>
<pre><code>curl -sSL 'https://raw.githubusercontent.com/BurntSushi/ripgrep/master/complete/_rg' | sudo tee /usr/share/zsh/site-functions/_rg
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/misery">@misery</a> on 2017-08-24 14:04</div>
            <div class="timeline-body"><p>Ah, thanks... sorry for the duplicate!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @misery on 2017-08-24 14:04</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:15 UTC
    </footer>
</body>
</html>
