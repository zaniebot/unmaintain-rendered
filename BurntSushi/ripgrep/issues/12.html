<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannot build project: could not parse input as TOML - BurntSushi/ripgrep #12</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Cannot build project: could not parse input as TOML</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/12">#12</a>
        opened by <a href="https://github.com/lava">@lava</a>
        on 2016-09-23 13:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lava">@lava</a></div>
            <div class="timeline-body"><p>On a fresh checkout, on ubuntu xenial:</p>
<pre><code>➜  ripgrep git:(master) ./compile              
failed to parse manifest at `/usr/local/src/ripgrep/Cargo.toml`

Caused by:
  could not parse input as TOML
Cargo.toml:42:9 expected a key but found an empty string
Cargo.toml:42:9-42:10 expected `.`, but found `&#x27;`
</code></pre>
<p>On a related note, since I don&#x27;t know anything about rust, is there support for doing out-of-tree builds?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-23 13:25</div>
            <div class="timeline-body"><p>What version of Rust do you have? Ripgrep needs 1.9 or newer. Just
guessing, but it looks like you have an older version.</p>
<p>Also, the README has the build instructions.</p>
<p>On Sep 23, 2016 9:09 AM, &quot;Benno Evers&quot; notifications@github.com wrote:</p>
<blockquote>
<p>On a fresh checkout, on ubuntu xenial:</p>
<p>➜  ripgrep git:(master) ./compile
failed to parse manifest at <code>/usr/local/src/ripgrep/Cargo.toml</code></p>
<p>Caused by:
could not parse input as TOML
Cargo.toml:42:9 expected a key but found an empty string
Cargo.toml:42:9-42:10 expected <code>.</code>, but found <code>&#x27;</code></p>
<p>On a related note, since I don&#x27;t know anything about rust, is there
support for doing out-of-tree builds?</p>
<p>—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/12">BurntSushi/ripgrep#12</a>, or mute the thread
https://github.com/notifications/unsubscribe-auth/AAb34oL2Gf8BecxGWPXZqBesc_mkwPCnks5qs8-UgaJpZM4KE9aP
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lava">@lava</a> on 2016-09-23 13:35</div>
            <div class="timeline-body"><p>You&#x27;re correct, my version of rustc seems to be too old:</p>
<pre><code>➜  ripgrep git:(master) apt-cache policy rustc
rustc:
  Installed: 1.7.0+dfsg1-1
  Candidate: 1.7.0+dfsg1-1
  Version table:
 *** 1.7.0+dfsg1-1 500
        500 http://archive.ubuntu.com/ubuntu xenial/universe amd64 Packages
        100 /var/lib/dpkg/status
</code></pre>
<p>That will make it quite...challenging to build a package for ubuntu ;p</p>
<p>I don&#x27;t see out-of-tree builds being mentioned in the README.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/lava">@lava</a> on 2016-09-23 13:35</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-23 14:27</div>
            <div class="timeline-body"><p>Could you say a bit more by what you need for &quot;out-of-tree&quot; builds? The standard way to build Rust code is with <code>cargo</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lava">@lava</a> on 2016-09-23 16:43</div>
            <div class="timeline-body"><p>As I said, I don&#x27;t really know a lot about rust, but my usual way of building an open-source project looks like this</p>
<pre><code>cd ~/build/ripgrep
~/src/ripgrep/configure --some-weird args
make
</code></pre>
<p>or</p>
<pre><code>cd ~/build/ripgrep
cmake ~/src/ripgrep/ -DWEIRD_OPTION=SOME_VALUE
make
</code></pre>
<p>I believe this is more or less standard, as it avoids cluttering the source tree with build artifacts, and allows to build multiple configurations from the same source tree. The build instructions in the README seem to be for an in-tree build, so I was wondering if it is possible to do an out-of-tree build.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:00 UTC
    </footer>
</body>
</html>
