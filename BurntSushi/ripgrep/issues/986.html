<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rg miss some file in windows  - BurntSushi/ripgrep #986</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>rg miss some file in windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/986">#986</a>
        opened by <a href="https://github.com/fcying">@fcying</a>
        on 2018-07-20 03:12
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/fcying">@fcying</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>ripgrep 0.8.1 (rev c8e9f25b85)
-SIMD -AVX</p>
How did you install ripgrep?
<p>Github binary releases <code>ripgrep-0.8.1-x86_64-pc-windows-msvc.zip</code></p>
What operating system are you using ripgrep on?
<p>windows 10</p>
Describe your question, feature request, or bug.
<p>in the test file, rg can&#x27;t search all result in win10(sometimes work fine), but it work fine in linux.</p>
If this is a bug, what are the steps to reproduce the behavior?
<pre><code>cd test_rg
rg -i test_rg
rg -i test_rg
</code></pre>
<p><img src="https://user-images.githubusercontent.com/106934/42981188-892496a6-8c0d-11e8-8142-301b97a570d5.png" alt="image"></p>
If this is a bug, what is the actual behavior?
<p>Show the command you ran and the actual output. Include the <code>--debug</code> flag in</p>
<pre><code> rg -i test_rg --debug
DEBUG/grep::search/grep\src\search.rs:195: regex ast:
Literal {
    chars: [
        &#x27;t&#x27;,
        &#x27;e&#x27;,
        &#x27;s&#x27;,
        &#x27;t&#x27;,
        &#x27;_&#x27;,
        &#x27;r&#x27;,
        &#x27;g&#x27;
    ],
    casei: true
}
DEBUG/grep::literals/grep\src\literals.rs:79: required literals found: [Cut(TEST_), Cut(tEST_), Cut(TeST_), Cut(teST_), Cut(TEsT_), Cut(tEsT_), Cut(TesT_), Cut(tesT_), Cut(TEſT_), Cut(tEſT_), Cut(TeſT_), Cut(teſT_), Cut(TESt_), Cut(tESt_), Cut(TeSt_), Cut(teSt_), Cut(TEst_), Cut(tEst_), Cut(Test_), Cut(test_), Cut(TEſt_), Cut(tEſt_), Cut(Teſt_), Cut(teſt_)]
</code></pre>
If this is a bug, what is the expected behavior?
<p>search correct</p>
<p><a href="https://github.com/BurntSushi/ripgrep/files/2212316/test_rg.zip">test_rg.zip</a></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-21 17:11</div>
            <div class="timeline-body"><p>Thanks for the bug report! This actually appears to have been fixed <em>accidentally</em> in d5139228.</p>
<p>The underlying issue here is that when using the Windows console (which is a critical piece of information you left out in your bug report), it will completely choke if you feed it arbitrary binary data. In particular, your <code>test.txt</code> file contains what appears to be latin-1 bytes:</p>
<pre><code>test_rg\xb7\xc5\r\n
</code></pre>
<p>where <code>\xB7\xC5</code> is not valid UTF-8. ripgrep passes this through to the console as-is, which Windows then chokes on. Now, ripgrep does actually account for this and will automatically replace invalid UTF-8 sequences in its output with the Unicode replacement character, which makes Windows happy. The issue here is that you were hitting a particular code path where this lossy transcoding wasn&#x27;t getting trigger.</p>
<p>The reason why this appeared non-deterministic to you is because ripgrep dies (apparently there is no error from Windows?) as soon as it tries to write invalid UTF-8, which may or may not come before your <code>aaa/aaa.txt</code> file, depending on the order of directory traversal, which is itself non-deterministic.</p>
<p>Commit d5139228 seems to have straightened out the use of the lossy transcoding, so your example works fine on master.</p>
<p>For a more immediate work-around, if you use <code>-j1</code> to ripgrep, then it should always perform lossy transcoding (although it will limit execution to a single thread).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-21 17:11</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-07-21 17:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fcying">@fcying</a> on 2018-07-22 04:57</div>
            <div class="timeline-body"><p>I build the last version, it work fine, thanks a lot.</p>
<p>BTW:
Why I can&#x27;t build a msvc version, build gnu version ok.</p>
<pre><code>cargo 1.27.0 (1e95190e5 2018-05-27)
d:\tool\source\ripgrep&gt;cargo build --release --verbose
   Compiling winapi v0.3.5
       Fresh libc v0.2.42
       Fresh void v1.0.2
       Fresh ucd-util v0.1.1
     Running `rustc --crate-name build_script_build d:\workspace\cargo\registry\src\github.com-1ecc6299db9ec823\winapi-0.3.5\build.rs --crate-type bin --emit=dep-info,link -C opt-level=3 -C debuginfo=2 --cfg &quot;feature=\&quot;basetsd\&quot;&quot; --cfg &quot;feature=\&quot;consoleapi\&quot;&quot; --cfg &quot;feature=\&quot;errhandlingapi\&quot;&quot; --cfg &quot;feature=\&quot;fileapi\&quot;&quot; --cfg &quot;feature=\&quot;handleapi\&quot;&quot; --cfg &quot;feature=\&quot;memoryapi\&quot;&quot; --cfg &quot;feature=\&quot;minwinbase\&quot;&quot; --cfg &quot;feature=\&quot;minwindef\&quot;&quot; --cfg &quot;feature=\&quot;processenv\&quot;&quot; --cfg &quot;feature=\&quot;std\&quot;&quot; --cfg &quot;feature=\&quot;sysinfoapi\&quot;&quot; --cfg &quot;feature=\&quot;winbase\&quot;&quot; --cfg &quot;feature=\&quot;wincon\&quot;&quot; --cfg &quot;feature=\&quot;winnt\&quot;&quot; -C metadata=22a1e8202eb73949 -C extra-filename=-22a1e8202eb73949 --out-dir d:\tool\source\ripgrep\target\release\build\winapi-22a1e8202eb73949 -L dependency=d:\tool\source\ripgrep\target\release\deps --cap-lints allow`
   Compiling regex v1.0.2
       Fresh unicode-width v0.1.5
       Fresh lazy_static v1.0.2
     Running `rustc --crate-name build_script_build d:\workspace\cargo\registry\src\github.com-1ecc6299db9ec823\regex-1.0.2\build.rs --crate-type bin --emit=dep-info,link -C opt-level=3 -C debuginfo=2 --cfg &quot;feature=\&quot;default\&quot;&quot; --cfg &quot;feature=\&quot;use_std\&quot;&quot; -C metadata=eebceb7273847fb6 -C extra-filename=-eebceb7273847fb6 --out-dir d:\tool\source\ripgrep\target\release\build\regex-eebceb7273847fb6 -L dependency=d:\tool\source\ripgrep\target\release\deps --cap-lints allow`
       Fresh utf8-ranges v1.0.0
       Fresh bitflags v1.0.3
       Fresh strsim v0.7.0
       Fresh cfg-if v0.1.4
       Fresh fnv v1.0.6
       Fresh crossbeam v0.3.2
       Fresh bytecount v0.3.1
       Fresh memchr v2.0.1
       Fresh num_cpus v1.8.0
       Fresh unreachable v1.0.0
       Fresh regex-syntax v0.6.2
       Fresh textwrap v0.10.0
       Fresh log v0.4.3
       Fresh encoding_rs v0.8.4
       Fresh aho-corasick v0.6.6
       Fresh thread_local v0.3.5
       Fresh encoding_rs_io v0.1.0
error: linking with `C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools\VC\Tools\MSVC\14.14.26428\bin\HostX86\x86\link.exe` failed: exit code: 1181
  |
  = note: &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.14.26428\\bin\\HostX86\\x86\\link.exe&quot; &quot;/NOLOGO&quot; &quot;/NXCOMPAT&quot; &quot;/LIBPATH:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build0-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build1-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build10-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build11-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build12-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build13-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build14-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build15-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build2-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build3-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build4-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build5-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build6-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build7-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build8-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.build_script_build9-c9f0661f2293fff6a17a81700813ad07.rs.rcgu.o&quot; &quot;/OUT:d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.exe&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\regex-eebceb7273847fb6\\build_script_build-eebceb7273847fb6.crate.allocator.rcgu.o&quot; &quot;/OPT:REF,ICF&quot; &quot;/DEBUG&quot; &quot;/NATVIS:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\etc\\intrinsic.natvis&quot; &quot;/NATVIS:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\etc\\liballoc.natvis&quot; &quot;/NATVIS:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\etc\\libcore.natvis&quot; &quot;/LIBPATH:d:\\tool\\source\\ripgrep\\target\\release\\deps&quot; &quot;/LIBPATH:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libstd-76a5f3e41ba6c505.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libpanic_unwind-34df5d829dd859de.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libunwind-59e47e91e69cda4a.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\liblibc-8cda3d10ee6838de.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\liballoc_system-43af5dd0fb31ce12.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\liballoc-d398901ac58ea1e0.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libcore-d27467c8bff46509.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libcompiler_builtins-bd7b37332e08a54d.rlib&quot; &quot;advapi32.lib&quot; &quot;ws2_32.lib&quot; &quot;userenv.lib&quot; &quot;shell32.lib&quot; &quot;msvcrt.lib&quot;
  = note: Non-UTF-8 output: LINK : fatal error LNK1181: \xce\xde\xb7\xa8\xb4\xf2\xbf\xaa\xca\xe4\xc8\xeb\xce\xc4\xbc\xfe\xa1\xb0advapi32.lib\xa1\xb1\r\n

error: aborting due to previous error

error: Could not compile `regex`.

Caused by:
  process didn&#x27;t exit successfully: `rustc --crate-name build_script_build d:\workspace\cargo\registry\src\github.com-1ecc6299db9ec823\regex-1.0.2\build.rs --crate-type bin --emit=dep-info,link -C opt-level=3 -C debuginfo=2 --cfg feature=&quot;default&quot; --cfg feature=&quot;use_std&quot; -C metadata=eebceb7273847fb6 -C extra-filename=-eebceb7273847fb6 --out-dir d:\tool\source\ripgrep\target\release\build\regex-eebceb7273847fb6 -L dependency=d:\tool\source\ripgrep\target\release\deps --cap-lints allow` (exit code: 101)
warning: build failed, waiting for other jobs to finish...
error: linking with `C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools\VC\Tools\MSVC\14.14.26428\bin\HostX86\x86\link.exe` failed: exit code: 1181
  |
  = note: &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.14.26428\\bin\\HostX86\\x86\\link.exe&quot; &quot;/NOLOGO&quot; &quot;/NXCOMPAT&quot; &quot;/LIBPATH:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build0-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build1-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build10-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build11-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build12-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build13-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build14-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build15-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build2-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build3-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build4-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build5-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build6-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build7-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build8-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.build_script_build9-5331de561096bfdc12b4afaa7b30e3f1.rs.rcgu.o&quot; &quot;/OUT:d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.exe&quot; &quot;d:\\tool\\source\\ripgrep\\target\\release\\build\\winapi-22a1e8202eb73949\\build_script_build-22a1e8202eb73949.crate.allocator.rcgu.o&quot; &quot;/OPT:REF,ICF&quot; &quot;/DEBUG&quot; &quot;/NATVIS:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\etc\\intrinsic.natvis&quot; &quot;/NATVIS:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\etc\\liballoc.natvis&quot; &quot;/NATVIS:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\etc\\libcore.natvis&quot; &quot;/LIBPATH:d:\\tool\\source\\ripgrep\\target\\release\\deps&quot; &quot;/LIBPATH:D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libstd-76a5f3e41ba6c505.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libpanic_unwind-34df5d829dd859de.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libunwind-59e47e91e69cda4a.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\liblibc-8cda3d10ee6838de.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\liballoc_system-43af5dd0fb31ce12.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\liballoc-d398901ac58ea1e0.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libcore-d27467c8bff46509.rlib&quot; &quot;D:\\jason\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\lib\\libcompiler_builtins-bd7b37332e08a54d.rlib&quot; &quot;advapi32.lib&quot; &quot;ws2_32.lib&quot; &quot;userenv.lib&quot; &quot;shell32.lib&quot; &quot;msvcrt.lib&quot;
  = note: Non-UTF-8 output: LINK : fatal error LNK1181: \xce\xde\xb7\xa8\xb4\xf2\xbf\xaa\xca\xe4\xc8\xeb\xce\xc4\xbc\xfe\xa1\xb0advapi32.lib\xa1\xb1\r\n

error: aborting due to previous error

error: Could not compile `winapi`.

Caused by:
  process didn&#x27;t exit successfully: `rustc --crate-name build_script_build d:\workspace\cargo\registry\src\github.com-1ecc6299db9ec823\winapi-0.3.5\build.rs --crate-type bin --emit=dep-info,link -C opt-level=3 -C debuginfo=2 --cfg feature=&quot;basetsd&quot; --cfg feature=&quot;consoleapi&quot; --cfg feature=&quot;errhandlingapi&quot; --cfg feature=&quot;fileapi&quot; --cfg feature=&quot;handleapi&quot; --cfg feature=&quot;memoryapi&quot; --cfg feature=&quot;minwinbase&quot; --cfg feature=&quot;minwindef&quot; --cfg feature=&quot;processenv&quot; --cfg feature=&quot;std&quot; --cfg feature=&quot;sysinfoapi&quot; --cfg feature=&quot;winbase&quot; --cfg feature=&quot;wincon&quot; --cfg feature=&quot;winnt&quot; -C metadata=22a1e8202eb73949 -C extra-filename=-22a1e8202eb73949 --out-dir d:\tool\source\ripgrep\target\release\build\winapi-22a1e8202eb73949 -L dependency=d:\tool\source\ripgrep\target\release\deps --cap-lints allow` (exit code: 101)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/fcying">@fcying</a> on 2018-07-22 06:14</div>
            <div class="timeline-body"><p>My fault, after install win10 sdk, it can be build with msvc</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:06 UTC
    </footer>
</body>
</html>
