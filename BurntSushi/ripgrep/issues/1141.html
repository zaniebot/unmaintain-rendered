<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ignore: Please update crossbeam-channel dependencies to 0.3 - BurntSushi/ripgrep #1141</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ignore: Please update crossbeam-channel dependencies to 0.3</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1141">#1141</a>
        opened by <a href="https://github.com/sylvestre">@sylvestre</a>
        on 2018-12-14 14:44
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sylvestre">@sylvestre</a></div>
            <div class="timeline-body"><p>ignore uses crossbeam-channel 0.2 currently ( https://github.com/BurntSushi/ripgrep/tree/master/ignore )
it would make the life of distro if it could use the most recent upstream release (0.3.2) instead.
Currently, ignore fails with this version with:</p>
<blockquote>
<p>error[E0308]: mismatched types<br />
--&gt; src/walk.rs:1449:17<br />
|<br />
1449 |                 Some(Message::Work(work)) =&gt; {<br />
|                 ^^^^^^^^^^^^^^^^^^^^^^^^^ expected enum <code>std::result::Result</code>, found enum <code>std::option::Option</code><br />
|<br />
= note: expected type <code>std::result::Result&lt;walk::Message, channel::TryRecvError&gt;</code><br />
found type <code>std::option::Option&lt;_&gt;</code><br />
error[E0308]: mismatched types<br />
--&gt; src/walk.rs:1454:17<br />
|<br />
1454 |                 Some(Message::Quit) =&gt; {<br />
|                 ^^^^^^^^^^^^^^^^^^^ expected enum <code>std::result::Result</code>, found enum <code>std::option::Option</code><br />
|<br />
= note: expected type <code>std::result::Result&lt;walk::Message, channel::TryRecvError&gt;</code><br />
found type <code>std::option::Option&lt;_&gt;</code><br />
error[E0308]: mismatched types<br />
--&gt; src/walk.rs:1485:17<br />
|<br />
1485 |                 None =&gt; {<br />
|                 ^^^^ expected enum <code>std::result::Result</code>, found enum <code>std::option::Option</code><br />
|<br />
= note: expected type <code>std::result::Result&lt;walk::Message, channel::TryRecvError&gt;</code><br />
found type <code>std::option::Option&lt;_&gt;</code><br />
error: aborting due to 3 previous errors</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @BurntSushi on 2018-12-14 14:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/igor-raits">@igor-raits</a> on 2018-12-15 10:07</div>
            <div class="timeline-body"><p>We need this for Fedora asap too :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-15 12:35</div>
            <div class="timeline-body"><p>Could someone help me understand why this is time sensitive? Getting this
fixed on master in a reasonable amount of time seems okay, but that doesn't
mean I'm going to also then put out a new release. Releases are a lot of
work, and I cannot be beholded to a release process whose schedule is
dictated by the new release of a dependency.</p>
<p>On Sat, Dec 15, 2018, 05:07 Igor Gnatenko &lt;notifications@github.com wrote:</p>
<blockquote>
<p>We need this for Fedora asap too :)</p>
<p>—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/1141#issuecomment-447556307">https://github.com/BurntSushi/ripgrep/issues/1141#issuecomment-447556307</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AAb34p9NCrh4YrAKsbW_d65tLPdSC57Wks5u5MnMgaJpZM4ZTpzO">https://github.com/notifications/unsubscribe-auth/AAb34p9NCrh4YrAKsbW_d65tLPdSC57Wks5u5MnMgaJpZM4ZTpzO</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/igor-raits">@igor-raits</a> on 2018-12-15 12:38</div>
            <div class="timeline-body"><p>Because we would like to avoid supporting multiple versions of dependencies.</p>
<p>Also I'm not asking for release -- I'll simply backport patch into Fedora.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-15 13:07</div>
            <div class="timeline-body"><p>@sylvestre - Is that true for you as well? You don't need a release?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sylvestre">@sylvestre</a> on 2018-12-15 13:33</div>
            <div class="timeline-body"><p>Correct, I already uploaded ignore with this pr</p>
<p>Le sam. 15 déc. 2018 à 14:08, Andrew Gallant <a href="mailto:notifications@github.com">notifications@github.com</a> a
écrit :</p>
<blockquote>
<p>@sylvestre <a href="https://github.com/sylvestre">https://github.com/sylvestre</a> - Is that true for you as well?
You don't need a release?</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/1141#issuecomment-447567232">https://github.com/BurntSushi/ripgrep/issues/1141#issuecomment-447567232</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AAswjqEz-JTXJaitTbrpx-uSbt3wBwt0ks5u5PQxgaJpZM4ZTpzO">https://github.com/notifications/unsubscribe-auth/AAswjqEz-JTXJaitTbrpx-uSbt3wBwt0ks5u5PQxgaJpZM4ZTpzO</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2018-12-15 13:44</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-15 13:44</div>
            <div class="timeline-body"><p>OK, this should be all set. I did the fix myself since this wasn't quite right and cleaned up a few other things. I've also put my changes to <code>ignore</code> on crates.io in <code>0.4.5</code>. Thanks!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:46 UTC
    </footer>
</body>
</html>
