<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color replacements when using --replace - BurntSushi/ripgrep #521</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Color replacements when using --replace</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/521">#521</a>
        opened by <a href="https://github.com/lydell">@lydell</a>
        on 2017-06-17 12:24
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lydell">@lydell</a></div>
            <div class="timeline-body"><p>ripgrep colors matches in red (by default). That's very useful.</p>
<p>When using the <code>--replace</code> option, I would find it very useful if the replacements were colored. Currently, nothing is colored (except file paths and line numbers of course).</p>
<p>Here's a screenshot showing what I mean:</p>
<p><img src="https://user-images.githubusercontent.com/2142817/27252839-4bf37a2e-5368-11e7-9f66-5adf9f90a67e.png" alt="screenshot from 2017-06-17 14-21-23" /></p>
<p>And here's a text sketch:</p>
<pre><code>$ cat test
exponential notation: 123e4
another example: 42e-10
$ rg '(\d+)e' --replace '${1}E' test
1:exponential notation: &lt;color&gt;123E&lt;/color&gt;4
2:another example: &lt;color&gt;42E&lt;/color&gt;-10
</code></pre>
<p>What do you think?</p>
<p>(By the way, thank you very much for ripgrep. It's excellent.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @BurntSushi on 2017-06-17 13:11</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-17 13:12</div>
            <div class="timeline-body"><p>Agreed. I like it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-06-19 11:21</div>
            <div class="timeline-body"><p>Maybe a new colour spec? So you could do like <code>--colors 'replace:fg:red'</code> (with the default being identical to the default <code>match</code> spec)?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-06-19 11:26</div>
            <div class="timeline-body"><p>@okdana I'd rather not add a new color spec. We should just use the existing <code>match</code> spec. When <code>-r/--replace</code> is used, all matches are replaced, so there's never a need to distinguish between the replacement color and the match color.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-06-19 11:27</div>
            <div class="timeline-body"><p>Fair.</p>
<p>I was thinking there would be some cases where you didn't want colouring, like when your replacement affects the entire line, but on balance an additional colour spec doesn't really help you there. If you ever have a situation like that where don't want the colours, you'll still have to pass <code>--colors</code> to disable them, and if you're doing that anyway you can just as well turn off <code>match</code>.</p>
<p>I retract my suggestion</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-10-08 12:01</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:12 UTC
    </footer>
</body>
</html>
