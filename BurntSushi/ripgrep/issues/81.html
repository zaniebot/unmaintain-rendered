<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usage with vim/neovim and fzf.vim - BurntSushi/ripgrep #81</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Usage with vim/neovim and fzf.vim</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/81">#81</a>
        opened by <a href="https://github.com/chopfitzroy">@chopfitzroy</a>
        on 2016-09-25 09:37
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/chopfitzroy">@chopfitzroy</a></div>
            <div class="timeline-body"><p>I am trying to set this up with <a href="https://github.com/junegunn/fzf.vim">fzf.vim</a> and as per this <a href="https://github.com/junegunn/fzf.vim/pull/36#issuecomment-249406310">comment</a> <code>rg</code> does not seem to currently work.</p>
<p>I was hoping you would have some insight into this?</p>
<p>Cheers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from "Usage with vim/neovim" to "Usage with vim/neovim and fzf.vim" by @chopfitzroy on 2016-09-25 09:38</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/junegunn">@junegunn</a> on 2016-09-25 10:39</div>
            <div class="timeline-body"><p>Another problem I noticed is this:</p>
<img width="341" alt="rg-column" src="https://cloud.githubusercontent.com/assets/700826/18814749/b520b9e4-8357-11e6-8d25-6c9a8da610ed.png">

<p>I don't think it's intentional?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mengelbrecht">@mengelbrecht</a> on 2016-09-25 11:13</div>
            <div class="timeline-body"><p>You mean the missing line numbers? If the output is not to a tty the parameter for line numbers -n has to be explicitly specified.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 12:49</div>
            <div class="timeline-body"><p>Yes, it is intentional. When searching at a tty, line numbers, headings and colors are enabled by default. Otherwise, the default format is the same as <code>git grep</code>.</p>
<p>I otherwise don't know what the problem is here. Could you please describe it in more detail?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/junegunn">@junegunn</a> on 2016-09-25 13:02</div>
            <div class="timeline-body"><p>I see, so then it's not a problem. The issue we have is that the output of rg (0.1.17) is not captured by <code>system()</code> function of vim unlike grep or ag.</p>
<pre><code class="language-vim">:echo system('ag foo')
:echo system('grep foo *')

:echo system('rg foo')
</code></pre>
<p>EDIT:</p>
<pre><code class="language-sh">ag foo &lt; /dev/null
grep foo * &lt; /dev/null
rg foo &lt; /dev/null
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 14:21</div>
            <div class="timeline-body"><p>I think <code>rg</code> and <code>grep</code> actually have the same behavior here. If you pass a file path argument, then <code>stdin</code> is ignored. The issue here is what happens when no path is given. Here's an illustration:</p>
<pre><code>$ echo PM_RESUME | ag PM_RESUME | wc -l
1
$ ag PM_RESUME &lt; /dev/null | wc -l
16
$ echo PM_RESUME | rg PM_RESUME | wc -l
1
$ rg PM_RESUME &lt; /dev/null | wc -l
0
</code></pre>
<p>I bet this is the same bug that's being seen in #35.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 15:13</div>
            <div class="timeline-body"><p>Hooray, this is indeed a dupe of #35! Fixing this fixes that too.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 15:15</div>
            <div class="timeline-body"><p>Weird. Github didn't close this. Fixed in ab0d1c1c797c0464ad4fcdfc641bcf88f9ade304.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2016-09-25 15:15</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chopfitzroy">@chopfitzroy</a> on 2016-09-25 20:26</div>
            <div class="timeline-body"><p>So just to clarify does <code>rg</code> need to be invoked with <code>--column</code> or <code>--no-heading</code> for this to now work?</p>
<p>Going of #35..?</p>
<p>Cheers.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 20:30</div>
            <div class="timeline-body"><p>@CrashyBang I don't think the problem has actually been explained to me, but I imagine you'd want <code>rg --no-heading --vimgrep</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chopfitzroy">@chopfitzroy</a> on 2016-09-25 20:49</div>
            <div class="timeline-body"><p>Hey @BurntSushi okay sweet will go over as soon as I am home from work will let you know how it goes hoping to do a write up on medium <code>rg</code> has already massively supercharged my workflow.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-09-25 20:56</div>
            <div class="timeline-body"><p>@CrashyBang glad to hear it! Please send a link over if you do that write up. :-) (I'd also be happy to read a draft.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chopfitzroy">@chopfitzroy</a> on 2016-09-26 06:17</div>
            <div class="timeline-body"><p>Hey @BurntSushi write up here: https://medium.com/@crashybang/supercharge-vim-with-fzf-and-ripgrep-d4661fc853d2 sorry wanted to get it up but still making tweaks if needed.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/junegunn">@junegunn</a> on 2016-09-26 06:46</div>
            <div class="timeline-body"><p>@CrashyBang I would advise against suggesting <code>-i</code> and <code>-e</code> as the default. fzf by default performs smart-case matching which is really handy with CamelCase files. <code>-i</code> disables that and makes the search always case-insensitive. You might also want to experiment without <code>-e</code> especially because of <a href="https://github.com/junegunn/fzf/issues/638">the new scoring mechanism</a> introduced in 0.15.0.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/chopfitzroy">@chopfitzroy</a> on 2016-09-26 06:57</div>
            <div class="timeline-body"><p>Hey @junegunn noted and removed :).</p>
<p>Otherwise it is okay?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:41:41 UTC
    </footer>
</body>
</html>
