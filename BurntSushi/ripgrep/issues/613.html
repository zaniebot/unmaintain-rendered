<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garbled output on some incorrect regexes - BurntSushi/ripgrep #613</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Garbled output on some incorrect regexes</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/613">#613</a>
        opened by <a href="https://github.com/lheckemann">@lheckemann</a>
        on 2017-09-24 11:26
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lheckemann">@lheckemann</a></div>
            <div class="timeline-body"><p><code>rg &#x27;[^\t ]+\s*{$&#x27;</code> (bad regex: I meant <code>\{</code> instead of <code>{</code>) outputs…</p>
<pre><code> - or parsing regex near &#x27;]+\s*{$&#x27; at character offset 10: Invalid application of repetition operator to: &#x27;(?u:[        -
-
 -  -  -  -  -  - 　-　])*&#x27;.
</code></pre>
<p>I&#x27;m very confused!</p>
<pre><code>$ rg &#x27;[^\t ]+\s*{$&#x27; 2&gt;&amp;1 | hexdump -C
00000000  45 72 72 6f 72 20 70 61  72 73 69 6e 67 20 72 65  |Error parsing re|
00000010  67 65 78 20 6e 65 61 72  20 27 5d 2b 5c 73 2a 7b  |gex near &#x27;]+\s*{|
00000020  24 27 20 61 74 20 63 68  61 72 61 63 74 65 72 20  |$&#x27; at character |
00000030  6f 66 66 73 65 74 20 31  30 3a 20 49 6e 76 61 6c  |offset 10: Inval|
00000040  69 64 20 61 70 70 6c 69  63 61 74 69 6f 6e 20 6f  |id application o|
00000050  66 20 72 65 70 65 74 69  74 69 6f 6e 20 6f 70 65  |f repetition ope|
00000060  72 61 74 6f 72 20 74 6f  3a 20 27 28 3f 75 3a 5b  |rator to: &#x27;(?u:[|
00000070  09 2d 0d 20 2d 20 c2 85  2d c2 85 c2 a0 2d c2 a0  |.-. - ..-....-..|
00000080  e1 9a 80 2d e1 9a 80 e2  80 80 2d e2 80 8a e2 80  |...-......-.....|
00000090  a8 2d e2 80 a9 e2 80 af  2d e2 80 af e2 81 9f 2d  |.-......-......-|
000000a0  e2 81 9f e3 80 80 2d e3  80 80 5d 29 2a 27 2e 0a  |......-...])*&#x27;..|
000000b0
</code></pre>
<p>this looks like the kind of thing you&#x27;d get with memory corruption, but this is Rust so I really don&#x27;t know what&#x27;s going on here… Can anyone enlighten me?</p>
<pre><code>$ rg --version
ripgrep 0.6.0
-AVX -SIMD
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-09-24 12:41</div>
            <div class="timeline-body"><blockquote>
<p>this looks like the kind of thing you&#x27;d get with memory corruption</p>
</blockquote>
<p>Nah, it&#x27;s just a misformatted error message. This is actually a dupe of #395. Thanks for the report though!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-09-24 12:41</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">duplicate</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-09-24 12:41</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:04 UTC
    </footer>
</body>
</html>
