<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provide a Python API - BurntSushi/ripgrep #165</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Provide a Python API</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/165">#165</a>
        opened by <a href="https://github.com/libratiger">@libratiger</a>
        on 2016-10-11 15:07
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/libratiger">@libratiger</a></div>
            <div class="timeline-body"><p>The ripgrep is really awesome, If we can offer a Python API, maybe we can use ripgrep in a Wider area.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Renamed from &quot;Offer the Python API&quot; to &quot;Provide a Python API&quot; by <a href="https://github.com/libratiger">@libratiger</a> on 2016-10-11 15:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-11 16:34</div>
            <div class="timeline-body"><p>I agree this would be very cool. Not even that, it should be eminently possible as well. <a href="https://github.com/davidblewett/regex/tree/rure-python/regex-capi/src/python">Someone is already working on a Python API for Rust&#x27;s regex library.</a></p>
<p>With that said, the amount of work required to do this is quite a lot. It requires splitting everything out into a library, writing C interfaces and then writing idiomatic Python bindings. It&#x27;s unlikely something I&#x27;ll ever do personally, although I&#x27;d be happy to support such an effort.</p>
<p>I&#x27;d like to close this because this comes too far down on the side of wishlist as opposed to something that&#x27;s likely to get worked on within the next <em>year</em>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-11 16:34</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/h5rdly">@h5rdly</a> on 2016-12-25 19:55</div>
            <div class="timeline-body"><p>Hi,</p>
<p>I have no understanding of Rust, but does this bindings library perhaps allow for the task you described to be easier? It would be very useful to have a Python api to use rg</p>
<p>https://github.com/dgrunwald/rust-cpython</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-12-26 17:26</div>
            <div class="timeline-body"><p>@h5rdly I&#x27;m aware of that work and it doesn&#x27;t necessarily make it easier. It depends on how you want to build the bindings. For example, if you use <code>cffi</code>, then I don&#x27;t think there&#x27;s any place for using something like <code>rust-cpython</code>. You can see how the regex bindings work here: https://github.com/davidblewett/rure-python/tree/master/rure</p>
<p>The hard work here is in crafting the C API, writing tests for it and then building a Pythonic interface to them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/h5rdly">@h5rdly</a> on 2016-12-29 07:02</div>
            <div class="timeline-body"><p>That seems like a pain. I think bindings would allow a much wider use of rg, especially because it&#x27;s cross platform already, but I can hardly press the matter :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-12-29 14:17</div>
            <div class="timeline-body"><p>Moreover, libripgrep isn&#x27;t finished yet, so creating bindings to it today would be fruitless.</p>
<p>Once libripgrep is done, this is a task i would be willing to mentor.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-12-29 14:19</div>
            <div class="timeline-body"><p>In the mean time, consider a lower tech solution: running the rg executable and parsing the results. It wouldn&#x27;t be too hard to write a library for it!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/h5rdly">@h5rdly</a> on 2016-12-30 16:38</div>
            <div class="timeline-body"><p>I figured the same, didn&#x27;t want to say anything until I actually start :)</p>
<p>This is for a file manager I&#x27;m writing to teach myself python, and thought it&#x27;d be nice to have a powerful cross platform search tool as a backend. I&#x27;m just figuring out the basics, so this is a little down the road.</p>
<p>I did put some thought into how I want to approach it, which is why I&#x27;m trying to convince @gpshead, the maintainer of subprocess32, to backport run(), which seems like a much more convenient function to work with than Popen() -
https://docs.python.org/3/library/subprocess.html#subprocess.run</p>
<p>so that such code is Python 2/3 compatible. Would be awesome if you could chime in.
<a href="https://github.com/google/python-subprocess32/issues/17">google/python-subprocess32#17</a></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:01 UTC
    </footer>
</body>
</html>
