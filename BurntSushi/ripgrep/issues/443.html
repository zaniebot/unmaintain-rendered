<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>specify and implement behavior for combining --only-matching with --replace - BurntSushi/ripgrep #443</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>specify and implement behavior for combining --only-matching with --replace</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/443">#443</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2017-04-10 10:40
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>@kpp writes:</p>
<p>How about:</p>
<pre><code>$ rg &#x27;(?P&lt;first&gt;[A-Z][a-z]+)\s+(?P&lt;last&gt;[A-Z][a-z]+)&#x27;  tests/test.txt -o
7:Baker Street
</code></pre>
<pre><code>$ rg &#x27;(?P&lt;first&gt;[A-Z][a-z]+)\s+(?P&lt;last&gt;[A-Z][a-z]+)&#x27;  tests/test.txt -o --replace &#x27;$last, $first&#x27;
7:Street, Baker
</code></pre>
<hr>
<p>@mernen writes:</p>
<p>Guess someone beat me to implementing <code>-o</code>! (Which is fair, I’ve been postponing this since January)</p>
<p>So, as I mentioned in #308, I think the best combination for <code>--only-matching</code> and <code>--replace</code> would be an approximation of Ack’s <code>--output</code>: perform a replace on the matched part, and output only the result of the replacement, not anything else on the line. If there are multiple matches on a single line, output multiple lines. Same as on @kpp’s last comment, if I understood it correctly.</p>
<hr>
<p>See also #422</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-10 10:40</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-10 10:40</div>
            <div class="timeline-body"><p>Note that this still needs a specification. Ideally, the specification is in the form of <strong>user facing documentation</strong>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-10-22 01:49</div>
            <div class="timeline-body"><p>This was done in #593.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-10-22 01:49</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:04 UTC
    </footer>
</body>
</html>
