<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automatically determine an appropriate default color scheme on Windows - BurntSushi/ripgrep #248</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Automatically determine an appropriate default color scheme on Windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/248">#248</a>
        opened by <a href="https://github.com/retep998">@retep998</a>
        on 2016-11-24 23:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/retep998">@retep998</a></div>
            <div class="timeline-body"><p>By calling <code>GetConsoleScreenBufferInfoEx</code> you can inspect the <code>ColorTable</code> field to get the current 16 colors for the console. You can then do some fancy stuff using a crate like <code>palette</code> to pick colors that have sufficient contrast with the background color (convert from sRGB to CIELAB).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-11-26 03:07</div>
            <div class="timeline-body"><p>I would personally rather solve this issue by making it possible to just choose your scheme. Picking a scheme automatically seems like overengineering and just asking for trouble. See #196 for persistent config.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-11-26 03:08</div>
            <div class="timeline-body"><p>In particular, can you point to other CLI tools that implement the desired functionality?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-11-27 00:17</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-01-07 03:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sergeevabc">@sergeevabc</a> on 2017-11-05 09:44</div>
            <div class="timeline-body"><p>Some color changes happened this year, they became dull.
Is it possible to make filename and match colors more saturated to make it easier to distinguish?</p>
<p>ripgrep 0.7.0
<img src="http://images.vfl.ru/ii/1509874813/a36b32e4/19286891.png" alt=""></p>
<p>ripgrep 0.3.2
<img src="http://images.vfl.ru/ii/1509875980/5b3f2edb/19287161.png" alt=""></p>
<p>ag 2.1.0
<img src="http://images.vfl.ru/ii/1509875485/6028ac8f/19287051.png" alt=""></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-05 12:00</div>
            <div class="timeline-body"><p>@sergeevabc That question seems unrelated to this issue? Please just open new issues in that case.</p>
<p>You can change colors with the <code>--colors</code> flag. Please read the documentation. There is even a tip in the README: https://github.com/BurntSushi/ripgrep#how-do-i-make-the-output-look-like-ags</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sergeevabc">@sergeevabc</a> on 2017-11-05 13:14</div>
            <div class="timeline-body"><p>Sorry if my decision to not create a duplicate turned out to be wrong. Am not so immersed in dev to say for sure whether question is related to what was discussed earlier or not, but @retep998 dreamed about colors with sufficient contrast on Windows and that dream seemed very in line with mine.</p>
<p>I searched for Ripgrep’s documentation on colors in the past, but found none. Tip about AG’s scheme on the frontpage is too fresh to be noticed, a 2 days old commit. Nevertheless I’m looking for more saturated (or <a href="https://encrypted.google.com/search?q=contrast+tool+accessibility">accessible</a> as would my ophthalmologist, a man of science, say) Ripgrep’s defaults out of the box (it promises sane defaults after all) and not the ability to make its output look like something other grep tool with a help of poorly memorized long sequence of switches.</p>
<p>You almost had it in 0.3.2 (except for dull line numbers), but it’s gone. :disappointed:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-05 13:17</div>
            <div class="timeline-body"><blockquote>
<p>I searched for the documentation on colors in the past, but found none.</p>
</blockquote>
<p>It&#x27;s right there in the output of <code>rg --help</code>. As I said before, look for the <code>--colors</code> flag. It&#x27;s also in the man page.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:02 UTC
    </footer>
</body>
</html>
