<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rg &quot;0\.3\.11&quot; doesn't find all occurrences of &quot;0.3.11&quot; - BurntSushi/ripgrep #1131</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>rg &quot;0.3.11&quot; doesn&#x27;t find all occurrences of &quot;0.3.11&quot;</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1131">#1131</a>
        opened by <a href="https://github.com/bbarker">@bbarker</a>
        on 2018-12-02 01:35
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/bbarker">@bbarker</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<pre><code>$ rg --version
ripgrep 0.10.0
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)
</code></pre>
How did you install ripgrep?
<p>nixpkgs</p>
What operating system are you using ripgrep on?
<p>Ubuntu 18.04</p>
<pre><code>Linux brandon-750-170se 4.15.0-39-generic #42-Ubuntu SMP Tue Oct 23 15:48:01 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>
Describe your question, feature request, or bug.
<p>It seems this may be a bug: my expectation is that <code>rg &quot;0\.3\.11&quot; </code> would turn up all textual occurrences of the string &quot;0.3.11&quot;.</p>
If this is a bug, what are the steps to reproduce the behavior?
<p>Clone the repo at (note the tag): https://github.com/githwxi/ATS-Postiats/tree/v0.3.12</p>
<p>Run <code>rg &quot;0\.3\.11&quot; </code> from the root of the cloned repo at the specified tag/branch.</p>
<p>Note that several results do come up, but not the result in <code>./doc/DISTRIB/ATS-Postiats/configure.ac</code>
which has the line:</p>
<pre><code>AC_INIT([ATS2/Postiats], [0.3.11], [gmpostiats@gmail.com])       
</code></pre>
If this is a bug, what is the actual behavior?
<pre><code>$ rg &quot;0\.3\.11&quot;
CHANGES-ats2
35:0.3.11

doc/DISTRIB/ATS-Postiats/RELEASE/ats2-postiats-0.3.11-release.html
5:&lt;title&gt;ATS2-0.3.11&lt;/title&gt;
11:ats2-postiats-0.3.11:
17:ATS2-0.3.11.tgz:

doc/PROJECT/MEDIUM/ats2langweb/thePageRBodyLContent/Downloads.php
22:&lt;a href=&quot;http://sourceforge.net/projects/ats2-lang/download&quot;&gt;ATS2-0.3.11&lt;/a&gt;.
264:&lt;a href=&quot;http://sourceforge.net/projects/ats2-lang/files/ats2-lang/ats2-postiats-0.3.11/.&quot;&gt;ATS2-contrib-0.3.11&lt;/a&gt;.
320:&lt;a href=&quot;http://sourceforge.net/projects/ats2-lang/files/ats2-lang/ats2-postiats-0.3.11/.&quot;&gt;ATS2-include-0.3.11&lt;/a&gt;.

doc/PROJECT/MEDIUM/ats2langweb/thePageRBodyRight/Community.php
12:&gt;ATS2-0.3.11 has been released&lt;/a&gt;&lt;br&gt;
</code></pre>
<p>The output with <code>--debug</code> is quite large on the entire repo (or even the folder, but here is the debug output from the folder doc/DISTRIB/ATS-Postiats): https://gist.github.com/bbarker/1a3899c97ca141f5a259e172905aab00</p>
<p>I first tried to <code>cd</code> into the directory with &#x27;configure.ac&#x27; to see what was going on, and noticed while doing so that specifying the glob patter &quot;*.ac&quot; actually causes a hit:</p>
<pre><code>$ pwd
/home/brandon/workspace/ATS-Postiats/doc/DISTRIB/ATS-Postiats
$ rg &quot;0\.3\.11&quot; 
RELEASE/ats2-postiats-0.3.11-release.html
5:&lt;title&gt;ATS2-0.3.11&lt;/title&gt;
11:ats2-postiats-0.3.11:
17:ATS2-0.3.11.tgz:
$ rg &quot;0\.3\.11&quot; -g &quot;*.ac&quot; 
configure.ac
49:AC_INIT([ATS2/Postiats], [0.3.11], [gmpostiats@gmail.com])
</code></pre>
<p>Interestingly, if I move the configure.ac to a folder by itself, I get a hit without the glob:</p>
<pre><code>$ rg &quot;0\.3\.11&quot;                             
configure.ac
49:AC_INIT([ATS2/Postiats], [0.3.11], [gmpostiats@gmail.com])
</code></pre>
If this is a bug, what is the expected behavior?
<p>My expectation is that <code>rg &quot;0\.3\.11&quot; </code> would turn up all textual occurrences of the string &quot;0.3.11&quot;.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-02 01:47</div>
            <div class="timeline-body"><p>Thanks for the great bug report!</p>
<p>ripgrep automatically filters out files, such as hidden files and files matching your <code>gitignore</code>. The <code>--debug</code> output is supposed to tell you why:</p>
<pre><code>$ rg &#x27;0\.3\.11&#x27; --debug 2&gt;&amp;1 | rg -F &#x27;doc/DISTRIB/ATS-Postiats/configure.ac&#x27;
DEBUG|ignore::walk|ignore/src/walk.rs:1611: ignoring ./doc/DISTRIB/ATS-Postiats/configure.ac: Ignore(IgnoreMatch(Gitignore(Glob { from: Some(&quot;./.gitignore&quot;), original: &quot;doc/DISTRIB/ATS-Postiats/config*&quot;, actual: &quot;doc/DISTRIB/ATS-Postiats/config*&quot;, is_whitelist: false, is_only_dir: false })))
</code></pre>
<p>In this case, it&#x27;s specifically telling you that you have a rule that is causing your file to get ignored. Indeed, line 211 in your <code>.gitignore</code> is one such rule:</p>
<pre><code>doc/DISTRIB/ATS-Postiats/config*
</code></pre>
<p>You&#x27;ll want to do a read of the <a href="https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md#automatic-filtering">guide&#x27;s section on automatic filtering</a>.</p>
<p>N.B. Running <code>rg -u &quot;0\.3\.11&quot;</code> gives the output you&#x27;re looking for.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-02 01:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2018-12-02 01:47</div>
            <div class="timeline-body"><p><code>doc/DISTRIB/ATS-Postiats/config*</code> is present in <code>.gitignore</code>; you can use <code>rg -u</code> if you don&#x27;t want it to respect the rules in that file</p>
<p>Edit: Oops, sorry @BurntSushi</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-12-02 01:47</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:07 UTC
    </footer>
</body>
</html>
