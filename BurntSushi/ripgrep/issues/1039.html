<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use of --stats is supressed by other options - BurntSushi/ripgrep #1039</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Use of --stats is supressed by other options</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1039">#1039</a>
        opened by <a href="https://github.com/jamesmudd">@jamesmudd</a>
        on 2018-09-05 12:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/jamesmudd">@jamesmudd</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>ripgrep 0.9.0 (rev 6799dcfc0e)
-SIMD -AVX</p>
How did you install ripgrep?
<p>Using the Github release binary https://github.com/BurntSushi/ripgrep/releases/download/0.9.0/ripgrep-0.9.0-x86_64-unknown-linux-musl.tar.gz</p>
What operating system are you using ripgrep on?
<p>RHEL6</p>
Describe your question, feature request, or bug.
<p>If you use the <code>--stats</code> option with another option like <code>--files-with-matches</code> the stats output is suppressed.</p>
If this is a bug, what are the steps to reproduce the behavior?
<p>Just <code>--stats</code> options works fine</p>
<pre><code>$ rg my-searched-string --stats
test
1:my-searched-string

1 matched lines
1 files contained matches
1 files searched
0.021 seconds
</code></pre>
<p>with another option e.g <code>--files-with-matches</code> the stats are not printed</p>
<pre><code>$ rg my-searched-string --stats --files-with-matches
test
</code></pre>
If this is a bug, what is the actual behavior?
<pre><code>rg my-searched-string --stats --files-with-matches --debug
DEBUG/rg::config/src/config.rs:42: /home/rbl46502/.ripgreprc: arguments loaded from config file: [&quot;--max-columns=120&quot;, &quot;--type-add&quot;, &quot;mf:MANIFEST.MF&quot;, &quot;--type-add&quot;, &quot;launch:*.launch&quot;, &quot;--type-add&quot;, &quot;prop:*.properties&quot;, &quot;--type-add&quot;, &quot;eclipse:{*.prefs,.classpath,.project,build.properties}&quot;, &quot;--type-add&quot;, &quot;ant:*.ant&quot;, &quot;--hidden&quot;, &quot;--smart-case&quot;, &quot;--colors&quot;, &quot;match:fg:blue&quot;, &quot;--colors&quot;, &quot;path:fg:red&quot;, &quot;--colors&quot;, &quot;path:style:bold&quot;]
DEBUG/rg::args/src/args.rs:149: final argv: [&quot;rg&quot;, &quot;--max-columns=120&quot;, &quot;--type-add&quot;, &quot;mf:MANIFEST.MF&quot;, &quot;--type-add&quot;, &quot;launch:*.launch&quot;, &quot;--type-add&quot;, &quot;prop:*.properties&quot;, &quot;--type-add&quot;, &quot;eclipse:{*.prefs,.classpath,.project,build.properties}&quot;, &quot;--type-add&quot;, &quot;ant:*.ant&quot;, &quot;--hidden&quot;, &quot;--smart-case&quot;, &quot;--colors&quot;, &quot;match:fg:blue&quot;, &quot;--colors&quot;, &quot;path:fg:red&quot;, &quot;--colors&quot;, &quot;path:style:bold&quot;, &quot;my-searched-string&quot;, &quot;--stats&quot;, &quot;--files-with-matches&quot;, &quot;--debug&quot;]
DEBUG/grep::search/grep/src/search.rs:195: original regex HIR pattern:
[Mm][Yy]\-[Ssſ][Ee][Aa][Rr][Cc][Hh][Ee][Dd]\-[Ssſ][Tt][Rr][Ii][Nn][Gg]
DEBUG/grep::search/grep/src/search.rs:197: transformed regex HIR pattern:
[Mm][Yy]\-[Ssſ][Ee][Aa][Rr][Cc][Hh][Ee][Dd]\-[Ssſ][Tt][Rr][Ii][Nn][Gg]
DEBUG/grep::literals/grep/src/literals.rs:87: required literals found: [Cut(MY-SE), Cut(mY-SE), Cut(My-SE), Cut(my-SE), Cut(MY-sE), Cut(mY-sE), Cut(My-sE), Cut(my-sE), Cut(MY-ſE), Cut(mY-ſE), Cut(My-ſE), Cut(my-ſE), Cut(MY-Se), Cut(mY-Se), Cut(My-Se), Cut(my-Se), Cut(MY-se), Cut(mY-se), Cut(My-se), Cut(my-se), Cut(MY-ſe), Cut(mY-ſe), Cut(My-ſe), Cut(my-ſe)]
test

</code></pre>
If this is a bug, what is the expected behavior?
<p>I think the stats output should still be printed as requested</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-09-05 12:58</div>
            <div class="timeline-body"><p>This is fixed on master (much of the relevant code was rewritten and turned into libraries).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-09-05 12:58</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jamesmudd">@jamesmudd</a> on 2018-09-05 15:36</div>
            <div class="timeline-body"><p>Thanks look forward to the next release</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:07 UTC
    </footer>
</body>
</html>
