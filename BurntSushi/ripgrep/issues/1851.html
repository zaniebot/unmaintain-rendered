<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build failure due to multiple E0463 - BurntSushi/ripgrep #1851</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Build failure due to multiple E0463</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1851">#1851</a>
        opened by <a href="https://github.com/hsmyers">@hsmyers</a>
        on 2021-04-16 16:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hsmyers">@hsmyers</a></div>
            <div class="timeline-body"><h4>What operating system are you using ripgrep on?</h4>
<p>Microsoft Windows [Version 10.0.21359.1]</p>
<h4>Describe your bug.</h4>
<p>Both the Git based install and the cargo-based method fail because of multiple E0463 errors.</p>
<pre><code>hsmyers@LENNY C:\Users\hsmyers                                                                                                              
# cargo install ripgrep                                                                                                                     
    Updating crates.io index                                                                                                                
  Downloaded ripgrep v12.1.1                                                                                                                
  Downloaded 1 crate (256.5 KB) in 0.66s                                                                                                    
  Installing ripgrep v12.1.1                                                                                                                
  Downloaded base64 v0.12.3                                                                                                                 
  Downloaded byteorder v1.4.3                                                                                                               
  Downloaded bstr v0.2.15                                                                                                                   
  Downloaded encoding_rs v0.8.28                                                                                                            
  Downloaded proc-macro2 v1.0.26                                                                                                            
  Downloaded walkdir v2.3.2                                                                                                                 
  Downloaded serde_json v1.0.64                                                                                                             
  Downloaded ignore v0.4.17                                                                                                                 
  Downloaded memmap v0.7.0                                                                                                                  
  Downloaded regex v1.4.5                                                                                                                   
  Downloaded grep-matcher v0.1.4                                                                                                            
  Downloaded serde_derive v1.0.125                                                                                                          
  Downloaded serde v1.0.125                                                                                                                 
  Downloaded grep-cli v0.1.5                                                                                                                
  Downloaded grep-searcher v0.1.7                                                                                                           
  Downloaded log v0.4.14                                                                                                                    
  Downloaded once_cell v1.7.2                                                                                                               
  Downloaded syn v1.0.69                                                                                                                    
  Downloaded quote v1.0.9                                                                                                                   
  Downloaded thread_local v1.1.3                                                                                                            
  Downloaded crossbeam-utils v0.8.3                                                                                                         
  Downloaded globset v0.4.6                                                                                                                 
  Downloaded grep-printer v0.1.5                                                                                                            
  Downloaded grep-regex v0.1.8                                                                                                              
  Downloaded libc v0.2.93                                                                                                                   
  Downloaded grep v0.2.7                                                                                                                    
  Downloaded 26 crates (3.5 MB) in 3.17s (largest was `encoding_rs` at 1.4 MB)                                                              
   Compiling winapi-x86_64-pc-windows-gnu v0.4.0                                                                                            
   Compiling memchr v2.3.4                                                                                                                  
   Compiling winapi v0.3.9                                                                                                                  
   Compiling cfg-if v1.0.0                                                                                                                  
error[E0463]: can't find crate for `std`                                                                                                    
                                                                                                                                            
error: aborting due to previous error                                                                                                       
                                                                                                                                            
For more information about this error, try `rustc --explain E0463`.                                                                         
error: could not compile `winapi-x86_64-pc-windows-gnu`                                                                                     
                                                                                                                                            
To learn more, run the command again with --verbose.                                                                                        
warning: build failed, waiting for other jobs to finish...                                                                                  
error[E0463]: can't find crate for `std`                                                                                                    
                                                                                                                                            
error: aborting due to previous error                                                                                                       
                                                                                                                                            
For more information about this error, try `rustc --explain E0463`.                                                                         
error[E0463]: can't find crate for `std`                                                                                                    
                                                                                                                                            
error: aborting due to previous error                                                                                                       
                                                                                                                                            
For more information about this error, try `rustc --explain E0463`.                                                                         
error[E0463]: can't find crate for `core`                                                                                                   
                                                                                                                                            
error: aborting due to previous error                                                                                                       
                                                                                                                                            
For more information about this error, try `rustc --explain E0463`.                                                                         
error: failed to compile `ripgrep v12.1.1`, intermediate artifacts can be found at `C:\Users\hsmyers\AppData\Local\Temp\cargo-installBJWHQJ`
                                                                                                                                            
Caused by:                                                                                                                                  
  build failed                                                                                                                              
</code></pre>
<p>What do you think ripgrep should have done?
Should have worked.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-04-16 16:37</div>
            <div class="timeline-body"><p>It looks like something is wrong with your Rust installation to me. I don't know what it is. I've never seen that error before, and I'm not a Windows user. This definitely isn't a problem with ripgrep.</p>
<p>Please also make sure you're using the latest version of Rust stable.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2021-04-16 16:37</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> added by @BurntSushi on 2021-04-16 16:37</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-04-16 16:39</div>
            <div class="timeline-body"><p>A simple Google search seems to confirm that your installation is FUBAR:</p>
<ul>
<li>https://stackoverflow.com/questions/38041331/rust-compiler-cant-find-crate-for-std</li>
<li>https://stackoverflow.com/questions/24417183/cant-find-crate-for-std-compiler-error-with-trivial-code</li>
<li>https://github.com/rust-lang/cargo/issues/9149</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hsmyers">@hsmyers</a> on 2021-04-16 16:51</div>
            <div class="timeline-body"><p>First I did a choco install rust which executed without error. then I did
the following:</p>
<p>mkdir rust
cd rust
git clone git://github.com/BurntSushi/ripgrep
cd ripgrep
cargo build --release</p>
<p>which failed as previously shown in the second attempt to build.</p>
<p>So this problem is because of choco's error-free install?</p>
<p>On Fri, Apr 16, 2021 at 10:40 AM Andrew Gallant <em><strong>@</strong></em>.***&gt;
wrote:</p>
<blockquote>
<p>A simple Google search seems to confirm that your installation is FUBAR:</p>
<ul>
<li>https://stackoverflow.com/questions/38041331/rust-compiler-cant-find-crate-for-std</li>
<li>https://stackoverflow.com/questions/24417183/cant-find-crate-for-std-compiler-error-with-trivial-code</li>
<li>rust-lang/cargo#9149 <a href="https://github.com/rust-lang/cargo/issues/9149">https://github.com/rust-lang/cargo/issues/9149</a></li>
</ul>
<p>—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821300095">https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821300095</a>,
or unsubscribe
<a href="https://github.com/notifications/unsubscribe-auth/AAHE7PQVHYH4XLC46DJIB3DTJBR6DANCNFSM43B3ILHA">https://github.com/notifications/unsubscribe-auth/AAHE7PQVHYH4XLC46DJIB3DTJBR6DANCNFSM43B3ILHA</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-04-16 16:55</div>
            <div class="timeline-body"><p>I don't know. Try compiling some other Rust projects. If you get the same error, then it's probably an installation problem that you should report to whoever packages Rust for Choco. You might also consider using rustup instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hsmyers">@hsmyers</a> on 2021-04-16 17:08</div>
            <div class="timeline-body"><p>Just did a choco uninstall rust followed by a rustup-init.exe
<a href="https://win.rustup.rs/x86_64">https://win.rustup.rs/x86_64</a> and will try again. I'll let you know...</p>
<p>On Fri, Apr 16, 2021 at 10:55 AM Andrew Gallant <em><strong>@</strong></em>.***&gt;
wrote:</p>
<blockquote>
<p>I don't know. Try compiling some other Rust projects. If you get the same
error, then it's probably an installation problem that you should report to
whoever packages Rust for Choco. You might also consider using rustup
instead.</p>
<p>—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821309187">https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821309187</a>,
or unsubscribe
<a href="https://github.com/notifications/unsubscribe-auth/AAHE7PXKDSYQ4U2Y3CZSMATTJBTXZANCNFSM43B3ILHA">https://github.com/notifications/unsubscribe-auth/AAHE7PXKDSYQ4U2Y3CZSMATTJBTXZANCNFSM43B3ILHA</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hsmyers">@hsmyers</a> on 2021-04-16 17:33</div>
            <div class="timeline-body"><p>C:\Users\hsmyers\rust\ripgrep&gt;target\release\rg --version
ripgrep 12.1.1 (rev 92286ad4d2)
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)</p>
<p>This leads me to believe that the problem with the choco install was no
toolchain selected? But rustup makes the connection with Visual C++ and all
works as intended. You can point to this message chain as a response to
similar issues. Thanks for your time and the info. Take care.</p>
<p>On Fri, Apr 16, 2021 at 11:08 AM Hugh S. Myers <em><strong>@</strong></em>.***&gt; wrote:</p>
<blockquote>
<p>Just did a choco uninstall rust followed by a rustup-init.exe
<a href="https://win.rustup.rs/x86_64">https://win.rustup.rs/x86_64</a> and will try again. I'll let you know...</p>
<p>On Fri, Apr 16, 2021 at 10:55 AM Andrew Gallant <em><strong>@</strong></em>.***&gt;
wrote:</p>
<blockquote>
<p>I don't know. Try compiling some other Rust projects. If you get the same
error, then it's probably an installation problem that you should report to
whoever packages Rust for Choco. You might also consider using rustup
instead.</p>
<p>—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821309187">https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821309187</a>,
or unsubscribe
<a href="https://github.com/notifications/unsubscribe-auth/AAHE7PXKDSYQ4U2Y3CZSMATTJBTXZANCNFSM43B3ILHA">https://github.com/notifications/unsubscribe-auth/AAHE7PXKDSYQ4U2Y3CZSMATTJBTXZANCNFSM43B3ILHA</a>
.</p>
</blockquote>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-04-16 17:36</div>
            <div class="timeline-body"><p>Glad you got it figured out! Thanks for responding. Might be good to file a bug with Choco if you can. They might want to know that their installation is borked.</p>
<p>With that said, generally most folks just use rustup directly to build end user applications like ripgrep. Compilers maintained by distros like Choco are typically used to build Rust software shipped by that distro.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hsmyers">@hsmyers</a> on 2021-04-16 17:52</div>
            <div class="timeline-body"><p>I'll look into it. I've mostly had luck with other problems that I've
discovered. I don't yell or scream and that seems to work well when
following up on questions and such. Of course, it helps that I've been
doing this since 1975!</p>
<p>On Fri, Apr 16, 2021 at 11:36 AM Andrew Gallant <em><strong>@</strong></em>.***&gt;
wrote:</p>
<blockquote>
<p>Glad you got it figured out! Thanks for responding. Might be good to file
a bug with Choco if you can. They might want to know that their
installation is borked.</p>
<p>With that said, generally most folks just use rustup directly to build end
user applications like ripgrep. Compilers maintained by distros like Choco
are typically used to build Rust software shipped by that distro.</p>
<p>—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub
<a href="https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821330861">https://github.com/BurntSushi/ripgrep/issues/1851#issuecomment-821330861</a>,
or unsubscribe
<a href="https://github.com/notifications/unsubscribe-auth/AAHE7PQVYIZN4AIEGJVMKLTTJBYSJANCNFSM43B3ILHA">https://github.com/notifications/unsubscribe-auth/AAHE7PQVYIZN4AIEGJVMKLTTJBYSJANCNFSM43B3ILHA</a>
.</p>
</blockquote>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:21 UTC
    </footer>
</body>
</html>
