<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ripgrep's char ordering relation used for `--sort` should be case-insensitive by default - BurntSushi/ripgrep #1387</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ripgrep's char ordering relation used for <code>--sort</code> should be case-insensitive by default</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1387">#1387</a>
        opened by <a href="https://github.com/Boscop">@Boscop</a>
        on 2019-09-24 09:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Boscop">@Boscop</a></div>
            <div class="timeline-body"><h4>What version of ripgrep are you using?</h4>
<p>11.0.2</p>
<h4>How did you install ripgrep?</h4>
<p>cargo install</p>
<h4>What operating system are you using ripgrep on?</h4>
<p>openSUSE</p>
<h4>Describe your question, feature request, or bug.</h4>
<p>Ripgrep <code>--sort path</code> seems to order uppercase chars before lowercase chars, e.g. I was running <code>rg -l -i --sort path 'some pattern' &gt; results.txt</code> and the file contained <code>ClassMappings.sql</code> before <code>Classifications.sql</code> even though <code>M</code> comes after <code>i</code> in the alphabet (I even passed <code>-i</code> but I guess that's only for the actual text matching).
(Yes, I know, in ascii it's <code>ord('M') &lt; ord('i')</code>, but not in the human alphabet.)</p>
<p>Ripgrep's char ordering relation should have <code>i</code> before <code>M</code>, unless otherwise specified with a flag.
Just like the unix <code>sort</code> command does (e.g. when I pipe ripgrep's output through <code>sort</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2019-09-24 10:25</div>
            <div class="timeline-body"><blockquote>
<p>Just like the unix <code>sort</code> command does</p>
</blockquote>
<p>That isn't quite right. <code>sort</code> only does this when you have your locale set properly. When using the <code>C</code> locale, it sorts just like ripgrep:</p>
<pre><code>$ cat /tmp/ripgrep-1387
M
i

$ LC_ALL=en_US.UTF-8 sort /tmp/ripgrep-1387
i
M

$ LC_ALL=C sort /tmp/ripgrep-1387
M
i
</code></pre>
<p>ripgrep does not respect your locale settings and likely never will. Sorry.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2019-09-24 10:25</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wontfix</span> added by @BurntSushi on 2019-09-24 10:25</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Boscop">@Boscop</a> on 2019-09-24 10:52</div>
            <div class="timeline-body"><p>It doesn't have to read the locale, but it'd be nice to have the option to sort by filenames case-insensitively (ignoring the locale).
Or do you know another way how I can sort ripgrep's output by filenames case-insensitively, but keeping the output lines associated with each file ordered by original line number?
(When I pipe through <code>sort</code> and I have multiple matches per file, it changes the order of the lines for each file.)
Don't you think this is a desirable feature to have this kind of output?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Simran-B">@Simran-B</a> on 2019-10-22 12:19</div>
            <div class="timeline-body"><p>Couldn't additional parameters <code>--sorti</code> and <code>sortri</code> be added? Or another parameter value <code>path_ci</code> (or similar)?</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:01 UTC
    </footer>
</body>
</html>
