<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to use inside vim? - BurntSushi/ripgrep #425</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>How to use inside vim?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/425">#425</a>
        opened by <a href="https://github.com/Neats29">@Neats29</a>
        on 2017-03-30 09:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Neats29">@Neats29</a></div>
            <div class="timeline-body"><p>Thanks for building this, it&#x27;s very cool. Quick question, I was wondering if you could please let me know or add to the readme how to integrate this with vim. At the very least I&#x27;m interested in &#x27;search and replace&#x27; globally within a repository.</p>
<p>Thank you.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/FSMaxB">@FSMaxB</a> on 2017-03-30 09:36</div>
            <div class="timeline-body"><p>You could ask <a href="https://github.com/mileszs/ack.vim">mileszs/ack.vim</a> for integration of rg.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Neats29">@Neats29</a> on 2017-03-30 09:38</div>
            <div class="timeline-body"><p>@FSMaxB but from reading the other issues, it seems like some people are using it inside vim already, so I thought there might be a way...</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Neats29">@Neats29</a> on 2017-03-30 09:53</div>
            <div class="timeline-body"><p>My bad for not searching the internet first. There is this plugin: <a href="https://github.com/jremmen/vim-ripgrep">vim-ripgrep</a> and <a href="https://medium.com/@crashybang/supercharge-vim-with-fzf-and-ripgrep-d4661fc853d2">this article</a> for using with <a href="https://github.com/junegunn/fzf">fzf</a> :)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-03-31 11:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-03-31 11:53</div>
            <div class="timeline-body"><p>Sounds like you got your answer.</p>
<p>I wouldn&#x27;t be opposed to putting links to editor integrations in the README. But since I don&#x27;t use any of them myself, I probably won&#x27;t do it.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/ericandrewlewis">@ericandrewlewis</a> on 2017-12-07 02:01</div>
            <div class="timeline-body"><blockquote>
<p>I wouldn&#x27;t be opposed to putting links to editor integrations in the README. But since I don&#x27;t use any of them myself, I probably won&#x27;t do it.</p>
</blockquote>
<p>It took me a little to figure out how to do this. Can I open a PR with some suggested context setting for folks interested in this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-12-07 11:50</div>
            <div class="timeline-body"><p>@ericandrewlewis Yeah sure! Just put it toward the bottom of the README with the other questions. (At some point, I will split it out into a proper FAQ.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pirj">@pirj</a> on 2018-04-15 23:18</div>
            <div class="timeline-body"><p>For the future researchers:</p>
<pre><code>set grepprg=rg\ --vimgrep\ --no-heading\ --smart-case
</code></pre>
<p>works great with no other configuration required.</p>
<p>I use this mapping to open the list of the files in location list:</p>
<pre><code>nnoremap &lt;Leader&gt;g :silent lgrep&lt;Space&gt;
</code></pre>
<p>and further navigate it:</p>
<pre><code>nnoremap &lt;silent&gt; [f :lprevious&lt;CR&gt;
nnoremap &lt;silent&gt; ]f :lnext&lt;CR&gt;
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dyng">@dyng</a> on 2019-07-21 05:00</div>
            <div class="timeline-body"><p>If you don&#x27;t mind using a plugin, It&#x27;s my pleasure to recommend my plugin <a href="https://github.com/dyng/ctrlsf.vim">ctrlsf.vim</a> which integrates <code>rg</code> out of the box, and supports <strong>asynchronous searching</strong>.</p>
<p><img src="https://raw.githubusercontent.com/dyng/i/master/ctrlsf.vim/async-demo.gif" alt=""></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/jpesce">@jpesce</a> on 2020-10-01 16:15</div>
            <div class="timeline-body"><blockquote>
<p>For the future researchers:</p>
<pre><code>set grepprg=rg\ --vimgrep\ --no-heading\ --smart-case
</code></pre>
<p>works great with no other configuration required.</p>
<p>I use this mapping to open the list of the files in location list:</p>
<pre><code>nnoremap &lt;Leader&gt;g :silent lgrep&lt;Space&gt;
</code></pre>
<p>and further navigate it:</p>
<pre><code>nnoremap &lt;silent&gt; [f :lprevious&lt;CR&gt;
nnoremap &lt;silent&gt; ]f :lnext&lt;CR&gt;
</code></pre>
</blockquote>
<p>As an addendum, since this issue comes up when searching for this in search engines.
Also set the format like so: <code>set grepformat+=%f:%l:%c:%m</code>
This will make the location list understand the output format better</p>
<hr>
<p>11/01/2022: Updated <code>grepformat</code> â€” Thanks @craigmac!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/nyngwang">@nyngwang</a> on 2022-01-29 07:48</div>
            <div class="timeline-body"><blockquote>
<p>For the future researchers:</p>
<pre><code>set grepprg=rg\ --vimgrep\ --no-heading\ --smart-case
</code></pre>
<p>works great with no other configuration required.</p>
</blockquote>
<p>@pirj A noob question here: If this works, why do we need a plugin like vim-ripgrep?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/pirj">@pirj</a> on 2022-01-29 08:07</div>
            <div class="timeline-body"><blockquote>
<p>why do we need a plugin like vim-ripgrep?</p>
</blockquote>
<p>At a glance, it offers match highlighting, and configuring quickfix window location.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/craigmac">@craigmac</a> on 2022-11-01 19:21</div>
            <div class="timeline-body"><blockquote>
<p>Also set the format like so: set grepformat=%f:%l:%c:%m,%f:%l:%m
This will make the location list understand the output format better</p>
</blockquote>
<p>The second value is not needed, it&#x27;s there in the default &#x27;grepformat&#x27; string, and it&#x27;s better to only append to that value instead of overwriting it, in case you don&#x27;t have rg installed, you&#x27;ll still have a usable grepformat value, so something like:</p>
<pre><code>if executable(&#x27;rg&#x27;) | set grepformat+=%f:%l:%c:%m grepprg=rg &lt;options you prefer&gt; | endif
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/dehidehidehi">@dehidehidehi</a> on 2024-07-06 23:04</div>
            <div class="timeline-body"><p>Builing on the shoulders of what&#x27;s been posted here.
This will use the <code>grep</code> command to search for a pattern, and then will prompt you for a replacement; it prefills most of the boiler plate to issue this command; I feel it&#x27;s easier to search and replace everywhere if you have the visual confirmation (using the quickfix window) before proceeding to type the replacement.</p>
<pre><code>&quot; Handling search and replace boilerplate using ripgrep
if executable(&#x27;rg&#x27;) | set grepformat+=%f:%l:%c:%m grepprg=rg\ --vimgrep\ --no-heading\ --smart-case | endif
&quot; We use feedkeys because we don&#x27;t want to press enter at the end of this command.
command! -nargs=1 FindReplaceAll :silent grep &lt;args&gt; | copen | call feedkeys(&quot;:cdo %s/&quot; . &lt;q-args&gt; . &quot;/&quot;) | redraw!
&quot; We use feedkeys because otherwise the screen isn&#x27;t redrawn
nnoremap &lt;silent&gt; &lt;C-r&gt; :call feedkeys(&#x27;:FindReplaceAll &#x27;)&lt;CR&gt;
</code></pre>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:03 UTC
    </footer>
</body>
</html>
