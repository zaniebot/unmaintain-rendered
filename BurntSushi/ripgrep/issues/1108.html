<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>using -p option changes result output order - BurntSushi/ripgrep #1108</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>using -p option changes result output order</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1108">#1108</a>
        opened by <a href="https://github.com/calvinjtaylor">@calvinjtaylor</a>
        on 2018-11-15 17:56
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/calvinjtaylor">@calvinjtaylor</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>ripgrep 0.10.0</p>
How did you install ripgrep?
<p>brew install ripgrep</p>
What operating system are you using ripgrep on?
<p>macos</p>
Describe your question, feature request, or bug.
<p>bug, rg copy and rg -p copy change what is returned.  -p is supposed to be for pretty print, but the output is changed from default.</p>
If this is a bug, what are the steps to reproduce the behavior?
<p>the following list the commands used and the last few lines of output, which should be identical.</p>
<pre><code>rg copy
...
176:	private List&lt;String&gt; copyList(List&lt;String&gt; list)
178:		List&lt;String&gt; copy = new ArrayList&lt;String&gt;(list.size());
181:			copy.add(s);
183:		return copy;

rg -p copy
...
67:					FileUtils.copyFile( file, teplatedFile, true );
73:						&quot;Failed to copy the %s pluggablesources file to %s directory&quot;, file.getName(), teplatedFile.getAbsolutePath() );
</code></pre>
<p>The two commands should be identical except one with pretty output?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-11-15 18:39</div>
            <div class="timeline-body"><p>ripgrep&#x27;s output order is not deterministic. Try running <code>rg copy</code> multiple times. The <code>-p</code> flag is a red herring.</p>
<p>If you want a stable order, then use <code>--sort path</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-11-15 18:39</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:07 UTC
    </footer>
</body>
</html>
