<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ignore crate: Show matched FileTypeDef? - BurntSushi/ripgrep #1116</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ignore crate: Show matched FileTypeDef?</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1116">#1116</a>
        opened by <a href="https://github.com/firesock">@firesock</a>
        on 2018-11-21 00:25
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/firesock">@firesock</a></div>
            <div class="timeline-body">What version of ripgrep are you using?
<p>ignore-0.4.4</p>
How did you install ripgrep?
<p>ignore crate via crates.io</p>
What operating system are you using ripgrep on?
<p>Linux</p>
Describe your question, feature request, or bug.
<p>Is it feasible to make ignore&#x27;s <code>Walk</code> return <code>DirEntry</code>&#x27;s that are aware of the <code>FileTypeDef</code> they matched on, if any?</p>
<p>My use case is to use <code>Walk</code> to iterate and depending on the name registered with the matching <code>FileTypeDef</code> do some different logic.</p>
<p>As far as I can tell, this information isn&#x27;t accessible easily right now. Even if I used <code>Types</code> and called <code>matched</code>, the <code>Glob</code> struct doesn&#x27;t return the <code>FileTypeDef</code> and hence the name registered.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-11-21 00:29</div>
            <div class="timeline-body"><p>It should be possible to expose by adding a <code>file_type_def</code> method on <code>ignore::types::Glob</code> that returns a <code>Option&lt;&amp;FileTypeDef&gt;</code>. It is already part of the type: https://docs.rs/ignore/0.4.4/src/ignore/types.rs.html#334</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-11-21 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">help wanted</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-11-21 00:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/firesock">@firesock</a> on 2018-11-21 00:38</div>
            <div class="timeline-body"><p>Okay thanks, is the intended goal to use <code>Types</code> and <code>matched</code> after a <code>DirEntry</code> is returned, and not expose it on <code>DirEntry</code> at all?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-11-21 00:51</div>
            <div class="timeline-body"><p>If you can make that work, then I think that would be ideal. Exposing it through the directory iterator (i.e., <code>DirEntry</code>) would require more API design work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2019-01-24 01:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:07 UTC
    </footer>
</body>
</html>
