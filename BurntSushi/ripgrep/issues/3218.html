<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ignore: `{` and `}` should be literal characters, but the `ignore` crate treates them as glob character - BurntSushi/ripgrep #3218</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>ignore: <code>{</code> and <code>}</code> should be literal characters, but the <code>ignore</code> crate treates them as glob character</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/3218">#3218</a>
        opened by <a href="https://github.com/j178">@j178</a>
        on 2025-11-12 08:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/j178">@j178</a></div>
            <div class="timeline-body"><h3>Please tick this box to confirm you have reviewed the above.</h3>
<ul>
<li>[x] I have a different issue.</li>
</ul>
<h3>What version of ripgrep are you using?</h3>
<p>ignore 0.4.25</p>
<h3>How did you install ripgrep?</h3>
<p>n/a</p>
<h3>What operating system are you using ripgrep on?</h3>
<p>Darwin 24.5.0 arm64</p>
<h3>Describe your bug.</h3>
<p>In <code>.gitignore</code> <a href="https://git-scm.com/docs/gitignore#_pattern_format">pattern syntax</a>, <code>{</code> and <code>}</code> are just literal characters, but the <code>ignore</code> crate treates them as glob character.</p>
<h3>What are the steps to reproduce the behavior?</h3>
<p>An exmaple project:</p>
<pre><code class="language-console">$ git init /tmp/example
$ cd /tmp/example/
$ echo '{f}' &gt; .gitignore
$ touch '{f}'
</code></pre>
<h3>What is the actual behavior?</h3>
<p>The <code>{f}</code> is listed by the below code:</p>
<pre><code class="language-rust">// List files that are not ignored by .gitignore using the ignore crate.
fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let path = std::env::args().nth(1).unwrap_or_else(|| &quot;.&quot;.to_string());
    for result in ignore::WalkBuilder::new(path).build() {
        let entry = result?;
        if entry.file_type().is_some_and(|f| f.is_file()) {
            println!(&quot;{}&quot;, entry.file_name().display());
        }
    }
    Ok(())
}

</code></pre>
<pre><code class="language-console">$ cargo run -q -- /tmp/example/ # `{f}` is not ignored
{f}
</code></pre>
<h3>What is the expected behavior?</h3>
<p><code>{f}</code> file should be ignored, like what git does:</p>
<pre><code class="language-console">$ git status
On branch master

No commits yet

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	.gitignore

nothing added to commit but untracked files present (use &quot;git add&quot; to track)
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2025-11-12 11:43</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:44:00 UTC
    </footer>
</body>
</html>
