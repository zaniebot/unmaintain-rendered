<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disable specific ignore files (specifically $HOME/.gitignore) - BurntSushi/ripgrep #2447</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Disable specific ignore files (specifically $HOME/.gitignore)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2447">#2447</a>
        opened by <a href="https://github.com/munro">@munro</a>
        on 2023-03-09 18:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/munro">@munro</a></div>
            <div class="timeline-body"><p>Hello!</p>
<p>I manage my <code>~/</code> directory dotfiles with git.  And thus, I have a special <code>~/.gitignore</code> that excludes everything but dotfiles [1].</p>
<p>Sooooo what happens is when I use <code>rg</code>, it never finds anything unless I add <code>--no-ignore-vcs</code>.  Problem with that is I still want it to use every other <code>.gitignore</code> â€” because it's really helpful!</p>
<p>I also tried <code>--no-ignore-parent</code>, which seems to work well, except it doesn't work at all when I'm in <code>~/</code> which is annoying.</p>
<p><strong>It would be really nice to have something like <code>rg --no-ignore-exclude=~/.gitignore</code></strong></p>
<p>[1] https://github.com/munro/dotfiles</p>
<pre><code class="language-gitignore"># ignore everything
*
# except dotfiles!!!!!
!.*
!.oh-my-zsh


# don't commit these dot files to the repo
.DS_Store
.Xauthority
.bash_history
.brew_packages
.cargo/
# ...
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-03-09 19:05</div>
            <div class="timeline-body"><p>Your specific feature request is definitely never going to happen. There are already a bazillion flags for ignoring various flavors of ignore files, and I'm sorry, but there is just no way I could justify adding more flags to override individual ignore files. Both the user facing and internal complexity of that is mind boggling to me.</p>
<p>However, thank you for sharing the actual problem you have. Because there are solutions to it.</p>
<p>The first it to add a <code>.ignore</code> file right next to your <code>.gitignore</code> that whitelists everything, and then blacklists whatever you don't want to search. For example, <code>echo '!*' &gt; ~/.ignore</code>.</p>
<p>Second is the approach I use now. I used to do the first approach of, but other than it being annoying for ripgrep, I actually didn't like it because it was annoying to add new files since <code>git</code> ignored everything by default. It happened too often that I'd add something, forget about it, later run <code>git status</code> and see that there were no changes. And only then realize that I had never actually committed the new thing I added. So now I <a href="https://github.com/BurntSushi/dotfiles/blob/23488b723aaab4c08fc857e55454938efdc3ac6e/.gitignore#L1-L3">maintain an exhaustive list of ignored files</a> in my home directory.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2023-03-09 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wontfix</span> added by @BurntSushi on 2023-03-09 19:05</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/munro">@munro</a> on 2023-03-10 00:02</div>
            <div class="timeline-body"><p>@BurntSushi yesss thank you <code>echo '!*' &gt; ~/.ignore</code> worked perfectly!  it wasn't totally obvious how I could exclude that file, thank you!</p>
<p><img src="https://user-images.githubusercontent.com/500774/224188726-687b3a43-42f9-4c31-ab9d-4d7a51c805cd.gif" alt="love-you-brown-bear-1 2" /></p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:38 UTC
    </footer>
</body>
</html>
