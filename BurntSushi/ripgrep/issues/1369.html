<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prevent duplicate entries in file types list (--type-list) - BurntSushi/ripgrep #1369</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Prevent duplicate entries in file types list (--type-list)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1369">#1369</a>
        opened by <a href="https://github.com/StaticPH">@StaticPH</a>
        on 2019-09-07 23:11
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/StaticPH">@StaticPH</a></div>
            <div class="timeline-body"><h4>What version of ripgrep are you using?</h4>
<pre><code>ripgrep 11.0.2
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)
</code></pre>
<h4>How did you install ripgrep?</h4>
<p>Installed with cargo</p>
<h4>What operating system are you using ripgrep on?</h4>
<p>Windows 8.1 Pro (x86_64)
If it's relevant, I'm also using the latest version of msys2-x86_64</p>
<h4>Describe your question, feature request, or bug.</h4>
<p>I want to avoid having a type with multiple of the same glob, as I don't know what problems that could potentially lead to. That also means not including a glob more than once with <code>--type-add 'TYPE:include:TYPE'</code>
I add more than a handful of file type globs to ripgrep, so it becomes kind of a hassle to keep track of which type-glob pairs are already part of the default, and which have already been included into one type from another.</p>
<h4>Example of current behavior:</h4>
<pre><code class="language-bash">StaticPH ~ $&gt; rg --type-list | egrep &quot;vi(m|):&quot;
vim: *.vim 
StaticPH ~ $&gt; rg --type-add 'vi: *.vim, *.vi, *.vim' --type-add 'vim:include:vi' --type-list | egrep &quot;vi(m|):&quot;
vi:  *.vim, *.vi, *.vim
vim:  *.vim, *.vi, *.vim, *.vim
</code></pre>
<h4>What I'd like to see instead:</h4>
<pre><code class="language-bash">StaticPH ~ $&gt; rg --type-list | egrep &quot;vi(m|):&quot;
vim: *.vim
StaticPH ~ $&gt; rg --type-add 'vim: *.vim, *.vi, *.vim' --type-add 'vim:include:vi' --type-list | egrep &quot;vi(m|):&quot;
vi: *.vim, *.vi
vim: *.vim, *.vi
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2019-09-08 00:09</div>
            <div class="timeline-body"><p>I don't think ripgrep should be deduplicating these. I'm also not sure what adverse effects can become of this, other than perhaps some small performance overhead. If you don't want duplicates then just don't add them.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2019-09-08 00:09</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:00 UTC
    </footer>
</body>
</html>
