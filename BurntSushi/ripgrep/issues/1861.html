<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optionally suppress decompression errors - BurntSushi/ripgrep #1861</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Optionally suppress decompression errors</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1861">#1861</a>
        opened by <a href="https://github.com/raxod502">@raxod502</a>
        on 2021-05-04 03:36
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/raxod502">@raxod502</a></div>
            <div class="timeline-body">Describe your feature request
<p>When I use the <code>-z, --search-zip</code> flag on my filesystem, I am typically met with a deluge of error messages like this, typically from the sample files in various open-source repos&#x27; test suites:</p>
<pre><code>python/distlib/tests/fake_archives/coverage-3.5.2.tar.gz: 
-------------------------------------------------------------------------------
gzip: python/distlib/tests/fake_archives/coverage-3.5.2.tar.gz: unexpected end of file
-------------------------------------------------------------------------------
python/distlib/tests/fake_archives/coverage-3.4b2.tar.gz: 
-------------------------------------------------------------------------------
gzip: python/distlib/tests/fake_archives/coverage-3.4b2.tar.gz: unexpected end of file
-------------------------------------------------------------------------------
python/distlib/tests/fake_archives/coverage-3.3.1.tar.gz: 
-------------------------------------------------------------------------------
gzip: python/distlib/tests/fake_archives/coverage-3.3.1.tar.gz: unexpected end of file
-------------------------------------------------------------------------------
</code></pre>
<p>I would like to optionally be able to suppress the reporting of decompression errors. One way to implement this feature would be a new long option <code>--suppress-zip-errors</code>, or something along those lines. The option could be added to one&#x27;s <code>RIPGREP_CONFIG_PATH</code> file, if one so desires.</p>
<p>The precise behavior would be that if ripgrep cannot decompress a file, then it will silently ignore that file, will not output to stderr, and will exit with a zero return code if no other errors occur.</p>
<p>The usage of ripgrep with this option would be <code>rg -z --suppress-zip-errors</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-05-04 11:14</div>
            <div class="timeline-body"><p>@raxod502 Have you tried using <code>--no-messages</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/raxod502">@raxod502</a> on 2021-05-05 23:24</div>
            <div class="timeline-body"><p>Ah, thank you, that does exactly what I wanted.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/raxod502">@raxod502</a> on 2021-05-05 23:24</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:11 UTC
    </footer>
</body>
</html>
