<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[globset] Make `liberal_separator` the default - BurntSushi/ripgrep #2059</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>[globset] Make <code>liberal_separator</code> the default</h1>

    <div class="meta">
        <span class="state-icon state-open"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2059">#2059</a>
        opened by <a href="https://github.com/piegamesde">@piegamesde</a>
        on 2021-11-12 12:29
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/piegamesde">@piegamesde</a></div>
            <div class="timeline-body"><p>https://docs.rs/globset/0.4.8/globset/struct.GlobBuilder.html#method.literal_separator</p>
<p>I&#x27;d like to know why this is not on by default. Setting it would match the default behavior of many software and is also what one might expect. Think of it like this: if a <code>*</code> matches a <code>/</code> and thus multiple hierarchy levels, what is even the point of having <code>**</code> at all?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-11-12 12:59</div>
            <div class="timeline-body"><blockquote>
<p>I&#x27;d like to know why this is not on by default.</p>
</blockquote>
<p>The answer is likely unsatisfying: I likely set is as the default to match what the <code>glob</code> crate does, and I believe the <code>glob</code> crate did it that way to match the behavior of <code>fnmatch</code>. For example:</p>
<pre><code>&gt;&gt;&gt; import fnmatch
&gt;&gt;&gt; fnmatch.fnmatch(&#x27;a/b/c&#x27;, &#x27;a*c&#x27;)
True
</code></pre>
<p>In the C API of <code>fnmatch</code>, you can pass <code>FNM_PATHNAME</code> to disable this behavior. But the point is that <code>*</code> matching <code>/</code> is the default there.</p>
<p>I probably agree with you that this shouldn&#x27;t be the default, but it would warrant careful consideration. And this is unlikely to happen any time soon.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-11-12 12:59</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/piegamesde">@piegamesde</a> on 2021-11-12 14:16</div>
            <div class="timeline-body"><p>Thank you for the answer, this is what I feared. The frustrating thing is that <code>fnmatch</code> deviates from <a href="https://man7.org/linux/man-pages/man7/glob.7.html">glob(7)</a> in that regard, which I would consider as normative.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2021-11-12 14:53</div>
            <div class="timeline-body"><p>Note that it is a non-goal to follow <code>glob(7)</code> or anything else that&#x27;s POSIX, simply because it is POSIX. &quot;Careful consideration&quot; here means looking at globbing implementations in active use. I suspect <code>*</code> not matching <code>/</code> is still indeed in broader use, so I ultimately likely agree with you here. But I just want to be clear that this doesn&#x27;t mean I accept POSIX rules for globbing wholesale. :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:11 UTC
    </footer>
</body>
</html>
