<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>is it possible to implement -NUM (from man grep) - BurntSushi/ripgrep #701</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>is it possible to implement -NUM (from man grep)</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/701">#701</a>
        opened by <a href="https://github.com/sitaramc">@sitaramc</a>
        on 2017-12-01 04:09
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sitaramc">@sitaramc</a></div>
            <div class="timeline-body"><p>is it possible to implement -NUM; i.e., make the &quot;-C&quot; optional, as it is in grep.</p>
<p>Please feel free to say &quot;no&quot;.   It&#x27;s mainly muscle memory that is causing me to ask, nothing more serious.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2017-12-01 05:01</div>
            <div class="timeline-body"><p>As far as i can tell, this is hard to achieve with <code>clap</code> (the argument-parsing library <code>rg</code> uses).</p>
<p>The way you would do this with a traditional <code>getopt()</code> sort of method is designate <code>-0</code> through <code>-9</code> as valid short options and then basically concatenate them together in order of appearance, resetting them whenever one appears that&#x27;s not adjacent to a previous one in the same argument. Then you convert the resulting string into a number.</p>
<p><code>clap</code> is designed to be a much higher-level method of argument parsing, so it abstracts away things like the order and argument index that options appear in. In other words, there is no clean way AFAIK to tell the difference between <code>rg -12</code>, <code>rg -21</code>, <code>rg -1 -i -2</code>, and so on. I&#x27;m not an expert on <code>clap</code>&#x27;s quite extensive feature set, but i&#x27;m <em>pretty</em> sure that&#x27;s the case, at least.</p>
<p>Maybe someone else knows something that i don&#x27;t, but if not, this might have to be a <a href="https://github.com/kbknapp/clap-rs/issues/new"><code>clap</code> feature request</a>. It does seem like something that should reasonably be within its scope.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sitaramc">@sitaramc</a> on 2017-12-01 09:20</div>
            <div class="timeline-body"><p>I understand; thanks for the detailed explanation.  (I&#x27;ll pass on pushing this up to the clap project, at least for now.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/sitaramc">@sitaramc</a> on 2017-12-01 09:20</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-12-01 11:45</div>
            <div class="timeline-body"><p>Huh. I didn&#x27;t even know this was a thing in GNU grep. If clap had a way to do this, then there would probably have to be an option here to do it: https://docs.rs/clap/2.28.0/clap/struct.Arg.html I don&#x27;t think such an option exists.</p>
<p>To be honest, I&#x27;m not sure I&#x27;d even be on board with this even if clap did support it. :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:05 UTC
    </footer>
</body>
</html>
