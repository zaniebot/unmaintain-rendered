<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>faster exact path match - BurntSushi/ripgrep #2915</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>faster exact path match</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2915">#2915</a>
        opened by <a href="https://github.com/matepek">@matepek</a>
        on 2024-10-22 00:55
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/matepek">@matepek</a></div>
            <div class="timeline-body">Describe your feature request
<p>Hello,</p>
<p>I&#x27;m developing a vscode extension and one of my user started to complain that in case of a large projects the loading takes a long time. <code>rg.exe</code> was mentioned so I started digging.</p>
<p>The flow:</p>
<ul>
<li>My extension looking for test executables files based on a pattern using the vscode API <code>vscode.workspace.findFiles</code>.</li>
<li>VSCode seems to using this tool under the hood.</li>
</ul>
<p>In <a href="https://github.com/matepek/vscode-catch2-test-adapter/issues/444">this case</a> the user specifies the <strong>exact path, not a pattern</strong>, <code>rg</code> still seems to take a lot of time and resources to return with the result.</p>
<p>Since it is not my issue it is not easy to come up with a proper repro and debug the situation myself so I&#x27;m fairly unsure that &quot;this is the droid we are looking for&quot; or not.</p>
<p>Maybe the culprit is vscode or something else but I have to start somewhere. Thank you for your time in advance.</p>
<p>REMARKS:
Might worth to mention that this case <code>rg</code> is running in parallel multiple times.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-10-22 01:02</div>
            <div class="timeline-body"><p>If you know the exact path, then just run <code>rg pattern exact/path/to/file</code>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-10-22 01:02</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-10-22 01:02</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matepek">@matepek</a> on 2024-10-22 01:04</div>
            <div class="timeline-body"><p>Hey,</p>
<p>It&#x27;s <code>vscode</code> which uses this tool to discover files with <code>--files</code> option.
So I think your suggestion is about another case. ?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matepek">@matepek</a> on 2024-10-22 01:15</div>
            <div class="timeline-body"><p>So we have a couple of exact paths.</p>
<p>My extension could do some check to see it is not a pattern but na exact file and avoid calling <code>vscode</code> which would in this case not call this tool with <code>--files</code> option and that would do the trick.</p>
<p>But I would not consider it as a best solution because this is a low level optimisation comparing to handing it to the extension which should stay away from file system as much as possible.</p>
<p>The problem is might elsewhere, I didn&#x27;t read the code of this repo but as first this seemed a good start.
You might say that oh yeah, this case is handled the issue is elsewhere then sure has to search further but if not then fixing here would result that more people would benefit from the improvement.</p>
<p>So, is this tool handing efficiently the exact path case for <code>--file</code> option? And if not, are open for a change to handle it?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-10-22 01:27</div>
            <div class="timeline-body"><p>This repo is for ripgrep. I can&#x27;t control how VS Code uses it. I am not capable of providing support for how VS Code uses this tool. I don&#x27;t use VS Code. If you want my help, please give a repro that I can run using a standard shell environment, along with expected and actual behavior.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/matepek">@matepek</a> on 2024-10-22 01:29</div>
            <div class="timeline-body"><p>I know, and I understand.
My question would be that, is this tool handing efficiently the exact path case for <code>--file</code> option?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-10-22 01:30</div>
            <div class="timeline-body"><p>I can&#x27;t answer your question without a command because it&#x27;s underspecified. Don&#x27;t tell. <em>Show</em>.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:14 UTC
    </footer>
</body>
</html>
