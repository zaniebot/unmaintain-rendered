<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question: Print matched lines as-is - BurntSushi/ripgrep #1267</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Question: Print matched lines as-is</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1267">#1267</a>
        opened by <a href="https://github.com/sheharyarn">@sheharyarn</a>
        on 2019-04-23 22:58
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/sheharyarn">@sheharyarn</a></div>
            <div class="timeline-body">Describe your question, feature request, or bug.
<p>Is there an option to tell <code>ripgrep</code> to print the matched lines as-is? I&#x27;ve gone over the man but  didn&#x27;t find anything that worked. I tried all options with <code>--color</code> but I still lose the original text color.</p>
<p>An example use-case is with <a href="https://hub.github.com"><code>hub</code></a> where I want to keep the original text color/formatting being output by the program:</p>
<img alt="image" src="https://user-images.githubusercontent.com/2355108/56620731-c55f1a00-65de-11e9-897a-4231d73f8eb4.png">

What version of ripgrep are you using?
<pre><code>ripgrep 0.10.0
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)
</code></pre>
How did you install ripgrep?
<pre><code>brew install ripgrep
</code></pre>
What operating system are you using ripgrep on?
<pre><code>macOS Mojave 10.14.4
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2019-04-23 23:19</div>
            <div class="timeline-body"><p>This isn&#x27;t a problem with ripgrep. ripgrep doesn&#x27;t strip coloring from the output of hub. The more likely thing is that hub detects that it isn&#x27;t printing to a tty, and therefore suppresses color output on its own. You thus need to figure out how to tell hub to keep its color enabled forcefully.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2019-04-23 23:19</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/sheharyarn">@sheharyarn</a> on 2019-04-23 23:34</div>
            <div class="timeline-body"><p>My bad, you&#x27;re right. This fixed it for me:</p>
<pre><code>hub issue -a me --color=always | rg -i term
</code></pre>
<p>Thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/funatsufumiya">@funatsufumiya</a> on 2024-01-21 07:31</div>
            <div class="timeline-body"><p>Thanks to this question, I could achieve coloring control &#x27;as-is&#x27; with <code>fd</code>.</p>
<p>results as FYI:</p>
<ul>
<li><p><code>$ fd rs --color=always | rg &#x27;examples&#x27;</code>
<img alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2024-01-21 16 28 40" src="https://github.com/BurntSushi/ripgrep/assets/3406260/cabe99e7-fa5d-4b4d-baf5-7e29fad758ec"></p>
</li>
<li><p><code>$ fd rs --color=always | rg &#x27;examples&#x27; --color=never</code>
<img alt="ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2024-01-21 16 28 56" src="https://github.com/BurntSushi/ripgrep/assets/3406260/6d15729f-2eb4-47aa-b50a-c5b96109ac6b"></p>
</li>
</ul>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lmn451">@lmn451</a> on 2024-02-04 12:34</div>
            <div class="timeline-body"><p>Hey all,</p>
<p>Looks like it same issue, but in my case is far as I understand git don`t care where to printed.</p>
<img alt="image" src="https://github.com/BurntSushi/ripgrep/assets/14910239/35e92494-47a8-4004-90e5-73bf80f5c7ba">

<p>I expect removed/added lines to preserve color to the end of line</p>
<p>@BurntSushi , can you  please advise on this?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-04 13:21</div>
            <div class="timeline-body"><p>You expected color to be preserved from the output of <code>git diff</code>, and you showed a screenshot of... color being preserved. There are things colored other than <code>test</code>. So I don&#x27;t see the problem.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-04 13:22</div>
            <div class="timeline-body"><p>Maybe you&#x27;re referring to the things that appear after <code>test</code>? If so, there&#x27;s nothing to be done about that. You can&#x27;t just arbitrarily compose ANSI color streams and expect the output to be sensible. Sorry.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lmn451">@lmn451</a> on 2024-02-04 13:30</div>
            <div class="timeline-body"><p>Oops, looks like I might not have explained my question very well earlier â€“ sorry about that! ðŸ˜… What I&#x27;m trying to do is highlight certain words in my terminal without messing up the other colors that are already there from a <code>git diff</code>. It&#x27;s a bit surprising that we don&#x27;t seem to have a straightforward way to do this yet. Do you happen to know if there&#x27;s a tool or a trick that could help me out? I&#x27;m not too fussed about the technical details; I just want something that works smoothly. Thanks a bunch for your help!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2024-02-04 13:39</div>
            <div class="timeline-body"><p>Nope. Sorry. I&#x27;m not the right person to ask. I&#x27;m not a terminal expert. I know how to get it to emit colors and that&#x27;s pretty much it. You could write an ANSI interpreter to manage the stream of ANSI color codes where you could intercept resets and replace them with instructions to &quot;reset back to what the colors were before&quot; instead of just &quot;reset back to no colors.&quot; But I don&#x27;t see how to do that in a generic way because you don&#x27;t know which colors were emitted by each application. So like, even hypothetically, I don&#x27;t see a way to do it. But like I said, I&#x27;m not the right person to ask, so I wouldn&#x27;t an interpret a &quot;can&#x27;t be done&quot; from me with 100% certainty.</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:08 UTC
    </footer>
</body>
</html>
