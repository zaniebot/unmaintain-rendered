<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outputting capture groups instead of the whole match - BurntSushi/ripgrep #1355</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Outputting capture groups instead of the whole match</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1355">#1355</a>
        opened by <a href="https://github.com/Bios-Marcel">@Bios-Marcel</a>
        on 2019-08-28 08:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/Bios-Marcel">@Bios-Marcel</a></div>
            <div class="timeline-body"><h4>What version of ripgrep are you using?</h4>
<p>11.0.2</p>
<h4>How did you install ripgrep?</h4>
<p>scoop</p>
<h4>What operating system are you using ripgrep on?</h4>
<p>windows 10</p>
<h4>Question</h4>
<p>I was trying to generate a little code-snippet. I have the following code in 3 different files, just with a different string at <code>SOMETHING</code> each time:</p>
<pre><code class="language-java">//More code above
public enum SOMETHINGOrder {
}
//More code below
</code></pre>
<p>My goal is now, to produce a list of only the name of the enum, for example <code>SOMETHINGOrder</code>. So when in my file-hiearchy it finds <code>AOrder</code>, <code>BOrder</code> and <code>COrder</code>, I want to retrieve all of those.</p>
<p>Meaning I expect an output of something like this:</p>
<pre><code>$ user@system: rg ...
AOrder
BOrder
COrder
</code></pre>
<p>By reading the docs I couldn't really find out how to do this. The first thought that occured to me was capture groups. Maybe this is also something I shouldn't really be doing with ripgrep but multiple tools together?</p>
<p>Either way, I have used this now <code>rg &quot;enum (.+Order)&quot;</code> which will correctly capture the lines and put the relevant thing in a capture group. Now is there a way to only output the group instead of the whole line?</p>
<p>In case this isn't possible, you could see this issue as a feature request instead ðŸ˜„</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/okdana">@okdana</a> on 2019-08-28 08:44</div>
            <div class="timeline-body"><p>If you didn't need to match text outside of the capture group, you could just use <code>-o</code></p>
<p>But since you need to match the <code>enum</code> part too, you can use the replace feature, like this:</p>
<pre><code>% rg -r '$1' '.*enum (.+Order).*' &lt;&lt;&lt; 'public enum SOMETHINGOrder {'
SOMETHINGOrder
</code></pre>
<p>(Though a more accurate pattern might be e.g. <code>.*\benum\s+(\w+Order)\b.*</code>)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bios-Marcel">@Bios-Marcel</a> on 2019-08-28 08:53</div>
            <div class="timeline-body"><p>Cool, thanks @okdana</p>
<p>I am doing this <code> rg -r '$1' '.+enum (.+Order).+implements.+' --no-line-number --no-filename</code> in the root of my target file hierarchy now. Works like a charme :D</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/Bios-Marcel">@Bios-Marcel</a> on 2019-08-28 09:08</div>
            <div class="timeline-body"><p>I'll be closing this then, since what I wanted to do is possible, even if not immediatly obvious.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @Bios-Marcel on 2019-08-28 09:08</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2019-08-28 11:06</div>
            <div class="timeline-body"><p>This technique is documented in the guide: https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md#replacements</p>
<p>As the guide shows, it might be even simpler to combine the replace flag with the only-matching flag.</p>
<p>Glad you got it resolved though! Thanks @okdana!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:59 UTC
    </footer>
</body>
</html>
