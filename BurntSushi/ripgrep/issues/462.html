<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>machine interface - BurntSushi/ripgrep #462</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>machine interface</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/462">#462</a>
        opened by <a href="https://github.com/albfan">@albfan</a>
        on 2017-04-27 09:27
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/albfan">@albfan</a></div>
            <div class="timeline-body"><p>Hi, I&#x27;m the maintainer of https://github.com/albfan/ag.vim</p>
<p>Someone ask me to integrate with rg, and after trying it is sensibly faster than ag so want to ask if it&#x27;s possible to add an option to expose results in a parseable way ready for machines.</p>
<p>By now I&#x27;m parsing filename, column, line and contents from <code>--group</code> option so this is not a stopper, but would be great to offer results that way to ease maintenance and complex features like hightlight code</p>
<p>Maybe <code>--porceain</code> could be a great name for option. Anything will work</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kpp">@kpp</a> on 2017-04-27 09:39</div>
            <div class="timeline-body"><p>How about existing <code>--vimgrep</code>?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tiehuis">@tiehuis</a> on 2017-04-27 10:37</div>
            <div class="timeline-body"><p>#244 is related. May be worthwhile to see if what is outlined there differs from your requirements.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/albfan">@albfan</a> on 2017-04-27 10:46</div>
            <div class="timeline-body"><p>I use mostly search with context:</p>
<pre><code>$ rg foo -C4</code></pre>
<p>Those contexts lines are really useful, so I really work on AgGroup (not the commands related with quicklist). Parsing results with context slows the interaction and is error prone</p>
<p>@tiehuis That would help to highlight without reprocess regex (with the escape characters hell)</p>
<p>Deterministic results like:</p>
<pre><code>file: foo
   - matches: [
        {
            line: 1,
            col: 10,
            match: foo,
            before: 3,
            after: 4,
            result: &quot;asdfasdfasdf
asdfsadfasdf
foo
asfasdfasdf
&quot;         
 },
...
]
</code></pre>
<p>etc etc woud be great as there&#x27;s lot of info rg knows but do not expose (reflected in highlights for example)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/tiehuis">@tiehuis</a> on 2017-04-27 10:59</div>
            <div class="timeline-body"><p>Just to add, here (#359) was a similar issue regarding structured output (which looks very much the same as what you are suggesting) and a response from BurntSushi.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/albfan">@albfan</a> on 2017-04-27 11:18</div>
            <div class="timeline-body"><p>@tiehuis Thanks that&#x27;s exactly what I need.</p>
<p>I was afraid to ask for a library, but seems there&#x27;s a work in progress. That&#x27;s perfect for another idea I have for rg (use on gnome builder as a global search <a href="https://github.com/albfan/gnome-builder/issues/14">albfan/gnome-builder#14</a>)</p>
<p>Then we need to contribute on rg library. That makes sense, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/albfan">@albfan</a> on 2017-04-27 11:18</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:04 UTC
    </footer>
</body>
</html>
