<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>improve --smart-case once and for all - BurntSushi/ripgrep #851</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>improve --smart-case once and for all</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/851">#851</a>
        opened by <a href="https://github.com/BurntSushi">@BurntSushi</a>
        on 2018-03-10 12:33
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/BurntSushi">@BurntSushi</a></div>
            <div class="timeline-body"><p>We should improve the <code>--smart-case</code> flag to be perfect or nearly perfect at least. The regex-syntax crate rewrite now has a <a href="https://docs.rs/regex-syntax/0.5.0/regex_syntax/ast/enum.Ast.html">more detailed AST</a>, which permits us to handle cases like <code>[A-Z]</code> and <code>\p{Ll}</code> differently. In particular, I propose:</p>
<p>When the <code>--smart-case</code> flag is given, ripgrep chooses to match case insensitively if and only if there is at least one literal character in the pattern and that all such literals are not considered as uppercase. If the pattern contains no literals or at least one uppercase literal character, then normal case sensitive search is used.</p>
<p>Examples: <code>abc</code>, <code>[a-z]</code>, <code>abc\w</code> and <code>abc\p{Ll}</code> are all searched case insensitively while <code>aBc</code>, <code>[A-Z]</code>, <code>aBc\w</code> and <code>\p{Ll}</code> are searched case sensitively.</p>
<p>See also: <a href="https://github.com/BurntSushi/ripgrep/issues/717">BurntSushi/ripgrep#717</a>#issuecomment-372000616</p>
<p>cc @okdana</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-03-10 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">libripgrep</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-03-10 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Added to milestone &quot;libripgrep&quot; by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-03-10 12:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-03-14 02:55</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:06 UTC
    </footer>
</body>
</html>
