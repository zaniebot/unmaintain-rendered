<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursive glob patterns broken in 0.2.5 - BurntSushi/ripgrep #206</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Recursive glob patterns broken in 0.2.5</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/206">#206</a>
        opened by <a href="https://github.com/alejandro5042">@alejandro5042</a>
        on 2016-10-31 20:57
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/alejandro5042">@alejandro5042</a></div>
            <div class="timeline-body"><p>In an empty directory, create a file <code>test\file.txt</code> with contents <code>hi</code>. For simplicity of testing, make copies of <code>rg.exe</code> versions 0.2.3 and 0.2.5 and rename them according to their version.</p>
<pre><code>0.08 - C:\Dev\Temp\rg-bug-subdirs&gt; rg-v0.2.3 -g *.txt hi
test\file.txt
1:hi

0.03 - C:\Dev\Temp\rg-bug-subdirs&gt; rg-v0.2.5 -g *.txt hi
No files were searched, which means ripgrep probably applied a filter you didn't expect. Try running again with --debug.
</code></pre>
<p>Running with --debug:</p>
<pre><code>0.04 - C:\Dev\Temp\rg-bug-subdirs&gt; rg-v0.2.5 --debug -g *.txt hi
DEBUG:rg::args: will try to use memory maps
DEBUG:globset: built glob set; 0 literals, 0 basenames, 1 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes
DEBUG:grep::search: regex ast:
Literal {
    chars: [
        'h',
        'i'
    ],
    casei: false
}
DEBUG:grep::literals: literal prefixes detected: Literals { lits: [Complete(hi)], limit_size: 250, limit_class: 10 }
DEBUG:ignore::walk: ignoring ./test: Ignore(IgnoreMatch(Override(Glob(UnmatchedIgnore))))
No files were searched, which means ripgrep probably applied a filter you didn't expect. Try running again with --debug.
</code></pre>
<p>However, move that file outside of the test directory to the current/root directory and it works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by @BurntSushi on 2016-10-31 23:42</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2016-10-31 23:55</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-31 23:57</div>
            <div class="timeline-body"><p>This was a nice find, thank you! It slipped in with my latest changes to the ignore matcher code, but now there's a regression test for it. :-)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-11-01 00:03</div>
            <div class="timeline-body"><p>I think this is a bad bug, so I've kicked off a <code>0.2.6</code> release.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/alejandro5042">@alejandro5042</a> on 2016-11-01 04:04</div>
            <div class="timeline-body"><p>I can confirm the latest <code>0.2.6</code> fixes this issue and passes my tests. Great turn around - thanks! üëç</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:41:52 UTC
    </footer>
</body>
</html>
