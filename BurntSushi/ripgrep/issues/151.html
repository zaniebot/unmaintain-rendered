<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adding file types in Windows - BurntSushi/ripgrep #151</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Adding file types in Windows</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/151">#151</a>
        opened by <a href="https://github.com/theamazingfedex">@theamazingfedex</a>
        on 2016-10-05 23:05
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/theamazingfedex">@theamazingfedex</a></div>
            <div class="timeline-body"><p>I'm running ripgrep v0.1.17, on Windows 7 in Cmder console emulator, and every time that I try to add a custom file type, i get the error <code>Invalid arguments.</code> despite precisely following the example.</p>
<p>What i'm calling: <code>rg --type-add spark:*.spark</code>
I even tried doing exactly as the example showed: <code>rg --type-add html:*.html</code> but still get the same error.</p>
<p>Is there something I'm doing wrong somewhere?</p>
<p>On a separate note, great job on the tool; I've been making co-worker's jaw's drop at how fast it rips through our company repos and finds what I need. :+1: (plus it's rust, so I get to show people an awesome practical use of rust) :+1: :+1: :+1:</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-05 23:23</div>
            <div class="timeline-body"><p>@theamazingfedex Thanks for the kind words. :-)</p>
<blockquote>
<p>I even tried doing exactly as the example showed</p>
</blockquote>
<p>Could you show me where you saw this example? I ask because it's wrong. I thought I fixed all of them, but I must have left one lingering somewhere.</p>
<p>In any case, you can't just run <code>rg --type-add'html:*.html'</code>. <code>rg</code> doesn't persist your type settings anywhere. You need to pass <code>--type-add</code> to every call to <code>rg</code>. While this seems like a pain, my intention was for folks to configure their types using aliases. (Is that even a thing on Windows? In bash I can do, <code>alias rg=&quot;rg --type-add 'foo:*.foo'</code> and then <code>rg -tfoo PAT</code> does the right thing.)</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/kaushalmodi">@kaushalmodi</a> on 2016-10-06 10:32</div>
            <div class="timeline-body"><p>@BurntSushi This confusion that <code>--type-add</code> stores the type association in some file has come up multiple times in these issues. I thought the same when I used <code>ripgrep</code> the first time too.</p>
<p>But that <code>alias</code> example for <code>--type-add</code> is perfect. May be you can add that to the <code>--help</code> and man page?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-06 10:47</div>
            <div class="timeline-body"><p>@kaushalmodi Right, believe me, I realize this has been a pain point. :-) I will do another pass through everything that mentions <code>--type-add</code> and try to be extra clear about it. Including the alias example sounds good, although I doubt it will work verbatim for Windows users (who aren't using <code>cygwin</code>).</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">doc</span> added by @BurntSushi on 2016-10-06 10:47</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 16:34</div>
            <div class="timeline-body"><p>I'm using Cmder, which uses clink around cmd.exe in a ConEmu window, so I do have a way of doing aliased commands. Here's some pictures:</p>
<p><strong>results of trying <code>--type-add html:*.html</code>:</strong>
<img src="https://cloud.githubusercontent.com/assets/6488706/19197055/317b2a62-8c75-11e6-99b0-c665fffaf86f.png" alt="Results of using the command" /></p>
<p><strong><code>rg --help</code> (where I saw the example)</strong>
<img src="https://cloud.githubusercontent.com/assets/6488706/19197117/7d97f510-8c75-11e6-9a94-762e973f24db.png" alt="rg --help" /></p>
<p><strong>And if I try to do it as a one-off:</strong>
<img src="https://cloud.githubusercontent.com/assets/6488706/19197346/93cc01c2-8c76-11e6-9f8e-3e6112ecd5bf.png" alt="image" /></p>
<p>Also, I created an alias for <code>rg=rg --type-add 'spark:*.spark'</code> then tried <code>rg -tspark foo</code> and get the message: <code>unrecognized file type: spark</code></p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-07 19:00</div>
            <div class="timeline-body"><p>Could you please provide a reproduction that doesn't use an alias? I can run <code>rg --type-add 'spark:*.spark' -tspark foo</code> just fine, which to me suggests that your alias isn't working.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 19:01</div>
            <div class="timeline-body"><p>I just tried running the command <code>rg --type-add spark:*.spark -tspark foo</code> in git bash, and it worked, but running it in cmd does not, as displayed in the third screenshot of my previous comment.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 19:03</div>
            <div class="timeline-body"><p>Well well, I just updated to v0.2.1, and ran <code>rg --type-add spark:*.spark -tspark foo</code> and it worked wonderfully. Not sure what changed, but it works now, thanks!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 19:08</div>
            <div class="timeline-body"><p>Is there a blog post somewhere detailing the reasoning behind choosing to push for an alias approach vs a config-based approach for adding file types? I'm curious as to what the benefits of doing it this way are.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @theamazingfedex on 2016-10-07 19:09</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-07 19:16</div>
            <div class="timeline-body"><p>No. Config files are extra complexity that I would like to avoid if
possible. I am open to adding one in the future, but I would like to hold
off for now.</p>
<p>I would also encourage anyone to upstream their file types if they are
types that others might use.</p>
<p>On Oct 7, 2016 3:09 PM, &quot;Daniel Wood&quot; notifications@github.com wrote:</p>
<blockquote>
<p>Closed #151 https://github.com/BurntSushi/ripgrep/issues/151.</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
https://github.com/BurntSushi/ripgrep/issues/151#event-816667813, or mute
the thread
https://github.com/notifications/unsubscribe-auth/AAb34pA54hYz0k1BeSqV5MOP_WYtSMa_ks5qxpjZgaJpZM4KPYbL
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 19:28</div>
            <div class="timeline-body"><p>Alright, that's fair. Forgive my ignorance, but how would I upstream a file type?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-07 19:33</div>
            <div class="timeline-body"><p>Submit a PR. There are lots of previously merged PRs that do just that, and
they would be good examples.</p>
<p>Sorry for the short response. On mobile. If you need more help, let me know
and I'll try to give more of an explanation when i get a chance.</p>
<p>On Oct 7, 2016 3:28 PM, &quot;Daniel Wood&quot; notifications@github.com wrote:</p>
<blockquote>
<p>Alright, that's fair. Forgive my ignorance, but how would I upstream a
file type?</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
https://github.com/BurntSushi/ripgrep/issues/151#issuecomment-252340499,
or mute the thread
https://github.com/notifications/unsubscribe-auth/AAb34pTi2aR0GjXXV0Y44ZYRRNA7hYxwks5qxp1lgaJpZM4KPYbL
.</p>
</blockquote>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 19:42</div>
            <div class="timeline-body"><p>Oh okay, I had a suspicion that was what you were implying, but I had not personally heard that terminology used for PR's, and wanted to be sure ^_^. I've got a couple types that would be widely useful; I'll make individual PR's for each one.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/theamazingfedex">@theamazingfedex</a> on 2016-10-07 20:43</div>
            <div class="timeline-body"><p>#153 #154 and #155 have been opened against master</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2016-10-11 01:06</div>
            <div class="timeline-body"><p>@theamazingfedex Thank you!</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:41:47 UTC
    </footer>
</body>
</html>
