<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>--ignore-file doesn't work - BurntSushi/ripgrep #684</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>--ignore-file doesn&#x27;t work</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/684">#684</a>
        opened by <a href="https://github.com/mimoo">@mimoo</a>
        on 2017-11-17 15:23
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/mimoo">@mimoo</a></div>
            <div class="timeline-body"><p>Hello,</p>
<p>The --ignore-file option doesn&#x27;t work.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-17 15:29</div>
            <div class="timeline-body"><p>This bug report is not actionable. Please include a minimally reproducible example that demonstrates the problem you&#x27;re experiencing. Please include all inputs, the expected output and the actual output. Please also include the version of ripgrep you&#x27;re using and the OS you&#x27;re running. Please make an effort to describe the problem in such a way that others can reproduce it exactly.</p>
<p>Next time you file a bug report (on any issue tracker for any project), please answer these questions up front instead of requiring other people to spend time asking for these things.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-17 15:29</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mimoo">@mimoo</a> on 2017-11-17 16:04</div>
            <div class="timeline-body"><p>Sorry, here&#x27;s a bit more info, I&#x27;m using macOS:</p>
<pre><code>$ rg --version                                                
ripgrep 0.6.0
-AVX -SIMD
</code></pre>
<p>I&#x27;m testing this on golang&#x27;s standard library that contains <code>_test.go</code> files that I&#x27;d like to ignore</p>
<pre><code>$ /usr/local/Cellar/go/1.7.1/libexec/src/crypto/tls/ rg --ignore-file tls_test.go panic
...
tls_test.go
...
</code></pre>
<p>I tried <code>--ignore-file &quot;tls_test.go&quot;</code> or <code>--ignore-file &quot;*_test.go&quot;</code> nothing works.</p>
<p>Switching to <code>ag</code> it works.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-17 16:10</div>
            <div class="timeline-body"><p>Please read the documentation of the flag you&#x27;re using:</p>
<pre><code>        --ignore-file &lt;FILE&gt;...             
            Specify additional ignore files for filtering file paths. Ignore files should be in the
            gitignore format and are matched relative to the current working directory. These ignore
            files have lower precedence than all other ignore files. When specifying multiple ignore
            files, earlier files have lower precedence than later files.
</code></pre>
<p>If you want to ignore a specific file or files that end in a certain suffix, then use <code>rg -g &#x27;!*_test.go&#x27; panic</code>. There are more examples <a href="https://github.com/BurntSushi/ripgrep#whirlwind-tour">in the README</a>.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-17 16:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mimoo">@mimoo</a> on 2017-11-17 16:58</div>
            <div class="timeline-body"><p>I read the documentation. What is wrong with the way I use <code>--ignore-file</code>? I&#x27;m not sure I understand your answer. I&#x27;ve looked for information elsewhere here but I can&#x27;t find any.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-11-17 17:01</div>
            <div class="timeline-body"><p>The <code>--ignore-file</code> flag, as documented, specifies a path to a file that specifies a list of ignore rules, which is of the same format as <code>.ignore</code> and <code>.gitignore</code>. In the command you&#x27;ve provided, you&#x27;re telling ripgrep to read ignore rules from <code>tls_test.go</code>, which is a Go source file, and not a file containing ignore rules.</p>
<p>If I run the command you provided, ripgrep is <em>telling</em> you that the given ignore file is invalid by spewing a bunch of errors.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/mimoo">@mimoo</a> on 2017-11-17 18:05</div>
            <div class="timeline-body"><p>Oh ok I see! I guess I did not understand the phrasing like this.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/clehene">@clehene</a> on 2018-02-18 22:01</div>
            <div class="timeline-body"><p>Just spent about 30 minutes trying to figure the same thing out. The documentation may be accurate, but still not making it easy to understand it and very easy to confuse.</p>
<p>This:</p>
<blockquote>
<p>specifies a path to a file that specifies a list of ignore rules, which is of the same format as .ignore and .gitignore</p>
</blockquote>
<p>should be in the documentation instead.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-02-18 22:07</div>
            <div class="timeline-body"><p>@clehene Could you say what is confusing about the current docs specifically? As far as I can tell, they basically say the same thing as your revision. They even include a tip to use <code>-g</code> if you want to include/exclude files directly on the command line.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/clehene">@clehene</a> on 2018-02-18 22:14</div>
            <div class="timeline-body"><p>@BurntSushi not sure if this is better <a href="https://github.com/BurntSushi/ripgrep/pull/817">BurntSushi/ripgrep#817</a> but the goal is to make the intention clear immediately.</p>
<p>I did <code>rg --help</code> then searched for <code>ignore</code>, got to <code>ignore-file</code> and understood it takes ignore patterns. Tried, failed read a few more times. Tried with gitignore patterns, failed and after a few googles got to this issue :). I think it&#x27;s the fact that I was sure this is the right flag that made me overlook the rest. Perhaps the flag name is too easy to confuse..</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2018-02-18 22:17</div>
            <div class="timeline-body"><p>@clehene Interesting! I definitely agree that the flag name is not ideal. You are not the only person I&#x27;ve seen get hung up on this. Let&#x27;s iterate on the exact re-wording in your PR. :)</p>
</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:05 UTC
    </footer>
</body>
</html>
