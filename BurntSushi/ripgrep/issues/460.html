<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Improve experience when symbolic links are not searched - BurntSushi/ripgrep #460</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Improve experience when symbolic links are not searched</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/460">#460</a>
        opened by <a href="https://github.com/lzybkr">@lzybkr</a>
        on 2017-04-26 01:43
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/lzybkr">@lzybkr</a></div>
            <div class="timeline-body"><p>Today, there is an inconsistent experience around symbolic links.</p>
<p>If no files are searched (e.g. you are in a directory that only contains symbolic links), you get an error message suggesting <code>--debug</code>, but that doesn't help.</p>
<p>If at least 1 file is searched, you get no output even if you should have.</p>
<p>If no files are searched, it might be worth adding some text to the error suggesting <code>-L</code> or <code>--follow</code>.
If some files are searched, it might be nice to have some way of listing which files/directories were skipped - e.g. because they were links, binary files, excluded by .gitignore, hidden, or whatever.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-26 02:02</div>
            <div class="timeline-body"><p>It sounds like you're asking for symbolic links that were skipped to appear in the output of --debug? Would that resolve things for you?</p>
<blockquote>
<p>If at least 1 file is searched, you get no output even if you should have.</p>
</blockquote>
<p>I don't understand the issue here. Could you say more and also say how you expect it to be solved?</p>
<p>Printing files that were skipped by default is a non-starter IMO.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/lzybkr">@lzybkr</a> on 2017-04-26 03:27</div>
            <div class="timeline-body"><p>What I meant was - sometimes you search, sometimes there is no output, but in your mind, there should have been. Most likely it's user error, but it could be a bug in ripgrep. Either way, I want help understanding what happened.</p>
<p>Ultimately I'm suggesting that ripgrep should provide an option to explain what was skipped and why so that I, as a user, can understand exactly what was and wasn't searched.</p>
<p>This definitely can't be a default - there would be too much noise.</p>
<p>The explanation should include the why if possible - filter, .gitignore, sym link, binary, others?</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">enhancement</span> added by @BurntSushi on 2017-04-26 11:45</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-04-26 11:48</div>
            <div class="timeline-body"><p>@lzybkr Right, OK. That is indeed the problem I was trying to solve with the output in <code>--debug</code>, and you're right to point out that not everything that's skipped is there and the output can certainly be improved.</p>
<p>I don't think it can ever be quite perfect. For example, if you know there is a match in the file <code>foo/bar/baz/quux/something</code> but <code>foo/bar</code> was skipped, then the <code>--debug</code> output isn't going to say that <code>foo/bar/baz/quux/something</code> was skipped specifically, but rather, that <code>foo/bar</code> was skipped. So there's still a bit of a mismatch there... One supposes that the presence of the <code>--debug</code> flag could force ripgrep to do extra work for the sake of printing more stuff, but that's likely to add implementation complexity that I'm not sure I want.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2017-10-22 01:48</div>
            <div class="timeline-body"><p>I think I'm going to close this because I'm not sure what the concrete steps would be to satisfy this request. Additionally, I kind of feel like &quot;the tool doesn't follow symlinks by default but has a flag to enable it&quot; is pretty standard for command line tools (e.g., <code>grep</code> and <code>find</code>). On top of that, ripgrep provides the <code>--files</code> flag, which tells you exactly which files it will search, which is usually enough to check whether ripgrep is doing what you think it's doing.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2017-10-22 01:48</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:42:09 UTC
    </footer>
</body>
</html>
