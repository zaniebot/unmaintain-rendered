<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add support for `\L` and `\U` regex replace modifiers - BurntSushi/ripgrep #1538</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Add support for <code>\L</code> and <code>\U</code> regex replace modifiers</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/1538">#1538</a>
        opened by <a href="https://github.com/zx8">@zx8</a>
        on 2020-04-02 11:14
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/zx8">@zx8</a></div>
            <div class="timeline-body"><p>I've been switching out more and more tools with single invocations of <code>rg</code> recently, and using <code>--replace</code> to great effect.</p>
<p>Today I tried the following, assuming it would convert my matches to lowercase/uppercase. Given the following file, <code>1.txt</code>:</p>
<pre><code>foo
BAR
baz
</code></pre>
<p><strong>Expected Behaviour</strong></p>
<pre><code class="language-sh">$ rg '(BAR)' -r '\L$1' 1.txt
2:bar

$ rg '(foo)' -r '\U$1' 1.txt
1:FOO
</code></pre>
<p><strong>Actual Behaviour</strong></p>
<pre><code class="language-sh">$ rg '(BAR)' -r '\L$1' 1.txt
2:\LBAR

$ rg '(foo)' -r '\U$1' 1.txt
1:\Ufoo
</code></pre>
<hr />
<p>It would be <em>really</em> cool if ripgrep supported these modifiers when replacing!</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2020-04-03 23:33</div>
            <div class="timeline-body"><p>I've given this some thought, and I'm not sure I want to step down this road. I'd really like to keep ripgrep focused on searching. The replacement flag is a simple convenience that catches a lot of use cases, and comes at minimal cost since it's implemented in the regex engine itself. I'd really like to avoid both re-implementing that feature <em>and</em> introducing another vector for extending the DSL with additional features. It's easy to see how folks will want more and more functions until ripgrep contains some subset of awk's initial basis.</p>
<p>I think a good replacement tool would be great to build on top of ripgrep's libraries, and I encourage folks to do that. But I don't think expanding this functionality in ripgrep is a good fit at this time.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2020-04-03 23:33</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">question</span> added by @BurntSushi on 2020-04-03 23:33</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:09 UTC
    </footer>
</body>
</html>
