<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rg man page miscodes interior hyphens in long option names as unicode hyphen - BurntSushi/ripgrep #3140</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>rg man page miscodes interior hyphens in long option names as unicode hyphen</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/3140">#3140</a>
        opened by <a href="https://github.com/hmelman">@hmelman</a>
        on 2025-09-06 16:06
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/hmelman">@hmelman</a></div>
            <div class="timeline-body">Please tick this box to confirm you have reviewed the above.
<ul>
<li>[x] I have a different issue.</li>
</ul>
What version of ripgrep are you using?
<p>ripgrep 14.1.1</p>
How did you install ripgrep?
<p>homebrew</p>
What operating system are you using ripgrep on?
<p>macOS 15.6.1</p>
Describe your bug.
<p>I believe rg&#x27;s man page miscodes hyphens within option names.  Using Gnu man on mac the rg.1 man page shows switches as <code>--case‐sensitive</code> and <code>--files‐without‐match</code> where the leading hyphens are properly Ascii HYPHEN-MINUS #x2d but the interior ones are Unicode HYPHEN #x2010 which makes it difficult to search for the option name. (I think/hope this came through properly on GitHub).</p>
What are the steps to reproduce the behavior?
<p>$ gman rg</p>
What is the actual behavior?
<pre><code>       --pre‐glob=GLOB
           This  flag works in conjunction with the --pre flag. Namely, when one or more --pre‐glob flags are given, then only files that match the given set of globs will be handed to the command specified
           by the --pre flag. Any non‐matching files will be searched without using the preprocessor command.
</code></pre>
What is the expected behavior?
<p>hyphen in switch names should be ascii hyphen-minus as you would type them so they can be cut and pasted to a command line.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 17:10</div>
            <div class="timeline-body"><p>ripgrep does not do this. Something else is. It renders correctly as an ASCII hyphen in my <code>man</code> version <code>2.13.1</code>. My <code>man</code> comes from the <code>man-db</code> package on Archlinux, whose homepage is: https://gitlab.com/man-db/man-db</p>
<p>It also renders correctly using <code>man</code> on macOS. I don&#x27;t have <code>gman</code> even though I have <code>coreutils</code> installed. I don&#x27;t know how to install GNU man. All of the obvious searches don&#x27;t show anything for me.</p>
<p>And finally, to prove that ripgrep is not emitting some kind of weird hyphen, you can ask it to generate the man page:</p>
<pre><code>$ rg --generate man | rg pre-glob
flag. One possible mitigation to this is to use the \fB\-\-pre-glob\fP flag to
\fB\-\-pre-glob\fP=\fIGLOB\fP
more \fB\-\-pre-glob\fP flags are given, then only files that match the given set
then it is possible to use \fB\-\-pre\fP \fIpre-pdftotext\fP \fB--pre-glob
Multiple \fB\-\-pre-glob\fP flags may be used. Globbing rules match
</code></pre>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 17:10</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 17:10</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/blyxxyz">@blyxxyz</a> on 2025-09-06 18:39</div>
            <div class="timeline-body"><p>In <code>\-\-pre-glob</code> the leading hyphens are escaped but the internal hyphen isn&#x27;t.</p>
<p>Seems like some roff implementations in some environments need all the hyphens to be escaped in order to stay ASCII: https://lists.gnu.org/archive/html/groff/2021-01/msg00074.html</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 18:43</div>
            <div class="timeline-body"><p>Wow, okay. Your link doesn&#x27;t work, but it&#x27;s an easy change on my end regardless.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Reopened by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 18:43</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">invalid</span> removed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 18:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">bug</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 18:52</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">rollup</span> added by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-06 18:52</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/hmelman">@hmelman</a> on 2025-09-06 21:39</div>
            <div class="timeline-body"><p>Thanks for looking into this.  Here are two references from debian:</p>
<p>https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1052675</p>
<p>https://lists.debian.org/debian-devel/2023/10/msg00085.html</p>
<p>Yes it was brew install man-db and either I or it offered an option to install as gman.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2025-09-20 01:08</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-20 18:48:14 UTC
    </footer>
</body>
</html>
