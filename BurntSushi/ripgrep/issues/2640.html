<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ripgrep ignores file-filters for paths given on the commandline - BurntSushi/ripgrep #2640</title>
    <link rel="stylesheet" href="../../../style.css">
</head>
<body>
    <div class="back-link">
        <a href="../../../index.html">Back to index</a>
    </div>

    <h1>Ripgrep ignores file-filters for paths given on the commandline</h1>

    <div class="meta">
        <span class="state-icon state-closed"></span>
        <a href="https://github.com/BurntSushi/ripgrep/issues/2640">#2640</a>
        opened by <a href="https://github.com/justinlovinger">@justinlovinger</a>
        on 2023-10-28 16:54
    </div>

    <div class="timeline">
        <div class="timeline-entry">
            <div class="timeline-header"><a href="https://github.com/justinlovinger">@justinlovinger</a></div>
            <div class="timeline-body"><h3>Please tick this box to confirm you have reviewed the above.</h3>
<ul>
<li>[X] I have a different issue.</li>
</ul>
<h3>What version of ripgrep are you using?</h3>
<p>ripgrep 13.0.0
-SIMD -AVX (compiled)
+SIMD +AVX (runtime)</p>
<h3>How did you install ripgrep?</h3>
<p>Nixpkgs</p>
<h3>What operating system are you using ripgrep on?</h3>
<p>NixOS 23.05</p>
<h3>Describe your bug.</h3>
<p>If I run <code>rg . foo.dng</code>, it will print the binary <code>.dng</code> file. The same occurs with <code>rg --no-binary . foo.dng</code>. This does <em>not</em> occur if I run <code>rg .</code>.</p>
<p>P.S. this is relevant to me because I have a utility that passes a list of files to Ripgrep. I expected Ripgrep to handle filtering out binary files from that list, as the Ripgrep documentation states.</p>
<h3>What are the steps to reproduce the behavior?</h3>
<p>Run <code>rg . FOO</code> where <code>FOO</code> is a binary file.</p>
<h3>What is the actual behavior?</h3>
<pre><code>â†’ rg --debug -l . foo.dng

DEBUG|globset|crates/globset/src/lib.rs:421: built glob set; 0 literals, 0 basenames, 12 extensions, 0 prefixes, 0 suffixes, 0 required extensions, 0 regexes
foo.dng
</code></pre>
<h3>What is the expected behavior?</h3>
<p>Ripgrep should return no matches.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="timeline-header">Comment by <a href="https://github.com/BurntSushi">@BurntSushi</a> on 2023-10-28 17:21</div>
            <div class="timeline-body"><p>This is correct behavior. I'm on mobile, but the docs should say that ripgrep always searches the contents of files that are given explicitly on the command line. If you need to filter that list, you need to do it before handing the list to ripgrep.</p>
</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Closed by @BurntSushi on 2023-10-28 17:21</div>
        </div>
        <div class="timeline-entry">
            <div class="event">Label <span class="label">wontfix</span> added by @BurntSushi on 2023-10-28 17:21</div>
        </div>
    </div>

    <footer>
        Synced at 2026-01-12 16:43:43 UTC
    </footer>
</body>
</html>
